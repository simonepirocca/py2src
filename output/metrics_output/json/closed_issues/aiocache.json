{"total_count": 181, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/argaen/aiocache/issues/493", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/493/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/493/events", "html_url": "https://github.com/argaen/aiocache/issues/493", "id": 630769708, "node_id": "MDU6SXNzdWU2MzA3Njk3MDg=", "number": 493, "title": "Caching Pandas Data Frame", "user": {"login": "mpekalski", "id": 2975068, "node_id": "MDQ6VXNlcjI5NzUwNjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2975068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpekalski", "html_url": "https://github.com/mpekalski", "followers_url": "https://api.github.com/users/mpekalski/followers", "following_url": "https://api.github.com/users/mpekalski/following{/other_user}", "gists_url": "https://api.github.com/users/mpekalski/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpekalski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpekalski/subscriptions", "organizations_url": "https://api.github.com/users/mpekalski/orgs", "repos_url": "https://api.github.com/users/mpekalski/repos", "events_url": "https://api.github.com/users/mpekalski/events{/privacy}", "received_events_url": "https://api.github.com/users/mpekalski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-04T12:13:41Z", "updated_at": "2020-06-05T10:08:52Z", "closed_at": "2020-06-05T10:08:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a method that returns Pandas' DataFrame. It is quite expensive to compute, hence the cache. I use `Cache.MEMORY`. The problem is I am getting an error when the cache clears itself:\r\n\r\n```\r\n[ERROR] asyncio:382 Exception in callback <bound method SimpleMemoryBackend.__delete of <class 'aiocache.backends.memory.SimpleMemoryCache'>>\r\nhandle: <TimerHandle SimpleMemoryBackend.__delete>\r\nTraceback (most recent call last):\r\n  File \"uvloop/cbhandles.pyx\", line 265, in uvloop.loop.TimerHandle._run\r\n  File \".local/share/virtualenvs/calculation-service-9S56WXHV/lib/python3.8/site-packages/aiocache/backends/memory.py\", line 101, in __delete\r\n    if cls._cache.pop(key, None):\r\n  File \".local/share/virtualenvs/calculation-service-9S56WXHV/lib/python3.8/site-packages/pandas/core/generic.py\", line 1478, in __nonzero__\r\n    raise ValueError(\r\nValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\r\n```\r\n\r\nThe problem is that `__delete` method does `pop()` from cache and assumes the popped item can be evaluated to boolean, which is not true for Pandas' DataFrame/Series. \r\n\r\n\r\n`aiocache/backends/memory.py`\r\n```\r\n    @classmethod\r\n    def __delete(cls, key):\r\n        if cls._cache.pop(key, None):\r\n            handle = cls._handlers.pop(key, None)\r\n            if handle:\r\n                handle.cancel()\r\n            return 1\r\n\r\n        return 0\r\n```\r\n\r\nMinimal (not) working example\r\n\r\n```\r\nimport asyncio\r\nloop = asyncio.get_event_loop()\r\nfrom aiocache import Cache\r\ncache = Cache(Cache.MEMORY) # Here you can also use Cache.REDIS and Cache.MEMCACHED, default is Cache.MEMORY\r\nloop.run_until_complete(cache.set(\"key\", \"value\"))\r\nloop.run_until_complete(cache.get(\"key\"))\r\n\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame({\"a\":[123], \"b\":[456]})\r\nloop.run_until_complete(cache.set(\"key2\", df))\r\nloop.run_until_complete(cache.get(\"key2\"))\r\nloop.run_until_complete(cache.delete(\"key2\"))\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/475", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/475/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/475/events", "html_url": "https://github.com/argaen/aiocache/issues/475", "id": 543814289, "node_id": "MDU6SXNzdWU1NDM4MTQyODk=", "number": 475, "title": "Use decorator on aiohttp route and not on a specific function", "user": {"login": "DaRoee", "id": 6276615, "node_id": "MDQ6VXNlcjYyNzY2MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6276615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DaRoee", "html_url": "https://github.com/DaRoee", "followers_url": "https://api.github.com/users/DaRoee/followers", "following_url": "https://api.github.com/users/DaRoee/following{/other_user}", "gists_url": "https://api.github.com/users/DaRoee/gists{/gist_id}", "starred_url": "https://api.github.com/users/DaRoee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DaRoee/subscriptions", "organizations_url": "https://api.github.com/users/DaRoee/orgs", "repos_url": "https://api.github.com/users/DaRoee/repos", "events_url": "https://api.github.com/users/DaRoee/events{/privacy}", "received_events_url": "https://api.github.com/users/DaRoee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-30T09:40:51Z", "updated_at": "2020-01-02T10:37:56Z", "closed_at": "2020-01-02T10:37:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, the usage for caching routes is to decorate a function the route is using, though what can be really cool is caching the whole route response.\r\nUsing it as a decorator for the route is making the response fail...\r\n\r\nI can implement it if you want, should be fairly quick and it's pretty much a requirement for my project :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/471", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/471/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/471/events", "html_url": "https://github.com/argaen/aiocache/issues/471", "id": 539682101, "node_id": "MDU6SXNzdWU1Mzk2ODIxMDE=", "number": 471, "title": "Add atomic flag", "user": {"login": "heckad", "id": 45011689, "node_id": "MDQ6VXNlcjQ1MDExNjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/45011689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heckad", "html_url": "https://github.com/heckad", "followers_url": "https://api.github.com/users/heckad/followers", "following_url": "https://api.github.com/users/heckad/following{/other_user}", "gists_url": "https://api.github.com/users/heckad/gists{/gist_id}", "starred_url": "https://api.github.com/users/heckad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heckad/subscriptions", "organizations_url": "https://api.github.com/users/heckad/orgs", "repos_url": "https://api.github.com/users/heckad/repos", "events_url": "https://api.github.com/users/heckad/events{/privacy}", "received_events_url": "https://api.github.com/users/heckad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-18T13:31:36Z", "updated_at": "2019-12-24T13:47:57Z", "closed_at": "2019-12-24T13:47:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, everybody. I propose to add the atomic flag which should protect function from many calls. For example now this code print 10 lines with 'hi'\r\n``` \r\nimport asyncio\r\n\r\nfrom aiocache import cached\r\n\r\n\r\n@cached()\r\nasync def func():\r\n    print('Hi')\r\n    await asyncio.sleep(10)\r\n    return 42\r\n\r\n\r\nasync def main():\r\n    await asyncio.wait([func() for _ in range(10)])\r\n\r\n\r\nasyncio.run(main())\r\n```\r\n\r\nIf add atomic flag then should be to print one 'hi'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/468", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/468/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/468/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/468/events", "html_url": "https://github.com/argaen/aiocache/issues/468", "id": 512316183, "node_id": "MDU6SXNzdWU1MTIzMTYxODM=", "number": 468, "title": "[Question] How do you get the cache key of a decorated function with arguments?", "user": {"login": "zrachlin", "id": 29631035, "node_id": "MDQ6VXNlcjI5NjMxMDM1", "avatar_url": "https://avatars0.githubusercontent.com/u/29631035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zrachlin", "html_url": "https://github.com/zrachlin", "followers_url": "https://api.github.com/users/zrachlin/followers", "following_url": "https://api.github.com/users/zrachlin/following{/other_user}", "gists_url": "https://api.github.com/users/zrachlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/zrachlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zrachlin/subscriptions", "organizations_url": "https://api.github.com/users/zrachlin/orgs", "repos_url": "https://api.github.com/users/zrachlin/repos", "events_url": "https://api.github.com/users/zrachlin/events{/privacy}", "received_events_url": "https://api.github.com/users/zrachlin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-25T05:47:16Z", "updated_at": "2019-12-05T10:21:11Z", "closed_at": "2019-12-05T10:21:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm struggling to figure out how to get the key of a decorated function with arguments.\r\n\r\n### Example:\r\n```\r\ncache = caches.get('default')\r\n\r\n@cached(alias='default')\r\nasync def test(arg1, arg2):\r\n    time.sleep(5)\r\n    return arg1+arg2\r\n\r\n@app.get(\"/\")\r\nasync def root(q1: str, q2: str):\r\n    message = await test(q1, q2)\r\n    return {\"message\": message}\r\n\r\n@app.get(\"/get_cached_function\")\r\nasync def check_cache(q1: str, q2: str):\r\n    result = cache.get(???) # What do I put here?\r\n    if result:\r\n         return f\"The result of function 'test' with q1 = {q1} and q2 = {q2} is in the cache\"\r\n    return f\"The result of function 'test' with q1 = {q1} and q2 = {q2} is NOT in the cache\"\r\n```\r\n\r\nIn this case, I want to know what key to look for in the cache to check if the function 'test' has been called and cached with two specific arguments, q1 and q2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/463", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/463/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/463/events", "html_url": "https://github.com/argaen/aiocache/issues/463", "id": 497670018, "node_id": "MDU6SXNzdWU0OTc2NzAwMTg=", "number": 463, "title": "cached decorator returns the same after waiting more than the ttl", "user": {"login": "euri10", "id": 1104190, "node_id": "MDQ6VXNlcjExMDQxOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1104190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/euri10", "html_url": "https://github.com/euri10", "followers_url": "https://api.github.com/users/euri10/followers", "following_url": "https://api.github.com/users/euri10/following{/other_user}", "gists_url": "https://api.github.com/users/euri10/gists{/gist_id}", "starred_url": "https://api.github.com/users/euri10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/euri10/subscriptions", "organizations_url": "https://api.github.com/users/euri10/orgs", "repos_url": "https://api.github.com/users/euri10/repos", "events_url": "https://api.github.com/users/euri10/events{/privacy}", "received_events_url": "https://api.github.com/users/euri10/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-24T12:54:12Z", "updated_at": "2019-09-25T07:46:20Z", "closed_at": "2019-09-24T17:13:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "greetings, I wrote the little below snippet to demonstrate my issue, I have a FastAPI (derived from Sarlette) route I decorated with a 1 second ttl. It returns a random int.\r\n\r\nI have 2 tests calling each the route twice:\r\n\r\n-  once back to back, this test works fine and return twice the same random number,\r\n\r\n- once waiting 3s (so more than the ttl) and this one fails. I would have expected that the random int generated in the route would be different the 2nd time in this case, as the ttl should have expired, which seems not to be the case,\r\n\r\nThere's a high probability I may be misusig the library though,\r\n\r\nedit: that's probably a misuse in the test context, should i serve the app it seems pressing f5 after the ttl expired the int generated is different, \r\n\r\nedit2: this seems like a pytest order issue, 2nd fails if both tests run, 2nd one suceeed if it runs alone\r\n\r\n```\r\nimport asyncio\r\nimport logging\r\nimport random\r\n\r\nimport pytest\r\n\r\nfrom aiocache import cached\r\nfrom async_asgi_testclient import TestClient\r\n\r\nfrom fastapi import FastAPI\r\n\r\napp = FastAPI()\r\n\r\nlogger = logging.getLogger(__name__)\r\nlogger.setLevel(logging.DEBUG)\r\n\r\n\r\n@app.get(\"/\")\r\n@cached(ttl=1)\r\nasync def home():\r\n    my_randint = random.randint(1, 10000)\r\n    logger.debug(f\"rand: {my_randint}\")\r\n    return {\"hello\": my_randint}\r\n\r\n\r\n@pytest.mark.asyncio\r\nasync def test_cache():\r\n    async with TestClient(app) as client:\r\n        response = await client.get(\"/\")\r\n        assert response.status_code == 200\r\n        cached_int = response.json().get(\"hello\")\r\n        logger.debug(cached_int)\r\n\r\n    async with TestClient(app) as client:\r\n        response = await client.get(\"/\")\r\n        assert response.status_code == 200\r\n        assert response.json().get(\"hello\") == cached_int\r\n        logger.debug(response.json().get(\"hello\"))\r\n\r\n\r\n@pytest.mark.asyncio\r\nasync def test_cache_wait_for_expire():\r\n    async with TestClient(app) as client:\r\n        response = await client.get(\"/\")\r\n        assert response.status_code == 200\r\n        cached_int = response.json().get(\"hello\")\r\n        logger.debug(cached_int)\r\n\r\n    await asyncio.sleep(5)\r\n\r\n    async with TestClient(app) as client:\r\n        response = await client.get(\"/\")\r\n        assert response.status_code == 200\r\n        assert response.json().get(\"hello\") != cached_int\r\n        logger.debug(response.json().get(\"hello\"))\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/460", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/460/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/460/events", "html_url": "https://github.com/argaen/aiocache/issues/460", "id": 474919378, "node_id": "MDU6SXNzdWU0NzQ5MTkzNzg=", "number": 460, "title": "Make sure aiocache can be imported without aioredis/aiomcache module", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-31T03:40:17Z", "updated_at": "2019-07-31T04:51:18Z", "closed_at": "2019-07-31T04:51:18Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Release 0.11.0 has broken this..", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/459", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/459/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/459/events", "html_url": "https://github.com/argaen/aiocache/issues/459", "id": 465026655, "node_id": "MDU6SXNzdWU0NjUwMjY2NTU=", "number": 459, "title": "Cannot from aiocache import Cache in version 0.10.1", "user": {"login": "Yuki-Kimura", "id": 35287161, "node_id": "MDQ6VXNlcjM1Mjg3MTYx", "avatar_url": "https://avatars3.githubusercontent.com/u/35287161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yuki-Kimura", "html_url": "https://github.com/Yuki-Kimura", "followers_url": "https://api.github.com/users/Yuki-Kimura/followers", "following_url": "https://api.github.com/users/Yuki-Kimura/following{/other_user}", "gists_url": "https://api.github.com/users/Yuki-Kimura/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yuki-Kimura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yuki-Kimura/subscriptions", "organizations_url": "https://api.github.com/users/Yuki-Kimura/orgs", "repos_url": "https://api.github.com/users/Yuki-Kimura/repos", "events_url": "https://api.github.com/users/Yuki-Kimura/events{/privacy}", "received_events_url": "https://api.github.com/users/Yuki-Kimura/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-08T02:27:55Z", "updated_at": "2019-07-31T06:36:46Z", "closed_at": "2019-07-31T03:27:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I checked `factory.py` in `site-packages/aiocache`, there was no `class Cache` found.\r\n\r\n```\r\n$ pip list | grep aiocache\r\naiocache           0.10.1\r\n$ python\r\nPython 3.6.5 (default, Dec 21 2018, 11:15:25)\r\n[GCC 4.8.4] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from aiocache import Cache\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: cannot import name 'Cache'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/456", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/456/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/456/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/456/events", "html_url": "https://github.com/argaen/aiocache/issues/456", "id": 436551621, "node_id": "MDU6SXNzdWU0MzY1NTE2MjE=", "number": 456, "title": "ImportError: cannot import name 'Cache' from 'aiocache'", "user": {"login": "lakenn", "id": 17800986, "node_id": "MDQ6VXNlcjE3ODAwOTg2", "avatar_url": "https://avatars2.githubusercontent.com/u/17800986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lakenn", "html_url": "https://github.com/lakenn", "followers_url": "https://api.github.com/users/lakenn/followers", "following_url": "https://api.github.com/users/lakenn/following{/other_user}", "gists_url": "https://api.github.com/users/lakenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/lakenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lakenn/subscriptions", "organizations_url": "https://api.github.com/users/lakenn/orgs", "repos_url": "https://api.github.com/users/lakenn/repos", "events_url": "https://api.github.com/users/lakenn/events{/privacy}", "received_events_url": "https://api.github.com/users/lakenn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-24T08:00:07Z", "updated_at": "2019-04-29T07:12:27Z", "closed_at": "2019-04-29T07:12:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "aiocache==0.10.1\r\n\r\ndoesn't have the latest changes.\r\n\r\nGot this error when running example:\r\nfrom aiocache import Cache\r\n\r\nImportError: cannot import name 'Cache' from 'aiocache'\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/455", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/455/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/455/events", "html_url": "https://github.com/argaen/aiocache/issues/455", "id": 431434967, "node_id": "MDU6SXNzdWU0MzE0MzQ5Njc=", "number": 455, "title": "@cached() swallows any exceptions in cache set", "user": {"login": "Suor", "id": 284103, "node_id": "MDQ6VXNlcjI4NDEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/284103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suor", "html_url": "https://github.com/Suor", "followers_url": "https://api.github.com/users/Suor/followers", "following_url": "https://api.github.com/users/Suor/following{/other_user}", "gists_url": "https://api.github.com/users/Suor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suor/subscriptions", "organizations_url": "https://api.github.com/users/Suor/orgs", "repos_url": "https://api.github.com/users/Suor/repos", "events_url": "https://api.github.com/users/Suor/events{/privacy}", "received_events_url": "https://api.github.com/users/Suor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-04-10T10:49:54Z", "updated_at": "2019-04-12T14:49:28Z", "closed_at": "2019-04-11T14:08:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had unpicklable object buried somewhere in function result I was trying to cache and caching was silently skipped for me.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/453", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/453/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/453/events", "html_url": "https://github.com/argaen/aiocache/issues/453", "id": 425415928, "node_id": "MDU6SXNzdWU0MjU0MTU5Mjg=", "number": 453, "title": "Add decorators API reference into docs", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-26T13:24:33Z", "updated_at": "2019-12-24T08:45:27Z", "closed_at": "2019-12-24T08:45:27Z", "author_association": "OWNER", "active_lock_reason": null, "body": "In the docs there are only two examples but don't cover all the functionality they provide, we should add the docstring in the public docs as it covers more things", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/451", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/451/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/451/events", "html_url": "https://github.com/argaen/aiocache/issues/451", "id": 422594880, "node_id": "MDU6SXNzdWU0MjI1OTQ4ODA=", "number": 451, "title": "Configure pyup with setup.cfg", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-19T08:13:42Z", "updated_at": "2019-06-04T15:27:19Z", "closed_at": "2019-06-04T15:27:19Z", "author_association": "OWNER", "active_lock_reason": null, "body": "https://github.com/pyupio/pyup/issues/137#issuecomment-375319272", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/449", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/449/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/449/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/449/events", "html_url": "https://github.com/argaen/aiocache/issues/449", "id": 419905175, "node_id": "MDU6SXNzdWU0MTk5MDUxNzU=", "number": 449, "title": "Example code does not work, cannot import Cache on 0.10.1", "user": {"login": "phdowling", "id": 876919, "node_id": "MDQ6VXNlcjg3NjkxOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/876919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phdowling", "html_url": "https://github.com/phdowling", "followers_url": "https://api.github.com/users/phdowling/followers", "following_url": "https://api.github.com/users/phdowling/following{/other_user}", "gists_url": "https://api.github.com/users/phdowling/gists{/gist_id}", "starred_url": "https://api.github.com/users/phdowling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phdowling/subscriptions", "organizations_url": "https://api.github.com/users/phdowling/orgs", "repos_url": "https://api.github.com/users/phdowling/repos", "events_url": "https://api.github.com/users/phdowling/events{/privacy}", "received_events_url": "https://api.github.com/users/phdowling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-12T10:19:26Z", "updated_at": "2019-03-12T14:31:27Z", "closed_at": "2019-03-12T14:31:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I do a fresh install via `pip install aiocache`, `from aiocache import Cache` does not work. Was that class newly added? I've validated that my version is 0.10.1.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/445", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/445/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/445/events", "html_url": "https://github.com/argaen/aiocache/issues/445", "id": 418295429, "node_id": "MDU6SXNzdWU0MTgyOTU0Mjk=", "number": 445, "title": "Give option to the user to NOT await for `cache.set` in decorators", "user": {"login": "Suor", "id": 284103, "node_id": "MDQ6VXNlcjI4NDEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/284103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suor", "html_url": "https://github.com/Suor", "followers_url": "https://api.github.com/users/Suor/followers", "following_url": "https://api.github.com/users/Suor/following{/other_user}", "gists_url": "https://api.github.com/users/Suor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suor/subscriptions", "organizations_url": "https://api.github.com/users/Suor/orgs", "repos_url": "https://api.github.com/users/Suor/repos", "events_url": "https://api.github.com/users/Suor/events{/privacy}", "received_events_url": "https://api.github.com/users/Suor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-03-07T12:57:32Z", "updated_at": "2019-03-19T09:02:11Z", "closed_at": "2019-03-19T09:01:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "During normal work I get timeouts messages like this:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/home/suor/projects/aiocache/aiocache/decorators.py\", line 108, in set_in_cache\r\n    await self.cache.set(key, value, ttl=self.ttl)\r\n  File \"/home/suor/projects/aiocache/aiocache/base.py\", line 58, in _enabled\r\n    return await func(*args, **kwargs)\r\n  File \"/home/suor/projects/aiocache/aiocache/base.py\", line 43, in _timeout\r\n    return await asyncio.wait_for(func(self, *args, **kwargs), timeout)\r\n  File \"/usr/lib/python3.6/asyncio/tasks.py\", line 362, in wait_for\r\n    raise futures.TimeoutError()\r\nconcurrent.futures._base.TimeoutError\r\n```\r\n\r\nThis is not stopping anything like exception should. I using cache cia `cached` decorator:\r\n```python\r\ndef filecache(basedir):\r\n    # Import from here since these are optional dependencies\r\n    from aiocache import cached\r\n    from aiocache.serializers import PickleSerializer\r\n    from aiofilecache import FileCache\r\n\r\n    return cached(cache=FileCache, serializer=PickleSerializer(),\r\n                  basedir=basedir)\r\n\r\n@filecache('some_dir')\r\n@fetch(url, ...):\r\n    # ...\r\n    return response\r\n```\r\n`aiofilecache` is a simple file cache, you ca see [here](https://github.com/Suor/aiofilecache). ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/442", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/442/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/442/events", "html_url": "https://github.com/argaen/aiocache/issues/442", "id": 405391678, "node_id": "MDU6SXNzdWU0MDUzOTE2Nzg=", "number": 442, "title": "Next Release", "user": {"login": "oldani", "id": 17304097, "node_id": "MDQ6VXNlcjE3MzA0MDk3", "avatar_url": "https://avatars1.githubusercontent.com/u/17304097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oldani", "html_url": "https://github.com/oldani", "followers_url": "https://api.github.com/users/oldani/followers", "following_url": "https://api.github.com/users/oldani/following{/other_user}", "gists_url": "https://api.github.com/users/oldani/gists{/gist_id}", "starred_url": "https://api.github.com/users/oldani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oldani/subscriptions", "organizations_url": "https://api.github.com/users/oldani/orgs", "repos_url": "https://api.github.com/users/oldani/repos", "events_url": "https://api.github.com/users/oldani/events{/privacy}", "received_events_url": "https://api.github.com/users/oldani/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-31T19:01:31Z", "updated_at": "2019-02-15T08:47:13Z", "closed_at": "2019-02-15T08:47:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, great work here.\r\n\r\nJust one thing, docs are not on equal with the latest version on PyPI. I mean docs are updated with the latest code but this code is not available on PyPI. Any date for it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/441", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/441/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/441/events", "html_url": "https://github.com/argaen/aiocache/issues/441", "id": 405065766, "node_id": "MDU6SXNzdWU0MDUwNjU3NjY=", "number": 441, "title": "JsonSerializer converts dictionaries keys to strings", "user": {"login": "haizaar", "id": 58201, "node_id": "MDQ6VXNlcjU4MjAx", "avatar_url": "https://avatars1.githubusercontent.com/u/58201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haizaar", "html_url": "https://github.com/haizaar", "followers_url": "https://api.github.com/users/haizaar/followers", "following_url": "https://api.github.com/users/haizaar/following{/other_user}", "gists_url": "https://api.github.com/users/haizaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/haizaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haizaar/subscriptions", "organizations_url": "https://api.github.com/users/haizaar/orgs", "repos_url": "https://api.github.com/users/haizaar/repos", "events_url": "https://api.github.com/users/haizaar/events{/privacy}", "received_events_url": "https://api.github.com/users/haizaar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-31T03:33:42Z", "updated_at": "2019-02-01T09:26:55Z", "closed_at": "2019-01-31T16:25:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Good day. aiocache==0.10.1 on Python 3.7.\r\n\r\nConsider the following snippet:\r\n\r\n```\r\n>>> cache = aiocache.SimpleMemoryCache(serializer=aiocache.serializers.JsonSerializer())\r\n>>> asyncio.run(cache.set(\"key\", {123: 'asdf'}))\r\nTrue\r\n>>> asyncio.run(cache.get(\"key\"))\r\n{'123': 'asdf'}\r\n```\r\n\r\nWhile I put `{123: 'asdf'}` in the cache, I got `{'123': 'asdf'}` back - they `1231 key became a string.\r\n\r\nWorks fine with Pickle serializer.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/435", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/435/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/435/events", "html_url": "https://github.com/argaen/aiocache/issues/435", "id": 397059270, "node_id": "MDU6SXNzdWUzOTcwNTkyNzA=", "number": 435, "title": "Use `raw` attribute for msgpack serializer", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-08T19:48:51Z", "updated_at": "2019-01-13T18:31:44Z", "closed_at": "2019-01-13T18:31:44Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Been seeing this warning for a while:\r\n```\r\n/home/blck/Projects/aiocache/aiocache/serializers.py:186: DeprecationWarning: encoding is deprecated, Use raw=False instead.\r\n    return msgpack.loads(value, encoding=self.encoding, use_list=self.use_list)\r\n```\r\n\r\nLets see what this `raw=False` does. Maybe we can even move the `encoding` attribute into the `BaseCache` since it seems its not needed in the serializers anymore.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/431", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/431/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/431/events", "html_url": "https://github.com/argaen/aiocache/issues/431", "id": 395964717, "node_id": "MDU6SXNzdWUzOTU5NjQ3MTc=", "number": 431, "title": "Investigate if user can be passed when creating a memcached and redis caches", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-04T15:27:59Z", "updated_at": "2019-01-08T20:37:18Z", "closed_at": "2019-01-08T20:37:17Z", "author_association": "OWNER", "active_lock_reason": null, "body": "There is no user param for it, maybe it just works passing it to the endpoint as `user@endpoint`. Should investigate that and maybe its worth to add the param. At least document that as I've got this question couple of times", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/428", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/428/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/428/events", "html_url": "https://github.com/argaen/aiocache/issues/428", "id": 389720505, "node_id": "MDU6SXNzdWUzODk3MjA1MDU=", "number": 428, "title": "API to instantiate a cache from a resource url", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-12-11T11:33:05Z", "updated_at": "2019-01-09T21:59:43Z", "closed_at": "2019-01-09T21:59:43Z", "author_association": "OWNER", "active_lock_reason": null, "body": "From https://github.com/encode/starlette/issues/252.\r\n\r\nLet's add an API to create caches from resource urls. First thing that comes to my mind is add support in `caches.create` call to do that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/427", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/427/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/427/events", "html_url": "https://github.com/argaen/aiocache/issues/427", "id": 386684904, "node_id": "MDU6SXNzdWUzODY2ODQ5MDQ=", "number": 427, "title": "RedisCache sets wrong ttl value", "user": {"login": "rubik", "id": 238549, "node_id": "MDQ6VXNlcjIzODU0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/238549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rubik", "html_url": "https://github.com/rubik", "followers_url": "https://api.github.com/users/rubik/followers", "following_url": "https://api.github.com/users/rubik/following{/other_user}", "gists_url": "https://api.github.com/users/rubik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rubik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rubik/subscriptions", "organizations_url": "https://api.github.com/users/rubik/orgs", "repos_url": "https://api.github.com/users/rubik/repos", "events_url": "https://api.github.com/users/rubik/events{/privacy}", "received_events_url": "https://api.github.com/users/rubik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-03T07:05:17Z", "updated_at": "2018-12-05T13:48:26Z", "closed_at": "2018-12-05T13:48:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I initialized the cache with `cache = RedisCache(ttl=10)`, but when I set a value, e.g.\r\n```\r\nawait cache.set('key', 'val')\r\n```\r\nit gets set with a ttl of 3600 for some reason. The problem seems to be here,\r\nhttps://github.com/argaen/aiocache/blob/master/aiocache/backends/redis.py#L111\r\nwhere the default ttl is not taken into account. The `BaseCache` class has a `ttl` argument so one expects the same to be true for `RedisCache` as well.\r\n\r\nEDIT: Actually the bug is worse, since even `await cache.set('key', 'val', 10)` results in a ttl of 3600 in Redis.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/426", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/426/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/426/events", "html_url": "https://github.com/argaen/aiocache/issues/426", "id": 385562810, "node_id": "MDU6SXNzdWUzODU1NjI4MTA=", "number": 426, "title": "Multi-processing aiocache", "user": {"login": "John-Gee", "id": 1646210, "node_id": "MDQ6VXNlcjE2NDYyMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1646210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/John-Gee", "html_url": "https://github.com/John-Gee", "followers_url": "https://api.github.com/users/John-Gee/followers", "following_url": "https://api.github.com/users/John-Gee/following{/other_user}", "gists_url": "https://api.github.com/users/John-Gee/gists{/gist_id}", "starred_url": "https://api.github.com/users/John-Gee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/John-Gee/subscriptions", "organizations_url": "https://api.github.com/users/John-Gee/orgs", "repos_url": "https://api.github.com/users/John-Gee/repos", "events_url": "https://api.github.com/users/John-Gee/events{/privacy}", "received_events_url": "https://api.github.com/users/John-Gee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-11-29T04:14:02Z", "updated_at": "2018-12-05T13:48:58Z", "closed_at": "2018-12-05T13:48:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nthis very well may not be an issue but a misconfiguration on my own. \r\nI'd appreciate help if that's the case.\r\n\r\nI'm using aiocache and aiohttp with Redis, all on the same host.\r\nI have decorated a wrapper around aiohttp.get as such:\r\n\r\n```\r\n@cached(ttl=604800, cache=RedisCache, serializer=PickleSerializer(),\r\n        port=6379, timeout=0)\r\nasync def get_page(url):\r\n    async with session.get(url) as resp:\r\n        dostuff()\r\n```\r\n\r\nMy problem is that I call this get_page function from different processes in a processpool, all with their own event loop and either aiocache or redis seems to not like that as I get:\r\n\r\n2018-11-28 20:03:44,266 aiocache.decorators ERROR    Couldn't retrieve get_page('https://www.site.com/')[], unexpected error\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/decorators.py\", line 124, in get_from_cache\r\n    value = await self.cache.get(key)\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/base.py\", line 61, in _enabled\r\n    return await func(*args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/base.py\", line 44, in _timeout\r\n    return await func(self, *args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/base.py\", line 75, in _plugins\r\n    ret = await func(self, *args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/base.py\", line 192, in get\r\n    value = loads(await self._get(ns_key, encoding=self.serializer.encoding, _conn=_conn))\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/backends/redis.py\", line 24, in wrapper\r\n    return await func(self, *args, _conn=_conn, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/aiocache/backends/redis.py\", line 100, in _get\r\n    return await _conn.get(key, encoding=encoding)\r\nRuntimeError: Task <Task pending coro=<func() running at file.py:88>> got Future <Future pending> attached to a different loop.\r\n\r\nHere's how I setup each new loop in the sub processes:\r\n\r\n```\r\n    loop = asyncio.new_event_loop()\r\n    asyncio.set_event_loop(loop)\r\n    session = aiohttp.ClientSession()\r\n    tasks = []\r\n    tasks.append(asyncio.ensure_future(dostuff2_that_calls_get_page(),\r\n                                       loop=loop))\r\n    loop.run_until_complete(asyncio.gather(*tasks, loop=loop))\r\n    loop.run_until_complete(session.close())\r\n```\r\n\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/423", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/423/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/423/events", "html_url": "https://github.com/argaen/aiocache/issues/423", "id": 379206525, "node_id": "MDU6SXNzdWUzNzkyMDY1MjU=", "number": 423, "title": "Unexpected TTL behavior for in-memory backend", "user": {"login": "minhtule", "id": 1637627, "node_id": "MDQ6VXNlcjE2Mzc2Mjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1637627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minhtule", "html_url": "https://github.com/minhtule", "followers_url": "https://api.github.com/users/minhtule/followers", "following_url": "https://api.github.com/users/minhtule/following{/other_user}", "gists_url": "https://api.github.com/users/minhtule/gists{/gist_id}", "starred_url": "https://api.github.com/users/minhtule/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minhtule/subscriptions", "organizations_url": "https://api.github.com/users/minhtule/orgs", "repos_url": "https://api.github.com/users/minhtule/repos", "events_url": "https://api.github.com/users/minhtule/events{/privacy}", "received_events_url": "https://api.github.com/users/minhtule/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-09T15:28:53Z", "updated_at": "2018-11-13T16:38:11Z", "closed_at": "2018-11-13T16:38:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For the in-memory backend, when I set a new value, the old TTL timer didn't get cancel and the new value is removed before its new TTL is expired.\r\n\r\nThe issue can be reproduced as follow.\r\n```python\r\nimport asyncio\r\nimport aiocache\r\n\r\nasync def print_key(cache, key):\r\n    value = await cache.get(key)\r\n    print(f'cached value {value}')\r\n\r\nasync def main():\r\n    in_mem_cache = aiocache.caches.get('default')\r\n\r\n    await in_mem_cache.set('foo', 100, ttl=2)\r\n\r\n    await asyncio.sleep(1)\r\n    await print_key(in_mem_cache, 'foo')  # 100\r\n\r\n    await in_mem_cache.set('foo', 200, ttl=2)  # This should reset the key's TTL\r\n\r\n    await asyncio.sleep(1)\r\n    await print_key(in_mem_cache, 'foo')  # None!  It should display the new value 200.\r\n\r\nif __name__ == '__main__':\r\n    loop = asyncio.get_event_loop()\r\n    loop.run_until_complete(main())\r\n```\r\n\r\nWhen I setup the `default` cache with a Redis backend, the 2nd print result is `200` as one would expect. So is this current behavior expected for the in-memory backend?\r\n\r\nIf it's a bug, I have [this PR](https://github.com/argaen/aiocache/pull/424) to cancel the existing TTL timer before setting the value and the in-memory behaves just like Redis.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/421", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/421/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/421/events", "html_url": "https://github.com/argaen/aiocache/issues/421", "id": 373087896, "node_id": "MDU6SXNzdWUzNzMwODc4OTY=", "number": 421, "title": "Allow dynamic cache setup", "user": {"login": "jsoucheiron", "id": 1830262, "node_id": "MDQ6VXNlcjE4MzAyNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1830262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsoucheiron", "html_url": "https://github.com/jsoucheiron", "followers_url": "https://api.github.com/users/jsoucheiron/followers", "following_url": "https://api.github.com/users/jsoucheiron/following{/other_user}", "gists_url": "https://api.github.com/users/jsoucheiron/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsoucheiron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsoucheiron/subscriptions", "organizations_url": "https://api.github.com/users/jsoucheiron/orgs", "repos_url": "https://api.github.com/users/jsoucheiron/repos", "events_url": "https://api.github.com/users/jsoucheiron/events{/privacy}", "received_events_url": "https://api.github.com/users/jsoucheiron/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-23T16:25:55Z", "updated_at": "2019-12-24T08:41:24Z", "closed_at": "2019-12-24T08:40:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We have a library that does http requests and we've added aiocache to it. By default this library class uses an in-memory cache.\r\nThis works very well, but for one of our services we want to be able to change the backend to something else. Right now the only way is to manually replace the .cache object manually at `__init__` time.\r\n\r\nWe'd need to find an elegant solution to allow this kind of configuration overload for libraries.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/418", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/418/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/418/events", "html_url": "https://github.com/argaen/aiocache/issues/418", "id": 359787495, "node_id": "MDU6SXNzdWUzNTk3ODc0OTU=", "number": 418, "title": "Add support for Python3.7", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-13T08:10:21Z", "updated_at": "2018-10-07T14:53:24Z", "closed_at": "2018-10-07T14:53:24Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Let's see what happens and add it to the build pipeline", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/416", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/416/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/416/events", "html_url": "https://github.com/argaen/aiocache/issues/416", "id": 359074792, "node_id": "MDU6SXNzdWUzNTkwNzQ3OTI=", "number": 416, "title": "Use function name when building the key in decorators", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-11T14:31:14Z", "updated_at": "2018-10-02T15:26:49Z", "closed_at": "2018-10-02T15:26:49Z", "author_association": "OWNER", "active_lock_reason": null, "body": "With actual behavior there are chances of having unwanted behavior of one function overriding the result of another\r\n\r\nhttps://github.com/argaen/aiocache/pull/400/ shows how to fix this. Next steps:\r\n\r\n- Ensure this is the behavior for all decorators\r\n- Fix tests\r\n\r\nPS: note this only affects when a key_builder function is passed, default behavior is correct", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/414", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/414/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/414/events", "html_url": "https://github.com/argaen/aiocache/issues/414", "id": 343093901, "node_id": "MDU6SXNzdWUzNDMwOTM5MDE=", "number": 414, "title": "Multi Cached decorartor Key Error", "user": {"login": "Racknaraock", "id": 41477241, "node_id": "MDQ6VXNlcjQxNDc3MjQx", "avatar_url": "https://avatars2.githubusercontent.com/u/41477241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Racknaraock", "html_url": "https://github.com/Racknaraock", "followers_url": "https://api.github.com/users/Racknaraock/followers", "following_url": "https://api.github.com/users/Racknaraock/following{/other_user}", "gists_url": "https://api.github.com/users/Racknaraock/gists{/gist_id}", "starred_url": "https://api.github.com/users/Racknaraock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Racknaraock/subscriptions", "organizations_url": "https://api.github.com/users/Racknaraock/orgs", "repos_url": "https://api.github.com/users/Racknaraock/repos", "events_url": "https://api.github.com/users/Racknaraock/events{/privacy}", "received_events_url": "https://api.github.com/users/Racknaraock/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-20T12:45:06Z", "updated_at": "2018-07-23T08:14:21Z", "closed_at": "2018-07-23T08:14:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nIm trying to use the multi chached decorator in this way:\r\n\r\n```\r\nmulti_cached(\"cursor\", cache=RedisCache, namespace='bkl')\r\nasync def load_list_in_cache(db):\r\n```\r\n  I think this is the proper way to do it, but a \r\n\r\n> keyError:'cursor' appears. \r\n\r\nSome idea about the problem ?\r\nThe returned data by this function is a Json", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/413", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/413/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/413/events", "html_url": "https://github.com/argaen/aiocache/issues/413", "id": 335072584, "node_id": "MDU6SXNzdWUzMzUwNzI1ODQ=", "number": 413, "title": "Get TTL from a set key", "user": {"login": "smlbiobot", "id": 25040297, "node_id": "MDQ6VXNlcjI1MDQwMjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/25040297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smlbiobot", "html_url": "https://github.com/smlbiobot", "followers_url": "https://api.github.com/users/smlbiobot/followers", "following_url": "https://api.github.com/users/smlbiobot/following{/other_user}", "gists_url": "https://api.github.com/users/smlbiobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/smlbiobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smlbiobot/subscriptions", "organizations_url": "https://api.github.com/users/smlbiobot/orgs", "repos_url": "https://api.github.com/users/smlbiobot/repos", "events_url": "https://api.github.com/users/smlbiobot/events{/privacy}", "received_events_url": "https://api.github.com/users/smlbiobot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-23T06:04:18Z", "updated_at": "2018-06-24T18:47:39Z", "closed_at": "2018-06-23T16:08:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Fantastic library! Is there a way to get the TTL from an existing key? I would like to show the time remaining on a key but I am not entirely sure if that\u2019s possible reading the docs.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/411", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/411/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/411/events", "html_url": "https://github.com/argaen/aiocache/issues/411", "id": 334425882, "node_id": "MDU6SXNzdWUzMzQ0MjU4ODI=", "number": 411, "title": "Could you use getLogger(__name__) instead of getLogger(__file__)", "user": {"login": "mmamkin", "id": 24380990, "node_id": "MDQ6VXNlcjI0MzgwOTkw", "avatar_url": "https://avatars1.githubusercontent.com/u/24380990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmamkin", "html_url": "https://github.com/mmamkin", "followers_url": "https://api.github.com/users/mmamkin/followers", "following_url": "https://api.github.com/users/mmamkin/following{/other_user}", "gists_url": "https://api.github.com/users/mmamkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmamkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmamkin/subscriptions", "organizations_url": "https://api.github.com/users/mmamkin/orgs", "repos_url": "https://api.github.com/users/mmamkin/repos", "events_url": "https://api.github.com/users/mmamkin/events{/privacy}", "received_events_url": "https://api.github.com/users/mmamkin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-21T10:09:19Z", "updated_at": "2018-06-22T11:20:59Z", "closed_at": "2018-06-22T11:20:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/argaen/aiocache/blob/e2e8806f91893986ec98dde719b32b48937fe19c/aiocache/base.py#L10\r\nIt's unable to filter out log messages of this module with your current solution ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/409", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/409/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/409/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/409/events", "html_url": "https://github.com/argaen/aiocache/issues/409", "id": 333838125, "node_id": "MDU6SXNzdWUzMzM4MzgxMjU=", "number": 409, "title": "Use black", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 721677938, "node_id": "MDU6TGFiZWw3MjE2Nzc5Mzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-19T21:03:14Z", "updated_at": "2018-06-20T22:29:40Z", "closed_at": "2018-06-20T22:29:40Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Too annoying to review syntax, let's use black for auto formatting and also fail the pipeline if its not well formatted.\r\n\r\nreminder: update CONTRIBUTING.md", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/407", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/407/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/407/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/407/events", "html_url": "https://github.com/argaen/aiocache/issues/407", "id": 332786499, "node_id": "MDU6SXNzdWUzMzI3ODY0OTk=", "number": 407, "title": "Increase in number of connections for Redis when updating from 0.3.4", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 508776222, "node_id": "MDU6TGFiZWw1MDg3NzYyMjI=", "url": "https://api.github.com/repos/argaen/aiocache/labels/needs%20investigation", "name": "needs investigation", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-15T14:02:49Z", "updated_at": "2018-11-30T13:24:20Z", "closed_at": "2018-11-30T13:24:20Z", "author_association": "OWNER", "active_lock_reason": null, "body": "0.3.4 is super old version but when updating one of our stacks to latest version `~=0.9.0` we've noticed a huge increase on number of connections to the cache. On top of my head there are three things to check in order to investigate the issue:\r\n\r\n- Wrong pattern implemented when migrating to 0.9.0. In old versions there was no cache manager yet so maybe there is something we are not doing correctly when migrating.\r\n- There is a bug in the code and we are creating more connection pools to redis than we are supposed to.\r\n- The code to retrieve a connection https://github.com/argaen/aiocache/blob/master/aiocache/backends/redis.py#L14 is wrong somehow and in previous versions maybe we had connection reusage? Need to check old code...\r\n\r\nTo investigate this, it would be ideal to have a snippet to reproduce the behavior we have in PROD and see how number of connections is increasing\r\n\r\n![screen shot 2018-06-15 at 4 04 36 pm](https://user-images.githubusercontent.com/3578154/41472241-218f4a94-70b6-11e8-8ed4-7ef538aaf717.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/406", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/406/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/406/events", "html_url": "https://github.com/argaen/aiocache/issues/406", "id": 332395144, "node_id": "MDU6SXNzdWUzMzIzOTUxNDQ=", "number": 406, "title": "Release new version", "user": {"login": "underyx", "id": 1060436, "node_id": "MDQ6VXNlcjEwNjA0MzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1060436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underyx", "html_url": "https://github.com/underyx", "followers_url": "https://api.github.com/users/underyx/followers", "following_url": "https://api.github.com/users/underyx/following{/other_user}", "gists_url": "https://api.github.com/users/underyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/underyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underyx/subscriptions", "organizations_url": "https://api.github.com/users/underyx/orgs", "repos_url": "https://api.github.com/users/underyx/repos", "events_url": "https://api.github.com/users/underyx/events{/privacy}", "received_events_url": "https://api.github.com/users/underyx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-14T13:07:41Z", "updated_at": "2018-06-17T22:11:57Z", "closed_at": "2018-06-17T21:44:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "The feature in https://github.com/argaen/aiocache/commit/6d95ea9d7698b49a5590132f14673f97f3edbefb has been merged as part of https://github.com/argaen/aiocache/pull/404 but not released. It's a super amazing cool feature though! \ud83e\udd84\ud83c\udf08\r\n\r\nMaybe it's time to publish a new release? \ud83d\ude43", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/402", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/402/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/402/events", "html_url": "https://github.com/argaen/aiocache/issues/402", "id": 321818939, "node_id": "MDU6SXNzdWUzMjE4MTg5Mzk=", "number": 402, "title": "diskcache backend support?", "user": {"login": "tehfink", "id": 122166, "node_id": "MDQ6VXNlcjEyMjE2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/122166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tehfink", "html_url": "https://github.com/tehfink", "followers_url": "https://api.github.com/users/tehfink/followers", "following_url": "https://api.github.com/users/tehfink/following{/other_user}", "gists_url": "https://api.github.com/users/tehfink/gists{/gist_id}", "starred_url": "https://api.github.com/users/tehfink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tehfink/subscriptions", "organizations_url": "https://api.github.com/users/tehfink/orgs", "repos_url": "https://api.github.com/users/tehfink/repos", "events_url": "https://api.github.com/users/tehfink/events{/privacy}", "received_events_url": "https://api.github.com/users/tehfink/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-10T05:58:31Z", "updated_at": "2018-05-13T10:00:19Z", "closed_at": "2018-05-13T10:00:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Very interesting project!\r\n\r\nWhat do you think of supporting diskcache:\r\nhttps://github.com/grantjenks/python-diskcache", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/399", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/399/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/399/events", "html_url": "https://github.com/argaen/aiocache/issues/399", "id": 318017843, "node_id": "MDU6SXNzdWUzMTgwMTc4NDM=", "number": 399, "title": "key_builder does not receive function name", "user": {"login": "AFriemann", "id": 1730315, "node_id": "MDQ6VXNlcjE3MzAzMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1730315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AFriemann", "html_url": "https://github.com/AFriemann", "followers_url": "https://api.github.com/users/AFriemann/followers", "following_url": "https://api.github.com/users/AFriemann/following{/other_user}", "gists_url": "https://api.github.com/users/AFriemann/gists{/gist_id}", "starred_url": "https://api.github.com/users/AFriemann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AFriemann/subscriptions", "organizations_url": "https://api.github.com/users/AFriemann/orgs", "repos_url": "https://api.github.com/users/AFriemann/repos", "events_url": "https://api.github.com/users/AFriemann/events{/privacy}", "received_events_url": "https://api.github.com/users/AFriemann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-26T12:57:05Z", "updated_at": "2018-10-02T15:46:26Z", "closed_at": "2018-10-02T15:46:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nis there a specific reason why the key_builder callable does not receive the function?\r\n\r\nI'm running a python service with multiple processes and containers and would like to cache some function results globally, that means the default key doesn't quite cut it. However without the function name it is quite hard to find a unique name for keys.\r\n\r\nIf there is no particular reason for not handing over the function as it is done for the default key function I'd write up a PR later.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/396", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/396/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/396/events", "html_url": "https://github.com/argaen/aiocache/issues/396", "id": 317550038, "node_id": "MDU6SXNzdWUzMTc1NTAwMzg=", "number": 396, "title": "Importing msgpack should be wrapped with try catch", "user": {"login": "bitrut", "id": 283447, "node_id": "MDQ6VXNlcjI4MzQ0Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/283447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitrut", "html_url": "https://github.com/bitrut", "followers_url": "https://api.github.com/users/bitrut/followers", "following_url": "https://api.github.com/users/bitrut/following{/other_user}", "gists_url": "https://api.github.com/users/bitrut/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitrut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitrut/subscriptions", "organizations_url": "https://api.github.com/users/bitrut/orgs", "repos_url": "https://api.github.com/users/bitrut/repos", "events_url": "https://api.github.com/users/bitrut/events{/privacy}", "received_events_url": "https://api.github.com/users/bitrut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-25T09:35:00Z", "updated_at": "2018-04-26T21:44:47Z", "closed_at": "2018-04-26T21:44:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Since #370, there is optional `MessagePackSerializer`, but `msgpack` is in `extras_require`, so this [import](https://github.com/argaen/aiocache/blob/master/aiocache/serializers.py#L3) should be wrapped with:\r\n```python\r\ntry:\r\n    import msgpack\r\nexcept ImportError:\r\n    pass\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/390", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/390/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/390/events", "html_url": "https://github.com/argaen/aiocache/issues/390", "id": 307387100, "node_id": "MDU6SXNzdWUzMDczODcxMDA=", "number": 390, "title": "Fix sphinx builds to show API reference", "user": {"login": "smlbiobot", "id": 25040297, "node_id": "MDQ6VXNlcjI1MDQwMjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/25040297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smlbiobot", "html_url": "https://github.com/smlbiobot", "followers_url": "https://api.github.com/users/smlbiobot/followers", "following_url": "https://api.github.com/users/smlbiobot/following{/other_user}", "gists_url": "https://api.github.com/users/smlbiobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/smlbiobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smlbiobot/subscriptions", "organizations_url": "https://api.github.com/users/smlbiobot/orgs", "repos_url": "https://api.github.com/users/smlbiobot/repos", "events_url": "https://api.github.com/users/smlbiobot/events{/privacy}", "received_events_url": "https://api.github.com/users/smlbiobot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-21T19:28:25Z", "updated_at": "2018-03-23T10:14:57Z", "closed_at": "2018-03-21T21:38:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use the `@cache` decorator, the key needs to be set on the decorator, but I have many caches where I would like to set a `ttl` of 60 seconds but are in fact database queries. How would I go about setting those keys \u2014\u00a0is `ttl` an option for `cache.set` ? And if it is, how do I know when it the data is stale? Does it auto-delete itself such that when I call `cache.get` it will return None?\r\n\r\nThanks in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/389", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/389/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/389/events", "html_url": "https://github.com/argaen/aiocache/issues/389", "id": 305907057, "node_id": "MDU6SXNzdWUzMDU5MDcwNTc=", "number": 389, "title": "UnboundLocalError when using cached_stampede", "user": {"login": "borisnaydis", "id": 24412929, "node_id": "MDQ6VXNlcjI0NDEyOTI5", "avatar_url": "https://avatars0.githubusercontent.com/u/24412929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/borisnaydis", "html_url": "https://github.com/borisnaydis", "followers_url": "https://api.github.com/users/borisnaydis/followers", "following_url": "https://api.github.com/users/borisnaydis/following{/other_user}", "gists_url": "https://api.github.com/users/borisnaydis/gists{/gist_id}", "starred_url": "https://api.github.com/users/borisnaydis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/borisnaydis/subscriptions", "organizations_url": "https://api.github.com/users/borisnaydis/orgs", "repos_url": "https://api.github.com/users/borisnaydis/repos", "events_url": "https://api.github.com/users/borisnaydis/events{/privacy}", "received_events_url": "https://api.github.com/users/borisnaydis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-16T12:19:02Z", "updated_at": "2018-04-04T15:36:05Z", "closed_at": "2018-04-04T15:36:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `@cached_stampede` decorator throws `UnboundLocalError` when a decorated function is called multiple times when cache is empty.\r\n\r\n### Error:\r\n```\r\nError handling request\r\nTraceback (most recent call last):\r\n  File \"C:\\Git\\test_project\\.venv\\Lib\\site-packages\\aiohttp\\web_protocol.py\", line 410, in start\r\n    resp = yield from self._request_handler(request)\r\n  File \"C:\\Git\\test_project\\.venv\\Lib\\site-packages\\aiohttp\\web.py\", line 325, in _handle\r\n    resp = yield from handler(request)\r\n  File \"C:\\Git\\test_project\\.venv\\Lib\\site-packages\\aiohttp\\web_middlewares.py\", line 93, in impl\r\n    return (yield from handler(request))\r\n  File \"<ipython-input-1-bfa0dca86818>\", line 15, in test\r\n    await test_func(val)\r\n  File \"C:\\Git\\test_project\\.venv\\Lib\\site-packages\\aiocache\\decorators.py\", line 69, in wrapper\r\n    return await self.decorator(f, *args, **kwargs)\r\n  File \"C:\\Git\\test_project\\.venv\\Lib\\site-packages\\aiocache\\decorators.py\", line 170, in decorator\r\n    return result\r\nUnboundLocalError: local variable 'result' referenced before assignment\r\n```\r\n\r\n### Steps to reproduce:\r\n1. Start application\r\n```python\r\nimport asyncio\r\nfrom aiocache import cached_stampede\r\nfrom aiohttp import web\r\n\r\n@cached_stampede(ttl=5, lease=1)\r\nasync def test_func(val):\r\n    await asyncio.sleep(5)\r\n\r\nasync def test(request):\r\n    val = request.match_info['val']\r\n    await test_func(val)\r\n    return web.Response(text=f\"Val is {val}\")\r\n\r\napp = web.Application()\r\napp.router.add_get('/{val}', test)\r\nweb.run_app(app)\r\n```\r\n\r\n2. Go to http://localhost:8080/anything_you_like\r\n\r\n3. Hit the F5 key fast several times.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/388", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/388/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/388/events", "html_url": "https://github.com/argaen/aiocache/issues/388", "id": 304332503, "node_id": "MDU6SXNzdWUzMDQzMzI1MDM=", "number": 388, "title": "add warning in multi_cached docs about reusing keys", "user": {"login": "jcugat", "id": 488594, "node_id": "MDQ6VXNlcjQ4ODU5NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/488594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcugat", "html_url": "https://github.com/jcugat", "followers_url": "https://api.github.com/users/jcugat/followers", "following_url": "https://api.github.com/users/jcugat/following{/other_user}", "gists_url": "https://api.github.com/users/jcugat/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcugat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcugat/subscriptions", "organizations_url": "https://api.github.com/users/jcugat/orgs", "repos_url": "https://api.github.com/users/jcugat/repos", "events_url": "https://api.github.com/users/jcugat/events{/privacy}", "received_events_url": "https://api.github.com/users/jcugat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-12T11:22:47Z", "updated_at": "2019-01-09T23:14:05Z", "closed_at": "2019-01-09T23:14:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With the `@cached` decorator, there's no problem in using it with different methods since it will create different prefixes based on the method signature.\r\n\r\n```py\r\n@cached(alias='default')\r\nasync def foo1(self):\r\n    return 1\r\n\r\n@cached(alias='default')\r\nasync def foo2(self):\r\n    return 2\r\n\r\nassert await foo1() == 1\r\nassert await foo2() == 2\r\n```\r\n\r\nI found a bit surprising that it's not the same for `@multi_cached`, this example will create clashing keys if the identifiers are the same:\r\n\r\n\r\n```py\r\n@multi_cached('entity_ids', alias='default')\r\nasync def multi1(self, entity_ids):\r\n    return {num: num for num in entity_ids}\r\n\r\n@multi_cached('entity_ids', alias='default')\r\nasync def multi2(self, entity_ids):\r\n    return {num: num*2 for num in entity_ids}\r\n\r\n# This works\r\nassert await multi1(entity_ids=[1, 2]) == {1: 1, 2: 2}\r\n# This would fail, since it would return the cached results from the previous call\r\nassert await multi2(entity_ids=[1, 2]) == {1: 2, 2: 4}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/386", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/386/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/386/events", "html_url": "https://github.com/argaen/aiocache/issues/386", "id": 304318648, "node_id": "MDU6SXNzdWUzMDQzMTg2NDg=", "number": 386, "title": "Disable decorator cache per-call", "user": {"login": "jcugat", "id": 488594, "node_id": "MDQ6VXNlcjQ4ODU5NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/488594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcugat", "html_url": "https://github.com/jcugat", "followers_url": "https://api.github.com/users/jcugat/followers", "following_url": "https://api.github.com/users/jcugat/following{/other_user}", "gists_url": "https://api.github.com/users/jcugat/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcugat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcugat/subscriptions", "organizations_url": "https://api.github.com/users/jcugat/orgs", "repos_url": "https://api.github.com/users/jcugat/repos", "events_url": "https://api.github.com/users/jcugat/events{/privacy}", "received_events_url": "https://api.github.com/users/jcugat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-12T10:39:01Z", "updated_at": "2018-05-27T18:29:39Z", "closed_at": "2018-05-27T18:29:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Sometimes we want to disable the cache for specific calls to a decorated method.\r\n\r\nAdding a keyword argument (like `aiocache_disable=True`) that is consumed by the decorators and disables the cache for that specific call.\r\n\r\nIn this case, we don't try to load from the cache, but should we cache the result? My guess would be no, but interested in your thoughts around this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/385", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/385/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/385/events", "html_url": "https://github.com/argaen/aiocache/issues/385", "id": 304317234, "node_id": "MDU6SXNzdWUzMDQzMTcyMzQ=", "number": 385, "title": "Better way to add single entries to cache config", "user": {"login": "jcugat", "id": 488594, "node_id": "MDQ6VXNlcjQ4ODU5NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/488594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcugat", "html_url": "https://github.com/jcugat", "followers_url": "https://api.github.com/users/jcugat/followers", "following_url": "https://api.github.com/users/jcugat/following{/other_user}", "gists_url": "https://api.github.com/users/jcugat/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcugat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcugat/subscriptions", "organizations_url": "https://api.github.com/users/jcugat/orgs", "repos_url": "https://api.github.com/users/jcugat/repos", "events_url": "https://api.github.com/users/jcugat/events{/privacy}", "received_events_url": "https://api.github.com/users/jcugat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-12T10:34:28Z", "updated_at": "2019-01-21T17:16:43Z", "closed_at": "2019-01-21T17:16:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If I want to add a single new configuration cache without removing existing ones, I have to do some work in the `set_config()` call:\r\n\r\n```py\r\ncaches.set_config({\r\n    **caches.get_config(),\r\n    'new_cache': {\r\n        'cache': 'aiocache.SimpleMemoryCache',\r\n        'namespace': 'new_namespace',\r\n    },\r\n})\r\n```\r\n\r\nWhat do you think about adding a new method, `add_config(name, <params>)` that just adds a new configuration cache?\r\n\r\n```py\r\ncaches.add_config('new_cache', cache='aiocache.SimpleMemoryCache', namespace='new_namespace')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/384", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/384/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/384/events", "html_url": "https://github.com/argaen/aiocache/issues/384", "id": 304315751, "node_id": "MDU6SXNzdWUzMDQzMTU3NTE=", "number": 384, "title": "Allow lazy references to caches", "user": {"login": "jcugat", "id": 488594, "node_id": "MDQ6VXNlcjQ4ODU5NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/488594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcugat", "html_url": "https://github.com/jcugat", "followers_url": "https://api.github.com/users/jcugat/followers", "following_url": "https://api.github.com/users/jcugat/following{/other_user}", "gists_url": "https://api.github.com/users/jcugat/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcugat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcugat/subscriptions", "organizations_url": "https://api.github.com/users/jcugat/orgs", "repos_url": "https://api.github.com/users/jcugat/repos", "events_url": "https://api.github.com/users/jcugat/events{/privacy}", "received_events_url": "https://api.github.com/users/jcugat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-12T10:29:59Z", "updated_at": "2018-10-02T15:48:30Z", "closed_at": "2018-10-02T15:48:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In my use-case, I want to initialize the caches at class creation, but still be able to reference that cache in the decorators of the same class.\r\n\r\n```py\r\nclass CachedClass:\r\n\r\n    def __init__(self, *args, **kwargs):\r\n        super().__init__(*args, kwargs)\r\n        caches.set_config({\r\n            **caches.get_config(),\r\n            'alt': {\r\n                'cache': 'aiocache.SimpleMemoryCache',\r\n            },\r\n        })\r\n\r\n    @cached(alias='alt')\r\n    async def something_cached(self):\r\n        return await do_stuff()\r\n```\r\n\r\nThe downside I see if we allow this, is that missing caches would only be catched at runtime, for example:\r\n\r\n```py\r\nclass CachedClass:\r\n\r\n    def __init__(self, *args, **kwargs):\r\n        super().__init__(*args, kwargs)\r\n        caches.set_config({\r\n            **caches.get_config(),\r\n            'alt': {\r\n                'cache': 'aiocache.SimpleMemoryCache',\r\n            },\r\n        })\r\n\r\n    @cached(alias='alt_with_typo')\r\n    async def something_cached(self):\r\n        return await do_stuff()\r\n```\r\n\r\nSince we are referencing a non-existing cache, we would only notice at the first call of the `something_cached` method.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/381", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/381/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/381/events", "html_url": "https://github.com/argaen/aiocache/issues/381", "id": 293152767, "node_id": "MDU6SXNzdWUyOTMxNTI3Njc=", "number": 381, "title": "Plugins and loads_fn/dumps_fn", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-31T13:11:40Z", "updated_at": "2018-10-02T16:37:13Z", "closed_at": "2018-10-02T15:47:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a setup similar to your example using the two plugins you have.\r\n\r\n    d = {\r\n        'cache': \"aiocache.RedisCache\",\r\n        'serializer': {\r\n            'class': environ.get('AIOCACHE_SERIALIZER')\r\n        },\r\n        'plugins': [\r\n            {'class': \"aiocache.plugins.HitMissRatioPlugin\"},\r\n            {'class': \"aiocache.plugins.TimingPlugin\"}\r\n        ],\r\n    }\r\n\r\nI wanted to bypass the serializer for one routine that I have that I have (because I wanted to leverage the `increment` feature which does not seem to work with serialized data). \r\n\r\nI added `loads_fn` and `dumps_fn`, but this caused the below exception. When removing the plugins, it worked as expected.\r\n\r\n      File \"/usr/src/app/lib/cache/__init__.py\", line 40, in get\r\n        value = await self.cache.get(key, *args, **kwargs)\r\n      File \"/usr/local/lib/python3.6/site-packages/aiocache/base.py\", line 58, in _enabled\r\n        return await func(*args, **kwargs)\r\n      File \"/usr/local/lib/python3.6/site-packages/aiocache/base.py\", line 43, in _timeout\r\n        return await asyncio.wait_for(func(self, *args, **kwargs), timeout)\r\n      File \"/usr/local/lib/python3.6/asyncio/tasks.py\", line 358, in wait_for\r\n        return fut.result()\r\n      File \"/usr/local/lib/python3.6/site-packages/aiocache/base.py\", line 77, in _plugins\r\n        self, *args, took=end - start, ret=ret, **kwargs)\r\n    TypeError: post_get() got an unexpected keyword argument 'loads_fn'\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/380", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/380/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/380/events", "html_url": "https://github.com/argaen/aiocache/issues/380", "id": 290536967, "node_id": "MDU6SXNzdWUyOTA1MzY5Njc=", "number": 380, "title": "MsgPack exception - use_list=False", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-22T16:51:15Z", "updated_at": "2018-04-03T21:07:38Z", "closed_at": "2018-04-03T21:07:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I know you removed the `use_list` option in the `loads` method when deserializing. See #370 \r\n\r\nHowever, I think it should be added back, even with an overwritable default. Without it, it **will** cause a difficult to diagnose exception. \r\n\r\nSecond, I see you added the `encoding` option. It looks like that is being depracated: https://github.com/msgpack/msgpack-python#deprecating-encoding-option\r\n\r\nI would suggest going back to \r\n\r\n```python\r\n    @classmethod\r\n    def loads(cls, value, use_list=False):\r\n        \"\"\"\r\n        Deserialize value using ``msgpack.loads``.\r\n\r\n        :param value: bytes\r\n        :returns: obj\r\n        \"\"\"\r\n        if value is None:\r\n            return None\r\n        return msgpack.loads(value, use_list=use_list)\r\n```\r\n\r\nFurthermore, I am trying to use it with a simple string loaded serializer: `aiocache.serializers.MsgPackSerializer`. Which, to me means adding some sensible defaults.\r\n\r\n    {\r\n        'cache': \"aiocache.RedisCache\",\r\n        'serializer': {\r\n            'class': \"aiocache.serializers.MessagePackSerializer\"\r\n        },\r\n        'plugins': [\r\n            {'class': \"aiocache.plugins.HitMissRatioPlugin\"},\r\n            {'class': \"aiocache.plugins.TimingPlugin\"}\r\n        ],\r\n    }", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/378", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/378/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/378/events", "html_url": "https://github.com/argaen/aiocache/issues/378", "id": 288884080, "node_id": "MDU6SXNzdWUyODg4ODQwODA=", "number": 378, "title": "MsgPack should not be importable if msgpack not installed", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-16T12:07:25Z", "updated_at": "2019-01-10T16:25:01Z", "closed_at": "2019-01-10T16:25:01Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/377", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/377/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/377/events", "html_url": "https://github.com/argaen/aiocache/issues/377", "id": 288877782, "node_id": "MDU6SXNzdWUyODg4Nzc3ODI=", "number": 377, "title": "Refactor serializers to instances instead of classes", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-16T11:44:04Z", "updated_at": "2018-01-23T14:48:26Z", "closed_at": "2018-01-23T14:48:26Z", "author_association": "OWNER", "active_lock_reason": null, "body": "There is a mix in the code between class or instance usage. After adding `msgpack` I need to pass an attribute at initialization and with current design this is not possible.\r\n\r\n- [ ] Should check if this breaks compatibility. Shouldn't because serializers are only being used internally. Will need to put a big disclaimer though in the release notes about this.\r\n- [ ] MsgPack should receive `use_list` param in the constructor\r\n- [ ] `encoding` param would be interesting also to be passed in the constructor. Will need to check though if really needed.\r\n- [ ] Validate that factory can define serializers in config and pass those extra params.\r\n- [ ] Why are we inheriting from StringSerializer?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/372", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/372/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/372/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/372/events", "html_url": "https://github.com/argaen/aiocache/issues/372", "id": 286698963, "node_id": "MDU6SXNzdWUyODY2OTg5NjM=", "number": 372, "title": "Add disclaimer about timeout and not rolling back", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-08T10:15:03Z", "updated_at": "2019-01-09T23:14:05Z", "closed_at": "2019-01-09T23:14:05Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Plugins are also protected, we should put a disclaimer about it", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/367", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/367/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/367/events", "html_url": "https://github.com/argaen/aiocache/issues/367", "id": 283543557, "node_id": "MDU6SXNzdWUyODM1NDM1NTc=", "number": 367, "title": "Support timeout for create_redis_pool from aioredis v1.0", "user": {"login": "tmarques82", "id": 2434771, "node_id": "MDQ6VXNlcjI0MzQ3NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2434771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmarques82", "html_url": "https://github.com/tmarques82", "followers_url": "https://api.github.com/users/tmarques82/followers", "following_url": "https://api.github.com/users/tmarques82/following{/other_user}", "gists_url": "https://api.github.com/users/tmarques82/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmarques82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmarques82/subscriptions", "organizations_url": "https://api.github.com/users/tmarques82/orgs", "repos_url": "https://api.github.com/users/tmarques82/repos", "events_url": "https://api.github.com/users/tmarques82/events{/privacy}", "received_events_url": "https://api.github.com/users/tmarques82/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-20T12:13:11Z", "updated_at": "2018-01-16T11:04:46Z", "closed_at": "2018-01-16T11:04:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "aiocache supports different versions from aioredis. In the latest, the new function create_redis_pool is used to create the pool of connections to redis.\r\n\r\nOne of the improvements there is that a timeout can be sent to this function. To be consistent to aioredis notation, a parameter called create_connection_timeout could be used for this timeout configuration", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/366", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/366/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/366/events", "html_url": "https://github.com/argaen/aiocache/issues/366", "id": 281669487, "node_id": "MDU6SXNzdWUyODE2Njk0ODc=", "number": 366, "title": "use @multi_cached get error when method return None", "user": {"login": "qq453655422", "id": 3030378, "node_id": "MDQ6VXNlcjMwMzAzNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/3030378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qq453655422", "html_url": "https://github.com/qq453655422", "followers_url": "https://api.github.com/users/qq453655422/followers", "following_url": "https://api.github.com/users/qq453655422/following{/other_user}", "gists_url": "https://api.github.com/users/qq453655422/gists{/gist_id}", "starred_url": "https://api.github.com/users/qq453655422/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qq453655422/subscriptions", "organizations_url": "https://api.github.com/users/qq453655422/orgs", "repos_url": "https://api.github.com/users/qq453655422/repos", "events_url": "https://api.github.com/users/qq453655422/events{/privacy}", "received_events_url": "https://api.github.com/users/qq453655422/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-13T08:54:55Z", "updated_at": "2017-12-14T21:39:28Z", "closed_at": "2017-12-14T21:39:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i used @multi_cached, if this method return None,i got an error", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/364", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/364/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/364/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/364/events", "html_url": "https://github.com/argaen/aiocache/issues/364", "id": 278284252, "node_id": "MDU6SXNzdWUyNzgyODQyNTI=", "number": 364, "title": "Use pipenv", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-30T21:57:52Z", "updated_at": "2017-12-03T21:10:00Z", "closed_at": "2017-12-03T21:10:00Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Its the new standard for managing dependencies, so lets play with it\r\n\r\nUpdate CONTRIBUTING and README if needed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/362", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/362/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/362/events", "html_url": "https://github.com/argaen/aiocache/issues/362", "id": 275868839, "node_id": "MDU6SXNzdWUyNzU4Njg4Mzk=", "number": 362, "title": "Add msgpack serialization", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-21T21:40:18Z", "updated_at": "2018-04-25T08:55:55Z", "closed_at": "2018-01-16T15:30:53Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/361", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/361/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/361/events", "html_url": "https://github.com/argaen/aiocache/issues/361", "id": 275094944, "node_id": "MDU6SXNzdWUyNzUwOTQ5NDQ=", "number": 361, "title": "Combine coverage reports in tox", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-18T17:26:34Z", "updated_at": "2017-11-26T12:48:15Z", "closed_at": "2017-11-26T12:48:15Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Some code paths are only accessed depending on some dependencies being installed in specific version.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/357", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/357/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/357/events", "html_url": "https://github.com/argaen/aiocache/issues/357", "id": 271998019, "node_id": "MDU6SXNzdWUyNzE5OTgwMTk=", "number": 357, "title": "Check pypy compatibility", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-07T21:55:10Z", "updated_at": "2017-11-07T23:43:49Z", "closed_at": "2017-11-07T23:43:49Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Now that we have tox should be quite easy", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/352", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/352/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/352/events", "html_url": "https://github.com/argaen/aiocache/issues/352", "id": 269719386, "node_id": "MDU6SXNzdWUyNjk3MTkzODY=", "number": 352, "title": "No way to release pool connection when using decorator and aiohttp", "user": {"login": "kivsiak", "id": 307729, "node_id": "MDQ6VXNlcjMwNzcyOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/307729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kivsiak", "html_url": "https://github.com/kivsiak", "followers_url": "https://api.github.com/users/kivsiak/followers", "following_url": "https://api.github.com/users/kivsiak/following{/other_user}", "gists_url": "https://api.github.com/users/kivsiak/gists{/gist_id}", "starred_url": "https://api.github.com/users/kivsiak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kivsiak/subscriptions", "organizations_url": "https://api.github.com/users/kivsiak/orgs", "repos_url": "https://api.github.com/users/kivsiak/repos", "events_url": "https://api.github.com/users/kivsiak/events{/privacy}", "received_events_url": "https://api.github.com/users/kivsiak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-30T19:10:15Z", "updated_at": "2017-11-06T14:51:57Z", "closed_at": "2017-11-06T14:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i use `@cache` decorator in my aiohttp application and close app using ctrl-C i got this message in output:\r\n\r\n>Task was destroyed but it is pending!\r\n\r\nNot critical, but dirty. Is there any way to clear close all connection and courtines? In aiohttp cleanup handler? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/348", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/348/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/348/events", "html_url": "https://github.com/argaen/aiocache/issues/348", "id": 266276157, "node_id": "MDU6SXNzdWUyNjYyNzYxNTc=", "number": 348, "title": "build doesn't pass without ujson", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-17T20:57:58Z", "updated_at": "2017-10-17T22:27:34Z", "closed_at": "2017-10-17T22:27:34Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Been blind for a while on this. Had `sanic` as a dev dependency which was installing `ujson`. Now I've removed this dependency and tests started to fail. It should work with default json implementation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/346", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/346/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/346/events", "html_url": "https://github.com/argaen/aiocache/issues/346", "id": 265864625, "node_id": "MDU6SXNzdWUyNjU4NjQ2MjU=", "number": 346, "title": "Use tox builds", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 721677938, "node_id": "MDU6TGFiZWw3MjE2Nzc5Mzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-10-16T18:14:29Z", "updated_at": "2017-11-05T18:52:57Z", "closed_at": "2017-11-05T18:52:57Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Lets use tox so we can check compatibility against multiple library versions.\r\n\r\nAlso, lets check against multiple Python versions", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/345", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/345/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/345/events", "html_url": "https://github.com/argaen/aiocache/issues/345", "id": 265846841, "node_id": "MDU6SXNzdWUyNjU4NDY4NDE=", "number": 345, "title": "aiocache compatible with aioredis 1.0.0b2", "user": {"login": "masipcat", "id": 775189, "node_id": "MDQ6VXNlcjc3NTE4OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/775189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/masipcat", "html_url": "https://github.com/masipcat", "followers_url": "https://api.github.com/users/masipcat/followers", "following_url": "https://api.github.com/users/masipcat/following{/other_user}", "gists_url": "https://api.github.com/users/masipcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/masipcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/masipcat/subscriptions", "organizations_url": "https://api.github.com/users/masipcat/orgs", "repos_url": "https://api.github.com/users/masipcat/repos", "events_url": "https://api.github.com/users/masipcat/events{/privacy}", "received_events_url": "https://api.github.com/users/masipcat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-16T17:16:21Z", "updated_at": "2017-11-30T21:59:07Z", "closed_at": "2017-11-30T21:59:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I created pull request #344 which implements support for aioredis 0.3.3 and 1.0.0b2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/331", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/331/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/331/events", "html_url": "https://github.com/argaen/aiocache/issues/331", "id": 255651032, "node_id": "MDU6SXNzdWUyNTU2NTEwMzI=", "number": 331, "title": "decorators should reuse instance when using alias", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 721677938, "node_id": "MDU6TGFiZWw3MjE2Nzc5Mzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-06T15:40:51Z", "updated_at": "2017-11-07T21:44:24Z", "closed_at": "2017-11-07T21:44:24Z", "author_association": "OWNER", "active_lock_reason": null, "body": "It is consistent with the behavior when there is no alias. Also creating an instance of the cache for each call can be dangerous since if there is lots of concurrency, you can end up having lots of connections to redis", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/330", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/330/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/330/events", "html_url": "https://github.com/argaen/aiocache/issues/330", "id": 254034890, "node_id": "MDU6SXNzdWUyNTQwMzQ4OTA=", "number": 330, "title": "Add protobuf serialization", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-30T15:10:03Z", "updated_at": "2019-01-13T17:39:03Z", "closed_at": "2019-01-13T17:39:03Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Need some more research but this may be useful for gRPC services\r\n\r\nAlthough asyncio support for gRPC seems is not there yet, other services sharing the same cache may benefit from that serialization", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/329", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/329/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/329/events", "html_url": "https://github.com/argaen/aiocache/issues/329", "id": 253552657, "node_id": "MDU6SXNzdWUyNTM1NTI2NTc=", "number": 329, "title": "Improve dependencies", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-29T07:23:50Z", "updated_at": "2017-10-17T21:40:50Z", "closed_at": "2017-10-17T21:40:50Z", "author_association": "OWNER", "active_lock_reason": null, "body": "No need for requirements, just leave the ones in setup.py and then lets go with tox so we have a matrix of dependencies for python, aioredis and aiomcache.\r\n\r\nAlso, would be nice to improve the way of installing one or other dependencies. Something like `pip install aiocache[redis]` or `pip install aiocache[memcached]`...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/327", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/327/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/327/events", "html_url": "https://github.com/argaen/aiocache/issues/327", "id": 250708721, "node_id": "MDU6SXNzdWUyNTA3MDg3MjE=", "number": 327, "title": "multi_cached function  got multiple values error", "user": {"login": "Artgyk", "id": 29138121, "node_id": "MDQ6VXNlcjI5MTM4MTIx", "avatar_url": "https://avatars3.githubusercontent.com/u/29138121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Artgyk", "html_url": "https://github.com/Artgyk", "followers_url": "https://api.github.com/users/Artgyk/followers", "following_url": "https://api.github.com/users/Artgyk/following{/other_user}", "gists_url": "https://api.github.com/users/Artgyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Artgyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Artgyk/subscriptions", "organizations_url": "https://api.github.com/users/Artgyk/orgs", "repos_url": "https://api.github.com/users/Artgyk/repos", "events_url": "https://api.github.com/users/Artgyk/events{/privacy}", "received_events_url": "https://api.github.com/users/Artgyk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-16T17:53:37Z", "updated_at": "2017-11-07T23:20:27Z", "closed_at": "2017-11-07T23:20:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "python: 3.6.0\r\naiocache: 0.7.2\r\n\r\n```  \r\n    @multi_cached('ids', ttl=10)\r\n    async def get_async(ids):\r\n        return {1: '1', 2: '2'}\r\n    res = await get_async([1, 2])\r\n```\r\n\r\n File \"\\Python36-32\\lib\\site-packages\\aiocache\\decorators.py\", line 250, in decorator\r\n    result = await f(*new_args, **kwargs)\r\nTypeError: get_async() got multiple values for argument 'ids'\r\n\r\nSame as this issue:\r\nhttps://github.com/argaen/aiocache/issues/270", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/308", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/308/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/308/events", "html_url": "https://github.com/argaen/aiocache/issues/308", "id": 244825995, "node_id": "MDU6SXNzdWUyNDQ4MjU5OTU=", "number": 308, "title": "Caches should be able to use alternative key builders", "user": {"login": "mheppner", "id": 2390428, "node_id": "MDQ6VXNlcjIzOTA0Mjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2390428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mheppner", "html_url": "https://github.com/mheppner", "followers_url": "https://api.github.com/users/mheppner/followers", "following_url": "https://api.github.com/users/mheppner/following{/other_user}", "gists_url": "https://api.github.com/users/mheppner/gists{/gist_id}", "starred_url": "https://api.github.com/users/mheppner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mheppner/subscriptions", "organizations_url": "https://api.github.com/users/mheppner/orgs", "repos_url": "https://api.github.com/users/mheppner/repos", "events_url": "https://api.github.com/users/mheppner/events{/privacy}", "received_events_url": "https://api.github.com/users/mheppner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-22T05:35:34Z", "updated_at": "2017-07-23T17:50:20Z", "closed_at": "2017-07-23T17:28:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there an easy way to apply a key mangler? Basically, something that can be ran after the key builder, and a way to configure it on the `default` cache. The use case is for encoding long keys, since memcached only supports a key of 250 bytes. I'd like to be able to use `hashlib.sha1(<key builder output>).hexdigest()` as the keys.\r\n\r\nPossibly related, but I think the wrong exception was thrown when I had a key length of 274:\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/Users/mark/Documents/app/env/lib/python3.6/site-packages/aiocache/decorators.py\", line 104, in set_in_cache\r\n    await self.cache.set(key, value, ttl=self.ttl)\r\n  File \"/Users/mark/Documents/app/env/lib/python3.6/site-packages/aiocache/base.py\", line 58, in _enabled\r\n    return await func(*args, **kwargs)\r\n  File \"/Users/mark/Documents/app/env/lib/python3.6/site-packages/aiocache/base.py\", line 43, in _timeout\r\n    return await asyncio.wait_for(func(self, *args, **kwargs), timeout)\r\n  File \"/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/tasks.py\", line 352, in wait_for\r\n    return fut.result()\r\n  File \"/Users/mark/Documents/app/env/lib/python3.6/site-packages/aiocache/base.py\", line 71, in _plugins\r\n    ret = await func(self, *args, **kwargs)\r\n  File \"/Users/mark/Documents/app/env/lib/python3.6/site-packages/aiocache/base.py\", line 248, in set\r\n    res = await self._set(ns_key, dumps(value), ttl=ttl, _cas_token=_cas_token, _conn=_conn)\r\n  File \"/Users/mark/Documents/app/env/lib/python3.6/site-packages/aiocache/backends/memcached.py\", line 48, in _set\r\n    raise TypeError(\"memcached doesn't support float ttl\")\r\nTypeError: memcached doesn't support float ttl\r\n```\r\n\r\nThe `ttl` for the `@cached()` function I was calling is definitely set to an integer, so maybe it picked up on an exception about the key being too large?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/303", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/303/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/303/events", "html_url": "https://github.com/argaen/aiocache/issues/303", "id": 243015143, "node_id": "MDU6SXNzdWUyNDMwMTUxNDM=", "number": 303, "title": "Stop using the loop explicitly", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-14T14:32:46Z", "updated_at": "2017-07-15T10:47:19Z", "closed_at": "2017-07-15T10:47:19Z", "author_association": "OWNER", "active_lock_reason": null, "body": "No need in redis.py to initialize the loop and pass it explicitly. New python versions already have this behavior fixed properly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/302", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/302/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/302/events", "html_url": "https://github.com/argaen/aiocache/issues/302", "id": 242270353, "node_id": "MDU6SXNzdWUyNDIyNzAzNTM=", "number": 302, "title": "aiocache causing double logging in sanic", "user": {"login": "keattang", "id": 10136423, "node_id": "MDQ6VXNlcjEwMTM2NDIz", "avatar_url": "https://avatars3.githubusercontent.com/u/10136423?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keattang", "html_url": "https://github.com/keattang", "followers_url": "https://api.github.com/users/keattang/followers", "following_url": "https://api.github.com/users/keattang/following{/other_user}", "gists_url": "https://api.github.com/users/keattang/gists{/gist_id}", "starred_url": "https://api.github.com/users/keattang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keattang/subscriptions", "organizations_url": "https://api.github.com/users/keattang/orgs", "repos_url": "https://api.github.com/users/keattang/repos", "events_url": "https://api.github.com/users/keattang/events{/privacy}", "received_events_url": "https://api.github.com/users/keattang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-12T06:13:37Z", "updated_at": "2017-07-16T22:11:52Z", "closed_at": "2017-07-15T10:22:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "It appears that importing aiocache into a sanic app causes the sanic logs and print statements to be sent to stdout twice. My app looks like this:\r\n\r\n```\r\nfrom sanic import Sanic\r\nfrom aiocache import caches\r\n\r\napp = Sanic(__name__)\r\n\r\nif __name__ == '__main__':\r\n    app.run(host='0.0.0.0', port=8080, workers=4, debug=True)\r\n```\r\n\r\nAnd the logs on start up look like this:\r\n```\r\n2017-07-12 06:08:17 - (sanic)[DEBUG]: \r\n                 \u2584\u2584\u2584\u2584\u2584\r\n        \u2580\u2580\u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2584\u2584\u2584       _______________\r\n      \u2584\u2584\u2584\u2584\u2584  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584  /                 \\\r\n     \u2580\u2580\u2580\u2580\u2588\u2588\u2588\u2588\u2588\u258c \u2580\u2590\u2584 \u2580\u2590\u2588 |   Gotta go fast!  |\r\n   \u2580\u2580\u2588\u2588\u2588\u2588\u2588\u2584\u2584 \u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2584\u2588\u2588 | _________________/\r\n   \u2580\u2584\u2584\u2584\u2584\u2584  \u2580\u2580\u2588\u2584\u2580\u2588\u2550\u2550\u2550\u2550\u2588\u2580 |/\r\n        \u2580\u2580\u2580\u2584  \u2580\u2580\u2588\u2588\u2588 \u2580       \u2584\u2584\r\n     \u2584\u2588\u2588\u2588\u2580\u2580\u2588\u2588\u2584\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2584\u2580\u2580\u2580\u2580\u2580\u2580\u2588\u258c\r\n   \u2588\u2588\u2580\u2584\u2584\u2584\u2588\u2588\u2580\u2584\u2588\u2588\u2588\u2580 \u2580\u2580\u2588\u2588\u2588\u2588      \u2584\u2588\u2588\r\n\u2584\u2580\u2580\u2580\u2584\u2588\u2588\u2584\u2580\u2580\u258c\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2588\u2588\u2588     \u258c\u2584\u2584\u2580\r\n\u258c    \u2590\u2580\u2588\u2588\u2588\u2588\u2590\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2592\u2590\u2588\u2588\u258c\r\n\u2580\u2584\u2584\u2584\u2584\u2580   \u2580\u2580\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2584\u2588\u2588\u2580\r\n          \u2580\u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2580\r\n        \u2584\u2584\u2588\u2588\u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2580\u2588\r\n      \u2584\u2588\u2588\u2580     \u2580\u2580\u2580  \u2588\r\n     \u2584\u2588             \u2590\u258c\r\n \u2584\u2584\u2584\u2584\u2588\u258c              \u2580\u2588\u2584\u2584\u2584\u2584\u2580\u2580\u2584\r\n\u258c     \u2590                \u2580\u2580\u2584\u2584\u2584\u2580\r\n \u2580\u2580\u2584\u2584\u2580\r\n\r\n2017-07-12 06:08:17,488 DEBUG sanic(691) | \r\n                 \u2584\u2584\u2584\u2584\u2584\r\n        \u2580\u2580\u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2584\u2584\u2584       _______________\r\n      \u2584\u2584\u2584\u2584\u2584  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584  /                 \\\r\n     \u2580\u2580\u2580\u2580\u2588\u2588\u2588\u2588\u2588\u258c \u2580\u2590\u2584 \u2580\u2590\u2588 |   Gotta go fast!  |\r\n   \u2580\u2580\u2588\u2588\u2588\u2588\u2588\u2584\u2584 \u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2584\u2588\u2588 | _________________/\r\n   \u2580\u2584\u2584\u2584\u2584\u2584  \u2580\u2580\u2588\u2584\u2580\u2588\u2550\u2550\u2550\u2550\u2588\u2580 |/\r\n        \u2580\u2580\u2580\u2584  \u2580\u2580\u2588\u2588\u2588 \u2580       \u2584\u2584\r\n     \u2584\u2588\u2588\u2588\u2580\u2580\u2588\u2588\u2584\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2584 \u2584\u2580\u2580\u2580\u2580\u2580\u2580\u2588\u258c\r\n   \u2588\u2588\u2580\u2584\u2584\u2584\u2588\u2588\u2580\u2584\u2588\u2588\u2588\u2580 \u2580\u2580\u2588\u2588\u2588\u2588      \u2584\u2588\u2588\r\n\u2584\u2580\u2580\u2580\u2584\u2588\u2588\u2584\u2580\u2580\u258c\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2592\u2592\u2588\u2588\u2588     \u258c\u2584\u2584\u2580\r\n\u258c    \u2590\u2580\u2588\u2588\u2588\u2588\u2590\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2592\u2590\u2588\u2588\u258c\r\n\u2580\u2584\u2584\u2584\u2584\u2580   \u2580\u2580\u2588\u2588\u2588\u2588\u2592\u2592\u2592\u2592\u2584\u2588\u2588\u2580\r\n          \u2580\u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2580\r\n        \u2584\u2584\u2588\u2588\u2580\u2588\u2588\u2588\u2588\u2588\u2588\u2580\u2588\r\n      \u2584\u2588\u2588\u2580     \u2580\u2580\u2580  \u2588\r\n     \u2584\u2588             \u2590\u258c\r\n \u2584\u2584\u2584\u2584\u2588\u258c              \u2580\u2588\u2584\u2584\u2584\u2584\u2580\u2580\u2584\r\n\u258c     \u2590                \u2580\u2580\u2584\u2584\u2584\u2580\r\n \u2580\u2580\u2584\u2584\u2580\r\n\r\n2017-07-12 06:08:17 - (sanic)[INFO]: Goin' Fast @ http://0.0.0.0:8080\r\n2017-07-12 06:08:17,495 INFO sanic(701) | Goin' Fast @ http://0.0.0.0:8080\r\n2017-07-12 06:08:17 - (sanic)[INFO]: Starting worker [1400]\r\n2017-07-12 06:08:17,513 INFO sanic(449) | Starting worker [1400]\r\n2017-07-12 06:08:17 - (sanic)[INFO]: Starting worker [1401]\r\n2017-07-12 06:08:17,528 INFO sanic(449) | Starting worker [1401]\r\n2017-07-12 06:08:17 - (sanic)[INFO]: Starting worker [1402]\r\n2017-07-12 06:08:17,553 INFO sanic(449) | Starting worker [1402]\r\n2017-07-12 06:08:17 - (sanic)[INFO]: Starting worker [1403]\r\n2017-07-12 06:08:17,557 INFO sanic(449) | Starting worker [1403]\r\n```\r\nI suspect the issue is due to this line:\r\nhttps://github.com/argaen/aiocache/blob/master/aiocache/log.py#L3\r\n\r\nIs there any easy way to fix this behaviour?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/294", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/294/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/294/events", "html_url": "https://github.com/argaen/aiocache/issues/294", "id": 239967824, "node_id": "MDU6SXNzdWUyMzk5Njc4MjQ=", "number": 294, "title": "Add typings", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-01T19:26:41Z", "updated_at": "2019-12-05T10:25:05Z", "closed_at": "2019-12-05T10:25:05Z", "author_association": "OWNER", "active_lock_reason": null, "body": "- [ ] base.py\r\n- [ ] serializers.py\r\n- [ ] backends\r\n- [ ] decorators.py\r\n- [ ] factory.py\r\n- [ ] lock.py\r\n- [ ] plugins.py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/291", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/291/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/291/events", "html_url": "https://github.com/argaen/aiocache/issues/291", "id": 239712721, "node_id": "MDU6SXNzdWUyMzk3MTI3MjE=", "number": 291, "title": "Remove setup.py and requirements duplication", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-30T08:36:41Z", "updated_at": "2017-07-01T18:14:19Z", "closed_at": "2017-07-01T18:14:19Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Won't do:\r\n- They are different things, setup should be flexible enough to allow users to upgrade libraries.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/289", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/289/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/289/events", "html_url": "https://github.com/argaen/aiocache/issues/289", "id": 239705476, "node_id": "MDU6SXNzdWUyMzk3MDU0NzY=", "number": 289, "title": "Give chance to execute post hooks without blocking parent coroutine", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 1, "created_at": "2017-06-30T08:02:48Z", "updated_at": "2017-07-01T19:03:34Z", "closed_at": "2017-07-01T19:03:34Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Right now the plugins decorator awaits every post hook. In some occasions user don't want to wait for those post signals because they are just about sending metrics and so.\r\n\r\nSome mechanism to execute them either with `await` or `ensure_future` would be useful", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/288", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/288/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/288/events", "html_url": "https://github.com/argaen/aiocache/issues/288", "id": 239704907, "node_id": "MDU6SXNzdWUyMzk3MDQ5MDc=", "number": 288, "title": "Use time.monotonic instead of time.time", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 0, "created_at": "2017-06-30T08:00:02Z", "updated_at": "2017-07-01T17:20:09Z", "closed_at": "2017-07-01T17:20:08Z", "author_association": "OWNER", "active_lock_reason": null, "body": "In different parts of the code `time.time` is being used to measure delta times. This is not recommended.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/287", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/287/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/287/events", "html_url": "https://github.com/argaen/aiocache/issues/287", "id": 239619586, "node_id": "MDU6SXNzdWUyMzk2MTk1ODY=", "number": 287, "title": "Improve footprint tests", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-29T21:42:30Z", "updated_at": "2019-12-05T10:25:17Z", "closed_at": "2019-12-05T10:25:17Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Would be nice to know % footprint for each public operation. If there is a big difference for any of the CMDs worth it to focus efforts on improving it", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/286", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/286/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/286/events", "html_url": "https://github.com/argaen/aiocache/issues/286", "id": 238922372, "node_id": "MDU6SXNzdWUyMzg5MjIzNzI=", "number": 286, "title": "dockerize tests execution", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 1, "created_at": "2017-06-27T17:16:30Z", "updated_at": "2017-06-29T18:39:38Z", "closed_at": "2017-06-29T18:39:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Lets use docker to execute acceptance tests", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/284", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/284/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/284/events", "html_url": "https://github.com/argaen/aiocache/issues/284", "id": 238908125, "node_id": "MDU6SXNzdWUyMzg5MDgxMjU=", "number": 284, "title": "Investigate upgrade to aioredis 0.3.2 issue", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 508776222, "node_id": "MDU6TGFiZWw1MDg3NzYyMjI=", "url": "https://api.github.com/repos/argaen/aiocache/labels/needs%20investigation", "name": "needs investigation", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 0, "created_at": "2017-06-27T16:23:06Z", "updated_at": "2017-06-27T17:07:29Z", "closed_at": "2017-06-27T17:07:29Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Seems travis is failing on couple of tests when acquiring Condition...\r\n\r\nthere were some changes related to locks in aioredis with the new release but could also be a hidden race condition that has become more obvious now", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/280", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/280/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/280/events", "html_url": "https://github.com/argaen/aiocache/issues/280", "id": 237780293, "node_id": "MDU6SXNzdWUyMzc3ODAyOTM=", "number": 280, "title": "Fix bad handling of defaults values when retrieving", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-22T09:12:34Z", "updated_at": "2017-06-23T16:37:55Z", "closed_at": "2017-06-23T16:37:55Z", "author_association": "OWNER", "active_lock_reason": null, "body": "`return value or default`\r\n\r\nThis means values like 0, `False` & co will never be retrieved correctly... \ud83e\udd26\u200d\u2642\ufe0f ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/275", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/275/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/275/events", "html_url": "https://github.com/argaen/aiocache/issues/275", "id": 236728693, "node_id": "MDU6SXNzdWUyMzY3Mjg2OTM=", "number": 275, "title": "Rethinkg Lock API", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-18T15:46:26Z", "updated_at": "2017-06-22T20:37:55Z", "closed_at": "2017-06-22T20:37:55Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Right now the way of using a lock is through an existing cache instance. ~~In the case of Redlock, has the danger of blocking connections until they are released which means lots of connections may stay idle if they are blocked~~ <- That's a lie, its not blocking the connection because locks are just doing normal operations like `add`, `eval`, `gets`, etc.\r\n\r\nAnyway, API has to change so users can implement their own locks. To do so, The API will be public and usage will be something like:\r\n\r\n```python\r\nasync with RedLock(cache, key, lease):\r\n    # do something with the cache\r\n```\r\n\r\nSame for optimistic lock\r\n\r\n```python\r\nasync with OptimisticLock(cache, key) as lock:\r\n     # do something\r\n     lock.cas(\"value\")\r\n```\r\n\r\nTODO:\r\n\r\n- [ ] ~~There should be a way to get new connections with the information from a cache instance that don't belong to the pool.~~ Not needed, the same cache is used\r\n- [ ] ~~Locks should receive the cache instance to be used and call the operations as needed but using a dedicated connection~~ Not needed\r\n- [x] Invert the API usage, instead of the cache using the locks, the locks should be the ones using the caches. This way users will be able to use their own lock implementations too. This means that the Locks must be public API\r\n- [ ] ~~Support case for OptimisticLock where key doesn't exist before (behavior should be the normal one...)~~ Due to memcached limitation, this is not possible", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/272", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/272/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/272/events", "html_url": "https://github.com/argaen/aiocache/issues/272", "id": 236674566, "node_id": "MDU6SXNzdWUyMzY2NzQ1NjY=", "number": 272, "title": "Support sync functions with decorators", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 1, "created_at": "2017-06-17T17:48:48Z", "updated_at": "2017-06-18T15:27:02Z", "closed_at": "2017-06-18T15:27:02Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Now only `async` functions. Although user shouldn't use CPU intensive functions inside the IO loop, worth it to support decorating sync functions (always inside the loop context)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/270", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/270/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/270/events", "html_url": "https://github.com/argaen/aiocache/issues/270", "id": 235831695, "node_id": "MDU6SXNzdWUyMzU4MzE2OTU=", "number": 270, "title": "multi_cached function call requires parameter name", "user": {"login": "xdanmer", "id": 2486505, "node_id": "MDQ6VXNlcjI0ODY1MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2486505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xdanmer", "html_url": "https://github.com/xdanmer", "followers_url": "https://api.github.com/users/xdanmer/followers", "following_url": "https://api.github.com/users/xdanmer/following{/other_user}", "gists_url": "https://api.github.com/users/xdanmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/xdanmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xdanmer/subscriptions", "organizations_url": "https://api.github.com/users/xdanmer/orgs", "repos_url": "https://api.github.com/users/xdanmer/repos", "events_url": "https://api.github.com/users/xdanmer/events{/privacy}", "received_events_url": "https://api.github.com/users/xdanmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 1, "created_at": "2017-06-14T10:20:06Z", "updated_at": "2017-06-17T17:39:35Z", "closed_at": "2017-06-17T17:39:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Basic case:\r\n```python\r\n@multi_cached('ids', ttl=10)\r\nasync def get_async(ids):\r\n    return {1: '1', 2: '2'}\r\n\r\nres = await get_async([1, 2])\r\n```\r\nTypeError: get_async() got multiple values for argument 'ids'\r\n/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiocache/decorators.py:254: TypeError\r\n\r\nWith additional decorator, there is another error:\r\n```python\r\n@multi_cached('ids', ttl=10)\r\n@stats.timer('time')\r\nasync def get_async(ids):\r\n    return {1: '1', 2: '2'}\r\n\r\nres = await get_async([1, 2])\r\n```\r\nKeyError: 'ids'\r\n/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiocache/decorators.py:262: KeyError\r\n\r\nWorkaround:\r\n```python\r\nres = await get_async(ids=[1, 2])\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/269", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/269/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/269/events", "html_url": "https://github.com/argaen/aiocache/issues/269", "id": 235813162, "node_id": "MDU6SXNzdWUyMzU4MTMxNjI=", "number": 269, "title": "The default behaviour for in-memory cache should not include serialization", "user": {"login": "xdanmer", "id": 2486505, "node_id": "MDQ6VXNlcjI0ODY1MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2486505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xdanmer", "html_url": "https://github.com/xdanmer", "followers_url": "https://api.github.com/users/xdanmer/followers", "following_url": "https://api.github.com/users/xdanmer/following{/other_user}", "gists_url": "https://api.github.com/users/xdanmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/xdanmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xdanmer/subscriptions", "organizations_url": "https://api.github.com/users/xdanmer/orgs", "repos_url": "https://api.github.com/users/xdanmer/repos", "events_url": "https://api.github.com/users/xdanmer/events{/privacy}", "received_events_url": "https://api.github.com/users/xdanmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 627148510, "node_id": "MDU6TGFiZWw2MjcxNDg1MTA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/discussion", "name": "discussion", "color": "006b75", "default": false, "description": null}, {"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 8, "created_at": "2017-06-14T09:13:16Z", "updated_at": "2017-06-20T12:16:32Z", "closed_at": "2017-06-17T21:46:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "The basic use case for aiocache is just wrapping some async method with decorator to use in-memory caching. Like that:\r\n\r\n```python\r\n@cached(ttl=600)\r\nasync def get_smth_async(id):\r\n  ...\r\n```\r\nObviously, user doesn't expect any serialization in this case. It is redundant and makes additional performance impact. So default serializer should do nothing, like DefaultSerializer in previous versions. Currently JsonSerializer is used as default.\r\n\r\nFor not in-memory use cases user should explicitly specify what type of serialization he needs. \r\n\r\nMay be different default serializers should be used for different cache types.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/264", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/264/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/264/events", "html_url": "https://github.com/argaen/aiocache/issues/264", "id": 234603212, "node_id": "MDU6SXNzdWUyMzQ2MDMyMTI=", "number": 264, "title": "Remove key_from_attr", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 1, "created_at": "2017-06-08T17:38:19Z", "updated_at": "2017-06-18T15:01:21Z", "closed_at": "2017-06-18T15:01:20Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Deprecated, use `key_builder` instead", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/263", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/263/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/263/events", "html_url": "https://github.com/argaen/aiocache/issues/263", "id": 234596747, "node_id": "MDU6SXNzdWUyMzQ1OTY3NDc=", "number": 263, "title": "key builder for cached decorator", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-08T17:13:50Z", "updated_at": "2017-06-08T21:22:13Z", "closed_at": "2017-06-08T21:22:13Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/262", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/262/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/262/events", "html_url": "https://github.com/argaen/aiocache/issues/262", "id": 234439756, "node_id": "MDU6SXNzdWUyMzQ0Mzk3NTY=", "number": 262, "title": "aioredis 0.3.1 Pool compatibility", "user": {"login": "dmzkrsk", "id": 94747, "node_id": "MDQ6VXNlcjk0NzQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/94747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmzkrsk", "html_url": "https://github.com/dmzkrsk", "followers_url": "https://api.github.com/users/dmzkrsk/followers", "following_url": "https://api.github.com/users/dmzkrsk/following{/other_user}", "gists_url": "https://api.github.com/users/dmzkrsk/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmzkrsk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmzkrsk/subscriptions", "organizations_url": "https://api.github.com/users/dmzkrsk/orgs", "repos_url": "https://api.github.com/users/dmzkrsk/repos", "events_url": "https://api.github.com/users/dmzkrsk/events{/privacy}", "received_events_url": "https://api.github.com/users/dmzkrsk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-08T07:48:33Z", "updated_at": "2017-06-08T10:15:24Z", "closed_at": "2017-06-08T10:08:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is compatibility with `aioredis==0.3.1` planned?\r\nThey had some refactor of `Pool` class and it doesn't work with current `aiocache` version.\r\n\r\n`requirements.txt` also specify `aioredis==0.3.1` (but `setup.py` still refers to `0.3.0`)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/260", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/260/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/260/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/260/events", "html_url": "https://github.com/argaen/aiocache/issues/260", "id": 234165184, "node_id": "MDU6SXNzdWUyMzQxNjUxODQ=", "number": 260, "title": "Decorator holds (Redis) connection for too long", "user": {"login": "dmzkrsk", "id": 94747, "node_id": "MDQ6VXNlcjk0NzQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/94747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmzkrsk", "html_url": "https://github.com/dmzkrsk", "followers_url": "https://api.github.com/users/dmzkrsk/followers", "following_url": "https://api.github.com/users/dmzkrsk/following{/other_user}", "gists_url": "https://api.github.com/users/dmzkrsk/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmzkrsk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmzkrsk/subscriptions", "organizations_url": "https://api.github.com/users/dmzkrsk/orgs", "repos_url": "https://api.github.com/users/dmzkrsk/repos", "events_url": "https://api.github.com/users/dmzkrsk/events{/privacy}", "received_events_url": "https://api.github.com/users/dmzkrsk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-07T10:34:55Z", "updated_at": "2017-06-12T19:04:17Z", "closed_at": "2017-06-12T19:04:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Current (0.6.0) decorator implementation\r\n\r\n```python\r\n    async def decorator(self, f, *args, **kwargs):\r\n        self._conn = self.cache.get_connection()\r\n\r\n        async with self._conn:  # acquire\r\n            key = self.get_cache_key(f, args, kwargs)\r\n\r\n            value = await self.get_from_cache(key)  # check the key\r\n            if value is not None:\r\n                return value\r\n\r\n            result = await f(*args, **kwargs)  # run the wrapped function\r\n\r\n            await self.set_in_cache(key, result)  # set the key\r\n\r\n        # release the connection\r\n```\r\nacquires a connection, checks the key, runs the wrapped function, sets the key and only then releases the connection\r\n\r\nIn my case `f` is `aiohttp` request, that takes some time (about 4 seconds) and I run them in batches (20 requests per batch)\r\n\r\nAll this time the connection is hold, but unused and the connection pool quickly empties, so other connections (which only try to get a value from the cache) hang.\r\n\r\nAnd I get timeout errors:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \".../lib/python3.6/site-packages/aiocache/decorators.py\", line 108, in get_from_cache\r\n    value = await self.conn.get(key)\r\n  File \".../lib/python3.6/site-packages/aiocache/base.py\", line 499, in _do_inject_conn\r\n    return await getattr(self._cache, cmd_name)(*args, _conn=self._conn, **kwargs)\r\n  File \".../lib/python3.6/site-packages/aiocache/base.py\", line 56, in _enabled\r\n    return await func(*args, **kwargs)\r\n  File \".../python3.6/site-packages/aiocache/base.py\", line 41, in _timeout\r\n    return await asyncio.wait_for(func(self, *args, **kwargs), timeout)\r\n  File \"/usr/local/Cellar/python3/3.6.0/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/tasks.py\", line 356, in wait_for\r\n    raise futures.TimeoutError()\r\n```\r\n\r\nIncreasing `pool_max_size` helps, but I think it's wrong.\r\n\r\nI tried to refactor `decorator` method, so connection is hold only for get/set operations:\r\n\r\n```python\r\n    async def decorator(self, f, *args, **kwargs):\r\n        key = self.get_cache_key(f, args, kwargs)\r\n\r\n        self._conn = self.cache.get_connection()\r\n        async with self._conn:\r\n            value = await self.get_from_cache(key)\r\n\r\n        if value is not None:\r\n            return value\r\n\r\n        result = await f(*args, **kwargs)\r\n\r\n        self._conn = self.cache.get_connection()  # should get_connection twice\r\n        async with self._conn:\r\n            await self.set_in_cache(key, result)\r\n\r\n        return result\r\n```\r\n\r\nAnd it works much better.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/256", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/256/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/256/events", "html_url": "https://github.com/argaen/aiocache/issues/256", "id": 233295921, "node_id": "MDU6SXNzdWUyMzMyOTU5MjE=", "number": 256, "title": "Support soft ttl", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-02T20:46:27Z", "updated_at": "2019-12-31T09:05:19Z", "closed_at": "2017-09-29T14:46:25Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Right now there is only the option for ttl which removes the key when it expires in any backend.\r\n\r\nThere is an middle solution which may return expire values but avoids recalculating the value when the user request occurs.\r\n\r\nCurrent behavior:\r\n\r\n```python\r\nawait cache.set(\"key\", \"value\", ttl=1)  # Key is removed after 1 second\r\nawait asyncio.sleep(1)\r\nawait cache.get(\"key\")  # This will be None now user would normally call the function to recalculate the value and store it in cache \r\n```\r\n\r\nNow the new behavior:\r\n\r\n```python\r\nawait cache.set(\"key\", \"value\", soft_ttl=20, ttl=120) # Key is stale after 20 seconds and removed after 2 minutes, arg name can be soft_ttl or stale_after or ...\r\nawait asyncio.sleep(20)\r\nawait cache.get(\"key\")  # Stale value will be returned instead of None\r\n```\r\nIn above code there is missing the way of triggering automatically the recalculation of the new value for the key so it never expires and refreshes values. Need to check what's the best and cleanest way of doing it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/255", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/255/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/255/events", "html_url": "https://github.com/argaen/aiocache/issues/255", "id": 233292782, "node_id": "MDU6SXNzdWUyMzMyOTI3ODI=", "number": 255, "title": "Change release notes template", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-06-02T20:35:24Z", "updated_at": "2017-06-05T14:56:26Z", "closed_at": "2017-06-05T14:56:26Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Can be done with templates from gitchangelog and mako or pystache", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/252", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/252/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/252/events", "html_url": "https://github.com/argaen/aiocache/issues/252", "id": 232978978, "node_id": "MDU6SXNzdWUyMzI5Nzg5Nzg=", "number": 252, "title": "Improve serializers fleet", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-06-01T19:04:37Z", "updated_at": "2017-06-04T19:09:07Z", "closed_at": "2017-06-04T19:09:06Z", "author_association": "OWNER", "active_lock_reason": null, "body": "With DefaultSerializer casting to string on return, its possible that the same function is returning different values for the same call. Ej:\r\n\r\n```python\r\n        @cached(ttl=1, key=pytest.KEY)\r\n        async def fn():\r\n            return random.randint(1, 50)\r\n\r\n        resp1 = await fn()\r\n        resp2 = await fn()\r\n```\r\nFirst call will return an `int` while second will return an `str`. This is bad for the user. `JsonSerializer` which uses `json` is more clever when doing the type transformations and will be less confusing for the user.\r\n\r\nThis also raises the question of, does `DefaultSerializer` make sense as the default one?\r\n\r\n**Pros**\r\n- low overhead for casting\r\n\r\n**Cons**\r\n- messing types. This is bad for decorators because same function call returns different types. Not bad when using the cache explicitly because the function and cache retrieval calls are separated.\r\n\r\nFor now I can think of the following (which one should be the default one? for decorators StringSerializer could be confusing, maybe JsonSerializer would be a good candidate):\r\n\r\n- StringSerializer (rename from DefaultSerializer to make more explicit it always returns strings)\r\n- JsonSerializer\r\n- PickleSerializer\r\n- ASTSerializer? (to give power to the user to use `repr` and `ast.literal_eval`)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/248", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/248/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/248/events", "html_url": "https://github.com/argaen/aiocache/issues/248", "id": 232094030, "node_id": "MDU6SXNzdWUyMzIwOTQwMzA=", "number": 248, "title": "invalid key in decorators for memcached", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-29T20:34:45Z", "updated_at": "2017-05-30T18:17:38Z", "closed_at": "2017-05-30T18:17:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "aiomcache doesn't accept keys like `b\"teststubstub(1,){'seconds': 2}-lock\"` which come from the function signature. Need to modify the _build_key to generate an acceptable key", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/243", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/243/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/243/events", "html_url": "https://github.com/argaen/aiocache/issues/243", "id": 231855836, "node_id": "MDU6SXNzdWUyMzE4NTU4MzY=", "number": 243, "title": "Automate publish to pypi with travis", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-28T08:53:03Z", "updated_at": "2017-06-02T20:34:42Z", "closed_at": "2017-06-02T20:34:42Z", "author_association": "OWNER", "active_lock_reason": null, "body": "https://docs.travis-ci.com/user/deployment/pypi/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/237", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/237/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/237/events", "html_url": "https://github.com/argaen/aiocache/issues/237", "id": 231408634, "node_id": "MDU6SXNzdWUyMzE0MDg2MzQ=", "number": 237, "title": "Reuse connection in decorators", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-25T17:44:10Z", "updated_at": "2017-06-04T18:33:34Z", "closed_at": "2017-06-04T18:33:34Z", "author_association": "OWNER", "active_lock_reason": null, "body": "If a new cache is created which won't be used by any other shared functions or so, it would make sense to reuse the same connection instead of returning it to the loop in each call.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/233", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/233/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/233/events", "html_url": "https://github.com/argaen/aiocache/issues/233", "id": 229128988, "node_id": "MDU6SXNzdWUyMjkxMjg5ODg=", "number": 233, "title": "Resource Cleanup", "user": {"login": "Quinny", "id": 4185619, "node_id": "MDQ6VXNlcjQxODU2MTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/4185619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Quinny", "html_url": "https://github.com/Quinny", "followers_url": "https://api.github.com/users/Quinny/followers", "following_url": "https://api.github.com/users/Quinny/following{/other_user}", "gists_url": "https://api.github.com/users/Quinny/gists{/gist_id}", "starred_url": "https://api.github.com/users/Quinny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Quinny/subscriptions", "organizations_url": "https://api.github.com/users/Quinny/orgs", "repos_url": "https://api.github.com/users/Quinny/repos", "events_url": "https://api.github.com/users/Quinny/events{/privacy}", "received_events_url": "https://api.github.com/users/Quinny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/6", "html_url": "https://github.com/argaen/aiocache/milestone/6", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/6/labels", "id": 2559101, "node_id": "MDk6TWlsZXN0b25lMjU1OTEwMQ==", "number": 6, "title": "0.7.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-06-02T19:37:26Z", "updated_at": "2017-07-02T16:46:42Z", "due_on": "2017-07-31T07:00:00Z", "closed_at": "2017-07-02T16:45:29Z"}, "comments": 9, "created_at": "2017-05-16T18:35:17Z", "updated_at": "2017-06-29T18:55:41Z", "closed_at": "2017-06-29T18:55:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Maybe I am using it wrong, but when I tag functions with the `cached` decorator for a redis cache like so:\r\n\r\n<pre>\r\n@cached(ttl=ONE_HOUR, cache=RedisCache, key=\"rssfeed\",\r\n        serializer=PickleSerializer(), port=6379, namespace=\"main\",\r\n        endpoint=\"192.168.1.19\")\r\nasync def f(....):\r\n  .....\r\n</pre>\r\n\r\nI get the following errors upon exit:\r\n\r\n<pre>\r\n2017-05-16 11:32:20,999 ERROR asyncio(0) | Task was destroyed but it is pending!\r\ntask: <Task pending coro=<RedisConnection._read_data() done, defined at /usr/local/lib/python3.6/site-packages/aioredis/connection.py:127> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x102d290a8>()]> cb=[Future.set_result()]>\r\n</pre>\r\n\r\nIt seems that the redis connections are not being properly handled on exit.  Is there currently a way to deal with this?\r\n\r\nI am running a sanic app with python3.6 if that makes a difference.\r\n\r\nThanks! Awesome project by the way.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/231", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/231/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/231/events", "html_url": "https://github.com/argaen/aiocache/issues/231", "id": 228801900, "node_id": "MDU6SXNzdWUyMjg4MDE5MDA=", "number": 231, "title": "Convert release notes (and process) to markdown ", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-15T18:25:18Z", "updated_at": "2017-05-28T16:57:00Z", "closed_at": "2017-05-28T16:57:00Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Github release notes only support markdown syntax", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/226", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/226/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/226/events", "html_url": "https://github.com/argaen/aiocache/issues/226", "id": 228405745, "node_id": "MDU6SXNzdWUyMjg0MDU3NDU=", "number": 226, "title": "timeout ignored when 0 in CMDs", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-12T20:54:53Z", "updated_at": "2017-05-12T21:05:25Z", "closed_at": "2017-05-12T21:05:25Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/225", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/225/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/225/events", "html_url": "https://github.com/argaen/aiocache/issues/225", "id": 228399335, "node_id": "MDU6SXNzdWUyMjgzOTkzMzU=", "number": 225, "title": "Give chance to reuse connection for sequential CMDs", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 1, "created_at": "2017-05-12T20:26:02Z", "updated_at": "2017-05-15T17:41:46Z", "closed_at": "2017-05-15T17:41:46Z", "author_association": "OWNER", "active_lock_reason": null, "body": "In codes like\r\n\r\n```python\r\n            await redis_cache.set(\"hi\", \"value\")\r\n            await redis_cache.get(\"hi\")\r\n            await redis_cache.delete(\"hi\")\r\n```\r\nbackend acquires and releases the connection from the pool every time which adds extra cost. In aioredis, reusing the same connection or acquiring (even when its the same) almost doubles the time.\r\n\r\nUsage could be some like:\r\n```python\r\nwith redis_cache as conn:\r\n    await conn.set()\r\n    ...\r\n```\r\nWith memory it doesn't make sense but to keep compatibility it will return itself. Its also possible to do it with memcached (although haven't checked the difference).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/222", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/222/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/222/events", "html_url": "https://github.com/argaen/aiocache/issues/222", "id": 228130679, "node_id": "MDU6SXNzdWUyMjgxMzA2Nzk=", "number": 222, "title": "Race condition when creating redis pool", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703578, "node_id": "MDU6TGFiZWw0NTI3MDM1Nzg=", "url": "https://api.github.com/repos/argaen/aiocache/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-11T21:46:51Z", "updated_at": "2017-05-12T19:31:27Z", "closed_at": "2017-05-12T19:31:27Z", "author_association": "OWNER", "active_lock_reason": null, "body": "multiple pools could be created in high concurrency situations due to race condition in `_connect` method. Must protect it with a lock", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/218", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/218/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/218/events", "html_url": "https://github.com/argaen/aiocache/issues/218", "id": 227118733, "node_id": "MDU6SXNzdWUyMjcxMTg3MzM=", "number": 218, "title": "Factory working without aliases", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-08T17:36:16Z", "updated_at": "2017-06-02T20:20:12Z", "closed_at": "2017-06-02T20:20:12Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Design a way of being able to create generic caches without the need of an alias.\r\n\r\nSome questions:\r\n- Reuse create? Can end up being a big piece of code that is hard to test and maintain.\r\n- How to pass the args? Are all needed? Only class ones supported?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/217", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/217/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/217/events", "html_url": "https://github.com/argaen/aiocache/issues/217", "id": 226997672, "node_id": "MDU6SXNzdWUyMjY5OTc2NzI=", "number": 217, "title": "Dog-pile effect", "user": {"login": "gjcarneiro", "id": 2197096, "node_id": "MDQ6VXNlcjIxOTcwOTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2197096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gjcarneiro", "html_url": "https://github.com/gjcarneiro", "followers_url": "https://api.github.com/users/gjcarneiro/followers", "following_url": "https://api.github.com/users/gjcarneiro/following{/other_user}", "gists_url": "https://api.github.com/users/gjcarneiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/gjcarneiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gjcarneiro/subscriptions", "organizations_url": "https://api.github.com/users/gjcarneiro/orgs", "repos_url": "https://api.github.com/users/gjcarneiro/repos", "events_url": "https://api.github.com/users/gjcarneiro/events{/privacy}", "received_events_url": "https://api.github.com/users/gjcarneiro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-08T10:04:05Z", "updated_at": "2017-05-08T17:23:13Z", "closed_at": "2017-05-08T17:23:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "This caching library doesn't handle the dog-piling effect: https://en.wikipedia.org/wiki/Cache_stampede\r\n\r\nTo do so, the set function should instead take a callback function that computes the value, instead of the value directly.  Also requires a lock.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/214", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/214/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/214/events", "html_url": "https://github.com/argaen/aiocache/issues/214", "id": 226763830, "node_id": "MDU6SXNzdWUyMjY3NjM4MzA=", "number": 214, "title": "Deprecate settings in favor of CacheHandler", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-06T11:47:37Z", "updated_at": "2017-05-07T11:58:49Z", "closed_at": "2017-05-07T11:58:48Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Doesn't make sense to split settings and factory modules. Settings are only used by CacheHandler and CacheHandler only uses settings, should try to merge them.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/212", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/212/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/212/events", "html_url": "https://github.com/argaen/aiocache/issues/212", "id": 226297541, "node_id": "MDU6SXNzdWUyMjYyOTc1NDE=", "number": 212, "title": "Use decorator module for signature-preserving decorators", "user": {"login": "OOPMan", "id": 248980, "node_id": "MDQ6VXNlcjI0ODk4MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/248980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OOPMan", "html_url": "https://github.com/OOPMan", "followers_url": "https://api.github.com/users/OOPMan/followers", "following_url": "https://api.github.com/users/OOPMan/following{/other_user}", "gists_url": "https://api.github.com/users/OOPMan/gists{/gist_id}", "starred_url": "https://api.github.com/users/OOPMan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OOPMan/subscriptions", "organizations_url": "https://api.github.com/users/OOPMan/orgs", "repos_url": "https://api.github.com/users/OOPMan/repos", "events_url": "https://api.github.com/users/OOPMan/events{/privacy}", "received_events_url": "https://api.github.com/users/OOPMan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-04T14:22:43Z", "updated_at": "2017-05-06T11:06:54Z", "closed_at": "2017-05-06T11:06:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like your awesome `cached` and `multi_cached` decorators don't make use of https://pypi.python.org/pypi/decorator which helpers write cleaner decorators that benefit from signature-preservation (which is important to some people :-)\r\n\r\nI could submit a PR if you like?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/211", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/211/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/211/events", "html_url": "https://github.com/argaen/aiocache/issues/211", "id": 225415342, "node_id": "MDU6SXNzdWUyMjU0MTUzNDI=", "number": 211, "title": "add performance tests", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/5", "html_url": "https://github.com/argaen/aiocache/milestone/5", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/5/labels", "id": 2491385, "node_id": "MDk6TWlsZXN0b25lMjQ5MTM4NQ==", "number": 5, "title": "0.6.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2017-05-01T10:19:58Z", "updated_at": "2017-06-12T19:22:44Z", "due_on": "2017-06-01T07:00:00Z", "closed_at": "2017-06-12T19:22:44Z"}, "comments": 0, "created_at": "2017-05-01T10:18:23Z", "updated_at": "2017-05-13T09:38:12Z", "closed_at": "2017-05-13T09:38:12Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Lets add some tests to check concurrency and footprint. This will help to detect cases like https://github.com/aio-libs/aiomcache/issues/43 and so.\r\n\r\nTODO:\r\n\r\n- ~Concurrency tests~ #216 Can't make travis to pass them...\r\n- ~Footprint tests~ #211 (check difference between using aiocache or the client directly).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/208", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/208/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/208/events", "html_url": "https://github.com/argaen/aiocache/issues/208", "id": 225087508, "node_id": "MDU6SXNzdWUyMjUwODc1MDg=", "number": 208, "title": "caches.create must accept extra args", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-28T13:53:02Z", "updated_at": "2017-04-28T15:01:03Z", "closed_at": "2017-04-28T15:01:03Z", "author_association": "OWNER", "active_lock_reason": null, "body": "sometimes when using an alias, you want to override some args like for example namespace. The `create` function from `caches` should support that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/201", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/201/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/201/events", "html_url": "https://github.com/argaen/aiocache/issues/201", "id": 223860796, "node_id": "MDU6SXNzdWUyMjM4NjA3OTY=", "number": 201, "title": "Give chance to build instances from alias config", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/4", "html_url": "https://github.com/argaen/aiocache/milestone/4", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/4/labels", "id": 2474621, "node_id": "MDk6TWlsZXN0b25lMjQ3NDYyMQ==", "number": 4, "title": "0.5.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-04-23T10:38:49Z", "updated_at": "2017-05-01T10:19:00Z", "due_on": "2017-05-05T07:00:00Z", "closed_at": "2017-05-01T10:19:00Z"}, "comments": 0, "created_at": "2017-04-24T15:34:19Z", "updated_at": "2017-04-25T21:37:53Z", "closed_at": "2017-04-25T21:37:53Z", "author_association": "OWNER", "active_lock_reason": null, "body": "There is a case where both ways of providing config (alias and class defaults) are not enough:\r\n\r\n- caches['alias'] is returning always the same instance, when a user wants to use this in different services, connection pool is shared among them which may not be ideal.\r\n\r\n- When using class defaults, you are specifying to which class apply the defaults, its not generic when you want to choose the class dynamically.\r\n\r\nTo solve the user case where we want dynamic class with a given config, I propose to reuse the config from aliases. This way you could do something like: `get_cache_instance('my_alias')`.\r\n\r\nWith this proposal, I wonder if setting class defaults still makes sense, its better to provide just a way of doing things rather than a mix which could confuse users.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/196", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/196/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/196/events", "html_url": "https://github.com/argaen/aiocache/issues/196", "id": 223404390, "node_id": "MDU6SXNzdWUyMjM0MDQzOTA=", "number": 196, "title": "aiomcache concurrency issue", "user": {"login": "achedeuzot", "id": 460597, "node_id": "MDQ6VXNlcjQ2MDU5Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/460597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achedeuzot", "html_url": "https://github.com/achedeuzot", "followers_url": "https://api.github.com/users/achedeuzot/followers", "following_url": "https://api.github.com/users/achedeuzot/following{/other_user}", "gists_url": "https://api.github.com/users/achedeuzot/gists{/gist_id}", "starred_url": "https://api.github.com/users/achedeuzot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achedeuzot/subscriptions", "organizations_url": "https://api.github.com/users/achedeuzot/orgs", "repos_url": "https://api.github.com/users/achedeuzot/repos", "events_url": "https://api.github.com/users/achedeuzot/events{/privacy}", "received_events_url": "https://api.github.com/users/achedeuzot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 508776222, "node_id": "MDU6TGFiZWw1MDg3NzYyMjI=", "url": "https://api.github.com/repos/argaen/aiocache/labels/needs%20investigation", "name": "needs investigation", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-04-21T14:42:16Z", "updated_at": "2017-05-01T17:08:35Z", "closed_at": "2017-05-01T10:17:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having a strange issue with [`wait_for(fut, timeout, *, loop=None)`][1] + `aiocache` on memcache.\r\n\r\nWe're storing values using `aiocache.MemcachedCache` and most methods of `aiocache` are decorated with `@API.timeout` which uses `await asyncio.wait_for(fn(self, *args, **kwargs), timeout)` (with a default timeout of 5 (seconds)).\r\n\r\nWhen load testing our application, we see that with a big load, the `asyncio` loop clogs up and some requests to memcache raise `asyncio.TimeoutError` which is perfectly acceptable. The issue is that when we stop the load and allow for the loop to catch up, if we make any new request, all the memcache connections will fail with a  `class 'concurrent.futures._base.TimeoutError'`. In other words, if we ever get a `TimeoutError` the application cache is completely broken and the only way to repair the application is the kill it and restart it, which is unacceptable. It seems as though the whole `aiocache` connection pool is closed and I don't find where this happens and how to prevent it.\r\n\r\nI've tried the following:\r\n\r\n - Remove uvloop (just in case).\r\n - Wrapped the `asyncio.wait_for()` in a `shield()` function so it won't cancel the associated `Task`, no difference\r\n - Tried catching the following error types: `asyncio.CancelledError`, `TimeoutError`, `asyncio.futures.TimeoutError`, `asyncio.TimeoutError` or global `Exception` with no success, it seems my catching of the error is too late\r\n\r\nThe only thing that helps is increasing the connection pool size (2 by default to 500 for example) but even with a big connection pool, if we have a `TimeoutError`, we hit the same issue and the whole pool spins into everlasting errors.\r\nAnd finally, if I remove the timeout by setting it to `0` or `None`, the library doesn't use `asyncio.wait_for()` but a simple `await fn()` and even though we have some slowness under load, there is no `TimeoutError` and the application always works. But waiting too long for cache is not a good idea, so I'd really like to use the timeout feature.\r\n\r\nIf anyone has any idea how to tackle this, I'd love to hear your input !\r\n\r\nThe versions involved:\r\n\r\n - python 3.5.3\r\n - uvloop 0.8.0\r\n - aiohttp 2.0.7\r\n - aiocache 0.3.3\r\n - aiomcache 0.5.1 \r\n\r\nI'm currently writing a small testcase to see if I can easily reproduce the issue. I'll post it here when it's done.\r\n\r\n  [1]: https://docs.python.org/3.5/library/asyncio-task.html#asyncio.wait_for", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/194", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/194/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/194/events", "html_url": "https://github.com/argaen/aiocache/issues/194", "id": 223209586, "node_id": "MDU6SXNzdWUyMjMyMDk1ODY=", "number": 194, "title": "Allow decorators to use an alias cache", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/4", "html_url": "https://github.com/argaen/aiocache/milestone/4", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/4/labels", "id": 2474621, "node_id": "MDk6TWlsZXN0b25lMjQ3NDYyMQ==", "number": 4, "title": "0.5.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-04-23T10:38:49Z", "updated_at": "2017-05-01T10:19:00Z", "due_on": "2017-05-05T07:00:00Z", "closed_at": "2017-05-01T10:19:00Z"}, "comments": 0, "created_at": "2017-04-20T21:43:45Z", "updated_at": "2017-04-26T20:33:15Z", "closed_at": "2017-04-26T20:33:15Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/190", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/190/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/190/events", "html_url": "https://github.com/argaen/aiocache/issues/190", "id": 222737661, "node_id": "MDU6SXNzdWUyMjI3Mzc2NjE=", "number": 190, "title": "Support docs for multiple aiocache versions", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-19T13:26:36Z", "updated_at": "2017-04-19T21:12:10Z", "closed_at": "2017-04-19T21:12:10Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Docs in readthedocs point to master which is not the latest published aiocache version. Should support docs for multiple versions", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/187", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/187/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/187/events", "html_url": "https://github.com/argaen/aiocache/issues/187", "id": 222173263, "node_id": "MDU6SXNzdWUyMjIxNzMyNjM=", "number": 187, "title": "Avoid race conditions", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452703580, "node_id": "MDU6TGFiZWw0NTI3MDM1ODA=", "url": "https://api.github.com/repos/argaen/aiocache/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-17T16:57:49Z", "updated_at": "2017-06-29T18:53:13Z", "closed_at": "2017-06-29T18:53:08Z", "author_association": "OWNER", "active_lock_reason": null, "body": "There are a couple of places at least identified where race conditions can occur:\r\n\r\n- cached/multi_cached decorators between get and set #95\r\n- increment CMD for memcached between incr and set.\r\n\r\nOnce #27 or #115 are implemented, should use the features to let the user choose whether to live or not with the possible race conditions.\r\n\r\n\r\nTODO:\r\n\r\n- [x] cached support for redlock\r\n- [ ] multi_cached support for redlock\r\n- [ ] ~increment: won't do~", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/argaen/aiocache/issues/186", "repository_url": "https://api.github.com/repos/argaen/aiocache", "labels_url": "https://api.github.com/repos/argaen/aiocache/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/argaen/aiocache/issues/186/comments", "events_url": "https://api.github.com/repos/argaen/aiocache/issues/186/events", "html_url": "https://github.com/argaen/aiocache/issues/186", "id": 222151750, "node_id": "MDU6SXNzdWUyMjIxNTE3NTA=", "number": 186, "title": "Add incr CMD", "user": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459411704, "node_id": "MDU6TGFiZWw0NTk0MTE3MDQ=", "url": "https://api.github.com/repos/argaen/aiocache/labels/feature", "name": "feature", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/argaen/aiocache/milestones/4", "html_url": "https://github.com/argaen/aiocache/milestone/4", "labels_url": "https://api.github.com/repos/argaen/aiocache/milestones/4/labels", "id": 2474621, "node_id": "MDk6TWlsZXN0b25lMjQ3NDYyMQ==", "number": 4, "title": "0.5.0", "description": "", "creator": {"login": "argaen", "id": 3578154, "node_id": "MDQ6VXNlcjM1NzgxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3578154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/argaen", "html_url": "https://github.com/argaen", "followers_url": "https://api.github.com/users/argaen/followers", "following_url": "https://api.github.com/users/argaen/following{/other_user}", "gists_url": "https://api.github.com/users/argaen/gists{/gist_id}", "starred_url": "https://api.github.com/users/argaen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/argaen/subscriptions", "organizations_url": "https://api.github.com/users/argaen/orgs", "repos_url": "https://api.github.com/users/argaen/repos", "events_url": "https://api.github.com/users/argaen/events{/privacy}", "received_events_url": "https://api.github.com/users/argaen/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-04-23T10:38:49Z", "updated_at": "2017-05-01T10:19:00Z", "due_on": "2017-05-05T07:00:00Z", "closed_at": "2017-05-01T10:19:00Z"}, "comments": 0, "created_at": "2017-04-17T15:11:06Z", "updated_at": "2017-04-23T10:40:44Z", "closed_at": "2017-04-17T18:09:12Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}]}