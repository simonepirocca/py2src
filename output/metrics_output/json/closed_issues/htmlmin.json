{"total_count": 18, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/mankyd/htmlmin/issues/48", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/48/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/48/events", "html_url": "https://github.com/mankyd/htmlmin/issues/48", "id": 297839269, "node_id": "MDU6SXNzdWUyOTc4MzkyNjk=", "number": 48, "title": "missed brackets after string was minimized   ", "user": {"login": "aodarc", "id": 11481086, "node_id": "MDQ6VXNlcjExNDgxMDg2", "avatar_url": "https://avatars2.githubusercontent.com/u/11481086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aodarc", "html_url": "https://github.com/aodarc", "followers_url": "https://api.github.com/users/aodarc/followers", "following_url": "https://api.github.com/users/aodarc/following{/other_user}", "gists_url": "https://api.github.com/users/aodarc/gists{/gist_id}", "starred_url": "https://api.github.com/users/aodarc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aodarc/subscriptions", "organizations_url": "https://api.github.com/users/aodarc/orgs", "repos_url": "https://api.github.com/users/aodarc/repos", "events_url": "https://api.github.com/users/aodarc/events{/privacy}", "received_events_url": "https://api.github.com/users/aodarc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-16T16:17:23Z", "updated_at": "2018-02-16T16:21:17Z", "closed_at": "2018-02-16T16:21:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I want to minify part of html -> \r\n```\r\n'<div class=\"footer-shadow\"></div>\\n<footer class=\"footer\">\\n    <div class=\"d-flex container justify-content-end align-items-center\">\\n        \\n\\n        \\n    </div>\\n</footer>'\r\n```\r\nThan I got\r\n`\r\n'<div class=footer-shadow></div><footer class=footer><div class=\"d-flex container justify-content-end align-items-center\"></div></footer>'\r\n`\r\nAs you can see there **class=footer-shadow** and there **class=footer** the brackets were missed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/47", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/47/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/47/events", "html_url": "https://github.com/mankyd/htmlmin/issues/47", "id": 279621802, "node_id": "MDU6SXNzdWUyNzk2MjE4MDI=", "number": 47, "title": "Issues with minifying br-tag", "user": {"login": "Kyrremann", "id": 1830501, "node_id": "MDQ6VXNlcjE4MzA1MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1830501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kyrremann", "html_url": "https://github.com/Kyrremann", "followers_url": "https://api.github.com/users/Kyrremann/followers", "following_url": "https://api.github.com/users/Kyrremann/following{/other_user}", "gists_url": "https://api.github.com/users/Kyrremann/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kyrremann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kyrremann/subscriptions", "organizations_url": "https://api.github.com/users/Kyrremann/orgs", "repos_url": "https://api.github.com/users/Kyrremann/repos", "events_url": "https://api.github.com/users/Kyrremann/events{/privacy}", "received_events_url": "https://api.github.com/users/Kyrremann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-06T04:18:44Z", "updated_at": "2017-12-29T16:43:10Z", "closed_at": "2017-12-29T16:43:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just started using you're plugin, and noticed that it strips off the `/` in `<br/>` tags. This is an issue for me, as I'm validating `xhtml`\r\n\r\n```python\r\nimport htmlmin\r\n\r\ntest_string = \"\"\"\r\n<strong>hello world</strong>\r\n<br />\r\n<strong>hello earthling</string>\r\n\"\"\"\r\n\r\nprint(htmlmin.minify(test_string))\r\n```\r\n\r\n```bash\r\n$ python test.py \r\n <strong>hello world</strong> <br> <strong>hello earthling</string>\r\n```\r\n\r\nI'm guessing/hoping it is not intended behaviour?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/46", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/46/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/46/events", "html_url": "https://github.com/mankyd/htmlmin/issues/46", "id": 263654780, "node_id": "MDU6SXNzdWUyNjM2NTQ3ODA=", "number": 46, "title": "wierd issue with Minifier.minify", "user": {"login": "runar-rkmedia", "id": 5629981, "node_id": "MDQ6VXNlcjU2Mjk5ODE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5629981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/runar-rkmedia", "html_url": "https://github.com/runar-rkmedia", "followers_url": "https://api.github.com/users/runar-rkmedia/followers", "following_url": "https://api.github.com/users/runar-rkmedia/following{/other_user}", "gists_url": "https://api.github.com/users/runar-rkmedia/gists{/gist_id}", "starred_url": "https://api.github.com/users/runar-rkmedia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/runar-rkmedia/subscriptions", "organizations_url": "https://api.github.com/users/runar-rkmedia/orgs", "repos_url": "https://api.github.com/users/runar-rkmedia/repos", "events_url": "https://api.github.com/users/runar-rkmedia/events{/privacy}", "received_events_url": "https://api.github.com/users/runar-rkmedia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 28233335, "node_id": "MDU6TGFiZWwyODIzMzMzNQ==", "url": "https://api.github.com/repos/mankyd/htmlmin/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-10-07T16:45:36Z", "updated_at": "2017-12-29T16:42:15Z", "closed_at": "2017-12-07T02:44:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran into an odd issue here. Earlier, I used just the `minify(html)`-function, and it worked great. Lately, I've changed to `Minifier.minify`, and ran into problems. On pages involving OAuth from Google, I get `OpenTagNotFoundError`-errors from the parser. However, I tried removing almost all of the code that I sent to minification, but it still outputted an error. Switching back to only using `minify(html)` solves it.\r\n\r\nI have tried to debug this, but I am unable to figure it out. I tried sending only very basic html, of which I am certain is correct, and all tags are opened and closed in the correct order.\r\n\r\nI see in the code that `minify` does not call anything in the parser, which `Minifier.minify` does. Is there a reason why there is a difference here?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/44", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/44/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/44/events", "html_url": "https://github.com/mankyd/htmlmin/issues/44", "id": 232507789, "node_id": "MDU6SXNzdWUyMzI1MDc3ODk=", "number": 44, "title": "Release new version (live version has XSS!)", "user": {"login": "mikelambert", "id": 7953259, "node_id": "MDQ6VXNlcjc5NTMyNTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7953259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikelambert", "html_url": "https://github.com/mikelambert", "followers_url": "https://api.github.com/users/mikelambert/followers", "following_url": "https://api.github.com/users/mikelambert/following{/other_user}", "gists_url": "https://api.github.com/users/mikelambert/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikelambert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikelambert/subscriptions", "organizations_url": "https://api.github.com/users/mikelambert/orgs", "repos_url": "https://api.github.com/users/mikelambert/repos", "events_url": "https://api.github.com/users/mikelambert/events{/privacy}", "received_events_url": "https://api.github.com/users/mikelambert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-31T09:29:06Z", "updated_at": "2017-09-30T20:05:25Z", "closed_at": "2017-09-30T20:05:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I just discovered my live site has had XSS for awhile due to my use of htmlmin. I see that the bug is fixed in github with https://github.com/mankyd/htmlmin/commit/697d4b05a6124663114bfad5480c3a89df758ccc , but it appears that htmlmin on pypi is still exploitable (and from 2015, no less!)\r\n\r\nCan you release a new pypi version, that doesn't leave all pypi users stuck with glaringly-obvious XSS holes on their site?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/43", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/43/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/43/events", "html_url": "https://github.com/mankyd/htmlmin/issues/43", "id": 213708311, "node_id": "MDU6SXNzdWUyMTM3MDgzMTE=", "number": 43, "title": "@mankyd: can you update pip package ? last update was 18 months ago", "user": {"login": "plyd", "id": 9133010, "node_id": "MDQ6VXNlcjkxMzMwMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9133010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plyd", "html_url": "https://github.com/plyd", "followers_url": "https://api.github.com/users/plyd/followers", "following_url": "https://api.github.com/users/plyd/following{/other_user}", "gists_url": "https://api.github.com/users/plyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/plyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plyd/subscriptions", "organizations_url": "https://api.github.com/users/plyd/orgs", "repos_url": "https://api.github.com/users/plyd/repos", "events_url": "https://api.github.com/users/plyd/events{/privacy}", "received_events_url": "https://api.github.com/users/plyd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-13T09:08:58Z", "updated_at": "2017-09-30T20:05:32Z", "closed_at": "2017-09-30T20:05:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can see you manage the htmlmin package on pypi.\r\nhttps://pypi.python.org/pypi/htmlmin is out of date now and does not contain last fixes.\r\nthank you very much !!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/42", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/42/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/42/events", "html_url": "https://github.com/mankyd/htmlmin/issues/42", "id": 210178723, "node_id": "MDU6SXNzdWUyMTAxNzg3MjM=", "number": 42, "title": "Empty comments results in IndexError", "user": {"login": "RevolutionTech", "id": 6820092, "node_id": "MDQ6VXNlcjY4MjAwOTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/6820092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RevolutionTech", "html_url": "https://github.com/RevolutionTech", "followers_url": "https://api.github.com/users/RevolutionTech/followers", "following_url": "https://api.github.com/users/RevolutionTech/following{/other_user}", "gists_url": "https://api.github.com/users/RevolutionTech/gists{/gist_id}", "starred_url": "https://api.github.com/users/RevolutionTech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RevolutionTech/subscriptions", "organizations_url": "https://api.github.com/users/RevolutionTech/orgs", "repos_url": "https://api.github.com/users/RevolutionTech/repos", "events_url": "https://api.github.com/users/RevolutionTech/events{/privacy}", "received_events_url": "https://api.github.com/users/RevolutionTech/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-24T22:47:25Z", "updated_at": "2017-08-25T02:58:09Z", "closed_at": "2017-08-25T02:58:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "A comment that is immediately opened and then closed results in `IndexError`.\r\n\r\n```\r\n>>> minify('<!---->')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python2.7/site-packages/htmlmin/main.py\", line 98, in minify\r\n    minifier.feed(input)\r\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/HTMLParser.py\", line 117, in feed\r\n    self.goahead(0)\r\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/HTMLParser.py\", line 165, in goahead\r\n    k = self.parse_comment(i)\r\n  File \"/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/markupbase.py\", line 178, in parse_comment\r\n    self.handle_comment(rawdata[i+4: j])\r\n  File \"/usr/local/lib/python2.7/site-packages/htmlmin/parser.py\", line 281, in handle_comment\r\n    data[1:] if data[0] == '!' else data))\r\nIndexError: string index out of range\r\n```\r\n\r\nFor now, I'm working around this issue by replacing those empty comments with `<!-- -->` before passing it to `minify`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/39", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/39/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/39/events", "html_url": "https://github.com/mankyd/htmlmin/issues/39", "id": 181654088, "node_id": "MDU6SXNzdWUxODE2NTQwODg=", "number": 39, "title": "Inconsistent behaviour between Python 2 & 3 with unicode whitespaces", "user": {"login": "Totktonada", "id": 92749, "node_id": "MDQ6VXNlcjkyNzQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/92749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Totktonada", "html_url": "https://github.com/Totktonada", "followers_url": "https://api.github.com/users/Totktonada/followers", "following_url": "https://api.github.com/users/Totktonada/following{/other_user}", "gists_url": "https://api.github.com/users/Totktonada/gists{/gist_id}", "starred_url": "https://api.github.com/users/Totktonada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Totktonada/subscriptions", "organizations_url": "https://api.github.com/users/Totktonada/orgs", "repos_url": "https://api.github.com/users/Totktonada/repos", "events_url": "https://api.github.com/users/Totktonada/events{/privacy}", "received_events_url": "https://api.github.com/users/Totktonada/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-07T12:15:38Z", "updated_at": "2017-08-25T03:02:23Z", "closed_at": "2017-08-25T03:02:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 3 has re.UNICODE flag set by default, so `\\w`, `\\s` and so on works in the another way than in Python 2. In case when htmlmin used with Python 3 all non-breaking, thin and other unicode whitespaces (utf-8 encoded, not html entity) replaced with the regular whitespace. This behaviour certainly unexpected by a user.\n\nI tried to replace `\\s` in `whitespace_re` definition with `[ \\t\\n\\r\\f\\v]` (according to the `re` module docs) and it seems working good for my case (non-breaking spaces whitepaces inside a text, not btw tags). But it possibly doesn\u2019t handle all possible cases of such differences.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/37", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/37/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/37/events", "html_url": "https://github.com/mankyd/htmlmin/issues/37", "id": 175488173, "node_id": "MDU6SXNzdWUxNzU0ODgxNzM=", "number": 37, "title": "Control handling of escaped ampersands in URLs", "user": {"login": "s-m-e", "id": 16851110, "node_id": "MDQ6VXNlcjE2ODUxMTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/16851110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/s-m-e", "html_url": "https://github.com/s-m-e", "followers_url": "https://api.github.com/users/s-m-e/followers", "following_url": "https://api.github.com/users/s-m-e/following{/other_user}", "gists_url": "https://api.github.com/users/s-m-e/gists{/gist_id}", "starred_url": "https://api.github.com/users/s-m-e/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/s-m-e/subscriptions", "organizations_url": "https://api.github.com/users/s-m-e/orgs", "repos_url": "https://api.github.com/users/s-m-e/repos", "events_url": "https://api.github.com/users/s-m-e/events{/privacy}", "received_events_url": "https://api.github.com/users/s-m-e/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 28233337, "node_id": "MDU6TGFiZWwyODIzMzMzNw==", "url": "https://api.github.com/repos/mankyd/htmlmin/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-07T12:20:15Z", "updated_at": "2017-09-30T20:06:52Z", "closed_at": "2017-09-30T20:06:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Simple  example:\n\n```\nimport htmlmin\ndef web_compress_html(content):\n     return htmlmin.minify(\n             content,\n             remove_comments = True,\n             remove_empty_space = True,\n             remove_all_empty_space = False,\n             reduce_empty_attributes = True,\n             reduce_boolean_attributes = False,\n             remove_optional_attribute_quotes = False,\n             keep_pre = True,\n             pre_tags = ('pre', 'textarea', 'nomin'),\n             pre_attr = 'pre'\n             )\n\nin[0]: web_compress_html('<!DOCTYPE html>\\n<html><head><title></title></head><body><iframe src=\"foo.com/bar?a=1&amp;b=2\"></iframe></body></html>')\nout[0]: '<!DOCTYPE html>\\n<html><head><title></title></head><body><iframe src=\"foo.com/bar?a=1&b=2\"></iframe></body></html>'\nin[1]: web_compress_html('<!DOCTYPE html>\\n<html><head><title></title></head><body><nomin><iframe src=\"foo.com/bar?a=1&amp;b=2\"></iframe></nomin></body></html>')\nout[1]: '<!DOCTYPE html>\\n<html><head><title></title></head><body><nomin><iframe src=\"foo.com/bar?a=1&b=2\"></iframe></nomin></body></html>'\n```\n\nIs there a way to control whether (or not) **ampersands in URLs** like in the above example are escaped? Thanks to w3c's validator, which is throwing tons of errors at me (error: \u201c&amp;\u201d did not start a character reference), I'd like to have a switch for this behaviour. However, no matter what I do, htmlmin will turn **&amp;amp;** into **&amp;**, even within (custom) pre-tags.\n\n(Just googled through the standards and a number of related articles. Apparently, there is not consensus on how to use ampersands in URLs - not even in the HTML5 standardization community ... and I really do not want to discuss this nonsense. This is about best practices and reducing errors while debugging a website. Nevertheless, thanks a lot for this excellent tool.)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/33", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/33/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/33/events", "html_url": "https://github.com/mankyd/htmlmin/issues/33", "id": 120617643, "node_id": "MDU6SXNzdWUxMjA2MTc2NDM=", "number": 33, "title": "Removes quotes when attribute value contains =", "user": {"login": "avacariu", "id": 631497, "node_id": "MDQ6VXNlcjYzMTQ5Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/631497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avacariu", "html_url": "https://github.com/avacariu", "followers_url": "https://api.github.com/users/avacariu/followers", "following_url": "https://api.github.com/users/avacariu/following{/other_user}", "gists_url": "https://api.github.com/users/avacariu/gists{/gist_id}", "starred_url": "https://api.github.com/users/avacariu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avacariu/subscriptions", "organizations_url": "https://api.github.com/users/avacariu/orgs", "repos_url": "https://api.github.com/users/avacariu/repos", "events_url": "https://api.github.com/users/avacariu/events{/privacy}", "received_events_url": "https://api.github.com/users/avacariu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-06T08:16:42Z", "updated_at": "2017-08-25T00:11:09Z", "closed_at": "2017-08-25T00:11:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Example:\n\n```\nIn [3]: htmlmin.minify('<meta name=\"viewport\" content=\"width=device-width\">')\nOut[3]: '<meta name=viewport content=width=device-width>'\n```\n\nThe output is invalid since you can't have an = in an unquoted attribute value.\n\nThe fix is just to add `or '='  in val` to https://github.com/mankyd/htmlmin/blob/master/htmlmin/escape.py#L64\n\nI'll create a PR with the fix + some tests.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/32", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/32/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/32/events", "html_url": "https://github.com/mankyd/htmlmin/issues/32", "id": 119058472, "node_id": "MDU6SXNzdWUxMTkwNTg0NzI=", "number": 32, "title": "\">\" incorrectly transformed as >", "user": {"login": "plyd", "id": 9133010, "node_id": "MDQ6VXNlcjkxMzMwMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9133010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plyd", "html_url": "https://github.com/plyd", "followers_url": "https://api.github.com/users/plyd/followers", "following_url": "https://api.github.com/users/plyd/following{/other_user}", "gists_url": "https://api.github.com/users/plyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/plyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plyd/subscriptions", "organizations_url": "https://api.github.com/users/plyd/orgs", "repos_url": "https://api.github.com/users/plyd/repos", "events_url": "https://api.github.com/users/plyd/events{/privacy}", "received_events_url": "https://api.github.com/users/plyd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-26T14:51:27Z", "updated_at": "2017-08-25T00:11:10Z", "closed_at": "2017-08-25T00:11:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "<input value=\">\"> is transformed in <input value=>> which is not good HTML.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/29", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/29/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/29/events", "html_url": "https://github.com/mankyd/htmlmin/issues/29", "id": 107819433, "node_id": "MDU6SXNzdWUxMDc4MTk0MzM=", "number": 29, "title": "HTML Entities get decoded when minifying", "user": {"login": "Tenzer", "id": 68696, "node_id": "MDQ6VXNlcjY4Njk2", "avatar_url": "https://avatars3.githubusercontent.com/u/68696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tenzer", "html_url": "https://github.com/Tenzer", "followers_url": "https://api.github.com/users/Tenzer/followers", "following_url": "https://api.github.com/users/Tenzer/following{/other_user}", "gists_url": "https://api.github.com/users/Tenzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tenzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tenzer/subscriptions", "organizations_url": "https://api.github.com/users/Tenzer/orgs", "repos_url": "https://api.github.com/users/Tenzer/repos", "events_url": "https://api.github.com/users/Tenzer/events{/privacy}", "received_events_url": "https://api.github.com/users/Tenzer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-22T23:01:13Z", "updated_at": "2015-09-22T23:26:24Z", "closed_at": "2015-09-22T23:26:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I have a problem where htmlmin really can screw up a site. Consider this:\n\n```\nPython 3.5.0 (default, Sep 14 2015, 02:37:27)\n[GCC 4.2.1 Compatible Apple LLVM 6.1.0 (clang-602.0.53)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from htmlmin import minify\n>>> minify('<code>&lt;script&gt;</code>')\n'<code><script></code>'\n```\n\nIt's pretty dangerous to have the escaped, safe, tag get unescaped, as the rest of the site then will be swallowed into the `<script>` tag, unless you have a end tag further down the page.\n\nI don't know if this, like #17, is down to the Python HTML parser trying to be clever, and decodes it automatically without htmlmin knowing about it, or if it's something that can be solved.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/26", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/26/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/26/events", "html_url": "https://github.com/mankyd/htmlmin/issues/26", "id": 105338127, "node_id": "MDU6SXNzdWUxMDUzMzgxMjc=", "number": 26, "title": "javascript in attribute ", "user": {"login": "fredj", "id": 100959, "node_id": "MDQ6VXNlcjEwMDk1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/100959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredj", "html_url": "https://github.com/fredj", "followers_url": "https://api.github.com/users/fredj/followers", "following_url": "https://api.github.com/users/fredj/following{/other_user}", "gists_url": "https://api.github.com/users/fredj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredj/subscriptions", "organizations_url": "https://api.github.com/users/fredj/orgs", "repos_url": "https://api.github.com/users/fredj/repos", "events_url": "https://api.github.com/users/fredj/events{/privacy}", "received_events_url": "https://api.github.com/users/fredj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-08T09:21:35Z", "updated_at": "2015-09-08T14:44:46Z", "closed_at": "2015-09-08T14:44:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Logical AND (`&&`) in attributes are incorrectly minified:\n\n``` python\n>>> import htmlmin\n>>> htmlmin.minify(u\"<div ng-if='foo && bar'></div>\")\nu'<div ng-if=foo & bar></div>'\n```\n\nBut it works with logical OR:\n\n``` python\n>>> import htmlmin\n>>> htmlmin.minify(u\"<div ng-if='foo || bar'></div>\")\nu'<div ng-if=foo || bar></div>'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/24", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/24/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/24/events", "html_url": "https://github.com/mankyd/htmlmin/issues/24", "id": 105107037, "node_id": "MDU6SXNzdWUxMDUxMDcwMzc=", "number": 24, "title": "Better Escaping of Attributes", "user": {"login": "mankyd", "id": 39662, "node_id": "MDQ6VXNlcjM5NjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/39662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mankyd", "html_url": "https://github.com/mankyd", "followers_url": "https://api.github.com/users/mankyd/followers", "following_url": "https://api.github.com/users/mankyd/following{/other_user}", "gists_url": "https://api.github.com/users/mankyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/mankyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mankyd/subscriptions", "organizations_url": "https://api.github.com/users/mankyd/orgs", "repos_url": "https://api.github.com/users/mankyd/repos", "events_url": "https://api.github.com/users/mankyd/events{/privacy}", "received_events_url": "https://api.github.com/users/mankyd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-09-06T17:58:10Z", "updated_at": "2015-09-08T02:15:51Z", "closed_at": "2015-09-08T02:15:51Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Per https://github.com/mankyd/htmlmin/pull/22, we currently escape `<` and other characters that don't require escaping.\n\nAccording to the spec, only `\"`, `'`, and `&` potentially require escaping: https://html.spec.whatwg.org/multipage/syntax.html#syntax-attributes\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/17", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/17/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/17/events", "html_url": "https://github.com/mankyd/htmlmin/issues/17", "id": 58468878, "node_id": "MDU6SXNzdWU1ODQ2ODg3OA==", "number": 17, "title": "pre_attr does not work as expected", "user": {"login": "markfink", "id": 33456, "node_id": "MDQ6VXNlcjMzNDU2", "avatar_url": "https://avatars0.githubusercontent.com/u/33456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markfink", "html_url": "https://github.com/markfink", "followers_url": "https://api.github.com/users/markfink/followers", "following_url": "https://api.github.com/users/markfink/following{/other_user}", "gists_url": "https://api.github.com/users/markfink/gists{/gist_id}", "starred_url": "https://api.github.com/users/markfink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markfink/subscriptions", "organizations_url": "https://api.github.com/users/markfink/orgs", "repos_url": "https://api.github.com/users/markfink/repos", "events_url": "https://api.github.com/users/markfink/events{/privacy}", "received_events_url": "https://api.github.com/users/markfink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 28233337, "node_id": "MDU6TGFiZWwyODIzMzMzNw==", "url": "https://api.github.com/repos/mankyd/htmlmin/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-21T18:18:16Z", "updated_at": "2017-09-30T15:34:08Z", "closed_at": "2017-09-30T15:34:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am maintainer of buccaneer a static site generator. I have a \"minify\" plugin that uses htmlmin. During testing we discovered an issue.\n\nOur expectation was that htmlmin would leave the href attribute intact (given appropriate config):\n\n```\n<a class=\"reference external\" href=\"mailto:sam&#37;&#52;&#48;sample&#46;com\">sam<span>&#64;</span>sample<span>&#46;</span>com</a>\n```\n\n...but it modifies the href attribute anyway:\n\n```\n<a class=\"reference external\" href=\"mailto:sam%40sample.com\">sam<span>&#64;</span>sample<span>&#46;</span>com</a>\n```\n\nhere the code that calls into htmlmin:\n\n```\n            logger.debug('Minifying: %s' % filename)\n            compressed = min(uncompressed, remove_comments=True,\n                             remove_all_empty_space=True,\n                             remove_empty_space=True,\n                             keep_pre=True,\n                             pre_attr='href')\n            f.write(compressed)\n```\n\nplease let me know what you think. Thank you.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/11", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/11/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/11/events", "html_url": "https://github.com/mankyd/htmlmin/issues/11", "id": 43176192, "node_id": "MDU6SXNzdWU0MzE3NjE5Mg==", "number": 11, "title": "utf-8 support", "user": {"login": "ftcmnc", "id": 85894, "node_id": "MDQ6VXNlcjg1ODk0", "avatar_url": "https://avatars1.githubusercontent.com/u/85894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ftcmnc", "html_url": "https://github.com/ftcmnc", "followers_url": "https://api.github.com/users/ftcmnc/followers", "following_url": "https://api.github.com/users/ftcmnc/following{/other_user}", "gists_url": "https://api.github.com/users/ftcmnc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ftcmnc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ftcmnc/subscriptions", "organizations_url": "https://api.github.com/users/ftcmnc/orgs", "repos_url": "https://api.github.com/users/ftcmnc/repos", "events_url": "https://api.github.com/users/ftcmnc/events{/privacy}", "received_events_url": "https://api.github.com/users/ftcmnc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-18T20:40:18Z", "updated_at": "2015-04-25T13:12:06Z", "closed_at": "2015-04-25T13:12:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is not possible to parse this:\n\n`htmlmin.minify('<a href=\"http://example.com/?a=1&b=2\" title=\"Tom\u00e9\">Tom\u00e9</a>')`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/9", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/9/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/9/events", "html_url": "https://github.com/mankyd/htmlmin/issues/9", "id": 28648729, "node_id": "MDU6SXNzdWUyODY0ODcyOQ==", "number": 9, "title": "Spaces are stripped around html symbols but shouldn't", "user": {"login": "tasn", "id": 108670, "node_id": "MDQ6VXNlcjEwODY3MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/108670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tasn", "html_url": "https://github.com/tasn", "followers_url": "https://api.github.com/users/tasn/followers", "following_url": "https://api.github.com/users/tasn/following{/other_user}", "gists_url": "https://api.github.com/users/tasn/gists{/gist_id}", "starred_url": "https://api.github.com/users/tasn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tasn/subscriptions", "organizations_url": "https://api.github.com/users/tasn/orgs", "repos_url": "https://api.github.com/users/tasn/repos", "events_url": "https://api.github.com/users/tasn/events{/privacy}", "received_events_url": "https://api.github.com/users/tasn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 28233335, "node_id": "MDU6TGFiZWwyODIzMzMzNQ==", "url": "https://api.github.com/repos/mankyd/htmlmin/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "mankyd", "id": 39662, "node_id": "MDQ6VXNlcjM5NjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/39662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mankyd", "html_url": "https://github.com/mankyd", "followers_url": "https://api.github.com/users/mankyd/followers", "following_url": "https://api.github.com/users/mankyd/following{/other_user}", "gists_url": "https://api.github.com/users/mankyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/mankyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mankyd/subscriptions", "organizations_url": "https://api.github.com/users/mankyd/orgs", "repos_url": "https://api.github.com/users/mankyd/repos", "events_url": "https://api.github.com/users/mankyd/events{/privacy}", "received_events_url": "https://api.github.com/users/mankyd/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mankyd", "id": 39662, "node_id": "MDQ6VXNlcjM5NjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/39662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mankyd", "html_url": "https://github.com/mankyd", "followers_url": "https://api.github.com/users/mankyd/followers", "following_url": "https://api.github.com/users/mankyd/following{/other_user}", "gists_url": "https://api.github.com/users/mankyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/mankyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mankyd/subscriptions", "organizations_url": "https://api.github.com/users/mankyd/orgs", "repos_url": "https://api.github.com/users/mankyd/repos", "events_url": "https://api.github.com/users/mankyd/events{/privacy}", "received_events_url": "https://api.github.com/users/mankyd/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2014-03-03T19:25:00Z", "updated_at": "2014-03-04T21:54:32Z", "closed_at": "2014-03-04T21:53:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\"Foo &euro; bar\" should remain with the spaces around it.\nI've tested it in <title>, so it's surely broken there.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/7", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/7/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/7/events", "html_url": "https://github.com/mankyd/htmlmin/issues/7", "id": 28175400, "node_id": "MDU6SXNzdWUyODE3NTQwMA==", "number": 7, "title": "new pypi release", "user": {"login": "trbs", "id": 65552, "node_id": "MDQ6VXNlcjY1NTUy", "avatar_url": "https://avatars0.githubusercontent.com/u/65552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trbs", "html_url": "https://github.com/trbs", "followers_url": "https://api.github.com/users/trbs/followers", "following_url": "https://api.github.com/users/trbs/following{/other_user}", "gists_url": "https://api.github.com/users/trbs/gists{/gist_id}", "starred_url": "https://api.github.com/users/trbs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trbs/subscriptions", "organizations_url": "https://api.github.com/users/trbs/orgs", "repos_url": "https://api.github.com/users/trbs/repos", "events_url": "https://api.github.com/users/trbs/events{/privacy}", "received_events_url": "https://api.github.com/users/trbs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-02-24T16:36:57Z", "updated_at": "2014-03-04T22:05:55Z", "closed_at": "2014-03-04T22:05:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Can we have a new PyPi release ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mankyd/htmlmin/issues/3", "repository_url": "https://api.github.com/repos/mankyd/htmlmin", "labels_url": "https://api.github.com/repos/mankyd/htmlmin/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/mankyd/htmlmin/issues/3/comments", "events_url": "https://api.github.com/repos/mankyd/htmlmin/issues/3/events", "html_url": "https://github.com/mankyd/htmlmin/issues/3", "id": 19494235, "node_id": "MDU6SXNzdWUxOTQ5NDIzNQ==", "number": 3, "title": "build_tag error on python 2.6 , on 2.7 is ok", "user": {"login": "viirak", "id": 14965, "node_id": "MDQ6VXNlcjE0OTY1", "avatar_url": "https://avatars1.githubusercontent.com/u/14965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viirak", "html_url": "https://github.com/viirak", "followers_url": "https://api.github.com/users/viirak/followers", "following_url": "https://api.github.com/users/viirak/following{/other_user}", "gists_url": "https://api.github.com/users/viirak/gists{/gist_id}", "starred_url": "https://api.github.com/users/viirak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viirak/subscriptions", "organizations_url": "https://api.github.com/users/viirak/orgs", "repos_url": "https://api.github.com/users/viirak/repos", "events_url": "https://api.github.com/users/viirak/events{/privacy}", "received_events_url": "https://api.github.com/users/viirak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 28233337, "node_id": "MDU6TGFiZWwyODIzMzMzNw==", "url": "https://api.github.com/repos/mankyd/htmlmin/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 28233340, "node_id": "MDU6TGFiZWwyODIzMzM0MA==", "url": "https://api.github.com/repos/mankyd/htmlmin/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-09-14T10:03:16Z", "updated_at": "2015-09-06T17:54:14Z", "closed_at": "2015-09-06T17:54:06Z", "author_association": "NONE", "active_lock_reason": null, "body": ".... /htmlmin/parser.py\", line 112, in build_tag\nresult = '<{}'.format(escape(tag))\nValueError: zero length field name in format\n", "performed_via_github_app": null, "score": 1.0}]}