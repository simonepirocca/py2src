{"total_count": 1129, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/mapbox/rasterio/issues/1979", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1979/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1979/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1979/events", "html_url": "https://github.com/mapbox/rasterio/issues/1979", "id": 681056255, "node_id": "MDU6SXNzdWU2ODEwNTYyNTU=", "number": 1979, "title": "[Question] - How sum two raster with different shapes", "user": {"login": "byander", "id": 6788360, "node_id": "MDQ6VXNlcjY3ODgzNjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6788360?v=4", "gravatar_id": "", "url": "https://api.github.com/users/byander", "html_url": "https://github.com/byander", "followers_url": "https://api.github.com/users/byander/followers", "following_url": "https://api.github.com/users/byander/following{/other_user}", "gists_url": "https://api.github.com/users/byander/gists{/gist_id}", "starred_url": "https://api.github.com/users/byander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/byander/subscriptions", "organizations_url": "https://api.github.com/users/byander/orgs", "repos_url": "https://api.github.com/users/byander/repos", "events_url": "https://api.github.com/users/byander/events{/privacy}", "received_events_url": "https://api.github.com/users/byander/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-18T13:46:52Z", "updated_at": "2020-08-18T15:45:29Z", "closed_at": "2020-08-18T15:45:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm developing a system and I need sum two raster with different shapes.\r\nI've a DEM raster with a resolution of 30 meters and another raster with a resolution of 10 meters, both clipped in the same area by a polygon.\r\n\r\nWhen I trying sum the rasters I get the error: `ValueError: operands could not be broadcast together with shapes.`\r\n\r\nI know that rasterio read raster as numpy array, but If I use the Raster Calculator from QGIS software, I can sum the rasters without problem. \r\n\r\nI would like sum the rasters without use command line, e.g. `rio calc` or `gdal_calc.py`, but I not found a example to implement this.\r\n\r\nThank's for any help.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1977", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1977/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1977/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1977/events", "html_url": "https://github.com/mapbox/rasterio/issues/1977", "id": 679793625, "node_id": "MDU6SXNzdWU2Nzk3OTM2MjU=", "number": 1977, "title": "Installation Failure", "user": {"login": "pepeto", "id": 6829629, "node_id": "MDQ6VXNlcjY4Mjk2Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6829629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pepeto", "html_url": "https://github.com/pepeto", "followers_url": "https://api.github.com/users/pepeto/followers", "following_url": "https://api.github.com/users/pepeto/following{/other_user}", "gists_url": "https://api.github.com/users/pepeto/gists{/gist_id}", "starred_url": "https://api.github.com/users/pepeto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pepeto/subscriptions", "organizations_url": "https://api.github.com/users/pepeto/orgs", "repos_url": "https://api.github.com/users/pepeto/repos", "events_url": "https://api.github.com/users/pepeto/events{/privacy}", "received_events_url": "https://api.github.com/users/pepeto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-16T17:34:11Z", "updated_at": "2020-08-17T14:30:47Z", "closed_at": "2020-08-17T14:30:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems like is not ready for Python 3.8. Do I have to downgrade the python version? I don't know how to solve the CUDA problem. Please help, tahnk you!\r\n\r\nAfter executing: \r\n\r\nconda install -c conda-forge/label/cf201901 rasterstats\r\n\r\nor\r\n\r\nconda install -c conda-forge/label/gcc7 rasterstats\r\n\r\n**I receive this message**:\r\n\r\nSpecifications:\r\n\r\n  - rasterstats -> python[version='2.7.*|3.5.*|3.6.*|3.4.*']\r\n\r\nYour python: python=3.8\r\n\r\nIf python is on the left-most side of the chain, that's the version you've asked for.\r\nWhen python appears to the right, that indicates that the thing on the left is somehow\r\nnot available for the python version you are constrained to. Note that conda will not\r\nchange your python version to a different minor version unless you explicitly specify\r\nthat.\r\n\r\nThe following specifications were found to be incompatible with your system:\r\n\r\n  - feature:/win-64::__cuda==11.0=0\r\n  - feature:|@/win-64::__cuda==11.0=0\r\n\r\nYour installed version is: 11.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1973", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1973/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1973/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1973/events", "html_url": "https://github.com/mapbox/rasterio/issues/1973", "id": 673467684, "node_id": "MDU6SXNzdWU2NzM0Njc2ODQ=", "number": 1973, "title": "Image Compression", "user": {"login": "digital-idiot", "id": 10576475, "node_id": "MDQ6VXNlcjEwNTc2NDc1", "avatar_url": "https://avatars2.githubusercontent.com/u/10576475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digital-idiot", "html_url": "https://github.com/digital-idiot", "followers_url": "https://api.github.com/users/digital-idiot/followers", "following_url": "https://api.github.com/users/digital-idiot/following{/other_user}", "gists_url": "https://api.github.com/users/digital-idiot/gists{/gist_id}", "starred_url": "https://api.github.com/users/digital-idiot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digital-idiot/subscriptions", "organizations_url": "https://api.github.com/users/digital-idiot/orgs", "repos_url": "https://api.github.com/users/digital-idiot/repos", "events_url": "https://api.github.com/users/digital-idiot/events{/privacy}", "received_events_url": "https://api.github.com/users/digital-idiot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-05T11:30:15Z", "updated_at": "2020-08-05T14:53:57Z", "closed_at": "2020-08-05T14:53:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have noticed that result of image compression in `rasterio` is **not** exactly identical to that of `GDAL`. For example:\r\n\r\nI am trying to compress a GeoTIFF of size **171.7 MiB** (5 \u00d7 6000 \u00d7 6000 | `uint8`) as follows:\r\n\r\n```python\r\nwith rio.open('RGBIR_Potsdam_04_12.tif', 'r') as src: \r\n    meta = src.meta.copy() \r\n    meta['compress'] = 'LZW' \r\n    meta['tiled'] = True \r\n    with rio.open('RGBIR_Potsdam_04_12_RIO.tif', 'w', **meta) as dst: \r\n        dst.write(src.read())\r\n```\r\nThe size of compressed file `'RGBIR_Potsdam_04_12_RIO.tif'` is **147.6 MiB**. However, when I compress the same file using:\r\n```bash\r\ngdal_translate -co compress=lzw -co predictor=2 -co tiled=yes RGBIR_Potsdam_04_12.tif RGBIR_Potsdam_04_12_GDAL.tif\r\n```\r\nThe resultant file `'RGBIR_Potsdam_04_12.tif RGBIR_Potsdam_04_12_GDAL.tif'` has the size of **86.1 MiB**.\r\n\r\nEvidently, there is a significant difference between the two compressions. \r\n* Why is it so?\r\n* Is it due to the `predictor` argument?\r\n* How to achieve the same level of compression using `rasterio`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1970", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1970/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1970/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1970/events", "html_url": "https://github.com/mapbox/rasterio/issues/1970", "id": 669608260, "node_id": "MDU6SXNzdWU2Njk2MDgyNjA=", "number": 1970, "title": "GDAL doesn't include file gcs.csv anymore", "user": {"login": "12rambau", "id": 12596392, "node_id": "MDQ6VXNlcjEyNTk2Mzky", "avatar_url": "https://avatars3.githubusercontent.com/u/12596392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/12rambau", "html_url": "https://github.com/12rambau", "followers_url": "https://api.github.com/users/12rambau/followers", "following_url": "https://api.github.com/users/12rambau/following{/other_user}", "gists_url": "https://api.github.com/users/12rambau/gists{/gist_id}", "starred_url": "https://api.github.com/users/12rambau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/12rambau/subscriptions", "organizations_url": "https://api.github.com/users/12rambau/orgs", "repos_url": "https://api.github.com/users/12rambau/repos", "events_url": "https://api.github.com/users/12rambau/events{/privacy}", "received_events_url": "https://api.github.com/users/12rambau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-31T09:22:03Z", "updated_at": "2020-07-31T17:34:35Z", "closed_at": "2020-07-31T14:11:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## description \r\n\r\nI'm using [geemap](https://github.com/giswqs/geemap) to display a raster on a created map. \r\nThis lib use `xarray_leaflet` to display the raster and this lib will end up using `rasterio` to manipulate the .tif file. \r\n\r\nWhen I launch my display :\r\n\r\n```\r\nm = geemap.Map()\r\nm.add_raster(clip_map, colormap='terrain', layer_name='gfc')\r\n```\r\n\r\nI get the following error :\r\n> CRSError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n\r\nThis error is everywhere on SO so I tried to verify if my GDAL_DATA env variable was coorectly set : \r\n```py\r\nimport os\r\nimport stat\r\ngdal_data = os.environ['GDAL_DATA']\r\nprint('is dir: ' + str(os.path.isdir(gdal_data)))\r\ngcs_csv = os.path.join(gdal_data, 'gcs.csv')\r\nprint('is file: ' + str(os.path.isfile(gcs_csv)))\r\nst = os.stat(gcs_csv)\r\nprint('is readable: ' + str(bool(st.st_mode & stat.S_IRGRP)))\r\n\r\n# out \r\n# is dir: True\r\n#is file: False\r\n#FileNotFoundError: [Errno 2] No such file or directory: '/usr/share/gdal/gcs.csv'\r\n```\r\n\r\ngoing to the glad distrib inb the `NEWS` file, I read that they removed lots of file in 3.0 including `gcs.csv`. So it's no longer included in my folder. \r\n\r\nIs there a workaround ? \r\n\r\n## setup \r\nrasterio==1.1.5\r\npython==3.6\r\ngeemap==0.7.9\r\ngdal==3.0.4\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1968", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1968/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1968/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1968/events", "html_url": "https://github.com/mapbox/rasterio/issues/1968", "id": 667303237, "node_id": "MDU6SXNzdWU2NjczMDMyMzc=", "number": 1968, "title": "ResamplingAlgorithmError when reading tif file with med method", "user": {"login": "anshver92", "id": 53874794, "node_id": "MDQ6VXNlcjUzODc0Nzk0", "avatar_url": "https://avatars0.githubusercontent.com/u/53874794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anshver92", "html_url": "https://github.com/anshver92", "followers_url": "https://api.github.com/users/anshver92/followers", "following_url": "https://api.github.com/users/anshver92/following{/other_user}", "gists_url": "https://api.github.com/users/anshver92/gists{/gist_id}", "starred_url": "https://api.github.com/users/anshver92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anshver92/subscriptions", "organizations_url": "https://api.github.com/users/anshver92/orgs", "repos_url": "https://api.github.com/users/anshver92/repos", "events_url": "https://api.github.com/users/anshver92/events{/privacy}", "received_events_url": "https://api.github.com/users/anshver92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-28T19:08:56Z", "updated_at": "2020-07-28T19:39:35Z", "closed_at": "2020-07-28T19:39:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am downsampling a tif file by a factor of 1/5. I am trying to use resampling with the med method. The code used is taken direcly from the documentation [here](https://rasterio.readthedocs.io/en/latest/topics/resampling.html). I get the following error after running the code below in Jupyter\r\n\r\n```python\r\n---------------------------------------------------------------------------\r\nResamplingAlgorithmError                  Traceback (most recent call last)\r\n<ipython-input-5-e7d066bc3be4> in <module>\r\n     13             int(dataset.width * upscale_factor)\r\n     14         ),\r\n---> 15         resampling=Resampling.med\r\n     16     )\r\n     17 \r\n\r\nrasterio\\_io.pyx in rasterio._io.DatasetReaderBase.read()\r\n\r\nrasterio\\_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nrasterio\\shim_rasterioex.pxi in rasterio._shim.io_multi_band()\r\n\r\nResamplingAlgorithmError: <Resampling.med: 10> can be used for warp operations but not for reads and writes\r\n```\r\n\r\nI tried with max, min, q1, q3 all with the same error. Seems to work fine with other options e.g. bilinear, cubic, mode etc\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nExpected to run resampling with med option.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport os\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\nimport numpy.ma as ma\r\nimport pandas as pd\r\nimport rasterio as rio\r\nfrom rasterio.enums import Resampling\r\n\r\nupscale_factor = 1/5\r\n\r\nwith rio.open(path) as dataset:\r\n\r\n    # resample data to target shape\r\n    data = dataset.read(1, masked=True,\r\n        out_shape=(\r\n            dataset.count,\r\n            int(dataset.height * upscale_factor),\r\n            int(dataset.width * upscale_factor)\r\n        ),\r\n        resampling=Resampling.med\r\n    )\r\n\r\n    # scale image transform\r\n    transform = dataset.transform * dataset.transform.scale(\r\n        (dataset.width / data.shape[-1]),\r\n        (dataset.height / data.shape[-2])\r\n    )\r\n```\r\n\r\n## Operating system\r\n\r\nWindows 10\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio version 1.1.5 and GDAL version 3.1.2 both installed using pip and whl from [here](https://www.lfd.uci.edu/~gohlke/pythonlibs/) as recommended in the install instructions readme for Windows.\r\nGDAL\u20113.1.2\u2011cp37\u2011cp37m\u2011win_amd64.whl\r\nrasterio\u20111.1.5\u2011cp37\u2011cp37m\u2011win_amd64.whl\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1966", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1966/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1966/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1966/events", "html_url": "https://github.com/mapbox/rasterio/issues/1966", "id": 657824895, "node_id": "MDU6SXNzdWU2NTc4MjQ4OTU=", "number": 1966, "title": "Reprojected raster does not contain lat/lon metadata", "user": {"login": "Tokusei", "id": 4631534, "node_id": "MDQ6VXNlcjQ2MzE1MzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4631534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tokusei", "html_url": "https://github.com/Tokusei", "followers_url": "https://api.github.com/users/Tokusei/followers", "following_url": "https://api.github.com/users/Tokusei/following{/other_user}", "gists_url": "https://api.github.com/users/Tokusei/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tokusei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tokusei/subscriptions", "organizations_url": "https://api.github.com/users/Tokusei/orgs", "repos_url": "https://api.github.com/users/Tokusei/repos", "events_url": "https://api.github.com/users/Tokusei/events{/privacy}", "received_events_url": "https://api.github.com/users/Tokusei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-16T03:55:05Z", "updated_at": "2020-07-16T21:06:23Z", "closed_at": "2020-07-16T21:06:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I need to reproject a source GeoTIFF to another CRS, Afterwards, I need to provide the lat/lon data of the tile + CRS to download additional data. Right now, Printing the metadata of the reprojected file is not showing lat/lon data. I am pretty new to GIS, Is the lat/lon the same as the source, or do some reprojection methods modify it?\r\n\r\nsource:\r\n`GridTIF.meta`\r\n```{'driver': 'GTiff',\r\n 'dtype': 'int32',\r\n 'nodata': 2147483647.0,\r\n 'width': 5049,\r\n 'height': 5582,\r\n 'count': 1,\r\n 'crs': CRS.from_wkt('PROJCS[\"Albers_Conic_Equal_Area\",GEOGCS[\"GCS_Unknown_datum_based_upon_the_Krassowsky_1940_ellipsoid\",DATUM[\"Not_specified_based_on_Krassowsky_1940_ellipsoid\",SPHEROID[\"Krasovsky_1940\",6378245,298.3,AUTHORITY[\"EPSG\",\"7024\"]],AUTHORITY[\"EPSG\",\"6024\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433]],PROJECTION[\"Albers_Conic_Equal_Area\"],PARAMETER[\"standard_parallel_1\",25],PARAMETER[\"standard_parallel_2\",47],PARAMETER[\"latitude_of_center\",0],PARAMETER[\"longitude_of_center\",105],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]]]'),\r\n 'transform': Affine(1000.0, 0.0, -2638055.0614613006,\r\n        0.0, -1000.0, 5922165.484718928)}\r\n```\r\n`GridTIF.crs.data`\r\n```\r\n\r\n{'proj': 'aea',\r\n 'lat_1': 25,\r\n 'lat_2': 47,\r\n 'lat_0': 0,\r\n 'lon_0': 105,\r\n 'x_0': 0,\r\n 'y_0': 0,\r\n 'ellps': 'krass',\r\n 'units': 'm',\r\n 'no_defs': True}\r\n```\r\ntransformation function:\r\n\r\n```Python\r\n\r\n#destination CRS\r\ndst_crs = 'EPSG:3857'\r\n\r\n#in/out paths\r\nsourceTIF = \"2010Pop/cnpop2010.tif\"\r\nreprojectedTIF = \"2010Pop/cnpop2010_3857.tif\"\r\n\r\n\r\nwith rio.open(sourceTIF) as src:\r\n    transform, width, height = calculate_default_transform(\r\n        src.crs, dst_crs, src.width, src.height, *src.bounds)\r\n    kwargs = src.meta.copy()\r\n    kwargs.update({\r\n        'crs': dst_crs,\r\n        'transform': transform,\r\n        'width': width,\r\n        'height': height\r\n    })\r\n\r\n    with rio.open(reprojectedTIF, 'w', **kwargs) as dst:\r\n        for i in range(1, src.count + 1):\r\n            reproject(\r\n                source=rio.band(src, i),\r\n                destination=rio.band(dst, i),\r\n                src_transform=src.transform,\r\n                src_crs=src.crs,\r\n                dst_transform=transform,\r\n                dst_crs=dst_crs,\r\n                resampling=Resampling.nearest)\r\nwgs84TIF = rio.open(reprojectedTIF)\r\n\r\nprint(wgs84TIF.meta)\r\n```\r\n```\r\n{'driver': 'GTiff',\r\n 'dtype': 'int32',\r\n 'nodata': 2147483647.0,\r\n 'width': 6708,\r\n 'height': 6102,\r\n 'count': 1,\r\n 'crs': CRS.from_dict(init='epsg:3857'),\r\n 'transform': Affine(1184.7466003556895, 0.0, 7551104.353792087,\r\n        0.0, -1184.7466003556895, 7299154.069454485)}\r\n```\r\nchecking new CRS data\r\n`wgs84TIF.crs.data`\r\n```\r\n{'init': 'epsg:3857'}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1957", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1957/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1957/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1957/events", "html_url": "https://github.com/mapbox/rasterio/issues/1957", "id": 651914431, "node_id": "MDU6SXNzdWU2NTE5MTQ0MzE=", "number": 1957, "title": "PROPOSAL: Support obects with __array__ method", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/98", "html_url": "https://github.com/mapbox/rasterio/milestone/98", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/98/labels", "id": 5533146, "node_id": "MDk6TWlsZXN0b25lNTUzMzE0Ng==", "number": 98, "title": "1.1.6", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 7, "closed_issues": 3, "state": "open", "created_at": "2020-06-11T19:36:28Z", "updated_at": "2020-08-19T22:10:40Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2020-07-07T01:12:49Z", "updated_at": "2020-07-29T04:38:27Z", "closed_at": "2020-07-29T04:38:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related: https://github.com/pyproj4/pyproj/issues/573\r\n\r\nCurrently get errors like:\r\n```\r\nAttributeError: 'DataArray' object has no attribute 'reshape'\r\n```\r\nThis would enable passing in an `xarray.DataArray` or `dask.array` directly into any of the rasterio methods that accept a numpy array.\r\n\r\nOption 1: Use `__array__()` method at the start of methods requiring a `numpy.array`.\r\nOption 2: Call `numpy.array()` on all inputs requiring a `numpy.array` if it is not one already (this would potentially enable support of other objects that could be converted into a `numpy.array`.\r\n\r\nThoughts?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1956", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1956/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1956/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1956/events", "html_url": "https://github.com/mapbox/rasterio/issues/1956", "id": 650943437, "node_id": "MDU6SXNzdWU2NTA5NDM0Mzc=", "number": 1956, "title": "How can I mask with rasterio mask so that outside of the shapefile is labeled with different values? If I update with no data as a particular value,then the inside the raster zeroes values are updated", "user": {"login": "dassatabdi24", "id": 46863677, "node_id": "MDQ6VXNlcjQ2ODYzNjc3", "avatar_url": "https://avatars3.githubusercontent.com/u/46863677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dassatabdi24", "html_url": "https://github.com/dassatabdi24", "followers_url": "https://api.github.com/users/dassatabdi24/followers", "following_url": "https://api.github.com/users/dassatabdi24/following{/other_user}", "gists_url": "https://api.github.com/users/dassatabdi24/gists{/gist_id}", "starred_url": "https://api.github.com/users/dassatabdi24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dassatabdi24/subscriptions", "organizations_url": "https://api.github.com/users/dassatabdi24/orgs", "repos_url": "https://api.github.com/users/dassatabdi24/repos", "events_url": "https://api.github.com/users/dassatabdi24/events{/privacy}", "received_events_url": "https://api.github.com/users/dassatabdi24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-04T19:24:06Z", "updated_at": "2020-07-07T14:35:58Z", "closed_at": "2020-07-07T14:35:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nFor example: I expected to read a band from a file and an exception occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nFor example: a brief script with required inputs.\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS X 10.12.3.\r\n\r\n## Rasterio version and provenance\r\n\r\nFor example: the 1.0a11 manylinux1 wheel installed from PyPI using pip 9.0.1.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1954", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1954/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1954/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1954/events", "html_url": "https://github.com/mapbox/rasterio/issues/1954", "id": 643423909, "node_id": "MDU6SXNzdWU2NDM0MjM5MDk=", "number": 1954, "title": "KEA driver not found", "user": {"login": "cmarshak", "id": 5975894, "node_id": "MDQ6VXNlcjU5NzU4OTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5975894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmarshak", "html_url": "https://github.com/cmarshak", "followers_url": "https://api.github.com/users/cmarshak/followers", "following_url": "https://api.github.com/users/cmarshak/following{/other_user}", "gists_url": "https://api.github.com/users/cmarshak/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmarshak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmarshak/subscriptions", "organizations_url": "https://api.github.com/users/cmarshak/orgs", "repos_url": "https://api.github.com/users/cmarshak/repos", "events_url": "https://api.github.com/users/cmarshak/events{/privacy}", "received_events_url": "https://api.github.com/users/cmarshak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-22T23:34:10Z", "updated_at": "2020-06-23T00:22:27Z", "closed_at": "2020-06-22T23:52:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI want to use the `KEA` driver, which is good at compressing the size of rasters. I just updated rasterio on several machines with `pip` and am now getting the following error: `DriverRegistrationError: ('No such driver registered: %s', b'KEA')`\r\n\r\nI was using the `KEA` driver previously without any problems.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio\r\nfrom affine import Affine\r\nimport numpy as np\r\n\r\nprofile = {'driver': 'KEA', \r\n           'tiled': True, 'blockxsize': 256, 'blockysize': 256, \r\n           'nodata': None, \r\n           'dtype': 'float32', \r\n           'transform': Affine(0.0002777777777777778, \r\n                               0.0, 141.0, 0.0, -0.0002777777777777778, -20.0), \r\n           'width': 3601, \r\n           'height': 3601, \r\n           'crs': {'init': 'epsg:4326'}, \r\n           'count': 1}\r\n\r\nX = np.zeros((3601, 3601))\r\nwith rasterio.open('darn.kea', 'w', **profile) as ds:\r\n    ds.write(X)\r\n```\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS X 10.14.6.\r\n\r\n## Rasterio version and provenance\r\n\r\nInstalled with `pip` using anaconda python. My version is `rasterio 1.1.5`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1951", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1951/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1951/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1951/events", "html_url": "https://github.com/mapbox/rasterio/issues/1951", "id": 638207739, "node_id": "MDU6SXNzdWU2MzgyMDc3Mzk=", "number": 1951, "title": "WarpedVRT with unchanged projection changes image width, height", "user": {"login": "kylebarron", "id": 15164633, "node_id": "MDQ6VXNlcjE1MTY0NjMz", "avatar_url": "https://avatars3.githubusercontent.com/u/15164633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylebarron", "html_url": "https://github.com/kylebarron", "followers_url": "https://api.github.com/users/kylebarron/followers", "following_url": "https://api.github.com/users/kylebarron/following{/other_user}", "gists_url": "https://api.github.com/users/kylebarron/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylebarron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylebarron/subscriptions", "organizations_url": "https://api.github.com/users/kylebarron/orgs", "repos_url": "https://api.github.com/users/kylebarron/repos", "events_url": "https://api.github.com/users/kylebarron/events{/privacy}", "received_events_url": "https://api.github.com/users/kylebarron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-13T18:20:08Z", "updated_at": "2020-06-15T20:13:05Z", "closed_at": "2020-06-15T17:51:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen using `WarpedVRT()` with no other arguments and with an unchanged CRS, the width and height of the source dataset are changed.\r\n\r\nProblem originally found when trying to convert a GeoTIFF to a COG using `rio-cogeo`, but the problem might be in `rasterio` itself.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nExample file: [451512145_Government_Camp_FSTopo.tif](http://data.fs.usda.gov/geodata/rastergateway/downloadMap.php?mapID=451512145&mapType=tif)\r\n\r\n```py\r\nimport rasterio\r\nfrom rasterio.vrt import WarpedVRT\r\n\r\nwith rasterio.open(\"451512145_Government_Camp_FSTopo.tif\") as src_dst: \r\n    print(src_dst.meta) \r\n    with WarpedVRT(src_dst) as vrt_dst: \r\n        print(vrt_dst.meta) \r\n\r\n# {'driver': 'GTiff', 'dtype': 'uint8', 'nodata': None, 'width': 8039, 'height': 11390, 'count': 1, 'crs': CRS.from_epsg(4269), 'transform': Affine(1.555008435012718e-05, 0.0, -121.875,\r\n       0.0, -1.0974618469992029e-05, 45.375)}\r\n# {'driver': 'VRT', 'dtype': 'uint8', 'nodata': None, 'width': 9858, 'height': 9858, 'count': 1, 'crs': CRS.from_epsg(4269), 'transform': Affine(1.268055252499994e-05, 0.0, -121.875,\r\n       0.0, -1.268055252499994e-05, 45.375)}\r\n```\r\n\r\nI expected the `width` and `height` to be unchanged, since the CRS is unchanged.\r\n\r\n## Operating system\r\n\r\nMac OS X 10.15.3.\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.3 installed from Conda forge.\r\n\r\ncc @vincentsarago ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1950", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1950/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1950/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1950/events", "html_url": "https://github.com/mapbox/rasterio/issues/1950", "id": 637309510, "node_id": "MDU6SXNzdWU2MzczMDk1MTA=", "number": 1950, "title": "Raster is cutted after reprojection", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-11T20:46:09Z", "updated_at": "2020-06-15T17:44:10Z", "closed_at": "2020-06-14T00:24:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I want to warp raster using the same crs as for input but different affine transformation. As you can see below result is cutted. Is there a way to overcome this issue?\r\n\r\n```\r\nimport rasterio\r\nimport numpy as np\r\nfrom rasterio.plot import show\r\nfrom affine import Affine\r\nfrom rasterio.warp import reproject\r\n\r\nwith rasterio.open(\"/home/denis/git/rasterio/tests/data/RGB.byte.tif\") as src:\r\n    dst_transform = src.transform * Affine.rotation(45)\r\n    dst_shape = (3, src.height * 2, src.width * 2)\r\n    destination = np.zeros(dst_shape, np.uint8)\r\n    reproject(\r\n        source=rasterio.band(src, src.indexes),\r\n        destination=destination,\r\n        dst_transform=dst_transform,\r\n        dst_crs=src.crs,\r\n    )\r\n    with rasterio.open(\r\n        \"/vsimem/rotated.tif\",\r\n        \"w\",\r\n        driver=\"GTiff\",\r\n        width=dst_shape[2],\r\n        height=dst_shape[1],\r\n        count=src.count,\r\n        crs=src.crs,\r\n        transform=dst_transform,\r\n        dtype=np.uint8,\r\n    ) as dst:\r\n        dst.write(destination)\r\n```\r\n\r\nBefore:\r\n![image](https://user-images.githubusercontent.com/866124/84437163-d892d600-ac34-11ea-8c1b-b1da88bac1db.png)\r\n\r\nAfter:\r\n![image](https://user-images.githubusercontent.com/866124/84437183-dd578a00-ac34-11ea-846d-92f9db6330a6.png)\r\n\r\nJupyter Notebook with examples:\r\nhttps://gist.github.com/drnextgis/5d8ec906f52a7b66d756dc1b0175ce8a\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1941", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1941/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1941/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1941/events", "html_url": "https://github.com/mapbox/rasterio/issues/1941", "id": 629303696, "node_id": "MDU6SXNzdWU2MjkzMDM2OTY=", "number": 1941, "title": "1.1.5 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/97", "html_url": "https://github.com/mapbox/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 1, "created_at": "2020-06-02T15:33:47Z", "updated_at": "2020-06-03T00:46:03Z", "closed_at": "2020-06-03T00:46:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Target: 2020-06-03.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1934", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1934/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1934/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1934/events", "html_url": "https://github.com/mapbox/rasterio/issues/1934", "id": 623647848, "node_id": "MDU6SXNzdWU2MjM2NDc4NDg=", "number": 1934, "title": "Inconsistent relation between raster width/height and resolution", "user": {"login": "jnhansen", "id": 2622379, "node_id": "MDQ6VXNlcjI2MjIzNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2622379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnhansen", "html_url": "https://github.com/jnhansen", "followers_url": "https://api.github.com/users/jnhansen/followers", "following_url": "https://api.github.com/users/jnhansen/following{/other_user}", "gists_url": "https://api.github.com/users/jnhansen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnhansen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnhansen/subscriptions", "organizations_url": "https://api.github.com/users/jnhansen/orgs", "repos_url": "https://api.github.com/users/jnhansen/repos", "events_url": "https://api.github.com/users/jnhansen/events{/privacy}", "received_events_url": "https://api.github.com/users/jnhansen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-23T12:15:45Z", "updated_at": "2020-05-27T10:19:11Z", "closed_at": "2020-05-26T16:37:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am confused as to how exactly `rasterio` allocates coordinates to each pixel. \r\nSay I have an image of 6x6 pixels in EPSG:4326 with a bounding box of \r\n`dict(left=-10, bottom=50, right=0, top=60)`, i.e. 10x10 degrees.\r\n\r\nIn my books this should correspond to a resolution of 2 degrees per pixel if the coordinates are measured at the same location for each pixel (say center of the pixel, or bottom left corner of the pixel, etc). Equivalently, a resolution of 1 degree per pixel would correspond to an 11x11 image.\r\n\r\nHowever, I get inconsistent results using this example:\r\n\r\n```python\r\nimport rasterio\r\ncrs = rasterio.crs.CRS.from_epsg(4326)\r\n\r\ndst_transform, width, height = \\\r\n    rasterio.warp.calculate_default_transform(\r\n        crs, crs,\r\n        6, 6,\r\n        dst_width=11,\r\n        dst_height=11,\r\n        left=-10, bottom=50, right=0, top=60)\r\n```\r\n\r\nThe expected result for `dst_transform` is \r\n```python\r\nAffine(1.0, 0.0, -10.0,\r\n       0.0, -1.0, 60.0)\r\n```\r\nhowever, the actual result is the following:\r\n```python\r\nAffine(0.9090909090909092, 0.0, -10.0,\r\n       0.0, -0.9090909090909092, 60.0)\r\n```\r\nsuggesting that the bottom left coordinates are taken at the bottom left corner of the bottom left pixel, and the top right coordinates at the top right corner of the top right pixel.\r\n\r\nIf I specify the resolution rather than the output width and height the result is as expected:\r\n```python\r\ndst_transform, width, height = \\\r\n    rasterio.warp.calculate_default_transform(\r\n        crs, crs,\r\n        6, 6,\r\n        resolution=(1.0, 1.0),\r\n        left=-10, bottom=50, right=0, top=60)\r\n```\r\n`width` and `height` are now correctly calculated as 11. \r\n\r\nThese two behaviors are inconsistent, as the first gives a resolution of 10/11 for a specified width of 11, but the second case gives a width of 11 for a specified resolution of 1. I believe the second case is the expected one as it assumes that the coordinate of each pixel refers to the same location within each pixel.\r\n\r\n## Operating system\r\n\r\nMac OS X 10.15.4.\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio version 1.1.2 installed from PyPI using pip 20.0.2.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1932", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1932/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1932/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1932/events", "html_url": "https://github.com/mapbox/rasterio/issues/1932", "id": 622846308, "node_id": "MDU6SXNzdWU2MjI4NDYzMDg=", "number": 1932, "title": "Reading data using windowed reading returns shifted output", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/97", "html_url": "https://github.com/mapbox/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 3, "created_at": "2020-05-21T23:17:07Z", "updated_at": "2020-06-03T00:49:36Z", "closed_at": "2020-06-03T00:49:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Take a look at the following notebook:\r\n\r\nhttps://gist.github.com/drnextgis/156a8f38fdfab23dad118890b1e258cd\r\n\r\nThere are two rasters created with `gdal_translate` and `rasterio`. Is it expected that reading data using the same window gives different result?\r\n\r\nAffines are equals so I expect to get the same rasters but as you can see raster created with rasterio a little bit shifted.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1930", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1930/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1930/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1930/events", "html_url": "https://github.com/mapbox/rasterio/issues/1930", "id": 621281069, "node_id": "MDU6SXNzdWU2MjEyODEwNjk=", "number": 1930, "title": "Error when using Resampling.max with DataSetReader.read()", "user": {"login": "JesseCrocker", "id": 2048291, "node_id": "MDQ6VXNlcjIwNDgyOTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2048291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JesseCrocker", "html_url": "https://github.com/JesseCrocker", "followers_url": "https://api.github.com/users/JesseCrocker/followers", "following_url": "https://api.github.com/users/JesseCrocker/following{/other_user}", "gists_url": "https://api.github.com/users/JesseCrocker/gists{/gist_id}", "starred_url": "https://api.github.com/users/JesseCrocker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JesseCrocker/subscriptions", "organizations_url": "https://api.github.com/users/JesseCrocker/orgs", "repos_url": "https://api.github.com/users/JesseCrocker/repos", "events_url": "https://api.github.com/users/JesseCrocker/events{/privacy}", "received_events_url": "https://api.github.com/users/JesseCrocker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/97", "html_url": "https://github.com/mapbox/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 2, "created_at": "2020-05-19T20:59:16Z", "updated_at": "2020-05-21T22:55:38Z", "closed_at": "2020-05-21T22:55:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Calling DataSetReader.read() with Resample.max, min, med, q1, or q3 produces the error `ERROR 1: GDALGetResampleFunction: Unsupported resampling method \"UNKNOWN\".` and dies with a segfault.  The [documentation](https://rasterio.readthedocs.io/en/latest/api/rasterio.enums.html#rasterio.enums.Resampling) seems to indicate that these should work when used with gdal >= 2.0.\r\n\r\nThe error seems to [come from gdal](https://github.com/OSGeo/gdal/blob/master/gdal/gcore/overview.cpp#L2837-L2878), so maybe this is actually a documentation issue, not a code issue, but it does seem like this should work.\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expected to read a band from a file and an exception occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSample code:\r\n```python\r\nwith rasterio.open(path) as source:\r\n    source_tile_data = source.read(\r\n        1,\r\n        out_shape=(1, 10, 10),\r\n        resampling=Resampling.max,\r\n    )\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.1.4 installed with pip.\r\n\r\n`rasterio.__gdal_version__ = '2.4.4'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1929", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1929/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1929/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1929/events", "html_url": "https://github.com/mapbox/rasterio/issues/1929", "id": 621270457, "node_id": "MDU6SXNzdWU2MjEyNzA0NTc=", "number": 1929, "title": "OVERVIEW_LEVEL open option doesn't work for Slippy Map dataset", "user": {"login": "drnextgis", "id": 866124, "node_id": "MDQ6VXNlcjg2NjEyNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/866124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drnextgis", "html_url": "https://github.com/drnextgis", "followers_url": "https://api.github.com/users/drnextgis/followers", "following_url": "https://api.github.com/users/drnextgis/following{/other_user}", "gists_url": "https://api.github.com/users/drnextgis/gists{/gist_id}", "starred_url": "https://api.github.com/users/drnextgis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drnextgis/subscriptions", "organizations_url": "https://api.github.com/users/drnextgis/orgs", "repos_url": "https://api.github.com/users/drnextgis/repos", "events_url": "https://api.github.com/users/drnextgis/events{/privacy}", "received_events_url": "https://api.github.com/users/drnextgis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/97", "html_url": "https://github.com/mapbox/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 4, "created_at": "2020-05-19T20:40:31Z", "updated_at": "2020-06-03T00:50:00Z", "closed_at": "2020-06-03T00:50:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm looking for a way to translate to rasterio this GDAL CLI command:\r\n\r\n```\r\ngdal_translate -oo OVERVIEW_LEVEL=1 -projwin 10817977.2 3650863.4 10818322.7 3650646.5 /vsicurl/https://raw.githubusercontent.com/satellogic/telluric/master/tests/data/google.xml out.tif\r\n```\r\n\r\nI wrote the following snippet:\r\n\r\n```\r\nimport rasterio\r\n\r\nwith rasterio.open(\r\n    \"/vsicurl/https://raw.githubusercontent.com/satellogic/telluric/master/tests/data/google.xml\"\r\n) as src:\r\n    bounds = (10817977.2, 3650646.5, 10818322.7, 3650863.4)\r\n    bounds_window = src.window(*bounds)\r\n    out_window = bounds_window.round_lengths(op=\"ceil\")\r\n\r\n    height = int(out_window.height)\r\n    width = int(out_window.width)\r\n\r\n    out_kwargs = src.profile\r\n    out_kwargs.update(\r\n        {\r\n            \"driver\": \"GTiff\",\r\n            \"height\": height,\r\n            \"width\": width,\r\n            \"transform\": src.window_transform(out_window),\r\n        }\r\n    )\r\n\r\n    with rasterio.open(\"out.tif\", \"w\", **out_kwargs) as out:\r\n        out.write(\r\n            src.read(\r\n                window=out_window, out_shape=(src.count, height, width), boundless=True,\r\n            )\r\n        )\r\n```\r\n\r\nIt works fine but when I add `OVERVIEW_LEVEL=1` to `open` method it fails.\r\n\r\n```\r\nrasterio.open(\r\n    \"/vsicurl/https://raw.githubusercontent.com/satellogic/telluric/master/tests/data/google.xml\",\r\n    OVERVIEW_LEVEL=1,\r\n)\r\n```\r\n\r\nIt seems in this case rasterio makes queries to non-existing tiles and gets 404 from Google.\r\n\r\nhttp://erouault.blogspot.com/2014/10/warping-overviews-and-warped-overviews.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1927", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1927/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1927/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1927/events", "html_url": "https://github.com/mapbox/rasterio/issues/1927", "id": 621226508, "node_id": "MDU6SXNzdWU2MjEyMjY1MDg=", "number": 1927, "title": "Reading int8 data with mask", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1183053396, "node_id": "MDU6TGFiZWwxMTgzMDUzMzk2", "url": "https://api.github.com/repos/mapbox/rasterio/labels/needs%20discussion", "name": "needs discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-19T19:23:49Z", "updated_at": "2020-06-03T02:08:36Z", "closed_at": "2020-06-03T02:08:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n```python\r\nimport rasterio\r\n\r\nwith rasterio.open(\"test.tif\") as rrr:\r\n    rrr.dtypes # ('int8',)\r\n    rrr.nodata # -1.0\r\n    data = rrr.read(masked=True)\r\n```\r\nFor some reason `mask=False`:\r\n```\r\nmasked_array(\r\n  data=[[[-1, -1, -1, ..., -1, -1, -1],\r\n         [-1, -1, -1, ..., -1, -1, -1],\r\n         [-1, -1, -1, ..., -1, -1, -1],\r\n         ...,\r\n         [-1, -1, -1, ..., -1, -1, -1],\r\n         [-1, -1, -1, ..., -1, -1, -1],\r\n         [-1, -1, -1, ..., -1, -1, -1]]],\r\n  mask=False,\r\n  fill_value=-1,\r\n  dtype=int8)\r\n```\r\nIf I set `data.mask= data.data == data.fill_value`:\r\n```\r\nmasked_array(\r\n  data=[[[--, --, --, ..., --, --, --],\r\n         [--, --, --, ..., --, --, --],\r\n         [--, --, --, ..., --, --, --],\r\n         ...,\r\n         [--, --, --, ..., --, --, --],\r\n         [--, --, --, ..., --, --, --],\r\n         [--, --, --, ..., --, --, --]]],\r\n  mask=[[[ True,  True,  True, ...,  True,  True,  True],\r\n         [ True,  True,  True, ...,  True,  True,  True],\r\n         [ True,  True,  True, ...,  True,  True,  True],\r\n         ...,\r\n         [ True,  True,  True, ...,  True,  True,  True],\r\n         [ True,  True,  True, ...,  True,  True,  True],\r\n         [ True,  True,  True, ...,  True,  True,  True]]],\r\n  fill_value=-1,\r\n  dtype=int8)\r\n```\r\n\r\nIs there a reason why it is not masked by default?\r\n\r\n## Operating system\r\n```\r\n    python: 3.8.2\r\n   machine: Linux-4.15.0-99-generic-x86_64-with-glibc2.10\r\n```\r\n\r\n## Rasterio version and provenance\r\n```\r\n  rasterio: 1.1.4 - manylinux wheel\r\n    GDAL: 2.4.4\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1926", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1926/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1926/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1926/events", "html_url": "https://github.com/mapbox/rasterio/issues/1926", "id": 616508153, "node_id": "MDU6SXNzdWU2MTY1MDgxNTM=", "number": 1926, "title": "MemoryFile and seek", "user": {"login": "thomascoquet", "id": 7583487, "node_id": "MDQ6VXNlcjc1ODM0ODc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7583487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomascoquet", "html_url": "https://github.com/thomascoquet", "followers_url": "https://api.github.com/users/thomascoquet/followers", "following_url": "https://api.github.com/users/thomascoquet/following{/other_user}", "gists_url": "https://api.github.com/users/thomascoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomascoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomascoquet/subscriptions", "organizations_url": "https://api.github.com/users/thomascoquet/orgs", "repos_url": "https://api.github.com/users/thomascoquet/repos", "events_url": "https://api.github.com/users/thomascoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/thomascoquet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/97", "html_url": "https://github.com/mapbox/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 7, "created_at": "2020-05-12T09:33:28Z", "updated_at": "2020-06-03T00:49:36Z", "closed_at": "2020-06-03T00:49:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Expected behavior and actual behavior.\r\n\r\nI am trying to download a file from AWS to a MemoryFile using boto3 (Sentinel 2 JP2). I would like to use `client.download_fileobj()` because I have finer control over the download : \r\n\r\nhttps://boto3.amazonaws.com/v1/documentation/api/latest/guide/s3-example-download-file.html\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio.io\r\nimport boto3\r\n\r\nwith rasterio.io.MemoryFile() as memfile:\r\n    boto3.client('s3').download_fileobj(\r\n        Fileobj=memfile,\r\n        Bucket='sentinel-s2-l1c',\r\n        Key='tiles/15/R/TN/2019/3/28/0/B02.jp2',\r\n        ExtraArgs={'RequestPayer': 'requester'},\r\n        Config=None)\r\n```\r\nRaises:\r\n\r\n```\r\nValueError: seek position past end of file: 8388608\r\n```\r\n\r\nThis works fine with io.BytesIO or the GCP storage client `blob.download_to_file()`.\r\nThere is a difference of behavior regarding the seek on positions w.r.t. BytesIO (the problem is probably linked to the multithreading in the AWS case?).\r\n\r\n## Operating system\r\nUbuntu 18\r\n\r\n## Rasterio version and provenance\r\nrasterio-1.1.4-cp38-cp38-manylinux1_x86_64.whl\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1921", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1921/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1921/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1921/events", "html_url": "https://github.com/mapbox/rasterio/issues/1921", "id": 614976319, "node_id": "MDU6SXNzdWU2MTQ5NzYzMTk=", "number": 1921, "title": "WarpedVRT Resizing Fails", "user": {"login": "rdhite", "id": 24977799, "node_id": "MDQ6VXNlcjI0OTc3Nzk5", "avatar_url": "https://avatars0.githubusercontent.com/u/24977799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdhite", "html_url": "https://github.com/rdhite", "followers_url": "https://api.github.com/users/rdhite/followers", "following_url": "https://api.github.com/users/rdhite/following{/other_user}", "gists_url": "https://api.github.com/users/rdhite/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdhite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdhite/subscriptions", "organizations_url": "https://api.github.com/users/rdhite/orgs", "repos_url": "https://api.github.com/users/rdhite/repos", "events_url": "https://api.github.com/users/rdhite/events{/privacy}", "received_events_url": "https://api.github.com/users/rdhite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/97", "html_url": "https://github.com/mapbox/rasterio/milestone/97", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/97/labels", "id": 5407303, "node_id": "MDk6TWlsZXN0b25lNTQwNzMwMw==", "number": 97, "title": "1.1.5", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 15, "state": "closed", "created_at": "2020-05-11T17:22:30Z", "updated_at": "2020-06-03T00:50:00Z", "due_on": null, "closed_at": "2020-06-03T00:46:25Z"}, "comments": 4, "created_at": "2020-05-08T20:42:36Z", "updated_at": "2020-06-03T00:49:37Z", "closed_at": "2020-06-03T00:49:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to resize and reproject using the WarpedVRT class. Reprojection works, but specifying a width or height has no effect. Below is a minimal example operation on [a NAIP image pulled from the TNM Downloader](https://prd-tnm.s3.amazonaws.com/StagedProducts/NAIP/nv_2015/36115/m_3611563_ne_11_1_20150606_20150923.jp2)\r\n\r\n``` python\r\nimport gdal\r\nimport rasterio\r\n\r\nx = gdal.BuildVRT('vegas.vrt', 'vegas.jp2', options=gdal.BuildVRTOptions(bandList=[1, 2, 3]))\r\ndel(x)  # Ensure x actually dereferences and writes out\r\n\r\n# Original image (EPSG:3857) in vrt form\r\noriginal_vrt = rasterio.open('vegas.vrt')  # resolution is (1.0, 1.0) shape is (8616, 6963)\r\n\r\n# Attempting resize exclusively\r\nvrt_resized = rasterio.vrt.WarpedVRT(original_vrt, width=700, height=850)\r\nprint(vrt_resized.res, vrt_resized.shape)\r\n# (1.0, 1.0) (8616, 6963) i.e. no change\r\n\r\n# Show reprojection can work\r\ngeodetic_vrt = rasterio.vrt.WarpedVRT(original_vrt, crs=rasterio.crs.CRS.from_epsg(4326))\r\nprint(geodetic_vrt.res, geodetic_vrt.shape)\r\n# (7.984715518138429e-06, 7.984715518138429e-06) (7833, 7834) i.e. reprojection worked\r\n\r\n# Show resize doesn't work with projection\r\ngeodetic_vrt_resized = rasterio.vrt.WarpedVRT(original_vrt, crs=rasterio.crs.CRS.from_epsg(4326), width=1300, height=1300)\r\nprint(geodetic_vrt_resized.res, geodetic_vrt_resized.shape)\r\n# (7.984715518138429e-06, 7.984715518138429e-06) (7833, 7834) i.e. reprojection worked, resize didn't\r\n# expect (1.3250948073760078e-06, 1.3250948073760078e-06) (1300, 1300)\r\n```\r\n\r\nI have also tried this with the original .jp2 as well as some tiffs I had lying around to make sure it wasn't specifically related to using a VRT.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1920", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1920/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1920/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1920/events", "html_url": "https://github.com/mapbox/rasterio/issues/1920", "id": 613620858, "node_id": "MDU6SXNzdWU2MTM2MjA4NTg=", "number": 1920, "title": "Bad Error Message on missing Writer", "user": {"login": "Alfred-Mountfield", "id": 25749103, "node_id": "MDQ6VXNlcjI1NzQ5MTAz", "avatar_url": "https://avatars3.githubusercontent.com/u/25749103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alfred-Mountfield", "html_url": "https://github.com/Alfred-Mountfield", "followers_url": "https://api.github.com/users/Alfred-Mountfield/followers", "following_url": "https://api.github.com/users/Alfred-Mountfield/following{/other_user}", "gists_url": "https://api.github.com/users/Alfred-Mountfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alfred-Mountfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alfred-Mountfield/subscriptions", "organizations_url": "https://api.github.com/users/Alfred-Mountfield/orgs", "repos_url": "https://api.github.com/users/Alfred-Mountfield/repos", "events_url": "https://api.github.com/users/Alfred-Mountfield/events{/privacy}", "received_events_url": "https://api.github.com/users/Alfred-Mountfield/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/96", "html_url": "https://github.com/mapbox/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 1, "created_at": "2020-05-06T21:21:04Z", "updated_at": "2020-05-07T00:00:48Z", "closed_at": "2020-05-07T00:00:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When trying to write to a file, if there isn't a writer for that driver (i.e. AIG) the error message is really unclear. Googling ended up making me think I had a bad Conda installation amidst other red herrings.\r\n\r\nWhen picking a driver for writing to a file, if the writer doesn't exist the package reports back this error:\r\n``` python\r\ns = get_writer_for_driver(driver)(path, mode, driver=driver,\r\nTypeError: 'NoneType' object is not callable\r\n```\r\n(This happened for me when trying to re-project a dataset with the AIG driver, didn't realise GDAL didn't have support for writing)\r\n\r\nI've [submitted a small PR](https://github.com/mapbox/rasterio/pull/1919) just adding a None check and throwing an error on it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1916", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1916/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1916/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1916/events", "html_url": "https://github.com/mapbox/rasterio/issues/1916", "id": 610240593, "node_id": "MDU6SXNzdWU2MTAyNDA1OTM=", "number": 1916, "title": "Rasterio does not read CRS information, but QGis and GDAL do ", "user": {"login": "SBCV", "id": 19491335, "node_id": "MDQ6VXNlcjE5NDkxMzM1", "avatar_url": "https://avatars2.githubusercontent.com/u/19491335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SBCV", "html_url": "https://github.com/SBCV", "followers_url": "https://api.github.com/users/SBCV/followers", "following_url": "https://api.github.com/users/SBCV/following{/other_user}", "gists_url": "https://api.github.com/users/SBCV/gists{/gist_id}", "starred_url": "https://api.github.com/users/SBCV/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SBCV/subscriptions", "organizations_url": "https://api.github.com/users/SBCV/orgs", "repos_url": "https://api.github.com/users/SBCV/repos", "events_url": "https://api.github.com/users/SBCV/events{/privacy}", "received_events_url": "https://api.github.com/users/SBCV/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-30T17:01:34Z", "updated_at": "2020-05-01T13:49:17Z", "closed_at": "2020-04-30T18:52:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen I open a certain GTiff file with rasterio, I receive the following warning: \r\n> NotGeoreferencedWarning: Dataset has no geotransform set. The identity matrix may be returned.\r\n\r\nHowever, when using QGis or GDAL the CRS information is parsed correctly. \r\nSee for example, the corresponding information in QGIS:\r\n\r\n![image](https://user-images.githubusercontent.com/19491335/80736801-ea03a100-8b12-11ea-89dc-8b9d690c58a2.png)\r\n\r\n## Steps to reproduce the problem.\r\nUnzip the following file\r\n[test.zip](https://github.com/mapbox/rasterio/files/4559804/test.zip)\r\nNote: I removed the color information to avoid any copy right infringements\r\n\r\nShow information with QGIS:\r\n1. Open test.GTiff it with QGIS\r\n2. On the raster layer \"test\" in the bottom left corner / Right click / Properties / Information\r\n3. Check values for \"CRS\"\r\n\r\nParse information with rasterio:\r\n```\r\nfrom rasterio import open\r\nifp = 'rasterio/test.GTiff'\r\nraster = open(ifp)\r\nprint(\"raster.crs\", raster.crs)\r\n```\r\nthrows\r\n\r\n> NotGeoreferencedWarning: Dataset has no geotransform set. The identity matrix may be returned.\r\n\r\nSide note: When I execute \r\n`gdalwarp -t_srs EPSG:4326 test.GTiff test_warped.GTiff`\r\n\r\nand run \r\n\r\n```\r\nfrom rasterio import open\r\nifp = 'rasterio/test_warped.GTiff'\r\nraster = open(ifp)\r\nprint(\"raster.crs\", raster.crs)\r\n```\r\nno warning is thrown and the script prints `raster.crs EPSG:4326`\r\n\r\n## Operating system\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\npip install rasterio==1.1.3\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1914", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1914/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1914/events", "html_url": "https://github.com/mapbox/rasterio/issues/1914", "id": 609212070, "node_id": "MDU6SXNzdWU2MDkyMTIwNzA=", "number": 1914, "title": "BUG: features::bounds() does not support GeometryCollection", "user": {"login": "brendan-ward", "id": 3375604, "node_id": "MDQ6VXNlcjMzNzU2MDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3375604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendan-ward", "html_url": "https://github.com/brendan-ward", "followers_url": "https://api.github.com/users/brendan-ward/followers", "following_url": "https://api.github.com/users/brendan-ward/following{/other_user}", "gists_url": "https://api.github.com/users/brendan-ward/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendan-ward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendan-ward/subscriptions", "organizations_url": "https://api.github.com/users/brendan-ward/orgs", "repos_url": "https://api.github.com/users/brendan-ward/repos", "events_url": "https://api.github.com/users/brendan-ward/events{/privacy}", "received_events_url": "https://api.github.com/users/brendan-ward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/96", "html_url": "https://github.com/mapbox/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 1, "created_at": "2020-04-29T17:00:22Z", "updated_at": "2020-04-30T17:07:10Z", "closed_at": "2020-04-30T17:07:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As implemented in `_features.pyx` we support `FeatureCollection` and individual geometries, but we don't support `GeometryCollection`.\r\n\r\nFix coming up...\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1913", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1913/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1913/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1913/events", "html_url": "https://github.com/mapbox/rasterio/issues/1913", "id": 607064666, "node_id": "MDU6SXNzdWU2MDcwNjQ2NjY=", "number": 1913, "title": "AttributeError: module 'rasterio' has no attribute 'plot'", "user": {"login": "erelin6613", "id": 46331217, "node_id": "MDQ6VXNlcjQ2MzMxMjE3", "avatar_url": "https://avatars0.githubusercontent.com/u/46331217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erelin6613", "html_url": "https://github.com/erelin6613", "followers_url": "https://api.github.com/users/erelin6613/followers", "following_url": "https://api.github.com/users/erelin6613/following{/other_user}", "gists_url": "https://api.github.com/users/erelin6613/gists{/gist_id}", "starred_url": "https://api.github.com/users/erelin6613/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erelin6613/subscriptions", "organizations_url": "https://api.github.com/users/erelin6613/orgs", "repos_url": "https://api.github.com/users/erelin6613/repos", "events_url": "https://api.github.com/users/erelin6613/events{/privacy}", "received_events_url": "https://api.github.com/users/erelin6613/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-26T17:19:13Z", "updated_at": "2020-04-26T18:47:00Z", "closed_at": "2020-04-26T18:47:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Am I the only one getting this error?\r\n``AttributeError: module 'rasterio' has no attribute 'plot'``\r\nI am trying to reshape rasterized image to image array with\r\n``rasterio.plot.reshape_as_image(arr)``\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nThe function should return numpy array of shape (heigth, width, bands), but the error arises even earlier when I simply try to access module rasterio.plot for anything. Some other modules failed in the same manner before, I will add comments later if I recall which ones these were.\r\n\r\n## Steps to reproduce the problem.\r\nWith the setup I have I opened image:\r\n``rasterio.open('img.tif')``\r\nobtained array with .read() method I was trying to reshape to Pillow-style image\r\n``rasterio.plot.reshape_as_image(array)``\r\n\r\n## Operating system\r\n\r\nPython version: 3.6.9\r\npip version: 20.0.2\r\nrasterio version: 1.1.3 (installed with pip)\r\nOS: Ubuntu 18.04\r\nGDAL version: 2.2.3\r\n\r\nThanks to maintainers of rasterio and thanks anybody who can give me an advice on this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1912", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1912/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1912/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1912/events", "html_url": "https://github.com/mapbox/rasterio/issues/1912", "id": 606996007, "node_id": "MDU6SXNzdWU2MDY5OTYwMDc=", "number": 1912, "title": "Speed up reading rasters", "user": {"login": "carlogarro", "id": 10572188, "node_id": "MDQ6VXNlcjEwNTcyMTg4", "avatar_url": "https://avatars3.githubusercontent.com/u/10572188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlogarro", "html_url": "https://github.com/carlogarro", "followers_url": "https://api.github.com/users/carlogarro/followers", "following_url": "https://api.github.com/users/carlogarro/following{/other_user}", "gists_url": "https://api.github.com/users/carlogarro/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlogarro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlogarro/subscriptions", "organizations_url": "https://api.github.com/users/carlogarro/orgs", "repos_url": "https://api.github.com/users/carlogarro/repos", "events_url": "https://api.github.com/users/carlogarro/events{/privacy}", "received_events_url": "https://api.github.com/users/carlogarro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-26T12:04:01Z", "updated_at": "2020-05-04T19:48:58Z", "closed_at": "2020-05-04T19:48:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am trying to read many many raster and I need to reduce the amount of time. I realized that reading one band of the raster takes less time than reading the hole raster.\r\nMy question is... is it possible to read in parallel each band in order to reduce the amount of time?\r\nOr , is there any other way to read images in less time?\r\n\r\nThank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1911", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1911/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1911/events", "html_url": "https://github.com/mapbox/rasterio/issues/1911", "id": 606570236, "node_id": "MDU6SXNzdWU2MDY1NzAyMzY=", "number": 1911, "title": "1.1.4 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/96", "html_url": "https://github.com/mapbox/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 3, "created_at": "2020-04-24T20:39:07Z", "updated_at": "2020-05-07T17:15:18Z", "closed_at": "2020-05-07T17:15:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Target date: 2020-05-01.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1909", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1909/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1909/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1909/events", "html_url": "https://github.com/mapbox/rasterio/issues/1909", "id": 606352152, "node_id": "MDU6SXNzdWU2MDYzNTIxNTI=", "number": 1909, "title": "MemoryFile loses geocoding when opened", "user": {"login": "ciaranevans", "id": 9111975, "node_id": "MDQ6VXNlcjkxMTE5NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9111975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ciaranevans", "html_url": "https://github.com/ciaranevans", "followers_url": "https://api.github.com/users/ciaranevans/followers", "following_url": "https://api.github.com/users/ciaranevans/following{/other_user}", "gists_url": "https://api.github.com/users/ciaranevans/gists{/gist_id}", "starred_url": "https://api.github.com/users/ciaranevans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ciaranevans/subscriptions", "organizations_url": "https://api.github.com/users/ciaranevans/orgs", "repos_url": "https://api.github.com/users/ciaranevans/repos", "events_url": "https://api.github.com/users/ciaranevans/events{/privacy}", "received_events_url": "https://api.github.com/users/ciaranevans/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-24T14:23:37Z", "updated_at": "2020-04-24T14:36:29Z", "closed_at": "2020-04-24T14:33:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI expect that when I open a MemoryFile, with or without provided key word args, that it retains its geocoding. However when I open a MemoryFile, the Affine is set to the Identity Matrix and the CRS is `None`.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n* Create `MemoryFile`\r\n* Write 1 band of a `.jp2` to the `MemoryFile`\r\n* Open `MemoryFile` and view `.meta` property\r\n\r\nFor example:\r\n\r\n```\r\npath_to_jp2 = '<Your path here>'\r\nwith rasterio.io.MemoryFile() as mf:\r\n    with rasterio.open(path_to_jp2) as jp2:\r\n        meta = jp2.meta.copy()\r\n        print(meta)\r\n        transform = meta['transform']\r\n        crs = meta['crs']\r\n\r\n        with rasterio.open(mf, 'w', **meta) as mf_out:\r\n            mf_out.write(jp2.read(1), 1)\r\n\r\n        with mf.open(driver='JP2OpenJPEG',\r\n                     dtype='uint16',\r\n                     nodata=None,\r\n                     width=10980,\r\n                     height=10980,\r\n                     count=1,\r\n                     crs=crs,\r\n                     transform=transform) as mf_open:\r\n            print(mf_open.meta)\r\n```\r\n\r\nExample output:\r\n\r\n```\r\n{'driver': 'JP2OpenJPEG', 'dtype': 'uint16', 'nodata': None, 'width': 10980, 'height': 10980, 'count': 1, 'crs': CRS.from_epsg(32648), 'transform': Affine(10.0, 0.0, 499980.0,\r\n       0.0, -10.0, 600000.0)}\r\n{'driver': 'JP2OpenJPEG', 'dtype': 'uint16', 'nodata': None, 'width': 10980, 'height': 10980, 'count': 1, 'crs': None, 'transform': Affine(1.0, 0.0, 0.0,\r\n       0.0, 1.0, 0.0)}\r\n```\r\n\r\nNote how the second print statement of the metadata does not include a CRS or a transform.\r\n\r\n## Operating system\r\n\r\nCentOS and AWS Lambda\r\n\r\n## Rasterio version and provenance\r\n\r\n`rasterio==1.1.3`\r\n`pip 18.1`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1907", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1907/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1907/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1907/events", "html_url": "https://github.com/mapbox/rasterio/issues/1907", "id": 604066388, "node_id": "MDU6SXNzdWU2MDQwNjYzODg=", "number": 1907, "title": "Should rio clip fill nodata at borders?", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/96", "html_url": "https://github.com/mapbox/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 8, "created_at": "2020-04-21T14:58:26Z", "updated_at": "2020-05-07T17:20:35Z", "closed_at": "2020-05-07T17:20:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello lovely people :hugs:,\r\n\r\nI'm using `rio clip` to quickly cut out z10 tiles for raster image. The raster image is not divisible by the z10 tiles, so I expect the border tiles to contain nodata. But more importantly I expect all z10 tiles I cut out to be of the same dimension. This is not the case with rio clip right now.\r\n\r\nHere is an example where I first convert my raster image to WGS84 and then cut it into z10 tiles where the file name is the z10 quad key id.\r\n\r\n```\r\nrio warp in.tif wgs84.tif --dst-crs EPSG:4326\r\nrio bounds wgs84.tif | mercantile tiles 10 > z10.txt\r\n \r\nwhile read tile; do\r\n  rio clip wgs84.tif $(mercantile quadkey \"$tile\").tif --bounds \"$(mercantile shapes --extents \"$tile\")\"\r\ndone < z10.txt\r\n```\r\n\r\nThis results in\r\n- many raster images of pixel size 2857x1744\r\n- some raster images (at the borders) with smaller dimensions; the bounds are not filled with nodata\r\n\r\nShould rio clip use boundless windows and fill with nodata, to respect the user's bounds?\r\n\r\n(rio 1.1.3, tested in ubuntu 18.04 docker container with python 3.6)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1904", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1904/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1904/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1904/events", "html_url": "https://github.com/mapbox/rasterio/issues/1904", "id": 601874949, "node_id": "MDU6SXNzdWU2MDE4NzQ5NDk=", "number": 1904, "title": "Sampling outside the bounds of a raster ", "user": {"login": "mdhurst1", "id": 14271631, "node_id": "MDQ6VXNlcjE0MjcxNjMx", "avatar_url": "https://avatars3.githubusercontent.com/u/14271631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdhurst1", "html_url": "https://github.com/mdhurst1", "followers_url": "https://api.github.com/users/mdhurst1/followers", "following_url": "https://api.github.com/users/mdhurst1/following{/other_user}", "gists_url": "https://api.github.com/users/mdhurst1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdhurst1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdhurst1/subscriptions", "organizations_url": "https://api.github.com/users/mdhurst1/orgs", "repos_url": "https://api.github.com/users/mdhurst1/repos", "events_url": "https://api.github.com/users/mdhurst1/events{/privacy}", "received_events_url": "https://api.github.com/users/mdhurst1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-17T10:34:10Z", "updated_at": "2020-04-22T19:57:27Z", "closed_at": "2020-04-22T19:57:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior\r\n\r\nSampling raster at a series of points I wish to get nodata values returned when the point lies outwith the raster extent. Instead I get an error but it is inconsistent depending on where the outlying points sit.\r\n\r\n```\r\nFile \"/anaconda3/lib/python3.7/site-packages/rasterio/sample.py\", line 23, in sample_gen\r\n    yield data[:, 0, 0]\r\n\r\nIndexError: index 0 is out of bounds for axis 1 with size 0\r\n```\r\n\r\n## Steps to reproduce the problem.\r\nThe script below reproduces the error, while also giving examples that will execute and give the desired behaviour when point coordinates are < minimum extent:\r\n\r\n```\r\n\"\"\"\r\nCreated on Fri Apr 17 10:43:46 2020\r\n\r\n@author: mhurst\r\n\"\"\"\r\n\r\nimport numpy as np\r\nimport rasterio\r\n\r\n# dummy raster\r\nx = np.linspace(-4.0, 4.0, 240)\r\ny = np.linspace(-3.0, 3.0, 180)\r\nX, Y = np.meshgrid(x, y)\r\nZ1 = np.exp(-2 * np.log(2) * ((X - 0.5) ** 2 + (Y - 0.5) ** 2) / 1 ** 2)\r\nZ2 = np.exp(-3 * np.log(2) * ((X + 0.5) ** 2 + (Y + 0.5) ** 2) / 2.5 ** 2)\r\nZ = 10.0 * (Z2 - Z1)\r\n\r\n# create as raster dataset\r\nwith rasterio.open('new.tif',\r\n                            'w',\r\n                            driver='GTiff',\r\n                            height=Z.shape[0],\r\n                            width=Z.shape[1],\r\n                            count=1,\r\n                            dtype=Z.dtype,\r\n                            nodata=-9999\r\n                            ) as dst:\r\n    dst.write(Z, 1)\r\n\r\nSRC = rasterio.open('new.tif')\r\n    \r\n\r\n# get polygon of extent\r\nXMin = SRC.bounds[0]\r\nXMax = SRC.bounds[2]\r\nYMin = SRC.bounds[1]\r\nYMax = SRC.bounds[3]\r\n\r\n# set up some points to sample\r\nX = np.arange(XMin-10, XMax+20, 10)\r\nY = np.arange(YMin+10, YMax-20, -10)\r\n\r\n\"\"\" These work\r\nX = np.arange(-1000, -900, 10)\r\nY = np.arange(-1000, -900, 10)\r\n\"\"\"\r\n\r\n\"\"\" And these work\r\nX = np.arange(XMin+10, XMax-10, 10)\r\nY = np.arange(YMin-10, YMax+10, -10)\r\n\"\"\"\r\n\r\nPoints = [(x,y) for x, y in zip(X, Y)]\r\nResult = [Sample[0] for Sample in SRC.sample(Points)]\r\nprint(Result)\r\n```\r\n\r\n## Operating system\r\n\r\nDebian GNU/Linux 9.12 (stretch)\r\n\r\n## Rasterio version and provenance\r\n\r\n```\r\nrasterio.__version__\r\nOut[75]: '1.0.21'\r\n```\r\nInstalled using conda", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1900", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1900/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1900/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1900/events", "html_url": "https://github.com/mapbox/rasterio/issues/1900", "id": 593485869, "node_id": "MDU6SXNzdWU1OTM0ODU4Njk=", "number": 1900, "title": "Changing dtype of raster makes all values nodata", "user": {"login": "himat", "id": 1156974, "node_id": "MDQ6VXNlcjExNTY5NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1156974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himat", "html_url": "https://github.com/himat", "followers_url": "https://api.github.com/users/himat/followers", "following_url": "https://api.github.com/users/himat/following{/other_user}", "gists_url": "https://api.github.com/users/himat/gists{/gist_id}", "starred_url": "https://api.github.com/users/himat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himat/subscriptions", "organizations_url": "https://api.github.com/users/himat/orgs", "repos_url": "https://api.github.com/users/himat/repos", "events_url": "https://api.github.com/users/himat/events{/privacy}", "received_events_url": "https://api.github.com/users/himat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-03T16:04:23Z", "updated_at": "2020-04-06T18:04:51Z", "closed_at": "2020-04-06T17:27:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI expected all the values to be preserved, and just to now be floats instead of ints. But they were all turned into nodata instead.\r\n\r\nHere's the output of the code below:\r\n\r\n```python\r\nin:  {'driver': 'GTiff', 'dtype': 'uint8', 'nodata': 255.0, 'width': 926, 'height': 3108, 'count': 3, 'crs': CRS.from_epsg(32629), 'transform': Affine(15.0, 0.0, 231766.0,\r\n       0.0, -15.0, 1438681.5), 'tiled': False, 'compress': 'jpeg', 'interleave': 'pixel', 'photometric': 'ycbcr'}\r\n[[114 118 126 ... 111 112 111]\r\n [125 117 109 ... 111 113 112]\r\n [137 123 103 ... 112 114 113]\r\n ...\r\n [125 126 130 ... 115 110 105]\r\n [124 120 127 ... 108 105 101]\r\n [115 117 128 ... 106 104 101]]\r\n[[False False False ... False False False]\r\n [False False False ... False False False]\r\n [False False False ... False False False]\r\n ...\r\n [False False False ... False False False]\r\n [False False False ... False False False]\r\n [False False False ... False False False]]\r\n\r\n\r\n\r\n\r\n\r\n\r\nfinal:  {'driver': 'GTiff', 'dtype': 'float32', 'nodata': 255.0, 'width': 926, 'height': 3108, 'count': 3, 'crs': CRS.from_epsg(32629), 'transform': Affine(15.0, 0.0, 231766.0,\r\n       0.0, -15.0, 1438681.5), 'tiled': False, 'compress': 'jpeg', 'interleave': 'pixel', 'photometric': 'ycbcr'}\r\n[[255. 255. 255. ... 255. 255. 255.]\r\n [255. 255. 255. ... 255. 255. 255.]\r\n [255. 255. 255. ... 255. 255. 255.]\r\n ...\r\n [255. 255. 255. ... 255. 255. 255.]\r\n [255. 255. 255. ... 255. 255. 255.]\r\n [255. 255. 255. ... 255. 255. 255.]]\r\n[[ True  True  True ...  True  True  True]\r\n [ True  True  True ...  True  True  True]\r\n [ True  True  True ...  True  True  True]\r\n ...\r\n [ True  True  True ...  True  True  True]\r\n [ True  True  True ...  True  True  True]\r\n [ True  True  True ...  True  True  True]]\r\nAll nodata?:  True\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nin_f = proc_data_dir / \"in.tif\"\r\nout_f = proc_data_dir / \"del.tif\"\r\n\r\nwith rio.open(in_f, 'r') as in_ds:\r\n    \r\n    print(\"in: \", in_ds.profile)\r\n    \r\n    in_arr = in_ds.read(masked=True)\r\n    print(in_arr.data[0, 400:500, 400:500])\r\n    print(in_arr.mask[0, 400:500, 400:500])\r\n    \r\n    new_prof = in_ds.profile.copy()\r\n    new_prof.update({\"dtype\": \"float32\"}) # changing to float32\r\n    send_arr = in_arr.astype(rio.float32)\r\n    \r\nprint(\"\\n\\n\")\r\n\r\nwith rio.open(out_f, 'w', **new_prof) as out_ds:\r\n    out_ds.write(send_arr)\r\n\r\nprint(\"\\n\\n\")\r\nwith rio.open(out_f, 'r') as final_ds:\r\n    \r\n    print(\"final: \", final_ds.profile)\r\n    \r\n    final_arr = final_ds.read(masked=True)\r\n    \r\n    print(final_arr.data[0, 400:500, 400:500])\r\n    print(final_arr.mask[0, 400:500, 400:500])\r\n    print(\"All nodata?: \", (final_arr.mask == True).all())\r\n```\r\n\r\nHere's a link to [download](https://www.dropbox.com/s/yz3jhg13b4ca7f0/in.tif?dl=0) the in.tif file. This code worked with other tifs with no issue, so I'm not sure why it's failing on this tif. The tif seems fine.\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04.4 LTS\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.1.0 installed from conda-forge\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1899", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1899/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1899/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1899/events", "html_url": "https://github.com/mapbox/rasterio/issues/1899", "id": 592015943, "node_id": "MDU6SXNzdWU1OTIwMTU5NDM=", "number": 1899, "title": "Open remote cog file in docker image 'aliyunfc/runtime-python3.6' raise an error", "user": {"login": "yuhangch", "id": 20501203, "node_id": "MDQ6VXNlcjIwNTAxMjAz", "avatar_url": "https://avatars0.githubusercontent.com/u/20501203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuhangch", "html_url": "https://github.com/yuhangch", "followers_url": "https://api.github.com/users/yuhangch/followers", "following_url": "https://api.github.com/users/yuhangch/following{/other_user}", "gists_url": "https://api.github.com/users/yuhangch/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuhangch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuhangch/subscriptions", "organizations_url": "https://api.github.com/users/yuhangch/orgs", "repos_url": "https://api.github.com/users/yuhangch/repos", "events_url": "https://api.github.com/users/yuhangch/events{/privacy}", "received_events_url": "https://api.github.com/users/yuhangch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-01T15:44:16Z", "updated_at": "2020-04-02T09:38:53Z", "closed_at": "2020-04-01T22:11:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n I expected to read the profile from a cog file store in alibaba OSS and raise an error below:\r\n```\r\n< HTTP/1.1 206 Partial Content\r\n< Server: AliyunOSS\r\n< Date: Wed, 01 Apr 2020 15:12:14 GMT\r\n< Content-Type: image/tiff\r\n< Content-Length: 16384\r\n< Connection: keep-alive\r\n< x-oss-request-id: 5E84AF4E0D92D90586C75D52\r\n< Content-Range: bytes 0-16383/99400948\r\n< Accept-Ranges: bytes\r\n< ETag: \"533480C231D9644E5024D00E2D5D4732\"\r\n< Last-Modified: Wed, 01 Apr 2020 05:22:10 GMT\r\n< x-oss-object-type: Normal\r\n< x-oss-hash-crc64ecma: 15205173349628656431\r\n< x-oss-storage-class: Standard\r\n< x-oss-server-time: 1\r\n<\r\n* Connection #0 to host bucketname.oss-cn-hongkong.aliyuncs.com left intact\r\nTraceback (most recent call last):\r\n  File \"rasterio/_base.pyx\", line 216, in rasterio._base.DatasetBase.__init__\r\n  File \"rasterio/_shim.pyx\", line 67, in rasterio._shim.open_dataset\r\n  File \"rasterio/_err.pyx\", line 205, in rasterio._err.exc_wrap_pointer\r\n**rasterio._err.CPLE_AppDefinedError: Cannot open TIFF file due to missing codec.**\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test/oss.py\", line 10, in <module>\r\n    with rasterio.open(\"https://bucketname.oss-cn-hongkong.aliyuncs.com/origin.tif\") as src:\r\n  File \"/code/.fun/python/lib/python3.6/site-packages/rasterio/env.py\", line 434, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/code/.fun/python/lib/python3.6/site-packages/rasterio/__init__.py\", line 219, in open\r\n    s = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)\r\n  File \"rasterio/_base.pyx\", line 218, in rasterio._base.DatasetBase.__init__\r\nrasterio.errors.RasterioIOError: Cannot open TIFF file due to missing codec.\r\n```\r\nAlibaba function compute local debug logs show below :\r\n```\r\n* Connection #0 to host bucketname.oss-cn-hongkong.aliyuncs.com left intact\r\n**2020-04-01T15:00:14.38Z 1519e3af-5436-4b7e-ab28-d442f30e828f [WARNING] CPLE_AppDefined in /vsicurl/https://bucketname.oss-cn-hongkong.aliyuncs.com/origin.tif:ZSTD compression support is not configured**\r\n2020-04-01T15:00:14.55Z 1519e3af-5436-4b7e-ab28-d442f30e828f [ERROR] {\r\n    \"errorMessage\": \"Cannot open TIFF file due to missing codec.\",\r\n    \"errorType\": \"RasterioIOError\",\r\n    \"stackTrace\": [\r\n        [\r\n            \"File \\\"/code/index.py\\\"\",\r\n            \"line 31\",\r\n            \"in handler\",\r\n            \"with rasterio.open(\\\"https://bucketname.oss-cn-hongkong.aliyuncs.com/origin.tif\\\") as src:\"\r\n        ],\r\n        [\r\n            \"File \\\"/code/.fun/python/lib/python3.6/site-packages/rasterio/env.py\\\"\",\r\n            \"line 434\",\r\n            \"in wrapper\",\r\n            \"return f(*args, **kwds)\"\r\n        ],\r\n        [\r\n            \"File \\\"/code/.fun/python/lib/python3.6/site-packages/rasterio/__init__.py\\\"\",\r\n            \"line 219\",\r\n            \"in open\",\r\n            \"s = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)\"\r\n        ],\r\n        [\r\n            \"File \\\"rasterio/_base.pyx\\\"\",\r\n            \"line 218\",\r\n            \"in rasterio._base.DatasetBase.__init__\",\r\n            \"\"\r\n        ]\r\n    ]\r\n}\r\n\r\n```\r\n## Steps to reproduce the problem.\r\n\r\nUse docker image : aliyunfc/runtime-python3.6\r\n```\r\n$ pip install rasterio\r\n```\r\nRun scripts :\r\n```\r\nimport rasterio\r\nfrom rasterio.session import OSSSession\r\n\r\nwith rasterio.Env(CPL_DEBUG=True, CPL_CURL_VERBOSE=True,\r\n                  session=OSSSession(oss_access_key_id='id',\r\n                                     oss_secret_access_key='secret)):\r\n    with rasterio.open(\"https://bucketname.oss-cn-hongkong.aliyuncs.com/origin.tif\") as src:\r\n        print(src.profile)\r\n\r\n```\r\nOn my mac (10.15) ,create a new env ,install rasterio  then run scripts above , **works well**, so it may caused by environment , or missed some dependencies,,sadly, I have no idea to make it work.\r\n\r\n\r\n## Operating system\r\n\r\nDocker image : aliyunfc/runtime-python3.6 .\r\n[Dockerfile link](https://github.com/aliyun/fc-docker/blob/master/python3.6/base/Dockerfile)\r\n## Rasterio version and provenance\r\n\r\nv 1.1.3  installed from PyPI using pip 20.0.2.\r\n\r\nHow to adjust the environment or install dependencies to make it work? Thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1898", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1898/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1898/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1898/events", "html_url": "https://github.com/mapbox/rasterio/issues/1898", "id": 591419435, "node_id": "MDU6SXNzdWU1OTE0MTk0MzU=", "number": 1898, "title": "Proposal: switch from using rasterio.crs.CRS to pyproj.CRS ", "user": {"login": "rbavery", "id": 22258697, "node_id": "MDQ6VXNlcjIyMjU4Njk3", "avatar_url": "https://avatars3.githubusercontent.com/u/22258697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbavery", "html_url": "https://github.com/rbavery", "followers_url": "https://api.github.com/users/rbavery/followers", "following_url": "https://api.github.com/users/rbavery/following{/other_user}", "gists_url": "https://api.github.com/users/rbavery/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbavery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbavery/subscriptions", "organizations_url": "https://api.github.com/users/rbavery/orgs", "repos_url": "https://api.github.com/users/rbavery/repos", "events_url": "https://api.github.com/users/rbavery/events{/privacy}", "received_events_url": "https://api.github.com/users/rbavery/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-31T20:52:59Z", "updated_at": "2020-03-31T23:08:08Z", "closed_at": "2020-03-31T21:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now that geopandas has switched to using prproj.CRS, it'd be helpful to have rasterio also use this as this same representation of CRSs. @nrweir has documented issues with converting between rasterio.crs.CRS classes and pyproj.CRS classes in this gist: https://gist.github.com/nrweir/cb42a44745ce00f2842b7bec7419280b\r\n\r\nLong story short from the gist above is that if the CRSs don't have EPSG codes, the conversion is imprecise. \r\n\r\nAlso the pyproj.CRS class is not a supported type for `rasterio.warp.calculate_default_transform`, which will cause issues if one tries to reproject a raster based on the crs attribute of a geopandas Geodataframe. \r\n\r\n```\r\nrasterio.errors.CRSError: Invalid CRS: CRS.from_wkt('GEOGCRS[\"WGS 84\",DATUM[\"World Geodetic System 1984\",ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],CS[\"ellipsoidal\",2],AXIS[\"longitude\",east,ORDER[1],ANGLEUNIT[\"degree\",0.0174532925199433]],AXIS[\"latitude\",north,ORDER[2],ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]]')\r\n```\r\n\r\nSee https://github.com/CosmiQ/solaris/issues/333\r\n\r\nI'm curious to hear what maintainers think about this proposal and when/if it makes sense to implement this transition.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1897", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1897/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1897/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1897/events", "html_url": "https://github.com/mapbox/rasterio/issues/1897", "id": 590841907, "node_id": "MDU6SXNzdWU1OTA4NDE5MDc=", "number": 1897, "title": "rasterio 1.1.3 does not preserve CRS information, older version does", "user": {"login": "rbavery", "id": 22258697, "node_id": "MDQ6VXNlcjIyMjU4Njk3", "avatar_url": "https://avatars3.githubusercontent.com/u/22258697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbavery", "html_url": "https://github.com/rbavery", "followers_url": "https://api.github.com/users/rbavery/followers", "following_url": "https://api.github.com/users/rbavery/following{/other_user}", "gists_url": "https://api.github.com/users/rbavery/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbavery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbavery/subscriptions", "organizations_url": "https://api.github.com/users/rbavery/orgs", "repos_url": "https://api.github.com/users/rbavery/repos", "events_url": "https://api.github.com/users/rbavery/events{/privacy}", "received_events_url": "https://api.github.com/users/rbavery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-31T06:47:12Z", "updated_at": "2020-04-01T00:46:46Z", "closed_at": "2020-03-31T17:26:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nrasterio version 1.0.23 (installed from pypi) can correctly read in a Landsat ARD geotiff with the CRS info\r\n\r\n```python\r\nimport rasterio\r\nsrc = rasterio.open('/home/rave/solaris/solaris/data/nebraska_landsat5_with_nodata_wgs84.tif')\r\nsrc\r\n<open DatasetReader name='/home/rave/solaris/solaris/data/nebraska_landsat5_with_nodata_wgs84.tif' mode='r'>\r\nsrc.crs\r\nCRS.from_epsg(4326)\r\n```\r\n\r\nBut with the newest version, 1.1.3 (installed from conda), rasterio.open does not read the CRS info. The crs is None.\r\n\r\n```python\r\nimport rasterio\r\nsrc = rasterio.open('/home/rave/solaris/solaris/data/nebraska_landsat5_with_nodata_wgs84.tif')\r\nsrc\r\n<open DatasetReader name='/home/rave/solaris/solaris/data/nebraska_landsat5_with_nodata_wgs84.tif' mode='r'>\r\nsrc.crs\r\nNone\r\n```\r\nThe file is linked here: https://ucsb.box.com/s/wyda693k599g2fww2ybrnf7c45mxk55s\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1896", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1896/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1896/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1896/events", "html_url": "https://github.com/mapbox/rasterio/issues/1896", "id": 590784163, "node_id": "MDU6SXNzdWU1OTA3ODQxNjM=", "number": 1896, "title": "Writing per-band masks", "user": {"login": "khornlund", "id": 18283966, "node_id": "MDQ6VXNlcjE4MjgzOTY2", "avatar_url": "https://avatars2.githubusercontent.com/u/18283966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khornlund", "html_url": "https://github.com/khornlund", "followers_url": "https://api.github.com/users/khornlund/followers", "following_url": "https://api.github.com/users/khornlund/following{/other_user}", "gists_url": "https://api.github.com/users/khornlund/gists{/gist_id}", "starred_url": "https://api.github.com/users/khornlund/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khornlund/subscriptions", "organizations_url": "https://api.github.com/users/khornlund/orgs", "repos_url": "https://api.github.com/users/khornlund/repos", "events_url": "https://api.github.com/users/khornlund/events{/privacy}", "received_events_url": "https://api.github.com/users/khornlund/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-31T04:33:26Z", "updated_at": "2020-03-31T17:21:35Z", "closed_at": "2020-03-31T17:21:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to write out a multi-band masked numpy array, and can't find a way to preserve each band's mask.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio as rio\r\nimport numpy as np\r\nfrom affine import Affine\r\n\r\nma3d = np.ma.array([\r\n    [\r\n        [1, 2],\r\n        [3, 4]\r\n    ],\r\n    [\r\n        [5, 6],\r\n        [7, 8]\r\n    ]\r\n], mask=[\r\n    [\r\n        [True, False],\r\n        [False, True]\r\n    ],\r\n    [\r\n        [False, False],\r\n        [True, True]\r\n    ]\r\n], dtype=np.uint8)\r\n\r\nmeta = {\r\n    'driver': 'GTiff',\r\n    'height': ma3d.shape[1],\r\n    'width': ma3d.shape[2],\r\n    'count': ma3d.shape[0],\r\n    'dtype': ma3d.dtype,\r\n    'transform': Affine.identity(),\r\n}\r\n```\r\n```\r\n>>> ma3d\r\n\r\nmasked_array(\r\n  data=[[[--, 2],\r\n         [3, --]],\r\n\r\n        [[5, 6],\r\n         [--, --]]],\r\n  mask=[[[ True, False],\r\n         [False,  True]],\r\n\r\n        [[False, False],\r\n         [ True,  True]]],\r\n  fill_value=999999,\r\n  dtype=uint8)\r\n```\r\nWe'll try write a simple (2, 2, 2) masked array into a dataset.\r\n```\r\nwith rio.open('temp.tif', 'w+', **meta) as dataset:\r\n    dataset.write(ma3d)\r\n    dataset.write_mask(~ma3d.mask)\r\n    ma3d_out = dataset.read(masked=True)\r\n```\r\n```\r\n>>> ma3d_out\r\n\r\nmasked_array(\r\n  data=[[[--, 2],\r\n         [3, --]],\r\n\r\n        [[5, 6],\r\n         [7, 8]]],\r\n  mask=[[[ True, False],\r\n         [False,  True]],\r\n\r\n        [[False, False],\r\n         [False, False]]],\r\n  fill_value=999999,\r\n  dtype=uint8)\r\n```\r\nThe mask is preserved for the first band, but the second band has no masked values.\r\n\r\nWhat's the proper way to do this? Am I doing something wrong? It doesn't look like there's an option to write masks one band at a time.\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\n`rasterio                  1.0.28           py36hdff7cfa_1    conda-forge`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1894", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1894/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1894/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1894/events", "html_url": "https://github.com/mapbox/rasterio/issues/1894", "id": 587701716, "node_id": "MDU6SXNzdWU1ODc3MDE3MTY=", "number": 1894, "title": "module 'rasterio' has no attribute 'open'", "user": {"login": "SaschaHeyer", "id": 1991664, "node_id": "MDQ6VXNlcjE5OTE2NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1991664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SaschaHeyer", "html_url": "https://github.com/SaschaHeyer", "followers_url": "https://api.github.com/users/SaschaHeyer/followers", "following_url": "https://api.github.com/users/SaschaHeyer/following{/other_user}", "gists_url": "https://api.github.com/users/SaschaHeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/SaschaHeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SaschaHeyer/subscriptions", "organizations_url": "https://api.github.com/users/SaschaHeyer/orgs", "repos_url": "https://api.github.com/users/SaschaHeyer/repos", "events_url": "https://api.github.com/users/SaschaHeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/SaschaHeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-25T13:36:34Z", "updated_at": "2020-03-25T15:28:09Z", "closed_at": "2020-03-25T13:54:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nrasterio should open the file\r\n\r\n## Steps to reproduce the problem.\r\npip install rasterio\r\n\r\nwith rasterio.open(\".sample.tif\") as src:\r\n\r\n## Operating system\r\nMac OS X 10.13.6.\r\n\r\n## Rasterio version and provenance\r\nrasterio==1.1.3\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1893", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1893/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1893/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1893/events", "html_url": "https://github.com/mapbox/rasterio/issues/1893", "id": 587340175, "node_id": "MDU6SXNzdWU1ODczNDAxNzU=", "number": 1893, "title": "Retrieving metadata tags for a single (HDF5) subdataset", "user": {"login": "NikosAlexandris", "id": 7046639, "node_id": "MDQ6VXNlcjcwNDY2Mzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7046639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NikosAlexandris", "html_url": "https://github.com/NikosAlexandris", "followers_url": "https://api.github.com/users/NikosAlexandris/followers", "following_url": "https://api.github.com/users/NikosAlexandris/following{/other_user}", "gists_url": "https://api.github.com/users/NikosAlexandris/gists{/gist_id}", "starred_url": "https://api.github.com/users/NikosAlexandris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NikosAlexandris/subscriptions", "organizations_url": "https://api.github.com/users/NikosAlexandris/orgs", "repos_url": "https://api.github.com/users/NikosAlexandris/repos", "events_url": "https://api.github.com/users/NikosAlexandris/events{/privacy}", "received_events_url": "https://api.github.com/users/NikosAlexandris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/90", "html_url": "https://github.com/mapbox/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 19, "closed_issues": 6, "state": "open", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2020-07-28T19:42:56Z", "due_on": null, "closed_at": null}, "comments": 9, "created_at": "2020-03-24T23:27:00Z", "updated_at": "2020-03-26T19:42:26Z", "closed_at": "2020-03-26T19:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider a somewhat large [HDF5 file structure](https://gist.github.com/NikosAlexandris/29461b3dcd1cc10d28dc413797a0dff9):\r\n```\r\ngdalinfo ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\r\nDriver: HDF5/Hierarchical Data Format Release 5\r\nFiles: ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\r\nSize is 512, 512\r\nMetadata:\r\n  SDS_Emis1_add_offset=0.49\r\n  SDS_Emis1_coordsys=cartesian\r\n  SDS_Emis1_err_add_offset=0\r\n  SDS_Emis1_err_coordsys=cartesian\r\n  SDS_Emis1_err_format=scaled\r\n  SDS_Emis1_err_long_name=Band 1 Emissivity error\r\n  SDS_Emis1_err_scale_factor=0.0001\r\n  SDS_Emis1_err_units=n/a\r\n  SDS_Emis1_err_valid_range=1 65535\r\n  SDS_Emis1_err__FillValue=0\r\n  SDS_Emis1_format=scaled\r\n  SDS_Emis1_long_name=Band 1 Emissivity\r\n  SDS_Emis1_scale_factor=0.002\r\n  SDS_Emis1_units=n/a\r\n  SDS_Emis1_valid_range=1 255\r\n  SDS_Emis1__FillValue=0\r\n...\r\nSubdatasets:\r\n  SUBDATASET_1_NAME=HDF5:\"ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\"://SDS/Emis1\r\n  SUBDATASET_1_DESC=[5632x5400] //SDS/Emis1 (8-bit unsigned character)\r\n  ...\r\nCorner Coordinates:\r\nUpper Left  (    0.0,    0.0)\r\nLower Left  (    0.0,  512.0)\r\nUpper Right (  512.0,    0.0)\r\nLower Right (  512.0,  512.0)\r\nCenter      (  256.0,  256.0)\r\n```\r\n\r\nReading this file with `rasterio` lists subdatasets and tags as a property and a method respectively, in a new object. For example,\r\n```\r\nhdf5 = rasterio.open('ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5', nodata=0)\r\n```\r\nstores the _Subdatasets_ under `hdf5.subdatasets` while the _Metadata_ can be retrieved via `hdf5.tags()`.\r\n\r\nIf one tries to load, however, a single subdataset, its metadata tags are not retrieved. For example,\r\n```\r\nlst = rasterio.open('HDF5:ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5://SDS/LST')\r\n```\r\nthe `tags() method` does not return anything\r\n```\r\nlst.tags()\r\n```\r\nwhereas `gdalinfo` returns:\r\n```\r\ngdalinfo 'HDF5:ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5://SDS/LST'\r\nDriver: HDF5Image/HDF5 Dataset\r\nFiles: ECOSTRESS_L2_LSTE_05525_002_20190627T070809_0600_01.h5\r\nSize is 5400, 5632\r\nCorner Coordinates:\r\nUpper Left  (    0.0,    0.0)\r\nLower Left  (    0.0, 5632.0)\r\nUpper Right ( 5400.0,    0.0)\r\nLower Right ( 5400.0, 5632.0)\r\nCenter      ( 2700.0, 2816.0)\r\nBand 1 Block=5400x1 Type=UInt16, ColorInterp=Undefined\r\n  Metadata:\r\n    SDS_LST_add_offset=0\r\n    SDS_LST_coordsys=cartesian\r\n    SDS_LST_format=scaled\r\n    SDS_LST_long_name=Land Surface Temperature\r\n    SDS_LST_scale_factor=0.02\r\n    SDS_LST_units=K\r\n    SDS_LST_valid_range=7500 65535\r\n    SDS_LST__FillValue=0\r\n```\r\n\r\nI think this is something useful to have as retrieving per subdataset metadata will be easier. The problem I face is that many of the subdatasets have similar names, which makes retrieving per-subdataset metadata tags harder.\r\n\r\n## Related\r\n#1110; #772 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1892", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1892/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1892/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1892/events", "html_url": "https://github.com/mapbox/rasterio/issues/1892", "id": 586538810, "node_id": "MDU6SXNzdWU1ODY1Mzg4MTA=", "number": 1892, "title": "Quit use of mapbox S3 bucket in test_env.py", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 337782406, "node_id": "MDU6TGFiZWwzMzc3ODI0MDY=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/testing", "name": "testing", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/96", "html_url": "https://github.com/mapbox/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 0, "created_at": "2020-03-23T21:47:18Z", "updated_at": "2020-05-04T20:28:11Z", "closed_at": "2020-05-04T20:28:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Once upon a time we were using `s3://mapbox/rasterio/RGB.byte.tif` to test that we could open a GeoTIFF on S3, but now it's only used to check that we're not authenticated: https://github.com/mapbox/rasterio/blob/master/tests/test_env.py#L794-L796. Let's assert we're unauthenticated in another way, such as by using the AWS SDK.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1886", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1886/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1886/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1886/events", "html_url": "https://github.com/mapbox/rasterio/issues/1886", "id": 580769887, "node_id": "MDU6SXNzdWU1ODA3Njk4ODc=", "number": 1886, "title": "CI builds breaking", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-13T18:24:17Z", "updated_at": "2020-03-16T22:38:34Z", "closed_at": "2020-03-16T22:38:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "https://travis-ci.org/github/mapbox/rasterio/jobs/662038320#L4925.\r\n\r\nThis has to be a change in one of our dependencies.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1885", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1885/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1885/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1885/events", "html_url": "https://github.com/mapbox/rasterio/issues/1885", "id": 580692210, "node_id": "MDU6SXNzdWU1ODA2OTIyMTA=", "number": 1885, "title": "Accept object with `__geo_interface__` in geometry builder?", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/95", "html_url": "https://github.com/mapbox/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 6, "state": "open", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2020-07-08T17:56:39Z", "due_on": null, "closed_at": null}, "comments": 10, "created_at": "2020-03-13T15:53:47Z", "updated_at": "2020-07-08T17:56:39Z", "closed_at": "2020-07-08T17:56:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/mapbox/rasterio/blob/74bd625dfd984ca090a1ee02f4fc1940b11d7ce8/rasterio/_features.pyx#L620-L624\r\n\r\nThe methods would always return dictionary representations, but I was wondering what your thoughts were on accepting something like a shapely geometry object with a `__geo_interface__`?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1884", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1884/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1884/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1884/events", "html_url": "https://github.com/mapbox/rasterio/issues/1884", "id": 580031618, "node_id": "MDU6SXNzdWU1ODAwMzE2MTg=", "number": 1884, "title": "Tif has no mask", "user": {"login": "himat", "id": 1156974, "node_id": "MDQ6VXNlcjExNTY5NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1156974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himat", "html_url": "https://github.com/himat", "followers_url": "https://api.github.com/users/himat/followers", "following_url": "https://api.github.com/users/himat/following{/other_user}", "gists_url": "https://api.github.com/users/himat/gists{/gist_id}", "starred_url": "https://api.github.com/users/himat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himat/subscriptions", "organizations_url": "https://api.github.com/users/himat/orgs", "repos_url": "https://api.github.com/users/himat/repos", "events_url": "https://api.github.com/users/himat/events{/privacy}", "received_events_url": "https://api.github.com/users/himat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-12T15:45:01Z", "updated_at": "2020-03-12T16:40:24Z", "closed_at": "2020-03-12T16:40:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nThe [docs](https://rasterio.readthedocs.io/en/latest/topics/masks.html) say: \"For every band of a dataset there is a mask\".\r\n\r\nHowever, for a tif I have, I am not getting a mask.\r\nFor other tifs I am getting a mask, so it's strange that for one of the tifs, it's not working.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n<output for each line is next to the line>\r\n\r\n```\r\n\r\nf_path = \"LL15m_DTM.tif\"\r\nwith rio.open(f_path) as ds:\r\n\r\n        print(ds.profile) # {'driver': 'GTiff', 'dtype': 'float32', 'nodata': None, 'width': 891, 'height': 3081, 'count': 1, 'crs': CRS.from_epsg(32629), 'transform': Affine(15.0, 0.0, 232057.5, 0.0, -15.0, 1438432.5), 'blockxsize': 128, 'blockysize': 128, 'tiled': True, 'interleave': 'band'}\r\n                  \r\n        ds_arr_m = ds.read(1, masked=True)\r\n        print(ds.nodatavals) # (None,)\r\n       \r\n        mask = ds_arr_m.mask\r\n\r\n        print(\"mask: \", ds_arr_m.mask) # mask:  False\r\n        print(\"mask: \", ds_arr_m.mask.shape) # mask:  ()\r\n        \r\n        print(\"data: \", ds_arr_m.shape) # data:  (3081, 891)\r\n\r\n```\r\n\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04.6\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.1.0 installed via conda\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1883", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1883/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1883/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1883/events", "html_url": "https://github.com/mapbox/rasterio/issues/1883", "id": 577956465, "node_id": "MDU6SXNzdWU1Nzc5NTY0NjU=", "number": 1883, "title": "Cannot create a nan value", "user": {"login": "himat", "id": 1156974, "node_id": "MDQ6VXNlcjExNTY5NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1156974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himat", "html_url": "https://github.com/himat", "followers_url": "https://api.github.com/users/himat/followers", "following_url": "https://api.github.com/users/himat/following{/other_user}", "gists_url": "https://api.github.com/users/himat/gists{/gist_id}", "starred_url": "https://api.github.com/users/himat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himat/subscriptions", "organizations_url": "https://api.github.com/users/himat/orgs", "repos_url": "https://api.github.com/users/himat/repos", "events_url": "https://api.github.com/users/himat/events{/privacy}", "received_events_url": "https://api.github.com/users/himat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-09T14:38:46Z", "updated_at": "2020-03-09T18:04:44Z", "closed_at": "2020-03-09T15:28:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI loaded a geotiff, and am trying to identify which pixels are nodata values, and they should be nan, but I am not able to create a value that represents a nan.\r\n\r\nFor example: I expected to be able to check for nan values to replace them in the dataset, but I'm not able to create a value that is equal to it.\r\ni.e. I want to be able to do `label_arr[label_arr is not nodataval] = 0 # Set all points that are not nodata points (i.e. valid points) to 0`\r\n- But this just ends up setting every pixel to 0 because the `label_arr is not nodataval` is not working.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nex_f = \"ex.tif\" \r\nex_ds = rio.open(ex_f)\r\nlabel_arr = ex_ds.read(1)\r\nnodataval = ex_ds.nodata\r\n\r\nprint(\"nodata val: \", nodataval) # nodata val: nan\r\nprint(type(nodataval)) # <class 'numpy.float32'>\r\n\r\nprint(nodataval == nodataval) # False \r\nprint(nodataval is nodataval) # True\r\nprint(nodataval is np.nan) # False\r\nprint(nodataval is np.float('nan')) # False\r\nprint(nodataval is np.float32(np.nan)) # False\r\nprint(float(nodataval) is float('nan')) # False\r\nprint(float(nodataval) is float(np.float32(np.nan))) # False\r\n```\r\nI would have expected that using `nodataval is np.nan` or any of the other ones should have produced True. Only the first one that uses == should return False.\r\n\r\nHow is this possible?\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04.6\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.0.28 installed via conda\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1882", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1882/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1882/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1882/events", "html_url": "https://github.com/mapbox/rasterio/issues/1882", "id": 577092462, "node_id": "MDU6SXNzdWU1NzcwOTI0NjI=", "number": 1882, "title": "Surface scaling and offset of dataset values in API", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167173, "node_id": "MDU6TGFiZWw2NDE2NzE3Mw==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-06T18:07:28Z", "updated_at": "2020-05-04T20:49:27Z", "closed_at": "2020-05-04T20:49:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Background: #1881.\r\n\r\nI see at least three approaches.\r\n\r\n1. Add a scaling flag to DatasetReaderBase.read.\r\n\r\nIf the flag is true and GDAL detects an offset != 0 and a scaling != 1 we can operate on read arrays to return an array of scaled and offset values. This array's dtype might differ from the dataset's stated dtype.\r\n\r\n2. Add scaling and offset properties to DatasetReaderBase and a method to apply them to arrays. The user would need to call the method, but it will only be one line of code. And the user would then be responsible for getting the dtype they want, e.g. \"float32\" vs \"float64\".\r\n\r\n3. Always scale and offset the data if GDAL detects an offset != 0 and a scaling != 1 and add a flag to read \"raw\" values only.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1881", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1881/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1881/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1881/events", "html_url": "https://github.com/mapbox/rasterio/issues/1881", "id": 576560906, "node_id": "MDU6SXNzdWU1NzY1NjA5MDY=", "number": 1881, "title": "Rasterio coerces netCDF float32 data to int16", "user": {"login": "stepp1", "id": 40745694, "node_id": "MDQ6VXNlcjQwNzQ1Njk0", "avatar_url": "https://avatars0.githubusercontent.com/u/40745694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stepp1", "html_url": "https://github.com/stepp1", "followers_url": "https://api.github.com/users/stepp1/followers", "following_url": "https://api.github.com/users/stepp1/following{/other_user}", "gists_url": "https://api.github.com/users/stepp1/gists{/gist_id}", "starred_url": "https://api.github.com/users/stepp1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stepp1/subscriptions", "organizations_url": "https://api.github.com/users/stepp1/orgs", "repos_url": "https://api.github.com/users/stepp1/repos", "events_url": "https://api.github.com/users/stepp1/events{/privacy}", "received_events_url": "https://api.github.com/users/stepp1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-05T22:08:24Z", "updated_at": "2020-03-10T00:41:45Z", "closed_at": "2020-03-06T18:08:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior\r\nWhen rasterio opens netCDF variable of type float32 it returns an array of type float32.\r\n\r\n## Actual behavior\r\n\r\nWhen rasterio opens netCDF variable of type float32 it returns an array of type int16.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nPlease see attached notebook \r\n\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04.3  and MacOS 10.15.3\r\n\r\n## Rasterio version and provenance\r\nSee attached notebook\r\n\r\nConda installation\r\n\r\n![Screen Shot 2020-03-05 at 19 03 00](https://user-images.githubusercontent.com/40745694/76030597-c3f7c100-5f14-11ea-8ab9-47f27ca38eab.png)\r\n\r\n\r\n[test.nc.zip](https://github.com/mapbox/rasterio/files/4295366/test.nc.zip)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1878", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1878/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1878/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1878/events", "html_url": "https://github.com/mapbox/rasterio/issues/1878", "id": 575904985, "node_id": "MDU6SXNzdWU1NzU5MDQ5ODU=", "number": 1878, "title": "Incorrect handling of `int8` data when using InMemoryRaster", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/96", "html_url": "https://github.com/mapbox/rasterio/milestone/96", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/96/labels", "id": 5140600, "node_id": "MDk6TWlsZXN0b25lNTE0MDYwMA==", "number": 96, "title": "1.1.4", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 14, "state": "closed", "created_at": "2020-02-25T17:43:47Z", "updated_at": "2020-05-07T17:21:02Z", "due_on": null, "closed_at": "2020-05-07T17:21:02Z"}, "comments": 6, "created_at": "2020-03-05T00:15:26Z", "updated_at": "2020-05-07T17:20:52Z", "closed_at": "2020-05-07T17:20:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nGDAL treats `signed byte` data in a special way, there is only one 8-bit data type `GDT_Byte`, unsigned by default. To represent signed version one needs to set `PIXELTYPE='SIGNEDBYTE'`. When `int8` support was added in #1595 `InMemoryRaster` class was not adjusted to support `int8` inputs. Calls to `GDALCreate` need to include `options` dictionary similar to this:\r\n\r\nhttps://github.com/mapbox/rasterio/blob/74bd625dfd984ca090a1ee02f4fc1940b11d7ce8/rasterio/_io.pyx#L1173-L1181\r\n\r\nSupplying just `gdal_dtype=GDT_Byte` is not enough to fully specify `int8` to GDAL.\r\n\r\nhttps://github.com/mapbox/rasterio/blob/74bd625dfd984ca090a1ee02f4fc1940b11d7ce8/rasterio/_io.pyx#L1777-L1779\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThis problem manifests itself when using `rasterio.warp.reproject` with `int8` data:\r\n\r\nhttps://gist.github.com/Kirill888/6757ea0a1617cc1070fe74a97a3d69a4\r\n\r\n## Operating system\r\n\r\nTested on Ubuntu 18.04 64 bit, but all will be affected.\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1877", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1877/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1877/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1877/events", "html_url": "https://github.com/mapbox/rasterio/issues/1877", "id": 574028671, "node_id": "MDU6SXNzdWU1NzQwMjg2NzE=", "number": 1877, "title": "vsis3 cache not cleared after AWS credentials/region change", "user": {"login": "glostis", "id": 25295717, "node_id": "MDQ6VXNlcjI1Mjk1NzE3", "avatar_url": "https://avatars0.githubusercontent.com/u/25295717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glostis", "html_url": "https://github.com/glostis", "followers_url": "https://api.github.com/users/glostis/followers", "following_url": "https://api.github.com/users/glostis/following{/other_user}", "gists_url": "https://api.github.com/users/glostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glostis/subscriptions", "organizations_url": "https://api.github.com/users/glostis/orgs", "repos_url": "https://api.github.com/users/glostis/repos", "events_url": "https://api.github.com/users/glostis/events{/privacy}", "received_events_url": "https://api.github.com/users/glostis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-03-02T14:53:14Z", "updated_at": "2020-03-11T15:56:09Z", "closed_at": "2020-03-11T15:56:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nSorry for the unclear title of the issue, it isn't easy to describe in a single sentence.\r\n\r\nThe situation I encounter is the following: in a given Python session, if I get a `RasterioIOError` while trying to open a file on S3 (due to a `CPLE_AWSSignatureDoesNotMatchError` error triggered by an incorrect region name for example), I will keep getting a `RasterioIOError` on any subsequent `open` on the same file in the same Python session, regardless of the fact that I have changed my region name to the correct one. The only way to fix the problem is to restart a new Python session.\r\n\r\nIt seems like rasterio/GDAL is not trying to perform the request on the second `open`, it spits out the error as if it had \"cached\" the fact that such a request had previously lead to an error.\r\nI have tried to play with the `VSI_CACHE` config option, but to no avail.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThe most illustrative example of this issue is with a local [OpenIO](https://www.openio.io/) instance, that exposes an S3 API.\r\nRunning the following command exposes an S3 endpoint at http://172.17.0.2:6007, where the region name is `goodregion` (see the [reference](https://docs.openio.io/latest/source/sandbox-guide/docker_image.html#deploy))\r\n```\r\ndocker run -e REGION=goodregion -it openio/sds:19.10\r\n```\r\n\r\nWe can then make a bucket and upload a file to it using `awscli`:\r\n```\r\nwget -q https://github.com/mapbox/rasterio/raw/master/tests/data/alpha.tif\r\naws --endpoint-url $ENDPOINT_URL s3 mb s3://bucket\r\naws --endpoint-url $ENDPOINT_URL s3 cp alpha.tif s3://bucket\r\n```\r\n\r\nFinally, the following python snippet shows the issue:\r\n```python\r\nimport os\r\nimport sys\r\nimport rasterio\r\n\r\n\r\ndef try_opening(path):\r\n    try:\r\n        with rasterio.open(path) as f:\r\n            pass\r\n    except rasterio.errors.RasterioIOError:\r\n        return False\r\n    else:\r\n        return True\r\n\r\n\r\nendpoint_url = os.environ[\"ENDPOINT_URL\"].replace(\"http://\", \"\")  # GDAL does not like http://\r\npath = \"s3://bucket/alpha.tif\"\r\nkwargs = dict(AWS_HTTPS=False, AWS_VIRTUAL_HOSTING=False, AWS_S3_ENDPOINT=endpoint_url)\r\n\r\nfor region in [\"badregion\", \"goodregion\"]:\r\n    with rasterio.Env(AWS_DEFAULT_REGION=region, **kwargs):\r\n        print(f\"Opening file with region: {region}. Success: {try_opening(path)}\")\r\n```\r\nas it will print\r\n```\r\nOpening file with region: badregion. Success: False\r\nOpening file with region: goodregion. Success: False\r\n```\r\nwhereas switching the order of the `open`s (`for region in [\"goodregion\", \"badregion\"]`) prints:\r\n```\r\nOpening file with region: goodregion. Success: True\r\nOpening file with region: badregion. Success: True\r\n```\r\n\r\nSince several steps are required to reproduce the example, I've included a .zip in which the example can be reproduced by running `docker-compose up`.\r\nThis will run two Docker images: one with the OpenIO instance, and the other with a bash script that uploads an image to a bucket of the OpenIO instance, and then calls the python snippet above.\r\n[rasterio-cpleopenfailed.zip](https://github.com/mapbox/rasterio/files/4275947/rasterio-cpleopenfailed.zip)\r\n\r\n## Operating system\r\n\r\nMacOS and Ubuntu (these are the two OS I have access to)\r\n\r\n## Rasterio version and provenance\r\n\r\nThis issue can be seen on the latest `rasterio` wheel (1.1.3), but I have already encountered that issue on several previous `rasterio` versions.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1876", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1876/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1876/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1876/events", "html_url": "https://github.com/mapbox/rasterio/issues/1876", "id": 571540336, "node_id": "MDU6SXNzdWU1NzE1NDAzMzY=", "number": 1876, "title": "Concurrently reading from COGs through vsicurl fails with a segfault in 1.1.3", "user": {"login": "mihi314", "id": 3398091, "node_id": "MDQ6VXNlcjMzOTgwOTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3398091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihi314", "html_url": "https://github.com/mihi314", "followers_url": "https://api.github.com/users/mihi314/followers", "following_url": "https://api.github.com/users/mihi314/following{/other_user}", "gists_url": "https://api.github.com/users/mihi314/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihi314/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihi314/subscriptions", "organizations_url": "https://api.github.com/users/mihi314/orgs", "repos_url": "https://api.github.com/users/mihi314/repos", "events_url": "https://api.github.com/users/mihi314/events{/privacy}", "received_events_url": "https://api.github.com/users/mihi314/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-02-26T17:22:45Z", "updated_at": "2020-05-17T19:20:49Z", "closed_at": "2020-05-06T23:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nConcurrently reading from COGs through vsicurl fails with a segfault or other error:\r\n```*** Error in `python3': double free or corruption (!prev): 0x00007fddb4088da0 ***```\r\n\r\nThe accompanying backtrace:\r\n<details>\r\n<summary>Click to expand</summary>\r\n\r\n```\r\n*** Error in `python3': double free or corruption (!prev): 0x00007f9744088da0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7f97668377e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x8037a)[0x7f976684037a]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7f976684453c]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(CRYPTO_free+0x1d)[0x7f9764907ced]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(engine_pkey_meths_free+0x6d)[0x7f976494156d]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(engine_free_util+0x66)[0x7f97649407c6]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(engine_unlocked_finish+0x3c)[0x7f9764940b9c]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4(ENGINE_finish+0x39)[0x7f9764940cf9]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(ssl_create_cipher_list+0x1bc)[0x7f97623d4b6c]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(SSL_CTX_new+0x25b)[0x7f97623cc71b]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xd6386)[0x7f97623a3386]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xd783a)[0x7f97623a483a]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xda28b)[0x7f97623a728b]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0x999d2)[0x7f97623669d2]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xaae21)[0x7f9762377e21]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(+0xbd32e)[0x7f976238a32e]\r\n/usr/local/lib/python3.5/dist-packages/fiona/.libs/./libcurl-ea538880.so.4.4.0(curl_multi_perform+0x81)[0x7f976238b0b1]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(+0xbb960b)[0x7f975e4ae60b]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(+0xbc33da)[0x7f975e4b83da]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(+0xbbbf30)[0x7f975e4b0f30]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(_ZN12GDALOpenInfoC1EPKciPKS1_+0x521)[0x7f975e0d4541]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4(GDALOpenEx+0x87)[0x7f975e0af677]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so(+0x22ab1)[0x7f97589ddab1]\r\n/usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so(+0x42c36)[0x7f975f1ebc36]\r\npython3[0x579f4c]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3(PyEval_EvalCodeEx+0x88a)[0x53af6a]\r\npython3[0x4e3537]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3[0x539f5f]\r\npython3(PyEval_EvalFrameEx+0x5572)[0x535af2]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3423]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3[0x53035e]\r\npython3[0x5b13b4]\r\npython3[0x579f4c]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x4f2f)[0x5354af]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3537]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3537]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_EvalFrameEx+0x24a2)[0x532a22]\r\npython3(PyEval_EvalFrameEx+0x4b64)[0x5350e4]\r\npython3(PyEval_EvalFrameEx+0x4b64)[0x5350e4]\r\npython3(PyEval_EvalCodeEx+0x13b)[0x53a81b]\r\npython3[0x4e3423]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3[0x4f08be]\r\npython3(PyObject_Call+0x47)[0x5c3bd7]\r\npython3(PyEval_CallObjectWithKeywords+0x30)[0x525d00]\r\npython3[0x626bb2]\r\n/lib/x86_64-linux-gnu/libpthread.so.0(+0x76ba)[0x7f9766b916ba]\r\n/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d)[0x7f97668c741d]\r\n======= Memory map: ========\r\n00400000-007a7000 r-xp 00000000 08:11 336249                             /usr/bin/python3.5\r\n009a6000-009a8000 r--p 003a6000 08:11 336249                             /usr/bin/python3.5\r\n009a8000-00a3f000 rw-p 003a8000 08:11 336249                             /usr/bin/python3.5\r\n00a3f000-00a70000 rw-p 00000000 00:00 0 \r\n01724000-01f09000 rw-p 00000000 00:00 0                                  [heap]\r\n7f9720000000-7f9720027000 rw-p 00000000 00:00 0 \r\n7f9720027000-7f9724000000 ---p 00000000 00:00 0 \r\n7f9728000000-7f9728021000 rw-p 00000000 00:00 0 \r\n7f9728021000-7f972c000000 ---p 00000000 00:00 0 \r\n7f972c000000-7f972c021000 rw-p 00000000 00:00 0 \r\n7f972c021000-7f9730000000 ---p 00000000 00:00 0 \r\n7f97335e4000-7f97335fb000 r-xp 00000000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97335fb000-7f97337fb000 ---p 00017000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97337fb000-7f97337fc000 r--p 00017000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97337fc000-7f97337fd000 rw-p 00018000 08:11 918711                     /lib/x86_64-linux-gnu/libresolv-2.23.so\r\n7f97337fd000-7f97337ff000 rw-p 00000000 00:00 0 \r\n7f97337ff000-7f9733800000 ---p 00000000 00:00 0 \r\n7f9733800000-7f9734000000 rw-p 00000000 00:00 0 \r\n7f9734000000-7f973406d000 rw-p 00000000 00:00 0 \r\n7f973406d000-7f9738000000 ---p 00000000 00:00 0 \r\n7f9738000000-7f9738021000 rw-p 00000000 00:00 0 \r\n7f9738021000-7f973c000000 ---p 00000000 00:00 0 \r\n7f973c000000-7f973c05f000 rw-p 00000000 00:00 0 \r\n7f973c05f000-7f9740000000 ---p 00000000 00:00 0 \r\n7f9740000000-7f9740092000 rw-p 00000000 00:00 0 \r\n7f9740092000-7f9744000000 ---p 00000000 00:00 0 \r\n7f9744000000-7f97440cb000 rw-p 00000000 00:00 0 \r\n7f97440cb000-7f9748000000 ---p 00000000 00:00 0 \r\n7f97481f3000-7f97481f8000 r-xp 00000000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97481f8000-7f97483f8000 ---p 00005000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97483f8000-7f97483f9000 r--p 00005000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97483f9000-7f97483fa000 rw-p 00006000 08:11 918686                     /lib/x86_64-linux-gnu/libnss_dns-2.23.so\r\n7f97483fa000-7f9748405000 r-xp 00000000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748405000-7f9748604000 ---p 0000b000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748604000-7f9748605000 r--p 0000a000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748605000-7f9748606000 rw-p 0000b000 08:11 918688                     /lib/x86_64-linux-gnu/libnss_files-2.23.so\r\n7f9748606000-7f974860c000 rw-p 00000000 00:00 0 \r\n7f974860c000-7f974860d000 ---p 00000000 00:00 0 \r\n7f974860d000-7f9748e0d000 rw-p 00000000 00:00 0 \r\n7f9748e0d000-7f9748e0e000 ---p 00000000 00:00 0 \r\n7f9748e0e000-7f974960e000 rw-p 00000000 00:00 0 \r\n7f974960e000-7f974960f000 ---p 00000000 00:00 0 \r\n7f974960f000-7f9749e0f000 rw-p 00000000 00:00 0 \r\n7f9749e0f000-7f9749e10000 ---p 00000000 00:00 0 \r\n7f9749e10000-7f974a610000 rw-p 00000000 00:00 0 \r\n7f974a610000-7f974a611000 ---p 00000000 00:00 0 \r\n7f974a611000-7f974ae11000 rw-p 00000000 00:00 0 \r\n7f974ae11000-7f974ae12000 ---p 00000000 00:00 0 \r\n7f974ae12000-7f974b652000 rw-p 00000000 00:00 0 \r\n7f974b652000-7f974b689000 r-xp 00000000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b689000-7f974b888000 ---p 00037000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b888000-7f974b88e000 rw-p 00036000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b88e000-7f974b88f000 rw-p 00000000 00:00 0 \r\n7f974b88f000-7f974b893000 rw-p 0003c000 08:11 1060330                    /usr/local/lib/python3.5/dist-packages/rasterio/_features.cpython-35m-x86_64-linux-gnu.so\r\n7f974b893000-7f974b8fb000 r-xp 00000000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974b8fb000-7f974bafa000 ---p 00068000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974bafa000-7f974bb03000 rw-p 00067000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974bb03000-7f974bb05000 rw-p 00000000 00:00 0 \r\n7f974bb05000-7f974bb0a000 rw-p 00071000 08:11 1060335                    /usr/local/lib/python3.5/dist-packages/rasterio/_warp.cpython-35m-x86_64-linux-gnu.so\r\n7f974bb0a000-7f974bb4a000 rw-p 00000000 00:00 0 \r\n7f974bb4a000-7f974bbfb000 r-xp 00000000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974bbfb000-7f974bdfa000 ---p 000b1000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974bdfa000-7f974be07000 rw-p 000b0000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974be07000-7f974be09000 rw-p 00000000 00:00 0 \r\n7f974be09000-7f974be0d000 rw-p 000bd000 08:11 1060332                    /usr/local/lib/python3.5/dist-packages/rasterio/_io.cpython-35m-x86_64-linux-gnu.so\r\n7f974be0d000-7f974be15000 r-xp 00000000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974be15000-7f974c015000 ---p 00008000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974c015000-7f974c016000 rw-p 00008000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974c016000-7f974c019000 rw-p 0000a000 08:11 1060334                    /usr/local/lib/python3.5/dist-packages/rasterio/_transform.cpython-35m-x86_64-linux-gnu.so\r\n7f974c019000-7f974c0d9000 rw-p 00000000 00:00 0 \r\n7f974c0d9000-7f974c125000 r-xp 00000000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c125000-7f974c324000 ---p 0004c000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c324000-7f974c32a000 rw-p 0004b000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c32a000-7f974c32b000 rw-p 00000000 00:00 0 \r\n7f974c32b000-7f974c330000 rw-p 00052000 08:11 1060327                    /usr/local/lib/python3.5/dist-packages/rasterio/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f974c330000-7f974c373000 r-xp 00000000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c373000-7f974c572000 ---p 00043000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c572000-7f974c578000 rw-p 00042000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c578000-7f974c579000 rw-p 00000000 00:00 0 \r\n7f974c579000-7f974c57d000 rw-p 00048000 08:11 1060326                    /usr/local/lib/python3.5/dist-packages/rasterio/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f974c57d000-7f974c6bd000 rw-p 00000000 00:00 0 \r\n7f974c6bd000-7f974c75b000 r-xp 00000000 08:11 1060176                    /usr/local/lib/python3.5/dist-packages/numpy/random/_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974c75b000-7f974c95a000 ---p 0009e000 08:11 1060176                    /usr/local/lib/python3.5/dist-packages/numpy/random/_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974c95a000-7f974c97f000 rw-p 0009d000 08:11 1060176                    /usr/local/lib/python3.5/dist-packages/numpy/random/_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974c97f000-7f974c981000 rw-p 00000000 00:00 0 \r\n7f974c981000-7f974c98c000 r-xp 00000000 08:11 1060181                    /usr/local/lib/python3.5/dist-packages/numpy/random/_sfc64.cpython-35m-x86_64-linux-gnu.so\r\n7f974c98c000-7f974cb8c000 ---p 0000b000 08:11 1060181                    /usr/local/lib/python3.5/dist-packages/numpy/random/_sfc64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cb8c000-7f974cb8d000 rw-p 0000b000 08:11 1060181                    /usr/local/lib/python3.5/dist-packages/numpy/random/_sfc64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cb8d000-7f974cb8e000 rw-p 00000000 00:00 0 \r\n7f974cb8e000-7f974cb9d000 r-xp 00000000 08:11 1060178                    /usr/local/lib/python3.5/dist-packages/numpy/random/_pcg64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cb9d000-7f974cd9d000 ---p 0000f000 08:11 1060178                    /usr/local/lib/python3.5/dist-packages/numpy/random/_pcg64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cd9d000-7f974cd9f000 rw-p 0000f000 08:11 1060178                    /usr/local/lib/python3.5/dist-packages/numpy/random/_pcg64.cpython-35m-x86_64-linux-gnu.so\r\n7f974cd9f000-7f974cdb1000 r-xp 00000000 08:11 1060179                    /usr/local/lib/python3.5/dist-packages/numpy/random/_philox.cpython-35m-x86_64-linux-gnu.so\r\n7f974cdb1000-7f974cfb0000 ---p 00012000 08:11 1060179                    /usr/local/lib/python3.5/dist-packages/numpy/random/_philox.cpython-35m-x86_64-linux-gnu.so\r\n7f974cfb0000-7f974cfb2000 rw-p 00011000 08:11 1060179                    /usr/local/lib/python3.5/dist-packages/numpy/random/_philox.cpython-35m-x86_64-linux-gnu.so\r\n7f974cfb2000-7f974cff3000 rw-p 00000000 00:00 0 \r\n7f974cff3000-7f974d00b000 r-xp 00000000 08:11 1060177                    /usr/local/lib/python3.5/dist-packages/numpy/random/_mt19937.cpython-35m-x86_64-linux-gnu.so\r\n7f974d00b000-7f974d20b000 ---p 00018000 08:11 1060177                    /usr/local/lib/python3.5/dist-packages/numpy/random/_mt19937.cpython-35m-x86_64-linux-gnu.so\r\n7f974d20b000-7f974d20d000 rw-p 00018000 08:11 1060177                    /usr/local/lib/python3.5/dist-packages/numpy/random/_mt19937.cpython-35m-x86_64-linux-gnu.so\r\n7f974d20d000-7f974d261000 r-xp 00000000 08:11 1060160                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bounded_integers.cpython-35m-x86_64-linux-gnu.so\r\n7f974d261000-7f974d461000 ---p 00054000 08:11 1060160                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bounded_integers.cpython-35m-x86_64-linux-gnu.so\r\n7f974d461000-7f974d463000 rw-p 00054000 08:11 1060160                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bounded_integers.cpython-35m-x86_64-linux-gnu.so\r\n7f974d463000-7f974d499000 r-xp 00000000 08:11 1060162                    /usr/local/lib/python3.5/dist-packages/numpy/random/_common.cpython-35m-x86_64-linux-gnu.so\r\n7f974d499000-7f974d698000 ---p 00036000 08:11 1060162                    /usr/local/lib/python3.5/dist-packages/numpy/random/_common.cpython-35m-x86_64-linux-gnu.so\r\n7f974d698000-7f974d69a000 rw-p 00035000 08:11 1060162                    /usr/local/lib/python3.5/dist-packages/numpy/random/_common.cpython-35m-x86_64-linux-gnu.so\r\n7f974d69a000-7f974d69b000 rw-p 00000000 00:00 0 \r\n7f974d69b000-7f974d6c3000 r-xp 00000000 08:11 1060158                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bit_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974d6c3000-7f974d8c2000 ---p 00028000 08:11 1060158                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bit_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974d8c2000-7f974d8c8000 rw-p 00027000 08:11 1060158                    /usr/local/lib/python3.5/dist-packages/numpy/random/_bit_generator.cpython-35m-x86_64-linux-gnu.so\r\n7f974d8c8000-7f974d947000 r-xp 00000000 08:11 1060182                    /usr/local/lib/python3.5/dist-packages/numpy/random/mtrand.cpython-35m-x86_64-linux-gnu.so\r\n7f974d947000-7f974db46000 ---p 0007f000 08:11 1060182                    /usr/local/lib/python3.5/dist-packages/numpy/random/mtrand.cpython-35m-x86_64-linux-gnu.so\r\n7f974db46000-7f974db6d000 rw-p 0007e000 08:11 1060182                    /usr/local/lib/python3.5/dist-packages/numpy/random/mtrand.cpython-35m-x86_64-linux-gnu.so\r\n7f974db6d000-7f974dbae000 rw-p 00000000 00:00 0 \r\n7f974dbae000-7f974dbc4000 r-xp 00000000 08:11 1059567                    /usr/local/lib/python3.5/dist-packages/numpy/fft/_pocketfft_internal.cpython-35m-x86_64-linux-gnu.so\r\n7f974dbc4000-7f974ddc3000 ---p 00016000 08:11 1059567                    /usr/local/lib/python3.5/dist-packages/numpy/fft/_pocketfft_internal.cpython-35m-x86_64-linux-gnu.so\r\n7f974ddc3000-7f974ddc4000 rw-p 00015000 08:11 1059567                    /usr/local/lib/python3.5/dist-packages/numpy/fft/_pocketfft_internal.cpython-35m-x86_64-linux-gnu.so\r\n7f974ddc4000-7f974ddfb000 r-xp 00000000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974ddfb000-7f974dffa000 ---p 00037000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974dffa000-7f974dffb000 r--p 00036000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974dffb000-7f974dffc000 rw-p 00037000 08:11 1091570                    /usr/lib/x86_64-linux-gnu/libmpdec.so.2.4.2\r\n7f974dffc000-7f974e020000 r-xp 00000000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e020000-7f974e21f000 ---p 00024000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e21f000-7f974e220000 r--p 00023000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e220000-7f974e229000 rw-p 00024000 08:11 1071421                    /usr/lib/python3.5/lib-dynload/_decimal.cpython-35m-x86_64-linux-gnu.so\r\n7f974e229000-7f974e2e9000 rw-p 00000000 00:00 0 \r\n7f974e2e9000-7f974e314000 r-xp 00000000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e314000-7f974e514000 ---p 0002b000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e514000-7f974e516000 rw-p 0002b000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e516000-7f974e519000 rw-p 000d4000 08:11 1059803                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/_umath_linalg.cpython-35m-x86_64-linux-gnu.so\r\n7f974e519000-7f974e51d000 r-xp 00000000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e51d000-7f974e71d000 ---p 00004000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e71d000-7f974e71e000 rw-p 00004000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e71e000-7f974e720000 rw-p 00019000 08:11 1059804                    /usr/local/lib/python3.5/dist-packages/numpy/linalg/lapack_lite.cpython-35m-x86_64-linux-gnu.so\r\n7f974e720000-7f974e760000 rw-p 00000000 00:00 0 \r\n7f974e760000-7f974e77f000 r-xp 00000000 08:11 1059063                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_tests.cpython-35m-x86_64-linux-gnu.so\r\n7f974e77f000-7f974e97f000 ---p 0001f000 08:11 1059063                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_tests.cpython-35m-x86_64-linux-gnu.so\r\n7f974e97f000-7f974e981000 rw-p 0001f000 08:11 1059063                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_tests.cpython-35m-x86_64-linux-gnu.so\r\n7f974e981000-7f9752b42000 rw-p 00000000 00:00 0 \r\n7f9752b42000-7f9752b43000 ---p 00000000 00:00 0 \r\n7f9752b43000-7f9755343000 rw-p 00000000 00:00 0 \r\n7f9755343000-7f9755344000 ---p 00000000 00:00 0 \r\n7f9755344000-7f9755b44000 rw-p 00000000 00:00 0 \r\n7f9755b44000-7f9755b45000 ---p 00000000 00:00 0 \r\n7f9755b45000-7f9756345000 rw-p 00000000 00:00 0 \r\n7f9756345000-7f9756435000 r-xp 00000000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f9756435000-7f9756634000 ---p 000f0000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f9756634000-7f9756636000 rw-p 000ef000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f9756636000-7f9756637000 rw-p 00000000 00:00 0 \r\n7f9756637000-7f975663f000 rw-p 000f2000 08:11 1058977                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libgfortran-ed201abd.so.3.0.0\r\n7f975663f000-7f9758135000 r-xp 00000000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f9758135000-7f9758334000 ---p 01af6000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f9758334000-7f975834d000 rw-p 01af5000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f975834d000-7f9758358000 rw-p 00000000 00:00 0 \r\n7f9758358000-7f97583d0000 rw-p 01be1000 08:11 1058978                    /usr/local/lib/python3.5/dist-packages/numpy/.libs/libopenblasp-r0-34a18dc3.3.7.so\r\n7f97583d0000-7f9758775000 r-xp 00000000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f9758775000-7f9758974000 ---p 003a5000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f9758974000-7f9758993000 rw-p 003a4000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f9758993000-7f97589b4000 rw-p 00000000 00:00 0 \r\n7f97589b4000-7f97589bb000 rw-p 01473000 08:11 1059064                    /usr/local/lib/python3.5/dist-packages/numpy/core/_multiarray_umath.cpython-35m-x86_64-linux-gnu.so\r\n7f97589bb000-7f97589e6000 r-xp 00000000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97589e6000-7f9758be5000 ---p 0002b000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f9758be5000-7f9758be8000 rw-p 0002a000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f9758be8000-7f9758be9000 rw-p 00000000 00:00 0 \r\n7f9758be9000-7f9758bed000 rw-p 0002e000 08:11 1060333                    /usr/local/lib/python3.5/dist-packages/rasterio/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f9758bed000-7f9758bfc000 r-xp 00000000 08:11 1060328                    /usr/local/lib/python3.5/dist-packages/rasterio/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f9758bfc000-7f9758dfc000 ---p 0000f000 08:11 1060328                    /usr/local/lib/python3.5/dist-packages/rasterio/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f9758dfc000-7f9758e01000 rw-p 0000f000 08:11 1060328                    /usr/local/lib/python3.5/dist-packages/rasterio/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f9758e01000-7f9758e41000 rw-p 00000000 00:00 0 \r\n7f9758e41000-7f9758e49000 r-xp 00000000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f9758e49000-7f9759048000 ---p 00008000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f9759048000-7f9759049000 rw-p 00007000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f9759049000-7f975904a000 rw-p 00009000 08:11 1060280                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libaec-f0d4887b.so.0.0.10\r\n7f975904a000-7f975904c000 r-xp 00000000 08:11 1060296                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsz-53d02de5.so.2.0.1\r\n7f975904c000-7f975924b000 ---p 00002000 08:11 1060296                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsz-53d02de5.so.2.0.1\r\n7f975924b000-7f975924f000 rw-p 00001000 08:11 1060296                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsz-53d02de5.so.2.0.1\r\n7f975924f000-7f975926f000 r-xp 00000000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f975926f000-7f975946f000 ---p 00020000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f975946f000-7f9759470000 rw-p 00020000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f9759470000-7f9759471000 rw-p 00000000 00:00 0 \r\n7f9759471000-7f975947d000 rw-p 00022000 08:11 1060287                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5_hl-92c1cdd8.so.100.1.2\r\n7f975947d000-7f9759826000 r-xp 00000000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759826000-7f9759a25000 ---p 003a9000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759a25000-7f9759a37000 rw-p 003a8000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759a37000-7f9759a3a000 rw-p 00000000 00:00 0 \r\n7f9759a3a000-7f9759a8b000 rw-p 003ba000 08:11 1060286                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libhdf5-66e8dd7b.so.103.1.0\r\n7f9759a8b000-7f9759bc1000 r-xp 00000000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f9759bc1000-7f9759dc0000 ---p 00136000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f9759dc0000-7f9759e13000 rw-p 00135000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f9759e13000-7f975ce21000 rw-p 00000000 00:00 0 \r\n7f975ce21000-7f975ce6c000 rw-p 00188000 08:11 1060290                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libnetcdf-8080e985.so.11.0.4\r\n7f975ce6c000-7f975cec4000 r-xp 00000000 08:11 1060292                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libopenjp2-8f6da918.so.2.3.0\r\n7f975cec4000-7f975d0c4000 ---p 00058000 08:11 1060292                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libopenjp2-8f6da918.so.2.3.0\r\n7f975d0c4000-7f975d0c8000 rw-p 00058000 08:11 1060292                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libopenjp2-8f6da918.so.2.3.0\r\n7f975d0c8000-7f975d0fb000 r-xp 00000000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d0fb000-7f975d2fb000 ---p 00033000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d2fb000-7f975d2fd000 rw-p 00033000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d2fd000-7f975d2fe000 rw-p 00036000 08:11 1060282                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libexpat-09c47d4c.so.1.6.8\r\n7f975d2fe000-7f975d42b000 r-xp 00000000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d42b000-7f975d62a000 ---p 0012d000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d62a000-7f975d62f000 rw-p 0012c000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d62f000-7f975d630000 rw-p 00000000 00:00 0 \r\n7f975d630000-7f975d634000 rw-p 00132000 08:11 1060295                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libsqlite3-fdd57a2d.so.0.8.6\r\n7f975d634000-7f975d6f2000 r-xp 00000000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d6f2000-7f975d8f1000 ---p 000be000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d8f1000-7f975d8f2000 rw-p 000bd000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d8f2000-7f975d8f4000 rw-p 00000000 00:00 0 \r\n7f975d8f4000-7f975d8f5000 rw-p 000bf000 08:11 1060297                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libwebp-fbd93615.so.7.0.5\r\n7f975d8f5000-7f975e995000 r-xp 00000000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975e995000-7f975eb95000 ---p 010a0000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975eb95000-7f975ec95000 rw-p 010a0000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975ec95000-7f975ec9b000 rw-p 00000000 00:00 0 \r\n7f975ec9b000-7f975f1a9000 rw-p 011a1000 08:11 1060283                    /usr/local/lib/python3.5/dist-packages/rasterio/.libs/libgdal-63d0ced7.so.20.5.4\r\n7f975f1a9000-7f975f219000 r-xp 00000000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f219000-7f975f418000 ---p 00070000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f418000-7f975f421000 rw-p 0006f000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f421000-7f975f423000 rw-p 00000000 00:00 0 \r\n7f975f423000-7f975f428000 rw-p 00079000 08:11 1060325                    /usr/local/lib/python3.5/dist-packages/rasterio/_base.cpython-35m-x86_64-linux-gnu.so\r\n7f975f428000-7f975f435000 r-xp 00000000 08:11 1058727                    /usr/local/lib/python3.5/dist-packages/fiona/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f975f435000-7f975f634000 ---p 0000d000 08:11 1058727                    /usr/local/lib/python3.5/dist-packages/fiona/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f975f634000-7f975f639000 rw-p 0000c000 08:11 1058727                    /usr/local/lib/python3.5/dist-packages/fiona/_crs.cpython-35m-x86_64-linux-gnu.so\r\n7f975f639000-7f975f679000 rw-p 00000000 00:00 0 \r\n7f975f679000-7f975f682000 r-xp 00000000 08:11 1058961                    /usr/local/lib/python3.5/dist-packages/fiona/schema.cpython-35m-x86_64-linux-gnu.so\r\n7f975f682000-7f975f881000 ---p 00009000 08:11 1058961                    /usr/local/lib/python3.5/dist-packages/fiona/schema.cpython-35m-x86_64-linux-gnu.so\r\n7f975f881000-7f975f886000 rw-p 00008000 08:11 1058961                    /usr/local/lib/python3.5/dist-packages/fiona/schema.cpython-35m-x86_64-linux-gnu.so\r\n7f975f886000-7f975f8c6000 rw-p 00000000 00:00 0 \r\n7f975f8c6000-7f975f8f8000 r-xp 00000000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975f8f8000-7f975faf7000 ---p 00032000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975faf7000-7f975fafb000 rw-p 00031000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975fafb000-7f975fafc000 rw-p 00000000 00:00 0 \r\n7f975fafc000-7f975fb00000 rw-p 00036000 08:11 1058728                    /usr/local/lib/python3.5/dist-packages/fiona/_env.cpython-35m-x86_64-linux-gnu.so\r\n7f975fb00000-7f975fb04000 r-xp 00000000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fb04000-7f975fd03000 ---p 00004000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fd03000-7f975fd04000 r--p 00003000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fd04000-7f975fd05000 rw-p 00004000 08:11 918736                     /lib/x86_64-linux-gnu/libuuid.so.1.3.0\r\n7f975fd05000-7f975ff20000 r-xp 00000000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f975ff20000-7f976011f000 ---p 0021b000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f976011f000-7f976013b000 r--p 0021a000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f976013b000-7f9760147000 rw-p 00236000 08:11 336098                     /lib/x86_64-linux-gnu/libcrypto.so.1.0.0\r\n7f9760147000-7f976014a000 rw-p 00000000 00:00 0 \r\n7f976014a000-7f9760150000 r-xp 00000000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f9760150000-7f976034f000 ---p 00006000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f976034f000-7f9760350000 r--p 00005000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f9760350000-7f9760351000 rw-p 00006000 08:11 1071422                    /usr/lib/python3.5/lib-dynload/_hashlib.cpython-35m-x86_64-linux-gnu.so\r\n7f9760351000-7f9760372000 r-xp 00000000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760372000-7f9760571000 ---p 00021000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760571000-7f9760572000 r--p 00020000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760572000-7f9760573000 rw-p 00021000 08:11 918670                     /lib/x86_64-linux-gnu/liblzma.so.5.0.0\r\n7f9760573000-7f976057a000 r-xp 00000000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f976057a000-7f9760779000 ---p 00007000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f9760779000-7f976077a000 r--p 00006000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f976077a000-7f976077c000 rw-p 00007000 08:11 1071425                    /usr/lib/python3.5/lib-dynload/_lzma.cpython-35m-x86_64-linux-gnu.so\r\n7f976077c000-7f976078b000 r-xp 00000000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976078b000-7f976098a000 ---p 0000f000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976098a000-7f976098b000 r--p 0000e000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976098b000-7f976098c000 rw-p 0000f000 08:11 918638                     /lib/x86_64-linux-gnu/libbz2.so.1.0.4\r\n7f976098c000-7f9760990000 r-xp 00000000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760990000-7f9760b8f000 ---p 00004000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760b8f000-7f9760b90000 r--p 00003000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760b90000-7f9760b91000 rw-p 00004000 08:11 1071407                    /usr/lib/python3.5/lib-dynload/_bz2.cpython-35m-x86_64-linux-gnu.so\r\n7f9760b91000-7f9760c11000 rw-p 00000000 00:00 0 \r\n7f9760c11000-7f9760c33000 r-xp 00000000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760c33000-7f9760e32000 ---p 00022000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e32000-7f9760e33000 r--p 00021000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e33000-7f9760e37000 rw-p 00022000 08:11 1071416                    /usr/lib/python3.5/lib-dynload/_ctypes.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e37000-7f9760e78000 rw-p 00000000 00:00 0 \r\n7f9760e78000-7f9760e89000 r-xp 00000000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f9760e89000-7f9761088000 ---p 00011000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f9761088000-7f9761089000 r--p 00010000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f9761089000-7f976108a000 rw-p 00011000 08:11 1071423                    /usr/lib/python3.5/lib-dynload/_json.cpython-35m-x86_64-linux-gnu.so\r\n7f976108a000-7f976109e000 r-xp 00000000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f976109e000-7f976129e000 ---p 00014000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f976129e000-7f97612a0000 rw-p 00014000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f97612a0000-7f97612a1000 rw-p 00000000 00:00 0 \r\n7f97612a1000-7f97612a4000 rw-p 00017000 08:11 1058729                    /usr/local/lib/python3.5/dist-packages/fiona/_err.cpython-35m-x86_64-linux-gnu.so\r\n7f97612a4000-7f97612b3000 r-xp 00000000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97612b3000-7f97614b3000 ---p 0000f000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97614b3000-7f97614b4000 rw-p 0000f000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97614b4000-7f97614b7000 rw-p 00011000 08:11 1058733                    /usr/local/lib/python3.5/dist-packages/fiona/_shim.cpython-35m-x86_64-linux-gnu.so\r\n7f97614b7000-7f97614d8000 r-xp 00000000 08:11 1058730                    /usr/local/lib/python3.5/dist-packages/fiona/_geometry.cpython-35m-x86_64-linux-gnu.so\r\n7f97614d8000-7f97616d7000 ---p 00021000 08:11 1058730                    /usr/local/lib/python3.5/dist-packages/fiona/_geometry.cpython-35m-x86_64-linux-gnu.so\r\n7f97616d7000-7f97616df000 rw-p 00020000 08:11 1058730                    /usr/local/lib/python3.5/dist-packages/fiona/_geometry.cpython-35m-x86_64-linux-gnu.so\r\n7f97616df000-7f976170d000 r-xp 00000000 08:11 1058706                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libnghttp2-11cb20b8.so.14.17.1\r\n7f976170d000-7f976190c000 ---p 0002e000 08:11 1058706                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libnghttp2-11cb20b8.so.14.17.1\r\n7f976190c000-7f9761911000 rw-p 0002d000 08:11 1058706                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libnghttp2-11cb20b8.so.14.17.1\r\n7f9761911000-7f9761ad1000 r-xp 00000000 08:11 1058702                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos--no-undefined-b94097bf.so\r\n7f9761ad1000-7f9761cd0000 ---p 001c0000 08:11 1058702                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos--no-undefined-b94097bf.so\r\n7f9761cd0000-7f9761d35000 rw-p 001bf000 08:11 1058702                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos--no-undefined-b94097bf.so\r\n7f9761d35000-7f9761d4b000 r-xp 00000000 08:11 918660                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f9761d4b000-7f9761f4a000 ---p 00016000 08:11 918660                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f9761f4a000-7f9761f4b000 rw-p 00015000 08:11 918660                     /lib/x86_64-linux-gnu/libgcc_s.so.1\r\n7f9761f4b000-7f97620bd000 r-xp 00000000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97620bd000-7f97622bd000 ---p 00172000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97622bd000-7f97622c7000 r--p 00172000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97622c7000-7f97622c9000 rw-p 0017c000 08:11 919473                     /usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.21\r\n7f97622c9000-7f97622cd000 rw-p 00000000 00:00 0 \r\n7f97622cd000-7f97625bf000 r-xp 00000000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f97625bf000-7f97627bf000 ---p 002f2000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f97627bf000-7f97627f6000 rw-p 002f2000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f97627f6000-7f97627fb000 rw-p 00000000 00:00 0 \r\n7f97627fb000-7f9762846000 rw-p 0032a000 08:11 1058699                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libcurl-ea538880.so.4.4.0\r\n7f9762846000-7f976284d000 r-xp 00000000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f976284d000-7f9762a4c000 ---p 00007000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f9762a4c000-7f9762a4d000 r--p 00006000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f9762a4d000-7f9762a4e000 rw-p 00007000 08:11 918713                     /lib/x86_64-linux-gnu/librt-2.23.so\r\n7f9762a4e000-7f9762a62000 r-xp 00000000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762a62000-7f9762c61000 ---p 00014000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762c61000-7f9762c62000 rw-p 00013000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762c62000-7f9762c63000 rw-p 00015000 08:11 1058710                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libz-a147dcb0.so.1.2.3\r\n7f9762c63000-7f9762ca4000 r-xp 00000000 08:11 1058707                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libpng16-898afbbd.so.16.35.0\r\n7f9762ca4000-7f9762ea3000 ---p 00041000 08:11 1058707                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libpng16-898afbbd.so.16.35.0\r\n7f9762ea3000-7f9762ea8000 rw-p 00040000 08:11 1058707                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libpng16-898afbbd.so.16.35.0\r\n7f9762ea8000-7f9762ef9000 r-xp 00000000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f9762ef9000-7f97630f9000 ---p 00051000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f97630f9000-7f97630fa000 rw-p 00051000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f97630fa000-7f97630fc000 rw-p 00053000 08:11 1058704                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjpeg-3fe7dfc0.so.9.3.0\r\n7f97630fc000-7f9763123000 r-xp 00000000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763123000-7f9763323000 ---p 00027000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763323000-7f9763325000 rw-p 00027000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763325000-7f9763326000 rw-p 0002a000 08:11 1058700                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libexpat-c4a93fc7.so.1.6.8\r\n7f9763326000-7f9763453000 r-xp 00000000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f9763453000-7f9763652000 ---p 0012d000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f9763652000-7f9763657000 rw-p 0012c000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f9763657000-7f9763658000 rw-p 00000000 00:00 0 \r\n7f9763658000-7f976365a000 rw-p 00132000 08:11 1058709                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libsqlite3-25a4bc97.so.0.8.6\r\n7f976365a000-7f9763695000 r-xp 00000000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f9763695000-7f9763895000 ---p 0003b000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f9763895000-7f9763897000 rw-p 0003b000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f9763897000-7f97638b0000 rw-p 0003e000 08:11 1058703                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgeos_c-a68605fd.so.1.13.1\r\n7f97638b0000-7f97638bd000 r-xp 00000000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f97638bd000-7f9763abc000 ---p 0000d000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f9763abc000-7f9763abd000 rw-p 0000c000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f9763abd000-7f9763abe000 rw-p 0000e000 08:11 1058705                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libjson-c-5f02f62c.so.2.0.2\r\n7f9763abe000-7f9763b23000 r-xp 00000000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763b23000-7f9763d23000 ---p 00065000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763d23000-7f9763d27000 rw-p 00065000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763d27000-7f9763d2c000 rw-p 0006a000 08:11 1058708                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libproj-cd06b982.so.12.0.0\r\n7f9763d2c000-7f9764d68000 r-xp 00000000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9764d68000-7f9764f68000 ---p 0103c000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9764f68000-7f9765065000 rw-p 0103c000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9765065000-7f976506a000 rw-p 00000000 00:00 0 \r\n7f976506a000-7f9765410000 rw-p 01139000 08:11 1058701                    /usr/local/lib/python3.5/dist-packages/fiona/.libs/libgdal-0f908958.so.20.5.4\r\n7f9765410000-7f976548a000 r-xp 00000000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f976548a000-7f9765689000 ---p 0007a000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f9765689000-7f9765691000 rw-p 00079000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f9765691000-7f9765693000 rw-p 00000000 00:00 0 \r\n7f9765693000-7f9765699000 rw-p 00082000 08:11 1058927                    /usr/local/lib/python3.5/dist-packages/fiona/ogrext.cpython-35m-x86_64-linux-gnu.so\r\n7f9765699000-7f97656d9000 rw-p 00000000 00:00 0 \r\n7f97656d9000-7f97656da000 r-xp 00000000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97656da000-7f97658d9000 ---p 00001000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97658d9000-7f97658da000 r--p 00000000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97658da000-7f97658db000 rw-p 00001000 08:11 1071428                    /usr/lib/python3.5/lib-dynload/_opcode.cpython-35m-x86_64-linux-gnu.so\r\n7f97658db000-7f976599b000 rw-p 00000000 00:00 0 \r\n7f97659bc000-7f9765afc000 rw-p 00000000 00:00 0 \r\n7f9765b2d000-7f9765c6d000 rw-p 00000000 00:00 0 \r\n7f9765c6d000-7f9765d75000 r-xp 00000000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765d75000-7f9765f74000 ---p 00108000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765f74000-7f9765f75000 r--p 00107000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765f75000-7f9765f76000 rw-p 00108000 08:11 918671                     /lib/x86_64-linux-gnu/libm-2.23.so\r\n7f9765f76000-7f9765f8f000 r-xp 00000000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f9765f8f000-7f976618e000 ---p 00019000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f976618e000-7f976618f000 r--p 00018000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f976618f000-7f9766190000 rw-p 00019000 08:11 918738                     /lib/x86_64-linux-gnu/libz.so.1.2.8\r\n7f9766190000-7f97661b6000 r-xp 00000000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97661b6000-7f97663b6000 ---p 00026000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97663b6000-7f97663b8000 r--p 00026000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97663b8000-7f97663b9000 rw-p 00028000 08:11 336102                     /lib/x86_64-linux-gnu/libexpat.so.1.6.0\r\n7f97663b9000-7f97663bb000 r-xp 00000000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97663bb000-7f97665ba000 ---p 00002000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97665ba000-7f97665bb000 r--p 00001000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97665bb000-7f97665bc000 rw-p 00002000 08:11 918733                     /lib/x86_64-linux-gnu/libutil-2.23.so\r\n7f97665bc000-7f97665bf000 r-xp 00000000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97665bf000-7f97667be000 ---p 00003000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97667be000-7f97667bf000 r--p 00002000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97667bf000-7f97667c0000 rw-p 00003000 08:11 918652                     /lib/x86_64-linux-gnu/libdl-2.23.so\r\n7f97667c0000-7f9766980000 r-xp 00000000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766980000-7f9766b80000 ---p 001c0000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766b80000-7f9766b84000 r--p 001c0000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766b84000-7f9766b86000 rw-p 001c4000 08:11 918639                     /lib/x86_64-linux-gnu/libc-2.23.so\r\n7f9766b86000-7f9766b8a000 rw-p 00000000 00:00 0 \r\n7f9766b8a000-7f9766ba2000 r-xp 00000000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766ba2000-7f9766da1000 ---p 00018000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766da1000-7f9766da2000 r--p 00017000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766da2000-7f9766da3000 rw-p 00018000 08:11 918707                     /lib/x86_64-linux-gnu/libpthread-2.23.so\r\n7f9766da3000-7f9766da7000 rw-p 00000000 00:00 0 \r\n7f9766da7000-7f9766dcd000 r-xp 00000000 08:11 918619                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f9766dda000-7f9766ddb000 rw-p 00000000 00:00 0 \r\n7f9766ddb000-7f9766ddc000 rwxp 00000000 00:00 0 \r\n7f9766ddc000-7f9766e1c000 rw-p 00000000 00:00 0 \r\n7f9766e1c000-7f9766e43000 r--p 00000000 08:11 919136                     /usr/lib/locale/C.UTF-8/LC_CTYPE\r\n7f9766e43000-7f9766e44000 r--p 00000000 08:11 919142                     /usr/lib/locale/C.UTF-8/LC_NUMERIC\r\n7f9766e44000-7f9766e45000 r--p 00000000 08:11 919145                     /usr/lib/locale/C.UTF-8/LC_TIME\r\n7f9766e45000-7f9766fb7000 r--p 00000000 08:11 919135                     /usr/lib/locale/C.UTF-8/LC_COLLATE\r\n7f9766fb7000-7f9766fb8000 r--p 00000000 08:11 919140                     /usr/lib/locale/C.UTF-8/LC_MONETARY\r\n7f9766fb8000-7f9766fb9000 r--p 00000000 08:11 919139                     /usr/lib/locale/C.UTF-8/LC_MESSAGES/SYS_LC_MESSAGES\r\n7f9766fb9000-7f9766fba000 r--p 00000000 08:11 919143                     /usr/lib/locale/C.UTF-8/LC_PAPER\r\n7f9766fba000-7f9766fbb000 r--p 00000000 08:11 919141                     /usr/lib/locale/C.UTF-8/LC_NAME\r\n7f9766fbb000-7f9766fc2000 r--s 00000000 08:11 919441                     /usr/lib/x86_64-linux-gnu/gconv/gconv-modules.cache\r\n7f9766fc2000-7f9766fc8000 rw-p 00000000 00:00 0 \r\n7f9766fc8000-7f9766fc9000 r--p 00000000 08:11 919134                     /usr/lib/locale/C.UTF-8/LC_ADDRESS\r\n7f9766fc9000-7f9766fca000 r--p 00000000 08:11 919144                     /usr/lib/locale/C.UTF-8/LC_TELEPHONE\r\n7f9766fca000-7f9766fcb000 r--p 00000000 08:11 919138                     /usr/lib/locale/C.UTF-8/LC_MEASUREMENT\r\n7f9766fcb000-7f9766fcc000 r--p 00000000 08:11 919137                     /usr/lib/locale/C.UTF-8/LC_IDENTIFICATION\r\n7f9766fcc000-7f9766fcd000 r--p 00025000 08:11 918619                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f9766fcd000-7f9766fce000 rw-p 00026000 08:11 918619                     /lib/x86_64-linux-gnu/ld-2.23.so\r\n7f9766fce000-7f9766fcf000 rw-p 00000000 00:00 0 \r\n7fff2e3a4000-7fff2e3c5000 rw-p 00000000 00:00 0                          [stack]\r\n7fff2e3c7000-7fff2e3ca000 r--p 00000000 00:00 0                          [vvar]\r\n7fff2e3ca000-7fff2e3cc000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\nAborted (core dumped)\r\n```\r\n\r\n</details>\r\n\r\nThere are a few conditions needed for the issue to pop up:\r\n* Only occurs when fiona is imported before rasterio, the other way around or not importing fiona does not seem to lead to the error\r\n* Multihreading is needed\r\n* Only occurs for very large images that are (almost) completely white. I have not been able to reproduce it with \"regular\" images\r\n* Only occurs in certain environments, even holding the rasterio and fiona version constant. E.g. does not occur on my ubuntu 18.04. (See docker image below)\r\n\r\n## Steps to reproduce the problem.\r\nI can reproduce the problem about 80% of the time with the following script:\r\n```python\r\nimport fiona\r\nimport rasterio as rio\r\nfrom multiprocessing.pool import ThreadPool as Pool\r\n\r\ndef read(file):\r\n    with rio.open(file, sharing=False) as src:\r\n        print(\"starting to read\", flush=True)\r\n        src.read(window=((0, 5000), (0, 5000)))\r\n        print(\"done reading\", flush=True)\r\n\r\nfailing = \"/vsicurl/https://storage.googleapis.com/temporary_eu_west_4/mostly_white.tif\"\r\n\r\npool = Pool(4)\r\npool.map(read, [failing]*4)\r\npool.close()\r\npool.join()\r\n```\r\nUsing the following docker image:\r\n```\r\nFROM ubuntu:16.04\r\n\r\nENV CURL_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt\r\nENV LC_ALL=C.UTF-8\r\nENV LANG=C.UTF-8\r\n\r\nRUN apt-get update -y && apt-get install -y python3-pip \r\n\r\nRUN pip3 install fiona==1.8.13.post1 rasterio==1.1.3\r\n```\r\nBuilt image available here: `mengelhard/rasterio_issue:latest`\r\n\r\n## Rasterio version and provenance\r\nrasterio-1.1.3-cp35-cp35m-manylinux1_x86_64.whl\r\nFiona-1.8.13.post1-cp35-cp35m-manylinux1_x86_64.whl\r\n\r\nWe had the same issue with raterio 1.1.2, but the above script does not seem to be able to reproduce it in this case.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1875", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1875/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1875/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1875/events", "html_url": "https://github.com/mapbox/rasterio/issues/1875", "id": 571410808, "node_id": "MDU6SXNzdWU1NzE0MTA4MDg=", "number": 1875, "title": "issue creating transform with `rasterio.transform.from_origin()`", "user": {"login": "zacharyburnettNOAA", "id": 52422935, "node_id": "MDQ6VXNlcjUyNDIyOTM1", "avatar_url": "https://avatars1.githubusercontent.com/u/52422935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacharyburnettNOAA", "html_url": "https://github.com/zacharyburnettNOAA", "followers_url": "https://api.github.com/users/zacharyburnettNOAA/followers", "following_url": "https://api.github.com/users/zacharyburnettNOAA/following{/other_user}", "gists_url": "https://api.github.com/users/zacharyburnettNOAA/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacharyburnettNOAA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacharyburnettNOAA/subscriptions", "organizations_url": "https://api.github.com/users/zacharyburnettNOAA/orgs", "repos_url": "https://api.github.com/users/zacharyburnettNOAA/repos", "events_url": "https://api.github.com/users/zacharyburnettNOAA/events{/privacy}", "received_events_url": "https://api.github.com/users/zacharyburnettNOAA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-26T14:19:10Z", "updated_at": "2020-02-26T16:02:44Z", "closed_at": "2020-02-26T15:41:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWhen doing\r\n```\r\nrasterio.transform.from_origin(201, 450, 2, 2)\r\n```\r\nI expect the resulting transform to be\r\n```\r\nAffine(201.0, 2.0, 0.0,\r\n       450.0, 0.0, -2.0)\r\n```\r\nhowever, it is\r\n```\r\nAffine(2.0, 0.0, 201.0,\r\n       0.0, -2.0, 450.0)\r\n```\r\ninstead.\r\n\r\nI believe this is causing issues with `rasterio.mask.mask()` as well.\r\n\r\n## Rasterio version and provenance\r\n\r\nI have Rasterio 1.0.28 installed against GDAL 2.4.2 on an Anaconda env with Python 3.6.7, if that is helpful.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1872", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1872/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1872/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1872/events", "html_url": "https://github.com/mapbox/rasterio/issues/1872", "id": 570219263, "node_id": "MDU6SXNzdWU1NzAyMTkyNjM=", "number": 1872, "title": "1.1.3 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 3, "created_at": "2020-02-24T23:53:03Z", "updated_at": "2020-02-25T18:45:39Z", "closed_at": "2020-02-25T18:45:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Lots of bug fixes!\r\n\r\nAlso: the wheels going to PyPI will include GEOS 3.8.0 as do fiona 1.8.13.post1 and shapely 1.7.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1870", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1870/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1870/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1870/events", "html_url": "https://github.com/mapbox/rasterio/issues/1870", "id": 566850758, "node_id": "MDU6SXNzdWU1NjY4NTA3NTg=", "number": 1870, "title": "src.dataset_mask() is not uint8 anymore", "user": {"login": "dionhaefner", "id": 11994217, "node_id": "MDQ6VXNlcjExOTk0MjE3", "avatar_url": "https://avatars0.githubusercontent.com/u/11994217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dionhaefner", "html_url": "https://github.com/dionhaefner", "followers_url": "https://api.github.com/users/dionhaefner/followers", "following_url": "https://api.github.com/users/dionhaefner/following{/other_user}", "gists_url": "https://api.github.com/users/dionhaefner/gists{/gist_id}", "starred_url": "https://api.github.com/users/dionhaefner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dionhaefner/subscriptions", "organizations_url": "https://api.github.com/users/dionhaefner/orgs", "repos_url": "https://api.github.com/users/dionhaefner/repos", "events_url": "https://api.github.com/users/dionhaefner/events{/privacy}", "received_events_url": "https://api.github.com/users/dionhaefner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-18T12:10:53Z", "updated_at": "2020-02-18T13:13:33Z", "closed_at": "2020-02-18T13:13:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that, since rasterio 1.1.2, `src.dataset_mask()` returns the mask with `int64` dtype, which breaks code like this:\r\n\r\n```python\r\ndst.write_mask(src.dataset_mask())\r\n```\r\n\r\n[The docs](https://rasterio.readthedocs.io/en/latest/api/rasterio.io.html#rasterio.io.BufferedDatasetWriter.dataset_mask) still say the return type is `uint8`, though.\r\n\r\nWas that change deliberate?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1868", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1868/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1868/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1868/events", "html_url": "https://github.com/mapbox/rasterio/issues/1868", "id": 564358527, "node_id": "MDU6SXNzdWU1NjQzNTg1Mjc=", "number": 1868, "title": "Move session class choosing logic out of rasterio.env", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 1, "created_at": "2020-02-13T00:12:21Z", "updated_at": "2020-02-24T21:25:11Z", "closed_at": "2020-02-24T21:25:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As I was monkeypatching imports of boto3 in [both rasterio.session and rasterio.env in a test](https://github.com/mapbox/rasterio/blob/0c7a2e2d4eb04e238e84efbe821db07e6cb49ab1/tests/test_env.py#L332-L333), I realized that rasterio.env should delegate to the session module and Session class more than it does. Our current situation is complicated and messy.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1864", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1864/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1864/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1864/events", "html_url": "https://github.com/mapbox/rasterio/issues/1864", "id": 560294848, "node_id": "MDU6SXNzdWU1NjAyOTQ4NDg=", "number": 1864, "title": "Env always uses boto3", "user": {"login": "normanb", "id": 277229, "node_id": "MDQ6VXNlcjI3NzIyOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/277229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/normanb", "html_url": "https://github.com/normanb", "followers_url": "https://api.github.com/users/normanb/followers", "following_url": "https://api.github.com/users/normanb/following{/other_user}", "gists_url": "https://api.github.com/users/normanb/gists{/gist_id}", "starred_url": "https://api.github.com/users/normanb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/normanb/subscriptions", "organizations_url": "https://api.github.com/users/normanb/orgs", "repos_url": "https://api.github.com/users/normanb/repos", "events_url": "https://api.github.com/users/normanb/events{/privacy}", "received_events_url": "https://api.github.com/users/normanb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-05T10:59:12Z", "updated_at": "2020-02-14T00:10:00Z", "closed_at": "2020-02-13T20:55:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\nWhen creating a rasterio.Env() with a DummySession object I shouldn't require boto3 for files with a s3:// uri. Setting the environment without aws credentials should remove this dependency. \r\n\r\nIn addition without using an Env() and specifying the GDAL driver directly and a s3:// uri the code looks to use the virtual file system instead of the specified driver.\r\n\r\nThe TileDB GDAL driver reads directly from S3 and this function cannot be reached.\r\n\r\nThe fix applied in https://github.com/mapbox/rasterio/issues/1708 doesn't work when a s3:// uri is used.\r\n\r\nReporting this a bug and I can work through this and create a PR if the fix is unknown and non-trivial.\r\n\r\n## Steps to reproduce the problem.\r\n```\r\n>>> import rasterio\r\n>>> from rasterio.session import DummySession\r\n>>> session = DummySession()\r\n>>> with rasterio.Env(session):\r\n...       with rasterio.open('s3://xxxxx/UTM2GTIF', tiledb_config='aws.config', driver='TileDB') as src:\r\n...         src.meta()\r\n\r\n... session.py\", line 204, in __init__\r\n    import boto3\r\nModuleNotFoundError: No module named 'boto3'\r\n```\r\n## Rasterio version and provenance\r\n\r\nMaster with GDAL 3.x", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1863", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1863/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1863/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1863/events", "html_url": "https://github.com/mapbox/rasterio/issues/1863", "id": 557662992, "node_id": "MDU6SXNzdWU1NTc2NjI5OTI=", "number": 1863, "title": "segfault from windowed boundless read of VRT with shared=\"0\" set", "user": {"login": "tovogt", "id": 57705593, "node_id": "MDQ6VXNlcjU3NzA1NTkz", "avatar_url": "https://avatars1.githubusercontent.com/u/57705593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tovogt", "html_url": "https://github.com/tovogt", "followers_url": "https://api.github.com/users/tovogt/followers", "following_url": "https://api.github.com/users/tovogt/following{/other_user}", "gists_url": "https://api.github.com/users/tovogt/gists{/gist_id}", "starred_url": "https://api.github.com/users/tovogt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tovogt/subscriptions", "organizations_url": "https://api.github.com/users/tovogt/orgs", "repos_url": "https://api.github.com/users/tovogt/repos", "events_url": "https://api.github.com/users/tovogt/events{/privacy}", "received_events_url": "https://api.github.com/users/tovogt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 2, "created_at": "2020-01-30T18:07:50Z", "updated_at": "2020-02-13T20:55:31Z", "closed_at": "2020-02-13T20:55:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "##  Expected behavior and actual behavior.\r\n\r\nI expected to read a windowed (important!) band with `boundless=True` (important!) from a VRT dataset that has the `shared=\"0\"` (important!) option set and a segmentation fault occurred.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nExecute this script:\r\n```\r\nimport rasterio\r\nimport rasterio.windows\r\nfrom rasterio.transform import Affine\r\nimport numpy as np\r\n\r\nout_meta = {\r\n    'driver': 'GTiff',\r\n    'width': 10,\r\n    'height': 10,\r\n    'count': 1,\r\n    'dtype': 'int8',\r\n    'crs': '+proj=latlong',\r\n    'transform': Affine.scale(2,-2),\r\n}\r\nwith rasterio.open(\"data.tif\", \"w\", **out_meta) as f:\r\n    f.write_band(1, np.zeros((10,10), dtype=np.int8))\r\n\r\nwith open(\"data.vrt\", \"w\") as f:\r\n    f.write(\"\"\"<VRTDataset rasterXSize=\"10\" rasterYSize=\"10\">\r\n  <SRS dataAxisToSRSAxisMapping=\"2,1\">GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AXIS[\"Latitude\",NORTH],AXIS[\"Longitude\",EAST],AUTHORITY[\"EPSG\",\"4326\"]]</SRS>\r\n  <GeoTransform>  0.0000000000000000e+00,  2.0000000000000000e+00,  0.0000000000000000e+00,  0.0000000000000000e+00,  0.0000000000000000e+00, -2.0000000000000000e+00</GeoTransform>\r\n  <VRTRasterBand dataType=\"Byte\" band=\"1\">\r\n    <ColorInterp>Gray</ColorInterp>\r\n    <SimpleSource>\r\n      <SourceFilename relativeToVRT=\"1\" shared=\"0\">data.tif</SourceFilename>\r\n      <SourceBand>1</SourceBand>\r\n      <SourceProperties RasterXSize=\"10\" RasterYSize=\"10\" DataType=\"Byte\" BlockXSize=\"10\" BlockYSize=\"10\" />\r\n      <SrcRect xOff=\"0\" yOff=\"0\" xSize=\"10\" ySize=\"10\" />\r\n      <DstRect xOff=\"0\" yOff=\"0\" xSize=\"10\" ySize=\"10\" />\r\n    </SimpleSource>\r\n  </VRTRasterBand>\r\n</VRTDataset>\"\"\")\r\n\r\nfor i in range(10000):\r\n    with rasterio.open(\"data.vrt\", 'r') as cdem:\r\n        win = rasterio.windows.Window(col_off=0, row_off=0, width=1, height=1)\r\n        cdem.read(indexes=1, window=win, boundless=True)\r\n    print(i, end=\"\\r\")\r\n```\r\nAfter 1000-2000 reads, execution will be interrupted due to a segmentation fault. Here is a backtrace:\r\n\r\n```\r\n$ gdb python\r\nGNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git\r\nCopyright (C) 2018 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<http://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n<http://www.gnu.org/software/gdb/documentation/>.\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from python...done.\r\n(gdb) run test.py\r\nStarting program: /home/tovogt/.local/share/miniconda3/envs/dem/bin/python test.py\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7fffea032700 (LWP 4306)]\r\n[New Thread 0x7fffe9831700 (LWP 4307)]\r\n[New Thread 0x7fffe5030700 (LWP 4311)]\r\n[New Thread 0x7fffe482f700 (LWP 4316)]\r\n[New Thread 0x7fffe002e700 (LWP 4317)]\r\n[New Thread 0x7fffdf82d700 (LWP 4323)]\r\n[New Thread 0x7fffdb02c700 (LWP 4324)]\r\n54\r\nThread 1 \"python\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff58367d8 in GDALDatasetPool::_CloseDataset(char const*, GDALAccess, char const*) () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n(gdb) backtrace\r\n#0  0x00007ffff58367d8 in GDALDatasetPool::_CloseDataset(char const*, GDALAccess, char const*) () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#1  0x00007ffff5836d85 in GDALDatasetPool::CloseDataset(char const*, GDALAccess, char const*) () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#2  0x00007ffff5836eb6 in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#3  0x00007ffff5836eea in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#4  0x00007ffff57f9ae8 in GDALDataset::ReleaseRef() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#5  0x00007ffff577a037 in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#6  0x00007ffff577a04a in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#7  0x00007ffff577640f in VRTSourcedRasterBand::CloseDependentDatasets() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#8  0x00007ffff5776478 in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#9  0x00007ffff57764ba in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#10 0x00007ffff57ff2c8 in GDALDataset::~GDALDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#11 0x00007ffff576202a in VRTDataset::~VRTDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#12 0x00007ffff58363f2 in GDALDatasetPool::~GDALDatasetPool() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#13 0x00007ffff5836aa9 in GDALDatasetPool::Unref() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#14 0x00007ffff5836e76 in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#15 0x00007ffff5836eea in GDALProxyPoolDataset::~GDALProxyPoolDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#16 0x00007ffff57f9ae8 in GDALDataset::ReleaseRef() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#17 0x00007ffff577a037 in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#18 0x00007ffff577a04a in VRTSimpleSource::~VRTSimpleSource() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#19 0x00007ffff577640f in VRTSourcedRasterBand::CloseDependentDatasets() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#20 0x00007ffff5776478 in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#21 0x00007ffff57764ba in VRTSourcedRasterBand::~VRTSourcedRasterBand() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#22 0x00007ffff57ff2c8 in GDALDataset::~GDALDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#23 0x00007ffff576202a in VRTDataset::~VRTDataset() () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/../../../libgdal.so.26\r\n#24 0x00007ffff6227a5a in __pyx_pw_8rasterio_5_base_11DatasetBase_15stop () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#25 0x00007ffff626422e in __pyx_pw_8rasterio_5_base_11DatasetBase_17close () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#26 0x00007ffff622af62 in __Pyx_PyObject_CallNoArg () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#27 0x00007ffff626081b in __pyx_pw_8rasterio_5_base_11DatasetBase_21__exit__ () from /home/tovogt/.local/share/miniconda3/envs/dem/lib/python3.7/site-packages/rasterio/_base.cpython-37m-x86_64-linux-gnu.so\r\n#28 0x000055555568ca55 in _PyMethodDef_RawFastCallDict () at /tmp/build/80754af9/python_1578510683607/work/Objects/call.c:515\r\n#29 0x000055555568cbd1 in _PyCFunction_FastCallDict (func=0x7fffd5e9cfa0, args=<optimized out>, nargs=<optimized out>, kwargs=<optimized out>) at /tmp/build/80754af9/python_1578510683607/work/Objects/call.c:586\r\n#30 0x0000555555716bf1 in _PyEval_EvalFrameDefault () at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:2998\r\n#31 0x000055555566e6f9 in _PyEval_EvalCodeWithName () at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:3930\r\n#32 0x000055555566f5f4 in PyEval_EvalCodeEx () at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:3959\r\n#33 0x000055555566f61c in PyEval_EvalCode (co=<optimized out>, globals=<optimized out>, locals=<optimized out>) at /tmp/build/80754af9/python_1578510683607/work/Python/ceval.c:524\r\n#34 0x0000555555770974 in run_mod () at /tmp/build/80754af9/python_1578510683607/work/Python/pythonrun.c:1035\r\n#35 0x000055555577acf1 in PyRun_FileExFlags () at /tmp/build/80754af9/python_1578510683607/work/Python/pythonrun.c:988\r\n#36 0x000055555577aee3 in PyRun_SimpleFileExFlags () at /tmp/build/80754af9/python_1578510683607/work/Python/pythonrun.c:429\r\n#37 0x000055555577bf95 in pymain_run_file (p_cf=0x7fffffffd910, filename=0x5555558b28e0 L\"test.py\", fp=0x5555558fc110) at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:434\r\n#38 pymain_run_filename (cf=0x7fffffffd910, pymain=0x7fffffffda20) at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:1613\r\n#39 pymain_run_python (pymain=0x7fffffffda20) at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:2874\r\n#40 pymain_main () at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:3414\r\n#41 0x000055555577c0bc in _Py_UnixMain () at /tmp/build/80754af9/python_1578510683607/work/Modules/main.c:3449\r\n#42 0x00007ffff77e6b97 in __libc_start_main (main=0x5555556500a0 <main>, argc=2, argv=0x7fffffffdb78, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffdb68)\r\n    at ../csu/libc-start.c:310\r\n#43 0x0000555555724990 in _start () at ../sysdeps/x86_64/elf/start.S:103\r\n```\r\n\r\nI am aware that this script is very artificial. In my case, I was looping over the blocks of one file. In each iteration, I was making boundless windowed reads from other VRT datasets that have the `shared=\"0\"` option set. The execution stopped after some time with a segmentation fault. After a while, I was able to boil it down to the above minimal example. My guess is, that there is a race condition somewhere in the garbage collection.\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04\r\n\r\n## Rasterio version and provenance\r\n\r\nVersion 1.1.0 (py37h41e4f33_0) from conda.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1862", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1862/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1862/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1862/events", "html_url": "https://github.com/mapbox/rasterio/issues/1862", "id": 556547143, "node_id": "MDU6SXNzdWU1NTY1NDcxNDM=", "number": 1862, "title": "Tests fail with Proj 6", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-28T23:18:47Z", "updated_at": "2020-04-15T10:55:06Z", "closed_at": "2020-04-15T10:55:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nWhen building rasterio for Fedora 32, which has Proj 6.2.0, 4 tests fail.\r\n\r\nSome are checking for zero stderr, but the warning from Proj breaks it:\r\n```\r\n___________________________ test_zz_no_dataset_leaks ___________________________\r\ncapfd = <_pytest.capture.CaptureFixture object at 0x7fe66d5bc4c0>                                    \r\n    def test_zz_no_dataset_leaks(capfd):\r\n        with rasterio.Env() as env:\r\n            env._dump_open_datasets()\r\n            captured = capfd.readouterr()\r\n>           assert not captured.err\r\nE           AssertionError: assert not 'proj_create: init=epsg:/init=IGNF: syntax not supported in non-PROJ4 emulation mode\\n'\r\nE            +  where 'proj_create: init=epsg:/init=IGNF: syntax not supported in non-PROJ4 emulation mode\\n' = CaptureResult(out='', err='proj_create: init=epsg:/init=IGNF: syntax not supported in non-PROJ4 emulation mode\\n').err\r\n```\r\n\r\nSee https://github.com/pyproj4/pyproj/issues/355 and https://github.com/OSGeo/PROJ/issues/1895 for information on that warning.\r\n\r\n\r\nI'm not sure if these 3 failures are due to Proj, but maybe, if some projection changed:\r\n\r\n```\r\n__________________________ test_warped_vrt_add_alpha ___________________________\r\ndsrec = <function dsrec.<locals>.func at 0x7fe66d291310>\r\npath_rgb_byte_tif = '/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif'\r\n    @requires_gdal21(reason=\"Nodata deletion requires GDAL 2.1+\")\r\n    def test_warped_vrt_add_alpha(dsrec, path_rgb_byte_tif):\r\n        \"\"\"A VirtualVRT has the expected VRT properties.\"\"\"\r\n        with rasterio.Env() as env:\r\n            with rasterio.open(path_rgb_byte_tif) as src:\r\n                vrt = WarpedVRT(src, crs=DST_CRS, add_alpha=True)\r\n    \r\n                records = dsrec(env)\r\n>               assert len(records) == 1\r\nE               assert 3 == 1\r\nE                 -3\r\nE                 +1\r\ntests/test_warpedvrt.py:85: AssertionError\r\n```\r\n\r\n<details>\r\n\r\n```\r\n----------------------------- Captured stderr call -----------------------------\r\nDEBUG:rasterio.env:Entering env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\nDEBUG:rasterio.env:Starting outermost env\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> created\r\nDEBUG:rasterio._env:GDAL data files are available at built-in paths\r\nDEBUG:rasterio._env:PROJ data files are available at built-in paths\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79dc0>.\r\nDEBUG:rasterio.env:Entered env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> options\r\nDEBUG:rasterio.env:Entering env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> options\r\nDEBUG:rasterio.env:Entered env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG:rasterio._base:Sharing flag: 0\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Dataset <open DatasetReader name='/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif' mode='r'> is started.\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> options\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79dc0>.\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66cf79e20> created\r\nDEBUG:rasterio._env:GDAL data files are available at built-in paths\r\nDEBUG:rasterio._env:PROJ data files are available at built-in paths\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79e20>.\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG:rasterio._warp:Exported CRS to WKT.\r\nDEBUG:rasterio._warp:Warp_extras: {'init_dest': 'NO_DATA'}\r\nDEBUG:rasterio._base:Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG:rasterio._base:Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG:rasterio._base:Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG:rasterio._base:Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG:rasterio._base:Dataset <open WarpedVRT name='WarpedVRT(/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif)' mode='r'> is started.\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7fe66cf79e20> options\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79e20>.\r\nDEBUG:rasterio.env:Exiting outermost env\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\n------------------------------ Captured log call -------------------------------\r\nDEBUG    rasterio.env:env.py:268 Entering env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\nDEBUG    rasterio.env:env.py:270 Starting outermost env\r\nDEBUG    rasterio.env:env.py:317 No GDAL environment exists\r\nDEBUG    rasterio.env:env.py:320 New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> created\r\nDEBUG    rasterio._env:env.py:322 GDAL data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 PROJ data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79dc0>.\r\nDEBUG    rasterio.env:env.py:292 Entered env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\nDEBUG    rasterio.env:env.py:330 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> options\r\nDEBUG    rasterio.env:env.py:268 Entering env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG    rasterio.env:env.py:330 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> options\r\nDEBUG    rasterio.env:env.py:292 Entered env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG    rasterio._base:__init__.py:219 Sharing flag: 0\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Dataset <open DatasetReader name='/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif' mode='r'> is started.\r\nDEBUG    rasterio.env:env.py:296 Exiting env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG    rasterio.env:env.py:357 Cleared existing <rasterio._env.GDALEnv object at 0x7fe66cf79dc0> options\r\nDEBUG    rasterio._env:env.py:358 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79dc0>.\r\nDEBUG    rasterio.env:env.py:317 No GDAL environment exists\r\nDEBUG    rasterio.env:env.py:320 New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66cf79e20> created\r\nDEBUG    rasterio._env:env.py:322 GDAL data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 PROJ data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79e20>.\r\nDEBUG    rasterio.env:env.py:309 Exited env context: <rasterio.env.Env object at 0x7fe66cf79760>\r\nDEBUG    rasterio._warp:test_warpedvrt.py:82 Exported CRS to WKT.\r\nDEBUG    rasterio._warp:test_warpedvrt.py:82 Warp_extras: {'init_dest': 'NO_DATA'}\r\nDEBUG    rasterio._base:test_warpedvrt.py:82 Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:82 Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:82 Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:82 Nodata success: 0, Nodata value: -10000.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:82 Dataset <open WarpedVRT name='WarpedVRT(/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif)' mode='r'> is started.\r\nDEBUG    rasterio.env:env.py:296 Exiting env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\nDEBUG    rasterio.env:env.py:357 Cleared existing <rasterio._env.GDALEnv object at 0x7fe66cf79e20> options\r\nDEBUG    rasterio._env:env.py:358 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf79e20>.\r\nDEBUG    rasterio.env:env.py:302 Exiting outermost env\r\nDEBUG    rasterio.env:env.py:309 Exited env context: <rasterio.env.Env object at 0x7fe66cf792e0>\r\n```\r\n\r\n</details>\r\n\r\n```\r\n______________________________ test_open_datasets ______________________________\r\ncapfd = <_pytest.capture.CaptureFixture object at 0x7fe66cf172b0>\r\npath_rgb_byte_tif = '/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif'\r\n    @requires_gdal2\r\n    def test_open_datasets(capfd, path_rgb_byte_tif):\r\n        \"\"\"Number of open datasets is expected\"\"\"\r\n        with rasterio.Env() as env:\r\n    \r\n            with rasterio.open(path_rgb_byte_tif) as src:\r\n                env._dump_open_datasets()\r\n                captured = capfd.readouterr()\r\n                assert \"1 N GTiff\" in captured.err\r\n                assert \"1 S GTiff\" not in captured.err\r\n    \r\n                with WarpedVRT(src) as vrt:\r\n                    env._dump_open_datasets()\r\n                    captured = capfd.readouterr()\r\n                    assert \"2 N GTiff\" in captured.err\r\n    \r\n            env._dump_open_datasets()\r\n            captured = capfd.readouterr()\r\n>           assert \"1 N GTiff\" not in captured.err\r\nE           AssertionError: assert '1 N GTiff' not in 'Open GDAL Datasets:\\...s/data/RGB.byte.tif\\n'\r\nE             '1 N GTiff' is contained here:\r\nE               Open GDAL Datasets:\r\nE                 1 N GTiff       -1 791x718x3 /builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif\r\nE             ?   +++++++++\r\ntests/test_warpedvrt.py:461: AssertionError\r\n```\r\n\r\n<details>\r\n\r\n```\r\n----------------------------- Captured stderr call -----------------------------\r\nDEBUG:rasterio.env:Entering env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\nDEBUG:rasterio.env:Starting outermost env\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66d222160> created\r\nDEBUG:rasterio._env:GDAL data files are available at built-in paths\r\nDEBUG:rasterio._env:PROJ data files are available at built-in paths\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d222160>.\r\nDEBUG:rasterio.env:Entered env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66d222160> options\r\nDEBUG:rasterio.env:Entering env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66d222160> options\r\nDEBUG:rasterio.env:Entered env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG:rasterio._base:Sharing flag: 0\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Dataset <open DatasetReader name='/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif' mode='r'> is started.\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7fe66d222160> options\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d222160>.\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66d0fe670> created\r\nDEBUG:rasterio._env:GDAL data files are available at built-in paths\r\nDEBUG:rasterio._env:PROJ data files are available at built-in paths\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d0fe670>.\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG:rasterio._warp:Exported CRS to WKT.\r\nDEBUG:rasterio._warp:Warp_extras: {'init_dest': 'NO_DATA'}\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Dataset <open WarpedVRT name='WarpedVRT(/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif)' mode='r'> is started.\r\nDEBUG:rasterio._warp:Dataset <open WarpedVRT name='WarpedVRT(/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif)' mode='r'> is started.\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7fe66d0fe670> options\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d0fe670>.\r\nDEBUG:rasterio.env:Exiting outermost env\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\n------------------------------ Captured log call -------------------------------\r\nDEBUG    rasterio.env:env.py:268 Entering env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\nDEBUG    rasterio.env:env.py:270 Starting outermost env\r\nDEBUG    rasterio.env:env.py:317 No GDAL environment exists\r\nDEBUG    rasterio.env:env.py:320 New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66d222160> created\r\nDEBUG    rasterio._env:env.py:322 GDAL data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 PROJ data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d222160>.\r\nDEBUG    rasterio.env:env.py:292 Entered env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\nDEBUG    rasterio.env:env.py:330 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66d222160> options\r\nDEBUG    rasterio.env:env.py:268 Entering env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG    rasterio.env:env.py:330 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66d222160> options\r\nDEBUG    rasterio.env:env.py:292 Entered env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG    rasterio._base:__init__.py:219 Sharing flag: 0\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Dataset <open DatasetReader name='/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif' mode='r'> is started.\r\nDEBUG    rasterio.env:env.py:296 Exiting env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG    rasterio.env:env.py:357 Cleared existing <rasterio._env.GDALEnv object at 0x7fe66d222160> options\r\nDEBUG    rasterio._env:env.py:358 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d222160>.\r\nDEBUG    rasterio.env:env.py:317 No GDAL environment exists\r\nDEBUG    rasterio.env:env.py:320 New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66d0fe670> created\r\nDEBUG    rasterio._env:env.py:322 GDAL data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 PROJ data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d0fe670>.\r\nDEBUG    rasterio.env:env.py:309 Exited env context: <rasterio.env.Env object at 0x7fe66d2223d0>\r\nDEBUG    rasterio._warp:test_warpedvrt.py:454 Exported CRS to WKT.\r\nDEBUG    rasterio._warp:test_warpedvrt.py:454 Warp_extras: {'init_dest': 'NO_DATA'}\r\nDEBUG    rasterio._base:test_warpedvrt.py:454 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:454 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:454 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:test_warpedvrt.py:454 Dataset <open WarpedVRT name='WarpedVRT(/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif)' mode='r'> is started.\r\nDEBUG    rasterio._warp:vrt.py:115 Dataset <open WarpedVRT name='WarpedVRT(/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif)' mode='r'> is started.\r\nDEBUG    rasterio.env:env.py:296 Exiting env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\nDEBUG    rasterio.env:env.py:357 Cleared existing <rasterio._env.GDALEnv object at 0x7fe66d0fe670> options\r\nDEBUG    rasterio._env:env.py:358 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d0fe670>.\r\nDEBUG    rasterio.env:env.py:302 Exiting outermost env\r\nDEBUG    rasterio.env:env.py:309 Exited env context: <rasterio.env.Env object at 0x7fe66cf79670>\r\n```\r\n\r\n</details>\r\n\r\n```\r\n________________________________ test_warp_warp ________________________________\r\ndsrec = <function dsrec.<locals>.func at 0x7fe66d286280>\r\npath_rgb_byte_tif = '/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif'\r\n    @requires_gdal2\r\n    def test_warp_warp(dsrec, path_rgb_byte_tif):\r\n        \"\"\"Vincent! :P\"\"\"\r\n        with rasterio.Env() as env:\r\n    \r\n            with rasterio.open(path_rgb_byte_tif) as src:\r\n                # We should have one open dataset with a refcount of 1.\r\n                records = dsrec(env)\r\n>               assert len(records) == 1\r\nE               assert 4 == 1\r\nE                 -4\r\nE                 +1\r\ntests/test_warpedvrt.py:472: AssertionError\r\n```\r\n\r\n<details>\r\n\r\n```\r\n----------------------------- Captured stderr call -----------------------------\r\nDEBUG:rasterio.env:Entering env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\nDEBUG:rasterio.env:Starting outermost env\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66cf176d0> created\r\nDEBUG:rasterio._env:GDAL data files are available at built-in paths\r\nDEBUG:rasterio._env:PROJ data files are available at built-in paths\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf176d0>.\r\nDEBUG:rasterio.env:Entered env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf176d0> options\r\nDEBUG:rasterio.env:Entering env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG:rasterio.env:Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf176d0> options\r\nDEBUG:rasterio.env:Entered env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG:rasterio._base:Sharing flag: 0\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Nodata success: 1, Nodata value: 0.000000\r\nDEBUG:rasterio._base:Dataset <open DatasetReader name='/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif' mode='r'> is started.\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7fe66cf176d0> options\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf176d0>.\r\nDEBUG:rasterio.env:No GDAL environment exists\r\nDEBUG:rasterio.env:New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66d5e37f0> created\r\nDEBUG:rasterio._env:GDAL data files are available at built-in paths\r\nDEBUG:rasterio._env:PROJ data files are available at built-in paths\r\nDEBUG:rasterio._env:Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d5e37f0>.\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG:rasterio.env:Exiting env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\nDEBUG:rasterio.env:Cleared existing <rasterio._env.GDALEnv object at 0x7fe66d5e37f0> options\r\nDEBUG:rasterio._env:Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d5e37f0>.\r\nDEBUG:rasterio.env:Exiting outermost env\r\nDEBUG:rasterio.env:Exited env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\n------------------------------ Captured log call -------------------------------\r\nDEBUG    rasterio.env:env.py:268 Entering env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\nDEBUG    rasterio.env:env.py:270 Starting outermost env\r\nDEBUG    rasterio.env:env.py:317 No GDAL environment exists\r\nDEBUG    rasterio.env:env.py:320 New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66cf176d0> created\r\nDEBUG    rasterio._env:env.py:322 GDAL data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 PROJ data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf176d0>.\r\nDEBUG    rasterio.env:env.py:292 Entered env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\nDEBUG    rasterio.env:env.py:330 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf176d0> options\r\nDEBUG    rasterio.env:env.py:268 Entering env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG    rasterio.env:env.py:330 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fe66cf176d0> options\r\nDEBUG    rasterio.env:env.py:292 Entered env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG    rasterio._base:__init__.py:219 Sharing flag: 0\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Nodata success: 1, Nodata value: 0.000000\r\nDEBUG    rasterio._base:__init__.py:219 Dataset <open DatasetReader name='/builddir/build/BUILD/rasterio-1.1.2/tests/data/RGB.byte.tif' mode='r'> is started.\r\nDEBUG    rasterio.env:env.py:296 Exiting env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG    rasterio.env:env.py:357 Cleared existing <rasterio._env.GDALEnv object at 0x7fe66cf176d0> options\r\nDEBUG    rasterio._env:env.py:358 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66cf176d0>.\r\nDEBUG    rasterio.env:env.py:317 No GDAL environment exists\r\nDEBUG    rasterio.env:env.py:320 New GDAL environment <rasterio._env.GDALEnv object at 0x7fe66d5e37f0> created\r\nDEBUG    rasterio._env:env.py:322 GDAL data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 PROJ data files are available at built-in paths\r\nDEBUG    rasterio._env:env.py:322 Started GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d5e37f0>.\r\nDEBUG    rasterio.env:env.py:309 Exited env context: <rasterio.env.Env object at 0x7fe66cf17280>\r\nDEBUG    rasterio.env:env.py:296 Exiting env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\nDEBUG    rasterio.env:env.py:357 Cleared existing <rasterio._env.GDALEnv object at 0x7fe66d5e37f0> options\r\nDEBUG    rasterio._env:env.py:358 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fe66d5e37f0>.\r\nDEBUG    rasterio.env:env.py:302 Exiting outermost env\r\nDEBUG    rasterio.env:env.py:309 Exited env context: <rasterio.env.Env object at 0x7fe66cf17c70>\r\n```\r\n\r\n</details>\r\n\r\n## Steps to reproduce the problem.\r\n\r\nRunning the test suite.\r\n\r\n## Operating system\r\n\r\nFedora Rawhide\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0.2, building a package for Fedora.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1861", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1861/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1861/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1861/events", "html_url": "https://github.com/mapbox/rasterio/issues/1861", "id": 555745952, "node_id": "MDU6SXNzdWU1NTU3NDU5NTI=", "number": 1861, "title": "Merging rasters that cross the Anti Meridian fails (Goes the long way around)", "user": {"login": "ciaranevans", "id": 9111975, "node_id": "MDQ6VXNlcjkxMTE5NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/9111975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ciaranevans", "html_url": "https://github.com/ciaranevans", "followers_url": "https://api.github.com/users/ciaranevans/followers", "following_url": "https://api.github.com/users/ciaranevans/following{/other_user}", "gists_url": "https://api.github.com/users/ciaranevans/gists{/gist_id}", "starred_url": "https://api.github.com/users/ciaranevans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ciaranevans/subscriptions", "organizations_url": "https://api.github.com/users/ciaranevans/orgs", "repos_url": "https://api.github.com/users/ciaranevans/repos", "events_url": "https://api.github.com/users/ciaranevans/events{/privacy}", "received_events_url": "https://api.github.com/users/ciaranevans/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2020-01-27T18:13:25Z", "updated_at": "2020-02-08T10:19:08Z", "closed_at": "2020-02-07T20:31:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nExpected: \r\nMerging 3 rasters results in a merged raster.\r\nActual:\r\n```\r\nUnable to allocate array with shape (1, 3875, 1291898) and data type int16: MemoryError\r\nTraceback (most recent call last):\r\n  File \"/var/task/lambda_function.py\", line 169, in handler\r\n    demall, afdemall = merge.merge(dem_cropped_datasets)\r\n  File \"/opt/python/rasterio/merge.py\", line 141, in merge\r\n    dest = np.zeros((output_count, output_height, output_width), dtype=dtype)\r\nMemoryError: Unable to allocate array with shape (1, 3875, 1291898) and data type int16\r\n``` \r\n\r\nIt appears that Rasterio's `merge.merge()` method doesn't work well with merging tiles which cross over the International Dateline. My guess is because the left most longitude of the tiles is around +178 and the right most longitude of the tiles is around -179. Which is understandably not a usual situation as you'd normally expect L < R.\r\n\r\nIt looks like Rasterio is trying to create a merged dataset which wraps the longest way around the earth, rather than the IDL. \r\n\r\nI assume the code for merge could be altered to account for the IDL and take the shortest route when creating the array for merging?\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\ndataset_left_of_idl = rasterio.open('path/to/dataset_left.tif', 'r')\r\ndataset_right_of_idl = rasterio.open('path/to/dataset_right.tif', 'r')\r\ndatasets_to_merge = [dataset_left_of_idl, dataset_right_of_idl]\r\nmerged_datasets, merged_datasets_affine = merge.merge(datasets_to_merge)\r\n```\r\n\r\nI'm using SRTM Tiles from https://e4ftl01.cr.usgs.gov/, you need an account to access it, but if you do, the specific tiles I'm using are:\r\n\r\nhttps://e4ftl01.cr.usgs.gov/MEASURES/SRTMGL1.003/2000.02.11/S17E179.SRTMGL1.hgt.zip\r\nhttps://e4ftl01.cr.usgs.gov/MEASURES/SRTMGL1.003/2000.02.11/S17W180.SRTMGL1.hgt.zip\r\nhttps://e4ftl01.cr.usgs.gov/MEASURES/SRTMGL1.003/2000.02.11/S16W180.SRTMGL1.hgt.zip\r\n\r\nThey cover the North East of Fiji.\r\n\r\n\r\n## Operating system\r\nAWS Lambda (With 3GB max memory)\r\n## Rasterio version and provenance\r\nRasterio 1.1.0 via pip\r\nGDAL 2.4.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1859", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1859/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1859/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1859/events", "html_url": "https://github.com/mapbox/rasterio/issues/1859", "id": 552944330, "node_id": "MDU6SXNzdWU1NTI5NDQzMzA=", "number": 1859, "title": "[proposal] allow users to write nodata values per band via nodatavals", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-21T15:19:58Z", "updated_at": "2020-01-22T21:09:03Z", "closed_at": "2020-01-22T21:09:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I see that it is currently not allowed:\r\nhttps://github.com/mapbox/rasterio/blob/ef8a82fd083958d2561ac97b45812db0b88901ef/rasterio/_base.pyx#L465-L486\r\n\r\nThoughts on allowing this to happen?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1857", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1857/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1857/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1857/events", "html_url": "https://github.com/mapbox/rasterio/issues/1857", "id": 547734706, "node_id": "MDU6SXNzdWU1NDc3MzQ3MDY=", "number": 1857, "title": "Make transform arg of from_bounds required again", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 2, "created_at": "2020-01-09T21:30:45Z", "updated_at": "2020-01-09T22:47:23Z", "closed_at": "2020-01-09T22:13:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "rasterio.windows.from_bounds() effectively requires a transform arg, but doesn't advertise this fact. The bug was reported in https://rasterio.groups.io/g/main/message/403.\r\n\r\nLooking back, the function did at one time have transform as a positional and required argument, but I changed that for no particular reason in https://github.com/mapbox/rasterio/commit/361112e825c5f85e8e82ef07c96baaffea1beaaa#diff-8a1766c9af87dbbc4c886979ce3e77deR184. We can revert this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1856", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1856/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1856/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1856/events", "html_url": "https://github.com/mapbox/rasterio/issues/1856", "id": 546942854, "node_id": "MDU6SXNzdWU1NDY5NDI4NTQ=", "number": 1856, "title": "`dataset_mask` return data as int64", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars2.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 3, "created_at": "2020-01-08T15:45:02Z", "updated_at": "2020-02-14T15:02:40Z", "closed_at": "2020-02-14T15:02:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "First reported in https://github.com/cogeotiff/rio-cogeo/issues/115\r\n\r\nSince rasterio >= 1.1.2 [`rasterio._io.DatasetReaderBase. dataset_mask`](https://github.com/mapbox/rasterio/blob/master/rasterio/_io.pyx#L714) is returning data array as `int64` when using internal nodata. \r\nThe problem is then when we want to write this array back to a dataset, we will get `rasterio._shim.io_band KeyError: 'int64'` because int64 is not a supported data type (in rasterio nor GDAL).\r\n\r\n```\r\nimport rasterio\r\n\r\nprint(rasterio.__version__)\r\n\r\nwith rasterio.open(\"https://raw.githubusercontent.com/cogeotiff/rio-cogeo/master/tests/fixtures/image_missing_nodata.tif\") as src_dst:\r\n    print(f\"Dataset type: {src_dst.dtypes}\")\r\n    \r\n    arr = src_dst.read()\r\n    print(f\"Data type: {arr.dtype}\")\r\n    \r\n    mask = src_dst.dataset_mask()\r\n    print(f\"Mask type: {mask.dtype}\")\r\n\r\n1.1.2\r\nDataset type: ('int16',)\r\nData type: int16\r\nMask type: int64\r\n```\r\n\r\ncc @sgillies ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1854", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1854/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1854/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1854/events", "html_url": "https://github.com/mapbox/rasterio/issues/1854", "id": 542354758, "node_id": "MDU6SXNzdWU1NDIzNTQ3NTg=", "number": 1854, "title": "Resampling documentation discrepancies", "user": {"login": "abpoll", "id": 7188728, "node_id": "MDQ6VXNlcjcxODg3Mjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/7188728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abpoll", "html_url": "https://github.com/abpoll", "followers_url": "https://api.github.com/users/abpoll/followers", "following_url": "https://api.github.com/users/abpoll/following{/other_user}", "gists_url": "https://api.github.com/users/abpoll/gists{/gist_id}", "starred_url": "https://api.github.com/users/abpoll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abpoll/subscriptions", "organizations_url": "https://api.github.com/users/abpoll/orgs", "repos_url": "https://api.github.com/users/abpoll/repos", "events_url": "https://api.github.com/users/abpoll/events{/privacy}", "received_events_url": "https://api.github.com/users/abpoll/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-25T15:08:46Z", "updated_at": "2020-03-13T16:32:06Z", "closed_at": "2020-03-13T16:32:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are two links with documentation on resampling rasters\r\n\r\n1) https://rasterio.readthedocs.io/en/latest/topics/resampling.html\r\n2) https://readthedocs.org/projects/rasterio/downloads/pdf/stable/\r\n\r\nFor the latter, see 5.21.1 for the code. \r\n\r\nIn the first, I believe the order of height and width are incorrect\r\n`with rasterio.open(\"example.tif\") as dataset:\r\n\r\n    # resample data to target shape\r\n    data = dataset.read(\r\n        out_shape=(\r\n            dataset.count,\r\n            int(dataset.width * upscale_factor),\r\n            int(dataset.height * upscale_factor)\r\n        ),\r\n        resampling=Resampling.bilinear\r\n    )\r\n\r\n    # scale image transform\r\n    transform = dataset.transform * dataset.transform.scale(\r\n        (dataset.width / data.shape[-2]),\r\n        (dataset.height / data.shape[-1])\r\n    )`\r\n\r\nCompare this to the second:\r\n\r\n`with rasterio.open(\"example.tif\") as dataset:\r\n        data = dataset.read(\r\n                out_shape=(dataset.height*2, dataset.width*2, dataset.count),\r\n                resampling=Resampling.bilinear\r\n          )\r\n`\r\n\r\nShould the code at 1) be corrected to the following?\r\n\r\n`with rasterio.open(\"example.tif\") as dataset:\r\n\r\n    # resample data to target shape\r\n    data = dataset.read(\r\n        out_shape=(\r\n            dataset.count,\r\n            int(dataset.height * upscale_factor),\r\n            int(dataset.width * upscale_factor)\r\n        ),\r\n        resampling=Resampling.bilinear\r\n    )\r\n\r\n    # scale image transform\r\n    transform = dataset.transform * dataset.transform.scale(\r\n        (dataset.height / data.shape[-1]),\r\n        (dataset.width / data.shape[-2])\r\n    )`\r\n\r\nThank you. \r\n\r\n<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1852", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1852/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1852/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1852/events", "html_url": "https://github.com/mapbox/rasterio/issues/1852", "id": 539740214, "node_id": "MDU6SXNzdWU1Mzk3NDAyMTQ=", "number": 1852, "title": "1.1.2 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/92", "html_url": "https://github.com/mapbox/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 1, "created_at": "2019-12-18T15:08:42Z", "updated_at": "2019-12-19T14:41:05Z", "closed_at": "2019-12-19T14:41:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Target date: 2019-12-18 (today).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1850", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1850/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1850/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1850/events", "html_url": "https://github.com/mapbox/rasterio/issues/1850", "id": 538593491, "node_id": "MDU6SXNzdWU1Mzg1OTM0OTE=", "number": 1850, "title": "Error using CRS.from_epsg(): cannot find proj.db", "user": {"login": "ClaireBrenner", "id": 17616306, "node_id": "MDQ6VXNlcjE3NjE2MzA2", "avatar_url": "https://avatars2.githubusercontent.com/u/17616306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ClaireBrenner", "html_url": "https://github.com/ClaireBrenner", "followers_url": "https://api.github.com/users/ClaireBrenner/followers", "following_url": "https://api.github.com/users/ClaireBrenner/following{/other_user}", "gists_url": "https://api.github.com/users/ClaireBrenner/gists{/gist_id}", "starred_url": "https://api.github.com/users/ClaireBrenner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ClaireBrenner/subscriptions", "organizations_url": "https://api.github.com/users/ClaireBrenner/orgs", "repos_url": "https://api.github.com/users/ClaireBrenner/repos", "events_url": "https://api.github.com/users/ClaireBrenner/events{/privacy}", "received_events_url": "https://api.github.com/users/ClaireBrenner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-12-16T19:00:36Z", "updated_at": "2020-01-08T19:15:39Z", "closed_at": "2020-01-08T19:15:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nwhen I install rasterio from conda forge and GDAL 3.0.2 also from conda forge I get the error already described in an earlier issue:\r\n\r\nrasterio.errors.CRSError: The EPSG code is unknown. PROJ: proj_create_from_database: Cannot find proj.db\r\n\r\nI then thought that rasterio is not compatible with GDAL 3.0.2 and downgraded to an earlier version (also from conda forge) and it works fine. \r\n\r\nNow @sgillies pointed out that the latest version of rasterio works fine with GDAL 3. \r\n\r\n(_Originally posted by @sgillies in https://github.com/mapbox/rasterio/issues/1787#issuecomment-566115548_)\r\n\r\nNow I am wondering what could be the problem? \r\n\r\nThanks in advance, \r\nClaire ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1849", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1849/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1849/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1849/events", "html_url": "https://github.com/mapbox/rasterio/issues/1849", "id": 537937271, "node_id": "MDU6SXNzdWU1Mzc5MzcyNzE=", "number": 1849, "title": "Add out_dtype parameter to WarpedVRT", "user": {"login": "AliFlux", "id": 8333794, "node_id": "MDQ6VXNlcjgzMzM3OTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/8333794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AliFlux", "html_url": "https://github.com/AliFlux", "followers_url": "https://api.github.com/users/AliFlux/followers", "following_url": "https://api.github.com/users/AliFlux/following{/other_user}", "gists_url": "https://api.github.com/users/AliFlux/gists{/gist_id}", "starred_url": "https://api.github.com/users/AliFlux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AliFlux/subscriptions", "organizations_url": "https://api.github.com/users/AliFlux/orgs", "repos_url": "https://api.github.com/users/AliFlux/repos", "events_url": "https://api.github.com/users/AliFlux/events{/privacy}", "received_events_url": "https://api.github.com/users/AliFlux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/92", "html_url": "https://github.com/mapbox/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 1, "created_at": "2019-12-14T16:53:42Z", "updated_at": "2019-12-16T17:13:54Z", "closed_at": "2019-12-16T17:13:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nThe out_dtype for datasets is super useful. Are there any plans for supporting it for WarpedVRT class read() method?\r\n\r\nUsecase:\r\nWarpedVRT has a lot of advantages for dataset tiling. When faced with grayscale imagery or imagery with custom palette. The read() method of WarpedVRT outputs a shape that doesnt have three channels. The out_dtype method caters that (probably). Are there any plans to support on the fly channel conversion via WarpedVRT?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1847", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1847/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1847/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1847/events", "html_url": "https://github.com/mapbox/rasterio/issues/1847", "id": 537120045, "node_id": "MDU6SXNzdWU1MzcxMjAwNDU=", "number": 1847, "title": "HDF5 error with rasterio wheel", "user": {"login": "glostis", "id": 25295717, "node_id": "MDQ6VXNlcjI1Mjk1NzE3", "avatar_url": "https://avatars0.githubusercontent.com/u/25295717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glostis", "html_url": "https://github.com/glostis", "followers_url": "https://api.github.com/users/glostis/followers", "following_url": "https://api.github.com/users/glostis/following{/other_user}", "gists_url": "https://api.github.com/users/glostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glostis/subscriptions", "organizations_url": "https://api.github.com/users/glostis/orgs", "repos_url": "https://api.github.com/users/glostis/repos", "events_url": "https://api.github.com/users/glostis/events{/privacy}", "received_events_url": "https://api.github.com/users/glostis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-12T17:37:28Z", "updated_at": "2020-05-05T15:39:28Z", "closed_at": "2020-01-08T19:13:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nThe HDF5 library that comes packaged with the `rasterio` wheel seems to have an issue because it prints errors to stderr when doing a `rio info` on a file for example.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI've made a Dockerfile to reproduce the issue:\r\n\r\n```dockerfile\r\nFROM ubuntu:18.04\r\n\r\nENV LC_ALL C.UTF-8\r\nENV LANG C.UTF-8\r\n\r\nRUN apt-get update && \\\r\n    apt-get install -y software-properties-common && \\\r\n    add-apt-repository ppa:ubuntugis/ubuntugis-unstable && \\\r\n    apt-get update && \\\r\n    apt-get install -y curl gdal-bin libgdal-dev python3 python3-venv\r\n\r\nRUN apt-get install -y python3-dev\r\n\r\nWORKDIR /root\r\n\r\nRUN python3 -m venv rio-wheel && \\\r\n    curl --silent https://bootstrap.pypa.io/get-pip.py | rio-wheel/bin/python && \\\r\n    rio-wheel/bin/pip install rasterio && \\\r\n    python3 -m venv rio-sdist && \\\r\n    curl --silent https://bootstrap.pypa.io/get-pip.py | rio-sdist/bin/python && \\\r\n    rio-sdist/bin/pip install --no-binary rasterio rasterio\r\n```\r\n\r\nIn this Dockerfile I make two virtualenvs:\r\n- `rio-wheel` where I simply install the `rasterio` wheel\r\n- `rio-sdist` where I install the `rasterio` source distribution, which uses the system GDAL\r\n\r\nSince the image is a bit long to build, I have uploaded it to Docker Hub.\r\n\r\n\r\nThe `rio info` from the `rio-wheel` env prints errors (even though the command returns code 0):\r\n```\r\n$ docker run -it glostis/rio-hdf5-bug rio-wheel/bin/rio info http://download.osgeo.org/gdal/data/hdf5/vlstr_metadata.h5\r\nHDF5-DIAG: Error detected in HDF5 (1.10.2) thread 0:\r\n  #000: H5Adeprec.c line 193 in H5Aopen_name(): can't open attribute: '_FillValue'\r\n    major: Attribute\r\n    minor: Can't open object\r\n  #001: H5Aint.c line 455 in H5A_open_by_name(): unable to load attribute info from object header\r\n    major: Attribute\r\n    minor: Unable to initialize object\r\n  #002: H5Oattribute.c line 528 in H5O_attr_open_by_name(): can't locate attribute: '_FillValue'\r\n    major: Attribute\r\n    minor: Object not found\r\n/root/rio-wheel/lib/python3.6/site-packages/rasterio/__init__.py:219: NotGeoreferencedWarning: Dataset has no geotransform set. The identity matrix may be returned.\r\n  s = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)\r\n{\"bounds\": [0.0, 1673.0, 3024.0, 0.0], \"colorinterp\": [\"undefined\"], \"count\": 1, \"crs\": null, \"descriptions\": [null], \"driver\": \"HDF5Image\", \"dtype\": \"uint8\", \"height\": 1673, \"indexes\": [1], \"mask_flags\": [[\"all_valid\"]], \"nodata\": null, \"res\": [1.0, -1.0], \"shape\": [1673, 3024], \"tiled\": false, \"transform\": [1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], \"units\": [null], \"width\": 3024}\r\n```\r\n\r\nThe `rio info` from the `rio-sdist` env behaves as expected, without any errors being printed:\r\n```\r\n$ docker run -it glostis/rio-hdf5-bug rio-sdist/bin/rio info http://download.osgeo.org/gdal/data/hdf5/vlstr_metadata.h5\r\n/root/rio-sdist/lib/python3.6/site-packages/rasterio/__init__.py:219: NotGeoreferencedWarning: Dataset has no geotransform set. The identity matrix may be returned.\r\n  s = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)\r\n{\"bounds\": [0.0, 1673.0, 3024.0, 0.0], \"colorinterp\": [\"undefined\"], \"count\": 1, \"crs\": null, \"descriptions\": [null], \"driver\": \"HDF5Image\", \"dtype\": \"uint8\", \"height\": 1673, \"indexes\": [1], \"mask_flags\": [[\"all_valid\"]], \"nodata\": null, \"res\": [1.0, -1.0], \"shape\": [1673, 3024], \"tiled\": false, \"transform\": [1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0], \"units\": [null], \"width\": 3024}\r\n```\r\n\r\n## Operating system\r\n\r\nDocker Ubuntu 18.04\r\nand also tested on MacOS\r\n\r\n## Rasterio version and provenance\r\n\r\n`rasterio==1.1.1` sdist and wheel from PyPI\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1846", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1846/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1846/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1846/events", "html_url": "https://github.com/mapbox/rasterio/issues/1846", "id": 536543678, "node_id": "MDU6SXNzdWU1MzY1NDM2Nzg=", "number": 1846, "title": "Support Slippy Map datasets", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/92", "html_url": "https://github.com/mapbox/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 6, "created_at": "2019-12-11T18:32:34Z", "updated_at": "2019-12-16T15:43:40Z", "closed_at": "2019-12-16T15:43:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now rasterio works great when working e.g. with GeoTIF datasets.\r\n\r\nCertain use-cases require us to transform these TIFs to Slippy Map datasets\r\n- https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames\r\n- https://gist.github.com/tmcw/4954720\r\n\r\nfor example\r\n- [raster layer](https://docs.mapbox.com/mapbox-gl-js/style-spec/#sources-raster) in a mapbox gl map\r\n- [machine learning models](https://github.com/mapbox/robosat) which need tiling because of limited GPU memory\r\n\r\nEven though the slippy map dataset format contains the same geo-referenced raster data as in the original GeoTIF we now no longer can use rasterio to work on the dataset.\r\n\r\nOpen questions\r\n- Should rasterio support Slippy Map datasets?\r\n- Are there any limitations in Slippy Map datasets e.g. the dtype and bands are limited by the file format we are using e.g. single channel png files in the `z/x/y.png` structure?\r\n- Would this be possible and a reasonable addition to rasterio?\r\n\r\nWhat I have in mind is operations such as\r\n\r\n    rio calc \"..\" --name p0=predictions-old p1=predictions-new\r\n\r\nand have it working on two slippy map directories as it's working right now already with GeoTIFs.\r\n\r\nWorkaround right now is to manually stitch together a GeoTIF from the Slippy Map tiles, use rasterio do transform / create a new GeoTIF, and then gdal2tiles this GeoTIF again.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1843", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1843/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1843/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1843/events", "html_url": "https://github.com/mapbox/rasterio/issues/1843", "id": 535080371, "node_id": "MDU6SXNzdWU1MzUwODAzNzE=", "number": 1843, "title": "Catch CPLE_OpenFailedError in rasterio.open and raise a proper error", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-12-09T17:36:38Z", "updated_at": "2020-02-24T21:10:35Z", "closed_at": "2020-02-24T21:10:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "An exception like\r\n\r\n`rasterio._err.CPLE_OpenFailedError: '/vsicurl/http://oin-hotosm.s3.amazonaws.com/59c66c5223c8440011d7b1e4/0/7ad397c0-bba2-4f98-a08a-931ec3a6e943.tif' does not exist in the file system, and is not recognized as a supported dataset name.` \r\n\r\nmight be true, but isn't very helpful. Also it's a private exception that API users shouldn't see.\r\n\r\nSee discussion in https://rasterio.groups.io/g/main/message/389 for more background.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1838", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1838/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1838/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1838/events", "html_url": "https://github.com/mapbox/rasterio/issues/1838", "id": 532230078, "node_id": "MDU6SXNzdWU1MzIyMzAwNzg=", "number": 1838, "title": "[proposal] support vsicurl when opening netCDF subdatasets", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1183053396, "node_id": "MDU6TGFiZWwxMTgzMDUzMzk2", "url": "https://api.github.com/repos/mapbox/rasterio/labels/needs%20discussion", "name": "needs discussion", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/90", "html_url": "https://github.com/mapbox/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 19, "closed_issues": 6, "state": "open", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2020-07-28T19:42:56Z", "due_on": null, "closed_at": null}, "comments": 7, "created_at": "2019-12-03T20:00:34Z", "updated_at": "2020-06-03T02:05:07Z", "closed_at": "2020-06-03T02:05:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently rasterio supports passing in a path such as `https://path/to/file.tif` and it will open it just fine with `vsicurl` by modifying the path internally to be `/vsicurl/https://path/to/file.tif`. With the correct dependency set, you can also [open `netCDF` files with `vsicurl`](https://gdal.org/drivers/raster/netcdf.html#vsi-virtual-file-system-api-support). An example would be: `netcdf:https://path/to/file.tif:band` or `netcdf:\"https://path/to/file.tif\":band`. \r\n\r\nThoughts on extending rasterio to modify the URL to `netcdf:/vsicurl/https://path/to/file.tif:band`?\r\nIf this is something desired, any thoughts on implementation? I assume some kind of modification to `rasterio.path.vsi_path`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1837", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1837/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1837/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1837/events", "html_url": "https://github.com/mapbox/rasterio/issues/1837", "id": 529905586, "node_id": "MDU6SXNzdWU1Mjk5MDU1ODY=", "number": 1837, "title": "rasterio merge giving incorrect result", "user": {"login": "awa5114", "id": 24267968, "node_id": "MDQ6VXNlcjI0MjY3OTY4", "avatar_url": "https://avatars0.githubusercontent.com/u/24267968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awa5114", "html_url": "https://github.com/awa5114", "followers_url": "https://api.github.com/users/awa5114/followers", "following_url": "https://api.github.com/users/awa5114/following{/other_user}", "gists_url": "https://api.github.com/users/awa5114/gists{/gist_id}", "starred_url": "https://api.github.com/users/awa5114/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awa5114/subscriptions", "organizations_url": "https://api.github.com/users/awa5114/orgs", "repos_url": "https://api.github.com/users/awa5114/repos", "events_url": "https://api.github.com/users/awa5114/events{/privacy}", "received_events_url": "https://api.github.com/users/awa5114/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-28T13:13:39Z", "updated_at": "2019-12-06T15:35:27Z", "closed_at": "2019-12-06T15:35:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have 4 separate ASCII grids which all contain the same data:\r\n\r\n    1 2 3 4\r\n    3 4 5 6\r\n    4 5 6 8\r\n    7 9 5 4\r\n\r\nThe metadata, however, is different:\r\n\r\n    ncols 4\r\n    nrows 4\r\n    xllcorner x\r\n    yllcorner y\r\n    cellsize 1\r\n    nodata_value -9999\r\n\r\nWhere `x`  and `y` take on the values (0,0), (4,0), (4,4) and (0,4) repectively. I then Try to run a merge operation as follows using `rasterio`:\r\n\r\n    from rasterio.merge import merge\r\n    import rasterio\r\n    import glob \r\n\r\n    def merge_datasets(out_filename, dataset_list, driver):\r\n        print('running merge command and outputting mosaic')\r\n        mosaic, out_trans = merge(dataset_list)\r\n    \r\n        print('updating metadata')\r\n        out_meta = dataset_list[0].meta.copy()\r\n        out_meta.update({\"driver\": driver, \"height\": mosaic.shape[1], \"width\": mosaic.shape[2], \"transform\": out_trans})\r\n    \r\n        print('writing file')\r\n        with rasterio.open(out_filename, 'w', **out_meta) as dest: # YES, NO, IF_NEEDED, IF_SAFER\r\n        dest.write(mosaic)\r\n\r\n        out_dataset = rasterio.open(out_filename)\r\n        return out_dataset\r\n\r\n    if __name__=='__main__':\r\n        tiles_filename_list = glob.glob(r'test_data/*.asc')\r\n        tiles_dataset_list = open_dataset_list(tiles_filename_list)\r\n\r\n        merged_dataset = merge_datasets(r'test_data/out.asc', tiles_dataset_list, driver='AAIGrid')\r\n\r\n\r\nThis creates the following incorrect grid:\r\n\r\n    ncols        8\r\n    nrows        8\r\n    xllcorner    0.000000000000\r\n    yllcorner    0.000000000000\r\n    cellsize     1.000000000000\r\n    NODATA_value -9999\r\n     1 2 3 4 1 2 2 3\r\n     3 4 5 6 3 4 4 5\r\n     3 4 5 6 3 4 4 5\r\n     4 5 6 8 4 5 5 6\r\n     1 2 3 4 1 2 2 3\r\n     3 4 5 6 3 4 4 5\r\n     4 5 6 8 4 5 5 6\r\n     7 9 5 4 7 9 9 5\r\n\r\nDoes anyone know why this occurs. I would have expected:\r\n\r\n    ncols        8\r\n    nrows        8\r\n    xllcorner    0.000000000000\r\n    yllcorner    0.000000000000\r\n    cellsize     1.000000000000\r\n    NODATA_value -9999\r\n     1 2 3 4 1 2 3 4\r\n     3 4 5 6 3 4 5 6\r\n     3 4 5 6 3 4 5 6\r\n     4 5 6 8 4 5 6 8\r\n     1 2 3 4 1 2 3 4\r\n     3 4 5 6 3 4 5 6\r\n     4 5 6 8 4 5 6 8\r\n     7 9 5 4 7 9 5 4\r\n\r\nI tried looking into the different options in the [merge method in rasterio][1] but found nothing useful.\r\n\r\n\r\n  [1]: https://rasterio.readthedocs.io/en/stable/api/rasterio.merge.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1835", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1835/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1835/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1835/events", "html_url": "https://github.com/mapbox/rasterio/issues/1835", "id": 529090933, "node_id": "MDU6SXNzdWU1MjkwOTA5MzM=", "number": 1835, "title": "open /vsihdfs/ (Hadoop File System) file fail", "user": {"login": "cartosquare", "id": 6066346, "node_id": "MDQ6VXNlcjYwNjYzNDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6066346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cartosquare", "html_url": "https://github.com/cartosquare", "followers_url": "https://api.github.com/users/cartosquare/followers", "following_url": "https://api.github.com/users/cartosquare/following{/other_user}", "gists_url": "https://api.github.com/users/cartosquare/gists{/gist_id}", "starred_url": "https://api.github.com/users/cartosquare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cartosquare/subscriptions", "organizations_url": "https://api.github.com/users/cartosquare/orgs", "repos_url": "https://api.github.com/users/cartosquare/repos", "events_url": "https://api.github.com/users/cartosquare/events{/privacy}", "received_events_url": "https://api.github.com/users/cartosquare/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-27T03:24:21Z", "updated_at": "2019-11-27T06:21:54Z", "closed_at": "2019-11-27T06:21:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI can use gdal python to open [vsihdfs file](https://gdal.org/user/virtual_file_systems.html#vsihdfs-hadoop-file-system)\r\n\r\n```\r\nimport gdal\r\nds = gdal.Open('/vsihdfs/hdfs://10.10.41.81:9000/data/Remote/pipeline-input/1/18.tiff')\r\nprint ds.GetMetadata()\r\n```\r\n\r\nthe above script can execute successfully. However when i switch to rasterio:\r\n\r\n```\r\nimport rasterio\r\nhdfs_file = '/vsihdfs/hdfs://10.10.41.81:9000/data/Remote/pipeline-input/1/18.tiff'\r\nwith rasterio.open(hdfs_file) as src:\r\n    (w, s, e, n) = src.bounds\r\n    print(w, s, e, n)\r\n```\r\n\r\noutputs:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test_rio.py\", line 6, in <module>\r\n    with rasterio.open(hdfs_file) as src:\r\n  File \"/home/xuxiang/.local/lib/python2.7/site-packages/rasterio/env.py\", line 445, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"/home/xuxiang/.local/lib/python2.7/site-packages/rasterio/__init__.py\", line 219, in open\r\n    s = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)\r\n  File \"rasterio/_base.pyx\", line 218, in rasterio._base.DatasetBase.__init__\r\nrasterio.errors.RasterioIOError: /vsihdfs/hdfs://10.10.41.81:9000/data/Remote/pipeline-input/1/18.tiff: No such file or directory\r\n```\r\n\r\n## Steps to reproduce the problem.\r\n\r\n\r\n1. Compile `GDAL 3.0.2, released 2019/10/28` from source with java and hdfs support\r\n\r\n2. pip install rasterio\r\n\r\n3. execute following script\r\n```\r\nimport rasterio\r\nhdfs_file = '/vsihdfs/hdfs://10.10.41.81:9000/data/Remote/pipeline-input/1/18.tiff'\r\nwith rasterio.open(hdfs_file) as src:\r\n    (w, s, e, n) = src.bounds\r\n    print(w, s, e, n)\r\n```\r\n## Operating system\r\n\r\nLinux ubuntu1804 4.15.0-46-generic\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.1.1 from PyPI using pip 9.0.1.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1834", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1834/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1834/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1834/events", "html_url": "https://github.com/mapbox/rasterio/issues/1834", "id": 528808286, "node_id": "MDU6SXNzdWU1Mjg4MDgyODY=", "number": 1834, "title": "Error while trying to open MemoryFile", "user": {"login": "alexm98", "id": 52319013, "node_id": "MDQ6VXNlcjUyMzE5MDEz", "avatar_url": "https://avatars3.githubusercontent.com/u/52319013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexm98", "html_url": "https://github.com/alexm98", "followers_url": "https://api.github.com/users/alexm98/followers", "following_url": "https://api.github.com/users/alexm98/following{/other_user}", "gists_url": "https://api.github.com/users/alexm98/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexm98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexm98/subscriptions", "organizations_url": "https://api.github.com/users/alexm98/orgs", "repos_url": "https://api.github.com/users/alexm98/repos", "events_url": "https://api.github.com/users/alexm98/events{/privacy}", "received_events_url": "https://api.github.com/users/alexm98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-26T15:42:46Z", "updated_at": "2019-11-26T17:32:09Z", "closed_at": "2019-11-26T17:32:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am experiencing some issues while trying to open rasterio MemoryFiles: RasterIO complains that it is not a recognized format.\r\nThe issue can be reliably reproduced using the following snippet:\r\n\r\n``` python\r\nfrom rasterio.io import MemoryFile\r\nimport numpy as np\r\n\r\nfile = MemoryFile(bytes(np.zeros((256,256))))\r\nfile.open()\r\n```\r\n\r\nThis produces an RasterIoError: ''/vsimem/1ef0f3a8-08ff-436e-984d-e475fa411b3c.' not recognized as a supported file format.'. The version of rasterio I am currently using is 1.1.1.\r\n\r\nHere is a traceback:\r\nhttps://gist.github.com/alexm98/56dd319ca6c0a34bc9e1454a0dc69e56", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1833", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1833/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1833/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1833/events", "html_url": "https://github.com/mapbox/rasterio/issues/1833", "id": 528262073, "node_id": "MDU6SXNzdWU1MjgyNjIwNzM=", "number": 1833, "title": "WarpedVRT does not permit boundless reads (sample.py)", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/92", "html_url": "https://github.com/mapbox/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 4, "created_at": "2019-11-25T18:31:59Z", "updated_at": "2019-12-18T16:07:31Z", "closed_at": "2019-12-18T15:08:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n```\r\n    def test_rasterio_vrt(self):\r\n\r\n        import rasterio\r\n\r\n    \r\n\r\n        # tmp_file default crs is UTM: CRS({'init': 'epsg:32618'}\r\n\r\n        with create_tmp_geotiff() as (tmp_file, expected):\r\n\r\n            with rasterio.open(tmp_file) as src:\r\n\r\n                with rasterio.vrt.WarpedVRT(src, crs=\"epsg:4326\") as vrt:\r\n\r\n                    expected_shape = (vrt.width, vrt.height)\r\n\r\n                    expected_crs = vrt.crs\r\n\r\n                    expected_res = vrt.res\r\n\r\n                    # Value of single pixel in center of image\r\n\r\n                    lon, lat = vrt.xy(vrt.width // 2, vrt.height // 2)\r\n\r\n>                   expected_val = next(vrt.sample([(lon, lat)]))\r\n\r\ntest/integration/test_integration__io.py:799: \r\n\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\n../../../miniconda/envs/test/lib/python3.7/site-packages/rasterio/sample.py:43: in sample_gen\r\n\r\n    data = read(indexes, window=window, masked=masked, boundless=True)\r\n\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\n>   ???\r\n\r\nE   ValueError: WarpedVRT does not permit boundless reads\r\n```\r\n\r\n## Operating system\r\n\r\nFor example: Mac OS, Windows, Linux\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.1 from conda-forge", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1832", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1832/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1832/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1832/events", "html_url": "https://github.com/mapbox/rasterio/issues/1832", "id": 525182623, "node_id": "MDU6SXNzdWU1MjUxODI2MjM=", "number": 1832, "title": "Rasterio crs returns None for GeoTIFF", "user": {"login": "yowich", "id": 26683517, "node_id": "MDQ6VXNlcjI2NjgzNTE3", "avatar_url": "https://avatars2.githubusercontent.com/u/26683517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yowich", "html_url": "https://github.com/yowich", "followers_url": "https://api.github.com/users/yowich/followers", "following_url": "https://api.github.com/users/yowich/following{/other_user}", "gists_url": "https://api.github.com/users/yowich/gists{/gist_id}", "starred_url": "https://api.github.com/users/yowich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yowich/subscriptions", "organizations_url": "https://api.github.com/users/yowich/orgs", "repos_url": "https://api.github.com/users/yowich/repos", "events_url": "https://api.github.com/users/yowich/events{/privacy}", "received_events_url": "https://api.github.com/users/yowich/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-19T18:23:17Z", "updated_at": "2019-11-19T20:46:36Z", "closed_at": "2019-11-19T20:26:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\nExpected: I think rasterio's crs should return epsg4326 (WGS84) when I consider that ArcMap actually shows GCS_WGS_1984 for XY Coordinate System for the GeoTIFF file I downloaded from the link below:\r\nhttp://rangeland.ntsg.umt.edu/data/rap/rap-vegetation-cover/v1/\r\n\r\nActual: Actually, rasterio's crs returned None. \r\n\r\n## Steps to reproduce the problem.\r\nI used this code in Jupyter Notebook. The detailed specification for the environment is at the bottom of this page. \r\n\r\nimport rasterio\r\nraster =\"vegetation-cover-v1-1984.tif\"\r\nwith rasterio.open(raster) as rst:\r\n    print(\"CRS: \", rst.crs)\r\n\r\nresults:\r\nCRS:  None\r\n\r\n## Operating system\r\nWindows 10 Enterprise 1903\r\n\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.1.0 installed through Anaconda Navigator 1.9.7. \r\n\r\nServer Information: You are using Jupyter notebook.\r\nThe version of the notebook server is: 6.0.1\r\nThe server is running on this version of Python:\r\nPython 3.7.3 | packaged by conda-forge | (default, Jul  1 2019, 22:01:29) [MSC v.1900 64 bit (AMD64)]\r\n\r\nCurrent Kernel Information:\r\nPython 3.7.3 | packaged by conda-forge | (default, Jul  1 2019, 22:01:29) [MSC v.1900 64 bit (AMD64)]\r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.9.0 -- An enhanced Interactive Python. Type '?' for help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1830", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1830/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1830/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1830/events", "html_url": "https://github.com/mapbox/rasterio/issues/1830", "id": 524584005, "node_id": "MDU6SXNzdWU1MjQ1ODQwMDU=", "number": 1830, "title": "example of reprojection in the docs throws exception", "user": {"login": "simonm3", "id": 1199593, "node_id": "MDQ6VXNlcjExOTk1OTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1199593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonm3", "html_url": "https://github.com/simonm3", "followers_url": "https://api.github.com/users/simonm3/followers", "following_url": "https://api.github.com/users/simonm3/following{/other_user}", "gists_url": "https://api.github.com/users/simonm3/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonm3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonm3/subscriptions", "organizations_url": "https://api.github.com/users/simonm3/orgs", "repos_url": "https://api.github.com/users/simonm3/repos", "events_url": "https://api.github.com/users/simonm3/events{/privacy}", "received_events_url": "https://api.github.com/users/simonm3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}, {"id": 86183081, "node_id": "MDU6TGFiZWw4NjE4MzA4MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/docs", "name": "docs", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/90", "html_url": "https://github.com/mapbox/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 19, "closed_issues": 6, "state": "open", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2020-07-28T19:42:56Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2019-11-18T19:51:43Z", "updated_at": "2020-03-20T19:44:14Z", "closed_at": "2020-03-20T19:43:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "This does not seem to work for me. I copied the reproject example in the docs and I get:\r\n\r\nTypeError Traceback (most recent call last)\r\nin\r\n32 dst_transform=dst_transform,\r\n33 dst_crs=dst_crs,\r\n---> 34 resampling=Resampling.nearest)\r\n35\r\n36 # Assert that the destination is only partly filled.\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\env.py in wrapper(*args, **kwds)\r\n392 def wrapper(*args, **kwds):\r\n393 if local._env:\r\n--> 394 return f(*args, **kwds)\r\n395 else:\r\n396 with Env.from_defaults():\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\env.py in wrapper(*args, **kwds)\r\n618 param, full_kwds[param], inequality, version, reason))\r\n619\r\n--> 620 return f(*args, **kwds)\r\n621\r\n622 return wrapper\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\warp.py in reproject(source, destination, src_transform, gcps, src_crs, src_nodata, dst_transform, dst_crs, dst_nodata, dst_resolution, src_alpha, dst_alpha, resampling, num_threads, init_dest_nodata, warp_mem_limit, **kwargs)\r\n345 src_alpha=src_alpha, resampling=resampling,\r\n346 init_dest_nodata=init_dest_nodata, num_threads=num_threads,\r\n--> 347 warp_mem_limit=warp_mem_limit, **kwargs)\r\n348\r\n349 return destination, dst_transform\r\n\r\nrasterio_warp.pyx in rasterio._warp._reproject()\r\n\r\nrasterio_warp.pyx in rasterio._warp._reproject()\r\n\r\nrasterio_warp.pyx in rasterio._warp._reproject.format_transform()\r\n\r\n~\\Anaconda3\\lib\\site-packages\\rasterio\\transform.py in guard_transform(transform)\r\n89 if tastes_like_gdal(transform):\r\n90 raise TypeError(\r\n---> 91 \"GDAL-style transforms have been deprecated. This \"\r\n92 \"exception will be raised for a period of time to highlight \"\r\n93 \"potentially confusing errors, but will eventually be removed.\")\r\n\r\nTypeError: GDAL-style transforms have been deprecated. This exception will be raised for a period of time to highlight potentially confusing errors, but will eventually be removed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1829", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1829/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1829/events", "html_url": "https://github.com/mapbox/rasterio/issues/1829", "id": 521890298, "node_id": "MDU6SXNzdWU1MjE4OTAyOTg=", "number": 1829, "title": "1.1.1 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/91", "html_url": "https://github.com/mapbox/rasterio/milestone/91", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/91/labels", "id": 4814211, "node_id": "MDk6TWlsZXN0b25lNDgxNDIxMQ==", "number": 91, "title": "1.1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-11-04T22:15:27Z", "updated_at": "2019-11-14T18:23:56Z", "due_on": null, "closed_at": "2019-11-14T18:23:56Z"}, "comments": 2, "created_at": "2019-11-13T00:58:23Z", "updated_at": "2019-11-14T18:23:48Z", "closed_at": "2019-11-14T18:23:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Target date: 2019-11-12.\r\n\r\nThis is also a chance to patch GDAL. See https://github.com/rasterio/rasterio-wheels/pull/30.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1828", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1828/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1828/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1828/events", "html_url": "https://github.com/mapbox/rasterio/issues/1828", "id": 521291094, "node_id": "MDU6SXNzdWU1MjEyOTEwOTQ=", "number": 1828, "title": "Read errors when reading COGs from S3 with many threads", "user": {"login": "Kirill888", "id": 1428024, "node_id": "MDQ6VXNlcjE0MjgwMjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1428024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kirill888", "html_url": "https://github.com/Kirill888", "followers_url": "https://api.github.com/users/Kirill888/followers", "following_url": "https://api.github.com/users/Kirill888/following{/other_user}", "gists_url": "https://api.github.com/users/Kirill888/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kirill888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kirill888/subscriptions", "organizations_url": "https://api.github.com/users/Kirill888/orgs", "repos_url": "https://api.github.com/users/Kirill888/repos", "events_url": "https://api.github.com/users/Kirill888/events{/privacy}", "received_events_url": "https://api.github.com/users/Kirill888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-11-12T02:28:58Z", "updated_at": "2019-11-13T03:26:18Z", "closed_at": "2019-11-13T03:16:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI'm reading a bunch of Cloud Optimized GeoTIFF images from a public S3 bucket with `aws_unsigned=True` option. I'm using many threads to speed things up. As I increase number of threads \"high enough\", I start seeing errors of this kind:\r\n\r\n```\r\nRasterioIOError: Read or write failed. /vsis3/landsat-pds/L8/100/072/LC81000722013115LGN01/LC81000722013115LGN01_B1.TIF, band 1: IReadBlock failed at X offset 2, Y offset 11: TIFFReadEncodedTile() failed.\r\n```\r\n\r\nI suspect the problem is in GDAL code to be honest. Looks like error is triggered more often when reading the entire raster at once. I have not been able to trigger error when reading data in stripes in the test example linked below, but I have seen it happen elsewhere even when reading a part of the file.\r\n\r\nI believe this is the same issue as reported in #1686. \r\n\r\n## Steps to reproduce the problem.\r\n\r\nsee here:\r\n\r\nhttps://gist.github.com/Kirill888/55148f21e0dcc2cf3d88e9e6abd349f7\r\n\r\nWith this example I have only observed errors at read time, but in \"production\" I seen failures during open as well. I'm using public bucket for convenience of reporting, but I have observed same problems with signed s3 requests.\r\n\r\n## Operating system\r\n\r\nUbuntu 18.04, running in AWS `us-west-2`, `m5.4xlarge`.\r\n\r\n## Rasterio version and provenance\r\n\r\n1.1.0 installed in binary mode from pypi\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nCPLE_AppDefinedError                      Traceback (most recent call last)\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nrasterio/shim_rasterioex.pxi in rasterio._shim.io_multi_band()\r\n\r\nrasterio/_err.pyx in rasterio._err.exc_wrap_int()\r\n\r\nCPLE_AppDefinedError: /vsis3/landsat-pds/L8/100/072/LC81000722013115LGN01/LC81000722013115LGN01_B1.TIF, band 1: IReadBlock failed at X offset 2, Y offset 11: TIFFReadEncodedTile() failed.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nRasterioIOError                           Traceback (most recent call last)\r\n<ipython-input-7-6ea40a64db9e> in <module>\r\n----> 1 raise bad[0][1]\r\n\r\n<ipython-input-1-8052a1cc6ae9> in test_workload(url, rio_opts, stripe)\r\n     41     try:\r\n     42         with rasterio.open(url, sharing=False) as src:\r\n---> 43             return (url, pixel_sha1(src, stripe), None)\r\n     44     except Exception as e:\r\n     45         return (url, None, e)\r\n\r\n<ipython-input-1-8052a1cc6ae9> in pixel_sha1(src, stripe)\r\n     13     _hash = hashlib.sha1()\r\n     14     if stripe is None:\r\n---> 15         pix = src.read(1)\r\n     16         _hash.update(pix.data)\r\n     17     else:\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase.read()\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nRasterioIOError: Read or write failed. /vsis3/landsat-pds/L8/100/072/LC81000722013115LGN01/LC81000722013115LGN01_B1.TIF, band 1: IReadBlock failed at X offset 2, Y offset 11: TIFFReadEncodedTile() failed.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1826", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1826/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1826/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1826/events", "html_url": "https://github.com/mapbox/rasterio/issues/1826", "id": 519940732, "node_id": "MDU6SXNzdWU1MTk5NDA3MzI=", "number": 1826, "title": "Feature request: Add pixel value scaling when writing to new dtype", "user": {"login": "adriantre", "id": 11158599, "node_id": "MDQ6VXNlcjExMTU4NTk5", "avatar_url": "https://avatars1.githubusercontent.com/u/11158599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adriantre", "html_url": "https://github.com/adriantre", "followers_url": "https://api.github.com/users/adriantre/followers", "following_url": "https://api.github.com/users/adriantre/following{/other_user}", "gists_url": "https://api.github.com/users/adriantre/gists{/gist_id}", "starred_url": "https://api.github.com/users/adriantre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adriantre/subscriptions", "organizations_url": "https://api.github.com/users/adriantre/orgs", "repos_url": "https://api.github.com/users/adriantre/repos", "events_url": "https://api.github.com/users/adriantre/events{/privacy}", "received_events_url": "https://api.github.com/users/adriantre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-08T10:39:42Z", "updated_at": "2020-01-08T19:06:02Z", "closed_at": "2020-01-08T19:06:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### First off, I love using Rasterio, and it is a dream to work with rasters. After using it for a little while it supports almost everything I want to do.\r\n\r\n## The seemingly missing feature\r\nI have been looking for a way to scale the pixel values when changing dtype. This is an important step in e.g. preparing the data for machine learning. I know this is possible through the command line interface `rio`, but I'm looking for a way to do it with the rasterio module:\r\n \r\n```rio convert in16.tif out8.tif --dtype uint8 --scale-ratio 0.0625```\r\n\r\n(Quick comment: [The docs](https://rasterio.readthedocs.io/en/stable/cli.html#convert) use a rounded ratio here. May not make any impact though. 0 255/4095 = 0.062271062)\r\n\r\n### Using gdal python bindings `gdal.translate`\r\n\r\nIn my case I also want to read only a window from the source dataset. Python gdal bindings lets me do this in a breeze:\r\n\r\n```\r\nfrom osgeo import gdal\r\n\r\ngdal.Translate(\r\n    \"outfile.tif\",\r\n    scr_dataset,\r\n    format=\"GTiff\",\r\n    outputType=gdal.gdalconst.GDT_Float32,\r\n    scaleParams=[[0, 65535, 0.0, 255.0]], # scaling\r\n    srcWin=(0, 0, 180, 180) # window\r\n)\r\n```\r\n\r\n<details>\r\n<summary>The source dataset .profile yields:</summary>\r\n\r\n```\r\n{   \r\n\t'blockxsize': 128,\r\n\t'blockysize': 128,\r\n\t'compress': 'jpeg2000',\r\n\t'count': 4,\r\n\t'crs': CRS.from_epsg(32632),\r\n\t'driver': 'SENTINEL2',\r\n\t'dtype': 'uint16',\r\n\t'height': 10980,\r\n\t'nodata': None,\r\n\t'tiled': True,\r\n\t'transform': Affine(\r\n    \t10.0, 0.0, 300000.0,\r\n       0.0, -10.0, 7000020.0\r\n\t),\r\n\t'width': 10980\r\n}\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>Output dataset from gdal.translate then yields this .profile:</summary>\r\n\r\n```\r\n{   \r\n\t'count': 4,\r\n\t'crs': CRS.from_epsg(32632),\r\n\t'driver': 'GTiff',\r\n\t'dtype': 'float32',\r\n\t'height': 90,\r\n\t'interleave': 'pixel',\r\n\t'nodata': None,\r\n\t'tiled': False,\r\n\t'transform': Affine(\r\n\t\t10.0, 0.0, 300000.0,\r\n\t\t0.0, -10.0, 7000020.0\r\n\t),\r\n\t'width': 90\r\n}\r\n```\r\n</details>\r\n\r\nI could just use gdal in this case, but from the rasterio docs I'm warned against it:\r\n\r\n[Rasterio docs - Mutual Incompatibilities](https://rasterio.readthedocs.io/en/stable/topics/switch.html#mutual-incompatibilities)\r\n> GDAL\u2019s bindings (gdal for the rest of this document) and Rasterio are not entirely compatible and should not, without a great deal of care, be imported and used in a single Python program. \r\n\r\n### Trying to do this in rasterio\r\n\r\nAnyway, I would like to use only rasterio to the extent it is possible. But the only way (I have found) to scale the data (e.g. from uint16 to float32) is to use numpy. I started writing something like this:\r\n\r\n```\r\nfrom rasterio import windows\r\nimport rasterio\r\n\r\nwindow = windows.Window(\r\n    col_off=0,\r\n    row_off=0,\r\n    width=180,\r\n    height=180,\r\n)\r\n\r\nwith rasterio.open('four_band_raster') as src_dataset:\r\n    dst_transform = src_dataset(window)\r\n    \r\n    # As the window is small (180px) I use .meta insted of .profile in order to\r\n    # not worry about tiling and block sizes (?)\r\n    kwds = src_dataset.meta.copy()\r\n    kwds.update({\r\n        'driver': 'GTiff',\r\n        'width': 180,\r\n        'height': 180,\r\n        'transform': dst_transform,\r\n        'dtype': 'float32'\r\n    })\r\n    \r\n    image_array = src_dataset.read(window=window)\r\n    with rasterio.open('four_band_outfile.tif', 'w', **kwds) as dst_dataset:\r\n        # Here I could use numpy to scale the pixel values\r\n        # from uint16 to float32, but it seems like this \r\n        # should be possible through rasterio somehow\r\n        \r\n        # Is this the way to write all bands?\r\n        dst_dataset.write(image_array, indexes=src_dataset.indexes)\r\n```\r\n\r\n### Proposed functionality\r\nI'm looking for something similar to [warp.reproject](https://rasterio.readthedocs.io/en/stable/api/rasterio.warp.html#rasterio.warp.reproject):\r\n\r\n```\r\nfrom rasterio.warp import convert # proposed method\r\n\r\nwith rasterio.open('four_band_raster') as src_dataset:\r\n\tkwds = ... # Like above using src_dataset.meta, (or .profile)\r\n\twindow = windows.Window(...) # like above\r\n\t\r\n\twith rasterio.open('four_band_outfile.tif', 'w', **kwds) as dst_dataset:\r\n\t    dst_dataset.write(image_array, indexes=src_dataset.indexes)\r\n\t    convert(\r\n\t        source=src_dataset,\r\n\t        destination=dst_dataset,\r\n\t        indexes=src_dataset.indexes, #I.e. all bands, could be default?\r\n\t        src_scale=[0, 65535], # These could also be infered from the dtypes?\r\n\t        dst_scale=[0.0, 255.0],\r\n\t        src_window=window\r\n\t    )\r\n```\r\nIt could be that rasterio already supports this somehow, and I know you have implemented much of the translate functionality.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1825", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1825/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1825/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1825/events", "html_url": "https://github.com/mapbox/rasterio/issues/1825", "id": 519611983, "node_id": "MDU6SXNzdWU1MTk2MTE5ODM=", "number": 1825, "title": "optimizing `transform_geom` for repeated transformations", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167170, "node_id": "MDU6TGFiZWw2NDE2NzE3MA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/enhancement", "name": "enhancement", "color": "00449e", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/95", "html_url": "https://github.com/mapbox/rasterio/milestone/95", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/95/labels", "id": 5083321, "node_id": "MDk6TWlsZXN0b25lNTA4MzMyMQ==", "number": 95, "title": "1.2.0", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 6, "state": "open", "created_at": "2020-02-07T22:56:39Z", "updated_at": "2020-07-08T17:56:39Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2019-11-08T01:51:10Z", "updated_at": "2020-02-11T22:52:16Z", "closed_at": "2020-02-11T22:52:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related to: https://github.com/Toblerity/Fiona/issues/799\r\n\r\nIs there interest in adding this to rasterio as well?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1824", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1824/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1824/events", "html_url": "https://github.com/mapbox/rasterio/issues/1824", "id": 519076137, "node_id": "MDU6SXNzdWU1MTkwNzYxMzc=", "number": 1824, "title": "Maximum and mean value is incorrect of Landsat-8 TIF", "user": {"login": "palaiya", "id": 10070831, "node_id": "MDQ6VXNlcjEwMDcwODMx", "avatar_url": "https://avatars3.githubusercontent.com/u/10070831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/palaiya", "html_url": "https://github.com/palaiya", "followers_url": "https://api.github.com/users/palaiya/followers", "following_url": "https://api.github.com/users/palaiya/following{/other_user}", "gists_url": "https://api.github.com/users/palaiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/palaiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/palaiya/subscriptions", "organizations_url": "https://api.github.com/users/palaiya/orgs", "repos_url": "https://api.github.com/users/palaiya/repos", "events_url": "https://api.github.com/users/palaiya/events{/privacy}", "received_events_url": "https://api.github.com/users/palaiya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-11-07T06:49:31Z", "updated_at": "2019-11-11T06:14:41Z", "closed_at": "2019-11-10T19:06:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nI read a band of Lansat-8 TIF Image using rasterio using the following code and calculate max and mean of the numpy array. At the same time i open the same band in QGIS 3.6 and check the mean and max of the same. And the value of max of numpy using rasterio always comes out to be 65535 where as in QGIS it shows 32704. I checked for the other bands also and similar issue occurs max value usin rasterio always comes out to be 65535. \r\n\r\n## Steps to reproduce the problem.\r\n\r\na brief script with required inputs\r\n\r\n```\r\npath = \"LC08_L1TP_115036_20181025_20181031_01_T1_B7.TIF\"\r\ntest = rasterio.open(path).read()\r\nprint(\"value of max and mean\", test.max(), test.mean()) \r\n```\r\n\r\n## Operating system\r\n\r\nmacOS Mojave 10.14.5 \r\n\r\n## Rasterio version and provenance\r\nChecked the issue with rasterio install through conda as well as pip \r\nrasterio version in conda environment\r\nrasterio                  1.0.25           py36h238e834_0    conda-forge\r\nrasterio version in python environment\r\nrasterio==1.0.28\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1822", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1822/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1822/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1822/events", "html_url": "https://github.com/mapbox/rasterio/issues/1822", "id": 519002901, "node_id": "MDU6SXNzdWU1MTkwMDI5MDE=", "number": 1822, "title": "sample.py dataset.nodata error", "user": {"login": "Gundisalv", "id": 13241051, "node_id": "MDQ6VXNlcjEzMjQxMDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/13241051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gundisalv", "html_url": "https://github.com/Gundisalv", "followers_url": "https://api.github.com/users/Gundisalv/followers", "following_url": "https://api.github.com/users/Gundisalv/following{/other_user}", "gists_url": "https://api.github.com/users/Gundisalv/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gundisalv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gundisalv/subscriptions", "organizations_url": "https://api.github.com/users/Gundisalv/orgs", "repos_url": "https://api.github.com/users/Gundisalv/repos", "events_url": "https://api.github.com/users/Gundisalv/events{/privacy}", "received_events_url": "https://api.github.com/users/Gundisalv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/91", "html_url": "https://github.com/mapbox/rasterio/milestone/91", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/91/labels", "id": 4814211, "node_id": "MDk6TWlsZXN0b25lNDgxNDIxMQ==", "number": 91, "title": "1.1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-11-04T22:15:27Z", "updated_at": "2019-11-14T18:23:56Z", "due_on": null, "closed_at": "2019-11-14T18:23:56Z"}, "comments": 2, "created_at": "2019-11-07T02:33:34Z", "updated_at": "2019-11-13T12:05:58Z", "closed_at": "2019-11-13T06:25:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! good night to all.\r\nI just came across this issue.\r\nin file rasterio/sample.py  line 19  the code performs a multiplication with the nodata value of the raster, if the nodata value is _None_ that multiplication ends in an exception \"TypeError: unsupported operand type(s) for *: 'float' and 'NoneType\"  so it would be nice if you can change line from \r\n\r\n`yield numpy.ones((dataset.count,), dtype=dataset.dtypes[0]) * dataset.nodata`\r\n\r\nto\r\n\r\n```\r\nnodata = dataset.nodata or numpy.nan\r\nyield numpy.ones((dataset.count,), dtype=dataset.dtypes[0]) * nodata\r\n\r\n```\r\n\r\nThis is my first actual contribution as developer to a project so I am quite lost (even that I use git/gitlab), hope you like my suggestion.\r\n\r\nThank you very much for all!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1821", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1821/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1821/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1821/events", "html_url": "https://github.com/mapbox/rasterio/issues/1821", "id": 518639737, "node_id": "MDU6SXNzdWU1MTg2Mzk3Mzc=", "number": 1821, "title": "Inverse Transform", "user": {"login": "ghasemabdi", "id": 52261703, "node_id": "MDQ6VXNlcjUyMjYxNzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/52261703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghasemabdi", "html_url": "https://github.com/ghasemabdi", "followers_url": "https://api.github.com/users/ghasemabdi/followers", "following_url": "https://api.github.com/users/ghasemabdi/following{/other_user}", "gists_url": "https://api.github.com/users/ghasemabdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghasemabdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghasemabdi/subscriptions", "organizations_url": "https://api.github.com/users/ghasemabdi/orgs", "repos_url": "https://api.github.com/users/ghasemabdi/repos", "events_url": "https://api.github.com/users/ghasemabdi/events{/privacy}", "received_events_url": "https://api.github.com/users/ghasemabdi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-06T18:05:00Z", "updated_at": "2019-11-06T22:33:52Z", "closed_at": "2019-11-06T22:33:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Guys,\r\nI would like to use the following command (that is in GDAL) in rasterio. Is there anyone to help me?\r\n\r\ngdaltransform -i -rpc 06OCT20025052-P2AS-005553965230_01_P001.TIF\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1815", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1815/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1815/events", "html_url": "https://github.com/mapbox/rasterio/issues/1815", "id": 514699024, "node_id": "MDU6SXNzdWU1MTQ2OTkwMjQ=", "number": 1815, "title": "\u00abis_valid_geom\u00bb fails to return index of empty feature", "user": {"login": "remtav", "id": 34774759, "node_id": "MDQ6VXNlcjM0Nzc0NzU5", "avatar_url": "https://avatars0.githubusercontent.com/u/34774759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/remtav", "html_url": "https://github.com/remtav", "followers_url": "https://api.github.com/users/remtav/followers", "following_url": "https://api.github.com/users/remtav/following{/other_user}", "gists_url": "https://api.github.com/users/remtav/gists{/gist_id}", "starred_url": "https://api.github.com/users/remtav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/remtav/subscriptions", "organizations_url": "https://api.github.com/users/remtav/orgs", "repos_url": "https://api.github.com/users/remtav/repos", "events_url": "https://api.github.com/users/remtav/events{/privacy}", "received_events_url": "https://api.github.com/users/remtav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 0, "created_at": "2019-10-30T14:08:18Z", "updated_at": "2020-02-25T18:47:22Z", "closed_at": "2020-02-25T18:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nhttps://github.com/mapbox/rasterio/blob/master/rasterio/features.py#L485\r\n\r\nI expected the function \u00abis_valid_geom\u00bb to send index of invalid feature, but got \r\n\u00abTypeError: argument of type 'NoneType' is not iterable\u00bb\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI used `rasterio.features.rasterize` to rasterize polygon features. An empty polygon (0 vertex) broke the execution, but the function `is_valid_geom` was unable to send back index of problematic vector. \r\n\r\nThis is part of the, very generic, code I used.\r\n\r\n```\r\nwith rasterio.open(input_image, 'r') as src:\r\n    burned_raster = rasterio.features.rasterize((vector_tuple for vector_tuple in lst_vector_tuple),\r\n                                                fill=0,\r\n                                                out_shape=src.shape,\r\n                                                transform=src.transform,\r\n                                                dtype=np.uint8)\r\n```\r\nHere's a very simple modification I suggest (see try/except statement):\r\n```\r\ndef is_valid_geom(geom):\r\n    \"\"\"\r\n    Checks to see if geometry is a valid GeoJSON geometry type or\r\n    GeometryCollection.\r\n\r\n    Geometries must be non-empty, and have at least x, y coordinates.\r\n\r\n    Note: only the first coordinate is checked for validity.\r\n\r\n    Parameters\r\n    ----------\r\n    geom: an object that implements the geo interface or GeoJSON-like object\r\n\r\n    Returns\r\n    -------\r\n    bool: True if object is a valid GeoJSON geometry type\r\n    \"\"\"\r\n\r\n    geom_types = {'Point', 'MultiPoint', 'LineString', 'LinearRing',\r\n                  'MultiLineString', 'Polygon', 'MultiPolygon'}\r\n\r\n    try:\r\n        if 'type' not in geom:\r\n            return False\r\n    except:\r\n        return False [...]\r\n```\r\n\r\nOriginal code:\r\n```\r\n     if 'type' not in geom:\r\n        return False\r\n``` \r\n[...]\r\n\r\n## Operating system\r\n\r\nWindows 10 v1709\r\n\r\n## Rasterio version and provenance\r\n\r\nv1.0.25 installed from conda-forge\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1810", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1810/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1810/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1810/events", "html_url": "https://github.com/mapbox/rasterio/issues/1810", "id": 511902807, "node_id": "MDU6SXNzdWU1MTE5MDI4MDc=", "number": 1810, "title": "Deprecation warning for CRS.from_proj4() but not crs.to_proj4()", "user": {"login": "Huite", "id": 13662783, "node_id": "MDQ6VXNlcjEzNjYyNzgz", "avatar_url": "https://avatars1.githubusercontent.com/u/13662783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Huite", "html_url": "https://github.com/Huite", "followers_url": "https://api.github.com/users/Huite/followers", "following_url": "https://api.github.com/users/Huite/following{/other_user}", "gists_url": "https://api.github.com/users/Huite/gists{/gist_id}", "starred_url": "https://api.github.com/users/Huite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Huite/subscriptions", "organizations_url": "https://api.github.com/users/Huite/orgs", "repos_url": "https://api.github.com/users/Huite/repos", "events_url": "https://api.github.com/users/Huite/events{/privacy}", "received_events_url": "https://api.github.com/users/Huite/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-10-24T12:11:08Z", "updated_at": "2020-02-14T16:51:32Z", "closed_at": "2020-02-14T16:51:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nBoth `from_string()` and `from_proj4` method return a deprecation warning when a `+init=epsg:XXXX` string is provided. However, the `to_proj4()` method does not give a deprecation warning. I'm guessing it should be symmetric: it doesn't make sense that one is allowed to create these representation, but not use them?\r\n\r\n## Steps to reproduce the problem.\r\n\r\nRaises a warning:\r\n```python\r\nrasterio.crs.CRS.from_proj4(\"+init=epsg:28992\")\r\n```\r\n\r\n```\r\nWarning 1: +init=epsg:XXXX syntax is deprecated. It might return a CRS with a non-EPSG compliant axis order.\r\n```\r\n\r\nRaises no warning:\r\n```python\r\nexample_crs = rasterio.crs.CRS(init=\"epsg:28992\")\r\nexample_crs.to_proj4()\r\n```\r\n\r\n```\r\n'+init=epsg:28992'\r\n```\r\n\r\n## Operating system\r\n\r\nOS: Windows 10 64-bit Enterprise, Version 1803\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio version 1.10.0 installed using `conda install -c conda-forge rasterio=1.10.0`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1809", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1809/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1809/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1809/events", "html_url": "https://github.com/mapbox/rasterio/issues/1809", "id": 511804546, "node_id": "MDU6SXNzdWU1MTE4MDQ1NDY=", "number": 1809, "title": "Differences in rasterio.crs.CRS.from_string() in version 1.0.28 and 1.10.0", "user": {"login": "Huite", "id": 13662783, "node_id": "MDQ6VXNlcjEzNjYyNzgz", "avatar_url": "https://avatars1.githubusercontent.com/u/13662783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Huite", "html_url": "https://github.com/Huite", "followers_url": "https://api.github.com/users/Huite/followers", "following_url": "https://api.github.com/users/Huite/following{/other_user}", "gists_url": "https://api.github.com/users/Huite/gists{/gist_id}", "starred_url": "https://api.github.com/users/Huite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Huite/subscriptions", "organizations_url": "https://api.github.com/users/Huite/orgs", "repos_url": "https://api.github.com/users/Huite/repos", "events_url": "https://api.github.com/users/Huite/events{/privacy}", "received_events_url": "https://api.github.com/users/Huite/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-24T08:57:17Z", "updated_at": "2019-10-24T18:50:23Z", "closed_at": "2019-10-24T18:50:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI've wrapped `rasterio.wrap.reproject` to work on two-dimensional xarray DataArrays, and I've written some unit tests. My CI started breaking yesterday, and I can trace it back to the upgrade from rasterio 1.0.28 to 1.1.0.\r\n\r\nAt first I thought the break was caused by a change in `rasterio.warp.reproject`, but it looks like it's the changes in constructing the `CRS` instead. It looks like these changes are changes for the better (fortunately), but I don't think they show up in the changelog. So this issue is primarily for my own understanding, but possibly highlights an unaware change.\r\n\r\nI've installed two conda environments, one with 1.0.28 and one with 1.10.0, which result in the examples below.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nThe first change is this in the `from_string` method:\r\n```python\r\nimport rasterio\r\nrasterio.crs.CRS.from_string(\"+init=epsg:28992\")\r\n```\r\n\r\nOn 1.0.28 this returns:\r\n```python\r\nCRS.from_epsg(28992)\r\n```\r\n\r\nOn 1.10.0 this returns:\r\n```python\r\nCRS.from_wkt('PROJCS[\"Amersfoort / RD New\",GEOGCS[\"Amersfoort\",DATUM[\"Amersfoort\",SPHEROID[\"Bessel 1841\",6377397.155,299.1528128,AUTHORITY[\"EPSG\",\"7004\"]],AUTHORITY[\"EPSG\",\"6289\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4289\"]],PROJECTION[\"Oblique_Stereographic\"],PARAMETER[\"latitude_of_origin\",52.1561605555556],PARAMETER[\"central_meridian\",5.38763888888889],PARAMETER[\"scale_factor\",0.9999079],PARAMETER[\"false_easting\",155000],PARAMETER[\"false_northing\",463000],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH]]')\r\n```\r\nThere's also the deprecation warning:\r\n```python\r\nWarning 1: +init=epsg:XXXX syntax is deprecated. It might return a CRS with a non-EPSG compliant axis order.\r\n```\r\nAnyway, so far so good.\r\n\r\nHowever, when using the `crs` object to reproject, the results are different.\r\n```python\r\nimport affine\r\nimport numpy as np\r\nimport rasterio\r\nimport rasterio.warp\r\n\r\n\r\nnrow = 5\r\nncol = 8\r\nsource = np.arange(nrow * ncol).reshape(nrow, ncol)\r\nsrc_crs = rasterio.crs.CRS.from_string(\"+init=epsg:28992\")\r\nsrc_transform = affine.Affine(1.0, 0.0, 20.0, 0.0, -1.0, 30.0)\r\n\r\ndst_crs = {\"init\": \"EPSG:32631\"}\r\nsrc_height = nrow\r\nsrc_width = ncol\r\nbounds = rasterio.transform.array_bounds(src_height, src_width, src_transform)\r\ndst_transform, dst_width, dst_height = rasterio.warp.calculate_default_transform(\r\n    src_crs, dst_crs, src_width, src_height, *bounds\r\n)\r\ndestination = np.empty((nrow * 2, ncol * 2))\r\n\r\nrasterio.warp.reproject(\r\n    source=source,\r\n    destination=destination,\r\n    src_transform=src_transform,\r\n    dst_transform=dst_transform,\r\n    src_crs=src_crs,\r\n    dst_crs=dst_crs,\r\n    resampling=rasterio.enums.Resampling.nearest,\r\n)\r\n\r\nprint(destination)\r\n```\r\n\r\nIn 1.0.28:\r\n```\r\n[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]]\r\n```\r\n\r\nIn 1.10.0:\r\n```\r\nWarning 1: +init=epsg:XXXX syntax is deprecated. It might return a CRS with a non-EPSG compliant axis order.\r\n[[ 0.  1.  2.  3.  4.  5.  6.  7.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [ 8.  9. 10. 11. 12. 13. 14. 15.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [16. 17. 18. 19. 20. 21. 22. 23.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [24. 25. 26. 27. 28. 29. 30. 31.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [32. 33. 34. 35. 36. 37. 38. 39.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]\r\n [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]]\r\n```\r\n\r\nBasically, it appears to be failing to reproject in 1.0.28 when creating the crs from the string, and it works in 1.10.0. \r\n\r\nIn 1.0.28, the REPL representation is `crs.from_epsg(28992)`. So, what if I force both to `from_espg`?\r\nIn the scrip above, redefining src_crs:\r\n```python\r\n#src_crs = rasterio.crs.CRS.from_string(\"+init=epsg:28992\")\r\nsrc_crs = rasterio.crs.CRS(init=\"epsg:28992\")\r\n```\r\n\r\nREPL says `CRS.from_epsg(28992)` both times, and I get identical results, with non-zero values both times.\r\n\r\nHowever, in both 1.0.28 and 1.10.0, this evaluates as `True`:\r\n```python\r\nrasterio.crs.CRS(init=\"epsg:28992\") ==  rasterio.crs.CRS.from_string(\"+init=epsg:28992\")\r\n```\r\n\r\nSo I'm really not sure what's going on. It looks like a bug has been fixed (since the array wasn't projected properly in 1.0.28 -- one on which my CI was (incorrectly!) relying.)\r\n\r\n## Operating system\r\n\r\nOS: Windows 10 64-bit Enterprise, Version 1803\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio versions 1.0.28 and 1.10.0 installed using `conda install -c conda-forge`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1808", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1808/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1808/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1808/events", "html_url": "https://github.com/mapbox/rasterio/issues/1808", "id": 511588931, "node_id": "MDU6SXNzdWU1MTE1ODg5MzE=", "number": 1808, "title": "WarpedVRT fails when source file has bad projection ", "user": {"login": "jterstriep", "id": 2575084, "node_id": "MDQ6VXNlcjI1NzUwODQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2575084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jterstriep", "html_url": "https://github.com/jterstriep", "followers_url": "https://api.github.com/users/jterstriep/followers", "following_url": "https://api.github.com/users/jterstriep/following{/other_user}", "gists_url": "https://api.github.com/users/jterstriep/gists{/gist_id}", "starred_url": "https://api.github.com/users/jterstriep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jterstriep/subscriptions", "organizations_url": "https://api.github.com/users/jterstriep/orgs", "repos_url": "https://api.github.com/users/jterstriep/repos", "events_url": "https://api.github.com/users/jterstriep/events{/privacy}", "received_events_url": "https://api.github.com/users/jterstriep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/92", "html_url": "https://github.com/mapbox/rasterio/milestone/92", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/92/labels", "id": 4867338, "node_id": "MDk6TWlsZXN0b25lNDg2NzMzOA==", "number": 92, "title": "1.1.2", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2019-11-21T16:40:20Z", "updated_at": "2019-12-19T14:41:15Z", "due_on": null, "closed_at": "2019-12-19T14:41:15Z"}, "comments": 4, "created_at": "2019-10-23T21:46:16Z", "updated_at": "2019-11-22T05:32:26Z", "closed_at": "2019-11-21T16:46:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a WarpedVRT from a raster source that has problematic projection information, I get an error shown below.\r\n\r\n```\r\n>>> src = rasterio.open('bad.tif')\r\n>>> vrt = WarpedVRT(src, src_crs='EPSG:xxxx', crs='EPSG:xxxx')\r\nrasterio._err.CPLE_AppDefinedError: No PROJ.4 translation for source SRS, coordinate transformation initialization has failed.\r\n```\r\nI expected this to work because I'm providing the correct crs using the src_crs parameter to WarpedVRT which seems like it should take precedence over what's in the file. If I use gdal_edit to assign the crs in the original TIF file then everything works as expected.\r\n\r\nI can provide the problematic TIF (I have hundreds of thousands!) if it would be helpful.\r\n\r\n## Rasterio version and provenance\r\nRasterio version 1.0.21 installed from conda-forge. Likely dependencies and versions include:\r\n* libgdal = 2.3.3\r\n* proj4 = 5.2.0\r\n* pyproj = 1.9.6\r\n\r\nRunning on Ubuntu 18.04.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1807", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1807/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1807/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1807/events", "html_url": "https://github.com/mapbox/rasterio/issues/1807", "id": 510838054, "node_id": "MDU6SXNzdWU1MTA4MzgwNTQ=", "number": 1807, "title": "Conflicting rio bounds optional command line arguments for GeoJSON output", "user": {"login": "underchemist", "id": 5283998, "node_id": "MDQ6VXNlcjUyODM5OTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5283998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underchemist", "html_url": "https://github.com/underchemist", "followers_url": "https://api.github.com/users/underchemist/followers", "following_url": "https://api.github.com/users/underchemist/following{/other_user}", "gists_url": "https://api.github.com/users/underchemist/gists{/gist_id}", "starred_url": "https://api.github.com/users/underchemist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underchemist/subscriptions", "organizations_url": "https://api.github.com/users/underchemist/orgs", "repos_url": "https://api.github.com/users/underchemist/repos", "events_url": "https://api.github.com/users/underchemist/events{/privacy}", "received_events_url": "https://api.github.com/users/underchemist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/90", "html_url": "https://github.com/mapbox/rasterio/milestone/90", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/90/labels", "id": 4646414, "node_id": "MDk6TWlsZXN0b25lNDY0NjQxNA==", "number": 90, "title": "post-1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 19, "closed_issues": 6, "state": "open", "created_at": "2019-09-09T22:51:33Z", "updated_at": "2020-07-28T19:42:56Z", "due_on": null, "closed_at": null}, "comments": 3, "created_at": "2019-10-22T18:42:57Z", "updated_at": "2019-12-10T16:40:16Z", "closed_at": "2019-12-10T16:40:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nInitially discussed: https://rasterio.groups.io/g/main/topic/35000585#344\r\n\r\nWhen using the command `rio bounds` there is conflicting behaviour of optional command line arguments `--sequence/--collection` and `--collection`. \r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\n$ rio bounds --collection /path/to/a.tif /path/to/b.tif\r\n{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"features\": [{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"geometry\": {\"coordinates\": [[[-117.43992919012538, 32.44224727533216], [-115.91213159002874, 32.44224727533216], [-115.91213159002874, 33.755623708770855], [-117.43992919012538, 33.755623708770855], [-117.43992919012538, 32.44224727533216]]], \"type\": \"Polygon\"}, \"properties\": {\"filename\": \"imagery_HH.tif\", \"id\": \"0\", \"title\": \"imagery_HH.tif\"}, \"type\": \"Feature\"}], \"type\": \"FeatureCollection\"}\r\n{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"features\": [{\"bbox\": [-117.43992919012538, 32.44224727533216, -115.91213159002874, 33.755623708770855], \"geometry\": {\"coordinates\": [[[-117.43992919012538, 32.44224727533216], [-115.91213159002874, 32.44224727533216], [-115.91213159002874, 33.755623708770855], [-117.43992919012538, 33.755623708770855], [-117.43992919012538, 32.44224727533216]]], \"type\": \"Polygon\"}, \"properties\": {\"filename\": \"imagery_HH.tif\", \"id\": \"1\", \"title\": \"imagery_HH.tif\"}, \"type\": \"Feature\"}], \"type\": \"FeatureCollection\"}\r\n```\r\n\r\n## Operating system\r\n\r\nTested on Windows 10 1709 and CentOS Linux release 7.7.1908\r\n\r\n## Rasterio version and provenance\r\nrasterio==1.1.0\r\ntested with both gdal==3.0.1 and gdal==2.2.4\r\nrasterio and gdal both installed from conda\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1805", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1805/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1805/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1805/events", "html_url": "https://github.com/mapbox/rasterio/issues/1805", "id": 505886698, "node_id": "MDU6SXNzdWU1MDU4ODY2OTg=", "number": 1805, "title": "Seg fault with python 2.7 rasterio 1.1.0 wheel", "user": {"login": "glostis", "id": 25295717, "node_id": "MDQ6VXNlcjI1Mjk1NzE3", "avatar_url": "https://avatars0.githubusercontent.com/u/25295717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glostis", "html_url": "https://github.com/glostis", "followers_url": "https://api.github.com/users/glostis/followers", "following_url": "https://api.github.com/users/glostis/following{/other_user}", "gists_url": "https://api.github.com/users/glostis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glostis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glostis/subscriptions", "organizations_url": "https://api.github.com/users/glostis/orgs", "repos_url": "https://api.github.com/users/glostis/repos", "events_url": "https://api.github.com/users/glostis/events{/privacy}", "received_events_url": "https://api.github.com/users/glostis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2019-10-11T14:28:52Z", "updated_at": "2020-01-08T18:59:32Z", "closed_at": "2020-01-08T18:59:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have encountered failing Travis builds on one of my projects following the latest `rasterio` release (`1.1.0`).\r\nMy Travis build tests both python 3.7 and 2.7, and only the build on 2.7 started failing.\r\nIt was an end-to-end test, but I have managed to narrow it down to a very minimal example, shown below.\r\n\r\n**TL;DR**: importing `rasterio` in a script that executes `pyproj` crashes with a Segmentation fault with the `rasterio-1.1.0-cp27-cp27mu-manylinux1_x86_64.whl` wheel.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI have included a `.zip` with the `Dockerfile` and the two python scripts needed to reproduce the problem.\r\n\r\n[rio_bug.zip](https://github.com/mapbox/rasterio/files/3718018/rio_bug.zip)\r\n\r\nFor easier readability, here is the `Dockerfile` and the two python scripts:\r\n\r\n<details><summary>expand Dockerfile</summary><p>\r\n\r\n```Dockerfile\r\nFROM ubuntu:latest\r\n\r\nRUN apt-get update && apt-get install -y python-pip python3-pip\r\n\r\nWORKDIR home\r\n\r\nRUN for py_ver in 2 3; do \\\r\n        pip${py_ver} install virtualenv; \\\r\n        \\\r\n        for rio_ver in 1.0.28 1.1.0; do \\\r\n            venv_name=py_${py_ver}_rio_${rio_ver}; \\\r\n            \\\r\n            # Create virtual environment\r\n            virtualenv -p python${py_ver} ${venv_name}; \\\r\n            \\\r\n            # Install packages\r\n            ${venv_name}/bin/pip install \"rasterio[s3]==${rio_ver}\" pyproj; \\\r\n            \\\r\n            # Add lines to test script\r\n            for with_out in with_rasterio without_rasterio; do \\\r\n                echo \"echo ${venv_name} ${with_out}\" >> test.sh; \\\r\n                echo ${venv_name}/bin/python ${with_out}.py >> test.sh; \\\r\n            done; \\\r\n        done; \\\r\n    done\r\n\r\nWORKDIR /\r\n\r\nCOPY with_rasterio.py without_rasterio.py home/\r\n\r\nWORKDIR home\r\n\r\nCMD [\"bash\", \"test.sh\"]\r\n```\r\n\r\n</p></details>\r\n\r\n<details><summary>expand with_rasterio.py</summary><p>\r\n\r\n```python\r\nimport pyproj\r\nimport rasterio\r\n\r\n\r\npyproj.Proj(init=\"epsg:4326\")\r\nprint(\"ok\")\r\n```\r\n\r\n</p></details>\r\n\r\n<details><summary>expand without_rasterio.py</summary><p>\r\n\r\n```python\r\nimport pyproj\r\n\r\n\r\npyproj.Proj(init=\"epsg:4326\")\r\nprint(\"ok\")\r\n```\r\n\r\n</p></details>\r\n\r\nThe `Dockerfile` basically runs the two python scripts with a matrix of python versions (`2`/`3`) and `rasterio` versions (`1.0.28`/`1.1.0`).\r\n\r\nBuilding and running this `Dockerfile` gives the following output:\r\n\r\n```\r\npy_2_rio_1.0.28 with_rasterio\r\nok\r\npy_2_rio_1.0.28 without_rasterio\r\nok\r\npy_2_rio_1.1.0 with_rasterio\r\ntest.sh: line 6:    13 Segmentation fault      py_2_rio_1.1.0/bin/python with_rasterio.py\r\npy_2_rio_1.1.0 without_rasterio\r\nok\r\npy_3_rio_1.0.28 with_rasterio\r\nok\r\npy_3_rio_1.0.28 without_rasterio\r\nok\r\npy_3_rio_1.1.0 with_rasterio\r\nok\r\npy_3_rio_1.1.0 without_rasterio\r\nok\r\n```\r\n\r\nAs you can see, there is one failing case among the 8 configurations: `python2.7` with `rasterio 1.1.0`.\r\n\r\nI didn't see anything obvious in the changelog from `1.0.28` to `1.1.0` that could explain this error, especially due to the fact that it only occurs in `python2.7`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1803", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1803/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1803/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1803/events", "html_url": "https://github.com/mapbox/rasterio/issues/1803", "id": 505654670, "node_id": "MDU6SXNzdWU1MDU2NTQ2NzA=", "number": 1803, "title": "IOERROR opening ERDAS Imagine File on Azure cloud storage", "user": {"login": "rbavery", "id": 22258697, "node_id": "MDQ6VXNlcjIyMjU4Njk3", "avatar_url": "https://avatars3.githubusercontent.com/u/22258697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbavery", "html_url": "https://github.com/rbavery", "followers_url": "https://api.github.com/users/rbavery/followers", "following_url": "https://api.github.com/users/rbavery/following{/other_user}", "gists_url": "https://api.github.com/users/rbavery/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbavery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbavery/subscriptions", "organizations_url": "https://api.github.com/users/rbavery/orgs", "repos_url": "https://api.github.com/users/rbavery/repos", "events_url": "https://api.github.com/users/rbavery/events{/privacy}", "received_events_url": "https://api.github.com/users/rbavery/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 346458805, "node_id": "MDU6TGFiZWwzNDY0NTg4MDU=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/GDAL", "name": "GDAL", "color": "c7def8", "default": false, "description": null}, {"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-11T06:00:03Z", "updated_at": "2020-01-08T18:58:18Z", "closed_at": "2020-01-08T18:56:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Steps to reproduce the problem.\r\nI'm trying to open an ERDAS Image file, which is the only format for the National Land Cover dataset I've found. I have the other data files with .ige, .rr, and other extensions in the same directory as the .img file I'm trying to open. \r\n\r\nThe files are on a file share that is mounted on my linux VM. I can succesfully read in geotiffs with rasterio that are hosted on a file share.\r\n\r\n```\r\nwith rio.open(\"test_metric/NLCD/NLCD_2001_Land_Cover_L48_20190424.img\") as src:\r\n    arr = src.read()\r\n```\r\n\r\nThe error happens when rasterio tries to open the .ige file with the .img file\r\n```\r\n---------------------------------------------------------------------------\r\nCPLE_AppDefinedError                      Traceback (most recent call last)\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nrasterio/shim_rasterioex.pxi in rasterio._shim.io_multi_band()\r\n\r\nrasterio/_err.pyx in rasterio._err.exc_wrap_int()\r\n\r\nCPLE_AppDefinedError: test_metric/NLCD/NLCD_2001_Land_Cover_L48_20190424.img, band 1: IReadBlock failed at X offset 0, Y offset 0: Unable to open external data file: test_metric/NLCD/nlcd_2001_land_cover_l48_20190424.ige\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nRasterioIOError                           Traceback (most recent call last)\r\n<ipython-input-41-3b69afc9fa1d> in <module>\r\n      1 with rio.open(\"test_metric/NLCD/NLCD_2001_Land_Cover_L48_20190424.img\") as src:\r\n      2     nlcd_meta  =src.meta\r\n----> 3     arr = src.read()\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase.read()\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nRasterioIOError: Read or write failed. test_metric/NLCD/NLCD_2001_Land_Cover_L48_20190424.img, band 1: IReadBlock failed at X offset 0, Y offset 0: Unable to open external data file: test_metric/NLCD/nlcd_2001_land_cover_l48_20190424.ige\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu 16.04\r\n\r\n## Rasterio version and provenance\r\n1.0.24\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1801", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1801/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1801/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1801/events", "html_url": "https://github.com/mapbox/rasterio/issues/1801", "id": 502283225, "node_id": "MDU6SXNzdWU1MDIyODMyMjU=", "number": 1801, "title": "Not boundless (default) read  of dataset may lead to wrong output transform", "user": {"login": "nicocti", "id": 15033773, "node_id": "MDQ6VXNlcjE1MDMzNzcz", "avatar_url": "https://avatars1.githubusercontent.com/u/15033773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicocti", "html_url": "https://github.com/nicocti", "followers_url": "https://api.github.com/users/nicocti/followers", "following_url": "https://api.github.com/users/nicocti/following{/other_user}", "gists_url": "https://api.github.com/users/nicocti/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicocti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicocti/subscriptions", "organizations_url": "https://api.github.com/users/nicocti/orgs", "repos_url": "https://api.github.com/users/nicocti/repos", "events_url": "https://api.github.com/users/nicocti/events{/privacy}", "received_events_url": "https://api.github.com/users/nicocti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-03T20:33:40Z", "updated_at": "2019-10-04T13:37:10Z", "closed_at": "2019-10-04T13:37:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following  #1739  I'm cropping images using a not boundless read on a given window:\r\n\r\n```python\r\nout_transform = dataset.window_transform(window)\r\ncrop = dataset.read(window=window, boundless=False, masked=True)\r\nprofile.update({\"driver\": driver, \"height\": crop.shape[1], \"width\": crop.shape[2], \"transform\": out_transform})\r\n```\r\n\r\nHowever, my transform gets wrong if the shape I'm cropping is only partially out of the bounding box of the original image. Is there a way to fix the transform or do I need to use using boundless=True ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1799", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1799/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1799/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1799/events", "html_url": "https://github.com/mapbox/rasterio/issues/1799", "id": 501740260, "node_id": "MDU6SXNzdWU1MDE3NDAyNjA=", "number": 1799, "title": "`CPLE_OpenFailedError` raised when using WarpVRT inside WarpVRT", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars2.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-02T21:38:07Z", "updated_at": "2019-10-03T21:46:53Z", "closed_at": "2019-10-03T21:46:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nUsing WarpVRT inside a WarpVRT block might not be a `normal` usage but it is really usefull for `speudo` file transformation (e.g for Sentinel-1 we use warpVRT to add the transformation matrix, and then a second WarpVRT block to read a tile). The latest rasterio 1.1b changed the behaviour of the code above \r\n\r\nThis block is working on a CLEAN env (docker) with rasterio==1.0.28\r\n```python\r\nimport rasterio\r\nfrom rasterio.vrt import WarpedVRT\r\nwith rasterio.open(\"my-tif.tif\") as dataset:\r\n    with WarpedVRT(dataset) as vrt:\r\n        with WarpedVRT(vrt) as vrt1:\r\n            print(vrt1.meta)\r\n```\r\n\r\nbut failling  with rasterio==1.1b1\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 3, in <module>\r\n  File \"rasterio/_warp.pyx\", line 813, in rasterio._warp.WarpedVRTReaderBase.__init__\r\n  File \"rasterio/_shim.pyx\", line 66, in rasterio._shim.open_dataset\r\n  File \"rasterio/_err.pyx\", line 205, in rasterio._err.exc_wrap_pointer\r\nrasterio._err.CPLE_OpenFailedError: WarpedVRT(my-tif.tif): No such file or directory\r\n```\r\n\r\nThe `CPLE_OpenFailedError` is quite strange and might be linked to GDAL env. I've also encountered this error with 1.0.28 but on a non-clean env (might have been some `GDAL/CPL` env sets.\r\n\r\n## Operating system\r\n\r\nMac OS X / Linux\r\n\r\n## Rasterio version and provenance\r\n\r\n1.0.28, 1.1 wheels \r\n\r\nref https://github.com/cogeotiff/rio-cogeo/pull/100\r\n\r\n\r\ncc @sgillies ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1797", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1797/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1797/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1797/events", "html_url": "https://github.com/mapbox/rasterio/issues/1797", "id": 501531710, "node_id": "MDU6SXNzdWU1MDE1MzE3MTA=", "number": 1797, "title": "Catch CPLE_NotSupportedError in the BIGTIFF case and provide a better exception", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 1, "created_at": "2019-10-02T14:37:16Z", "updated_at": "2020-02-25T18:47:33Z", "closed_at": "2020-02-25T18:47:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In the case that the BIGTIFF creation option isn't set and a user tries to create a too-large TIFF, we could provide a clearer exception message. For example, one that points to `BIGTIFF=\"IF_SAFER\"`. See #1796.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1796", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1796/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1796/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1796/events", "html_url": "https://github.com/mapbox/rasterio/issues/1796", "id": 501447124, "node_id": "MDU6SXNzdWU1MDE0NDcxMjQ=", "number": 1796, "title": "Can't open bigtiff file for writing", "user": {"login": "awa5114", "id": 24267968, "node_id": "MDQ6VXNlcjI0MjY3OTY4", "avatar_url": "https://avatars0.githubusercontent.com/u/24267968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awa5114", "html_url": "https://github.com/awa5114", "followers_url": "https://api.github.com/users/awa5114/followers", "following_url": "https://api.github.com/users/awa5114/following{/other_user}", "gists_url": "https://api.github.com/users/awa5114/gists{/gist_id}", "starred_url": "https://api.github.com/users/awa5114/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awa5114/subscriptions", "organizations_url": "https://api.github.com/users/awa5114/orgs", "repos_url": "https://api.github.com/users/awa5114/repos", "events_url": "https://api.github.com/users/awa5114/events{/privacy}", "received_events_url": "https://api.github.com/users/awa5114/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-02T12:04:34Z", "updated_at": "2019-10-23T08:38:27Z", "closed_at": "2019-10-02T14:34:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "While writing a tif file using `rasterio.open` I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:/11203770-006/run.py\", line 20, in <module>\r\n    reproject_raster(tif, out_filename, dst_crs)\r\n  File \"D:\\11203770-006\\LSM_common.py\", line 337, in reproject_raster\r\n    with rasterio.open(dst_file, 'w', **kwargs) as dst:\r\n  File \"C:\\Users\\aboufira\\AppData\\Local\\Continuum\\miniconda3\\envs\\11203770_006_ls4ri\\lib\\site-packages\\rasterio\\env.py\", line 423, in wrapper\r\n    return f(*args, **kwds)\r\n  File \"C:\\Users\\aboufira\\AppData\\Local\\Continuum\\miniconda3\\envs\\11203770_006_ls4ri\\lib\\site-packages\\rasterio\\__init__.py\", line 225, in open\r\n    **kwargs)\r\n  File \"rasterio\\_io.pyx\", line 1115, in rasterio._io.DatasetWriterBase.__init__\r\n  File \"rasterio\\_err.pyx\", line 205, in rasterio._err.exc_wrap_pointer\r\nrasterio._err.CPLE_NotSupportedError: A 131171 pixels x 131034 lines x 1 bands Byte image would be larger than 4GB but this is the largest size a TIFF can be, and BigTIFF is unavailable.  Creation failed.\r\n```\r\n\r\nCould anyone please help? I have never had this problem. Usually if a tiff is large I get a `Memory` error and then try to do my thing using `windowing`. However in this instance I'm really not sure what to do. Is there a special driver I need to be using?\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1793", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1793/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1793/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1793/events", "html_url": "https://github.com/mapbox/rasterio/issues/1793", "id": 500581613, "node_id": "MDU6SXNzdWU1MDA1ODE2MTM=", "number": 1793, "title": "1.1.0 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/70", "html_url": "https://github.com/mapbox/rasterio/milestone/70", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/70/labels", "id": 3734597, "node_id": "MDk6TWlsZXN0b25lMzczNDU5Nw==", "number": 70, "title": "1.1", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-10-12T18:13:46Z", "updated_at": "2019-10-07T16:28:10Z", "due_on": "2019-10-07T07:00:00Z", "closed_at": "2019-10-07T16:28:10Z"}, "comments": 7, "created_at": "2019-09-30T23:46:35Z", "updated_at": "2019-10-07T16:31:13Z", "closed_at": "2019-10-07T16:27:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We've got only one open issue left: #1740. Target date: 2019-10-01.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1792", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1792/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1792/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1792/events", "html_url": "https://github.com/mapbox/rasterio/issues/1792", "id": 500420975, "node_id": "MDU6SXNzdWU1MDA0MjA5NzU=", "number": 1792, "title": "Reviewing write collaborations for rasterio repo", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-30T17:41:45Z", "updated_at": "2019-10-07T17:37:10Z", "closed_at": "2019-10-07T17:37:10Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It's time for some Fall cleaning of the Rasterio project collaborations.\r\n\r\n@robintw, @mwtoews, @AsgerPetersen, @geowurster, @brendan-ward, @jameshiebert: if you're not using your existing write access, can I remove it to reduce some of the admin overhead here at Mapbox? Please reply with a :-1: if you want to *keep* write access (you have wiki pages and branches to maintain) and reply with a :+1: if you're okay with being cleaned up. Lack of response by the end of the week also means :+1: \r\n\r\nThanks, folks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1791", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1791/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1791/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1791/events", "html_url": "https://github.com/mapbox/rasterio/issues/1791", "id": 500212568, "node_id": "MDU6SXNzdWU1MDAyMTI1Njg=", "number": 1791, "title": "Rasterio.open() giving ParsedPath or UnparsedPath error", "user": {"login": "SrinivasRIL", "id": 18610287, "node_id": "MDQ6VXNlcjE4NjEwMjg3", "avatar_url": "https://avatars2.githubusercontent.com/u/18610287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SrinivasRIL", "html_url": "https://github.com/SrinivasRIL", "followers_url": "https://api.github.com/users/SrinivasRIL/followers", "following_url": "https://api.github.com/users/SrinivasRIL/following{/other_user}", "gists_url": "https://api.github.com/users/SrinivasRIL/gists{/gist_id}", "starred_url": "https://api.github.com/users/SrinivasRIL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SrinivasRIL/subscriptions", "organizations_url": "https://api.github.com/users/SrinivasRIL/orgs", "repos_url": "https://api.github.com/users/SrinivasRIL/repos", "events_url": "https://api.github.com/users/SrinivasRIL/events{/privacy}", "received_events_url": "https://api.github.com/users/SrinivasRIL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-09-30T11:21:01Z", "updated_at": "2020-03-29T22:26:44Z", "closed_at": "2019-12-17T23:22:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nI am trying to find out elevations using rasterio given a raster data.  I am using arcpy and rasterio modules and published the standalone script as a geoprocessing(rest service). \r\nWhen I run the standalone script everythig runs perfectly, but when I run the geoprocessing service, after its restart, the first run is successful. But in the second run, i am getting this error\r\nat rasterio.open(rasterData)\r\n\r\n> ValueError:  path  mjst be Parsedpath or UnparsedPath.\r\n\r\nI believe the raster file is getting locked, or something else is the issue.\r\nHowever as per documentation inorder to avoid locks I am using ,\r\n\r\n> with rasterio.open(rasterData) as src\r\n\r\n## Steps to reproduce the problem.\r\nThe code block is as follows\r\n`\r\ndef findElevation(start_siteLon, start_siteLat, bearingAngle, distance, rasterData, **kwargs):\r\n        rasterData = r\"D:\\PAN_India.tif\"\r\n        start_siteLon = round(start_siteLon, 6)\r\n        start_siteLat = round(start_siteLat, 6)\r\n        geoLocations = []\r\n\r\n        try:\r\n            bufferDistance = kwargs['bufferDistance']\r\n        except KeyError:\r\n            bufferDistance = 0.03\r\n\r\n        try:\r\n            if kwargs['distanceUnit'] == 'km':\r\n                distance *= 1000\r\n                bufferDistance *= 1000\r\n        except KeyError:\r\n            pass\r\n\r\n        for dist in np.arange(0, (distance + 0.000001), bufferDistance):\r\n            geoLocations.append(list(findPoint(start_siteLon, start_siteLat, bearingAngle, dist)))\r\n\r\n        arcpy.AddMessage(\"GeoLocations: {0}\".format(geoLocations))\r\n        elevations = []\r\n\r\n        ## Here I get the error after rasterio.open(rasterData):- ValueError:path must be a ParsedPath or UnparsedPath object.\r\n        with rasterio.open(rasterData) as src:\r\n\r\n            try:\r\n                elevVals = src.sample(geoLocations)\r\n                for values in elevVals:\r\n                    elevations.append(values[0])\r\n            except IndexError:\r\n                return None\r\n\r\n\r\n        try:\r\n            if kwargs['outputElevationUnit'] == 'km':\r\n                elevations = [i / 1000 for i in elevations]\r\n        except KeyError:\r\n            pass\r\n\r\n        return elevations\r\n\r\n\r\n``\r\n\r\n## Operating system\r\nWindows Server 2012\r\nPython 2.7.5\r\nRasterio 1.0.23\r\nArcPy and ArcMap 10.2.2.\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio 1.0.23 using rasterio-1.0.23-cp27-cp27m-win_amd64 for ArcGIS Server (Server is a 64 bit env)\r\nRasterio 1.0.23 using rasterio-1.0.23-cp27-cp27m-win_amd32 for ArcGIS  (ArcMap is a 32 bit env)\r\n\r\nKindly assist, as I am stuck and not able to move forward.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1790", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1790/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1790/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1790/events", "html_url": "https://github.com/mapbox/rasterio/issues/1790", "id": 500148769, "node_id": "MDU6SXNzdWU1MDAxNDg3Njk=", "number": 1790, "title": "Error message 'opj_decode() failed' when opening jp2 raster", "user": {"login": "JaviBecerra", "id": 31689500, "node_id": "MDQ6VXNlcjMxNjg5NTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/31689500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JaviBecerra", "html_url": "https://github.com/JaviBecerra", "followers_url": "https://api.github.com/users/JaviBecerra/followers", "following_url": "https://api.github.com/users/JaviBecerra/following{/other_user}", "gists_url": "https://api.github.com/users/JaviBecerra/gists{/gist_id}", "starred_url": "https://api.github.com/users/JaviBecerra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JaviBecerra/subscriptions", "organizations_url": "https://api.github.com/users/JaviBecerra/orgs", "repos_url": "https://api.github.com/users/JaviBecerra/repos", "events_url": "https://api.github.com/users/JaviBecerra/events{/privacy}", "received_events_url": "https://api.github.com/users/JaviBecerra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 989674718, "node_id": "MDU6TGFiZWw5ODk2NzQ3MTg=", "url": "https://api.github.com/repos/mapbox/rasterio/labels/upstream", "name": "upstream", "color": "ef5fbf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-09-30T09:10:40Z", "updated_at": "2020-01-08T19:02:47Z", "closed_at": "2020-01-08T18:51:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\n\r\nWhen trying to open the following 4 band raster images (EPSG:25830) `ov185090_201700_c025u89x10c24n.jp2` and `ov171076_201700_c025u89x10c24n.jp2`\r\nusing rasterio version 1.0.28 (on ubuntu linux x64) we get an `opj_decode() failed` error message.\r\nThe same server contains many more jp2 files (see for instance file ov166074_201700_c025u89x10c24n.jp2`) which are opened by rasterio without an issue.\r\nSample files can be downloaded from:\r\nhttps://www.dropbox.com/sh/gomtjpuivaxz2sd/AABb9cMojBQxWqpUkLAftwyTa?dl=0\r\n\r\nThe same file opens without problem on QGis 3.6.2\r\n\r\n## Steps to reproduce the problem.\r\n\r\nSample code to reproduce the issue:\r\n\r\n```python\r\nimport rasterio \r\n\r\northo_fn = 'ov185090_201700_c025u89x10c24n.jp2'\r\northo = rasterio.open(ortho_fn) \r\northo_array = ortho.read() \r\n```\r\n\r\nError message:\r\n```\r\nERROR 1: skip: segment too long (2563) with max (687) for codeblock 0 (p=1301, b=0, r=7, c=0)\r\n\r\nERROR 1: Failed to decode.\r\n\r\nERROR 1: Failed to decode tile 1/1\r\n\r\nERROR 1: opj_decode() failed\r\nERROR 1: ov185090_201700_c025u89x10c24n.jp2, band 1: IReadBlock failed at X offset 0, Y offset 0: opj_decode() failed\r\n---------------------------------------------------------------------------\r\nCPLE_AppDefinedError                      Traceback (most recent call last)\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nrasterio/shim_rasterioex.pxi in rasterio._shim.io_multi_band()\r\n\r\nrasterio/_err.pyx in rasterio._err.exc_wrap_int()\r\n\r\nCPLE_AppDefinedError: ov185090_201700_c025u89x10c24n.jp2, band 1: IReadBlock failed at X offset 0, Y offset 0: opj_decode() failed\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nRasterioIOError                           Traceback (most recent call last)\r\n<ipython-input-1-cb5d7807c346> in <module>\r\n      5 \r\n      6 ortho = rasterio.open(ortho_fn)\r\n----> 7 ortho_array = ortho.read()\r\n      8 print(ortho_array.shape)\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase.read()\r\n\r\nrasterio/_io.pyx in rasterio._io.DatasetReaderBase._read()\r\n\r\nRasterioIOError: Read or write failed. jp2/ov185090_201700_c025u89x10c24n.jp2, band 1: IReadBlock failed at X offset 0, Y offset 0: opj_decode() failed\r\n```\r\n\r\n## Operating system\r\n\r\nUbuntu linux 18.04.1 x86_64\r\n\r\n## Rasterio version and provenance\r\n\r\nrasterio 1.0.28 installed from PyPI using pip.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1789", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1789/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1789/events", "html_url": "https://github.com/mapbox/rasterio/issues/1789", "id": 500073405, "node_id": "MDU6SXNzdWU1MDAwNzM0MDU=", "number": 1789, "title": "why to_epsg( ) returns None?", "user": {"login": "qq2898", "id": 11792035, "node_id": "MDQ6VXNlcjExNzkyMDM1", "avatar_url": "https://avatars2.githubusercontent.com/u/11792035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qq2898", "html_url": "https://github.com/qq2898", "followers_url": "https://api.github.com/users/qq2898/followers", "following_url": "https://api.github.com/users/qq2898/following{/other_user}", "gists_url": "https://api.github.com/users/qq2898/gists{/gist_id}", "starred_url": "https://api.github.com/users/qq2898/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qq2898/subscriptions", "organizations_url": "https://api.github.com/users/qq2898/orgs", "repos_url": "https://api.github.com/users/qq2898/repos", "events_url": "https://api.github.com/users/qq2898/events{/privacy}", "received_events_url": "https://api.github.com/users/qq2898/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-30T06:18:17Z", "updated_at": "2019-10-07T14:57:57Z", "closed_at": "2019-10-07T14:57:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "from rasterio.crs import CRS\r\nc1=CRS.from_epsg(4528)\r\nprint(c1.to_epsg( ))  ##None\r\n\r\nwhy it can be get from epsg but not convert to epsg ?\r\nI use rasterio 1.0.24 and GDAL 2.4.1\r\nthank you\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1788", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1788/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1788/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1788/events", "html_url": "https://github.com/mapbox/rasterio/issues/1788", "id": 498985130, "node_id": "MDU6SXNzdWU0OTg5ODUxMzA=", "number": 1788, "title": "Reprojecting a raster image with UINT16 datatype produces all black result", "user": {"login": "00krishna", "id": 2063593, "node_id": "MDQ6VXNlcjIwNjM1OTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2063593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/00krishna", "html_url": "https://github.com/00krishna", "followers_url": "https://api.github.com/users/00krishna/followers", "following_url": "https://api.github.com/users/00krishna/following{/other_user}", "gists_url": "https://api.github.com/users/00krishna/gists{/gist_id}", "starred_url": "https://api.github.com/users/00krishna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/00krishna/subscriptions", "organizations_url": "https://api.github.com/users/00krishna/orgs", "repos_url": "https://api.github.com/users/00krishna/repos", "events_url": "https://api.github.com/users/00krishna/events{/privacy}", "received_events_url": "https://api.github.com/users/00krishna/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-09-26T16:14:50Z", "updated_at": "2020-02-14T16:31:42Z", "closed_at": "2020-02-14T16:31:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nWELCOME ABOARD!\r\n\r\nHi and welcome to the Rasterio project. We appreciate bug reports, questions\r\nabout documentation, and suggestions for new features. This issue template\r\nisn't intended to ward you off; only to intercept and redirect some particular\r\ncategories of reports, and to collect a few important facts that issue reporters\r\noften omit.\r\n\r\nThe primary forum for questions about installation and usage of Rasterio is \r\nhttps://rasterio.groups.io/g/main. The authors and other users will answer \r\nquestions when they have expertise to share and time to explain. Please take the\r\ntime to craft a clear question and be patient about responses. Please do not\r\nbring these questions to Rasterio's issue tracker, which we want to reserve for\r\nbug reports and other actionable issues.\r\n\r\nQuestions about development of Rasterio, brainstorming, requests for comment,\r\nand not-yet-actionable proposals are welcome in the project's developers \r\ndiscussion group https://rasterio.groups.io/g/dev. Issues opened in Rasterio's\r\nGitHub repo which haven't been socialized there may be perfunctorily closed.\r\n\r\nPlease note: Rasterio contains extension modules and is thus susceptible to\r\nC library compatibility issues. If you are reporting an installation or module\r\nimport issue, please note that this project only accepts reports about problems\r\nwith packages downloaded from the Python Package Index. Conda users should take\r\nissues to one of the following trackers:\r\n\r\n- https://github.com/ContinuumIO/anaconda-issues/issues\r\n- https://github.com/conda-forge/rasterio-feedstock\r\n\r\nAlso please note: we are currently working on 1.0 and pre-releases. Bugs found\r\nin version 0.36 will not be fixed except in a 1.0 alpha or beta release. In \r\nsome cases, 0.36 bugs have already been fixed in recent pre-releases.\r\n\r\nYou think you've found a bug? We believe you!\r\n-->\r\n\r\n## Expected behavior and actual behavior.\r\n\r\n\r\nI wanted to reproject a raster image from EPSG:4326 to EPSG:32737. The raster is encoded in UINT16. After using the code that is provided in the Rasterio documentation the output of the raster reprojection was a completely black image. Now when I use a different raster that is encoded in UINT8, then the reprojection code works just fine. Also, when I reprojected the original UINT16 raster image using QGIS, then the reprojection worked fine. So seems like there is an issue or a setting that needs to be included in the reprojection code either in the documentation or in the function itself.\r\n\r\n## Steps to reproduce the problem.\r\n\r\nI used the code provided with the rasterio documentation [https://rasterio.readthedocs.io/en/stable/topics/reproject.html]. I can provide a copy of the actual raster image I used--but it is about 2.0GB in size, so I don't think Github will allow that. I imagine any raster encoded with UINT16 would replicate the problem. If needed I can post a copy of the original image using Dropbox or something.\r\n\r\n```\r\nimport numpy as np\r\nimport rasterio\r\nfrom rasterio.warp import calculate_default_transform, reproject, Resampling\r\n\r\n\r\ndst_crs = 'EPSG:4326'\r\n\r\nwith rasterio.open('rasterio/tests/data/RGB.byte.tif') as src:\r\n    transform, width, height = calculate_default_transform(\r\n        src.crs, dst_crs, src.width, src.height, *src.bounds)\r\n    kwargs = src.meta.copy()\r\n    kwargs.update({\r\n        'crs': dst_crs,\r\n        'transform': transform,\r\n        'width': width,\r\n        'height': height\r\n    })\r\n\r\n    with rasterio.open('/tmp/RGB.byte.wgs84.tif', 'w', **kwargs) as dst:\r\n        for i in range(1, src.count + 1):\r\n            reproject(\r\n                source=rasterio.band(src, i),\r\n                destination=rasterio.band(dst, i),\r\n                src_transform=src.transform,\r\n                src_crs=src.crs,\r\n                dst_transform=transform,\r\n                dst_crs=dst_crs,\r\n                resampling=Resampling.nearest)\r\n```\r\n\r\n\r\n## Operating system\r\n\r\nUbuntu linux 18.04 LTS\r\n\r\n## Rasterio version and provenance\r\n\r\nRasterio version 1.0.28, Gdal version 2.4.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1787", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1787/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1787/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1787/events", "html_url": "https://github.com/mapbox/rasterio/issues/1787", "id": 497799914, "node_id": "MDU6SXNzdWU0OTc3OTk5MTQ=", "number": 1787, "title": "Unable to open EPSG support file gcs.csv (GDAL 3.0.1 PROJ 6.1.1)", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167171, "node_id": "MDU6TGFiZWw2NDE2NzE3MQ==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-09-24T16:36:11Z", "updated_at": "2019-12-16T15:42:33Z", "closed_at": "2019-09-24T17:07:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": "resolved", "body": "Not sure if this is a rasterio or a GDAL problem. Currently leaning towards GDAL, but figured I would start here.\r\n\r\n## Observed behavior\r\n\r\n```\r\nCPLE_OpenFailedError                      Traceback (most recent call last)\r\nrasterio/_crs.pyx in rasterio._crs._CRS.from_epsg()\r\n\r\nrasterio/_err.pyx in rasterio._err.exc_wrap_int()\r\n\r\nCPLE_OpenFailedError: Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nCRSError                                  Traceback (most recent call last)\r\n<ipython-input-13-2f2ceb7ed749> in <module>\r\n      1 with rasterio.Env():\r\n----> 2     cc = CRS.from_epsg(6933)\r\n\r\n~/.local/lib/python3.6/site-packages/rasterio/crs.py in from_epsg(cls, code)\r\n    301         \"\"\"\r\n    302         obj = cls()\r\n--> 303         obj._crs = _CRS.from_epsg(code)\r\n    304         return obj\r\n    305 \r\n\r\nrasterio/_crs.pyx in rasterio._crs._CRS.from_epsg()\r\n\r\nCRSError: The EPSG code is unknown. Unable to open EPSG support file gcs.csv.  Try setting the GDAL_DATA environment variable to point to the directory containing EPSG csv files.\r\n```\r\n## Data directory contents\r\n```\r\nls $GDAL_DATA | grep header.dxf\r\nheader.dxf\r\n```\r\n`gcs.csv` is missing from the directory.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.crs import CRS\r\n\r\ncc = CRS.from_epsg(6933)\r\n```\r\n\r\n```python\r\nimport rasterio\r\nfrom rasterio.crs import CRS\r\n\r\nwith rasterio.Env():\r\n    cc = CRS.from_epsg(6933)\r\n```\r\n\r\n## Operating system\r\n\r\n```\r\n    python: 3.7.3 | packaged by conda-forge | (default, Jul  1 2019, 21:52:21)  [GCC 7.3.0]\r\n   machine: Linux-4.15.0-64-generic-x86_64-with-debian-buster-sid\r\n```\r\n\r\n## Rasterio version and provenance\r\n\r\n```\r\nrasterio                  1.0.28           py36h900e953_0    conda-forge\r\nlibgdal                   3.0.1                hf47eb90_8    conda-forge\r\nproj4                     6.1.1                hc80f0dc_1    conda-forge\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1786", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1786/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1786/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1786/events", "html_url": "https://github.com/mapbox/rasterio/issues/1786", "id": 497161663, "node_id": "MDU6SXNzdWU0OTcxNjE2NjM=", "number": 1786, "title": "Path parser incorrectly parses SENTINEL2_L1C: \"filenames\"", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 64167168, "node_id": "MDU6TGFiZWw2NDE2NzE2OA==", "url": "https://api.github.com/repos/mapbox/rasterio/labels/bug", "name": "bug", "color": "e7040f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/mapbox/rasterio/milestones/94", "html_url": "https://github.com/mapbox/rasterio/milestone/94", "labels_url": "https://api.github.com/repos/mapbox/rasterio/milestones/94/labels", "id": 4987099, "node_id": "MDk6TWlsZXN0b25lNDk4NzA5OQ==", "number": 94, "title": "1.1.3", "description": "", "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-01-08T17:35:36Z", "updated_at": "2020-02-25T18:47:42Z", "due_on": null, "closed_at": "2020-02-25T18:47:42Z"}, "comments": 0, "created_at": "2019-09-23T15:14:16Z", "updated_at": "2020-02-13T20:55:30Z", "closed_at": "2020-02-13T20:55:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In a nutsell: `parse_path(\"SENTINEL2_L1C:S2A_OPER_MTD_SAFL1C_PDMC_20150818T101440_R022_V20150813T102406_20150813T102406.xml:10m:EPSG_32632\")` returns ParsedPath, but should return UnparsedPath.\r\n\r\n#1784 makes a special case for this format, but instead we are going to improve the parser so that SENTINEL2_L1C:, NETCDF:, &c all come out consistently unparsed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1785", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1785/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1785/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1785/events", "html_url": "https://github.com/mapbox/rasterio/issues/1785", "id": 496486959, "node_id": "MDU6SXNzdWU0OTY0ODY5NTk=", "number": 1785, "title": "rasterio.open fails on moto3 mocked s3 bucket", "user": {"login": "dazza-codes", "id": 240623, "node_id": "MDQ6VXNlcjI0MDYyMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/240623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dazza-codes", "html_url": "https://github.com/dazza-codes", "followers_url": "https://api.github.com/users/dazza-codes/followers", "following_url": "https://api.github.com/users/dazza-codes/following{/other_user}", "gists_url": "https://api.github.com/users/dazza-codes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dazza-codes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dazza-codes/subscriptions", "organizations_url": "https://api.github.com/users/dazza-codes/orgs", "repos_url": "https://api.github.com/users/dazza-codes/repos", "events_url": "https://api.github.com/users/dazza-codes/events{/privacy}", "received_events_url": "https://api.github.com/users/dazza-codes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-20T18:22:22Z", "updated_at": "2019-09-20T19:36:02Z", "closed_at": "2019-09-20T18:53:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior and actual behavior.\r\n\r\nUse moto3 to mock an s3 URI, upload a GeoTIFF to that mocked s3 object and use rasterio to read from it, using the s3 URI as input to `rasterio.open`.  But it cannot open the s3 URI.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```python\r\nimport boto3\r\nfrom moto import mock_s3\r\n\r\nS3_MOCK_BUCKET_NAME = 'rasterio-mock-bucket'\r\nS3_KEY = 'geotiff.tif'\r\n\r\ndef test_raster_to_strip_on_mock_s3():\r\n    with mock_s3():\r\n        conn = boto3.resource(\"s3\", region_name=\"us-east-1\")\r\n        mock_s3_bucket = conn.create_bucket(Bucket=S3_MOCK_BUCKET_NAME)\r\n        mock_s3_bucket.wait_until_exists()\r\n        geotiff_file = '/tmp/geotiff.tif'  # just assume this exists already\r\n        with open(geotiff_file, 'rb') as fp:\r\n            mock_s3_bucket.upload_fileobj(fp, S3_KEY)\r\n\r\n        # test the upload worked\r\n        objects = [obj for obj in mock_s3_bucket.objects.all()]\r\n        assert len(objects) == 1\r\n        assert objects[0].key == S3_KEY\r\n        assert objects[0].size > 0\r\n\r\n        s3_uri = f's3://{S3_MOCK_BUCKET_NAME}/{S3_KEY}'\r\n        src = rasterio.open(s3_uri)\r\n\r\n```\r\n\r\nException\r\n```\r\n>   ???\r\nE   rasterio.errors.RasterioIOError: The specified bucket does not exist\r\n\r\nrasterio/_base.pyx:218: RasterioIOError\r\n```\r\n\r\n## Operating system\r\n\r\n```\r\n$ cat /etc/lsb-release \r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=18.04\r\nDISTRIB_CODENAME=bionic\r\nDISTRIB_DESCRIPTION=\"Ubuntu 18.04.3 LTS\"\r\n```\r\n\r\n## Rasterio version and provenance\r\n\r\nFrom pypi wheels\r\n\r\n```\r\n$ pip freeze | grep oto\r\nboto==2.49.0\r\nboto3==1.9.232\r\nbotocore==1.12.232\r\nmoto==1.3.13\r\n\r\n$ rio --version\r\n1.0.28\r\n\r\n$ poetry show --tree\r\nrasterio 1.0.28 Fast and direct raster I/O for use with Numpy and SciPy\r\n\u251c\u2500\u2500 affine *\r\n\u251c\u2500\u2500 attrs *\r\n\u251c\u2500\u2500 click >=4.0,<8\r\n\u251c\u2500\u2500 click-plugins *\r\n\u2502   \u2514\u2500\u2500 click >=4.0 \r\n\u251c\u2500\u2500 cligj >=0.5\r\n\u2502   \u2514\u2500\u2500 click >=4.0,<8 \r\n\u251c\u2500\u2500 enum34 *\r\n\u251c\u2500\u2500 numpy *\r\n\u2514\u2500\u2500 snuggs >=1.4.1\r\n    \u251c\u2500\u2500 numpy * \r\n    \u2514\u2500\u2500 pyparsing >=2.1.6 \r\n\r\n$ ls -1 ~/.cache/pypoetry/virtualenvs/ex-app-py3.6/lib/python3.6/site-packages/rasterio/.libs/\r\nlibaec-2147abcd.so.0.0.4\r\nlibcurl-835381e7.so.4.4.0\r\nlibexpat-09c47d4c.so.1.6.8\r\nlibgdal-ca0c78d5.so.20.5.2\r\nlibgeos-3-9b41901c.6.2.so\r\nlibgeos_c-1aedf783.so.1.10.2\r\nlibhdf5-8a18fd9e.so.101.1.0\r\nlibhdf5_hl-d68fbc5b.so.100.1.0\r\nlibjpeg-3fe7dfc0.so.9.3.0\r\nlibjson-c-5f02f62c.so.2.0.2\r\nlibnetcdf-6ec63985.so.11.0.4\r\nlibnghttp2-11cb20b8.so.14.17.1\r\nlibopenjp2-8f6da918.so.2.3.0\r\nlibpng16-898afbbd.so.16.35.0\r\nlibproj-cd06b982.so.12.0.0\r\nlibsqlite3-fdd57a2d.so.0.8.6\r\nlibsz-1c7dd0cf.so.2.0.1\r\nlibwebp-8ccd29fd.so.7.0.2\r\nlibz-a147dcb0.so.1.2.3\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1783", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1783/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1783/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1783/events", "html_url": "https://github.com/mapbox/rasterio/issues/1783", "id": 494101995, "node_id": "MDU6SXNzdWU0OTQxMDE5OTU=", "number": 1783, "title": "WarpedVRT: rasterio.errors.CRSError: CRS is invalid: None", "user": {"login": "vincentsarago", "id": 10407788, "node_id": "MDQ6VXNlcjEwNDA3Nzg4", "avatar_url": "https://avatars2.githubusercontent.com/u/10407788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincentsarago", "html_url": "https://github.com/vincentsarago", "followers_url": "https://api.github.com/users/vincentsarago/followers", "following_url": "https://api.github.com/users/vincentsarago/following{/other_user}", "gists_url": "https://api.github.com/users/vincentsarago/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincentsarago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincentsarago/subscriptions", "organizations_url": "https://api.github.com/users/vincentsarago/orgs", "repos_url": "https://api.github.com/users/vincentsarago/repos", "events_url": "https://api.github.com/users/vincentsarago/events{/privacy}", "received_events_url": "https://api.github.com/users/vincentsarago/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-16T14:53:56Z", "updated_at": "2019-09-17T16:23:07Z", "closed_at": "2019-09-17T16:23:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is a new `bug` introduced recently I think.\r\nin  https://github.com/mapbox/rasterio/blob/eab5d07a6a1dea6d59f2bab2bb3de33f82a79cbc/rasterio/_warp.pyx#L792-L806\r\n\r\nRasterio will raise an error if the input CRS is none. \r\n\r\n@sgillies should we add a test like in L801 if the self.src_crs is None ?  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1780", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1780/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1780/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1780/events", "html_url": "https://github.com/mapbox/rasterio/issues/1780", "id": 492990412, "node_id": "MDU6SXNzdWU0OTI5OTA0MTI=", "number": 1780, "title": "Problem when cropping bigtiff file", "user": {"login": "RafaelCarlquist", "id": 32001527, "node_id": "MDQ6VXNlcjMyMDAxNTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/32001527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RafaelCarlquist", "html_url": "https://github.com/RafaelCarlquist", "followers_url": "https://api.github.com/users/RafaelCarlquist/followers", "following_url": "https://api.github.com/users/RafaelCarlquist/following{/other_user}", "gists_url": "https://api.github.com/users/RafaelCarlquist/gists{/gist_id}", "starred_url": "https://api.github.com/users/RafaelCarlquist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RafaelCarlquist/subscriptions", "organizations_url": "https://api.github.com/users/RafaelCarlquist/orgs", "repos_url": "https://api.github.com/users/RafaelCarlquist/repos", "events_url": "https://api.github.com/users/RafaelCarlquist/events{/privacy}", "received_events_url": "https://api.github.com/users/RafaelCarlquist/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-12T19:34:50Z", "updated_at": "2019-09-18T19:00:48Z", "closed_at": "2019-09-18T01:49:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone, I was hoping to clarify some possible bug when cropping a bigtiff file.\r\n\r\nThe raster I am trying to crop can be downloaded here: (sorry, but I was not able to reproduce the possible bug with smaller images)\r\n\r\n[https://www.dropbox.com/sh/cvtrj35w6hzehhb/AABKCG-Y51Xbw5VI2oprtPEya/MalhaFundiaria_LandTenure/MalhaFundiaria_LandTenure_v.1812?dl=0&subfolder_nav_tracking=1](url)\r\n\r\nName of the file: 'pa_br_landtenure_rnd_wo_categ_30m_2018_imaflora.zip'\r\n\r\n## Expected behavior and actual behavior.\r\n\r\nWhen I define a 'small' bounding box I am able to crop the raster perfectly. but when using a 'big' bounding box, the cropped raster returns with lots of values masked as nondata. The pattern is: weird horizontal stripes of nondata values.\r\n\r\n## Steps to reproduce the problem.\r\n\r\n```\r\nimport rasterio as rt\r\nfrom rasterio.mask import mask\r\nimport geopandas as gpd\r\nfrom shapely.geometry import box\r\nimport matplotlib.pyplot as plt\r\nfrom rasterio.plot import show\r\npath = 'mytif.tif'\r\n\r\ndef getFeatures(gdf):\r\n    \"\"\"Function to parse features from GeoDataFrame in such a manner that rasterio wants them\"\"\"\r\n    import json\r\n    return [json.loads(gdf.to_json())['features'][0]['geometry']]\r\n\r\n# loading rasters\r\nraster = rt.open(path)\r\n\r\n# creating BIG bounding box\r\nbbox_big = box(-58.89832839899998, -9.841153477318166, -46.060946792999985, 2.5910270460852587)\r\nbbox_big = gpd.GeoDataFrame({'geometry':[bbox_big],'name':['amazon']}, crs = {'init': 'epsg:4674'})\r\nbbox_big = bbox_big.to_crs(raster.crs.data)\r\n\r\n# getting bounding box coords in geo json\r\ncoords = getFeatures(bbox_big)\r\n\r\n# cropping\r\nout_img, out_transform = mask(dataset = raster, shapes = coords, crop = True, all_touched=True)\r\n\r\n# ploting\r\nfig,ax = plt.subplots(1,1,figsize = (12,12))\r\nshow(out_img, ax=ax, cmap = 'Paired', transform = out_transform)\r\nbbox_big.plot(ax=ax, facecolor='None', edgecolor='k')\r\nplt.show()\r\n```\r\nThe result is the following:\r\n\r\n![wrong_result](https://user-images.githubusercontent.com/32001527/64813866-b91d2e80-d578-11e9-9c37-5a02bc26b116.png)\r\n\r\nThe problem is with the big blue stripes at the bottom of the image, it should not be there.\r\n\r\nTo be sure it is not a plot issue:\r\n\r\n```\r\n# value of right bottom corner\r\nout_img[0,out_img.shape[1]-1,out_img.shape[2]-1]\r\n```\r\nThe result is 0 (zero) the nondata value.\r\n\r\nNow, defining a smaller box, the correct results are there. I will just create a bounding box wich overlaps with the wrong area of the previous image.\r\n\r\n```\r\n# creating SMALL bounding box\r\n# Note that is is just a smaller box inside the big box\r\nbbox_small = box(-58.89832839899998, -9.841153477318166, -46.060946792999985, -8)\r\nbbox_small = gpd.GeoDataFrame({'geometry':[bbox_small],'name':['amazon']}, crs = {'init': 'epsg:4674'})\r\nbbox_small = bbox_small.to_crs(crs = {'init': 'epsg:4674'})\r\n\r\n# getting bounding box coords in geo json\r\ncoords = getFeatures(bbox_small)\r\n\r\n# cropping again\r\nout_img, out_transform = mask(dataset = raster, shapes = coords, crop = True, all_touched=True)\r\n\r\n# ploting\r\nfig,ax = plt.subplots(1,1,figsize = (12,12))\r\nshow(out_img, ax=ax, cmap = 'Paired', transform = out_transform)\r\nbbox_small.plot(ax=ax, facecolor='None', edgecolor='k')\r\nplt.show()\r\n```\r\n \r\nThe result:\r\n\r\n![correct_result](https://user-images.githubusercontent.com/32001527/64814172-5710f900-d579-11e9-9b22-531a8097e272.png)\r\n\r\nTo be sure it is not a plot issue:\r\n\r\n```\r\n# value of right bottom corner\r\nout_img[0,out_img.shape[1]-1,out_img.shape[2]-1]\r\n```\r\nThe result is 10 which was the expected one.\r\n\r\n## Operating system\r\n\r\nI am running this on Windows 10 (the only possibility in my office)\r\n\r\nPython version 3.7.3\r\n\r\n## Rasterio version and provenance\r\n\r\nGDAL-2.3.2-cp37-cp37m-win_amd64\r\nFiona-1.7.13-cp37-cp37m-win_amd64\r\npyproj-1.9.5.1-cp37-cp37m-win_amd64\r\nRtree-0.8.3-cp37-cp37m-win_amd64\r\nShapely-1.6.4.post1-cp37-cp37m-win_amd64\r\ndescartes-1.1.0-py2.py3-none-any\r\nrasterio-1.0.8-cp37-cp37m-win_amd64\r\n\r\nInstalled using pip 19.1.1\r\n\r\nThank you all for any help,\r\n\r\nBest regards,\r\n\r\nRafael", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mapbox/rasterio/issues/1777", "repository_url": "https://api.github.com/repos/mapbox/rasterio", "labels_url": "https://api.github.com/repos/mapbox/rasterio/issues/1777/labels{/name}", "comments_url": "https://api.github.com/repos/mapbox/rasterio/issues/1777/comments", "events_url": "https://api.github.com/repos/mapbox/rasterio/issues/1777/events", "html_url": "https://github.com/mapbox/rasterio/issues/1777", "id": 492483877, "node_id": "MDU6SXNzdWU0OTI0ODM4Nzc=", "number": 1777, "title": "enum34 installed into python ^3.6 by mistake", "user": {"login": "dazza-codes", "id": 240623, "node_id": "MDQ6VXNlcjI0MDYyMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/240623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dazza-codes", "html_url": "https://github.com/dazza-codes", "followers_url": "https://api.github.com/users/dazza-codes/followers", "following_url": "https://api.github.com/users/dazza-codes/following{/other_user}", "gists_url": "https://api.github.com/users/dazza-codes/gists{/gist_id}", "starred_url": "https://api.github.com/users/dazza-codes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dazza-codes/subscriptions", "organizations_url": "https://api.github.com/users/dazza-codes/orgs", "repos_url": "https://api.github.com/users/dazza-codes/repos", "events_url": "https://api.github.com/users/dazza-codes/events{/privacy}", "received_events_url": "https://api.github.com/users/dazza-codes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-09-11T21:49:25Z", "updated_at": "2020-05-12T16:58:56Z", "closed_at": "2019-09-12T21:17:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#1251 is closed, but the issue persists\r\n\r\n@sgillies tagged on trailing comments in\r\n- https://github.com/sdispater/poetry/issues/1122\r\n- https://github.com/sdispater/poetry/issues/1122#issuecomment-530567802\r\n", "performed_via_github_app": null, "score": 1.0}]}