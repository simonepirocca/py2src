{"total_count": 117, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/367", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/367/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/367/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/367", "id": 674935317, "node_id": "MDU6SXNzdWU2NzQ5MzUzMTc=", "number": 367, "title": "Release a new version of the library.", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-07T10:53:53Z", "updated_at": "2020-08-19T15:12:38Z", "closed_at": "2020-08-19T15:12:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Coordinate a release for the 18th/19th of August so that we can ensure people will be around to support the release if needed. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/362", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/362/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/362/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/362", "id": 668676391, "node_id": "MDU6SXNzdWU2Njg2NzYzOTE=", "number": 362, "title": "Multiple OP support?", "user": {"login": "teemukataja", "id": 17040963, "node_id": "MDQ6VXNlcjE3MDQwOTYz", "avatar_url": "https://avatars2.githubusercontent.com/u/17040963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teemukataja", "html_url": "https://github.com/teemukataja", "followers_url": "https://api.github.com/users/teemukataja/followers", "following_url": "https://api.github.com/users/teemukataja/following{/other_user}", "gists_url": "https://api.github.com/users/teemukataja/gists{/gist_id}", "starred_url": "https://api.github.com/users/teemukataja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teemukataja/subscriptions", "organizations_url": "https://api.github.com/users/teemukataja/orgs", "repos_url": "https://api.github.com/users/teemukataja/repos", "events_url": "https://api.github.com/users/teemukataja/events{/privacy}", "received_events_url": "https://api.github.com/users/teemukataja/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-30T12:32:26Z", "updated_at": "2020-07-31T12:18:05Z", "closed_at": "2020-07-31T12:17:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have been reading the documentation for setting up `mozilla-django-oidc` here https://mozilla-django-oidc.readthedocs.io/en/stable/installation.html#add-settings-to-settings-py. The instructions tell to configure the OpenID Provider (OP) in the `settings.py`. It looks like it's only possible to declare one OP.\r\n\r\nIs it possible to support two OPs simultaneously, and configure `mozilla-django-oidc` from e.g. a `view`? So as to have a login page with two different OPs, and the user can select which OP to authenticate themselves with.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/351", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/351/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/351/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/351", "id": 618913455, "node_id": "MDU6SXNzdWU2MTg5MTM0NTU=", "number": 351, "title": "Authorization - how map claims to Django groups ", "user": {"login": "luzik", "id": 6113774, "node_id": "MDQ6VXNlcjYxMTM3NzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6113774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luzik", "html_url": "https://github.com/luzik", "followers_url": "https://api.github.com/users/luzik/followers", "following_url": "https://api.github.com/users/luzik/following{/other_user}", "gists_url": "https://api.github.com/users/luzik/gists{/gist_id}", "starred_url": "https://api.github.com/users/luzik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luzik/subscriptions", "organizations_url": "https://api.github.com/users/luzik/orgs", "repos_url": "https://api.github.com/users/luzik/repos", "events_url": "https://api.github.com/users/luzik/events{/privacy}", "received_events_url": "https://api.github.com/users/luzik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-15T11:55:24Z", "updated_at": "2020-05-16T11:54:06Z", "closed_at": "2020-05-16T11:54:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have to assign Django permissions based on provided claims - it is possible with mozilla-django-oidc ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/338", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/338/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/338/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/338", "id": 544602580, "node_id": "MDU6SXNzdWU1NDQ2MDI1ODA=", "number": 338, "title": "Please release a new version to PyPi", "user": {"login": "pauloxnet", "id": 521097, "node_id": "MDQ6VXNlcjUyMTA5Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/521097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pauloxnet", "html_url": "https://github.com/pauloxnet", "followers_url": "https://api.github.com/users/pauloxnet/followers", "following_url": "https://api.github.com/users/pauloxnet/following{/other_user}", "gists_url": "https://api.github.com/users/pauloxnet/gists{/gist_id}", "starred_url": "https://api.github.com/users/pauloxnet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pauloxnet/subscriptions", "organizations_url": "https://api.github.com/users/pauloxnet/orgs", "repos_url": "https://api.github.com/users/pauloxnet/repos", "events_url": "https://api.github.com/users/pauloxnet/events{/privacy}", "received_events_url": "https://api.github.com/users/pauloxnet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-02T14:33:48Z", "updated_at": "2020-01-02T16:23:22Z", "closed_at": "2020-01-02T14:40:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now the package is not usable with Django 3.0 but the commit with the fix was pushed one month ago:\r\nhttps://github.com/mozilla/mozilla-django-oidc/commit/ab37be7ae2d47a7a3e90b4783c9493160ce8e3ae\r\n\r\nCan you release a new version of this package on PyPi so we can continue using with the latest version of Django?\r\n\r\nIf I can help doing this I'm ready. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/334", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/334/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/334/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/334", "id": 541138149, "node_id": "MDU6SXNzdWU1NDExMzgxNDk=", "number": 334, "title": "ImportError: cannot import name 'six' - django.utils.six removed from Django 3.0", "user": {"login": "david-steffen", "id": 7718703, "node_id": "MDQ6VXNlcjc3MTg3MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7718703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-steffen", "html_url": "https://github.com/david-steffen", "followers_url": "https://api.github.com/users/david-steffen/followers", "following_url": "https://api.github.com/users/david-steffen/following{/other_user}", "gists_url": "https://api.github.com/users/david-steffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-steffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-steffen/subscriptions", "organizations_url": "https://api.github.com/users/david-steffen/orgs", "repos_url": "https://api.github.com/users/david-steffen/repos", "events_url": "https://api.github.com/users/david-steffen/events{/privacy}", "received_events_url": "https://api.github.com/users/david-steffen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-12-20T18:37:40Z", "updated_at": "2020-01-02T16:00:19Z", "closed_at": "2020-01-02T16:00:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "First off, I'd like to say thanks for your time in creating this library.\r\n\r\nThe two options are importing six directly or just removing it and supporting python3 only. Is there any reason to continue using six for compatibility?\r\n\r\nI'm happy to create a pull request for either option, just let me know which is preferred.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/333", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/333/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/333/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/333/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/333", "id": 539919412, "node_id": "MDU6SXNzdWU1Mzk5MTk0MTI=", "number": 333, "title": "ImportError: Removal of \"six\" from django.utils in Django version 3.0", "user": {"login": "mjstealey", "id": 5332509, "node_id": "MDQ6VXNlcjUzMzI1MDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/5332509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjstealey", "html_url": "https://github.com/mjstealey", "followers_url": "https://api.github.com/users/mjstealey/followers", "following_url": "https://api.github.com/users/mjstealey/following{/other_user}", "gists_url": "https://api.github.com/users/mjstealey/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjstealey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjstealey/subscriptions", "organizations_url": "https://api.github.com/users/mjstealey/orgs", "repos_url": "https://api.github.com/users/mjstealey/repos", "events_url": "https://api.github.com/users/mjstealey/events{/privacy}", "received_events_url": "https://api.github.com/users/mjstealey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-18T20:56:17Z", "updated_at": "2019-12-21T10:21:41Z", "closed_at": "2019-12-18T21:03:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reference: https://docs.djangoproject.com/en/3.0/releases/3.0/#removed-private-python-2-compatibility-apis\r\n\r\nThe `from django.utils import six` import in [auth.py](https://github.com/mozilla/mozilla-django-oidc/blob/master/mozilla_django_oidc/auth.py#L18) will fail under Django 3.0\r\n\r\n> from django.utils import six\r\n> ImportError: cannot import name 'six'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/332", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/332/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/332/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/332", "id": 532934756, "node_id": "MDU6SXNzdWU1MzI5MzQ3NTY=", "number": 332, "title": "Library requesting OAuth 2 token endpoint twice during callback", "user": {"login": "cburmeister", "id": 1633451, "node_id": "MDQ6VXNlcjE2MzM0NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1633451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cburmeister", "html_url": "https://github.com/cburmeister", "followers_url": "https://api.github.com/users/cburmeister/followers", "following_url": "https://api.github.com/users/cburmeister/following{/other_user}", "gists_url": "https://api.github.com/users/cburmeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/cburmeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cburmeister/subscriptions", "organizations_url": "https://api.github.com/users/cburmeister/orgs", "repos_url": "https://api.github.com/users/cburmeister/repos", "events_url": "https://api.github.com/users/cburmeister/events{/privacy}", "received_events_url": "https://api.github.com/users/cburmeister/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-04T21:07:03Z", "updated_at": "2020-07-14T16:33:56Z", "closed_at": "2020-07-14T16:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're using Hydra as our Identity Provider.  In our scenario -- somewhere during the callback you can see that this library is requesting our token endpoint a second time which causes the provider to return a 400:\r\n```\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"info\",\"method\":\"POST\",\"msg\":\"started handling request\",\"remote\":\"10.22.10.132:36366\",\"request\":\"/oauth2/token\",\"time\":\"2019-11-21T21:24:29Z\"}\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"info\",\"measure#hydra/public: https://accounts.staging.discogs.com/.latency\":380633105,\"method\":\"POST\",\"msg\":\"completed handling request\",\"remote\":\"10.22.10.132:36366\",\"request\":\"/oauth2/token\",\"status\":200,\"text_status\":\"OK\",\"time\":\"2019-11-21T21:24:30Z\",\"took\":380633105}\r\n[...]\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"info\",\"method\":\"GET\",\"msg\":\"started handling request\",\"remote\":\"10.22.10.132:36374\",\"request\":\"/.well-known/jwks.json\",\"time\":\"2019-11-21T21:24:30Z\"}\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"info\",\"measure#hydra/public: https://accounts.staging.discogs.com/.latency\":11210835,\"method\":\"GET\",\"msg\":\"completed handling request\",\"remote\":\"10.22.10.132:36374\",\"request\":\"/.well-known/jwks.json\",\"status\":200,\"text_status\":\"OK\",\"time\":\"2019-11-21T21:24:30Z\",\"took\":11210835}\r\n[...]\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"info\",\"method\":\"POST\",\"msg\":\"started handling request\",\"remote\":\"10.22.10.132:37056\",\"request\":\"/oauth2/token\",\"time\":\"2019-11-21T21:25:00Z\"}\r\nhydra-86bc4bd495-g594p hydra {\"description\":\"The provided authorization grant (e.g., authorization code, resource owner credentials) or refresh token is invalid, expired, revoked, does not match the redirection URI used in the authorization request, or was issued to another client\",\"error\":\"invalid_grant\",\"hint\":\"The authorization code has already been used.\",\"level\":\"error\",\"msg\":\"An error occurred\",\"time\":\"2019-11-21T21:25:00Z\"}\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"debug\",\"msg\":\"Stack trace: \\ngithub.com/ory/fosite/handler/oauth2.(*AuthorizeExplicitGrantHandler).HandleTokenEndpointRequest\\n\\t/go/pkg/mod/github.com/ory/fosite@v0.30.0/handler/oauth2/flow_authorize_code_token.go:70\\ngithub.com/ory/fosite.(*Fosite).NewAccessRequest\\n\\t/go/pkg/mod/github.com/ory/fosite@v0.30.0/access_request_handler.go:89\\ngithub.com/ory/hydra/oauth2.(*Handler).TokenHandler\\n\\t/go/src/github.com/ory/hydra/oauth2/handler.go:548\\nnet/http.HandlerFunc.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2007\\ngithub.com/julienschmidt/httprouter.(*Router).Handler.func1\\n\\t/go/pkg/mod/github.com/julienschmidt/httprouter@v1.2.0/params_go17.go:26\\ngithub.com/julienschmidt/httprouter.(*Router).ServeHTTP\\n\\t/go/pkg/mod/github.com/julienschmidt/httprouter@v1.2.0/router.go:334\\ngithub.com/urfave/negroni.Wrap.func1\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:46\\ngithub.com/urfave/negroni.HandlerFunc.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:29\\ngithub.com/urfave/negroni.middleware.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:38\\nnet/http.HandlerFunc.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2007\\ngithub.com/ory/hydra/x.RejectInsecureRequests.func1\\n\\t/go/src/github.com/ory/hydra/x/tls_termination.go:55\\ngithub.com/urfave/negroni.HandlerFunc.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:29\\ngithub.com/urfave/negroni.middleware.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:38\\ngithub.com/ory/x/metricsx.(*Service).ServeHTTP\\n\\t/go/pkg/mod/github.com/ory/x@v0.0.73/metricsx/middleware.go:261\\ngithub.com/urfave/negroni.middleware.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:38\\ngithub.com/ory/hydra/metrics/prometheus.(*MetricsManager).ServeHTTP\\n\\t/go/src/github.com/ory/hydra/metrics/prometheus/middleware.go:26\\ngithub.com/urfave/negroni.middleware.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:38\\ngithub.com/meatballhat/negroni-logrus.(*Middleware).ServeHTTP\\n\\t/go/pkg/mod/github.com/meatballhat/negroni-logrus@v0.0.0-20170801195057-31067281800f/middleware.go:136\\ngithub.com/urfave/negroni.middleware.ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:38\\ngithub.com/urfave/negroni.(*Negroni).ServeHTTP\\n\\t/go/pkg/mod/github.com/urfave/negroni@v1.0.0/negroni.go:96\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2802\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1890\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1357\",\"time\":\"2019-11-21T21:25:00Z\"}\r\nhydra-86bc4bd495-g594p hydra {\"level\":\"info\",\"measure#hydra/public: https://accounts.staging.discogs.com/.latency\":165936318,\"method\":\"POST\",\"msg\":\"completed handling request\",\"remote\":\"10.22.10.132:37056\",\"request\":\"/oauth2/token\",\"status\":400,\"text_status\":\"Bad Request\",\"time\":\"2019-11-21T21:25:00Z\",\"took\":165936318}\r\n```\r\n\r\nIt's obvious why the second request to the endpoint failed, the authorization code has already been used to obtain a token... I just can't determine why the library isn't returning a 302 during the callback as it should but instead attempting to request the token endpoint a second time.\r\n\r\nHere's our `settings.py`:\r\n```python\r\nLOGIN_REDIRECT_URL = '/labels'\r\nLOGIN_REDIRECT_URL_FAILURE = '/'\r\nLOGOUT_REDIRECT_URL = '/'\r\nOIDC_OP_AUTHORIZATION_ENDPOINT = os.environ['OIDC_OP_AUTHORIZATION_ENDPOINT']\r\nOIDC_OP_JWKS_ENDPOINT = os.environ['OIDC_OP_JWKS_ENDPOINT']\r\nOIDC_OP_TOKEN_ENDPOINT = os.environ['OIDC_OP_TOKEN_ENDPOINT']\r\nOIDC_OP_USER_ENDPOINT = os.environ['OIDC_OP_USER_ENDPOINT']\r\nOIDC_RP_CLIENT_ID = os.environ['OIDC_RP_CLIENT_ID']\r\nOIDC_RP_CLIENT_SECRET = os.environ['OIDC_RP_CLIENT_SECRET']\r\nOIDC_RP_SCOPES = 'openid offline'\r\nOIDC_RP_SIGN_ALGO = 'RS256'\r\nOIDC_STORE_ID_TOKEN = True\r\nOIDC_TOKEN_USE_BASIC_AUTH = True\r\n```\r\n\r\nAny help would be appreciated!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/319", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/319/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/319/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/319", "id": 486945573, "node_id": "MDU6SXNzdWU0ODY5NDU1NzM=", "number": 319, "title": "Port not included in redirect_uri", "user": {"login": "shaunsephton", "id": 83531, "node_id": "MDQ6VXNlcjgzNTMx", "avatar_url": "https://avatars0.githubusercontent.com/u/83531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shaunsephton", "html_url": "https://github.com/shaunsephton", "followers_url": "https://api.github.com/users/shaunsephton/followers", "following_url": "https://api.github.com/users/shaunsephton/following{/other_user}", "gists_url": "https://api.github.com/users/shaunsephton/gists{/gist_id}", "starred_url": "https://api.github.com/users/shaunsephton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shaunsephton/subscriptions", "organizations_url": "https://api.github.com/users/shaunsephton/orgs", "repos_url": "https://api.github.com/users/shaunsephton/repos", "events_url": "https://api.github.com/users/shaunsephton/events{/privacy}", "received_events_url": "https://api.github.com/users/shaunsephton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-29T13:03:47Z", "updated_at": "2019-09-11T12:15:20Z", "closed_at": "2019-09-11T12:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe request's port is not included when urls are built up by  `mozilla_django_oidc.utils.absolutify` and thus when using for arguments sake a test host like http://example.com:52525, `OIDCAuthenticationRequestView` redirects will incorrectly specify a `redirect_uri` without a port, resulting in errors like `The request fails due to a missing, invalid, or mismatched redirection URI(redirect_uri)`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Configure a Django instance with `mozilla_django_oidc`, listening on a nonstandard port, e.g. http://example.com:52525.\r\n2. Kick off an authentication request, e.g. visit http://example.com:52525/oidc/authenticate/\r\n\r\n**Expected behavior**\r\nhttp://example.com:52525/oidc/authenticate/ should redirect to the OpenID Provider with port included in the `redirect_uri` GET parameter, e.g. `...&redirect_uri=http://example.com:52525/oidc/callback...`.\r\n\r\n**Current behavior**\r\nhttp://example.com:52525/oidc/authenticate/ redirects to the OpenID Provider without including the port in the `redirect_uri` GET parameter, e.g. `...&redirect_uri=http://example.com/oidc/callback...`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/312", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/312/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/312/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/312", "id": 469677898, "node_id": "MDU6SXNzdWU0Njk2Nzc4OTg=", "number": 312, "title": "JWT Nonce verification failed", "user": {"login": "cfra", "id": 1347051, "node_id": "MDQ6VXNlcjEzNDcwNTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1347051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfra", "html_url": "https://github.com/cfra", "followers_url": "https://api.github.com/users/cfra/followers", "following_url": "https://api.github.com/users/cfra/following{/other_user}", "gists_url": "https://api.github.com/users/cfra/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfra/subscriptions", "organizations_url": "https://api.github.com/users/cfra/orgs", "repos_url": "https://api.github.com/users/cfra/repos", "events_url": "https://api.github.com/users/cfra/events{/privacy}", "received_events_url": "https://api.github.com/users/cfra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-07-18T09:56:35Z", "updated_at": "2020-07-17T10:14:31Z", "closed_at": "2020-07-17T10:14:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my application, I am seeing a `SuspiciousOperation: JWT Nonce verification failed.` in the logs from time to time.\r\n\r\nI am not sure what the reason for this is.\r\n\r\nThe identity provider seems to always return the nonce correctly.\r\n\r\nOne guess of mine is that these are maybe flaky clients where the first request for the callback page makes it through to the server, but the response which sets up the authenticated session doesn't make it back to the client. When the user then reloads the callback page, the nonce has already been stripped from the session and so verification fails.\r\n\r\nIs this a valid and likely assumption? Or is there a more plausible explanation?\r\n\r\nLooking at the control flow, it seems like login will fail for users which trigger this path.\r\n\r\nThere is however also an option `OIDC_USE_NONCE` which would permit to turn off this validation completely.\r\n\r\nI couldn't find any documentation about the security implications of that setting. Is there any recommendation under which circumstances it might be acceptable not to enable this feature?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/307", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/307/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/307/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/307", "id": 427786157, "node_id": "MDU6SXNzdWU0Mjc3ODYxNTc=", "number": 307, "title": "504 errors on network with proxy", "user": {"login": "minrock", "id": 1509961, "node_id": "MDQ6VXNlcjE1MDk5NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1509961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minrock", "html_url": "https://github.com/minrock", "followers_url": "https://api.github.com/users/minrock/followers", "following_url": "https://api.github.com/users/minrock/following{/other_user}", "gists_url": "https://api.github.com/users/minrock/gists{/gist_id}", "starred_url": "https://api.github.com/users/minrock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minrock/subscriptions", "organizations_url": "https://api.github.com/users/minrock/orgs", "repos_url": "https://api.github.com/users/minrock/repos", "events_url": "https://api.github.com/users/minrock/events{/privacy}", "received_events_url": "https://api.github.com/users/minrock/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-01T15:56:59Z", "updated_at": "2019-04-15T16:44:58Z", "closed_at": "2019-04-15T16:44:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone, thank you for your great work!\r\n\r\nI'm using your library on an enterprise environment which requires me to connect to a VPN and route everything through a proxy for internet, but in my case my server is inside intranet and I should not use environment HTTP/HTTPS proxy to route my request to the OIDC server so I need to send my requests as `request.post(self.OIDC_OP_<whatever>, data=data,..., proxy={'HTTP': None, 'HTTPS': None})` so that way it will not take in consideration the proxy for the request but there is no way to inject proxies to all requests by the requests package, so not sure if you can do it but it would be nice to have a settings option to override all proxy requests if needed.\r\n\r\nIf I do not set proxies as None I get this error:\r\n`requests.exceptions.HTTPError: 504 Server Error: Gateway Timeout for URL: http://my_server_url/openid/token/`\r\n\r\nThanks for your responses.\r\n\r\nBest regards.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/305", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/305/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/305/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/305", "id": 427195577, "node_id": "MDU6SXNzdWU0MjcxOTU1Nzc=", "number": 305, "title": "CODE_OF_CONDUCT.md file missing", "user": {"login": "Mozilla-GitHub-Standards", "id": 48073334, "node_id": "MDQ6VXNlcjQ4MDczMzM0", "avatar_url": "https://avatars3.githubusercontent.com/u/48073334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mozilla-GitHub-Standards", "html_url": "https://github.com/Mozilla-GitHub-Standards", "followers_url": "https://api.github.com/users/Mozilla-GitHub-Standards/followers", "following_url": "https://api.github.com/users/Mozilla-GitHub-Standards/following{/other_user}", "gists_url": "https://api.github.com/users/Mozilla-GitHub-Standards/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mozilla-GitHub-Standards/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mozilla-GitHub-Standards/subscriptions", "organizations_url": "https://api.github.com/users/Mozilla-GitHub-Standards/orgs", "repos_url": "https://api.github.com/users/Mozilla-GitHub-Standards/repos", "events_url": "https://api.github.com/users/Mozilla-GitHub-Standards/events{/privacy}", "received_events_url": "https://api.github.com/users/Mozilla-GitHub-Standards/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-29T22:05:24Z", "updated_at": "2019-04-08T13:52:37Z", "closed_at": "2019-04-08T13:52:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\nAs of January 1 2019, Mozilla requires that all GitHub projects include this [CODE_OF_CONDUCT.md](https://github.com/mozilla/repo-templates/blob/master/templates/CODE_OF_CONDUCT.md) file in the project root. The file has two parts:\n\n1. Required Text - All text under the headings *Community Participation Guidelines and How to Report*, are required, and should not be altered.\n2. Optional Text - The Project Specific Etiquette heading provides a space to speak more specifically about ways people can work effectively and inclusively together. Some examples of those can be found on the [Firefox Debugger](https://github.com/devtools-html/debugger.html/blob/master/CODE_OF_CONDUCT.md) project, and [Common Voice](https://github.com/mozilla/voice-web/blob/master/CODE_OF_CONDUCT.md). (The optional part is commented out in the [raw template file](https://raw.githubusercontent.com/mozilla/repo-templates/blob/master/templates/CODE_OF_CONDUCT.md), and will not be visible until you modify and uncomment that part.)\n\nIf you have any questions about this file, or Code of Conduct policies and procedures, please see [Mozilla-GitHub-Standards](https://wiki.mozilla.org/GitHub/Repository_Requirements) or email Mozilla-GitHub-Standards+CoC@mozilla.com.\n\n_(Message COC001)_", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/303", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/303/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/303/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/303", "id": 423559938, "node_id": "MDU6SXNzdWU0MjM1NTk5Mzg=", "number": 303, "title": "'oidc_state' does not match the OIDC callback state", "user": {"login": "rackymuthu", "id": 22363702, "node_id": "MDQ6VXNlcjIyMzYzNzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/22363702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rackymuthu", "html_url": "https://github.com/rackymuthu", "followers_url": "https://api.github.com/users/rackymuthu/followers", "following_url": "https://api.github.com/users/rackymuthu/following{/other_user}", "gists_url": "https://api.github.com/users/rackymuthu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rackymuthu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rackymuthu/subscriptions", "organizations_url": "https://api.github.com/users/rackymuthu/orgs", "repos_url": "https://api.github.com/users/rackymuthu/repos", "events_url": "https://api.github.com/users/rackymuthu/events{/privacy}", "received_events_url": "https://api.github.com/users/rackymuthu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-21T03:32:46Z", "updated_at": "2020-06-26T09:27:38Z", "closed_at": "2020-06-26T09:27:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm run the django project using the Mozilla Django OIDC. While the project running it is shown the **'oidc_state' does not match the OIDC callback state** error rise in console. how to fix", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/299", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/299/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/299/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/299", "id": 416071974, "node_id": "MDU6SXNzdWU0MTYwNzE5NzQ=", "number": 299, "title": "add support for OpenID Connect Session Management 1.0", "user": {"login": "benkonrath", "id": 494758, "node_id": "MDQ6VXNlcjQ5NDc1OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/494758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benkonrath", "html_url": "https://github.com/benkonrath", "followers_url": "https://api.github.com/users/benkonrath/followers", "following_url": "https://api.github.com/users/benkonrath/following{/other_user}", "gists_url": "https://api.github.com/users/benkonrath/gists{/gist_id}", "starred_url": "https://api.github.com/users/benkonrath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benkonrath/subscriptions", "organizations_url": "https://api.github.com/users/benkonrath/orgs", "repos_url": "https://api.github.com/users/benkonrath/repos", "events_url": "https://api.github.com/users/benkonrath/events{/privacy}", "received_events_url": "https://api.github.com/users/benkonrath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-01T12:00:42Z", "updated_at": "2019-04-24T19:42:19Z", "closed_at": "2019-04-24T19:42:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've implemented OpenID Connect Session Management 1.0 on top of mozilla-django-oidc for a project that I'm working on and I'm wondering if you're interested in having support for this (draft) standard included in mozilla-django-oidc itself.\r\nhttps://openid.net/specs/openid-connect-session-1_0.html\r\n\r\nBasics of this standard involve loading a hidden iframe from the RP and the OP which allows the RP to check the authentication status on the OP with JavaScript (in the iframe) and re-authenticate if needed. I know that there's already a middleware that refreshes the authentication status periodically but the session management standard is more efficient because it doesn't need network requests to the OP for status checks. This means we can check more frequently e.g. every 3 seconds. In the project I mentioned, we have both the session management iframe and the refresh middeware enabled so that malicious users can be deactivated even if JavaScript is disabled in their browser.\r\n\r\nI'm curious to hear what people think about including this in mozilla-django-oidc before I spend the time making PR for this. Thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/298", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/298/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/298/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/298", "id": 411222270, "node_id": "MDU6SXNzdWU0MTEyMjIyNzA=", "number": 298, "title": "Wiki changes", "user": {"login": "moz-hwine", "id": 8964373, "node_id": "MDQ6VXNlcjg5NjQzNzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/8964373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moz-hwine", "html_url": "https://github.com/moz-hwine", "followers_url": "https://api.github.com/users/moz-hwine/followers", "following_url": "https://api.github.com/users/moz-hwine/following{/other_user}", "gists_url": "https://api.github.com/users/moz-hwine/gists{/gist_id}", "starred_url": "https://api.github.com/users/moz-hwine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moz-hwine/subscriptions", "organizations_url": "https://api.github.com/users/moz-hwine/orgs", "repos_url": "https://api.github.com/users/moz-hwine/repos", "events_url": "https://api.github.com/users/moz-hwine/events{/privacy}", "received_events_url": "https://api.github.com/users/moz-hwine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-17T19:03:22Z", "updated_at": "2019-04-15T12:40:02Z", "closed_at": "2019-04-15T12:40:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "FYI: The following changes were made to this repository's wiki:\n\n- defacing spam has been removed\n\n- Restricting write access to contributors is strongly encouraged.  Please [make that change](https://github.com/mozilla/mozilla-django-oidc/settings)  ([documentation](https://help.github.com/articles/changing-access-permissions-for-wikis/)).\n\nThese were made as the result of a recent automated defacement of publically writeable wikis.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/297", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/297/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/297/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/297", "id": 406315132, "node_id": "MDU6SXNzdWU0MDYzMTUxMzI=", "number": 297, "title": "Using customized ADFS ID tokens", "user": {"login": "draganHR", "id": 304130, "node_id": "MDQ6VXNlcjMwNDEzMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/304130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/draganHR", "html_url": "https://github.com/draganHR", "followers_url": "https://api.github.com/users/draganHR/followers", "following_url": "https://api.github.com/users/draganHR/following{/other_user}", "gists_url": "https://api.github.com/users/draganHR/gists{/gist_id}", "starred_url": "https://api.github.com/users/draganHR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/draganHR/subscriptions", "organizations_url": "https://api.github.com/users/draganHR/orgs", "repos_url": "https://api.github.com/users/draganHR/repos", "events_url": "https://api.github.com/users/draganHR/events{/privacy}", "received_events_url": "https://api.github.com/users/draganHR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-04T12:50:26Z", "updated_at": "2019-08-02T15:29:40Z", "closed_at": "2019-08-02T15:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I need to enable authentication via [ADFS](https://docs.microsoft.com/en-us/windows-server/identity/active-directory-federation-services) (Windows Server 2016) and OpenID Connect.\r\n\r\nIt seems that the [ADFS userinfo endpoint always returns only \"sub\" claim](https://docs.microsoft.com/en-us/windows-server/identity/ad-fs/overview/ad-fs-faq#i-am-trying-to-get-additional-claims-on-the-user-info-endpoint-but-its-only-returning-subject-how-can-i-get-additional-claims) and i don't see any way of making it return other user detils:\r\n\r\n> The ADFS userinfo endpoint always returns the subject claim as specified in the OpenID standards. AD FS does not provide additional claims requested via the UserInfo endpoint. If you need additional claims in ID token, refer to Custom ID Tokens in AD FS.\r\n\r\nHowever it is possible to customize `id_token` [[1](https://docs.microsoft.com/en-us/windows-server/identity/ad-fs/development/custom-id-tokens-in-ad-fs), [2](https://medium.com/the-new-control-plane/the-mystery-of-the-missing-adfs-jwt-claims-7658d9cdeaac)] and add additional user details, such as email, username, groups, etc.\r\nHere is how my `id_token` looks like now:\r\n\r\n```\r\n\t>>> print(json.dumps(payload, indent=2))\r\n\t{\r\n\t  \"nonce\": \"X846lT18q7MmJC7JNFN3BveaO2i1N5F7\", \r\n\t  \"upn\": \"user1@devdomain.local\", \r\n\t  \"unique_name\": \"DEVDOMAIN\\\\user1\", \r\n\t  \"appid\": \"de933ef8-eba6-409f-9860-c8248e23bd06\", \r\n\t  \"group\": [\r\n\t    \"devgroup2\", \r\n\t    \"devgroup1\"\r\n\t  ], \r\n\t  \"aud\": \"ae913af1-aba1-123a-1230-a8248e21bd01\", \r\n\t  \"apptype\": \"Confidential\", \r\n\t  \"iss\": \"https://WINDEV.DEVDOMAIN.local/adfs\", \r\n\t  \"sid\": \"S-1-5-21-123684123-1031106123-3064591234-1236\", \r\n\t  \"authmethod\": \"urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport\", \r\n\t  \"scp\": \"allatclaims openid\", \r\n\t  \"given_name\": \"user1\", \r\n\t  \"exp\": 1549286843, \r\n\t  \"auth_time\": 1549270729, \r\n\t  \"iat\": 1549283243, \r\n\t  \"email\": \"user1@example.com\", \r\n\t  \"ver\": \"1.0\", \r\n\t  \"sub\": \"BrszsTk+d1Y/qhOjWkiYqa+W6/0=\"\r\n\t}\r\n```\r\nMaybe i missed something but it seems that `mozilla-django-oidc` does not currently support using user details from `id_token`, is this correct?\r\n\r\nI am considering overriding `OIDCAuthenticationBackend.get_userinfo` or `OIDCAuthenticationBackend.get_or_create_user` in order to use `id_token` data instead of `userinfo`, does that sound like a right approach? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/296", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/296/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/296/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/296", "id": 405898310, "node_id": "MDU6SXNzdWU0MDU4OTgzMTA=", "number": 296, "title": "Readthedocs integration no longer working", "user": {"login": "gene1wood", "id": 1134034, "node_id": "MDQ6VXNlcjExMzQwMzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1134034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gene1wood", "html_url": "https://github.com/gene1wood", "followers_url": "https://api.github.com/users/gene1wood/followers", "following_url": "https://api.github.com/users/gene1wood/following{/other_user}", "gists_url": "https://api.github.com/users/gene1wood/gists{/gist_id}", "starred_url": "https://api.github.com/users/gene1wood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gene1wood/subscriptions", "organizations_url": "https://api.github.com/users/gene1wood/orgs", "repos_url": "https://api.github.com/users/gene1wood/repos", "events_url": "https://api.github.com/users/gene1wood/events{/privacy}", "received_events_url": "https://api.github.com/users/gene1wood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-01T22:27:04Z", "updated_at": "2019-08-02T12:45:28Z", "closed_at": "2019-08-02T12:45:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With [GitHub services being turned off yesterday](https://developer.github.com/changes/2018-04-25-github-services-deprecation/) the Readthedocs integration has stopped working and changes to documentation will no longer result in updated to the readthedocs site for this project. Please create [a Readthedocs GitHub webhook](https://docs.readthedocs.io/en/latest/webhooks.html#webhook-creation) to re-enable this functionality.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/295", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/295/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/295/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/295", "id": 403409836, "node_id": "MDU6SXNzdWU0MDM0MDk4MzY=", "number": 295, "title": "response_type is hard coded", "user": {"login": "h4ppysmile", "id": 13914657, "node_id": "MDQ6VXNlcjEzOTE0NjU3", "avatar_url": "https://avatars0.githubusercontent.com/u/13914657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h4ppysmile", "html_url": "https://github.com/h4ppysmile", "followers_url": "https://api.github.com/users/h4ppysmile/followers", "following_url": "https://api.github.com/users/h4ppysmile/following{/other_user}", "gists_url": "https://api.github.com/users/h4ppysmile/gists{/gist_id}", "starred_url": "https://api.github.com/users/h4ppysmile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h4ppysmile/subscriptions", "organizations_url": "https://api.github.com/users/h4ppysmile/orgs", "repos_url": "https://api.github.com/users/h4ppysmile/repos", "events_url": "https://api.github.com/users/h4ppysmile/events{/privacy}", "received_events_url": "https://api.github.com/users/h4ppysmile/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-26T05:44:15Z", "updated_at": "2019-08-02T12:54:20Z", "closed_at": "2019-08-02T12:54:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "my client response type to work needs to be `id_token token`  but it is hard coded `code` at line 143 of `views.py` . \r\nIs not better to make it config?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/291", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/291/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/291/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/291", "id": 400293041, "node_id": "MDU6SXNzdWU0MDAyOTMwNDE=", "number": 291, "title": "mozilla-django-oidc, Session flushed between authorize and callback", "user": {"login": "ZedObaia", "id": 12008518, "node_id": "MDQ6VXNlcjEyMDA4NTE4", "avatar_url": "https://avatars0.githubusercontent.com/u/12008518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZedObaia", "html_url": "https://github.com/ZedObaia", "followers_url": "https://api.github.com/users/ZedObaia/followers", "following_url": "https://api.github.com/users/ZedObaia/following{/other_user}", "gists_url": "https://api.github.com/users/ZedObaia/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZedObaia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZedObaia/subscriptions", "organizations_url": "https://api.github.com/users/ZedObaia/orgs", "repos_url": "https://api.github.com/users/ZedObaia/repos", "events_url": "https://api.github.com/users/ZedObaia/events{/privacy}", "received_events_url": "https://api.github.com/users/ZedObaia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-17T14:08:33Z", "updated_at": "2019-04-12T12:31:20Z", "closed_at": "2019-02-20T08:38:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to set up a client to authenticate using a provider that I built.\r\nI followed the quick start in the docs and here's the relates **settings**:\r\n```\r\nINSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'mozilla_django_oidc',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n]\r\n```\r\n```\r\nAUTHENTICATION_BACKENDS = (\r\n    'mozilla_django_oidc.auth.OIDCAuthenticationBackend',\r\n    'django.contrib.auth.backends.ModelBackend',\r\n)   \r\n```\r\n\r\n```\r\nOIDC_OP_JWKS_ENDPOINT = \"http://127.0.0.1:8000/openid/jwks\"\r\nOIDC_RP_CLIENT_ID = 'id'\r\nOIDC_RP_CLIENT_SECRET = 'secret'\r\n\r\nOIDC_OP_AUTHORIZATION_ENDPOINT = \"http://127.0.0.1:8000/openid/authorize\"\r\nOIDC_OP_TOKEN_ENDPOINT = \"http://127.0.0.1:8000/openid/token\"\r\nOIDC_OP_USER_ENDPOINT = \"http://127.0.0.1:8000/openid/userinfo\"\r\n\r\nOIDC_CREATE_USER = True\r\nOIDC_RP_SCOPES = \"openid profile email\"\r\n```\r\nand in the **templates**\r\n```\r\n    {% if request.user.is_authenticated %}\r\n      <p>Current user: {{ request.user.email }}</p>\r\n    {% else %}\r\n      <a href=\"{% url 'oidc_authentication_init' %}\">Login</a>\r\n    {% endif %}\r\n```\r\nI get redirected to the provider when i click login, and I get a callback with the authorization code, but the client never post data to the token endpoint.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/290", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/290/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/290/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/290", "id": 398858449, "node_id": "MDU6SXNzdWUzOTg4NTg0NDk=", "number": 290, "title": "Verify email breaks authentication (regression 1.2.0)", "user": {"login": "ziima", "id": 331955, "node_id": "MDQ6VXNlcjMzMTk1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/331955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziima", "html_url": "https://github.com/ziima", "followers_url": "https://api.github.com/users/ziima/followers", "following_url": "https://api.github.com/users/ziima/following{/other_user}", "gists_url": "https://api.github.com/users/ziima/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziima/subscriptions", "organizations_url": "https://api.github.com/users/ziima/orgs", "repos_url": "https://api.github.com/users/ziima/repos", "events_url": "https://api.github.com/users/ziima/events{/privacy}", "received_events_url": "https://api.github.com/users/ziima/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-01-14T12:01:41Z", "updated_at": "2019-01-21T16:58:55Z", "closed_at": "2019-01-21T16:58:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Change from #285 breaks authentication in some cases. The check is unconditional, so in case `OIDC_CREATE_USER` is set to `False` and `email` is not requested, the authentication starts failing after migration to version 1.2.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/289", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/289/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/289/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/289", "id": 398471193, "node_id": "MDU6SXNzdWUzOTg0NzExOTM=", "number": 289, "title": "setup with okta", "user": {"login": "phamj88", "id": 25780505, "node_id": "MDQ6VXNlcjI1NzgwNTA1", "avatar_url": "https://avatars3.githubusercontent.com/u/25780505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phamj88", "html_url": "https://github.com/phamj88", "followers_url": "https://api.github.com/users/phamj88/followers", "following_url": "https://api.github.com/users/phamj88/following{/other_user}", "gists_url": "https://api.github.com/users/phamj88/gists{/gist_id}", "starred_url": "https://api.github.com/users/phamj88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phamj88/subscriptions", "organizations_url": "https://api.github.com/users/phamj88/orgs", "repos_url": "https://api.github.com/users/phamj88/repos", "events_url": "https://api.github.com/users/phamj88/events{/privacy}", "received_events_url": "https://api.github.com/users/phamj88/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-11T22:13:16Z", "updated_at": "2019-06-14T13:41:23Z", "closed_at": "2019-01-15T16:50:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All,\r\n\r\nI am getting an exception whenever I authenticate and get redirected back to /oidc/callback:\r\n```\r\ndjango.core.exceptions.SuspiciousOperation: The provider algorithm 'RS256' does not match the client's OIDC_RP_SIGN_ALGO.\r\n```\r\nReading Okta documentation it says it is default 'HS256' so I dont know why it is saying RS256.\r\nBut its not obvious on the Okta app, has no settings for what time of signing algorithm it uses.\r\nhttps://developer.okta.com/docs/api/resources/oidc#token-authentication-methods\r\n\r\nOn my Okta app I can see OIDC access token is granted\r\nMy setup is exactly like everything default on the installation guide.\r\n\r\nOkta app:\r\nLogin redirect URIs: http://localhost:8000/oidc/callback/\r\nInitiate login URI: http://localhost:8000/oidc/callback/\r\n\r\nsettings.py vars for endpoints:\r\n```\r\n OIDC_OP_AUTHORIZATION_ENDPOINT = 'https://myaccount.oktapreview.com/oauth2/v1/authorize'\r\n OIDC_OP_TOKEN_ENDPOINT = 'https://myaccount.oktapreview.com/oauth2/v1/token'\r\n OIDC_OP_USER_ENDPOINT = 'https://myaccount.oktapreview.com/oauth2/v1/userinfo'\r\n```\r\n\r\nAnyone familiar with Okta or run into this issue yet?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/282", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/282/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/282/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/282", "id": 372295871, "node_id": "MDU6SXNzdWUzNzIyOTU4NzE=", "number": 282, "title": "url oidc_logout - should get-request work?", "user": {"login": "AndyNor", "id": 2308734, "node_id": "MDQ6VXNlcjIzMDg3MzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2308734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndyNor", "html_url": "https://github.com/AndyNor", "followers_url": "https://api.github.com/users/AndyNor/followers", "following_url": "https://api.github.com/users/AndyNor/following{/other_user}", "gists_url": "https://api.github.com/users/AndyNor/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndyNor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndyNor/subscriptions", "organizations_url": "https://api.github.com/users/AndyNor/orgs", "repos_url": "https://api.github.com/users/AndyNor/repos", "events_url": "https://api.github.com/users/AndyNor/events{/privacy}", "received_events_url": "https://api.github.com/users/AndyNor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-21T09:29:06Z", "updated_at": "2019-08-02T14:17:57Z", "closed_at": "2019-08-02T14:17:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "In urls.py there is a url for logging out. I could not find the documentation for it or any examples using it except for the mention of OIDC_OP_LOGOUT_URL_METHOD under https://mozilla-django-oidc.readthedocs.io/en/stable/installation.html#log-user-out-of-the-openid-connect-provider.\r\n\r\nurl(r'^logout/$', views.OIDCLogoutView.as_view(), name='oidc_logout') points to OIDCLogoutView in views.py. It defines http_method_names = ['get', 'post'], but the part using OIDC_OP_LOGOUT_URL_METHOD is used only in the def post(self, request): method. \r\n\r\nSimply changing \"post\" to \"get\" fixes logout of my identity provider.\r\nIs the \"get\" verb forgotten here, or am I using this the wrong way? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/276", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/276/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/276/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/276", "id": 355214194, "node_id": "MDU6SXNzdWUzNTUyMTQxOTQ=", "number": 276, "title": "Unclear how to redirect back to desired URL after completing login.", "user": {"login": "jschwartzentruber", "id": 4673461, "node_id": "MDQ6VXNlcjQ2NzM0NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4673461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jschwartzentruber", "html_url": "https://github.com/jschwartzentruber", "followers_url": "https://api.github.com/users/jschwartzentruber/followers", "following_url": "https://api.github.com/users/jschwartzentruber/following{/other_user}", "gists_url": "https://api.github.com/users/jschwartzentruber/gists{/gist_id}", "starred_url": "https://api.github.com/users/jschwartzentruber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jschwartzentruber/subscriptions", "organizations_url": "https://api.github.com/users/jschwartzentruber/orgs", "repos_url": "https://api.github.com/users/jschwartzentruber/repos", "events_url": "https://api.github.com/users/jschwartzentruber/events{/privacy}", "received_events_url": "https://api.github.com/users/jschwartzentruber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-29T15:26:02Z", "updated_at": "2018-10-18T14:33:27Z", "closed_at": "2018-10-18T14:31:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I request /app/index on our domain, I am redirected to auth0, authentication completes, and I'm redirected back to our domain, but at / instead of /app/index.\r\n\r\nI do have `LOGIN_REDIRECT_URL = '/'` in settings.py, but I understood that to be where an explicit login request would go, I thought an implicit login redirect would continue at the original url. Is that wrong?\r\n\r\nI'm guessing this is a mis-configuration, so this is just a help/documentation request.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/266", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/266/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/266/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/266", "id": 348427833, "node_id": "MDU6SXNzdWUzNDg0Mjc4MzM=", "number": 266, "title": "is_safe_url() got an unexpected keyword argument 'host' (Django 2.1)", "user": {"login": "robhudson", "id": 1106, "node_id": "MDQ6VXNlcjExMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robhudson", "html_url": "https://github.com/robhudson", "followers_url": "https://api.github.com/users/robhudson/followers", "following_url": "https://api.github.com/users/robhudson/following{/other_user}", "gists_url": "https://api.github.com/users/robhudson/gists{/gist_id}", "starred_url": "https://api.github.com/users/robhudson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robhudson/subscriptions", "organizations_url": "https://api.github.com/users/robhudson/orgs", "repos_url": "https://api.github.com/users/robhudson/repos", "events_url": "https://api.github.com/users/robhudson/events{/privacy}", "received_events_url": "https://api.github.com/users/robhudson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-07T18:02:20Z", "updated_at": "2018-08-09T13:19:04Z", "closed_at": "2018-08-09T13:19:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the [Django deprecation timeline](https://docs.djangoproject.com/en/dev/internals/deprecation/#deprecation-removed-in-2-1), the `host` parameter to `is_safe_url` was removed. This project currently passes `host` to determine the `next` url, breaking support for Django 2.1.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/265", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/265/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/265/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/265", "id": 347629162, "node_id": "MDU6SXNzdWUzNDc2MjkxNjI=", "number": 265, "title": "Django REST framework integration issues", "user": {"login": "estherjk", "id": 3721990, "node_id": "MDQ6VXNlcjM3MjE5OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/3721990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estherjk", "html_url": "https://github.com/estherjk", "followers_url": "https://api.github.com/users/estherjk/followers", "following_url": "https://api.github.com/users/estherjk/following{/other_user}", "gists_url": "https://api.github.com/users/estherjk/gists{/gist_id}", "starred_url": "https://api.github.com/users/estherjk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estherjk/subscriptions", "organizations_url": "https://api.github.com/users/estherjk/orgs", "repos_url": "https://api.github.com/users/estherjk/repos", "events_url": "https://api.github.com/users/estherjk/events{/privacy}", "received_events_url": "https://api.github.com/users/estherjk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-04T16:04:47Z", "updated_at": "2018-08-11T15:37:47Z", "closed_at": "2018-08-11T15:37:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm currently trying to get the Django REST framework integration working and get this when I access my API (using the browsable API):\r\n\r\n```\r\nHTTP 401 Unauthorized\r\nAllow: GET, HEAD, OPTIONS\r\nContent-Type: application/json\r\nVary: Accept\r\nWWW-Authenticate: Bearer realm=\"api\"\r\n\r\n{\r\n    \"detail\": \"Authentication credentials were not provided.\"\r\n}\r\n```\r\n\r\nHere's what the relevant (I think) sections in `settings.py` look like:\r\n\r\n```py\r\nINSTALLED_APPS = [\r\n    'home.apps.HomeConfig',\r\n    'accounts.apps.AccountsConfig',\r\n    'api.apps.ApiConfig',\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'mozilla_django_oidc',  # Load after auth\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'rest_framework',\r\n]\r\n\r\nAUTHENTICATION_BACKENDS = (\r\n    'mozilla_django_oidc.auth.OIDCAuthenticationBackend',\r\n\r\n    # Basic authentication backend that checks the Django users database and queries the built-in permissions\r\n    # 'django.contrib.auth.backends.ModelBackend',\r\n)\r\n\r\nREST_FRAMEWORK = {\r\n    'DEFAULT_AUTHENTICATION_CLASSES': (\r\n        'mozilla_django_oidc.contrib.drf.OIDCAuthentication',\r\n    ),\r\n    'DEFAULT_PERMISSION_CLASSES': (\r\n        'rest_framework.permissions.IsAuthenticated',\r\n    )\r\n}\r\n```\r\n\r\nIs there anything else that I should be configuring? Any help would be appreciated.\r\n\r\nAlso, for reference, using Python 3.6.5 with the following versions for Django, etc.:\r\n\r\n```\r\nDjango==2.0.7\r\ndjangorestframework==3.8.2\r\nmozilla-django-oidc==1.1.0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/261", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/261/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/261/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/261", "id": 345784904, "node_id": "MDU6SXNzdWUzNDU3ODQ5MDQ=", "number": 261, "title": "Remove legacy code to detect secure connections", "user": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1009271814, "node_id": "MDU6TGFiZWwxMDA5MjcxODE0", "url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/labels/Good%20first%20bug", "name": "Good first bug", "color": "92f4ab", "default": false, "description": ""}, {"id": 1009271691, "node_id": "MDU6TGFiZWwxMDA5MjcxNjkx", "url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/labels/Low%20hanging%20fruit", "name": "Low hanging fruit", "color": "61a0bf", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-30T14:34:18Z", "updated_at": "2018-08-09T13:44:23Z", "closed_at": "2018-08-09T13:44:23Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In Django 1.11+ we can use ``request.is_secure()`` to check if a request is being done using https. We have some compatibility code that can be cleaned up here:\r\n\r\nhttps://github.com/mozilla/mozilla-django-oidc/blob/master/mozilla_django_oidc/views.py#L113 \r\n\r\nSince we don't support Django < 1.11 we can simplify the code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/257", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/257/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/257/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/257", "id": 343222099, "node_id": "MDU6SXNzdWUzNDMyMjIwOTk=", "number": 257, "title": "Changing OIDC_AUTHENTICATION_CALLBACK_URL to https url", "user": {"login": "joshnewlinatclearobject", "id": 29074853, "node_id": "MDQ6VXNlcjI5MDc0ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/29074853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshnewlinatclearobject", "html_url": "https://github.com/joshnewlinatclearobject", "followers_url": "https://api.github.com/users/joshnewlinatclearobject/followers", "following_url": "https://api.github.com/users/joshnewlinatclearobject/following{/other_user}", "gists_url": "https://api.github.com/users/joshnewlinatclearobject/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshnewlinatclearobject/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshnewlinatclearobject/subscriptions", "organizations_url": "https://api.github.com/users/joshnewlinatclearobject/orgs", "repos_url": "https://api.github.com/users/joshnewlinatclearobject/repos", "events_url": "https://api.github.com/users/joshnewlinatclearobject/events{/privacy}", "received_events_url": "https://api.github.com/users/joshnewlinatclearobject/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-20T19:27:43Z", "updated_at": "2018-07-26T17:05:23Z", "closed_at": "2018-07-26T17:05:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey,\r\n\r\nCurrently, the auth callback url that is being generated is routing to `http://...`. I would like to change this to `https://...` so we can run my application in an iframe on a secure site. I've attempted setting the `OIDC_AUTHENTICATION_CALLBACK_URL` to the same url it generates, with just `https` instead of `http`.\r\n\r\nThe problem is that I'm receiving a `NoReverseMatch at /oidc/authenticate/ 'https' is not a registered namespace` error. I've followed this ticket #193 for advice on this, and it says I have to define a url in `urls.py`. I don't think I can do this, however, because as I'm aware, the urls in `urls.py` are relative to the hostname, and shouldn't care about what comes before the first `/`. Any advice on this issue, or how I can get around it in any way?\r\n\r\nI appreciate the time you took to read this, I'm sorry if this is the incorrect place to ask a question like this. Thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/253", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/253/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/253/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/253", "id": 332322160, "node_id": "MDU6SXNzdWUzMzIzMjIxNjA=", "number": 253, "title": "OIDCAuthenticationBackend.authenticate doesn't handle error responses", "user": {"login": "tpazderka", "id": 7734753, "node_id": "MDQ6VXNlcjc3MzQ3NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7734753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tpazderka", "html_url": "https://github.com/tpazderka", "followers_url": "https://api.github.com/users/tpazderka/followers", "following_url": "https://api.github.com/users/tpazderka/following{/other_user}", "gists_url": "https://api.github.com/users/tpazderka/gists{/gist_id}", "starred_url": "https://api.github.com/users/tpazderka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tpazderka/subscriptions", "organizations_url": "https://api.github.com/users/tpazderka/orgs", "repos_url": "https://api.github.com/users/tpazderka/repos", "events_url": "https://api.github.com/users/tpazderka/events{/privacy}", "received_events_url": "https://api.github.com/users/tpazderka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-14T09:29:11Z", "updated_at": "2018-06-25T07:17:29Z", "closed_at": "2018-06-25T07:17:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Server response: ```{\"error_description\": \"Access Code already used\", \"error\": \"access_denied\"}``` on token endpoint causes an unhandled exception ```Deserialization error: Compact JWS serialization should comprise of exactly 3 dot-separated components``` in ```verify_token```.\r\n\r\nAn error response should be expected and cause a simple login failure.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/249", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/249/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/249/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/249", "id": 331126795, "node_id": "MDU6SXNzdWUzMzExMjY3OTU=", "number": 249, "title": "Unsecured JWT check is failing", "user": {"login": "ollamh", "id": 1472539, "node_id": "MDQ6VXNlcjE0NzI1Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1472539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ollamh", "html_url": "https://github.com/ollamh", "followers_url": "https://api.github.com/users/ollamh/followers", "following_url": "https://api.github.com/users/ollamh/following{/other_user}", "gists_url": "https://api.github.com/users/ollamh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ollamh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ollamh/subscriptions", "organizations_url": "https://api.github.com/users/ollamh/orgs", "repos_url": "https://api.github.com/users/ollamh/repos", "events_url": "https://api.github.com/users/ollamh/events{/privacy}", "received_events_url": "https://api.github.com/users/ollamh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-06-11T10:13:08Z", "updated_at": "2018-07-26T14:25:10Z", "closed_at": "2018-07-26T14:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Problem\r\nWe have an identity provider which doesn't sign tokens (and to my surprise it's legal `https://tools.ietf.org/html/rfc7519#section-6`), so, the token looks like\r\n```\r\n<header>.<payload>.\r\n```\r\nand this causing the error:\r\n```\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/mozilla_django_oidc/auth.py\", line 239, in authenticate\r\n    verified_id = self.verify_token(id_token, nonce=nonce)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/mozilla_django_oidc/auth.py\", line 165, in verify_token\r\n    verified_token = self._verify_jws(token, key)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/mozilla_django_oidc/auth.py\", line 103, in _verify_jws\r\n    jws = JWS.from_compact(payload)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/jws.py\", line 313, in from_compact\r\n    signature=b64.b64decode(signature))\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/jws.py\", line 166, in __init__\r\n    kwargs = self._with_combined(kwargs)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/jws.py\", line 177, in _with_combined\r\n    combined = header + cls.header_cls.json_loads(protected)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/interfaces.py\", line 179, in json_loads\r\n    return cls.from_json(loads)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/json_util.py\", line 289, in from_json\r\n    return cls(**cls.fields_from_json(jobj))\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/json_util.py\", line 280, in fields_from_json\r\n    fields[slot] = field.decode(value)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/json_util.py\", line 88, in decode\r\n    return self.fdec(value)\r\n  File \"/var/proj/virtual/local/lib/python2.7/site-packages/josepy/jwa.py\", line 57, in from_json\r\n    return cls.SIGNATURES[jobj]\r\nKeyError: u'none'\r\n```\r\n# Expected behavior\r\nIMHO, the token should pass the check (since no signing information has been given) and maybe log a warning about the token not being signed. Or maybe it would be even better to have a flag which can allow/forbid usage of unsigned tokens.\r\n\r\nIs there any existing workaround which I missed? The project documentation doesn't cover this particular use case.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/248", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/248/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/248/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/248", "id": 330752980, "node_id": "MDU6SXNzdWUzMzA3NTI5ODA=", "number": 248, "title": "SessionRefresh middleware is not usable with other authentication backends", "user": {"login": "gavinwahl", "id": 421710, "node_id": "MDQ6VXNlcjQyMTcxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/421710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gavinwahl", "html_url": "https://github.com/gavinwahl", "followers_url": "https://api.github.com/users/gavinwahl/followers", "following_url": "https://api.github.com/users/gavinwahl/following{/other_user}", "gists_url": "https://api.github.com/users/gavinwahl/gists{/gist_id}", "starred_url": "https://api.github.com/users/gavinwahl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gavinwahl/subscriptions", "organizations_url": "https://api.github.com/users/gavinwahl/orgs", "repos_url": "https://api.github.com/users/gavinwahl/repos", "events_url": "https://api.github.com/users/gavinwahl/events{/privacy}", "received_events_url": "https://api.github.com/users/gavinwahl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-08T18:07:18Z", "updated_at": "2018-07-26T17:39:13Z", "closed_at": "2018-07-26T17:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "My project allows both oidc authentication and regular django username/password authentication. Everything works great except for SessionRefresh middleware, which is redirecting my normal users through the oidc process. I think that the only thing need to fix this is to not try to refresh the token if oidc_id_token_expiration is not in the session. I tried that and it works, but there is a test case specifically forbidding this behavior. Why is that? oidc_id_token_expiration will be in the session iff the user is an oidc user, so I don't see why we need to have a case for when it's missing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/247", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/247/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/247/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/247", "id": 330291263, "node_id": "MDU6SXNzdWUzMzAyOTEyNjM=", "number": 247, "title": "alg should be optional", "user": {"login": "Algogator", "id": 1433469, "node_id": "MDQ6VXNlcjE0MzM0Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1433469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Algogator", "html_url": "https://github.com/Algogator", "followers_url": "https://api.github.com/users/Algogator/followers", "following_url": "https://api.github.com/users/Algogator/following{/other_user}", "gists_url": "https://api.github.com/users/Algogator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Algogator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Algogator/subscriptions", "organizations_url": "https://api.github.com/users/Algogator/orgs", "repos_url": "https://api.github.com/users/Algogator/repos", "events_url": "https://api.github.com/users/Algogator/events{/privacy}", "received_events_url": "https://api.github.com/users/Algogator/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-07T14:13:00Z", "updated_at": "2018-07-26T17:07:49Z", "closed_at": "2018-07-26T17:07:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "An error is thrown if the RSA key doesn't have it\r\n\r\nhttps://imgur.com/a/LZiDZ9f", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/245", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/245/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/245/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/245", "id": 330166885, "node_id": "MDU6SXNzdWUzMzAxNjY4ODU=", "number": 245, "title": "Drop conditional cryptography version", "user": {"login": "ziima", "id": 331955, "node_id": "MDQ6VXNlcjMzMTk1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/331955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziima", "html_url": "https://github.com/ziima", "followers_url": "https://api.github.com/users/ziima/followers", "following_url": "https://api.github.com/users/ziima/following{/other_user}", "gists_url": "https://api.github.com/users/ziima/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziima/subscriptions", "organizations_url": "https://api.github.com/users/ziima/orgs", "repos_url": "https://api.github.com/users/ziima/repos", "events_url": "https://api.github.com/users/ziima/events{/privacy}", "received_events_url": "https://api.github.com/users/ziima/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-07T08:24:34Z", "updated_at": "2018-06-12T23:46:08Z", "closed_at": "2018-06-12T23:46:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "`mozilla-django-oidc` forces `cryptography<1.9` to be used under python 2.7, which does not make any sense. Cryptography still supports the python 2.7 and there is no reason to keep it back.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/244", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/244/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/244/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/244", "id": 329914806, "node_id": "MDU6SXNzdWUzMjk5MTQ4MDY=", "number": 244, "title": "Login fails after authorizing user ", "user": {"login": "Algogator", "id": 1433469, "node_id": "MDQ6VXNlcjE0MzM0Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1433469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Algogator", "html_url": "https://github.com/Algogator", "followers_url": "https://api.github.com/users/Algogator/followers", "following_url": "https://api.github.com/users/Algogator/following{/other_user}", "gists_url": "https://api.github.com/users/Algogator/gists{/gist_id}", "starred_url": "https://api.github.com/users/Algogator/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Algogator/subscriptions", "organizations_url": "https://api.github.com/users/Algogator/orgs", "repos_url": "https://api.github.com/users/Algogator/repos", "events_url": "https://api.github.com/users/Algogator/events{/privacy}", "received_events_url": "https://api.github.com/users/Algogator/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1009346648, "node_id": "MDU6TGFiZWwxMDA5MzQ2NjQ4", "url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/labels/triage", "name": "triage", "color": "f77bce", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-06-06T15:17:48Z", "updated_at": "2020-05-06T17:38:10Z", "closed_at": "2020-02-05T11:34:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "> [06/Jun/2018 17:13:03] \"GET /oidc/authenticate/ HTTP/1.1\" 302 0\r\n[06/Jun/2018 17:13:09] \"GET /oidc/callback/?state=lY57giXxu5WWd4s1OqDYHXlOG4pUhEZm&code=3925eb48-e352-4ba8-a165-aa91fe709662_9dK5ps3XQM_HGTP1J4LA7IX_rViZbVGT HTTP/1.1\" 302 0\r\n[06/Jun/2018 17:13:10] \"GET /oidc/callback/ HTTP/1.1\" 302 0\r\n\r\nThe site is redirected to the login failure url after authorizing the user\r\n\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/235", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/235/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/235/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/235", "id": 325256394, "node_id": "MDU6SXNzdWUzMjUyNTYzOTQ=", "number": 235, "title": "Refactor of class constructors (in support of multi-site applications)", "user": {"login": "cobusc", "id": 574390, "node_id": "MDQ6VXNlcjU3NDM5MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/574390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cobusc", "html_url": "https://github.com/cobusc", "followers_url": "https://api.github.com/users/cobusc/followers", "following_url": "https://api.github.com/users/cobusc/following{/other_user}", "gists_url": "https://api.github.com/users/cobusc/gists{/gist_id}", "starred_url": "https://api.github.com/users/cobusc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cobusc/subscriptions", "organizations_url": "https://api.github.com/users/cobusc/orgs", "repos_url": "https://api.github.com/users/cobusc/repos", "events_url": "https://api.github.com/users/cobusc/events{/privacy}", "received_events_url": "https://api.github.com/users/cobusc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-22T11:41:43Z", "updated_at": "2019-08-02T13:24:41Z", "closed_at": "2019-08-02T13:24:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on a project where we want to support multiple sites from a single Django instance. The `sites` framework is used. In order to support multiple OIDC clients, I had to subclass most views and override methods to set the `CLIENT_ID` and `CLIENT_SECRET` based on the applicable site.\r\n\r\nFor some views (https://github.com/mozilla/mozilla-django-oidc/blob/master/mozilla_django_oidc/views.py#L122-L138) it was simple. Redacted example:\r\n```\r\nclass CustomAuthenticationRequestView(OIDCAuthenticationRequestView):\r\n    def get(self, request):\r\n        site = get_current_site(request)\r\n        self.OIDC_RP_CLIENT_ID = site.oidcsettings.oidc_rp_client_id\r\n        self.OIDC_RP_SCOPES = site.oidcsettings.oidc_rp_scopes\r\n        return super().get(request)\r\n```\r\n\r\nFor others (https://github.com/mozilla/mozilla-django-oidc/blob/master/mozilla_django_oidc/middleware.py#L83-L139) I had to copy and modify the code, which is not ideal.\r\n\r\nThis brings me to my suggestion: It looks like it would make sense to perform all calls to`import_from_settings` in the constructors of classes, setting the appropriate instance variables for use in the class methods. This would then make it trivial for anyone who wants to tweak the behaviour based on requests, for instance, as shown in my first link.\r\n\r\nYour thoughts?\r\n\r\nAt the very least I feel that the following function should be changed, so that the CLIENT_ID, CLIENT_SECRET and SCOPES can be easily overriden: https://github.com/mozilla/mozilla-django-oidc/blob/master/mozilla_django_oidc/middleware.py#L83 \r\n\r\nPlease let me know what you think of the suggestion and whether it is something you would be able to do or whether you would like me to jump in and help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/230", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/230/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/230/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/230", "id": 321114384, "node_id": "MDU6SXNzdWUzMjExMTQzODQ=", "number": 230, "title": "New Release 1.0.0", "user": {"login": "codiebeulaine", "id": 7911010, "node_id": "MDQ6VXNlcjc5MTEwMTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/7911010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codiebeulaine", "html_url": "https://github.com/codiebeulaine", "followers_url": "https://api.github.com/users/codiebeulaine/followers", "following_url": "https://api.github.com/users/codiebeulaine/following{/other_user}", "gists_url": "https://api.github.com/users/codiebeulaine/gists{/gist_id}", "starred_url": "https://api.github.com/users/codiebeulaine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codiebeulaine/subscriptions", "organizations_url": "https://api.github.com/users/codiebeulaine/orgs", "repos_url": "https://api.github.com/users/codiebeulaine/repos", "events_url": "https://api.github.com/users/codiebeulaine/events{/privacy}", "received_events_url": "https://api.github.com/users/codiebeulaine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-08T09:42:00Z", "updated_at": "2018-05-09T14:40:54Z", "closed_at": "2018-05-09T14:40:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pretty please can we have a new release? We really need features that are in this commit\r\n68a6d67", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/227", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/227/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/227/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/227", "id": 318391888, "node_id": "MDU6SXNzdWUzMTgzOTE4ODg=", "number": 227, "title": "Is it possible to use mozilla-django-oidc together with Django REST framework?", "user": {"login": "NorthCat", "id": 9047644, "node_id": "MDQ6VXNlcjkwNDc2NDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/9047644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NorthCat", "html_url": "https://github.com/NorthCat", "followers_url": "https://api.github.com/users/NorthCat/followers", "following_url": "https://api.github.com/users/NorthCat/following{/other_user}", "gists_url": "https://api.github.com/users/NorthCat/gists{/gist_id}", "starred_url": "https://api.github.com/users/NorthCat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NorthCat/subscriptions", "organizations_url": "https://api.github.com/users/NorthCat/orgs", "repos_url": "https://api.github.com/users/NorthCat/repos", "events_url": "https://api.github.com/users/NorthCat/events{/privacy}", "received_events_url": "https://api.github.com/users/NorthCat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-27T12:31:03Z", "updated_at": "2018-06-19T14:23:46Z", "closed_at": "2018-06-19T14:23:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to use mozilla-django-oidc together with Django REST framework?\r\nIf so, please give detailed instructions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/222", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/222/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/222/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/222", "id": 316296380, "node_id": "MDU6SXNzdWUzMTYyOTYzODA=", "number": 222, "title": "OIDCAuthenticationBackend captures authentication which doesn't belong to it", "user": {"login": "ziima", "id": 331955, "node_id": "MDQ6VXNlcjMzMTk1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/331955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziima", "html_url": "https://github.com/ziima", "followers_url": "https://api.github.com/users/ziima/followers", "following_url": "https://api.github.com/users/ziima/following{/other_user}", "gists_url": "https://api.github.com/users/ziima/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziima/subscriptions", "organizations_url": "https://api.github.com/users/ziima/orgs", "repos_url": "https://api.github.com/users/ziima/repos", "events_url": "https://api.github.com/users/ziima/events{/privacy}", "received_events_url": "https://api.github.com/users/ziima/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-20T14:44:52Z", "updated_at": "2018-04-25T09:46:10Z", "closed_at": "2018-04-25T09:46:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling `authenticate(request=request, my_kwarg=my_value)` with `OIDCAuthenticationBackend` in `AUTHENTICATION_BACKENDS` results in `SuspiciousOperation`. `OIDCAuthenticationBackend` shouldn't care about authentication, if the arguments doesn't match it's signature.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/220", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/220/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/220/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/220", "id": 315087974, "node_id": "MDU6SXNzdWUzMTUwODc5NzQ=", "number": 220, "title": "Pass current_app kwarg to reverse in OIDCAuthenticationRequestView", "user": {"login": "tpazderka", "id": 7734753, "node_id": "MDQ6VXNlcjc3MzQ3NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7734753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tpazderka", "html_url": "https://github.com/tpazderka", "followers_url": "https://api.github.com/users/tpazderka/followers", "following_url": "https://api.github.com/users/tpazderka/following{/other_user}", "gists_url": "https://api.github.com/users/tpazderka/gists{/gist_id}", "starred_url": "https://api.github.com/users/tpazderka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tpazderka/subscriptions", "organizations_url": "https://api.github.com/users/tpazderka/orgs", "repos_url": "https://api.github.com/users/tpazderka/repos", "events_url": "https://api.github.com/users/tpazderka/events{/privacy}", "received_events_url": "https://api.github.com/users/tpazderka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-17T14:30:53Z", "updated_at": "2018-04-19T15:27:19Z", "closed_at": "2018-04-19T15:27:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently it is not possible to add `mozilla_django_oidc` authentication to namespaced apps as the reverse for `redirect_uri` in `OIDCAuthenticationRequestView.get` will fail.\r\n\r\n~~This would become possible with passing `current_app=request.current_app` to `reverse`.~~\r\n`request.current_app` might not be a good solution... Maybe implement a `get_redirect_uri` method?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/217", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/217/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/217/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/217", "id": 313710092, "node_id": "MDU6SXNzdWUzMTM3MTAwOTI=", "number": 217, "title": "OIDC_OP_LOGOUT_URL_METHOD is not documented", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-12T12:42:18Z", "updated_at": "2018-04-13T12:12:21Z", "closed_at": "2018-04-13T12:12:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`OIDC_OP_LOGOUT_URL_METHOD` is not mentioned anywhere in the documentation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/210", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/210/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/210/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/210", "id": 305959404, "node_id": "MDU6SXNzdWUzMDU5NTk0MDQ=", "number": 210, "title": "Unable to generate docs locally", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-16T14:55:45Z", "updated_at": "2018-04-13T13:20:59Z", "closed_at": "2018-04-13T13:20:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I created a new vitualenv (based on 3.6) and pip installed `Sphinx`. Then tried to run `make docs`:\r\n\r\n\r\n```\r\n(mozilla-django-oidc)\r\ndev/DJANGO/mozilla-django-oidc  master \u2717                                                                                                                                                                   22d \u2691 \u25d2\r\n\u25b6 make docs\r\nrm -f docs/mozilla-django-oidc.rst\r\nrm -f docs/modules.rst\r\nsphinx-apidoc -o docs/ mozilla_django_oidc\r\nFile docs/mozilla_django_oidc.rst already exists, skipping.\r\nCreating file docs/modules.rst.\r\n/Applications/Xcode.app/Contents/Developer/usr/bin/make -C docs clean\r\nrm -rf _build/*\r\n/Applications/Xcode.app/Contents/Developer/usr/bin/make -C docs html\r\nsphinx-build -b html -d _build/doctrees   . _build/html\r\nRunning Sphinx v1.7.1\r\nmaking output directory...\r\nloading pickled environment... not yet created\r\nbuilding [mo]: targets for 0 po files that are out of date\r\nbuilding [html]: targets for 9 source files that are out of date\r\nupdating environment: 9 added, 0 changed, 0 removed\r\n../CONTRIBUTING.rst:106: WARNING: Unexpected indentation.\r\n../CONTRIBUTING.rst:108: WARNING: Block quote ends without a blank line; unexpected unindent.\r\nWARNING: autodoc: failed to import module 'mozilla_django_oidc.auth'; the following exception was raised:\r\nTraceback (most recent call last):\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/sphinx/ext/autodoc/importer.py\", line 140, in import_module\r\n    __import__(modname)\r\n  File \"/Users/peterbe/dev/DJANGO/mozilla-django-oidc/mozilla_django_oidc/auth.py\", line 8, in <module>\r\n    from django.contrib.auth.backends import ModelBackend\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/contrib/auth/backends.py\", line 2, in <module>\r\n    from django.contrib.auth.models import Permission\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/contrib/auth/models.py\", line 2, in <module>\r\n    from django.contrib.auth.base_user import AbstractBaseUser, BaseUserManager\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/contrib/auth/base_user.py\", line 47, in <module>\r\n    class AbstractBaseUser(models.Model):\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/db/models/base.py\", line 100, in __new__\r\n    app_config = apps.get_containing_app_config(module)\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/apps/registry.py\", line 244, in get_containing_app_config\r\n    self.check_apps_ready()\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/apps/registry.py\", line 127, in check_apps_ready\r\n    raise AppRegistryNotReady(\"Apps aren't loaded yet.\")\r\ndjango.core.exceptions.AppRegistryNotReady: Apps aren't loaded yet.\r\n\r\nWARNING: autodoc: failed to import module 'mozilla_django_oidc.urls'; the following exception was raised:\r\nTraceback (most recent call last):\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/sphinx/ext/autodoc/importer.py\", line 140, in import_module\r\n    __import__(modname)\r\n  File \"/Users/peterbe/dev/DJANGO/mozilla-django-oidc/mozilla_django_oidc/urls.py\", line 8, in <module>\r\n    CALLBACK_CLASS_PATH = import_from_settings('OIDC_CALLBACK_CLASS', DEFAULT_CALLBACK_CLASS)\r\n  File \"/Users/peterbe/dev/DJANGO/mozilla-django-oidc/mozilla_django_oidc/utils.py\", line 15, in import_from_settings\r\n    return getattr(settings, attr, args[0])\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/conf/__init__.py\", line 56, in __getattr__\r\n    self._setup(name)\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/conf/__init__.py\", line 41, in _setup\r\n    % (desc, ENVIRONMENT_VARIABLE))\r\ndjango.core.exceptions.ImproperlyConfigured: Requested setting OIDC_CALLBACK_CLASS, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings.\r\n\r\n\r\nException occurred:\r\n  File \"/Users/peterbe/virtualenvs/mozilla-django-oidc/lib/python3.6/site-packages/django/conf/__init__.py\", line 41, in _setup\r\n    % (desc, ENVIRONMENT_VARIABLE))\r\ndjango.core.exceptions.ImproperlyConfigured: Requested settings, but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.configure() before accessing settings.\r\nThe full traceback has been saved in /var/folders/1x/2hf5hbs902q54g3bgby5bzt40000gn/T/sphinx-err-55nrlbec.log, if you want to report the issue to the developers.\r\nPlease also report this if it was a user error, so that a better error message can be provided next time.\r\nA bug report can be filed in the tracker at <https://github.com/sphinx-doc/sphinx/issues>. Thanks!\r\nmake[1]: *** [html] Error 2\r\nmake: *** [docs] Error 2\r\n```\r\n\r\nWhat should I set the `DJANGO_SETTINGS_MODULE` to and how do you build the docs locally?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/204", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/204/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/204/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/204", "id": 282033248, "node_id": "MDU6SXNzdWUyODIwMzMyNDg=", "number": 204, "title": "Exception when calling /oidc/callback", "user": {"login": "nfvs", "id": 163961, "node_id": "MDQ6VXNlcjE2Mzk2MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/163961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nfvs", "html_url": "https://github.com/nfvs", "followers_url": "https://api.github.com/users/nfvs/followers", "following_url": "https://api.github.com/users/nfvs/following{/other_user}", "gists_url": "https://api.github.com/users/nfvs/gists{/gist_id}", "starred_url": "https://api.github.com/users/nfvs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nfvs/subscriptions", "organizations_url": "https://api.github.com/users/nfvs/orgs", "repos_url": "https://api.github.com/users/nfvs/repos", "events_url": "https://api.github.com/users/nfvs/events{/privacy}", "received_events_url": "https://api.github.com/users/nfvs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-12-14T09:27:28Z", "updated_at": "2019-11-04T14:04:34Z", "closed_at": "2018-03-20T11:07:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using Microsoft's servers triggers this exception:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner\r\n    response = get_response(request)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/core/handlers/base.py\", line 187, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/views/generic/base.py\", line 68, in view\r\n    return self.dispatch(request, *args, **kwargs)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/views/generic/base.py\", line 88, in dispatch\r\n    return handler(request, *args, **kwargs)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/mozilla_django_oidc/views.py\", line 75, in get\r\n    self.user = auth.authenticate(**kwargs)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/contrib/auth/__init__.py\", line 70, in authenticate\r\n    user = _authenticate_with_backend(backend, backend_path, request, credentials)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/django/contrib/auth/__init__.py\", line 115, in _authenticate_with_backend\r\n    return backend.authenticate(*args, **credentials)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/mozilla_django_oidc/auth.py\", line 174, in authenticate\r\n    if self.verify_token(id_token, nonce=nonce):\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/mozilla_django_oidc/auth.py\", line 123, in verify_token\r\n    smart_bytes(key),\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/mozilla_django_oidc/auth.py\", line 95, in _verify_jws\r\n    if not jws.verify(jwk):\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/josepy/jws.py\", line 263, in verify\r\n    return all(sig.verify(self.payload, key) for sig in self.signatures)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/josepy/jws.py\", line 263, in <genexpr>\r\n    return all(sig.verify(self.payload, key) for sig in self.signatures)\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/josepy/jws.py\", line 198, in verify\r\n    msg=self._msg(self.protected, payload))\r\n  File \"/Users/nsantos/.virtualenvs/ngn-console/lib/python3.6/site-packages/josepy/jwa.py\", line 123, in verify\r\n    verifier = key.verifier(sig, self.padding, self.hash)\r\nAttributeError: 'bytes' object has no attribute 'verifier'\r\n```\r\n\r\nRunning in python 3.6, using these versions:\r\n```\r\ndjango==1.11.8\r\nmozilla-django-oidc==0.4.2\r\ncryptography==2.1.4\r\nPyOpenSSL==17.5.0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/202", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/202/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/202/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/202", "id": 280214377, "node_id": "MDU6SXNzdWUyODAyMTQzNzc=", "number": 202, "title": "drop support for django 1.10", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-07T17:29:23Z", "updated_at": "2018-01-31T16:58:46Z", "closed_at": "2018-01-31T16:58:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://www.djangoproject.com/download/#supported-versions\r\n\r\nDjango 1.10 is no longer supported, so we should drop support for it, too.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/201", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/201/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/201/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/201", "id": 280212982, "node_id": "MDU6SXNzdWUyODAyMTI5ODI=", "number": 201, "title": "support django 2.0", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-07T17:25:00Z", "updated_at": "2018-01-31T16:58:52Z", "closed_at": "2018-01-31T16:58:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I removed `.tox` and then ran `tox` and got a bunch of failures:\r\n\r\n```\r\npy27-django111 create: /home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111\r\npy27-django111 installdeps: -r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt, Django>=1.11\r\nERROR: invocation failed (exit code 1), logfile: /home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111/log/py27-django111-1.log\r\nERROR: actionid: py27-django111\r\nmsg: getenv\r\ncmdargs: ['/home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111/bin/pip', 'install', '-r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt', 'Django>=1.11']\r\nenv: {'MANDATORY_PATH': '/usr/share/gconf/ubuntu.mandatory.path', 'TERMINATOR_DBUS_NAME': 'net.tenshu.Terminator20x1a6021154d881c', 'XDG_GREETER_DATA_DIR': '/var/lib/lightdm-data/willkg', 'QT4_IM_MODULE': 'xim', 'VIRTUALENVWRAPPER_HOOK_DIR': '/home/willkg/.virtualenvs', 'XDG_CURRENT_DESKTOP': 'Unity:Unity7', 'XDG_SESSION_TYPE': 'x11', 'QT_IM_MODULE': 'ibus', 'LOGNAME': 'willkg', 'USER': 'willkg', 'PATH': '/home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111/bin:/usr/local/heroku/bin:/home/willkg/.cargo/bin:/home/willkg/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/willkg/.local/bin:/home/willkg/bin:/home/willkg/.cargo/bin', 'HOME': '/home/willkg', 'VIRTUALENVWRAPPER_SCRIPT': '/usr/share/virtualenvwrapper/virtualenvwrapper.sh', 'DISPLAY': ':0', 'XDG_SESSION_DESKTOP': 'ubuntu', 'MANAGERPID': '1764', 'SHELL': '/bin/bash', 'XDG_SESSION_PATH': '/org/freedesktop/DisplayManager/Session0', 'XAUTHORITY': '/home/willkg/.Xauthority', 'JOURNAL_STREAM': '8:30414', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/local/share:/usr/share:/var/lib/snapd/desktop:/var/lib/snapd/desktop', 'QT_LINUX_ACCESSIBILITY_ALWAYS_ON': '1', 'QT_QPA_PLATFORMTHEME': 'appmenu-qt5', 'TERMINATOR_UUID': 'urn:uuid:bad64954-898c-471d-866b-0ac6a697362f', 'COMPIZ_CONFIG_PROFILE': 'ubuntu', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', 'CLUTTER_IM_MODULE': 'xim', 'PYTHONHASHSEED': '1007740955', 'EDITOR': 'vim', 'XMODIFIERS': '@im=ibus', 'GIO_LAUNCHED_DESKTOP_FILE_PID': '6184', 'GPG_AGENT_INFO': '/home/willkg/.gnupg/S.gpg-agent:0:1:', 'INVOCATION_ID': '953be5200996482ab641ae2f44cddcd3', 'GTK2_MODULES': 'overlay-scrollbar', 'LANG': 'en_US.UTF-8', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'XDG_RUNTIME_DIR': '/run/user/1000', 'WORKON_HOME': '/home/willkg/.virtualenvs', 'VIRTUALENVWRAPPER_PROJECT_FILENAME': '.project', 'PYTHONPATH': '/home/willkg/mozilla/mozilla-django-oidc', 'COMPIZ_BIN_PATH': '/usr/bin/', 'TERM': 'xterm-256color', 'GIO_LAUNCHED_DESKTOP_FILE': '/usr/share/applications/terminator.desktop', 'GDMSESSION': 'ubuntu', 'IM_CONFIG_PHASE': '1', 'TERMINATOR_DBUS_PATH': '/net/tenshu/Terminator2', '_VIRTUALENVWRAPPER_API': ' mkvirtualenv rmvirtualenv lsvirtualenv showvirtualenv workon add2virtualenv cdsitepackages cdvirtualenv lssitepackages toggleglobalsitepackages cpvirtualenv setvirtualenvproject mkproject cdproject mktmpenv', 'XDG_SEAT_PATH': '/org/freedesktop/DisplayManager/Seat0', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LESSOPEN': '| /usr/bin/lesspipe %s', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus', '_': '/home/willkg/.local/bin/tox', 'DEFAULTS_PATH': '/usr/share/gconf/ubuntu.default.path', 'GTK_IM_MODULE': 'ibus', 'DESKTOP_SESSION': 'ubuntu', 'VIRTUAL_ENV': '/home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'LANGUAGE': 'en_US', 'OLDPWD': '/home/willkg/mozilla/bleach', 'GDM_LANG': 'en_US', 'GTK_MODULES': 'gail:atk-bridge:unity-gtk-module', 'SHLVL': '2', 'PWD': '/home/willkg/mozilla/mozilla-django-oidc', 'BASH_FUNC_set_shell_label%%': '() {  function xterm_label () \\n { \\n local args=\"$*\";\\n echo -n \"\\x1b]2;${args:0:200}\\x07\"\\n };\\n function screen_label () \\n { \\n xterm_label \"$plain_who_where $@\";\\n [ \"$STY\" ] && screen -S $STY -X title \"$*\"\\n };\\n if [[ -n \"$STY\" ]]; then\\n screen_label \"$*\";\\n else\\n case $TERM in \\n screen*)\\n screen_label \"$*\"\\n ;;\\n xterm* | rxvt* | gnome-* | konsole | eterm | wterm)\\n xterm_label \"$plain_who_where $@\"\\n ;;\\n *)\\n\\n ;;\\n esac;\\n fi\\n}', 'DJANGO_SETTINGS_MODULE': 'tests.settings', 'SSH_AGENT_LAUNCHER': 'gnome-keyring', 'COLORTERM': 'truecolor', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'QT_ACCESSIBILITY': '1'}\r\n\r\nCollecting Django>=1.11\r\n  Using cached Django-2.0.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-JHXpEc/Django/setup.py\", line 32, in <module>\r\n        version = __import__('django').get_version()\r\n      File \"django/__init__.py\", line 1, in <module>\r\n        from django.utils.version import get_version\r\n      File \"django/utils/version.py\", line 61, in <module>\r\n        @functools.lru_cache()\r\n    AttributeError: 'module' object has no attribute 'lru_cache'\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-JHXpEc/Django/\r\n\r\nERROR: could not install deps [-r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt, Django>=1.11]; v = InvocationError('/home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111/bin/pip install -r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt Django>=1.11 (see /home/willkg/mozilla/mozilla-django-oidc/.tox/py27-django111/log/py27-django111-1.log)', 1)\r\n...\r\npy34-django111 create: /home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111\r\npy34-django111 installdeps: -r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt, Django>=1.11\r\npy34-django111 inst: /home/willkg/mozilla/mozilla-django-oidc/.tox/dist/mozilla-django-oidc-0.4.2.zip\r\npy34-django111 installed: asn1crypto==0.23.0,certifi==2017.11.5,cffi==1.11.2,chardet==3.0.4,cryptography==2.1.4,Django==2.0,idna==2.6,josepy==1.0.1,mock==2.0.0,mozilla-django-oidc==0.4.2,pbr==3.1.1,pycparser==2.18,pyOpenSSL==17.5.0,pytz==2017.3,requests==2.18.4,six==1.11.0,urllib3==1.22\r\npy34-django111 runtests: PYTHONHASHSEED='1007740955'\r\npy34-django111 runtests: commands[0] | django-admin.py test\r\nCreating test database for alias 'default'...\r\nTraceback (most recent call last):\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/bin/django-admin.py\", line 5, in <module>\r\n    management.execute_from_command_line()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/__init__.py\", line 371, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/__init__.py\", line 365, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/commands/test.py\", line 26, in run_from_argv\r\n    super().run_from_argv(argv)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/base.py\", line 288, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/base.py\", line 335, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/commands/test.py\", line 59, in handle\r\n    failures = test_runner.run_tests(test_labels)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/test/runner.py\", line 602, in run_tests\r\n    self.run_checks()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/test/runner.py\", line 564, in run_checks\r\n    call_command('check', verbosity=self.verbosity)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/__init__.py\", line 141, in call_command\r\n    return command.execute(*args, **defaults)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/base.py\", line 335, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/commands/check.py\", line 65, in handle\r\n    fail_level=getattr(checks, options['fail_level']),\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/base.py\", line 364, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/management/base.py\", line 351, in _run_checks\r\n    return checks.run_checks(**kwargs)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/checks/registry.py\", line 73, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/checks/urls.py\", line 13, in check_url_config\r\n    return check_resolver(resolver)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/core/checks/urls.py\", line 23, in check_resolver\r\n    return check_method()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/urls/resolvers.py\", line 397, in check\r\n    for pattern in self.url_patterns:\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/utils/functional.py\", line 36, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/urls/resolvers.py\", line 536, in url_patterns\r\n    patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/utils/functional.py\", line 36, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/site-packages/django/urls/resolvers.py\", line 529, in urlconf_module\r\n    return import_module(self.urlconf_name)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/lib/python3.4/importlib/__init__.py\", line 109, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 2226, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 1129, in _exec\r\n  File \"<frozen importlib._bootstrap>\", line 1471, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/mozilla_django_oidc/urls.py\", line 4, in <module>\r\n    from mozilla_django_oidc import views\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/mozilla_django_oidc/views.py\", line 10, in <module>\r\n    from django.core.urlresolvers import reverse\r\nImportError: No module named 'django.core.urlresolvers'\r\nERROR: InvocationError: '/home/willkg/mozilla/mozilla-django-oidc/.tox/py34-django111/bin/django-admin.py test'\r\npy35-django111 create: /home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111\r\npy35-django111 installdeps: -r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt, Django>=1.11\r\npy35-django111 inst: /home/willkg/mozilla/mozilla-django-oidc/.tox/dist/mozilla-django-oidc-0.4.2.zip\r\npy35-django111 installed: asn1crypto==0.23.0,certifi==2017.11.5,cffi==1.11.2,chardet==3.0.4,cryptography==2.1.4,Django==2.0,idna==2.6,josepy==1.0.1,mock==2.0.0,mozilla-django-oidc==0.4.2,pbr==3.1.1,pycparser==2.18,pyOpenSSL==17.5.0,pytz==2017.3,requests==2.18.4,six==1.11.0,urllib3==1.22\r\npy35-django111 runtests: PYTHONHASHSEED='1007740955'\r\npy35-django111 runtests: commands[0] | django-admin.py test\r\nCreating test database for alias 'default'...\r\nTraceback (most recent call last):\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/bin/django-admin.py\", line 5, in <module>\r\n    management.execute_from_command_line()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/__init__.py\", line 371, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/__init__.py\", line 365, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/commands/test.py\", line 26, in run_from_argv\r\n    super().run_from_argv(argv)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/base.py\", line 288, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/base.py\", line 335, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/commands/test.py\", line 59, in handle\r\n    failures = test_runner.run_tests(test_labels)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/test/runner.py\", line 602, in run_tests\r\n    self.run_checks()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/test/runner.py\", line 564, in run_checks\r\n    call_command('check', verbosity=self.verbosity)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/__init__.py\", line 141, in call_command\r\n    return command.execute(*args, **defaults)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/base.py\", line 335, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/commands/check.py\", line 65, in handle\r\n    fail_level=getattr(checks, options['fail_level']),\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/base.py\", line 364, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/management/base.py\", line 351, in _run_checks\r\n    return checks.run_checks(**kwargs)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/checks/registry.py\", line 73, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/checks/urls.py\", line 13, in check_url_config\r\n    return check_resolver(resolver)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/core/checks/urls.py\", line 23, in check_resolver\r\n    return check_method()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/urls/resolvers.py\", line 397, in check\r\n    for pattern in self.url_patterns:\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/utils/functional.py\", line 36, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/urls/resolvers.py\", line 536, in url_patterns\r\n    patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/utils/functional.py\", line 36, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/site-packages/django/urls/resolvers.py\", line 529, in urlconf_module\r\n    return import_module(self.urlconf_name)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/lib/python3.5/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 673, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/mozilla_django_oidc/urls.py\", line 4, in <module>\r\n    from mozilla_django_oidc import views\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/mozilla_django_oidc/views.py\", line 10, in <module>\r\n    from django.core.urlresolvers import reverse\r\nImportError: No module named 'django.core.urlresolvers'\r\nERROR: InvocationError: '/home/willkg/mozilla/mozilla-django-oidc/.tox/py35-django111/bin/django-admin.py test'\r\npy36-django111 create: /home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111\r\npy36-django111 installdeps: -r/home/willkg/mozilla/mozilla-django-oidc/tests/requirements.txt, Django>=1.11\r\npy36-django111 inst: /home/willkg/mozilla/mozilla-django-oidc/.tox/dist/mozilla-django-oidc-0.4.2.zip\r\npy36-django111 installed: asn1crypto==0.23.0,certifi==2017.11.5,cffi==1.11.2,chardet==3.0.4,cryptography==2.1.4,Django==2.0,idna==2.6,josepy==1.0.1,mock==2.0.0,mozilla-django-oidc==0.4.2,pbr==3.1.1,pycparser==2.18,pyOpenSSL==17.5.0,pytz==2017.3,requests==2.18.4,six==1.11.0,urllib3==1.22\r\npy36-django111 runtests: PYTHONHASHSEED='1007740955'\r\npy36-django111 runtests: commands[0] | django-admin.py test\r\nCreating test database for alias 'default'...\r\nTraceback (most recent call last):\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/bin/django-admin.py\", line 5, in <module>\r\n    management.execute_from_command_line()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/__init__.py\", line 371, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/__init__.py\", line 365, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/commands/test.py\", line 26, in run_from_argv\r\n    super().run_from_argv(argv)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/base.py\", line 288, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/base.py\", line 335, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/commands/test.py\", line 59, in handle\r\n    failures = test_runner.run_tests(test_labels)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/test/runner.py\", line 602, in run_tests\r\n    self.run_checks()\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/test/runner.py\", line 564, in run_checks\r\n    call_command('check', verbosity=self.verbosity)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/__init__.py\", line 141, in call_command\r\n    return command.execute(*args, **defaults)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/base.py\", line 335, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/commands/check.py\", line 65, in handle\r\n    fail_level=getattr(checks, options['fail_level']),\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/base.py\", line 364, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/management/base.py\", line 351, in _run_checks\r\n    return checks.run_checks(**kwargs)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/checks/registry.py\", line 73, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/checks/urls.py\", line 40, in check_url_namespaces_unique\r\n    all_namespaces = _load_all_namespaces(resolver)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/core/checks/urls.py\", line 57, in _load_all_namespaces\r\n    url_patterns = getattr(resolver, 'url_patterns', [])\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/utils/functional.py\", line 36, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/urls/resolvers.py\", line 536, in url_patterns\r\n    patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/utils/functional.py\", line 36, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/site-packages/django/urls/resolvers.py\", line 529, in urlconf_module\r\n    return import_module(self.urlconf_name)\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 978, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 961, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 950, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 655, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/mozilla_django_oidc/urls.py\", line 4, in <module>\r\n    from mozilla_django_oidc import views\r\n  File \"/home/willkg/mozilla/mozilla-django-oidc/mozilla_django_oidc/views.py\", line 10, in <module>\r\n    from django.core.urlresolvers import reverse\r\nModuleNotFoundError: No module named 'django.core.urlresolvers'\r\nERROR: InvocationError: '/home/willkg/mozilla/mozilla-django-oidc/.tox/py36-django111/bin/django-admin.py test'\r\n```\r\n\r\nI think there are a couple of problems here.\r\n\r\nFirst is that Django 2.0 doesn't support Python 2.7, so that tox environment should get nixed.\r\n\r\nSecond is that Django 2.0 doesn't have a `django.core.urlresolvers` so that should get fixed. Plus it looks like we have a django111 tox environment that's installing the wrong version of Django.\r\n\r\nThis issue covers supporting Django 2.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/200", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/200/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/200/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/200", "id": 279846450, "node_id": "MDU6SXNzdWUyNzk4NDY0NTA=", "number": 200, "title": "Change variable name `mozilla_django_oidc.middleware.RefreshIDToken` to something else", "user": {"login": "gdestuynder", "id": 956866, "node_id": "MDQ6VXNlcjk1Njg2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/956866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdestuynder", "html_url": "https://github.com/gdestuynder", "followers_url": "https://api.github.com/users/gdestuynder/followers", "following_url": "https://api.github.com/users/gdestuynder/following{/other_user}", "gists_url": "https://api.github.com/users/gdestuynder/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdestuynder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdestuynder/subscriptions", "organizations_url": "https://api.github.com/users/gdestuynder/orgs", "repos_url": "https://api.github.com/users/gdestuynder/repos", "events_url": "https://api.github.com/users/gdestuynder/events{/privacy}", "received_events_url": "https://api.github.com/users/gdestuynder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 459224682, "node_id": "MDU6TGFiZWw0NTkyMjQ2ODI=", "url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-06T17:48:23Z", "updated_at": "2018-04-25T10:02:51Z", "closed_at": "2018-04-25T10:02:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Kind of a nitpick, however, `RefreshIDToken` is a confusing name because refresh tokens are a very specific thing: non-expiring access tokens.\r\nIn this case, this is the opposite, its a token that expires and needs periodic refresh.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/199", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/199/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/199/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/199", "id": 279765385, "node_id": "MDU6SXNzdWUyNzk3NjUzODU=", "number": 199, "title": "Under Python 2.7/3.5, whl depends upon cryptography<1.9", "user": {"login": "johnpaulett", "id": 30702, "node_id": "MDQ6VXNlcjMwNzAy", "avatar_url": "https://avatars1.githubusercontent.com/u/30702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnpaulett", "html_url": "https://github.com/johnpaulett", "followers_url": "https://api.github.com/users/johnpaulett/followers", "following_url": "https://api.github.com/users/johnpaulett/following{/other_user}", "gists_url": "https://api.github.com/users/johnpaulett/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnpaulett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnpaulett/subscriptions", "organizations_url": "https://api.github.com/users/johnpaulett/orgs", "repos_url": "https://api.github.com/users/johnpaulett/repos", "events_url": "https://api.github.com/users/johnpaulett/events{/privacy}", "received_events_url": "https://api.github.com/users/johnpaulett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-06T14:08:31Z", "updated_at": "2018-01-23T18:00:38Z", "closed_at": "2018-01-23T18:00:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Still investigating, but my guess is that the whl is being built with Python 3.2 or Python 3.3, causing the whl's METADATA to pin to the old version of crypotography (1.8.2), but the latest PyOpenSSL (17.5.0) requires cryptography>=2.1.4.  This is causing an issue for me due to a custom setup.py `console_scripts`, since `pkg_resources.load_entry_point` verifies the version compatibility and mozilla_django_oidc, and it's direct crypotography dependency conflicts with its transitive crypotography via PyOpenSSL.\r\n\r\nYou can download the mozilla_django_oidc from pypi and examine the METADATA file:\r\n\r\n    Requires-Dist: cryptography (<1.9)\r\n\r\nContradictory to the [intent of setup.py](https://github.com/mozilla/mozilla-django-oidc/blob/b79015f0e71d04fb38ff9fcc54bbf2a1a165f8a5/setup.py#L41), you can see that under python 3.4, cryptography==1.8.2 is downloaded (same result for python 2.7):\r\n\r\n    $ virtualenv --no-site-packages --python=python3.4 env\r\n    $ env/bin/pip install mozilla_django_oidc==0.4.2\r\n    ...\r\n    Downloading/unpacking cryptography<1.9 (from mozilla-django-oidc==0.4.2)\r\n      Downloading cryptography-1.8.2.tar.gz (423kB): 423kB downloaded\r\n    ...\r\n\r\nInstalling from source under python3.4 or python2.7 works as intended:\r\n\r\n    $ git clone https://github.com/mozilla/mozilla-django-oidc.git\r\n    $ cd mozilla-django-oidc\r\n    $ virtualenv --no-site-packages --python=python3.4 env\r\n    $ env/bin/python3.4 setup.py install\r\n    ...\r\n    Processing dependencies for mozilla-django-oidc==0.4.2\r\n    Searching for cryptography>1.9\r\n    Reading https://pypi.python.org/simple/cryptography/\r\n    Best match: cryptography 2.1.4\r\n    ...\r\n\r\nI have been trying to come up with a PR with suggested fix, but don't feel like I have a great idea yet.  Easiest solution seems to be to build whl with Python3.4+ or 2.7 (I'm assuming it was built with 3.2/3.3, but maybe I'm wrong), however that would break the whl for 3.2/3.3 users (is this a required target still?).  Turning off the universal flag for the wheel, and building per-version via `--python-tag` may be an option.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/198", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/198/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/198/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/198", "id": 274975927, "node_id": "MDU6SXNzdWUyNzQ5NzU5Mjc=", "number": 198, "title": "Error trying to verify jwk. ", "user": {"login": "markmiscavage", "id": 2029233, "node_id": "MDQ6VXNlcjIwMjkyMzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2029233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markmiscavage", "html_url": "https://github.com/markmiscavage", "followers_url": "https://api.github.com/users/markmiscavage/followers", "following_url": "https://api.github.com/users/markmiscavage/following{/other_user}", "gists_url": "https://api.github.com/users/markmiscavage/gists{/gist_id}", "starred_url": "https://api.github.com/users/markmiscavage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markmiscavage/subscriptions", "organizations_url": "https://api.github.com/users/markmiscavage/orgs", "repos_url": "https://api.github.com/users/markmiscavage/repos", "events_url": "https://api.github.com/users/markmiscavage/events{/privacy}", "received_events_url": "https://api.github.com/users/markmiscavage/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-11-17T19:44:17Z", "updated_at": "2018-05-07T17:04:26Z", "closed_at": "2018-05-07T17:04:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using this package to integrate with a 3rd party OIDC and getting this error during oidc callback. \r\n\r\nAttributeError at /oidc/callback/\r\n'str' object has no attribute 'verifier'\r\n\r\n\r\nThe offending line ` if not jws.verify(jwk): ` in auth.py seems like it has been updated fairly recently in this package. Nothing in the josepy package relating to this seems to have been updated in the last 2 years or more. \r\n\r\nI'm going to dig into this more on my end but wanted to bring it up here to see if anyone had a quick fix off the top of their head. Or can help figure out what I've done wrong in my configuration. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/193", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/193/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/193/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/193", "id": 270720151, "node_id": "MDU6SXNzdWUyNzA3MjAxNTE=", "number": 193, "title": "can i customize the configuration of 'redirect_uri' ?", "user": {"login": "zhangyile", "id": 25133858, "node_id": "MDQ6VXNlcjI1MTMzODU4", "avatar_url": "https://avatars0.githubusercontent.com/u/25133858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyile", "html_url": "https://github.com/zhangyile", "followers_url": "https://api.github.com/users/zhangyile/followers", "following_url": "https://api.github.com/users/zhangyile/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyile/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyile/subscriptions", "organizations_url": "https://api.github.com/users/zhangyile/orgs", "repos_url": "https://api.github.com/users/zhangyile/repos", "events_url": "https://api.github.com/users/zhangyile/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyile/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-02T16:29:22Z", "updated_at": "2018-05-09T14:47:43Z", "closed_at": "2018-05-09T14:47:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Because I forwarded the request through nginx, I need to customize \u2018redirect_uri\u2019\r\n#### mozilla_django_oidc/views.py\r\n\r\n    125         params = {\r\n    126             'response_type': 'code',\r\n    127             'scope': import_from_settings('OIDC_RP_SCOPES', 'openid email'),\r\n    128             'client_id': self.OIDC_RP_CLIENT_ID,\r\n    129             'redirect_uri': absolutify(\r\n    130                 request,\r\n    131                 reverse('oidc_authentication_callback')\r\n    132             ),\r\n    133             'state': state,\r\n    134         }\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/191", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/191/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/191/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/191", "id": 268319656, "node_id": "MDU6SXNzdWUyNjgzMTk2NTY=", "number": 191, "title": "Add automation to do integration testing", "user": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-10-25T09:04:38Z", "updated_at": "2018-01-31T16:59:33Z", "closed_at": "2018-01-31T16:59:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "At the moment our testing infrastructure relies only in unit tests. We should have a way to actually test the authentication backend against an django project.\r\n\r\nI suggest the following:\r\n\r\n* Use a self hosted oidc provider\r\n  * Possible candidate: https://github.com/juanifioren/django-oidc-provider\r\n* Install mozilla-django-oidc to a test app (that supports multiple python versions)\r\n* Orchestrate integration testing using a headless browser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/189", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/189/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/189/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/189", "id": 268111309, "node_id": "MDU6SXNzdWUyNjgxMTEzMDk=", "number": 189, "title": "TypeError on sending payload to josepy (py 3.6)", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-10-24T17:01:49Z", "updated_at": "2017-10-25T13:54:11Z", "closed_at": "2017-10-25T13:54:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I just tried to upgrade to mozilla-django-oidc 0.4.0 and it meant I had to add `josepy==1.0.0` and `pyOpenSSL==17.3.0`.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/wsgiref/handlers.py\", line 137, in run\r\n self.result = application(self.environ, self.start_response)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/wsgi.py\", line 157, in __call__\r\n response = self.get_response(request)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/base.py\", line 124, in get_response\r\n response = self._middleware_chain(request)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 43, in inner\r\n response = response_for_exception(request, exc)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 93, in response_for_exception\r\n response = handle_uncaught_exception(request, get_resolver(get_urlconf()), sys.exc_info())\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 41, in inner\r\n response = get_response(request)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/base.py\", line 249, in _legacy_get_response\r\n response = self._get_response(request)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/base.py\", line 187, in _get_response\r\n response = self.process_exception_by_middleware(e, request)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/views/generic/base.py\", line 68, in view\r\n return self.dispatch(request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/views/generic/base.py\", line 88, in dispatch\r\n return handler(request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/mozilla_django_oidc/views.py\", line 75, in get\r\n self.user = auth.authenticate(**kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/__init__.py\", line 70, in authenticate\r\n user = _authenticate_with_backend(backend, backend_path, request, credentials)\r\n  File \"/usr/local/lib/python3.6/site-packages/django/contrib/auth/__init__.py\", line 115, in _authenticate_with_backend\r\n return backend.authenticate(*args, **credentials)\r\n  File \"/usr/local/lib/python3.6/site-packages/mozilla_django_oidc/auth.py\", line 165, in authenticate\r\n if self.verify_token(id_token, nonce=nonce):\r\n  File \"/usr/local/lib/python3.6/site-packages/mozilla_django_oidc/auth.py\", line 114, in verify_token\r\n key,\r\n  File \"/usr/local/lib/python3.6/site-packages/mozilla_django_oidc/auth.py\", line 85, in _verify_jws\r\n jws = JWS.from_compact(payload)\r\n  File \"/usr/local/lib/python3.6/site-packages/josepy/jws.py\", line 305, in from_compact\r\n protected, payload, signature = compact.split(b'.')\r\nTypeError: must be str or None, not bytes\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/187", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/187/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/187/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/187", "id": 266748211, "node_id": "MDU6SXNzdWUyNjY3NDgyMTE=", "number": 187, "title": "Improvements to verify the token through the jwks", "user": {"login": "GermanoGuerrini", "id": 228778, "node_id": "MDQ6VXNlcjIyODc3OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/228778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GermanoGuerrini", "html_url": "https://github.com/GermanoGuerrini", "followers_url": "https://api.github.com/users/GermanoGuerrini/followers", "following_url": "https://api.github.com/users/GermanoGuerrini/following{/other_user}", "gists_url": "https://api.github.com/users/GermanoGuerrini/gists{/gist_id}", "starred_url": "https://api.github.com/users/GermanoGuerrini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GermanoGuerrini/subscriptions", "organizations_url": "https://api.github.com/users/GermanoGuerrini/orgs", "repos_url": "https://api.github.com/users/GermanoGuerrini/repos", "events_url": "https://api.github.com/users/GermanoGuerrini/events{/privacy}", "received_events_url": "https://api.github.com/users/GermanoGuerrini/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-19T07:42:21Z", "updated_at": "2018-06-12T23:28:23Z", "closed_at": "2018-06-12T23:28:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, the only way to verify a token using the RS256 algorithm is to hard-code the signing key in a settings parameter.\r\n\r\nI'm not really an expert here, but I have seen other implementations (not in Python) that take advantage of the (possible) JWKS endpoint of the identity provider. Documentation can be found here: https://auth0.com/docs/jwks.\r\n\r\nI have a local branch of mozilla-django-oidc where it's working. Basically I verify whether a signing key or a JWKS endpoint is set, and in the latter case I try to match a key with the key id retrieved from the token and pass it on to jose to run the verification in place of the hard-coded one.\r\nIt works like a charm, except the fact that I have to decode the token first and to do that I have to use a private python-jose method (`jose.jws._load`) which I think is blatantly taken from pyjwt.\r\n\r\nI have seen that a new branch has been made that uses the new josepy package, and it seems that decoding the token using that is no longer a private affair.\r\n\r\nCan a modification like that be of any interest? It seems strange to me that I'm the only one needing  such a workflow.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/181", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/181/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/181/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/181", "id": 261013307, "node_id": "MDU6SXNzdWUyNjEwMTMzMDc=", "number": 181, "title": "Working perfectly!", "user": {"login": "pmac", "id": 19176817, "node_id": "MDQ6VXNlcjE5MTc2ODE3", "avatar_url": "https://avatars0.githubusercontent.com/u/19176817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmac", "html_url": "https://github.com/pmac", "followers_url": "https://api.github.com/users/pmac/followers", "following_url": "https://api.github.com/users/pmac/following{/other_user}", "gists_url": "https://api.github.com/users/pmac/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmac/subscriptions", "organizations_url": "https://api.github.com/users/pmac/orgs", "repos_url": "https://api.github.com/users/pmac/repos", "events_url": "https://api.github.com/users/pmac/events{/privacy}", "received_events_url": "https://api.github.com/users/pmac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-27T15:15:23Z", "updated_at": "2017-09-27T15:15:31Z", "closed_at": "2017-09-27T15:15:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Just wanted to say that this lib helped me move two of our sites very quickly from SAML to OIDC. It was very easy and worked great. Just wanted to say thanks for your hard work!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/180", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/180/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/180/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/180", "id": 260985563, "node_id": "MDU6SXNzdWUyNjA5ODU1NjM=", "number": 180, "title": "Stop using python-jose", "user": {"login": "jezdez", "id": 1610, "node_id": "MDQ6VXNlcjE2MTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jezdez", "html_url": "https://github.com/jezdez", "followers_url": "https://api.github.com/users/jezdez/followers", "following_url": "https://api.github.com/users/jezdez/following{/other_user}", "gists_url": "https://api.github.com/users/jezdez/gists{/gist_id}", "starred_url": "https://api.github.com/users/jezdez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jezdez/subscriptions", "organizations_url": "https://api.github.com/users/jezdez/orgs", "repos_url": "https://api.github.com/users/jezdez/repos", "events_url": "https://api.github.com/users/jezdez/events{/privacy}", "received_events_url": "https://api.github.com/users/jezdez/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-09-27T14:00:44Z", "updated_at": "2017-10-24T07:25:38Z", "closed_at": "2017-10-24T07:25:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since python-jose is [requiring the use of pycrypto](https://github.com/mpdavis/python-jose/issues/41), which has an [unfixed CVE](https://blog.sqreen.io/stop-using-pycrypto-use-pycryptodome/) it'd be sensible to move away from it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/178", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/178/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/178/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/178", "id": 260027574, "node_id": "MDU6SXNzdWUyNjAwMjc1NzQ=", "number": 178, "title": "Get token with credentials in Authorization header", "user": {"login": "woutor", "id": 2158684, "node_id": "MDQ6VXNlcjIxNTg2ODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2158684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woutor", "html_url": "https://github.com/woutor", "followers_url": "https://api.github.com/users/woutor/followers", "following_url": "https://api.github.com/users/woutor/following{/other_user}", "gists_url": "https://api.github.com/users/woutor/gists{/gist_id}", "starred_url": "https://api.github.com/users/woutor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woutor/subscriptions", "organizations_url": "https://api.github.com/users/woutor/orgs", "repos_url": "https://api.github.com/users/woutor/repos", "events_url": "https://api.github.com/users/woutor/events{/privacy}", "received_events_url": "https://api.github.com/users/woutor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-23T18:06:12Z", "updated_at": "2018-06-12T23:29:57Z", "closed_at": "2018-06-12T23:29:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am integrating mozilla-django-oidc with [Hydra](https://github.com/ory/hydra/). I have set up an authorization/consent server and I am able to initiate the OAuth flow using the  `mozilla_django_oidc.auth.OIDCAuthenticationBackend` at my application. \r\n\r\nHowever, at the point that `OIDCAuthenticationBackend` wants to obtain the token, I get a 400 Client Error in Django, with Hydra logging `HTTP authorization header missing or invalid: The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed`\r\n\r\nThe problem is documented [here](https://github.com/ory/hydra/issues/174#issuecomment-235325777). According to the Hydra developers, the client_id and client_secret should be provided in the Authorization header instead of [POST parameters](https://github.com/mozilla/mozilla-django-oidc/blob/7d186f9d03afe20c2a1d5e3219c1857a6894324a/mozilla_django_oidc/auth.py#L114). \r\n\r\nRight now, I don't see any other way than reimplementing/copying the OIDCAuthenticationBackend.authenticate() method in my custom backend. However, It would be very nice if I could only extend/hook/plug/configure how the client_id and client_secrets are passed to the remote token endpoint.\r\n\r\nThanking you in advance,\r\nWouter", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/177", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/177/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/177/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/177", "id": 258810588, "node_id": "MDU6SXNzdWUyNTg4MTA1ODg=", "number": 177, "title": "[docs] Do not suggest using OIDC Auth backend along with ModelBackend", "user": {"login": "glogiotatidis", "id": 584352, "node_id": "MDQ6VXNlcjU4NDM1Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/584352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glogiotatidis", "html_url": "https://github.com/glogiotatidis", "followers_url": "https://api.github.com/users/glogiotatidis/followers", "following_url": "https://api.github.com/users/glogiotatidis/following{/other_user}", "gists_url": "https://api.github.com/users/glogiotatidis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glogiotatidis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glogiotatidis/subscriptions", "organizations_url": "https://api.github.com/users/glogiotatidis/orgs", "repos_url": "https://api.github.com/users/glogiotatidis/repos", "events_url": "https://api.github.com/users/glogiotatidis/events{/privacy}", "received_events_url": "https://api.github.com/users/glogiotatidis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-19T12:56:46Z", "updated_at": "2018-02-09T11:36:19Z", "closed_at": "2018-02-09T11:36:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The installation example in the documentation lists both ModelBackend and OIDC backend\r\n\r\n```\r\n# Add 'mozilla_django_oidc' authentication backend\r\nAUTHENTICATION_BACKENDS = (\r\n    # ...\r\n    'django.contrib.auth.backends.ModelBackend',\r\n    'mozilla_django_oidc.auth.OIDCAuthenticationBackend',\r\n    # ...\r\n)\r\n```\r\n\r\nWhile this works, I believe that's a wrong security paradigm. If you have enabled OIDC you probably don't want ModelBackend enabled as well, as this can leave an open door for attacks outside the org's SSO system.\r\n\r\nI suggest that docs urge users to only use the OIDC backend when enabled.\r\n\r\nTo allow users to only use OIDC please fix  #176 too ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/176", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/176/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/176/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/176", "id": 258808856, "node_id": "MDU6SXNzdWUyNTg4MDg4NTY=", "number": 176, "title": "Auth backend does not load Django's (model based) permissions", "user": {"login": "glogiotatidis", "id": 584352, "node_id": "MDQ6VXNlcjU4NDM1Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/584352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glogiotatidis", "html_url": "https://github.com/glogiotatidis", "followers_url": "https://api.github.com/users/glogiotatidis/followers", "following_url": "https://api.github.com/users/glogiotatidis/following{/other_user}", "gists_url": "https://api.github.com/users/glogiotatidis/gists{/gist_id}", "starred_url": "https://api.github.com/users/glogiotatidis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glogiotatidis/subscriptions", "organizations_url": "https://api.github.com/users/glogiotatidis/orgs", "repos_url": "https://api.github.com/users/glogiotatidis/repos", "events_url": "https://api.github.com/users/glogiotatidis/events{/privacy}", "received_events_url": "https://api.github.com/users/glogiotatidis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-09-19T12:51:02Z", "updated_at": "2018-03-16T12:40:16Z", "closed_at": "2018-03-16T12:40:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`OIDCAuthenticationBackend` does not subclass neither implements it's own authorization methods. As a result django (model based) permissions get completely ignored.\r\n\r\nI suggest that `OIDCAuthenticationBackend` subclasses `django.contrib.auth.backends.ModelBackend` can get Django's default authorization methods.\r\n\r\nWhile this is not technically a bug, is un-expected behavior thus I suggest that we change it.\r\n\r\nNote that [according to the docs](https://docs.djangoproject.com/en/1.11/topics/auth/customizing/#handling-authorization-in-custom-backends) Django will fetch permissions for user from all listed `AUTHENTICATION_BACKENDS`. So if `ModelBackend` is included in the list, the user will have model based permissions. Nevertheless I still believe that OIDC backend should provide that functionality itself so we don't have to have ModelBackend enabled as well (which may result in a security risk).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/163", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/163/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/163/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/163", "id": 245514032, "node_id": "MDU6SXNzdWUyNDU1MTQwMzI=", "number": 163, "title": "Update legacy references to runtests.py", "user": {"login": "claudijd", "id": 794283, "node_id": "MDQ6VXNlcjc5NDI4Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/794283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claudijd", "html_url": "https://github.com/claudijd", "followers_url": "https://api.github.com/users/claudijd/followers", "following_url": "https://api.github.com/users/claudijd/following{/other_user}", "gists_url": "https://api.github.com/users/claudijd/gists{/gist_id}", "starred_url": "https://api.github.com/users/claudijd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claudijd/subscriptions", "organizations_url": "https://api.github.com/users/claudijd/orgs", "repos_url": "https://api.github.com/users/claudijd/repos", "events_url": "https://api.github.com/users/claudijd/events{/privacy}", "received_events_url": "https://api.github.com/users/claudijd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-25T19:45:01Z", "updated_at": "2017-07-27T08:56:52Z", "closed_at": "2017-07-27T08:56:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I mentioned to @willkg that I couldn't find runtests.py in the repo.  Sounds like this was left-over from the conversation to using tox and we probably want to update those references.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/156", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/156/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/156/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/156", "id": 238257478, "node_id": "MDU6SXNzdWUyMzgyNTc0Nzg=", "number": 156, "title": "pycrypto doesn't compile on windows", "user": {"login": "codytodonnell", "id": 1907045, "node_id": "MDQ6VXNlcjE5MDcwNDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1907045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codytodonnell", "html_url": "https://github.com/codytodonnell", "followers_url": "https://api.github.com/users/codytodonnell/followers", "following_url": "https://api.github.com/users/codytodonnell/following{/other_user}", "gists_url": "https://api.github.com/users/codytodonnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/codytodonnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codytodonnell/subscriptions", "organizations_url": "https://api.github.com/users/codytodonnell/orgs", "repos_url": "https://api.github.com/users/codytodonnell/repos", "events_url": "https://api.github.com/users/codytodonnell/events{/privacy}", "received_events_url": "https://api.github.com/users/codytodonnell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-23T21:25:08Z", "updated_at": "2017-06-30T14:38:41Z", "closed_at": "2017-06-30T14:38:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Despite attempting several different installation methods, I always receive the following error:\r\n\r\n```\r\nc:\\users\\codonnell\\appdata\\local\\programs\\python\\python36-32\\include\\pyconfig.h(222): fatal error C1083: Cannot open include file: 'basetsd.h': No such file or directory\r\n\r\nerror: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio 14.0\\\\VC\\\\BIN\\\\cl.exe' failed with exit status 2\r\n\r\n    ----------------------------------------\r\nCommand \"c:\\users\\codonnell\\appdata\\local\\programs\\python\\python36-32\\python.exe -u -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\CODONN~1\\\\AppData\\\\Local\\\\Temp\\\\pip-build-vmywdjq0\\\\pycrypto\\\\setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record C:\\Users\\CODONN~1\\AppData\\Local\\Temp\\pip-h376pd9t-record\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in C:\\Users\\CODONN~1\\AppData\\Local\\Temp\\pip-build-vmywdjq0\\pycrypto\\ \r\n```\r\n\r\nI have installed Visual Studio Community 2017 and Visual C++ 2015 Build Tools.\r\n\r\nI tried installing the package with wheel (found [here](https://pypi.python.org/pypi/mozilla-django-oidc)) but got the same error. Also tried installing with the .tar.gz file on that page but again got the same error.\r\n\r\nAny clue what could be causing this issue? Are there alternative ways to install the library?\r\n\r\nI'm on Windows 10, using pip 9.0.1 and python 3.6.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/153", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/153/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/153/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/153", "id": 236909347, "node_id": "MDU6SXNzdWUyMzY5MDkzNDc=", "number": 153, "title": "/oidc/callback/ infinite redirect loop", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-19T14:27:26Z", "updated_at": "2018-03-29T11:48:34Z", "closed_at": "2018-03-29T11:48:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I switched standups from our home-grown auth0 client implementation to mozilla-django-oidc 0.3.1 on Friday. At least one user went to use the site and immediately entered an infinite redirect on this url:\r\n\r\n```\r\nhttps://www.standu.ps/oidc/callback/?error=login_required&error_description=Login%20required&state=EYy2Qz8peNMCImxor3RKHGAGf8ggKLvh\r\n```\r\n\r\nClearing the browser's standup cookies fixed it.\r\n\r\nIt's possible that it's the `/oidc/callback/` view does its thing and there's one branch that redirects to itself or something. Maybe this is a problem in conjunction with the middleware?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/150", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/150/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/150/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/150", "id": 235862056, "node_id": "MDU6SXNzdWUyMzU4NjIwNTY=", "number": 150, "title": "change readthedocs and versioning", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-14T12:27:00Z", "updated_at": "2018-04-13T12:52:00Z", "closed_at": "2018-04-13T12:52:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Issue #146 came about because RTD is set up to build master tip. So any time we merge changes, it updates the docs. Thus the docs can get out of sync with the released version.\r\n\r\nThis is compounded by two other issues:\r\n\r\n1. after we do a release, we don't then update the version to 0.x.y.dev0 or something like that (I do that with my projects) -- if we did this, then the docs would show that they apply to a different version than the released one\r\n2. after we do a release, we don't then update RTD to build docs for that tag as well (I do this with my projects sometimes) -- if we did this, then users would see that the docs they're looking at apply to a different version and can then switch to the version they want to see\r\n\r\nThe place in RTD to update versions is here:\r\n\r\nhttps://readthedocs.org/projects/mozilla-django-oidc/\r\n\r\nBut only people who have access to that can do it.\r\n\r\nThis issue can be fixed entirely by adjusting the release process. I don't know if there's a good way to automate either of them because I do them by hand, but that's probably worth looking into.\r\n\r\nI think this is worth fixing process-wise.\r\n\r\nHow do we want to deal with this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/149", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/149/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/149/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/149", "id": 235770991, "node_id": "MDU6SXNzdWUyMzU3NzA5OTE=", "number": 149, "title": "Feature request: support RS256 as signing algorithm", "user": {"login": "hmpf", "id": 11956096, "node_id": "MDQ6VXNlcjExOTU2MDk2", "avatar_url": "https://avatars1.githubusercontent.com/u/11956096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hmpf", "html_url": "https://github.com/hmpf", "followers_url": "https://api.github.com/users/hmpf/followers", "following_url": "https://api.github.com/users/hmpf/following{/other_user}", "gists_url": "https://api.github.com/users/hmpf/gists{/gist_id}", "starred_url": "https://api.github.com/users/hmpf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hmpf/subscriptions", "organizations_url": "https://api.github.com/users/hmpf/orgs", "repos_url": "https://api.github.com/users/hmpf/repos", "events_url": "https://api.github.com/users/hmpf/events{/privacy}", "received_events_url": "https://api.github.com/users/hmpf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-06-14T06:03:46Z", "updated_at": "2017-10-02T15:29:08Z", "closed_at": "2017-10-02T15:29:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "mozilla-django-oidc cannot be used with the provider [Dataporten](https://auth.dataporten.no/.well-known/openid-configuration) as it does not support RS256.\r\n\r\nCurrently you wind up with a 500 error due to the following exception being raised:\r\n\r\n```\r\nJWSError at /oidc/callback/\r\n\r\nThe specified alg value is not allowed\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/148", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/148/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/148/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/148", "id": 235689854, "node_id": "MDU6SXNzdWUyMzU2ODk4NTQ=", "number": 148, "title": "push out a new version (0.3.0)", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-13T20:55:08Z", "updated_at": "2017-06-14T07:55:27Z", "closed_at": "2017-06-14T07:55:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is @peterbe's email:\r\n\r\n> Fancy new tag based Travis deployment automation aside, can I humbly please ask for a new release?\r\n> Here's the difference:\r\n> https://github.com/mozilla/mozilla-django-oidc/compare/ebcef60dd54b5d82ee83213b0aff0c47a8b0b14a...master\r\n> \r\n> I propose a version 0.3.0 (since there are things that might be surprising):\r\n\r\n```\r\n0.3.0 (in development)\r\n++++++++++++++++++++++\r\n\r\nBackwards-incompatible changes:\r\n\r\n* The settings.SITE_URL is no longer used. Instead the absolute URL is\r\n  derived from the request's get_host().\r\n* Only log out by HTTP POST allowed.\r\n\r\nFeatures:\r\n\r\n* None.\r\n\r\nBugs:\r\n \r\n* None\r\n```\r\n\r\n> If you're up for it, please consider landing https://github.com/mozilla/mozilla-django-oidc/pull/144 and then we can add a blurb about the fact that the logout view can now only be done by HTTP POST.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/147", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/147/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/147/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/147", "id": 235608918, "node_id": "MDU6SXNzdWUyMzU2MDg5MTg=", "number": 147, "title": "document logout url", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-13T16:13:29Z", "updated_at": "2018-04-13T12:13:00Z", "closed_at": "2018-04-13T12:12:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The SSO request form asks for a logout url. There's nothing in the docs about logout urls.\r\n\r\nI'm a little fuzzy on what this entails.\r\n\r\nShould we just document what the logout url that mozilla-django-oidc provides is like we do with the callback url?\r\n\r\nShould we have a section that talks about what that logout url does and doesn't do so that users (developers) can do their own thing if they have different requirements?\r\n\r\nAre there other things about logout that we should note in the docs?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/146", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/146/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/146/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/146", "id": 235560132, "node_id": "MDU6SXNzdWUyMzU1NjAxMzI=", "number": 146, "title": "The setting SITE_URL is not documented", "user": {"login": "kaleissin", "id": 28631, "node_id": "MDQ6VXNlcjI4NjMx", "avatar_url": "https://avatars1.githubusercontent.com/u/28631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaleissin", "html_url": "https://github.com/kaleissin", "followers_url": "https://api.github.com/users/kaleissin/followers", "following_url": "https://api.github.com/users/kaleissin/following{/other_user}", "gists_url": "https://api.github.com/users/kaleissin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaleissin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaleissin/subscriptions", "organizations_url": "https://api.github.com/users/kaleissin/orgs", "repos_url": "https://api.github.com/users/kaleissin/repos", "events_url": "https://api.github.com/users/kaleissin/events{/privacy}", "received_events_url": "https://api.github.com/users/kaleissin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-13T13:47:33Z", "updated_at": "2017-06-14T07:55:55Z", "closed_at": "2017-06-14T07:55:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use mozilla-django-oidc (version 0.2.0) in a fresh django 1.11/python3.5-project, and get \r\n\r\n```\r\nImproperlyConfigured at /oidc/authenticate/\r\n\r\nSetting SITE_URL not found\r\n```\r\n\r\nThis is not documented anywhere.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/143", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/143/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/143/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/143", "id": 234864921, "node_id": "MDU6SXNzdWUyMzQ4NjQ5MjE=", "number": 143, "title": "Release for every feature/bug fix", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-06-09T15:37:47Z", "updated_at": "2017-06-15T11:07:29Z", "closed_at": "2017-06-15T11:07:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I propose we make releases more frequently. One release for every new feature or bug fix. That way, we don't have have a meeting and say \"Ok, what's changed since the last release?\" and type that up in `HISTORY.txt` along with a change to `mozilla_django_oidc/__init__.py`'s `__version__` string. \r\n\r\nIt is possible to encryt your PyPI password and put that in `.travis.yml` and let travis try to make a PyPI release on every successful build on origin/master. If the version number hasn't change, PyPI will simply respond with a gentle error like \"Sorry, that version already exists\". \r\nThat means if all you do is commit a change to the documentation or a style fix or a change only to the unit tests, no new PyPI release is made. [For example](https://github.com/peterbe/hashin/blob/master/.travis.yml#L21-L22).\r\n\r\nThis would require a change of how you make PRs. If your PR indeed contains a feature change or a bug fix, you're *also* expected to edit `HISTORY.txt` and `__init__.py` along with your change. \r\nIf two people make a PR based on version 1.2.3 and they both make PRs that change `HISTORY.txt` and `__init__.py` then it's likely to cause a conflict and the author has to rebase up. \r\n\r\nAnother option is to still set up travis to push to PyPI on every origin/master build, but NOT require PRs to contain a change to `HISTORY.txt` and `__init__.py`. Then once your feature/bug fix lands on master you make *another* PR that just edits `HISTORY.txt` and `__init__.py`. \r\n\r\nThoughts? Ideas? Objections? Endorsements?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/141", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/141/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/141/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/141", "id": 234854622, "node_id": "MDU6SXNzdWUyMzQ4NTQ2MjI=", "number": 141, "title": "No test coverage of claim with falsy email", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-06-09T15:02:35Z", "updated_at": "2017-06-12T12:30:30Z", "closed_at": "2017-06-12T12:30:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "See \r\n<img width=\"776\" alt=\"screen shot 2017-06-09 at 11 02 01 am\" src=\"https://user-images.githubusercontent.com/26739/26981428-2313bc7e-4d03-11e7-8d63-03a682138ee7.png\">\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/136", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/136/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/136/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/136", "id": 234640560, "node_id": "MDU6SXNzdWUyMzQ2NDA1NjA=", "number": 136, "title": "Use the request instead of SITE_URL", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-06-08T20:04:15Z", "updated_at": "2017-06-12T08:23:40Z", "closed_at": "2017-06-12T08:23:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As far as I can see, the only places where we use `SITE_URL` we have access to a `request` object. They have the ability to make absolute URLs without a custom setting. \r\n\r\nI'll make an attempt and refactoring it away but perhaps stop me if there's a need to be able to know the site's public-facing site URL that I don't get. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/134", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/134/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/134/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/134", "id": 233033988, "node_id": "MDU6SXNzdWUyMzMwMzM5ODg=", "number": 134, "title": "push out a new version (0.2.0)", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2017-06-01T23:00:27Z", "updated_at": "2017-06-07T14:05:29Z", "closed_at": "2017-06-07T14:02:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I was talking with @johngian earlier today and he was of the mind that we should do a version release soon. That'll help @peterbe who is eagerly looking for a release. It'll help me, too, since then I can switch Standup over to use this.\r\n\r\nThe git log has this:\r\n\r\n```\r\nfcd9f53 #94 rewrite RefreshIDToken middleware to use prompt=none (#127)\r\n2207c27 django 1.10 and user.is_authenticated, fixes #125 (#128)\r\nff8176d Merge pull request #132 from willkg/130-drop-django19\r\n3f14b81 Merge pull request #131 from willkg/102-case-sensitive\r\nda3139f Drop support for Django 1.9\r\n64f858a Change email matching to be case-insensitive\r\n8d096dc always redirect to logout_url even when logged out, fixes #121 (#123)\r\n04fcbdb Merge pull request #124 from willkg/96-create-user\r\nc4272bb Document OIDC_CREATE_USER and fix optional user creation docs\r\n73ab94e Merge pull request #117 from peterbe/always-decode-verified-token-before-jsonload\r\n320792b Merge pull request #120 from willkg/middleware-docs-fix\r\n80525f4 Fix middleware docs\r\nc70ef49 Merge pull request #119 from willkg/logout-redirect\r\n2a41163 Merge pull request #115 from willkg/docs-fixes\r\naa27deb Fix docs related to LOGOUT_REDIRECT_URL\r\n1a3c83c always decode verified token before json.load(), fixes #116\r\n42ddb53 Fix docs errors\r\nfa202c9 Merge pull request #112 from willkg/110-contribution-docs\r\n7279335 Merge pull request #111 from willkg/90-auth0-middleware\r\n220d275 Update middleware to work with Django 1.10+\r\n41b0b90 Update docs for running tests\r\nfaa1bfb Add missing middleware tests; tweak test code\r\nac34e8d Merge pull request #105 from peterbe/tox-everything-fixes-100\r\n2d13165 sans --branch\r\n7d8f47e tox everything, fixes #100\r\nd69a02e Merge pull request #104 from willkg/98-refreshid-docs\r\ne54c8fa Add RefreshIDToken middleware documentation\r\nce28ff1 Merge pull request #101 from willkg/docs-fixes\r\n241ab93 Re-organize installation to clarify things\r\n47d5488 Merge pull request #99 from willkg/97-jinja\r\nb5b5472 Add Jinja2 example\r\ncaf4c4e Merge pull request #95 from willkg/91-fix-usernames\r\nd0b5dcc Make overriding create_user example better\r\n3a6c288 Clean up username generation and document it\r\n77ee9b6 Merge pull request #92 from willkg/88-document-identities\r\n3d8fa63 Merge pull request #93 from akatsoulas/attribution\r\nc0d4dcb Update AUTHORS.\r\n9b19886 Merge pull request #87 from johngian/fix-multiple-auth-backends\r\nc5d4b47 Add documentation for connecting oidc identities to django users\r\na3fb553 Allow combining OIDCAuthenticationBackend with other backends.\r\nb420906 Merge pull request #86 from willkg/tests-updates\r\n9880b1a Add support for Django 1.11 and Python 3.6\r\n8a76b17 Merge pull request #84 from willkg/docs-fixes\r\n952befa Fix formatting issues in docs\r\n```\r\n\r\nThat roughly pares down to this to `HISTORY.rst`:\r\n\r\n```\r\n0.2.0 (In development)\r\n++++++++++++++++++++++\r\n\r\nBackwards-incompatible changes:\r\n\r\n* Drop support for Django 1.9 (#130)\r\n\r\n  If you're using Django 1.9, you should update Django first.\r\n\r\n* Move middleware to `mozilla_django_oidc.middleware` and\r\n  change it to use authentication endpoint with `prompt=none` (#94)\r\n\r\n  You'll need to update your `MIDDLEWARE_CLASSES`/`MIDDLEWARE`\r\n  setting accordingly.\r\n\r\nFeatures:\r\n\r\n* Add support for Django 1.11 and Python 3.6 (#85)\r\n* Update middleware to work with Django 1.10+ (#90)\r\n* Documentation updates\r\n* Rework test infrastructure so it's tox-based (#100)\r\n\r\nBugs:\r\n\r\n* always decode verified token before json.load() (#116)\r\n* always redirect to logout_url even when logged out (#121)\r\n* Change email matching to be case-insensitive (#102)\r\n* Allow combining OIDCAuthenticationBackend with other backends (#87)\r\n* fix is_authenticated usage for Django 1.10+ (#125)\r\n```\r\n\r\nIs that missing anything noteworthy? Is there anything else we want to do in this release?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/133", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/133/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/133/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/133", "id": 232934580, "node_id": "MDU6SXNzdWUyMzI5MzQ1ODA=", "number": 133, "title": "support AJAX-y sites", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2017-06-01T16:19:57Z", "updated_at": "2018-04-05T19:17:45Z", "closed_at": "2018-04-05T19:17:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The current middleware and the new one don't support AJAX-y sites.\r\n\r\nThis issue covers figuring out how web-sites that are predominantly doing AJAX requests to move data around will work with this library.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/130", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/130/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/130/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/130", "id": 232906074, "node_id": "MDU6SXNzdWUyMzI5MDYwNzQ=", "number": 130, "title": "drop support for Django 1.9", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-01T14:52:31Z", "updated_at": "2017-06-01T15:56:47Z", "closed_at": "2017-06-01T15:56:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Django 1.9 isn't supported anymore by the Django project. We should drop support for it.\r\n\r\nMostly this means removing it from the test environment matrix. This will make running all the tests faster by removing 3 test runs so it's probably worth doing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/126", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/126/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/126/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/126", "id": 232634983, "node_id": "MDU6SXNzdWUyMzI2MzQ5ODM=", "number": 126, "title": "Only allow logout on POST", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-05-31T17:13:23Z", "updated_at": "2017-11-01T11:23:15Z", "closed_at": "2017-06-13T20:54:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We allow logging out simply by GET'ing a URL (`/oidc/logout/`). https://github.com/mozilla/mozilla-django-oidc/blob/04fcbdb1a8697792a7183b99baa0e11beaaa6430/mozilla_django_oidc/views.py#L115\r\n\r\nWe should probably avoid that. \r\nE.g. https://stackoverflow.com/a/14587231/205832\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/125", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/125/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/125/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/125", "id": 232601418, "node_id": "MDU6SXNzdWUyMzI2MDE0MTg=", "number": 125, "title": "Don't call `user.is_authenticated` in Django >= 1.10", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-05-31T15:18:52Z", "updated_at": "2017-06-01T16:22:04Z", "closed_at": "2017-06-01T16:22:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "As of Django 1.10 `request.user.is_authenticated` is no longer a method. It's a property. So doing `request.user.is_authenticated()` is like doing `True()`. \r\n\r\n[Relevant line](https://github.com/mozilla/mozilla-django-oidc/blob/73ab94eda95800b256f1d773bca6beb436944d4b/mozilla_django_oidc/views.py#L118).\r\n\r\nNote: https://github.com/mozilla/mozilla-django-oidc/pull/123 is in the midst of changing the relevant line so let's hold off with a patch just a smidge to avoid annoying conflicts. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/121", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/121/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/121/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/121", "id": 232590508, "node_id": "MDU6SXNzdWUyMzI1OTA1MDg=", "number": 121, "title": "UnboundLocalError on logout", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-31T14:47:22Z", "updated_at": "2017-06-01T12:43:42Z", "closed_at": "2017-06-01T12:43:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "See traceback below.\r\nHappens when I try to go to `http://localhost:8000/oidc/logout/`\r\n\r\nThe [relevant code](https://github.com/mozilla/mozilla-django-oidc/blob/320792bb6b2c95d4257ff34c9897b67ddf6ced29/mozilla_django_oidc/views.py#L118-L128) assumes that the user is authenticated. \r\n\r\n```\r\nweb_1          | Traceback (most recent call last):\r\nweb_1          |   File \"/usr/local/lib/python3.5/wsgiref/handlers.py\", line 137, in run\r\nweb_1          |     self.result = application(self.environ, self.start_response)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/contrib/staticfiles/handlers.py\", line 63, in __call__\r\nweb_1          |     return self.application(environ, start_response)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/wsgi.py\", line 157, in __call__\r\nweb_1          |     response = self.get_response(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 124, in get_response\r\nweb_1          |     response = self._middleware_chain(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 43, in inner\r\nweb_1          |     response = response_for_exception(request, exc)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 93, in response_for_exception\r\nweb_1          |     response = handle_uncaught_exception(request, get_resolver(get_urlconf()), sys.exc_info())\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 41, in inner\r\nweb_1          |     response = get_response(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 249, in _legacy_get_response\r\nweb_1          |     response = self._get_response(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 187, in _get_response\r\nweb_1          |     response = self.process_exception_by_middleware(e, request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\nweb_1          |     response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/views/generic/base.py\", line 68, in view\r\nweb_1          |     return self.dispatch(request, *args, **kwargs)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/mozilla_django_oidc/views.py\", line 128, in dispatch\r\nweb_1          |     return HttpResponseRedirect(logout_url)\r\nweb_1          | UnboundLocalError: local variable 'logout_url' referenced before assignment\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/118", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/118/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/118/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/118", "id": 232373025, "node_id": "MDU6SXNzdWUyMzIzNzMwMjU=", "number": 118, "title": "if LOGOUT_REDIRECT_URL is not set, it defaults to None", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-30T20:32:15Z", "updated_at": "2017-05-31T10:09:16Z", "closed_at": "2017-05-31T10:09:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If `LOGOUT_REDIRECT_URL` is not set, then it defaults to `None` in Django 1.10+.\r\n\r\nThe settings docs suggest it defaults to `/`, but it doesn't. So if you don't set it, then after going through the `OIDCLogoutView` dispatch code, the user gets redirected to `None` which ends up being `/oidc/logout/None` which is a 404.\r\n\r\nThis issue covers figuring this out.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/116", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/116/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/116/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/116", "id": 232359957, "node_id": "MDU6SXNzdWUyMzIzNTk5NTc=", "number": 116, "title": "jws.verify() returns a byte string", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-05-30T19:41:19Z", "updated_at": "2017-05-31T14:58:06Z", "closed_at": "2017-05-31T14:58:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm currently getting this error:\r\n```\r\nweb_1          | Traceback (most recent call last):\r\nweb_1          |   File \"/usr/local/lib/python3.5/wsgiref/handlers.py\", line 137, in run\r\nweb_1          |     self.result = application(self.environ, self.start_response)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/contrib/staticfiles/handlers.py\", line 63, in __call__\r\nweb_1          |     return self.application(environ, start_response)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/wsgi.py\", line 157, in __call__\r\nweb_1          |     response = self.get_response(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 124, in get_response\r\nweb_1          |     response = self._middleware_chain(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 43, in inner\r\nweb_1          |     response = response_for_exception(request, exc)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 93, in response_for_exception\r\nweb_1          |     response = handle_uncaught_exception(request, get_resolver(get_urlconf()), sys.exc_info())\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 41, in inner\r\nweb_1          |     response = get_response(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 249, in _legacy_get_response\r\nweb_1          |     response = self._get_response(request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 187, in _get_response\r\nweb_1          |     response = self.process_exception_by_middleware(e, request)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\nweb_1          |     response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/views/generic/base.py\", line 68, in view\r\nweb_1          |     return self.dispatch(request, *args, **kwargs)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/views/generic/base.py\", line 88, in dispatch\r\nweb_1          |     return handler(request, *args, **kwargs)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/mozilla_django_oidc/views.py\", line 59, in get\r\nweb_1          |     self.user = auth.authenticate(**kwargs)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/django/contrib/auth/__init__.py\", line 100, in authenticate\r\nweb_1          |     user = backend.authenticate(*args, **credentials)\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/mozilla_django_oidc/auth.py\", line 121, in authenticate\r\nweb_1          |     if self.verify_token(id_token, nonce=nonce):\r\nweb_1          |   File \"/usr/local/lib/python3.5/site-packages/mozilla_django_oidc/auth.py\", line 82, in verify_token\r\nweb_1          |     token_nonce = json.loads(verified_token).get('nonce')\r\nweb_1          |   File \"/usr/local/lib/python3.5/json/__init__.py\", line 312, in loads\r\nweb_1          |     s.__class__.__name__))\r\nweb_1          | TypeError: the JSON object must be str, not 'bytes'\r\n```\r\n\r\nIt happens because of these lines:\r\nhttps://github.com/mozilla/mozilla-django-oidc/blob/fa202c92a5317b2dc66d77861aebd4c0df340449/mozilla_django_oidc/auth.py#L87-L88\r\n\r\nThe `verified_token` variable becomes a byte string (Python 3.5 in my docker). E.g. `b'{\"iss\":\"https://auth.mozilla.auth0.com/\",\"sub\":\"a...`\r\n\r\nCan you can't send in a byte string to `json.loads()`. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/114", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/114/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/114/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/114", "id": 232352651, "node_id": "MDU6SXNzdWUyMzIzNTI2NTE=", "number": 114, "title": "Clash between OIDC_OP_CLIENT_ID and OIDC_RP_CLIENT_ID", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-30T19:12:51Z", "updated_at": "2017-05-31T16:04:30Z", "closed_at": "2017-05-31T16:04:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "[`OIDC_OP_CLIENT_ID`](https://github.com/mozilla/mozilla-django-oidc/search?utf8=%E2%9C%93&q=OIDC_OP_CLIENT_ID&type=) is only mentioned in the documentation. \r\n\r\nSeems the *real* value is [`OIDC_RP_CLIENT_ID`](https://github.com/mozilla/mozilla-django-oidc/search?utf8=%E2%9C%93&q=OIDC_RP_CLIENT_ID&type=). ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/110", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/110/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/110/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/110", "id": 230552902, "node_id": "MDU6SXNzdWUyMzA1NTI5MDI=", "number": 110, "title": "update contribution docs", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-23T00:13:23Z", "updated_at": "2017-05-26T13:33:37Z", "closed_at": "2017-05-26T13:33:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "After we landed the `tox` changes, we updated the README, but didn't update the contribution docs:\r\n\r\nhttps://mozilla-django-oidc.readthedocs.io/en/latest/contributing.html#tips", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/109", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/109/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/109/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/109", "id": 230384896, "node_id": "MDU6SXNzdWUyMzAzODQ4OTY=", "number": 109, "title": "No test coverage of auth0/utils.py:logout_url()", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-22T12:48:48Z", "updated_at": "2017-06-09T13:49:11Z", "closed_at": "2017-06-09T13:49:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I noticed we don't execute any test coverage on logout_url() in `auth0/utils.py`:\r\n\r\n<img width=\"744\" alt=\"screen shot 2017-05-22 at 8 47 44 am\" src=\"https://cloud.githubusercontent.com/assets/26739/26309550/7643b00c-3ecb-11e7-8398-37b76672d95c.png\">\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/108", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/108/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/108/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/108", "id": 230384528, "node_id": "MDU6SXNzdWUyMzAzODQ1Mjg=", "number": 108, "title": "No test coverage of OIDC_OP_LOGOUT_URL_METHOD", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-05-22T12:47:14Z", "updated_at": "2017-06-09T14:51:17Z", "closed_at": "2017-06-09T14:51:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When working on https://github.com/mozilla/mozilla-django-oidc/pull/105 I noticed that we're missing some test coverage on `views.py`:\r\n\r\n<img width=\"749\" alt=\"screen shot 2017-05-22 at 8 46 33 am\" src=\"https://cloud.githubusercontent.com/assets/26739/26309477/304cce26-3ecb-11e7-9864-26d55a3c24cf.png\">\r\n\r\nI'm not actually familiar with that line but it looks rather complex so we should probably have test coverage of it. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/107", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/107/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/107/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/107", "id": 229419117, "node_id": "MDU6SXNzdWUyMjk0MTkxMTc=", "number": 107, "title": "Consider a name change?", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-17T16:42:32Z", "updated_at": "2018-04-13T18:05:10Z", "closed_at": "2018-04-13T18:05:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Having the word \"mozilla\" in the name implies (at least to me) that this is extremely Mozilla specific. But I think that's not true; it's Django and an OAuth2 provider, right? Nothing specific to Mozilla. \r\n\r\nAt first I thought, why not just call it \"django-oidc\" but then I noticed this: https://github.com/mozilla/mozilla-django-oidc/issues/106", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/106", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/106/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/106/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/106", "id": 229418589, "node_id": "MDU6SXNzdWUyMjk0MTg1ODk=", "number": 106, "title": "How is this different from django-oidc?", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-17T16:40:57Z", "updated_at": "2019-08-02T13:20:25Z", "closed_at": "2019-08-02T13:20:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I.e. https://pypi.python.org/pypi/django-oidc\r\nI think we should document this in the README. \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/102", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/102/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/102/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/102", "id": 227477451, "node_id": "MDU6SXNzdWUyMjc0Nzc0NTE=", "number": 102, "title": "match OIDC identity to Django user issues", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-05-09T19:48:55Z", "updated_at": "2018-03-26T15:40:42Z", "closed_at": "2018-03-26T15:40:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Right now, mozilla-django-oidc matches an OIDC identity to a Django user via the Django user email field.\r\n\r\nThat's problematic for a couple of reasons:\r\n\r\n1. the code is doing a case-sensitive exact match, so it's possible that could fail if the case ever changes (email addresses on some systems are case-insensitive)\r\n2. the email field in the Django user table is not marked as unique and thus you can have multiple Django users with the same email field\r\n\r\nI think to fix item 1, we want to do a case-insensitive match even though technically, email addresses are case-sensitive.\r\n\r\nI think to fix item 2, we want to be using the username field of the Django user table and not the email field. Django 1.11's username field works fine with that. It means we don't have to generate usernames from email addresses. It means two users can't have the same email address. It solves a bunch of things for us.\r\n\r\nAre there other issues we need to work around?\r\n\r\nAre there better ways to solve this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/100", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/100/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/100/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/100", "id": 227375644, "node_id": "MDU6SXNzdWUyMjczNzU2NDQ=", "number": 100, "title": "tox everything", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-05-09T13:56:10Z", "updated_at": "2017-05-22T17:53:53Z", "closed_at": "2017-05-22T14:40:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The README suggests running tests with python.\r\nApparently the travis file uses its own matrix.\r\nIdeally everything should be all tox. \r\n\r\nAlso, the documentation should guide developers how to run individual tests rapidly without having to run the whole suite across all versions. \r\n\r\nI'm happy to work on this. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/98", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/98/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/98/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/98", "id": 227077059, "node_id": "MDU6SXNzdWUyMjcwNzcwNTk=", "number": 98, "title": "document RefreshIDToken middleware", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-08T15:08:45Z", "updated_at": "2017-05-19T15:07:35Z", "closed_at": "2017-05-19T15:07:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There is a `RefreshIDToken` middleware in `mozilla_django_oidc/contrib/auth0/middleware.py`.\r\n\r\nThis should get documented.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/97", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/97/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/97/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/97", "id": 227075379, "node_id": "MDU6SXNzdWUyMjcwNzUzNzk=", "number": 97, "title": "add Jinja2 examples", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-08T15:03:32Z", "updated_at": "2017-05-09T09:41:25Z", "closed_at": "2017-05-09T09:41:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A lot of Mozilla sites are using Jinja2 and django-jinja, so it's prudent to have Jinja2 examples to make everyone's life easier.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/96", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/96/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/96/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/96", "id": 227042530, "node_id": "MDU6SXNzdWUyMjcwNDI1MzA=", "number": 96, "title": "document OIDC_CREATE_USER", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-08T13:16:09Z", "updated_at": "2017-05-31T16:32:05Z", "closed_at": "2017-05-31T16:32:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When working on PR #95, one of the things that came up was whether we should also document `OIDC_CREATE_USER` in that PR.\r\n\r\nFrom the comments:\r\n\r\n> @willkg: If you have it set to False, how does the flow work? Don't you end up with a user that's authenticated, but has no corresponding Django user? What do you do at that point?\r\n\r\n> @akatsoulas: That's a good point. A possible scenario could be the one where the authenticate method can be overridden for the use case where a developer needs just to verify an email/user data like eg in a campaign and save them (completely ignoring the Django user). That said, probably this is a hack that does not conform with the Django flow and needs some more work/thought. An idea could be to handle cases like the above at an earlier stage of the flow. @willkg @johngian thoughts?\r\n\r\n> @willkg: I like that there's an \"escape hatch\", but I think any documentation for the setting should probably include some guidance on why you'd want to use it and how to use it.\r\n\r\nThis issue covers documenting that setting along with some explanation for why you might want to do that and what you need to implement to make it work well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/94", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/94/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/94/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/94", "id": 225725643, "node_id": "MDU6SXNzdWUyMjU3MjU2NDM=", "number": 94, "title": "Support prompt parameter none instead of the delegation endpoint", "user": {"login": "gdestuynder", "id": 956866, "node_id": "MDQ6VXNlcjk1Njg2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/956866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdestuynder", "html_url": "https://github.com/gdestuynder", "followers_url": "https://api.github.com/users/gdestuynder/followers", "following_url": "https://api.github.com/users/gdestuynder/following{/other_user}", "gists_url": "https://api.github.com/users/gdestuynder/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdestuynder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdestuynder/subscriptions", "organizations_url": "https://api.github.com/users/gdestuynder/orgs", "repos_url": "https://api.github.com/users/gdestuynder/repos", "events_url": "https://api.github.com/users/gdestuynder/events{/privacy}", "received_events_url": "https://api.github.com/users/gdestuynder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-05-02T15:08:31Z", "updated_at": "2017-06-14T11:59:57Z", "closed_at": "2017-06-01T22:54:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "prompt=none is the OIDC standard and is now supported by auth0:\r\nhttps://auth0.com/docs/api-auth/tutorials/silent-authentication\r\n\r\nSample (Lua):\r\nhttps://github.com/pingidentity/lua-resty-openidc/commit/2d21cb521f5edebb76af27bfb1f7a44264d8372e\r\n\r\nIn other words, instead of calling the delegation endpoint (auth0 specific) we pass a prompt=none parameter to the authorization endpoint, which will return the current id_token (just like delegation endpoint) without prompting the user", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/91", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/91/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/91/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/91", "id": 225493863, "node_id": "MDU6SXNzdWUyMjU0OTM4NjM=", "number": 91, "title": "User username field shouldn't get a bytes value", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-01T18:39:27Z", "updated_at": "2017-05-08T13:20:21Z", "closed_at": "2017-05-08T13:20:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The Django username field should get a unicode value in Python 2 and a string value in Python 3.\r\n\r\nHowever, it's getting the output of `default_username_algo` which generates a string in Python 2 (which is fine since there are no non-ascii characters in it) and a bytes in Python 3 (which is probably not fine).\r\n\r\nFurther, the signature for username generation functions is \"weird\" in the sense that it takes a string/bytes as an argument and returns a string/bytes--but it operates on an email address and returns a username. That feels weird.\r\n\r\nThis issue covers fixing this part of the API.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/90", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/90/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/90/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/90", "id": 225146050, "node_id": "MDU6SXNzdWUyMjUxNDYwNTA=", "number": 90, "title": "Make auth0 middleware compatible with Django>1.10", "user": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-28T17:36:27Z", "updated_at": "2017-05-25T07:14:55Z", "closed_at": "2017-05-25T07:14:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Starting from version 1.10, Django introduced a new style for middleware classes.\r\nhttps://docs.djangoproject.com/en/1.11/releases/1.10/#new-style-middleware\r\n\r\nAt the moment ``contrib.auth0.middleware`` is not compatible nor tested. We should make sure to adapt it to these changes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/89", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/89/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/89/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/89", "id": 225136568, "node_id": "MDU6SXNzdWUyMjUxMzY1Njg=", "number": 89, "title": "Base64 encoding raises error when using Python3", "user": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-04-28T16:52:48Z", "updated_at": "2017-06-06T13:00:48Z", "closed_at": "2017-06-06T13:00:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "When ``OIDC_RP_CLIENT_SECRET_ENCODED==False`` authentication raises the following error on callback:\r\n\r\n```\r\nException Type: TypeError at /oidc/callback/\r\nException Value: a bytes-like object is required, not 'str'\r\n```\r\n\r\nThis gets triggered on python 3.x only.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/88", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/88/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/88/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/88", "id": 225135021, "node_id": "MDU6SXNzdWUyMjUxMzUwMjE=", "number": 88, "title": "document how auth0 identities match to django identities", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-28T16:45:45Z", "updated_at": "2017-05-03T14:16:44Z", "closed_at": "2017-05-03T14:16:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's no documentation covering how mozilla-django-oidc takes an auth0 identity from a user_token and figures out which Django user that belongs to.\r\n\r\nIt's pretty important for any site that has to migrate from an existing system to this one. Further, surfacing how that works will likely surface inherent restrictions regarding accounts.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/85", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/85/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/85/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/85", "id": 225100621, "node_id": "MDU6SXNzdWUyMjUxMDA2MjE=", "number": 85, "title": "add support for django 1.11", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-28T14:38:24Z", "updated_at": "2017-04-28T17:52:23Z", "closed_at": "2017-04-28T17:52:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Django 1.11 (LTS) released in April 2017.\r\n\r\nThis issue covers adding support for it.\r\n\r\nThat might be as easy as adding relevant bits in the `tox.ini`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/73", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/73/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/73/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/73", "id": 198687450, "node_id": "MDU6SXNzdWUxOTg2ODc0NTA=", "number": 73, "title": "Pass the request object in the authenticate view.", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-04T11:32:56Z", "updated_at": "2017-01-04T13:32:17Z", "closed_at": "2017-01-04T13:32:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/71", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/71/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/71/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/71", "id": 196607303, "node_id": "MDU6SXNzdWUxOTY2MDczMDM=", "number": 71, "title": "Enable OIDC discovery for RPs.", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-12-20T07:49:44Z", "updated_at": "2019-08-02T14:19:06Z", "closed_at": "2019-08-02T14:19:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/66", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/66/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/66/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/66", "id": 192241446, "node_id": "MDU6SXNzdWUxOTIyNDE0NDY=", "number": 66, "title": "Logout user from OP in the logout view.", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-11-29T10:19:54Z", "updated_at": "2017-06-01T14:40:41Z", "closed_at": "2017-06-01T14:40:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/63", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/63/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/63/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/63", "id": 191703417, "node_id": "MDU6SXNzdWUxOTE3MDM0MTc=", "number": 63, "title": "Add support for offline develpment in the lib. ", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-25T13:33:56Z", "updated_at": "2018-01-31T17:01:43Z", "closed_at": "2018-01-31T17:01:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/55", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/55/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/55/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/55", "id": 190679470, "node_id": "MDU6SXNzdWUxOTA2Nzk0NzA=", "number": 55, "title": "Easily override OIDCAuthenticationCallbackView", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-21T10:44:17Z", "updated_at": "2016-11-22T11:10:38Z", "closed_at": "2016-11-22T11:10:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We should provide the option to easily override the OIDCAuthenticationCallbackView through settings.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/50", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/50/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/50/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/50", "id": 189157028, "node_id": "MDU6SXNzdWUxODkxNTcwMjg=", "number": 50, "title": "Handle next URL parameter to redirect after login", "user": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-11-14T16:24:11Z", "updated_at": "2016-11-15T11:13:34Z", "closed_at": "2016-11-15T11:13:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It's common when handling logins to django to pass an extra ``next`` URL param to define where user should be redirected after successful login. In our case\r\n\r\n* On authentication initialization we should optionally get ``request.GET[\"next\"]`` and store it in user session (if it exists)\r\n* On callback we should pop this from the session and redirect user after successful login.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/47", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/47/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/47/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/47", "id": 188575585, "node_id": "MDU6SXNzdWUxODg1NzU1ODU=", "number": 47, "title": "Create 'filter_users' method in auth ", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-11-10T17:52:21Z", "updated_at": "2016-11-14T11:17:00Z", "closed_at": "2016-11-14T11:17:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We should create a method for filtering users in order to provide an easy way to override the filtering during the creation of a user.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/45", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/45/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/45/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/45", "id": 186883565, "node_id": "MDU6SXNzdWUxODY4ODM1NjU=", "number": 45, "title": "Make 'state' optional in authentication request.", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2016-11-02T18:29:05Z", "updated_at": "2017-06-01T14:52:31Z", "closed_at": "2017-06-01T14:52:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/43", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/43/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/43/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/43", "id": 186804200, "node_id": "MDU6SXNzdWUxODY4MDQyMDA=", "number": 43, "title": "Implement logout url/view", "user": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "johngian", "id": 835321, "node_id": "MDQ6VXNlcjgzNTMyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/835321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johngian", "html_url": "https://github.com/johngian", "followers_url": "https://api.github.com/users/johngian/followers", "following_url": "https://api.github.com/users/johngian/following{/other_user}", "gists_url": "https://api.github.com/users/johngian/gists{/gist_id}", "starred_url": "https://api.github.com/users/johngian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johngian/subscriptions", "organizations_url": "https://api.github.com/users/johngian/orgs", "repos_url": "https://api.github.com/users/johngian/repos", "events_url": "https://api.github.com/users/johngian/events{/privacy}", "received_events_url": "https://api.github.com/users/johngian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-11-02T13:44:04Z", "updated_at": "2016-11-18T16:20:01Z", "closed_at": "2016-11-18T16:20:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/34", "repository_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc", "labels_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/34/comments", "events_url": "https://api.github.com/repos/mozilla/mozilla-django-oidc/issues/34/events", "html_url": "https://github.com/mozilla/mozilla-django-oidc/issues/34", "id": 186258238, "node_id": "MDU6SXNzdWUxODYyNTgyMzg=", "number": 34, "title": "Use Nonce for validation in code flow.", "user": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "akatsoulas", "id": 900565, "node_id": "MDQ6VXNlcjkwMDU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/900565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akatsoulas", "html_url": "https://github.com/akatsoulas", "followers_url": "https://api.github.com/users/akatsoulas/followers", "following_url": "https://api.github.com/users/akatsoulas/following{/other_user}", "gists_url": "https://api.github.com/users/akatsoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/akatsoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akatsoulas/subscriptions", "organizations_url": "https://api.github.com/users/akatsoulas/orgs", "repos_url": "https://api.github.com/users/akatsoulas/repos", "events_url": "https://api.github.com/users/akatsoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/akatsoulas/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-10-31T11:09:52Z", "updated_at": "2016-11-16T15:41:03Z", "closed_at": "2016-11-16T15:41:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}]}