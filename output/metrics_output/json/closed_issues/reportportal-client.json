{"total_count": 20, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/reportportal/client-Python/issues/105", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/105/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/105/events", "html_url": "https://github.com/reportportal/client-Python/issues/105", "id": 615314420, "node_id": "MDU6SXNzdWU2MTUzMTQ0MjA=", "number": 105, "title": "Importing ABC from collections has been deprecated and will be removed in Python 3.10", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-10T04:29:13Z", "updated_at": "2020-05-13T15:19:41Z", "closed_at": "2020-05-13T15:19:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nreportportal_client/service.py\r\n438:                if not isinstance(attachment, collections.Mapping):\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/102", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/102/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/102/events", "html_url": "https://github.com/reportportal/client-Python/issues/102", "id": 614559475, "node_id": "MDU6SXNzdWU2MTQ1NTk0NzU=", "number": 102, "title": "Pytest reportportal throws Connection pool is full; Discarding connection issue when trying to use Multiprocessing for sending requests to AWS using boto3", "user": {"login": "Preyansh91", "id": 11167119, "node_id": "MDQ6VXNlcjExMTY3MTE5", "avatar_url": "https://avatars2.githubusercontent.com/u/11167119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Preyansh91", "html_url": "https://github.com/Preyansh91", "followers_url": "https://api.github.com/users/Preyansh91/followers", "following_url": "https://api.github.com/users/Preyansh91/following{/other_user}", "gists_url": "https://api.github.com/users/Preyansh91/gists{/gist_id}", "starred_url": "https://api.github.com/users/Preyansh91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Preyansh91/subscriptions", "organizations_url": "https://api.github.com/users/Preyansh91/orgs", "repos_url": "https://api.github.com/users/Preyansh91/repos", "events_url": "https://api.github.com/users/Preyansh91/events{/privacy}", "received_events_url": "https://api.github.com/users/Preyansh91/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-08T00:40:34Z", "updated_at": "2020-05-08T15:37:27Z", "closed_at": "2020-05-08T15:37:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seeing an issue of 'connection pool being full; discarding connection' when using reportportal pytest package for logging along with the test using Multiprocessing for sending requests to AWS using boto3. I have upgraded report portal to v5\r\n\r\nrequirements:\r\npytest-reportportal   5.0.3\r\nreportportal-client   5.0.3\r\n\r\nHere is the error I am seeing:\r\nCreating sns topics\r\nAKIA5MLTZV3YLZJVTYWY Ig2IE/2RnXMeq8cpkAZgcEXNmn/MD6Itlfns33Fp autotesttopic 5000 0\r\nAKIA5MLTZV3YLZJVTYWY Ig2IE/2RnXMeq8cpkAZgcEXNmn/MD6Itlfns33Fp autotesttopic 5000 2\r\nAKIA5MLTZV3YLZJVTYWY Ig2IE/2RnXMeq8cpkAZgcEXNmn/MD6Itlfns33Fp autotesttopic 5000 4\r\nAKIA5MLTZV3YLZJVTYWY Ig2IE/2RnXMeq8cpkAZgcEXNmn/MD6Itlfns33Fp autotesttopic 5000 6\r\nConnection pool is full, discarding connection: testperf.com\r\nConnection pool is full, discarding connection: testperf.com\r\nConnection pool is full, discarding connection: testperf.com\r\nConnection pool is full, discarding connection: testperf.com\r\n\r\nNote: I was not seeing this issue in the previous versions and also without report portal in picture, this issue is not happening", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/97", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/97/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/97/events", "html_url": "https://github.com/reportportal/client-Python/issues/97", "id": 605379679, "node_id": "MDU6SXNzdWU2MDUzNzk2Nzk=", "number": 97, "title": "Duplicate agent name in agent name attached as system information", "user": {"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046293, "node_id": "MDU6TGFiZWw0NDEwNDYyOTM=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-23T09:25:58Z", "updated_at": "2020-04-23T11:04:01Z", "closed_at": "2020-04-23T11:04:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "```\r\n# python\r\nPython 3.6.5 (default, Apr 10 2018, 17:08:37) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-16)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from reportportal_client.service import ReportPortalService\r\n>>> ReportPortalService.get_system_information('pytest-reportportal')\r\n{'agent': 'pytest-reportportal-pytest-reportportal 5.0.2', 'os': 'Linux', 'cpu': 'x86_64', 'machine': 'x86_64'}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/94", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/94/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/94/events", "html_url": "https://github.com/reportportal/client-Python/issues/94", "id": 603127365, "node_id": "MDU6SXNzdWU2MDMxMjczNjU=", "number": 94, "title": "KeyError: 'PYTEST_CURRENT_TEST' while sending POST/PUT requests to RP", "user": {"login": "ilia-tsyplenkov", "id": 16894520, "node_id": "MDQ6VXNlcjE2ODk0NTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/16894520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilia-tsyplenkov", "html_url": "https://github.com/ilia-tsyplenkov", "followers_url": "https://api.github.com/users/ilia-tsyplenkov/followers", "following_url": "https://api.github.com/users/ilia-tsyplenkov/following{/other_user}", "gists_url": "https://api.github.com/users/ilia-tsyplenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilia-tsyplenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilia-tsyplenkov/subscriptions", "organizations_url": "https://api.github.com/users/ilia-tsyplenkov/orgs", "repos_url": "https://api.github.com/users/ilia-tsyplenkov/repos", "events_url": "https://api.github.com/users/ilia-tsyplenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ilia-tsyplenkov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ilia-tsyplenkov", "id": 16894520, "node_id": "MDQ6VXNlcjE2ODk0NTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/16894520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilia-tsyplenkov", "html_url": "https://github.com/ilia-tsyplenkov", "followers_url": "https://api.github.com/users/ilia-tsyplenkov/followers", "following_url": "https://api.github.com/users/ilia-tsyplenkov/following{/other_user}", "gists_url": "https://api.github.com/users/ilia-tsyplenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilia-tsyplenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilia-tsyplenkov/subscriptions", "organizations_url": "https://api.github.com/users/ilia-tsyplenkov/orgs", "repos_url": "https://api.github.com/users/ilia-tsyplenkov/repos", "events_url": "https://api.github.com/users/ilia-tsyplenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ilia-tsyplenkov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ilia-tsyplenkov", "id": 16894520, "node_id": "MDQ6VXNlcjE2ODk0NTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/16894520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilia-tsyplenkov", "html_url": "https://github.com/ilia-tsyplenkov", "followers_url": "https://api.github.com/users/ilia-tsyplenkov/followers", "following_url": "https://api.github.com/users/ilia-tsyplenkov/following{/other_user}", "gists_url": "https://api.github.com/users/ilia-tsyplenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilia-tsyplenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilia-tsyplenkov/subscriptions", "organizations_url": "https://api.github.com/users/ilia-tsyplenkov/orgs", "repos_url": "https://api.github.com/users/ilia-tsyplenkov/repos", "events_url": "https://api.github.com/users/ilia-tsyplenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ilia-tsyplenkov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-20T10:28:49Z", "updated_at": "2020-04-24T11:06:20Z", "closed_at": "2020-04-24T11:06:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/reportportal/client-Python/issues/39 fixed only one problem case.\r\nTo finally fix race condition issue need to handle all possible cases which are all HTTP requests via `request` package since there is no guarantee that environ dict wouldn't be modified by other service\r\nThere are next events which have same problem:\r\n- `reportportal_client/service.py::ReportPortalService::start_launch`\r\n- `reportportal_client/service.py::ReportPortalService::finish_launch`\r\n- `reportportal_client/service.py::ReportPortalService::start_test_item`\r\n- `reportportal_client/service.py::ReportPortalService::update_test_item`\r\n- `reportportal_client/service.py::ReportPortalService::finish_test_item`\r\n- `reportportal_client/service.py::ReportPortalService::log`\r\n- `reportportal_client/service.py::ReportPortalService::get_item_id_by_uuid`\r\n- `reportportal_client/service.py::ReportPortalService::get_project_settings`\r\n\r\n\r\nI regulary have fails with:\r\n- `reportportal_client/service.py::ReportPortalService::start_test_item`\r\n- `reportportal_client/service.py::ReportPortalService::finish_test_item`\r\n\r\n```File /usr/local/lib/python3.6/dist-packages/reportportal_client/service_async.py, line 234, in process_item.    getattr(self.rp_client, method)(**kwargs).\r\nFile /usr/local/lib/python3.6/dist-packages/reportportal_client/service.py, line 229, in finish_test_item.    r = self.session.put(url=url, json=data, verify=self.verify_ssl).\r\nFile /usr/local/lib/python3.6/dist-packages/requests/sessions.py, line 590, in put.    return self.request(PUT, url, data=data, **kwargs).\r\nFile /usr/local/lib/python3.6/dist-packages/requests/sessions.py, line 521, in request.    prep.url, proxies, stream, verify, cert.\r\nFile /usr/local/lib/python3.6/dist-packages/requests/sessions.py, line 697, in merge_environment_settings.    env_proxies = get_environ_proxies(url, no_proxy=no_proxy).\r\nFile /usr/local/lib/python3.6/dist-packages/requests/utils.py, line 766, in get_environ_proxies.    if should_bypass_proxies(url, no_proxy=no_proxy):.\r\nFile /usr/local/lib/python3.6/dist-packages/requests/utils.py, line 750, in should_bypass_proxies.    bypass = proxy_bypass(parsed.hostname).\r\nFile /usr/lib/python3.6/urllib/request.py, line 2497, in proxy_bypass_environment.    proxies = getproxies_environment().\r\nFile /usr/lib/python3.6/urllib/request.py, line 2470, in getproxies_environment.    for name, value in os.environ.items():.\r\nFile /usr/lib/python3.6/_collections_abc.py, line 744, in __iter__.    yield (key, self._mapping[key]).\r\nFile /usr/lib/python3.6/os.py, line 669, in __getitem__.    raise KeyError(key) from None.KeyError: PYTEST_CURRENT_TEST\r\n```\r\n\r\nI'm going to prepare PR if you don't mind.\r\nCould you please grant me write permissions?\r\n\r\nPlease note that it is very important for my team to provide fix for this issue in https://github.com/reportportal/client-Python/releases/tag/3.2.3 too since can't to work with the latest report portal agent/ client right now\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/86", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/86/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/86/events", "html_url": "https://github.com/reportportal/client-Python/issues/86", "id": 589166828, "node_id": "MDU6SXNzdWU1ODkxNjY4Mjg=", "number": 86, "title": "incorrect processor info in docker container", "user": {"login": "UncleTom", "id": 1558966, "node_id": "MDQ6VXNlcjE1NTg5NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1558966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UncleTom", "html_url": "https://github.com/UncleTom", "followers_url": "https://api.github.com/users/UncleTom/followers", "following_url": "https://api.github.com/users/UncleTom/following{/other_user}", "gists_url": "https://api.github.com/users/UncleTom/gists{/gist_id}", "starred_url": "https://api.github.com/users/UncleTom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UncleTom/subscriptions", "organizations_url": "https://api.github.com/users/UncleTom/orgs", "repos_url": "https://api.github.com/users/UncleTom/repos", "events_url": "https://api.github.com/users/UncleTom/events{/privacy}", "received_events_url": "https://api.github.com/users/UncleTom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046293, "node_id": "MDU6TGFiZWw0NDEwNDYyOTM=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-27T14:19:52Z", "updated_at": "2020-04-09T08:44:07Z", "closed_at": "2020-04-09T08:44:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "platform.processor() is not work in docker container. the value is empty, and cannot post to API.\r\n\r\n```python\r\n# tmp fix\r\n        return {'agent': agent,\r\n                'os': platform.system(),\r\n                'cpu': platform.processor(),\r\n                'machine': platform.machine()}\r\n```\r\ntmp fix\r\n```python\r\n        return {'agent': agent,\r\n                'os': platform.system(),\r\n                'cpu': (platform.processor() if platform.processor() else 'unkown'),\r\n                'machine': platform.machine()}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/79", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/79/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/79/events", "html_url": "https://github.com/reportportal/client-Python/issues/79", "id": 585797931, "node_id": "MDU6SXNzdWU1ODU3OTc5MzE=", "number": 79, "title": "item_type= step is being logged as a Test method in rp portal", "user": {"login": "2vireddy", "id": 29040810, "node_id": "MDQ6VXNlcjI5MDQwODEw", "avatar_url": "https://avatars0.githubusercontent.com/u/29040810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2vireddy", "html_url": "https://github.com/2vireddy", "followers_url": "https://api.github.com/users/2vireddy/followers", "following_url": "https://api.github.com/users/2vireddy/following{/other_user}", "gists_url": "https://api.github.com/users/2vireddy/gists{/gist_id}", "starred_url": "https://api.github.com/users/2vireddy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2vireddy/subscriptions", "organizations_url": "https://api.github.com/users/2vireddy/orgs", "repos_url": "https://api.github.com/users/2vireddy/repos", "events_url": "https://api.github.com/users/2vireddy/events{/privacy}", "received_events_url": "https://api.github.com/users/2vireddy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046296, "node_id": "MDU6TGFiZWw0NDEwNDYyOTY=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-22T19:52:09Z", "updated_at": "2020-03-27T07:29:14Z", "closed_at": "2020-03-27T07:29:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the below code to log a test\r\n  \r\n![TEST_REQUEST](https://user-images.githubusercontent.com/29040810/77259526-0278d400-6ca8-11ea-8ef1-231fe1b481f0.png)\r\n\r\n\r\nand below code to log steps to the test\r\n\r\n    \r\n![STEP_REQUEST](https://user-images.githubusercontent.com/29040810/77259592-8763ed80-6ca8-11ea-953d-13d30adeabb5.png)\r\n\r\n\r\nBut the RP shows STEP log request as TEST \r\n![image](https://user-images.githubusercontent.com/29040810/77259033-a82a4400-6ca4-11ea-8e19-e7c42ca855e1.png)\r\n\r\nPlease let me know if this is an issue or wrong implementation", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/78", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/78/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/78/events", "html_url": "https://github.com/reportportal/client-Python/issues/78", "id": 585273626, "node_id": "MDU6SXNzdWU1ODUyNzM2MjY=", "number": 78, "title": "start_launch failing on RPv4", "user": {"login": "Dannyb48", "id": 14814946, "node_id": "MDQ6VXNlcjE0ODE0OTQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/14814946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dannyb48", "html_url": "https://github.com/Dannyb48", "followers_url": "https://api.github.com/users/Dannyb48/followers", "following_url": "https://api.github.com/users/Dannyb48/following{/other_user}", "gists_url": "https://api.github.com/users/Dannyb48/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dannyb48/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dannyb48/subscriptions", "organizations_url": "https://api.github.com/users/Dannyb48/orgs", "repos_url": "https://api.github.com/users/Dannyb48/repos", "events_url": "https://api.github.com/users/Dannyb48/events{/privacy}", "received_events_url": "https://api.github.com/users/Dannyb48/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046299, "node_id": "MDU6TGFiZWw0NDEwNDYyOTk=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-20T19:07:40Z", "updated_at": "2020-03-24T08:36:52Z", "closed_at": "2020-03-24T08:36:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are having an issue using a tool we wrote that uses the reportportal-client to interact with our ReportPortal instance. The issue specifically is calling the `start_launch` method against Report Portal v4.x the error has usually been some form of the following below.\r\n\r\nWe were able to determine with these latest releases of the client that it's hard-coded to use the v2 API for `start_launch` but RPv4 does not have that V2 APIs. We were able to workaround this by downgrading the client to 3.2.3\r\n\r\nAny chance we can make the API version selection configurable? Make it an option passed to the` ReportPortalService` class?\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/bin/rp_preproc\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/rp_preproc/main.py\", line 159, in main\r\n    return_code = run(args)\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/rp_preproc/main.py\", line 91, in run\r\n    rp_response = preproc.process()\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/rp_preproc/libs/preproc.py\", line 130, in process\r\n    response = xunit_xml.process()\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/rp_preproc/libs/xunit_xml.py\", line 57, in process\r\n    launch_id = launch.start()\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/rp_preproc/libs/reportportal.py\", line 380, in start\r\n    description=self.description)\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/reportportal_client/service.py\", line 174, in start_launch\r\n    self.launch_id = _get_id(r)\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/reportportal_client/service.py\", line 46, in _get_id\r\n    return _get_data(response)[\"id\"]\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/reportportal_client/service.py\", line 61, in _get_data\r\n    data = _get_json(response)\r\n  File \"/home/dbaez/.virtualenvs/rp_preproc/lib/python3.6/site-packages/reportportal_client/service.py\", line 86, in _get_json\r\n    \"Invalid response: {0}: {1}\".format(value_error, response.text))\r\nreportportal_client.errors.ResponseError: Invalid response: Expecting value: line 1 column 1 (char 0): <!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n    <meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1\">\r\n\r\n    <meta name=\"description\" content=\"\">\r\n    <meta name=\"author\" content=\"\">\r\n\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n\r\n    <!-- Fav and touch icons -->\r\n    <link rel=\"apple-touch-icon-precomposed\" sizes=\"144x144\"\r\n        href=\"./img/bootstrap/assets/ico/apple-touch-icon-144-precomposed.png\">\r\n    <link rel=\"shortcut icon\" href=\"./favicon.ico\" type=\"image/x-icon\">\r\n\r\n    <title>Report Portal - Page 404</title>\r\n</head>\r\n<body>\r\n```\r\nor\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/app-root/lib/python3.6/site-packages/reportportal_client/service.py\", line 32, in _get_id\r\n    return _get_data(response)[\"id\"]\r\nKeyError: 'id'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"/opt/app-root/lib/python3.6/site-packages/flask/app.py\", line 1949, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/opt/app-root/lib/python3.6/site-packages/flask/app.py\", line 1935, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/opt/app-root/lib/python3.6/site-packages/flask_restplus/api.py\", line 309, in wrapper\r\n    resp = resource(*args, **kwargs)\r\n  File \"/opt/app-root/lib/python3.6/site-packages/flask/views.py\", line 89, in view\r\n    return self.dispatch_request(*args, **kwargs)\r\n  File \"/opt/app-root/lib/python3.6/site-packages/flask_restplus/resource.py\", line 44, in dispatch_request\r\n    resp = meth(*args, **kwargs)\r\n  File \"/opt/app-root/src/rp_preproc/api/process/endpoints/process_payload.py\", line 53, in post\r\n    response = preproc.process()\r\n  File \"/opt/app-root/src/rp_preproc/libs/preproc.py\", line 130, in process\r\n    response = xunit_xml.process()\r\n  File \"/opt/app-root/src/rp_preproc/libs/xunit_xml.py\", line 57, in process\r\n    launch_id = launch.start()\r\n  File \"/opt/app-root/src/rp_preproc/libs/reportportal.py\", line 380, in start\r\n    description=self.description)\r\n  File \"/opt/app-root/lib/python3.6/site-packages/reportportal_client/service.py\", line 153, in start_launch\r\n    self.launch_id = _get_id(r)\r\n  File \"/opt/app-root/lib/python3.6/site-packages/reportportal_client/service.py\", line 35, in _get_id\r\n    \"No 'id' in response: {0}\".format(response.text))\r\nreportportal_client.errors.EntryCreatedError: No 'id' in response: {\"content\":[],\"page\":{\"number\":1,\"size\":20,\"totalElements\":0,\"totalPages\":0}}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/76", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/76/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/76/events", "html_url": "https://github.com/reportportal/client-Python/issues/76", "id": 580446022, "node_id": "MDU6SXNzdWU1ODA0NDYwMjI=", "number": 76, "title": "Getting ImportError while Importing ReportPortalServiceAsync", "user": {"login": "vipin3699", "id": 28474832, "node_id": "MDQ6VXNlcjI4NDc0ODMy", "avatar_url": "https://avatars2.githubusercontent.com/u/28474832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vipin3699", "html_url": "https://github.com/vipin3699", "followers_url": "https://api.github.com/users/vipin3699/followers", "following_url": "https://api.github.com/users/vipin3699/following{/other_user}", "gists_url": "https://api.github.com/users/vipin3699/gists{/gist_id}", "starred_url": "https://api.github.com/users/vipin3699/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vipin3699/subscriptions", "organizations_url": "https://api.github.com/users/vipin3699/orgs", "repos_url": "https://api.github.com/users/vipin3699/repos", "events_url": "https://api.github.com/users/vipin3699/events{/privacy}", "received_events_url": "https://api.github.com/users/vipin3699/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046297, "node_id": "MDU6TGFiZWw0NDEwNDYyOTc=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-13T08:27:35Z", "updated_at": "2020-03-13T12:36:47Z", "closed_at": "2020-03-13T12:36:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a reportportal_client to send data to my reportportal.\r\nBut when I install reportportal_client and import ReportPortalServiceAsync it through me import error.\r\nHere are the steps I did in my system:-\r\n```\r\n[root@vm138 Jenkins]# virtualenv -p /usr/bin/python2.7 report_test_env\r\nRunning virtualenv with interpreter /usr/bin/python2.7\r\nNew python executable in /home/workspace/hardware_gui/Spicegate_Hardware_RHEL8_CERT_Stage/spicegate/Jenkins/report_test_env/bin/python2.7\r\nNot overwriting existing python script /home/workspace/hardware_gui/Spicegate_Hardware_RHEL8_CERT_Stage/spicegate/Jenkins/report_test_env/bin/python (you must use /home/workspace/hardware_gui/Spicegate_Hardware_RHEL8_CERT_Stage/spicegate/Jenkins/report_test_env/bin/python2.7)\r\nInstalling setuptools, pip, wheel...done.\r\n[root@vm138 Jenkins]# source report_test_env/bin/activate\r\n(report_test_env) [root@vm138 Jenkins]# pip list\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nPackage    Version\r\n---------- -------\r\npip        20.0.2 \r\nsetuptools 44.0.0 \r\nwheel      0.34.2 \r\n(report_test_env) [root@vm138 Jenkins]# pip install reportportal-client\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nCollecting reportportal-client\r\n  Using cached reportportal_client-5.0.1-py2.py3-none-any.whl (10 kB)\r\nCollecting requests>=2.4.2\r\n  Using cached requests-2.23.0-py2.py3-none-any.whl (58 kB)\r\nCollecting six\r\n  Using cached six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nCollecting certifi>=2017.4.17\r\n  Using cached certifi-2019.11.28-py2.py3-none-any.whl (156 kB)\r\nCollecting urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1\r\n  Using cached urllib3-1.25.8-py2.py3-none-any.whl (125 kB)\r\nCollecting idna<3,>=2.5\r\n  Using cached idna-2.9-py2.py3-none-any.whl (58 kB)\r\nCollecting chardet<4,>=3.0.2\r\n  Using cached chardet-3.0.4-py2.py3-none-any.whl (133 kB)\r\nInstalling collected packages: certifi, urllib3, idna, chardet, requests, six, reportportal-client\r\nSuccessfully installed certifi-2019.11.28 chardet-3.0.4 idna-2.9 reportportal-client-5.0.1 requests-2.23.0 six-1.14.0 urllib3-1.25.8\r\n(report_test_env) [root@vm138 Jenkins]# pip list\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nPackage             Version   \r\n------------------- ----------\r\ncertifi             2019.11.28\r\nchardet             3.0.4     \r\nidna                2.9       \r\npip                 20.0.2    \r\nreportportal-client 5.0.1     \r\nrequests            2.23.0    \r\nsetuptools          44.0.0    \r\nsix                 1.14.0    \r\nurllib3             1.25.8    \r\nwheel               0.34.2    \r\n(report_test_env) [root@vm138 Jenkins]# python\r\nPython 2.7.5 (default, May  3 2017, 07:55:04) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-14)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from reportportal_client import ReportPortalServiceAsync\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: cannot import name ReportPortalServiceAsync\r\n>>> from reportportal_client import ReportPortalServiceAsync\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: cannot import name ReportPortalServiceAsync\r\n```\r\n\r\nSteps to reproduce:-\r\nCreate a new virtual environment\r\n`virtualenv -p /usr/bin/python2.7 report_test_env`\r\nactivate reportportal-client and run pip list to verify that there should no other packages\r\n`pip list`\r\ninstall reportportal-client\r\n`pip install reportportal-client`\r\nand try to import ReportPortalServiceAsync\r\n```\r\n(report_test_env) [root@vm138 Jenkins]# python\r\nPython 2.7.5 (default, May  3 2017, 07:55:04) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-14)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from reportportal_client import ReportPortalServiceAsync\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: cannot import name ReportPortalServiceAsync\r\n```\r\nI just checked It's working fine till version [3.2.3](https://pypi.org/project/reportportal-client/3.2.3/).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/72", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/72/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/72/events", "html_url": "https://github.com/reportportal/client-Python/issues/72", "id": 575592931, "node_id": "MDU6SXNzdWU1NzU1OTI5MzE=", "number": 72, "title": "invalid syntax issue due to is_skipped_an_issue", "user": {"login": "anushreeShenoy3", "id": 33682342, "node_id": "MDQ6VXNlcjMzNjgyMzQy", "avatar_url": "https://avatars0.githubusercontent.com/u/33682342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anushreeShenoy3", "html_url": "https://github.com/anushreeShenoy3", "followers_url": "https://api.github.com/users/anushreeShenoy3/followers", "following_url": "https://api.github.com/users/anushreeShenoy3/following{/other_user}", "gists_url": "https://api.github.com/users/anushreeShenoy3/gists{/gist_id}", "starred_url": "https://api.github.com/users/anushreeShenoy3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anushreeShenoy3/subscriptions", "organizations_url": "https://api.github.com/users/anushreeShenoy3/orgs", "repos_url": "https://api.github.com/users/anushreeShenoy3/repos", "events_url": "https://api.github.com/users/anushreeShenoy3/events{/privacy}", "received_events_url": "https://api.github.com/users/anushreeShenoy3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iivanou", "id": 8349078, "node_id": "MDQ6VXNlcjgzNDkwNzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8349078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iivanou", "html_url": "https://github.com/iivanou", "followers_url": "https://api.github.com/users/iivanou/followers", "following_url": "https://api.github.com/users/iivanou/following{/other_user}", "gists_url": "https://api.github.com/users/iivanou/gists{/gist_id}", "starred_url": "https://api.github.com/users/iivanou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iivanou/subscriptions", "organizations_url": "https://api.github.com/users/iivanou/orgs", "repos_url": "https://api.github.com/users/iivanou/repos", "events_url": "https://api.github.com/users/iivanou/events{/privacy}", "received_events_url": "https://api.github.com/users/iivanou/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-04T17:18:30Z", "updated_at": "2020-03-09T10:36:36Z", "closed_at": "2020-03-06T10:39:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error message while executing report module\r\nFile \"/home/test/agent/workspace/mv/test_backup/.pyenv/local/lib/python2.7/site-packages/lemoncheesecake/reporting/backends/reportportal.py\", line 9, in <module>\r\n    from reportportal_client import ReportPortalServiceAsync\r\n  File \"/home/test/agent/workspace/mv/test_backup/.pyenv/local/lib/python2.7/site-packages/reportportal_client/__init__.py\", line 15, in <module>\r\n    from .service import ReportPortalService\r\n  File \"/home/test/agent/workspace/mv/test_backup/.pyenv/local/lib/python2.7/site-packages/reportportal_client/service.py\", line 124\r\n    is_skipped_an_issue=True,\r\n                      ^\r\nSyntaxError: invalid syntax\r\nThis is caused due to latest merged code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/68", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/68/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/68/events", "html_url": "https://github.com/reportportal/client-Python/issues/68", "id": 568810017, "node_id": "MDU6SXNzdWU1Njg4MTAwMTc=", "number": 68, "title": "How to send screenshot to report portal", "user": {"login": "Dhams-1", "id": 60965197, "node_id": "MDQ6VXNlcjYwOTY1MTk3", "avatar_url": "https://avatars0.githubusercontent.com/u/60965197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhams-1", "html_url": "https://github.com/Dhams-1", "followers_url": "https://api.github.com/users/Dhams-1/followers", "following_url": "https://api.github.com/users/Dhams-1/following{/other_user}", "gists_url": "https://api.github.com/users/Dhams-1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhams-1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhams-1/subscriptions", "organizations_url": "https://api.github.com/users/Dhams-1/orgs", "repos_url": "https://api.github.com/users/Dhams-1/repos", "events_url": "https://api.github.com/users/Dhams-1/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhams-1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-21T08:30:25Z", "updated_at": "2020-02-21T12:08:07Z", "closed_at": "2020-02-21T12:08:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All,\r\n\r\nI am very new to reportportal. I have installed agent for robotframework. I would like to send the failure cases screenshots to report portal i went through the code from here https://github.com/reportportal/client-Python#send-attachement-screenshots\r\n\r\nbut I am not able to follow it on where to add this code snippet. Kindly help me with the same.\r\n\r\nCase 1 - pass file-like object\r\nwith open(screenshot_file_path, \"rb\") as image_file:\r\n    rp_logger.info(\"Some Text Here\",\r\n                            attachment={\"name\": \"test_name_screenshot.png\",\r\n                                                 \"data\": image_file,\r\n                                                 \"mime\": \"image/png\"})\r\nCase 2 - pass file content itself (like you did)\r\nwith open(screenshot_file_path, \"rb\") as image_file:\r\n        file_data = image_file.read()\r\n\r\nrp_logger.info(\"Some Text Here\",\r\n                       attachment={\"name\": \"test_name_screenshot.png\",\r\n                                             \"data\": file_data,\r\n                                             \"mime\": \"image/png\"})\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/66", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/66/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/66/events", "html_url": "https://github.com/reportportal/client-Python/issues/66", "id": 555483490, "node_id": "MDU6SXNzdWU1NTU0ODM0OTA=", "number": 66, "title": "robotframework and reportportal v5 reporting failing to get launch_id", "user": {"login": "terminal-illness", "id": 22391096, "node_id": "MDQ6VXNlcjIyMzkxMDk2", "avatar_url": "https://avatars0.githubusercontent.com/u/22391096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/terminal-illness", "html_url": "https://github.com/terminal-illness", "followers_url": "https://api.github.com/users/terminal-illness/followers", "following_url": "https://api.github.com/users/terminal-illness/following{/other_user}", "gists_url": "https://api.github.com/users/terminal-illness/gists{/gist_id}", "starred_url": "https://api.github.com/users/terminal-illness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/terminal-illness/subscriptions", "organizations_url": "https://api.github.com/users/terminal-illness/orgs", "repos_url": "https://api.github.com/users/terminal-illness/repos", "events_url": "https://api.github.com/users/terminal-illness/events{/privacy}", "received_events_url": "https://api.github.com/users/terminal-illness/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-01-27T10:30:45Z", "updated_at": "2020-03-11T08:52:01Z", "closed_at": "2020-03-11T08:52:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did some debugging and it looks like start_launch, start_test_item, finish_test_item throw 400 responses when using reportportal_client to report to version 5 of reportportal. I can see in the url  is going to api/v1. Not sure if there is a param to pass to tell the client lib its reporting to v5. \r\nChanging the api/v2 doesn't help either. Looks like its failing to get the launch_id.\r\nFile \"**************\\venv\\lib\\site-packages\\reportportal_client\\service_async.py\", line 234, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 160, in start_launch\r\n    self.launch_id = _get_id(r)\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 32, in _get_id\r\n    return _get_data(response)[\"id\"]\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 55, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nreportportal_client.errors.ResponseError: Incorrect Request. [Field 'attributes[].value' should have size from '1' to '128'.] [Field 'attributes[].value' should not contain only white spaces and shouldn't be empty.]\r\n**************\\venv\\lib\\site-packages\\urllib3\\connectionpool.py:857: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\r\n  InsecureRequestWarning)\r\nTraceback (most recent call last):\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service_async.py\", line 234, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 223, in start_test_item\r\n    item_id = _get_id(r)\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 32, in _get_id\r\n    return _get_data(response)[\"id\"]\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 55, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nreportportal_client.errors.ResponseError: Incorrect Request. [Field 'launchUuid' should not be null.]\r\nTraceback (most recent call last):\r\n  File \"*************\\venv\\lib\\site-packages\\reportportal_client\\service_async.py\", line 234, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"****************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 223, in start_test_item\r\n    item_id = _get_id(r)\r\n  File \"***************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 32, in _get_id\r\n    return _get_data(response)[\"id\"]\r\n  File \"**************\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 55, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nreportportal_client.errors.ResponseError: Incorrect Request. [Field 'launchUuid' should not be null.]\r\n**************\\venv\\lib\\site-packages\\urllib3\\connectionpool.py:857: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\r\n  InsecureRequestWarning)\r\n****************\\venv\\lib\\site-packages\\urllib3\\connectionpool.py:857: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\r\n  InsecureRequestWarning)\r\n**********\\venv\\lib\\site-packages\\urllib3\\connectionpool.py:857: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\r\n  InsecureRequestWarning)\r\n******\\venv\\lib\\site-packages\\urllib3\\connectionpool.py:857: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\r\n  InsecureRequestWarning)\r\n...******************\r\n<Response [201]>\r\n******************\r\nTraceback (most recent call last):\r\n  File \"****\\venv\\lib\\site-packages\\reportportal_client\\service_async.py\", line 233, in process_item\r\n    self._post_log_batch()\r\n  File \"****\\venv\\lib\\site-packages\\reportportal_client\\service_async.py\", line 203, in _post_log_batch\r\n    self.rp_client.log_batch(self.log_batch)\r\n  File \"*****\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 335, in log_batch\r\n    return _get_data(r)\r\n  File \"***\\venv\\lib\\site-packages\\reportportal_client\\service.py\", line 58, in _get_data\r\n    \"\\n  - \".join([\"Multiple errors:\"] + error_messages))\r\nreportportal_client.errors.ResponseError: Multiple errors:\r\n  - NullPointerException:\r\n  - NullPointerException:\r\n  - NullPointerException:\r\n%%%%%%%%%%%%%%", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/53", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/53/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/53/events", "html_url": "https://github.com/reportportal/client-Python/issues/53", "id": 478498980, "node_id": "MDU6SXNzdWU0Nzg0OTg5ODA=", "number": 53, "title": "Adopt client to latest 5.0+ sync-reporting API", "user": {"login": "dunossauro", "id": 6801122, "node_id": "MDQ6VXNlcjY4MDExMjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6801122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dunossauro", "html_url": "https://github.com/dunossauro", "followers_url": "https://api.github.com/users/dunossauro/followers", "following_url": "https://api.github.com/users/dunossauro/following{/other_user}", "gists_url": "https://api.github.com/users/dunossauro/gists{/gist_id}", "starred_url": "https://api.github.com/users/dunossauro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dunossauro/subscriptions", "organizations_url": "https://api.github.com/users/dunossauro/orgs", "repos_url": "https://api.github.com/users/dunossauro/repos", "events_url": "https://api.github.com/users/dunossauro/events{/privacy}", "received_events_url": "https://api.github.com/users/dunossauro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046295, "node_id": "MDU6TGFiZWw0NDEwNDYyOTU=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-08-08T14:14:58Z", "updated_at": "2020-03-11T08:53:32Z", "closed_at": "2020-03-11T08:53:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying running cline-python current version on docker-compose and has many errors related a request.\r\n\r\nfor example:\r\n```\r\n{'errorCode': 4001, 'message': \"Incorrect Request. [Field 'startTime' should not be null.] \"}\r\n```\r\nOr\r\n```\r\n{'errorCode': 4001, 'message': \"Incorrect Request. [Field 'stopTime' should not be null.] \"}\r\n```\r\n\r\nWhen investigating that I found in `ReportPortalService` many calls with the wrong payload. Like that:\r\n\r\n```Python\r\n    def start_launch(self, name, start_time, description=None, tags=None,\r\n                     mode=None):\r\n        data = {\r\n            \"name\": name,\r\n            \"description\": description,\r\n            \"tags\": tags,\r\n            \"start_time\": start_time,\r\n            \"mode\": mode\r\n        }\r\n```\r\n\r\nMaybe the API change, but I don't know exactly, because yesterday I started my first tests with report portal.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/50", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/50/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/50/events", "html_url": "https://github.com/reportportal/client-Python/issues/50", "id": 472063225, "node_id": "MDU6SXNzdWU0NzIwNjMyMjU=", "number": 50, "title": "New Release 3.2.3", "user": {"login": "wahahaXDD", "id": 16762308, "node_id": "MDQ6VXNlcjE2NzYyMzA4", "avatar_url": "https://avatars2.githubusercontent.com/u/16762308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wahahaXDD", "html_url": "https://github.com/wahahaXDD", "followers_url": "https://api.github.com/users/wahahaXDD/followers", "following_url": "https://api.github.com/users/wahahaXDD/following{/other_user}", "gists_url": "https://api.github.com/users/wahahaXDD/gists{/gist_id}", "starred_url": "https://api.github.com/users/wahahaXDD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wahahaXDD/subscriptions", "organizations_url": "https://api.github.com/users/wahahaXDD/orgs", "repos_url": "https://api.github.com/users/wahahaXDD/repos", "events_url": "https://api.github.com/users/wahahaXDD/events{/privacy}", "received_events_url": "https://api.github.com/users/wahahaXDD/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "krasoffski", "id": 1073415, "node_id": "MDQ6VXNlcjEwNzM0MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1073415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krasoffski", "html_url": "https://github.com/krasoffski", "followers_url": "https://api.github.com/users/krasoffski/followers", "following_url": "https://api.github.com/users/krasoffski/following{/other_user}", "gists_url": "https://api.github.com/users/krasoffski/gists{/gist_id}", "starred_url": "https://api.github.com/users/krasoffski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krasoffski/subscriptions", "organizations_url": "https://api.github.com/users/krasoffski/orgs", "repos_url": "https://api.github.com/users/krasoffski/repos", "events_url": "https://api.github.com/users/krasoffski/events{/privacy}", "received_events_url": "https://api.github.com/users/krasoffski/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "krasoffski", "id": 1073415, "node_id": "MDQ6VXNlcjEwNzM0MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1073415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krasoffski", "html_url": "https://github.com/krasoffski", "followers_url": "https://api.github.com/users/krasoffski/followers", "following_url": "https://api.github.com/users/krasoffski/following{/other_user}", "gists_url": "https://api.github.com/users/krasoffski/gists{/gist_id}", "starred_url": "https://api.github.com/users/krasoffski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krasoffski/subscriptions", "organizations_url": "https://api.github.com/users/krasoffski/orgs", "repos_url": "https://api.github.com/users/krasoffski/repos", "events_url": "https://api.github.com/users/krasoffski/events{/privacy}", "received_events_url": "https://api.github.com/users/krasoffski/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-07-24T03:38:38Z", "updated_at": "2019-10-15T11:43:02Z", "closed_at": "2019-10-02T15:35:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "For what I've seen, the released code on pypi seems to be outdated.\r\nThe support for verify ssl and get project settings is not available with current version(3.2.0).\r\nIs the current code ready to release?\r\nWhat's the process to get it release?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/48", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/48/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/48/events", "html_url": "https://github.com/reportportal/client-Python/issues/48", "id": 439074109, "node_id": "MDU6SXNzdWU0MzkwNzQxMDk=", "number": 48, "title": "https connection issue with report portal python requests", "user": {"login": "sumeetm18", "id": 30995725, "node_id": "MDQ6VXNlcjMwOTk1NzI1", "avatar_url": "https://avatars0.githubusercontent.com/u/30995725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sumeetm18", "html_url": "https://github.com/sumeetm18", "followers_url": "https://api.github.com/users/sumeetm18/followers", "following_url": "https://api.github.com/users/sumeetm18/following{/other_user}", "gists_url": "https://api.github.com/users/sumeetm18/gists{/gist_id}", "starred_url": "https://api.github.com/users/sumeetm18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sumeetm18/subscriptions", "organizations_url": "https://api.github.com/users/sumeetm18/orgs", "repos_url": "https://api.github.com/users/sumeetm18/repos", "events_url": "https://api.github.com/users/sumeetm18/events{/privacy}", "received_events_url": "https://api.github.com/users/sumeetm18/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1347047506, "node_id": "MDU6TGFiZWwxMzQ3MDQ3NTA2", "url": "https://api.github.com/repos/reportportal/client-Python/labels/agent", "name": "agent", "color": "85f798", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-01T05:38:39Z", "updated_at": "2019-10-03T10:48:29Z", "closed_at": "2019-10-03T10:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Team,\r\n\r\nCould you please help me with this issue. We are not able to send the data to report portal using python client with https connection.\r\n\r\nError:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/site-packages/reportportal_client/service_async.py\", line 208, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"/usr/local/lib/python2.7/site-packages/reportportal_client/service.py\", line 144, in finish_launch\r\n    status=status)\r\n  File \"/usr/local/lib/python2.7/site-packages/reportportal_client/service.py\", line 137, in _finalize_launch\r\n    r = self.session.put(url=url, json=data)\r\n  File \"/usr/local/lib/python2.7/site-packages/requests/sessions.py\", line 593, in put\r\n    return self.request('PUT', url, data=data, **kwargs)\r\n  File \"/usr/local/lib/python2.7/site-packages/requests/sessions.py\", line 533, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/local/lib/python2.7/site-packages/requests/sessions.py\", line 646, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/local/lib/python2.7/site-packages/requests/adapters.py\", line 514, in send\r\n    raise SSLError(e, request=request)\r\nSSLError: HTTPSConnectionPool(host='report-portal.****.com', port=8080): Max retries exceeded with url: /api/v1/api_automation/launch/None/finish (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))\r\n\r\n\r\nCould you please check and help here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/39", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/39/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/39/events", "html_url": "https://github.com/reportportal/client-Python/issues/39", "id": 376979148, "node_id": "MDU6SXNzdWUzNzY5NzkxNDg=", "number": 39, "title": "KeyError: 'PYTEST_CURRENT_TEST' on  _post_log_batch", "user": {"login": "rplevka", "id": 11773362, "node_id": "MDQ6VXNlcjExNzczMzYy", "avatar_url": "https://avatars0.githubusercontent.com/u/11773362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rplevka", "html_url": "https://github.com/rplevka", "followers_url": "https://api.github.com/users/rplevka/followers", "following_url": "https://api.github.com/users/rplevka/following{/other_user}", "gists_url": "https://api.github.com/users/rplevka/gists{/gist_id}", "starred_url": "https://api.github.com/users/rplevka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rplevka/subscriptions", "organizations_url": "https://api.github.com/users/rplevka/orgs", "repos_url": "https://api.github.com/users/rplevka/repos", "events_url": "https://api.github.com/users/rplevka/events{/privacy}", "received_events_url": "https://api.github.com/users/rplevka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-02T21:51:47Z", "updated_at": "2018-11-16T14:34:46Z", "closed_at": "2018-11-16T14:34:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I really don't know what is going on here, i spotted this in a wild, while running py.test with xdist.\r\naccording the logs, the [gw5] worker wasn't stuck but successfully executed other tests, however the \"crashed\" test wasn't properly stopped on RP. Now the whole py.test seems to be hanging.\r\n```\r\n[gw5] [  7%] FAILED tests/foreman/api/test_contentviewversion.py::ContentViewVersionDeleteTestCase::test_positive_delete_with_puppet_content Traceback (most recent call last):\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/reportportal_client/service_async.py\", line 228, in process_item\r\n    self.process_log(**kwargs)\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/reportportal_client/service_async.py\", line 212, in process_log\r\n    self._post_log_batch()\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/reportportal_client/service_async.py\", line 200, in _post_log_batch\r\n    self.rp_client.log_batch(self.log_batch)\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/reportportal_client/service.py\", line 294, in log_batch\r\n    r = self.session.post(url=url, files=files, verify=self.verify_ssl)\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/requests/sessions.py\", line 559, in post\r\n    return self.request('POST', url, data=data, json=json, **kwargs)\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/requests/sessions.py\", line 503, in request\r\n    prep.url, proxies, stream, verify, cert\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/requests/sessions.py\", line 676, in merge_environment_settings\r\n    env_proxies = get_environ_proxies(url, no_proxy=no_proxy)\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib/python3.6/site-packages/requests/utils.py\", line 763, in get_environ_proxies\r\n    return getproxies()\r\n  File \"/usr/lib64/python3.6/urllib/request.py\", line 2480, in getproxies_environment\r\n    for name, value in os.environ.items():\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib64/python3.6/_collections_abc.py\", line 744, in __iter__\r\n    yield (key, self._mapping[key])\r\n  File \"/home/jenkins/shiningpanda/jobs/9ce8c4b2/virtualenvs/d41d8cd9/lib64/python3.6/os.py\", line 669, in __getitem__\r\n    raise KeyError(key) from None\r\nKeyError: 'PYTEST_CURRENT_TEST'\r\n```\r\n\r\nthis also happened on some other workers during the same run later - same symptoms.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/37", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/37/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/37/events", "html_url": "https://github.com/reportportal/client-Python/issues/37", "id": 370554795, "node_id": "MDU6SXNzdWUzNzA1NTQ3OTU=", "number": 37, "title": "Running robot framework tests inside a container is causing ResponseError: 5000: Unclassified error [null]", "user": {"login": "moijes12", "id": 4566851, "node_id": "MDQ6VXNlcjQ1NjY4NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4566851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moijes12", "html_url": "https://github.com/moijes12", "followers_url": "https://api.github.com/users/moijes12/followers", "following_url": "https://api.github.com/users/moijes12/following{/other_user}", "gists_url": "https://api.github.com/users/moijes12/gists{/gist_id}", "starred_url": "https://api.github.com/users/moijes12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moijes12/subscriptions", "organizations_url": "https://api.github.com/users/moijes12/orgs", "repos_url": "https://api.github.com/users/moijes12/repos", "events_url": "https://api.github.com/users/moijes12/events{/privacy}", "received_events_url": "https://api.github.com/users/moijes12/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-16T10:57:38Z", "updated_at": "2020-01-15T06:25:36Z", "closed_at": "2018-10-17T04:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am facing an issue where I am unable to publish my test results to report portal and I suspect it could be because of networking. Below is a more detailed view of my problem.\r\n\r\n### Test Setup\r\n* Tests are running inside a ubuntu image on a gitlab-runner container , say **hostname gitlab.network**\r\n* The reportportal server is running on a different host, say **report-portal.network**\r\n* The tests are called in the docker container with the below command:\r\n```\r\nrobot -d reports --pythonpath lib --listener robotframework_reportportal.listener --variable RP_ENDPOINT:\"http://report-portal.network:8080\" --variable RP_UUID:\"XXXXX-XXXX-XXXX-XXXX-XXXXXXXX\" --variable RP_LAUNCH:\"GitLab Demo\" --variable RP_PROJECT:\"GITLAB_TEST\" tests/\r\n```\r\n\r\n### Issue\r\nAs each step is executed, I see the below log writing:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service_async.py\", line 208, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 199, in finish_test_item\r\n    return _get_msg(r)\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 22, in _get_msg\r\n    return _get_data(response)[\"msg\"]\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 34, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nResponseError: 5000: Unclassified error [null]\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service_async.py\", line 208, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 199, in finish_test_item\r\n    return _get_msg(r)\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 22, in _get_msg\r\n    return _get_data(response)[\"msg\"]\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 34, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nResponseError: 40022: Finish test item is not allowed. Test item '5bc5c17442eba400010da6be' has descendants with 'IN_PROGRESS' status. All descendants '[XvfbRobot.Start Virtual Display (1920, 1080)]'\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service_async.py\", line 208, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 199, in finish_test_item\r\n    return _get_msg(r)\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 22, in _get_msg\r\n    return _get_data(response)[\"msg\"]\r\n  File \"/usr/local/lib/python2.7/dist-packages/reportportal_client/service.py\", line 34, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nResponseError: 40022: Finish test item is not allowed. Test item '5bc5c17442eba400010da6bd' has descendants with 'IN_PROGRESS' status. All descendants '[login.Open Headless Browser (), XvfbRobot.Start Virtual Display (1920, 1080)]'\r\nT\r\n```\r\n\r\nI am not really sure why this should occur. How can we work together to fix this ? Can I provide you with more information or logs ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/28", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/28/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/28/events", "html_url": "https://github.com/reportportal/client-Python/issues/28", "id": 326964550, "node_id": "MDU6SXNzdWUzMjY5NjQ1NTA=", "number": 28, "title": "New Release", "user": {"login": "s0undt3ch", "id": 300048, "node_id": "MDQ6VXNlcjMwMDA0OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/300048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/s0undt3ch", "html_url": "https://github.com/s0undt3ch", "followers_url": "https://api.github.com/users/s0undt3ch/followers", "following_url": "https://api.github.com/users/s0undt3ch/following{/other_user}", "gists_url": "https://api.github.com/users/s0undt3ch/gists{/gist_id}", "starred_url": "https://api.github.com/users/s0undt3ch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/s0undt3ch/subscriptions", "organizations_url": "https://api.github.com/users/s0undt3ch/orgs", "repos_url": "https://api.github.com/users/s0undt3ch/repos", "events_url": "https://api.github.com/users/s0undt3ch/events{/privacy}", "received_events_url": "https://api.github.com/users/s0undt3ch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 441046296, "node_id": "MDU6TGFiZWw0NDEwNDYyOTY=", "url": "https://api.github.com/repos/reportportal/client-Python/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-05-28T09:41:39Z", "updated_at": "2018-07-26T11:35:37Z", "closed_at": "2018-07-17T21:47:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you please release the current code which has `parameters` support?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/27", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/27/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/27/events", "html_url": "https://github.com/reportportal/client-Python/issues/27", "id": 326784248, "node_id": "MDU6SXNzdWUzMjY3ODQyNDg=", "number": 27, "title": "run pybot got the 'NoneType' object has no attribute 'put_nowait' errors", "user": {"login": "koala2012", "id": 6346210, "node_id": "MDQ6VXNlcjYzNDYyMTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6346210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koala2012", "html_url": "https://github.com/koala2012", "followers_url": "https://api.github.com/users/koala2012/followers", "following_url": "https://api.github.com/users/koala2012/following{/other_user}", "gists_url": "https://api.github.com/users/koala2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/koala2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koala2012/subscriptions", "organizations_url": "https://api.github.com/users/koala2012/orgs", "repos_url": "https://api.github.com/users/koala2012/repos", "events_url": "https://api.github.com/users/koala2012/events{/privacy}", "received_events_url": "https://api.github.com/users/koala2012/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-05-27T03:30:11Z", "updated_at": "2018-12-03T10:49:25Z", "closed_at": "2018-12-03T10:49:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just run the pybot command, but an got error as below\r\n\r\npybot --listener robotframework_reportportal.listener --variable RP_UUID:\"b514a045-0a6d-4dc9-a496-fae494f8c928\" --variable RP_ENDPOINT:\"http://ip172-18-0-10-bc51moquguig00f5g7i0-8080.direct.labs.play-with-docker.com\" --variable RP_LAUNCH:\"Robotframework_test_demo\" --variable RP_PROJECT:\"Robotframework_test_demo\" -d Results test.robot\r\n\r\n==============================================================================\r\nTest\r\n==============================================================================\r\ntest                                                                  | PASS |\r\n------------------------------------------------------------------------------\r\n[ ERROR ] Calling method 'log_message' of listener 'robotframework_reportportal.listener' failed: AttributeError: 'NoneType' object has no attribute 'put_nowait'\r\ngfp                                                                   Traceback (most recent call last):\r\n  File \"/Users/Larry/anaconda2/lib/python2.7/site-packages/reportportal_client/service_async.py\", line 204, in process_item\r\n    getattr(self.rp_client, method)(**kwargs)\r\n  File \"/Users/Larry/anaconda2/lib/python2.7/site-packages/reportportal_client/service.py\", line 187, in finish_test_item\r\n    return _get_msg(r)\r\n  File \"/Users/Larry/anaconda2/lib/python2.7/site-packages/reportportal_client/service.py\", line 22, in _get_msg\r\n    return _get_data(response)[\"msg\"]\r\n  File \"/Users/Larry/anaconda2/lib/python2.7/site-packages/reportportal_client/service.py\", line 34, in _get_data\r\n    raise ResponseError(error_messages[0])\r\nResponseError: 5000: Unclassified error [null]\r\n[ ERROR ] Calling method 'end_keyword' of listener 'robotframework_reportportal.listener' failed: AttributeError: 'NoneType' object has no attribute 'put_nowait'\r\n[ ERROR ] Calling method 'start_keyword' of listener 'robotframework_reportportal.listener' failed: AttributeError: 'NoneType' object has no attribute 'put_nowait'\r\n[ ERROR ] Calling method 'end_keyword' of listener 'robotframework_reportportal.listener' failed: AttributeError: 'NoneType' object has no attribute 'put_nowait'\r\n[ ERROR ] Calling method 'end_test' of listener 'robotframework_reportportal.listener' failed: AttributeError: 'NoneType' object has no attribute 'put_nowait'\r\n\r\nmy robot framework version is Robot Framework 3.0.2 (Python 2.7.12 on darwin)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/10", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/10/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/10/events", "html_url": "https://github.com/reportportal/client-Python/issues/10", "id": 228526223, "node_id": "MDU6SXNzdWUyMjg1MjYyMjM=", "number": 10, "title": "Invalid error handling.", "user": {"login": "krasoffski", "id": 1073415, "node_id": "MDQ6VXNlcjEwNzM0MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1073415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krasoffski", "html_url": "https://github.com/krasoffski", "followers_url": "https://api.github.com/users/krasoffski/followers", "following_url": "https://api.github.com/users/krasoffski/following{/other_user}", "gists_url": "https://api.github.com/users/krasoffski/gists{/gist_id}", "starred_url": "https://api.github.com/users/krasoffski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krasoffski/subscriptions", "organizations_url": "https://api.github.com/users/krasoffski/orgs", "repos_url": "https://api.github.com/users/krasoffski/repos", "events_url": "https://api.github.com/users/krasoffski/events{/privacy}", "received_events_url": "https://api.github.com/users/krasoffski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-14T08:12:54Z", "updated_at": "2017-05-25T10:50:44Z", "closed_at": "2017-05-25T10:50:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "# Summary\r\n 1. Wrong approach for exception message updating.\r\n 2. Useless error handling for invalid requests.\r\n 3. Missing response handler for mult-part form request.\r\n\r\n## Part 1\r\nAt the current moment implemented wrong approach for updating error massage like bellow:\r\n```python\r\ntry:\r\n    return json.loads(self.raw)[\"id\"]\r\nexcept KeyError as error:\r\n    error.message += \"Raw: {0}\".format(self.raw)\r\n    raise\r\n```\r\nLet's create a simple example `err.py` and test it on different versions of python:\r\n```python\r\ntry:\r\n    x = {\"abc\":123}[\"id\"]\r\nexcept KeyError as error:\r\n    error.message += \"Raw: {0}\".format(\"some additional info\")\r\n    raise\r\n```\r\nHere is the output:\r\n```bash\r\n$ python2 err.py \r\nTraceback (most recent call last):\r\n  File \"err.py\", line 2, in <module>\r\n    x = {\"abc\":123}[\"id\"]\r\nKeyError: 'id'\r\n```\r\n```bash\r\n$ python3 err.py \r\nTraceback (most recent call last):\r\n  File \"err.py\", line 2, in <module>\r\n    x = {\"abc\":123}[\"id\"]\r\nKeyError: 'id'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"err.py\", line 4, in <module>\r\n    error.message += \"Raw: {0}\".format(\"some additiona info\")\r\nAttributeError: 'KeyError' object has no attribute 'message'\r\n```\r\nAs you can see for `python2` there is no any additional info appeared. Moreover, `python3` exception does not have attribute with name `message` (chain exception).\r\n\r\n## Part 2 (more serious)\r\n__No exception appeared in case of invalid request!__\r\nLet me show an example [err2.py.txt](https://github.com/reportportal/client-Python/files/999175/err2.py.txt)\r\nCreate save log request without time field like bellow:\r\n```python\r\nlog_rq = SaveLogRQ(\r\n    item_id=test.id,\r\n    # time=timestamp(),\r\n    message=\"Hello World!\",\r\n    level=\"INFO\",\r\n)\r\nservice.log(log_rq)\r\n```\r\n![image](https://cloud.githubusercontent.com/assets/1073415/26032132/1e81abc2-3894-11e7-8f65-f04fd3969f99.png)\r\n\r\n__If you run attached file, no error is appeared and no log message is created in the Report Portal!__\r\n\r\nYou will get error in case of trying to access `id` from response object for invalid save log request:\r\n```python\r\nlog_rq = SaveLogRQ(item_id=test.id,\r\n                                  # time=timestamp(),\r\n                                  message=\"Hello World!\",\r\n                                  level=\"INFO\")\r\nr = service.log(log_rq)\r\nprint(r.id)\r\n```\r\nTraceback is following:\r\n```\r\nTraceback (most recent call last):\r\n  File \"err2.py.txt\", line 49, in <module>\r\n    print(r.id)\r\n  File \"./client-python/reportportal_client/model/response.py\", line 17, in id\r\n    return json.loads(self.raw)[\"id\"]\r\nKeyError: 'id'\r\n```\r\n## Part 3 (improvements)\r\nNeed to add response handler for multi-part form request, because json part represented as an `array`.\r\n\r\n![image](https://cloud.githubusercontent.com/assets/1073415/26032173/52732824-3895-11e7-9786-2c86b264e212.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/reportportal/client-Python/issues/4", "repository_url": "https://api.github.com/repos/reportportal/client-Python", "labels_url": "https://api.github.com/repos/reportportal/client-Python/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/reportportal/client-Python/issues/4/comments", "events_url": "https://api.github.com/repos/reportportal/client-Python/issues/4/events", "html_url": "https://github.com/reportportal/client-Python/issues/4", "id": 226747217, "node_id": "MDU6SXNzdWUyMjY3NDcyMTc=", "number": 4, "title": "Binary data upload handles are not properly implemented", "user": {"login": "krasoffski", "id": 1073415, "node_id": "MDQ6VXNlcjEwNzM0MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1073415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krasoffski", "html_url": "https://github.com/krasoffski", "followers_url": "https://api.github.com/users/krasoffski/followers", "following_url": "https://api.github.com/users/krasoffski/following{/other_user}", "gists_url": "https://api.github.com/users/krasoffski/gists{/gist_id}", "starred_url": "https://api.github.com/users/krasoffski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krasoffski/subscriptions", "organizations_url": "https://api.github.com/users/krasoffski/orgs", "repos_url": "https://api.github.com/users/krasoffski/repos", "events_url": "https://api.github.com/users/krasoffski/events{/privacy}", "received_events_url": "https://api.github.com/users/krasoffski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-06T07:28:17Z", "updated_at": "2017-05-14T16:54:34Z", "closed_at": "2017-05-11T16:22:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Hi,\r\nI tried to upload binary data to Report Portal but faced with issues that python client does not provide method to perform this.\r\n\r\nAs I understood we need to implement approach like this: https://github.com/reportportal/client-javascript/blob/master/lib/client.js#L89.\r\n\r\n__Need to implement FileRQ here with appropriate multi-part post request and service handler like `send_file`.__", "performed_via_github_app": null, "score": 1.0}]}