{"total_count": 2542, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/aws/aws-cli/issues/5498", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5498/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5498/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5498/events", "html_url": "https://github.com/aws/aws-cli/issues/5498", "id": 685898503, "node_id": "MDU6SXNzdWU2ODU4OTg1MDM=", "number": 5498, "title": "tag filters not working correctly for `aws deploy list-on-premises-instances --tag-filters`", "user": {"login": "adespain", "id": 14183574, "node_id": "MDQ6VXNlcjE0MTgzNTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/14183574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adespain", "html_url": "https://github.com/adespain", "followers_url": "https://api.github.com/users/adespain/followers", "following_url": "https://api.github.com/users/adespain/following{/other_user}", "gists_url": "https://api.github.com/users/adespain/gists{/gist_id}", "starred_url": "https://api.github.com/users/adespain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adespain/subscriptions", "organizations_url": "https://api.github.com/users/adespain/orgs", "repos_url": "https://api.github.com/users/adespain/repos", "events_url": "https://api.github.com/users/adespain/events{/privacy}", "received_events_url": "https://api.github.com/users/adespain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-25T23:30:08Z", "updated_at": "2020-09-01T17:35:07Z", "closed_at": "2020-09-01T17:35:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nWhen I try to find instances with specific tags it returns items that shouldn't be listed.\r\n**SDK version number**\r\naws-cli/1.18.34\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nubuntu 16.04.7\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n```\r\naws deploy list-on-premises-instances --tag-filters Key=Name,Value=cmsp-codepipeline-staging,Type=KEY_AND_VALUE\r\n{\r\n    \"instanceNames\": [\r\n        \"cmsp-prod1\", \r\n        \"cmsp-stage1\"\r\n    ]\r\n}\r\n```\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nI should only see cmsp-stage1 as the host with the cmsp-codepipeline-staging tag however both prod and stage hosts are showing up.\r\n\r\nwhen I list tags for each one I get the following:\r\n\r\n```\r\naws deploy list-tags-for-resource --resource-arn arn:aws:codedeploy:us-west-2:XXXXXXXXXXXX:instance/cmsp-stage1_P4Cy9ZJ1nW\r\n{\r\n    \"Tags\": [\r\n        {\r\n            \"Value\": \"cmsp-codepipeline-staging\", \r\n            \"Key\": \"Name\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n```\r\naws deploy list-tags-for-resource --resource-arn arn:aws:codedeploy:us-west-2:XXXXXXXXXXXX:instance/cmsp-prod1_rEKFFZyjk1\r\n{\r\n    \"Tags\": [\r\n        {\r\n            \"Value\": \"cmsp-codepipeline-production\", \r\n            \"Key\": \"Name\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5493", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5493/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5493/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5493/events", "html_url": "https://github.com/aws/aws-cli/issues/5493", "id": 685019479, "node_id": "MDU6SXNzdWU2ODUwMTk0Nzk=", "number": 5493, "title": "Can't disable pager", "user": {"login": "tautology0", "id": 3503697, "node_id": "MDQ6VXNlcjM1MDM2OTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3503697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tautology0", "html_url": "https://github.com/tautology0", "followers_url": "https://api.github.com/users/tautology0/followers", "following_url": "https://api.github.com/users/tautology0/following{/other_user}", "gists_url": "https://api.github.com/users/tautology0/gists{/gist_id}", "starred_url": "https://api.github.com/users/tautology0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tautology0/subscriptions", "organizations_url": "https://api.github.com/users/tautology0/orgs", "repos_url": "https://api.github.com/users/tautology0/repos", "events_url": "https://api.github.com/users/tautology0/events{/privacy}", "received_events_url": "https://api.github.com/users/tautology0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-24T22:13:20Z", "updated_at": "2020-09-06T21:08:28Z", "closed_at": "2020-09-06T21:08:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI'm using AWS on Fedora through podman (basically Docker). All commands insist on using a pager so they cannot be used in a script. I have cli_pager set to blank in ~/.aws/config, and AWS_PAGER, PAGER and MANPAGER are all unset. I've also tried with the --no-paginate option.\r\n\r\nAny command, whether a simple 's3 ls' uses the pager which means that any pipeline output is broken.\r\n\r\n**SDK version number**\r\naws-cli/2.0.42 Python/3.7.3 Linux/5.6.12-300.fc32.x86_64 docker/x86_64.amzn.2\r\n\r\n**Platform/OS/Hardware/Device**\r\nFedora 32 64-bit\r\n\r\n**To Reproduce (observed behavior)**\r\nDownload aws-cli. Try doing 'aws s3 ls | hexdump -C', watch as the output becomes unusable.\r\n\r\n**Expected behavior**\r\nThe the pager should be disabled. Ideally it should be disabled by default as all the platforms have a pager which users can pipe into if they want to paginate something.\r\n\r\nThis is a \"feature\" with no real purpose.\r\n\r\n**Logs/output**\r\npartial example to show how manky it looks:\r\n```\r\ndave@mictlan testing]$ aws s3 ls --debug --no-paginate | more\r\n2020-08-24 22:11:58,898 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.42 Python/3.7.3 Linux/5.6.12-300.f\r\n                                                                                                                            c32.x86_64 docker/x86_64.amzn.2\r\n                              2020-08-24 22:11:58,899 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'ls', '--debug', '--no-pag\r\n                              inate']\r\n                                     2020-08-24 22:11:58,899 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_time\r\n                                     stamp_parser at 0x7f46c5e93048>\r\n                                                                    2020-08-24 22:11:58,900 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register\r\n                                                                    _uri_param_handler at 0x7f46c682eae8>\r\n                                                                                                         2020-08-24 22:11:58,900 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_bina\r\n                                                                                                         ry_formatter at 0x7f46c5e51598>\r\n           2020-08-24 22:11:58,900 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_a\r\n           ssume_role_provider_cache at 0x7f46c6789c80>\r\n                                                       2020-08-24 22:11:58,902 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_h\r\n                                                       istory_handler at 0x7f46c5fd8a60>\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5489", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5489/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5489/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5489/events", "html_url": "https://github.com/aws/aws-cli/issues/5489", "id": 683470004, "node_id": "MDU6SXNzdWU2ODM0NzAwMDQ=", "number": 5489, "title": "No v2 on PyPi?", "user": {"login": "arcivanov", "id": 5355666, "node_id": "MDQ6VXNlcjUzNTU2NjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5355666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arcivanov", "html_url": "https://github.com/arcivanov", "followers_url": "https://api.github.com/users/arcivanov/followers", "following_url": "https://api.github.com/users/arcivanov/following{/other_user}", "gists_url": "https://api.github.com/users/arcivanov/gists{/gist_id}", "starred_url": "https://api.github.com/users/arcivanov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arcivanov/subscriptions", "organizations_url": "https://api.github.com/users/arcivanov/orgs", "repos_url": "https://api.github.com/users/arcivanov/repos", "events_url": "https://api.github.com/users/arcivanov/events{/privacy}", "received_events_url": "https://api.github.com/users/arcivanov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-21T10:41:25Z", "updated_at": "2020-08-26T17:47:44Z", "closed_at": "2020-08-24T14:26:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Release history on PyPi shows no v2 are published. Is that intentional?\r\n\r\n![image](https://user-images.githubusercontent.com/5355666/90882039-45cf8f80-e379-11ea-833e-71a3f3edcaad.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5486", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5486/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5486/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5486/events", "html_url": "https://github.com/aws/aws-cli/issues/5486", "id": 682913327, "node_id": "MDU6SXNzdWU2ODI5MTMzMjc=", "number": 5486, "title": "put-bucket-notification-configuration", "user": {"login": "2020testuser", "id": 22502313, "node_id": "MDQ6VXNlcjIyNTAyMzEz", "avatar_url": "https://avatars3.githubusercontent.com/u/22502313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2020testuser", "html_url": "https://github.com/2020testuser", "followers_url": "https://api.github.com/users/2020testuser/followers", "following_url": "https://api.github.com/users/2020testuser/following{/other_user}", "gists_url": "https://api.github.com/users/2020testuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/2020testuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2020testuser/subscriptions", "organizations_url": "https://api.github.com/users/2020testuser/orgs", "repos_url": "https://api.github.com/users/2020testuser/repos", "events_url": "https://api.github.com/users/2020testuser/events{/privacy}", "received_events_url": "https://api.github.com/users/2020testuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "ffe79b", "default": false, "description": "This issue needs reproduction."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-20T16:58:47Z", "updated_at": "2020-09-07T22:08:35Z", "closed_at": "2020-09-07T22:08:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nCurrently, the put-bucket-notification-configuration is unsupported in s3 api. Below is the sample on how I'm using the command and the output of the command.\r\n`aws s3api put-bucket-notification-configuration --bucket mybucket --notification-configuration file://cloudnotification.json --endpoint https://s3api-<myserver.com> --debug`\r\n\r\nOutput:\r\n``\r\n<img width=\"1636\" alt=\"s3api-put_bucket_notification_err\" src=\"https://user-images.githubusercontent.com/22502313/90802168-72819980-e2dc-11ea-8d2b-553d8e2e0fcc.png\">\r\n\r\n\r\nCould you please let me know whether this feature is in the roadmap and if so, when (month/year) this feature would be available for use by  customers? This feature would be really useful.\r\n\r\nAlso, if this is not in the roadmap, could you please include it?\r\nThanks in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5470", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5470/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5470/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5470/events", "html_url": "https://github.com/aws/aws-cli/issues/5470", "id": 677506770, "node_id": "MDU6SXNzdWU2Nzc1MDY3NzA=", "number": 5470, "title": "PUT OPERATION ACCESS DENIED error", "user": {"login": "nidhikumar", "id": 29653660, "node_id": "MDQ6VXNlcjI5NjUzNjYw", "avatar_url": "https://avatars2.githubusercontent.com/u/29653660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nidhikumar", "html_url": "https://github.com/nidhikumar", "followers_url": "https://api.github.com/users/nidhikumar/followers", "following_url": "https://api.github.com/users/nidhikumar/following{/other_user}", "gists_url": "https://api.github.com/users/nidhikumar/gists{/gist_id}", "starred_url": "https://api.github.com/users/nidhikumar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nidhikumar/subscriptions", "organizations_url": "https://api.github.com/users/nidhikumar/orgs", "repos_url": "https://api.github.com/users/nidhikumar/repos", "events_url": "https://api.github.com/users/nidhikumar/events{/privacy}", "received_events_url": "https://api.github.com/users/nidhikumar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-12T08:35:10Z", "updated_at": "2020-08-26T18:22:45Z", "closed_at": "2020-08-14T16:47:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n**boto3.exceptions.S3UploadFailedError: Failed to upload uploads/voice1.mp3 to flaskdrive/uploads/voice1.mp3: An error occurred (AccessDenied) when calling the PutObject operation: Access Denied**\r\n\r\nIAM Policy -\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"s3:ListBucket\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:s3:::aws-audio-analysis-coviam\"\r\n            ]\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"s3:PutObject\",\r\n                \"s3:PutObjectAcl\",\r\n                \"s3:GetObject\",\r\n                \"s3:GetObjectAcl\",\r\n                \"s3:DeleteObject\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:s3:::aws-audio-analysis-coviam/*\"\r\n            ]\r\n        }\r\n    ]\r\n}\r\n\r\n\r\nBucket Policy-\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Principal\": \"*\",\r\n            \"Action\": [\r\n                \"s3:PutObject\",\r\n                \"s3:PutObjectAcl\",\r\n                \"s3:GetObject\",\r\n                \"s3:GetObjectAcl\",\r\n                \"s3:DeleteObject\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:s3:::aws-audio-analysis-coviam\",\r\n                \"arn:aws:s3:::aws-audio-analysis-coviam/*\"\r\n            ]\r\n        }\r\n    ]\r\n}\r\n\r\nKindly help me with this error", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5466", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5466/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5466/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5466/events", "html_url": "https://github.com/aws/aws-cli/issues/5466", "id": 676853109, "node_id": "MDU6SXNzdWU2NzY4NTMxMDk=", "number": 5466, "title": "cli v2 resourcegroupstaggingapi help error/missing", "user": {"login": "cteodor", "id": 4574450, "node_id": "MDQ6VXNlcjQ1NzQ0NTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4574450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cteodor", "html_url": "https://github.com/cteodor", "followers_url": "https://api.github.com/users/cteodor/followers", "following_url": "https://api.github.com/users/cteodor/following{/other_user}", "gists_url": "https://api.github.com/users/cteodor/gists{/gist_id}", "starred_url": "https://api.github.com/users/cteodor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cteodor/subscriptions", "organizations_url": "https://api.github.com/users/cteodor/orgs", "repos_url": "https://api.github.com/users/cteodor/repos", "events_url": "https://api.github.com/users/cteodor/events{/privacy}", "received_events_url": "https://api.github.com/users/cteodor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "ffe79b", "default": false, "description": "This issue needs reproduction."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-11T12:53:37Z", "updated_at": "2020-08-25T07:39:38Z", "closed_at": "2020-08-25T07:39:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nbroken help for resourcegroupstaggingapi\r\n\r\n**SDK version number**\r\naws-cli/2.0.38 Python/3.8.5 Darwin/19.6.0 source/x86_64\r\n\r\n**Platform/OS/Hardware/Device**\r\nOSX 10.15.6 (19G73)\r\n\r\n**To Reproduce (observed behavior)**\r\naws resourcegroupstaggingapi help\r\n\r\n**Expected behavior**\r\nshow help\r\n\r\n**Logs/output**\r\n  AWS_Resources aws resourcegroupstaggingapi help --debug                                                                                                                                 <aws:cteodor>\r\n2020-08-11 14:52:34,616 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.38 Python/3.8.5 Darwin/19.6.0 source/x86_64\r\n2020-08-11 14:52:34,616 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['resourcegroupstaggingapi', 'help', '--debug']\r\n2020-08-11 14:52:34,616 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x10b906160>\r\n2020-08-11 14:52:34,616 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x10b18e550>\r\n2020-08-11 14:52:34,616 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x10b948790>\r\n2020-08-11 14:52:34,616 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x10b1e9e50>\r\n2020-08-11 14:52:34,623 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x10b7bfee0>\r\n2020-08-11 14:52:34,623 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x10b76d0d0>\r\n2020-08-11 14:52:34,638 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.38/libexec/lib/python3.8/site-packages/botocore/data/resourcegroupstaggingapi/2017-01-26/service-2.json\r\n2020-08-11 14:52:34,639 - MainThread - botocore.hooks - DEBUG - Event building-command-table.resourcegroupstaggingapi: calling handler <function add_waiters at 0x10b90e790>\r\n2020-08-11 14:52:34,654 - MainThread - botocore.hooks - DEBUG - Event doc-breadcrumbs.resourcegroupstaggingapi: calling handler <bound method CLIDocumentEventHandler.doc_breadcrumbs of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,654 - MainThread - botocore.hooks - DEBUG - Event doc-title.resourcegroupstaggingapi: calling handler <bound method CLIDocumentEventHandler.doc_title of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,654 - MainThread - botocore.hooks - DEBUG - Event doc-description.resourcegroupstaggingapi: calling handler <bound method ServiceDocumentEventHandler.doc_description of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-description.resourcegroupstaggingapi: calling handler <function add_paging_description at 0x10b771790>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-start.resourcegroupstaggingapi: calling handler <bound method ServiceDocumentEventHandler.doc_synopsis_start of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-synopsis-end.resourcegroupstaggingapi: calling handler <bound method ServiceDocumentEventHandler.doc_synopsis_end of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-options-start.resourcegroupstaggingapi: calling handler <bound method ServiceDocumentEventHandler.doc_options_start of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-options-end.resourcegroupstaggingapi: calling handler <bound method ServiceDocumentEventHandler.doc_options_end of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-subitems-start.resourcegroupstaggingapi: calling handler <bound method ServiceDocumentEventHandler.doc_subitems_start of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,667 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.describe-report-creation: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.get-compliance-summary: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.get-resources: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.get-tag-keys: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.get-tag-values: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.help: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.start-report-creation: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.tag-resources: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-subitem.resourcegroupstaggingapi.untag-resources: calling handler <bound method ServiceDocumentEventHandler.doc_subitem of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,668 - MainThread - botocore.hooks - DEBUG - Event doc-relateditems-start.resourcegroupstaggingapi: calling handler <bound method CLIDocumentEventHandler.doc_relateditems_start of <awscli.clidocs.ServiceDocumentEventHandler object at 0x10ca1d5b0>>\r\n2020-08-11 14:52:34,831 - MainThread - awscli.help - DEBUG - Running command: ['groff', '-m', 'man', '-T', 'ascii']\r\n2020-08-11 14:52:34,865 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/awscli/2.0.38/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 378, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/local/Cellar/awscli/2.0.38/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 550, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/local/Cellar/awscli/2.0.38/libexec/lib/python3.8/site-packages/awscli/help.py\", line 273, in __call__\r\n    self.renderer.render(self.doc.getvalue())\r\n  File \"/usr/local/Cellar/awscli/2.0.38/libexec/lib/python3.8/site-packages/awscli/help.py\", line 85, in render\r\n    self._send_output_to_pager(converted_content)\r\n  File \"/usr/local/Cellar/awscli/2.0.38/libexec/lib/python3.8/site-packages/awscli/help.py\", line 120, in _send_output_to_pager\r\n    if not self._exists_on_path(cmdline[0]):\r\nIndexError: list index out of range\r\n2020-08-11 14:52:34,867 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5463", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5463/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5463/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5463/events", "html_url": "https://github.com/aws/aws-cli/issues/5463", "id": 675799587, "node_id": "MDU6SXNzdWU2NzU3OTk1ODc=", "number": 5463, "title": "aws cognito-idp admin-list-devices returns empty set", "user": {"login": "jgournet", "id": 54783141, "node_id": "MDQ6VXNlcjU0NzgzMTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/54783141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgournet", "html_url": "https://github.com/jgournet", "followers_url": "https://api.github.com/users/jgournet/followers", "following_url": "https://api.github.com/users/jgournet/following{/other_user}", "gists_url": "https://api.github.com/users/jgournet/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgournet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgournet/subscriptions", "organizations_url": "https://api.github.com/users/jgournet/orgs", "repos_url": "https://api.github.com/users/jgournet/repos", "events_url": "https://api.github.com/users/jgournet/events{/privacy}", "received_events_url": "https://api.github.com/users/jgournet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-10T00:12:01Z", "updated_at": "2020-08-12T21:55:51Z", "closed_at": "2020-08-12T21:55:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\naws cognito-idp admin-list-devices --user-pool-id ap-southeast-2_xxxxx --username xxxx@yyyy.com\r\nThe above command used to return results - now, it returns an empty list\r\n\r\n**SDK version number**\r\naws-cli/1.17.6 Python/3.6.9 Linux/5.3.0-62-generic botocore/1.13.23\r\n\r\n**Platform/OS/Hardware/Device**\r\nLinux ubuntu\r\n\r\n**To Reproduce (observed behavior)**\r\nsee bug description\r\n\r\n**Expected behavior**\r\nA list of devices should be returned\r\n\r\n**Logs/output**\r\n```\r\naws cognito-idp admin-list-devices --user-pool-id ap-southeast-2_xxxxx --username yyyy@xxxxx.com --debug\r\n2020-08-10 10:08:09,869 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.17.6 Python/3.6.9 Linux/5.3.0-62-generic botocore/1.13.23\r\n2020-08-10 10:08:09,870 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['cognito-idp', 'admin-list-devices', '--user-pool-id', 'ap-southeast-2_xxxxx', '--username', 'yyyy@xxxxx.com', '--debug']\r\n2020-08-10 10:08:09,870 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7fc59f776950>\r\n2020-08-10 10:08:09,870 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fc5a02b6048>\r\n2020-08-10 10:08:09,871 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fc5a0256b70>\r\n2020-08-10 10:08:09,874 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fc59f8b8620>\r\n2020-08-10 10:08:09,875 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/me/.local/lib/python3.6/site-packages/botocore/data/cognito-idp/2016-04-18/service-2.json\r\n2020-08-10 10:08:09,881 - MainThread - botocore.hooks - DEBUG - Changing event name from building-command-table.cognito-idp to building-command-table.cognito-identity-provider\r\n2020-08-10 10:08:09,881 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cognito-identity-provider: calling handler <function add_waiters at 0x7fc59f77dea0>\r\n2020-08-10 10:08:09,886 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('user-pool-id', <awscli.arguments.CLIArgument object at 0x7fc59f45dc88>), ('username', <awscli.arguments.CLIArgument object at 0x7fc59f45dcc0>), ('limit', <awscli.arguments.CLIArgument object at 0x7fc59f45dd68>), ('pagination-token', <awscli.arguments.CLIArgument object at 0x7fc59f45ddd8>)])\r\n2020-08-10 10:08:09,886 - MainThread - botocore.hooks - DEBUG - Changing event name from building-argument-table.cognito-idp.admin-list-devices to building-argument-table.cognito-identity-provider.admin-list-devices\r\n2020-08-10 10:08:09,886 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cognito-identity-provider.admin-list-devices: calling handler <function add_streaming_output_arg at 0x7fc59f776ea0>\r\n2020-08-10 10:08:09,886 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cognito-identity-provider.admin-list-devices: calling handler <function add_cli_input_json at 0x7fc5a0262268>\r\n2020-08-10 10:08:09,886 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cognito-identity-provider.admin-list-devices: calling handler <function unify_paging_params at 0x7fc59f7fcb70>\r\n2020-08-10 10:08:09,890 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/me/.local/lib/python3.6/site-packages/botocore/data/cognito-idp/2016-04-18/paginators-1.json\r\n2020-08-10 10:08:09,890 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.cognito-identity-provider.admin-list-devices: calling handler <function add_generate_skeleton at 0x7fc59f856a60>\r\n2020-08-10 10:08:09,890 - MainThread - botocore.hooks - DEBUG - Changing event name from before-building-argument-table-parser.cognito-idp.admin-list-devices to before-building-argument-table-parser.cognito-identity-provider.admin-list-devices\r\n2020-08-10 10:08:09,890 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.cognito-identity-provider.admin-list-devices: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7fc59f45deb8>>\r\n2020-08-10 10:08:09,890 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.cognito-identity-provider.admin-list-devices: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fc59f45df98>>\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Changing event name from operation-args-parsed.cognito-idp.admin-list-devices to operation-args-parsed.cognito-identity-provider.admin-list-devices\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.cognito-idp.admin-list-devices.user-pool-id to load-cli-arg.cognito-identity-provider.admin-list-devices.user-pool-id\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.cognito-identity-provider.admin-list-devices.user-pool-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc5a4746518>\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Changing event name from process-cli-arg.cognito-idp.admin-list-devices to process-cli-arg.cognito-identity-provider.admin-list-devices\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.cognito-identity-provider.admin-list-devices: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fc5a02aa160>\r\n2020-08-10 10:08:09,891 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'ap-southeast-2_xxxxx' for parameter \"user_pool_id\": 'ap-southeast-2_xxxxx'\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.cognito-idp.admin-list-devices.username to load-cli-arg.cognito-identity-provider.admin-list-devices.username\r\n2020-08-10 10:08:09,891 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.cognito-identity-provider.admin-list-devices.username: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc5a4746518>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Changing event name from process-cli-arg.cognito-idp.admin-list-devices to process-cli-arg.cognito-identity-provider.admin-list-devices\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.cognito-identity-provider.admin-list-devices: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fc5a02aa160>\r\n2020-08-10 10:08:09,892 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'yyyy@xxxxx.com' for parameter \"username\": 'yyyy@xxxxx.com'\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.cognito-idp.admin-list-devices.limit to load-cli-arg.cognito-identity-provider.admin-list-devices.limit\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.cognito-identity-provider.admin-list-devices.limit: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc5a4746518>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.cognito-idp.admin-list-devices.pagination-token to load-cli-arg.cognito-identity-provider.admin-list-devices.pagination-token\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.cognito-identity-provider.admin-list-devices.pagination-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc5a4746518>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.cognito-idp.admin-list-devices.cli-input-json to load-cli-arg.cognito-identity-provider.admin-list-devices.cli-input-json\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.cognito-identity-provider.admin-list-devices.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc5a4746518>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.cognito-idp.admin-list-devices.generate-cli-skeleton to load-cli-arg.cognito-identity-provider.admin-list-devices.generate-cli-skeleton\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.cognito-identity-provider.admin-list-devices.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc5a4746518>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Changing event name from calling-command.cognito-idp.admin-list-devices to calling-command.cognito-identity-provider.admin-list-devices\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event calling-command.cognito-identity-provider.admin-list-devices: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7fc59f45deb8>>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.hooks - DEBUG - Event calling-command.cognito-identity-provider.admin-list-devices: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fc59f45df98>>\r\n2020-08-10 10:08:09,892 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-08-10 10:08:09,892 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-08-10 10:08:09,892 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-08-10 10:08:09,892 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-08-10 10:08:09,893 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-08-10 10:08:09,893 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/me/.local/lib/python3.6/site-packages/botocore/data/endpoints.json\r\n2020-08-10 10:08:09,897 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fc5a13d37b8>\r\n2020-08-10 10:08:09,899 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.cognito-identity-provider: calling handler <function add_generate_presigned_url at 0x7fc5a13b9f28>\r\n2020-08-10 10:08:09,899 - MainThread - botocore.args - DEBUG - The s3 config key is not a dictionary type, ignoring its value of: None\r\n2020-08-10 10:08:09,903 - MainThread - botocore.endpoint - DEBUG - Setting cognito-idp timeout as (60, 60)\r\n2020-08-10 10:08:09,904 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/me/.local/lib/python3.6/site-packages/botocore/data/_retry.json\r\n2020-08-10 10:08:09,905 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: cognito-idp\r\n2020-08-10 10:08:09,905 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.cognito-identity-provider.AdminListDevices: calling handler <function generate_idempotent_uuid at 0x7fc5a0f1a378>\r\n2020-08-10 10:08:09,905 - MainThread - botocore.hooks - DEBUG - Event before-call.cognito-identity-provider.AdminListDevices: calling handler <function inject_api_version_header_if_needed at 0x7fc5a0f15d08>\r\n2020-08-10 10:08:09,905 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=AdminListDevices) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'AWSCognitoIdentityProviderService.AdminListDevices', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'aws-cli/1.17.6 Python/3.6.9 Linux/5.3.0-62-generic botocore/1.13.23'}, 'body': b'{\"UserPoolId\": \"ap-southeast-2_xxxxx\", \"Username\": \"yyyy@xxxxx.com\"}', 'url': 'https://cognito-idp.ap-southeast-2.amazonaws.com/', 'context': {'client_region': 'ap-southeast-2', 'client_config': <botocore.config.Config object at 0x7fc59f36b908>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-08-10 10:08:09,906 - MainThread - botocore.hooks - DEBUG - Event request-created.cognito-identity-provider.AdminListDevices: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fc59f36b898>>\r\n2020-08-10 10:08:09,906 - MainThread - botocore.hooks - DEBUG - Event choose-signer.cognito-identity-provider.AdminListDevices: calling handler <function set_operation_specific_signer at 0x7fc5a0f1a268>\r\n2020-08-10 10:08:09,906 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-08-10 10:08:09,906 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-amz-json-1.1\r\nhost:cognito-idp.ap-southeast-2.amazonaws.com\r\nx-amz-date:20200810T000809Z\r\nx-amz-security-token:gfdlgkfdkjghfgdkjhgfgkdjhgghffkhjhf\r\nx-amz-target:AWSCognitoIdentityProviderService.AdminListDevices\r\n\r\ncontent-type;host;x-amz-date;x-amz-security-token;x-amz-target\r\nfghgfdjjfghjhfgjjfghjjfghj\r\n2020-08-10 10:08:09,906 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200810T000809Z\r\n20200810/ap-southeast-2/cognito-idp/aws4_request\r\ndsgfdgfdhggfhgfhgdfhgdjjhg\r\n2020-08-10 10:08:09,906 - MainThread - botocore.auth - DEBUG - Signature:\r\n4e8c652f1a181b4a934d6e6365ab020f362920f6ba76ba9f9ef4c0a77ad87da5\r\n2020-08-10 10:08:09,907 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://cognito-idp.ap-southeast-2.amazonaws.com/, headers={'X-Amz-Target': b'AWSCognitoIdentityProviderService.AdminListDevices', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'aws-cli/1.17.6 Python/3.6.9 Linux/5.3.0-62-generic botocore/1.13.23', 'X-Amz-Date': b'20200810T000809Z', 'X-Amz-Security-Token': b'FxgfdgfdhhgflhkjgfhhQGGmzX7OQBO6LJXzQvXMCOeTzen0BvudWQA7jtxnAXGKgcR9PsSt2Kjbx95ztMxRP5Usx1CslAKiM9PW4cUdLvWKyqyz0ePbTJez7Sp2wve/t3kKmIzvTiFMVCkbGaJ3UQ8XzgnqCZYe410N33KxLJ6Hdj2m3UUAQp6Di+DBHmqgdowCiR3s9F9T18zZHaJCqbOYVYpjHOnlPIdFuO5kGTYyKncxJt8HAIsRf0F9u4avWxGJy/8WvhxSioysH5BTIzUh19QOrM20RFthkZx2ryq6JEIhNkWM33qEr/vnKw/B+3T6CQjy++3f1cae8Kcyt/ysJQ', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AAAAAAAAAAA/20200810/ap-southeast-2/cognito-idp/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token;x-amz-target, Signature=qwertyuiop', 'Content-Length': '81'}>\r\n2020-08-10 10:08:09,907 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): cognito-idp.ap-southeast-2.amazonaws.com:443\r\n2020-08-10 10:08:10,138 - MainThread - urllib3.connectionpool - DEBUG - https://cognito-idp.ap-southeast-2.amazonaws.com:443 \"POST / HTTP/1.1\" 200 14\r\n2020-08-10 10:08:10,140 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Mon, 10 Aug 2020 00:08:10 GMT', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '14', 'Connection': 'keep-alive', 'x-amzn-RequestId': 'e7904ed3-c0be-4e41-bf18-f059db06443e'}\r\n2020-08-10 10:08:10,140 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"Devices\":[]}'\r\n2020-08-10 10:08:10,141 - MainThread - botocore.hooks - DEBUG - Event needs-retry.cognito-identity-provider.AdminListDevices: calling handler <botocore.retryhandler.RetryHandler object at 0x7fc59f36bbe0>\r\n2020-08-10 10:08:10,142 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2020-08-10 10:08:10,142 - MainThread - awscli.formatter - DEBUG - RequestId: e7904ed3-c0be-4e41-bf18-f059db06443e\r\n{\r\n    \"Devices\": []\r\n}\r\n\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5462", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5462/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5462/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5462/events", "html_url": "https://github.com/aws/aws-cli/issues/5462", "id": 675691390, "node_id": "MDU6SXNzdWU2NzU2OTEzOTA=", "number": 5462, "title": "AWS Large JSON file to DynamoDB upload using Node example \"good one\" ", "user": {"login": "mark-steven-au", "id": 53360974, "node_id": "MDQ6VXNlcjUzMzYwOTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/53360974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-steven-au", "html_url": "https://github.com/mark-steven-au", "followers_url": "https://api.github.com/users/mark-steven-au/followers", "following_url": "https://api.github.com/users/mark-steven-au/following{/other_user}", "gists_url": "https://api.github.com/users/mark-steven-au/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-steven-au/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-steven-au/subscriptions", "organizations_url": "https://api.github.com/users/mark-steven-au/orgs", "repos_url": "https://api.github.com/users/mark-steven-au/repos", "events_url": "https://api.github.com/users/mark-steven-au/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-steven-au/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-09T12:26:26Z", "updated_at": "2020-08-16T17:08:58Z", "closed_at": "2020-08-16T17:08:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\nDone this for the past 12 days. None work\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ x] CLI : passing arguments or cli configurations.\r\n- [x ] Other/Not sure.\r\nIOS\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nMac Catalina\r\n**Describe the question**\r\nTrying to find a demo on how to upload large json file to Dynamodb.\r\nhave found many examples and so far none have worked.\r\nOr are written as an expert so get completely lost as multiple steps missing through assumed steps.\r\n so hoping someone out there knows of a good one.\r\nHappy to try using CLI or API Gateway. Non to date have worked.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5461", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5461/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5461/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5461/events", "html_url": "https://github.com/aws/aws-cli/issues/5461", "id": 675441706, "node_id": "MDU6SXNzdWU2NzU0NDE3MDY=", "number": 5461, "title": "aws s3 cp command on softraid volume fails with decryption failed error or bad record mac", "user": {"login": "neuronsong", "id": 197301, "node_id": "MDQ6VXNlcjE5NzMwMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/197301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neuronsong", "html_url": "https://github.com/neuronsong", "followers_url": "https://api.github.com/users/neuronsong/followers", "following_url": "https://api.github.com/users/neuronsong/following{/other_user}", "gists_url": "https://api.github.com/users/neuronsong/gists{/gist_id}", "starred_url": "https://api.github.com/users/neuronsong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neuronsong/subscriptions", "organizations_url": "https://api.github.com/users/neuronsong/orgs", "repos_url": "https://api.github.com/users/neuronsong/repos", "events_url": "https://api.github.com/users/neuronsong/events{/privacy}", "received_events_url": "https://api.github.com/users/neuronsong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1180550232, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMy", "url": "https://api.github.com/repos/aws/aws-cli/labels/third-party", "name": "third-party", "color": "40C8B6", "default": false, "description": "This issue is related to third-party libraries or applications."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-08T06:25:16Z", "updated_at": "2020-08-26T17:48:22Z", "closed_at": "2020-08-10T19:21:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nRunning \"aws s3 cp\" command on an external volume when SoftRAID 5.8.4 is installed fails with \"[SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2622)\". The error occurs on the SoftRAID mirrored volumes as well as other external volumes not directly under SoftRAID.\r\n\r\n**SDK version number**\r\naws-cli 2.0.37\r\n\r\n**Platform/OS/Hardware/Device**\r\nOSX Catalina 10.15.6/mac mini/OWC Thunderbay 4\r\n\r\n**To Reproduce (observed behavior)**\r\nInstall SoftRAID XT v5.8.4\r\ncd /Volumes/extVolume/\r\naws s3 cp s3://logica-backup/symedical-database.logicahealth.org/Symedical_backup_2020_08_03_003544_9010047.bak ./\r\n\r\n**Expected behavior**\r\nOn the internal SSD the command will succeed.\r\nOn any external volume... if SoftRAID is installed... the following will happen:\r\n\r\naws s3 cp s3://logica-backup/symedical-database.logicahealth.org/Symedical_backup_2020_08_03_003544_9010047.bak ./\r\ndownload failed: s3://logica-backup/symedical-database.logicahealth.org/Symedical_backup_2020_08_03_003544_9010047.bak to ./Symedical_backup_2020_08_03_003544_9010047.bak [SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2622)\r\n\r\n**Logs/output**\r\nI have already removed softraid and am using the  volumes without RAID. I don't have any logging data. Since this works fine when I've uninstalled SoftRAID... that's what I did in order to get the backup running again.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5457", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5457/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5457/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5457/events", "html_url": "https://github.com/aws/aws-cli/issues/5457", "id": 674816135, "node_id": "MDU6SXNzdWU2NzQ4MTYxMzU=", "number": 5457, "title": "awsebcli 3.18.2 incompatible with boto3 1.14.37 (both latest)", "user": {"login": "matschaffer", "id": 690, "node_id": "MDQ6VXNlcjY5MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matschaffer", "html_url": "https://github.com/matschaffer", "followers_url": "https://api.github.com/users/matschaffer/followers", "following_url": "https://api.github.com/users/matschaffer/following{/other_user}", "gists_url": "https://api.github.com/users/matschaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/matschaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matschaffer/subscriptions", "organizations_url": "https://api.github.com/users/matschaffer/orgs", "repos_url": "https://api.github.com/users/matschaffer/repos", "events_url": "https://api.github.com/users/matschaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/matschaffer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-07T07:16:36Z", "updated_at": "2020-08-10T07:08:59Z", "closed_at": "2020-08-10T07:08:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems to work okay if you don't use the 2020 resolver, but if you do you get this conflict.\r\n\r\n```\r\n The conflict is caused by:\r\n      awsebcli 3.18.2 depends on botocore<1.16 and >=1.15\r\n      boto3 1.14.37 depends on botocore<1.18.0 and >=1.17.37\r\n  \r\n  To fix this you could try to:\r\n  1. loosen the range of package versions you've specified\r\n  2. remove package versions to allow pip attempt to solve the dependency conflict\r\n  \r\n  ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5456", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5456/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5456/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5456/events", "html_url": "https://github.com/aws/aws-cli/issues/5456", "id": 674722609, "node_id": "MDU6SXNzdWU2NzQ3MjI2MDk=", "number": 5456, "title": "sync copy full set of files every time", "user": {"login": "yuriw", "id": 3876474, "node_id": "MDQ6VXNlcjM4NzY0NzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3876474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuriw", "html_url": "https://github.com/yuriw", "followers_url": "https://api.github.com/users/yuriw/followers", "following_url": "https://api.github.com/users/yuriw/following{/other_user}", "gists_url": "https://api.github.com/users/yuriw/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuriw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuriw/subscriptions", "organizations_url": "https://api.github.com/users/yuriw/orgs", "repos_url": "https://api.github.com/users/yuriw/repos", "events_url": "https://api.github.com/users/yuriw/events{/privacy}", "received_events_url": "https://api.github.com/users/yuriw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 289055120, "node_id": "MDU6TGFiZWwyODkwNTUxMjA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3api", "name": "s3api", "color": "ff5500", "default": false, "description": ""}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 1180550232, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMy", "url": "https://api.github.com/repos/aws/aws-cli/labels/third-party", "name": "third-party", "color": "40C8B6", "default": false, "description": "This issue is related to third-party libraries or applications."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2020-08-07T03:06:11Z", "updated_at": "2020-08-27T00:13:13Z", "closed_at": "2020-08-27T00:13:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use the following command to sync my local source and S3 target.\r\n`aws --endpoint-url <end point> s3 sync --page-size 9999999 <source> <s3://target>` \r\n\r\nMy expectation is that after an initial load sequential updates will not copy all files over again.\r\nHowever it does not seem to work as expected.\r\n\r\nHow can I ensure that only new and updated files synced ?\r\n\r\nThx", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5452", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5452/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5452/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5452/events", "html_url": "https://github.com/aws/aws-cli/issues/5452", "id": 674399873, "node_id": "MDU6SXNzdWU2NzQzOTk4NzM=", "number": 5452, "title": "Cannot use aws s3 copy --include and --exclude when S3 key has brackets", "user": {"login": "pporfilio", "id": 530116, "node_id": "MDQ6VXNlcjUzMDExNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/530116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pporfilio", "html_url": "https://github.com/pporfilio", "followers_url": "https://api.github.com/users/pporfilio/followers", "following_url": "https://api.github.com/users/pporfilio/following{/other_user}", "gists_url": "https://api.github.com/users/pporfilio/gists{/gist_id}", "starred_url": "https://api.github.com/users/pporfilio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pporfilio/subscriptions", "organizations_url": "https://api.github.com/users/pporfilio/orgs", "repos_url": "https://api.github.com/users/pporfilio/repos", "events_url": "https://api.github.com/users/pporfilio/events{/privacy}", "received_events_url": "https://api.github.com/users/pporfilio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-06T15:25:31Z", "updated_at": "2020-08-07T20:33:49Z", "closed_at": "2020-08-07T20:12:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen trying to copy a subset of files from an S3 folder using aws s3 copy with the --recursive, --exclude, and --include flags, square brackets in the name of the S3 folder cause an error about a bad character range. If I don't try to use the --exclude or --include flags, the whole folder does get copied correctly.\r\n\r\nFor example:\r\n```\r\nPS C:\\Users\\parker> aws s3 cp \"s3://bug-report/my_data [2020-08-04 15.44.22]\" \"D:\\data\\test\\\" --recursive --exclude \"*\" --include \"*.jpg\"\r\nfatal error: bad character range 8-0 at position 33\r\n```\r\n\r\n**SDK version number**\r\n```\r\nPS C:\\Users\\parker> aws --version\r\naws-cli/2.0.23 Python/3.7.7 Windows/10 botocore/2.0.0dev27\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nI'm running a Windows 10 desktop computer and executing the commands in Powershell. My coworkers report an identical issue running from Terminal on macOS on a MacBook Pro.\r\n\r\n**To Reproduce (observed behavior)**\r\n- Create a bucket on S3 (in this case called `bug-report`)\r\n- Create a folder called `my_data [2020-08-04 15.44.22]` (This name is important--the bug appears to be due to the bracketed date/time pattern in the name)\r\n- Put two .jpg images and one .txt file in `s3://bug-report/my_data [2020-08-04 15.44.22]` (The exact number of files is not important)\r\n- Run `aws s3 cp \"s3://bug-report/my_data [2020-08-04 15.44.22]\" \"D:\\data\\test\\\" --recursive --exclude \"*\" --include \"*.jpg\"` from the command line.\r\n\r\n**Expected behavior**\r\nI would expect output on the command line indicating the files that should be downloaded:\r\n```\r\ndownload: s3://bug-report/my_data/dog_picture_2.jpg to D:\\data\\test\\dog_picture_2.jpg\r\ndownload: s3://bug-report/my_data/dog_picture_1.jpg to D:\\data\\test\\dog_picture_1.jpg\r\n```\r\nAnd those two files to be present on my disk in D:\\data\\test\\\r\nThis is, in fact, what happens if the folder is named \"my_data\" instead of \"my_data [2020-08-04 15.44.22]\"\r\n\r\n**Logs/output**\r\n```\r\nPS C:\\Users\\parker> aws s3 cp \"s3://bug-report/my_data [2020-08-04 15.44.22]\" \"D:\\data\\test\\\" --recursive --exclude \"*\" --include \"*.jpg\" --debug\r\n2020-08-06 11:15:39,077 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.23 Python/3.7.7 Windows/10 botocore/2.0.0dev27\r\n2020-08-06 11:15:39,077 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'cp', 's3://bug-report/my_data [2020-08-04 15.44.22]', 'D:\\\\data\\\\test\\\\', '--recursive', '--exclude', '*', '--include', '*.jpg', '--debug']\r\n2020-08-06 11:15:39,077 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x000001FACEC4F4C8>\r\n2020-08-06 11:15:39,078 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x000001FACDC02CA8>\r\n2020-08-06 11:15:39,078 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x000001FACEC9DF78>\r\n2020-08-06 11:15:39,078 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x000001FACDC5F948>\r\n2020-08-06 11:15:39,080 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x000001FACE30CD38>\r\n2020-08-06 11:15:39,080 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x000001FACE2B3CA8>\r\n2020-08-06 11:15:39,081 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x000001FACEC5EF78>\r\n2020-08-06 11:15:39,081 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,081 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cp: calling handler <function add_waiters at 0x000001FACEC5EF78>\r\n2020-08-06 11:15:39,082 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,083 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.dryrun: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,083 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,083 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.quiet: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,083 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,084 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,084 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.acl: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,084 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.follow-symlinks: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,084 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,084 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,085 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,085 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,085 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,085 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-kms-key-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,085 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.storage-class: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.grants: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.website-redirect: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-type: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,087 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.cache-control: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,087 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-disposition: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,087 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-encoding: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,087 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-language: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,087 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expires: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,088 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.source-region: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,088 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.only-show-errors: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,088 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,088 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,088 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,089 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.ignore-glacier-warnings: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,089 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,089 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,089 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,089 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.copy-props: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,090 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x000001FACDA0CE48>\r\n2020-08-06 11:15:39,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata-directive: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expected-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,091 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000001FACCCD6AC8>\r\n2020-08-06 11:15:39,091 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-08-06 11:15:39,091 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-08-06 11:15:39,091 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-08-06 11:15:39,091 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-08-06 11:15:39,092 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-08-06 11:15:39,092 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-08-06 11:15:39,093 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\endpoints.json\r\n2020-08-06 11:15:39,097 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FACD886168>\r\n2020-08-06 11:15:39,124 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\s3\\2006-03-01\\service-2.json\r\n2020-08-06 11:15:39,129 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x000001FACD835828>\r\n2020-08-06 11:15:39,129 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x000001FACD8355E8>\r\n2020-08-06 11:15:39,132 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-08-06 11:15:39,132 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FACD886168>\r\n2020-08-06 11:15:39,134 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x000001FACD835828>\r\n2020-08-06 11:15:39,134 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x000001FACD8355E8>\r\n2020-08-06 11:15:39,136 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-08-06 11:15:39,136 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x000001FACD886168>\r\n2020-08-06 11:15:39,137 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x000001FACD835828>\r\n2020-08-06 11:15:39,137 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x000001FACD8355E8>\r\n2020-08-06 11:15:39,139 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-08-06 11:15:39,140 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\r\n2020-08-06 11:15:39,166 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\s3\\2006-03-01\\paginators-1.json\r\n2020-08-06 11:15:39,167 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.ListObjectsV2: calling handler <function base64_decode_input_blobs at 0x000001FACEC9F048>\r\n2020-08-06 11:15:39,167 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x000001FACD88B288>\r\n2020-08-06 11:15:39,168 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x000001FACD888F78>\r\n2020-08-06 11:15:39,168 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x000001FACF23DD88>>\r\n2020-08-06 11:15:39,168 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x000001FACF243348>>\r\n2020-08-06 11:15:39,168 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x000001FACD888DC8>\r\n2020-08-06 11:15:39,169 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x000001FACD88A318>\r\n2020-08-06 11:15:39,169 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x000001FACF23DD88>>\r\n2020-08-06 11:15:39,169 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x000001FACD88B678>\r\n2020-08-06 11:15:39,169 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/bug-report?list-type=2', 'query_string': {'prefix': 'my_data [2020-08-04 15.44.22]/', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.23 Python/3.7.7 Windows/10 botocore/2.0.0dev27'}, 'body': b'', 'url': 'https://s3.us-east-1.amazonaws.com/bug-report?list-type=2&prefix=my_data%20%5B2020-08-04%2015.44.22%5D%2F&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x000001FACF23D7C8>, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'bug-report'}}}\r\n2020-08-06 11:15:39,170 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x000001FACF04B588>>\r\n2020-08-06 11:15:39,170 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x000001FACD87FE58>\r\n2020-08-06 11:15:39,170 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x000001FACF2435C8>>\r\n2020-08-06 11:15:39,170 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-08-06 11:15:39,171 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.us-east-1.amazonaws.com/bug-report?list-type=2&prefix=my_data%20%5B2020-08-04%2015.44.22%5D%2F&encoding-type=url\r\n2020-08-06 11:15:39,171 - MainThread - botocore.utils - DEBUG - URI updated to: https://bug-report.s3.us-east-1.amazonaws.com/?list-type=2&prefix=my_data%20%5B2020-08-04%2015.44.22%5D%2F&encoding-type=url\r\n2020-08-06 11:15:39,171 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-08-06 11:15:39,171 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/\r\nencoding-type=url&list-type=2&prefix=my_data%20%5B2020-08-04%2015.44.22%5D%2F\r\nhost:bug-report.s3.us-east-1.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20200806T151539Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-08-06 11:15:39,172 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200806T151539Z\r\n20200806/us-east-1/s3/aws4_request\r\n8cfe44d3cf3032d447ccf082d60023c700c9cedfc1a8005f1194243492700931\r\n2020-08-06 11:15:39,172 - MainThread - botocore.auth - DEBUG - Signature:\r\nde4d86984ffabd234eb91de17518bb835bb6b423a0c9b7165087c068b04bd99d\r\n2020-08-06 11:15:39,173 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://bug-report.s3.us-east-1.amazonaws.com/?list-type=2&prefix=my_data%20%5B2020-08-04%2015.44.22%5D%2F&encoding-type=url, headers={'User-Agent': b'aws-cli/2.0.23 Python/3.7.7 Windows/10 botocore/2.0.0dev27', 'X-Amz-Date': b'20200806T151539Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA6OJ6XXENHVIDS7LO/20200806/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=de4d86984ffabd234eb91de17518bb835bb6b423a0c9b7165087c068b04bd99d'}>\r\n2020-08-06 11:15:39,173 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bug-report.s3.us-east-1.amazonaws.com:443\r\n2020-08-06 11:15:39,512 - MainThread - urllib3.connectionpool - DEBUG - https://bug-report.s3.us-east-1.amazonaws.com:443 \"GET /?list-type=2&prefix=my_data%20%5B2020-08-04%2015.44.22%5D%2F&encoding-type=url HTTP/1.1\" 200 None\r\n2020-08-06 11:15:39,514 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-id-2': 'v6Vl8Kccx+VYYa+LpFLaCwjXaNCOm+O0V1gsmyup0naLZKACuUbeUhn5A+DF0w/cjgAVRlizB/M=', 'x-amz-request-id': '148E9C73620CF8F9', 'Date': 'Thu, 06 Aug 2020 15:15:42 GMT', 'x-amz-bucket-region': 'us-east-1', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Server': 'AmazonS3'}\r\n2020-08-06 11:15:39,516 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Name>bug-report</Name><Prefix>my_data+%5B2020-08-04+15.44.22%5D/</Prefix><KeyCount>4</KeyCount><MaxKeys>1000</MaxKeys><EncodingType>url</EncodingType><IsTruncated>false</IsTruncated><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/</Key><LastModified>2020-08-06T14:56:32.000Z</LastModified><ETag>&quot;d41d8cd98f00b204e9800998ecf8427e&quot;</ETag><Size>0</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/dog_picture_1.jpg</Key><LastModified>2020-08-06T14:58:47.000Z</LastModified><ETag>&quot;8308cb1124b89976250e289375b5b1a8&quot;</ETag><Size>65676</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/dog_picture_2.jpg</Key><LastModified>2020-08-06T14:58:47.000Z</LastModified><ETag>&quot;8308cb1124b89976250e289375b5b1a8&quot;</ETag><Size>65676</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/text_data_1.txt</Key><LastModified>2020-08-06T14:58:47.000Z</LastModified><ETag>&quot;7e6d5d7ae4965bfecc6d818f76eb832b&quot;</ETag><Size>14</Size><StorageClass>STANDARD</StorageClass></Contents></ListBucketResult>'\r\n2020-08-06 11:15:39,524 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x000001FACF243208>>\r\n2020-08-06 11:15:39,525 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-08-06 11:15:39,526 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x000001FACF23DD88>>\r\n2020-08-06 11:15:39,527 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x000001FACD88B3A8>\r\n2020-08-06 11:15:39,529 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function enhance_error_msg at 0x000001FACEC4CE58>\r\n2020-08-06 11:15:39,530 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x000001FACF23DBC8>>\r\n2020-08-06 11:15:39,532 - MainThread - awscli.customizations.s3.results - DEBUG - Exception caught during command execution: bad character range 8-0 at position 33\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\awscli\\customizations\\s3\\s3handler.py\", line 169, in call\r\n  File \"lib\\site-packages\\awscli\\customizations\\s3\\fileinfobuilder.py\", line 31, in call\r\n  File \"lib\\site-packages\\awscli\\customizations\\s3\\filters.py\", line 122, in call\r\n  File \"lib\\site-packages\\awscli\\customizations\\s3\\filters.py\", line 141, in _match_pattern\r\n  File \"fnmatch.py\", line 36, in fnmatch\r\n  File \"fnmatch.py\", line 70, in fnmatchcase\r\n  File \"fnmatch.py\", line 46, in _compile_pattern\r\n  File \"C:\\Python\\lib\\re.py\", line 234, in compile\r\n  File \"C:\\Python\\lib\\re.py\", line 286, in _compile\r\n  File \"C:\\Python\\lib\\sre_compile.py\", line 764, in compile\r\n  File \"C:\\Python\\lib\\sre_parse.py\", line 924, in parse\r\n  File \"C:\\Python\\lib\\sre_parse.py\", line 420, in _parse_sub\r\n  File \"C:\\Python\\lib\\sre_parse.py\", line 810, in _parse\r\n  File \"C:\\Python\\lib\\sre_parse.py\", line 420, in _parse_sub\r\n  File \"C:\\Python\\lib\\sre_parse.py\", line 574, in _parse\r\nre.error: bad character range 8-0 at position 33\r\nfatal error: bad character range 8-0 at position 33\r\n2020-08-06 11:15:39,538 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.\r\n```\r\n\r\n**Additional context**\r\nI'm not sure what additional context to provide. We have a 3rd party tool that generates data with directory names including brackets and sometimes we need to automate copying that data and wanted to use aws s3 cp to do that. It appears that the bracketed numbers ([2020-08-04 15.44.22]) are interpreted correctly when listing files on s3, but then when fnmatch is invoked to match the --include/--exclude patterns, the bracketed numbers in the original path are not escaped and thus cause a parse error.\r\n\r\nIn particular, see the Response body from the debug output, which correctly lists the files present at the requested location on S3:\r\n```\r\n2020-08-06 11:15:39,516 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Name>bug-report</Name><Prefix>my_data+%5B2020-08-04+15.44.22%5D/</Prefix><KeyCount>4</KeyCount><MaxKeys>1000</MaxKeys><EncodingType>url</EncodingType><IsTruncated>false</IsTruncated><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/</Key><LastModified>2020-08-06T14:56:32.000Z</LastModified><ETag>&quot;d41d8cd98f00b204e9800998ecf8427e&quot;</ETag><Size>0</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/dog_picture_1.jpg</Key><LastModified>2020-08-06T14:58:47.000Z</LastModified><ETag>&quot;8308cb1124b89976250e289375b5b1a8&quot;</ETag><Size>65676</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/dog_picture_2.jpg</Key><LastModified>2020-08-06T14:58:47.000Z</LastModified><ETag>&quot;8308cb1124b89976250e289375b5b1a8&quot;</ETag><Size>65676</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>my_data+%5B2020-08-04+15.44.22%5D/text_data_1.txt</Key><LastModified>2020-08-06T14:58:47.000Z</LastModified><ETag>&quot;7e6d5d7ae4965bfecc6d818f76eb832b&quot;</ETag><Size>14</Size><StorageClass>STANDARD</StorageClass></Contents></ListBucketResult>'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5451", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5451/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5451/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5451/events", "html_url": "https://github.com/aws/aws-cli/issues/5451", "id": 674336776, "node_id": "MDU6SXNzdWU2NzQzMzY3NzY=", "number": 5451, "title": "Could not connect to the endpoint URL: \"https://medialive.us-east1.amazonaws.com/prod/inputs\"", "user": {"login": "jessp01", "id": 5270205, "node_id": "MDQ6VXNlcjUyNzAyMDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5270205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jessp01", "html_url": "https://github.com/jessp01", "followers_url": "https://api.github.com/users/jessp01/followers", "following_url": "https://api.github.com/users/jessp01/following{/other_user}", "gists_url": "https://api.github.com/users/jessp01/gists{/gist_id}", "starred_url": "https://api.github.com/users/jessp01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jessp01/subscriptions", "organizations_url": "https://api.github.com/users/jessp01/orgs", "repos_url": "https://api.github.com/users/jessp01/repos", "events_url": "https://api.github.com/users/jessp01/events{/privacy}", "received_events_url": "https://api.github.com/users/jessp01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-06T13:59:28Z", "updated_at": "2020-08-26T18:21:51Z", "closed_at": "2020-08-07T09:19:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen calling (which I took directly from https://github.com/aws/aws-cli/blob/develop/awscli/examples/medialive/create-input.rst):\r\n`$ aws medialive create-input --cli-input-json file:///tmp/mp4_input.json`\r\nI get:\r\n> Could not connect to the endpoint URL: \"https://medialive.us-east1.amazonaws.com/prod/inputs\"\r\n\r\nI tried multiple regions (by changing the value for `region` in ~/.aws/config. All resulted in the same, And, indeed, `medialive.us-east1.amazonaws.com` is not resolvable.\r\n\r\n**SDK version number**\r\n```\r\n# aws --version\r\n```\r\n> aws-cli/1.18.69 Python/3.6.9 Linux/5.3.0-1019-aws botocore/1.16.19\r\n\r\n**Platform/OS/Hardware/Device**\r\n` # cat /etc/issue`\r\nUbuntu 18.04.3 LTS \\n \\l\r\n\r\n**To Reproduce (observed behavior)**\r\nCall the command above.\r\n\r\n**Expected behavior**\r\nWhat is stated under `Output` in https://github.com/aws/aws-cli/blob/develop/awscli/examples/medialive/create-input.rst\r\n\r\n**Logs/output**\r\nIrrelevant\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5450", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5450/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5450/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5450/events", "html_url": "https://github.com/aws/aws-cli/issues/5450", "id": 673942947, "node_id": "MDU6SXNzdWU2NzM5NDI5NDc=", "number": 5450, "title": "Support for specifying Ubuntu platform for AWS Cloud9", "user": {"login": "RyanQuey", "id": 22231483, "node_id": "MDQ6VXNlcjIyMjMxNDgz", "avatar_url": "https://avatars2.githubusercontent.com/u/22231483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RyanQuey", "html_url": "https://github.com/RyanQuey", "followers_url": "https://api.github.com/users/RyanQuey/followers", "following_url": "https://api.github.com/users/RyanQuey/following{/other_user}", "gists_url": "https://api.github.com/users/RyanQuey/gists{/gist_id}", "starred_url": "https://api.github.com/users/RyanQuey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RyanQuey/subscriptions", "organizations_url": "https://api.github.com/users/RyanQuey/orgs", "repos_url": "https://api.github.com/users/RyanQuey/repos", "events_url": "https://api.github.com/users/RyanQuey/events{/privacy}", "received_events_url": "https://api.github.com/users/RyanQuey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 2261104108, "node_id": "MDU6TGFiZWwyMjYxMTA0MTA4", "url": "https://api.github.com/repos/aws/aws-cli/labels/cloud9", "name": "cloud9", "color": "ff5500", "default": false, "description": ""}, {"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T01:11:39Z", "updated_at": "2020-08-11T19:08:09Z", "closed_at": "2020-08-11T19:08:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nI want to use Ubuntu 18 rather than the default AWS Linux for my Cloud9 instances.\r\n\r\n**Describe the solution you'd like**\r\nCan I do this using the CLI? I would like to add a flag e.g., `--platform ubuntu18-lts`\r\n\r\n**Describe alternatives you've considered**\r\nThe only other alternative I have thought others to use the GUI directly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5445", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5445/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5445/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5445/events", "html_url": "https://github.com/aws/aws-cli/issues/5445", "id": 673214726, "node_id": "MDU6SXNzdWU2NzMyMTQ3MjY=", "number": 5445, "title": "`S3` API behaves differently in HK region (ap-east-1)", "user": {"login": "kingkenmark", "id": 1315088, "node_id": "MDQ6VXNlcjEzMTUwODg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1315088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kingkenmark", "html_url": "https://github.com/kingkenmark", "followers_url": "https://api.github.com/users/kingkenmark/followers", "following_url": "https://api.github.com/users/kingkenmark/following{/other_user}", "gists_url": "https://api.github.com/users/kingkenmark/gists{/gist_id}", "starred_url": "https://api.github.com/users/kingkenmark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kingkenmark/subscriptions", "organizations_url": "https://api.github.com/users/kingkenmark/orgs", "repos_url": "https://api.github.com/users/kingkenmark/repos", "events_url": "https://api.github.com/users/kingkenmark/events{/privacy}", "received_events_url": "https://api.github.com/users/kingkenmark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-05T02:59:18Z", "updated_at": "2020-08-18T19:07:27Z", "closed_at": "2020-08-18T19:07:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "We try to use \"aws s3 ls\" to list all the objects in specific s3 path, on the same EC2 instance, it works for \"s3://SYD-bucket/path\" but doesn't work for \"s3://HK-bucket/path\" and return error:\r\n\r\n**An error occurred (IllegalLocationConstraintException) when calling the ListObjectsV2 operation: The ap-east-1 location constraint is incomp atible for the region specific endpoint this request was sent to.**\r\n\r\nAs a work around, we need to add \"--region ap-east-1\" to the command, then it works for \"s3://HK-bucket/path\". Alternatively, we can set the AWS_DEFAULT_REGION. For either way, we need to change quite a few existing scripts, so we really want to understand why does `S3` API behave differently in HK region? Is it a bug in boto3/aws cli?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5442", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5442/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5442/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5442/events", "html_url": "https://github.com/aws/aws-cli/issues/5442", "id": 672900435, "node_id": "MDU6SXNzdWU2NzI5MDA0MzU=", "number": 5442, "title": "Remove Codeartifact from Pip", "user": {"login": "gdj0nes", "id": 16679979, "node_id": "MDQ6VXNlcjE2Njc5OTc5", "avatar_url": "https://avatars3.githubusercontent.com/u/16679979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdj0nes", "html_url": "https://github.com/gdj0nes", "followers_url": "https://api.github.com/users/gdj0nes/followers", "following_url": "https://api.github.com/users/gdj0nes/following{/other_user}", "gists_url": "https://api.github.com/users/gdj0nes/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdj0nes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdj0nes/subscriptions", "organizations_url": "https://api.github.com/users/gdj0nes/orgs", "repos_url": "https://api.github.com/users/gdj0nes/repos", "events_url": "https://api.github.com/users/gdj0nes/events{/privacy}", "received_events_url": "https://api.github.com/users/gdj0nes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-04T15:55:20Z", "updated_at": "2020-08-17T16:30:49Z", "closed_at": "2020-08-17T00:20:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu\r\n\r\n**Describe the question**\r\n\r\nHow do I remove a Codeartifact repository from my global pip configuration? I have a number of projects which do not use Codeartifact but it appears to attempt to use it for all projects. How do I stop this behavior? A nice addition to the docs would be how to stop using Codeartifact.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5441", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5441/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5441/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5441/events", "html_url": "https://github.com/aws/aws-cli/issues/5441", "id": 672485051, "node_id": "MDU6SXNzdWU2NzI0ODUwNTE=", "number": 5441, "title": "macOS Catalina stucks at flashing \"verifying xxx-darwin.so\" screen", "user": {"login": "dz902", "id": 2723003, "node_id": "MDQ6VXNlcjI3MjMwMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2723003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dz902", "html_url": "https://github.com/dz902", "followers_url": "https://api.github.com/users/dz902/followers", "following_url": "https://api.github.com/users/dz902/following{/other_user}", "gists_url": "https://api.github.com/users/dz902/gists{/gist_id}", "starred_url": "https://api.github.com/users/dz902/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dz902/subscriptions", "organizations_url": "https://api.github.com/users/dz902/orgs", "repos_url": "https://api.github.com/users/dz902/repos", "events_url": "https://api.github.com/users/dz902/events{/privacy}", "received_events_url": "https://api.github.com/users/dz902/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-04T03:52:18Z", "updated_at": "2020-08-08T09:24:18Z", "closed_at": "2020-08-08T09:24:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nmacOS Catalina\r\n\r\n**Describe the question**\r\nI used to have v1 CLI installed using `pip`. Then I found it lacks some new APIs so I uninstalled using `pip uninstall` then installed v2 CLI by following official instructions.\r\n\r\nAfter installation when I try to run `aws` bash hangs. Every few seconds there is a quick flash of a security alert window showing \"verifying terminos.cpython-37m-darwin.so\" or something like that. The window disappear very quickly, but after waiting for a long time the command still hangs.\r\n\r\nI looked at the security panel and did not found the \"allow\" button which usually will be there when the security alert window pops up.\r\n\r\nCloud not find any clue. Please advise. Thanks.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5440", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5440/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5440/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5440/events", "html_url": "https://github.com/aws/aws-cli/issues/5440", "id": 672259765, "node_id": "MDU6SXNzdWU2NzIyNTk3NjU=", "number": 5440, "title": "aws s3 does not detect proxy", "user": {"login": "BardiaAfshin", "id": 1905150, "node_id": "MDQ6VXNlcjE5MDUxNTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1905150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BardiaAfshin", "html_url": "https://github.com/BardiaAfshin", "followers_url": "https://api.github.com/users/BardiaAfshin/followers", "following_url": "https://api.github.com/users/BardiaAfshin/following{/other_user}", "gists_url": "https://api.github.com/users/BardiaAfshin/gists{/gist_id}", "starred_url": "https://api.github.com/users/BardiaAfshin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BardiaAfshin/subscriptions", "organizations_url": "https://api.github.com/users/BardiaAfshin/orgs", "repos_url": "https://api.github.com/users/BardiaAfshin/repos", "events_url": "https://api.github.com/users/BardiaAfshin/events{/privacy}", "received_events_url": "https://api.github.com/users/BardiaAfshin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T18:22:21Z", "updated_at": "2020-08-06T18:51:57Z", "closed_at": "2020-08-06T18:51:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n**Describe the bug**\r\nI have aws cli version 1.16~ installed on windows 2012, and after setting the proxy variables as instructed from AWS docs the aws s3 ls times out\r\n\r\n**SDK version number**\r\n1.16\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\naws s3 ls\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\nFollow instructions per https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-proxy.html\r\ntype aws s3 ls and hit enter\r\nhangs for a bit and then comes back with cannot reach endpoint url\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nI want to see a response with the list of buckets", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5438", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5438/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5438/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5438/events", "html_url": "https://github.com/aws/aws-cli/issues/5438", "id": 672144718, "node_id": "MDU6SXNzdWU2NzIxNDQ3MTg=", "number": 5438, "title": "inspector list-assessment-runs --output text returns too many results, --output json works correctly", "user": {"login": "jamey-taylor", "id": 2974549, "node_id": "MDQ6VXNlcjI5NzQ1NDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2974549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamey-taylor", "html_url": "https://github.com/jamey-taylor", "followers_url": "https://api.github.com/users/jamey-taylor/followers", "following_url": "https://api.github.com/users/jamey-taylor/following{/other_user}", "gists_url": "https://api.github.com/users/jamey-taylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamey-taylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamey-taylor/subscriptions", "organizations_url": "https://api.github.com/users/jamey-taylor/orgs", "repos_url": "https://api.github.com/users/jamey-taylor/repos", "events_url": "https://api.github.com/users/jamey-taylor/events{/privacy}", "received_events_url": "https://api.github.com/users/jamey-taylor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1180550227, "node_id": "MDU6TGFiZWwxMTgwNTUwMjI3", "url": "https://api.github.com/repos/aws/aws-cli/labels/paginator", "name": "paginator", "color": "c7ddfc", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T15:08:44Z", "updated_at": "2020-08-03T18:39:56Z", "closed_at": "2020-08-03T18:39:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\ninspector list-assessment-runs may return too many results when using both the --query option with a JMESPath index expression and --output text.\r\n\r\n```\r\naws inspector list-assessment-runs --region us-east-2--query \"assessmentRunArns[0]\" --output text\r\n\r\narn:aws:inspector:us-east-2:XXXXXXXXXXX:target/0-gEUPDHIA/template/0-u8wQJc4S/run/0-0eias5Xn\r\narn:aws:inspector:us-east-2: XXXXXXXXXXX:target/0-gEUPDHIA/template/0-u8wQJc4S/run/0-GH8w0PlL\r\narn:aws:inspector:us-east-2: XXXXXXXXXXX:target/0-gEUPDHIA/template/0-u8wQJc4S/run/0-WCi1AT4K\r\narn:aws:inspector:us-east-2: XXXXXXXXXXX:target/0-gEUPDHIA/template/0-u8wQJc4S/run/0-lAv3rZMn\r\n```\r\n\r\nNote that the same operation with --output json works as expected.\r\n\r\n```\r\naws inspector list-assessment-runs --region $region --query \"assessmentRunArns[0]\" --output json \r\n\r\n\"arn:aws:inspector:us-east-2:XXXXXXXXXXXX:target/0-gEUPDHIA/template/0-u8wQJc4S/run/0-0eias5Xn\"\r\n```\r\n\r\n**SDK version number**\r\naws-cli/2.0.36 Python/3.7.4 Darwin/19.6.0 exe/x86_64\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nMac OX X\r\n\r\n**To Reproduce (observed behavior)**\r\nRun aws inspector list-assessment runs on an account and region with multiple completed assessment runs. Use --query \"assessmentRunArns[0]\" to limit results to the first item and --output text. Notice multiple results are returned.\r\n\r\n**Expected behavior**\r\nOnly the first result should be returned.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5428", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5428/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5428/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5428/events", "html_url": "https://github.com/aws/aws-cli/issues/5428", "id": 667507531, "node_id": "MDU6SXNzdWU2Njc1MDc1MzE=", "number": 5428, "title": "SignatureDoesNotMatch error report", "user": {"login": "TheMitchMan96", "id": 44586798, "node_id": "MDQ6VXNlcjQ0NTg2Nzk4", "avatar_url": "https://avatars1.githubusercontent.com/u/44586798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheMitchMan96", "html_url": "https://github.com/TheMitchMan96", "followers_url": "https://api.github.com/users/TheMitchMan96/followers", "following_url": "https://api.github.com/users/TheMitchMan96/following{/other_user}", "gists_url": "https://api.github.com/users/TheMitchMan96/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheMitchMan96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheMitchMan96/subscriptions", "organizations_url": "https://api.github.com/users/TheMitchMan96/orgs", "repos_url": "https://api.github.com/users/TheMitchMan96/repos", "events_url": "https://api.github.com/users/TheMitchMan96/events{/privacy}", "received_events_url": "https://api.github.com/users/TheMitchMan96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-29T02:52:02Z", "updated_at": "2020-07-29T03:09:26Z", "closed_at": "2020-07-29T03:09:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you have encountered an error message like the following, you're in the right place! If not, please file a standard bug report (https://github.com/aws/aws-cli/issues/new/choose).\r\n\r\n> `A client error (SignatureDoesNotMatch) occurred when calling the <ApiCall> operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.`\r\n\r\nwhere `<ApiCall>` changes depending on what command you ran.\r\n\r\n## Do this first!\r\n\r\nIf you have encountered this error, please do the following FIRST (change the [] boxes to [x]):\r\n\r\n- [x] Read the user guide troubleshooting chapter (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-troubleshooting.html) to check for known issues like clock skew.\r\n- [x] Confirm that the error occurs even if you use one of the supported installation methods (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html).\r\n\r\nIf possible, try using the credentials with another non-Python SDK, like Javascript (http://aws.amazon.com/javascript).\r\n\r\n## Required information\r\n\r\nIf you have done these things, please fill out the following sections:\r\n\r\n\r\nScreenshot provided to show I checked for clock skew. \r\n\r\n*If possible, do not delete the credentials that are failing so that we can follow up with further debugging commands.*\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5422", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5422/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5422/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5422/events", "html_url": "https://github.com/aws/aws-cli/issues/5422", "id": 667256821, "node_id": "MDU6SXNzdWU2NjcyNTY4MjE=", "number": 5422, "title": "Route53Domains.TransferDomainToAnotherAwsAccount generates paswords with single quotes and backticks", "user": {"login": "scottcrespo", "id": 4229423, "node_id": "MDQ6VXNlcjQyMjk0MjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/4229423?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottcrespo", "html_url": "https://github.com/scottcrespo", "followers_url": "https://api.github.com/users/scottcrespo/followers", "following_url": "https://api.github.com/users/scottcrespo/following{/other_user}", "gists_url": "https://api.github.com/users/scottcrespo/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottcrespo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottcrespo/subscriptions", "organizations_url": "https://api.github.com/users/scottcrespo/orgs", "repos_url": "https://api.github.com/users/scottcrespo/repos", "events_url": "https://api.github.com/users/scottcrespo/events{/privacy}", "received_events_url": "https://api.github.com/users/scottcrespo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 2242774621, "node_id": "MDU6TGFiZWwyMjQyNzc0NjIx", "url": "https://api.github.com/repos/aws/aws-cli/labels/route53domains", "name": "route53domains", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-28T17:48:08Z", "updated_at": "2020-08-14T19:07:35Z", "closed_at": "2020-08-14T19:07:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\n`route53domains transfer-domain-to-another-aws-account` returns passwords with special characters that are difficult, if not impossible, to escape in bash.  Call it luck of the draw, but I had a password generated that contained single quotes and backticks. \r\n\r\nEscaping those characters with backslashes resulted in authentication failure when calling `route53domains accept-domain-transfer-from-another-aws-account`. \r\n\r\nOnly solution was to leverage `--cli-input-json file://path/to/file.json`\r\n\r\nThis issue could cause intermittent failure of bash scripts for transferring domains when the script attempts to call `route53domains accept-domain-transfer-from-another-aws-account` and cli param `--password`.  Or in my case, about an hour of headache. \r\n\r\n**SDK version number**\r\n```\r\naws-cli/1.18.69 \r\nPython/3.6.9 \r\nLinux/5.3.0-62-generic \r\nbotocore/1.16.19\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nOS:  Linux Mint 19.3 Tricia\r\nHardware: amd64\r\nDevice: Dell M4600\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\nStep 1: call `aws route53domains transfer-domain-to-another-aws-account --domain-name <domain name> --account-id <account id>`\r\n\r\nIf you receive password with single quotes or backticks....\r\n\r\nStep 2: `aws route53domains accept-domain-transfer-from-another-aws-account --domain-name <domain name> --password <password with backslashes to escape>`\r\n\r\nThen password will fail with: `An error occurred (InvalidInput) when calling the AcceptDomainTransferFromAnotherAwsAccount operation: Password is incorrect.\r\n`\r\n\r\n**Expected behavior**\r\n\r\n1. CLI/API should not generate passwords with characters that will break the CLI. Dollar signs may also be an issue for BASH users.\r\n\r\nAND/OR\r\n\r\n2. Prominent warnings in documentation \r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5420", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5420/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5420/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5420/events", "html_url": "https://github.com/aws/aws-cli/issues/5420", "id": 667193609, "node_id": "MDU6SXNzdWU2NjcxOTM2MDk=", "number": 5420, "title": " (EntityTooLarge) when calling the UploadPart operation", "user": {"login": "stepharr", "id": 1139489, "node_id": "MDQ6VXNlcjExMzk0ODk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1139489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stepharr", "html_url": "https://github.com/stepharr", "followers_url": "https://api.github.com/users/stepharr/followers", "following_url": "https://api.github.com/users/stepharr/following{/other_user}", "gists_url": "https://api.github.com/users/stepharr/gists{/gist_id}", "starred_url": "https://api.github.com/users/stepharr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stepharr/subscriptions", "organizations_url": "https://api.github.com/users/stepharr/orgs", "repos_url": "https://api.github.com/users/stepharr/repos", "events_url": "https://api.github.com/users/stepharr/events{/privacy}", "received_events_url": "https://api.github.com/users/stepharr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 289055120, "node_id": "MDU6TGFiZWwyODkwNTUxMjA=", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3api", "name": "s3api", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-28T16:05:12Z", "updated_at": "2020-08-14T15:07:26Z", "closed_at": "2020-08-14T15:07:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen running `aws s3 s3api create-multipart-upload` on a large file (57G) with appropriate permissions applied I get an error once all of the data has uploaded to the bucket.\r\n```\r\nAn error occurred (EntityTooLarge) when calling the UploadPart operation: Your proposed upload exceeds the maximum allowed size\r\n```\r\n\r\n**SDK version number**\r\naws-cli/2.0.18 Python/3.7.3 Linux/3.10.0-862.14.4.el7.x86_64 botocore/2.0.0dev22\r\n\r\n**Platform/OS/Hardware/Device**\r\nCentOS Linux release 7.5.1804 (Core)\r\n\r\n**To Reproduce (observed behavior)**\r\n1.  aws s3api create-multipart-upload --bucket bucket --key large-file.tar.gz\r\n2.  aws s3api  upload-part --bucket bucket --key large-file.tar.gz\r\n\r\n**Expected behavior**\r\nI expected the upload of the part to finish without error\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n```\r\n2020-07-28 08:45:03,517 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.18 Python/3.7.3 Linux/3.10.0-862.14.4.el7.x86_64 botocore/2.0.0dev22\r\n2020-07-28 08:45:03,517 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3api', 'upload-part', '--bucket', 'bucket', '--key', 'dir/logs/large-file.tar.gz', '--part-number', '1', '--body', '/data/large-file.tar.gz', '--upload-id', '3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1', '--debug']\r\n2020-07-28 08:45:03,518 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f1d402de598>\r\n2020-07-28 08:45:03,518 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f1d40bb51e0>\r\n2020-07-28 08:45:03,518 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f1d402a1a60>\r\n2020-07-28 08:45:03,518 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f1d40be37b8>\r\n2020-07-28 08:45:03,520 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f1d4042a048>\r\n2020-07-28 08:45:03,520 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f1d4045d950>\r\n2020-07-28 08:45:03,530 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.18/dist/botocore/data/s3/2006-03-01/service-2.json\r\n2020-07-28 08:45:03,544 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3api: calling handler <function add_waiters at 0x7f1d402e49d8>\r\n2020-07-28 08:45:03,552 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.18/dist/botocore/data/s3/2006-03-01/waiters-2.json\r\n2020-07-28 08:45:03,553 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('body', <awscli.arguments.CLIArgument object at 0x7f1d401a1518>), ('bucket', <awscli.arguments.CLIArgument object at 0x7f1d401a1588>), ('content-length', <awscli.arguments.CLIArgument object at 0x7f1d401a15f8>), ('content-md5', <awscli.arguments.CLIArgument object at 0x7f1d401a16a0>), ('key', <awscli.arguments.CLIArgument object at 0x7f1d401a1630>), ('part-number', <awscli.arguments.CLIArgument object at 0x7f1d401a16d8>), ('upload-id', <awscli.arguments.CLIArgument object at 0x7f1d401a1710>), ('sse-customer-algorithm', <awscli.arguments.CLIArgument object at 0x7f1d401a1780>), ('sse-customer-key', <awscli.arguments.CLIArgument object at 0x7f1d401a1748>), ('sse-customer-key-md5', <awscli.arguments.CLIArgument object at 0x7f1d401a17b8>), ('request-payer', <awscli.arguments.CLIArgument object at 0x7f1d401a17f0>)])\r\n2020-07-28 08:45:03,553 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.upload-part: calling handler <function add_streaming_output_arg at 0x7f1d402de840>\r\n2020-07-28 08:45:03,553 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.upload-part: calling handler <function add_cli_input_json at 0x7f1d40bee048>\r\n2020-07-28 08:45:03,553 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.upload-part: calling handler <function add_cli_input_yaml at 0x7f1d40bee6a8>\r\n2020-07-28 08:45:03,553 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.upload-part: calling handler <function unify_paging_params at 0x7f1d4046c158>\r\n2020-07-28 08:45:03,561 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.18/dist/botocore/data/s3/2006-03-01/paginators-1.json\r\n2020-07-28 08:45:03,561 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.upload-part: calling handler <function add_generate_skeleton at 0x7f1d4033ee18>\r\n2020-07-28 08:45:03,561 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.s3api.upload-part: calling handler <function add_auto_prompt at 0x7f1d402a19d8>\r\n2020-07-28 08:45:03,561 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.upload-part: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f1d401a1860>>\r\n2020-07-28 08:45:03,561 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.upload-part: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f1d401a18d0>>\r\n2020-07-28 08:45:03,561 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.upload-part: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f1d401a1898>>\r\n2020-07-28 08:45:03,561 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.s3api.upload-part: calling handler <bound method AutoPromptArgument.override_required_args of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x7f1d401aed30>>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.body: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.upload-part: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f1d40c317b8>\r\n2020-07-28 08:45:03,563 - MainThread - awscli.arguments - DEBUG - Unpacked value of '/data/large-file.tar.gz' for parameter \"body\": <_io.BufferedReader name='/data/large-file.tar.gz'>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.bucket: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.upload-part: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f1d40c317b8>\r\n2020-07-28 08:45:03,563 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'bucket' for parameter \"bucket\": 'bucket'\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.content-length: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.content-md5: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.upload-part: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f1d40c317b8>\r\n2020-07-28 08:45:03,563 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'dir/logs/large-file.tar.gz' for parameter \"key\": 'dir/logs/large-file.tar.gz'\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.part-number: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.upload-part: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f1d40c317b8>\r\n2020-07-28 08:45:03,563 - MainThread - awscli.arguments - DEBUG - Unpacked value of '1' for parameter \"part_number\": 1\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.upload-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,563 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.s3.upload-part: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f1d40c317b8>\r\n2020-07-28 08:45:03,563 - MainThread - awscli.arguments - DEBUG - Unpacked value of '3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1' for parameter \"upload_id\": '3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1'\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.sse-customer-algorithm: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.sse-customer-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.sse-customer-key-md5: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.s3.upload-part.cli-auto-prompt: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f1d40222438>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event calling-command.s3api.upload-part: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f1d401a1860>>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event calling-command.s3api.upload-part: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f1d401a18d0>>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event calling-command.s3api.upload-part: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f1d401a1898>>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.hooks - DEBUG - Event calling-command.s3api.upload-part: calling handler <bound method AutoPromptArgument.auto_prompt_arguments of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x7f1d401aed30>>\r\n2020-07-28 08:45:03,564 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-28 08:45:03,564 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-28 08:45:03,564 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-28 08:45:03,564 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-07-28 08:45:03,564 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-28 08:45:03,565 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-28 08:45:03,565 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.18/dist/botocore/data/endpoints.json\r\n2020-07-28 08:45:03,571 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f1d41bdab70>\r\n2020-07-28 08:45:03,573 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f1d41c28b70>\r\n2020-07-28 08:45:03,573 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f1d41c28950>\r\n2020-07-28 08:45:03,580 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.UploadPart: calling handler <function base64_decode_input_blobs at 0x7f1d402a72f0>\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.UploadPart: calling handler <function sse_md5 at 0x7f1d41bf8ea0>\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.UploadPart: calling handler <function convert_body_to_file_like_object at 0x7f1d41bfc378>\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.UploadPart: calling handler <function validate_bucket_name at 0x7f1d41bf8e18>\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.UploadPart: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f1d3fda5860>>\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.UploadPart: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f1d3fda5ba8>>\r\n2020-07-28 08:45:03,583 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.UploadPart: calling handler <function generate_idempotent_uuid at 0x7f1d41bf8a60>\r\n2020-07-28 08:45:03,586 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.UploadPart: calling handler <function conditionally_calculate_md5 at 0x7f1d41bf8d90>\r\n2020-07-28 08:46:49,112 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.UploadPart: calling handler <function add_expect_header at 0x7f1d41bfb1e0>\r\n2020-07-28 08:46:49,112 - MainThread - botocore.handlers - DEBUG - Adding expect 100 continue header to request.\r\n2020-07-28 08:46:49,112 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.UploadPart: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f1d3fda5860>>\r\n2020-07-28 08:46:49,112 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.UploadPart: calling handler <function inject_api_version_header_if_needed at 0x7f1d41bfc488>\r\n2020-07-28 08:46:49,113 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=UploadPart) with params: {'url_path': '/bucket/dir/logs/large-file.tar.gz', 'query_string': {'partNumber': 1, 'uploadId': '3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1'}, 'method': 'PUT', 'headers': {'User-Agent': 'aws-cli/2.0.18 Python/3.7.3 Linux/3.10.0-862.14.4.el7.x86_64 botocore/2.0.0dev22', 'Content-MD5': '42TVLUIR9Rh2G92VuA4eGw==', 'Expect': '100-continue'}, 'body': <_io.BufferedReader name='/data/large-file.tar.gz'>, 'url': 'https://s3.us-gov-west-1.amazonaws.com/bucket/dir/logs/large-file.tar.gz?partNumber=1&uploadId=3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1', 'context': {'client_region': 'us-gov-west-1', 'client_config': <botocore.config.Config object at 0x7f1d3fda55f8>, 'has_streaming_input': True, 'auth_type': None, 'signing': {'bucket': 'bucket'}}}\r\n2020-07-28 08:46:49,113 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.UploadPart: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f1d3fda5470>>\r\n2020-07-28 08:46:49,113 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.UploadPart: calling handler <function set_operation_specific_signer at 0x7f1d41bf8950>\r\n2020-07-28 08:46:49,113 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.UploadPart: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f1d3fda5c18>>\r\n2020-07-28 08:46:49,113 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-28 08:46:49,113 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.us-gov-west-1.amazonaws.com/bucket/dir/logs/large-file.tar.gz?partNumber=1&uploadId=3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1\r\n2020-07-28 08:46:49,113 - MainThread - botocore.utils - DEBUG - URI updated to: https://bucket.s3.us-gov-west-1.amazonaws.com/dir/logs/large-file.tar.gz?partNumber=1&uploadId=3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1\r\n2020-07-28 08:46:49,114 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-28 08:46:49,114 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPUT\r\n/dir/logs/large-file.tar.gz\r\npartNumber=1&uploadId=3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1\r\ncontent-md5:42TVLUIR9Rh2G92VuA4eGw==\r\nhost:bucket.s3.us-gov-west-1.amazonaws.com\r\nx-amz-content-sha256:UNSIGNED-PAYLOAD\r\nx-amz-date:20200728T154649Z\r\n\r\ncontent-md5;host;x-amz-content-sha256;x-amz-date\r\nUNSIGNED-PAYLOAD\r\n2020-07-28 08:46:49,114 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200728T154649Z\r\n20200728/us-gov-west-1/s3/aws4_request\r\n734a7b95e105b5b2a5fee6fae31528b16d7e49e84f41ae2513e49410ecd62c17\r\n2020-07-28 08:46:49,114 - MainThread - botocore.auth - DEBUG - Signature:\r\n52dd65d41c9cb62e451be79cddea17c33a69cb5aadf2f1f43cc56a188894b6f2\r\n2020-07-28 08:46:49,114 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://bucket.s3.us-gov-west-1.amazonaws.com/dir/logs/large-file.tar.gz?partNumber=1&uploadId=3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1, headers={'User-Agent': b'aws-cli/2.0.18 Python/3.7.3 Linux/3.10.0-862.14.4.el7.x86_64 botocore/2.0.0dev22', 'Content-MD5': b'42TVLUIR9Rh2G92VuA4eGw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20200728T154649Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAQOH7UC4KLIWDBYRT/20200728/us-gov-west-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=52dd65d41c9cb62e451be79cddea17c33a69cb5aadf2f1f43cc56a188894b6f2', 'Content-Length': '60806696960'}>\r\n2020-07-28 08:46:49,115 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bucket.s3.us-gov-west-1.amazonaws.com:443\r\n2020-07-28 08:46:49,420 - MainThread - botocore.awsrequest - DEBUG - Waiting for 100 Continue response.\r\n2020-07-28 08:46:49,475 - MainThread - botocore.awsrequest - DEBUG - Received a non 100 Continue response from the server, NOT sending request body.\r\n2020-07-28 08:46:49,475 - MainThread - urllib3.connectionpool - DEBUG - https://bucket.s3.us-gov-west-1.amazonaws.com:443 \"PUT /dir/logs/large-file.tar.gz?partNumber=1&uploadId=3n7Ud.2LFz34cNDrQb7irdsl8t2KX0tsa2R84iamq.V7l1LLpxLWyht8Z2e0IdnrHfUu2JDDVh3UtURKITIIEgTeyB4fu.CwKleCdW7we8vRPnKaEtpUQqfEJ4xO1gE1 HTTP/1.1\" 400 None\r\n2020-07-28 08:46:49,476 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-request-id': '167A22D465FE202C', 'x-amz-id-2': '5JHO5VKGiCCxQkJzE6R+GEI8ZroylEw08/j9FGy/qdoCW4TbLe2u0CxKi0WHllyhlHSGuJXTvxU=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 28 Jul 2020 15:46:48 GMT', 'Connection': 'close', 'Server': 'AmazonS3'}\r\n2020-07-28 08:46:49,476 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>EntityTooLarge</Code><Message>Your proposed upload exceeds the maximum allowed size</Message><ProposedSize>60806696960</ProposedSize><MaxSizeAllowed>5368709120</MaxSizeAllowed><RequestId>167A22D465FE202C</RequestId><HostId>5JHO5VKGiCCxQkJzE6R+GEI8ZroylEw08/j9FGy/qdoCW4TbLe2u0CxKi0WHllyhlHSGuJXTvxU=</HostId></Error>'\r\n2020-07-28 08:46:49,478 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.UploadPart: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f1d3fda5b70>>\r\n2020-07-28 08:46:49,478 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-28 08:46:49,479 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.UploadPart: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7f1d3fda5860>>\r\n2020-07-28 08:46:49,479 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.UploadPart: calling handler <function enhance_error_msg at 0x7f1d402de1e0>\r\n2020-07-28 08:46:49,479 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.UploadPart: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f1d3fda57b8>>\r\n2020-07-28 08:46:49,479 - MainThread - awscli.clidriver - DEBUG - Service returned an exception\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 335, in main\r\n  File \"awscli/clidriver.py\", line 507, in __call__\r\n  File \"awscli/clidriver.py\", line 685, in __call__\r\n  File \"awscli/clidriver.py\", line 806, in invoke\r\n  File \"awscli/clidriver.py\", line 818, in _make_client_call\r\n  File \"botocore/client.py\", line 208, in _api_call\r\n  File \"botocore/client.py\", line 527, in _make_api_call\r\nbotocore.exceptions.ClientError: An error occurred (EntityTooLarge) when calling the UploadPart operation: Your proposed upload exceeds the maximum allowed size\r\n\r\nAn error occurred (EntityTooLarge) when calling the UploadPart operation: Your proposed upload exceeds the maximum allowed size\r\n```\r\n**Additional context**\r\nI tried uploading the same file via  `aws s3 mv` and got a permissions error. The file still uploaded however.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5419", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5419/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5419/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5419/events", "html_url": "https://github.com/aws/aws-cli/issues/5419", "id": 667145266, "node_id": "MDU6SXNzdWU2NjcxNDUyNjY=", "number": 5419, "title": "v2 error: flag provided but not defined: --password-stdin", "user": {"login": "createthis", "id": 1695880, "node_id": "MDQ6VXNlcjE2OTU4ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1695880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/createthis", "html_url": "https://github.com/createthis", "followers_url": "https://api.github.com/users/createthis/followers", "following_url": "https://api.github.com/users/createthis/following{/other_user}", "gists_url": "https://api.github.com/users/createthis/gists{/gist_id}", "starred_url": "https://api.github.com/users/createthis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/createthis/subscriptions", "organizations_url": "https://api.github.com/users/createthis/orgs", "repos_url": "https://api.github.com/users/createthis/repos", "events_url": "https://api.github.com/users/createthis/events{/privacy}", "received_events_url": "https://api.github.com/users/createthis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-28T15:00:41Z", "updated_at": "2020-07-28T15:05:09Z", "closed_at": "2020-07-28T15:05:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI follow the AWS ECS push command instructions and get this error:\r\n```\r\nflag provided but not defined: --password-stdin\r\n```\r\n\r\n**SDK version number**\r\n```\r\n$ aws --version\r\naws-cli/2.0.34 Python/3.8.5 Darwin/18.7.0 botocore/2.0.0dev38\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nsee above - mac\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5416", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5416/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5416/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5416/events", "html_url": "https://github.com/aws/aws-cli/issues/5416", "id": 666840756, "node_id": "MDU6SXNzdWU2NjY4NDA3NTY=", "number": 5416, "title": "help me out with this vs code faulty AWS installation error ", "user": {"login": "Anustup900", "id": 60361231, "node_id": "MDQ6VXNlcjYwMzYxMjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/60361231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Anustup900", "html_url": "https://github.com/Anustup900", "followers_url": "https://api.github.com/users/Anustup900/followers", "following_url": "https://api.github.com/users/Anustup900/following{/other_user}", "gists_url": "https://api.github.com/users/Anustup900/gists{/gist_id}", "starred_url": "https://api.github.com/users/Anustup900/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Anustup900/subscriptions", "organizations_url": "https://api.github.com/users/Anustup900/orgs", "repos_url": "https://api.github.com/users/Anustup900/repos", "events_url": "https://api.github.com/users/Anustup900/events{/privacy}", "received_events_url": "https://api.github.com/users/Anustup900/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-28T07:38:39Z", "updated_at": "2020-07-28T21:04:28Z", "closed_at": "2020-07-28T21:04:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![npm error](https://user-images.githubusercontent.com/60361231/88634013-6fc3c800-d0d3-11ea-92a1-af358ff52a07.PNG)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5407", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5407/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5407/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5407/events", "html_url": "https://github.com/aws/aws-cli/issues/5407", "id": 665096140, "node_id": "MDU6SXNzdWU2NjUwOTYxNDA=", "number": 5407, "title": "ModifyDBSnapshotAttribute says InvalidParameterValue on the parameter awsbackup:job-* ", "user": {"login": "PavanDevops", "id": 23357450, "node_id": "MDQ6VXNlcjIzMzU3NDUw", "avatar_url": "https://avatars3.githubusercontent.com/u/23357450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PavanDevops", "html_url": "https://github.com/PavanDevops", "followers_url": "https://api.github.com/users/PavanDevops/followers", "following_url": "https://api.github.com/users/PavanDevops/following{/other_user}", "gists_url": "https://api.github.com/users/PavanDevops/gists{/gist_id}", "starred_url": "https://api.github.com/users/PavanDevops/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PavanDevops/subscriptions", "organizations_url": "https://api.github.com/users/PavanDevops/orgs", "repos_url": "https://api.github.com/users/PavanDevops/repos", "events_url": "https://api.github.com/users/PavanDevops/events{/privacy}", "received_events_url": "https://api.github.com/users/PavanDevops/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-24T11:07:26Z", "updated_at": "2020-08-07T20:08:08Z", "closed_at": "2020-08-07T20:08:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\nWe are working with AWS Backup for RDS Service. we would like to modify the attribute for DB Snapshot taken by AWS Backup.\r\n\r\n\"aws rds describe-db-snapshot-attributes\" is able to get the details for the Snapshot Identifier \"awsbackup:job-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" correctly.\r\n\r\nwhereas when we modify the attributes with \"aws rds modify-db-snapshot-attribute\", it gives Error:\r\n\r\nAn error occurred (InvalidParameterValue) when calling the ModifyDBSnapshotAttribute operation: The parameter awsbackup:job-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx is not a valid identifier.\r\n\r\n**SDK version number**\r\naws-cli/2.0.21 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev25\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nMac OS\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n1. Generate RDS Snapshot with AWS Backup Service (Make sure you have RDS DB running).\r\n2. Check the attributes of the DB Snapshot generated by AWS Backup. see the results.\r\n`aws rds describe-db-snapshot-attributes --db-snapshot-identifier awsbackup:job-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx --region eu-west-1`\r\n3. Try to modify the attribute for DB Snapshot. see the error.\r\n`aws rds modify-db-snapshot-attribute --db-snapshot-identifier \"awsbackup:job-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" --attribute-name restore --values-to-add 123456789012 --region eu-west-1`\r\n\r\nAnd the error:\r\nAn error occurred (InvalidParameterValue) when calling the ModifyDBSnapshotAttribute operation: The parameter awsbackup:job-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx is not a valid identifier.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nThe modify functionaly should be able to identify the snapshot generated by AWS Backup Service\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5399", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5399/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5399/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5399/events", "html_url": "https://github.com/aws/aws-cli/issues/5399", "id": 663868029, "node_id": "MDU6SXNzdWU2NjM4NjgwMjk=", "number": 5399, "title": "Add for awscli aws s3 cp action adding tags.", "user": {"login": "macktab", "id": 2391908, "node_id": "MDQ6VXNlcjIzOTE5MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2391908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/macktab", "html_url": "https://github.com/macktab", "followers_url": "https://api.github.com/users/macktab/followers", "following_url": "https://api.github.com/users/macktab/following{/other_user}", "gists_url": "https://api.github.com/users/macktab/gists{/gist_id}", "starred_url": "https://api.github.com/users/macktab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/macktab/subscriptions", "organizations_url": "https://api.github.com/users/macktab/orgs", "repos_url": "https://api.github.com/users/macktab/repos", "events_url": "https://api.github.com/users/macktab/events{/privacy}", "received_events_url": "https://api.github.com/users/macktab/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841173, "node_id": "MDU6TGFiZWwxOTg0MTE3Mw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T15:51:57Z", "updated_at": "2020-08-03T23:31:58Z", "closed_at": "2020-07-26T22:08:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is no way to add tags for objects when using 'aws s3 cp' action.\r\n\r\nMaybe add some another parameter for this action like '--metadata', maybe '--tags' or just '--headers'.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5397", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5397/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5397/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5397/events", "html_url": "https://github.com/aws/aws-cli/issues/5397", "id": 663463672, "node_id": "MDU6SXNzdWU2NjM0NjM2NzI=", "number": 5397, "title": "Quoted PriceList output obfuscation", "user": {"login": "kaihendry", "id": 765871, "node_id": "MDQ6VXNlcjc2NTg3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/765871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaihendry", "html_url": "https://github.com/kaihendry", "followers_url": "https://api.github.com/users/kaihendry/followers", "following_url": "https://api.github.com/users/kaihendry/following{/other_user}", "gists_url": "https://api.github.com/users/kaihendry/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaihendry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaihendry/subscriptions", "organizations_url": "https://api.github.com/users/kaihendry/orgs", "repos_url": "https://api.github.com/users/kaihendry/repos", "events_url": "https://api.github.com/users/kaihendry/events{/privacy}", "received_events_url": "https://api.github.com/users/kaihendry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 2223793178, "node_id": "MDU6TGFiZWwyMjIzNzkzMTc4", "url": "https://api.github.com/repos/aws/aws-cli/labels/pricing", "name": "pricing", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-22T04:27:06Z", "updated_at": "2020-08-03T23:07:11Z", "closed_at": "2020-08-03T23:07:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [X] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\n`aws-cli/1.18.100 Python/3.8.3 Linux/5.7.9-arch1-1 botocore/1.17.23`\r\n\r\n**Describe the question**\r\nHow does one get the price of EBS snapshots for Singapore?\r\n\r\n**Logs/output**\r\n\r\n```\r\n aws --region us-east-1 pricing get-products --service-code=AmazonEC2 --filters Type=TERM_MATCH,Field=productFamily,Value=\"Storage Snapshot\"\r\n{\r\n    \"PriceList\": [\r\n        \"{\\\"product\\\":{\\\"productFamily\\\":\\\"Storage Snapshot\\\",\\\"attributes\\\":{\\\"storageMedia\\\":\\\"Amazon S3\\\",\\\"servicecode\\\":\\\"AmazonEC2\\\",\\\"usagetype\\\":\\\"USW2-EBS:SnapshotUnderBilling\\\",\\\"locationType\\\":\\\"AWS Region\\\",\\\"location\\\":\\\"US West (Oregon)\\\",\\\"servicename\\\":\\\"Amazon Elastic Compute Cloud\\\",\\\"operation\\\":\\\"\\\"},\\\"sku\\\":\\\"3AJTRRC7AHBFRH3K\\\"},\\\"serviceCode\\\":\\\"AmazonEC2\\\",\\\"terms\\\":{\\\"OnDemand\\\":{\\\"3AJTRRC7AHBFRH3K.JRTCKXETXF\\\":{\\\"priceDimensions\\\":{\\\"3AJTRRC7AHBFRH3K.JRTCKXETXF.6YS6EN2CT7\\\":{\\\"unit\\\":\\\"GB-Mo\\\",\\\"endRange\\\":\\\"Inf\\\",\\\"description\\\":\\\"$0.05 per GB-Month of Snapshot underbilling for August 31st\\\",\\\"appliesTo\\\":[],\\\"rateCode\\\":\\\"3AJTRRC7AHBFRH3K.JRTCKXETXF.6YS6EN2CT7\\\",\\\"beginRange\\\":\\\"0\\\",\\\"pricePerUnit\\\":{\\\"USD\\\":\\\"0.0500000000\\\"}}},\\\"sku\\\":\\\"3AJTRRC7AHBFRH3K\\\",\\\"effectiveDate\\\":\\\"2020-07-01T00:00:00Z\\\",\\\"offerTermCode\\\":\\\"JRTCKXETXF\\\",\\\"termAttributes\\\":{}}}},\\\"version\\\":\\\"20200709223013\\\",\\\"publicationDate\\\":\\\"2020-07-09T22:30:13Z\\\"}\",\r\n...\r\n```\r\n\r\nI'm trying to get price for Singapore via the AWS cli. Do let me know if v2 makes this any easier. This pricing API doesn't seem bizarrely difficult to work with!\r\n\r\nWhy is PriceList quoted/stringified JSON?\r\nIs there a straightforward way to get the price for **ap-southeast-1**?\r\n\r\nThe value which is buried/obfuscated in the output is **0.05** btw. If you can show me how to programmatically retrieve that, it would put be at ease!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5394", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5394/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5394/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5394/events", "html_url": "https://github.com/aws/aws-cli/issues/5394", "id": 662800582, "node_id": "MDU6SXNzdWU2NjI4MDA1ODI=", "number": 5394, "title": "Issue trying to get login token for AWS ECR with aws-cli version 1.18.101", "user": {"login": "arlind87", "id": 36760848, "node_id": "MDQ6VXNlcjM2NzYwODQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/36760848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arlind87", "html_url": "https://github.com/arlind87", "followers_url": "https://api.github.com/users/arlind87/followers", "following_url": "https://api.github.com/users/arlind87/following{/other_user}", "gists_url": "https://api.github.com/users/arlind87/gists{/gist_id}", "starred_url": "https://api.github.com/users/arlind87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arlind87/subscriptions", "organizations_url": "https://api.github.com/users/arlind87/orgs", "repos_url": "https://api.github.com/users/arlind87/repos", "events_url": "https://api.github.com/users/arlind87/events{/privacy}", "received_events_url": "https://api.github.com/users/arlind87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2221264568, "node_id": "MDU6TGFiZWwyMjIxMjY0NTY4", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecr", "name": "ecr", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-07-21T09:30:53Z", "updated_at": "2020-07-22T19:04:42Z", "closed_at": "2020-07-22T17:18:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWe observed that in the latest version of aws-cli python package (1.18.101), execution of command ```aws ecr get-login --region us-east-1 --no-include-email``` fails with error ```An error occurred (UnrecognizedClientException) when calling the GetAuthorizationToken operation: The security token included in the request is invalid.```. With version 1.18.100 the same command works well.\r\n\r\n**SDK version number**\r\n1.18.101\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 16.04.6 LTS (GNU/Linux 4.4.0-169-generic x86_64)\r\n\r\n**To Reproduce (observed behavior)**\r\nEvery time you 2eecute the command with aws-cli version 1.18.101\r\n\r\n**Expected behavior**\r\nThe command should provide the login token for ECR docker registry.\r\n\r\n**Logs/output**\r\n```(awscli) root@eu-jupyter2:~# aws ecr get-login --region us-east-1 --no-include-email --debug\r\n2020-07-21 08:25:43,872 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.18.101 Python/3.5.2 Linux/4.4.0-169-generic botocore/1.17.24\r\n2020-07-21 08:25:43,872 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ecr', 'get-login', '--region', 'us-east-1', '--no-include-email', '--debug']\r\n2020-07-21 08:25:43,872 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7fcc37cb9158>\r\n2020-07-21 08:25:43,872 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fcc387dbe18>\r\n2020-07-21 08:25:43,873 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fcc38726730>\r\n2020-07-21 08:25:43,874 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fcc3a8a6158>\r\n2020-07-21 08:25:43,874 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /root/awscli/lib/python3.5/site-packages/botocore/data/ecr/2015-09-21/service-2.json\r\n2020-07-21 08:25:43,877 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecr: calling handler <function _inject_commands at 0x7fcc3a8b36a8>\r\n2020-07-21 08:25:43,877 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecr: calling handler <function add_waiters at 0x7fcc37c47730>\r\n2020-07-21 08:25:43,881 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /root/awscli/lib/python3.5/site-packages/botocore/data/ecr/2015-09-21/waiters-2.json\r\n2020-07-21 08:25:43,882 - MainThread - botocore.hooks - DEBUG - Event building-command-table.get-login: calling handler <function add_waiters at 0x7fcc37c47730>\r\n2020-07-21 08:25:43,882 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-login.include-email: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fcc3b9a1be0>\r\n2020-07-21 08:25:43,883 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.get-login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fcc38773390>\r\n2020-07-21 08:25:43,883 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-login.registry-ids: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fcc3b9a1be0>\r\n2020-07-21 08:25:43,883 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-21 08:25:43,883 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-21 08:25:43,883 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-21 08:25:43,883 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-07-21 08:25:43,883 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-21 08:25:43,884 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-21 08:25:43,884 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /root/awscli/lib/python3.5/site-packages/botocore/data/endpoints.json\r\n2020-07-21 08:25:43,904 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fcc39573b70>\r\n2020-07-21 08:25:43,905 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ecr: calling handler <function add_generate_presigned_url at 0x7fcc3954e048>\r\n2020-07-21 08:25:43,908 - MainThread - botocore.endpoint - DEBUG - Setting api.ecr timeout as (60, 60)\r\n2020-07-21 08:25:43,909 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /root/awscli/lib/python3.5/site-packages/botocore/data/_retry.json\r\n2020-07-21 08:25:43,909 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: ecr\r\n2020-07-21 08:25:43,910 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ecr.GetAuthorizationToken: calling handler <function generate_idempotent_uuid at 0x7fcc39534158>\r\n2020-07-21 08:25:43,910 - MainThread - botocore.hooks - DEBUG - Event before-call.ecr.GetAuthorizationToken: calling handler <function inject_api_version_header_if_needed at 0x7fcc395358c8>\r\n2020-07-21 08:25:43,911 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetAuthorizationToken) with params: {'url_path': '/', 'body': b'{}', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fcc37a44d68>, 'auth_type': None, 'has_streaming_input': False}, 'headers': {'User-Agent': 'aws-cli/1.18.101 Python/3.5.2 Linux/4.4.0-169-generic botocore/1.17.24', 'X-Amz-Target': 'AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken', 'Content-Type': 'application/x-amz-json-1.1'}, 'query_string': '', 'method': 'POST', 'url': 'https://api.ecr.us-east-1.amazonaws.com/'}\r\n2020-07-21 08:25:43,911 - MainThread - botocore.hooks - DEBUG - Event request-created.ecr.GetAuthorizationToken: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fcc37a44d30>>\r\n2020-07-21 08:25:43,911 - MainThread - botocore.hooks - DEBUG - Event choose-signer.ecr.GetAuthorizationToken: calling handler <function set_operation_specific_signer at 0x7fcc39534048>\r\n2020-07-21 08:25:43,911 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-21 08:25:43,912 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\ncontent-type:application/x-amz-json-1.1\r\nhost:api.ecr.us-east-1.amazonaws.com\r\nx-amz-date:20200721T082543Z\r\nx-amz-target:AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken\r\ncontent-type;host;x-amz-date;x-amz-target\r\n44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a\r\n2020-07-21 08:25:43,912 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200721T082543Z\r\n20200721/us-east-1/ecr/aws4_request\r\naf3b4e33ee16adf846871b6825b448a15c0396ff1d2a381e3840329c1e7399a2\r\n2020-07-21 08:25:43,912 - MainThread - botocore.auth - DEBUG - Signature:\r\n260d882d236bb6f5b8a7107a79e6a74f473804bfff9afce697bf29d422342ca0\r\n2020-07-21 08:25:43,912 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://api.ecr.us-east-1.amazonaws.com/, headers={'Content-Type': b'application/x-amz-json-1.1', 'X-Amz-Target': b'AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken', 'Content-Length': '2', 'User-Agent': b'aws-cli/1.18.101 Python/3.5.2 Linux/4.4.0-169-generic botocore/1.17.24', 'X-Amz-Date': b'20200721T082543Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=<redacted>/20200721/us-east-1/ecr/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=260d882d236bb6f5b8a7107a79e6a74f473804bfff9afce697bf29d422342ca0'}>\r\n2020-07-21 08:25:43,913 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.ecr.us-east-1.amazonaws.com:443\r\n2020-07-21 08:25:44,223 - MainThread - urllib3.connectionpool - DEBUG - https://api.ecr.us-east-1.amazonaws.com:443 \"POST / HTTP/1.1\" 400 107\r\n2020-07-21 08:25:44,224 - MainThread - botocore.parsers - DEBUG - Response headers: {'Content-Type': 'application/x-amz-json-1.1', 'x-amzn-RequestId': '98c8a4c7-a9f8-484e-b23b-25e83e03269a', 'Date': 'Tue, 21 Jul 2020 08:25:44 GMT', 'Content-Length': '107'}\r\n2020-07-21 08:25:44,224 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"UnrecognizedClientException\",\"message\":\"The security token included in the request is invalid.\"}'\r\n2020-07-21 08:25:44,225 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ecr.GetAuthorizationToken: calling handler <botocore.retryhandler.RetryHandler object at 0x7fcc37a4c780>\r\n2020-07-21 08:25:44,226 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2020-07-21 08:25:44,226 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/root/awscli/lib/python3.5/site-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/root/awscli/lib/python3.5/site-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/root/awscli/lib/python3.5/site-packages/awscli/customizations/commands.py\", line 187, in __call__\r\n    return self._run_main(parsed_args, parsed_globals)\r\n  File \"/root/awscli/lib/python3.5/site-packages/awscli/customizations/ecr.py\", line 73, in _run_main\r\n    result = ecr_client.get_authorization_token()\r\n  File \"/root/awscli/lib/python3.5/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/root/awscli/lib/python3.5/site-packages/botocore/client.py\", line 635, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (UnrecognizedClientException) when calling the GetAuthorizationToken operation: The security token included in the request is invalid.\r\n2020-07-21 08:25:44,228 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\nAn error occurred (UnrecognizedClientException) when calling the GetAuthorizationToken operation: The security token included in the request is invalid.```\r\n\r\n**Additional context**\r\nThe error is not indicative of the real issue since the same token works fine with aws-cli version 1.18.100 and has the right permissions to access ECR. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5392", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5392/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5392/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5392/events", "html_url": "https://github.com/aws/aws-cli/issues/5392", "id": 662061458, "node_id": "MDU6SXNzdWU2NjIwNjE0NTg=", "number": 5392, "title": "[Errno 13] Permission denied: '/root/.aws/credentials'", "user": {"login": "santosh", "id": 1515991, "node_id": "MDQ6VXNlcjE1MTU5OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1515991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/santosh", "html_url": "https://github.com/santosh", "followers_url": "https://api.github.com/users/santosh/followers", "following_url": "https://api.github.com/users/santosh/following{/other_user}", "gists_url": "https://api.github.com/users/santosh/gists{/gist_id}", "starred_url": "https://api.github.com/users/santosh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/santosh/subscriptions", "organizations_url": "https://api.github.com/users/santosh/orgs", "repos_url": "https://api.github.com/users/santosh/repos", "events_url": "https://api.github.com/users/santosh/events{/privacy}", "received_events_url": "https://api.github.com/users/santosh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-07-20T17:18:22Z", "updated_at": "2020-07-21T17:01:54Z", "closed_at": "2020-07-21T17:01:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nGetting permission denied error when running `aws configure`. \r\n\r\nThis issue might seem related to https://github.com/aws/aws-cli/issues/3235, but in that issue it seems permission error is on local system, as we can see from the path i.e. `/Users//.aws/credentials`. In my case, the error comes from `/root/.aws/credentials`, which seems like it's coming from the docker container.\r\n\r\nMoreover, I have checked permission of my `.aws` directory content and it is writable.\r\n\r\n```\r\n$ ll\r\ntotal 4.0K\r\n-rw-r--r--. 1 sntshk sntshk 30 Jul 20 22:28 config\r\n-rw-r--r--. 1 sntshk sntshk  0 Jul 20 22:28 credentials\r\n```\r\n\r\n**SDK version number**\r\n\r\nI am using aws-cli via docker.\r\n\r\n```\r\n$ which aws\r\naws='docker run --rm -it -v ~/.aws:/root/.aws -v $(pwd):/aws amazon/aws-cli'\r\n        /usr/bin/docker\r\n$ aws --version\r\naws-cli/2.0.31 Python/3.7.3 Linux/5.7.8-200.fc32.x86_64 botocore/2.0.0dev35\r\n```\r\n**Platform/OS/Hardware/Device**\r\n```\r\n$ uname -a\r\nLinux fedora32 5.7.8-200.fc32.x86_64 #1 SMP Thu Jul 9 14:34:51 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\n```\r\n$ aws configure\r\nAWS Access Key ID [None]: ...\r\nAWS Secret Access Key [None]: ...\r\nDefault region name [None]: ...\r\nDefault output format [None]: \r\n\r\n[Errno 13] Permission denied: '/root/.aws/credentials'\r\n```\r\n\r\n**Logs/output**\r\n\r\n```\r\n$ aws configure --debug\r\n2020-07-20 17:04:07,871 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.31 Python/3.7.3 Linux/5.7.8-200.fc32.x86_64 botocore/2.0.0dev35\r\n2020-07-20 17:04:07,871 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['configure', '--debug']\r\n2020-07-20 17:04:07,871 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7fc1d3463510>\r\n2020-07-20 17:04:07,871 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fc1d3d8d400>\r\n2020-07-20 17:04:07,872 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7fc1d3421a60>\r\n2020-07-20 17:04:07,872 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fc1d3d62950>\r\n2020-07-20 17:04:07,873 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fc1d35abf28>\r\n2020-07-20 17:04:07,873 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7fc1d35e18c8>\r\n2020-07-20 17:04:07,874 - MainThread - botocore.hooks - DEBUG - Event building-command-table.configure: calling handler <function _add_wizard_command at 0x7fc1d3421268>\r\n2020-07-20 17:04:07,874 - MainThread - botocore.hooks - DEBUG - Event building-command-table.configure: calling handler <function add_waiters at 0x7fc1d3469950>\r\n2020-07-20 17:04:07,874 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.configure.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fc1d3396c88>\r\nAWS Access Key ID [None]: ...\r\nAWS Secret Access Key [None]: ...\r\nDefault region name [None]: ...\r\nDefault output format [None]: \r\n2020-07-20 17:04:28,651 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 335, in main\r\n  File \"awscli/customizations/commands.py\", line 190, in __call__\r\n  File \"awscli/customizations/configure/configure.py\", line 122, in _run_main\r\n  File \"awscli/customizations/configure/configure.py\", line 148, in _write_out_creds_file_values\r\n  File \"awscli/customizations/configure/writer.py\", line 56, in update_config\r\n  File \"awscli/customizations/configure/writer.py\", line 76, in _create_file\r\nPermissionError: [Errno 13] Permission denied: '/root/.aws/credentials'\r\n2020-07-20 17:04:28,652 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n[Errno 13] Permission denied: '/root/.aws/credentials'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5387", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5387/events", "html_url": "https://github.com/aws/aws-cli/issues/5387", "id": 657720062, "node_id": "MDU6SXNzdWU2NTc3MjAwNjI=", "number": 5387, "title": "codeartifact login broken in v1.18.98", "user": {"login": "zoellner", "id": 2665319, "node_id": "MDQ6VXNlcjI2NjUzMTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2665319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoellner", "html_url": "https://github.com/zoellner", "followers_url": "https://api.github.com/users/zoellner/followers", "following_url": "https://api.github.com/users/zoellner/following{/other_user}", "gists_url": "https://api.github.com/users/zoellner/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoellner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoellner/subscriptions", "organizations_url": "https://api.github.com/users/zoellner/orgs", "repos_url": "https://api.github.com/users/zoellner/repos", "events_url": "https://api.github.com/users/zoellner/events{/privacy}", "received_events_url": "https://api.github.com/users/zoellner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 2169783451, "node_id": "MDU6TGFiZWwyMTY5NzgzNDUx", "url": "https://api.github.com/repos/aws/aws-cli/labels/codeartifact", "name": "codeartifact", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-15T23:16:28Z", "updated_at": "2020-07-27T20:29:16Z", "closed_at": "2020-07-20T18:17:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nI am using the command `aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012` on AWS CodeBuild after running `pip3 install awscli --upgrade --user` to login to our own npm repo. \r\nThis was working fine in v1.18.97 but is broken in 1.18.98.\r\n\r\nI think the relevant part in below log is \"relativedelta only diffs datetime/date\"\r\n\r\n**SDK version number**\r\n1.18.98\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nAWS CodeBuild\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\nin CodeBuild run `pip3 install awscli --upgrade --user` followed by `aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012`\r\n(need to change names, accountId, and setup repos etc)\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nlogin to codeartifact as it does in v1.18.97\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n```\r\n[Container] 2020/07/15 23:02:05 Running command aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012\r\n\r\nrelativedelta only diffs datetime/date\r\n\r\n[Container] 2020/07/15 23:02:07 Command did not exit successfully aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012 exit status 255\r\n[Container] 2020/07/15 23:02:07 Phase complete: INSTALL State: FAILED\r\n[Container] 2020/07/15 23:02:07 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: aws codeartifact login --tool npm --repository repo-name --domain domain-name --domain-owner 123456789012. Reason: exit status 255\r\n```\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5380", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5380/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5380/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5380/events", "html_url": "https://github.com/aws/aws-cli/issues/5380", "id": 657466089, "node_id": "MDU6SXNzdWU2NTc0NjYwODk=", "number": 5380, "title": "'ecs describe-task-sets' fails when optional param 'task-sets' is not specified", "user": {"login": "burpfish", "id": 6029828, "node_id": "MDQ6VXNlcjYwMjk4Mjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6029828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burpfish", "html_url": "https://github.com/burpfish", "followers_url": "https://api.github.com/users/burpfish/followers", "following_url": "https://api.github.com/users/burpfish/following{/other_user}", "gists_url": "https://api.github.com/users/burpfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/burpfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burpfish/subscriptions", "organizations_url": "https://api.github.com/users/burpfish/orgs", "repos_url": "https://api.github.com/users/burpfish/repos", "events_url": "https://api.github.com/users/burpfish/events{/privacy}", "received_events_url": "https://api.github.com/users/burpfish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 2220994337, "node_id": "MDU6TGFiZWwyMjIwOTk0MzM3", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecs", "name": "ecs", "color": "ff5500", "default": false, "description": ""}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-07-15T15:58:17Z", "updated_at": "2020-08-21T20:09:32Z", "closed_at": "2020-08-21T20:09:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe documentation for ecs describe-task-sets states that the --task-sets parameter is optional.\r\nHowever, if called without a task-set it throws an error: An error occurred (InvalidParameterException) when calling the DescribeTaskSets operation: TaskSets cannot be empty.\r\nThere is no corresponding list-task-sets option, and so no obvious way to list all of the task sets which have been defined (although the task set ids are available in the response for ecs describe-service).\r\n\r\n**SDK version number**\r\naws-cli/2.0.30 Python/3.7.3 Linux/4.14.181-142.260.amzn2.x86_64 botocore/2.0.0dev34\r\n\r\n**Platform/OS/Hardware/Device**\r\nAmazon Workspace, cpe:2.3:o:amazon:amazon_linux:2\r\n\r\n**To Reproduce (observed behavior)**\r\naws ecs describe-task-sets --cluster \"cluster\" --service \"service\"\r\n\r\n**Expected behavior**\r\nExpected it to fail with an error that the cluster or service were not recognized.\r\n\r\n**Logs/output**\r\n$ aws ecs describe-task-sets --cluster \"cluster\" --service \"service\" --debug\r\n2020-07-15 16:55:41,647 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.30 Python/3.7.3 Linux/4.14.181-142.260.amzn2.x86_64 botocore/2.0.0dev34\r\n2020-07-15 16:55:41,647 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ecs', 'describe-task-sets', '--cluster', 'cluster', '--service', 'service', '--debug']\r\n2020-07-15 16:55:41,648 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7fd2ca956ea0>\r\n2020-07-15 16:55:41,648 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fd2cb27cc80>\r\n2020-07-15 16:55:41,648 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7fd2ca8a31e0>\r\n2020-07-15 16:55:41,648 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fd2cb255d90>\r\n2020-07-15 16:55:41,650 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fd2caa22c80>\r\n2020-07-15 16:55:41,650 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7fd2caada400>\r\n2020-07-15 16:55:41,657 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.30/bin/v2/2.0.30/dist/botocore/data/ecs/2014-11-13/service-2.json\r\n2020-07-15 16:55:41,670 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecs: calling handler <function inject_commands at 0x7fd2ca9ab620>\r\n2020-07-15 16:55:41,670 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecs: calling handler <function add_waiters at 0x7fd2ca8e1598>\r\n2020-07-15 16:55:41,676 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.30/bin/v2/2.0.30/dist/botocore/data/ecs/2014-11-13/waiters-2.json\r\n2020-07-15 16:55:41,678 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('cluster', <awscli.arguments.CLIArgument object at 0x7fd2ca6c2fd0>), ('service', <awscli.arguments.CLIArgument object at 0x7fd2ca6cd080>), ('task-sets', <awscli.arguments.ListArgument object at 0x7fd2ca6cd0b8>), ('include', <awscli.arguments.ListArgument object at 0x7fd2ca6cd128>)])\r\n2020-07-15 16:55:41,678 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ecs.describe-task-sets: calling handler <function add_streaming_output_arg at 0x7fd2ca95a268>\r\n2020-07-15 16:55:41,678 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ecs.describe-task-sets: calling handler <function add_cli_input_json at 0x7fd2cb25c7b8>\r\n2020-07-15 16:55:41,678 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ecs.describe-task-sets: calling handler <function add_cli_input_yaml at 0x7fd2cb25ce18>\r\n2020-07-15 16:55:41,679 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ecs.describe-task-sets: calling handler <function unify_paging_params at 0x7fd2caaddbf8>\r\n2020-07-15 16:55:41,685 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.30/bin/v2/2.0.30/dist/botocore/data/ecs/2014-11-13/paginators-1.json\r\n2020-07-15 16:55:41,685 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ecs.describe-task-sets: calling handler <function add_generate_skeleton at 0x7fd2ca9c6048>\r\n2020-07-15 16:55:41,686 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.ecs.describe-task-sets: calling handler <function add_auto_prompt at 0x7fd2ca8a08c8>\r\n2020-07-15 16:55:41,686 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ecs.describe-task-sets: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7fd2ca6cd198>>\r\n2020-07-15 16:55:41,686 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ecs.describe-task-sets: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7fd2ca6cd1d0>>\r\n2020-07-15 16:55:41,686 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ecs.describe-task-sets: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd2cb223908>>\r\n2020-07-15 16:55:41,686 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.ecs.describe-task-sets: calling handler <bound method AutoPromptArgument.override_required_args of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x7fd2ca6d5470>>\r\n2020-07-15 16:55:41,688 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.cluster: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,688 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.ecs.describe-task-sets: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fd2cb223d68>\r\n2020-07-15 16:55:41,688 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'cluster' for parameter \"cluster\": 'cluster'\r\n2020-07-15 16:55:41,688 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.service: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,688 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.ecs.describe-task-sets: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fd2cb223d68>\r\n2020-07-15 16:55:41,688 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'service' for parameter \"service\": 'service'\r\n2020-07-15 16:55:41,688 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.task-sets: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,688 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.include: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ecs.describe-task-sets.cli-auto-prompt: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd2ca89dda0>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event calling-command.ecs.describe-task-sets: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7fd2ca6cd198>>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event calling-command.ecs.describe-task-sets: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7fd2ca6cd1d0>>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event calling-command.ecs.describe-task-sets: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd2cb223908>>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.hooks - DEBUG - Event calling-command.ecs.describe-task-sets: calling handler <bound method AutoPromptArgument.auto_prompt_arguments of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x7fd2ca6d5470>>\r\n2020-07-15 16:55:41,689 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-15 16:55:41,689 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-15 16:55:41,689 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-15 16:55:41,690 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-07-15 16:55:41,690 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-15 16:55:41,690 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-15 16:55:41,691 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.30/bin/v2/2.0.30/dist/botocore/data/endpoints.json\r\n2020-07-15 16:55:41,699 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fd2cc24ce18>\r\n2020-07-15 16:55:41,701 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ecs: calling handler <function add_generate_presigned_url at 0x7fd2cc29ac80>\r\n2020-07-15 16:55:41,705 - MainThread - botocore.endpoint - DEBUG - Setting ecs timeout as (60, 60)\r\n2020-07-15 16:55:41,706 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.ecs.DescribeTaskSets: calling handler <function base64_decode_input_blobs at 0x7fd2ca8a3268>\r\n2020-07-15 16:55:41,707 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ecs.DescribeTaskSets: calling handler <function generate_idempotent_uuid at 0x7fd2cc26ed08>\r\n2020-07-15 16:55:41,707 - MainThread - botocore.hooks - DEBUG - Event before-call.ecs.DescribeTaskSets: calling handler <function inject_api_version_header_if_needed at 0x7fd2cc272510>\r\n2020-07-15 16:55:41,707 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeTaskSets) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'AmazonEC2ContainerServiceV20141113.DescribeTaskSets', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'aws-cli/2.0.30 Python/3.7.3 Linux/4.14.181-142.260.amzn2.x86_64 botocore/2.0.0dev34'}, 'body': b'{\"cluster\": \"cluster\", \"service\": \"service\"}', 'url': 'https://ecs.us-east-1.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7fd2ca465630>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-07-15 16:55:41,707 - MainThread - botocore.hooks - DEBUG - Event request-created.ecs.DescribeTaskSets: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fd2ca465588>>\r\n2020-07-15 16:55:41,707 - MainThread - botocore.hooks - DEBUG - Event choose-signer.ecs.DescribeTaskSets: calling handler <function set_operation_specific_signer at 0x7fd2cc26ebf8>\r\n2020-07-15 16:55:41,708 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-15 16:55:41,708 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-amz-json-1.1\r\nhost:ecs.us-east-1.amazonaws.com\r\nx-amz-date:20200715T155541Z\r\nx-amz-target:AmazonEC2ContainerServiceV20141113.DescribeTaskSets\r\n\r\ncontent-type;host;x-amz-date;x-amz-target\r\n5811ce39b8f4a0cd52d900e4c1f7c31499fc8111f37e72647e66417c377cedef\r\n2020-07-15 16:55:41,708 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200715T155541Z\r\n20200715/us-east-1/ecs/aws4_request\r\nb6d676d6bcaf9cc9288ddf7b4109064d58b768347708407b9d3aeadd2d028f46\r\n2020-07-15 16:55:41,708 - MainThread - botocore.auth - DEBUG - Signature:\r\nd6363c1c2538870c5c423199c34bb45e89ac61c1005f5e6aeae15e9c4b2e1049\r\n2020-07-15 16:55:41,708 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ecs.us-east-1.amazonaws.com/, headers={'X-Amz-Target': b'AmazonEC2ContainerServiceV20141113.DescribeTaskSets', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'aws-cli/2.0.30 Python/3.7.3 Linux/4.14.181-142.260.amzn2.x86_64 botocore/2.0.0dev34', 'X-Amz-Date': b'20200715T155541Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIARN32MIWKJNUX45PX/20200715/us-east-1/ecs/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=d6363c1c2538870c5c423199c34bb45e89ac61c1005f5e6aeae15e9c4b2e1049', 'Content-Length': '44'}>\r\n2020-07-15 16:55:41,709 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): ecs.us-east-1.amazonaws.com:443\r\n2020-07-15 16:55:42,042 - MainThread - urllib3.connectionpool - DEBUG - https://ecs.us-east-1.amazonaws.com:443 \"POST / HTTP/1.1\" 400 76\r\n2020-07-15 16:55:42,043 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': '16c623bc-41a2-4e2f-8c12-3b5839a10603', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '76', 'Date': 'Wed, 15 Jul 2020 15:55:41 GMT', 'Connection': 'close'}\r\n2020-07-15 16:55:42,043 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"InvalidParameterException\",\"message\":\"TaskSets cannot be empty.\"}'\r\n2020-07-15 16:55:42,045 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': '16c623bc-41a2-4e2f-8c12-3b5839a10603', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '76', 'Date': 'Wed, 15 Jul 2020 15:55:41 GMT', 'Connection': 'close'}\r\n2020-07-15 16:55:42,045 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"InvalidParameterException\",\"message\":\"TaskSets cannot be empty.\"}'\r\n2020-07-15 16:55:42,045 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ecs.DescribeTaskSets: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7fd2ca465da0>>\r\n2020-07-15 16:55:42,045 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-15 16:55:42,045 - MainThread - botocore.hooks - DEBUG - Event after-call.ecs.DescribeTaskSets: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7fd2ca4659e8>>\r\n2020-07-15 16:55:42,046 - MainThread - awscli.clidriver - DEBUG - Service returned an exception\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 335, in main\r\n  File \"awscli/clidriver.py\", line 507, in __call__\r\n  File \"awscli/clidriver.py\", line 685, in __call__\r\n  File \"awscli/clidriver.py\", line 806, in invoke\r\n  File \"awscli/clidriver.py\", line 818, in _make_client_call\r\n  File \"botocore/client.py\", line 208, in _api_call\r\n  File \"botocore/client.py\", line 527, in _make_api_call\r\nbotocore.errorfactory.InvalidParameterException: An error occurred (InvalidParameterException) when calling the DescribeTaskSets operation: TaskSets cannot be empty.\r\n\r\nAn error occurred (InvalidParameterException) when calling the DescribeTaskSets operation: TaskSets cannot be empty.\r\n\r\n**Additional context**\r\nit also fails if I use valid cluster and service names.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5375", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5375/events", "html_url": "https://github.com/aws/aws-cli/issues/5375", "id": 656787331, "node_id": "MDU6SXNzdWU2NTY3ODczMzE=", "number": 5375, "title": "Sync / copy is broken in aws v2.x", "user": {"login": "gnithinfb", "id": 68295778, "node_id": "MDQ6VXNlcjY4Mjk1Nzc4", "avatar_url": "https://avatars0.githubusercontent.com/u/68295778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnithinfb", "html_url": "https://github.com/gnithinfb", "followers_url": "https://api.github.com/users/gnithinfb/followers", "following_url": "https://api.github.com/users/gnithinfb/following{/other_user}", "gists_url": "https://api.github.com/users/gnithinfb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnithinfb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnithinfb/subscriptions", "organizations_url": "https://api.github.com/users/gnithinfb/orgs", "repos_url": "https://api.github.com/users/gnithinfb/repos", "events_url": "https://api.github.com/users/gnithinfb/events{/privacy}", "received_events_url": "https://api.github.com/users/gnithinfb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-14T17:45:31Z", "updated_at": "2020-07-20T18:17:33Z", "closed_at": "2020-07-20T18:17:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nAws copy functionality is broken and is not able to copy files of size > 1mb. It gives you access denied error. \r\nwhile files of smaller size gets copied. (Not an access issue) \r\n\r\n**SDK version number**\r\nv2.0.29\r\n\r\n**To Reproduce (observed behavior)**\r\nTry aws copy \r\naws s3 cp  s3://{source_file_address} s3://{destination_directory}/ --request-payer\r\n\r\n**Expected behavior**\r\nfile is expected to copy from source s3 to destination s3. \r\n**Logs/output**\r\n[ngopidi@devvm502.ftw3 /data/users/ngopidi/configerator] aws s3 cp s3://source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz s3://destination_bucket/ --request-payer --debug>log2>&1\r\n2020-07-09 15:34:36,433 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33\r\n2020-07-09 15:34:36,434 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'cp', 's3://source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz', 's3://destination_bucket/', '--request-payer', '--debug']\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f37c21df378>\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f37c2b07400>\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f37c21a38c8>\r\n2020-07-09 15:34:36,434 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f37c2adc950>\r\n2020-07-09 15:34:36,438 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f37c2328d90>\r\n2020-07-09 15:34:36,438 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f37c2355730>\r\n2020-07-09 15:34:36,438 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x7f37c21e57b8>\r\n2020-07-09 15:34:36,439 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,439 - MainThread - botocore.hooks - DEBUG - Event building-command-table.cp: calling handler <function add_waiters at 0x7f37c21e57b8>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.dryrun: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.quiet: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,441 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.acl: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.follow-symlinks: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-kms-key-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.sse-c-copy-source-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.storage-class: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.grants: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,442 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.website-redirect: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-type: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.cache-control: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-disposition: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-encoding: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.content-language: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expires: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.source-region: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.only-show-errors: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.ignore-glacier-warnings: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,443 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.force-glacier-transfer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.copy-props: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.cp: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f37c2b2e7f0>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.metadata-directive: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.expected-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,444 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.cp.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f37c2121550>\r\n2020-07-09 15:34:36,446 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): fwdproxy:8080\r\n2020-07-09 15:34:36,448 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"PUT http://169.254.169.254/latest/api/token HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,449 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,450 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"GET http://169.254.169.254/latest/meta-data/placement/availability-zone/ HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,450 - MainThread - botocore.utils - DEBUG - Metadata service returned non-200 response with status code of 502 for url: http://169.254.169.254/latest/meta-data/placement/availability-zone/, content body: b'kErrorAddressPrivate'\r\n2020-07-09 15:34:36,451 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-09 15:34:36,451 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-09 15:34:36,451 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\r\n2020-07-09 15:34:36,452 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.29/dist/botocore/data/endpoints.json\r\n2020-07-09 15:34:36,459 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f37c3aec048>\r\n2020-07-09 15:34:36,469 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.29/dist/botocore/data/s3/2006-03-01/service-2.json\r\n2020-07-09 15:34:36,475 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.29/dist/botocore/data/s3/2006-03-01/service-2.sdk-extras.json\r\n2020-07-09 15:34:36,478 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f37c3b2d0d0>\r\n2020-07-09 15:34:36,478 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f37c3b29e18>\r\n2020-07-09 15:34:36,482 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-09 15:34:36,484 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,486 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"PUT http://169.254.169.254/latest/api/token HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,486 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,487 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"GET http://169.254.169.254/latest/meta-data/placement/availability-zone/ HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,488 - MainThread - botocore.utils - DEBUG - Metadata service returned non-200 response with status code of 502 for url: http://169.254.169.254/latest/meta-data/placement/availability-zone/, content body: b'kErrorAddressPrivate'\r\n2020-07-09 15:34:36,488 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-09 15:34:36,488 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f37c3aec048>\r\n2020-07-09 15:34:36,491 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f37c3b2d0d0>\r\n2020-07-09 15:34:36,491 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f37c3b29e18>\r\n2020-07-09 15:34:36,494 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-09 15:34:36,496 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,497 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"PUT http://169.254.169.254/latest/api/token HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,498 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: fwdproxy\r\n2020-07-09 15:34:36,499 - MainThread - urllib3.connectionpool - DEBUG - http://fwdproxy:8080 \"GET http://169.254.169.254/latest/meta-data/placement/availability-zone/ HTTP/1.1\" 502 None\r\n2020-07-09 15:34:36,499 - MainThread - botocore.utils - DEBUG - Metadata service returned non-200 response with status code of 502 for url: http://169.254.169.254/latest/meta-data/placement/availability-zone/, content body: b'kErrorAddressPrivate'\r\n2020-07-09 15:34:36,499 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-09 15:34:36,499 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f37c3aec048>\r\n2020-07-09 15:34:36,501 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f37c3b2d0d0>\r\n2020-07-09 15:34:36,501 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f37c3b29e18>\r\n2020-07-09 15:34:36,504 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-09 15:34:36,506 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\r\n2020-07-09 15:34:36,506 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.HeadObject: calling handler <function base64_decode_input_blobs at 0x7f37c21a7158>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <function sse_md5 at 0x7f37c3af9158>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <function validate_bucket_name at 0x7f37c3af90d0>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f37c19de438>>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f37c19de748>>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.HeadObject: calling handler <function generate_idempotent_uuid at 0x7f37c3af6ea0>\r\n2020-07-09 15:34:36,507 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.HeadObject: calling handler <function add_expect_header at 0x7f37c3af9400>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.HeadObject: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f37c19de438>>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.HeadObject: calling handler <function inject_api_version_header_if_needed at 0x7f37c3afa6a8>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=HeadObject) with params: {'url_path': '/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz', 'query_string': {}, 'method': 'HEAD', 'headers': {'x-amz-request-payer': 'requester', 'User-Agent': 'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33'}, 'body': b'', 'url': 'https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x7f37c1baef28>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': 'source_bucket'}}}\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.HeadObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f37c1baeeb8>>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.HeadObject: calling handler <function set_operation_specific_signer at 0x7f37c3af6d90>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.HeadObject: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f37c19de7b8>>\r\n2020-07-09 15:34:36,508 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-09 15:34:36,509 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\n2020-07-09 15:34:36,509 - MainThread - botocore.utils - DEBUG - URI updated to: https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nHEAD\r\n/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\n\r\nhost:source_bucket.s3.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20200709T223436Z\r\nx-amz-request-payer:requester\r\nx-amz-security-token:TOKEN\r\n\r\nhost;x-amz-content-sha256;x-amz-date;x-amz-request-payer;x-amz-security-token\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200709T223436Z\r\n20200709/us-east-1/s3/aws4_request\r\nf66b557da4be005c1c493ab58574c1c57426fd8e91722f831359fb4871d97b63\r\n2020-07-09 15:34:36,509 - MainThread - botocore.auth - DEBUG - Signature:\r\n5d1652d302195960003e423cbc2deaa25daacbe55291bb99cefc0ac33fe7cdd7\r\n2020-07-09 15:34:36,510 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=HEAD, url=https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz, headers={'x-amz-request-payer': b'requester', 'User-Agent': b'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33', 'X-Amz-Date': b'20200709T223436Z', 'X-Amz-Security-Token': b'FwoGZXIvYXdzEIf//////////wEaDIeMw5u+hS2aR6BK4CKpAXM5Oaiyt1LxUFHC0aLESwylSI+IQcCfsaar1NLm2arD9FL6y37F9DW0S0jAPcrOKDHd2KkOvcNDIhpNCtUu7lemvAZMUvpS4tFg5Bro5szBh/Waub/QcpVUm0kCtZO2IV8TDpMRQ6bntJ92hqex807Cmc9hFSBtwwKdJ/fLXMaAfJUHo+OTfFr8tdsJDpdRkl6aKZkiG9Y4FbVYWWYRZazCCU9+pOeaFT0o26Ce+AUyLbAmG4SVLSrgnYwN0vH4EWvf5fPb16pzI1vn2t/sa1BDCrrpZ1Mjdd/gRcrKXw==', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=ASIA4JG3IYP2O3T2VS2K/20200709/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-request-payer;x-amz-security-token, Signature=5d1652d302195960003e423cbc2deaa25daacbe55291bb99cefc0ac33fe7cdd7'}>\r\n2020-07-09 15:34:36,511 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): source_bucket.s3.amazonaws.com:443\r\n2020-07-09 15:34:36,721 - MainThread - urllib3.connectionpool - DEBUG - https://source_bucket.s3.amazonaws.com:443 \"HEAD /2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz HTTP/1.1\" 200 0\r\n2020-07-09 15:34:36,722 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-id-2': '4VD/dX9PHxnf1+/C8VNbx+PS6hGx/dD85HtuxBaMo4G/nEkO2Jyx8KGIetO/pTfOfZjKyKlvYbA=', 'x-amz-request-id': '812F940A8F345D59', 'Date': 'Thu, 09 Jul 2020 22:34:37 GMT', 'x-amz-request-charged': 'requester', 'Last-Modified': 'Tue, 23 Jun 2020 22:21:20 GMT', 'x-amz-expiration': 'expiry-date=\"Mon, 07 Sep 2020 00:00:00 GMT\", rule-id=\"auto-delete-after-60-days\"', 'ETag': '\"3c0515b80b6626bcab4a147f1a5b638e\"', 'x-amz-tagging-count': '2', 'x-amz-version-id': 'null', 'Accept-Ranges': 'bytes', 'Content-Type': 'application/octet-stream', 'Content-Length': '120464449', 'Server': 'AmazonS3'}\r\n2020-07-09 15:34:36,722 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb''\r\n2020-07-09 15:34:36,723 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.HeadObject: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f37c19de710>>\r\n2020-07-09 15:34:36,723 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-09 15:34:36,723 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.HeadObject: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7f37c19de438>>\r\n2020-07-09 15:34:36,724 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.HeadObject: calling handler <function enhance_error_msg at 0x7f37c21d9f28>\r\n2020-07-09 15:34:36,724 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.HeadObject: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f37c19de390>>\r\n2020-07-09 15:34:36,725 - MainThread - s3transfer.utils - DEBUG - Acquiring 0\r\n2020-07-09 15:34:36,726 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - CopySubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}) about to wait for the following futures []\r\n2020-07-09 15:34:36,726 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - CopySubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}) done waiting for dependent futures\r\n2020-07-09 15:34:36,726 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Executing task CopySubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}) with kwargs {'client': <botocore.client.S3 object at 0x7f37c1c50c50>, 'config': <s3transfer.manager.TransferConfig object at 0x7f37c19de9e8>, 'osutil': <s3transfer.utils.OSUtils object at 0x7f37c19dea58>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x7f37c19debe0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x7f37c1188a90>}\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event provide-client-params.s3.GetObjectTagging: calling handler <function base64_decode_input_blobs at 0x7f37c21a7158>\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <function validate_bucket_name at 0x7f37c3af90d0>\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f37c1b982b0>>\r\n2020-07-09 15:34:36,727 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f37c1b985c0>>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-parameter-build.s3.GetObjectTagging: calling handler <function generate_idempotent_uuid at 0x7f37c3af6ea0>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-call.s3.GetObjectTagging: calling handler <function add_expect_header at 0x7f37c3af9400>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-call.s3.GetObjectTagging: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f37c1b982b0>>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-call.s3.GetObjectTagging: calling handler <function inject_api_version_header_if_needed at 0x7f37c3afa6a8>\r\n2020-07-09 15:34:36,728 - ThreadPoolExecutor-1_0 - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetObjectTagging) with params: {'url_path': '/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33'}, 'body': b'', 'url': 'https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x7f37c1c50da0>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': 'source_bucket'}}}\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event request-created.s3.GetObjectTagging: calling handler <function signal_not_transferring at 0x7f37c272fae8>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event request-created.s3.GetObjectTagging: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f37c1c50d30>>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event choose-signer.s3.GetObjectTagging: calling handler <function set_operation_specific_signer at 0x7f37c3af6d90>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event before-sign.s3.GetObjectTagging: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f37c1b98630>>\r\n2020-07-09 15:34:36,729 - ThreadPoolExecutor-1_0 - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.amazonaws.com/source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.utils - DEBUG - URI updated to: https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-09 15:34:36,730 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz\r\ntagging=\r\nhost:source_bucket.s3.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20200709T223436Z\r\nx-amz-security-token:FwoGZXIvYXdzEIf//////////wEaDIeMw5u+hS2aR6BK4CKpAXM5Oaiyt1LxUFHC0aLESwylSI+IQcCfsaar1NLm2arD9FL6y37F9DW0S0jAPcrOKDHd2KkOvcNDIhpNCtUu7lemvAZMUvpS4tFg5Bro5szBh/Waub/QcpVUm0kCtZO2IV8TDpMRQ6bntJ92hqex807Cmc9hFSBtwwKdJ/fLXMaAfJUHo+OTfFr8tdsJDpdRkl6aKZkiG9Y4FbVYWWYRZazCCU9+pOeaFT0o26Ce+AUyLbAmG4SVLSrgnYwN0vH4EWvf5fPb16pzI1vn2t/sa1BDCrrpZ1Mjdd/gRcrKXw==\r\n\r\nhost;x-amz-content-sha256;x-amz-date;x-amz-security-token\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200709T223436Z\r\n20200709/us-east-1/s3/aws4_request\r\n1aedc07bb96bbaf4088507c03de8480ce973b4c3794fda3afc14f8a78ae37689\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.auth - DEBUG - Signature:\r\n3400362811933c40cb96c7bfbd15160bab801a4f1012511c00030ccdb940c9ac\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event request-created.s3.GetObjectTagging: calling handler <function signal_transferring at 0x7f37c272fb70>\r\n2020-07-09 15:34:36,731 - ThreadPoolExecutor-1_0 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://source_bucket.s3.amazonaws.com/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging, headers={'User-Agent': b'aws-cli/2.0.29 Python/3.7.3 Linux/4.16.18-210_fbk23_5358_gf2838c074351 botocore/2.0.0dev33', 'X-Amz-Date': b'20200709T223436Z', 'X-Amz-Security-Token': b'FwoGZXIvYXdzEIf//////////wEaDIeMw5u+hS2aR6BK4CKpAXM5Oaiyt1LxUFHC0aLESwylSI+IQcCfsaar1NLm2arD9FL6y37F9DW0S0jAPcrOKDHd2KkOvcNDIhpNCtUu7lemvAZMUvpS4tFg5Bro5szBh/Waub/QcpVUm0kCtZO2IV8TDpMRQ6bntJ92hqex807Cmc9hFSBtwwKdJ/fLXMaAfJUHo+OTfFr8tdsJDpdRkl6aKZkiG9Y4FbVYWWYRZazCCU9+pOeaFT0o26Ce+AUyLbAmG4SVLSrgnYwN0vH4EWvf5fPb16pzI1vn2t/sa1BDCrrpZ1Mjdd/gRcrKXw==', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=ASIA4JG3IYP2O3T2VS2K/20200709/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-security-token, Signature=3400362811933c40cb96c7bfbd15160bab801a4f1012511c00030ccdb940c9ac'}>\r\n2020-07-09 15:34:36,733 - ThreadPoolExecutor-1_0 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): source_bucket.s3.amazonaws.com:443\r\n2020-07-09 15:34:36,950 - ThreadPoolExecutor-1_0 - urllib3.connectionpool - DEBUG - https://source_bucket.s3.amazonaws.com:443 \"GET /2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz?tagging HTTP/1.1\" 403 None\r\n2020-07-09 15:34:36,950 - ThreadPoolExecutor-1_0 - botocore.parsers - DEBUG - Response headers: {'x-amz-request-id': '5042096AE1CD6529', 'x-amz-id-2': 'kCHMzneOvDKrU0bW2vOkZls88+8c8ISNESD3/FEDmM+NNCKp2NqG1Zmt+9FwlTpk55DTRGqUYdY=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Thu, 09 Jul 2020 22:34:36 GMT', 'Server': 'AmazonS3'}\r\n2020-07-09 15:34:36,950 - ThreadPoolExecutor-1_0 - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>AccessDenied</Code><Message>Access Denied</Message><RequestId>5042096AE1CD6529</RequestId><HostId>kCHMzneOvDKrU0bW2vOkZls88+8c8ISNESD3/FEDmM+NNCKp2NqG1Zmt+9FwlTpk55DTRGqUYdY=</HostId></Error>'\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event needs-retry.s3.GetObjectTagging: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f37c1b98588>>\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event needs-retry.s3.GetObjectTagging: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7f37c1b982b0>>\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event after-call.s3.GetObjectTagging: calling handler <function enhance_error_msg at 0x7f37c21d9f28>\r\n2020-07-09 15:34:36,953 - ThreadPoolExecutor-1_0 - botocore.hooks - DEBUG - Event after-call.s3.GetObjectTagging: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f37c1b98208>>\r\n2020-07-09 15:34:36,954 - ThreadPoolExecutor-1_0 - s3transfer.tasks - DEBUG - Exception raised.\r\nTraceback (most recent call last):\r\n  File \"s3transfer/tasks.py\", line 248, in _main\r\n  File \"awscli/customizations/s3/subscribers.py\", line 295, in on_queued\r\n  File \"awscli/customizations/s3/subscribers.py\", line 337, in _get_tags\r\n  File \"botocore/client.py\", line 208, in _api_call\r\n  File \"botocore/client.py\", line 527, in _make_api_call\r\nbotocore.exceptions.ClientError: An error occurred (AccessDenied) when calling the GetObjectTagging operation: Access Denied\r\n2020-07-09 15:34:36,955 - ThreadPoolExecutor-1_0 - s3transfer.utils - DEBUG - Releasing acquire 0/None\r\ncopy failed: s3://source_bucket/2486/events/2020/06/22/v2/collected_attributes/10218/22690/2020_06/part-09228.gz to s3://destination_bucket/part-09228.gz An error occurred (AccessDenied) when calling the GetObjectTagging operation: Access Denied\r\n2020-07-09 15:34:36,955 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.\r\n\r\n**Additional context**\r\nsync works fine in v1.18.97", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5374", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5374/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5374/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5374/events", "html_url": "https://github.com/aws/aws-cli/issues/5374", "id": 656669586, "node_id": "MDU6SXNzdWU2NTY2Njk1ODY=", "number": 5374, "title": "Syncing to S3 from local - S3RegionRedirector.redirect_from_error", "user": {"login": "jakenoble", "id": 2683244, "node_id": "MDQ6VXNlcjI2ODMyNDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2683244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakenoble", "html_url": "https://github.com/jakenoble", "followers_url": "https://api.github.com/users/jakenoble/followers", "following_url": "https://api.github.com/users/jakenoble/following{/other_user}", "gists_url": "https://api.github.com/users/jakenoble/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakenoble/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakenoble/subscriptions", "organizations_url": "https://api.github.com/users/jakenoble/orgs", "repos_url": "https://api.github.com/users/jakenoble/repos", "events_url": "https://api.github.com/users/jakenoble/events{/privacy}", "received_events_url": "https://api.github.com/users/jakenoble/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-14T14:45:07Z", "updated_at": "2020-07-25T19:07:14Z", "closed_at": "2020-07-25T19:07:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [x] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\nMac OS 10.15.4\r\naws-cli/2.0.30 Python/3.7.4 Darwin/19.4.0 botocore/2.0.0dev34\r\n\r\n**Describe the question**\r\n\r\n`aws s3 sync --debug  s3://bucket-name-static/wp-contents/uploads/ static-export/wp-content/uploads/`\r\n\r\nThe above command does not sync any files, despite there being files to sync, and there appears to be an error of some sort `S3RegionRedirector.redirect_from_error`. Lots of digging later, I have found nothing.\r\n\r\nMy credentials are newly added and should be fine\r\n\r\n```\r\n[default]\r\naws_access_key_id = AAA\r\naws_secret_access_key = BBB\r\n```\r\n\r\nI also have in my config\r\n\r\n```\r\n[default]\r\nregion=us-east-1\r\n```\r\n\r\n**Logs/output**\r\n\r\n```\r\n2020-07-14 15:31:30,797 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.30 Python/3.7.4 Darwin/19.4.0 botocore/2.0.0dev34\r\n2020-07-14 15:31:30,797 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'sync', '--debug', 's3://bucket-name-static/wp-contents/uploads/', 'static-export/wp-content/uploads/']\r\n2020-07-14 15:31:30,797 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f9a38744710>\r\n2020-07-14 15:31:30,797 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f9a384409e0>\r\n2020-07-14 15:31:30,797 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f9a38794320>\r\n2020-07-14 15:31:30,797 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f9a58999dd0>\r\n2020-07-14 15:31:30,813 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f9a385de830>\r\n2020-07-14 15:31:30,813 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f9a38582dd0>\r\n2020-07-14 15:31:30,813 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x7f9a387523b0>\r\n2020-07-14 15:31:30,814 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,814 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sync: calling handler <function register_sync_strategies at 0x7f9a386c7200>\r\n2020-07-14 15:31:30,814 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sync: calling handler <function add_waiters at 0x7f9a387523b0>\r\n2020-07-14 15:31:30,815 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x7f9a58b6d2d0>>\r\n2020-07-14 15:31:30,815 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x7f9a58b6d710>>\r\n2020-07-14 15:31:30,815 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x7f9a58b6dcd0>>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.dryrun: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.quiet: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.acl: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.follow-symlinks: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,817 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-kms-key-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-copy-source: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-copy-source-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.storage-class: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.grants: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.website-redirect: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-type: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.cache-control: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-disposition: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-encoding: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-language: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.expires: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.source-region: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.only-show-errors: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,818 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.ignore-glacier-warnings: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.force-glacier-transfer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.metadata: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.copy-props: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.metadata-directive: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.size-only: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.exact-timestamps: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.delete: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9a58b72190>\r\n2020-07-14 15:31:30,819 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f9a38433b90>\r\n2020-07-14 15:31:30,820 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-14 15:31:30,820 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-14 15:31:30,820 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-14 15:31:30,820 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-07-14 15:31:30,820 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-14 15:31:30,821 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-14 15:31:30,821 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/endpoints.json\r\n2020-07-14 15:31:30,827 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f9a58814170>\r\n2020-07-14 15:31:30,845 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/s3/2006-03-01/service-2.json\r\n2020-07-14 15:31:30,851 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/s3/2006-03-01/service-2.sdk-extras.json\r\n2020-07-14 15:31:30,852 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f9a587c43b0>\r\n2020-07-14 15:31:30,852 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f9a587c4170>\r\n2020-07-14 15:31:30,900 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-14 15:31:30,901 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f9a58814170>\r\n2020-07-14 15:31:30,903 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f9a587c43b0>\r\n2020-07-14 15:31:30,903 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f9a587c4170>\r\n2020-07-14 15:31:30,906 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-14 15:31:30,907 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f9a58814170>\r\n2020-07-14 15:31:30,907 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f9a587c43b0>\r\n2020-07-14 15:31:30,907 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f9a587c4170>\r\n2020-07-14 15:31:30,911 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-14 15:31:30,912 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\r\n2020-07-14 15:31:30,912 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x7f9a58b6d2d0>>\r\n2020-07-14 15:31:30,912 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x7f9a58b6d710>>\r\n2020-07-14 15:31:30,912 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x7f9a58b6dcd0>>\r\n2020-07-14 15:31:30,924 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/s3/2006-03-01/paginators-1.json\r\n2020-07-14 15:31:30,924 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.ListObjectsV2: calling handler <function base64_decode_input_blobs at 0x7f9a387943b0>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x7f9a5881c290>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x7f9a58818f80>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f9a388e6a90>>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f9a388e6f10>>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x7f9a58818dd0>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x7f9a5881b320>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f9a388e6a90>>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x7f9a5881c680>\r\n2020-07-14 15:31:30,925 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/bucket-name-static?list-type=2', 'query_string': {'prefix': 'wp-contents/uploads/', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.30 Python/3.7.4 Darwin/19.4.0 botocore/2.0.0dev34'}, 'body': b'', 'url': 'https://s3.us-east-1.amazonaws.com/bucket-name-static?list-type=2&prefix=wp-contents%2Fuploads%2F&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f9a388e6610>, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'bucket-name-static'}}}\r\n2020-07-14 15:31:30,926 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f9a388e6550>>\r\n2020-07-14 15:31:30,926 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x7f9a5880ae60>\r\n2020-07-14 15:31:30,926 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f9a388e6e90>>\r\n2020-07-14 15:31:30,926 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-14 15:31:30,926 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.us-east-1.amazonaws.com/bucket-name-static?list-type=2&prefix=wp-contents%2Fuploads%2F&encoding-type=url\r\n2020-07-14 15:31:30,926 - MainThread - botocore.utils - DEBUG - URI updated to: https://bucket-name-static.s3.us-east-1.amazonaws.com/?list-type=2&prefix=wp-contents%2Fuploads%2F&encoding-type=url\r\n2020-07-14 15:31:30,926 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-14 15:31:30,926 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/\r\nencoding-type=url&list-type=2&prefix=wp-contents%2Fuploads%2F\r\nhost:bucket-name-static.s3.us-east-1.amazonaws.com\r\nx-amz-content-sha256:REMOVED\r\nx-amz-date:20200714T143130Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\nREMOVED\r\n2020-07-14 15:31:30,926 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200714T143130Z\r\n20200714/us-east-1/s3/aws4_request\r\nREMOVED\r\n2020-07-14 15:31:30,926 - MainThread - botocore.auth - DEBUG - Signature:\r\nREMOVED\r\n2020-07-14 15:31:30,927 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://bucket-name-static.s3.us-east-1.amazonaws.com/?list-type=2&prefix=wp-contents%2Fuploads%2F&encoding-type=url, headers={'User-Agent': b'aws-cli/2.0.30 Python/3.7.4 Darwin/19.4.0 botocore/2.0.0dev34', 'X-Amz-Date': b'20200714T143130Z', 'X-Amz-Content-SHA256': b'REMOVED', 'Authorization': b'AWS4-HMAC-SHA256 Credential=REMOVED/20200714/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=REMOVED'}>\r\n2020-07-14 15:31:30,927 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bucket-name-static.s3.us-east-1.amazonaws.com:443\r\n2020-07-14 15:31:31,399 - MainThread - urllib3.connectionpool - DEBUG - https://bucket-name-static.s3.us-east-1.amazonaws.com:443 \"GET /?list-type=2&prefix=wp-contents%2Fuploads%2F&encoding-type=url HTTP/1.1\" 200 None\r\n2020-07-14 15:31:31,400 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-id-2': 'REMOVED=', 'x-amz-request-id': 'REMOVED', 'Date': 'Tue, 14 Jul 2020 14:30:37 GMT', 'x-amz-bucket-region': 'us-east-1', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Server': 'AmazonS3'}\r\n2020-07-14 15:31:31,401 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<ListBucketResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Name>bucket-name-static</Name><Prefix>wp-contents/uploads/</Prefix><KeyCount>0</KeyCount><MaxKeys>1000</MaxKeys><EncodingType>url</EncodingType><IsTruncated>false</IsTruncated></ListBucketResult>'\r\n2020-07-14 15:31:31,401 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f9a388e6e10>>\r\n2020-07-14 15:31:31,401 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-14 15:31:31,401 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x7f9a388e6a90>>\r\n2020-07-14 15:31:31,401 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x7f9a5881c3b0>\r\n2020-07-14 15:31:31,401 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <function enhance_error_msg at 0x7f9a387440e0>\r\n2020-07-14 15:31:31,401 - MainThread - botocore.hooks - DEBUG - Event after-call.s3.ListObjectsV2: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x7f9a388e68d0>>\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5372", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5372/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5372/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5372/events", "html_url": "https://github.com/aws/aws-cli/issues/5372", "id": 656409976, "node_id": "MDU6SXNzdWU2NTY0MDk5NzY=", "number": 5372, "title": "Both --quite & --only-show-errors are not working for \"aws ecr describe-repositories\" command", "user": {"login": "bjethwan", "id": 5045325, "node_id": "MDQ6VXNlcjUwNDUzMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5045325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjethwan", "html_url": "https://github.com/bjethwan", "followers_url": "https://api.github.com/users/bjethwan/followers", "following_url": "https://api.github.com/users/bjethwan/following{/other_user}", "gists_url": "https://api.github.com/users/bjethwan/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjethwan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjethwan/subscriptions", "organizations_url": "https://api.github.com/users/bjethwan/orgs", "repos_url": "https://api.github.com/users/bjethwan/repos", "events_url": "https://api.github.com/users/bjethwan/events{/privacy}", "received_events_url": "https://api.github.com/users/bjethwan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2221264568, "node_id": "MDU6TGFiZWwyMjIxMjY0NTY4", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecr", "name": "ecr", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-14T07:57:49Z", "updated_at": "2020-07-22T16:52:59Z", "closed_at": "2020-07-22T16:52:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Both --quite & --only-show-errors are not working for \"aws ecr describe-repositories\" command.\r\n\r\naws --version\r\naws-cli/2.0.13 Python/3.7.3 Linux/5.3.0-1019-aws botocore/2.0.0dev17\r\n\r\nUbuntu 18.04  -- ec2", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5369", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5369/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5369/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5369/events", "html_url": "https://github.com/aws/aws-cli/issues/5369", "id": 654647624, "node_id": "MDU6SXNzdWU2NTQ2NDc2MjQ=", "number": 5369, "title": "aws s3 sync: inconsistent timestamp precision of Last-Modified and file mtime with Ceph's S3 implementation", "user": {"login": "moorglade", "id": 8457512, "node_id": "MDQ6VXNlcjg0NTc1MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8457512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moorglade", "html_url": "https://github.com/moorglade", "followers_url": "https://api.github.com/users/moorglade/followers", "following_url": "https://api.github.com/users/moorglade/following{/other_user}", "gists_url": "https://api.github.com/users/moorglade/gists{/gist_id}", "starred_url": "https://api.github.com/users/moorglade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moorglade/subscriptions", "organizations_url": "https://api.github.com/users/moorglade/orgs", "repos_url": "https://api.github.com/users/moorglade/repos", "events_url": "https://api.github.com/users/moorglade/events{/privacy}", "received_events_url": "https://api.github.com/users/moorglade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}, {"id": 1180550232, "node_id": "MDU6TGFiZWwxMTgwNTUwMjMy", "url": "https://api.github.com/repos/aws/aws-cli/labels/third-party", "name": "third-party", "color": "40C8B6", "default": false, "description": "This issue is related to third-party libraries or applications."}, {"id": 1180550238, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM4", "url": "https://api.github.com/repos/aws/aws-cli/labels/wontfix", "name": "wontfix", "color": "d85658", "default": true, "description": "We have determined that we will not resolve the issue."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-10T09:27:07Z", "updated_at": "2020-08-03T23:32:22Z", "closed_at": "2020-07-24T21:06:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI'm using *awscli* with a Ceph Object Gateway's S3 API endpoint (set with the `--endpoint-url` parameter).\r\n\r\nWhen syncing data with the following command, all objects are **always** downloaded, although they were **not** modified:\r\n\r\n```bash\r\naws --endpoint-url=https://my.s3.endpoint --exact-timestamps s3 sync s3://my-bucket/ /mnt/data/my-bucket/\r\n```\r\n\r\nIt seems to me that when setting the file modification time (*mtime*), *awscli* rounds the *Last-Modified* timestamp to whole seconds, but it does not do so when comparing *mtime* with *Last-Modified*, i.e. it compares the **whole** *Last-Modified* value with the previously **rounded** *mtime* value, so they are (almost) never equal and the objects are always downloaded.\r\n\r\nI have little experience with AWS, but the problem may stem from the fact that AWS's S3 implementation uses seconds precision for *Last-Modified*, while the Ceph's S3 implementation uses higher precision (e.g. milliseconds).\r\n\r\n**SDK version number**\r\n*awscli* 1.18.94\r\n*Python* 3.6.8\r\n\r\n**Platform/OS/Hardware/Device**\r\n*CentOS* 7.8.2003\r\n*Ceph* 14.2.8\r\n\r\n**To Reproduce (observed behavior)**\r\nRun `aws --exact-timestamps s3 sync` from S3 bucket to a local directory **twice**, using a Ceph's S3 endpoint.\r\n\r\n**Expected behavior**\r\nOn the second *sync* execution, no objects should be re-downloaded.\r\n\r\n**Logs/output**\r\nThis log fragment seem to show the different precision used for modification times:\r\n\r\n```\r\nMainThread - awscli.customizations.s3.syncstrategy.base - DEBUG - syncing:\r\n  my-bucket/my-object -> /mnt/data/my-bucket/my-object,\r\n  size: 598129502 -> 598129502,\r\n  modified time: 2020-07-02 08:34:53.609000+00:00 -> 2020-07-02 08:34:53+00:00\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5367", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5367/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5367/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5367/events", "html_url": "https://github.com/aws/aws-cli/issues/5367", "id": 654416779, "node_id": "MDU6SXNzdWU2NTQ0MTY3Nzk=", "number": 5367, "title": "Lambda update-function-code not working ", "user": {"login": "Leoputera2407", "id": 33604451, "node_id": "MDQ6VXNlcjMzNjA0NDUx", "avatar_url": "https://avatars0.githubusercontent.com/u/33604451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Leoputera2407", "html_url": "https://github.com/Leoputera2407", "followers_url": "https://api.github.com/users/Leoputera2407/followers", "following_url": "https://api.github.com/users/Leoputera2407/following{/other_user}", "gists_url": "https://api.github.com/users/Leoputera2407/gists{/gist_id}", "starred_url": "https://api.github.com/users/Leoputera2407/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Leoputera2407/subscriptions", "organizations_url": "https://api.github.com/users/Leoputera2407/orgs", "repos_url": "https://api.github.com/users/Leoputera2407/repos", "events_url": "https://api.github.com/users/Leoputera2407/events{/privacy}", "received_events_url": "https://api.github.com/users/Leoputera2407/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-07-09T23:54:16Z", "updated_at": "2020-07-31T17:06:57Z", "closed_at": "2020-07-31T17:06:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI was trying to push new code for my lambda function using aws-cli on AWS Linux 2 EC2 instance. \r\nRan this code \r\naws lambda update-function-code --function-name <fn_name> --zip-file fileb://function.zip\r\nBut, it returns no output and lambda code wasn't updated. \r\n\r\n**SDK version number**\r\naws-cli/1.18.13 Python/2.7.18 Linux/4.14.181-108.257.amzn1.x86_64 botocore/1.15.13\r\n\r\n**Platform/OS/Hardware/Device**\r\nAWS Linux 2 (EC2) on a MacOs Catalina Version 10.15.5\r\n\r\n**Expected behavior**\r\nExpected the command to output a report on which lambda function was updated and that the lambda function was updated.\r\n\r\n**Logs/output**\r\n\r\n2020-07-09 23:48:34,953 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.18.13 Python/2.7.18 Linux/4.14.181-108.257.amzn1.x86_64 botocore/1.15.13\r\n2020-07-09 23:48:34,953 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['lambda', 'update-function-code', '--function-name', '<fn_name>', '--zip-file', 'fileb://function.zip', '--debug']\r\n2020-07-09 23:48:34,953 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7fd04cdf9f50>\r\n2020-07-09 23:48:34,953 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7fd04dc53350>\r\n2020-07-09 23:48:34,954 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7fd04dc776d0>\r\n2020-07-09 23:48:34,955 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7fd04d1964d0>\r\n2020-07-09 23:48:34,958 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python2.7/dist-packages/botocore/data/lambda/2015-03-31/service-2.json\r\n2020-07-09 23:48:34,978 - MainThread - botocore.hooks - DEBUG - Event building-command-table.lambda: calling handler <function add_waiters at 0x7fd04ce1cd50>\r\n2020-07-09 23:48:34,985 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python2.7/dist-packages/botocore/data/lambda/2015-03-31/waiters-2.json\r\n2020-07-09 23:48:34,987 - MainThread - awscli.clidriver - DEBUG - OrderedDict([(u'function-name', <awscli.arguments.CLIArgument object at 0x7fd04ca65c90>), (u'zip-file', <awscli.arguments.CLIArgument object at 0x7fd04ca65b50>), (u's3-bucket', <awscli.arguments.CLIArgument object at 0x7fd04ca65e10>), (u's3-key', <awscli.arguments.CLIArgument object at 0x7fd04ca65e50>), (u's3-object-version', <awscli.arguments.CLIArgument object at 0x7fd04ca65ed0>), (u'publish', <awscli.arguments.BooleanArgument object at 0x7fd04ca65e90>), (u'no-publish', <awscli.arguments.BooleanArgument object at 0x7fd04ca65f10>), (u'dry-run', <awscli.arguments.BooleanArgument object at 0x7fd04ca65f50>), (u'no-dry-run', <awscli.arguments.BooleanArgument object at 0x7fd04ca65f90>), (u'revision-id', <awscli.arguments.CLIArgument object at 0x7fd04ca65fd0>)])\r\n2020-07-09 23:48:34,988 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.lambda.update-function-code: calling handler <function add_streaming_output_arg at 0x7fd04ce147d0>\r\n2020-07-09 23:48:34,988 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.lambda.update-function-code: calling handler <function _modify_zipfile_docstring at 0x7fd04dc77f50>\r\n2020-07-09 23:48:34,988 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.lambda.update-function-code: calling handler <function add_cli_input_json at 0x7fd04dc7cbd0>\r\n2020-07-09 23:48:34,988 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.lambda.update-function-code: calling handler <function unify_paging_params at 0x7fd051cffc50>\r\n2020-07-09 23:48:34,994 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python2.7/dist-packages/botocore/data/lambda/2015-03-31/paginators-1.json\r\n2020-07-09 23:48:34,995 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.lambda.update-function-code: calling handler <function add_generate_skeleton at 0x7fd051ce1050>\r\n2020-07-09 23:48:34,995 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.lambda.update-function-code: calling handler <bound method CliInputJSONArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7fd04ca65a10>>\r\n2020-07-09 23:48:34,995 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.lambda.update-function-code: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd04ca6d390>>\r\n2020-07-09 23:48:34,997 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.function-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:34,997 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.lambda.update-function-code: calling handler <function validate_is_zip_file at 0x7fd04dc77ed0>\r\n2020-07-09 23:48:34,997 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.lambda.update-function-code: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fd04dc4dbd0>\r\n2020-07-09 23:48:34,998 - MainThread - awscli.arguments - DEBUG - Unpacked value of u'arn:aws:lambda:us-west-2:311569361338:function:hanif_test_lex' for parameter \"function_name\": u'arn:aws:lambda:us-west-2:311569361338:function:hanif_test_lex'\r\n2020-07-09 23:48:34,998 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.zip-file: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:35,139 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.lambda.update-function-code: calling handler <function validate_is_zip_file at 0x7fd04dc77ed0>\r\n2020-07-09 23:48:35,184 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.lambda.update-function-code: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7fd04dc4dbd0>\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/logging/__init__.py\", line 868, in emit\r\n    msg = self.format(record)\r\n  File \"/usr/lib64/python2.7/logging/__init__.py\", line 741, in format\r\n    return fmt.format(record)\r\n  File \"/usr/lib64/python2.7/logging/__init__.py\", line 465, in format\r\n    record.message = record.getMessage()\r\n  File \"/usr/lib64/python2.7/logging/__init__.py\", line 329, in getMessage\r\n    msg = msg % self.args\r\nMemoryError\r\nLogged from file arguments.py, line 455\r\n2020-07-09 23:48:42,061 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.s3-bucket: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,065 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.s3-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,065 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.s3-object-version: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,065 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.publish: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,066 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.dry-run: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,066 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.revision-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,066 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,067 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.lambda.update-function-code.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7fd04ccc5bd0>\r\n2020-07-09 23:48:42,067 - MainThread - botocore.hooks - DEBUG - Event calling-command.lambda.update-function-code: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7fd04ca65a10>>\r\n2020-07-09 23:48:42,067 - MainThread - botocore.hooks - DEBUG - Event calling-command.lambda.update-function-code: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7fd04ca6d390>>\r\n2020-07-09 23:48:42,067 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-09 23:48:42,067 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-09 23:48:42,068 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-09 23:48:42,068 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-09 23:48:42,070 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-09 23:48:42,078 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python2.7/dist-packages/botocore/data/endpoints.json\r\n2020-07-09 23:48:42,139 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fd04f6f5650>\r\n2020-07-09 23:48:42,141 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.lambda: calling handler <function add_generate_presigned_url at 0x7fd04f783ad0>\r\n2020-07-09 23:48:42,147 - MainThread - botocore.endpoint - DEBUG - Setting lambda timeout as (60, 60)\r\n2020-07-09 23:49:08,280 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-09 23:49:08,280 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-09 23:49:08,280 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-09 23:49:08,282 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-09 23:49:08,291 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python2.7/dist-packages/botocore/data/endpoints.json\r\n2020-07-09 23:49:08,350 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f17075d0650>\r\n2020-07-09 23:49:08,353 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.lambda: calling handler <function add_generate_presigned_url at 0x7f170765ead0>\r\n2020-07-09 23:49:08,381 - MainThread - botocore.endpoint - DEBUG - Setting lambda timeout as (60, 60)\r\n2020-07-09 23:49:08,454 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python2.7/dist-packages/botocore/data/_retry.json\r\n2020-07-09 23:49:08,456 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: lambda\r\n2020-07-09 23:49:08,457 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.lambda.UpdateFunctionCode: calling handler <function generate_idempotent_uuid at 0x7f17075d3550>\r\n2020-07-09 23:49:09,370 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 530, in __call__\r\n    call_parameters, parsed_globals)\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 650, in invoke\r\n    client, operation_name, parameters, parsed_globals)\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 662, in _make_client_call\r\n    **parameters)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/client.py\", line 599, in _make_api_call\r\n    api_params, operation_model, context=request_context)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/client.py\", line 647, in _convert_to_request_dict\r\n    api_params, operation_model)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/validate.py\", line 299, in serialize_to_request\r\n    operation_model)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/serialize.py\", line 457, in serialize_to_request\r\n    serialized, shape, shape_members)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/serialize.py\", line 507, in _serialize_payload\r\n    partitioned['body_kwargs'], shape)\r\n  File \"/usr/lib/python2.7/dist-packages/botocore/serialize.py\", line 586, in _serialize_body_params\r\n    return json.dumps(serialized_body).encode(self.DEFAULT_ENCODING)\r\nMemoryError\r\n2020-07-09 23:49:09,375 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5365", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5365/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5365/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5365/events", "html_url": "https://github.com/aws/aws-cli/issues/5365", "id": 654384583, "node_id": "MDU6SXNzdWU2NTQzODQ1ODM=", "number": 5365, "title": "What are the correct arguments to create an AWS aurora postgres instance using the AWS CLI?", "user": {"login": "docktermj", "id": 9219602, "node_id": "MDQ6VXNlcjkyMTk2MDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/9219602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/docktermj", "html_url": "https://github.com/docktermj", "followers_url": "https://api.github.com/users/docktermj/followers", "following_url": "https://api.github.com/users/docktermj/following{/other_user}", "gists_url": "https://api.github.com/users/docktermj/gists{/gist_id}", "starred_url": "https://api.github.com/users/docktermj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/docktermj/subscriptions", "organizations_url": "https://api.github.com/users/docktermj/orgs", "repos_url": "https://api.github.com/users/docktermj/repos", "events_url": "https://api.github.com/users/docktermj/events{/privacy}", "received_events_url": "https://api.github.com/users/docktermj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 22895245, "node_id": "MDU6TGFiZWwyMjg5NTI0NQ==", "url": "https://api.github.com/repos/aws/aws-cli/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-07-09T22:24:32Z", "updated_at": "2020-07-28T21:06:57Z", "closed_at": "2020-07-28T21:06:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a working example of the following?\r\n\r\n```console\r\naws rds create-db-instance \\\r\n    --engine aurora-postgresql \\\r\n    :\r\n```\r\n\r\nhttps://docs.aws.amazon.com/cli/latest/reference/rds/create-db-instance.html doesn't address the permutations of command-line options needed for `aurora-postgres`\r\n\r\nIt seems that others can't figure out how to use the AWS CLI to deploy an AWS Aurora-PostgreSQL:\r\n\r\n1. https://stackoverflow.com/questions/58066941/what-are-the-correct-arguments-to-create-an-aws-aurora-postgres-instance-using-t\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5363", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5363/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5363/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5363/events", "html_url": "https://github.com/aws/aws-cli/issues/5363", "id": 654222289, "node_id": "MDU6SXNzdWU2NTQyMjIyODk=", "number": 5363, "title": "`aws cloudformation package` does bad things with all-digit strings with a leading `0` (yaml)", "user": {"login": "stilvoid", "id": 482239, "node_id": "MDQ6VXNlcjQ4MjIzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/482239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stilvoid", "html_url": "https://github.com/stilvoid", "followers_url": "https://api.github.com/users/stilvoid/followers", "following_url": "https://api.github.com/users/stilvoid/following{/other_user}", "gists_url": "https://api.github.com/users/stilvoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/stilvoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stilvoid/subscriptions", "organizations_url": "https://api.github.com/users/stilvoid/orgs", "repos_url": "https://api.github.com/users/stilvoid/repos", "events_url": "https://api.github.com/users/stilvoid/events{/privacy}", "received_events_url": "https://api.github.com/users/stilvoid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T17:16:56Z", "updated_at": "2020-07-21T18:07:08Z", "closed_at": "2020-07-21T18:07:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nTaking the following template:\r\n\r\n```yaml\r\nAWSTemplateFormatVersion: '2010-09-09'\r\n\r\nParameters:\r\n  Account:\r\n    Default: 012345678901\r\n    Type: String\r\n\r\nResources:\r\n  Bucket:\r\n    Type: AWS::S3::Bucket\r\n    Properties:\r\n      BucketName: !Sub \"bucket-${Account}\"\r\n```\r\n\r\nand running `aws cloudformation package --template-file in.template --output-template out.template --s3-bucket <a-bucket>`, I see the following output in `out.template`\r\n\r\n```yaml\r\nAWSTemplateFormatVersion: '2010-09-09'\r\nParameters:\r\n  Account:\r\n    Default: 12345678901\r\n    Type: String\r\nResources:\r\n  Bucket:\r\n    Type: AWS::S3::Bucket\r\n    Properties:\r\n      BucketName:\r\n        Fn::Sub: bucket-${Account}\r\n```\r\n\r\nYou can see the default value of the `Account` parameter is incorrect. This is annoyingly frequent bug in anything that parses YAML. As of YAML 1.2, such values should always be interpreted as strings but many parsers aren't up to date or just plain get it wrong.\r\n\r\n**SDK version number**\r\n\r\nbotocore/2.0.0dev30\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nLinux/5.7.4-arch1-1\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n\r\nSee above :)\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n*Any* value that is comprised entirely of digits and has a leading zero should be treated as a string\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\nN/A\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n\r\nReported in https://github.com/aws-cloudformation/rain/issues/27", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5362", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5362/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5362/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5362/events", "html_url": "https://github.com/aws/aws-cli/issues/5362", "id": 654169398, "node_id": "MDU6SXNzdWU2NTQxNjkzOTg=", "number": 5362, "title": "how to create instance from either snapshot or non-empty volume", "user": {"login": "alexeyshishkin01", "id": 28735514, "node_id": "MDQ6VXNlcjI4NzM1NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/28735514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeyshishkin01", "html_url": "https://github.com/alexeyshishkin01", "followers_url": "https://api.github.com/users/alexeyshishkin01/followers", "following_url": "https://api.github.com/users/alexeyshishkin01/following{/other_user}", "gists_url": "https://api.github.com/users/alexeyshishkin01/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeyshishkin01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeyshishkin01/subscriptions", "organizations_url": "https://api.github.com/users/alexeyshishkin01/orgs", "repos_url": "https://api.github.com/users/alexeyshishkin01/repos", "events_url": "https://api.github.com/users/alexeyshishkin01/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeyshishkin01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-09T15:52:25Z", "updated_at": "2020-07-20T15:07:15Z", "closed_at": "2020-07-20T15:07:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nroot@Alexey-HP:~# aws --version\r\naws-cli/2.0.29 Python/3.7.3 Linux/4.4.0-19041-Microsoft botocore/2.0.0dev33\r\n\r\n**Describe the question**\r\nHow to create instance from either snapshot or non-empty volume ?\r\nSounds like an easy question and it's really easy in GCP.\r\nBut with AWS almost every single easy question is like a quest for me.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5361", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5361/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5361/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5361/events", "html_url": "https://github.com/aws/aws-cli/issues/5361", "id": 654094839, "node_id": "MDU6SXNzdWU2NTQwOTQ4Mzk=", "number": 5361, "title": "easy way to stop/start instance", "user": {"login": "alexeyshishkin01", "id": 28735514, "node_id": "MDQ6VXNlcjI4NzM1NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/28735514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeyshishkin01", "html_url": "https://github.com/alexeyshishkin01", "followers_url": "https://api.github.com/users/alexeyshishkin01/followers", "following_url": "https://api.github.com/users/alexeyshishkin01/following{/other_user}", "gists_url": "https://api.github.com/users/alexeyshishkin01/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeyshishkin01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeyshishkin01/subscriptions", "organizations_url": "https://api.github.com/users/alexeyshishkin01/orgs", "repos_url": "https://api.github.com/users/alexeyshishkin01/repos", "events_url": "https://api.github.com/users/alexeyshishkin01/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeyshishkin01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-09T14:14:06Z", "updated_at": "2020-07-14T17:58:53Z", "closed_at": "2020-07-14T17:58:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nroot@Alexey-HP:~# aws --version\r\naws-cli/2.0.29 Python/3.7.3 Linux/4.4.0-19041-Microsoft botocore/2.0.0dev33\r\n\r\n**Describe the question**\r\nI need to stop/start instance.\r\nAccording to https://docs.aws.amazon.com/cli/latest/reference/ec2/stop-instances.html#examples I need its 'instance-ids'.\r\n\r\nHow to find out 'instance-ids' of particular instance ?\r\n\r\nFor example, I have 5 instances - test1/test2/test3/test4/test5\r\n\r\nIn GCP I would run 'gcloud compute instances stop test1/2/3/4/5' - it's really easy-logical-user-friendly.\r\n\r\nIs it possible to to the same in AWS ? Say, I have 5 instances as well.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5360", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5360/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5360/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5360/events", "html_url": "https://github.com/aws/aws-cli/issues/5360", "id": 654087502, "node_id": "MDU6SXNzdWU2NTQwODc1MDI=", "number": 5360, "title": "how to create VM instance with specific hostname", "user": {"login": "alexeyshishkin01", "id": 28735514, "node_id": "MDQ6VXNlcjI4NzM1NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/28735514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeyshishkin01", "html_url": "https://github.com/alexeyshishkin01", "followers_url": "https://api.github.com/users/alexeyshishkin01/followers", "following_url": "https://api.github.com/users/alexeyshishkin01/following{/other_user}", "gists_url": "https://api.github.com/users/alexeyshishkin01/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeyshishkin01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeyshishkin01/subscriptions", "organizations_url": "https://api.github.com/users/alexeyshishkin01/orgs", "repos_url": "https://api.github.com/users/alexeyshishkin01/repos", "events_url": "https://api.github.com/users/alexeyshishkin01/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeyshishkin01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-09T14:04:29Z", "updated_at": "2020-07-14T20:54:36Z", "closed_at": "2020-07-14T20:54:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nroot@Alexey-HP:~# aws --version\r\naws-cli/2.0.29 Python/3.7.3 Linux/4.4.0-19041-Microsoft botocore/2.0.0dev33\r\n\r\n**Describe the question**\r\nI need to create VM instance with specific hostname, say 'test-01', so that OS-command 'hostname' output is 'test-01'.\r\nHow to do that ?\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5357", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5357/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5357/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5357/events", "html_url": "https://github.com/aws/aws-cli/issues/5357", "id": 653614268, "node_id": "MDU6SXNzdWU2NTM2MTQyNjg=", "number": 5357, "title": "how to specify instance name via env variable", "user": {"login": "alexeyshishkin01", "id": 28735514, "node_id": "MDQ6VXNlcjI4NzM1NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/28735514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeyshishkin01", "html_url": "https://github.com/alexeyshishkin01", "followers_url": "https://api.github.com/users/alexeyshishkin01/followers", "following_url": "https://api.github.com/users/alexeyshishkin01/following{/other_user}", "gists_url": "https://api.github.com/users/alexeyshishkin01/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeyshishkin01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeyshishkin01/subscriptions", "organizations_url": "https://api.github.com/users/alexeyshishkin01/orgs", "repos_url": "https://api.github.com/users/alexeyshishkin01/repos", "events_url": "https://api.github.com/users/alexeyshishkin01/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeyshishkin01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-08T21:40:01Z", "updated_at": "2020-07-10T17:21:15Z", "closed_at": "2020-07-10T17:19:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nroot@Alexey-HP:~# aws --version\r\naws-cli/2.0.27 Python/3.7.3 Linux/4.4.0-19041-Microsoft botocore/2.0.0dev31\r\n\r\n**Describe the question**\r\n\r\nI need to specify instance name during its creation.\r\nI do it this way (it's really odd to have such complexity, but it is what it is):\r\n\r\naws ec2 run-instances \\\r\n--image-id ami-026f0eb2e8006617d \\\r\n--instance-type t3.micro \\\r\n--key-name aws.pub \\\r\n--associate-public-ip-address \\\r\n--tag-specifications \\\r\n'ResourceType=instance,Tags=[{Key=Name,Value=INSTANCE_NAME}]' \\\r\n'ResourceType=volume,Tags=[{Key=Name,Value=INSTANCE_NAME-prepare-osdisk}]'\r\n\r\nBut how to specify instances name via env variable, ex.: via $INSTANCE_NAME\r\n\r\nINSTANCE_NAME=aws_alibaba\r\necho $INSTANCE_NAME\r\n\r\n?\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5356", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5356/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5356/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5356/events", "html_url": "https://github.com/aws/aws-cli/issues/5356", "id": 653521249, "node_id": "MDU6SXNzdWU2NTM1MjEyNDk=", "number": 5356, "title": "All .club domain checks returning UNAVAILABLE", "user": {"login": "stephenskinner", "id": 23322170, "node_id": "MDQ6VXNlcjIzMzIyMTcw", "avatar_url": "https://avatars2.githubusercontent.com/u/23322170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephenskinner", "html_url": "https://github.com/stephenskinner", "followers_url": "https://api.github.com/users/stephenskinner/followers", "following_url": "https://api.github.com/users/stephenskinner/following{/other_user}", "gists_url": "https://api.github.com/users/stephenskinner/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephenskinner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephenskinner/subscriptions", "organizations_url": "https://api.github.com/users/stephenskinner/orgs", "repos_url": "https://api.github.com/users/stephenskinner/repos", "events_url": "https://api.github.com/users/stephenskinner/events{/privacy}", "received_events_url": "https://api.github.com/users/stephenskinner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-08T18:53:47Z", "updated_at": "2020-07-10T23:45:58Z", "closed_at": "2020-07-10T23:45:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nAWS CLI is returning \"UNAVAILABLE\" when checking all .club domains. The web UI is also returning UNAVAILABLE, so I'm presuming the AWS .club domain checking service is down. Using godaddy domain checker shows the domain as available.\r\n\r\n**SDK version number**\r\naws-cli/2.0.28\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nPython/3.7.3 Linux/5.4.0-40-generic botocore/2.0.0dev32\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\nRun the cli with any .club domain name:\r\naws route53domains check-domain-availability --region us-east-1 --domain-name fdsfdlsfjkdlsf.club\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nThere should be an error message or a different status, as UNAVAILABLE should be reserved for when the domain name is already registered. DONT_KNOW should probably be returned.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n[route53debug.txt](https://github.com/aws/aws-cli/files/4892669/route53debug.txt)\r\n\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5353", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5353/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5353/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5353/events", "html_url": "https://github.com/aws/aws-cli/issues/5353", "id": 653386683, "node_id": "MDU6SXNzdWU2NTMzODY2ODM=", "number": 5353, "title": "aws s3 sync suddenly stopped working, lots of python errors ", "user": {"login": "guiquintelas", "id": 29166076, "node_id": "MDQ6VXNlcjI5MTY2MDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/29166076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guiquintelas", "html_url": "https://github.com/guiquintelas", "followers_url": "https://api.github.com/users/guiquintelas/followers", "following_url": "https://api.github.com/users/guiquintelas/following{/other_user}", "gists_url": "https://api.github.com/users/guiquintelas/gists{/gist_id}", "starred_url": "https://api.github.com/users/guiquintelas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guiquintelas/subscriptions", "organizations_url": "https://api.github.com/users/guiquintelas/orgs", "repos_url": "https://api.github.com/users/guiquintelas/repos", "events_url": "https://api.github.com/users/guiquintelas/events{/privacy}", "received_events_url": "https://api.github.com/users/guiquintelas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-07-08T15:22:29Z", "updated_at": "2020-07-09T18:19:40Z", "closed_at": "2020-07-09T18:19:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nCli `aws s3 sync` command simply not working, \r\n\r\n**SDK version number**\r\naws-cli/2.0.24 Python/3.7.7 Windows/10 botocore/2.0.0dev28\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows 10 Pro - 10.0.18363 Build 18363\r\n\r\n**To Reproduce (observed behavior)**\r\nRun the `aws s3 sync` comamnd\r\n\r\n**Expected behavior**\r\nSuccessfully upload files to specified s3 bucket \r\n\r\n**Logs/output**\r\n```\r\n aws s3 sync --debug --acl public-read --delete code-front/dist/ s3://agilti.com\r\n2020-07-08 12:02:53,073 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.24 Python/3.7.7 Windows/10 botocore/2.0.0dev28\r\n2020-07-08 12:02:53,073 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'sync', '--debug', '--acl', 'public-read', '--delete', 'code-front/dist/', 's3://agilti.com']\r\n2020-07-08 12:02:53,073 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x0000028354474678>\r\n2020-07-08 12:02:53,074 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x0000028353424EE8>\r\n2020-07-08 12:02:53,074 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x00000283544C2168>\r\n2020-07-08 12:02:53,075 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x0000028353482AF8>\r\n2020-07-08 12:02:53,078 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x0000028353B2DEE8>\r\n2020-07-08 12:02:53,078 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x0000028353AD5E58>\r\n2020-07-08 12:02:53,079 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x0000028354483168> 2020-07-08 12:02:53,080 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,080 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sync: calling handler <function register_sync_strategies at 0x0000028354470AF8>\r\n2020-07-08 12:02:53,081 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sync: calling handler <function add_waiters at 0x0000028354483168>\r\n2020-07-08 12:02:53,081 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x000002835455C5C8>>\r\n2020-07-08 12:02:53,082 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x000002835455C9C8>>\r\n2020-07-08 12:02:53,082 - MainThread - botocore.hooks - DEBUG - Event building-arg-table.sync: calling handler <bound method BaseSync.add_sync_argument of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x000002835455C748>>\r\n2020-07-08 12:02:53,084 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,085 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.dryrun: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,085 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.quiet: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,086 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,086 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,087 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.acl: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,087 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,088 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.follow-symlinks: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,088 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,088 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,089 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,090 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-kms-key-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,091 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-copy-source: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,091 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.sse-c-copy-source-key: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,092 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.storage-class: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,092 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.grants: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,093 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.website-redirect: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,093 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-type: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,093 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.cache-control: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,094 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-disposition: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,094 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-encoding: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,095 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.content-language: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,096 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.expires: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,096 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.source-region: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,097 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.only-show-errors: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,097 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,098 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,098 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,098 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.ignore-glacier-warnings: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,099 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,099 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.force-glacier-transfer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,100 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,100 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,101 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.metadata: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,101 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.copy-props: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,102 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,102 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.metadata-directive: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,102 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.size-only: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,103 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,103 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.exact-timestamps: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,103 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,104 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sync.delete: calling handler <awscli.paramfile.URIArgumentHandler object at 0x000002835277A108>\r\n2020-07-08 12:02:53,104 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.sync: calling handler <awscli.argprocess.ParamShorthandParser object at 0x00000283539C2AC8>\r\n2020-07-08 12:02:53,106 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 169.254.169.254:80\r\n2020-07-08 12:02:53,107 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 160, in _new_conn\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 84, in create_connection\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 74, in create_connection\r\nOSError: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 263, in send\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 725, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\util\\retry.py\", line 379, in increment\r\n  File \"lib\\site-packages\\urllib3\\packages\\six.py\", line 735, in reraise\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 677, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 392, in _make_request\r\n  File \"http\\client.py\", line 1252, in request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 92, in _send_request\r\n  File \"http\\client.py\", line 1298, in _send_request\r\n  File \"http\\client.py\", line 1247, in endheaders\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 119, in _send_output\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 203, in send\r\n  File \"http\\client.py\", line 966, in send\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 187, in connect\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 172, in _new_conn\r\nurllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x00000283545746C8>: Failed to establish a new connection: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\utils.py\", line 223, in _fetch_metadata_token\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 283, in send\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\n2020-07-08 12:02:53,114 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (2): 169.254.169.254:80\r\n2020-07-08 12:02:53,124 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/meta-data/placement/availability-zone/: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 160, in _new_conn\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 84, in create_connection\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 74, in create_connection\r\nOSError: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 263, in send\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 725, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\util\\retry.py\", line 379, in increment\r\n  File \"lib\\site-packages\\urllib3\\packages\\six.py\", line 735, in reraise\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 677, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 392, in _make_request\r\n  File \"http\\client.py\", line 1252, in request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 92, in _send_request\r\n  File \"http\\client.py\", line 1298, in _send_request\r\n  File \"http\\client.py\", line 1247, in endheaders\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 119, in _send_output\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 203, in send\r\n  File \"http\\client.py\", line 966, in send\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 187, in connect\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 172, in _new_conn\r\nurllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x000002835456E288>: Failed to establish a new connection: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\utils.py\", line 266, in _get_request\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 283, in send\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n2020-07-08 12:02:53,131 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-08 12:02:53,131 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-08 12:02:53,131 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-08 12:02:53,132 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-08 12:02:53,132 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-07-08 12:02:53,132 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-08 12:02:53,133 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-08 12:02:53,134 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\endpoints.json\r\n2020-07-08 12:02:53,139 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x00000283530A7288>\r\n2020-07-08 12:02:53,168 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\s3\\2006-03-01\\service-2.json\r\n2020-07-08 12:02:53,176 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x0000028353057948>\r\n2020-07-08 12:02:53,177 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x0000028353057708>\r\n2020-07-08 12:02:53,182 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-08 12:02:53,184 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (3): 169.254.169.254:80\r\n2020-07-08 12:02:53,194 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 160, in _new_conn\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 84, in create_connection\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 74, in create_connection\r\nOSError: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 263, in send\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 725, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\util\\retry.py\", line 379, in increment\r\n  File \"lib\\site-packages\\urllib3\\packages\\six.py\", line 735, in reraise\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 677, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 392, in _make_request\r\n  File \"http\\client.py\", line 1252, in request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 92, in _send_request\r\n  File \"http\\client.py\", line 1298, in _send_request\r\n  File \"http\\client.py\", line 1247, in endheaders\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 119, in _send_output\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 203, in send\r\n  File \"http\\client.py\", line 966, in send\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 187, in connect\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 172, in _new_conn\r\nurllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x0000028354FF29C8>: Failed to establish a new connection: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\utils.py\", line 223, in _fetch_metadata_token\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 283, in send\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\n2020-07-08 12:02:53,200 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (4): 169.254.169.254:80\r\n2020-07-08 12:02:53,212 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/meta-data/placement/availability-zone/: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 160, in _new_conn\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 84, in create_connection\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 74, in create_connection\r\nOSError: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 263, in send\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 725, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\util\\retry.py\", line 379, in increment\r\n  File \"lib\\site-packages\\urllib3\\packages\\six.py\", line 735, in reraise\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 677, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 392, in _make_request\r\n  File \"http\\client.py\", line 1252, in request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 92, in _send_request\r\n  File \"http\\client.py\", line 1298, in _send_request\r\n  File \"http\\client.py\", line 1247, in endheaders\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 119, in _send_output\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 203, in send\r\n  File \"http\\client.py\", line 966, in send\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 187, in connect\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 172, in _new_conn\r\nurllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x0000028354FFB608>: Failed to establish a new connection: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\utils.py\", line 266, in _get_request\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 283, in send\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n2020-07-08 12:02:53,219 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-08 12:02:53,219 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x00000283530A7288>\r\n2020-07-08 12:02:53,220 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x0000028353057948>\r\n2020-07-08 12:02:53,221 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x0000028353057708>\r\n2020-07-08 12:02:53,224 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-08 12:02:53,225 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (5): 169.254.169.254:80\r\n2020-07-08 12:02:53,235 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 160, in _new_conn\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 84, in create_connection\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 74, in create_connection\r\nOSError: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 263, in send\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 725, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\util\\retry.py\", line 379, in increment\r\n  File \"lib\\site-packages\\urllib3\\packages\\six.py\", line 735, in reraise\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 677, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 392, in _make_request\r\n  File \"http\\client.py\", line 1252, in request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 92, in _send_request\r\n  File \"http\\client.py\", line 1298, in _send_request\r\n  File \"http\\client.py\", line 1247, in endheaders\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 119, in _send_output\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 203, in send\r\n  File \"http\\client.py\", line 966, in send\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 187, in connect\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 172, in _new_conn\r\nurllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x000002835505A588>: Failed to establish a new connection: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\utils.py\", line 223, in _fetch_metadata_token\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 283, in send\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\n2020-07-08 12:02:53,242 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTP connection (6): 169.254.169.254:80\r\n2020-07-08 12:02:53,243 - MainThread - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/meta-data/placement/availability-zone/: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 160, in _new_conn\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 84, in create_connection\r\n  File \"lib\\site-packages\\urllib3\\util\\connection.py\", line 74, in create_connection\r\nOSError: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 263, in send\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 725, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\util\\retry.py\", line 379, in increment\r\n  File \"lib\\site-packages\\urllib3\\packages\\six.py\", line 735, in reraise\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 677, in urlopen\r\n  File \"lib\\site-packages\\urllib3\\connectionpool.py\", line 392, in _make_request\r\n  File \"http\\client.py\", line 1252, in request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 92, in _send_request\r\n  File \"http\\client.py\", line 1298, in _send_request\r\n  File \"http\\client.py\", line 1247, in endheaders\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 119, in _send_output\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 203, in send\r\n  File \"http\\client.py\", line 966, in send\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 187, in connect\r\n  File \"lib\\site-packages\\urllib3\\connection.py\", line 172, in _new_conn\r\nurllib3.exceptions.NewConnectionError: <botocore.awsrequest.AWSHTTPConnection object at 0x000002835505E048>: Failed to establish a new connection: [WinError 10051] A socket operation was attempted to an unreachable network\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\utils.py\", line 266, in _get_request\r\n  File \"lib\\site-packages\\botocore\\httpsession.py\", line 283, in send\r\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"http://169.254.169.254/latest/meta-data/placement/availability-zone/\"\r\n2020-07-08 12:02:53,250 - MainThread - awscli.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-07-08 12:02:53,250 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x00000283530A7288>\r\n2020-07-08 12:02:53,252 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x0000028353057948>\r\n2020-07-08 12:02:53,252 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x0000028353057708>\r\n2020-07-08 12:02:53,255 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-07-08 12:02:53,256 - MainThread - awscli.customizations.s3.s3handler - DEBUG - Using a multipart threshold of 8388608 and a part size of 8388608\r\n2020-07-08 12:02:53,257 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.sizeonly.SizeOnlySync object at 0x000002835455C5C8>>\r\n2020-07-08 12:02:53,257 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.exacttimestamps.ExactTimestampsSync object at 0x000002835455C9C8>>\r\n2020-07-08 12:02:53,257 - MainThread - botocore.hooks - DEBUG - Event choosing-s3-sync-strategy: calling handler <bound method BaseSync.use_sync_strategy of <awscli.customizations.s3.syncstrategy.delete.DeleteSync object at 0x000002835455C748>>\r\n2020-07-08 12:02:53,291 - MainThread - botocore.loaders - DEBUG - Loading JSON file: C:\\Program Files\\Amazon\\AWSCLIV2\\botocore\\data\\s3\\2006-03-01\\paginators-1.json\r\n2020-07-08 12:02:53,292 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.s3.ListObjectsV2: calling handler <function base64_decode_input_blobs at 0x00000283544C21F8>\r\n2020-07-08 12:02:53,293 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x00000283530AD3A8>\r\n2020-07-08 12:02:53,293 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x00000283530A80D8>\r\n2020-07-08 12:02:53,293 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x0000028355055788>>\r\n2020-07-08 12:02:53,294 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x0000028355055E08>>\r\n2020-07-08 12:02:53,294 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x00000283530AAEE8>\r\n2020-07-08 12:02:53,295 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x00000283530A8438>\r\n2020-07-08 12:02:53,295 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x0000028355055788>>\r\n2020-07-08 12:02:53,295 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x00000283530AD798>\r\n2020-07-08 12:02:53,296 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '/agilti.com?list-type=2', 'query_string': {'prefix': '', 'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.24 Python/3.7.7 Windows/10 botocore/2.0.0dev28'}, 'body': b'', 'url': 'https://s3.amazonaws.com/agilti.com?list-type=2&prefix=&encoding-type=url', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x00000283550551C8>, 'has_streaming_input': False, 'auth_type': None, 'encoding_type_auto_set': True, 'signing': {'bucket': 'agilti.com'}}}\r\n2020-07-08 12:02:53,297 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <function signal_not_transferring at 0x0000028353693DC8>\r\n2020-07-08 12:02:53,297 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000028355012488>>\r\n2020-07-08 12:02:53,298 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x00000283530A1F78>\r\n2020-07-08 12:02:53,298 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x0000028355055D88>>\r\n2020-07-08 12:02:53,298 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-07-08 12:02:53,299 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.amazonaws.com/agilti.com?list-type=2&prefix=&encoding-type=url\r\n2020-07-08 12:02:53,299 - MainThread - botocore.utils - DEBUG - Not changing URI, bucket is not DNS compatible: agilti.com\r\n2020-07-08 12:02:53,300 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-08 12:02:53,300 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/agilti.com\r\nencoding-type=url&list-type=2&prefix=\r\nhost:s3.amazonaws.com\r\nx-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\nx-amz-date:20200708T150253Z\r\n\r\nhost;x-amz-content-sha256;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-07-08 12:02:53,302 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200708T150253Z\r\n20200708/us-east-1/s3/aws4_request\r\n037b66bfd78df073547e897c5009c24ff247c44718c4247d05aff583e539b603\r\n2020-07-08 12:02:53,303 - MainThread - botocore.auth - DEBUG - Signature:\r\nb46a022af5eda6faddfacc9b3d8686e53f2341ee70b958e89a762365de7c42a7\r\n2020-07-08 12:02:53,303 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <function signal_transferring at 0x0000028353693E58>\r\n2020-07-08 12:02:53,304 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://s3.amazonaws.com/agilti.com?list-type=2&prefix=&encoding-type=url, headers={'User-Agent': b'aws-cli/2.0.24 Python/3.7.7 Windows/10 botocore/2.0.0dev28', 'X-Amz-Date': b'20200708T150253Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAXQJBMIHII6HZ6GAL/20200708/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b46a022af5eda6faddfacc9b3d8686e53f2341ee70b958e89a762365de7c42a7'}>\r\n2020-07-08 12:02:53,305 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): s3.amazonaws.com:443\r\n2020-07-08 12:02:53,872 - MainThread - urllib3.connectionpool - DEBUG - https://s3.amazonaws.com:443 \"GET /agilti.com?list-type=2&prefix=&encoding-type=url HTTP/1.1\" 301 None\r\n2020-07-08 12:02:53,873 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amz-bucket-region': 'sa-east-1', 'x-amz-request-id': 'F95DAB3AFEDABD8F', 'x-amz-id-2': 'io6SHS5mP2wIBjmM+0pMFKJh7S8jxuT/73TMUv1/QPyueb1qxqYavO7o6nzDFp3zk/ZtOPQaIhc=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Jul 2020 15:02:54 GMT', 'Server': 'AmazonS3'}\r\n2020-07-08 12:02:53,873 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>PermanentRedirect</Code><Message>The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.</Message><Endpoint>agilti.com.s3.amazonaws.com</Endpoint><Bucket>agilti.com</Bucket><RequestId>F95DAB3AFEDABD8F</RequestId><HostId>io6SHS5mP2wIBjmM+0pMFKJh7S8jxuT/73TMUv1/QPyueb1qxqYavO7o6nzDFp3zk/ZtOPQaIhc=</HostId></Error>'\r\n2020-07-08 12:02:53,876 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x0000028355055BC8>>\r\n2020-07-08 12:02:53,876 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-07-08 12:02:53,876 - MainThread - botocore.hooks - DEBUG - Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirector.redirect_from_error of <botocore.utils.S3RegionRedirector object at 0x0000028355055788>>\r\n2020-07-08 12:02:53,877 - MainThread - botocore.utils - DEBUG - S3 client configured for region aws-global but the bucket agilti.com is in region sa-east-1; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.\r\n2020-07-08 12:02:53,877 - MainThread - botocore.utils - DEBUG - Updating URI from https://s3.amazonaws.com/agilti.com?list-type=2&prefix=&encoding-type=url to https://s3.sa-east-1.amazonaws.com/agilti.com?list-type=2&prefix=&encoding-type=url\r\n2020-07-08 12:02:53,877 - MainThread - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0 seconds\r\n2020-07-08 12:02:53,878 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <function signal_not_transferring at 0x0000028353693DC8>\r\n2020-07-08 12:02:53,878 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x0000028355012488>>\r\n2020-07-08 12:02:53,878 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x00000283530A1F78>\r\n2020-07-08 12:02:53,879 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListObjectsV2: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x0000028355055D88>>\r\n2020-07-08 12:02:53,879 - MainThread - botocore.utils - DEBUG - Checking for DNS compatible bucket for: https://s3.sa-east-1.amazonaws.com/agilti.com?list-type=2&prefix=&encoding-type=url\r\n2020-07-08 12:02:53,880 - MainThread - botocore.utils - DEBUG - Not changing URI, bucket is not DNS compatible: agilti.com\r\n2020-07-08 12:02:53,880 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-08 12:02:53,880 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\n~~REMOVED SOME INFO ~~ was not sure if it contains any sensitive information\r\n2020-07-08 12:02:54,298 - Thread-1 - awscli.customizations.s3.results - DEBUG - Shutdown request received in result processing thread, shutting down result thread.\r\n```\r\n\r\n**Additional context**\r\nNot a single change to the deploy script and suddenly it stop showing output, when running with `--debug` lots of python errors pops ups.\r\nCLI version was untouched also\r\nThe most annoying part is that sometimes it actually works, today I tested about 20 times and only the second time it worked :/ always the same command\r\n\r\nMaybe is some sort of limitation of s3 upload rate? A checked my S3 Free Tier usage limit Month-to-date usage and it's in a healthy 43%\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5351", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5351/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5351/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5351/events", "html_url": "https://github.com/aws/aws-cli/issues/5351", "id": 652694874, "node_id": "MDU6SXNzdWU2NTI2OTQ4NzQ=", "number": 5351, "title": "Delete Package or Version in CodeArtifact ", "user": {"login": "Migu33l", "id": 5261998, "node_id": "MDQ6VXNlcjUyNjE5OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5261998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Migu33l", "html_url": "https://github.com/Migu33l", "followers_url": "https://api.github.com/users/Migu33l/followers", "following_url": "https://api.github.com/users/Migu33l/following{/other_user}", "gists_url": "https://api.github.com/users/Migu33l/gists{/gist_id}", "starred_url": "https://api.github.com/users/Migu33l/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Migu33l/subscriptions", "organizations_url": "https://api.github.com/users/Migu33l/orgs", "repos_url": "https://api.github.com/users/Migu33l/repos", "events_url": "https://api.github.com/users/Migu33l/events{/privacy}", "received_events_url": "https://api.github.com/users/Migu33l/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-07T22:22:22Z", "updated_at": "2020-07-07T22:33:31Z", "closed_at": "2020-07-07T22:33:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nCan't delete a Package from CodeArtifact and npm unpublish give an error.\r\n\r\n`405 Method Not Allowed - DELETE https://consorcio-digital-235204775724.d.codeartifact.us-east-1.amazonaws.com/npm/npm-store/@consorcio%2frepositorio-de-prueba/-rev/undefined - Method Not Allowed`\r\n\r\n**SDK version number**\r\n2\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nWindows 10\r\n\r\n**To Reproduce (observed behavior)**\r\n1. Install and Configure AWS CodeArtifact in your machine.\r\n2. npm init --scope=org\r\n3. npm publish\r\n4. npm unpublish @org/name-repository@version --force\r\n\r\n**Expected behavior**\r\nDelete de version and if no version left, just delete de package\r\n\r\n**Logs/output**\r\n\r\n\r\n**Additional context**\r\nThe AWS Console in CodeArtifact don't show any option to delete a Package.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5347", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5347/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5347/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5347/events", "html_url": "https://github.com/aws/aws-cli/issues/5347", "id": 651873191, "node_id": "MDU6SXNzdWU2NTE4NzMxOTE=", "number": 5347, "title": "aws ec2 describe-reserved-instances / getting region", "user": {"login": "eugeneiohc", "id": 35084863, "node_id": "MDQ6VXNlcjM1MDg0ODYz", "avatar_url": "https://avatars2.githubusercontent.com/u/35084863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eugeneiohc", "html_url": "https://github.com/eugeneiohc", "followers_url": "https://api.github.com/users/eugeneiohc/followers", "following_url": "https://api.github.com/users/eugeneiohc/following{/other_user}", "gists_url": "https://api.github.com/users/eugeneiohc/gists{/gist_id}", "starred_url": "https://api.github.com/users/eugeneiohc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eugeneiohc/subscriptions", "organizations_url": "https://api.github.com/users/eugeneiohc/orgs", "repos_url": "https://api.github.com/users/eugeneiohc/repos", "events_url": "https://api.github.com/users/eugeneiohc/events{/privacy}", "received_events_url": "https://api.github.com/users/eugeneiohc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-06T23:11:38Z", "updated_at": "2020-07-09T23:58:22Z", "closed_at": "2020-07-09T23:57:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [x] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nLatest version of aws-cli\r\n\r\n**Describe the question**\r\nI am trying to get information about reserved instances and the current account that I'm working with has RI's that work within an entire region meaning the \"Availability Zone\" attribute is empty and the \"Scope\" is simply region. This is fine; however, I'm not sure how to get the region that these reserved instances are in without manually doing so. \r\n\r\ntl;dr I want to automatically find the region of a reserved instance that is not zone-specific via describe-reserved-instances or some other command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5346", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5346/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5346/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5346/events", "html_url": "https://github.com/aws/aws-cli/issues/5346", "id": 651828483, "node_id": "MDU6SXNzdWU2NTE4Mjg0ODM=", "number": 5346, "title": "how to get CentOS image-id", "user": {"login": "alexeyshishkin01", "id": 28735514, "node_id": "MDQ6VXNlcjI4NzM1NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/28735514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeyshishkin01", "html_url": "https://github.com/alexeyshishkin01", "followers_url": "https://api.github.com/users/alexeyshishkin01/followers", "following_url": "https://api.github.com/users/alexeyshishkin01/following{/other_user}", "gists_url": "https://api.github.com/users/alexeyshishkin01/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeyshishkin01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeyshishkin01/subscriptions", "organizations_url": "https://api.github.com/users/alexeyshishkin01/orgs", "repos_url": "https://api.github.com/users/alexeyshishkin01/repos", "events_url": "https://api.github.com/users/alexeyshishkin01/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeyshishkin01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-06T21:25:01Z", "updated_at": "2020-07-10T22:06:06Z", "closed_at": "2020-07-10T22:06:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nroot@Alexey-HP:~# aws --version\r\naws-cli/2.0.27 Python/3.7.3 Linux/4.4.0-19041-Microsoft botocore/2.0.0dev31\r\n\r\n**Describe the question**\r\n\r\nI need to create CentOS VM. The command 'aws ec2 run-instances' requires 'image-id'.\r\n\r\nHow to get CentOS image-id ?\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5344", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5344/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5344/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5344/events", "html_url": "https://github.com/aws/aws-cli/issues/5344", "id": 651067875, "node_id": "MDU6SXNzdWU2NTEwNjc4NzU=", "number": 5344, "title": "APigateway-getapikey usage errror", "user": {"login": "Vojjalasaikumar", "id": 67858672, "node_id": "MDQ6VXNlcjY3ODU4Njcy", "avatar_url": "https://avatars3.githubusercontent.com/u/67858672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vojjalasaikumar", "html_url": "https://github.com/Vojjalasaikumar", "followers_url": "https://api.github.com/users/Vojjalasaikumar/followers", "following_url": "https://api.github.com/users/Vojjalasaikumar/following{/other_user}", "gists_url": "https://api.github.com/users/Vojjalasaikumar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vojjalasaikumar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vojjalasaikumar/subscriptions", "organizations_url": "https://api.github.com/users/Vojjalasaikumar/orgs", "repos_url": "https://api.github.com/users/Vojjalasaikumar/repos", "events_url": "https://api.github.com/users/Vojjalasaikumar/events{/privacy}", "received_events_url": "https://api.github.com/users/Vojjalasaikumar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-05T13:13:25Z", "updated_at": "2020-07-17T18:07:01Z", "closed_at": "2020-07-17T18:07:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have written this code in CLI and took apikey-id from CLI get-api-key command , when i am passing api key to get-usage command like below command i run i got \"An error occurred (NotFoundException) when calling the GetUsage operation: Invalid Key identifier specified\" Error . Could you please help me out.\r\n\r\naws apigateway get-usage --usage-plan-id $usageplanid --key-id $apikeyid  --start-date \"2020-07-01\" --end-date \"2020-07-04\"\r\n\r\nPlease give me suggestions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5341", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5341/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5341/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5341/events", "html_url": "https://github.com/aws/aws-cli/issues/5341", "id": 650770572, "node_id": "MDU6SXNzdWU2NTA3NzA1NzI=", "number": 5341, "title": "SignatureDoesNotMatch error report", "user": {"login": "marcidy", "id": 5845312, "node_id": "MDQ6VXNlcjU4NDUzMTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5845312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcidy", "html_url": "https://github.com/marcidy", "followers_url": "https://api.github.com/users/marcidy/followers", "following_url": "https://api.github.com/users/marcidy/following{/other_user}", "gists_url": "https://api.github.com/users/marcidy/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcidy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcidy/subscriptions", "organizations_url": "https://api.github.com/users/marcidy/orgs", "repos_url": "https://api.github.com/users/marcidy/repos", "events_url": "https://api.github.com/users/marcidy/events{/privacy}", "received_events_url": "https://api.github.com/users/marcidy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2012159198, "node_id": "MDU6TGFiZWwyMDEyMTU5MTk4", "url": "https://api.github.com/repos/aws/aws-cli/labels/automation-exempt", "name": "automation-exempt", "color": "675ce0", "default": false, "description": "Issue will not be subject to stale-bot"}, {"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-07-03T21:23:32Z", "updated_at": "2020-07-31T19:06:47Z", "closed_at": "2020-07-31T19:06:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you have encountered an error message like the following, you're in the right place! If not, please file a standard bug report (https://github.com/aws/aws-cli/issues/new/choose).\r\n\r\n> `A client error (SignatureDoesNotMatch) occurred when calling the <ApiCall> operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.`\r\n\r\nwhere `<ApiCall>` changes depending on what command you ran.\r\n\r\n## Do this first!\r\n\r\nIf you have encountered this error, please do the following FIRST (change the [] boxes to [x]):\r\n\r\n- [x] Read the user guide troubleshooting chapter (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-troubleshooting.html) to check for known issues like clock skew.\r\nNo skew\r\n- [x] Confirm that the error occurs even if you use one of the supported installation methods (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html).\r\nInstalled on an aws ubuntu instance\r\n\r\nIf possible, try using the credentials with another non-Python SDK, like Javascript (http://aws.amazon.com/javascript).\r\n\r\n## Required information\r\n\r\nIf you have done these things, please fill out the following sections:\r\n\r\n### Command line version\r\n\r\n*You can get this by running `aws --version`.*\r\n\r\n`aws-cli/1.17.14 Python/3.8.2 Linux/5.4.0-1015-aws botocore/1.14.14`\r\n\r\n### Operating system\r\n\r\n*Please include the OS version (e.g., Fedora 32 or Windows 10).*\r\n\r\n`Linux xxxxxxxx #15-Ubuntu SMP Thu Jun 4 22:47:00 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux`\r\n\r\n### Installation method\r\n\r\n*Describe how you installed the client, e.g. pip, Windows installer, etc. Also, if different, describe which of the supported installation methods (https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html) you used to test.*\r\n\r\n```\r\n$ sudo apt-get install awscli\r\n```\r\n\r\n### Command being run and output\r\n\r\n*Important!!! Be sure to redact sensitive information like account numbers, ARNs, etc.*\r\n\r\n```\r\n$ aws iam list-users\r\n\r\nAn error occurred (SignatureDoesNotMatch) when calling the ListUsers operation: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\r\nPlease provide the full command the output with debug mode on (`aws --debug ...`)\r\n```\r\n\r\n```\r\n$ aws --debug iam list-users\r\n2020-07-03 21:12:23,331 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.17.14 Python/3.8.2 Linux/5.4.0-1015-aws botocore/1.14.14\r\n2020-07-03 21:12:23,332 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', 'iam', 'list-users']\r\n2020-07-03 21:12:23,332 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f72b72b0430>\r\n2020-07-03 21:12:23,332 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f72b77b5ee0>\r\n2020-07-03 21:12:23,333 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f72b778ac10>\r\n2020-07-03 21:12:23,335 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f72b73f0940>\r\n2020-07-03 21:12:23,336 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3/dist-packages/botocore/data/iam/2010-05-08/service-2.json\r\n2020-07-03 21:12:23,357 - MainThread - botocore.hooks - DEBUG - Event building-command-table.iam: calling handler <function add_waiters at 0x7f72b72b6d30>\r\n2020-07-03 21:12:23,362 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3/dist-packages/botocore/data/iam/2010-05-08/waiters-2.json\r\n2020-07-03 21:12:23,363 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('path-prefix', <awscli.arguments.CLIArgument object at 0x7f72b6f40a00>), ('marker', <awscli.arguments.CLIArgument object at 0x7f72b6f40a30>), ('max-items', <awscli.arguments.CLIArgument object at 0x7f72b6f40a60>)])\r\n2020-07-03 21:12:23,363 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.list-users: calling handler <function add_streaming_output_arg at 0x7f72b72b0a60>\r\n2020-07-03 21:12:23,363 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.list-users: calling handler <function add_cli_input_json at 0x7f72b7714670>\r\n2020-07-03 21:12:23,364 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.list-users: calling handler <function unify_paging_params at 0x7f72b73349d0>\r\n2020-07-03 21:12:23,368 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3/dist-packages/botocore/data/iam/2010-05-08/paginators-1.json\r\n2020-07-03 21:12:23,369 - MainThread - awscli.customizations.paginate - DEBUG - Modifying paging parameters for operation: ListUsers\r\n2020-07-03 21:12:23,369 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.iam.list-users: calling handler <function add_generate_skeleton at 0x7f72b7392c10>\r\n2020-07-03 21:12:23,369 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.iam.list-users: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f72b6f40b80>>\r\n2020-07-03 21:12:23,370 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.iam.list-users: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f72b6f40ee0>>\r\n2020-07-03 21:12:23,371 - MainThread - botocore.hooks - DEBUG - Event operation-args-parsed.iam.list-users: calling handler functools.partial(<function check_should_enable_pagination at 0x7f72b7334af0>, ['marker', 'max-items'], {'max-items': <awscli.arguments.CLIArgument object at 0x7f72b6f40a60>}, OrderedDict([('path-prefix', <awscli.arguments.CLIArgument object at 0x7f72b6f40a00>), ('marker', <awscli.arguments.CLIArgument object at 0x7f72b6f40a30>), ('max-items', <awscli.customizations.paginate.PageArgument object at 0x7f72b6f40c10>), ('cli-input-json', <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f72b6f40b80>), ('starting-token', <awscli.customizations.paginate.PageArgument object at 0x7f72b6f40d90>), ('page-size', <awscli.customizations.paginate.PageArgument object at 0x7f72b6f40d30>), ('generate-cli-skeleton', <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f72b6f40ee0>)]))\r\n2020-07-03 21:12:23,371 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.path-prefix: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,371 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.marker: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,371 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.max-items: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,371 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,372 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.starting-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,372 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,372 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.iam.list-users.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f72b71ff4c0>\r\n2020-07-03 21:12:23,372 - MainThread - botocore.hooks - DEBUG - Event calling-command.iam.list-users: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f72b6f40b80>>\r\n2020-07-03 21:12:23,372 - MainThread - botocore.hooks - DEBUG - Event calling-command.iam.list-users: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f72b6f40ee0>>\r\n2020-07-03 21:12:23,372 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-07-03 21:12:23,373 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-07-03 21:12:23,373 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-07-03 21:12:23,373 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-07-03 21:12:23,373 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-07-03 21:12:23,373 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3/dist-packages/botocore/data/endpoints.json\r\n2020-07-03 21:12:23,377 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f72b7c6e5e0>\r\n2020-07-03 21:12:23,382 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.iam: calling handler <function add_generate_presigned_url at 0x7f72b7c5b430>\r\n2020-07-03 21:12:23,382 - MainThread - botocore.regions - DEBUG - Using partition endpoint for iam, us-east-2: aws-global\r\n2020-07-03 21:12:23,385 - MainThread - botocore.endpoint - DEBUG - Setting iam timeout as (60, 60)\r\n2020-07-03 21:12:23,385 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3/dist-packages/botocore/data/_retry.json\r\n2020-07-03 21:12:23,386 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: iam\r\n2020-07-03 21:12:23,387 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.iam.ListUsers: calling handler <function generate_idempotent_uuid at 0x7f72b7c1e5e0>\r\n2020-07-03 21:12:23,387 - MainThread - botocore.hooks - DEBUG - Event before-call.iam.ListUsers: calling handler <function inject_api_version_header_if_needed at 0x7f72b7c220d0>\r\n2020-07-03 21:12:23,387 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListUsers) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': 'aws-cli/1.17.14 Python/3.8.2 Linux/5.4.0-1015-aws botocore/1.14.14'}, 'body': {'Action': 'ListUsers', 'Version': '2010-05-08'}, 'url': 'https://iam.amazonaws.com/', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x7f72b6e7d610>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-07-03 21:12:23,388 - MainThread - botocore.hooks - DEBUG - Event request-created.iam.ListUsers: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f72b6e7d430>>\r\n2020-07-03 21:12:23,388 - MainThread - botocore.hooks - DEBUG - Event choose-signer.iam.ListUsers: calling handler <function set_operation_specific_signer at 0x7f72b7c1e4c0>\r\n2020-07-03 21:12:23,388 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-07-03 21:12:23,388 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-www-form-urlencoded; charset=utf-8\r\nhost:iam.amazonaws.com\r\nx-amz-date:20200703T211223Z\r\n\r\ncontent-type;host;x-amz-date\r\nb6359072c78d70ebee1e81adcbab4f01bf2c23245fa365ef83fe8f1f955085e2\r\n2020-07-03 21:12:23,389 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200703T211223Z\r\n20200703/us-east-1/iam/aws4_request\r\nefd071096220828938b720d7877f5888d349a9f8dd6abcf41ab86dbf0a08750c\r\n2020-07-03 21:12:23,389 - MainThread - botocore.auth - DEBUG - Signature:\r\n2d47d39b409ffbd887c5d666046e5d6f389e525f9da5cdbca34b312e6fa2b7f0\r\n2020-07-03 21:12:23,389 - MainThread - botocore.auth - DEBUG - Signature:\r\n2d47d39b409ffbd887c5d666046e5d6f389e525f9da5cdbca34b312e6fa2b7f0\r\n2020-07-03 21:12:23,389 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://iam.amazonaws.com/, headers={'Content-Type': b'application/x-www-form-urlencoded; charset=utf-8', 'User-Agent': b'aws-cli/1.17.14 Python/3.8.2 Linux/5.4.0-1015-aws botocore/1.14.14', 'X-Amz-Date': b'20200703T211223Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=XXXX__REMOVED___XXXX, SignedHeaders=content-type;host;x-amz-date, Signature=XXXX__REMOVED__XXXX, 'Content-Length': '35'}>\r\n2020-07-03 21:12:23,390 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): iam.amazonaws.com:443\r\n2020-07-03 21:12:23,461 - MainThread - urllib3.connectionpool - DEBUG - https://iam.amazonaws.com:443 \"POST / HTTP/1.1\" 403 431\r\n2020-07-03 21:12:23,462 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': 'f24947fd-c0c2-4fbc-9a00-ded97211a8f2', 'Content-Type': 'text/xml', 'Content-Length': '431', 'Date': 'Fri, 03 Jul 2020 21:12:23 GMT'}\r\n2020-07-03 21:12:23,462 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'<ErrorResponse xmlns=\"https://iam.amazonaws.com/doc/2010-05-08/\">\\n  <Error>\\n    <Type>Sender</Type>\\n    <Code>SignatureDoesNotMatch</Code>\\n    <Message>The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.</Message>\\n  </Error>\\n  <RequestId>f24947fd-c0c2-4fbc-9a00-ded97211a8f2</RequestId>\\n</ErrorResponse>\\n'\r\n2020-07-03 21:12:23,462 - MainThread - botocore.hooks - DEBUG - Event needs-retry.iam.ListUsers: calling handler <botocore.retryhandler.RetryHandler object at 0x7f72b6e7df40>\r\n2020-07-03 21:12:23,463 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2020-07-03 21:12:23,463 - MainThread - botocore.hooks - DEBUG - Event after-call.iam.ListUsers: calling handler <function json_decode_policies at 0x7f72b7c213a0>\r\n2020-07-03 21:12:23,465 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 527, in __call__\r\n    return self._operation_caller.invoke(\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 651, in invoke\r\n    self._display_response(operation_name, response, parsed_globals)\r\n  File \"/usr/lib/python3/dist-packages/awscli/clidriver.py\", line 671, in _display_response\r\n    formatter(command_name, response)\r\n  File \"/usr/lib/python3/dist-packages/awscli/formatter.py\", line 69, in __call__\r\n    response_data = response.build_full_result()\r\n  File \"/usr/lib/python3/dist-packages/botocore/paginate.py\", line 449, in build_full_result\r\n    for response in self:\r\n  File \"/usr/lib/python3/dist-packages/botocore/paginate.py\", line 255, in __iter__\r\n    response = self._make_request(current_kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/paginate.py\", line 332, in _make_request\r\n    return self._method(**current_kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/client.py\", line 276, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/lib/python3/dist-packages/botocore/client.py\", line 586, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (SignatureDoesNotMatch) when calling the ListUsers operation: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\r\n2020-07-03 21:12:23,466 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nAn error occurred (SignatureDoesNotMatch) when calling the ListUsers operation: The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\r\n```\r\n\r\n### Other environment details\r\n\r\n*This might include a container image (like Docker), CI/CD suite (like Travis), or a cloud instance (an EC2).*\r\nEC2 Ubuntu instance.\r\n\r\nThe instance was created yesterday (7/2/2020) and the issue has persisted to today (7/3/2020).  The information was gathered today (7/3/2020).  This everything is on AWS and occurring on AWS with the stock ubuntu image, everything installed with the stock apt sources.\r\n\r\nWhile the info above was collected with the `$ aws iam list` i get the same with other commands such as `$ aws sqs list-queue` which is what I'm actually after.  Boto3 also fails with these credentials attempting to list sqs queues, where the command was fine with other credentials.\r\n\r\n### Does the secret key you are using have special characters, like \u2018+\u2019 or \u2018/\u2019, in it?\r\nYes\r\n\r\n*If possible, do not delete the credentials that are failing so that we can follow up with further debugging commands.*\r\n\r\nI can sit on this for a few days.  I realize this is now a holiday so perhaps nothing can be done till Monday.  If there's senstive info above, whoops, doesn't really matter, I'll delete the instance and start fresh once this issue is resolved.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5340", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5340/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5340/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5340/events", "html_url": "https://github.com/aws/aws-cli/issues/5340", "id": 650766880, "node_id": "MDU6SXNzdWU2NTA3NjY4ODA=", "number": 5340, "title": "how to create VM instance with CentOS", "user": {"login": "alexeyshishkin01", "id": 28735514, "node_id": "MDQ6VXNlcjI4NzM1NTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/28735514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexeyshishkin01", "html_url": "https://github.com/alexeyshishkin01", "followers_url": "https://api.github.com/users/alexeyshishkin01/followers", "following_url": "https://api.github.com/users/alexeyshishkin01/following{/other_user}", "gists_url": "https://api.github.com/users/alexeyshishkin01/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexeyshishkin01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexeyshishkin01/subscriptions", "organizations_url": "https://api.github.com/users/alexeyshishkin01/orgs", "repos_url": "https://api.github.com/users/alexeyshishkin01/repos", "events_url": "https://api.github.com/users/alexeyshishkin01/events{/privacy}", "received_events_url": "https://api.github.com/users/alexeyshishkin01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-03T21:06:36Z", "updated_at": "2020-07-08T14:04:37Z", "closed_at": "2020-07-08T14:04:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nroot@Alexey-HP:~# aws --version\r\naws-cli/2.0.27 Python/3.7.3 Linux/4.4.0-19041-Microsoft botocore/2.0.0dev31\r\n\r\n**Describe the question**\r\n\r\nI need to create VM instance with CentOS (ex. CentOS 7 with latest updates).\r\nIn GCP there's an elegant and simple way to do it:\r\n\r\ngcloud compute instances create $INSTANCE_NAME \\\r\n--image-family=centos-7 \\\r\n--image-project=centos-cloud\r\n\r\nIs there anything equivalent in AWS ?\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5339", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5339/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5339/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5339/events", "html_url": "https://github.com/aws/aws-cli/issues/5339", "id": 650741492, "node_id": "MDU6SXNzdWU2NTA3NDE0OTI=", "number": 5339, "title": "PyYaml dependency breaking docker container build.", "user": {"login": "guillermo-borges", "id": 355242, "node_id": "MDQ6VXNlcjM1NTI0Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/355242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guillermo-borges", "html_url": "https://github.com/guillermo-borges", "followers_url": "https://api.github.com/users/guillermo-borges/followers", "following_url": "https://api.github.com/users/guillermo-borges/following{/other_user}", "gists_url": "https://api.github.com/users/guillermo-borges/gists{/gist_id}", "starred_url": "https://api.github.com/users/guillermo-borges/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guillermo-borges/subscriptions", "organizations_url": "https://api.github.com/users/guillermo-borges/orgs", "repos_url": "https://api.github.com/users/guillermo-borges/repos", "events_url": "https://api.github.com/users/guillermo-borges/events{/privacy}", "received_events_url": "https://api.github.com/users/guillermo-borges/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 2223365093, "node_id": "MDU6TGFiZWwyMjIzMzY1MDkz", "url": "https://api.github.com/repos/aws/aws-cli/labels/installation", "name": "installation", "color": "f4c55f", "default": false, "description": ""}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "ffe79b", "default": false, "description": "This issue needs reproduction."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-03T19:30:15Z", "updated_at": "2020-08-02T18:07:46Z", "closed_at": "2020-08-02T18:07:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWe've had our CI server build containers with awscli for nearly two years now without issue. Now all of the sudden, `RUN pip install awscli --upgrade` fails during build. It's a long string of output, but the relevant bits are as follows:\r\n\r\n```\r\nCollecting PyYAML<5.4,>=3.10; python_version != \"3.4\"\r\n16:09:18   Downloading PyYAML-5.3.1.tar.gz (269 kB)\r\n\r\n16:09:19 Building wheels for collected packages: PyYAML\r\n16:09:19   Building wheel for PyYAML (setup.py): started\r\n16:09:19   Building wheel for PyYAML (setup.py): finished with status 'error'\r\n16:09:19 \u001b[91m  ERROR: Command errored out with exit status 1:\r\n16:09:19    command: /usr/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-2fsuoh28/PyYAML/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-2fsuoh28/PyYAML/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-2nylhp11\r\n16:09:19        cwd: /tmp/pip-install-2fsuoh28/PyYAML/\r\n```\r\n\r\nhere's what our dockerfile looks like:\r\n\r\n```\r\nFROM mcr.microsoft.com/dotnet/core/sdk:3.0 AS build\r\n\r\n# Copy required files\r\nCOPY server/ server/\r\nCOPY lib/ lib/\r\nCOPY config.json ./\r\n\r\n# Build the application\r\nRUN dotnet publish ./server/server.csproj -c Release\r\n\r\n# Multi-stage build to discard source files\r\nFROM mcr.microsoft.com/dotnet/core/aspnet:3.0\r\n\r\n# Set environment variables\r\nENV HOME /root\r\nENV TZ America/Los_Angeles\r\n\r\n# Copy compiled and configuration files\r\nCOPY hmx/ $HOME/.hmx/\r\nCOPY --from=build server/bin/Release/netcoreapp3.0/publish $HOME/server/\r\nCOPY --from=build server/wwwroot/ $HOME/server/wwwroot/\r\n\r\n# Install Python, pip and AWS CLI\r\nRUN apt-get update\r\nRUN apt-get -y install python3\r\nRUN apt-get -y install python3-distutils\r\nRUN curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\r\nRUN python3 get-pip.py\r\nRUN pip3 install awscli --upgrade <--- Point of failure\r\n\r\n...\r\n```\r\n\r\nIt's been built hundreds of times over the past 2 years without problems.\r\n\r\n**SDK version number**\r\n\r\nlatest\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\nDocker, built by a CI ubuntu 18.04 server running jenkins.\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\nI'm not sure how reproducible this might be, but these are the relevant bits from our dockerfile to reproduce:\r\n\r\n```\r\nFROM mcr.microsoft.com/dotnet/core/aspnet:3.0\r\nRUN apt-get update\r\nRUN apt-get -y install python3\r\nRUN apt-get -y install python3-distutils\r\nRUN curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\r\nRUN python3 get-pip.py\r\nRUN pip3 install awscli --upgrade <--- Point of failure\r\n```\r\n\r\n**Expected behavior**\r\n\r\nA successful build and a container with awscli installed :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5338", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5338/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5338/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5338/events", "html_url": "https://github.com/aws/aws-cli/issues/5338", "id": 650712564, "node_id": "MDU6SXNzdWU2NTA3MTI1NjQ=", "number": 5338, "title": "Error with autocompletion on macOS and ZSH", "user": {"login": "dralshehri", "id": 542855, "node_id": "MDQ6VXNlcjU0Mjg1NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/542855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dralshehri", "html_url": "https://github.com/dralshehri", "followers_url": "https://api.github.com/users/dralshehri/followers", "following_url": "https://api.github.com/users/dralshehri/following{/other_user}", "gists_url": "https://api.github.com/users/dralshehri/gists{/gist_id}", "starred_url": "https://api.github.com/users/dralshehri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dralshehri/subscriptions", "organizations_url": "https://api.github.com/users/dralshehri/orgs", "repos_url": "https://api.github.com/users/dralshehri/repos", "events_url": "https://api.github.com/users/dralshehri/events{/privacy}", "received_events_url": "https://api.github.com/users/dralshehri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-07-03T17:48:43Z", "updated_at": "2020-07-09T14:13:09Z", "closed_at": "2020-07-09T14:13:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [x] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\n- macOS 10.15.5 _Catalina_\r\n- awscli installed using `brew install awscli`\r\n  _aws-cli/2.0.28 Python/3.8.3 Darwin/19.5.0 botocore/2.0.0dev32_\r\n- Oh My ZSH plugin `aws` added to `.zshrc` file\r\n\r\n**Describe the question**\r\nWhen I tab to get autocompletion, I got an error.\r\ne.g `aws cl[TAB]` will result in the following error.\r\n\r\n**Logs/output**\r\n```py\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/aws_completer\", line 36, in <module>\r\n    main()\r\n  File \"/usr/local/bin/aws_completer\", line 28, in main\r\n    autocomplete(command_line, command_index)\r\n  File \"/usr/local/Cellar/awscli/2.0.28/libexec/lib/python3.8/site-packages/awscli/autocomplete/main.py\", line 61, in autocomplete\r\n    results = completer.autocomplete(command_line, position)\r\n  File \"/usr/local/Cellar/awscli/2.0.28/libexec/lib/python3.8/site-packages/awscli/autocomplete/completer.py\", line 42, in autocomplete\r\n    parsed = self._parser.parse(command_line, index)\r\n  File \"/usr/local/Cellar/awscli/2.0.28/libexec/lib/python3.8/site-packages/awscli/autocomplete/parser.py\", line 145, in parse\r\n    global_args = self._index.arg_names(lineage=[], command_name='aws')\r\n  File \"/usr/local/Cellar/awscli/2.0.28/libexec/lib/python3.8/site-packages/awscli/autocomplete/local/model.py\", line 104, in arg_names\r\n    results = db.execute(self._ARG_NAME_QUERY,\r\n  File \"/usr/local/Cellar/awscli/2.0.28/libexec/lib/python3.8/site-packages/awscli/autocomplete/db.py\", line 33, in execute\r\n    return self._connection.execute(query, kwargs)\r\nsqlite3.OperationalError: no such table: param_table\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5334", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5334/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5334/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5334/events", "html_url": "https://github.com/aws/aws-cli/issues/5334", "id": 649935557, "node_id": "MDU6SXNzdWU2NDk5MzU1NTc=", "number": 5334, "title": "[V2]Unable to run aws configure sso get error 'str' object has no attribute 'get", "user": {"login": "pcanham", "id": 778646, "node_id": "MDQ6VXNlcjc3ODY0Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/778646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcanham", "html_url": "https://github.com/pcanham", "followers_url": "https://api.github.com/users/pcanham/followers", "following_url": "https://api.github.com/users/pcanham/following{/other_user}", "gists_url": "https://api.github.com/users/pcanham/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcanham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcanham/subscriptions", "organizations_url": "https://api.github.com/users/pcanham/orgs", "repos_url": "https://api.github.com/users/pcanham/repos", "events_url": "https://api.github.com/users/pcanham/events{/privacy}", "received_events_url": "https://api.github.com/users/pcanham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-02T13:34:17Z", "updated_at": "2020-07-17T15:06:36Z", "closed_at": "2020-07-17T15:06:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI am trying to enable AWS SSO within my cli client and having issues that the process fails with error\r\n```\r\n'str' object has no attribute 'get\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n```\r\nmacOS 10.15.5\r\naws-cli/2.0.27 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev31\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\n```\r\naws configure sso\r\n```\r\n\r\n**Expected behavior**\r\nBe able to configure CLI to use AWS SSO\r\n\r\n**Logs/output**\r\n```\r\n$ aws configure sso --debug\r\n2020-07-02 14:29:40,023 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.27 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev31\r\n2020-07-02 14:29:40,023 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['configure', 'sso', '--debug']\r\n2020-07-02 14:29:40,024 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f9ffec15710>\r\n2020-07-02 14:29:40,024 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f9ffe3feb00>\r\n2020-07-02 14:29:40,024 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f9ffec65320>\r\n2020-07-02 14:29:40,024 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f9ffe435a70>\r\n2020-07-02 14:29:40,033 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f9ffeac8830>\r\n2020-07-02 14:29:40,033 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f9ffea6cdd0>\r\n2020-07-02 14:29:40,033 - MainThread - botocore.hooks - DEBUG - Event building-command-table.configure: calling handler <function _add_wizard_command at 0x7f9ffec5bc20>\r\n2020-07-02 14:29:40,033 - MainThread - botocore.hooks - DEBUG - Event building-command-table.configure: calling handler <function add_waiters at 0x7f9ffec253b0>\r\n2020-07-02 14:29:40,034 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.configure.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9ffe947f10>\r\n2020-07-02 14:29:40,034 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sso: calling handler <function add_sso_commands at 0x7f9ffea62b00>\r\n2020-07-02 14:29:40,034 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sso: calling handler <function add_waiters at 0x7f9ffec253b0>\r\n2020-07-02 14:29:40,034 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.sso.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f9ffe947f10>\r\nSSO start URL [None]: https://thinkside.awsapps.com/start\r\n2020-07-02 14:29:46,365 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/endpoints.json\r\n2020-07-02 14:29:46,385 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/botocore/data/sso-oidc/2019-06-10/service-2.json\r\nSSO Region [None]: eu-west-1\r\n2020-07-02 14:29:49,532 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f9ffdf0c170>\r\n2020-07-02 14:29:49,532 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.sso-oidc: calling handler <function add_generate_presigned_url at 0x7f9ffdebc170>\r\n2020-07-02 14:29:49,534 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 335, in main\r\n  File \"awscli/customizations/commands.py\", line 197, in __call__\r\n  File \"awscli/customizations/commands.py\", line 190, in __call__\r\n  File \"awscli/customizations/configure/sso.py\", line 302, in _run_main\r\n  File \"awscli/customizations/sso/utils.py\", line 47, in do_sso_login\r\n  File \"botocore/utils.py\", line 1852, in fetch_token\r\n  File \"botocore/utils.py\", line 1847, in _token\r\n  File \"botocore/utils.py\", line 1801, in _poll_for_token\r\n  File \"botocore/utils.py\", line 1775, in _registration\r\n  File \"botocore/utils.py\", line 1750, in _register_client\r\n  File \"botocore/utils.py\", line 719, in __get__\r\n  File \"botocore/utils.py\", line 1746, in _client\r\n  File \"botocore/session.py\", line 811, in create_client\r\n  File \"botocore/client.py\", line 81, in create_client\r\n  File \"botocore/client.py\", line 179, in _get_client_args\r\n  File \"botocore/args.py\", line 72, in get_client_args\r\n  File \"botocore/config.py\", line 162, in __init__\r\n  File \"botocore/config.py\", line 201, in _validate_s3_configuration\r\nAttributeError: 'str' object has no attribute 'get'\r\n2020-07-02 14:29:49,535 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n'str' object has no attribute 'get'\r\n```\r\n\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5332", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5332/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5332/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5332/events", "html_url": "https://github.com/aws/aws-cli/issues/5332", "id": 649494275, "node_id": "MDU6SXNzdWU2NDk0OTQyNzU=", "number": 5332, "title": "Better error reporting for setting an invalid value for cli_pager", "user": {"login": "tdmalone", "id": 900469, "node_id": "MDQ6VXNlcjkwMDQ2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/900469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdmalone", "html_url": "https://github.com/tdmalone", "followers_url": "https://api.github.com/users/tdmalone/followers", "following_url": "https://api.github.com/users/tdmalone/following{/other_user}", "gists_url": "https://api.github.com/users/tdmalone/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdmalone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdmalone/subscriptions", "organizations_url": "https://api.github.com/users/tdmalone/orgs", "repos_url": "https://api.github.com/users/tdmalone/repos", "events_url": "https://api.github.com/users/tdmalone/events{/privacy}", "received_events_url": "https://api.github.com/users/tdmalone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-02T01:22:22Z", "updated_at": "2020-07-11T11:52:56Z", "closed_at": "2020-07-11T11:52:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nIf the following is set in `~/.aws/config`:\r\n\r\n     cli_pager = ''\r\n\r\nSome commands (but not all!) fail with:\r\n\r\n     \u279c  ~ aws sts get-caller-identity\r\n    [Errno 13] Permission denied: ''\r\n\r\nThis is a confusing error - and it took us quite a while to work out what the problem was! Because it doesn't fail on every command, we had lost the context of immediate feedback after setting this option, and further down the line believed there was something wrong with the user. We went through trying different users, different combinations of permissions, etc. etc. before being fairly confident it was a local issue, and then realising the problem still existed running the AWS CLI in a container (with the ~/.aws directory mounted into it).\r\n\r\n(Note: the setting should actually have been `cli_pager =` without the quotes)\r\n\r\n**Describe the solution you'd like**\r\n\r\nValidation of the `cli_pager` setting. eg. if it's not a valid command, show an error stating that the `cli_pager` setting is incorrect.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nn/a\r\n\r\n**Additional context**\r\n\r\nn/a", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5329", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5329/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5329/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5329/events", "html_url": "https://github.com/aws/aws-cli/issues/5329", "id": 648751871, "node_id": "MDU6SXNzdWU2NDg3NTE4NzE=", "number": 5329, "title": "Why AWS CLI 'aws s3api put-object' changes the ContentType and ContentLength", "user": {"login": "jibowang", "id": 39870906, "node_id": "MDQ6VXNlcjM5ODcwOTA2", "avatar_url": "https://avatars3.githubusercontent.com/u/39870906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jibowang", "html_url": "https://github.com/jibowang", "followers_url": "https://api.github.com/users/jibowang/followers", "following_url": "https://api.github.com/users/jibowang/following{/other_user}", "gists_url": "https://api.github.com/users/jibowang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jibowang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jibowang/subscriptions", "organizations_url": "https://api.github.com/users/jibowang/orgs", "repos_url": "https://api.github.com/users/jibowang/repos", "events_url": "https://api.github.com/users/jibowang/events{/privacy}", "received_events_url": "https://api.github.com/users/jibowang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-01T07:42:58Z", "updated_at": "2020-07-02T15:24:12Z", "closed_at": "2020-07-02T15:24:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use AWS CLI change s3 object storage-class, but the ContentType and ContentLength are changed\uff0ci don't konw why?\r\nMy AWS CLI version is `aws-cli/1.16.133 Python/2.7.14 Darwin/16.7.0 botocore/1.12.123`\r\n\r\nThe commands are:\r\n\r\n`aws s3api head-object --bucket room --key 20200630015557470.mp4`\r\n```\r\n{\r\n    \"AcceptRanges\": \"bytes\",\r\n    \"ContentType\": \"video/mp4\",\r\n    \"LastModified\": \"Tue, 30 Jun 2020 02:03:22 GMT\",\r\n    \"ContentLength\": 324189,\r\n    \"ETag\": \"\\\"09169cd0f9053b8f661d13c47b9b325a\\\"\",\r\n    \"Expiration\": \"expiry-date=\\\"Wed, 22 Jul 2020 00:00:00 GMT\\\", rule-id=\\\"21day\\\"\",\r\n    \"Metadata\": {}\r\n}\r\n```\r\nchange the object storage-class:\r\n`aws s3api put-object --bucket room --key 20200630015557470.mp4 --storage-class STANDARD_IA`\r\n```\r\n{\r\n    \"ETag\": \"\\\"d41d8cd98f00b204e9800998ecf8427e\\\"\",\r\n    \"Expiration\": \"expiry-date=\\\"Thu, 23 Jul 2020 00:00:00 GMT\\\", rule-id=\\\"21day\\\"\"\r\n}\r\n```\r\nretry get:\r\n`aws s3api head-object --bucket room --key 20200630015557470.mp4`\r\n```\r\n{\r\n    \"AcceptRanges\": \"bytes\",\r\n    \"ContentType\": \"binary/octet-stream\",\r\n    \"LastModified\": \"Wed, 01 Jul 2020 07:15:30 GMT\",\r\n    \"ContentLength\": 0,\r\n    \"ETag\": \"\\\"d41d8cd98f00b204e9800998ecf8427e\\\"\",\r\n    \"StorageClass\": \"STANDARD_IA\",\r\n    \"Expiration\": \"expiry-date=\\\"Thu, 23 Jul 2020 00:00:00 GMT\\\", rule-id=\\\"21day\\\"\",\r\n    \"Metadata\": {}\r\n}\r\n```\r\nThe `ContentType` changes to \"binary/octet-stream\", the `ContentLength` changes to 0 ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5325", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5325/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5325/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5325/events", "html_url": "https://github.com/aws/aws-cli/issues/5325", "id": 646848304, "node_id": "MDU6SXNzdWU2NDY4NDgzMDQ=", "number": 5325, "title": "ASG support for ssm:resolve in  create-launch-configuration call", "user": {"login": "leonblueconic", "id": 19727725, "node_id": "MDQ6VXNlcjE5NzI3NzI1", "avatar_url": "https://avatars1.githubusercontent.com/u/19727725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leonblueconic", "html_url": "https://github.com/leonblueconic", "followers_url": "https://api.github.com/users/leonblueconic/followers", "following_url": "https://api.github.com/users/leonblueconic/following{/other_user}", "gists_url": "https://api.github.com/users/leonblueconic/gists{/gist_id}", "starred_url": "https://api.github.com/users/leonblueconic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leonblueconic/subscriptions", "organizations_url": "https://api.github.com/users/leonblueconic/orgs", "repos_url": "https://api.github.com/users/leonblueconic/repos", "events_url": "https://api.github.com/users/leonblueconic/events{/privacy}", "received_events_url": "https://api.github.com/users/leonblueconic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-28T05:56:16Z", "updated_at": "2020-07-19T14:07:18Z", "closed_at": "2020-07-19T14:07:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the solution you'd like**\r\nFor ECS we would like to automatically use the lastest ECS enhanced AMI in our auto scaling groups.  At the moment on each release of a new ECS enhanced AMI we need to create a new version of the ASG Launch Configuration and update the image-id parameter.  It would be nice to just select the latest available AMI at launch time and not having to update the configurations all the time. This could be done with allowing the use of ssm:resolve in the image-id field.\r\n\r\n**Describe alternatives you've considered**\r\nAt the moment we have a subscription to the ECS SNS topic which kicks of a script create a new launch configuration and updates the ASG.  But this leads to many launch configuration over time as we have multiple ECS clusters and use separate ASG for them.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5321", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5321/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5321/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5321/events", "html_url": "https://github.com/aws/aws-cli/issues/5321", "id": 646284216, "node_id": "MDU6SXNzdWU2NDYyODQyMTY=", "number": 5321, "title": "Logs not shipping to cloudwatch - Awslog agent errors out", "user": {"login": "dinesh-dubey", "id": 14087877, "node_id": "MDQ6VXNlcjE0MDg3ODc3", "avatar_url": "https://avatars3.githubusercontent.com/u/14087877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dinesh-dubey", "html_url": "https://github.com/dinesh-dubey", "followers_url": "https://api.github.com/users/dinesh-dubey/followers", "following_url": "https://api.github.com/users/dinesh-dubey/following{/other_user}", "gists_url": "https://api.github.com/users/dinesh-dubey/gists{/gist_id}", "starred_url": "https://api.github.com/users/dinesh-dubey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dinesh-dubey/subscriptions", "organizations_url": "https://api.github.com/users/dinesh-dubey/orgs", "repos_url": "https://api.github.com/users/dinesh-dubey/repos", "events_url": "https://api.github.com/users/dinesh-dubey/events{/privacy}", "received_events_url": "https://api.github.com/users/dinesh-dubey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-26T14:00:54Z", "updated_at": "2020-07-13T16:40:39Z", "closed_at": "2020-07-13T16:40:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nWe are using ECS based containers on EC2 node. For some reason AWS agent is not able to ship the logs from container to CloudWatch log groups. We are getting error 'awslogs dead but pid file exists' when we check the log agent service status. \r\n\r\nAttached is the AWS config file for logs, where we are shipping logs to different log groups.\r\n\r\nWhen we check '/var/log/awslogs.log' inside those containers, we see below errors in that file. \r\n\r\nmportError: No module named requests\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/aws\", line 27, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/bin/aws\", line 23, in main\r\n    return awscli.clidriver.main()\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 68, in main\r\n    driver = create_clidriver()\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/clidriver.py\", line 78, in create_clidriver\r\n    event_hooks=session.get_component('event_emitter'))\r\n  File \"/usr/lib/python2.7/dist-packages/awscli/plugin.py\", line 49, in load_plugins\r\n    plugin.awscli_initialize(event_hooks)\r\n  File \"/usr/lib/python2.7/dist-packages/cwlogs/__init__.py\", line 25, in awscli_initialize\r\n    from cwlogs.push import initialize as logs_push_init\r\n  File \"/usr/lib/python2.7/dist-packages/cwlogs/push.py\", line 34, in <module>\r\n    import requests\r\n\r\nThe same setup is working fine in other environments. Can anybody please let us know what could be the issue. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5319", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5319/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5319/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5319/events", "html_url": "https://github.com/aws/aws-cli/issues/5319", "id": 645940623, "node_id": "MDU6SXNzdWU2NDU5NDA2MjM=", "number": 5319, "title": "Failed to fetch python cryptography", "user": {"login": "ubirajaramneto", "id": 5034480, "node_id": "MDQ6VXNlcjUwMzQ0ODA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5034480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubirajaramneto", "html_url": "https://github.com/ubirajaramneto", "followers_url": "https://api.github.com/users/ubirajaramneto/followers", "following_url": "https://api.github.com/users/ubirajaramneto/following{/other_user}", "gists_url": "https://api.github.com/users/ubirajaramneto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubirajaramneto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubirajaramneto/subscriptions", "organizations_url": "https://api.github.com/users/ubirajaramneto/orgs", "repos_url": "https://api.github.com/users/ubirajaramneto/repos", "events_url": "https://api.github.com/users/ubirajaramneto/events{/privacy}", "received_events_url": "https://api.github.com/users/ubirajaramneto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-26T01:13:04Z", "updated_at": "2020-06-26T01:17:35Z", "closed_at": "2020-06-26T01:17:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to install aws-cli in a circle-ci job, the job keeps failing telling me that some packages could not be fetched.\r\n\r\nHere is the complete log.\r\n\r\n```shell\r\n#!/bin/bash -eo pipefail\r\nsudo apt-get install python-dev python-pip\r\nsudo pip install awscli\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nThe following additional packages will be installed:\r\n  build-essential dbus libapparmor1 libpython-all-dev libpython-dev\r\n  libpython2.7-dev python-all python-all-dev python-cffi-backend python-crypto\r\n  python-cryptography python-dbus python-enum34 python-gi python-idna\r\n  python-ipaddress python-keyring python-keyrings.alt python-pip-whl\r\n  python-pkg-resources python-pyasn1 python-secretstorage python-setuptools\r\n  python-wheel python-xdg python2.7-dev\r\nSuggested packages:\r\n  default-dbus-session-bus | dbus-session-bus python-crypto-dbg\r\n  python-crypto-doc python-cryptography-doc python-cryptography-vectors\r\n  python-dbus-dbg python-dbus-doc python-enum34-doc python-gi-cairo\r\n  gnome-keyring libkf5wallet-bin gir1.2-gnomekeyring-1.0 python-fs\r\n  python-gdata python-kde4 python-keyczar doc-base python-secretstorage-doc\r\n  python-setuptools-doc\r\nThe following NEW packages will be installed:\r\n  build-essential dbus libapparmor1 libpython-all-dev libpython-dev\r\n  libpython2.7-dev python-all python-all-dev python-cffi-backend python-crypto\r\n  python-cryptography python-dbus python-dev python-enum34 python-gi\r\n  python-idna python-ipaddress python-keyring python-keyrings.alt python-pip\r\n  python-pip-whl python-pkg-resources python-pyasn1 python-secretstorage\r\n  python-setuptools python-wheel python-xdg python2.7-dev\r\n0 upgraded, 28 newly installed, 0 to remove and 2 not upgraded.\r\nNeed to get 32.4 MB of archives.\r\nAfter this operation, 52.8 MB of additional disk space will be used.\r\nGet:1 http://deb.debian.org/debian stretch/main amd64 libapparmor1 amd64 2.11.0-3+deb9u2 [78.9 kB]\r\nGet:2 http://security.debian.org/debian-security stretch/updates/main amd64 dbus amd64 1.10.28-0+deb9u1 [212 kB]\r\nGet:3 http://deb.debian.org/debian stretch/main amd64 build-essential amd64 12.3 [7346 B]\r\nGet:4 http://deb.debian.org/debian stretch/main amd64 libpython2.7-dev amd64 2.7.13-2+deb9u3 [28.2 MB]\r\nGet:5 http://deb.debian.org/debian stretch/main amd64 libpython-dev amd64 2.7.13-2 [20.1 kB]\r\nGet:6 http://deb.debian.org/debian stretch/main amd64 libpython-all-dev amd64 2.7.13-2 [960 B]\r\nGet:7 http://deb.debian.org/debian stretch/main amd64 python-all amd64 2.7.13-2 [942 B]\r\nGet:8 http://deb.debian.org/debian stretch/main amd64 python2.7-dev amd64 2.7.13-2+deb9u3 [290 kB]\r\nGet:9 http://deb.debian.org/debian stretch/main amd64 python-dev amd64 2.7.13-2 [1126 B]\r\nGet:10 http://deb.debian.org/debian stretch/main amd64 python-all-dev amd64 2.7.13-2 [962 B]\r\nGet:11 http://deb.debian.org/debian stretch/main amd64 python-cffi-backend amd64 1.9.1-2 [69.0 kB]\r\nGet:12 http://deb.debian.org/debian stretch/main amd64 python-crypto amd64 2.6.1-7 [259 kB]\r\nGet:13 http://deb.debian.org/debian stretch/main amd64 python-enum34 all 1.1.6-1 [35.0 kB]\r\nGet:14 http://deb.debian.org/debian stretch/main amd64 python-idna all 2.2-1 [32.6 kB]\r\nGet:15 http://deb.debian.org/debian stretch/main amd64 python-ipaddress all 1.0.17-1 [18.1 kB]\r\nGet:16 http://deb.debian.org/debian stretch/main amd64 python-pyasn1 all 0.1.9-2 [51.8 kB]\r\nGet:17 http://deb.debian.org/debian stretch/main amd64 python-pkg-resources all 33.1.1-1 [166 kB]\r\nGet:18 http://deb.debian.org/debian stretch/main amd64 python-setuptools all 33.1.1-1 [297 kB]\r\nErr:19 http://deb.debian.org/debian stretch/main amd64 python-cryptography amd64 1.7.1-3+deb9u1\r\n  404  Not Found\r\nGet:20 http://deb.debian.org/debian stretch/main amd64 python-dbus amd64 1.2.4-1+b1 [185 kB]\r\nGet:21 http://deb.debian.org/debian stretch/main amd64 python-gi amd64 3.22.0-2 [515 kB]\r\nGet:22 http://deb.debian.org/debian stretch/main amd64 python-secretstorage all 2.3.1-2 [13.8 kB]\r\nGet:23 http://deb.debian.org/debian stretch/main amd64 python-keyring all 10.1-1 [40.7 kB]\r\nGet:24 http://deb.debian.org/debian stretch/main amd64 python-keyrings.alt all 1.3-1 [16.4 kB]\r\nGet:25 http://deb.debian.org/debian stretch/main amd64 python-pip-whl all 9.0.1-2+deb9u1 [1399 kB]\r\nGet:26 http://deb.debian.org/debian stretch/main amd64 python-pip all 9.0.1-2+deb9u1 [179 kB]\r\nGet:27 http://deb.debian.org/debian stretch/main amd64 python-wheel all 0.29.0-2 [51.7 kB]\r\nGet:28 http://deb.debian.org/debian stretch/main amd64 python-xdg all 0.25-4 [35.8 kB]\r\nFetched 32.2 MB in 0s (68.0 MB/s)      \r\nE: Failed to fetch http://deb.debian.org/debian/pool/main/p/python-cryptography/python-cryptography_1.7.1-3+deb9u1_amd64.deb  404  Not Found\r\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\r\n\r\nExited with code exit status 100\r\nCircleCI received exit code 100\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5317", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5317/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5317/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5317/events", "html_url": "https://github.com/aws/aws-cli/issues/5317", "id": 645719853, "node_id": "MDU6SXNzdWU2NDU3MTk4NTM=", "number": 5317, "title": "ECR get-login-password for docker login yields 400 bad request", "user": {"login": "flah00", "id": 477982, "node_id": "MDQ6VXNlcjQ3Nzk4Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/477982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flah00", "html_url": "https://github.com/flah00", "followers_url": "https://api.github.com/users/flah00/followers", "following_url": "https://api.github.com/users/flah00/following{/other_user}", "gists_url": "https://api.github.com/users/flah00/gists{/gist_id}", "starred_url": "https://api.github.com/users/flah00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flah00/subscriptions", "organizations_url": "https://api.github.com/users/flah00/orgs", "repos_url": "https://api.github.com/users/flah00/repos", "events_url": "https://api.github.com/users/flah00/events{/privacy}", "received_events_url": "https://api.github.com/users/flah00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 2221264568, "node_id": "MDU6TGFiZWwyMjIxMjY0NTY4", "url": "https://api.github.com/repos/aws/aws-cli/labels/ecr", "name": "ecr", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-25T17:04:26Z", "updated_at": "2020-07-25T07:09:44Z", "closed_at": "2020-07-25T07:09:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI want to login into ECR in us-west-2, because I would like to pull the [aws-iam-authenticator](https://github.com/kubernetes-sigs/aws-iam-authenticator/releases) image, ie `docker pull 602401143452.dkr.ecr.us-west-2.amazonaws.com/amazon/aws-iam-authenticator:v0.5.0-alpine-3.7`. The docker login instructions on the release page are out of date. I followed the instructions in the [AWS CLI get-login-password](https://docs.aws.amazon.com/cli/latest/reference/ecr/get-login-password.html), but I get HTTP error code 400 back from the server.\r\n\r\n**SDK version number**\r\n```\r\naws --version\r\naws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n```\r\nuname -a\r\nDarwin AMAC02YK1BBJGH6 18.7.0 Darwin Kernel Version 18.7.0: Mon Apr 27 20:09:39 PDT 2020; root:xnu-4903.278.35~1/RELEASE_X86_64 x86_64\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\n```\r\naws --profile $aws_profile --region ${aws_region} ecr get-login-password \\\r\n    | docker login \\\r\n        --password-stdin \\\r\n        --username AWS \\\r\n        \"${aws_account_id}.dkr.ecr.${aws_region}.amazonaws.com\"\r\nError response from daemon: login attempt to https://$aws_account_id.dkr.ecr.$aws_region.amazonaws.com/v2/ failed with status: 400 Bad Request\r\n```\r\n\r\n**Expected behavior**\r\nI should be logged in, but I am not\r\n\r\n**Logs/output**\r\n```\r\n2020-06-25 12:33:06,720 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14\r\n2020-06-25 12:33:06,720 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', '--profile', '$aws_profile', '--region', '$aws_region', 'ecr', 'get-login-password']\r\n2020-06-25 12:33:06,721 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x110e9d160>\r\n2020-06-25 12:33:06,721 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x110736790>\r\n2020-06-25 12:33:06,721 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x110ee7820>\r\n2020-06-25 12:33:06,721 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x110797040>\r\n2020-06-25 12:33:06,728 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\r\n2020-06-25 12:33:06,728 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x110d59ee0>\r\n2020-06-25 12:33:06,728 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x110d0b0d0>\r\n2020-06-25 12:33:06,745 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/ecr/2015-09-21/service-2.json\r\n2020-06-25 12:33:06,751 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecr: calling handler <function _inject_commands at 0x110d70670>\r\n2020-06-25 12:33:06,752 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecr: calling handler <function add_waiters at 0x110ea4790>\r\n2020-06-25 12:33:06,770 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/ecr/2015-09-21/waiters-2.json\r\n2020-06-25 12:33:06,770 - MainThread - botocore.hooks - DEBUG - Event building-command-table.get-login-password: calling handler <function add_waiters at 0x110ea4790>\r\n2020-06-25 12:33:06,771 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-06-25 12:33:06,771 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-06-25 12:33:06,771 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-06-25 12:33:06,771 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-06-25 12:33:06,772 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-06-25 12:33:06,772 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/endpoints.json\r\n2020-06-25 12:33:06,779 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x11010fb80>\r\n2020-06-25 12:33:06,780 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ecr: calling handler <function add_generate_presigned_url at 0x1100de790>\r\n2020-06-25 12:33:06,784 - MainThread - botocore.endpoint - DEBUG - Setting api.ecr timeout as (60, 60)\r\n2020-06-25 12:33:06,785 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.ecr.GetAuthorizationToken: calling handler <function base64_decode_input_blobs at 0x110eed0d0>\r\n2020-06-25 12:33:06,785 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ecr.GetAuthorizationToken: calling handler <function generate_idempotent_uuid at 0x11012fca0>\r\n2020-06-25 12:33:06,785 - MainThread - botocore.hooks - DEBUG - Event before-call.ecr.GetAuthorizationToken: calling handler <function inject_api_version_header_if_needed at 0x110135790>\r\n2020-06-25 12:33:06,785 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetAuthorizationToken) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14'}, 'body': b'{}', 'url': 'https://api.ecr.$aws_region.amazonaws.com/', 'context': {'client_region': '$aws_region', 'client_config': <botocore.config.Config object at 0x112a70490>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-06-25 12:33:06,785 - MainThread - botocore.hooks - DEBUG - Event request-created.ecr.GetAuthorizationToken: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x112a70460>>\r\n2020-06-25 12:33:06,785 - MainThread - botocore.hooks - DEBUG - Event choose-signer.ecr.GetAuthorizationToken: calling handler <function set_operation_specific_signer at 0x11012fb80>\r\n2020-06-25 12:33:06,785 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-06-25 12:33:06,786 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-amz-json-1.1\r\nhost:api.ecr.$aws_region.amazonaws.com\r\nx-amz-date:20200625T163306Z\r\nx-amz-target:AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken\r\n\r\ncontent-type;host;x-amz-date;x-amz-target\r\n44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a\r\n2020-06-25 12:33:06,786 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200625T163306Z\r\n20200625/$aws_region/ecr/aws4_request\r\n47f5afb79d1c5130426a2e54118988345b1798e4a4c15f59d4ae9b1d4176713e\r\n2020-06-25 12:33:06,786 - MainThread - botocore.auth - DEBUG - Signature:\r\n364f590097554b1ccf89d3efd5cdf6a57d6d91d22f796249bc479b035f7fbbd0\r\n2020-06-25 12:33:06,786 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://api.ecr.$aws_region.amazonaws.com/, headers={'X-Amz-Target': b'AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14', 'X-Amz-Date': b'20200625T163306Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIATHGYY3MLXEYVF3QV/20200625/$aws_region/ecr/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=364f590097554b1ccf89d3efd5cdf6a57d6d91d22f796249bc479b035f7fbbd0', 'Content-Length': '2'}>\r\n2020-06-25 12:33:06,787 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.ecr.$aws_region.amazonaws.com:443\r\n2020-06-25 12:33:07,174 - MainThread - urllib3.connectionpool - DEBUG - https://api.ecr.$aws_region.amazonaws.com:443 \"POST / HTTP/1.1\" 200 2780\r\n2020-06-25 12:33:07,175 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': '854e969a-9d80-4dbb-9970-513d2628ef6b', 'Date': 'Thu, 25 Jun 2020 16:33:07 GMT', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '2780'}\r\n2020-06-25 12:33:07,175 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"authorizationData\":[{\"authorizationToken\":\"B64DATA\",\"expiresAt\":1.59314598712E9,\"proxyEndpoint\":\"https://$aws_account_id.dkr.ecr.$aws_region.amazonaws.com\"}]}'\r\n2020-06-25 12:33:07,175 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ecr.GetAuthorizationToken: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x112a70fd0>>\r\n2020-06-25 12:33:07,176 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-06-25 12:33:07,176 - MainThread - botocore.hooks - DEBUG - Event after-call.ecr.GetAuthorizationToken: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x112a706d0>>\r\nError response from daemon: login attempt to https://$aws_account_id.dkr.ecr.$aws_region.amazonaws.com/v2/ failed with status: 400 Bad Request\r\n\r\n```\r\n\r\n**Additional context**\r\nI have found that I can successfully docker login to region us-east-1, but I cannot login to us-west-2. I need to login to us-west-2, so I can pull `602401143452.dkr.ecr.us-west-2.amazonaws.com/amazon/aws-iam-authenticator:v0.5.0-alpine-3.7`. I looked over the [status](https://status.aws.amazon.com/) of ECR for us-west-2 and it's not reporting any issues.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5315", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5315/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5315/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5315/events", "html_url": "https://github.com/aws/aws-cli/issues/5315", "id": 645235562, "node_id": "MDU6SXNzdWU2NDUyMzU1NjI=", "number": 5315, "title": "dangling multipart files?", "user": {"login": "tooptoop4", "id": 33283496, "node_id": "MDQ6VXNlcjMzMjgzNDk2", "avatar_url": "https://avatars0.githubusercontent.com/u/33283496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tooptoop4", "html_url": "https://github.com/tooptoop4", "followers_url": "https://api.github.com/users/tooptoop4/followers", "following_url": "https://api.github.com/users/tooptoop4/following{/other_user}", "gists_url": "https://api.github.com/users/tooptoop4/gists{/gist_id}", "starred_url": "https://api.github.com/users/tooptoop4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tooptoop4/subscriptions", "organizations_url": "https://api.github.com/users/tooptoop4/orgs", "repos_url": "https://api.github.com/users/tooptoop4/repos", "events_url": "https://api.github.com/users/tooptoop4/events{/privacy}", "received_events_url": "https://api.github.com/users/tooptoop4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "ffe79b", "default": false, "description": "This issue needs reproduction."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-25T07:08:08Z", "updated_at": "2020-07-13T20:07:24Z", "closed_at": "2020-07-13T20:07:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "when doing s3 cp/s3 sync from local ec2 to s3, some multipart files are getting generated under /tmp \r\n\r\n/tmp/multipart-070375447\r\n/tmp/multipart-263464344\r\n/tmp/multipart-140824714\r\n\r\nthe files are still there after the aws cli command finishes. How to prevent them being created or have aws cli auto-purge them on completion? doing && rm /tmp/multipart-* is risky in case of multiple aws cli commands running in parallel\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5306", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5306/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5306/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5306/events", "html_url": "https://github.com/aws/aws-cli/issues/5306", "id": 641596610, "node_id": "MDU6SXNzdWU2NDE1OTY2MTA=", "number": 5306, "title": "CLI in CodeBuild image - import awscli.clidriver ModuleNotFoundError: No module named 'awscli'", "user": {"login": "Jun711", "id": 6880939, "node_id": "MDQ6VXNlcjY4ODA5Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6880939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jun711", "html_url": "https://github.com/Jun711", "followers_url": "https://api.github.com/users/Jun711/followers", "following_url": "https://api.github.com/users/Jun711/following{/other_user}", "gists_url": "https://api.github.com/users/Jun711/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jun711/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jun711/subscriptions", "organizations_url": "https://api.github.com/users/Jun711/orgs", "repos_url": "https://api.github.com/users/Jun711/repos", "events_url": "https://api.github.com/users/Jun711/events{/privacy}", "received_events_url": "https://api.github.com/users/Jun711/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-06-18T22:58:49Z", "updated_at": "2020-06-27T01:43:09Z", "closed_at": "2020-06-26T23:48:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [X] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nImage - aws/codebuild/standard:2.0\r\nEnvironment type - Linux\r\n\r\n**Describe the question**\r\nAfter the container downloads aws-cli 1.18.83, it fails to import clidriver. \r\nError message is\r\n```\r\nimport awscli.clidriver \r\nModuleNotFoundError: No module named 'awscli'\r\n```\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n```\r\n\r\n[Container] 2020/06/18 22:45:54 CODEBUILD_SRC_DIR=/codebuild/output/src580743728/src\r\n--\r\n5 | [Container] 2020/06/18 22:45:54 YAML location is /codebuild/output/src580743728/src/buildspec.yml\r\n6 | [Container] 2020/06/18 22:45:54 Processing environment variables\r\n7 | [Container] 2020/06/18 22:45:54 Selecting 'python' runtime version '3.7' based on manual selections...\r\n8 | [Container] 2020/06/18 22:45:54 Running command echo \"Installing Python version 3.7 ...\"\r\n9 | Installing Python version 3.7 ...\r\n10 | \u00a0\r\n11 | [Container] 2020/06/18 22:45:54 Running command pyenv global  $PYTHON_37_VERSION\r\n12 | \u00a0\r\n13 | [Container] 2020/06/18 22:45:54 Moving to directory /codebuild/output/src580743728/src\r\n14 | [Container] 2020/06/18 22:45:54 Registering with agent\r\n15 | [Container] 2020/06/18 22:45:54 Phases found in YAML: 3\r\n16 | [Container] 2020/06/18 22:45:54  INSTALL: 1 commands\r\n17 | [Container] 2020/06/18 22:45:54  PRE_BUILD: 1 commands\r\n18 | [Container] 2020/06/18 22:45:54  BUILD: 2 commands\r\n19 | [Container] 2020/06/18 22:45:54 Phase complete: DOWNLOAD_SOURCE State: SUCCEEDED\r\n20 | [Container] 2020/06/18 22:45:54 Phase context status code:  Message:\r\n21 | [Container] 2020/06/18 22:45:55 Entering phase INSTALL\r\n22 | [Container] 2020/06/18 22:45:55 Running command pip install --upgrade awscli\r\n23 | Collecting awscli\r\n24 | Downloading https://files.pythonhosted.org/packages/d4/21/3779c68cdc2e022aa8a28bba2afa509e6117130680df81a01546c98f53ca/awscli-1.18.83-py2.py3-none-any.whl (3.2MB)\r\n25 | Requirement already satisfied, skipping upgrade: colorama<0.4.4,>=0.2.5; python_version != \"3.4\" in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from awscli) (0.4.3)\r\n26 | Requirement already satisfied, skipping upgrade: PyYAML<5.4,>=3.10; python_version != \"3.4\" in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from awscli) (5.1.2)\r\n27 | Requirement already satisfied, skipping upgrade: docutils<0.16,>=0.10 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from awscli) (0.15.2)\r\n28 | Collecting botocore==1.17.6\r\n29 | Downloading https://files.pythonhosted.org/packages/1c/76/07b3a38140cff2fb245bb39afd074457600c1cc9502d6129e17b7565ddc9/botocore-1.17.6-py2.py3-none-any.whl (6.3MB)\r\n30 | Requirement already satisfied, skipping upgrade: rsa<=3.5.0,>=3.1.2 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from awscli) (3.4.2)\r\n31 | Requirement already satisfied, skipping upgrade: s3transfer<0.4.0,>=0.3.0 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from awscli) (0.3.3)\r\n32 | Requirement already satisfied, skipping upgrade: urllib3<1.26,>=1.20; python_version != \"3.4\" in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from botocore==1.17.6->awscli) (1.25.9)\r\n33 | Requirement already satisfied, skipping upgrade: python-dateutil<3.0.0,>=2.1 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from botocore==1.17.6->awscli) (2.8.0)\r\n34 | Requirement already satisfied, skipping upgrade: jmespath<1.0.0,>=0.7.1 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from botocore==1.17.6->awscli) (0.9.5)\r\n35 | Requirement already satisfied, skipping upgrade: pyasn1>=0.1.3 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from rsa<=3.5.0,>=3.1.2->awscli) (0.4.8)\r\n36 | Requirement already satisfied, skipping upgrade: six>=1.5 in /root/.pyenv/versions/3.7.6/lib/python3.7/site-packages (from python-dateutil<3.0.0,>=2.1->botocore==1.17.6->awscli) (1.14.0)\r\n37 | ERROR: boto3 1.12.49 has requirement botocore<1.16.0,>=1.15.49, but you'll have botocore 1.17.6 which is incompatible.\r\n38 | Installing collected packages: botocore, awscli\r\n39 | Found existing installation: botocore 1.15.49\r\n40 | Uninstalling botocore-1.15.49:\r\n41 | Successfully uninstalled botocore-1.15.49\r\n42 | Found existing installation: awscli 1.18.49\r\n43 | Uninstalling awscli-1.18.49:\r\n44 | Successfully uninstalled awscli-1.18.49\r\n45 | Successfully installed awscli-1.18.83 botocore-1.17.6\r\n46 | WARNING: You are using pip version 19.3.1; however, version 20.1.1 is available.\r\n47 | You should consider upgrading via the 'pip install --upgrade pip' command.\r\n48 | \u00a0\r\n49 | [Container] 2020/06/18 22:46:07 Phase complete: INSTALL State: SUCCEEDED\r\n50 | [Container] 2020/06/18 22:46:07 Phase context status code:  Message:\r\n51 | [Container] 2020/06/18 22:46:07 Entering phase PRE_BUILD\r\n52 | [Container] 2020/06/18 22:46:07 Running command\r\n53 | \u00a0\r\n54 | [Container] 2020/06/18 22:46:07 Phase complete: PRE_BUILD State: SUCCEEDED\r\n55 | [Container] 2020/06/18 22:46:07 Phase context status code:  Message:\r\n56 | [Container] 2020/06/18 22:46:07 Entering phase BUILD\r\n57 | [Container] 2020/06/18 22:46:07 Running command aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template template-export.yml\r\n58 | Traceback (most recent call last):\r\n59 | File \"/bin/aws\", line 19, in <module>\r\n60 | import awscli.clidriver\r\n61 | ModuleNotFoundError: No module named 'awscli'\r\n62 | \u00a0\r\n63 | [Container] 2020/06/18 22:46:08 Command did not exit successfully aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template template-export.yml exit status 1\r\n64 | [Container] 2020/06/18 22:46:08 Phase complete: BUILD State: FAILED\r\n65 | [Container] 2020/06/18 22:46:08 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template template-export.yml. Reason: exit status 1\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5303", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5303/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5303/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5303/events", "html_url": "https://github.com/aws/aws-cli/issues/5303", "id": 640845685, "node_id": "MDU6SXNzdWU2NDA4NDU2ODU=", "number": 5303, "title": "s3 sync with max_concurrent_requests", "user": {"login": "WeipingGuo", "id": 3410362, "node_id": "MDQ6VXNlcjM0MTAzNjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3410362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WeipingGuo", "html_url": "https://github.com/WeipingGuo", "followers_url": "https://api.github.com/users/WeipingGuo/followers", "following_url": "https://api.github.com/users/WeipingGuo/following{/other_user}", "gists_url": "https://api.github.com/users/WeipingGuo/gists{/gist_id}", "starred_url": "https://api.github.com/users/WeipingGuo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WeipingGuo/subscriptions", "organizations_url": "https://api.github.com/users/WeipingGuo/orgs", "repos_url": "https://api.github.com/users/WeipingGuo/repos", "events_url": "https://api.github.com/users/WeipingGuo/events{/privacy}", "received_events_url": "https://api.github.com/users/WeipingGuo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 90091147, "node_id": "MDU6TGFiZWw5MDA5MTE0Nw==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3", "name": "s3", "color": "ff5500", "default": false, "description": ""}, {"id": 75395486, "node_id": "MDU6TGFiZWw3NTM5NTQ4Ng==", "url": "https://api.github.com/repos/aws/aws-cli/labels/s3sync", "name": "s3sync", "color": "ff5500", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-06-18T01:47:33Z", "updated_at": "2020-07-21T21:46:14Z", "closed_at": "2020-07-21T21:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n```\r\naws --version\r\naws-cli/1.18.82 Python/2.7.9 Linux/3.16.0-10-amd64 botocore/1.17.5\r\n```\r\n\r\n**Describe the question**\r\nI would like to improve the download throughput via max_concurrent_requests, here is the config i have\r\n```\r\ncat ~/.aws/config\r\n[default]\r\ns3 =\r\n    max_concurrent_requests = 100\r\n    max_queue_size = 10000\r\n    max_bandwidth = 100MB/s\r\n```\r\nhowever when I run the `aws s3 sync`  and watch `lsof -i tcp:443`, the max established connections never gets above 20.  The CPU usage is low. \r\n\r\nDid I miss something? \r\n\r\nThank you very much\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5299", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5299/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5299/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5299/events", "html_url": "https://github.com/aws/aws-cli/issues/5299", "id": 640083947, "node_id": "MDU6SXNzdWU2NDAwODM5NDc=", "number": 5299, "title": "aws s3 sync --exact-timestamps ", "user": {"login": "jrxubio", "id": 58078212, "node_id": "MDQ6VXNlcjU4MDc4MjEy", "avatar_url": "https://avatars1.githubusercontent.com/u/58078212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrxubio", "html_url": "https://github.com/jrxubio", "followers_url": "https://api.github.com/users/jrxubio/followers", "following_url": "https://api.github.com/users/jrxubio/following{/other_user}", "gists_url": "https://api.github.com/users/jrxubio/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrxubio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrxubio/subscriptions", "organizations_url": "https://api.github.com/users/jrxubio/orgs", "repos_url": "https://api.github.com/users/jrxubio/repos", "events_url": "https://api.github.com/users/jrxubio/events{/privacy}", "received_events_url": "https://api.github.com/users/jrxubio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-17T02:03:50Z", "updated_at": "2020-08-03T23:33:01Z", "closed_at": "2020-06-21T17:05:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [X ] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nLinux\r\n**Describe the question**\r\nI used the command line: \"aws s3 sync --exact-timestamps 1 myDir/ s3://mybucket/myDir/\", and got error: Unknown options: s3://mybucket/myDir/. This command line was used before, and I can not identify where the mistake is. \r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5296", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5296/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5296/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5296/events", "html_url": "https://github.com/aws/aws-cli/issues/5296", "id": 639981463, "node_id": "MDU6SXNzdWU2Mzk5ODE0NjM=", "number": 5296, "title": "Getting timeouts or connection reset by peers when trying to run get-job-output from glacier using aws cli", "user": {"login": "samthar", "id": 67026599, "node_id": "MDQ6VXNlcjY3MDI2NTk5", "avatar_url": "https://avatars0.githubusercontent.com/u/67026599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samthar", "html_url": "https://github.com/samthar", "followers_url": "https://api.github.com/users/samthar/followers", "following_url": "https://api.github.com/users/samthar/following{/other_user}", "gists_url": "https://api.github.com/users/samthar/gists{/gist_id}", "starred_url": "https://api.github.com/users/samthar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samthar/subscriptions", "organizations_url": "https://api.github.com/users/samthar/orgs", "repos_url": "https://api.github.com/users/samthar/repos", "events_url": "https://api.github.com/users/samthar/events{/privacy}", "received_events_url": "https://api.github.com/users/samthar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 289134296, "node_id": "MDU6TGFiZWwyODkxMzQyOTY=", "url": "https://api.github.com/repos/aws/aws-cli/labels/glacier", "name": "glacier", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-16T21:24:10Z", "updated_at": "2020-07-17T17:06:06Z", "closed_at": "2020-07-17T17:06:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [x] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nRHEL 7 \r\naws-cli/2.0.22 Python/3.7.3 Linux/3.10.0-1127.10.1.el7.x86_64 botocore/2.0.0dev26\r\n**Describe the question**\r\nConnection broken: ConnectionResetError(104, 'Connection reset by peer')\", ConnectionResetError(104, 'Connection reset by peer')\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\naws --debug --cli-read-timeout 0  --cli-connect-timeout 0 glacier get-job-output --account-id '-' --vault-name backup_oracle  --job-id \"hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ\" /backup/image/gen121x_2020Jun14_171358\r\n2020-06-16 14:55:08,489 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.22 Python/3.7.3 Linux/3.10.0-1127.10.1.el7.x86_64 botocore/2.0.0dev26\r\n2020-06-16 14:55:08,489 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--debug', '--cli-read-timeout', '0', '--cli-connect-timeout', '0', 'glacier', 'get-job-output', '--account-id', '-', '--vault-name', 'backup_oracle', '--job-id', 'hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ', '/backup/image/gen121x_2020Jun14_171358']\r\n2020-06-16 14:55:08,490 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f706bcdc9d8>\r\n2020-06-16 14:55:08,490 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f706c62d598>\r\n2020-06-16 14:55:08,490 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f706bc8ac80>\r\n2020-06-16 14:55:08,490 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f706c5de620>\r\n2020-06-16 14:55:08,492 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f706be28c80>\r\n2020-06-16 14:55:08,492 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f706be59730>\r\n2020-06-16 14:55:08,497 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /apps/awscli/v2/2.0.22/dist/botocore/data/glacier/2012-06-01/service-2.json\r\n2020-06-16 14:55:08,503 - MainThread - botocore.hooks - DEBUG - Event building-command-table.glacier: calling handler <function add_waiters at 0x7f706bce0e18>\r\n2020-06-16 14:55:08,507 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /apps/awscli/v2/2.0.22/dist/botocore/data/glacier/2012-06-01/waiters-2.json\r\n2020-06-16 14:55:08,508 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('account-id', <awscli.arguments.CLIArgument object at 0x7f706bb03320>), ('vault-name', <awscli.arguments.CLIArgument object at 0x7f706bb09780>), ('job-id', <awscli.arguments.CLIArgument object at 0x7f706bb09898>), ('range', <awscli.arguments.CLIArgument object at 0x7f706bb09860>)])\r\n2020-06-16 14:55:08,508 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_streaming_output_arg at 0x7f706bcdcc80>\r\n2020-06-16 14:55:08,508 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_cli_input_json at 0x7f706c5dee18>\r\n2020-06-16 14:55:08,509 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_cli_input_yaml at 0x7f706c5e5510>\r\n2020-06-16 14:55:08,509 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function unify_paging_params at 0x7f706be5fe18>\r\n2020-06-16 14:55:08,513 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /apps/awscli/v2/2.0.22/dist/botocore/data/glacier/2012-06-01/paginators-1.json\r\n2020-06-16 14:55:08,513 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_generate_skeleton at 0x7f706bd41598>\r\n2020-06-16 14:55:08,513 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.glacier.get-job-output: calling handler <function add_auto_prompt at 0x7f706bc8abf8>\r\n2020-06-16 14:55:08,514 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.glacier.get-job-output.account-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f706e13a4e0>\r\n2020-06-16 14:55:08,514 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.glacier.get-job-output: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f706c628908>\r\n2020-06-16 14:55:08,514 - MainThread - awscli.arguments - DEBUG - Unpacked value of '-' for parameter \"account_id\": '-'\r\n2020-06-16 14:55:08,514 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.glacier.get-job-output.vault-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f706e13a4e0>\r\n2020-06-16 14:55:08,515 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.glacier.get-job-output: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f706c628908>\r\n2020-06-16 14:55:08,515 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'backup_oracle' for parameter \"vault_name\": 'backup_oracle'\r\n2020-06-16 14:55:08,515 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.glacier.get-job-output.job-id: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f706e13a4e0>\r\n2020-06-16 14:55:08,515 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.glacier.get-job-output: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f706c628908>\r\n2020-06-16 14:55:08,515 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ' for parameter \"job_id\": 'hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ'\r\n2020-06-16 14:55:08,515 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.glacier.get-job-output.range: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f706e13a4e0>\r\n2020-06-16 14:55:08,515 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.glacier.get-job-output.outfile: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f706e13a4e0>\r\n2020-06-16 14:55:08,515 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-06-16 14:55:08,515 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-06-16 14:55:08,515 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-06-16 14:55:08,515 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-06-16 14:55:08,515 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-06-16 14:55:08,516 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-06-16 14:55:08,516 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /apps/awscli/v2/2.0.22/dist/botocore/data/endpoints.json\r\n2020-06-16 14:55:08,522 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f706d5d8c80>\r\n2020-06-16 14:55:08,523 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.glacier: calling handler <function add_generate_presigned_url at 0x7f706d624ae8>\r\n2020-06-16 14:55:08,526 - MainThread - botocore.endpoint - DEBUG - Setting glacier timeout as (None, None)\r\n2020-06-16 14:55:08,527 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.glacier.GetJobOutput: calling handler <function base64_decode_input_blobs at 0x7f706bca7510>\r\n2020-06-16 14:55:08,527 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.glacier.GetJobOutput: calling handler <function inject_account_id at 0x7f706d5f7a60>\r\n2020-06-16 14:55:08,527 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.glacier.GetJobOutput: calling handler <function generate_idempotent_uuid at 0x7f706d5f6b70>\r\n2020-06-16 14:55:08,528 - MainThread - botocore.hooks - DEBUG - Event before-call.glacier.GetJobOutput: calling handler <function add_glacier_version at 0x7f706d5f7ae8>\r\n2020-06-16 14:55:08,528 - MainThread - botocore.hooks - DEBUG - Event before-call.glacier.GetJobOutput: calling handler <function inject_api_version_header_if_needed at 0x7f706d5fa378>\r\n2020-06-16 14:55:08,528 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetJobOutput) with params: {'url_path': '/-/vaults/backup_oracle/jobs/hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ/output', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.22 Python/3.7.3 Linux/3.10.0-1127.10.1.el7.x86_64 botocore/2.0.0dev26', 'x-amz-glacier-version': '2012-06-01'}, 'body': b'', 'url': 'https://glacier.ca-central-1.amazonaws.com/-/vaults/backup_oracle/jobs/hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ/output', 'context': {'client_region': 'ca-central-1', 'client_config': <botocore.config.Config object at 0x7f706b9171d0>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-06-16 14:55:08,528 - MainThread - botocore.hooks - DEBUG - Event request-created.glacier.GetJobOutput: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f706b917160>>\r\n2020-06-16 14:55:08,528 - MainThread - botocore.hooks - DEBUG - Event choose-signer.glacier.GetJobOutput: calling handler <function set_operation_specific_signer at 0x7f706d5f6a60>\r\n2020-06-16 14:55:08,528 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-06-16 14:55:08,528 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/-/vaults/backup_oracle/jobs/hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ/output\r\n\r\nhost:glacier.ca-central-1.amazonaws.com\r\nx-amz-date:20200616T205508Z\r\nx-amz-glacier-version:2012-06-01\r\n\r\nhost;x-amz-date;x-amz-glacier-version\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-06-16 14:55:08,529 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200616T205508Z\r\n20200616/ca-central-1/glacier/aws4_request\r\n770843bec3e55cf2224d9e85930f9228fbefcdd2a29c14dd9abc24f1872eca78\r\n2020-06-16 14:55:08,529 - MainThread - botocore.auth - DEBUG - Signature:\r\n7f7551b1885012ebd451e2024cd3580a6f1e2ebe2b27695303345125343c6bbf\r\n2020-06-16 14:55:08,529 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=GET, url=https://glacier.ca-central-1.amazonaws.com/-/vaults/backup_oracle/jobs/hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ/output, headers={'User-Agent': b'aws-cli/2.0.22 Python/3.7.3 Linux/3.10.0-1127.10.1.el7.x86_64 botocore/2.0.0dev26', 'x-amz-glacier-version': b'2012-06-01', 'X-Amz-Date': b'20200616T205508Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA4N344XS4ITFXBZFU/20200616/ca-central-1/glacier/aws4_request, SignedHeaders=host;x-amz-date;x-amz-glacier-version, Signature=7f7551b1885012ebd451e2024cd3580a6f1e2ebe2b27695303345125343c6bbf'}>\r\n2020-06-16 14:55:08,529 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): glacier.ca-central-1.amazonaws.com:443\r\n2020-06-16 14:55:09,054 - MainThread - urllib3.connectionpool - DEBUG - https://glacier.ca-central-1.amazonaws.com:443 \"GET /-/vaults/backup_oracle/jobs/hTKTzfsexzyANgZKoZBQpEU8BnQz3LjiPyuSWjaHwKvDGv7U65c8XeN2MhGFzLu2Nc-mnHwes5WcxMrOcMKothp9KkaZ/output HTTP/1.1\" 200 40549092709\r\n2020-06-16 14:55:09,055 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': '3asCY_9y_AWbzKjIReV9HdZRL7UgvaTV8a3xtz57cQp6pyE', 'x-amz-sha256-tree-hash': 'f2f33dbddacf1bd48259421a5a1e1c22ed58220b1b865ed56fbc32b4b3344fb4', 'Accept-Ranges': 'bytes', 'x-amz-archive-description': '/backup/image/gen121x_2020Jun14_171358', 'Content-Type': 'application/octet-stream', 'Content-Length': '40549092709', 'Date': 'Tue, 16 Jun 2020 20:55:08 GMT'}\r\n2020-06-16 14:55:09,055 - MainThread - botocore.parsers - DEBUG - Response body:\r\n<botocore.response.StreamingBody object at 0x7f706b87c5c0>\r\n2020-06-16 14:55:09,055 - MainThread - botocore.hooks - DEBUG - Event needs-retry.glacier.GetJobOutput: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x7f706b9178d0>>\r\n2020-06-16 14:55:09,056 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-06-16 14:55:09,056 - MainThread - botocore.hooks - DEBUG - Event after-call.glacier.GetJobOutput: calling handler <bound method StreamingOutputArgument.save_file of <awscli.customizations.streamingoutputarg.StreamingOutputArgument object at 0x7f706bb09be0>>\r\n2020-06-16 14:57:37,210 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"urllib3/response.py\", line 437, in _error_catcher\r\n  File \"urllib3/response.py\", line 519, in read\r\n  File \"http/client.py\", line 447, in read\r\n  File \"http/client.py\", line 491, in readinto\r\n  File \"socket.py\", line 589, in readinto\r\n  File \"ssl.py\", line 1052, in recv_into\r\n  File \"ssl.py\", line 911, in read\r\nConnectionResetError: [Errno 104] Connection reset by peer\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"awscli/clidriver.py\", line 335, in main\r\n  File \"awscli/clidriver.py\", line 507, in __call__\r\n  File \"awscli/clidriver.py\", line 685, in __call__\r\n  File \"awscli/clidriver.py\", line 806, in invoke\r\n  File \"awscli/clidriver.py\", line 818, in _make_client_call\r\n  File \"botocore/client.py\", line 208, in _api_call\r\n  File \"botocore/client.py\", line 521, in _make_api_call\r\n  File \"botocore/hooks.py\", line 227, in emit\r\n  File \"botocore/hooks.py\", line 210, in _emit\r\n  File \"awscli/customizations/streamingoutputarg.py\", line 107, in save_file\r\n  File \"botocore/response.py\", line 78, in read\r\n  File \"urllib3/response.py\", line 541, in read\r\n  File \"contextlib.py\", line 130, in __exit__\r\n  File \"urllib3/response.py\", line 455, in _error_catcher\r\nurllib3.exceptions.ProtocolError: (\"Connection broken: ConnectionResetError(104, 'Connection reset by peer')\", ConnectionResetError(104, 'Connection reset by peer'))\r\n2020-06-16 14:57:37,211 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5293", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5293/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5293/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5293/events", "html_url": "https://github.com/aws/aws-cli/issues/5293", "id": 639500516, "node_id": "MDU6SXNzdWU2Mzk1MDA1MTY=", "number": 5293, "title": "Incorrect CloudWatchLogsLogGroupArn validation with DataSync Task", "user": {"login": "JuanOI", "id": 46955932, "node_id": "MDQ6VXNlcjQ2OTU1OTMy", "avatar_url": "https://avatars0.githubusercontent.com/u/46955932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JuanOI", "html_url": "https://github.com/JuanOI", "followers_url": "https://api.github.com/users/JuanOI/followers", "following_url": "https://api.github.com/users/JuanOI/following{/other_user}", "gists_url": "https://api.github.com/users/JuanOI/gists{/gist_id}", "starred_url": "https://api.github.com/users/JuanOI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JuanOI/subscriptions", "organizations_url": "https://api.github.com/users/JuanOI/orgs", "repos_url": "https://api.github.com/users/JuanOI/repos", "events_url": "https://api.github.com/users/JuanOI/events{/privacy}", "received_events_url": "https://api.github.com/users/JuanOI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-16T09:06:18Z", "updated_at": "2020-06-18T08:14:44Z", "closed_at": "2020-06-18T08:14:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n\r\nThe AWS CLI reports a verbatim copied version of a CloudWatchLogs log-group ARN as being invalid.\r\n\r\n**SDK version number**\r\n\r\naws-cli/1.18.68 Python/2.7.18 Linux/3.10.0-1127.10.1.el7.x86_64 botocore/1.16.18\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\nLinux CentOS 7\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\n1. Create a datasync task\r\n2. Run the following command\r\n\r\n```\r\naws datasync update-task --task-arn <DATASYNC_TASK_ARN> --cloud-watch-log-group-arn <LOG_GROUP_ARN> --options LogLevel=TRANSFER\r\n```\r\n\r\n**Expected behavior**\r\n\r\nDatasync has been successfully updated to generate logs to the specified log group.\r\n\r\n**Logs/output**\r\n\r\nAn error occurred (ValidationException) when calling the UpdateTask operation: 1 validation error detected: Value '<LOG_GROUP_ARN>' at 'cloudWatchLogGroupArn' failed to satisfy constraint: Member must satisfy regular expression pattern: ^arn:(aws|aws-cn|aws-us-gov|aws-iso|aws-iso-b):logs:[a-z\\-0-9]*:[0-9]{12}:log-group:([^:\\*]*)$\r\n\r\n**Additional context**\r\n\r\nThe command will run successfully if one removes the characters ':*' at the end of the ARN provided by AWS.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5291", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5291/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5291/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5291/events", "html_url": "https://github.com/aws/aws-cli/issues/5291", "id": 639027611, "node_id": "MDU6SXNzdWU2MzkwMjc2MTE=", "number": 5291, "title": "Add scope option for npm login on CodeArtifact ", "user": {"login": "ryansonshine", "id": 9534477, "node_id": "MDQ6VXNlcjk1MzQ0Nzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9534477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryansonshine", "html_url": "https://github.com/ryansonshine", "followers_url": "https://api.github.com/users/ryansonshine/followers", "following_url": "https://api.github.com/users/ryansonshine/following{/other_user}", "gists_url": "https://api.github.com/users/ryansonshine/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryansonshine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryansonshine/subscriptions", "organizations_url": "https://api.github.com/users/ryansonshine/orgs", "repos_url": "https://api.github.com/users/ryansonshine/repos", "events_url": "https://api.github.com/users/ryansonshine/events{/privacy}", "received_events_url": "https://api.github.com/users/ryansonshine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2169783451, "node_id": "MDU6TGFiZWwyMTY5NzgzNDUx", "url": "https://api.github.com/repos/aws/aws-cli/labels/codeartifact", "name": "codeartifact", "color": "ff5500", "default": false, "description": ""}, {"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1114362431, "node_id": "MDU6TGFiZWwxMTE0MzYyNDMx", "url": "https://api.github.com/repos/aws/aws-cli/labels/service-api", "name": "service-api", "color": "ff5500", "default": false, "description": "This issue is due to a problem in a service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-15T17:45:03Z", "updated_at": "2020-08-11T16:27:54Z", "closed_at": "2020-08-11T16:27:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nWhen using the `aws codeartifact login --tool npm` command, the configuration is set on the user's global npm profile. If a developer has multiple repositories across different organizations, they will be unable to run an `npm install` on another private npm repo due to the CodeArtifact configuration being set on the user level without scoping applied.\r\n\r\n**Describe the solution you'd like**\r\nAdd an option for specifying scope when running the `aws codeartifact login --tool npm` command. See: https://docs.npmjs.com/using-npm/scope.html\r\n\r\n**Describe alternatives you've considered**\r\nI've considered assigning the output of `aws codeartifact get-authorization-token` to an environment variable, with the corresponding variable referenced in `.npmrc` however, this is harder to automate for developer machines across different operating systems.\r\n\r\n**Additional context**\r\nRunning\r\n`aws codeartifact login --tool npm --repository my-repo --domain my-domain`\r\n\r\nresults in\r\n```sh\r\n; userconfig ~/.npmrc\r\n//my-domain-1234567890.d.codeartifact.us-east-1.amazonaws.com/npm/my-repo/:always-auth = true\r\nregistry = \"https://my-domain-1234567890.d.codeartifact.us-east-1.amazonaws.com/npm/my-repo/\"\r\n```\r\n\r\nThe feature could look something like this\r\n`aws codeartifact login --tool npm --repository my-repo --domain my-domain --scope \"@myscope\"`\r\n\r\nresulting in:\r\n\r\n```sh\r\n; userconfig ~/.npmrc\r\n//my-domain-1234567890.d.codeartifact.us-east-1.amazonaws.com/npm/my-repo/:always-auth = true\r\n@myscope-scope:registry = \"https://my-domain-1234567890.d.codeartifact.us-east-1.amazonaws.com/npm/my-repo/\"\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5290", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5290/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5290/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5290/events", "html_url": "https://github.com/aws/aws-cli/issues/5290", "id": 638947648, "node_id": "MDU6SXNzdWU2Mzg5NDc2NDg=", "number": 5290, "title": "Aws cli", "user": {"login": "aws-london", "id": 66898579, "node_id": "MDQ6VXNlcjY2ODk4NTc5", "avatar_url": "https://avatars3.githubusercontent.com/u/66898579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aws-london", "html_url": "https://github.com/aws-london", "followers_url": "https://api.github.com/users/aws-london/followers", "following_url": "https://api.github.com/users/aws-london/following{/other_user}", "gists_url": "https://api.github.com/users/aws-london/gists{/gist_id}", "starred_url": "https://api.github.com/users/aws-london/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aws-london/subscriptions", "organizations_url": "https://api.github.com/users/aws-london/orgs", "repos_url": "https://api.github.com/users/aws-london/repos", "events_url": "https://api.github.com/users/aws-london/events{/privacy}", "received_events_url": "https://api.github.com/users/aws-london/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-15T15:33:48Z", "updated_at": "2020-06-15T16:39:40Z", "closed_at": "2020-06-15T16:39:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5289", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5289/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5289/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5289/events", "html_url": "https://github.com/aws/aws-cli/issues/5289", "id": 638512554, "node_id": "MDU6SXNzdWU2Mzg1MTI1NTQ=", "number": 5289, "title": "aws cloudwatch put-metric-alarm does not set tags properly", "user": {"login": "twegener-embertec", "id": 16996731, "node_id": "MDQ6VXNlcjE2OTk2NzMx", "avatar_url": "https://avatars2.githubusercontent.com/u/16996731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twegener-embertec", "html_url": "https://github.com/twegener-embertec", "followers_url": "https://api.github.com/users/twegener-embertec/followers", "following_url": "https://api.github.com/users/twegener-embertec/following{/other_user}", "gists_url": "https://api.github.com/users/twegener-embertec/gists{/gist_id}", "starred_url": "https://api.github.com/users/twegener-embertec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twegener-embertec/subscriptions", "organizations_url": "https://api.github.com/users/twegener-embertec/orgs", "repos_url": "https://api.github.com/users/twegener-embertec/repos", "events_url": "https://api.github.com/users/twegener-embertec/events{/privacy}", "received_events_url": "https://api.github.com/users/twegener-embertec/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "ffe79b", "default": false, "description": "This issue needs reproduction."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-15T03:27:02Z", "updated_at": "2020-06-26T00:51:58Z", "closed_at": "2020-06-26T00:51:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nProviding --tags to `aws cloudwatch put-metric-alarm` results in the a successful response, but the tags are not set, as shown by `aws cloudwatch describe-alarms-for-metric` and `aws cloudwatch list-tags-for-resource`.\r\n\r\n**SDK version number**\r\naws-cli/1.17.17 Python/3.8.3 Linux/5.6.16-300.fc32.x86_64 botocore/1.14.17\r\n\r\n**Platform/OS/Hardware/Device**\r\nFedora 32 Linux\r\n\r\n**To Reproduce (observed behavior)**\r\n```\r\naws cloudwatch put-metric-alarm --region=ap-southeast-2 --alarm-name=foo-dead --evaluation-periods=1 --alarm-description='Foo' --namespace='AWS/EC2' --dimensions='[{\"Name\": \"InstanceId\", \"Value\": \"i-redacted\"}]' --ok-actions='arn:aws:sns:ap-southeast-2:redacted' --alarm-actions='arn:aws:sns:ap-southeast-2:redacted' --actions-enabled --treat-missing-data=missing --period=300 --statistic=Average --threshold=0 --comparison-operator='GreaterThanThreshold' --metric-name='StatusCheckFailed' --tags='Key=Project,Value=FOO'\r\n...\r\naws cloudwatch describe-alarms-for-metric --region=ap-southeast-2 --metric-name CPUUtilization --namespace AWS/EC2 --dimensions='[{\"Name\": \"InstanceId\", \"Value\": \"i-redacted\"}]'\r\n...\r\naws cloudwatch list-tags-for-resource --region=ap-southeast-2 --resource-arn 'arn:aws:cloudwatch:ap-southeast-2:redacted'\r\n...\r\n```\r\n\r\n**Expected behavior**\r\nThe Tags should appear in the JSON responses from describe-alarms-for-metric and list-tags-for-resource.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n```\r\naws cloudwatch describe-alarms-for-metric --region=ap-southeast-2 --metric-name CPUUtilization --namespace AWS/EC2 --dimensions='[{\"Name\": \"InstanceId\", \"Value\": \"i-redacted\"}]'\r\n\r\n{\r\n    \"MetricAlarms\": [\r\n        {\r\n            \"AlarmName\": \"redacted\",\r\n            \"AlarmArn\": \"arn:aws:cloudwatch:ap-southeast-2:redacted\",\r\n            \"AlarmDescription\": \"redacted\",\r\n            \"AlarmConfigurationUpdatedTimestamp\": \"2019-10-23T03:18:08.402Z\",\r\n            \"ActionsEnabled\": true,\r\n            \"OKActions\": [\r\n                \"arn:aws:sns:ap-southeast-2:redacted\"\r\n            ],\r\n            \"AlarmActions\": [\r\n                \"arn:aws:sns:ap-southeast-2:redacted\"\r\n            ],\r\n            \"InsufficientDataActions\": [],\r\n            \"StateValue\": \"OK\",\r\n            \"StateReason\": \"Threshold Crossed: 10 datapoints were not greater than or equal to the threshold (90.0). The most recent datapoints which not crossed the threshold: [1.8534917106613311 (18/06/18 13:45:00), 1.8757278256299352 (18/06/18 13:30:00), 1.8789169831135089 (18/06/18 13:15:00), 1.8460992250923987 (18/06/18 13:00:00), 1.8974097743206466 (18/06/18 12:45:00)].\",\r\n            \"StateReasonData\": \"{\\\"version\\\":\\\"1.0\\\",\\\"queryDate\\\":\\\"2018-06-18T14:00:53.449+0000\\\",\\\"startDate\\\":\\\"2018-06-18T11:30:00.000+0000\\\",\\\"statistic\\\":\\\"Average\\\",\\\"period\\\":900,\\\"recentDatapoints\\\":[1.8759840696499352,1.8663358300431294,1.8673149949062575,1.8570220122870347,1.866394488314004,1.8974097743206466,1.8460992250923987,1.8789169831135089,1.8757278256299352,1.8534917106613311],\\\"threshold\\\":90.0}\",\r\n            \"StateUpdatedTimestamp\": \"2018-06-18T14:00:53.459Z\",\r\n            \"MetricName\": \"CPUUtilization\",\r\n            \"Namespace\": \"AWS/EC2\",\r\n            \"Statistic\": \"Average\",\r\n            \"Dimensions\": [\r\n                {\r\n                    \"Name\": \"InstanceId\",\r\n                    \"Value\": \"i-redacted\"\r\n                }\r\n            ],\r\n            \"Period\": 300,\r\n            \"EvaluationPeriods\": 10,\r\n            \"Threshold\": 90.0,\r\n            \"ComparisonOperator\": \"GreaterThanOrEqualToThreshold\",\r\n            \"TreatMissingData\": \"missing\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n```\r\naws cloudwatch list-tags-for-resource --region=ap-southeast-2 --resource-arn 'arn:aws:cloudwatch:ap-southeast-2:redacted'\r\n{\r\n    \"Tags\": []\r\n}\r\n```\r\n\r\n**Additional context**\r\nThe same problem occurs when using the API via boto3.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5272", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5272/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5272/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5272/events", "html_url": "https://github.com/aws/aws-cli/issues/5272", "id": 634252078, "node_id": "MDU6SXNzdWU2MzQyNTIwNzg=", "number": 5272, "title": "EKS update-cluster-config does not return code 255 when command failed. ", "user": {"login": "rribeiro1", "id": 20430410, "node_id": "MDQ6VXNlcjIwNDMwNDEw", "avatar_url": "https://avatars2.githubusercontent.com/u/20430410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rribeiro1", "html_url": "https://github.com/rribeiro1", "followers_url": "https://api.github.com/users/rribeiro1/followers", "following_url": "https://api.github.com/users/rribeiro1/following{/other_user}", "gists_url": "https://api.github.com/users/rribeiro1/gists{/gist_id}", "starred_url": "https://api.github.com/users/rribeiro1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rribeiro1/subscriptions", "organizations_url": "https://api.github.com/users/rribeiro1/orgs", "repos_url": "https://api.github.com/users/rribeiro1/repos", "events_url": "https://api.github.com/users/rribeiro1/events{/privacy}", "received_events_url": "https://api.github.com/users/rribeiro1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 2220990352, "node_id": "MDU6TGFiZWwyMjIwOTkwMzUy", "url": "https://api.github.com/repos/aws/aws-cli/labels/eks", "name": "eks", "color": "ff5500", "default": false, "description": ""}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-08T06:52:48Z", "updated_at": "2020-08-02T21:06:59Z", "closed_at": "2020-08-02T21:06:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nWhen I execute the command twice:\r\n`aws eks --region ${AWS_REGION} update-cluster-config --name ${CLUSTER_NAME} --resources-vpc-config \"publicAccessCidrs=${CIDRS}\"`\r\n\r\nIt returns the error: `An error occurred (ResourceInUseException) when calling the UpdateClusterConfig operation: Cannot update because cluster any-cluster-name currently has update 572ddf60-48f7-41ce-96aa-824b18f8f644 in progress`\r\n\r\nHowever, the error code is `0`.\r\n\r\nAs far as I read on this [page](https://docs.aws.amazon.com/cli/latest/topic/return-codes.html), it should return the code 255 when the CLI or service returns an error. \r\n\r\n**SDK version number**\r\naws-cli/1.18.57\r\n\r\n**Platform/OS/Hardware/Device**\r\n- macOS Catalina 10.15.4\r\n\r\n**To Reproduce (observed behavior)**\r\nCommand: `aws eks --region ${AWS_REGION} update-cluster-config --name ${CLUSTER_NAME} --resources-vpc-config \"publicAccessCidrs=${CIDRS}\"`\r\n\r\n1. Run the command twice\r\n2. Print the return code: `echo $?`\r\n\r\nThe first command should update the cluster and the second one should throw the error, both returns code `0`.\r\n\r\n**Expected behavior**\r\nIt should return the code 255 when receiving the error that the cluster is already being updated.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nI am trying to create a job to update the EKS config and I want to add some logic given an error from the CLI.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5270", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5270/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5270/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5270/events", "html_url": "https://github.com/aws/aws-cli/issues/5270", "id": 631434009, "node_id": "MDU6SXNzdWU2MzE0MzQwMDk=", "number": 5270, "title": "SignatureDoesNotMatch when calling the ListBuckets operation", "user": {"login": "manel00", "id": 8410687, "node_id": "MDQ6VXNlcjg0MTA2ODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8410687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manel00", "html_url": "https://github.com/manel00", "followers_url": "https://api.github.com/users/manel00/followers", "following_url": "https://api.github.com/users/manel00/following{/other_user}", "gists_url": "https://api.github.com/users/manel00/gists{/gist_id}", "starred_url": "https://api.github.com/users/manel00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manel00/subscriptions", "organizations_url": "https://api.github.com/users/manel00/orgs", "repos_url": "https://api.github.com/users/manel00/repos", "events_url": "https://api.github.com/users/manel00/events{/privacy}", "received_events_url": "https://api.github.com/users/manel00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-05T09:02:24Z", "updated_at": "2020-06-12T17:05:06Z", "closed_at": "2020-06-12T17:05:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nbotocore.exceptions.ClientError: An error occurred (SignatureDoesNotMatch) when calling the ListBuckets operation: The request signature we calculated does not match the signature you provided. Check your key and signing method.\r\n\r\n**SDK version number**\r\nboto3==1.13.23\r\npython 3.6 64bits\r\n\r\n**Platform/OS/Hardware/Device**\r\nW10\r\n\r\n**To Reproduce (observed behavior)**\r\n#Have \"config\" and \"credentials\" files on ~\\.aws folder\r\n\r\nimport boto3\r\nimport json\r\n\r\ns3 = boto3.resource('s3')\r\n\r\nfor bucket in s3.buckets.all():\r\n    print(bucket.name)\r\n\r\ncomprehend = boto3.client(service_name='comprehend', region_name='us-east-2')\r\ntext = \"It is raining today in Seattle\"\r\n\r\nprint('Calling DetectEntities')\r\nprint(json.dumps(comprehend.detect_entities(Text=text, LanguageCode='en'), sort_keys=True, indent=4))\r\nprint('End of DetectEntities\\n')\r\n\r\n**Expected behavior**\r\nNo errors jajaja\r\n\r\n**Logs/output**\r\n\r\n**Additional context**\r\ni've tried already:\r\n\r\n         s3 = boto3.resource('s3',\r\n         aws_access_key_id=ACCESS_ID,\r\n         aws_secret_access_key= ACCESS_KEY)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5267", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5267/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5267/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5267/events", "html_url": "https://github.com/aws/aws-cli/issues/5267", "id": 631288221, "node_id": "MDU6SXNzdWU2MzEyODgyMjE=", "number": 5267, "title": "Setting environment variable will mess up authorization", "user": {"login": "Kenblair1226", "id": 11428282, "node_id": "MDQ6VXNlcjExNDI4Mjgy", "avatar_url": "https://avatars2.githubusercontent.com/u/11428282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kenblair1226", "html_url": "https://github.com/Kenblair1226", "followers_url": "https://api.github.com/users/Kenblair1226/followers", "following_url": "https://api.github.com/users/Kenblair1226/following{/other_user}", "gists_url": "https://api.github.com/users/Kenblair1226/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kenblair1226/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kenblair1226/subscriptions", "organizations_url": "https://api.github.com/users/Kenblair1226/orgs", "repos_url": "https://api.github.com/users/Kenblair1226/repos", "events_url": "https://api.github.com/users/Kenblair1226/events{/privacy}", "received_events_url": "https://api.github.com/users/Kenblair1226/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-05T03:42:24Z", "updated_at": "2020-06-29T02:50:27Z", "closed_at": "2020-06-29T02:50:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nTrying to get auth token of specific role_arn with aws cli, everything is fine when configure with commands only. Once setting AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY, got AccessDeniedException back. I encountered this because I deploy my containers with kubectl with env (secrets in k8s) setup. I can avoid this by specifying those env with other names. My guess is with AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY being set, awscli ignores role_arn settings and use some default role instead.\r\n\r\n**Platform/OS/Hardware/Device**\r\nlatest alpine docker image: 3.12.0\r\naws cli 1.18.72\r\n\r\n**To Reproduce (observed behavior)**\r\n> / # aws configure set source_profile default\r\n/ # aws configure set region xxxxxxxx\r\n/ # aws configure set aws_access_key_id XXXXXXXX\r\n/ # aws configure set aws_secret_access_key YYYYYYYY\r\n/ # aws configure set role_arn arn:aws:iam::1111111111111:role/sw-dev-cicd\r\n/ # aws ecr get-login\r\ndocker login -u AWS -p XXXXXX .....\r\n\r\nWhich is correct behavior, but once setting env...\r\n> / # export AWS_ACCESS_KEY_ID=XXXXXXXX\r\n/ # export AWS_SECRET_ACCESS_KEY=YYYYYYYY\r\n/ # aws ecr get-login\r\n>\r\n> An error occurred (AccessDeniedException) when calling the GetAuthorizationToken operation: arn:aws:iam::222222222222:user/sw_dev_cicd_user is not authorized to perform: ecr:GetAuthorizationToken on resource: *\r\n\r\n\r\n**Expected behavior**\r\nawscli should respect the role_arn setting even env AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are set.\r\n\r\n**Logs/output**\r\n> / # aws ecr get-login --debug\r\n2020-06-05 03:18:24,337 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.18.72 Python/3.8.3 Linux/4.19.76-linuxkit botocore/1.16.22\r\n2020-06-05 03:18:24,337 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['ecr', 'get-login', '--debug']\r\n2020-06-05 03:18:24,340 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f55ac4e5160>\r\n2020-06-05 03:18:24,341 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f55aca9c310>\r\n2020-06-05 03:18:24,343 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f55aca61280>\r\n2020-06-05 03:18:24,349 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f55ac623940>\r\n2020-06-05 03:18:24,350 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3.8/site-packages/botocore/data/ecr/2015-09-21/service-2.json\r\n2020-06-05 03:18:24,355 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecr: calling handler <function _inject_commands at 0x7f55ac63e3a0>\r\n2020-06-05 03:18:24,355 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ecr: calling handler <function add_waiters at 0x7f55ac4eba60>\r\n2020-06-05 03:18:24,369 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3.8/site-packages/botocore/data/ecr/2015-09-21/waiters-2.json\r\n2020-06-05 03:18:24,372 - MainThread - botocore.hooks - DEBUG - Event building-command-table.get-login: calling handler <function add_waiters at 0x7f55ac4eba60>\r\n2020-06-05 03:18:24,376 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-login.registry-ids: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f55ac4343a0>\r\n2020-06-05 03:18:24,378 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.get-login.include-email: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f55ac4343a0>\r\n2020-06-05 03:18:24,380 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.get-login: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f55aca72fd0>\r\n2020-06-05 03:18:24,380 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-06-05 03:18:24,381 - MainThread - botocore.credentials - INFO - Found credentials in environment variables.\r\n2020-06-05 03:18:24,382 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3.8/site-packages/botocore/data/endpoints.json\r\n2020-06-05 03:18:24,392 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f55acf8fe50>\r\n2020-06-05 03:18:24,395 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.ecr: calling handler <function add_generate_presigned_url at 0x7f55acfe1790>\r\n2020-06-05 03:18:24,401 - MainThread - botocore.endpoint - DEBUG - Setting api.ecr timeout as (60, 60)\r\n2020-06-05 03:18:24,402 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/lib/python3.8/site-packages/botocore/data/_retry.json\r\n2020-06-05 03:18:24,403 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: ecr\r\n2020-06-05 03:18:24,404 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.ecr.GetAuthorizationToken: calling handler <function generate_idempotent_uuid at 0x7f55acf3df70>\r\n2020-06-05 03:18:24,405 - MainThread - botocore.hooks - DEBUG - Event before-call.ecr.GetAuthorizationToken: calling handler <function inject_api_version_header_if_needed at 0x7f55acf43820>\r\n2020-06-05 03:18:24,406 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetAuthorizationToken) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'aws-cli/1.18.72 Python/3.8.3 Linux/4.19.76-linuxkit botocore/1.16.22'}, 'body': b'{}', 'url': 'https://api.ecr.ap-northeast-1.amazonaws.com/', 'context': {'client_region': 'ap-northeast-1', 'client_config': <botocore.config.Config object at 0x7f55ac14aee0>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-06-05 03:18:24,408 - MainThread - botocore.hooks - DEBUG - Event request-created.ecr.GetAuthorizationToken: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f55ac14ad00>>\r\n2020-06-05 03:18:24,408 - MainThread - botocore.hooks - DEBUG - Event choose-signer.ecr.GetAuthorizationToken: calling handler <function set_operation_specific_signer at 0x7f55acf3de50>\r\n2020-06-05 03:18:24,409 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-06-05 03:18:24,410 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\n> content-type:application/x-amz-json-1.1\r\nhost:api.ecr.ap-northeast-1.amazonaws.com\r\nx-amz-date:20200605T031824Z\r\nx-amz-target:AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken\r\n\r\n> content-type;host;x-amz-date;x-amz-target\r\n44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a\r\n2020-06-05 03:18:24,410 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200605T031824Z\r\n20200605/ap-northeast-1/ecr/aws4_request\r\n22d5111e36fbc7bb4323a1c9b534bb433f8c77de5345b2a7de20efd8ad9ae520\r\n2020-06-05 03:18:24,410 - MainThread - botocore.auth - DEBUG - Signature:\r\n21bb04f57ea67e7cddd86b83f862b4118fc29ec48c1aa6c43bbe55c03c5738bd\r\n2020-06-05 03:18:24,410 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://api.ecr.ap-northeast-1.amazonaws.com/, headers={'X-Amz-Target': b'AmazonEC2ContainerRegistry_V20150921.GetAuthorizationToken', 'Content-Type': b'application/x-amz-json-1.1', 'User-Agent': b'aws-cli/1.18.72 Python/3.8.3 Linux/4.19.76-linuxkit botocore/1.16.22', 'X-Amz-Date': b'20200605T031824Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AXXXXXXA/20200605/ap-northeast-1/ecr/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=21bb04f57ea67e7cddd86b83f862b4118fc29ec48c1aa6c43bbe55c03c5738bd', 'Content-Length': '2'}>\r\n2020-06-05 03:18:24,412 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.ecr.ap-northeast-1.amazonaws.com:443\r\n2020-06-05 03:18:24,663 - MainThread - urllib3.connectionpool - DEBUG - https://api.ecr.ap-northeast-1.amazonaws.com:443 \"POST / HTTP/1.1\" 400 171\r\n2020-06-05 03:18:24,663 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': 'f31f277f-fb8b-4cba-ac93-71623eaeb84f', 'Date': 'Fri, 5 Jun 2020 03:18:24 GMT', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '171'}\r\n2020-06-05 03:18:24,664 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"AccessDeniedException\",\"Message\":\"User: arn:aws:iam::2222222222:user/sw_dev_cicd_user is not authorized to perform: ecr:GetAuthorizationToken on resource: *\"}'\r\n2020-06-05 03:18:24,668 - MainThread - botocore.hooks - DEBUG - Event needs-retry.ecr.GetAuthorizationToken: calling handler <botocore.retryhandler.RetryHandler object at 0x7f55ac3848e0>\r\n2020-06-05 03:18:24,668 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2020-06-05 03:18:24,670 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/lib/python3.8/site-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/lib/python3.8/site-packages/awscli/customizations/commands.py\", line 187, in __call__\r\n    return self._run_main(parsed_args, parsed_globals)\r\n  File \"/usr/lib/python3.8/site-packages/awscli/customizations/ecr.py\", line 73, in _run_main\r\n    result = ecr_client.get_authorization_token()\r\n  File \"/usr/lib/python3.8/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/lib/python3.8/site-packages/botocore/client.py\", line 635, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (AccessDeniedException) when calling the GetAuthorizationToken operation: User: arn:aws:iam::222222222:user/sw_dev_cicd_user is not authorized to perform: ecr:GetAuthorizationToken on resource: *\r\n2020-06-05 03:18:24,672 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\n> An error occurred (AccessDeniedException) when calling the GetAuthorizationToken operation: User: arn:aws:iam::2222222222:user/sw_dev_cicd_user is not authorized to perform: ecr:GetAuthorizationToken on resource: *\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5258", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5258/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5258/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5258/events", "html_url": "https://github.com/aws/aws-cli/issues/5258", "id": 629844307, "node_id": "MDU6SXNzdWU2Mjk4NDQzMDc=", "number": 5258, "title": "Mturk list-qualification-types behaviour", "user": {"login": "jrean", "id": 5646128, "node_id": "MDQ6VXNlcjU2NDYxMjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5646128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrean", "html_url": "https://github.com/jrean", "followers_url": "https://api.github.com/users/jrean/followers", "following_url": "https://api.github.com/users/jrean/following{/other_user}", "gists_url": "https://api.github.com/users/jrean/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrean/subscriptions", "organizations_url": "https://api.github.com/users/jrean/orgs", "repos_url": "https://api.github.com/users/jrean/repos", "events_url": "https://api.github.com/users/jrean/events{/privacy}", "received_events_url": "https://api.github.com/users/jrean/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-03T09:31:11Z", "updated_at": "2020-08-18T22:07:26Z", "closed_at": "2020-08-18T22:07:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n- macOS Catalina 10.15.5\r\n- aws-cli/2.0.16 Python/3.7.3 Linux/4.19.76-linuxkit botocore/2.0.0dev20\r\n\r\n**Describe the question**\r\n\r\nUsing the requester sandbox `--endpoint-url https://mturk-requester-sandbox.us-east-1.amazonaws.com` I have created 3 test qualification types:\r\n\r\n```\r\n\"QualificationType\": {\r\n    \"QualificationTypeId\": \"3YJP8DI8F47JY6LPEKOFHXLJ1G0Q49\",\r\n    \"CreationTime\": \"2020-06-03T07:47:20+00:00\",\r\n    \"Name\": \"test-jean\",\r\n    \"Description\": \"test-jean\",\r\n    \"QualificationTypeStatus\": \"Inactive\",\r\n    \"IsRequestable\": true,\r\n    \"AutoGranted\": false\r\n},\r\n{\r\n    \"QualificationTypeId\": \"352JGGUH3Z75FIYXDMUJ70A2IUI1FE\",\r\n    \"CreationTime\": \"2020-06-03T08:55:39+00:00\",\r\n    \"Name\": \"test-2\",\r\n    \"Description\": \"test\",\r\n    \"QualificationTypeStatus\": \"Active\",\r\n    \"IsRequestable\": true,\r\n    \"AutoGranted\": false\r\n},\r\n{\r\n    \"QualificationTypeId\": \"3NRTKMG7XF3YSBHLRL8WCI3IJ273R3\",\r\n    \"CreationTime\": \"2020-06-03T08:59:18+00:00\",\r\n    \"Name\": \"test-3\",\r\n    \"Description\": \"test\",\r\n    \"QualificationTypeStatus\": \"Active\",\r\n    \"IsRequestable\": true,\r\n    \"AutoGranted\": false\r\n}\r\n```\r\n\r\nAccording to the documentation, one can list qualification types:\r\nhttps://awscli.amazonaws.com/v2/documentation/api/latest/reference/mturk/list-qualification-types.html\r\n\r\nI want to list the qualification types I created. According to the documentation it should be as follow:\r\n\r\n```\r\naws mturk list-qualification-types \\\r\n--endpoint-url https://mturk-requester-sandbox.us-east-1.amazonaws.com \\\r\n--must-be-requestable | --no-must-be-requestable \\\r\n--must-be-owned-by-caller | --no-must-be-owned-by-caller\r\n```\r\n\r\nMy 3 qualification types being `requestable` I tried:\r\n\r\n```\r\naws mturk list-qualification-types \\\r\n--endpoint-url https://mturk-requester-sandbox.us-east-1.amazonaws.com \\\r\n--must-be-requestable \\\r\n--must-be-owned-by-caller\r\n```\r\n\r\nIt returns only 2 qualification types!\r\n**Where is the 3rd qualification?**\r\n\r\n```\r\n{\r\n    \"QualificationTypes\": [\r\n        {\r\n            \"QualificationTypeId\": \"3NRTKMG7XF3YSBHLRL8WCI3IJ273R3\",\r\n            \"CreationTime\": \"2020-06-03T08:59:18+00:00\",\r\n            \"Name\": \"test-3\",\r\n            \"Description\": \"test\",\r\n            \"QualificationTypeStatus\": \"Active\",\r\n            \"IsRequestable\": true,\r\n            \"AutoGranted\": false\r\n        },\r\n        {\r\n            \"QualificationTypeId\": \"352JGGUH3Z75FIYXDMUJ70A2IUI1FE\",\r\n            \"CreationTime\": \"2020-06-03T08:55:39+00:00\",\r\n            \"Name\": \"test-2\",\r\n            \"Description\": \"test\",\r\n            \"QualificationTypeStatus\": \"Active\",\r\n            \"IsRequestable\": true,\r\n            \"AutoGranted\": false\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nWhy the first qualification which is `Inactive` is not returned in the response?\r\nIf I update the first qualification type and set the status as `Active` then it will be listed in the response.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5250", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5250/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5250/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5250/events", "html_url": "https://github.com/aws/aws-cli/issues/5250", "id": 628323175, "node_id": "MDU6SXNzdWU2MjgzMjMxNzU=", "number": 5250, "title": "Can't copy folders: FileNotFoundError: [Errno 2] No such file or directory", "user": {"login": "MagTun", "id": 15843700, "node_id": "MDQ6VXNlcjE1ODQzNzAw", "avatar_url": "https://avatars0.githubusercontent.com/u/15843700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MagTun", "html_url": "https://github.com/MagTun", "followers_url": "https://api.github.com/users/MagTun/followers", "following_url": "https://api.github.com/users/MagTun/following{/other_user}", "gists_url": "https://api.github.com/users/MagTun/gists{/gist_id}", "starred_url": "https://api.github.com/users/MagTun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MagTun/subscriptions", "organizations_url": "https://api.github.com/users/MagTun/orgs", "repos_url": "https://api.github.com/users/MagTun/repos", "events_url": "https://api.github.com/users/MagTun/events{/privacy}", "received_events_url": "https://api.github.com/users/MagTun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217040864, "node_id": "MDU6TGFiZWwyMTcwNDA4NjQ=", "url": "https://api.github.com/repos/aws/aws-cli/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": "This issue will automatically close in 4 days unless further comments are made."}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-01T10:20:40Z", "updated_at": "2020-06-06T15:54:27Z", "closed_at": "2020-06-06T15:54:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThis is the same issue as https://github.com/aws/aws-cli/issues/2690 but it has been closed. \r\n\r\nI just install aws cli version 2 on windows 10. \r\n\r\nI am able to upload files with `aws s3 cp \"C:\\Users\\a\\Desktop\\test\\my.txt\" \"s3://mybucket/test/\"` \r\nBut not folders:  `aws s3 cp \"C:\\Users\\a\\Desktop\\test\" \"s3://mybucket/test\" `\r\n\r\nI tried with `--debug 2> log.txt`\r\nThe error is: `FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\a\\\\Desktop\\\\test\\\\'`\r\nBut the folder exist (I am sure that there is no typo. \r\n\r\nI tried this [fix](https://github.com/aws/aws-cli/issues/2855), but I get this error: `The system cannot find the path specified`\r\n \r\nConfirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\n\r\n**version and platform**\r\naws-cli/2.0.17 Python/3.7.7 Windows/10 botocore/2.0.0dev21\r\n\r\n\r\n\r\n**Logs/output**\r\nRelevant part of the log\r\n\r\n```\r\n2020-06-01 11:58:20,063 - ThreadPoolExecutor-0_0 - botocore.awsrequest - DEBUG - Unable to rewind stream: [Errno 2] No such file or directory: 'C:\\\\Users\\\\a\\\\Desktop\\\\test\\\\'\r\n2020-06-01 11:58:20,063 - ThreadPoolExecutor-0_0 - s3transfer.tasks - DEBUG - Exception raised.\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 518, in reset_stream\r\n  File \"lib\\site-packages\\s3transfer\\utils.py\", line 503, in seek\r\n  File \"lib\\site-packages\\s3transfer\\upload.py\", line 89, in seek\r\n  File \"lib\\site-packages\\s3transfer\\utils.py\", line 367, in seek\r\n  File \"lib\\site-packages\\s3transfer\\utils.py\", line 350, in _open_if_needed\r\n  File \"lib\\site-packages\\s3transfer\\utils.py\", line 261, in open\r\nFileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\a\\\\Desktop\\\\test\\\\'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\s3transfer\\tasks.py\", line 126, in __call__\r\n  File \"lib\\site-packages\\s3transfer\\tasks.py\", line 150, in _execute_main\r\n  File \"lib\\site-packages\\s3transfer\\upload.py\", line 692, in _main\r\n  File \"lib\\site-packages\\botocore\\client.py\", line 208, in _api_call\r\n  File \"lib\\site-packages\\botocore\\client.py\", line 514, in _make_api_call\r\n  File \"lib\\site-packages\\botocore\\client.py\", line 533, in _make_request\r\n  File \"lib\\site-packages\\botocore\\endpoint.py\", line 102, in make_request\r\n  File \"lib\\site-packages\\botocore\\endpoint.py\", line 143, in _send_request\r\n  File \"lib\\site-packages\\botocore\\awsrequest.py\", line 521, in reset_stream\r\nbotocore.exceptions.UnseekableStreamError: Need to rewind the stream <s3transfer.utils.ReadFileChunk object at 0x0000022E760B82C8>, but stream is not seekable.\r\n```\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5249", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5249/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5249/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5249/events", "html_url": "https://github.com/aws/aws-cli/issues/5249", "id": 628260376, "node_id": "MDU6SXNzdWU2MjgyNjAzNzY=", "number": 5249, "title": "AWSCL installer should add the path to the environement variable", "user": {"login": "WiliTest", "id": 24194840, "node_id": "MDQ6VXNlcjI0MTk0ODQw", "avatar_url": "https://avatars3.githubusercontent.com/u/24194840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WiliTest", "html_url": "https://github.com/WiliTest", "followers_url": "https://api.github.com/users/WiliTest/followers", "following_url": "https://api.github.com/users/WiliTest/following{/other_user}", "gists_url": "https://api.github.com/users/WiliTest/gists{/gist_id}", "starred_url": "https://api.github.com/users/WiliTest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WiliTest/subscriptions", "organizations_url": "https://api.github.com/users/WiliTest/orgs", "repos_url": "https://api.github.com/users/WiliTest/repos", "events_url": "https://api.github.com/users/WiliTest/events{/privacy}", "received_events_url": "https://api.github.com/users/WiliTest/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-01T08:46:12Z", "updated_at": "2020-06-16T21:18:59Z", "closed_at": "2020-06-16T21:18:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "On  Windows 10 AWSCL does not add the path to the environment variable. \r\nSo we need to add it manually.\r\n\r\nThen we need to reboot the computer to apply the change (it's the easiest way to refresh the path)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5246", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5246/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5246/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5246/events", "html_url": "https://github.com/aws/aws-cli/issues/5246", "id": 627601631, "node_id": "MDU6SXNzdWU2Mjc2MDE2MzE=", "number": 5246, "title": "[v2] aws configure add-model doesn't work with file url ", "user": {"login": "shwetasahuit", "id": 34386180, "node_id": "MDQ6VXNlcjM0Mzg2MTgw", "avatar_url": "https://avatars3.githubusercontent.com/u/34386180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shwetasahuit", "html_url": "https://github.com/shwetasahuit", "followers_url": "https://api.github.com/users/shwetasahuit/followers", "following_url": "https://api.github.com/users/shwetasahuit/following{/other_user}", "gists_url": "https://api.github.com/users/shwetasahuit/gists{/gist_id}", "starred_url": "https://api.github.com/users/shwetasahuit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shwetasahuit/subscriptions", "organizations_url": "https://api.github.com/users/shwetasahuit/orgs", "repos_url": "https://api.github.com/users/shwetasahuit/repos", "events_url": "https://api.github.com/users/shwetasahuit/events{/privacy}", "received_events_url": "https://api.github.com/users/shwetasahuit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kdaily", "id": 84993, "node_id": "MDQ6VXNlcjg0OTkz", "avatar_url": "https://avatars3.githubusercontent.com/u/84993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdaily", "html_url": "https://github.com/kdaily", "followers_url": "https://api.github.com/users/kdaily/followers", "following_url": "https://api.github.com/users/kdaily/following{/other_user}", "gists_url": "https://api.github.com/users/kdaily/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdaily/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdaily/subscriptions", "organizations_url": "https://api.github.com/users/kdaily/orgs", "repos_url": "https://api.github.com/users/kdaily/repos", "events_url": "https://api.github.com/users/kdaily/events{/privacy}", "received_events_url": "https://api.github.com/users/kdaily/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-29T23:52:55Z", "updated_at": "2020-06-25T18:12:08Z", "closed_at": "2020-06-25T18:12:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nBelow command doesn't work, gives \"Expecting value: line 1 column 1 (char 0)\" error.\r\n```\r\naws configure add-model \\\r\n    --service-name appmesh-preview \\\r\n    --service-model https://raw.githubusercontent.com/aws/aws-app-mesh-roadmap/master/appmesh-preview/service-model.json\r\n```\r\nHowever if a local file is passed in service-model, then it works.\r\nThe command works with aws cli v1.\r\n\r\n**SDK version number**\r\n2.0.10\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on? MacOS\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5244", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5244/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5244/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5244/events", "html_url": "https://github.com/aws/aws-cli/issues/5244", "id": 627339114, "node_id": "MDU6SXNzdWU2MjczMzkxMTQ=", "number": 5244, "title": "aws import-key-pair \"Invalid base64\" error", "user": {"login": "ifelsefi", "id": 14250760, "node_id": "MDQ6VXNlcjE0MjUwNzYw", "avatar_url": "https://avatars0.githubusercontent.com/u/14250760?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ifelsefi", "html_url": "https://github.com/ifelsefi", "followers_url": "https://api.github.com/users/ifelsefi/followers", "following_url": "https://api.github.com/users/ifelsefi/following{/other_user}", "gists_url": "https://api.github.com/users/ifelsefi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ifelsefi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ifelsefi/subscriptions", "organizations_url": "https://api.github.com/users/ifelsefi/orgs", "repos_url": "https://api.github.com/users/ifelsefi/repos", "events_url": "https://api.github.com/users/ifelsefi/events{/privacy}", "received_events_url": "https://api.github.com/users/ifelsefi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-29T15:08:53Z", "updated_at": "2020-05-29T17:12:30Z", "closed_at": "2020-05-29T17:12:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI am trying to import my public ssh key though I get the error `Invalid base64: \"/ssh/id_rsa.pub.`\r\n\r\nI downloaded aws using the [curl steps outlined](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2-linux.html).\r\n\r\nThe OS is CentOS 8 though I am running this within a Singularity container.\r\n\r\n```\r\ndouglas@douglas[~]$ cat /etc/redhat-release \r\nCentOS Linux release 8.1.1911 (Core)\r\n\r\n```\r\n\r\nThe version aws, Python, and boto shown below:\r\n\r\n```\r\ndouglas@douglas[~]$ aws --version\r\naws-cli/2.0.17 Python/3.7.3 Linux/4.15.0-88-generic botocore/2.0.0dev21\r\n```\r\n\r\nI am running the [recommended command](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws) to import the public key:\r\n\r\n```\r\naws ec2 import-key-pair --key-name \"my-key\" --public-key-material /ssh/id_rsa.pub --dry-run --debug\r\n```\r\n\r\nAs you can see the public key is valid.\r\n\r\n```\r\ndouglas@douglas[~]$ ssh-keygen -l -f /ssh/id_rsa.pub\r\n2048 SHA256:TD467nFgteuHX3yAfJw7Nh/npLANctIVY3kXWmGLPjo root@douglas (RSA\r\n\r\n```\r\n\r\nI have also tried 4096 bit keys with the same error.\r\n\r\nFull error output attached.\r\n\r\nThank you\r\nDoug\r\n\r\n[error.txt](https://github.com/aws/aws-cli/files/4702565/error.txt)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5243", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5243/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5243/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5243/events", "html_url": "https://github.com/aws/aws-cli/issues/5243", "id": 626800072, "node_id": "MDU6SXNzdWU2MjY4MDAwNzI=", "number": 5243, "title": "ec2-instance-connect send-ssh-public-key does not support ed25519 public keys", "user": {"login": "bcatubig", "id": 1383904, "node_id": "MDQ6VXNlcjEzODM5MDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1383904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bcatubig", "html_url": "https://github.com/bcatubig", "followers_url": "https://api.github.com/users/bcatubig/followers", "following_url": "https://api.github.com/users/bcatubig/following{/other_user}", "gists_url": "https://api.github.com/users/bcatubig/gists{/gist_id}", "starred_url": "https://api.github.com/users/bcatubig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bcatubig/subscriptions", "organizations_url": "https://api.github.com/users/bcatubig/orgs", "repos_url": "https://api.github.com/users/bcatubig/repos", "events_url": "https://api.github.com/users/bcatubig/events{/privacy}", "received_events_url": "https://api.github.com/users/bcatubig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-28T20:40:08Z", "updated_at": "2020-06-22T19:05:14Z", "closed_at": "2020-06-22T19:05:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nUsing an `ed25519` public key causes a validation error\r\n\r\n**SDK version number**\r\n\r\n`aws-cli/2.0.16 Python/3.8.2 Darwin/19.4.0 botocore/2.0.0dev20`\r\n\r\n**Platform/OS/Hardware/Device**\r\n\r\n```\r\nDarwin laptop 19.4.0 Darwin Kernel Version 19.4.0: Wed Mar  4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64 x86_64\r\n```\r\n\r\n**To Reproduce (observed behavior)**\r\n\r\n```\r\naws ec2-instance-connect send-ssh-public-key --instance-id <instance_id> --availability-zone us-east-1a --instance-os-user <ec2_user> --ssh-public-key file://~/.ssh/id_ed25519.pub\r\n```\r\n\r\n**Expected behavior**\r\ned25519 public keys should be supported and not cause a validation error\r\n\r\n**Logs/output**\r\n```\r\n2020-05-28 15:48:31,066 - MainThread - awscli.clidriver - DEBUG - Client side parameter validation failed\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 335, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 507, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 682, in __call__\r\n    return self._operation_caller.invoke(\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 805, in invoke\r\n    response = self._make_client_call(\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 817, in _make_client_call\r\n    response = getattr(client, xform_name(operation_name))(\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/botocore/client.py\", line 208, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/botocore/client.py\", line 499, in _make_api_call\r\n    request_dict = self._convert_to_request_dict(\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/botocore/client.py\", line 547, in _convert_to_request_dict\r\n    request_dict = self._serializer.serialize_to_request(\r\n  File \"/usr/local/Cellar/awscli/2.0.16/libexec/lib/python3.8/site-packages/botocore/validate.py\", line 297, in serialize_to_request\r\n    raise ParamValidationError(report=report.generate_report())\r\nbotocore.exceptions.ParamValidationError: Parameter validation failed:\r\nInvalid length for parameter SSHPublicKey, value: 107, valid range: 256-inf\r\n\r\nParameter validation failed:\r\nInvalid length for parameter SSHPublicKey, value: 107, valid range: 256-inf\r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5240", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5240/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5240/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5240/events", "html_url": "https://github.com/aws/aws-cli/issues/5240", "id": 626600150, "node_id": "MDU6SXNzdWU2MjY2MDAxNTA=", "number": 5240, "title": "support same format for codepipeline cloudformation config as cloudformation --cli-input-json", "user": {"login": "hauntingEcho", "id": 1661988, "node_id": "MDQ6VXNlcjE2NjE5ODg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1661988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hauntingEcho", "html_url": "https://github.com/hauntingEcho", "followers_url": "https://api.github.com/users/hauntingEcho/followers", "following_url": "https://api.github.com/users/hauntingEcho/following{/other_user}", "gists_url": "https://api.github.com/users/hauntingEcho/gists{/gist_id}", "starred_url": "https://api.github.com/users/hauntingEcho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hauntingEcho/subscriptions", "organizations_url": "https://api.github.com/users/hauntingEcho/orgs", "repos_url": "https://api.github.com/users/hauntingEcho/repos", "events_url": "https://api.github.com/users/hauntingEcho/events{/privacy}", "received_events_url": "https://api.github.com/users/hauntingEcho/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-28T15:23:51Z", "updated_at": "2020-07-10T20:43:30Z", "closed_at": "2020-07-10T20:43:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nCurrently, [the format expected by codepipeline for cloudformation config](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-cfn-artifacts.html#w2ab1c13c17c15) differs slightly from the format used by `--cli-input-json` for `aws cloudformation update-stack` and `aws cloudformation create-stack`.  Specifically, tags are expressed as a map for codepipeline and a list of objects with `key` and `value` properties for `aws cloudformation`.  This means users must maintain two versions of each configuration, if they want to be able to use both tools.\r\n\r\n**Describe the solution you'd like**\r\nBoth ways of configuring the cloudformation template support a shared format.  It doesn't really matter which, although I tend to prefer the way codepipeline is doing tags.\r\n\r\n**Describe alternatives you've considered**\r\nSince codepipeline requires a raw file, any automated translation tool would need to go from the codepipeline format to the `aws cloudformation` format.  However, we haven't yet hit the point where maintaining such a tool is simpler than maintaining two copies of every config file.\r\n\r\n**Additional context**\r\noutput of `aws cloudformation create-stack --generate-cli-skeleton`:\r\n```\r\n{\r\n    \"StackName\": \"\",\r\n    \"TemplateBody\": \"\",\r\n    \"TemplateURL\": \"\",\r\n    \"Parameters\": [\r\n        {\r\n            \"ParameterKey\": \"\",\r\n            \"ParameterValue\": \"\",\r\n            \"UsePreviousValue\": true,\r\n            \"ResolvedValue\": \"\"\r\n        }\r\n    ],\r\n    \"DisableRollback\": true,\r\n    \"RollbackConfiguration\": {\r\n        \"RollbackTriggers\": [\r\n            {\r\n                \"Arn\": \"\",\r\n                \"Type\": \"\"\r\n            }\r\n        ],\r\n        \"MonitoringTimeInMinutes\": 0\r\n    },\r\n    \"TimeoutInMinutes\": 0,\r\n    \"NotificationARNs\": [\r\n        \"\"\r\n    ],\r\n    \"Capabilities\": [\r\n        \"CAPABILITY_AUTO_EXPAND\"\r\n    ],\r\n    \"ResourceTypes\": [\r\n        \"\"\r\n    ],\r\n    \"RoleARN\": \"\",\r\n    \"OnFailure\": \"DO_NOTHING\",\r\n    \"StackPolicyBody\": \"\",\r\n    \"StackPolicyURL\": \"\",\r\n    \"Tags\": [\r\n        {\r\n            \"Key\": \"\",\r\n            \"Value\": \"\"\r\n        }\r\n    ],\r\n    \"ClientRequestToken\": \"\",\r\n    \"EnableTerminationProtection\": true\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5239", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5239/events", "html_url": "https://github.com/aws/aws-cli/issues/5239", "id": 626467218, "node_id": "MDU6SXNzdWU2MjY0NjcyMTg=", "number": 5239, "title": "[v2] aws configure corrupts configuration if value contains square brackets", "user": {"login": "vngx", "id": 618186, "node_id": "MDQ6VXNlcjYxODE4Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/618186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vngx", "html_url": "https://github.com/vngx", "followers_url": "https://api.github.com/users/vngx/followers", "following_url": "https://api.github.com/users/vngx/following{/other_user}", "gists_url": "https://api.github.com/users/vngx/gists{/gist_id}", "starred_url": "https://api.github.com/users/vngx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vngx/subscriptions", "organizations_url": "https://api.github.com/users/vngx/orgs", "repos_url": "https://api.github.com/users/vngx/repos", "events_url": "https://api.github.com/users/vngx/events{/privacy}", "received_events_url": "https://api.github.com/users/vngx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19841172, "node_id": "MDU6TGFiZWwxOTg0MTE3Mg==", "url": "https://api.github.com/repos/aws/aws-cli/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-28T12:24:44Z", "updated_at": "2020-06-11T19:00:33Z", "closed_at": "2020-06-11T19:00:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nIf the `aws configure set` command is used to set any values which contain a pair of square brackets ('[', ']'), the configuration may become corrupted and break the AWS CLI. The issue appears to be caused by the [`ConfigFileWriter::_update_section_contents`](https://github.com/aws/aws-cli/blob/4ff0cbacbac69a21d4dd701921fe0759cf7852ed/awscli/customizations/configure/writer.py#L115) method which uses a regular expression to identify the end of the current section by searching if a line contains square brackets; it will incorrectly identify a property value containing brackets as the start of a new section and attempt to insert a duplicate property key.\r\n\r\nThe scenario was uncovered when attempting to store the session expiration timestamp in ISO 8601 format with a named zone ID (see [Java DateTimeFormatter#ISO_DATE_TIME](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE_TIME)) which formats date strings as `2020-05-28T08:00:13.431-04:00[America/New_York]`. The first `set` command works correctly by inserting a new key/value pair; a subsequent `set` command to update the value will insert a duplicate key instead of updating the existing value. The duplicate keys corrupts the configuration and all future AWS CLI commands will fail until the configuration is fixed.\r\n\r\n**SDK version number**\r\n```\r\n$> aws --version\r\naws-cli/2.0.10 Python/3.7.5 Windows/10 botocore/2.0.0dev14\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows/OSX\r\n\r\n**To Reproduce (observed behavior)**\r\nFirst `set` a key/value pair which contains square brackets:\r\n```\r\n$> aws configure set session_expiration 2020-05-28T08:00:13.431-04:00[America/New_York]\r\n```\r\nThen `set` the same key again to attempt an update:\r\n```\r\n$> aws configure set session_expiration 2020-05-28T09:00:13.431-04:00[America/New_York]\r\n```\r\nThe `~/.aws/config` is corrupted due to duplicate values; running any additional `aws` commands will fail as follows:\r\n```\r\n$> aws --version\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\botocore\\configloader.py\", line 149, in raw_config_parse\r\n  File \"configparser.py\", line 696, in read\r\n  File \"configparser.py\", line 1091, in _read\r\nconfigparser.DuplicateOptionError: While reading from 'C:\\\\redacted/.aws/config' [line  4]: option 'session_expiration' in section 'default' already exists\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"aws\", line 27, in <module>\r\n  File \"aws\", line 23, in main\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 90, in main\r\n  File \"lib\\site-packages\\awscli\\clidriver.py\", line 99, in create_clidriver\r\n  File \"lib\\site-packages\\botocore\\session.py\", line 350, in full_config\r\n  File \"lib\\site-packages\\botocore\\configloader.py\", line 106, in load_config\r\n  File \"lib\\site-packages\\botocore\\configloader.py\", line 152, in raw_config_parse\r\nbotocore.exceptions.ConfigParseError: Unable to parse config file: C:\\redacted/.aws/config\r\n[11360] Failed to execute script aws\r\n```\r\n\r\n**Expected behavior**\r\nA subsequent `set` command for an existing property key should update the existing property value containing square brackets instead of inserting a duplicate key. Alternatively, if property values containing square brackets are not supported, then the `set` command could return an error when attempting to specify a property value with square brackets to avoid corrupting the configuration.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5238", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5238/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5238/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5238/events", "html_url": "https://github.com/aws/aws-cli/issues/5238", "id": 626320489, "node_id": "MDU6SXNzdWU2MjYzMjA0ODk=", "number": 5238, "title": "SAM Build: Incorrect Timestamps.", "user": {"login": "TerryHighfield", "id": 9553376, "node_id": "MDQ6VXNlcjk1NTMzNzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9553376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TerryHighfield", "html_url": "https://github.com/TerryHighfield", "followers_url": "https://api.github.com/users/TerryHighfield/followers", "following_url": "https://api.github.com/users/TerryHighfield/following{/other_user}", "gists_url": "https://api.github.com/users/TerryHighfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/TerryHighfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TerryHighfield/subscriptions", "organizations_url": "https://api.github.com/users/TerryHighfield/orgs", "repos_url": "https://api.github.com/users/TerryHighfield/repos", "events_url": "https://api.github.com/users/TerryHighfield/events{/privacy}", "received_events_url": "https://api.github.com/users/TerryHighfield/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-28T08:29:08Z", "updated_at": "2020-05-28T09:29:45Z", "closed_at": "2020-05-28T09:29:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\n'sam build' assigns incorrect timestamps to files. The original files have today's timestamp. I only have one folder to build (a serverless function). The source is written in typescript and built to dist. The dist folder content and the package.json file have the correct timestamp in the origin folder but have timestamp of 1985 under ./aws-sam/build. \r\n\r\n**SDK version number**\r\nSAM CLI, version 0.52.0\r\n\r\n**Platform/OS/Hardware/Device**\r\nMacOS\r\n\r\n**To Reproduce (observed behavior)**\r\nrun: sam build\r\nrun: find . -not -newerat \"1990-12-31 23:59:59\"\r\n\r\nThe last command shows any files with a timestamp before 1990. for me this lists the following files:\r\n./.aws-sam/build/GetItoStaticDataFunction/dist/app.js.map\r\n./.aws-sam/build/GetItoStaticDataFunction/dist/app.js\r\n./.aws-sam/build/GetItoStaticDataFunction/package.json\r\n\r\n\r\n**Expected behavior**\r\nFiles should contain the same timestamp as the originals\r\n\r\n\r\n**Logs/output**\r\n[buildLog.txt](https://github.com/aws/aws-cli/files/4694244/buildLog.txt)\r\n\r\n**Additional context**\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5235", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5235/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5235/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5235/events", "html_url": "https://github.com/aws/aws-cli/issues/5235", "id": 625016314, "node_id": "MDU6SXNzdWU2MjUwMTYzMTQ=", "number": 5235, "title": "[compute-optimizer get-ec2-instance-recommendations] Filter: RecommendationSourceType=EC2Instance raises InvalidParameterValueException", "user": {"login": "gshel", "id": 35184207, "node_id": "MDQ6VXNlcjM1MTg0MjA3", "avatar_url": "https://avatars3.githubusercontent.com/u/35184207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gshel", "html_url": "https://github.com/gshel", "followers_url": "https://api.github.com/users/gshel/followers", "following_url": "https://api.github.com/users/gshel/following{/other_user}", "gists_url": "https://api.github.com/users/gshel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gshel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gshel/subscriptions", "organizations_url": "https://api.github.com/users/gshel/orgs", "repos_url": "https://api.github.com/users/gshel/repos", "events_url": "https://api.github.com/users/gshel/events{/privacy}", "received_events_url": "https://api.github.com/users/gshel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-26T16:28:26Z", "updated_at": "2020-06-08T21:04:59Z", "closed_at": "2020-06-08T21:04:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nAccording to its [boto3 docs](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/compute-optimizer.html#ComputeOptimizer.Client.get_ec2_instance_recommendations) and its [api docs](https://docs.aws.amazon.com/compute-optimizer/latest/APIReference/API_GetEC2InstanceRecommendations.html), I should be able to specify the RecommendationSourceType as EC2Instance. However, doing so raises an InvalidParameterValueException.\r\n\r\n**SDK version number**\r\naws-cli/1.18.39 Python/3.8.3 Linux/4.15.0-101-generic botocore/1.16.6\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 18.04.4 LTS\r\n\r\n**To Reproduce (observed behavior)**\r\n```\r\naws compute-optimizer get-ec2-instance-recommendations --filters name=RecommendationSourceType,values=EC2Instance\r\n```\r\n\r\n**Expected behavior**\r\nSimilar to the following, but returns only ec2 instances:\r\n```\r\naws compute-optimizer get-ec2-instance-recommendations --filters name=RecommendationSourceType,values=AutoScalingGroup\r\n```\r\n\r\n**Logs/output**\r\n```\r\nUSER@WKS-001046:~$ aws compute-optimizer get-ec2-instance-recommendations --filters name=RecommendationSourceType,values=EC2Instance --debug\r\n2020-05-26 12:19:38,200 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.18.39 Python/3.8.3 Linux/4.15.0-101-generic botocore/1.16.6\r\n2020-05-26 12:19:38,200 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['compute-optimizer', 'get-ec2-instance-recommendations', '--filters', 'name=RecommendationSourceType,values=EC2Instance', '--debug']\r\n2020-05-26 12:19:38,200 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f18c045c040>\r\n2020-05-26 12:19:38,201 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f18c114adc0>\r\n2020-05-26 12:19:38,201 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f18c1132af0>\r\n2020-05-26 12:19:38,203 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f18c0eff310>\r\n2020-05-26 12:19:38,203 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/dist-packages/botocore/data/compute-optimizer/2019-11-01/service-2.json\r\n2020-05-26 12:19:38,203 - MainThread - botocore.hooks - DEBUG - Event building-command-table.compute-optimizer: calling handler <function add_waiters at 0x7f18c04629d0>\r\n2020-05-26 12:19:38,207 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('instance-arns', <awscli.arguments.ListArgument object at 0x7f18bfeb92e0>), ('next-token', <awscli.arguments.CLIArgument object at 0x7f18bfeb9610>), ('max-results', <awscli.arguments.CLIArgument object at 0x7f18bfeb9730>), ('filters', <awscli.arguments.ListArgument object at 0x7f18bfeb96d0>), ('account-ids', <awscli.arguments.ListArgument object at 0x7f18bfeb97f0>)])\r\n2020-05-26 12:19:38,207 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.compute-optimizer.get-ec2-instance-recommendations: calling handler <function add_streaming_output_arg at 0x7f18c045c700>\r\n2020-05-26 12:19:38,207 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.compute-optimizer.get-ec2-instance-recommendations: calling handler <function add_cli_input_json at 0x7f18c11384c0>\r\n2020-05-26 12:19:38,208 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.compute-optimizer.get-ec2-instance-recommendations: calling handler <function unify_paging_params at 0x7f18c04649d0>\r\n2020-05-26 12:19:38,211 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/dist-packages/botocore/data/compute-optimizer/2019-11-01/paginators-1.json\r\n2020-05-26 12:19:38,211 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.compute-optimizer.get-ec2-instance-recommendations: calling handler <function add_generate_skeleton at 0x7f18c0e58ca0>\r\n2020-05-26 12:19:38,211 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.compute-optimizer.get-ec2-instance-recommendations: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f18bfeb9340>>\r\n2020-05-26 12:19:38,211 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.compute-optimizer.get-ec2-instance-recommendations: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f18bfeb93a0>>\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.instance-arns: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.next-token: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.max-results: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.filters: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.compute-optimizer.get-ec2-instance-recommendations: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f18c1100460>\r\n2020-05-26 12:19:38,212 - MainThread - awscli.argprocess - DEBUG - Parsing param --filters as shorthand\r\n2020-05-26 12:19:38,212 - MainThread - awscli.arguments - DEBUG - Unpacked value of ['name=RecommendationSourceType,values=EC2Instance'] for parameter \"filters\": [{'name': 'RecommendationSourceType', 'values': ['EC2Instance']}]\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.account-ids: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,212 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,213 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.compute-optimizer.get-ec2-instance-recommendations.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f18bfede160>\r\n2020-05-26 12:19:38,213 - MainThread - botocore.hooks - DEBUG - Event calling-command.compute-optimizer.get-ec2-instance-recommendations: calling handler <bound method CliInputJSONArgument.add_to_call_parameters of <awscli.customizations.cliinputjson.CliInputJSONArgument object at 0x7f18bfeb9340>>\r\n2020-05-26 12:19:38,213 - MainThread - botocore.hooks - DEBUG - Event calling-command.compute-optimizer.get-ec2-instance-recommendations: calling handler <bound method GenerateCliSkeletonArgument.generate_json_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f18bfeb93a0>>\r\n2020-05-26 12:19:38,213 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-05-26 12:19:38,213 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-05-26 12:19:38,213 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-05-26 12:19:38,213 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-05-26 12:19:38,213 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-05-26 12:19:38,213 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/dist-packages/botocore/data/endpoints.json\r\n2020-05-26 12:19:38,217 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f18c1d6faf0>\r\n2020-05-26 12:19:38,218 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.compute-optimizer: calling handler <function add_generate_presigned_url at 0x7f18c2224550>\r\n2020-05-26 12:19:38,218 - MainThread - botocore.regions - DEBUG - Creating a regex based endpoint for compute-optimizer, us-east-1\r\n2020-05-26 12:19:38,231 - MainThread - botocore.endpoint - DEBUG - Setting compute-optimizer timeout as (60, 60)\r\n2020-05-26 12:19:38,231 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/dist-packages/botocore/data/_retry.json\r\n2020-05-26 12:19:38,231 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: compute-optimizer\r\n2020-05-26 12:19:38,232 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.compute-optimizer.GetEC2InstanceRecommendations: calling handler <function generate_idempotent_uuid at 0x7f18c1d0a310>\r\n2020-05-26 12:19:38,232 - MainThread - botocore.hooks - DEBUG - Event before-call.compute-optimizer.GetEC2InstanceRecommendations: calling handler <function inject_api_version_header_if_needed at 0x7f18c1d0cdc0>\r\n2020-05-26 12:19:38,232 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetEC2InstanceRecommendations) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'ComputeOptimizerService.GetEC2InstanceRecommendations', 'Content-Type': 'application/x-amz-json-1.0', 'User-Agent': 'aws-cli/1.18.39 Python/3.8.3 Linux/4.15.0-101-generic botocore/1.16.6'}, 'body': b'{\"filters\": [{\"name\": \"RecommendationSourceType\", \"values\": [\"EC2Instance\"]}]}', 'url': 'https://compute-optimizer.us-east-1.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f18bff55790>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-05-26 12:19:38,232 - MainThread - botocore.hooks - DEBUG - Event request-created.compute-optimizer.GetEC2InstanceRecommendations: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f18bff556a0>>\r\n2020-05-26 12:19:38,232 - MainThread - botocore.hooks - DEBUG - Event choose-signer.compute-optimizer.GetEC2InstanceRecommendations: calling handler <function set_operation_specific_signer at 0x7f18c1d0a1f0>\r\n2020-05-26 12:19:38,233 - MainThread - botocore.credentials - DEBUG - Credentials for role retrieved from cache.\r\n2020-05-26 12:19:38,233 - MainThread - botocore.credentials - DEBUG - Retrieved credentials will expire at: 2020-05-26 16:45:56+00:00\r\n2020-05-26 12:19:38,233 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-05-26 12:19:38,233 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-amz-json-1.0\r\nhost:compute-optimizer.us-east-1.amazonaws.com\r\nx-amz-date:20200526T161938Z\r\nx-amz-security-token:FwoGZXIvYXdzEGEaDPSc576suRHAYT2JMiK/AdYwFVDtGsXSucckUQHszYgWXFqSrHrrNEb2LosNHJo+z5vs76C7ZJUtxDkcGa88/upKW2Tv/jSGCtCYwjXHsiIAtFzonuKAHlsKf/Vd4Mo29YwGi5wCP8faJ10Y9yyX5DrCaC8ALfiCRBWZiS86/DWsK6U5hMTVZDKyNqc2KTXVVH7DXLQzz3ezX7MezcYoqgszeaO2Tg6PDYPa0CyIYo3B7hYcMKfQq3fHvoYPhny/rHwJyVGVvGpHjo/+cEpfKLTztPYFMi3WCQep8Ryji1wmONDhDRQIKZ8DfMhv90Quxo1ApSmXqvAWm5agKgZmNlxNSz4=\r\nx-amz-target:ComputeOptimizerService.GetEC2InstanceRecommendations\r\n\r\ncontent-type;host;x-amz-date;x-amz-security-token;x-amz-target\r\nd798eb82b923f1ef61b6ad2e56e9eefdd8562dbbed7d7f7f1c9627c5c8ea93c3\r\n2020-05-26 12:19:38,233 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200526T161938Z\r\n20200526/us-east-1/compute-optimizer/aws4_request\r\n13277c6391193fa85cd586be19355769266b5bef9244dc0a1240fe3273bf635d\r\n2020-05-26 12:19:38,233 - MainThread - botocore.auth - DEBUG - Signature:\r\n82609813fe919c56b91dc2fe3aba0fd59083b280f8966957b68d8c96b6e07a88\r\n2020-05-26 12:19:38,233 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://compute-optimizer.us-east-1.amazonaws.com/, headers={'X-Amz-Target': b'ComputeOptimizerService.GetEC2InstanceRecommendations', 'Content-Type': b'application/x-amz-json-1.0', 'User-Agent': b'aws-cli/1.18.39 Python/3.8.3 Linux/4.15.0-101-generic botocore/1.16.6', 'X-Amz-Date': b'20200526T161938Z', 'X-Amz-Security-Token': b'FwoGZXIvYXdzEGEaDPSc576suRHAYT2JMiK/AdYwFVDtGsXSucckUQHszYgWXFqSrHrrNEb2LosNHJo+z5vs76C7ZJUtxDkcGa88/upKW2Tv/jSGCtCYwjXHsiIAtFzonuKAHlsKf/Vd4Mo29YwGi5wCP8faJ10Y9yyX5DrCaC8ALfiCRBWZiS86/DWsK6U5hMTVZDKyNqc2KTXVVH7DXLQzz3ezX7MezcYoqgszeaO2Tg6PDYPa0CyIYo3B7hYcMKfQq3fHvoYPhny/rHwJyVGVvGpHjo/+cEpfKLTztPYFMi3WCQep8Ryji1wmONDhDRQIKZ8DfMhv90Quxo1ApSmXqvAWm5agKgZmNlxNSz4=', 'Authorization': b'AWS4-HMAC-SHA256 Credential=ASIAQ6FOLK5RJHNVHU4T/20200526/us-east-1/compute-optimizer/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token;x-amz-target, Signature=82609813fe919c56b91dc2fe3aba0fd59083b280f8966957b68d8c96b6e07a88', 'Content-Length': '78'}>\r\n2020-05-26 12:19:38,234 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): compute-optimizer.us-east-1.amazonaws.com\r\n2020-05-26 12:19:38,616 - MainThread - urllib3.connectionpool - DEBUG - https://compute-optimizer.us-east-1.amazonaws.com:443 \"POST / HTTP/1.1\" 400 108\r\n2020-05-26 12:19:38,617 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Tue, 26 May 2020 16:19:38 GMT', 'Content-Type': 'application/x-amz-json-1.0', 'Content-Length': '108', 'Connection': 'keep-alive', 'x-amzn-RequestId': '3d214e44-9ec9-47a2-9515-df0b3c11f658'}\r\n2020-05-26 12:19:38,618 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"com.amazonaws.computeoptimizer#InvalidParameterValueException\",\"message\":\"Invalid filter value.\"}'\r\n2020-05-26 12:19:38,619 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Tue, 26 May 2020 16:19:38 GMT', 'Content-Type': 'application/x-amz-json-1.0', 'Content-Length': '108', 'Connection': 'keep-alive', 'x-amzn-RequestId': '3d214e44-9ec9-47a2-9515-df0b3c11f658'}\r\n2020-05-26 12:19:38,619 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"com.amazonaws.computeoptimizer#InvalidParameterValueException\",\"message\":\"Invalid filter value.\"}'\r\n2020-05-26 12:19:38,620 - MainThread - botocore.hooks - DEBUG - Event needs-retry.compute-optimizer.GetEC2InstanceRecommendations: calling handler <botocore.retryhandler.RetryHandler object at 0x7f18bfff72b0>\r\n2020-05-26 12:19:38,621 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2020-05-26 12:19:38,622 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/home/USER/.local/lib/python3.8/site-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/home/USER/.local/lib/python3.8/site-packages/awscli/clidriver.py\", line 358, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/home/USER/.local/lib/python3.8/site-packages/awscli/clidriver.py\", line 527, in __call__\r\n    return self._operation_caller.invoke(\r\n  File \"/home/USER/.local/lib/python3.8/site-packages/awscli/clidriver.py\", line 649, in invoke\r\n    response = self._make_client_call(\r\n  File \"/home/USER/.local/lib/python3.8/site-packages/awscli/clidriver.py\", line 661, in _make_client_call\r\n    response = getattr(client, xform_name(operation_name))(\r\n  File \"/usr/local/lib/python3.8/dist-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/botocore/client.py\", line 626, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.errorfactory.InvalidParameterValueException: An error occurred (InvalidParameterValueException) when calling the GetEC2InstanceRecommendations operation: Invalid filter value.\r\n2020-05-26 12:19:38,629 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nAn error occurred (InvalidParameterValueException) when calling the GetEC2InstanceRecommendations operation: Invalid filter value.\r\n```\r\n\r\n**Additional context**\r\nIf this is expected behavior, maybe the docs could be updated to remove 'EC2Instance' from valid values for RecommendationSourceType.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5217", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5217/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5217/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5217/events", "html_url": "https://github.com/aws/aws-cli/issues/5217", "id": 621647303, "node_id": "MDU6SXNzdWU2MjE2NDczMDM=", "number": 5217, "title": "AWS CLI no longer finds shared credentials since 2.0.9", "user": {"login": "alanbccoe", "id": 57703034, "node_id": "MDQ6VXNlcjU3NzAzMDM0", "avatar_url": "https://avatars3.githubusercontent.com/u/57703034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanbccoe", "html_url": "https://github.com/alanbccoe", "followers_url": "https://api.github.com/users/alanbccoe/followers", "following_url": "https://api.github.com/users/alanbccoe/following{/other_user}", "gists_url": "https://api.github.com/users/alanbccoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanbccoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanbccoe/subscriptions", "organizations_url": "https://api.github.com/users/alanbccoe/orgs", "repos_url": "https://api.github.com/users/alanbccoe/repos", "events_url": "https://api.github.com/users/alanbccoe/events{/privacy}", "received_events_url": "https://api.github.com/users/alanbccoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-20T10:25:29Z", "updated_at": "2020-06-01T20:05:43Z", "closed_at": "2020-06-01T20:05:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI have several profiles set up in ~/.aws/config and have credentials in ~/.aws/credentials including some under a `[default]` heading. With version 2.0.6 if I run `aws configure list` it correctly displays my profile:\r\n```\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                <not set>             None    None\r\naccess_key     ****************AEAU shared-credentials-file    \r\nsecret_key     ****************o31b shared-credentials-file    \r\n    region                <not set>             None    None\r\n```\r\n\r\nBut with 2.0.9 and later it fails to find them, and I get this:\r\n```\r\n$ aws configure list\r\n      Name                    Value             Type    Location\r\n      ----                    -----             ----    --------\r\n   profile                <not set>             None    None\r\naccess_key                <not set>             None    None\r\nsecret_key                <not set>             None    None\r\n    region                <not set>             None    None\r\n```\r\n\r\n**SDK version number**\r\n> 2.0.6\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on? RHEL UBI8 docker image\r\n\r\n**To Reproduce (observed behavior)**\r\nPut credentials under `[default]` in `~/.aws/credentials` and create some profiles in `~/.aws/config`. \r\n\r\n**Expected behavior**\r\nIt continues to find shared credentials\r\n\r\n**Logs/output**\r\n2.0.6 (working):\r\n```\r\n...\r\n2020-05-20 10:16:01,337 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-05-20 10:16:01,341 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n...\r\n```\r\n\r\n2.0.9 (broken):\r\n```\r\n...\r\n2020-05-20 10:22:55,964 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n...\r\n```\r\n\r\n**Additional context**\r\nEven if I manually add the credentials to the `[default]` section of `~/.aws/config` it still fails to find the credentials, so the shared config file might be a red herring.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5213", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5213/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5213/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5213/events", "html_url": "https://github.com/aws/aws-cli/issues/5213", "id": 620585629, "node_id": "MDU6SXNzdWU2MjA1ODU2Mjk=", "number": 5213, "title": "aws ecr get-login-password fails with MFA", "user": {"login": "wyllys66", "id": 4163874, "node_id": "MDQ6VXNlcjQxNjM4NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4163874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wyllys66", "html_url": "https://github.com/wyllys66", "followers_url": "https://api.github.com/users/wyllys66/followers", "following_url": "https://api.github.com/users/wyllys66/following{/other_user}", "gists_url": "https://api.github.com/users/wyllys66/gists{/gist_id}", "starred_url": "https://api.github.com/users/wyllys66/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wyllys66/subscriptions", "organizations_url": "https://api.github.com/users/wyllys66/orgs", "repos_url": "https://api.github.com/users/wyllys66/repos", "events_url": "https://api.github.com/users/wyllys66/events{/privacy}", "received_events_url": "https://api.github.com/users/wyllys66/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-19T00:23:36Z", "updated_at": "2020-05-19T02:57:34Z", "closed_at": "2020-05-19T02:57:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [ X] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [X ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [X ] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?  MacOS\r\n\r\n**Describe the question**\r\n\r\nI have an IAM account configured to use MFA authentication. I can successfully get session tokens with no problem using ```aws sts get-session-token ...```\r\n\r\nI cannot figure out how to use \"docker login\" to authenticate to my ECR repository using the MFA credentials.  \"aws ecr get-login-password\" does not work.  I have a profile configured with the most recently fetched MFA credentials, it looks like this:\r\n\r\n```\r\n[mfa]\r\nregion = us-east-1\r\naws_access_key_id = \"XXXXXXXXXXXXXXXXXXXX\"\r\naws_secret_access_key = \"ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ\"\r\naws_security_token = \"...a very large token...\"\r\n```\r\n\r\nThe documentation says to use the following statement to use docker to login:\r\n```\r\naws ecr get-login-password --region us-east-1 --profile mfa | docker login --username AWS --password-stdin XXXXXXXXXXXXXX.dkr.ecr.us-east-1.amazonaws.com\r\n```\r\n\r\nHowever, that fails with the following error:\r\n```\r\nAn error occurred (UnrecognizedClientException) when calling the GetAuthorizationToken operation: The security token included in the request is invalid.\r\n```\r\n\r\nNone of the online documentation seems to quite address this problem - using an account with MFA enabled to login to docker so I can push images.\r\n\r\nAny suggestions would be greatly appreciated.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5212", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5212/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5212/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5212/events", "html_url": "https://github.com/aws/aws-cli/issues/5212", "id": 620439459, "node_id": "MDU6SXNzdWU2MjA0Mzk0NTk=", "number": 5212, "title": "Unable to login to ECR using VPC Endpoint", "user": {"login": "subaduba", "id": 20589502, "node_id": "MDQ6VXNlcjIwNTg5NTAy", "avatar_url": "https://avatars3.githubusercontent.com/u/20589502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subaduba", "html_url": "https://github.com/subaduba", "followers_url": "https://api.github.com/users/subaduba/followers", "following_url": "https://api.github.com/users/subaduba/following{/other_user}", "gists_url": "https://api.github.com/users/subaduba/gists{/gist_id}", "starred_url": "https://api.github.com/users/subaduba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subaduba/subscriptions", "organizations_url": "https://api.github.com/users/subaduba/orgs", "repos_url": "https://api.github.com/users/subaduba/repos", "events_url": "https://api.github.com/users/subaduba/events{/privacy}", "received_events_url": "https://api.github.com/users/subaduba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-18T19:07:14Z", "updated_at": "2020-05-18T20:18:36Z", "closed_at": "2020-05-18T20:18:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [x] Service API : I want to do X using Y service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nAmazon Linux 2\r\n\r\n**Describe the question**\r\nI am trying to use ECR with a VPC Endpoint. I have created endpoints to the following endpoints, both with Private DNS enabled:\r\n\r\ncom.amazonaws.us-east-1.ecr.api\r\ncom.amazonaws.us-east-1.ecr.dkr\r\n\r\nI am running the latest AWS CLI (1.18.61) on Python 2.7.16\r\n\r\nI am able to run basic **aws ecr XX** commands successfully, but for some reason, I am unable to login to ECR using **docker login**\r\n\r\nI can run this successfully:\r\n\r\n`aws ecr --region us-east-1 get-login-password`\r\n\r\nBut if I run this:\r\n\r\n`docker login -u AWS -p $(aws ecr --region us-east-1 get-login-password) <vpc_endpoint_url>`\r\n\r\nI get the following:\r\n\r\n`Error response from daemon: login attempt to https://<endpoint_id>.dkr.ecr.us-east-1.vpce.amazonaws.com/v2/ failed with status: 400 Bad Request`\r\n\r\nA couple of notes:\r\n\r\n1. I am running this from a private subnet with proxied access to the internet. My http_proxy and https_proxy env variables are set appropriately\r\n\r\n2. I tried modifying my no_proxy env variable to include the VPC endpoint URL, but that didn't work either\r\n\r\n3. The IAM role assigned to the EC2 instance running the command has ecr:* permissions.\r\n\r\n4. I can login and push to the registry from another machine that has internet access using the default endpoint. It appears to be just the VPC endpoint that doesn't work.\r\n\r\nAny suggestions on what I might be doing wrong?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5210", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5210/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5210/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5210/events", "html_url": "https://github.com/aws/aws-cli/issues/5210", "id": 620288742, "node_id": "MDU6SXNzdWU2MjAyODg3NDI=", "number": 5210, "title": "get-domain-statistics-report Unable to find a dashboard", "user": {"login": "shqear-mawdoo3", "id": 59925620, "node_id": "MDQ6VXNlcjU5OTI1NjIw", "avatar_url": "https://avatars0.githubusercontent.com/u/59925620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shqear-mawdoo3", "html_url": "https://github.com/shqear-mawdoo3", "followers_url": "https://api.github.com/users/shqear-mawdoo3/followers", "following_url": "https://api.github.com/users/shqear-mawdoo3/following{/other_user}", "gists_url": "https://api.github.com/users/shqear-mawdoo3/gists{/gist_id}", "starred_url": "https://api.github.com/users/shqear-mawdoo3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shqear-mawdoo3/subscriptions", "organizations_url": "https://api.github.com/users/shqear-mawdoo3/orgs", "repos_url": "https://api.github.com/users/shqear-mawdoo3/repos", "events_url": "https://api.github.com/users/shqear-mawdoo3/events{/privacy}", "received_events_url": "https://api.github.com/users/shqear-mawdoo3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-18T15:10:22Z", "updated_at": "2020-06-22T21:44:47Z", "closed_at": "2020-06-16T22:10:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [x] Service API : I want to do get-domain-statistics-report using sesv2 service, what should I do?\r\n- [ ] CLI : passing arguments or cli configurations.\r\n- [x] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n```\r\nNo LSB modules are available.\r\nDistributor ID:\tDeepin\r\nDescription:\tDeepin 15.11\r\nRelease:\t15.11\r\nCodename:\tstable\r\n```\r\n```\r\npip -V\r\npip 19.0.3 from /usr/local/lib/python3.5/dist-packages/pip-19.0.3-py3.5.egg/pip (python 3.5)\r\n```\r\n```\r\naws --version\r\naws-cli/1.18.58 Python/3.5.3 Linux/4.15.0-30deepin-generic botocore/1.15.49\r\n```\r\n\r\n**Describe the question**\r\nI'm trying to get the detailed statistics for SES (# of emails sent.. etc)\r\nrunning this command : \r\n```\r\naws2 --profile mydomain sesv2 get-domain-statistics-report --domain 'mydomain.com' --start-date 1588338678 --end-date 1589807503\r\n```\r\nit give me this weird message : \r\n```\r\nAn error occurred (NotFoundException) when calling the GetDomainStatisticsReport operation: Unable to find a dashboard account for <xxxx>.\r\n```\r\n\r\n**Logs/output**\r\n```\r\n2020-05-18 18:03:27,342 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.0dev3 Python/3.7.3 Linux/4.15.0-30deepin-generic botocore/2.0.0dev2\r\n2020-05-18 18:03:27,342 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['--profile', 'mydomain', 'sesv2', 'get-domain-statistics-report', '--domain', 'mydomain.com', '--start-date', '1588338678', '--end-date', '1589807503', '--debug']\r\n2020-05-18 18:03:27,342 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x7f7acaedd950>\r\n2020-05-18 18:03:27,342 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f7acb828378>\r\n2020-05-18 18:03:27,343 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x7f7acae27158>\r\n2020-05-18 18:03:27,343 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f7acb7cdbf8>\r\n2020-05-18 18:03:27,344 - MainThread - botocore.credentials - DEBUG - Skipping environment variable credential check because profile name was explicitly set.\r\n2020-05-18 18:03:27,344 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f7acb04ad08>\r\n2020-05-18 18:03:27,344 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x7f7acb086620>\r\n2020-05-18 18:03:27,348 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/sesv2/2019-09-27/service-2.json\r\n2020-05-18 18:03:27,356 - MainThread - botocore.hooks - DEBUG - Event building-command-table.sesv2: calling handler <function add_waiters at 0x7f7acae64ea0>\r\n2020-05-18 18:03:27,360 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('domain', <awscli.arguments.CLIArgument object at 0x7f7acac67f98>), ('start-date', <awscli.arguments.CLIArgument object at 0x7f7acac67fd0>), ('end-date', <awscli.arguments.CLIArgument object at 0x7f7acacfa048>)])\r\n2020-05-18 18:03:27,360 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.sesv2.get-domain-statistics-report: calling handler <function add_streaming_output_arg at 0x7f7acaeddea0>\r\n2020-05-18 18:03:27,360 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.sesv2.get-domain-statistics-report: calling handler <function add_cli_input_json at 0x7f7acb7d6268>\r\n2020-05-18 18:03:27,361 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.sesv2.get-domain-statistics-report: calling handler <function add_cli_input_yaml at 0x7f7acb7d6488>\r\n2020-05-18 18:03:27,361 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.sesv2.get-domain-statistics-report: calling handler <function unify_paging_params at 0x7f7acb08ae18>\r\n2020-05-18 18:03:27,365 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/sesv2/2019-09-27/paginators-1.json\r\n2020-05-18 18:03:27,365 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.sesv2.get-domain-statistics-report: calling handler <function add_generate_skeleton at 0x7f7acaf52620>\r\n2020-05-18 18:03:27,366 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.sesv2.get-domain-statistics-report: calling handler <function add_auto_prompt at 0x7f7acae270d0>\r\n2020-05-18 18:03:27,366 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.sesv2.get-domain-statistics-report: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f7acac6d080>>\r\n2020-05-18 18:03:27,366 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.sesv2.get-domain-statistics-report: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f7ad124c7b8>>\r\n2020-05-18 18:03:27,366 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.sesv2.get-domain-statistics-report: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f7acac6d0b8>>\r\n2020-05-18 18:03:27,366 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.sesv2.get-domain-statistics-report: calling handler <bound method AutoPromptArgument.override_required_args of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x7f7acac75668>>\r\n2020-05-18 18:03:27,367 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.domain to load-cli-arg.ses.get-domain-statistics-report.domain\r\n2020-05-18 18:03:27,367 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.domain: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,367 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.sesv2.get-domain-statistics-report: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f7acb817c88>\r\n2020-05-18 18:03:27,367 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'mydomain.com' for parameter \"domain\": 'mydomain.com'\r\n2020-05-18 18:03:27,367 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.start-date to load-cli-arg.ses.get-domain-statistics-report.start-date\r\n2020-05-18 18:03:27,367 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.start-date: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.sesv2.get-domain-statistics-report: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f7acb817c88>\r\n2020-05-18 18:03:27,368 - MainThread - awscli.arguments - DEBUG - Unpacked value of '1588338678' for parameter \"start_date\": '1588338678'\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.end-date to load-cli-arg.ses.get-domain-statistics-report.end-date\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.end-date: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.sesv2.get-domain-statistics-report: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f7acb817c88>\r\n2020-05-18 18:03:27,368 - MainThread - awscli.arguments - DEBUG - Unpacked value of '1589807503' for parameter \"end_date\": '1589807503'\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.cli-input-json to load-cli-arg.ses.get-domain-statistics-report.cli-input-json\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.cli-input-yaml to load-cli-arg.ses.get-domain-statistics-report.cli-input-yaml\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.generate-cli-skeleton to load-cli-arg.ses.get-domain-statistics-report.generate-cli-skeleton\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Changing event name from load-cli-arg.email.get-domain-statistics-report.cli-auto-prompt to load-cli-arg.ses.get-domain-statistics-report.cli-auto-prompt\r\n2020-05-18 18:03:27,368 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.ses.get-domain-statistics-report.cli-auto-prompt: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f7ad124c550>\r\n2020-05-18 18:03:27,369 - MainThread - botocore.hooks - DEBUG - Event calling-command.sesv2.get-domain-statistics-report: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x7f7acac6d080>>\r\n2020-05-18 18:03:27,369 - MainThread - botocore.hooks - DEBUG - Event calling-command.sesv2.get-domain-statistics-report: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x7f7ad124c7b8>>\r\n2020-05-18 18:03:27,369 - MainThread - botocore.hooks - DEBUG - Event calling-command.sesv2.get-domain-statistics-report: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x7f7acac6d0b8>>\r\n2020-05-18 18:03:27,369 - MainThread - botocore.hooks - DEBUG - Event calling-command.sesv2.get-domain-statistics-report: calling handler <bound method AutoPromptArgument.auto_prompt_arguments of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x7f7acac75668>>\r\n2020-05-18 18:03:27,369 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-05-18 18:03:27,369 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-05-18 18:03:27,369 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-05-18 18:03:27,369 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-05-18 18:03:27,369 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-05-18 18:03:27,370 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/endpoints.json\r\n2020-05-18 18:03:27,373 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f7acc830510>\r\n2020-05-18 18:03:27,375 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.sesv2: calling handler <function add_generate_presigned_url at 0x7f7acc816d90>\r\n2020-05-18 18:03:27,378 - MainThread - botocore.endpoint - DEBUG - Setting email timeout as (60, 60)\r\n2020-05-18 18:03:27,378 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/aws-cli/v2/2.0.0dev3/dist/botocore/data/_retry.json\r\n2020-05-18 18:03:27,379 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: sesv2\r\n2020-05-18 18:03:27,379 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.sesv2.GetDomainStatisticsReport: calling handler <function base64_decode_input_blobs at 0x7f7acae27950>\r\n2020-05-18 18:03:27,380 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.sesv2.GetDomainStatisticsReport: calling handler <function generate_idempotent_uuid at 0x7f7acc7dd400>\r\n2020-05-18 18:03:27,381 - MainThread - botocore.hooks - DEBUG - Event before-call.sesv2.GetDomainStatisticsReport: calling handler <function inject_api_version_header_if_needed at 0x7f7acc7d1d90>\r\n2020-05-18 18:03:27,381 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=GetDomainStatisticsReport) with params: {'url_path': '/v2/email/deliverability-dashboard/statistics-report/mydomain.com', 'query_string': {'StartDate': '2020-05-01T13:11:18Z', 'EndDate': '2020-05-18T13:11:43Z'}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.0dev3 Python/3.7.3 Linux/4.15.0-30deepin-generic botocore/2.0.0dev2'}, 'body': b'', 'url': 'https://email.eu-west-1.amazonaws.com/v2/email/deliverability-dashboard/statistics-report/mydomain.com?StartDate=2020-05-01T13%3A11%3A18Z&EndDate=2020-05-18T13%3A11%3A43Z', 'context': {'client_region': 'eu-west-1', 'client_config': <botocore.config.Config object at 0x7f7acaaf5550>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-05-18 18:03:27,381 - MainThread - botocore.hooks - DEBUG - Event request-created.sesv2.GetDomainStatisticsReport: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f7acaaf5518>>\r\n2020-05-18 18:03:27,381 - MainThread - botocore.hooks - DEBUG - Event choose-signer.sesv2.GetDomainStatisticsReport: calling handler <function set_operation_specific_signer at 0x7f7acc7dd2f0>\r\n2020-05-18 18:03:27,381 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-05-18 18:03:27,381 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/v2/email/deliverability-dashboard/statistics-report/mydomain.com\r\nEndDate=2020-05-18T13%3A11%3A43Z&StartDate=2020-05-01T13%3A11%3A18Z\r\nhost:email.eu-west-1.amazonaws.com\r\nx-amz-date:20200518T150327Z\r\n\r\nhost;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-05-18 18:03:27,382 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200518T150327Z\r\n20200518/eu-west-1/ses/aws4_request\r\nxxxx\r\n2020-05-18 18:03:27,382 - MainThread - botocore.auth - DEBUG - Signature:\r\nxxxx\r\n2020-05-18 18:03:27,382 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://email.eu-west-1.amazonaws.com/v2/email/deliverability-dashboard/statistics-report/mydomain.com?StartDate=2020-05-01T13%3A11%3A18Z&EndDate=2020-05-18T13%3A11%3A43Z, headers={'User-Agent': b'aws-cli/2.0.0dev3 Python/3.7.3 Linux/4.15.0-30deepin-generic botocore/2.0.0dev2', 'X-Amz-Date': b'20200518T150327Z', 'Authorization': xxx Credential=xxx/20200518/eu-west-1/ses/aws4_request, SignedHeaders=host;x-amz-date, Signature=xxx'}>\r\n2020-05-18 18:03:27,382 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): email.eu-west-1.amazonaws.com:443\r\n2020-05-18 18:03:27,932 - MainThread - urllib3.connectionpool - DEBUG - https://email.eu-west-1.amazonaws.com:443 \"GET /v2/email/deliverability-dashboard/statistics-report/mydomain.com?StartDate=2020-05-01T13%3A11%3A18Z&EndDate=2020-05-18T13%3A11%3A43Z HTTP/1.1\" 404 68\r\n2020-05-18 18:03:27,933 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': 'xxx', 'x-amzn-ErrorType': 'NotFoundException', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '68', 'Date': 'Mon, 18 May 2020 15:03:27 GMT'}\r\n2020-05-18 18:03:27,933 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"message\":\"Unable to find a dashboard account for <xxx>.\"}'\r\n2020-05-18 18:03:27,933 - MainThread - botocore.hooks - DEBUG - Event needs-retry.sesv2.GetDomainStatisticsReport: calling handler <botocore.retryhandler.RetryHandler object at 0x7f7acaaf59e8>\r\n2020-05-18 18:03:27,933 - MainThread - botocore.retryhandler - DEBUG - No retry needed.\r\n2020-05-18 18:03:27,934 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"site-packages/awscli/clidriver.py\", line 327, in main\r\n  File \"site-packages/awscli/clidriver.py\", line 476, in __call__\r\n  File \"site-packages/awscli/clidriver.py\", line 654, in __call__\r\n  File \"site-packages/awscli/clidriver.py\", line 775, in invoke\r\n  File \"site-packages/awscli/clidriver.py\", line 787, in _make_client_call\r\n  File \"site-packages/botocore/client.py\", line 274, in _api_call\r\n  File \"site-packages/botocore/client.py\", line 584, in _make_api_call\r\nbotocore.errorfactory.NotFoundException: An error occurred (NotFoundException) when calling the GetDomainStatisticsReport operation: Unable to find a dashboard account for <xxx>.\r\n2020-05-18 18:03:27,934 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\nAn error occurred (NotFoundException) when calling the GetDomainStatisticsReport operation: Unable to find a dashboard account for <xxx>.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5201", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5201/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5201/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5201/events", "html_url": "https://github.com/aws/aws-cli/issues/5201", "id": 618032729, "node_id": "MDU6SXNzdWU2MTgwMzI3Mjk=", "number": 5201, "title": "aws acm list-certificates how to list additional domain names asociated ", "user": {"login": "ivelikov67", "id": 65336598, "node_id": "MDQ6VXNlcjY1MzM2NTk4", "avatar_url": "https://avatars1.githubusercontent.com/u/65336598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivelikov67", "html_url": "https://github.com/ivelikov67", "followers_url": "https://api.github.com/users/ivelikov67/followers", "following_url": "https://api.github.com/users/ivelikov67/following{/other_user}", "gists_url": "https://api.github.com/users/ivelikov67/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivelikov67/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivelikov67/subscriptions", "organizations_url": "https://api.github.com/users/ivelikov67/orgs", "repos_url": "https://api.github.com/users/ivelikov67/repos", "events_url": "https://api.github.com/users/ivelikov67/events{/privacy}", "received_events_url": "https://api.github.com/users/ivelikov67/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-05-14T08:30:46Z", "updated_at": "2020-06-16T23:05:03Z", "closed_at": "2020-06-16T23:05:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to list all domain names asociated with a aws certifficate ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5198", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5198/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5198/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5198/events", "html_url": "https://github.com/aws/aws-cli/issues/5198", "id": 617078167, "node_id": "MDU6SXNzdWU2MTcwNzgxNjc=", "number": 5198, "title": "# [Codecov](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=h1) Report", "user": {"login": "thesunisgas", "id": 64889257, "node_id": "MDQ6VXNlcjY0ODg5MjU3", "avatar_url": "https://avatars3.githubusercontent.com/u/64889257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thesunisgas", "html_url": "https://github.com/thesunisgas", "followers_url": "https://api.github.com/users/thesunisgas/followers", "following_url": "https://api.github.com/users/thesunisgas/following{/other_user}", "gists_url": "https://api.github.com/users/thesunisgas/gists{/gist_id}", "starred_url": "https://api.github.com/users/thesunisgas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thesunisgas/subscriptions", "organizations_url": "https://api.github.com/users/thesunisgas/orgs", "repos_url": "https://api.github.com/users/thesunisgas/repos", "events_url": "https://api.github.com/users/thesunisgas/events{/privacy}", "received_events_url": "https://api.github.com/users/thesunisgas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-13T01:47:58Z", "updated_at": "2020-05-15T00:27:02Z", "closed_at": "2020-05-15T00:27:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "# [Codecov](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=h1) Report\r\n> Merging [#1608](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=desc) into [master](https://codecov.io/gh/aws/aws-sdk-php/commit/0daae6292e8355156a9be73bc1cc4dd7075cac0d?src=pr&el=desc) will **decrease** coverage by `0.55%`.\r\n> The diff coverage is `n/a`.\r\n\r\n[![Impacted file tree graph](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/graphs/tree.svg?width=650&token=0p8wqlGrg4&height=150&src=pr)](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=tree)\r\n\r\n```diff\r\n@@             Coverage Diff              @@\r\n##             master    #1608      +/-   ##\r\n============================================\r\n- Coverage     94.21%   93.66%   -0.56%     \r\n============================================\r\n  Files           160      160              \r\n  Lines          6867     6770      -97     \r\n============================================\r\n- Hits           6470     6341     -129     \r\n- Misses          397      429      +32\r\n```\r\n\r\n\r\n| [Impacted Files](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=tree) | Coverage \u0394 | Complexity \u0394 | |\r\n|---|---|---|---|\r\n| [src/Handler/GuzzleV6/GuzzleHandler.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL0hhbmRsZXIvR3V6emxlVjYvR3V6emxlSGFuZGxlci5waHA=) | `0% <0%> (-85.3%)` | `0% <0%> (-14%)` | |\r\n| [src/RetryMiddleware.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL1JldHJ5TWlkZGxld2FyZS5waHA=) | `95.95% <0%> (-3.05%)` | `0% <0%> (-60%)` | |\r\n| [src/functions.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL2Z1bmN0aW9ucy5waHA=) | `87.5% <0%> (-2.09%)` | `0% <0%> (\u00f8)` | |\r\n| [src/CloudSearchDomain/CloudSearchDomainClient.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL0Nsb3VkU2VhcmNoRG9tYWluL0Nsb3VkU2VhcmNoRG9tYWluQ2xpZW50LnBocA==) | `76% <0%> (-0.93%)` | `0% <0%> (-7%)` | |\r\n| [src/Multipart/AbstractUploadManager.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL011bHRpcGFydC9BYnN0cmFjdFVwbG9hZE1hbmFnZXIucGhw) | `83.33% <0%> (-0.67%)` | `0% <0%> (-25%)` | |\r\n| [src/Middleware.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL01pZGRsZXdhcmUucGhw) | `98.14% <0%> (-0.27%)` | `0% <0%> (-38%)` | |\r\n| [src/Glacier/GlacierClient.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL0dsYWNpZXIvR2xhY2llckNsaWVudC5waHA=) | `95.91% <0%> (-0.24%)` | `0% <0%> (-17%)` | |\r\n| [src/S3/S3MultiRegionClient.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL1MzL1MzTXVsdGlSZWdpb25DbGllbnQucGhw) | `94.66% <0%> (-0.21%)` | `0% <0%> (-26%)` | |\r\n| [src/MultiRegionClient.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL011bHRpUmVnaW9uQ2xpZW50LnBocA==) | `96.2% <0%> (-0.19%)` | `0% <0%> (-37%)` | |\r\n| [src/S3/BatchDelete.php](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree#diff-c3JjL1MzL0JhdGNoRGVsZXRlLnBocA==) | `97.26% <0%> (-0.18%)` | `0% <0%> (-36%)` | |\r\n| ... and [22 more](https://codecov.io/gh/aws/aws-sdk-php/pull/1608/diff?src=pr&el=tree-more) | |\r\n\r\n------\r\n\r\n[Continue to review full report at Codecov](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=continue).\r\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\r\n> `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\r\n> Powered by [Codecov](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=footer). Last update [0daae62...089b30e](https://codecov.io/gh/aws/aws-sdk-php/pull/1608?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\r\n\r\n_Originally posted by @codecov-io in https://github.com/aws/aws-sdk-php/pull/1608#issuecomment-414695019_", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5195", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5195/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5195/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5195/events", "html_url": "https://github.com/aws/aws-cli/issues/5195", "id": 616505352, "node_id": "MDU6SXNzdWU2MTY1MDUzNTI=", "number": 5195, "title": "[v2] aws configure sso: The only role available to you is...", "user": {"login": "trondhindenes", "id": 1747120, "node_id": "MDQ6VXNlcjE3NDcxMjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1747120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trondhindenes", "html_url": "https://github.com/trondhindenes", "followers_url": "https://api.github.com/users/trondhindenes/followers", "following_url": "https://api.github.com/users/trondhindenes/following{/other_user}", "gists_url": "https://api.github.com/users/trondhindenes/gists{/gist_id}", "starred_url": "https://api.github.com/users/trondhindenes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trondhindenes/subscriptions", "organizations_url": "https://api.github.com/users/trondhindenes/orgs", "repos_url": "https://api.github.com/users/trondhindenes/repos", "events_url": "https://api.github.com/users/trondhindenes/events{/privacy}", "received_events_url": "https://api.github.com/users/trondhindenes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-12T09:29:20Z", "updated_at": "2020-05-12T22:26:06Z", "closed_at": "2020-05-12T22:26:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI'm running `aws configure sso --profile myprofile`. I select the start page etc, and the account I want. For this account, I have access to 2 roles, according to the \"start\" page in my browser. However, AWS CLI tells me that \"The only role available to you is: <RoleName>\".\r\n\r\nI would expect the aws cli to correctly list the roles.\r\nI would also expect some way to gracefully refresh my cached cred in case the role change happened after my last login.\r\n\r\n**SDK version number**\r\nI don't know how to print the aws cli version, since it's no longer a pip\r\n\r\n**Platform/OS/Hardware/Device**\r\nUbuntu 20\r\n\r\n**To Reproduce (observed behavior)**\r\nSee above\r\n\r\n**Expected behavior**\r\nAWS CLI allowed me to chose between my available roles for the account in question.\r\n\r\n**Logs/output**\r\nI can do that in a private message if required. I don't want to paste in potentially sensitive log data here.\r\n\r\n**Additional context**\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5194", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5194/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5194/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5194/events", "html_url": "https://github.com/aws/aws-cli/issues/5194", "id": 616423733, "node_id": "MDU6SXNzdWU2MTY0MjM3MzM=", "number": 5194, "title": "--output yaml ", "user": {"login": "manasa32", "id": 62141837, "node_id": "MDQ6VXNlcjYyMTQxODM3", "avatar_url": "https://avatars0.githubusercontent.com/u/62141837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manasa32", "html_url": "https://github.com/manasa32", "followers_url": "https://api.github.com/users/manasa32/followers", "following_url": "https://api.github.com/users/manasa32/following{/other_user}", "gists_url": "https://api.github.com/users/manasa32/gists{/gist_id}", "starred_url": "https://api.github.com/users/manasa32/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manasa32/subscriptions", "organizations_url": "https://api.github.com/users/manasa32/orgs", "repos_url": "https://api.github.com/users/manasa32/repos", "events_url": "https://api.github.com/users/manasa32/events{/privacy}", "received_events_url": "https://api.github.com/users/manasa32/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2020-05-12T07:22:25Z", "updated_at": "2020-05-19T22:34:39Z", "closed_at": "2020-05-19T22:34:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "aws ec2 describe-regions --output yaml --query \"Regions[*].RegionName\"\r\nusage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]\r\nTo see help text, you can run:\r\n\r\n  aws help\r\n  aws <command> help\r\n  aws <command> <subcommand> help\r\naws: error: argument --output: Invalid choice, valid choices are:\r\n\r\njson                                     | text\r\ntable", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5190", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5190/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5190/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5190/events", "html_url": "https://github.com/aws/aws-cli/issues/5190", "id": 615415447, "node_id": "MDU6SXNzdWU2MTU0MTU0NDc=", "number": 5190, "title": "CLI configure does not run instead it gives me that message.", "user": {"login": "riadcsa", "id": 65103146, "node_id": "MDQ6VXNlcjY1MTAzMTQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/65103146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/riadcsa", "html_url": "https://github.com/riadcsa", "followers_url": "https://api.github.com/users/riadcsa/followers", "following_url": "https://api.github.com/users/riadcsa/following{/other_user}", "gists_url": "https://api.github.com/users/riadcsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/riadcsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/riadcsa/subscriptions", "organizations_url": "https://api.github.com/users/riadcsa/orgs", "repos_url": "https://api.github.com/users/riadcsa/repos", "events_url": "https://api.github.com/users/riadcsa/events{/privacy}", "received_events_url": "https://api.github.com/users/riadcsa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-05-10T15:27:41Z", "updated_at": "2020-06-16T17:26:45Z", "closed_at": "2020-06-16T17:26:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. \r\n\r\nConfirm by changing [ ] to [x] below:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nIssue is about usage on:\r\n- [ ] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\n**Describe the question**\r\n\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5189", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5189/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5189/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5189/events", "html_url": "https://github.com/aws/aws-cli/issues/5189", "id": 615006937, "node_id": "MDU6SXNzdWU2MTUwMDY5Mzc=", "number": 5189, "title": "bug", "user": {"login": "taoxiang1014", "id": 64435773, "node_id": "MDQ6VXNlcjY0NDM1Nzcz", "avatar_url": "https://avatars3.githubusercontent.com/u/64435773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taoxiang1014", "html_url": "https://github.com/taoxiang1014", "followers_url": "https://api.github.com/users/taoxiang1014/followers", "following_url": "https://api.github.com/users/taoxiang1014/following{/other_user}", "gists_url": "https://api.github.com/users/taoxiang1014/gists{/gist_id}", "starred_url": "https://api.github.com/users/taoxiang1014/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taoxiang1014/subscriptions", "organizations_url": "https://api.github.com/users/taoxiang1014/orgs", "repos_url": "https://api.github.com/users/taoxiang1014/repos", "events_url": "https://api.github.com/users/taoxiang1014/events{/privacy}", "received_events_url": "https://api.github.com/users/taoxiang1014/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-08T21:54:28Z", "updated_at": "2020-05-11T16:58:04Z", "closed_at": "2020-05-11T16:58:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**SDK version number**\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5187", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5187/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5187/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5187/events", "html_url": "https://github.com/aws/aws-cli/issues/5187", "id": 614754366, "node_id": "MDU6SXNzdWU2MTQ3NTQzNjY=", "number": 5187, "title": "--debug output is written to stderr instead of stdout", "user": {"login": "artus", "id": 22665347, "node_id": "MDQ6VXNlcjIyNjY1MzQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/22665347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artus", "html_url": "https://github.com/artus", "followers_url": "https://api.github.com/users/artus/followers", "following_url": "https://api.github.com/users/artus/following{/other_user}", "gists_url": "https://api.github.com/users/artus/gists{/gist_id}", "starred_url": "https://api.github.com/users/artus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artus/subscriptions", "organizations_url": "https://api.github.com/users/artus/orgs", "repos_url": "https://api.github.com/users/artus/repos", "events_url": "https://api.github.com/users/artus/events{/privacy}", "received_events_url": "https://api.github.com/users/artus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-08T13:48:12Z", "updated_at": "2020-06-29T18:05:39Z", "closed_at": "2020-06-29T18:05:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution. **I did find one releated issue but this did not answer my question: https://github.com/aws/aws-cli/issues/642**\r\n\r\nIssue is about usage on:\r\n- [x ] CLI : passing arguments or cli configurations.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWindows 10 - (Git) Bash\r\n\r\n**Describe the question**\r\nWhen I add the '--debug' flag to the AWS CLI, all debug logging is written to `stderror` instead of `stdout`. This means that when I run my AWS CLI commands as part of my deployment pipeline, all --debug output gets logged as errormessages.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5186", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5186/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5186/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5186/events", "html_url": "https://github.com/aws/aws-cli/issues/5186", "id": 614669527, "node_id": "MDU6SXNzdWU2MTQ2Njk1Mjc=", "number": 5186, "title": "[v2] EKS nodegroups are not listed / available", "user": {"login": "awsandy", "id": 54942530, "node_id": "MDQ6VXNlcjU0OTQyNTMw", "avatar_url": "https://avatars0.githubusercontent.com/u/54942530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awsandy", "html_url": "https://github.com/awsandy", "followers_url": "https://api.github.com/users/awsandy/followers", "following_url": "https://api.github.com/users/awsandy/following{/other_user}", "gists_url": "https://api.github.com/users/awsandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/awsandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awsandy/subscriptions", "organizations_url": "https://api.github.com/users/awsandy/orgs", "repos_url": "https://api.github.com/users/awsandy/repos", "events_url": "https://api.github.com/users/awsandy/events{/privacy}", "received_events_url": "https://api.github.com/users/awsandy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-08T10:57:03Z", "updated_at": "2020-05-09T12:12:48Z", "closed_at": "2020-05-09T12:12:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nThe cli does not list an EKS clusters nodegroups with fargate enabled cluster \r\n\r\n**SDK version number**\r\naws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14\r\n\r\n**Platform/OS/Hardware/Device**\r\nMac OS 10.14.6 \r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior - created a fargate cluster with eksctl which has a 1x node nodegroup:\r\n\r\n$ eksctl get nodegroup --cluster ateksf1\r\nCLUSTER\tNODEGROUP\tCREATED\t\t\tMIN SIZE\tMAX SIZE\tDESIRED CAPACITY\tINSTANCE TYPE\tIMAGE ID\r\nateksf1\tpodsched-1\t2020-05-07T18:24:24Z\t1\t\t1\t\tt3.small\tami-02cc2a97774583a5f\r\n\r\naws cli see the cluster ok \ud83d\udc4d \r\n$ aws eks list-clusters\r\n{\r\n    \"clusters\": [\r\n        \"ateksf1\"\r\n    ]\r\n}\r\n\r\nBut does not list this node group\r\n$ aws eks list-nodegroups --cluster-name ateksf1\r\n{\r\n    **\"nodegroups\": []**\r\n}\r\n\r\nSimilar for describe-nodegroup:\r\n\r\naws eks describe-nodegroup --cluster-name ateksf1 --nodegroup-name podsched-1\r\nAn error occurred (ResourceNotFoundException) when calling the DescribeNodegroup operation: No node group found for name: podsched-1.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\nthe cli command should list the node group\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\nf8ffc212119c:.aws awsandy$ aws eks describe-nodegroup --cluster-name ateksf1 --nodegroup-name podsched-1 --debug\r\n2020-05-08 11:53:28,686 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14\r\n2020-05-08 11:53:28,687 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['eks', 'describe-nodegroup', '--cluster-name', 'ateksf1', '--nodegroup-name', 'podsched-1', '--debug']\r\n2020-05-08 11:53:28,687 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_timestamp_parser at 0x10254c160>\r\n2020-05-08 11:53:28,687 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x101ca5790>\r\n2020-05-08 11:53:28,687 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_binary_formatter at 0x102594820>\r\n2020-05-08 11:53:28,687 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x101d08040>\r\n2020-05-08 11:53:28,691 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x102406ee0>\r\n2020-05-08 11:53:28,691 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_json_file_cache at 0x1023b80d0>\r\n2020-05-08 11:53:28,700 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/eks/2017-11-01/service-2.json\r\n2020-05-08 11:53:28,702 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/eks/2017-11-01/service-2.sdk-extras.json\r\n2020-05-08 11:53:28,703 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks: calling handler <function inject_commands at 0x102496820>\r\n2020-05-08 11:53:28,703 - MainThread - botocore.hooks - DEBUG - Event building-command-table.eks: calling handler <function add_waiters at 0x102551790>\r\n2020-05-08 11:53:28,710 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/eks/2017-11-01/waiters-2.json\r\n2020-05-08 11:53:28,711 - MainThread - awscli.clidriver - DEBUG - OrderedDict([('cluster-name', <awscli.arguments.CLIArgument object at 0x1026c2730>), ('nodegroup-name', <awscli.arguments.CLIArgument object at 0x1026c27c0>)])\r\n2020-05-08 11:53:28,711 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.eks.describe-nodegroup: calling handler <function add_streaming_output_arg at 0x10254c700>\r\n2020-05-08 11:53:28,711 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.eks.describe-nodegroup: calling handler <function add_cli_input_json at 0x101d088b0>\r\n2020-05-08 11:53:28,711 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.eks.describe-nodegroup: calling handler <function add_cli_input_yaml at 0x101d08b80>\r\n2020-05-08 11:53:28,711 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.eks.describe-nodegroup: calling handler <function unify_paging_params at 0x1023ba820>\r\n2020-05-08 11:53:28,719 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/eks/2017-11-01/paginators-1.json\r\n2020-05-08 11:53:28,719 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.eks.describe-nodegroup: calling handler <function add_generate_skeleton at 0x1024b0280>\r\n2020-05-08 11:53:28,719 - MainThread - botocore.hooks - DEBUG - Event building-argument-table.eks.describe-nodegroup: calling handler <function add_auto_prompt at 0x102594790>\r\n2020-05-08 11:53:28,719 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.eks.describe-nodegroup: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x1026c26d0>>\r\n2020-05-08 11:53:28,719 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.eks.describe-nodegroup: calling handler <bound method OverrideRequiredArgsArgument.override_required_args of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x1026c26a0>>\r\n2020-05-08 11:53:28,719 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.eks.describe-nodegroup: calling handler <bound method GenerateCliSkeletonArgument.override_required_args of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1026c2ac0>>\r\n2020-05-08 11:53:28,719 - MainThread - botocore.hooks - DEBUG - Event before-building-argument-table-parser.eks.describe-nodegroup: calling handler <bound method AutoPromptArgument.override_required_args of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x1026c2940>>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.eks.describe-nodegroup.cluster-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x102602b20>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.eks.describe-nodegroup: calling handler <awscli.argprocess.ParamShorthandParser object at 0x101cc7f40>\r\n2020-05-08 11:53:28,720 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'ateksf1' for parameter \"cluster_name\": 'ateksf1'\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.eks.describe-nodegroup.nodegroup-name: calling handler <awscli.paramfile.URIArgumentHandler object at 0x102602b20>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.eks.describe-nodegroup: calling handler <awscli.argprocess.ParamShorthandParser object at 0x101cc7f40>\r\n2020-05-08 11:53:28,720 - MainThread - awscli.arguments - DEBUG - Unpacked value of 'podsched-1' for parameter \"nodegroup_name\": 'podsched-1'\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.eks.describe-nodegroup.cli-input-json: calling handler <awscli.paramfile.URIArgumentHandler object at 0x102602b20>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.eks.describe-nodegroup.cli-input-yaml: calling handler <awscli.paramfile.URIArgumentHandler object at 0x102602b20>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.eks.describe-nodegroup.generate-cli-skeleton: calling handler <awscli.paramfile.URIArgumentHandler object at 0x102602b20>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.eks.describe-nodegroup.cli-auto-prompt: calling handler <awscli.paramfile.URIArgumentHandler object at 0x102602b20>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event calling-command.eks.describe-nodegroup: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputJSONArgument object at 0x1026c26d0>>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event calling-command.eks.describe-nodegroup: calling handler <bound method CliInputArgument.add_to_call_parameters of <awscli.customizations.cliinput.CliInputYAMLArgument object at 0x1026c26a0>>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event calling-command.eks.describe-nodegroup: calling handler <bound method GenerateCliSkeletonArgument.generate_skeleton of <awscli.customizations.generatecliskeleton.GenerateCliSkeletonArgument object at 0x1026c2ac0>>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.hooks - DEBUG - Event calling-command.eks.describe-nodegroup: calling handler <bound method AutoPromptArgument.auto_prompt_arguments of <awscli.customizations.autoprompt.AutoPromptArgument object at 0x1026c2940>>\r\n2020-05-08 11:53:28,720 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-05-08 11:53:28,720 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-05-08 11:53:28,720 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-05-08 11:53:28,721 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: sso\r\n2020-05-08 11:53:28,721 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-05-08 11:53:28,721 - MainThread - botocore.credentials - INFO - Found credentials in shared credentials file: ~/.aws/credentials\r\n2020-05-08 11:53:28,721 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/data/endpoints.json\r\n2020-05-08 11:53:28,727 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x101678b80>\r\n2020-05-08 11:53:28,728 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.eks: calling handler <function add_generate_presigned_url at 0x101648790>\r\n2020-05-08 11:53:28,728 - MainThread - botocore.regions - DEBUG - Creating a regex based endpoint for eks, eu-central-1\r\n2020-05-08 11:53:28,730 - MainThread - botocore.endpoint - DEBUG - Setting eks timeout as (60, 60)\r\n2020-05-08 11:53:28,731 - MainThread - botocore.hooks - DEBUG - Event provide-client-params.eks.DescribeNodegroup: calling handler <function base64_decode_input_blobs at 0x10259a0d0>\r\n2020-05-08 11:53:28,732 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.eks.DescribeNodegroup: calling handler <function generate_idempotent_uuid at 0x101698d30>\r\n2020-05-08 11:53:28,732 - MainThread - botocore.hooks - DEBUG - Event before-call.eks.DescribeNodegroup: calling handler <function inject_api_version_header_if_needed at 0x10169e820>\r\n2020-05-08 11:53:28,732 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=DescribeNodegroup) with params: {'url_path': '/clusters/ateksf1/node-groups/podsched-1', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14'}, 'body': b'', 'url': 'https://eks.eu-central-1.amazonaws.com/clusters/ateksf1/node-groups/podsched-1', 'context': {'client_region': 'eu-central-1', 'client_config': <botocore.config.Config object at 0x1039020d0>, 'has_streaming_input': False, 'auth_type': None}}\r\n2020-05-08 11:53:28,733 - MainThread - botocore.hooks - DEBUG - Event request-created.eks.DescribeNodegroup: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x103902190>>\r\n2020-05-08 11:53:28,733 - MainThread - botocore.hooks - DEBUG - Event choose-signer.eks.DescribeNodegroup: calling handler <function set_operation_specific_signer at 0x101698c10>\r\n2020-05-08 11:53:28,733 - MainThread - botocore.auth - DEBUG - Calculating signature using v4 auth.\r\n2020-05-08 11:53:28,733 - MainThread - botocore.auth - DEBUG - CanonicalRequest:\r\nGET\r\n/clusters/ateksf1/node-groups/podsched-1\r\n\r\nhost:eks.eu-central-1.amazonaws.com\r\nx-amz-date:20200508T105328Z\r\n\r\nhost;x-amz-date\r\ne3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\r\n2020-05-08 11:53:28,733 - MainThread - botocore.auth - DEBUG - StringToSign:\r\nAWS4-HMAC-SHA256\r\n20200508T105328Z\r\n20200508/eu-central-1/eks/aws4_request\r\n08da8295527fe2159f9c8307aa93969df9937316bcec77e0c33c4ee0ee321a5d\r\n2020-05-08 11:53:28,734 - MainThread - botocore.auth - DEBUG - Signature:\r\n6b8bd9b2a8ab05e9ce0382ec853eb7bd8885ba1b8cdfa77159f75193c0d3c598\r\n2020-05-08 11:53:28,734 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://eks.eu-central-1.amazonaws.com/clusters/ateksf1/node-groups/podsched-1, headers={'User-Agent': b'aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14', 'X-Amz-Date': b'20200508T105328Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYIARMD66QNN6APTJ/20200508/eu-central-1/eks/aws4_request, SignedHeaders=host;x-amz-date, Signature=6b8bd9b2a8ab05e9ce0382ec853eb7bd8885ba1b8cdfa77159f75193c0d3c598'}>\r\n2020-05-08 11:53:28,734 - MainThread - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): eks.eu-central-1.amazonaws.com:443\r\n2020-05-08 11:53:29,036 - MainThread - urllib3.connectionpool - DEBUG - https://eks.eu-central-1.amazonaws.com:443 \"GET /clusters/ateksf1/node-groups/podsched-1 HTTP/1.1\" 404 155\r\n2020-05-08 11:53:29,037 - MainThread - botocore.parsers - DEBUG - Response headers: {'Date': 'Fri, 08 May 2020 10:53:29 GMT', 'Content-Type': 'application/json', 'Content-Length': '155', 'Connection': 'keep-alive', 'x-amzn-RequestId': '52e0cd1e-d8db-4387-b577-106766524d6b', 'x-amzn-ErrorType': 'ResourceNotFoundException', 'x-amz-apigw-id': 'MNYGaF68FiAFfbg=', 'X-Amzn-Trace-Id': 'Root=1-5eb53a28-7cc79104afcb6b96318c872e'}\r\n2020-05-08 11:53:29,037 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\\n  \"clusterName\" : \"ateksf1\",\\n  \"nodegroupName\" : \"podsched-1\",\\n  \"fargateProfileName\" : null,\\n  \"message\" : \"No node group found for name: podsched-1.\"\\n}'\r\n2020-05-08 11:53:29,037 - MainThread - botocore.hooks - DEBUG - Event needs-retry.eks.DescribeNodegroup: calling handler <bound method RetryHandler.needs_retry of <botocore.retries.standard.RetryHandler object at 0x103902c10>>\r\n2020-05-08 11:53:29,038 - MainThread - botocore.retries.standard - DEBUG - Not retrying request.\r\n2020-05-08 11:53:29,038 - MainThread - botocore.hooks - DEBUG - Event after-call.eks.DescribeNodegroup: calling handler <bound method RetryQuotaChecker.release_retry_quota of <botocore.retries.standard.RetryQuotaChecker object at 0x103902310>>\r\n2020-05-08 11:53:29,039 - MainThread - awscli.clidriver - DEBUG - Service returned an exception\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 335, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 507, in __call__\r\n    return command_table[parsed_args.operation](remaining, parsed_globals)\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 682, in __call__\r\n    return self._operation_caller.invoke(\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 805, in invoke\r\n    response = self._make_client_call(\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/awscli/clidriver.py\", line 817, in _make_client_call\r\n    response = getattr(client, xform_name(operation_name))(\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/client.py\", line 208, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/Cellar/awscli/2.0.10/libexec/lib/python3.8/site-packages/botocore/client.py\", line 518, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the DescribeNodegroup operation: No node group found for name: podsched-1.\r\n\r\nAn error occurred (ResourceNotFoundException) when calling the DescribeNodegroup operation: No node group found for name: podsched-1\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\nThis command does work of for a \"non-fargate\" eks cluster", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5185", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5185/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5185/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5185/events", "html_url": "https://github.com/aws/aws-cli/issues/5185", "id": 614509528, "node_id": "MDU6SXNzdWU2MTQ1MDk1Mjg=", "number": 5185, "title": "aws eks token with longer expiry time", "user": {"login": "sfc-gh-pkrishnamurthy", "id": 63608455, "node_id": "MDQ6VXNlcjYzNjA4NDU1", "avatar_url": "https://avatars3.githubusercontent.com/u/63608455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfc-gh-pkrishnamurthy", "html_url": "https://github.com/sfc-gh-pkrishnamurthy", "followers_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/followers", "following_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/orgs", "repos_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/repos", "events_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sfc-gh-pkrishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 85959960, "node_id": "MDU6TGFiZWw4NTk1OTk2MA==", "url": "https://api.github.com/repos/aws/aws-cli/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-08T05:17:02Z", "updated_at": "2020-05-12T22:56:24Z", "closed_at": "2020-05-12T22:56:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI use aws eks get-token in a kube-config file to authenticate with EKS. The token's presigned url (https://github.com/aws/aws-cli/blob/develop/awscli/customizations/eks/get_token.py#L30) timeout causes my job to get 401s when performing any operation against the K8s api-server beyond 1 hr. \r\nI periodically refresh the token by reloading the kube_conf file but that does not seem to help. \r\n\r\nIs there a way to get a token with a longer presigned url timeout?\r\n\r\n**SDK version number**\r\n1.18.49\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\ncentos 7\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\nuse\r\n```\r\nuser:\r\n    exec:\r\n      apiVersion: client.authentication.k8s.io/v1alpha1\r\n      command: aws\r\n      args:\r\n        - \"eks\"\r\n        - \"get-token\"\r\n        - \"--cluster-name\"\r\n        - \"k8s-1\"\r\n        - \"--region\"\r\n        - \"us-west-2\"\r\n``` \r\nin kube-conf have a client load the kube_config and a sample script like below\r\n\r\n```\r\nimport time\r\nfrom kubernetes import client as kubernetesClient\r\nfrom kubernetes import config as kubernetesConfig\r\nfrom kubernetes.client.rest import ApiException\r\n\r\nkubernetesConfig.load_kube_config(config_file=<path/to/kubeConfFile>)\r\nkubeClient = kubernetesClient.CoreV1Api()\r\nnamespace = kube-system\r\n\r\nwhile i < 61:\r\n     try:\r\n          api_response = kubeClient.list_namespaced_pod(namespace)\r\n     except ApiException as e:\r\n          if e.status == 401:\r\n               print(\"This is the failure in question\")\r\n          raise e\r\n     time.sleep(60)\r\n```\r\n\r\nA clear and concise description of what you expected to happen.\r\nWhen the script is executed one would observe that you get 401 errors after the 1 hour mark\r\n\r\nexpected result: More of a question on how to get a token with a longer expiry ?\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5183", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5183/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5183/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5183/events", "html_url": "https://github.com/aws/aws-cli/issues/5183", "id": 614092144, "node_id": "MDU6SXNzdWU2MTQwOTIxNDQ=", "number": 5183, "title": "module 'dateutil.tz' has no attribute 'UTC", "user": {"login": "csamarajeewa", "id": 51674935, "node_id": "MDQ6VXNlcjUxNjc0OTM1", "avatar_url": "https://avatars1.githubusercontent.com/u/51674935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csamarajeewa", "html_url": "https://github.com/csamarajeewa", "followers_url": "https://api.github.com/users/csamarajeewa/followers", "following_url": "https://api.github.com/users/csamarajeewa/following{/other_user}", "gists_url": "https://api.github.com/users/csamarajeewa/gists{/gist_id}", "starred_url": "https://api.github.com/users/csamarajeewa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csamarajeewa/subscriptions", "organizations_url": "https://api.github.com/users/csamarajeewa/orgs", "repos_url": "https://api.github.com/users/csamarajeewa/repos", "events_url": "https://api.github.com/users/csamarajeewa/events{/privacy}", "received_events_url": "https://api.github.com/users/csamarajeewa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1180550239, "node_id": "MDU6TGFiZWwxMTgwNTUwMjM5", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-reproduction", "name": "needs-reproduction", "color": "ffe79b", "default": false, "description": "This issue needs reproduction."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-07T14:14:50Z", "updated_at": "2020-05-11T16:48:56Z", "closed_at": "2020-05-11T16:48:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ ] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ ] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\na recent update to the cli has broke some s3  calls for us. We are now getting \"module 'dateutil.tz' has no attribute 'UTC\" for ls, and cp.\r\n\r\n**SDK version number**\r\naws-cli/1.18.53 Python/3.6.9 Linux/4.15.0-1051-aws botocore/1.16.3\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\n\r\nUbuntu 18\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n\r\ns3 cp s3://object .\r\ns3 ls s3://object/object/ojbject/\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5182", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5182/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5182/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5182/events", "html_url": "https://github.com/aws/aws-cli/issues/5182", "id": 613583379, "node_id": "MDU6SXNzdWU2MTM1ODMzNzk=", "number": 5182, "title": "Not able to run aws-mfa. `ImportError: cannot import name 'ssl'`", "user": {"login": "joedspin", "id": 39748897, "node_id": "MDQ6VXNlcjM5NzQ4ODk3", "avatar_url": "https://avatars2.githubusercontent.com/u/39748897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joedspin", "html_url": "https://github.com/joedspin", "followers_url": "https://api.github.com/users/joedspin/followers", "following_url": "https://api.github.com/users/joedspin/following{/other_user}", "gists_url": "https://api.github.com/users/joedspin/gists{/gist_id}", "starred_url": "https://api.github.com/users/joedspin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joedspin/subscriptions", "organizations_url": "https://api.github.com/users/joedspin/orgs", "repos_url": "https://api.github.com/users/joedspin/repos", "events_url": "https://api.github.com/users/joedspin/events{/privacy}", "received_events_url": "https://api.github.com/users/joedspin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-06T20:12:35Z", "updated_at": "2020-05-11T14:05:24Z", "closed_at": "2020-05-11T14:05:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\nGetting an error at the command prompt when running `aws-mfa`\r\n\r\n**SDK version number**\r\nversion: aws-cli/2.0.10 Python/3.8.2 Darwin/18.7.0 botocore/2.0.0dev14\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nMacBook Pro with Mojave 10.14.6\r\n\r\n**To Reproduce (observed behavior)**\r\nSteps to reproduce the behavior\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Logs/output**\r\nGet full traceback and error logs by adding `--debug` to the command.\r\n`Traceback (most recent call last):\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/bin/aws-mfa\", line 7, in <module>\r\n    from awsmfa import main\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/awsmfa/__init__.py\", line 13, in <module>\r\n    import boto3\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/boto3/__init__.py\", line 16, in <module>\r\n    from boto3.session import Session\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/boto3/session.py\", line 17, in <module>\r\n    import botocore.session\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/session.py\", line 30, in <module>\r\n    import botocore.credentials\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/credentials.py\", line 34, in <module>\r\n    from botocore.config import Config\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/config.py\", line 16, in <module>\r\n    from botocore.endpoint import DEFAULT_TIMEOUT, MAX_POOL_CONNECTIONS\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/endpoint.py\", line 22, in <module>\r\n    from botocore.awsrequest import create_request_object\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/awsrequest.py\", line 26, in <module>\r\n    import botocore.utils\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/utils.py\", line 31, in <module>\r\n    import botocore.httpsession\r\n  File \"/Users/joe.despinosa/.pyenv/versions/3.6.5/lib/python3.6/site-packages/botocore/httpsession.py\", line 8, in <module>\r\n    from urllib3.util.ssl_ import (\r\nImportError: cannot import name 'ssl'\r\n`\r\n**Additional context**\r\nAdd any other context about the problem here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5175", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5175/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5175/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5175/events", "html_url": "https://github.com/aws/aws-cli/issues/5175", "id": 612128572, "node_id": "MDU6SXNzdWU2MTIxMjg1NzI=", "number": 5175, "title": "`aws iot-data publish` doesn't send the correct JSON message", "user": {"login": "rynkowsg", "id": 5878299, "node_id": "MDQ6VXNlcjU4NzgyOTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5878299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rynkowsg", "html_url": "https://github.com/rynkowsg", "followers_url": "https://api.github.com/users/rynkowsg/followers", "following_url": "https://api.github.com/users/rynkowsg/following{/other_user}", "gists_url": "https://api.github.com/users/rynkowsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/rynkowsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rynkowsg/subscriptions", "organizations_url": "https://api.github.com/users/rynkowsg/orgs", "repos_url": "https://api.github.com/users/rynkowsg/repos", "events_url": "https://api.github.com/users/rynkowsg/events{/privacy}", "received_events_url": "https://api.github.com/users/rynkowsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-05-04T19:56:06Z", "updated_at": "2020-06-10T15:37:08Z", "closed_at": "2020-05-13T01:03:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nI'm trying to pass any json text to `aws iot-data publish`. But it doesn't works it used to work.\r\nLooks like some issue with processing the JSON text.\r\n\r\n**SDK version number**\r\nJust CLI:\r\n```\r\n% aws --version\r\naws-cli/2.0.6 Python/3.8.2 Darwin/19.4.0 botocore/2.0.0dev10\r\n```\r\n\r\n**Platform/OS/Hardware/Device**\r\nmac mini\r\nmacOS 10.15.4 (19E287)\r\nBoth iTerm and system Terminal\r\nbrew python\r\n```\r\n% python --version\r\nPython 2.7.16\r\n\r\n% python3 --version\r\nPython 3.8.2\r\n```\r\n\r\n**To Reproduce (observed behaviour)**\r\n1. From CLI send any JSON to a topic:\r\n```\r\naws iot-data publish --topic \"dev/private/in/200849\" --payload \"{}\"\r\n```\r\n2. Next you could see the additional app that I need to quit by pressing 'q':\r\n![Screenshot 2020-05-04 at 21 42 14](https://user-images.githubusercontent.com/5878299/81006546-0293f400-8e50-11ea-994e-7486ea48c0a3.png)\r\n\r\n3. Depends on what was the content of the json string I see something like this when I observe the topic:\r\n![Screenshot 2020-05-04 at 21 46 29](https://user-images.githubusercontent.com/5878299/81006935-9cf43780-8e50-11ea-94c9-d1e1d567dc93.png)\r\n\r\n\r\n**Expected behavior**\r\n1. the app should not show me the terminal app to quit\r\n2. I should receive a correct message when I observe the topic\r\n\r\n**Logs/output**\r\n[log.txt](https://github.com/aws/aws-cli/files/4577063/log.txt)\r\n\r\n**Additional context**\r\nIt worked before. I had scripts that I was using on Oct. It worked fine. Recently I tried to use it again, and it failing. Looks like some problem with the encoding of the text.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5172", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5172/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5172/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5172/events", "html_url": "https://github.com/aws/aws-cli/issues/5172", "id": 611926557, "node_id": "MDU6SXNzdWU2MTE5MjY1NTc=", "number": 5172, "title": "1.18.50 bump policy breaks dependents cli", "user": {"login": "mindw", "id": 578872, "node_id": "MDQ6VXNlcjU3ODg3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/578872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mindw", "html_url": "https://github.com/mindw", "followers_url": "https://api.github.com/users/mindw/followers", "following_url": "https://api.github.com/users/mindw/following{/other_user}", "gists_url": "https://api.github.com/users/mindw/gists{/gist_id}", "starred_url": "https://api.github.com/users/mindw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mindw/subscriptions", "organizations_url": "https://api.github.com/users/mindw/orgs", "repos_url": "https://api.github.com/users/mindw/repos", "events_url": "https://api.github.com/users/mindw/events{/privacy}", "received_events_url": "https://api.github.com/users/mindw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1871208660, "node_id": "MDU6TGFiZWwxODcxMjA4NjYw", "url": "https://api.github.com/repos/aws/aws-cli/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-04T14:38:23Z", "updated_at": "2020-05-05T05:35:39Z", "closed_at": "2020-05-05T05:35:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nUnable to satisfy dependencies when pinning awscli, boto3 & botocore minor versions.\r\nEA, the below `setup.cfg` snippet causes dependents to fail pkg_resource dependency check:\r\n```\r\ninstall_requires =\r\n    awscli >= 1.18.34, <1.19\r\n    boto3 >= 1.12.34, <1.13\r\n    botocore >= 1.15.34, <1.16\r\n```\r\n\r\n**SDK version number**\r\n1.18.50+\r\n\r\n**Platform/OS/Hardware/Device**\r\nLinux/macos/windows\r\n\r\n**To Reproduce (observed behavior)**\r\ncreate a python package which d\r\n```\r\n$ pip install 'awscli<1.19' 'boto3<1.13' 'botocore<1.16'\r\n```\r\n\r\n**Expected behavior**\r\nInstallation success\r\n\r\n**Logs/output**\r\n```\r\n$ pip install -e .\r\nObtaining file:///Users/gabdav01/work/paas/splatt\r\nCollecting appdirs<1.5,>=1.4.3\r\n  Using cached appdirs-1.4.3-py2.py3-none-any.whl (12 kB)\r\nCollecting awscli<1.19,>=1.18.34\r\n  Using cached awscli-1.18.51-py2.py3-none-any.whl (3.0 MB)\r\nCollecting boto3<1.13,>=1.12.34\r\n  Using cached boto3-1.12.49-py2.py3-none-any.whl (128 kB)\r\nCollecting botocore<1.16,>=1.15.34\r\n  Using cached botocore-1.15.49-py2.py3-none-any.whl (6.2 MB)\r\nCollecting colorama<0.4.4\r\n  Using cached colorama-0.4.3-py2.py3-none-any.whl (15 kB)\r\nProcessing /Users/gabdav01/Library/Caches/pip/wheels/5e/03/1e/e1e954795d6f35dfc7b637fe2277bff021303bd9570ecea653/PyYAML-5.3.1-cp37-cp37m-macosx_10_14_x86_64.whl\r\nProcessing /Users/gabdav01/Library/Caches/pip/wheels/e4/27/61/1cdc0b98cfda1ba5fc6d97cb7519f083427323ec7d191bfc0e/dpath-1.5.0-cp37-none-any.whl\r\nCollecting click==7.1.1\r\n  Using cached click-7.1.1-py2.py3-none-any.whl (82 kB)\r\nCollecting click-log==0.3.2\r\n  Using cached click_log-0.3.2-py2.py3-none-any.whl (4.6 kB)\r\nCollecting cryptography<2.10,>=2.9\r\n  Using cached cryptography-2.9.2-cp35-abi3-macosx_10_9_x86_64.whl (1.8 MB)\r\nCollecting dnspython==1.16.0\r\n  Using cached dnspython-1.16.0-py2.py3-none-any.whl (188 kB)\r\nProcessing /Users/gabdav01/Library/Caches/pip/wheels/ea/32/d0/77864057ba71ebce6ab3a8eda50c11971b005c12fa059eebde/f5_sdk-3.0.21-cp37-none-any.whl\r\nCollecting Jinja2<2.12,>=2.11.2\r\n  Using cached Jinja2-2.11.2-py2.py3-none-any.whl (125 kB)\r\nCollecting kubernetes[adal]==11.0.0\r\n  Using cached kubernetes-11.0.0-py3-none-any.whl (1.5 MB)\r\nCollecting paramiko<2.8,>=2.7.1\r\n  Using cached paramiko-2.7.1-py2.py3-none-any.whl (206 kB)\r\nCollecting passlib==1.7.2\r\n  Using cached passlib-1.7.2-py2.py3-none-any.whl (507 kB)\r\nCollecting pyjks<20,>=19.0.0\r\n  Using cached pyjks-19.0.0-py2.py3-none-any.whl (45 kB)\r\nCollecting pyjwt<1.8,>=1.7.1\r\n  Using cached PyJWT-1.7.1-py2.py3-none-any.whl (18 kB)\r\nCollecting pyopenssl<20.0.0,>=19.0.0\r\n  Using cached pyOpenSSL-19.1.0-py2.py3-none-any.whl (53 kB)\r\nCollecting semantic_version<2.9,>=2.8.2\r\n  Downloading semantic_version-2.8.5-py2.py3-none-any.whl (15 kB)\r\nCollecting tenacity<6.2,>=6.1\r\n  Using cached tenacity-6.1.0-py2.py3-none-any.whl (24 kB)\r\nCollecting requests<2.24,>=2.23\r\n  Using cached requests-2.23.0-py2.py3-none-any.whl (58 kB)\r\nCollecting urllib3<1.26,>=1.25.6\r\n  Using cached urllib3-1.25.9-py2.py3-none-any.whl (126 kB)\r\nCollecting idna<3,>=2.9\r\n  Using cached idna-2.9-py2.py3-none-any.whl (58 kB)\r\nCollecting rsa<=3.5.0,>=3.1.2\r\n  Using cached rsa-3.4.2-py2.py3-none-any.whl (46 kB)\r\nCollecting docutils<0.16,>=0.10\r\n  Using cached docutils-0.15.2-py3-none-any.whl (547 kB)\r\nCollecting s3transfer<0.4.0,>=0.3.0\r\n  Using cached s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)\r\nCollecting jmespath<1.0.0,>=0.7.1\r\n  Using cached jmespath-0.9.5-py2.py3-none-any.whl (24 kB)\r\nCollecting python-dateutil<3.0.0,>=2.1\r\n  Using cached python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)\r\nCollecting cffi!=1.11.3,>=1.8\r\n  Using cached cffi-1.14.0-cp37-cp37m-macosx_10_9_x86_64.whl (174 kB)\r\nCollecting six>=1.4.1\r\n  Using cached six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nProcessing /Users/gabdav01/Library/Caches/pip/wheels/12/43/4c/9c3051759105429cd633ed53ece367db44b082fce01c28db46/f5_icontrol_rest-1.3.13-cp37-none-any.whl\r\nCollecting MarkupSafe>=0.23\r\n  Using cached MarkupSafe-1.1.1-cp37-cp37m-macosx_10_6_intel.whl (18 kB)\r\nCollecting google-auth>=1.0.1\r\n  Using cached google_auth-1.14.1-py2.py3-none-any.whl (89 kB)\r\nCollecting requests-oauthlib\r\n  Using cached requests_oauthlib-1.3.0-py2.py3-none-any.whl (23 kB)\r\nCollecting websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0\r\n  Using cached websocket_client-0.57.0-py2.py3-none-any.whl (200 kB)\r\nRequirement already satisfied: setuptools>=21.0.0 in /Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages (from kubernetes[adal]==11.0.0->splatt==1.16.5) (46.1.3)\r\nCollecting certifi>=14.05.14\r\n  Using cached certifi-2020.4.5.1-py2.py3-none-any.whl (157 kB)\r\nCollecting adal>=1.0.2; extra == \"adal\"\r\n  Downloading adal-1.2.3-py2.py3-none-any.whl (53 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 53 kB 522 kB/s\r\nCollecting pynacl>=1.0.1\r\n  Using cached PyNaCl-1.3.0-cp34-abi3-macosx_10_6_intel.whl (284 kB)\r\nCollecting bcrypt>=3.1.3\r\n  Using cached bcrypt-3.1.7-cp34-abi3-macosx_10_6_intel.whl (53 kB)\r\nProcessing /Users/gabdav01/Library/Caches/pip/wheels/e9/ce/00/66bd8b019c093719e2d78ea39a6f80c8133aecc1ec3f77f41c/twofish-0.3.0-cp37-cp37m-macosx_10_14_x86_64.whl\r\nCollecting javaobj-py3\r\n  Using cached javaobj_py3-0.4.1-py2.py3-none-any.whl (67 kB)\r\nCollecting pyasn1>=0.3.5\r\n  Using cached pyasn1-0.4.8-py2.py3-none-any.whl (77 kB)\r\nCollecting pyasn1-modules\r\n  Using cached pyasn1_modules-0.2.8-py2.py3-none-any.whl (155 kB)\r\nCollecting pycryptodomex\r\n  Using cached pycryptodomex-3.9.7-cp37-cp37m-macosx_10_6_intel.whl (14.1 MB)\r\nCollecting chardet<4,>=3.0.2\r\n  Using cached chardet-3.0.4-py2.py3-none-any.whl (133 kB)\r\nCollecting pycparser\r\n  Using cached pycparser-2.20-py2.py3-none-any.whl (112 kB)\r\nCollecting cachetools<5.0,>=2.0.0\r\n  Using cached cachetools-4.1.0-py3-none-any.whl (10 kB)\r\nCollecting oauthlib>=3.0.0\r\n  Using cached oauthlib-3.1.0-py2.py3-none-any.whl (147 kB)\r\nERROR: awscli 1.18.51 has requirement botocore==1.16.1, but you'll have botocore 1.15.49 which is incompatible.\r\nInstalling collected packages: appdirs, pyasn1, rsa, PyYAML, docutils, urllib3, six, python-dateutil, jmespath, botocore, colorama, s3transfer, awscli, boto3, dpath, click, click-log, pycparser, cffi, cryptography, dnspython, idna, chardet, certifi, requests, f5-icontrol-rest, f5-sdk, MarkupSafe, Jinja2, cachetools, pyasn1-modules, google-auth, oauthlib, requests-oauthlib, websocket-client, pyjwt, adal, kubernetes, pynacl, bcrypt, paramiko, passlib, twofish, javaobj-py3, pycryptodomex, pyjks, pyopenssl, semantic-version, tenacity, splatt\r\n  Running setup.py develop for splatt\r\nSuccessfully installed Jinja2-2.11.2 MarkupSafe-1.1.1 PyYAML-5.3.1 adal-1.2.3 appdirs-1.4.3 awscli-1.18.51 bcrypt-3.1.7 boto3-1.12.49 botocore-1.15.49 cachetools-4.1.0 certifi-2020.4.5.1 cffi-1.14.0 chardet-3.0.4 click-7.1.1 click-log-0.3.2 colorama-0.4.3 cryptography-2.9.2 dnspython-1.16.0 docutils-0.15.2 dpath-1.5.0 f5-icontrol-rest-1.3.13 f5-sdk-3.0.21 google-auth-1.14.1 idna-2.9 javaobj-py3-0.4.1 jmespath-0.9.5 kubernetes-11.0.0 oauthlib-3.1.0 paramiko-2.7.1 passlib-1.7.2 pyasn1-0.4.8 pyasn1-modules-0.2.8 pycparser-2.20 pycryptodomex-3.9.7 pyjks-19.0.0 pyjwt-1.7.1 pynacl-1.3.0 pyopenssl-19.1.0 python-dateutil-2.8.1 requests-2.23.0 requests-oauthlib-1.3.0 rsa-3.4.2 s3transfer-0.3.3 semantic-version-2.8.5 six-1.14.0 splatt tenacity-6.1.0 twofish-0.3.0 urllib3-1.25.9 websocket-client-0.57.0\r\n(test-splatt-install)\r\ngabdav01@e109198-mac:~/work/paas/splatt on aws-alloc-eip [!?$]\r\n$ splatt --version\r\nTraceback (most recent call last):\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 584, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 901, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 792, in resolve\r\n    raise VersionConflict(dist, req).with_context(dependent_req)\r\npkg_resources.ContextualVersionConflict: (botocore 1.15.49 (/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages), Requirement.parse('botocore==1.16.1'), {'awscli'})\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/bin/splatt\", line 6, in <module>\r\n    from pkg_resources import load_entry_point\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 3258, in <module>\r\n    @_call_aside\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 3242, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 3271, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 586, in _build_master\r\n    return cls._build_from_requirements(__requires__)\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 599, in _build_from_requirements\r\n    dists = ws.resolve(reqs, Environment())\r\n  File \"/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 792, in resolve\r\n    raise VersionConflict(dist, req).with_context(dependent_req)\r\npkg_resources.ContextualVersionConflict: (botocore 1.15.49 (/Users/gabdav01/.virtualenvs/test-splatt-install/lib/python3.7/site-packages), Requirement.parse('botocore==1.16.1'), {'awscli'})\r\n(test-splatt-install)\r\n```\r\n\r\n**Additional context**\r\npip install 'awscli==1.18.49' 'boto3<1.13' 'botocore<1.16'\r\nPreviously, every time a minor botocore version was changed, so did awscli. Boto3 still maintains this practice. But AWS cli failed to do so for the past 2 minor botocore version bumps\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5171", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5171/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5171/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5171/events", "html_url": "https://github.com/aws/aws-cli/issues/5171", "id": 611723561, "node_id": "MDU6SXNzdWU2MTE3MjM1NjE=", "number": 5171, "title": "[v2] sts assume role does not save credentials to /.aws/cli/cache", "user": {"login": "hybmg57", "id": 1248928, "node_id": "MDQ6VXNlcjEyNDg5Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1248928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hybmg57", "html_url": "https://github.com/hybmg57", "followers_url": "https://api.github.com/users/hybmg57/followers", "following_url": "https://api.github.com/users/hybmg57/following{/other_user}", "gists_url": "https://api.github.com/users/hybmg57/gists{/gist_id}", "starred_url": "https://api.github.com/users/hybmg57/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hybmg57/subscriptions", "organizations_url": "https://api.github.com/users/hybmg57/orgs", "repos_url": "https://api.github.com/users/hybmg57/repos", "events_url": "https://api.github.com/users/hybmg57/events{/privacy}", "received_events_url": "https://api.github.com/users/hybmg57/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1114361972, "node_id": "MDU6TGFiZWwxMTE0MzYxOTcy", "url": "https://api.github.com/repos/aws/aws-cli/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-04T09:16:48Z", "updated_at": "2020-05-18T01:05:15Z", "closed_at": "2020-05-18T01:05:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below to ensure that it's a bug:\r\n- [ x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [ x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n  \r\n**Describe the bug**\r\nRun sts assume role and it gets printed to console but not saved in cache\r\n\r\n**SDK version number**\r\n2.0,.5\r\n\r\n**Platform/OS/Hardware/Device**\r\nMac OS Catalina\r\n\r\n**To Reproduce (observed behavior)**\r\nrun `aws sts assume-role --role-arn arn:aws:iam:12233122:role/testRole --role-session-name test`\r\n\r\n**Expected behavior**\r\nI expect it to save automatically so I can assume role and run cli command without having to do extra work\r\n\r\n**Logs/output**\r\n\r\n\r\n**Additional context**\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cli/issues/5168", "repository_url": "https://api.github.com/repos/aws/aws-cli", "labels_url": "https://api.github.com/repos/aws/aws-cli/issues/5168/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cli/issues/5168/comments", "events_url": "https://api.github.com/repos/aws/aws-cli/issues/5168/events", "html_url": "https://github.com/aws/aws-cli/issues/5168", "id": 610541150, "node_id": "MDU6SXNzdWU2MTA1NDExNTA=", "number": 5168, "title": "IAM policy action classification", "user": {"login": "reach4bawer", "id": 52763317, "node_id": "MDQ6VXNlcjUyNzYzMzE3", "avatar_url": "https://avatars1.githubusercontent.com/u/52763317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reach4bawer", "html_url": "https://github.com/reach4bawer", "followers_url": "https://api.github.com/users/reach4bawer/followers", "following_url": "https://api.github.com/users/reach4bawer/following{/other_user}", "gists_url": "https://api.github.com/users/reach4bawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/reach4bawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reach4bawer/subscriptions", "organizations_url": "https://api.github.com/users/reach4bawer/orgs", "repos_url": "https://api.github.com/users/reach4bawer/repos", "events_url": "https://api.github.com/users/reach4bawer/events{/privacy}", "received_events_url": "https://api.github.com/users/reach4bawer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042088870, "node_id": "MDU6TGFiZWwyMDQyMDg4ODcw", "url": "https://api.github.com/repos/aws/aws-cli/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1114361215, "node_id": "MDU6TGFiZWwxMTE0MzYxMjE1", "url": "https://api.github.com/repos/aws/aws-cli/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KaibaLopez", "id": 10042156, "node_id": "MDQ6VXNlcjEwMDQyMTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/10042156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KaibaLopez", "html_url": "https://github.com/KaibaLopez", "followers_url": "https://api.github.com/users/KaibaLopez/followers", "following_url": "https://api.github.com/users/KaibaLopez/following{/other_user}", "gists_url": "https://api.github.com/users/KaibaLopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/KaibaLopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KaibaLopez/subscriptions", "organizations_url": "https://api.github.com/users/KaibaLopez/orgs", "repos_url": "https://api.github.com/users/KaibaLopez/repos", "events_url": "https://api.github.com/users/KaibaLopez/events{/privacy}", "received_events_url": "https://api.github.com/users/KaibaLopez/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-05-01T03:43:34Z", "updated_at": "2020-05-11T01:08:56Z", "closed_at": "2020-05-11T01:08:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Confirm by changing [ ] to [x] below:\r\n- [x] I've gone though the [User Guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-welcome.html) and the [API reference](https://docs.aws.amazon.com/cli/latest/reference/)\r\n- [x] I've searched for [previous similar issues](https://github.com/aws/aws-cli/issues) and didn't find any solution\r\n\r\nThe issue is about usage on:\r\n- [x] Service API : I want to do X using Y service, what should I do?\r\n- [x] CLI : passing arguments or cli configurations.\r\n- [ ] Other/Not sure.\r\n\r\n**Platform/OS/Hardware/Device**\r\nWhat are you running the cli on?\r\nMac/Windows using Python/CLI\r\n\r\n**Describe the question**\r\nTrying to get the information about each IAM actions and which bucket does it fall under -\r\n\r\n- **List**: List resources in the service\r\n- **Read**: Read resource content in the service\r\n- **Write**: Create, delete, or modify resources in the service\r\n- **Permissions management**: Grant or modify resource permissions in the service\r\n- **Full access**: Encompasses all the above actions.\r\n\r\nThis information is available on the GUI (see the screenshots from IAM section). Is there something that I can use in the CLI to get the same information about a particular action for a particular service. For example if I am trying to find out which bucket out of the above does DescribeAddresses for ec2 service fall under or on a broader level if there is like another way to query this information.\r\n\r\n![image](https://user-images.githubusercontent.com/52763317/80780048-893c8e80-8b3b-11ea-9500-3f211a9e1388.png)\r\n![image](https://user-images.githubusercontent.com/52763317/80780238-40d1a080-8b3c-11ea-8664-cc181dc98f3d.png)\r\n", "performed_via_github_app": null, "score": 1.0}]}