{"total_count": 31, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/185", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/185/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/185/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/185", "id": 688009146, "node_id": "MDU6SXNzdWU2ODgwMDkxNDY=", "number": 185, "title": "Handle error registering instance", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-28T11:28:58Z", "updated_at": "2020-09-03T07:15:10Z", "closed_at": "2020-09-03T07:15:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Noticed this in my logs. 0.114.\r\n\r\nIt's an `aiohttp.ClientError` so we should handle it and not log it.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/connector.py\", line 964, in _create_direct_connection\r\n    hosts = await asyncio.shield(self._resolve_host(\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/connector.py\", line 829, in _resolve_host\r\n    addrs = await \\\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/resolver.py\", line 29, in resolve\r\n    infos = await self._loop.getaddrinfo(\r\n  File \"/usr/local/lib/python3.8/asyncio/base_events.py\", line 825, in getaddrinfo\r\n    return await self.run_in_executor(\r\n  File \"/usr/local/lib/python3.8/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/usr/local/lib/python3.8/socket.py\", line 918, in getaddrinfo\r\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\r\nsocket.gaierror: [Errno -3] Try again\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/hass_nabucasa/remote.py\", line 129, in load_backend\r\n    resp = await cloud_api.async_remote_register(self.cloud)\r\n  File \"/usr/local/lib/python3.8/site-packages/hass_nabucasa/cloud_api.py\", line 17, in check_token\r\n    return await func(cloud, *args)\r\n  File \"/usr/local/lib/python3.8/site-packages/hass_nabucasa/cloud_api.py\", line 28, in log_response\r\n    resp = await func(*args)\r\n  File \"/usr/local/lib/python3.8/site-packages/hass_nabucasa/cloud_api.py\", line 50, in async_remote_register\r\n    return await cloud.websession.post(url, headers={AUTHORIZATION: cloud.id_token})\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/client.py\", line 480, in _request\r\n    conn = await self._connector.connect(\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/connector.py\", line 523, in connect\r\n    proto = await self._create_connection(req, traces, timeout)\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/connector.py\", line 858, in _create_connection\r\n    _, proto = await self._create_direct_connection(\r\n  File \"/usr/local/lib/python3.8/site-packages/aiohttp/connector.py\", line 971, in _create_direct_connection\r\n    raise ClientConnectorError(req.connection_key, exc) from exc\r\naiohttp.client_exceptions.ClientConnectorError: Cannot connect to host remote-sni-api.nabucasa.com:443 ssl:default [Try again]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/175", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/175/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/175/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/175", "id": 649207944, "node_id": "MDU6SXNzdWU2NDkyMDc5NDQ=", "number": 175, "title": "Unable to reach Cloud - Can't handle request-connection without backend", "user": {"login": "Stele77", "id": 21282842, "node_id": "MDQ6VXNlcjIxMjgyODQy", "avatar_url": "https://avatars2.githubusercontent.com/u/21282842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stele77", "html_url": "https://github.com/Stele77", "followers_url": "https://api.github.com/users/Stele77/followers", "following_url": "https://api.github.com/users/Stele77/following{/other_user}", "gists_url": "https://api.github.com/users/Stele77/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stele77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stele77/subscriptions", "organizations_url": "https://api.github.com/users/Stele77/orgs", "repos_url": "https://api.github.com/users/Stele77/repos", "events_url": "https://api.github.com/users/Stele77/events{/privacy}", "received_events_url": "https://api.github.com/users/Stele77/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-01T18:45:17Z", "updated_at": "2020-07-16T19:07:24Z", "closed_at": "2020-07-16T19:07:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nI just setup Hass.io. \r\n\r\n## My Setup: \r\nVM with the offical QCOW2 VM Image with virt-manager on my Ubuntu 20.04 Desktop.\r\nSetup like recommended, with bridge network in virt-manager.\r\nEverything else is working great; I setup Zigbee2MQTT and Mosquitto with all my Zigbee devices working, and all other of my integrations too.\r\n\r\n## Plugins: \r\nConfig checker / Home Panel / File Editor / Log Viewer / Mosquitto / Zigbee2MQTT / Zigbe2MQTTAssistant / Terminal & SSH -\r\n\r\n## Versions:\r\n**Supervisor:** 227\r\n**Core:** 0.112.0 -> I just today updated to latest core version without problem.\r\n\r\n## Problem: \r\nI can not log into my cloud account, it always fails with the error message \"unable to reach cloud\".\r\nWithout it, hass.io is pretty much unusable for me.\r\n\r\nDownloading Addons, Updating Core etc. all work without any problems whatsoever.\r\nThe Hassio VM shows up in my router with its own IP in the normal LAN. I enabled automatic port forwarding for both the VMs IP and Host IP in the router. And i also tested manually forwarding both HTTP+HTTPS ports. \r\nI checked the DNS in Hassios CLI, and everything there is correct.\r\nSo it seems networking is not the problem here.\r\n\r\n## Logs:\r\nI edited the config and enabled logging with notset level, but when i tried to connect to my previous cloud account, there was nothing in  the log at all regarding cloud/nabu casa. Only when i manually triggered the connect to cloud service from dev tools, i got this in the log:\r\n\r\n```\r\n2020-07-01 18:27:20 ERROR (MainThread) [hass_nabucasa.remote] Can't handle request-connection without backend\r\n2020-07-01 18:27:20 ERROR (MainThread) [homeassistant.components.websocket_api.http.connection.139630893965008] \r\nTraceback (most recent call last):\r\n  File \"/usr/src/homeassistant/homeassistant/components/websocket_api/commands.py\", line 130, in handle_call_service\r\n    connection.context(msg),\r\n  File \"/usr/src/homeassistant/homeassistant/core.py\", line 1260, in async_call\r\n    task.result()\r\n  File \"/usr/src/homeassistant/homeassistant/core.py\", line 1295, in _execute_service\r\n    await handler.func(service_call)\r\n  File \"/usr/src/homeassistant/homeassistant/helpers/service.py\", line 518, in admin_handler\r\n    await result\r\n  File \"/usr/src/homeassistant/homeassistant/components/cloud/__init__.py\", line 202, in _service_handler\r\n    await cloud.remote.connect()\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/remote.py\", line 274, in connect\r\n    raise RemoteNotConnected()\r\nhass_nabucasa.remote.RemoteNotConnected\r\n```\r\n\r\nThanks for any help in advance!\r\n\r\nPS: i now also enabled debug loglevel in general, restarted Hassio, and then uploaded the whole log here:\r\n[home-assistant.log](https://github.com/NabuCasa/hass-nabucasa/files/4859931/home-assistant.log)\r\n\r\nI i made something wrong here or you need any other logs, please tell me! I am pretty desperate here..\r\n\r\n## UPDATE: I opend this issue on \"Core\" Repo, as there has been a similar one some time ago, and seems a better fit for now!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/169", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/169/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/169/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/169", "id": 646914428, "node_id": "MDU6SXNzdWU2NDY5MTQ0Mjg=", "number": 169, "title": "Host Nabu-Casa yourself?", "user": {"login": "reesericci", "id": 19589006, "node_id": "MDQ6VXNlcjE5NTg5MDA2", "avatar_url": "https://avatars1.githubusercontent.com/u/19589006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reesericci", "html_url": "https://github.com/reesericci", "followers_url": "https://api.github.com/users/reesericci/followers", "following_url": "https://api.github.com/users/reesericci/following{/other_user}", "gists_url": "https://api.github.com/users/reesericci/gists{/gist_id}", "starred_url": "https://api.github.com/users/reesericci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reesericci/subscriptions", "organizations_url": "https://api.github.com/users/reesericci/orgs", "repos_url": "https://api.github.com/users/reesericci/repos", "events_url": "https://api.github.com/users/reesericci/events{/privacy}", "received_events_url": "https://api.github.com/users/reesericci/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-28T13:00:18Z", "updated_at": "2020-06-28T13:54:31Z", "closed_at": "2020-06-28T13:54:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is this code something I can use on something like Google Cloud to host Nabu Casa myself?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/166", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/166/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/166/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/166", "id": 638776091, "node_id": "MDU6SXNzdWU2Mzg3NzYwOTE=", "number": 166, "title": "Limit on pytz considered harmful", "user": {"login": "smurfix", "id": 236571, "node_id": "MDQ6VXNlcjIzNjU3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/236571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smurfix", "html_url": "https://github.com/smurfix", "followers_url": "https://api.github.com/users/smurfix/followers", "following_url": "https://api.github.com/users/smurfix/following{/other_user}", "gists_url": "https://api.github.com/users/smurfix/gists{/gist_id}", "starred_url": "https://api.github.com/users/smurfix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smurfix/subscriptions", "organizations_url": "https://api.github.com/users/smurfix/orgs", "repos_url": "https://api.github.com/users/smurfix/repos", "events_url": "https://api.github.com/users/smurfix/events{/privacy}", "received_events_url": "https://api.github.com/users/smurfix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-15T11:29:48Z", "updated_at": "2020-06-15T22:39:09Z", "closed_at": "2020-06-15T22:39:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n> \"pytz>=2019.3,<2021.0\",\r\n\r\nIs there a reason for the <2021 restriction?\r\n\r\npytz requires regular updates, unless the rest of my system which, once it's working, I'd like to keep in a frozen known-stable state for the foreseeable future. Thus please consider removing that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/154", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/154/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/154/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/154", "id": 625200765, "node_id": "MDU6SXNzdWU2MjUyMDA3NjU=", "number": 154, "title": "Error connection every reboot RPI", "user": {"login": "davide-rhw", "id": 58735072, "node_id": "MDQ6VXNlcjU4NzM1MDcy", "avatar_url": "https://avatars1.githubusercontent.com/u/58735072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davide-rhw", "html_url": "https://github.com/davide-rhw", "followers_url": "https://api.github.com/users/davide-rhw/followers", "following_url": "https://api.github.com/users/davide-rhw/following{/other_user}", "gists_url": "https://api.github.com/users/davide-rhw/gists{/gist_id}", "starred_url": "https://api.github.com/users/davide-rhw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davide-rhw/subscriptions", "organizations_url": "https://api.github.com/users/davide-rhw/orgs", "repos_url": "https://api.github.com/users/davide-rhw/repos", "events_url": "https://api.github.com/users/davide-rhw/events{/privacy}", "received_events_url": "https://api.github.com/users/davide-rhw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-05-26T21:09:54Z", "updated_at": "2020-06-20T04:51:18Z", "closed_at": "2020-06-20T04:51:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. Verision HA 110.2\r\n\r\n2. RPI4\r\n\r\nError connecting to HA at every reboot. Whenever the raspberry is restarted, nabu casa stops working. I am forced to login to nabu casa and click on \"connect\" in Remote UI. After this it starts working again. The error is ERR_CONNECTION_FAILED", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/151", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/151/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/151/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/151", "id": 616678221, "node_id": "MDU6SXNzdWU2MTY2NzgyMjE=", "number": 151, "title": "Login attempt or request with invalid authentication from 127.0.0.1", "user": {"login": "denniswham", "id": 43110823, "node_id": "MDQ6VXNlcjQzMTEwODIz", "avatar_url": "https://avatars3.githubusercontent.com/u/43110823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denniswham", "html_url": "https://github.com/denniswham", "followers_url": "https://api.github.com/users/denniswham/followers", "following_url": "https://api.github.com/users/denniswham/following{/other_user}", "gists_url": "https://api.github.com/users/denniswham/gists{/gist_id}", "starred_url": "https://api.github.com/users/denniswham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denniswham/subscriptions", "organizations_url": "https://api.github.com/users/denniswham/orgs", "repos_url": "https://api.github.com/users/denniswham/repos", "events_url": "https://api.github.com/users/denniswham/events{/privacy}", "received_events_url": "https://api.github.com/users/denniswham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-12T13:56:46Z", "updated_at": "2020-05-12T15:48:29Z", "closed_at": "2020-05-12T15:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Everyday I have a couple of these notifications:\r\n`Login attempt or request with invalid authentication from 127.0.0.1`\r\n\r\nFrom this information it seems this is due to a limitation of Remote UI (chapter Caveats): https://www.nabucasa.com/config/remote/\r\nIs there any solution in sight, or a workaround that you can recommend?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/150", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/150/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/150/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/150", "id": 614911141, "node_id": "MDU6SXNzdWU2MTQ5MTExNDE=", "number": 150, "title": "Add Google Assistant support for fan speed control", "user": {"login": "imascarenhas", "id": 1864181, "node_id": "MDQ6VXNlcjE4NjQxODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1864181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imascarenhas", "html_url": "https://github.com/imascarenhas", "followers_url": "https://api.github.com/users/imascarenhas/followers", "following_url": "https://api.github.com/users/imascarenhas/following{/other_user}", "gists_url": "https://api.github.com/users/imascarenhas/gists{/gist_id}", "starred_url": "https://api.github.com/users/imascarenhas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imascarenhas/subscriptions", "organizations_url": "https://api.github.com/users/imascarenhas/orgs", "repos_url": "https://api.github.com/users/imascarenhas/repos", "events_url": "https://api.github.com/users/imascarenhas/events{/privacy}", "received_events_url": "https://api.github.com/users/imascarenhas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-08T18:36:09Z", "updated_at": "2020-05-30T17:36:07Z", "closed_at": "2020-05-30T16:01:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my current setup I've linked a couple of Dyson fans in Home Assistant to Google Home in abscence of an official Dyson integration to Google.\r\n\r\nThe current HA/NC support does allow turning on and off the fans and they are recognised as fans in the Google Home app, however the fan speed may not be set.\r\n\r\nPlease could we get fan speed control through the Google Assistant, looking t the SDK it appears discrete values and percentages are supported: https://developers.google.com/assistant/smarthome/traits/fanspeed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/141", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/141/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/141/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/141", "id": 593755897, "node_id": "MDU6SXNzdWU1OTM3NTU4OTc=", "number": 141, "title": "Faster start can break remote connection", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1223623098, "node_id": "MDU6TGFiZWwxMjIzNjIzMDk4", "url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-04T06:21:00Z", "updated_at": "2020-04-07T16:03:26Z", "closed_at": "2020-04-07T16:03:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With the latest version (it's planned for 109), the remote doesn't start up correctly.\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/remote.py\", line 183, in _finish_load_backend\r\n    snitun_port=443,\r\n  File \"/usr/local/lib/python3.7/site-packages/snitun/utils/aiohttp_client.py\", line 36, in __init__\r\n    self._site = SockSite(runner, self._socket, ssl_context=context)\r\n  File \"/usr/local/lib/python3.7/site-packages/aiohttp/web_runner.py\", line 168, in __init__\r\n    ssl_context=ssl_context, backlog=backlog)\r\n  File \"/usr/local/lib/python3.7/site-packages/aiohttp/web_runner.py\", line 38, in __init__\r\n    if runner.server is None:\r\nAttributeError: 'NoneType' object has no attribute 'server'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/86", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/86/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/86/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/86", "id": 498514006, "node_id": "MDU6SXNzdWU0OTg1MTQwMDY=", "number": 86, "title": "Cleanup snitun backend after 5min if we lost connection", "user": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-09-25T20:44:15Z", "updated_at": "2019-12-03T06:59:56Z", "closed_at": "2019-12-03T06:59:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/80", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/80/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/80/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/80", "id": 486210477, "node_id": "MDU6SXNzdWU0ODYyMTA0Nzc=", "number": 80, "title": "Lost subscription after loggin in to Hassio-cloud with a second instance", "user": {"login": "Cloolalang", "id": 31352660, "node_id": "MDQ6VXNlcjMxMzUyNjYw", "avatar_url": "https://avatars2.githubusercontent.com/u/31352660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cloolalang", "html_url": "https://github.com/Cloolalang", "followers_url": "https://api.github.com/users/Cloolalang/followers", "following_url": "https://api.github.com/users/Cloolalang/following{/other_user}", "gists_url": "https://api.github.com/users/Cloolalang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cloolalang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cloolalang/subscriptions", "organizations_url": "https://api.github.com/users/Cloolalang/orgs", "repos_url": "https://api.github.com/users/Cloolalang/repos", "events_url": "https://api.github.com/users/Cloolalang/events{/privacy}", "received_events_url": "https://api.github.com/users/Cloolalang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-28T07:39:40Z", "updated_at": "2019-08-30T13:48:45Z", "closed_at": "2019-08-30T13:48:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey guys, Im really enjoying Hassio.. Thank-you so much for all the work you have put in to this project..I'm spreading the word here in South Africa!\r\n\r\nHassio 0.97.2,   R Pi 3B+.\r\n\r\nTried: Reboot, Nabu Casa account login and check details of sub.\r\n\r\n\r\nSo I have a paid sub for Nabu Casa, been working great with Ariela etc.\r\n\r\nToday I created a second hardware instance of my R pi based Hassio setup as I want to develop with two instances to speed things up a bit (I have two R Pis running HASSIO).\r\n\r\nThe newly setup R Pi had a copy of the SD card image of the main R pi, so the same Hassio-cloud settings etc which caused me to be connecting two instances of Hassio-cloud to Nabu Casa.\r\n\r\nThe Hassio-Cloud disconnected on my main Hasio instance and is not connected by shows no subscription.\r\n\r\nI have disabled the Nabu Casa on my new R pi to avoid this dual-instance conflict however the old instance is now down with no subscription.\r\n\r\nWhat did I do to destroy my sub? can I recover it?\r\n\r\nMany Thanks\r\n\r\nPatrick", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/79", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/79/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/79/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/79", "id": 483500133, "node_id": "MDU6SXNzdWU0ODM1MDAxMzM=", "number": 79, "title": "Better error handling / webhooks", "user": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1223623098, "node_id": "MDU6TGFiZWwxMjIzNjIzMDk4", "url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-21T15:41:17Z", "updated_at": "2020-06-16T08:19:14Z", "closed_at": "2020-06-16T08:19:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nWed Aug 21 2019 17:37:10 GMT+0200 (Mitteleurop\u00e4ische Sommerzeit)\r\nError handling request\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/aiohttp/web_protocol.py\", line 418, in start\r\n    resp = await task\r\n  File \"/usr/local/lib/python3.7/site-packages/aiohttp/web_app.py\", line 458, in _handle\r\n    resp = await handler(request)\r\n  File \"/usr/local/lib/python3.7/site-packages/aiohttp/web_middlewares.py\", line 119, in impl\r\n    return await handler(request)\r\n  File \"/usr/src/homeassistant/homeassistant/components/http/real_ip.py\", line 37, in real_ip_middleware\r\n    return await handler(request)\r\n  File \"/usr/src/homeassistant/homeassistant/components/http/ban.py\", line 69, in ban_middleware\r\n    return await handler(request)\r\n  File \"/usr/src/homeassistant/homeassistant/components/http/auth.py\", line 228, in auth_middleware\r\n    return await handler(request)\r\n  File \"/usr/src/homeassistant/homeassistant/components/http/view.py\", line 124, in handle\r\n    result = await result\r\n  File \"/usr/src/homeassistant/homeassistant/components/config/config_entries.py\", line 162, in post\r\n    return await super().post(request, flow_id)\r\n  File \"/usr/src/homeassistant/homeassistant/components/http/data_validator.py\", line 47, in wrapper\r\n    result = await method(view, request, *args, **kwargs)\r\n  File \"/usr/src/homeassistant/homeassistant/helpers/data_entry_flow.py\", line 90, in post\r\n    result = await self._flow_mgr.async_configure(flow_id, data)\r\n  File \"/usr/src/homeassistant/homeassistant/data_entry_flow.py\", line 96, in async_configure\r\n    result = await self._async_handle_step(flow, cur_step[\"step_id\"], user_input)\r\n  File \"/usr/src/homeassistant/homeassistant/data_entry_flow.py\", line 139, in _async_handle_step\r\n    result = await getattr(flow, method)(user_input)  # type: Dict\r\n  File \"/usr/src/homeassistant/homeassistant/components/owntracks/config_flow.py\", line 34, in async_step_user\r\n    webhook_id, webhook_url, cloudhook = await self._get_webhook_id()\r\n  File \"/usr/src/homeassistant/homeassistant/components/owntracks/config_flow.py\", line 83, in _get_webhook_id\r\n    webhook_id\r\n  File \"/usr/src/homeassistant/homeassistant/components/cloud/__init__.py\", line 131, in async_create_cloudhook\r\n    hook = await hass.data[DOMAIN].cloudhooks.async_create(webhook_id, True)\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/cloudhooks.py\", line 45, in async_create\r\n    cloudhook_id = data[\"cloudhook_id\"]\r\nKeyError: 'cloudhook_id'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/78", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/78/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/78/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/78", "id": 483309781, "node_id": "MDU6SXNzdWU0ODMzMDk3ODE=", "number": 78, "title": "Login on a fresh setup", "user": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1223623098, "node_id": "MDU6TGFiZWwxMjIzNjIzMDk4", "url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-08-21T09:35:40Z", "updated_at": "2020-02-05T16:40:16Z", "closed_at": "2020-02-05T16:40:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nError doing job: Task exception was never retrieved\r\nTraceback (most recent call last):\r\n  File \"/usr/src/homeassistant/homeassistant/components/cloud/alexa_config.py\", line 274, in _handle_entity_registry_updated\r\n    await self._sync_helper(to_update, to_remove)\r\n  File \"/usr/src/homeassistant/homeassistant/components/cloud/alexa_config.py\", line 228, in _sync_helper\r\n    await self.async_get_access_token()\r\n  File \"/usr/src/homeassistant/homeassistant/components/cloud/alexa_config.py\", line 103, in async_get_access_token\r\n    resp = await cloud_api.async_alexa_access_token(self._cloud)\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/cloud_api.py\", line 17, in check_token\r\n    return await func(cloud, *args)\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/cloud_api.py\", line 89, in async_alexa_access_token\r\n    cloud.alexa_access_token_url, headers={AUTHORIZATION: cloud.id_token}\r\n  File \"/usr/local/lib/python3.7/site-packages/aiohttp/client.py\", line 371, in _request\r\n    url = URL(str_or_url)\r\n  File \"/usr/local/lib/python3.7/site-packages/yarl/__init__.py\", line 151, in __new__\r\n    raise TypeError(\"Constructor parameter should be str\")\r\nTypeError: Constructor parameter should be str\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/68", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/68/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/68/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/68", "id": 454951025, "node_id": "MDU6SXNzdWU0NTQ5NTEwMjU=", "number": 68, "title": "Adding sensor support for Google Assistant", "user": {"login": "honcheng", "id": 208827, "node_id": "MDQ6VXNlcjIwODgyNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/208827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/honcheng", "html_url": "https://github.com/honcheng", "followers_url": "https://api.github.com/users/honcheng/followers", "following_url": "https://api.github.com/users/honcheng/following{/other_user}", "gists_url": "https://api.github.com/users/honcheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/honcheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/honcheng/subscriptions", "organizations_url": "https://api.github.com/users/honcheng/orgs", "repos_url": "https://api.github.com/users/honcheng/repos", "events_url": "https://api.github.com/users/honcheng/events{/privacy}", "received_events_url": "https://api.github.com/users/honcheng/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-11T23:48:51Z", "updated_at": "2020-05-26T21:35:32Z", "closed_at": "2019-06-13T03:52:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Wondering if this is something that has to be added to nabucasa, or HA? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/65", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/65/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/65/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/65", "id": 454349239, "node_id": "MDU6SXNzdWU0NTQzNDkyMzk=", "number": 65, "title": "Be gentle with warnings", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-10T20:08:18Z", "updated_at": "2019-06-11T18:09:36Z", "closed_at": "2019-06-11T18:09:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Would it make sense that when renewing the cert fails, we only issue a warning if we are getting close to the expiration date?\r\n\r\nhttps://github.com/NabuCasa/hass-nabucasa/blob/9f1a02028e79e87ce485cd27f68b3fab36cd946c/hass_nabucasa/remote.py#L330", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/57", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/57/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/57/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/57", "id": 444284058, "node_id": "MDU6SXNzdWU0NDQyODQwNTg=", "number": 57, "title": "Remove cloud folder", "user": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-15T07:41:03Z", "updated_at": "2019-05-30T11:17:14Z", "closed_at": "2019-05-30T11:17:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Happens if someone removes the cloud folder on runtime. Should be not a real user case but should also not throw an error\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/homeassistant/components/cloud/http_api.py\", line 117, in error_handler\r\n    result = await handler(view, request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/homeassistant/components/http/data_validator.py\", line 46, in wrapper\r\n    result = await method(view, request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/homeassistant/components/cloud/http_api.py\", line 197, in post\r\n    data['password'])\r\n  File \"/usr/local/lib/python3.7/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/auth.py\", line 138, in login\r\n    self.cloud.write_user_info()\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/__init__.py\", line 162, in write_user_info\r\n    indent=4,\r\n  File \"/usr/local/lib/python3.7/pathlib.py\", line 1218, in write_text\r\n    with self.open(mode='w', encoding=encoding, errors=errors) as f:\r\n  File \"/usr/local/lib/python3.7/pathlib.py\", line 1186, in open\r\n    opener=self._opener)\r\n  File \"/usr/local/lib/python3.7/pathlib.py\", line 1039, in _opener\r\n    return self._accessor.open(self, flags, mode)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/config/.cloud/production_auth.json'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/56", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/56/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/56/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/56", "id": 443703334, "node_id": "MDU6SXNzdWU0NDM3MDMzMzQ=", "number": 56, "title": "Can't revoke certificate: urn:ietf:params:acme:error:malformed :: The request message was malformed :: No such certificate", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1223623098, "node_id": "MDU6TGFiZWwxMjIzNjIzMDk4", "url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-14T04:21:44Z", "updated_at": "2019-12-05T19:02:53Z", "closed_at": "2019-12-05T19:02:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "After I changed from dev to prod, the cloud component gave me this error:\r\n\r\n```\r\n2019-05-14 06:19:28 INFO (SyncWorker_7) [hass_nabucasa.acme] Revoke certificate\r\n2019-05-14 06:19:29 ERROR (SyncWorker_7) [hass_nabucasa.acme] Can't revoke certificate: urn:ietf:params:acme:error:malformed :: The request message was malformed :: No such certificate\r\n2019-05-14 06:19:29 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved\r\nTraceback (most recent call last):\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/remote.py\", line 145, in load_backend\r\n    await self._acme.reset_acme()\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/acme.py\", line 375, in reset_acme\r\n    await self.cloud.run_executor(self._revoke_certificate)\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/acme.py\", line 315, in _revoke_certificate\r\n    raise AcmeClientError() from None\r\nhass_nabucasa.acme.AcmeClientError\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/55", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/55/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/55/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/55", "id": 437145657, "node_id": "MDU6SXNzdWU0MzcxNDU2NTc=", "number": 55, "title": "Camera domain", "user": {"login": "bastshoes", "id": 22978694, "node_id": "MDQ6VXNlcjIyOTc4Njk0", "avatar_url": "https://avatars2.githubusercontent.com/u/22978694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bastshoes", "html_url": "https://github.com/bastshoes", "followers_url": "https://api.github.com/users/bastshoes/followers", "following_url": "https://api.github.com/users/bastshoes/following{/other_user}", "gists_url": "https://api.github.com/users/bastshoes/gists{/gist_id}", "starred_url": "https://api.github.com/users/bastshoes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bastshoes/subscriptions", "organizations_url": "https://api.github.com/users/bastshoes/orgs", "repos_url": "https://api.github.com/users/bastshoes/repos", "events_url": "https://api.github.com/users/bastshoes/events{/privacy}", "received_events_url": "https://api.github.com/users/bastshoes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-25T11:20:52Z", "updated_at": "2019-04-25T21:34:52Z", "closed_at": "2019-04-25T15:33:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Camera domain is not listed in supported at https://www.nabucasa.com/config/google_assistant/.\r\nAfter upgrading HASS to 0.92.0 cameras shown in entities that exposed to google at cloud at Home-assistant cloud panel. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/51", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/51/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/51/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/51", "id": 433612810, "node_id": "MDU6SXNzdWU0MzM2MTI4MTA=", "number": 51, "title": "Remote box not appearing on cloud configuration page", "user": {"login": "eflemingtra", "id": 13082155, "node_id": "MDQ6VXNlcjEzMDgyMTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/13082155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eflemingtra", "html_url": "https://github.com/eflemingtra", "followers_url": "https://api.github.com/users/eflemingtra/followers", "following_url": "https://api.github.com/users/eflemingtra/following{/other_user}", "gists_url": "https://api.github.com/users/eflemingtra/gists{/gist_id}", "starred_url": "https://api.github.com/users/eflemingtra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eflemingtra/subscriptions", "organizations_url": "https://api.github.com/users/eflemingtra/orgs", "repos_url": "https://api.github.com/users/eflemingtra/repos", "events_url": "https://api.github.com/users/eflemingtra/events{/privacy}", "received_events_url": "https://api.github.com/users/eflemingtra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-16T06:54:52Z", "updated_at": "2019-04-16T09:21:21Z", "closed_at": "2019-04-16T09:21:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm running Hassbian. I've got Home Assistant connected to the cloud and I can enable Alexa/Google et cetera, but the box to enable Remote UI is not showing.\r\n\r\nSpecifically, this https://www.nabucasa.com/img/remote/remote-config.png", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/50", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/50/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/50/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/50", "id": 433508342, "node_id": "MDU6SXNzdWU0MzM1MDgzNDI=", "number": 50, "title": "Don't add remote ui binary sensor unless logged in", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1323151948, "node_id": "MDU6TGFiZWwxMzIzMTUxOTQ4", "url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/labels/HA-Component", "name": "HA-Component", "color": "c2e0c6", "default": false, "description": "Need fix inside Home Assistant"}], "state": "closed", "locked": false, "assignee": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-15T22:40:59Z", "updated_at": "2019-04-17T10:34:15Z", "closed_at": "2019-04-17T10:34:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "New users that are not logged into the cloud will still see the remote UI binary sensor. We should not add it to Home Assistant unless we are logged in.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/49", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/49/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/49/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/49", "id": 431713774, "node_id": "MDU6SXNzdWU0MzE3MTM3NzQ=", "number": 49, "title": "Generating remote UI url can fail", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-04-10T20:59:44Z", "updated_at": "2019-04-16T09:22:31Z", "closed_at": "2019-04-16T09:21:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reported by @arsaboo on #cloud on Discord\r\n\r\n```\r\nLog Details (ERROR)\r\nWed Apr 10 2019 12:32:25 GMT-0400 (Eastern Daylight Time)\r\nError processing webhook 8bb03cbe13224eec33292c4e7f86f4XYZ37a50e2855d3\r\nTraceback (most recent call last):\r\n  File \"/srv/homeassistant/lib/python3.6/site-packages/homeassistant/components/webhook/__init__.py\", line 85, in async_handle_webhook\r\n    response = await webhook['handler'](hass, webhook_id, request)\r\n  File \"/srv/homeassistant/lib/python3.6/site-packages/homeassistant/components/mobile_app/webhook.py\", line 311, in handle_webhook\r\n    resp[CONF_REMOTE_UI_URL] = async_remote_ui_url(hass)\r\n  File \"/srv/homeassistant/lib/python3.6/site-packages/homeassistant/components/cloud/__init__.py\", line 128, in async_remote_ui_url\r\n    return \"https://\" + hass.data[DOMAIN].remote.instance_domain\r\nTypeError: must be str, not NoneType\r\n```\r\n\r\nI suspect it's because it's at startup and it's not loaded yet?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/48", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/48/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/48/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/48", "id": 425217341, "node_id": "MDU6SXNzdWU0MjUyMTczNDE=", "number": 48, "title": "Race condition snitun", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-26T04:06:08Z", "updated_at": "2019-04-17T09:49:49Z", "closed_at": "2019-04-17T09:49:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Quiting HA setup while starting up.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/remote.py\", line 255, in connect\r\n    await self._snitun.connect(\r\nAttributeError: 'NoneType' object has no attribute 'connect'\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/remote.py\", line 292, in _reconnect_snitun\r\n    if self._snitun.is_connected:\r\nAttributeError: 'NoneType' object has no attribute 'is_connected'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/44", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/44/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/44/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/44", "id": 424389031, "node_id": "MDU6SXNzdWU0MjQzODkwMzE=", "number": 44, "title": "Race condition Google message", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1323151948, "node_id": "MDU6TGFiZWwxMzIzMTUxOTQ4", "url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/labels/HA-Component", "name": "HA-Component", "color": "c2e0c6", "default": false, "description": "Need fix inside Home Assistant"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-22T20:33:43Z", "updated_at": "2019-04-17T10:38:05Z", "closed_at": "2019-04-17T10:38:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n2019-03-22 13:28:38 ERROR (MainThread) [hass_nabucasa.iot] Error handling message\r\nTraceback (most recent call last):\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/iot.py\", line 220, in _handle_connection\r\n    self.cloud, msg[\"handler\"], msg[\"payload\"]\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/iot.py\", line 274, in async_handle_message\r\n    return await handler(cloud, payload)\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/iot.py\", line 286, in async_handle_google_actions\r\n    return await cloud.client.async_google_message(payload)\r\n  File \"/Users/paulus/dev/hass/home-assistant/homeassistant/components/cloud/client.py\", line 154, in async_google_message\r\n    answer['payload']['agentUserId'] = cloud.claims['cognito:username']\r\nTypeError: 'NoneType' object is not subscriptable\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/37", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/37/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/37/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/37", "id": 423604718, "node_id": "MDU6SXNzdWU0MjM2MDQ3MTg=", "number": 37, "title": "No remote ui tab on cloud panel", "user": {"login": "naamah75", "id": 34965103, "node_id": "MDQ6VXNlcjM0OTY1MTAz", "avatar_url": "https://avatars2.githubusercontent.com/u/34965103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naamah75", "html_url": "https://github.com/naamah75", "followers_url": "https://api.github.com/users/naamah75/followers", "following_url": "https://api.github.com/users/naamah75/following{/other_user}", "gists_url": "https://api.github.com/users/naamah75/gists{/gist_id}", "starred_url": "https://api.github.com/users/naamah75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naamah75/subscriptions", "organizations_url": "https://api.github.com/users/naamah75/orgs", "repos_url": "https://api.github.com/users/naamah75/repos", "events_url": "https://api.github.com/users/naamah75/events{/privacy}", "received_events_url": "https://api.github.com/users/naamah75/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-21T07:48:50Z", "updated_at": "2019-03-21T16:47:37Z", "closed_at": "2019-03-21T16:47:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Update today to 0.90 but I've no remote ui tab on my cloud panel.\r\n\r\nThis is my cloud panel:\r\n![FireShot Capture 067 - Home Assistant - www naamah online](https://user-images.githubusercontent.com/34965103/54738834-192cac80-4bb6-11e9-9ea1-b2b069ca0334.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/34", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/34/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/34/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/34", "id": 421790821, "node_id": "MDU6SXNzdWU0MjE3OTA4MjE=", "number": 34, "title": "Connection to home assistant fails in 0.90b", "user": {"login": "danielsjf", "id": 6696142, "node_id": "MDQ6VXNlcjY2OTYxNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6696142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielsjf", "html_url": "https://github.com/danielsjf", "followers_url": "https://api.github.com/users/danielsjf/followers", "following_url": "https://api.github.com/users/danielsjf/following{/other_user}", "gists_url": "https://api.github.com/users/danielsjf/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielsjf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielsjf/subscriptions", "organizations_url": "https://api.github.com/users/danielsjf/orgs", "repos_url": "https://api.github.com/users/danielsjf/repos", "events_url": "https://api.github.com/users/danielsjf/events{/privacy}", "received_events_url": "https://api.github.com/users/danielsjf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-16T09:59:07Z", "updated_at": "2019-03-19T02:42:57Z", "closed_at": "2019-03-19T02:42:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I login to the portal and try to connect, I get the following error code:\r\n\r\nConnection failed: Unknown error", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/33", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/33/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/33/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/33", "id": 421790613, "node_id": "MDU6SXNzdWU0MjE3OTA2MTM=", "number": 33, "title": "Email field is capital sensitive for login", "user": {"login": "danielsjf", "id": 6696142, "node_id": "MDQ6VXNlcjY2OTYxNDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6696142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielsjf", "html_url": "https://github.com/danielsjf", "followers_url": "https://api.github.com/users/danielsjf/followers", "following_url": "https://api.github.com/users/danielsjf/following{/other_user}", "gists_url": "https://api.github.com/users/danielsjf/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielsjf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielsjf/subscriptions", "organizations_url": "https://api.github.com/users/danielsjf/orgs", "repos_url": "https://api.github.com/users/danielsjf/repos", "events_url": "https://api.github.com/users/danielsjf/events{/privacy}", "received_events_url": "https://api.github.com/users/danielsjf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-16T09:56:33Z", "updated_at": "2019-03-17T04:40:50Z", "closed_at": "2019-03-17T04:40:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to login a few times but it kept on saying that my password was wrong. Changed the password twice but kept on getting the same message.\r\n\r\nOn mobile, somehow the browser automatically capitalises the first letter of my mail. Apparently the field cannot handle this. \r\n\r\nSmall other detail, the site mentions username not found instead of email not found.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/26", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/26/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/26/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/26", "id": 421324465, "node_id": "MDU6SXNzdWU0MjEzMjQ0NjU=", "number": 26, "title": "Expose remote UI connectivity as a binary sensor", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-15T02:23:04Z", "updated_at": "2019-03-15T18:10:00Z", "closed_at": "2019-03-15T18:10:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "That way we will be able to live update the status in the cloud panel and people can automate against it. \r\n\r\nWhen fixed, also add to docs on website under configuration/remote/automation", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/25", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/25/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/25/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/25", "id": 421299081, "node_id": "MDU6SXNzdWU0MjEyOTkwODE=", "number": 25, "title": "Certificate expiration date is not in UTC.", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-03-15T00:14:13Z", "updated_at": "2019-03-15T11:16:29Z", "closed_at": "2019-03-15T11:16:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n019-03-15 01:00:00 ERROR (MainThread) [homeassistant.core] Error doing job: Task exception was never retrieved\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/hass_nabucasa/remote.py\", line 301, in _certificate_handler\r\n    if self._acme.expire_date > utils.utcnow() + timedelta(days=14):\r\nTypeError: can't compare offset-naive and offset-aware datetimes\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/20", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/20/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/20/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/20", "id": 419829826, "node_id": "MDU6SXNzdWU0MTk4Mjk4MjY=", "number": 20, "title": "Expose info on remote UI", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pvizeli", "id": 15338540, "node_id": "MDQ6VXNlcjE1MzM4NTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/15338540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvizeli", "html_url": "https://github.com/pvizeli", "followers_url": "https://api.github.com/users/pvizeli/followers", "following_url": "https://api.github.com/users/pvizeli/following{/other_user}", "gists_url": "https://api.github.com/users/pvizeli/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvizeli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvizeli/subscriptions", "organizations_url": "https://api.github.com/users/pvizeli/orgs", "repos_url": "https://api.github.com/users/pvizeli/repos", "events_url": "https://api.github.com/users/pvizeli/events{/privacy}", "received_events_url": "https://api.github.com/users/pvizeli/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-12T06:58:39Z", "updated_at": "2019-03-15T00:13:28Z", "closed_at": "2019-03-15T00:13:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I should be able to get the following info without having to access protected properties:\r\n- domain name\r\n- is connected\r\n- cert fingerprint\r\n\r\nRight now I can get the first two, but have to use protected access: https://github.com/home-assistant/home-assistant/pull/21960/files#diff-58d4987318bfb3b0d98ba5590715dcbcR405", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/19", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/19/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/19/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/19", "id": 419823768, "node_id": "MDU6SXNzdWU0MTk4MjM3Njg=", "number": 19, "title": "Catch username exists exception during registration", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-12T06:35:39Z", "updated_at": "2019-04-17T09:58:29Z", "closed_at": "2019-04-17T09:58:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should not map this to an unknown error.\r\n\r\n```\r\n2019-03-11 23:32:26 ERROR (MainThread) [homeassistant.components.cloud.http_api] Unexpected error processing request for /api/cloud/register\r\nTraceback (most recent call last):\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/auth.py\", line 95, in register\r\n    cognito.register(email, password)\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/warrant/__init__.py\", line 311, in register\r\n    response = self.client.sign_up(**params)\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/botocore/client.py\", line 661, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.errorfactory.UsernameExistsException: An error occurred (UsernameExistsException) when calling the SignUp operation: An account with the given email already exists.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/paulus/dev/hass/home-assistant/homeassistant/components/cloud/http_api.py\", line 118, in error_handler\r\n    result = await handler(view, request, *args, **kwargs)\r\n  File \"/Users/paulus/dev/hass/home-assistant/homeassistant/components/http/data_validator.py\", line 46, in wrapper\r\n    result = await method(view, request, *args, **kwargs)\r\n  File \"/Users/paulus/dev/hass/home-assistant/homeassistant/components/cloud/http_api.py\", line 220, in post\r\n    cloud.auth.register, data['email'], data['password'])\r\n  File \"/usr/local/Cellar/python/3.7.0/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/Users/paulus/dev/hass/home-assistant/lib/python3.7/site-packages/hass_nabucasa/auth.py\", line 98, in register\r\n    raise _map_aws_exception(err)\r\nhass_nabucasa.auth.UnknownError: An account with the given email already exists.\r\n```\r\n\r\nThe UI is able to give the right error, but with the wrong prefix:\r\n\r\n![image](https://user-images.githubusercontent.com/1444314/54179569-5d9da700-4456-11e9-8dd3-91ad4739293e.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/3", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/3/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/3/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/3", "id": 413784162, "node_id": "MDU6SXNzdWU0MTM3ODQxNjI=", "number": 3, "title": "GA in Hass: Handle disconnect intent", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-24T05:29:58Z", "updated_at": "2019-02-24T06:41:17Z", "closed_at": "2019-02-24T06:41:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n{'inputs': [{'intent': 'action.devices.DISCONNECT'}], 'requestId': '15747632801165592741'}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/2", "repository_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa", "labels_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/2/comments", "events_url": "https://api.github.com/repos/NabuCasa/hass-nabucasa/issues/2/events", "html_url": "https://github.com/NabuCasa/hass-nabucasa/issues/2", "id": 407501966, "node_id": "MDU6SXNzdWU0MDc1MDE5NjY=", "number": 2, "title": "Allow mobile apps to register itself in Home Assistant", "user": {"login": "balloob", "id": 1444314, "node_id": "MDQ6VXNlcjE0NDQzMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1444314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/balloob", "html_url": "https://github.com/balloob", "followers_url": "https://api.github.com/users/balloob/followers", "following_url": "https://api.github.com/users/balloob/following{/other_user}", "gists_url": "https://api.github.com/users/balloob/gists{/gist_id}", "starred_url": "https://api.github.com/users/balloob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/balloob/subscriptions", "organizations_url": "https://api.github.com/users/balloob/orgs", "repos_url": "https://api.github.com/users/balloob/repos", "events_url": "https://api.github.com/users/balloob/events{/privacy}", "received_events_url": "https://api.github.com/users/balloob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-07T01:08:01Z", "updated_at": "2019-02-28T07:17:05Z", "closed_at": "2019-02-28T07:17:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We need a central component that allows users to register mobile apps. We will use this for iOS, our upcoming Android app and it can be used by any other mobile app. \r\n\r\nWe will add `mobile:` to the default `configuration.yaml` to load this component by default.\r\n\r\nThe component will keep track of registrations. We will show the registrations on the UI for the new person component.\r\n\r\n## API endpoint `POST /api/mobile/register`\r\n\r\nRegister a new mobile app. Calls with user credentials so we know which user it is.\r\n\r\nRequest:\r\n\r\n```json5\r\n{\r\n  \"app_name\": \"ios\",\r\n  \"app_platform\": \"ios\", // optional\r\n  \"device_public_key\": \"\", // optional, to encrypt data to the app\r\n  \"device_name\": \"Paulus Pixel 3\",\r\n}\r\n```\r\n\r\n - `app_platform` points at a platform for the mobile component. This is optional and could extend the webhook commands that can be handled.\r\n\r\nThe return value of this endpoint will be:\r\n\r\n- local webhook url to use\r\n- cloud webhook url to use (if user is subscribed)\r\n- public encryption key to send encrypted data to HA using a libsodium helper (not part of MVP)\r\n\r\nAll registrations will be stored in the storage helper. Have a unique ID attached to it. \r\n\r\nPerson component will during startup automatically start tracking any registered mobile apps for the user.\r\n\r\n## Webhook handler type `publish_location`\r\n\r\nReport location data to Home Assistant. Will be forwarded to `mobile/device_tracker.py` which will manage the. \r\n\r\n```json\r\n{\r\n  \"type\": \"location\",\r\n  \"latitude\": \"\",\r\n  \"longitude\": \"\",\r\n  \"elevation\": \"\",\r\n  \"battery_level\": \"\",\r\n}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}]}