{"total_count": 1704, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5744", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5744/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5744/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5744/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5744", "id": 682687420, "node_id": "MDU6SXNzdWU2ODI2ODc0MjA=", "number": 5744, "title": "Extend message.mentions to search embeds", "user": {"login": "EdwardChamberlain", "id": 7659338, "node_id": "MDQ6VXNlcjc2NTkzMzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/7659338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdwardChamberlain", "html_url": "https://github.com/EdwardChamberlain", "followers_url": "https://api.github.com/users/EdwardChamberlain/followers", "following_url": "https://api.github.com/users/EdwardChamberlain/following{/other_user}", "gists_url": "https://api.github.com/users/EdwardChamberlain/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdwardChamberlain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdwardChamberlain/subscriptions", "organizations_url": "https://api.github.com/users/EdwardChamberlain/orgs", "repos_url": "https://api.github.com/users/EdwardChamberlain/repos", "events_url": "https://api.github.com/users/EdwardChamberlain/events{/privacy}", "received_events_url": "https://api.github.com/users/EdwardChamberlain/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130947, "node_id": "MDU6TGFiZWwyNTExMzA5NDc=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-20T12:48:46Z", "updated_at": "2020-08-20T12:51:00Z", "closed_at": "2020-08-20T12:50:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nCurrently Message.mentions only finds mentions in the content of a message and not in the embeds.\r\n\r\n### The Ideal Solution\r\n\r\nExtend message.mentions to include mentions inside the embed. \r\n\r\n### The Current Solution\r\n\r\nCurrent solution is to convert the embed to a string and use regex to find the id of those who have been embedded. \r\n\r\n### Summary\r\n\r\nN/a \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5741", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5741/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5741/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5741/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5741", "id": 681998871, "node_id": "MDU6SXNzdWU2ODE5OTg4NzE=", "number": 5741, "title": "Issue with commands.is_owner()", "user": {"login": "Distill-pixel", "id": 52331239, "node_id": "MDQ6VXNlcjUyMzMxMjM5", "avatar_url": "https://avatars3.githubusercontent.com/u/52331239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Distill-pixel", "html_url": "https://github.com/Distill-pixel", "followers_url": "https://api.github.com/users/Distill-pixel/followers", "following_url": "https://api.github.com/users/Distill-pixel/following{/other_user}", "gists_url": "https://api.github.com/users/Distill-pixel/gists{/gist_id}", "starred_url": "https://api.github.com/users/Distill-pixel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Distill-pixel/subscriptions", "organizations_url": "https://api.github.com/users/Distill-pixel/orgs", "repos_url": "https://api.github.com/users/Distill-pixel/repos", "events_url": "https://api.github.com/users/Distill-pixel/events{/privacy}", "received_events_url": "https://api.github.com/users/Distill-pixel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 397573190, "node_id": "MDU6TGFiZWwzOTc1NzMxOTA=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/no%20repro", "name": "no repro", "color": "fef2c0", "default": false, "description": "Cannot be reproduced."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-08-19T17:00:12Z", "updated_at": "2020-08-20T06:38:11Z", "closed_at": "2020-08-20T06:38:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\n@commands.is_owner() behaving incorrectly.\r\n\r\n### Reproduction Steps\r\n\r\n1. Create a command\r\n2. Add the @commands.is_owner() decorator.\r\n3. Make sure you\u2019ve set the owner_id whilst creating the client/bot etc. object.\r\n\r\n### Expected Results\r\n\r\nIt should work by only allowing the owner to run it.\r\n\r\n### Actual Results\r\n\r\nIt works, but it fails on some of the attempts. I made an eval command and I put the decorator onto it (in a cog yes), the command worked 2/5 times and the other 3 attempts in the console I got an error stating that you are not the owner of the bot.\r\n\r\nTraceback-\r\n```\r\nTraceback (most recent call last):\r\n  File \"/app/.local/lib/python3.7/site-packages/discord/ext/commands/bot.py\", line 903, in invoke\r\n    await ctx.command.invoke(ctx)\r\n  File \"/app/.local/lib/python3.7/site-packages/discord/ext/commands/core.py\", line 847, in invoke\r\n    await self.prepare(ctx)\r\n  File \"/app/.local/lib/python3.7/site-packages/discord/ext/commands/core.py\", line 776, in prepare\r\n    if not await self.can_run(ctx):\r\n  File \"/app/.local/lib/python3.7/site-packages/discord/ext/commands/core.py\", line 1069, in can_run\r\n    return await discord.utils.async_all(predicate(ctx) for predicate in predicates)\r\n  File \"/app/.local/lib/python3.7/site-packages/discord/utils.py\", line 340, in async_all\r\n    elem = await elem\r\n  File \"/app/.local/lib/python3.7/site-packages/discord/ext/commands/core.py\", line 1876, in predicate\r\n    raise NotOwner('You do not own this bot.')\r\n\r\ndiscord.ext.commands.errors.NotOwner: You do not own this bot.\r\n``` \r\n\r\nx3\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n- Python v3.7.9-final\r\n- discord.py v1.4.0-final\r\n- aiohttp v3.6.2\r\n- system info: Linux 4.4.0-1107-aws #118-Ubuntu SMP Sun May 3 TIMECENSORED(Trying to update) UTC 2020", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5740", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5740/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5740/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5740/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5740", "id": 681765548, "node_id": "MDU6SXNzdWU2ODE3NjU1NDg=", "number": 5740, "title": "Add multiple reactions at once", "user": {"login": "astariul", "id": 22237185, "node_id": "MDQ6VXNlcjIyMjM3MTg1", "avatar_url": "https://avatars2.githubusercontent.com/u/22237185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astariul", "html_url": "https://github.com/astariul", "followers_url": "https://api.github.com/users/astariul/followers", "following_url": "https://api.github.com/users/astariul/following{/other_user}", "gists_url": "https://api.github.com/users/astariul/gists{/gist_id}", "starred_url": "https://api.github.com/users/astariul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astariul/subscriptions", "organizations_url": "https://api.github.com/users/astariul/orgs", "repos_url": "https://api.github.com/users/astariul/repos", "events_url": "https://api.github.com/users/astariul/events{/privacy}", "received_events_url": "https://api.github.com/users/astariul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-19T11:28:14Z", "updated_at": "2020-08-19T12:41:46Z", "closed_at": "2020-08-19T12:41:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nI'm the author of [`discord_interactive_help`](https://github.com/astariul/discord_interactive_help), a tiny library which add interactivity between the user and your bot, through reactions.\r\n\r\nBasically we display a message with several reactions, and by reacting, the user can make some choice.\r\n\r\nSo the point is : **I need to display a message with several reactions.** \r\n\r\nAnd the problem is : **Since reactions should be added one by one through the [`add_reaction()`](https://discordpy.readthedocs.io/en/latest/api.html#discord.Message.add_reaction) method, it takes quite some time to display all the reactions under the message.**\r\n\r\n### The Ideal Solution\r\n\r\nIdeally, we can specify a list of reactions to display when calling the [`send()`](https://discordpy.readthedocs.io/en/latest/api.html#discord.DMChannel.send) function, so we have only one call to do.\r\n\r\n_Now, I understand it does not really make sense to add reactions when sending a message._\r\n\r\n**Another good solution would be to allow a list of reactions in the ['add_reaction()'](https://discordpy.readthedocs.io/en/latest/api.html#discord.Message.add_reaction) method.**\r\n\r\n### The Current Solution\r\n\r\nCurrent solution is to call the ['add_reaction()'](https://discordpy.readthedocs.io/en/latest/api.html#discord.Message.add_reaction) method once per reaction, which takes some time and does not feel smooth on the user side.\r\n\r\n### Summary\r\n\r\n**Make the ['add_reaction()'](https://discordpy.readthedocs.io/en/latest/api.html#discord.Message.add_reaction) method accept a list of reactions.**\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5556", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5556/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5556/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5556/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5556", "id": 680620738, "node_id": "MDU6SXNzdWU2ODA2MjA3Mzg=", "number": 5556, "title": "Nitro and Boost Flags on discord", "user": {"login": "Jovantri10", "id": 51161901, "node_id": "MDQ6VXNlcjUxMTYxOTAx", "avatar_url": "https://avatars1.githubusercontent.com/u/51161901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jovantri10", "html_url": "https://github.com/Jovantri10", "followers_url": "https://api.github.com/users/Jovantri10/followers", "following_url": "https://api.github.com/users/Jovantri10/following{/other_user}", "gists_url": "https://api.github.com/users/Jovantri10/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jovantri10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jovantri10/subscriptions", "organizations_url": "https://api.github.com/users/Jovantri10/orgs", "repos_url": "https://api.github.com/users/Jovantri10/repos", "events_url": "https://api.github.com/users/Jovantri10/events{/privacy}", "received_events_url": "https://api.github.com/users/Jovantri10/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-18T01:24:12Z", "updated_at": "2020-08-19T19:59:11Z", "closed_at": "2020-08-19T19:59:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "now the flags on discord.py just \"brilliance, bravery, balance, staff, partner, etc...\", well pls add the flags for nitro user and boost, thank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5231", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5231/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5231/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5231/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5231", "id": 679754904, "node_id": "MDU6SXNzdWU2Nzk3NTQ5MDQ=", "number": 5231, "title": "BanEntry class not documanted", "user": {"login": "yotam201410", "id": 56742172, "node_id": "MDQ6VXNlcjU2NzQyMTcy", "avatar_url": "https://avatars3.githubusercontent.com/u/56742172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yotam201410", "html_url": "https://github.com/yotam201410", "followers_url": "https://api.github.com/users/yotam201410/followers", "following_url": "https://api.github.com/users/yotam201410/following{/other_user}", "gists_url": "https://api.github.com/users/yotam201410/gists{/gist_id}", "starred_url": "https://api.github.com/users/yotam201410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yotam201410/subscriptions", "organizations_url": "https://api.github.com/users/yotam201410/orgs", "repos_url": "https://api.github.com/users/yotam201410/repos", "events_url": "https://api.github.com/users/yotam201410/events{/privacy}", "received_events_url": "https://api.github.com/users/yotam201410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-16T13:29:01Z", "updated_at": "2020-08-16T13:32:16Z", "closed_at": "2020-08-16T13:32:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nBanEntry class is not documented in the docs\r\n\r\n### The Ideal Solution\r\n\r\nadding it to the docs\r\n\r\n### The Current Solution\r\n\r\nusing guild.bans()\r\nthen just picking a random user and looking from what the class is made\r\n\r\n### Summary\r\n\r\nBanEntry class is not documented in the docs\r\nand it should be documented \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5230", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5230/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5230/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5230/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5230", "id": 679732158, "node_id": "MDU6SXNzdWU2Nzk3MzIxNTg=", "number": 5230, "title": "Edit Channel Name causes a Delay", "user": {"login": "Brianbloke", "id": 40572449, "node_id": "MDQ6VXNlcjQwNTcyNDQ5", "avatar_url": "https://avatars3.githubusercontent.com/u/40572449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Brianbloke", "html_url": "https://github.com/Brianbloke", "followers_url": "https://api.github.com/users/Brianbloke/followers", "following_url": "https://api.github.com/users/Brianbloke/following{/other_user}", "gists_url": "https://api.github.com/users/Brianbloke/gists{/gist_id}", "starred_url": "https://api.github.com/users/Brianbloke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Brianbloke/subscriptions", "organizations_url": "https://api.github.com/users/Brianbloke/orgs", "repos_url": "https://api.github.com/users/Brianbloke/repos", "events_url": "https://api.github.com/users/Brianbloke/events{/privacy}", "received_events_url": "https://api.github.com/users/Brianbloke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-16T10:46:24Z", "updated_at": "2020-08-16T10:48:43Z", "closed_at": "2020-08-16T10:48:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI have a bot in which it ticks down a timer on the channel, and then deletes the channel when it hits 0. However, In my for loop\r\nThe edit channel seems to work for the first few times, and then just stops working at all after a longer period of time. There is no logic to this, but I think it may be hanging up under the channel.edit\r\n\r\n### Reproduction Steps\r\n\r\nCreate a For Loop that runs of a Timer and already has a name.\r\n```\r\n # for each minute, edit the channel name and sleep for 60 seconds\r\n            #Time_LeftOn is total Time in Minutes\r\n            for i in range(0, int(time_leftOn)):\r\n                print(\"in timer\")\r\n                await channel.edit(name=name + '-' + str(int(finaltime)))\r\n                print(finaltime)\r\n                finaltime = int(finaltime) - 1\r\n                print(str(finaltime) + \" sleep start \" + str(datetime.datetime.now().time()))\r\n                await asyncio.sleep(60)\r\n                print(str(finaltime) + \" sleep end \" + str(datetime.datetime.now().time()))\r\n            # after loop has ran, delete channel\r\n            await channel.delete()\r\n            return\r\n```\r\n\r\n\r\n### Expected Results\r\n\r\nFor the loop to start, edit the name, sleep for 60 seconds, then go back in.\r\nI know it is hanging on the channel.edit as I'm printing to the console.\r\n\r\n### Actual Results\r\n\r\nfrom the console-\r\n```\r\nin timer\r\n59.2\r\n58 sleep start 10:20:27.139295\r\n58 sleep end 10:21:27.152255\r\nin timer\r\n58\r\n57 sleep start 10:21:27.307034\r\n57 sleep end 10:22:27.312993\r\nin timer\r\n57\r\n56 sleep start 10:30:27.316321\r\n56 sleep end 10:31:27.325464\r\nin timer\r\n56\r\n55 sleep start 10:31:27.549100\r\n55 sleep end 10:32:27.558203\r\nin timer\r\n```\r\nAs you can see there is almost a 10minute delay between the 60 seconds that has passed. The delay occurs after 'in timer', but before 'finaltime' gets printed hence my conclusion.\r\n\r\n### Checklist\r\n\r\n- [X ] I have searched the open issues for duplicates.\r\n- [X ] I have shown the entire traceback, if possible.\r\n- [X ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.6.9-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.15.0-109-generic #110-Ubuntu SMP Tue Jun 23 02:39:32 UTC 2020\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5229", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5229/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5229/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5229/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5229", "id": 679639594, "node_id": "MDU6SXNzdWU2Nzk2Mzk1OTQ=", "number": 5229, "title": "Command response shows up multiple times", "user": {"login": "josphhh0181", "id": 28985840, "node_id": "MDQ6VXNlcjI4OTg1ODQw", "avatar_url": "https://avatars1.githubusercontent.com/u/28985840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josphhh0181", "html_url": "https://github.com/josphhh0181", "followers_url": "https://api.github.com/users/josphhh0181/followers", "following_url": "https://api.github.com/users/josphhh0181/following{/other_user}", "gists_url": "https://api.github.com/users/josphhh0181/gists{/gist_id}", "starred_url": "https://api.github.com/users/josphhh0181/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josphhh0181/subscriptions", "organizations_url": "https://api.github.com/users/josphhh0181/orgs", "repos_url": "https://api.github.com/users/josphhh0181/repos", "events_url": "https://api.github.com/users/josphhh0181/events{/privacy}", "received_events_url": "https://api.github.com/users/josphhh0181/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-15T20:48:07Z", "updated_at": "2020-08-15T20:53:47Z", "closed_at": "2020-08-15T20:53:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen I enter a command (eg .ping), the bots response shows up multiple times. Sometimes it shows up once, sometimes either 3,5 or 7 times.\r\n\r\n### Reproduction Steps\r\n\r\n```\r\n@client.command()\r\nasync def ping(ctx):\r\n\tawait ctx.send('Pong')\r\n```\r\n\r\n### Expected Results\r\n\r\nFor the bot to reply with 'Pong' once.\r\n\r\n### Actual Results\r\n\r\nThe bot responds multiple times in multiple messages.\r\n\r\n\r\n### Checklist\r\n\r\n- [x ] I have searched the open issues for duplicates.\r\n- [ x] I have shown the entire traceback, if possible.\r\n- [ x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.5-final\r\n- discord.py v1.4.1-final\r\n- aiohttp v3.6.2\r\n- system info: Windows 10 10.0.19041\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5226", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5226/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5226/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5226/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5226", "id": 679233925, "node_id": "MDU6SXNzdWU2NzkyMzM5MjU=", "number": 5226, "title": "When invite deletion is attempted without manage channels permission, a 404 not found is returned", "user": {"login": "dob9601", "id": 24723950, "node_id": "MDQ6VXNlcjI0NzIzOTUw", "avatar_url": "https://avatars1.githubusercontent.com/u/24723950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dob9601", "html_url": "https://github.com/dob9601", "followers_url": "https://api.github.com/users/dob9601/followers", "following_url": "https://api.github.com/users/dob9601/following{/other_user}", "gists_url": "https://api.github.com/users/dob9601/gists{/gist_id}", "starred_url": "https://api.github.com/users/dob9601/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dob9601/subscriptions", "organizations_url": "https://api.github.com/users/dob9601/orgs", "repos_url": "https://api.github.com/users/dob9601/repos", "events_url": "https://api.github.com/users/dob9601/events{/privacy}", "received_events_url": "https://api.github.com/users/dob9601/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130946, "node_id": "MDU6TGFiZWwyNTExMzA5NDY=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/question", "name": "question", "color": "cc317c", "default": true, "description": "This is a question about the library"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-14T15:27:38Z", "updated_at": "2020-08-16T11:13:16Z", "closed_at": "2020-08-15T03:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen invite deletion is attempted without manage channels permission, a 404 not found is returned. However, the discord.py docs imply that a 403 should be returned. Unsure as to whether this is:\r\n - A: An issue with the discord.py docs\r\n - B: An issue with the Discord api\r\n - C: An issue with discord.py itself\r\n\r\n### Reproduction Steps\r\n\r\nAttempt to delete an invite when you do not have the manage channels permission.\r\n\r\n### Expected Results\r\n\r\nAn http 403 error to be returned\r\n\r\n### Actual Results\r\n\r\nYou will find that the error below is returned:\r\n```py\r\nTraceback (most recent call last):\r\n  File \"/home/######/.local/lib/python3.8/site-packages/discord/client.py\", line 312, in _run_event\r\n    await coro(*args, **kwargs)\r\n  File \"/home/######/repos/######/bot/core.py\", line 117, in on_raw_reaction_add\r\n    await lfg_request.close_request(self.bot)\r\n  File \"/home/######/repos/######/bot/models.py\", line 86, in close_request\r\n    await invite.delete()\r\n  File \"/home/######/.local/lib/python3.8/site-packages/discord/invite.py\", line 365, in delete\r\n    await self._state.http.delete_invite(self.code, reason=reason)\r\n  File \"/home/######/.local/lib/python3.8/site-packages/discord/http.py\", line 223, in request\r\n    raise NotFound(r, data)\r\ndiscord.errors.NotFound: 404 Not Found (error code: 10006): Unknown Invite\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n```\r\n- Python v3.8.3-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.6.19-2-MANJARO #1 SMP PREEMPT Wed Jun 17 22:24:52 UTC 2020\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5224", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5224/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5224/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5224/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5224", "id": 677719186, "node_id": "MDU6SXNzdWU2Nzc3MTkxODY=", "number": 5224, "title": "TypeError: __init__() got an unexpected keyword argument 'requote'", "user": {"login": "Liftyee", "id": 64788399, "node_id": "MDQ6VXNlcjY0Nzg4Mzk5", "avatar_url": "https://avatars2.githubusercontent.com/u/64788399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Liftyee", "html_url": "https://github.com/Liftyee", "followers_url": "https://api.github.com/users/Liftyee/followers", "following_url": "https://api.github.com/users/Liftyee/following{/other_user}", "gists_url": "https://api.github.com/users/Liftyee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Liftyee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Liftyee/subscriptions", "organizations_url": "https://api.github.com/users/Liftyee/orgs", "repos_url": "https://api.github.com/users/Liftyee/repos", "events_url": "https://api.github.com/users/Liftyee/events{/privacy}", "received_events_url": "https://api.github.com/users/Liftyee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-12T14:02:34Z", "updated_at": "2020-08-12T14:06:11Z", "closed_at": "2020-08-12T14:06:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen I run a simple discord.py code, it produces an error instead of working as expected.\r\n\r\n### Reproduction Steps\r\n\r\n```\r\nimport discord.py\r\nclient = discord.Client()\r\n\r\n@client.event\r\nasync def on_ready():\r\n\tprint('We have logged in as {0.user}'.format(client))\r\n\r\n@client.event\r\nasync def on_message(message):\r\n\tprint(\"a message received\")\r\n\t\r\n@client.event\r\nasync def on_reaction_add(reaction, user):\r\n\tprint(reaction)\r\n\tprint(user)\r\n\r\nclient.run('[token]')\r\n```\r\n\r\n### Expected Results\r\n\r\nIt reacts when a message is sent in a server and prints reaction details when a reaction is added.\r\n\r\n### Actual Results\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"discord bot rolemanager.py\", line 25, in <module>\r\n    import discord.py\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/discord/__init__.py\", line 25, in <module>\r\n    from .client import Client\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/discord/client.py\", line 34, in <module>\r\n    import aiohttp\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/aiohttp/__init__.py\", line 6, in <module>\r\n    from .client import BaseConnector as BaseConnector\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/aiohttp/client.py\", line 30, in <module>\r\n    from yarl import URL\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/yarl/__init__.py\", line 1, in <module>\r\n    from ._url import URL, cache_clear, cache_configure, cache_info\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/yarl/_url.py\", line 56, in <module>\r\n    @rewrite_module\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/yarl/_url.py\", line 132, in URL\r\n    _QUERY_PART_QUOTER = _Quoter(safe=\"?/:@\", qs=True, requote=False)\r\n  File \"yarl/_quoting.pyx\", line 192, in yarl._quoting._Quoter.__init__\r\nTypeError: __init__() got an unexpected keyword argument 'requote'\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n`python -m discord -v` returns `/usr/bin/python: No module named discord`, however\r\n`python3 -m discord -v` returns \r\n```Traceback (most recent call last):\r\n  File \"/usr/lib/python3.6/runpy.py\", line 183, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 142, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 109, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/discord/__init__.py\", line 25, in <module>\r\n    from .client import Client\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/discord/client.py\", line 34, in <module>\r\n    import aiohttp\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/aiohttp/__init__.py\", line 6, in <module>\r\n    from .client import BaseConnector as BaseConnector\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/aiohttp/client.py\", line 30, in <module>\r\n    from yarl import URL\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/yarl/__init__.py\", line 1, in <module>\r\n    from ._url import URL, cache_clear, cache_configure, cache_info\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/yarl/_url.py\", line 56, in <module>\r\n    @rewrite_module\r\n  File \"/home/victor/.local/lib/python3.6/site-packages/yarl/_url.py\", line 132, in URL\r\n    _QUERY_PART_QUOTER = _Quoter(safe=\"?/:@\", qs=True, requote=False)\r\n  File \"yarl/_quoting.pyx\", line 192, in yarl._quoting._Quoter.__init__\r\nTypeError: __init__() got an unexpected keyword argument 'requote'\r\n```\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\nPython 3.6.9, Ubuntu 18.04 LTS", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5222", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5222/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5222/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5222/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5222", "id": 677010247, "node_id": "MDU6SXNzdWU2NzcwMTAyNDc=", "number": 5222, "title": "[Commands] Bot.logout() throws an exception", "user": {"login": "alkatar21", "id": 61387986, "node_id": "MDQ6VXNlcjYxMzg3OTg2", "avatar_url": "https://avatars0.githubusercontent.com/u/61387986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alkatar21", "html_url": "https://github.com/alkatar21", "followers_url": "https://api.github.com/users/alkatar21/followers", "following_url": "https://api.github.com/users/alkatar21/following{/other_user}", "gists_url": "https://api.github.com/users/alkatar21/gists{/gist_id}", "starred_url": "https://api.github.com/users/alkatar21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alkatar21/subscriptions", "organizations_url": "https://api.github.com/users/alkatar21/orgs", "repos_url": "https://api.github.com/users/alkatar21/repos", "events_url": "https://api.github.com/users/alkatar21/events{/privacy}", "received_events_url": "https://api.github.com/users/alkatar21/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-11T16:15:29Z", "updated_at": "2020-08-11T16:44:33Z", "closed_at": "2020-08-11T16:44:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhile I was reporting another bug, I saw that 1.4 was released, thanks for that.\r\n\r\nI simply trying to shut down the bot via command after updating form 1.3.4 to 1.4.1 but an error occurs.\r\n\r\nNote: However, it is not clear to me why I cannot find the exact position while debugging and the programm is terminating unfinished.\r\n\r\n### Reproduction Steps\r\n\r\n```py\r\nimport logging\r\nfrom discord.ext.commands import Bot\r\nfrom discord.ext.commands import Context\r\n\r\nlogging.basicConfig(level=logging.INFO)\r\n\r\nif __name__ == '__main__':\r\n    b = Bot('!')\r\n\r\n    @b.command()\r\n    async def quit(ctx: Context):\r\n        await ctx.send('Bye.')\r\n        await ctx.bot.logout()\r\n        return\r\n\r\n    b.run(<Token>)\r\n```\r\n\r\n### Expected Results\r\n\r\nA normal shutdown of the bot and that it is immediately offline in discord.\r\n\r\n### Actual Results\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n```\r\nINFO:discord.gateway:Websocket closed with 1000, cannot reconnect.\r\nINFO:discord.client:Cleaning up tasks.\r\nINFO:discord.client:Closing the event loop.\r\nException ignored in: <function _ProactorBasePipeTransport.__del__ at 0x0000019AB4C88310>\r\nTraceback (most recent call last):\r\n  File \"<Path>\\Anaconda3\\envs\\env\\lib\\asyncio\\proactor_events.py\", line 116, in __del__\r\n    self.close()\r\n  File \"<Path>\\Anaconda3\\envs\\env\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n    self._loop.call_soon(self._call_connection_lost, None)\r\n  File \"<Path>\\Anaconda3\\envs\\env\\lib\\asyncio\\base_events.py\", line 719, in call_soon\r\n    self._check_closed()\r\n  File \"<Path>\\Anaconda3\\envs\\env\\lib\\asyncio\\base_events.py\", line 508, in _check_closed\r\n    raise RuntimeError('Event loop is closed')\r\nRuntimeError: Event loop is closed\r\n```\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\ndiscord.py-1.4.1\r\npython-3.8.3\r\naiohttp-3.6.2\r\nWindows10\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5220", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5220/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5220/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5220/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5220", "id": 676404532, "node_id": "MDU6SXNzdWU2NzY0MDQ1MzI=", "number": 5220, "title": "Mute_members permission Not Fully Working", "user": {"login": "NOcode1", "id": 30739038, "node_id": "MDQ6VXNlcjMwNzM5MDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/30739038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NOcode1", "html_url": "https://github.com/NOcode1", "followers_url": "https://api.github.com/users/NOcode1/followers", "following_url": "https://api.github.com/users/NOcode1/following{/other_user}", "gists_url": "https://api.github.com/users/NOcode1/gists{/gist_id}", "starred_url": "https://api.github.com/users/NOcode1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NOcode1/subscriptions", "organizations_url": "https://api.github.com/users/NOcode1/orgs", "repos_url": "https://api.github.com/users/NOcode1/repos", "events_url": "https://api.github.com/users/NOcode1/events{/privacy}", "received_events_url": "https://api.github.com/users/NOcode1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-10T20:42:59Z", "updated_at": "2020-08-10T20:52:53Z", "closed_at": "2020-08-10T20:51:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen a user has the mute members permission discord.py does not recognize it.\r\n\r\n### Reproduction Steps\r\n\r\n```python\r\n@client.command()\r\n@commands.has_permissions(mute_members=True)\r\nasync def mute(ctx, member: discord.member):\r\n    member_id = member.id\r\n    embed = discord.Embed(title=f'Muted {member.mention}')\r\n    await ctx.send(embed=embed)\r\n    with open(\"mute.json\", \"r\") as f:\r\n        mute = json.load(f)\r\n\r\n    mute[str(member_id)] = f'{member_id}'\r\n    with open(\"mute.json\", 'w') as f:\r\n        json.dump(mute, f, indent=4)\r\n```\r\nMake a command with the mute_members to true. I made sure I have the permissions multiple times.\r\n\r\n### Expected Results\r\n\r\nThe command works without console/terminal errors.\r\n\r\n### Actual Results\r\n\r\nError:\r\nIgnoring exception in command mute:\r\nTraceback (most recent call last):\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/ext/commands/bot.py\", line 892, in invoke\r\n    await ctx.command.invoke(ctx)\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 790, in invoke\r\n    await self.prepare(ctx)\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 743, in prepare\r\n    if not await self.can_run(ctx):\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 1011, in can_run\r\n    return await discord.utils.async_all(predicate(ctx) for predicate in predicates)\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/utils.py\", line 324, in async_all\r\n    for elem in gen:\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 1011, in <genexpr>\r\n    return await discord.utils.async_all(predicate(ctx) for predicate in predicates)\r\n  File \"/home/super_user_oppy/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 1674, in predicate\r\n    raise MissingPermissions(missing)\r\ndiscord.ext.commands.errors.MissingPermissions: You are missing Mute Members permission(s) to run this command.\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [ X ] I have searched the open issues for duplicates.\r\n- [ X ] I have shown the entire traceback, if possible.\r\n- [ X ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.2-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.4.0-42-generic #46-Ubuntu SMP Fri Jul 10 00:24:02 UTC 2020\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5218", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5218/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5218/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5218/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5218", "id": 676111602, "node_id": "MDU6SXNzdWU2NzYxMTE2MDI=", "number": 5218, "title": "Discord Bot is not working", "user": {"login": "Jotohd", "id": 69465591, "node_id": "MDQ6VXNlcjY5NDY1NTkx", "avatar_url": "https://avatars2.githubusercontent.com/u/69465591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jotohd", "html_url": "https://github.com/Jotohd", "followers_url": "https://api.github.com/users/Jotohd/followers", "following_url": "https://api.github.com/users/Jotohd/following{/other_user}", "gists_url": "https://api.github.com/users/Jotohd/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jotohd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jotohd/subscriptions", "organizations_url": "https://api.github.com/users/Jotohd/orgs", "repos_url": "https://api.github.com/users/Jotohd/repos", "events_url": "https://api.github.com/users/Jotohd/events{/privacy}", "received_events_url": "https://api.github.com/users/Jotohd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-10T12:51:06Z", "updated_at": "2020-08-10T13:06:59Z", "closed_at": "2020-08-10T13:06:54Z", "author_association": "NONE", "active_lock_reason": "spam", "body": "### Summary\r\n\r\n<!-- A summary of your bug report -->\r\n\r\n### Reproduction Steps\r\n\r\n<!-- What you did to make it happen. Ideally there should be a short code snippet in this section to help reproduce the bug. -->\r\n\r\n### Expected Results\r\n\r\n<!-- What you expected to happen -->\r\n\r\n### Actual Results\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [ ] I have searched the open issues for duplicates.\r\n- [ ] I have shown the entire traceback, if possible.\r\n- [ ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5216", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5216/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5216/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5216/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5216", "id": 675669528, "node_id": "MDU6SXNzdWU2NzU2Njk1Mjg=", "number": 5216, "title": "Bot connection closed, bot still appears online", "user": {"login": "MaximeHouis", "id": 26308036, "node_id": "MDQ6VXNlcjI2MzA4MDM2", "avatar_url": "https://avatars0.githubusercontent.com/u/26308036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaximeHouis", "html_url": "https://github.com/MaximeHouis", "followers_url": "https://api.github.com/users/MaximeHouis/followers", "following_url": "https://api.github.com/users/MaximeHouis/following{/other_user}", "gists_url": "https://api.github.com/users/MaximeHouis/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaximeHouis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaximeHouis/subscriptions", "organizations_url": "https://api.github.com/users/MaximeHouis/orgs", "repos_url": "https://api.github.com/users/MaximeHouis/repos", "events_url": "https://api.github.com/users/MaximeHouis/events{/privacy}", "received_events_url": "https://api.github.com/users/MaximeHouis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 397573190, "node_id": "MDU6TGFiZWwzOTc1NzMxOTA=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/no%20repro", "name": "no repro", "color": "fef2c0", "default": false, "description": "Cannot be reproduced."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-09T09:40:13Z", "updated_at": "2020-08-09T10:03:38Z", "closed_at": "2020-08-09T09:46:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nIn version `1.4.0`, I couldn't use `await bot.close()` to terminate a Discord connection. Version `1.4.1` fixed this problem (#5207) but the bot still appears online in the member list of a guild after the connection has been closed and the program has been terminated.\r\n\r\n### Reproduction Steps\r\n\r\nHere is a minimal code I could use to reproduce the bug:\r\n```py\r\nimport logging\r\nimport asyncio\r\n\r\nimport discord\r\nfrom discord.ext import commands\r\n\r\nlogging.basicConfig(level=logging.INFO)\r\nbot = commands.Bot(command_prefix='>>')\r\n\r\n@bot.event\r\nasync def on_ready():\r\n    \"\"\"Close the bot 3 seconds after it's ready, just for the sake of the example.\"\"\"\r\n    await asyncio.sleep(3)\r\n    await bot.close()\r\n\r\nbot.run(TOKEN)\r\n```\r\n\r\n### Expected Results\r\n\r\nI would expected the bot to appear offline once the `bot.close()` coroutine has been called, as it did in versions `1.3.x`\r\n\r\n### Actual Results\r\n\r\nThe bot stops, function `bot.run(TOKEN)` returns and program closes successfully, but the bot still appears \"online\" in a guild / in DMs.  \r\nHere are the logs I got with my previous example:\r\n```\r\nINFO:discord.client:logging in using static token\r\nINFO:discord.gateway:Shard ID None has sent the IDENTIFY payload.\r\nINFO:discord.gateway:Shard ID None has connected to Gateway: [...] (Session ID: XXX).\r\nINFO:discord.gateway:Websocket closed with 1000, cannot reconnect.\r\nINFO:discord.client:Cleaning up tasks.\r\nINFO:discord.client:Closing the event loop.\r\n```\r\n*I suppressed output from the 'Shard ID None has connected to Gateway' line as I don't know if that could contain sensible information. I would be glad to share it privately if needed, or make it public if it does not contain sensitive information.*\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\nI've tried on two systems (same behavior):\r\n\r\nArch Linux:\r\n```\r\n- Python v3.8.5-final\r\n- discord.py v1.4.1-final\r\n- aiohttp v3.6.2\r\n- system info: Linux 5.7.11-arch1-1 #1 SMP PREEMPT Wed, 29 Jul 2020 21:38:21 +0000\r\n```\r\nUbuntu Server:\r\n```\r\n- Python v3.8.0-final\r\n- discord.py v1.4.1-final\r\n- aiohttp v3.6.2\r\n- system info: Linux 4.15.0-112-generic #113-Ubuntu SMP Thu Jul 9 23:41:39 UTC 2020\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5215", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5215/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5215/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5215/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5215", "id": 675555645, "node_id": "MDU6SXNzdWU2NzU1NTU2NDU=", "number": 5215, "title": "Able to see all channels", "user": {"login": "ELginas", "id": 42967362, "node_id": "MDQ6VXNlcjQyOTY3MzYy", "avatar_url": "https://avatars3.githubusercontent.com/u/42967362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ELginas", "html_url": "https://github.com/ELginas", "followers_url": "https://api.github.com/users/ELginas/followers", "following_url": "https://api.github.com/users/ELginas/following{/other_user}", "gists_url": "https://api.github.com/users/ELginas/gists{/gist_id}", "starred_url": "https://api.github.com/users/ELginas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ELginas/subscriptions", "organizations_url": "https://api.github.com/users/ELginas/orgs", "repos_url": "https://api.github.com/users/ELginas/repos", "events_url": "https://api.github.com/users/ELginas/events{/privacy}", "received_events_url": "https://api.github.com/users/ELginas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-08T16:58:44Z", "updated_at": "2020-08-08T17:12:34Z", "closed_at": "2020-08-08T17:10:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\r\n\r\nUsing `guild.channels` you get ALL channels, including private ones. So you can get a lot of information in this way. Also, you don't need ANY permissions.\r\n\r\n### Reproduction Steps\r\n\r\n`guild.channels`\r\n\r\n### Expected Results\r\n\r\nIt should return only channels visible to bot.\r\n\r\n### Actual Results\r\n\r\nIt returns ALL channels, including ones which bot shouldn't have access to.\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [ ] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\nWindows, Python 3.7, discord.py 1.3.4\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5211", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5211/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5211/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5211/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5211", "id": 674571011, "node_id": "MDU6SXNzdWU2NzQ1NzEwMTE=", "number": 5211, "title": "bot.close() function does not work", "user": {"login": "AlabalikTR", "id": 52682610, "node_id": "MDQ6VXNlcjUyNjgyNjEw", "avatar_url": "https://avatars0.githubusercontent.com/u/52682610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlabalikTR", "html_url": "https://github.com/AlabalikTR", "followers_url": "https://api.github.com/users/AlabalikTR/followers", "following_url": "https://api.github.com/users/AlabalikTR/following{/other_user}", "gists_url": "https://api.github.com/users/AlabalikTR/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlabalikTR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlabalikTR/subscriptions", "organizations_url": "https://api.github.com/users/AlabalikTR/orgs", "repos_url": "https://api.github.com/users/AlabalikTR/repos", "events_url": "https://api.github.com/users/AlabalikTR/events{/privacy}", "received_events_url": "https://api.github.com/users/AlabalikTR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T20:08:51Z", "updated_at": "2020-08-06T20:43:27Z", "closed_at": "2020-08-06T20:43:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before I updated discord.py to 1.4.0 stable version (I was using 1.4.0 development version), my restart command which uses bot.close() function was working \r\nAfter I updated it to stable, when I used await bot.close() nothing happened. I updated it back to development version. This time, I get error.\r\n\r\nTraceback:\r\n`Exception ignored in: <function _ProactorBasePipeTransport.__del__ at 0x000001DC090DBA60>\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 116, in __del__\r\n    self.close()\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n    self._loop.call_soon(self._call_connection_lost, None)\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 719, in call_soon\r\n    self._check_closed()\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 508, in _check_closed\r\n    raise RuntimeError('Event loop is closed')\r\nRuntimeError: Event loop is closed\r\nException ignored in: <function _ProactorBasePipeTransport.__del__ at 0x000001DC090DBA60>\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 116, in __del__\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 719, in call_soon\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 508, in _check_closed\r\nRuntimeError: Event loop is closed\r\nException ignored in: <function _ProactorBasePipeTransport.__del__ at 0x000001DC090DBA60>\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 116, in __del__\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 719, in call_soon\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 508, in _check_closed\r\nRuntimeError: Event loop is closed`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5210", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5210/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5210/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5210/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5210", "id": 674568248, "node_id": "MDU6SXNzdWU2NzQ1NjgyNDg=", "number": 5210, "title": "Embed.Empty functionality does not work as expected.", "user": {"login": "parafoxia", "id": 43846948, "node_id": "MDQ6VXNlcjQzODQ2OTQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/43846948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parafoxia", "html_url": "https://github.com/parafoxia", "followers_url": "https://api.github.com/users/parafoxia/followers", "following_url": "https://api.github.com/users/parafoxia/following{/other_user}", "gists_url": "https://api.github.com/users/parafoxia/gists{/gist_id}", "starred_url": "https://api.github.com/users/parafoxia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parafoxia/subscriptions", "organizations_url": "https://api.github.com/users/parafoxia/orgs", "repos_url": "https://api.github.com/users/parafoxia/repos", "events_url": "https://api.github.com/users/parafoxia/events{/privacy}", "received_events_url": "https://api.github.com/users/parafoxia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-06T20:03:42Z", "updated_at": "2020-08-07T05:07:55Z", "closed_at": "2020-08-07T05:07:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nAccording to the documentation for `set_thumbnail` and `set_image`:\r\n\r\n> Changed in version 1.4: Passing Empty removes the thumbnail.\r\n\r\nThis does not function as expected. `set_author` and `set_footer` do not share the same problem.\r\n\r\n### Reproduction Steps\r\n\r\n```\r\nembed = discord.Embed(...)\r\nembed.set_thumbnail(url=Embed.Empty)\r\nembed.set_image(url=Embed.Empty)\r\n```\r\n\r\n### Expected Results\r\n\r\nThe thumbnail and image both appear unset.\r\n\r\n### Actual Results\r\n\r\n```\r\n_ClientEventTask exception was never retrieved\r\nfuture: <ClientEventTask state=finished event=on_command_error coro=<bound method Bot.on_command_error of <s4.bot.bot.Bot object at 0x000001E116E814F0>> exception=AttributeError('_thumbnail')>\r\nTraceback (most recent call last):\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\.venv\\lib\\site-packages\\discord\\client.py\", line 317, in _run_event\r\n    await self.on_error(event_name, *args, **kwargs)\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\s4\\bot\\bot.py\", line 103, in on_error\r\n    await error.error(err, *args, **kwargs)\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\.venv\\lib\\site-packages\\discord\\client.py\", line 312, in _run_event\r\n    await coro(*args, **kwargs)\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\s4\\bot\\bot.py\", line 107, in on_command_error\r\n    await error.command_error(ctx, exc)\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\s4\\bot\\cogs\\error.py\", line 124, in command_error\r\n    raise original\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\.venv\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 85, in wrapped\r\n    ret = await coro(*args, **kwargs)\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\s4\\bot\\cogs\\meta.py\", line 160, in botinfo_command\r\n    embed=self.bot.embed.build(\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\s4\\utils\\embed.py\", line 35, in build\r\n    embed.set_thumbnail(url=Embed.Empty)\r\n  File \"D:\\Programs\\Python\\Discord Bots\\Bots\\S4\\.venv\\lib\\site-packages\\discord\\embeds.py\", line 328, in set_thumbnail\r\n    del self._thumbnail\r\nAttributeError: _thumbnail\r\n```\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.5-final\r\n- discord.py v1.4.0-final\r\n- aiohttp v3.6.2\r\n- system info: Windows 10 10.0.19041\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5209", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5209/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5209/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5209/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5209", "id": 674555373, "node_id": "MDU6SXNzdWU2NzQ1NTUzNzM=", "number": 5209, "title": "RunTime error upon closing connection to Discord.", "user": {"login": "parafoxia", "id": 43846948, "node_id": "MDQ6VXNlcjQzODQ2OTQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/43846948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parafoxia", "html_url": "https://github.com/parafoxia", "followers_url": "https://api.github.com/users/parafoxia/followers", "following_url": "https://api.github.com/users/parafoxia/following{/other_user}", "gists_url": "https://api.github.com/users/parafoxia/gists{/gist_id}", "starred_url": "https://api.github.com/users/parafoxia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parafoxia/subscriptions", "organizations_url": "https://api.github.com/users/parafoxia/orgs", "repos_url": "https://api.github.com/users/parafoxia/repos", "events_url": "https://api.github.com/users/parafoxia/events{/privacy}", "received_events_url": "https://api.github.com/users/parafoxia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-06T19:38:50Z", "updated_at": "2020-08-07T01:07:54Z", "closed_at": "2020-08-07T01:07:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nOn closing the connection to Discord, it sometimes throws a `RuntimeError: Event loop is closed`. From what I've seen, this happens about 90% of the time. I've tested it using CTRL+C to shut the bot down, but not with a shutdown command. (EDIT: A friend gets this same issue using the `logout()` method as explained in a below comment).\r\n\r\n### Reproduction Steps\r\n\r\nIt's happened in a few different scenarios, but this is enough to set it off from what I've seen.\r\n```\r\nasync def shutdown(self):\r\n        print(\" Closing connection to Discord...\")\r\n        await super().close()\r\n\r\nasync def close(self):\r\n        print(\"Closing on keyboard interrupt...\")\r\n        await self.shutdown()\r\n```\r\n\r\n### Expected Results\r\n\r\nThe bot closes it's connection to Discord. This does sometimes happen perfectly fine.\r\n\r\n### Actual Results\r\n\r\nThis error:\r\n```\r\nUnclosed client session\r\nclient_session: <aiohttp.client.ClientSession object at 0x0000014D19B61280>\r\nException ignored in: <function _ProactorBasePipeTransport.__del__ at 0x0000014D18E1FC10>\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python38\\lib\\asyncio\\proactor_events.py\", line 116, in __del__\r\n    self.close()\r\n  File \"C:\\Program Files\\Python38\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n    self._loop.call_soon(self._call_connection_lost, None)\r\n  File \"C:\\Program Files\\Python38\\lib\\asyncio\\base_events.py\", line 719, in call_soon\r\n    self._check_closed()\r\n  File \"C:\\Program Files\\Python38\\lib\\asyncio\\base_events.py\", line 508, in _check_closed\r\n    raise RuntimeError('Event loop is closed')\r\nRuntimeError: Event loop is closed\r\n```\r\nThe program does always exit, but I feel like this error isn't supposed to happen, especially as it doesn't occur in versions 1.3.4 and below.\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.5-final\r\n- discord.py v1.4.0-final\r\n- aiohttp v3.6.2\r\n- system info: Windows 10 10.0.19041\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5207", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5207/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5207/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5207/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5207", "id": 674263485, "node_id": "MDU6SXNzdWU2NzQyNjM0ODU=", "number": 5207, "title": "Can't close discord connection", "user": {"login": "TheOneMusic", "id": 44474247, "node_id": "MDQ6VXNlcjQ0NDc0MjQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/44474247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheOneMusic", "html_url": "https://github.com/TheOneMusic", "followers_url": "https://api.github.com/users/TheOneMusic/followers", "following_url": "https://api.github.com/users/TheOneMusic/following{/other_user}", "gists_url": "https://api.github.com/users/TheOneMusic/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheOneMusic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheOneMusic/subscriptions", "organizations_url": "https://api.github.com/users/TheOneMusic/orgs", "repos_url": "https://api.github.com/users/TheOneMusic/repos", "events_url": "https://api.github.com/users/TheOneMusic/events{/privacy}", "received_events_url": "https://api.github.com/users/TheOneMusic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-06T12:09:12Z", "updated_at": "2020-08-06T20:43:37Z", "closed_at": "2020-08-06T13:56:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nThank you everyone for releasing `discord.py` version 1.4 (final), you are amazing. However, with this new version, I am enable to close the discord connection with my bot. Here is a minimal reproducible example:\r\n\r\nFile: **main.py**\r\n```python\r\nimport discord, asyncio\r\nfrom discord.ext import commands\r\n\r\nbot = commands.Bot(\"!\")\r\n\r\nif __name__ == \"__main__\":\r\n    bot.load_extension(\"cogs.owner\")\r\n    bot.run(TOKEN)\r\n```\r\n\r\nFile: **cogs/owner.py**\r\n```python\r\nimport discord, asyncio\r\nfrom discord.ext import commands\r\n\r\nclass Owner(commands.Cog):\r\n    def __init__(self, bot):\r\n        self.bot = bot\r\n\r\n    @commands.command()\r\n    @commands.is_owner()\r\n    async def shutdown(self, ctx):\r\n        await self.bot.close()\r\n\r\ndef setup(bot):\r\n    bot.add_cog(Owner(bot))\r\n```\r\n\r\nNow when I run the `shutdown` command, the whole program just freezes (it doesn't terminate) and the fans on my computer start to spin faster. The bot still appears online but is not responding. This is weird, as everything worked alright before the update.\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5206", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5206/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5206/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5206/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5206", "id": 673985463, "node_id": "MDU6SXNzdWU2NzM5ODU0NjM=", "number": 5206, "title": "Task-2 failed", "user": {"login": "Mazen001", "id": 53391982, "node_id": "MDQ6VXNlcjUzMzkxOTgy", "avatar_url": "https://avatars1.githubusercontent.com/u/53391982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mazen001", "html_url": "https://github.com/Mazen001", "followers_url": "https://api.github.com/users/Mazen001/followers", "following_url": "https://api.github.com/users/Mazen001/following{/other_user}", "gists_url": "https://api.github.com/users/Mazen001/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mazen001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mazen001/subscriptions", "organizations_url": "https://api.github.com/users/Mazen001/orgs", "repos_url": "https://api.github.com/users/Mazen001/repos", "events_url": "https://api.github.com/users/Mazen001/events{/privacy}", "received_events_url": "https://api.github.com/users/Mazen001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-06T03:26:34Z", "updated_at": "2020-08-15T03:22:50Z", "closed_at": "2020-08-15T03:22:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "`RuntimeError: Task <Task pending name='Task-2' coro=<Client.start() running at C:\\Users\\Users\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py:622> cb=[_run_until_complete_cb() at C:\\Users\\Users\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\base_events.py:184]> got Future <Future pending> attached to a different loop`\r\n\r\nWhen i defined the bot\u2019s variable, task-2 failed from client.py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5204", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5204/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5204/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5204/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5204", "id": 673944549, "node_id": "MDU6SXNzdWU2NzM5NDQ1NDk=", "number": 5204, "title": "Get Member.inviter as an addition to the functionality of member.", "user": {"login": "MySixSenses", "id": 66916362, "node_id": "MDQ6VXNlcjY2OTE2MzYy", "avatar_url": "https://avatars1.githubusercontent.com/u/66916362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MySixSenses", "html_url": "https://github.com/MySixSenses", "followers_url": "https://api.github.com/users/MySixSenses/followers", "following_url": "https://api.github.com/users/MySixSenses/following{/other_user}", "gists_url": "https://api.github.com/users/MySixSenses/gists{/gist_id}", "starred_url": "https://api.github.com/users/MySixSenses/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MySixSenses/subscriptions", "organizations_url": "https://api.github.com/users/MySixSenses/orgs", "repos_url": "https://api.github.com/users/MySixSenses/repos", "events_url": "https://api.github.com/users/MySixSenses/events{/privacy}", "received_events_url": "https://api.github.com/users/MySixSenses/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-06T01:16:31Z", "updated_at": "2020-08-06T01:33:20Z", "closed_at": "2020-08-06T01:30:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\n<!--\r\nWhat problem is your feature trying to solve? What becomes easier or possible when this feature is implemented?\r\n-->\r\nI would like a feature that adds to the functionality of Member by adding an attribute to member which shows the last member to invite the Member.\r\n### The Ideal Solution\r\n```\r\nprint(\"str(Member.inviter)\") #returns ExampleUser#0001\r\n```\r\n<!--\r\nWhat is your ideal solution to the problem? What would you like this feature to do?\r\n-->\r\n\r\n### The Current Solution\r\n```\r\nimport asyncio\r\nimport datetime\r\nimport json\r\nimport os\r\nimport commands\r\n\r\nclient = discord.Client()\r\ncfg = open(\"config.json\", \"r\")\r\ntmpconfig = cfg.read()\r\ncfg.close()\r\nconfig = json.loads(tmpconfig)\r\n\r\ntoken = config[\"token\"]\r\nguild_id = config[\"server-id\"]\r\nlogs_channel = config[\"logs-channel-id\"]\r\n\r\n\r\ninvites = {}\r\nlast = \"\"\r\n\r\nasync def fetch():\r\n global last\r\n global invites\r\n await client.wait_until_ready()\r\n gld = client.get_guild(int(guild_id))\r\n logs = client.get_channel(int(logs_channel))\r\n while True:\r\n  invs = await gld.invites()\r\n  tmp = []\r\n  for i in invs:\r\n   for s in invites:\r\n    if s[0] == i.code:\r\n     if int(i.uses) > s[1]:\r\n      usr = gld.get_member(int(last))\r\n      testh = f\"{usr.name} **joined**; Invited by **{i.inviter.name}** (**{str(i.uses)}** invites)\"\r\n      await logs.send(testh)\r\n   tmp.append(tuple((i.code, i.uses)))\r\n  invites = tmp\r\n  await asyncio.sleep(4)\r\n\r\n\r\n@client.event\r\nasync def on_ready():\r\n print(\"ready!\")\r\n\r\n\r\n\r\n@client.event\r\nasync def on_member_join(meme):\r\n global last\r\n last = str(meme.id)\r\n\r\n\r\n\r\n\r\nclient.loop.create_task(fetch())\r\nclient.run(token)\r\n```\r\n\r\n<!--\r\nWhat is the current solution to the problem, if any?\r\n-->\r\n\r\n### Summary\r\n\r\n<!-- A short summary of your feature request. -->\r\nTL;DR:\r\nNew feature to member called inviter which shows the last member to invite someone in a guild.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5198", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5198/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5198/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5198/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5198", "id": 673483278, "node_id": "MDU6SXNzdWU2NzM0ODMyNzg=", "number": 5198, "title": "[Commands] Context.subcommand_passed is not filled correct in subgroups", "user": {"login": "alkatar21", "id": 61387986, "node_id": "MDQ6VXNlcjYxMzg3OTg2", "avatar_url": "https://avatars0.githubusercontent.com/u/61387986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alkatar21", "html_url": "https://github.com/alkatar21", "followers_url": "https://api.github.com/users/alkatar21/followers", "following_url": "https://api.github.com/users/alkatar21/following{/other_user}", "gists_url": "https://api.github.com/users/alkatar21/gists{/gist_id}", "starred_url": "https://api.github.com/users/alkatar21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alkatar21/subscriptions", "organizations_url": "https://api.github.com/users/alkatar21/orgs", "repos_url": "https://api.github.com/users/alkatar21/repos", "events_url": "https://api.github.com/users/alkatar21/events{/privacy}", "received_events_url": "https://api.github.com/users/alkatar21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10", "html_url": "https://github.com/Rapptz/discord.py/milestone/10", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10/labels", "id": 5273240, "node_id": "MDk6TWlsZXN0b25lNTI3MzI0MA==", "number": 10, "title": "1.4", "description": "", "creator": {"login": "Rapptz", "id": 1695103, "node_id": "MDQ6VXNlcjE2OTUxMDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1695103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rapptz", "html_url": "https://github.com/Rapptz", "followers_url": "https://api.github.com/users/Rapptz/followers", "following_url": "https://api.github.com/users/Rapptz/following{/other_user}", "gists_url": "https://api.github.com/users/Rapptz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rapptz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rapptz/subscriptions", "organizations_url": "https://api.github.com/users/Rapptz/orgs", "repos_url": "https://api.github.com/users/Rapptz/repos", "events_url": "https://api.github.com/users/Rapptz/events{/privacy}", "received_events_url": "https://api.github.com/users/Rapptz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2020-04-04T06:24:09Z", "updated_at": "2020-08-06T04:03:45Z", "due_on": null, "closed_at": "2020-08-06T04:03:45Z"}, "comments": 0, "created_at": "2020-08-05T11:57:59Z", "updated_at": "2020-08-05T12:37:46Z", "closed_at": "2020-08-05T12:37:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nIf I use a `@group` in a `@group` the parameter `subcommand_passed` is not filled correctly if no command is given.\r\n\r\n### Reproduction Steps\r\nRun the following Code:\r\n```py\r\nfrom discord.ext.commands import Cog, Bot, Context\r\nfrom discord.ext import commands\r\n\r\nclass Reproduction(Cog):\r\n    @commands.group()\r\n    async def show(self, ctx: Context):\r\n        print(f\"show: {ctx.subcommand_passed}\")\r\n        return\r\n\r\n    @show.group()\r\n    async def this(self, ctx: Context):\r\n        print(f\"this: {ctx.subcommand_passed}\")\r\n        return\r\n\r\n    @this.command()\r\n    async def problem(self, ctx: Context):\r\n        return\r\n\r\nif __name__ == '__main__':\r\n    b = Bot('!')\r\n    b.add_cog(Reproduction())\r\n    b.run(<Token>)\r\n```\r\n\r\n### Expected Results\r\n\r\nUser: !show\r\n`show: None`\r\nUser: !show this\r\n```\r\nshow: this\r\nthis: None\r\n```\r\nUser: !show this problem\r\n```\r\nshow: this\r\nthis: problem\r\n```\r\nUser: !show this dummy\r\n```\r\nshow: this\r\nthis: dummy\r\n```\r\n\r\n\r\n### Actual Results\r\n\r\nUser: !show\r\n`show: None`\r\nUser: !show this\r\n```\r\nshow: this\r\nthis: this   <- expect None\r\n```\r\nUser: !show this problem\r\n```\r\nshow: this\r\nthis: problem\r\n```\r\nUser: !show this dummy\r\n```\r\nshow: this\r\nthis: dummy\r\n```\r\n\r\n### Checklist\r\n- [x] I have searched the open issues for duplicates. (Not checked for Version 1.4)\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\nPython==3.8.3 and discord.py==1.3.4\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5192", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5192/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5192/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5192/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5192", "id": 673247950, "node_id": "MDU6SXNzdWU2NzMyNDc5NTA=", "number": 5192, "title": "\"io.UnsupportedOperation: fileno\" when using discord.FFmpegPCMAudio", "user": {"login": "Armster15", "id": 49625265, "node_id": "MDQ6VXNlcjQ5NjI1MjY1", "avatar_url": "https://avatars3.githubusercontent.com/u/49625265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Armster15", "html_url": "https://github.com/Armster15", "followers_url": "https://api.github.com/users/Armster15/followers", "following_url": "https://api.github.com/users/Armster15/following{/other_user}", "gists_url": "https://api.github.com/users/Armster15/gists{/gist_id}", "starred_url": "https://api.github.com/users/Armster15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Armster15/subscriptions", "organizations_url": "https://api.github.com/users/Armster15/orgs", "repos_url": "https://api.github.com/users/Armster15/repos", "events_url": "https://api.github.com/users/Armster15/events{/privacy}", "received_events_url": "https://api.github.com/users/Armster15/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-05T04:40:53Z", "updated_at": "2020-08-05T21:18:12Z", "closed_at": "2020-08-05T21:18:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI get a `io.UnsupportedOperation: fileno` when trying to create a `discord.FFmpegPCMAudio` object from a `BytesIO` object\r\n\r\n### Reproduction Steps\r\nBelow is a TTS command I am attempting to make. I am using the `gTTS` library to do this. Nothing wrong on the library's side - I wrote the output to a mp3 and it works as intended.\r\n\r\n```python\r\n@bot.command(name=\"speak\")\r\n@commands.guild_only()\r\nasync def speak(ctx, *args):\r\n    msg = \"\".join(args)\r\n\r\n    text = gTTS(text=msg, lang=\"en\", slow=False)\r\n    mp3_fp = BytesIO()\r\n    text.write_to_fp(mp3_fp)\r\n    text.save(\"audio.mp3\")\r\n    mp3_fp.seek(0)\r\n\r\n    author = ctx.message.author\r\n    channel = author.voice.channel\r\n    vc = await channel.connect()\r\n\r\n    file = discord.FFmpegPCMAudio(mp3_fp, pipe = True)\r\n    if not vc.is_playing():\r\n        await ctx.send(file)\r\n        vc.play(file)\r\n```\r\n\r\nI get the error when I specify the `pipe = True` part\r\n\r\n### Actual Results\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n```python\r\nIgnoring exception in command speak:\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 83, in wrapped\r\n    ret = await coro(*args, **kwargs)\r\n  File \"C:/Users/User/Desktop/Discord Bots/Voice Disguiser/disguiser.py\", line 48, in speak\r\n    file = discord.FFmpegPCMAudio(mp3_fp, pipe=True)\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\player.py\", line 220, in __init__\r\n    super().__init__(source, executable=executable, args=args, **subprocess_kwargs)\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\player.py\", line 133, in __init__\r\n    self._process = self._spawn_process(args, **kwargs)\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\player.py\", line 139, in _spawn_process\r\n    process = subprocess.Popen(args, **subprocess_kwargs)\r\n  File \"C:\\Python36\\lib\\subprocess.py\", line 687, in __init__\r\n    errread, errwrite) = self._get_handles(stdin, stdout, stderr)\r\n  File \"C:\\Python36\\lib\\subprocess.py\", line 924, in _get_handles\r\n    p2cread = msvcrt.get_osfhandle(stdin.fileno())\r\nio.UnsupportedOperation: fileno\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\ext\\commands\\bot.py\", line 892, in invoke\r\n    await ctx.command.invoke(ctx)\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 797, in invoke\r\n    await injected(*ctx.args, **ctx.kwargs)\r\n  File \"C:\\Python36\\lib\\site-packages\\discord\\ext\\commands\\core.py\", line 92, in wrapped\r\n    raise CommandInvokeError(exc) from exc\r\ndiscord.ext.commands.errors.CommandInvokeError: Command raised an exception: UnsupportedOperation: fileno\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5191", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5191/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5191/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5191/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5191", "id": 673244306, "node_id": "MDU6SXNzdWU2NzMyNDQzMDY=", "number": 5191, "title": "socket.gaierror: [Errno 11001] getaddrinfo failed", "user": {"login": "ashitamo", "id": 52968572, "node_id": "MDQ6VXNlcjUyOTY4NTcy", "avatar_url": "https://avatars3.githubusercontent.com/u/52968572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashitamo", "html_url": "https://github.com/ashitamo", "followers_url": "https://api.github.com/users/ashitamo/followers", "following_url": "https://api.github.com/users/ashitamo/following{/other_user}", "gists_url": "https://api.github.com/users/ashitamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashitamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashitamo/subscriptions", "organizations_url": "https://api.github.com/users/ashitamo/orgs", "repos_url": "https://api.github.com/users/ashitamo/repos", "events_url": "https://api.github.com/users/ashitamo/events{/privacy}", "received_events_url": "https://api.github.com/users/ashitamo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10", "html_url": "https://github.com/Rapptz/discord.py/milestone/10", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10/labels", "id": 5273240, "node_id": "MDk6TWlsZXN0b25lNTI3MzI0MA==", "number": 10, "title": "1.4", "description": "", "creator": {"login": "Rapptz", "id": 1695103, "node_id": "MDQ6VXNlcjE2OTUxMDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1695103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rapptz", "html_url": "https://github.com/Rapptz", "followers_url": "https://api.github.com/users/Rapptz/followers", "following_url": "https://api.github.com/users/Rapptz/following{/other_user}", "gists_url": "https://api.github.com/users/Rapptz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rapptz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rapptz/subscriptions", "organizations_url": "https://api.github.com/users/Rapptz/orgs", "repos_url": "https://api.github.com/users/Rapptz/repos", "events_url": "https://api.github.com/users/Rapptz/events{/privacy}", "received_events_url": "https://api.github.com/users/Rapptz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2020-04-04T06:24:09Z", "updated_at": "2020-08-06T04:03:45Z", "due_on": null, "closed_at": "2020-08-06T04:03:45Z"}, "comments": 1, "created_at": "2020-08-05T04:29:55Z", "updated_at": "2020-08-05T08:34:27Z", "closed_at": "2020-08-05T08:34:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### socket.gaierror: [Errno 11001] \r\ni got this error:\r\n\r\n    Task exception was never retrieved\r\n    future: <Task finished coro=<VoiceClient._create_socket() done, defined at D:\\Python\\lib\\site- \r\n    packages\\discord\\voice_client.py:172> exception=gaierror(11001, 'getaddrinfo failed')>\r\n    Traceback (most recent call last):\r\n      File \"D:\\Python\\lib\\site-packages\\discord\\voice_client.py\", line 192, in _create_socket\r\n        self.endpoint_ip = socket.gethostbyname(self.endpoint)\r\n    socket.gaierror: [Errno 11001] getaddrinfo failed\r\n\r\ni find it in './discord/voice_client.py'\r\n\r\n    self.endpoint = endpoint.replace(':80', '')\r\n    self.endpoint_ip = socket.gethostbyname(self.endpoint)\r\n\r\nchange\r\n\r\n    self.endpoint = endpoint.replace(':80', '').replace(':443','')\r\n    self.endpoint_ip = socket.gethostbyname(self.endpoint)\r\n\r\nit's working", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5185", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5185/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5185/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5185/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5185", "id": 672309212, "node_id": "MDU6SXNzdWU2NzIzMDkyMTI=", "number": 5185, "title": "Bot crash when joining a new guild", "user": {"login": "Katistic", "id": 33645731, "node_id": "MDQ6VXNlcjMzNjQ1NzMx", "avatar_url": "https://avatars2.githubusercontent.com/u/33645731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Katistic", "html_url": "https://github.com/Katistic", "followers_url": "https://api.github.com/users/Katistic/followers", "following_url": "https://api.github.com/users/Katistic/following{/other_user}", "gists_url": "https://api.github.com/users/Katistic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Katistic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Katistic/subscriptions", "organizations_url": "https://api.github.com/users/Katistic/orgs", "repos_url": "https://api.github.com/users/Katistic/repos", "events_url": "https://api.github.com/users/Katistic/events{/privacy}", "received_events_url": "https://api.github.com/users/Katistic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T20:00:13Z", "updated_at": "2020-08-03T20:09:40Z", "closed_at": "2020-08-03T20:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen adding bot account to a new guild while bot is running,\r\n  a TypeError occures in the discord.py library\r\n\r\n### Reproduction Steps\r\n\r\nHave a simple bot (it can do nothing, it just has to go online). In my case I hadn't overwritten anything to do with joining, leaving, or editing guilds. Add the bot to a new server using an OAuth2 URL\r\n\r\n```Python\r\nimport discord\r\nimport asyncio\r\n\r\nclass Client(discord.Client):\r\n    async def on_ready(self):\r\n        print(\"Logged in.\")\r\n\r\nbot = Client()\r\nbot.run(\"token\")\r\n```\r\n\r\n### Expected Results\r\n\r\nNothing to happen\r\n\r\n### Actual Results\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n\r\nReceived a TypeError\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 254, in <module>\r\n    bot = Client()\r\n  File \"main.py\", line 195, in __init__\r\n    loop.run_until_complete(self.start(startup_data))\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\base_events.py\", line 612, in run_until_complete\r\n    return future.result()\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 585, in start\r\n    await self.connect(reconnect=reconnect)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 499, in connect\r\n    await self._connect()\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 463, in _connect\r\n    await self.ws.poll_event()\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\gateway.py\", line 471, in poll_event\r\n    await self.received_message(msg)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\gateway.py\", line 425, in received_message\r\n    func(data)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\state.py\", line 750, in parse_guild_create\r\n    guild = self._get_create_guild(data)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\state.py\", line 728, in _get_create_guild\r\n    return self._add_guild_from_data(data)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\state.py\", line 274, in _add_guild_from_data\r\n    guild = Guild(data=guild, state=self)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\guild.py\", line 177, in __init__\r\n    self._from_data(data)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\guild.py\", line 297, in _from_data\r\n    self._sync(guild)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\guild.py\", line 324, in _sync    self._add_channel(TextChannel(guild=self, data=c, state=self._state))\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n  File \"C:\\Users\\Princess\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\abc.py\", line 294, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'deny_new'\r\n```\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n\r\nPython v3.7.6-final\r\ndiscord.py v1.3.4-final\r\naiohttp v3.6.2\r\nwebsockets v6.0\r\nsystem info: Windows 10 10.0.19041\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5182", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5182/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5182/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5182/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5182", "id": 671820978, "node_id": "MDU6SXNzdWU2NzE4MjA5Nzg=", "number": 5182, "title": "Get github username from discord integration", "user": {"login": "ArduinoidIOT", "id": 40311259, "node_id": "MDQ6VXNlcjQwMzExMjU5", "avatar_url": "https://avatars2.githubusercontent.com/u/40311259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArduinoidIOT", "html_url": "https://github.com/ArduinoidIOT", "followers_url": "https://api.github.com/users/ArduinoidIOT/followers", "following_url": "https://api.github.com/users/ArduinoidIOT/following{/other_user}", "gists_url": "https://api.github.com/users/ArduinoidIOT/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArduinoidIOT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArduinoidIOT/subscriptions", "organizations_url": "https://api.github.com/users/ArduinoidIOT/orgs", "repos_url": "https://api.github.com/users/ArduinoidIOT/repos", "events_url": "https://api.github.com/users/ArduinoidIOT/events{/privacy}", "received_events_url": "https://api.github.com/users/ArduinoidIOT/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2249469896, "node_id": "MDU6TGFiZWwyMjQ5NDY5ODk2", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/discord%20limitation", "name": "discord limitation", "color": "7289DA", "default": false, "description": "This can't be fixed because it's a discord limitation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-03T06:09:27Z", "updated_at": "2020-08-03T11:13:00Z", "closed_at": "2020-08-03T06:17:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nI'm trying to make a bot that gives a role to someone if they have contributed to a github repo\r\n\r\n### The Ideal Solution\r\nAdd an integrations attribute to the user/member class\r\n\r\n### The Current Solution\r\n\r\n<!--\r\nWhat is the current solution to the problem, if any?\r\n-->\r\n\r\n### Summary\r\nAdd an option to access all displayed integrations in discord.py\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5180", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5180/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5180/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5180/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5180", "id": 671075328, "node_id": "MDU6SXNzdWU2NzEwNzUzMjg=", "number": 5180, "title": "AutoShardedClient.run() does not return after AutoShardedClient.close() is called", "user": {"login": "NotMaxee", "id": 45785407, "node_id": "MDQ6VXNlcjQ1Nzg1NDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/45785407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotMaxee", "html_url": "https://github.com/NotMaxee", "followers_url": "https://api.github.com/users/NotMaxee/followers", "following_url": "https://api.github.com/users/NotMaxee/following{/other_user}", "gists_url": "https://api.github.com/users/NotMaxee/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotMaxee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotMaxee/subscriptions", "organizations_url": "https://api.github.com/users/NotMaxee/orgs", "repos_url": "https://api.github.com/users/NotMaxee/repos", "events_url": "https://api.github.com/users/NotMaxee/events{/privacy}", "received_events_url": "https://api.github.com/users/NotMaxee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-01T18:09:03Z", "updated_at": "2020-08-01T23:49:36Z", "closed_at": "2020-08-01T23:49:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen using `AutoShardedClient` (and by inheritance `AutoShardedBot`) manually closing the client using `AutoShardedClient.close()` closes the connection to Discord, but never actually causes ``AutoShardedClient.run()`` to return, preventing the program from terminating.\r\n\r\nThis is caused by an issue in `shard.py` inside `AutoShardedClient.connect()` ([shard.py, line 401](https://github.com/Rapptz/discord.py/blob/master/discord/shard.py#L401)) where the while-loop never actually terminates due to no more events being added to the internal queue, causing it to forever wait on the next item.\r\n\r\nWhen `AutoShardedClient.close()` is called, and all shards are closed, no further events are added to `AutoShardedClient.__queue`, causing the loop to wait indefinitely for the next item from the queue.\r\n\r\nA possible solution that I have found, although I don't know how good it is, is to add the following code to the end of the current `AutoShardedClient.close()` method, after the call to `await self.http.close()`:\r\n\r\n```\r\nself.__queue.put(EventItem(None, None, None))\r\n```\r\n\r\nThe event item is received from the queue, its type does not match any of `EventType` and thus directly leads into the next iteration of the loop, where the check in `while not self.is_closed()` causes the loop to exit, and `AutoShardedBot.connect()` to return.\r\n\r\n### Reproduction Steps\r\n\r\nThe following code is enough to reproduce the bug:\r\n\r\n```\r\nimport discord\r\n\r\ntoken = \"YOUR TOKEN GOES HERE\"\r\nclient = discord.AutoShardedClient()\r\n\r\n@client.event\r\nasync def on_ready():\r\n    print(\"calling client.close()\")\r\n    await client.close()\r\n    print(\"client.close() was called\")\r\n\r\nprint(\"calling client.run()\")\r\nclient.run(token)\r\nprint(\"this is never printed\")\r\n```\r\n\r\nThis prints the following, showcasing that the final `print()` after `client.run(token)` is never called.\r\n\r\n```\r\ncalling client.run()\r\ncalling client.close()\r\nclient.close() was called\r\n```\r\n\r\n### Expected Results\r\n\r\n`AutoShardedClient.run()` should return after a successful call to `AutoShardedClient.close()`.\r\n\r\n### Actual Results\r\n\r\n`AutoShardedClient.run()` blocks indefinitely, causing the program to never finish.\r\n\r\n### Checklist\r\n\r\n- [ x ] I have searched the open issues for duplicates.\r\n- [ x ] I have shown the entire traceback, if possible.\r\n- [ x ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.3-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2412+gb2065c9\r\n- aiohttp v3.6.2\r\n- system info: Windows 10 10.0.18362\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5174", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5174/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5174/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5174/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5174", "id": 669598917, "node_id": "MDU6SXNzdWU2Njk1OTg5MTc=", "number": 5174, "title": "Change documentation to be more upfront about what uses cache and make use of API calls in type hints", "user": {"login": "asleep-cult", "id": 65962434, "node_id": "MDQ6VXNlcjY1OTYyNDM0", "avatar_url": "https://avatars2.githubusercontent.com/u/65962434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asleep-cult", "html_url": "https://github.com/asleep-cult", "followers_url": "https://api.github.com/users/asleep-cult/followers", "following_url": "https://api.github.com/users/asleep-cult/following{/other_user}", "gists_url": "https://api.github.com/users/asleep-cult/gists{/gist_id}", "starred_url": "https://api.github.com/users/asleep-cult/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asleep-cult/subscriptions", "organizations_url": "https://api.github.com/users/asleep-cult/orgs", "repos_url": "https://api.github.com/users/asleep-cult/repos", "events_url": "https://api.github.com/users/asleep-cult/events{/privacy}", "received_events_url": "https://api.github.com/users/asleep-cult/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-31T09:11:43Z", "updated_at": "2020-08-01T01:24:50Z", "closed_at": "2020-08-01T01:24:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nCache rarely being mentioned in the documentation creates ambiguity as to what's acceptable in getting discord objects, for example get_user uses cache which requires the user to have a mutual guild with the bot for it to be cached in the first place but nowhere in the documentation is this mentioned. The discord.User type hint also seemingly uses get_user and never fetch_user which means the user must be in in a mutual guild even though it is simply a user and not a member! This can get very confusing at times. \r\n\r\n### The Ideal Solution\r\n\r\nThe documentation for get could be changed to mention that it uses cache and that a mutual guild is required to use it and the discord.<user/member etc..> type hints could also be changed to make use of fetch (try looking through cache then trying to use fetch) rather than solely depending on cache .\r\n\r\n### Summary\r\n\r\nChange documentation to be more upfront about what uses cache and make use of API calls in discord.<user/member etc...> type hints when needed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5173", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5173/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5173/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5173/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5173", "id": 669441764, "node_id": "MDU6SXNzdWU2Njk0NDE3NjQ=", "number": 5173, "title": "if channel ratelimit reached once we can't edit same channel even after 5 minutes", "user": {"login": "SQWiperYT", "id": 61678021, "node_id": "MDQ6VXNlcjYxNjc4MDIx", "avatar_url": "https://avatars0.githubusercontent.com/u/61678021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SQWiperYT", "html_url": "https://github.com/SQWiperYT", "followers_url": "https://api.github.com/users/SQWiperYT/followers", "following_url": "https://api.github.com/users/SQWiperYT/following{/other_user}", "gists_url": "https://api.github.com/users/SQWiperYT/gists{/gist_id}", "starred_url": "https://api.github.com/users/SQWiperYT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SQWiperYT/subscriptions", "organizations_url": "https://api.github.com/users/SQWiperYT/orgs", "repos_url": "https://api.github.com/users/SQWiperYT/repos", "events_url": "https://api.github.com/users/SQWiperYT/events{/privacy}", "received_events_url": "https://api.github.com/users/SQWiperYT/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-31T05:56:08Z", "updated_at": "2020-08-01T01:38:39Z", "closed_at": "2020-08-01T01:38:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to create join to create system, But I found a major issue, if channel ratelimit reached we can't do anything with that channel even after 5 minutes or more.\r\n\r\nif its not a bug, how can I overcome that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5172", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5172/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5172/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5172/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5172", "id": 669288168, "node_id": "MDU6SXNzdWU2NjkyODgxNjg=", "number": 5172, "title": "Allow disabling converters", "user": {"login": "nihilistkitten", "id": 25715464, "node_id": "MDQ6VXNlcjI1NzE1NDY0", "avatar_url": "https://avatars1.githubusercontent.com/u/25715464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nihilistkitten", "html_url": "https://github.com/nihilistkitten", "followers_url": "https://api.github.com/users/nihilistkitten/followers", "following_url": "https://api.github.com/users/nihilistkitten/following{/other_user}", "gists_url": "https://api.github.com/users/nihilistkitten/gists{/gist_id}", "starred_url": "https://api.github.com/users/nihilistkitten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nihilistkitten/subscriptions", "organizations_url": "https://api.github.com/users/nihilistkitten/orgs", "repos_url": "https://api.github.com/users/nihilistkitten/repos", "events_url": "https://api.github.com/users/nihilistkitten/events{/privacy}", "received_events_url": "https://api.github.com/users/nihilistkitten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130947, "node_id": "MDU6TGFiZWwyNTExMzA5NDc=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-30T23:58:29Z", "updated_at": "2020-07-31T08:32:14Z", "closed_at": "2020-07-31T00:08:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nI have a fairly complicated (read: poorly-written) codebase that I'm trying to add static type hints (for mypy) to. This can cause circular import trees (because the app is poorly-structured, and logic is interspersed with the bot layer). [Mypy's solution](https://mypy.readthedocs.io/en/stable/common_issues.html#import-cycles) to this is to use string literals for forward references and import the name only if `typing.TYPE_CHECKING` is true. The issue is that d.py expects the types to be well-defined so it can check if they're converters. Specifically, the issue is here:\r\n\r\nhttps://github.com/Rapptz/discord.py/blob/b77af199392209017e59eff366b46354fa210f64/discord/ext/commands/core.py#L297-L302\r\n\r\n### The Ideal Solution\r\n\r\nAdd a `no_converters` flag to the command decorator which turns off converters for that command. I'm also happy to submit a PR which implements this, I just wanted to see if there were any objections beforehand.\r\n\r\n### The Current Solution\r\n\r\nSolving this now would require a fairly significant restructure of the app I'm working on: this is something that I'll do eventually, but I don't want to do it immediately, and I'd like to have static type checking to help with that process.\r\n\r\n### Summary\r\n\r\nThere should be some mechanism to turn off converters for specific commands, so as to allow static type checking without circular imports.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5169", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5169/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5169/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5169/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5169", "id": 668572875, "node_id": "MDU6SXNzdWU2Njg1NzI4NzU=", "number": 5169, "title": "CategoryChannel.edit fails to update overwrites", "user": {"login": "cyrus01337", "id": 63274991, "node_id": "MDQ6VXNlcjYzMjc0OTkx", "avatar_url": "https://avatars0.githubusercontent.com/u/63274991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyrus01337", "html_url": "https://github.com/cyrus01337", "followers_url": "https://api.github.com/users/cyrus01337/followers", "following_url": "https://api.github.com/users/cyrus01337/following{/other_user}", "gists_url": "https://api.github.com/users/cyrus01337/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyrus01337/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyrus01337/subscriptions", "organizations_url": "https://api.github.com/users/cyrus01337/orgs", "repos_url": "https://api.github.com/users/cyrus01337/repos", "events_url": "https://api.github.com/users/cyrus01337/events{/privacy}", "received_events_url": "https://api.github.com/users/cyrus01337/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-30T10:08:45Z", "updated_at": "2020-07-30T11:16:57Z", "closed_at": "2020-07-30T11:16:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen updating a CategoryChannel's overwrites they are not applied, while locally the children channels were updated and not the category.\r\n\r\n### Reproduction Steps\r\n\r\nTesting in Jishaku eval and a standard command\r\n```\r\nimport discord\r\n\r\n# alter accordingly\r\ngrotto = discord.utils.find(lambda v: v.name.lower().startswith(\"grotto\"), _ctx.guild.roles)\r\noverwrites = {\r\n    grotto: discord.PermissionOverwrite(send_messages=True),\r\n    _author: discord.PermissionOverwrite(read_message_history=True)\r\n}\r\n\r\nfor channel in _ctx.guild.categories:\r\n    await channel.edit(overwrites=overwrites)\r\n```\r\n```\r\n@commands.is_owner()\r\n@commands.group(hidden=True)\r\nasync def test(self, ctx):\r\n    grotto = discord.utils.find(lambda v: v.name.lower().startswith(\"grotto\"), ctx.guild.roles)\r\n    overwrites = {\r\n        grotto: discord.PermissionOverwrite(send_messages=True),\r\n        ctx.author: discord.PermissionOverwrite(read_message_history=True)\r\n    }\r\n\r\n    for channel in ctx.guild.categories:\r\n        await channel.edit(overwrites=overwrites)\r\n    await ctx.message.add_reaction(\"\ud83d\udc4d\")\r\n```\r\n\r\n### Expected Results\r\n\r\nAll channels (the category in question as well as any channels under it) have their overwrites updated accordingly as per the earlier code snippet.\r\n\r\n### Actual Results\r\n\r\nThis was not achieved, instead the children channels had their overwrites applied while the category remains unchanged. This was unable to be reproduced by other members and instead **none** of the channels were updated.\r\n\r\nNo traceback available.\r\n\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.5-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Windows 10 10.0.19041", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5168", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5168/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5168/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5168/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5168", "id": 668355249, "node_id": "MDU6SXNzdWU2NjgzNTUyNDk=", "number": 5168, "title": "AttributeError when using guild.me.fetch_message()", "user": {"login": "TheEnigmaBlade", "id": 79983, "node_id": "MDQ6VXNlcjc5OTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/79983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheEnigmaBlade", "html_url": "https://github.com/TheEnigmaBlade", "followers_url": "https://api.github.com/users/TheEnigmaBlade/followers", "following_url": "https://api.github.com/users/TheEnigmaBlade/following{/other_user}", "gists_url": "https://api.github.com/users/TheEnigmaBlade/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheEnigmaBlade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheEnigmaBlade/subscriptions", "organizations_url": "https://api.github.com/users/TheEnigmaBlade/orgs", "repos_url": "https://api.github.com/users/TheEnigmaBlade/repos", "events_url": "https://api.github.com/users/TheEnigmaBlade/events{/privacy}", "received_events_url": "https://api.github.com/users/TheEnigmaBlade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-30T04:18:37Z", "updated_at": "2020-07-30T04:25:03Z", "closed_at": "2020-07-30T04:24:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen using `fetch_message()` on the `Member` version of a `ClientUser`\u2014i.e. `guild.me.fetch_message()`\u2014the following error occurs:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\...\\venv\\lib\\site-packages\\discord\\client.py\", line 312, in _run_event\r\n    await coro(*args, **kwargs)\r\n  File \"D:\\...\\test_fetch_message.py\", line 11, in on_guild_available\r\n    message = await guild.me.fetch_message(message_id)\r\n  File \"D:\\...\\venv\\lib\\site-packages\\discord\\abc.py\", line 934, in fetch_message\r\n    channel = await self._get_channel()\r\n  File \"D:\\...\\venv\\lib\\site-packages\\discord\\member.py\", line 248, in _get_channel\r\n    ch = await self.create_dm()\r\n  File \"D:\\...\\venv\\lib\\site-packages\\discord\\member.py\", line 109, in general\r\n    return getattr(self._user, x)(*args, **kwargs)\r\nAttributeError: 'ClientUser' object has no attribute 'create_dm'\r\n```\r\n\r\n### Reproduction Steps\r\n\r\nThe error occurs on any use of `guild.me.fetch_message()`, such as in the following self-contained example.\r\n\r\n```python\r\ndiscord_token = \"...\"\r\nguild_id   = ... # Numeric guild ID in which the target message resides\r\nmessage_id = ... # Numeric message ID for the desired message\r\n\r\nimport discord\r\nclient = discord.Client()\r\n\r\n@client.event\r\nasync def on_guild_available(guild):\r\n    if guild.id == guild_id:\r\n        message = await guild.me.fetch_message(message_id)\r\n        print(f\"Got the message: {message.clean_content}\")\r\n\r\nclient.run(discord_token)\r\n```\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\nPython versions tested:\r\n- 3.8.5\r\n- 3.7.8\r\n\r\ndiscord.py versions tested:\r\n- v1.3.4-final\r\n- v1.4.0a2409+gb77af19 (most recent commit)\r\n\r\nSystem: Windows 10 10.0.19041", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5166", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5166/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5166/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5166/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5166", "id": 666621720, "node_id": "MDU6SXNzdWU2NjY2MjE3MjA=", "number": 5166, "title": "Run BOT and Dashboard at the same time", "user": {"login": "adenirlc", "id": 56934001, "node_id": "MDQ6VXNlcjU2OTM0MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/56934001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adenirlc", "html_url": "https://github.com/adenirlc", "followers_url": "https://api.github.com/users/adenirlc/followers", "following_url": "https://api.github.com/users/adenirlc/following{/other_user}", "gists_url": "https://api.github.com/users/adenirlc/gists{/gist_id}", "starred_url": "https://api.github.com/users/adenirlc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adenirlc/subscriptions", "organizations_url": "https://api.github.com/users/adenirlc/orgs", "repos_url": "https://api.github.com/users/adenirlc/repos", "events_url": "https://api.github.com/users/adenirlc/events{/privacy}", "received_events_url": "https://api.github.com/users/adenirlc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-27T22:23:40Z", "updated_at": "2020-07-27T22:34:19Z", "closed_at": "2020-07-27T22:34:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI'm trying to run my bot and dashboard at the same time to use discord.py within the dashboard. I am using the function **create_task()** but it is not going, when it loads the events, commands and modules of the BOT the terminal ends.\r\n\r\n### Reproduction Steps\r\n\r\n```python\r\n[my code.......]\r\nasync def rundashboard():\r\n    await client.wait_until_ready()\r\n    while not client.is_closed():\r\n        os.environ['FLASK_APP'] = \"dashboard.py\"\r\n        os.environ['FLASK_ENV'] = \"development\"\r\n        os.environ['FLASK_DEBUG'] = \"1\"\r\n        app.run(host=\"0.0.0.0\", port=5000)\r\n\r\n\r\nif \"__name__\" == \"__main__\":\r\n    #client.loop.create_task(rundashboard())\r\n    client.run(settings.token)\r\n```\r\n### Expected Results\r\n\r\n<!-- What you expected to happen -->\r\n\r\n### Actual Results\r\n\r\n![Printscreen](https://i.imgur.com/Z6CRvh2.png)\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.1-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2409+gb77af19\r\n- aiohttp v3.6.2\r\n- system info: Windows 10 10.0.19041\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5162", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5162/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5162/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5162/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5162", "id": 665973920, "node_id": "MDU6SXNzdWU2NjU5NzM5MjA=", "number": 5162, "title": "TypeError: __init__() got an unexpected keyword argument 'requote'", "user": {"login": "blurengo", "id": 35280197, "node_id": "MDQ6VXNlcjM1MjgwMTk3", "avatar_url": "https://avatars3.githubusercontent.com/u/35280197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blurengo", "html_url": "https://github.com/blurengo", "followers_url": "https://api.github.com/users/blurengo/followers", "following_url": "https://api.github.com/users/blurengo/following{/other_user}", "gists_url": "https://api.github.com/users/blurengo/gists{/gist_id}", "starred_url": "https://api.github.com/users/blurengo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blurengo/subscriptions", "organizations_url": "https://api.github.com/users/blurengo/orgs", "repos_url": "https://api.github.com/users/blurengo/repos", "events_url": "https://api.github.com/users/blurengo/events{/privacy}", "received_events_url": "https://api.github.com/users/blurengo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 861992193, "node_id": "MDU6TGFiZWw4NjE5OTIxOTM=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/dep%20bug", "name": "dep bug", "color": "ffc4ef", "default": false, "description": "A bug with the dependencies"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-27T04:55:07Z", "updated_at": "2020-08-13T10:08:21Z", "closed_at": "2020-07-27T05:00:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nEven after updating discord.py, I still get an error trying to run my bot\r\n\r\n### Reproduction Steps\r\n\r\nI have no idea, I just reinstalled discord.py as recommended and still got errors\r\n\r\n### Expected Results\r\n\r\nThe bot to run.\r\n\r\n### Actual Results\r\n\r\nThis may be caused by another library, but i dont know.\r\n```\r\nTraceback (most recent call last):\r\n  File \"bot.py\", line 2, in <module>\r\n    import discord\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/discord/__init__.py\", line 23, in <module>\r\n    from .client import Client\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/discord/client.py\", line 34, in <module>\r\n    import aiohttp\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/aiohttp/__init__.py\", line 6, in <module>\r\n    from .client import BaseConnector as BaseConnector\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/aiohttp/client.py\", line 30, in <module>\r\n    from yarl import URL\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/yarl/__init__.py\", line 1, in <module>\r\n    from ._url import URL, cache_clear, cache_configure, cache_info\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/yarl/_url.py\", line 56, in <module>\r\n    @rewrite_module\r\n  File \"/home/linefins/.local/lib/python3.6/site-packages/yarl/_url.py\", line 132, in URL\r\n    _QUERY_PART_QUOTER = _Quoter(safe=\"?/:@\", qs=True, requote=False)\r\n  File \"yarl/_quoting.pyx\", line 192, in yarl._quoting._Quoter.__init__\r\nTypeError: __init__() got an unexpected keyword argument 'requote'\r\n```\r\n\r\n### Checklist\r\n\r\n- [ ] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\nFor some reason, the command given also breaks when I attempt to run it.\r\n\r\nPython: 3.6.9\r\ndiscord.py version: 1.3.4\r\nOS: Ubuntu 18.04.4 LTS", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5161", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5161/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5161/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5161/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5161", "id": 665827086, "node_id": "MDU6SXNzdWU2NjU4MjcwODY=", "number": 5161, "title": "Abstract User(discord.abc.User) and Member status not returning the same", "user": {"login": "Nekoraru22", "id": 57575090, "node_id": "MDQ6VXNlcjU3NTc1MDkw", "avatar_url": "https://avatars2.githubusercontent.com/u/57575090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nekoraru22", "html_url": "https://github.com/Nekoraru22", "followers_url": "https://api.github.com/users/Nekoraru22/followers", "following_url": "https://api.github.com/users/Nekoraru22/following{/other_user}", "gists_url": "https://api.github.com/users/Nekoraru22/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nekoraru22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nekoraru22/subscriptions", "organizations_url": "https://api.github.com/users/Nekoraru22/orgs", "repos_url": "https://api.github.com/users/Nekoraru22/repos", "events_url": "https://api.github.com/users/Nekoraru22/events{/privacy}", "received_events_url": "https://api.github.com/users/Nekoraru22/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-26T17:38:33Z", "updated_at": "2020-07-26T20:02:55Z", "closed_at": "2020-07-26T20:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen I get the status of a user who has sent a message, it appears correctly, instead when I use the `client.fetch_member` function, its status always appears Offline.\r\n\r\n### Reproduction Steps\r\n\r\n```py\r\n# msg comes from the on_message event.\r\nmember = await msg.channel.guild.fetch_member(msg.author.id)\r\nmember2 = msg.author\r\nprint(member.status, member2.status)\r\n```\r\n\r\n### Expected Results\r\n\r\n\"online online\"\r\n\r\n### Actual Results\r\n\r\n\"offline online\"\r\n![image](https://user-images.githubusercontent.com/57575090/88485575-1777b380-cf77-11ea-8d7c-b8a38390084f.png)\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.1-final\r\n- discord.py v1.3.2-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Windows 10 10.0.18362\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5160", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5160/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5160/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5160/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5160", "id": 665709552, "node_id": "MDU6SXNzdWU2NjU3MDk1NTI=", "number": 5160, "title": "__new__() got an unexpected keyword argument 'deny_new'", "user": {"login": "oakenduck", "id": 58057380, "node_id": "MDQ6VXNlcjU4MDU3Mzgw", "avatar_url": "https://avatars3.githubusercontent.com/u/58057380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oakenduck", "html_url": "https://github.com/oakenduck", "followers_url": "https://api.github.com/users/oakenduck/followers", "following_url": "https://api.github.com/users/oakenduck/following{/other_user}", "gists_url": "https://api.github.com/users/oakenduck/gists{/gist_id}", "starred_url": "https://api.github.com/users/oakenduck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oakenduck/subscriptions", "organizations_url": "https://api.github.com/users/oakenduck/orgs", "repos_url": "https://api.github.com/users/oakenduck/repos", "events_url": "https://api.github.com/users/oakenduck/events{/privacy}", "received_events_url": "https://api.github.com/users/oakenduck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-26T05:02:12Z", "updated_at": "2020-07-28T05:01:37Z", "closed_at": "2020-07-26T08:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is very similar to issues #5109 and #5142 , however, upon running `pip install discord --upgrade`, the requirements were already satisfied. Looking at version info, I get that `discord == 1.0.1`, and `discord.py == 1.3.4`, which are the recommended versions to fix this issue. I still receive the same error, however:\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 56, in <module>\r\n    client.run(TOKEN)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 640, in run\r\n    return future.result()\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 585, in start\r\n    await self.connect(reconnect=reconnect)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 499, in connect\r\n    await self._connect()\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\client.py\", line 463, in _connect\r\n    await self.ws.poll_event()\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\gateway.py\", line 471, in poll_event\r\n    await self.received_message(msg)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\gateway.py\", line 425, in received_message\r\n    func(data)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\state.py\", line 750, in parse_guild_create\r\n    guild = self._get_create_guild(data)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\state.py\", line 725, in _get_create_guild\r\n    guild._from_data(data)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\guild.py\", line 297, in _from_data\r\n    self._sync(guild)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\guild.py\", line 324, in _sync\r\n    self._add_channel(TextChannel(guild=self, data=c, state=self._state))\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n  File \"C:\\Users\\Oaken_u0sat6a\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\discord\\abc.py\", line 294, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'deny_new'\r\n```\r\nI am running a virtual environment, as without it, no matter if I've pip installed discord, it still raises a `modulenotfound` error, for all my projects utilizing the library. Nothing has changed in my code, other than importing `bs4` for some scraping. What's the difference here?\r\n\r\nPython version: `3.8.1`\r\nDiscord: `1.0.1`\r\nDiscord.py : `1.3.4`\r\nWindows home edition, version `1909`, build `18363.959`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5158", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5158/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5158/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5158/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5158", "id": 665546344, "node_id": "MDU6SXNzdWU2NjU1NDYzNDQ=", "number": 5158, "title": "Exception when emoji is in Discord message", "user": {"login": "BlaT2512", "id": 29007580, "node_id": "MDQ6VXNlcjI5MDA3NTgw", "avatar_url": "https://avatars1.githubusercontent.com/u/29007580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlaT2512", "html_url": "https://github.com/BlaT2512", "followers_url": "https://api.github.com/users/BlaT2512/followers", "following_url": "https://api.github.com/users/BlaT2512/following{/other_user}", "gists_url": "https://api.github.com/users/BlaT2512/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlaT2512/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlaT2512/subscriptions", "organizations_url": "https://api.github.com/users/BlaT2512/orgs", "repos_url": "https://api.github.com/users/BlaT2512/repos", "events_url": "https://api.github.com/users/BlaT2512/events{/privacy}", "received_events_url": "https://api.github.com/users/BlaT2512/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 653343598, "node_id": "MDU6TGFiZWw2NTMzNDM1OTg=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/off-topic", "name": "off-topic", "color": "d4c5f9", "default": false, "description": "This does not belong here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-25T08:47:39Z", "updated_at": "2020-07-25T14:03:51Z", "closed_at": "2020-07-25T14:03:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\n<!-- A summary of your bug report -->\r\nIn the `on_message` function for my discord bot using discord.js, an exception occurs when the discord message received includes an emoji, either a local Windows emoji or a discord emoji.\r\n\r\n### Reproduction Steps\r\n\r\n<!-- What you did to make it happen. Ideally there should be a short code snippet in this section to help reproduce the bug. -->\r\nHere is the code I am using, it is just a basic example:\r\n```python\r\n# Import the configuration file, config.json\r\nimport json\r\nwith open('config.json') as file:\r\n    config = json.load(file)\r\n# Import discord.py module\r\nimport discord\r\n# Import regular expressions\r\nimport re\r\n\r\n# Discord bot client class\r\nclass MyBot(discord.Client):\r\n    # When the client is ready, run this code\r\n    # This event will only trigger one time after logging in\r\n    async def on_ready(self):\r\n        print('Ready as user', self.user)\r\n\r\n   # This code runs every time a message is sent in a server that this bot is in\r\n    async def on_message(self, message): \r\n        # Log message info to console\r\n        print(message.content) # <---- EXCEPTION OCCURS HERE\r\n        print(message.author.id)\r\n\r\n        # Do some stuff with the message\r\n        \r\n# Connect to discord as Bot\r\nclient = MyBot()\r\nclient.run(config[\"token\"])\r\n```\r\n\r\n### Expected Results\r\n\r\n<!-- What you expected to happen -->\r\nThe emoji should either be shown in the message as something like `:smile:` or not shown at all in the message because I am not processing the emojis.\r\n\r\n### Actual Results\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\nThe exception was the following:\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\my_username\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 312, in _run_event\r\n    await coro(*args, **kwargs)\r\n  File \"c:\\Users\\my_username\\Desktop\\TestBot\\main.py\", line 20, in on_message\r\n    print(message.content)\r\n  File \"C:\\Users\\blake\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\encodings\\cp1252.py\", line 19, in encode\r\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\r\nUnicodeEncodeError: 'charmap' codec can't encode characters in position 0-1: character maps to <undefined>\r\n```\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n`python -m discord -v` results:\r\n```\r\n- Python v3.8.3-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Windows 10 10.0.19041\r\n```\r\n\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5157", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5157/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5157/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5157/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5157", "id": 665239440, "node_id": "MDU6SXNzdWU2NjUyMzk0NDA=", "number": 5157, "title": "discord.py not working properly", "user": {"login": "Mihir-Nagalkar", "id": 67877208, "node_id": "MDQ6VXNlcjY3ODc3MjA4", "avatar_url": "https://avatars3.githubusercontent.com/u/67877208?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mihir-Nagalkar", "html_url": "https://github.com/Mihir-Nagalkar", "followers_url": "https://api.github.com/users/Mihir-Nagalkar/followers", "following_url": "https://api.github.com/users/Mihir-Nagalkar/following{/other_user}", "gists_url": "https://api.github.com/users/Mihir-Nagalkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mihir-Nagalkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mihir-Nagalkar/subscriptions", "organizations_url": "https://api.github.com/users/Mihir-Nagalkar/orgs", "repos_url": "https://api.github.com/users/Mihir-Nagalkar/repos", "events_url": "https://api.github.com/users/Mihir-Nagalkar/events{/privacy}", "received_events_url": "https://api.github.com/users/Mihir-Nagalkar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-24T15:18:48Z", "updated_at": "2020-07-25T14:03:10Z", "closed_at": "2020-07-25T14:03:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently installed discord.py library to make a discord bot, but it doesn't work. the bot doesn't get online \r\n<img width=\"419\" alt=\"code\" src=\"https://user-images.githubusercontent.com/67877208/88406954-0439dc00-cdef-11ea-9d56-e20c41d7fe05.png\"> \r\n^^^here is a pic of my code\r\n  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5156", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5156/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5156/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5156/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5156", "id": 664797231, "node_id": "MDU6SXNzdWU2NjQ3OTcyMzE=", "number": 5156, "title": "Bot crashes right after starting...", "user": {"login": "Cybergenik", "id": 38026312, "node_id": "MDQ6VXNlcjM4MDI2MzEy", "avatar_url": "https://avatars0.githubusercontent.com/u/38026312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cybergenik", "html_url": "https://github.com/Cybergenik", "followers_url": "https://api.github.com/users/Cybergenik/followers", "following_url": "https://api.github.com/users/Cybergenik/following{/other_user}", "gists_url": "https://api.github.com/users/Cybergenik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cybergenik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cybergenik/subscriptions", "organizations_url": "https://api.github.com/users/Cybergenik/orgs", "repos_url": "https://api.github.com/users/Cybergenik/repos", "events_url": "https://api.github.com/users/Cybergenik/events{/privacy}", "received_events_url": "https://api.github.com/users/Cybergenik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-23T22:13:09Z", "updated_at": "2020-07-23T22:15:55Z", "closed_at": "2020-07-23T22:15:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\nRunning simple bot in Heroku, it starts up and crashes on the `client.run(TOKEN)` line.\r\n**Yes I checked that I had the correct token**\r\n\r\n### Reproduction Steps\r\n\r\nIt was literally working yesterday\r\nMy repo for the bot is public: you can look at the whole thing(main issue is in runemaster.py): https://github.com/Cybergenik/RuneMaster\r\n\r\n### Expected Results\r\n\r\nTo just run\r\n\r\n### Actual Results\r\n\r\n```\r\n2020-07-23T22:02:50.392970+00:00 app[worker.1]: Traceback (most recent call last):\r\n2020-07-23T22:02:50.392989+00:00 app[worker.1]:   File \"runemaster.py\", line 291, in <module>\r\n2020-07-23T22:02:50.393371+00:00 app[worker.1]:     client.run(TOKEN)\r\n2020-07-23T22:02:50.393376+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/client.py\", line 640, in run\r\n2020-07-23T22:02:50.393702+00:00 app[worker.1]:     return future.result()\r\n2020-07-23T22:02:50.393706+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/client.py\", line 621, in runner\r\n2020-07-23T22:02:50.394015+00:00 app[worker.1]:     await self.start(*args, **kwargs)\r\n2020-07-23T22:02:50.394019+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/client.py\", line 585, in start\r\n2020-07-23T22:02:50.394321+00:00 app[worker.1]:     await self.connect(reconnect=reconnect)\r\n2020-07-23T22:02:50.394325+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/client.py\", line 499, in connect\r\n2020-07-23T22:02:50.394608+00:00 app[worker.1]:     await self._connect()\r\n2020-07-23T22:02:50.394612+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/client.py\", line 463, in _connect\r\n2020-07-23T22:02:50.394909+00:00 app[worker.1]:     await self.ws.poll_event()\r\n2020-07-23T22:02:50.394913+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/gateway.py\", line 471, in poll_event\r\n2020-07-23T22:02:50.395194+00:00 app[worker.1]:     await self.received_message(msg)\r\n2020-07-23T22:02:50.395199+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/gateway.py\", line 425, in received_message\r\n2020-07-23T22:02:50.395435+00:00 app[worker.1]:     func(data)\r\n2020-07-23T22:02:50.395440+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/state.py\", line 750, in parse_guild_create\r\n2020-07-23T22:02:50.395873+00:00 app[worker.1]:     guild = self._get_create_guild(data)\r\n2020-07-23T22:02:50.395878+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/state.py\", line 725, in _get_create_guild\r\n2020-07-23T22:02:50.396179+00:00 app[worker.1]:     guild._from_data(data)\r\n2020-07-23T22:02:50.396180+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/guild.py\", line 297, in _from_data\r\n2020-07-23T22:02:50.396490+00:00 app[worker.1]:     self._sync(guild)\r\n2020-07-23T22:02:50.396514+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/guild.py\", line 326, in _sync\r\n2020-07-23T22:02:50.396827+00:00 app[worker.1]:     self._add_channel(VoiceChannel(guild=self, data=c, state=self._state))\r\n2020-07-23T22:02:50.396843+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/channel.py\", line 553, in __init__\r\n2020-07-23T22:02:50.397078+00:00 app[worker.1]:     self._update(guild, data)\r\n2020-07-23T22:02:50.397098+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/channel.py\", line 584, in _update\r\n2020-07-23T22:02:50.397324+00:00 app[worker.1]:     self._fill_overwrites(data)\r\n2020-07-23T22:02:50.397340+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python3.8/site-packages/discord/abc.py\", line 294, in _fill_overwrites\r\n2020-07-23T22:02:50.397509+00:00 app[worker.1]:     self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\n2020-07-23T22:02:50.397530+00:00 app[worker.1]: TypeError: __new__() got an unexpected keyword argument 'deny_new'\r\n2020-07-23T22:02:50.517034+00:00 heroku[worker.1]: Process exited with status 1\r\n```\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.1-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.4.0-1074-aws #78-Ubuntu SMP Mon Jun 15 03:53:20 UTC 2020\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5153", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5153/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5153/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5153/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5153", "id": 664076863, "node_id": "MDU6SXNzdWU2NjQwNzY4NjM=", "number": 5153, "title": "commands.Bot as subclass is not sending context", "user": {"login": "micharaze", "id": 26977019, "node_id": "MDQ6VXNlcjI2OTc3MDE5", "avatar_url": "https://avatars2.githubusercontent.com/u/26977019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/micharaze", "html_url": "https://github.com/micharaze", "followers_url": "https://api.github.com/users/micharaze/followers", "following_url": "https://api.github.com/users/micharaze/following{/other_user}", "gists_url": "https://api.github.com/users/micharaze/gists{/gist_id}", "starred_url": "https://api.github.com/users/micharaze/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/micharaze/subscriptions", "organizations_url": "https://api.github.com/users/micharaze/orgs", "repos_url": "https://api.github.com/users/micharaze/repos", "events_url": "https://api.github.com/users/micharaze/events{/privacy}", "received_events_url": "https://api.github.com/users/micharaze/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-22T22:01:54Z", "updated_at": "2020-07-24T11:24:54Z", "closed_at": "2020-07-24T11:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI try to create a subclass of commands.Bot and add there methods to the command. But when I run the bot and write a command it looks like the command is not passing a context. \r\n\r\n```python\r\nclass Bot(commands.Bot):\r\n    def init (self):\r\n        super().init(commandprefix=\"*\", description=None)\r\n\r\n        members = inspect.getmembers(self)\r\n        for _, member in members:\r\n            if isinstance(member, commands.Command):\r\n                if member.parent is None:\r\n                    self.add_command(member)\r\n\r\n    async def onready(self):\r\n        print('Logged in as ' + self.user.name + '  ID: ' + str(self.user.id))\r\n        ...\r\n\r\n    @commands.command()\r\n    async def command1(self, ctx, name: str):\r\n        print(ctx)\r\n        # Do something...\r\n\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n- When I am writing the command `command1 micha` I am getting the error, that the parameter \"name\" is required.\r\n- When I am sending `command1 micha test`, then it prints at the line `print(ctx)`:  \"micha\". \r\n\r\n### Expected Results\r\n\r\nI expected that I am getting the context as the first parameter (after self)\r\n\r\n### Actual Results\r\n\r\nI am not getting the context, I am getting the first parameter written in the chat command.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/ext/commands/bot.py\", line 892, in invoke\r\n    await ctx.command.invoke(ctx)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/ext/commands/core.py\", line 790, in invoke\r\n    await self.prepare(ctx)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/ext/commands/core.py\", line 751, in prepare\r\n    await self._parse_arguments(ctx)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/ext/commands/core.py\", line 670, in _parse_arguments\r\n    transformed = await self.transform(ctx, param)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/ext/commands/core.py\", line 516, in transform\r\n    raise MissingRequiredArgument(param)\r\ndiscord.ext.commands.errors.MissingRequiredArgument: name is a required argument that is missing.\r\n```\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\ndiscord.py version 1.3.4\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5152", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5152/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5152/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5152/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5152", "id": 663997520, "node_id": "MDU6SXNzdWU2NjM5OTc1MjA=", "number": 5152, "title": "error: no commands supplied", "user": {"login": "eeelolmeisbol", "id": 65217369, "node_id": "MDQ6VXNlcjY1MjE3MzY5", "avatar_url": "https://avatars0.githubusercontent.com/u/65217369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eeelolmeisbol", "html_url": "https://github.com/eeelolmeisbol", "followers_url": "https://api.github.com/users/eeelolmeisbol/followers", "following_url": "https://api.github.com/users/eeelolmeisbol/following{/other_user}", "gists_url": "https://api.github.com/users/eeelolmeisbol/gists{/gist_id}", "starred_url": "https://api.github.com/users/eeelolmeisbol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eeelolmeisbol/subscriptions", "organizations_url": "https://api.github.com/users/eeelolmeisbol/orgs", "repos_url": "https://api.github.com/users/eeelolmeisbol/repos", "events_url": "https://api.github.com/users/eeelolmeisbol/events{/privacy}", "received_events_url": "https://api.github.com/users/eeelolmeisbol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 653343598, "node_id": "MDU6TGFiZWw2NTMzNDM1OTg=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/off-topic", "name": "off-topic", "color": "d4c5f9", "default": false, "description": "This does not belong here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T19:28:37Z", "updated_at": "2020-07-24T11:26:30Z", "closed_at": "2020-07-24T11:26:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello uh i've been getting this getting this error:\r\nAnd quick note i'm on mac\r\n```\r\n$ python3 setup.py\r\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/setuptools/dist.py:454: UserWarning: Normalizing '1.4.0a' to '1.4.0a0'\r\n  warnings.warn(tmpl.format(**locals()))\r\nusage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\r\n   or: setup.py --help [cmd1 cmd2 ...]\r\n   or: setup.py --help-commands\r\n   or: setup.py cmd --help\r\n\r\nerror: no commands supplied\r\n```\r\nCould someone help me out? ^^ \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5150", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5150/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5150/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5150/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5150", "id": 663899712, "node_id": "MDU6SXNzdWU2NjM4OTk3MTI=", "number": 5150, "title": "SSL Error [MAC]", "user": {"login": "eeelolmeisbol", "id": 65217369, "node_id": "MDQ6VXNlcjY1MjE3MzY5", "avatar_url": "https://avatars0.githubusercontent.com/u/65217369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eeelolmeisbol", "html_url": "https://github.com/eeelolmeisbol", "followers_url": "https://api.github.com/users/eeelolmeisbol/followers", "following_url": "https://api.github.com/users/eeelolmeisbol/following{/other_user}", "gists_url": "https://api.github.com/users/eeelolmeisbol/gists{/gist_id}", "starred_url": "https://api.github.com/users/eeelolmeisbol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eeelolmeisbol/subscriptions", "organizations_url": "https://api.github.com/users/eeelolmeisbol/orgs", "repos_url": "https://api.github.com/users/eeelolmeisbol/repos", "events_url": "https://api.github.com/users/eeelolmeisbol/events{/privacy}", "received_events_url": "https://api.github.com/users/eeelolmeisbol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T16:39:31Z", "updated_at": "2020-07-22T19:22:55Z", "closed_at": "2020-07-22T19:22:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I keep on getting the error:\r\n```\r\nssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1123)')]\r\n```\r\nI found some issues about it and how to fix it, but the problem is there was none actually working for mac. I've found only one thing that could help me but the only one was too outdated.\r\nCan someone please help me on how to fix this bug or error? It would be greatly appreciated.\r\n![Screenshot 2020-07-22 at 18 39 05](https://user-images.githubusercontent.com/65217369/88203799-a8cee900-cc4a-11ea-9c76-267d92d08bba.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5149", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5149/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5149/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5149/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5149", "id": 663767336, "node_id": "MDU6SXNzdWU2NjM3NjczMzY=", "number": 5149, "title": "Issue after closing bot and restarting it", "user": {"login": "Caedous", "id": 68649400, "node_id": "MDQ6VXNlcjY4NjQ5NDAw", "avatar_url": "https://avatars2.githubusercontent.com/u/68649400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Caedous", "html_url": "https://github.com/Caedous", "followers_url": "https://api.github.com/users/Caedous/followers", "following_url": "https://api.github.com/users/Caedous/following{/other_user}", "gists_url": "https://api.github.com/users/Caedous/gists{/gist_id}", "starred_url": "https://api.github.com/users/Caedous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Caedous/subscriptions", "organizations_url": "https://api.github.com/users/Caedous/orgs", "repos_url": "https://api.github.com/users/Caedous/repos", "events_url": "https://api.github.com/users/Caedous/events{/privacy}", "received_events_url": "https://api.github.com/users/Caedous/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-22T13:34:38Z", "updated_at": "2020-07-23T12:02:04Z", "closed_at": "2020-07-23T06:10:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI get a very long winded error message when I go to open my bot.\r\n\r\n### Reproduction Steps\r\n\r\nI simply open my bot and get an error. I have updated to the latest version of discord.py\r\n\r\n### Expected Results\r\n\r\nThe bot to run without any issues as it had been prior to closing it\r\n\r\n### Actual Results\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 936, in _wrap_create_connection\r\n    return await self._loop.create_connection(*args, **kwargs)  # type: ignore  # noqa\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\base_events.py\", line 1050, in create_connection\r\n    transport, protocol = await self._create_connection_transport(\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\base_events.py\", line 1080, in _create_connection_transport\r\n    await waiter\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\sslproto.py\", line 529, in data_received\r\n    ssldata, appdata = self._sslpipe.feed_ssldata(data)\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\sslproto.py\", line 189, in feed_ssldata\r\n    self._sslobj.do_handshake()\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\ssl.py\", line 944, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:1123)\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"bot.py\", line 74, in <module>\r\n    client.run(TOKEN)\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 640, in run\r\n    return future.result()\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 584, in start\r\n    await self.login(*args, bot=bot)\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 442, in login\r\n    await self.http.static_login(token.strip(), bot=bot)\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\http.py\", line 261, in static_login\r\n    data = await self.request(Route('GET', '/users/@me'))\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\http.py\", line 165, in request\r\n    async with self.__session.request(method, url, **kwargs) as r:\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\client.py\", line 1012, in __aenter__\r\n    self._resp = await self._coro\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\client.py\", line 480, in _request\r\n    conn = await self._connector.connect(\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 523, in connect\r\n    proto = await self._create_connection(req, traces, timeout)\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 858, in _create_connection\r\n    _, proto = await self._create_direct_connection(\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 1004, in _create_direct_connection\r\n    raise last_exc\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 980, in _create_direct_connection\r\n    transp, proto = await self._wrap_create_connection(\r\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 938, in _wrap_create_connection\r\n    raise ClientConnectorCertificateError(\r\naiohttp.client_exceptions.ClientConnectorCertificateError: Cannot connect to host discordapp.com:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:1123)')]\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x ] I have searched the open issues for duplicates.\r\n- [x ] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.5-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Windows 10 10.0.18362\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5148", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5148/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5148/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5148/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5148", "id": 663582958, "node_id": "MDU6SXNzdWU2NjM1ODI5NTg=", "number": 5148, "title": "Installing 1.3.4 doesn't include code for 1.3.4: _overwrites is still a named tuple", "user": {"login": "PaulBags", "id": 19583196, "node_id": "MDQ6VXNlcjE5NTgzMTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/19583196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PaulBags", "html_url": "https://github.com/PaulBags", "followers_url": "https://api.github.com/users/PaulBags/followers", "following_url": "https://api.github.com/users/PaulBags/following{/other_user}", "gists_url": "https://api.github.com/users/PaulBags/gists{/gist_id}", "starred_url": "https://api.github.com/users/PaulBags/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PaulBags/subscriptions", "organizations_url": "https://api.github.com/users/PaulBags/orgs", "repos_url": "https://api.github.com/users/PaulBags/repos", "events_url": "https://api.github.com/users/PaulBags/events{/privacy}", "received_events_url": "https://api.github.com/users/PaulBags/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T08:39:59Z", "updated_at": "2020-07-22T09:26:54Z", "closed_at": "2020-07-22T09:22:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm an idiot, pip wasn't installing/uninstalling where I thought it was.\r\n\r\nI hate pip,\r\n\r\n### ~~Summary~~\r\n\r\n~~the command `python3 -m pip install -U discord.py` installs what it calls version 1.3.4 of discord, however the lines of code fixing this bug are missing and _overwrites is still a named tuple.~~\r\n\r\n### ~~Reproduction Steps~~\r\n\r\n~~Install discord with the suggested method `python3 -m pip install -U discord.py`.~~\r\n\r\n### ~~Expected Results~~\r\n\r\n~~The code for version 1.3.4 would actually be installed.~~\r\n\r\n### ~~Actual Results~~\r\n\r\n~~_overwrites is still a named tuple.~~\r\n\r\n\r\n### ~~Checklist~~\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n~~- [ X] I have searched the open issues for duplicates.~~\r\n~~- [ X] I have shown the entire traceback, if possible.~~\r\n~~- [ X] I have removed my token from display, if visible.~~\r\n\r\n### ~~System Information~~\r\n\r\n> ~~Run `python -m discord -v` and paste this information below.~~\r\n~~Lol, ok?~~\r\n```\r\n<deleted>\r\n```\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n~~Python3.8, discord.py 1.3.4, Debian bullseye~~\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5147", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5147/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5147/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5147/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5147", "id": 663560027, "node_id": "MDU6SXNzdWU2NjM1NjAwMjc=", "number": 5147, "title": "Changelog missing 1.3.4 entry detailing allow_new hotfix", "user": {"login": "jrabbit", "id": 178803, "node_id": "MDQ6VXNlcjE3ODgwMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/178803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrabbit", "html_url": "https://github.com/jrabbit", "followers_url": "https://api.github.com/users/jrabbit/followers", "following_url": "https://api.github.com/users/jrabbit/following{/other_user}", "gists_url": "https://api.github.com/users/jrabbit/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrabbit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrabbit/subscriptions", "organizations_url": "https://api.github.com/users/jrabbit/orgs", "repos_url": "https://api.github.com/users/jrabbit/repos", "events_url": "https://api.github.com/users/jrabbit/events{/privacy}", "received_events_url": "https://api.github.com/users/jrabbit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T08:02:26Z", "updated_at": "2020-07-24T11:35:36Z", "closed_at": "2020-07-24T11:27:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nNo changelog at https://discordpy.readthedocs.io/en/v1.3.4/whats_new.html that explains that #5109 was fixed\r\n\r\n\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5146", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5146/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5146/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5146/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5146", "id": 663546486, "node_id": "MDU6SXNzdWU2NjM1NDY0ODY=", "number": 5146, "title": "bot.run has stopped working", "user": {"login": "Codingbluey", "id": 55503928, "node_id": "MDQ6VXNlcjU1NTAzOTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/55503928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Codingbluey", "html_url": "https://github.com/Codingbluey", "followers_url": "https://api.github.com/users/Codingbluey/followers", "following_url": "https://api.github.com/users/Codingbluey/following{/other_user}", "gists_url": "https://api.github.com/users/Codingbluey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Codingbluey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Codingbluey/subscriptions", "organizations_url": "https://api.github.com/users/Codingbluey/orgs", "repos_url": "https://api.github.com/users/Codingbluey/repos", "events_url": "https://api.github.com/users/Codingbluey/events{/privacy}", "received_events_url": "https://api.github.com/users/Codingbluey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-22T07:38:55Z", "updated_at": "2020-07-22T10:02:31Z", "closed_at": "2020-07-22T08:20:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nLast night my Discord bots randomly stopped working and when I tried to restart it I got an error saying that bot.run wasn't working\r\n\r\n### Expected Results\r\n\r\nThe bot to run\r\n\r\n### Actual Results\r\n\r\nFile \"main.py\", line 217, in <module>\r\n    bot.run()\r\n  File \"/opt/virtualenvs/python3/lib/python3.\r\n8/site-packages/discord/client.py\", line 640,\r\n in run\r\n    return future.result()\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/client.py\", line 585, in start\r\n    await self.connect(reconnect=reconnect)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/client.py\", line 499, in connect\r\n    await self._connect()\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/client.py\", line 463, in _connect\r\n    await self.ws.poll_event()\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/gateway.py\", line 471, in poll_event\r\n    await self.received_message(msg)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/gateway.py\", line 425, in received_message\r\n    func(data)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/state.py\", line 750, in parse_guild_create\r\n    guild = self._get_create_guild(data)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/state.py\", line 725, in _get_create_guild\r\n    guild._from_data(data)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/guild.py\", line 297, in _from_data\r\n    self._sync(guild)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/guild.py\", line 324, in _sync\r\n    self._add_channel(TextChannel(guild=self, data=c, state=self._state))\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n  File \"/opt/virtualenvs/python3/lib/python3.8/site-packages/discord/abc.py\", line 294, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'deny_new'\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [ x] I have searched the open issues for duplicates.\r\n- [x ] I have shown the entire traceback, if possible.\r\n- [ x] I have removed my token from display, if visible.\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5145", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5145/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5145/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5145/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5145", "id": 663487228, "node_id": "MDU6SXNzdWU2NjM0ODcyMjg=", "number": 5145, "title": "After restarting a discord bot, it will no longer be active.", "user": {"login": "DerekLovesPandas", "id": 65211449, "node_id": "MDQ6VXNlcjY1MjExNDQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/65211449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerekLovesPandas", "html_url": "https://github.com/DerekLovesPandas", "followers_url": "https://api.github.com/users/DerekLovesPandas/followers", "following_url": "https://api.github.com/users/DerekLovesPandas/following{/other_user}", "gists_url": "https://api.github.com/users/DerekLovesPandas/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerekLovesPandas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerekLovesPandas/subscriptions", "organizations_url": "https://api.github.com/users/DerekLovesPandas/orgs", "repos_url": "https://api.github.com/users/DerekLovesPandas/repos", "events_url": "https://api.github.com/users/DerekLovesPandas/events{/privacy}", "received_events_url": "https://api.github.com/users/DerekLovesPandas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T05:34:18Z", "updated_at": "2020-07-22T05:39:07Z", "closed_at": "2020-07-22T05:39:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "A few minutes ago I tried to run my discord bot because I had turned my computer off, and I run it locally. It gave me an error saying: \"TypeError: __new__() got an unexpected keyword argument 'deny_new'\" for some reason. I checked with some friends, and they reran their bots and it gave the same issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5144", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5144/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5144/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5144/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5144", "id": 663454117, "node_id": "MDU6SXNzdWU2NjM0NTQxMTc=", "number": 5144, "title": "Cant run bot", "user": {"login": "ragor11", "id": 52406582, "node_id": "MDQ6VXNlcjUyNDA2NTgy", "avatar_url": "https://avatars2.githubusercontent.com/u/52406582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ragor11", "html_url": "https://github.com/ragor11", "followers_url": "https://api.github.com/users/ragor11/followers", "following_url": "https://api.github.com/users/ragor11/following{/other_user}", "gists_url": "https://api.github.com/users/ragor11/gists{/gist_id}", "starred_url": "https://api.github.com/users/ragor11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ragor11/subscriptions", "organizations_url": "https://api.github.com/users/ragor11/orgs", "repos_url": "https://api.github.com/users/ragor11/repos", "events_url": "https://api.github.com/users/ragor11/events{/privacy}", "received_events_url": "https://api.github.com/users/ragor11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T03:56:16Z", "updated_at": "2020-07-22T03:57:38Z", "closed_at": "2020-07-22T03:57:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\client.py\", line 640, in run\r\n    return future.result()\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\client.py\", line 585, in start\r\n    await self.connect(reconnect=reconnect)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\client.py\", line 499, in connect\r\n    await self._connect()\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\client.py\", line 463, in _connect\r\n    await self.ws.poll_event()\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\gateway.py\", line 471, in poll_event\r\n    await self.received_message(msg)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\gateway.py\", line 425, in received_message\r\n    func(data)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\state.py\", line 720, in parse_guild_create\r\n    guild = self._get_create_guild(data)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\state.py\", line 695, in _get_create_guild\r\n    guild._from_data(data)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\guild.py\", line 288, in _from_data\r\n    self._sync(guild)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\guild.py\", line 317, in _sync\r\n    self._add_channel(VoiceChannel(guild=self, data=c, state=self._state))\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\channel.py\", line 550, in __init__\r\n    self._update(guild, data)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\channel.py\", line 581, in _update\r\n    self._fill_overwrites(data)\r\n  File \"C:\\Users\\Administrator\\Desktop\\lifebot\\discord\\abc.py\", line 296, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'deny_new'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5143", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5143/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5143/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5143/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5143", "id": 663430260, "node_id": "MDU6SXNzdWU2NjM0MzAyNjA=", "number": 5143, "title": "JPEG file not identified properly when setting server banner", "user": {"login": "Jefffrey", "id": 22608443, "node_id": "MDQ6VXNlcjIyNjA4NDQz", "avatar_url": "https://avatars1.githubusercontent.com/u/22608443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jefffrey", "html_url": "https://github.com/Jefffrey", "followers_url": "https://api.github.com/users/Jefffrey/followers", "following_url": "https://api.github.com/users/Jefffrey/following{/other_user}", "gists_url": "https://api.github.com/users/Jefffrey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jefffrey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jefffrey/subscriptions", "organizations_url": "https://api.github.com/users/Jefffrey/orgs", "repos_url": "https://api.github.com/users/Jefffrey/repos", "events_url": "https://api.github.com/users/Jefffrey/events{/privacy}", "received_events_url": "https://api.github.com/users/Jefffrey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10", "html_url": "https://github.com/Rapptz/discord.py/milestone/10", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10/labels", "id": 5273240, "node_id": "MDk6TWlsZXN0b25lNTI3MzI0MA==", "number": 10, "title": "1.4", "description": "", "creator": {"login": "Rapptz", "id": 1695103, "node_id": "MDQ6VXNlcjE2OTUxMDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1695103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rapptz", "html_url": "https://github.com/Rapptz", "followers_url": "https://api.github.com/users/Rapptz/followers", "following_url": "https://api.github.com/users/Rapptz/following{/other_user}", "gists_url": "https://api.github.com/users/Rapptz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rapptz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rapptz/subscriptions", "organizations_url": "https://api.github.com/users/Rapptz/orgs", "repos_url": "https://api.github.com/users/Rapptz/repos", "events_url": "https://api.github.com/users/Rapptz/events{/privacy}", "received_events_url": "https://api.github.com/users/Rapptz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2020-04-04T06:24:09Z", "updated_at": "2020-08-06T04:03:45Z", "due_on": null, "closed_at": "2020-08-06T04:03:45Z"}, "comments": 1, "created_at": "2020-07-22T02:41:43Z", "updated_at": "2020-07-22T02:57:53Z", "closed_at": "2020-07-22T02:57:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\r\n\r\nIn the[ _get_mime_type_for_image function in utils.py](https://github.com/Rapptz/discord.py/blob/master/discord/utils.py#L302), it relies on JPEG files having JFIF or Exif in the header, else it won't recognize the file as JPEG. However there may be JPEG files without JFIF or Exif in the header, such as [this one](https://i.imgur.com/v7oSOEQ.jpg). Setting it manually via discord client as banner works fine.\r\n\r\n### Reproduction Steps\r\n\r\n```py\r\n\tasync def set_server_banner(self, guild, filepath):\r\n\t\tasync with aiofiles.open(filepath, \"rb\") as f:\r\n\t\t\tb = await f.read()\r\n\t\t\tawait guild.edit(banner=bytearray(b))\r\n```\r\n\r\nWhere filepath is pointing to a local copy of the above mentioned image.\r\n\r\n### Expected Results\r\n\r\nBe recognized as JPEG image, thus be able to set as server banner.\r\n\r\n### Actual Results\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.local/lib/python3.7/site-packages/discord/ext/tasks/__init__.py\", line 73, in _loop\r\n    await self.coro(*args, **kwargs)\r\n  File \"/home/ubuntu/bot/cogs/cog.py\", line 556, in check\r\n    await self.set_server_banner(guild, config[\"banner_filepath\"])\r\n  File \"/home/ubuntu/bot/cogs/cog.py\", line 423, in set_server_banner\r\n    await guild.edit(banner=bytearray(b))\r\n  File \"/home/ubuntu/.local/lib/python3.7/site-packages/discord/guild.py\", line 1027, in edit\r\n    banner = utils._bytes_to_base64_data(banner_bytes)\r\n  File \"/home/ubuntu/.local/lib/python3.7/site-packages/discord/utils.py\", line 299, in _bytes_to_base64_data\r\n    mime = _get_mime_type_for_image(data)\r\n  File \"/home/ubuntu/.local/lib/python3.7/site-packages/discord/utils.py\", line 295, in _get_mime_type_for_image\r\n    raise InvalidArgument('Unsupported image type given')\r\ndiscord.errors.InvalidArgument: Unsupported image type given\r\n```\r\n\r\n### Checklist\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n- Python v3.7.7-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v6.0\r\n- system info: Linux 4.4.0-1052-aws #61-Ubuntu SMP Mon Feb 12 23:05:58 UTC 2018", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5142", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5142/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5142/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5142/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5142", "id": 663383148, "node_id": "MDU6SXNzdWU2NjMzODMxNDg=", "number": 5142, "title": "'Overwrites' got an unexpected keyword argument 'deny_new'", "user": {"login": "dovedevic", "id": 4553026, "node_id": "MDQ6VXNlcjQ1NTMwMjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/4553026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dovedevic", "html_url": "https://github.com/dovedevic", "followers_url": "https://api.github.com/users/dovedevic/followers", "following_url": "https://api.github.com/users/dovedevic/following{/other_user}", "gists_url": "https://api.github.com/users/dovedevic/gists{/gist_id}", "starred_url": "https://api.github.com/users/dovedevic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dovedevic/subscriptions", "organizations_url": "https://api.github.com/users/dovedevic/orgs", "repos_url": "https://api.github.com/users/dovedevic/repos", "events_url": "https://api.github.com/users/dovedevic/events{/privacy}", "received_events_url": "https://api.github.com/users/dovedevic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T00:08:55Z", "updated_at": "2020-07-22T00:16:49Z", "closed_at": "2020-07-22T00:10:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nNot much of a summary perse, my bot was idling at the time of crash. Stack trace shown below:\r\n\r\n```Traceback (most recent call last):\r\n  File \"/home/***/***/***/src/bot.py\", line 1700, in <module>\r\n    bot.run(creds)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/client.py\", line 598, in run\r\n    return future.result()\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/client.py\", line 579, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/client.py\", line 543, in start\r\n    await self.connect(reconnect=reconnect)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/client.py\", line 457, in connect\r\n    await self._connect()\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/client.py\", line 421, in _connect\r\n    await self.ws.poll_event()\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/gateway.py\", line 469, in poll_event\r\n    await self.received_message(msg)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/gateway.py\", line 423, in received_message\r\n    func(data)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/state.py\", line 663, in parse_guild_create\r\n    guild = self._get_create_guild(data)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/state.py\", line 638, in _get_create_guild\r\n    guild._from_data(data)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/guild.py\", line 391, in _from_data\r\n    self._sync(guild)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/guild.py\", line 418, in _sync\r\n    self._add_channel(TextChannel(guild=self, data=c, state=self._state))\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n  File \"/home/***/.local/lib/python3.6/site-packages/discord/abc.py\", line 271, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'deny_new'\r\n```\r\n\r\nSeems to be similar to #5109?\r\n\r\n### Reproduction Steps\r\n\r\nSeems to be when a guild is created or during channel sync. Cannot repo as this seems to be dependent on some sort of internal state. Has only occurred for me once.\r\n\r\n### Expected Results\r\n\r\nFor an error to not occur / fatally crash the bot.\r\n\r\n### Actual Results\r\n\r\nSee stack trace above.\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.6.9-final\r\n- discord.py v1.2.5-final\r\n- aiohttp v3.5.4\r\n- websockets v6.0\r\n- system info: Linux 4.15.0-101-generic #102-Ubuntu SMP Mon May 11 10:07:26 UTC 2020\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5139", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5139/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5139/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5139/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5139", "id": 661002391, "node_id": "MDU6SXNzdWU2NjEwMDIzOTE=", "number": 5139, "title": "Editing an embed containing an attached file makes the file show at the start of the embed", "user": {"login": "dob9601", "id": 24723950, "node_id": "MDQ6VXNlcjI0NzIzOTUw", "avatar_url": "https://avatars1.githubusercontent.com/u/24723950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dob9601", "html_url": "https://github.com/dob9601", "followers_url": "https://api.github.com/users/dob9601/followers", "following_url": "https://api.github.com/users/dob9601/following{/other_user}", "gists_url": "https://api.github.com/users/dob9601/gists{/gist_id}", "starred_url": "https://api.github.com/users/dob9601/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dob9601/subscriptions", "organizations_url": "https://api.github.com/users/dob9601/orgs", "repos_url": "https://api.github.com/users/dob9601/repos", "events_url": "https://api.github.com/users/dob9601/events{/privacy}", "received_events_url": "https://api.github.com/users/dob9601/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 397573646, "node_id": "MDU6TGFiZWwzOTc1NzM2NDY=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/discord%20bug", "name": "discord bug", "color": "5319e7", "default": false, "description": "This is a Discord bug, not one with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-19T18:52:19Z", "updated_at": "2020-07-20T04:11:48Z", "closed_at": "2020-07-20T04:11:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Upon editing an embed which has been sent with a local image attached to it, the image will show in full size above the embed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5137", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5137/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5137/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5137/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5137", "id": 660284802, "node_id": "MDU6SXNzdWU2NjAyODQ4MDI=", "number": 5137, "title": "discordapp.com -> discord.com domain migration ", "user": {"login": "luo-anthony", "id": 16310958, "node_id": "MDQ6VXNlcjE2MzEwOTU4", "avatar_url": "https://avatars1.githubusercontent.com/u/16310958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luo-anthony", "html_url": "https://github.com/luo-anthony", "followers_url": "https://api.github.com/users/luo-anthony/followers", "following_url": "https://api.github.com/users/luo-anthony/following{/other_user}", "gists_url": "https://api.github.com/users/luo-anthony/gists{/gist_id}", "starred_url": "https://api.github.com/users/luo-anthony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luo-anthony/subscriptions", "organizations_url": "https://api.github.com/users/luo-anthony/orgs", "repos_url": "https://api.github.com/users/luo-anthony/repos", "events_url": "https://api.github.com/users/luo-anthony/events{/privacy}", "received_events_url": "https://api.github.com/users/luo-anthony/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-18T17:53:24Z", "updated_at": "2020-07-18T17:57:04Z", "closed_at": "2020-07-18T17:57:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Received this message from Team Discord.** \r\n\r\n> It's your friendly neighborhood Bots & API Team checking in. If you're reading this message, it's because you created an application in our Developer Portal: https://discord.com/developers.\r\n> \r\n> We come bearing news, updates, and a one-time \"Get Out of Rate Limits Free\" card! Okay well, not the last one, but it caught your attention. We've got a few things to share with you, so let's get on with it.\r\n> \r\n> Developer Policy and Terms of Service Update\r\n> \r\n> Everyone's favorite time of the year, Terms of Service Update Season, is upon us. We're updating our Developer Terms of Service \u2014 which you can find here: https://discord.com/developers/docs/legal \u2014 to make it more human-readable.\r\n> \r\n> That's why we've also split it into two documents: our Developer Terms of Service: https://discord.com/developers/docs/legal and our Developer Policy: https://discord.com/developers/docs/policy. The Terms of Service covers all of the strictly legal bits of operating on our platform. Our Developer Policy covers our beliefs and guidelines on good use of our APIs that we use to guide our actions. Both are at the heart of what we believe being a good developer on Discord is about.\r\n> \r\n> We hope these changes make our terms and policy easier to understand.\r\n> \r\n> Discord API Domain Migration\r\n> \r\n> **Last month, we excitedly announced our official move to discord.com. It was a long time in the making, and the work isn't done yet! For now, our API will continue to handle requests made to discordapp.com. On November 7, 2020 we will be dropping support for the discordapp.com domain in favor of discord.com. Please ensure that your libraries, bots, and applications are updated accordingly.**\r\n> \r\n> Due to technical constraints, our CDN domain will not be migrated and will remain cdn.discordapp.com for the foreseeable future.\r\n> \r\n> Bot Verification Reminder\r\n> \r\n> Thanks to all of you that have gone through our bot verification process so far. The initial wave of applications was huge, and we recognize that we were slower than promised. Thank you all for your continued patience and support as we made it through all your applications. To date, nearly half of all eligible bots have been verified. Great work!\r\n> \r\n> For those of you that have not yet gone through our verification process, you can do so today by visiting your app in the Developer Portal. If your bot is in more than 75 guilds, you can begin the process. Reminder that the unrestricted period ends on October 6, 2020. On that date, we will be imposing the restrictions outlined in our previous blog post: https://blog.discord.com/the-future-of-bots-on-discord-4e6e050ab52e.\r\n> \r\n> You can still get verified after October 6, but go get a head start now and beat the rush!\r\n> \r\n> For those of you excited for the fancy new features shown in our blog post...keep being patient! We're putting some finishing touches on new API tools that will enable features like the ones you saw, and we can't wait to show them to you. Be prepared SLASH excited for the next coming couple months. If you haven't seen our blog post, go read it now: https://blog.discord.com/the-future-of-bots-on-discord-4e6e050ab52e.\r\n> \r\n> Happy coding!\r\n\r\nWill this library be updated to support the future domain migration? From a cursory glance, it seems like it would be a one-line change in discord/asset.py for the \"BASE\" string (line 66).\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5136", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5136/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5136/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5136/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5136", "id": 660046712, "node_id": "MDU6SXNzdWU2NjAwNDY3MTI=", "number": 5136, "title": "\"We are being rate limited\" string doesn't appear correct", "user": {"login": "skairunner", "id": 3517115, "node_id": "MDQ6VXNlcjM1MTcxMTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3517115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skairunner", "html_url": "https://github.com/skairunner", "followers_url": "https://api.github.com/users/skairunner/followers", "following_url": "https://api.github.com/users/skairunner/following{/other_user}", "gists_url": "https://api.github.com/users/skairunner/gists{/gist_id}", "starred_url": "https://api.github.com/users/skairunner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skairunner/subscriptions", "organizations_url": "https://api.github.com/users/skairunner/orgs", "repos_url": "https://api.github.com/users/skairunner/repos", "events_url": "https://api.github.com/users/skairunner/events{/privacy}", "received_events_url": "https://api.github.com/users/skairunner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-18T09:54:05Z", "updated_at": "2020-07-18T09:59:38Z", "closed_at": "2020-07-18T09:54:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nIf you configure logger to level WARN or lower and get rate limited, the message printed is approximately the following:\r\n\r\n```\r\nWARNING:discord.http:We are being rate limited. Retrying in 589.30 seconds. Handled u\r\nnder the bucket \"733982997472084028:None:/channels/{channel_id}\"\r\n```\r\n\r\nIt seems like {channel_id} should be being filled in.\r\n\r\n### Reproduction Steps\r\n\r\nGet rate limited. The following snippet should work, since channel editing has an incredibly low rate limit.\r\n\r\n```python\r\nimport logging\r\nlogging.basicConfig(level=30)\r\n\r\n# ...\r\n# log in and pick a channel of choice\r\n# ...\r\n\r\nawait channel.edit(topic=\"blah\")\r\nawait channel.edit(topic=\"bleh\")\r\n```\r\n\r\n### Expected Results\r\n\r\nI am not entirely sure what the error message should look like, but probably not like this.\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n```\r\n> poetry run python -m discord -v\r\n- Python v3.8.2-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.19.104-microsoft-standard #1 SMP Wed Feb 19 06:37:35 UTC 2020\r\n```\r\n\r\nNote: Am running on Ubuntu 20.04 installed via WSL2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5135", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5135/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5135/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5135/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5135", "id": 659544043, "node_id": "MDU6SXNzdWU2NTk1NDQwNDM=", "number": 5135, "title": "Add Python Typings", "user": {"login": "skairunner", "id": 3517115, "node_id": "MDQ6VXNlcjM1MTcxMTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3517115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skairunner", "html_url": "https://github.com/skairunner", "followers_url": "https://api.github.com/users/skairunner/followers", "following_url": "https://api.github.com/users/skairunner/following{/other_user}", "gists_url": "https://api.github.com/users/skairunner/gists{/gist_id}", "starred_url": "https://api.github.com/users/skairunner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skairunner/subscriptions", "organizations_url": "https://api.github.com/users/skairunner/orgs", "repos_url": "https://api.github.com/users/skairunner/repos", "events_url": "https://api.github.com/users/skairunner/events{/privacy}", "received_events_url": "https://api.github.com/users/skairunner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-17T19:09:13Z", "updated_at": "2020-07-17T22:19:36Z", "closed_at": "2020-07-17T22:19:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nOptional Python typings do not exist for discord.py\r\n\r\n### The Ideal Solution\r\n\r\nImplement said typings\r\n\r\n### The Current Solution\r\n\r\nMuddling along by reading the docs\r\n\r\n### Summary\r\n\r\n* Add in all the Python type annotations for ease of use with IDEs\r\n* Problem: Typings were only introduced in Python 3.6, meaning that this will raise the minimum version requirement for discord.py and make newer versions backwards incompatible\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5134", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5134/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5134/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5134/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5134", "id": 659123033, "node_id": "MDU6SXNzdWU2NTkxMjMwMzM=", "number": 5134, "title": "Add support to Russian booleans", "user": {"login": "averyanalex", "id": 59499799, "node_id": "MDQ6VXNlcjU5NDk5Nzk5", "avatar_url": "https://avatars0.githubusercontent.com/u/59499799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/averyanalex", "html_url": "https://github.com/averyanalex", "followers_url": "https://api.github.com/users/averyanalex/followers", "following_url": "https://api.github.com/users/averyanalex/following{/other_user}", "gists_url": "https://api.github.com/users/averyanalex/gists{/gist_id}", "starred_url": "https://api.github.com/users/averyanalex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/averyanalex/subscriptions", "organizations_url": "https://api.github.com/users/averyanalex/orgs", "repos_url": "https://api.github.com/users/averyanalex/repos", "events_url": "https://api.github.com/users/averyanalex/events{/privacy}", "received_events_url": "https://api.github.com/users/averyanalex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-17T10:30:05Z", "updated_at": "2020-07-19T10:38:03Z", "closed_at": "2020-07-19T10:38:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now, it works well with \"no\", \"false\" \"disable\".\r\nBut there is no Russian language support.\r\nPlease, add True:\r\n\u0414\u0430, \u0434, \u0432\u043a\u043b, \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e\r\nFalse:\r\n\u041d\u0435\u0442, \u043d, \u0432\u044b\u043a\u043b, \u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e\r\nBecouse I did not found it in conventer.py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5133", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5133/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5133/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5133/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5133", "id": 659024264, "node_id": "MDU6SXNzdWU2NTkwMjQyNjQ=", "number": 5133, "title": "message cache can cause severe ram usage spikes when re-identifying", "user": {"login": "AEnterprise", "id": 5206666, "node_id": "MDQ6VXNlcjUyMDY2NjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/5206666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AEnterprise", "html_url": "https://github.com/AEnterprise", "followers_url": "https://api.github.com/users/AEnterprise/followers", "following_url": "https://api.github.com/users/AEnterprise/following{/other_user}", "gists_url": "https://api.github.com/users/AEnterprise/gists{/gist_id}", "starred_url": "https://api.github.com/users/AEnterprise/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AEnterprise/subscriptions", "organizations_url": "https://api.github.com/users/AEnterprise/orgs", "repos_url": "https://api.github.com/users/AEnterprise/repos", "events_url": "https://api.github.com/users/AEnterprise/events{/privacy}", "received_events_url": "https://api.github.com/users/AEnterprise/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-17T08:40:31Z", "updated_at": "2020-07-23T04:58:30Z", "closed_at": "2020-07-23T04:32:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen discord invalidates some shard sessions while running, this causes shards to re-identify, this re-identifying of a few shards causes so much io-wait it kills the entire vps. I am running 3 instances with 2 shards each). This extreme io-wait does not happen at all when starting the instances\r\n\r\ni am already using the sharding-rework branch, and while this solved many issues, this still happens every few weeks.\r\n\r\nlog: https://gist.github.com/AEnterprise/3f004ef47bd21ffc71098f5a4962e66b\r\n\r\nas you can see around 03:29 sessions dropped and got resumed, however at 03:32 timeouts started to happen and sessions invalidated. at 03:33 blocked hearbeats logs started and don't stop, at this point all shards start to die because this is overloading the vps with abnormal io-wait\r\n\r\n![image](https://user-images.githubusercontent.com/5206666/87765209-d5809c00-c817-11ea-840a-d4a58b6cc598.png)\r\n\r\nwhen cold booting the 3 instances i do not get anywhere close to this amount of cripeling io-wait\r\n\r\n![image](https://user-images.githubusercontent.com/5206666/87766187-0dd4aa00-c819-11ea-838d-86762f309fc6.png)\r\n\r\n\r\nthe instances started at 08:41:47, 08:42:25 and 08:43:50. There was some initial iowait due to vps still starting, but it never reached the cripeling 98% that it reached when re-identifying\r\n\r\n\r\n### Expected Results\r\n\r\nIt to re-identify the shards without causing extreme io-wait issues\r\n\r\n### Actual Results\r\n\r\nextreme io-wait leading to cascading failures\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n- Python v3.7.5-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2393+g36f3dca\r\n- aiohttp v3.6.2\r\n- system info: Linux 4.15.0-99-generic #100-Ubuntu SMP Wed Apr 22 20:32:56 UTC 2020\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5131", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5131/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5131/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5131/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5131", "id": 658586184, "node_id": "MDU6SXNzdWU2NTg1ODYxODQ=", "number": 5131, "title": "Audio playback from Youtube: TLS session invalidated", "user": {"login": "L12C", "id": 56705486, "node_id": "MDQ6VXNlcjU2NzA1NDg2", "avatar_url": "https://avatars0.githubusercontent.com/u/56705486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/L12C", "html_url": "https://github.com/L12C", "followers_url": "https://api.github.com/users/L12C/followers", "following_url": "https://api.github.com/users/L12C/following{/other_user}", "gists_url": "https://api.github.com/users/L12C/gists{/gist_id}", "starred_url": "https://api.github.com/users/L12C/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/L12C/subscriptions", "organizations_url": "https://api.github.com/users/L12C/orgs", "repos_url": "https://api.github.com/users/L12C/repos", "events_url": "https://api.github.com/users/L12C/events{/privacy}", "received_events_url": "https://api.github.com/users/L12C/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 653343598, "node_id": "MDU6TGFiZWw2NTMzNDM1OTg=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/off-topic", "name": "off-topic", "color": "d4c5f9", "default": false, "description": "This does not belong here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-16T21:27:52Z", "updated_at": "2020-07-24T11:28:45Z", "closed_at": "2020-07-24T11:28:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\nWhen attempting to stream audio from Youtube to a voice channel, the connection to Youtube is closed after approximately three minutes. This only happens when using Discord.py and Youtube, not when using other video hosting sites or using other software to access it (such as directly using ffmpeg) \r\n\r\n### Reproduction Steps\r\nRun the following code snippet with stream_url being a YT stream url as obtained from `YoutubeDL(YTDL_OPTS).extract_info(video_url, download=False)[\"formats\"][0][\"url\"]`(using [youtube-dl](https://github.com/ytdl-org/youtube-dl/)):\r\n\r\n```\r\nsource = discord.PCMVolumeTransformer(\r\n    discord.FFmpegPCMAudio(stream_url), volume=state.volume)\r\n\r\ndef after_playing(err):\r\n    asyncio.run_coroutine_threadsafe(client.disconnect(), self.bot.loop)\r\n\r\nclient.play(source, after=after_playing)\r\n```\r\n\r\n### Expected Results\r\n\r\nThe audio of the given Youtube video is played in the voice channel\r\n\r\n### Actual Results\r\n\r\nPlayback starts, but after around three minutes terminates, printing this to the console:\r\n\r\n```\r\n[tls @ 0x55afa0b30640] Error in the pull function.\r\n[matroska,webm @ 0x55afa0b2c300] Read error\r\n[tls @ 0x55afa0b30640] The specified session has been invalidated for some reason.\r\n    Last message repeated 1 times\r\nhttps://r1---sn-4g5ednee.googlevideo.com/videoplayback?[OMITTED]: Input/output error\r\n[2020-07-16 23:00:56,034] INFO [discord.player.cleanup:153] Preparing to terminate ffmpeg process 8873.\r\n[2020-07-16 23:00:56,036] INFO [discord.player.cleanup:165] ffmpeg process 8873 successfully terminated with return code of 0.\r\n[2020-07-16 23:00:56,064] INFO [discord.voice_client.terminate_handshake:166] The voice handshake is being terminated for Channel ID XXXXXXXXXXXXXXXXXX (Guild ID XXXXXXXXXXXXXXXXXX)\r\n[2020-07-16 23:00:56,065] INFO [discord.voice_client.terminate_handshake:168] The voice client has been removed for Channel ID XXXXXXXXXXXXXXXXXX (Guild ID XXXXXXXXXXXXXXXXXX)\r\n[2020-07-16 23:00:56,065] INFO [discord.voice_client.poll_voice_ws:251] Disconnecting from voice normally, close code 1000.\r\n```\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n- Python v3.8.3-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.7.8-arch1-1 #1 SMP PREEMPT Thu, 09 Jul 2020 16:34:01 +0000", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5129", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5129/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5129/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5129/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5129", "id": 656972981, "node_id": "MDU6SXNzdWU2NTY5NzI5ODE=", "number": 5129, "title": "Ability to add more media per embed", "user": {"login": "isabelok", "id": 64762534, "node_id": "MDQ6VXNlcjY0NzYyNTM0", "avatar_url": "https://avatars1.githubusercontent.com/u/64762534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isabelok", "html_url": "https://github.com/isabelok", "followers_url": "https://api.github.com/users/isabelok/followers", "following_url": "https://api.github.com/users/isabelok/following{/other_user}", "gists_url": "https://api.github.com/users/isabelok/gists{/gist_id}", "starred_url": "https://api.github.com/users/isabelok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isabelok/subscriptions", "organizations_url": "https://api.github.com/users/isabelok/orgs", "repos_url": "https://api.github.com/users/isabelok/repos", "events_url": "https://api.github.com/users/isabelok/events{/privacy}", "received_events_url": "https://api.github.com/users/isabelok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 653343598, "node_id": "MDU6TGFiZWw2NTMzNDM1OTg=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/off-topic", "name": "off-topic", "color": "d4c5f9", "default": false, "description": "This does not belong here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-15T00:16:58Z", "updated_at": "2020-07-15T02:48:25Z", "closed_at": "2020-07-15T00:19:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\nEmbeds in the library can only contain one image. Videos also cannot be added to embeds (as far as I can tell) but are still detectable with `Embed.video`\r\n<!--\r\nWhat problem is your feature trying to solve? What becomes easier or possible when this feature is implemented?\r\n-->\r\n\r\n### The Ideal Solution\r\nEmbeds would allow multiple images (this is possible by adding multiple embeds with the same title and title URL and adding a separate image to each, according to [this site](https://discohook.org/)) and would allow videos to be added. \r\nMultiple embeds per message would also allow you to fix the image issue.\r\n<!--\r\nWhat is your ideal solution to the problem? What would you like this feature to do?\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5128", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5128/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5128/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5128/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5128", "id": 655490984, "node_id": "MDU6SXNzdWU2NTU0OTA5ODQ=", "number": 5128, "title": "WebSocket closed with 4011 error code", "user": {"login": "Dyleee", "id": 36546002, "node_id": "MDQ6VXNlcjM2NTQ2MDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/36546002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dyleee", "html_url": "https://github.com/Dyleee", "followers_url": "https://api.github.com/users/Dyleee/followers", "following_url": "https://api.github.com/users/Dyleee/following{/other_user}", "gists_url": "https://api.github.com/users/Dyleee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dyleee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dyleee/subscriptions", "organizations_url": "https://api.github.com/users/Dyleee/orgs", "repos_url": "https://api.github.com/users/Dyleee/repos", "events_url": "https://api.github.com/users/Dyleee/events{/privacy}", "received_events_url": "https://api.github.com/users/Dyleee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-12T22:45:55Z", "updated_at": "2020-07-13T00:32:54Z", "closed_at": "2020-07-13T00:32:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nSo upon launching my bot, there's a websocket closure upon launching Shard 8, might not be the same for testers but the websocket closes with error code 4011 thus shutting down the entire bot.\r\n\r\n### Expected Results\r\n\r\nBot should launch normally.\r\n\r\n### Actual Results\r\n```\r\n0|MewBot  | Traceback (most recent call last):\r\n0|MewBot  |   File \"/usr/local/lib/python3.8/runpy.py\", line 193, in _run_module_as_main\r\n0|MewBot  |     return _run_code(code, main_globals, None,\r\n0|MewBot  |   File \"/usr/local/lib/python3.8/runpy.py\", line 86, in _run_code\r\n0|MewBot  |     exec(code, run_globals)\r\n0|MewBot  |   File \"/home/dylee/mewbot/mew/__main__.py\", line 83, in <module>\r\n0|MewBot  |     main()\r\n0|MewBot  |   File \"/home/dylee/mewbot/mew/__main__.py\", line 80, in main\r\n0|MewBot  |     client.run()\r\n0|MewBot  |   File \"/home/dylee/mewbot/mew/core/dna.py\", line 202, in run\r\n0|MewBot  |     self.loop.run_until_complete(runner())\r\n0|MewBot  |   File \"uvloop/loop.pyx\", line 1456, in uvloop.loop.Loop.run_until_complete\r\n0|MewBot  |   File \"/home/dylee/mewbot/mew/core/dna.py\", line 198, in runner\r\n0|MewBot  |     await self.start()\r\n0|MewBot  |   File \"/home/dylee/mewbot/mew/core/dna.py\", line 192, in start\r\n0|MewBot  |     await super().start(self.token)\r\n0|MewBot  |   File \"/home/dylee/.local/lib/python3.8/site-packages/discord/client.py\", line 622, in start\r\n0|MewBot  |     await self.connect(reconnect=reconnect)\r\n0|MewBot  |   File \"/home/dylee/.local/lib/python3.8/site-packages/discord/shard.py\", line 309, in connect\r\n0|MewBot  |     raise item.error\r\n0|MewBot  |   File \"/home/dylee/.local/lib/python3.8/site-packages/discord/shard.py\", line 134, in worker\r\n0|MewBot  |     await self.ws.poll_event()\r\n0|MewBot  |   File \"/home/dylee/.local/lib/python3.8/site-packages/discord/gateway.py\", line 529, in poll_event\r\n0|MewBot  |     raise ConnectionClosed(self.socket, shard_id=self.shard_id) from None\r\n0|MewBot  | discord.errors.ConnectionClosed: Shard ID 8 WebSocket closed with 4011\r\n```\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n\r\n### System Information\r\n- Python v3.8.1-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2393+g36f3dca\r\n- aiohttp v3.6.2\r\n- system info: Linux 4.15.0-96-generic #97-Ubuntu SMP Wed Apr 1 03:25:46 UTC 2020", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5127", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5127/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5127/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5127/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5127", "id": 655473710, "node_id": "MDU6SXNzdWU2NTU0NzM3MTA=", "number": 5127, "title": "Purge messages with rewrite", "user": {"login": "theholykingmax", "id": 49844637, "node_id": "MDQ6VXNlcjQ5ODQ0NjM3", "avatar_url": "https://avatars0.githubusercontent.com/u/49844637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theholykingmax", "html_url": "https://github.com/theholykingmax", "followers_url": "https://api.github.com/users/theholykingmax/followers", "following_url": "https://api.github.com/users/theholykingmax/following{/other_user}", "gists_url": "https://api.github.com/users/theholykingmax/gists{/gist_id}", "starred_url": "https://api.github.com/users/theholykingmax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theholykingmax/subscriptions", "organizations_url": "https://api.github.com/users/theholykingmax/orgs", "repos_url": "https://api.github.com/users/theholykingmax/repos", "events_url": "https://api.github.com/users/theholykingmax/events{/privacy}", "received_events_url": "https://api.github.com/users/theholykingmax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-12T20:47:11Z", "updated_at": "2020-07-12T20:55:31Z", "closed_at": "2020-07-12T20:55:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there! I am trying to find out how I can use the purge message command for discord.py rewrite. Is there any way to do this so only people with the manage messages (or admin) permission can use it?\r\nAny help would be appreciated. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5126", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5126/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5126/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5126/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5126", "id": 655438457, "node_id": "MDU6SXNzdWU2NTU0Mzg0NTc=", "number": 5126, "title": "TypeError: __new__() got an unexpected keyword argument 'allow_new' TextChannel.clone", "user": {"login": "Showdown76py", "id": 66854264, "node_id": "MDQ6VXNlcjY2ODU0MjY0", "avatar_url": "https://avatars2.githubusercontent.com/u/66854264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Showdown76py", "html_url": "https://github.com/Showdown76py", "followers_url": "https://api.github.com/users/Showdown76py/followers", "following_url": "https://api.github.com/users/Showdown76py/following{/other_user}", "gists_url": "https://api.github.com/users/Showdown76py/gists{/gist_id}", "starred_url": "https://api.github.com/users/Showdown76py/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Showdown76py/subscriptions", "organizations_url": "https://api.github.com/users/Showdown76py/orgs", "repos_url": "https://api.github.com/users/Showdown76py/repos", "events_url": "https://api.github.com/users/Showdown76py/events{/privacy}", "received_events_url": "https://api.github.com/users/Showdown76py/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-12T17:07:20Z", "updated_at": "2020-07-12T17:09:16Z", "closed_at": "2020-07-12T17:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nTextChannel.nuke stopped working recently, I don't know if it's an Discord API Update.\r\n\r\n### Reproduction Steps\r\n\r\nI did a nuke command, which should work perfectly: \"await ctx.channel.clone(reason=\"Nuke\")\" (before it was working perfectly) and now there's an error: TypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n\r\n### Expected Results\r\n\r\nIt should clone the channel, same permissions, same name, cooldown, description, category, etc\r\n\r\n### Actual Results\r\n\r\nIt doesn't work and raise TypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 6, in nuke\r\n  File \"/usr/local/lib/python3.6/site-packages/discord/channel.py\", line 242, in clone\r\n    }, name=name, reason=reason)\r\n  File \"/usr/local/lib/python3.6/site-packages/discord/abc.py\", line 650, in _clone_impl\r\n    obj = cls(state=self._state, guild=self.guild, data=data)\r\n  File \"/usr/local/lib/python3.6/site-packages/discord/channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n  File \"/usr/local/lib/python3.6/site-packages/discord/channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n  File \"/usr/local/lib/python3.6/site-packages/discord/abc.py\", line 294, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.6.4-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.9.0 #1 SMP Mon Mar 16 15:39:59 MSK 2020\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5125", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5125/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5125/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5125/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5125", "id": 655434603, "node_id": "MDU6SXNzdWU2NTU0MzQ2MDM=", "number": 5125, "title": "AttributeError: 'function' object has no attribute '__func__'", "user": {"login": "artem-6191", "id": 43674123, "node_id": "MDQ6VXNlcjQzNjc0MTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/43674123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artem-6191", "html_url": "https://github.com/artem-6191", "followers_url": "https://api.github.com/users/artem-6191/followers", "following_url": "https://api.github.com/users/artem-6191/following{/other_user}", "gists_url": "https://api.github.com/users/artem-6191/gists{/gist_id}", "starred_url": "https://api.github.com/users/artem-6191/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artem-6191/subscriptions", "organizations_url": "https://api.github.com/users/artem-6191/orgs", "repos_url": "https://api.github.com/users/artem-6191/repos", "events_url": "https://api.github.com/users/artem-6191/events{/privacy}", "received_events_url": "https://api.github.com/users/artem-6191/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130947, "node_id": "MDU6TGFiZWwyNTExMzA5NDc=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-12T16:44:27Z", "updated_at": "2020-07-12T17:03:23Z", "closed_at": "2020-07-12T17:03:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nAny cog commands failed with error \"AttributeError: 'function' object has no attribute '__func__'\" \r\n\r\n### Reproduction Steps\r\n\r\nI made that bot changes cog_check for every cog when ready:\r\n```py\r\nasync def on_ready(self):\r\n  async def check(self, ctx):\r\n    if not ctx.guild:\r\n      return False\r\n    disabled = await self.db('SELECT * FROM disabled_commands WHERE id=$1', ctx.guild.id)\r\n    return str(ctx.command) not in [x['command'] for x in disabled]\r\n  for cog in self.cogs:\r\n    self.cogs[cog].cog_check = check \r\n```\r\nBut if i paste the same check function in all the cogs all will be ok\r\n\r\n### Expected Results\r\n\r\nBlocking certain commands for certain guilds\r\n\r\n### Actual Results\r\n\r\nI got this error:\r\n```py\r\nIgnoring exception in on_message\r\nTraceback (most recent call last):\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/client.py\", line 304, in _run_event\r\n    await coro(*args, **kwargs)\r\n  File \"main.py\", line 75, in on_message\r\n    await self.process_commands(msg)\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/bot.py\", line 934, in process_commands\r\n    await self.invoke(ctx)\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/bot.py\", line 897, in invoke\r\n    await ctx.command.invoke(ctx)\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 823, in invoke\r\n    await self.prepare(ctx)\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 776, in prepare\r\n    if not await self.can_run(ctx):\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 1033, in can_run\r\n    local_check = Cog._get_overridden_method(cog.cog_check)\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/cog.py\", line 240, in _get_overridden_method    return getattr(method.__func__, '__cog_special_method__', method)\r\nAttributeError: 'function' object has no attribute '__func__'\r\n```\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n- [x] I have checked that this error not in my bot code\r\n\r\n### System Information\r\n\r\n- Python v3.8.0-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2377+g0bc15fa\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.3.0-1028-aws #30~18.04.1-Ubuntu SMP Mon Jun 22 15:48:21 UTC 2020\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5123", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5123/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5123/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5123/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5123", "id": 655389661, "node_id": "MDU6SXNzdWU2NTUzODk2NjE=", "number": 5123, "title": "Argument \"resend\" for <discord.Message>.edit", "user": {"login": "artem-6191", "id": 43674123, "node_id": "MDQ6VXNlcjQzNjc0MTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/43674123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artem-6191", "html_url": "https://github.com/artem-6191", "followers_url": "https://api.github.com/users/artem-6191/followers", "following_url": "https://api.github.com/users/artem-6191/following{/other_user}", "gists_url": "https://api.github.com/users/artem-6191/gists{/gist_id}", "starred_url": "https://api.github.com/users/artem-6191/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artem-6191/subscriptions", "organizations_url": "https://api.github.com/users/artem-6191/orgs", "repos_url": "https://api.github.com/users/artem-6191/repos", "events_url": "https://api.github.com/users/artem-6191/events{/privacy}", "received_events_url": "https://api.github.com/users/artem-6191/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130947, "node_id": "MDU6TGFiZWwyNTExMzA5NDc=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-12T12:19:24Z", "updated_at": "2020-07-12T12:58:26Z", "closed_at": "2020-07-12T12:58:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Current problem\r\n\r\nToo many try/except for will make code more unreadable/incomprehensible/etc and appear on performance\r\n\r\n### The Ideal Solution\r\n\r\nAdding \"resend\" for <discord.Message>.edit\r\nExample:\r\n```py\r\nmsg = await ctx.send('hello')\r\nawait msg.edit(content='world', resend=True) # Will edit message to \"world\"\r\nawait msg.delete() \r\nawait msg.edit(content='hello world', resend=True) # WIll send \"hello world\"\r\n```\r\n\r\n### The Current Solution\r\n\r\n```py\r\ntry:\r\n   await msg.edit(...)\r\nexcept discord.errors.NotFound:\r\n   msg = await ctx.send(...)\r\n```\r\n\r\n### Summary\r\n\r\nWith this feature it will be easier to resend message if bot can't edit message (i.e. message has been deleted, etc)\r\n<discord.Message>.edit(resend=True) will automaticly try to resend message if message editing failed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5119", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5119/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5119/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5119/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5119", "id": 655266213, "node_id": "MDU6SXNzdWU2NTUyNjYyMTM=", "number": 5119, "title": "Cannot connect to host discordapp.com:443", "user": {"login": "Giancrafter", "id": 51193103, "node_id": "MDQ6VXNlcjUxMTkzMTAz", "avatar_url": "https://avatars2.githubusercontent.com/u/51193103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Giancrafter", "html_url": "https://github.com/Giancrafter", "followers_url": "https://api.github.com/users/Giancrafter/followers", "following_url": "https://api.github.com/users/Giancrafter/following{/other_user}", "gists_url": "https://api.github.com/users/Giancrafter/gists{/gist_id}", "starred_url": "https://api.github.com/users/Giancrafter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Giancrafter/subscriptions", "organizations_url": "https://api.github.com/users/Giancrafter/orgs", "repos_url": "https://api.github.com/users/Giancrafter/repos", "events_url": "https://api.github.com/users/Giancrafter/events{/privacy}", "received_events_url": "https://api.github.com/users/Giancrafter/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-11T19:33:22Z", "updated_at": "2020-07-12T10:09:49Z", "closed_at": "2020-07-11T23:40:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nDiscord Bot doesn't want to start\r\n\r\n### Reproduction Steps\r\n\r\nRan the basic bot example with my key but got an SSL error\r\n\r\n### Expected Results\r\n\r\n<!-- What you expected to happen -->\r\nThe Bot does start\r\n\r\n### Actual Results\r\nIt crashed on start and gave me the error below:\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/connector.py\", line 936, in _wrap_create_connection\r\n    return await self._loop.create_connection(*args, **kwargs)  # type: ignore  # noqa\r\n  File \"/usr/lib/python3.6/asyncio/base_events.py\", line 820, in create_connection\r\n    sock, protocol_factory, ssl, server_hostname)\r\n  File \"/usr/lib/python3.6/asyncio/base_events.py\", line 846, in _create_connection_transport\r\n    yield from waiter\r\n  File \"/usr/lib/python3.6/asyncio/sslproto.py\", line 505, in data_received\r\n    ssldata, appdata = self._sslpipe.feed_ssldata(data)\r\n  File \"/usr/lib/python3.6/asyncio/sslproto.py\", line 201, in feed_ssldata\r\n    self._sslobj.do_handshake()\r\n  File \"/usr/lib/python3.6/ssl.py\", line 689, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 66, in <module>\r\n    client.run('MY TOKEN')\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/client.py\", line 640, in run\r\n    return future.result()\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/client.py\", line 584, in start\r\n    await self.login(*args, bot=bot)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/client.py\", line 442, in login\r\n    await self.http.static_login(token.strip(), bot=bot)\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/http.py\", line 261, in static_login\r\n    data = await self.request(Route('GET', '/users/@me'))\r\n  File \"/usr/local/lib/python3.6/dist-packages/discord/http.py\", line 165, in request\r\n    async with self.__session.request(method, url, **kwargs) as r:\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/client.py\", line 1012, in __aenter__\r\n    self._resp = await self._coro\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/client.py\", line 483, in _request\r\n    timeout=real_timeout\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/connector.py\", line 523, in connect\r\n    proto = await self._create_connection(req, traces, timeout)\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/connector.py\", line 859, in _create_connection\r\n    req, traces, timeout)\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/connector.py\", line 1004, in _create_direct_connection\r\n    raise last_exc\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/connector.py\", line 986, in _create_direct_connection\r\n    req=req, client_error=client_error)\r\n  File \"/usr/local/lib/python3.6/dist-packages/aiohttp/connector.py\", line 941, in _wrap_create_connection\r\n    raise ClientConnectorSSLError(req.connection_key, exc) from exc\r\naiohttp.client_exceptions.ClientConnectorSSLError: Cannot connect to host discordapp.com:443 ssl:default [[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)]\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n- Python v3.6.9-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.15.0-20-generic #21-Ubuntu SMP Tue Apr 24 06:16:15 UTC 2018", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5118", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5118/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5118/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5118/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5118", "id": 655204338, "node_id": "MDU6SXNzdWU2NTUyMDQzMzg=", "number": 5118, "title": "discord.Streaming platform parameter does not work as it should when argument is YouTube", "user": {"login": "Batman212369", "id": 56501846, "node_id": "MDQ6VXNlcjU2NTAxODQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/56501846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Batman212369", "html_url": "https://github.com/Batman212369", "followers_url": "https://api.github.com/users/Batman212369/followers", "following_url": "https://api.github.com/users/Batman212369/following{/other_user}", "gists_url": "https://api.github.com/users/Batman212369/gists{/gist_id}", "starred_url": "https://api.github.com/users/Batman212369/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Batman212369/subscriptions", "organizations_url": "https://api.github.com/users/Batman212369/orgs", "repos_url": "https://api.github.com/users/Batman212369/repos", "events_url": "https://api.github.com/users/Batman212369/events{/privacy}", "received_events_url": "https://api.github.com/users/Batman212369/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-11T12:59:31Z", "updated_at": "2020-07-11T15:26:49Z", "closed_at": "2020-07-11T15:25:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nHello there. Recently, I tried making the bot stream a YouTube live video (for testing purposes), supplying it with all necessary arguments, including the platform argument. It does say \"Streaming (NAME)\", but when you open it, it says \"Live on Twitch\" instead of \"Live on YouTube\". Really not much else to say except that it is broken.\r\n\r\n### Reproduction Steps\r\n\r\n`await bot.change_presence(status=discord.Status.online, activity=discord.Streaming(platform=\"YouTube\", url=\"https://www.youtube.com/watch?v=5qap5aO4i9A\", name=\"Test\"))`\r\n(Even though everything is valid and the bot's status are set to \"Streaming\", it says \"Live on Twitch\")\r\n(Can be replicated by simply using any YouTube URL, any name, and having the platform as \"YouTube\")\r\n\r\n### Expected Results\r\n\r\nBot should be saying \"Live on YouTube\".\r\n\r\n### Actual Results\r\n\r\nBot says \"Live on Twitch\".\r\n\r\n![image](https://user-images.githubusercontent.com/56501846/87224557-dc7a5b00-c38e-11ea-9398-2148febd4cc1.png)\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n```\r\n- Python v3.7.8-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Windows 10 10.0.15063\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5117", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5117/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5117/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5117/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5117", "id": 654979993, "node_id": "MDU6SXNzdWU2NTQ5Nzk5OTM=", "number": 5117, "title": "__new__() got an unexpected keyword argument 'allow_new'", "user": {"login": "adenirlc", "id": 56934001, "node_id": "MDQ6VXNlcjU2OTM0MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/56934001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adenirlc", "html_url": "https://github.com/adenirlc", "followers_url": "https://api.github.com/users/adenirlc/followers", "following_url": "https://api.github.com/users/adenirlc/following{/other_user}", "gists_url": "https://api.github.com/users/adenirlc/gists{/gist_id}", "starred_url": "https://api.github.com/users/adenirlc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adenirlc/subscriptions", "organizations_url": "https://api.github.com/users/adenirlc/orgs", "repos_url": "https://api.github.com/users/adenirlc/repos", "events_url": "https://api.github.com/users/adenirlc/events{/privacy}", "received_events_url": "https://api.github.com/users/adenirlc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-10T19:05:39Z", "updated_at": "2020-07-10T19:31:32Z", "closed_at": "2020-07-10T19:31:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen I try to create a new text channel in a certain category, the console informs me of an error: \"__new __ () got an unexpected keyword argument 'allow_new'\".\r\n\r\n### Reproduction Steps\r\n\r\nchannel_name = f'whitelist-{ctx.author.name}'\r\n            overwrites = {\r\n                ctx.guild.default_role: discord.PermissionOverwrite(read_messages=False),\r\n                ctx.guild.me: discord.PermissionOverwrite(read_messages=True, send_messages=True),\r\n                ctx.author: discord.PermissionOverwrite(read_messages=True, send_messages=True)\r\n            }\r\n            category = discord.utils.get(ctx.guild.categories, id=726608116271022141)\r\n            channel = await ctx.guild.create_text_channel(channel_name, category=category,\r\n                                                overwrites=overwrites, nsfw=False, position=1, reason=\"WhiteList IceRP\")\r\n            print(channel.id)\r\n### Expected Results\r\n\r\nExpected Result: <b>TheChannelID</b>\r\n### Actual Results\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.1-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.5.4\r\n- websockets v6.0\r\n- system info: Windows 10 10.0.19041\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5116", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5116/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5116/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5116/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5116", "id": 654843444, "node_id": "MDU6SXNzdWU2NTQ4NDM0NDQ=", "number": 5116, "title": "Bot will create a channel but also raise an exception at the same time", "user": {"login": "zenverak", "id": 6727794, "node_id": "MDQ6VXNlcjY3Mjc3OTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6727794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zenverak", "html_url": "https://github.com/zenverak", "followers_url": "https://api.github.com/users/zenverak/followers", "following_url": "https://api.github.com/users/zenverak/following{/other_user}", "gists_url": "https://api.github.com/users/zenverak/gists{/gist_id}", "starred_url": "https://api.github.com/users/zenverak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zenverak/subscriptions", "organizations_url": "https://api.github.com/users/zenverak/orgs", "repos_url": "https://api.github.com/users/zenverak/repos", "events_url": "https://api.github.com/users/zenverak/events{/privacy}", "received_events_url": "https://api.github.com/users/zenverak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-10T15:01:51Z", "updated_at": "2020-07-10T19:32:20Z", "closed_at": "2020-07-10T15:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI have noticed a strange issue that just started last night. My only assumption is that something happened with Discord but either way. What happened is that my bot creates a channel for 'ticketing' purposes.  What was happening is that the channel would be created, but then the bot would raise an exception at the same time almost as if the channel was not created. I would expect that the channel wouldn't be created if something was wrong while also hitting an exception.\r\n\r\n### Reproduction Steps\r\n\r\nSee the code. I am unsure exactly what I am doing wrong. But if there is something else I can provide, please let me know.\r\n\r\n```\r\ncategory = discord.utils.get(ctx.guild.categories, id=c_id)\r\n while try_count1 < 5:\r\n            print(\"try count is {}\".format(try_count1))\r\n            try:\r\n                await category.create_text_channel(chan_name, overwrites=overwrites)\r\n                ##set it back to true just in case it failed a few times\r\n                chan_exist=True\r\n                break         \r\n            except Exception as e:          \r\n                try_count1 += 1\r\n                logging.debug(\"{}Failed {} times to create channel\".format(phrase, count))\r\n                logging.debug(str(e))\r\n                chan_exist = False\r\n```\r\n\r\n\r\n\r\n\r\n### Expected Results\r\n\r\nI would have expected that once the 201 was returned from the create_text_channel that it would have gone to the break and continued onto the function. \r\n\r\n\r\n### Actual Results\r\n\r\nSee the log below. We get a  201 request  and in the server we saw that the channel was created.  Yet, immediately after you will see the Exception returned. \r\n\r\n**2020-07-09 22:43:28,866 __new__() got an unexpected keyword argument 'deny_new'**\r\n\r\nThough i didn't get the full stacktrace which I may need to edit my code to return that better in log.  Note that the ( failed 39 times)_ you will see in there is a display bug as this was the first time it failed. \r\n\r\n```\r\n2020-07-09 22:43:28,864 POST https://discordapp.com/api/v7/guilds/604788151642226698/channels with {\"parent_id\":633877013383348234,\"name\":\"ticket-age-role-38\",\"type\":0,\"permission_overwrites\":[{\"id\":604801999866822686,\"type\":\"role\",\"allow\":3072,\"deny\":0},{\"id\":########,\"type\":\"role\",\"allow\":3072,\"deny\":0},{\"id\":642345026264760329,\"type\":\"role\",\"allow\":3072,\"deny\":0},{\"id\":600076420315742212,\"type\":\"member\",\"allow\":3072,\"deny\":0},{\"id\":604788151642226698,\"type\":\"role\",\"allow\":0,\"deny\":1024}]} has returned 201\r\n2020-07-09 22:43:28,865 POST https://discordapp.com/api/v7/guilds/#####/channels has received {'position': 221, 'parent_id': '633877013383348234', 'topic': None, 'type': 0, 'id': '#######', 'nsfw': False, 'last_message_id': None, 'permission_overwrites': [{'deny_new': '0', 'type': 'role', 'id': '#######', 'allow_new': '3072', 'allow': 3072, 'deny': 0}, {'deny_new': '0', 'type': 'role', 'id': '#######', 'allow_new': '3072', 'allow': 3072, 'deny': 0}, {'deny_new': '0', 'type': 'role', 'id': '#######', 'allow_new': '3072', 'allow': 3072, 'deny': 0}, {'deny_new': '0', 'type': 'member', 'id': '########', 'allow_new': '3072', 'allow': 3072, 'deny': 0}, {'deny_new': '1024', 'type': 'role', 'id': '#######', 'allow_new': '0', 'allow': 0, 'deny': 1024}], 'rate_limit_per_user': 0, 'name': 'ticket-age-role-38', 'guild_id': '########'}\r\n2020-07-09 22:43:28,865 TICKET-38 -- Failed 39 times\r\n2020-07-09 22:43:28,866 __new__() got an unexpected keyword argument 'deny_new'\r\n2020-07-09 22:43:28,892 client < Frame(fin=True, opcode=2, data=b'Bm\\xe6\\xa3Vc\\xc6\\xd4i\\xe6\\x13wm\\x0cU\\x1b\\xd9tk!\\xeb\\xe0\\xe8\\xa6`/6h\\xd1M\\xa1Z\\x1b\\xdd\\x82\\x886:\\xa8\\x0c\\x0762\\x80\\xcd\\x01#\\x0b\\xf0\\xf9\\x85\\x83\\xad\\x8d\\x1ea\\x9cf\\x19\\x91\\x14\\xe8\\x95\\\\\\ti\\xa3\\x03\\x00\\x00\\x00\\xff\\xff', rsv1=False, rsv2=False, rsv3=False)\r\n2020-07-09 22:43:28,893 Dispatching event socket_raw_receive\r\n\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n\r\n\r\n- [ x] I have searched the open issues for duplicates. ( Also googled it)\r\n- [ x] I have shown the entire traceback, if possible.\r\n- [ x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n $ python3 -m discord -v\r\n\r\n- Python v3.5.3-final\r\n- discord.py v1.3.1-final\r\n- aiohttp v3.6.2\r\n- websockets v6.0\r\n- system info: Linux 4.14.34-v7+ #1110 SMP Mon Apr 16 15:18:51 BST 2018\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5115", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5115/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5115/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5115/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5115", "id": 654547397, "node_id": "MDU6SXNzdWU2NTQ1NDczOTc=", "number": 5115, "title": "Attribute error for unavailable guild", "user": {"login": "CHamburr", "id": 42373024, "node_id": "MDQ6VXNlcjQyMzczMDI0", "avatar_url": "https://avatars0.githubusercontent.com/u/42373024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CHamburr", "html_url": "https://github.com/CHamburr", "followers_url": "https://api.github.com/users/CHamburr/followers", "following_url": "https://api.github.com/users/CHamburr/following{/other_user}", "gists_url": "https://api.github.com/users/CHamburr/gists{/gist_id}", "starred_url": "https://api.github.com/users/CHamburr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CHamburr/subscriptions", "organizations_url": "https://api.github.com/users/CHamburr/orgs", "repos_url": "https://api.github.com/users/CHamburr/repos", "events_url": "https://api.github.com/users/CHamburr/events{/privacy}", "received_events_url": "https://api.github.com/users/CHamburr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-10T06:35:26Z", "updated_at": "2020-07-10T06:44:05Z", "closed_at": "2020-07-10T06:44:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nAn attribute error is returned for `member_count` property on an unavailable guild.\r\n\r\nTraceback:\r\n```\r\n  File \"/home/chamburr/modmail/utils/eval.py\", line 24, in evaluate\r\n    ret = await func()\r\n  File \"<string>\", line 4, in func\r\n  File \"/home/chamburr/.local/lib/python3.8/site-packages/discord/guild.py\", line 680, in member_count\r\n    return self._member_count\r\nAttributeError: _member_count\r\n```\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [ x ] I have searched the open issues for duplicates.\r\n- [ x ] I have shown the entire traceback, if possible.\r\n- [ x ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n\r\n- Python v3.8.2-final\r\n- discord.py v1.3.4-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.4.0-33-generic\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5114", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5114/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5114/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5114/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5114", "id": 654344171, "node_id": "MDU6SXNzdWU2NTQzNDQxNzE=", "number": 5114, "title": "TypeError in channel.edit in the api itself", "user": {"login": "Ari24-cb24", "id": 56089155, "node_id": "MDQ6VXNlcjU2MDg5MTU1", "avatar_url": "https://avatars3.githubusercontent.com/u/56089155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ari24-cb24", "html_url": "https://github.com/Ari24-cb24", "followers_url": "https://api.github.com/users/Ari24-cb24/followers", "following_url": "https://api.github.com/users/Ari24-cb24/following{/other_user}", "gists_url": "https://api.github.com/users/Ari24-cb24/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ari24-cb24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ari24-cb24/subscriptions", "organizations_url": "https://api.github.com/users/Ari24-cb24/orgs", "repos_url": "https://api.github.com/users/Ari24-cb24/repos", "events_url": "https://api.github.com/users/Ari24-cb24/events{/privacy}", "received_events_url": "https://api.github.com/users/Ari24-cb24/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T20:59:18Z", "updated_at": "2020-07-09T21:08:39Z", "closed_at": "2020-07-09T21:08:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nSo, im trying to edit a channel and the API just gives me an error. I know some other people having the same issue and I researched in the web but didnt found antyhing about it.\r\n\r\n### Reproduction Steps\r\n\r\nI build my own member counter a couple of months ago and today I just restarted my bot. And then this error happens with this code:\r\n\r\n```py\r\nasync def set_member_count():\r\n    channel = client.get_channel(653305074835128320)\r\n    guild = discord.utils.get(client.guilds, id=511984457612394539)\r\n    total = 0\r\n    for member in guild.members:\r\n        if not member.bot:\r\n            total += 1\r\n    await channel.edit(name=\"Mitglieder: \" + str(total))\r\n```\r\n\r\n\r\n### Expected Results\r\n\r\nNormally, it should just set the channels name \ud83e\udd37 \r\n\r\n### Actual Results\r\n\r\n```\r\nIgnoring exception in on_ready\r\nTraceback (most recent call last):\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/discord/client.py\", line 270, in _run_event\r\n    await coro(*args, **kwargs)\r\n  File \"/home/pi/Hosting/Tendo/Tendo.py\", line 1048, in on_ready\r\n    await set_member_count()\r\n  File \"/home/pi/Hosting/Tendo/Tendo.py\", line 645, in set_member_count\r\n    await channel.edit(name=\"Mitglieder: \" + str(total))\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/discord/channel.py\", line 608, in edit\r\n    await self._edit(options, reason=reason)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/discord/abc.py\", line 262, in _edit\r\n    self._update(self.guild, data)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/discord/channel.py\", line 535, in _update\r\n    self._fill_overwrites(data)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/discord/abc.py\", line 271, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n```\r\n- Python v3.7.3-final\r\n- discord.py v1.2.5-final\r\n- aiohttp v3.5.4\r\n- websockets v6.0\r\n- system info: Linux 4.19.75-v7+ #1270 SMP Tue Sep 24 18:45:11 BST 2019\r\n```\r\n\r\n### Some extra infos\r\nAfter I got this exception I upgraded discord.py but still the same error\r\nBtw, my bot is currently running on a raspberrypi 3b", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5113", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5113/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5113/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5113/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5113", "id": 654073137, "node_id": "MDU6SXNzdWU2NTQwNzMxMzc=", "number": 5113, "title": "Exception when editing channel", "user": {"login": "TheVexedGerman", "id": 26862976, "node_id": "MDQ6VXNlcjI2ODYyOTc2", "avatar_url": "https://avatars0.githubusercontent.com/u/26862976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheVexedGerman", "html_url": "https://github.com/TheVexedGerman", "followers_url": "https://api.github.com/users/TheVexedGerman/followers", "following_url": "https://api.github.com/users/TheVexedGerman/following{/other_user}", "gists_url": "https://api.github.com/users/TheVexedGerman/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheVexedGerman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheVexedGerman/subscriptions", "organizations_url": "https://api.github.com/users/TheVexedGerman/orgs", "repos_url": "https://api.github.com/users/TheVexedGerman/repos", "events_url": "https://api.github.com/users/TheVexedGerman/events{/privacy}", "received_events_url": "https://api.github.com/users/TheVexedGerman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-09T13:45:00Z", "updated_at": "2020-07-10T19:33:36Z", "closed_at": "2020-07-09T13:51:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nBot raises a TypeError exception when editing a channel.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/jan/.local/lib/python3.8/site-packages/discord/ext/tasks/__init__.py\", line 73, in _loop\r\n    await self.coro(*args, **kwargs)\r\n  File \"/home/jan/My-Reddit-Bot/cogs/discord_tools.py\", line 215, in shitposting\r\n    await self.bot.get_channel(channel).edit(name=name)\r\n  File \"/home/jan/.local/lib/python3.8/site-packages/discord/channel.py\", line 683, in edit\r\n    await self._edit(options, reason=reason)\r\n  File \"/home/jan/.local/lib/python3.8/site-packages/discord/abc.py\", line 285, in _edit\r\n    self._update(self.guild, data)\r\n  File \"/home/jan/.local/lib/python3.8/site-packages/discord/channel.py\", line 584, in _update\r\n    self._fill_overwrites(data)\r\n  File \"/home/jan/.local/lib/python3.8/site-packages/discord/abc.py\", line 294, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\n  TypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n```\r\n\r\n### Reproduction Steps\r\n\r\nLoad the channel, attempt to edit the name.\r\n\r\n```py\r\n\r\nCHANNEL_ID = XXX\r\n\r\n    async def update_channel_name(self, ctx, name: str):\r\n        \"Update the channel name\"\r\n        await self.bot.get_channel(CHANNEL_ID).edit(name=name)\r\n        return await ctx.send(f\"I updated the channel name to {name} for you\")\r\n```\r\n\r\n### Expected Results\r\n\r\nThe channel name gets updated and the method finishes executing.\r\n\r\n### Actual Results\r\n\r\nThe channel name gets updated and an exception is raised which halts further execution of the method.\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n```\r\n- Python v3.8.0-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5112", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5112/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5112/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5112/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5112", "id": 654032304, "node_id": "MDU6SXNzdWU2NTQwMzIzMDQ=", "number": 5112, "title": "Return pin Message object from Message.pin function", "user": {"login": "cclloyd", "id": 3529295, "node_id": "MDQ6VXNlcjM1MjkyOTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3529295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cclloyd", "html_url": "https://github.com/cclloyd", "followers_url": "https://api.github.com/users/cclloyd/followers", "following_url": "https://api.github.com/users/cclloyd/following{/other_user}", "gists_url": "https://api.github.com/users/cclloyd/gists{/gist_id}", "starred_url": "https://api.github.com/users/cclloyd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cclloyd/subscriptions", "organizations_url": "https://api.github.com/users/cclloyd/orgs", "repos_url": "https://api.github.com/users/cclloyd/repos", "events_url": "https://api.github.com/users/cclloyd/events{/privacy}", "received_events_url": "https://api.github.com/users/cclloyd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T12:45:32Z", "updated_at": "2020-07-09T12:49:15Z", "closed_at": "2020-07-09T12:49:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nI want to pin a message, then delete the message that says a message was pinned.\r\n\r\n### The Ideal Solution\r\n\r\nThe discord.Message.pin function returns the message that shows \"X pinned a message to this channel\" so you can easily run something like `await pin_message.delete()`\r\n\r\n### The Current Solution\r\n\r\nUnknown\r\n\r\n### Summary\r\n\r\nMake `discord.Message.pin` return the pin message if successful.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5111", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5111/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5111/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5111/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5111", "id": 653900285, "node_id": "MDU6SXNzdWU2NTM5MDAyODU=", "number": 5111, "title": "TypeError: __new__() got an unexpected keyword argument 'allow_new'", "user": {"login": "artem-6191", "id": 43674123, "node_id": "MDQ6VXNlcjQzNjc0MTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/43674123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artem-6191", "html_url": "https://github.com/artem-6191", "followers_url": "https://api.github.com/users/artem-6191/followers", "following_url": "https://api.github.com/users/artem-6191/following{/other_user}", "gists_url": "https://api.github.com/users/artem-6191/gists{/gist_id}", "starred_url": "https://api.github.com/users/artem-6191/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artem-6191/subscriptions", "organizations_url": "https://api.github.com/users/artem-6191/orgs", "repos_url": "https://api.github.com/users/artem-6191/repos", "events_url": "https://api.github.com/users/artem-6191/events{/privacy}", "received_events_url": "https://api.github.com/users/artem-6191/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T09:12:00Z", "updated_at": "2020-07-09T09:12:55Z", "closed_at": "2020-07-09T09:12:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nError in `<commands.Bot>.fetch_channel`\r\n\r\n### Reproduction Steps\r\n\r\nI used `chn = await self.bot.fetch_channel(723126150779633684)` and got this error\r\n\r\n### Expected Results\r\n\r\nI expected to fetch channel with news\r\n\r\n### Actual Results\r\n\r\nI got this error\r\n```python\r\nTraceback (most recent call last):\r\n\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 83, in wrapped\r\n    ret = await coro(*args, **kwargs)\r\n\r\n  File \"/home/artem/sc/lib/owner.py\", line 61, in notify_update\r\n    chn = await self.bot.fetch_channel(723126150779633684)\r\n\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/client.py\", line 1316, in fetch_channel\r\n    channel = factory(guild=guild, state=self._connection, data=data)\r\n\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n\r\n  File \"/home/artem/.local/lib/python3.8/site-packages/discord/abc.py\", line 294, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\n\r\nTypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n```\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n- [x] I have confirmed that the channel ID is correct and channel is exists\r\n\r\n### System Information\r\n\r\n- Python v3.8.0-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.3.0-1028-aws #30~18.04.1-Ubuntu SMP Mon Jun 22 15:48:21 UTC 2020\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5109", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5109/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5109/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5109/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5109", "id": 653699806, "node_id": "MDU6SXNzdWU2NTM2OTk4MDY=", "number": 5109, "title": "'Overwrites' got an unexpected keyword argument 'deny_new'/'allow_new'", "user": {"login": "XuaTheGrate", "id": 17090652, "node_id": "MDQ6VXNlcjE3MDkwNjUy", "avatar_url": "https://avatars2.githubusercontent.com/u/17090652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XuaTheGrate", "html_url": "https://github.com/XuaTheGrate", "followers_url": "https://api.github.com/users/XuaTheGrate/followers", "following_url": "https://api.github.com/users/XuaTheGrate/following{/other_user}", "gists_url": "https://api.github.com/users/XuaTheGrate/gists{/gist_id}", "starred_url": "https://api.github.com/users/XuaTheGrate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XuaTheGrate/subscriptions", "organizations_url": "https://api.github.com/users/XuaTheGrate/orgs", "repos_url": "https://api.github.com/users/XuaTheGrate/repos", "events_url": "https://api.github.com/users/XuaTheGrate/events{/privacy}", "received_events_url": "https://api.github.com/users/XuaTheGrate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10", "html_url": "https://github.com/Rapptz/discord.py/milestone/10", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10/labels", "id": 5273240, "node_id": "MDk6TWlsZXN0b25lNTI3MzI0MA==", "number": 10, "title": "1.4", "description": "", "creator": {"login": "Rapptz", "id": 1695103, "node_id": "MDQ6VXNlcjE2OTUxMDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1695103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rapptz", "html_url": "https://github.com/Rapptz", "followers_url": "https://api.github.com/users/Rapptz/followers", "following_url": "https://api.github.com/users/Rapptz/following{/other_user}", "gists_url": "https://api.github.com/users/Rapptz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rapptz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rapptz/subscriptions", "organizations_url": "https://api.github.com/users/Rapptz/orgs", "repos_url": "https://api.github.com/users/Rapptz/repos", "events_url": "https://api.github.com/users/Rapptz/events{/privacy}", "received_events_url": "https://api.github.com/users/Rapptz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2020-04-04T06:24:09Z", "updated_at": "2020-08-06T04:03:45Z", "due_on": null, "closed_at": "2020-08-06T04:03:45Z"}, "comments": 12, "created_at": "2020-07-09T01:45:13Z", "updated_at": "2020-07-22T07:48:55Z", "closed_at": "2020-07-09T03:21:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": "resolved", "body": "### Summary\r\n\r\nDiscord pushed a new change that changes the overwrites object.\r\n\r\n~~However, after testing a bit, it seems to be completely random when it happens.~~ This seems to no longer hold true.\r\n\r\n### Reproduction Steps\r\n\r\n```py\r\nwhile True:\r\n  await bot.fetch_channel(any_text_channel.id)\r\n```\r\nThe `while True` is just to make sure the error appears, as it is random when it appears.\r\n\r\n### Expected Results\r\n\r\nFor an error to not occur while I'm executing this function.\r\n\r\n### Actual Results\r\n\r\n```py\r\nTraceback (most recent call last):\r\n  File \"/home/xua/abyss/venv/lib/python3.7/site-packages/discord/client.py\", line 1376, in fetch_channel\r\n    channel = factory(guild=guild, state=self._connection, data=data)\r\n  File \"/home/xua/abyss/venv/lib/python3.7/site-packages/discord/channel.py\", line 107, in __init__\r\n    self._update(guild, data)\r\n  File \"/home/xua/abyss/venv/lib/python3.7/site-packages/discord/channel.py\", line 131, in _update\r\n    self._fill_overwrites(data)\r\n  File \"/home/xua/abyss/venv/lib/python3.7/site-packages/discord/abc.py\", line 304, in _fill_overwrites\r\n    self._overwrites.append(_Overwrites(id=overridden_id, **overridden))\r\nTypeError: __new__() got an unexpected keyword argument 'allow_new'\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.7.8-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2373+gc995a5e\r\n- aiohttp v3.6.2\r\n- system info: Linux 4.19.0-9-amd64 #1 SMP Debian 4.19.118-2 (2020-04-29)\r\n\r\nThis has also been reproduced on 1.3.3, and a new payload example can be found: \r\n```json\r\n        {\r\n            \"allow\": 0,\r\n            \"allow_new\": \"0\",\r\n            \"deny\": 3072,\r\n            \"deny_new\": \"3072\",\r\n            \"id\": \"448666839778590730\",\r\n            \"type\": \"role\"\r\n        }\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5105", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5105/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5105/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5105/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5105", "id": 652780422, "node_id": "MDU6SXNzdWU2NTI3ODA0MjI=", "number": 5105, "title": "adapter=discord.RequestsWebhookAdapter()", "user": {"login": "Natan60fps", "id": 67937025, "node_id": "MDQ6VXNlcjY3OTM3MDI1", "avatar_url": "https://avatars2.githubusercontent.com/u/67937025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Natan60fps", "html_url": "https://github.com/Natan60fps", "followers_url": "https://api.github.com/users/Natan60fps/followers", "following_url": "https://api.github.com/users/Natan60fps/following{/other_user}", "gists_url": "https://api.github.com/users/Natan60fps/gists{/gist_id}", "starred_url": "https://api.github.com/users/Natan60fps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Natan60fps/subscriptions", "organizations_url": "https://api.github.com/users/Natan60fps/orgs", "repos_url": "https://api.github.com/users/Natan60fps/repos", "events_url": "https://api.github.com/users/Natan60fps/events{/privacy}", "received_events_url": "https://api.github.com/users/Natan60fps/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130946, "node_id": "MDU6TGFiZWwyNTExMzA5NDY=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/question", "name": "question", "color": "cc317c", "default": true, "description": "This is a question about the library"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-08T00:38:13Z", "updated_at": "2020-07-13T00:32:29Z", "closed_at": "2020-07-13T00:32:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "``Traceback (most recent call last):\r\n  File \"C:/Users/natan/Desktop/Aerial-master/main.py\", line 48, in <module>\r\n    adapter=discord.RequestsWebhookAdapter()``\r\n\r\n  ``File \"C:\\Users\\natan\\Desktop\\Aerial-master\\venv\\lib\\site-packages\\discord\\webhook.py\", line 509, in from_url\r\n    raise InvalidArgument('Invalid webhook URL given.')\r\ndiscord.errors.InvalidArgument: Invalid webhook URL given.``", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5100", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5100/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5100/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5100/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5100", "id": 651128242, "node_id": "MDU6SXNzdWU2NTExMjgyNDI=", "number": 5100, "title": "Problem Connecting to Discord", "user": {"login": "TheS1mp", "id": 67875190, "node_id": "MDQ6VXNlcjY3ODc1MTkw", "avatar_url": "https://avatars2.githubusercontent.com/u/67875190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheS1mp", "html_url": "https://github.com/TheS1mp", "followers_url": "https://api.github.com/users/TheS1mp/followers", "following_url": "https://api.github.com/users/TheS1mp/following{/other_user}", "gists_url": "https://api.github.com/users/TheS1mp/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheS1mp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheS1mp/subscriptions", "organizations_url": "https://api.github.com/users/TheS1mp/orgs", "repos_url": "https://api.github.com/users/TheS1mp/repos", "events_url": "https://api.github.com/users/TheS1mp/events{/privacy}", "received_events_url": "https://api.github.com/users/TheS1mp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-05T19:14:05Z", "updated_at": "2020-07-06T01:21:56Z", "closed_at": "2020-07-06T01:21:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am currently trying to code a bot for my discord server, but when I ran the following code it didn't seem to work:\r\n```\r\nimport discord\r\n\r\nclient = discord.Client()\r\n\r\nclient.run(\"token\")\r\n\r\n```\r\nBefore I get asked this, yes I did input the token.\r\nWhen I run this code though I get the following error\r\n\r\n```\r\nFile \"/Users/Me/Desktop/Discord Bot/bot.py\", line 5, in <module>\r\n    client.run(\"token\")\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/discord/client.py\", line 640, in run\r\n    return future.result()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/discord/client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/discord/client.py\", line 584, in start\r\n    await self.login(*args, bot=bot)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/discord/client.py\", line 442, in login\r\n    await self.http.static_login(token.strip(), bot=bot)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/discord/http.py\", line 261, in static_login\r\n    data = await self.request(Route('GET', '/users/@me'))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/discord/http.py\", line 165, in request\r\n    async with self.__session.request(method, url, **kwargs) as r:\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/client.py\", line 1012, in __aenter__\r\n    self._resp = await self._coro\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/client.py\", line 483, in _request\r\n    timeout=real_timeout\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/connector.py\", line 523, in connect\r\n    proto = await self._create_connection(req, traces, timeout)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/connector.py\", line 859, in _create_connection\r\n    req, traces, timeout)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/connector.py\", line 1003, in _create_direct_connection\r\n    raise last_exc\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/connector.py\", line 985, in _create_direct_connection\r\n    req=req, client_error=client_error)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/aiohttp/connector.py\", line 940, in _wrap_create_connection\r\n    raise ClientConnectorSSLError(req.connection_key, exc) from exc\r\naiohttp.client_exceptions.ClientConnectorSSLError: Cannot connect to host discordapp.com:443 ssl:default [[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:833)]\r\n```\r\n\r\nFor more help, I am on a mac, so please make sure any answers work on Mac OS", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5099", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5099/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5099/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5099/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5099", "id": 651100798, "node_id": "MDU6SXNzdWU2NTExMDA3OTg=", "number": 5099, "title": "`utils.sleep_until()` takes UTC-Timezone as default for `None`", "user": {"login": "niborus", "id": 40110451, "node_id": "MDQ6VXNlcjQwMTEwNDUx", "avatar_url": "https://avatars2.githubusercontent.com/u/40110451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niborus", "html_url": "https://github.com/niborus", "followers_url": "https://api.github.com/users/niborus/followers", "following_url": "https://api.github.com/users/niborus/following{/other_user}", "gists_url": "https://api.github.com/users/niborus/gists{/gist_id}", "starred_url": "https://api.github.com/users/niborus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niborus/subscriptions", "organizations_url": "https://api.github.com/users/niborus/orgs", "repos_url": "https://api.github.com/users/niborus/repos", "events_url": "https://api.github.com/users/niborus/events{/privacy}", "received_events_url": "https://api.github.com/users/niborus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130947, "node_id": "MDU6TGFiZWwyNTExMzA5NDc=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-05T16:26:23Z", "updated_at": "2020-07-05T18:39:57Z", "closed_at": "2020-07-05T18:39:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen the function `utils.sleep_until(date_time_object)` takes a Date-Time Object without a specified time zone (aka. `tzinfo = None`) it will replace it with `datetime.timezone.utc`. However, the None-Type is often referred to as local time.  \r\nThe function `datetime.datetime.now()`, which is often preferred over `utcnow()` (see [datetime-docs](https://docs.python.org/3/library/datetime.html#datetime.datetime.now)) returns a Date-Time Object with the local Time but without a specified time zone.  \r\nd.py should replace a `tzinfo = None` with the local Timezone, instead of UTC or calculate delta without chaining the time zone.\r\n\r\n### Reproduction Steps\r\n\r\nUse a Machine with a system time, that goes ahead the utc time.\r\nRun the following in any async function:\r\n\r\n```py\r\nprint(\"start\")\r\ndt = datetime.now()\r\nawait sleep_until(dt)\r\nprint(\"end\")\r\n```\r\n\r\n### Expected Results\r\n\r\nThe output should be `start` followed by `end` immediately.\r\n\r\n### Actual Results\r\n\r\nThe output is `start` only. `end` is printed at the earliest half an hour later.\r\n\r\n### Checklist\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\nd.py Version: major=1, minor=3, micro=3, releaselevel='final', serial=0\r\nPython Version: 3.6.9 (default, Apr 18 2020, 01:56:04) \\n[GCC 8.4.0]\r\nOS: Linux xxx 4.15.0-109-generic #110-Ubuntu SMP Tue Jun 23 02:39:32 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5098", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5098/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5098/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5098/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5098", "id": 651088863, "node_id": "MDU6SXNzdWU2NTEwODg4NjM=", "number": 5098, "title": "Video Live Stream", "user": {"login": "Fxcilities", "id": 48619853, "node_id": "MDQ6VXNlcjQ4NjE5ODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/48619853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fxcilities", "html_url": "https://github.com/Fxcilities", "followers_url": "https://api.github.com/users/Fxcilities/followers", "following_url": "https://api.github.com/users/Fxcilities/following{/other_user}", "gists_url": "https://api.github.com/users/Fxcilities/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fxcilities/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fxcilities/subscriptions", "organizations_url": "https://api.github.com/users/Fxcilities/orgs", "repos_url": "https://api.github.com/users/Fxcilities/repos", "events_url": "https://api.github.com/users/Fxcilities/events{/privacy}", "received_events_url": "https://api.github.com/users/Fxcilities/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-05T15:17:02Z", "updated_at": "2020-07-05T18:40:12Z", "closed_at": "2020-07-05T18:40:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Allow bots to livestream(go live like users can in voicechat) so people can hook it up YouTube into it and people can watch videos with the bot.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5093", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5093/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5093/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5093/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5093", "id": 650887772, "node_id": "MDU6SXNzdWU2NTA4ODc3NzI=", "number": 5093, "title": "channel.edit() does not return an error for rate limit.", "user": {"login": "parkkw472", "id": 39560346, "node_id": "MDQ6VXNlcjM5NTYwMzQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/39560346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parkkw472", "html_url": "https://github.com/parkkw472", "followers_url": "https://api.github.com/users/parkkw472/followers", "following_url": "https://api.github.com/users/parkkw472/following{/other_user}", "gists_url": "https://api.github.com/users/parkkw472/gists{/gist_id}", "starred_url": "https://api.github.com/users/parkkw472/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parkkw472/subscriptions", "organizations_url": "https://api.github.com/users/parkkw472/orgs", "repos_url": "https://api.github.com/users/parkkw472/repos", "events_url": "https://api.github.com/users/parkkw472/events{/privacy}", "received_events_url": "https://api.github.com/users/parkkw472/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-04T13:01:36Z", "updated_at": "2020-07-20T14:53:32Z", "closed_at": "2020-07-04T13:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\nWhen the rate limit (HTTP 429 error) is reached when changing the channel name using await client.guilds[].get_channel(channel_number).edit(name=name), the thread will stop forever without returning an error.\r\n<!-- A summary of your bug report -->\r\n\r\n### Reproduction Steps\r\n![Discord_LWRc7VNQjH](https://user-images.githubusercontent.com/39560346/86512727-76964c80-be3f-11ea-9fc5-3d23be7c9e9c.png)\r\n\r\nAs above, I used channel.edit to display the number of members on the channel name.\r\nHowever, soon after, I noticed that the number of members update stopped.\r\nDebug logs are as follows:\r\n```2020-07-04 21:23:59,769:DEBUG:discord.client: Dispatching event socket_response\r\n2020-07-04 21:23:59,769:DEBUG:discord.client: Dispatching event member_update\r\n2020-07-04 21:24:00,811:DEBUG:discord.http: PATCH https://discordapp.com/api/v7/channels/00000000000000000 with {\"name\":\"ONLINE: 210\"} has returned 429\r\n2020-07-04 21:24:00,811:WARNING:discord.http: We are being rate limited. Retrying in 275.46 seconds. Handled under the bucket \"00000000000000000:None:/channels/{channel_id}\"\r\n2020-07-04 21:24:02,125:DEBUG:discord.client: Dispatching event socket_raw_receive \r\n```\r\nCode:\r\n```\r\nwhile not client.is_closed():\r\n        online1 = 0\r\n        dnd1 = 0\r\n        idle1 = 0\r\n        offline1 = 0\r\n        totalUsers1 = 0\r\n        print(22)\r\n        for member in client.guilds[0].members:\r\n            if str(member.status) == 'online':\r\n                online1 += 1\r\n            if str(member.status) == 'dnd':\r\n                dnd1 += 1\r\n            if str(member.status) == 'idle':\r\n                idle1 += 1\r\n            if str(member.status) == 'offline':\r\n                offline1 += 1\r\n\r\n        await asyncio.sleep(5)\r\n        totalUsers1 = online1 + dnd1 + idle1 + offline1\r\n        a= 'TOTAL: '+str(totalUsers1)\r\n        b='ONLINE: '+ str(online1)\r\n        c='AFK: '+str(idle1)\r\n        d='DND: '+str(dnd1)\r\n        e='OFFLINE: '+str(offline1)\r\n        print('TOTAL: '+str(totalUsers1))\r\n        print('ONLINE: '+ str(online1))\r\n        print('AFK: '+str(idle1))\r\n        print('DND: '+str(dnd1))\r\n        print('OFFLINE: '+str(offline1))\r\n        if client.guilds[0].get_channel(*channel_1_id*).name != a:\r\n            await client.guilds[0].get_channel(*channel_1_id*).edit(name=a)\r\n            await asyncio.sleep(1)\r\n\r\n        if client.guilds[0].get_channel((*channel_2_id*).name != b:\r\n            await client.guilds[0].get_channel(*channel_2_id*).edit(name=b)\r\n            await asyncio.sleep(1)\r\n\r\n        if client.guilds[0].get_channel((*channel_3_id*).name != c:\r\n            await client.guilds[0].get_channel((*channel_3_id*).edit(name=c)\r\n            await asyncio.sleep(1)\r\n\r\n        if client.guilds[0].get_channel((*channel_4_id*).name != d:\r\n            await client.guilds[0].get_channel((*channel_4_id*).edit(name=d)\r\n            await asyncio.sleep(1)\r\n\r\n        if client.guilds[0].get_channel((*channel_5_id*).name != e:\r\n            await client.guilds[0].get_channel((*channel_5_id*).edit(name=e)\r\n            await asyncio.sleep(1)\r\n```\r\n<!-- What you did to make it happen. Ideally there should be a short code snippet in this section to help reproduce the bug. -->\r\n\r\n### Expected Results\r\nIt should return an error for 429 and then end `await`\r\n\r\n<!-- What you expected to happen -->\r\n\r\n### Actual Results\r\n\r\nIt keeps awaiting the result without returning an error.\r\nThis causes the bot to stop.\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n```\r\nC:\\Users\\keonwoopark>python -m discord -v\r\n- Python v3.8.0-final                                                                                                   \r\n- discord.py v1.3.3-final                                                                                               \r\n- aiohttp v3.6.2                                                                                                        \r\n- websockets v8.1                                                                                                       \r\n- system info: Windows 10 10.0.18362 \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5089", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5089/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5089/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5089/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5089", "id": 649825491, "node_id": "MDU6SXNzdWU2NDk4MjU0OTE=", "number": 5089, "title": "Shard restarting randomly", "user": {"login": "crazygmr101", "id": 22755628, "node_id": "MDQ6VXNlcjIyNzU1NjI4", "avatar_url": "https://avatars0.githubusercontent.com/u/22755628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crazygmr101", "html_url": "https://github.com/crazygmr101", "followers_url": "https://api.github.com/users/crazygmr101/followers", "following_url": "https://api.github.com/users/crazygmr101/following{/other_user}", "gists_url": "https://api.github.com/users/crazygmr101/gists{/gist_id}", "starred_url": "https://api.github.com/users/crazygmr101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crazygmr101/subscriptions", "organizations_url": "https://api.github.com/users/crazygmr101/orgs", "repos_url": "https://api.github.com/users/crazygmr101/repos", "events_url": "https://api.github.com/users/crazygmr101/events{/privacy}", "received_events_url": "https://api.github.com/users/crazygmr101/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}, {"id": 251130946, "node_id": "MDU6TGFiZWwyNTExMzA5NDY=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/question", "name": "question", "color": "cc317c", "default": true, "description": "This is a question about the library"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-02T10:36:27Z", "updated_at": "2020-07-04T03:03:22Z", "closed_at": "2020-07-02T10:38:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\nShard closes randomly, the bot isn't under much load.\r\nPossibly related: https://github.com/Rapptz/discord.py/issues/1144, though I did notice that issue was a long time ago, and was probably fixed.\r\n\r\n### Reproduction Steps\r\n\r\nHappens randomly, not sure how to reproduce.\r\n\r\n### Expected Results\r\n\r\nShard not to close\r\n\r\n### Actual Results\r\n```\r\nWARNING:discord.gateway: Shard ID None has stopped responding to the gateway. Closing and restarting.\r\n```\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [X] I have searched the open issues for duplicates.\r\n- [ ] I have shown the entire traceback, if possible.\r\n- [ ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n```\r\n- Python v3.7.5-final\r\n- discord.py v1.3.2-final\r\n- aiohttp v3.6.2\r\n- websockets v6.0\r\n- system info: Linux 4.15.0-91-generic #92-Ubuntu SMP Fri Feb 28 11:09:48 UTC 2020\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5081", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5081/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5081/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5081/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5081", "id": 647723165, "node_id": "MDU6SXNzdWU2NDc3MjMxNjU=", "number": 5081, "title": "better default help command", "user": {"login": "Znunu", "id": 61394004, "node_id": "MDQ6VXNlcjYxMzk0MDA0", "avatar_url": "https://avatars2.githubusercontent.com/u/61394004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Znunu", "html_url": "https://github.com/Znunu", "followers_url": "https://api.github.com/users/Znunu/followers", "following_url": "https://api.github.com/users/Znunu/following{/other_user}", "gists_url": "https://api.github.com/users/Znunu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Znunu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Znunu/subscriptions", "organizations_url": "https://api.github.com/users/Znunu/orgs", "repos_url": "https://api.github.com/users/Znunu/repos", "events_url": "https://api.github.com/users/Znunu/events{/privacy}", "received_events_url": "https://api.github.com/users/Znunu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-29T22:57:00Z", "updated_at": "2020-06-29T23:19:25Z", "closed_at": "2020-06-29T23:19:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### The Problem\r\n\r\n1. The current help command is rather ugly.\r\n2. From my own experience, no popular bots actually use command groups (for a few good reasons), but rather group commands logically in the help command. The default help command offers support for the first kind of command groups, but not the second one.\r\n3. Lacks some obvious customization options, like being able to sort commands manually and not alphabetically.\r\n\r\n### The Solution\r\n\r\nAn improved help command. Perhaps as a second option, for bots not using the groups. I'm open to anything really, but personally I had something like this in mind:\r\nhttps://i.imgur.com/abFYidX.png\r\nhttps://i.imgur.com/ZhrJejt.png\r\nhttps://i.imgur.com/frt2OHr.png\r\n\r\n\r\n### How?\r\n\r\nI'd be willing to _try_ to add this. If there's any interest in it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5078", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5078/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5078/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5078/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5078", "id": 647169304, "node_id": "MDU6SXNzdWU2NDcxNjkzMDQ=", "number": 5078, "title": "webhook send does not return a message", "user": {"login": "DontStarve72", "id": 44323833, "node_id": "MDQ6VXNlcjQ0MzIzODMz", "avatar_url": "https://avatars2.githubusercontent.com/u/44323833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DontStarve72", "html_url": "https://github.com/DontStarve72", "followers_url": "https://api.github.com/users/DontStarve72/followers", "following_url": "https://api.github.com/users/DontStarve72/following{/other_user}", "gists_url": "https://api.github.com/users/DontStarve72/gists{/gist_id}", "starred_url": "https://api.github.com/users/DontStarve72/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DontStarve72/subscriptions", "organizations_url": "https://api.github.com/users/DontStarve72/orgs", "repos_url": "https://api.github.com/users/DontStarve72/repos", "events_url": "https://api.github.com/users/DontStarve72/events{/privacy}", "received_events_url": "https://api.github.com/users/DontStarve72/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-29T07:01:18Z", "updated_at": "2020-06-29T07:06:29Z", "closed_at": "2020-06-29T07:06:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nThe webhook send function returns none instead of a message type\r\n\r\n### Reproduction Steps\r\n\r\n```python\r\nimport discord\r\nfrom discord import Webhook, RequestsWebhookAdapter\r\n\r\nwebhook = Webhook.partial( '123456', 'abcdefg', adapter=RequestsWebhookAdapter())\r\nmsg = webhook.send(\"Test Message\")\r\n\r\nprint(msg.id)\r\n```\r\n\r\n### Expected Results\r\n\r\nThe ID of the message sent via webhook\r\n\r\n### Actual Results\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 12, in <module>\r\n    print(msg.id)\r\nAttributeError: 'NoneType' object has no attribute 'id'\r\n```\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [X] I have searched the open issues for duplicates.\r\n- [X] I have shown the entire traceback, if possible.\r\n- [X] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.3-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.7.4-arch1-1 #1 SMP PREEMPT Thu, 18 Jun 2020 16:01:07 +0000\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5076", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5076/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5076/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5076/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5076", "id": 647106778, "node_id": "MDU6SXNzdWU2NDcxMDY3Nzg=", "number": 5076, "title": "Bot unable to connect to Discord", "user": {"login": "2003lxp", "id": 45801548, "node_id": "MDQ6VXNlcjQ1ODAxNTQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/45801548?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2003lxp", "html_url": "https://github.com/2003lxp", "followers_url": "https://api.github.com/users/2003lxp/followers", "following_url": "https://api.github.com/users/2003lxp/following{/other_user}", "gists_url": "https://api.github.com/users/2003lxp/gists{/gist_id}", "starred_url": "https://api.github.com/users/2003lxp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2003lxp/subscriptions", "organizations_url": "https://api.github.com/users/2003lxp/orgs", "repos_url": "https://api.github.com/users/2003lxp/repos", "events_url": "https://api.github.com/users/2003lxp/events{/privacy}", "received_events_url": "https://api.github.com/users/2003lxp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-29T04:40:55Z", "updated_at": "2020-06-29T04:46:20Z", "closed_at": "2020-06-29T04:46:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.  \r\n\r\nWhenever I boot up my bot, I receive the following error.  The bot does not go online.  Does this have to do with Discord switching their domain name from discordapp.com to discord.com?  If so how do I resolve this issue?\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\connector.py\", line 936, in _wrap_create_connection\r\n    return await self._loop.create_connection(*args, **kwargs)  # type: ignore  # noqa\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 1050, in create_connection\r\n    transport, protocol = await self._create_connection_transport(\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 1080, in _create_connection_transport\r\n    await waiter\r\n  File \"C:\\Python38\\lib\\asyncio\\sslproto.py\", line 529, in data_received\r\n    ssldata, appdata = self._sslpipe.feed_ssldata(data)\r\n  File \"C:\\Python38\\lib\\asyncio\\sslproto.py\", line 189, in feed_ssldata\r\n    self._sslobj.do_handshake()\r\n  File \"C:\\Python38\\lib\\ssl.py\", line 944, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:1108)\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \".\\AHS_Bot.py\", line 661, in <module>\r\n    client.run(TOKEN)\r\n  File \"C:\\Python38\\lib\\site-packages\\discord\\client.py\", line 640, in run\r\n    return future.result()\r\n  File \"C:\\Python38\\lib\\site-packages\\discord\\client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"C:\\Python38\\lib\\site-packages\\discord\\client.py\", line 584, in start\r\n    await self.login(*args, bot=bot)\r\n  File \"C:\\Python38\\lib\\site-packages\\discord\\client.py\", line 442, in login\r\n    await self.http.static_login(token.strip(), bot=bot)\r\n  File \"C:\\Python38\\lib\\site-packages\\discord\\http.py\", line 261, in static_login\r\n    data = await self.request(Route('GET', '/users/@me'))\r\n  File \"C:\\Python38\\lib\\site-packages\\discord\\http.py\", line 165, in request\r\n    async with self.__session.request(method, url, **kwargs) as r:\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\client.py\", line 1012, in __aenter__\r\n    self._resp = await self._coro\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\client.py\", line 480, in _request\r\n    conn = await self._connector.connect(\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\connector.py\", line 523, in connect\r\n    proto = await self._create_connection(req, traces, timeout)\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\connector.py\", line 858, in _create_connection\r\n    _, proto = await self._create_direct_connection(\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\connector.py\", line 1004, in _create_direct_connection\r\n    raise last_exc\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\connector.py\", line 980, in _create_direct_connection\r\n    transp, proto = await self._wrap_create_connection(\r\n  File \"C:\\Python38\\lib\\site-packages\\aiohttp\\connector.py\", line 938, in _wrap_create_connection\r\n    raise ClientConnectorCertificateError(\r\naiohttp.client_exceptions.ClientConnectorCertificateError: Cannot connect to host discordapp.com:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:1108)')]\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5073", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5073/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5073/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5073/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5073", "id": 646999788, "node_id": "MDU6SXNzdWU2NDY5OTk3ODg=", "number": 5073, "title": "multiple disconnects experienced in a day", "user": {"login": "modernNeo", "id": 14242088, "node_id": "MDQ6VXNlcjE0MjQyMDg4", "avatar_url": "https://avatars1.githubusercontent.com/u/14242088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/modernNeo", "html_url": "https://github.com/modernNeo", "followers_url": "https://api.github.com/users/modernNeo/followers", "following_url": "https://api.github.com/users/modernNeo/following{/other_user}", "gists_url": "https://api.github.com/users/modernNeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/modernNeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/modernNeo/subscriptions", "organizations_url": "https://api.github.com/users/modernNeo/orgs", "repos_url": "https://api.github.com/users/modernNeo/repos", "events_url": "https://api.github.com/users/modernNeo/events{/privacy}", "received_events_url": "https://api.github.com/users/modernNeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130946, "node_id": "MDU6TGFiZWwyNTExMzA5NDY=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/question", "name": "question", "color": "cc317c", "default": true, "description": "This is a question about the library"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-28T20:31:14Z", "updated_at": "2020-06-28T21:42:11Z", "closed_at": "2020-06-28T20:32:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\n<!-- A summary of your bug report -->\r\n\r\nI have noticed lately that the discord bot I have created has a tendency to randomly disconnect and re-connect by itself. This can sometimes happen 4-5 times  day. As far as I can tell, the functionality of the bot itself, does not seem to be effected. Is this an expected behavior?\r\n\r\n### Reproduction Steps\r\n\r\n<!-- What you did to make it happen. Ideally there should be a short code snippet in this section to help reproduce the bug. -->\r\n\r\nI discovered this issue because I have this function in my code\r\n\r\n    @bot.event\r\n    async def on_ready():\r\n        logger.info(\"[main.py on_ready()] now ready for commands\")\r\n\r\n\r\n    @bot.event\r\n    async def on_disconnect():\r\n        logger.info('[main.py on_disconnect()] experienced a disconnect')\r\n\r\n\r\n    @bot.event\r\n    async def on_resumed():\r\n        logger.info('[main.py on_resumed()] experienced a resume')\r\n\r\n\r\n    @bot.event\r\n    async def on_error(event, *args, **kwargs):\r\n        logger.info('[main.py on_error()] experienced the error {}'.format(event))\r\n\r\n\r\n### Expected Results\r\n\r\nI had expected for `on_ready` to be invoked once on initial start-up and perhaps if the system that the bot is running on experiences a temporary network issue. and maybe for `on_disconnect` to be invoked in those temporary networking issue situations.\r\n\r\n<!-- What you expected to happen -->\r\n\r\n### Actual Results\r\n\r\nthe logs channels fills up with multiple calls to `on_ready` and `on_disconnect` over the course of a day and sometimes instead of `on_ready`, `on_resumed` is called instead.\r\n\r\n<!-- What actually happened. If there is a traceback, please show the entire thing. -->\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n\r\n\r\n        $ python -m discord -v\r\n       - Python v3.7.3-final\r\n       - discord.py v1.2.5-final\r\n       - aiohttp v3.5.4\r\n       - websockets v6.0\r\n       - system info: Linux 4.19.0-9-amd64 #1 SMP Debian 4.19.118-2 (2020-04-29)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5072", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5072/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5072/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5072/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5072", "id": 646962495, "node_id": "MDU6SXNzdWU2NDY5NjI0OTU=", "number": 5072, "title": "Cannot connect to host discordapp.com:443", "user": {"login": "Vtech325", "id": 67553857, "node_id": "MDQ6VXNlcjY3NTUzODU3", "avatar_url": "https://avatars3.githubusercontent.com/u/67553857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vtech325", "html_url": "https://github.com/Vtech325", "followers_url": "https://api.github.com/users/Vtech325/followers", "following_url": "https://api.github.com/users/Vtech325/following{/other_user}", "gists_url": "https://api.github.com/users/Vtech325/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vtech325/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vtech325/subscriptions", "organizations_url": "https://api.github.com/users/Vtech325/orgs", "repos_url": "https://api.github.com/users/Vtech325/repos", "events_url": "https://api.github.com/users/Vtech325/events{/privacy}", "received_events_url": "https://api.github.com/users/Vtech325/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-28T16:46:14Z", "updated_at": "2020-06-28T17:08:33Z", "closed_at": "2020-06-28T17:08:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this error when I try to run my first basic discord bot in Atom:\r\n     \r\n\r\n> Python - bot1.py:11\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 936, in _wrap_create_connection\r\n    return await self._loop.create_connection(*args, **kwargs)  # type: ignore  # noqa\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\base_events.py\", line 1050, in create_connection\r\n    transport, protocol = await self._create_connection_transport(\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\base_events.py\", line 1080, in _create_connection_transport\r\n    await waiter\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\sslproto.py\", line 529, in data_received\r\n    ssldata, appdata = self._sslpipe.feed_ssldata(data)\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\sslproto.py\", line 189, in feed_ssldata\r\n    self._sslobj.do_handshake()\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\ssl.py\", line 944, in do_handshake\r\n    self._sslobj.do_handshake()\r\nssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:1108)\r\n>\r\n>The above exception was the direct cause of the following exception:\r\n>\r\n>Traceback (most recent call last):\r\n  File \"C:\\Users\\malik\\Desktop\\Newbots\\bot1.py\", line 10, in <module>\r\n    client.run('NzE2MzM3MjQ1MzMzODgwOTI1.Xviv3g.cNaxz-7-ZAqep3wenJjD92Q8o5Q')\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 640, in run\r\n    return future.result()\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 621, in runner\r\n    await self.start(*args, **kwargs)\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 584, in start\r\n    await self.login(*args, bot=bot)\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\client.py\", line 442, in login\r\n    await self.http.static_login(token.strip(), bot=bot)\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\http.py\", line 261, in static_login\r\n    data = await self.request(Route('GET', '/users/@me'))\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\http.py\", line 165, in request\r\n    async with self.__session.request(method, url, **kwargs) as r:\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\client.py\", line 1012, in __aenter__\r\n    self._resp = await self._coro\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\client.py\", line 480, in _request\r\n    conn = await self._connector.connect(\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 523, in connect\r\n    proto = await self._create_connection(req, traces, timeout)\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 858, in _create_connection\r\n    _, proto = await self._create_direct_connection(\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 1004, in _create_direct_connection\r\n    raise last_exc\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 980, in _create_direct_connection\r\n    transp, proto = await self._wrap_create_connection(\r\n  File \"C:\\Users\\malik\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\aiohttp\\connector.py\", line 938, in _wrap_create_connection\r\n    raise ClientConnectorCertificateError(\r\naiohttp.client_exceptions.ClientConnectorCertificateError: Cannot connect to host discordapp.com:443 ssl:True [SSLCertVerificationError: (1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:1108)')]\r\n[Finished in 1.455s]\r\n\r\nHere is the code I was using:\r\n\r\n``import discord\r\nfrom discord.ext import commands\r\n\r\nclient = commands.Bot(command_prefix = \".\")\r\n\r\n@client.event\r\nasync def on_ready():\r\n    print('Bot is ready.')\r\n\r\nclient.run('token')``\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5065", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5065/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5065/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5065/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5065", "id": 646726817, "node_id": "MDU6SXNzdWU2NDY3MjY4MTc=", "number": 5065, "title": "Automatically replace underscores with dashes in command names", "user": {"login": "Artemis21", "id": 57376638, "node_id": "MDQ6VXNlcjU3Mzc2NjM4", "avatar_url": "https://avatars3.githubusercontent.com/u/57376638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Artemis21", "html_url": "https://github.com/Artemis21", "followers_url": "https://api.github.com/users/Artemis21/followers", "following_url": "https://api.github.com/users/Artemis21/following{/other_user}", "gists_url": "https://api.github.com/users/Artemis21/gists{/gist_id}", "starred_url": "https://api.github.com/users/Artemis21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Artemis21/subscriptions", "organizations_url": "https://api.github.com/users/Artemis21/orgs", "repos_url": "https://api.github.com/users/Artemis21/repos", "events_url": "https://api.github.com/users/Artemis21/events{/privacy}", "received_events_url": "https://api.github.com/users/Artemis21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130947, "node_id": "MDU6TGFiZWwyNTExMzA5NDc=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-27T18:03:25Z", "updated_at": "2020-06-27T18:38:59Z", "closed_at": "2020-06-27T18:13:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nWhenever I want a dash in a command name, I have to use an underscore in the function name, and provide the name parameter to the command wrapper. While this isn't very much work, I do not think it would be much work to change in the library, and for me, it is *always* what I want to do. Dashes always feel more user friendly, and they are an established convention in existing bots. This change should still, of course, be overwritten by the name parameter.\r\n\r\n### The Ideal Solution\r\n\r\nWhen an underscore (`_`) occurs in the function name for a command, replace it with a dash (`-`).\r\n\r\n### The Current Solution\r\n\r\nThe library does not do anything automatically, you must use the `name` parameter.\r\n\r\n### Summary\r\n\r\nAutomatically replace underscores with dashes when they appear in the name of functions that are commands.\r\n\r\nI would be happy to implement this if the idea is accepted.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5060", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5060/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5060/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5060/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5060", "id": 646284598, "node_id": "MDU6SXNzdWU2NDYyODQ1OTg=", "number": 5060, "title": "ctx.message.mention_everyone false when a user don't have permission to mention everyone, but the message still contains the @everyone ping.", "user": {"login": "FightMan01", "id": 29693718, "node_id": "MDQ6VXNlcjI5NjkzNzE4", "avatar_url": "https://avatars3.githubusercontent.com/u/29693718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FightMan01", "html_url": "https://github.com/FightMan01", "followers_url": "https://api.github.com/users/FightMan01/followers", "following_url": "https://api.github.com/users/FightMan01/following{/other_user}", "gists_url": "https://api.github.com/users/FightMan01/gists{/gist_id}", "starred_url": "https://api.github.com/users/FightMan01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FightMan01/subscriptions", "organizations_url": "https://api.github.com/users/FightMan01/orgs", "repos_url": "https://api.github.com/users/FightMan01/repos", "events_url": "https://api.github.com/users/FightMan01/events{/privacy}", "received_events_url": "https://api.github.com/users/FightMan01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-26T14:01:30Z", "updated_at": "2020-06-26T14:40:11Z", "closed_at": "2020-06-26T14:07:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nI have an afk command where the users can set text. I'm trying to filter if the user set everyone ping. If the user has permission, the `ctx.message.mention_everyone` returns True, but when the user don't have permission it returns False. \r\n\r\n### Reproduction Steps\r\n```py\r\n    @commands.command()\r\n    async def afk(self, ctx, *, reason = None):\r\n        if ctx.message.mention_everyone:\r\n           await ctx.send(\"Ping detected.\")\r\n        else:\r\n           await ctx.send(\"nope\")\r\n```\r\n### Expected Results\r\n\r\nWhen the user write `!afk @everyone` it should return `Ping detected`. \r\n\r\n### Actual Results\r\n\r\nIf the user has the permission it returns `Ping detected`. But the user doesn't have a permission it returns `nope`.\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.2-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a0\r\n- aiohttp v3.6.2\r\n- system info: Linux 5.4.0-31-generic # 35-Ubuntu SMP Thu May 7 20:20:34 UTC 2020\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/5057", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5057/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5057/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/5057/events", "html_url": "https://github.com/Rapptz/discord.py/issues/5057", "id": 645875323, "node_id": "MDU6SXNzdWU2NDU4NzUzMjM=", "number": 5057, "title": "VoiceClient doesn't seem to have latency and average_latency", "user": {"login": "Tsumiki-Chan", "id": 8158524, "node_id": "MDQ6VXNlcjgxNTg1MjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8158524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tsumiki-Chan", "html_url": "https://github.com/Tsumiki-Chan", "followers_url": "https://api.github.com/users/Tsumiki-Chan/followers", "following_url": "https://api.github.com/users/Tsumiki-Chan/following{/other_user}", "gists_url": "https://api.github.com/users/Tsumiki-Chan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tsumiki-Chan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tsumiki-Chan/subscriptions", "organizations_url": "https://api.github.com/users/Tsumiki-Chan/orgs", "repos_url": "https://api.github.com/users/Tsumiki-Chan/repos", "events_url": "https://api.github.com/users/Tsumiki-Chan/events{/privacy}", "received_events_url": "https://api.github.com/users/Tsumiki-Chan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-25T21:57:30Z", "updated_at": "2020-06-25T22:46:35Z", "closed_at": "2020-06-25T22:46:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\r\n\r\nUpon trying to get the latency and average_latency properties from a discord.VoiceClient object it reports `AttributeError: 'VoiceClient' object has no attribute 'average_latency'`.\r\nSame seems to appear when trying to get those properties from the DiscordVoiceWebSocket directly.\r\n(` AttributeError: 'DiscordVoiceWebSocket' object has no attribute 'average_latency'`)\r\n\r\n### Reproduction Steps\r\n\r\n1. Connect to a voice channel\r\n2. Wait a bit\r\n3. call `VoiceClient.latency` or `VoiceClient.average_latency`\r\n\r\n```py\r\n    @commands.command(name='test')\r\n    @Checks.has_permission(\"test\")\r\n    @commands.cooldown(rate=1, per=10.0, type=commands.BucketType.channel)\r\n    async def test(self, ctx):\r\n        \"\"\" Latency test \"\"\"\r\n        destination = ctx.author.voice.channel\r\n        voice = await destination.connect()\r\n        await asyncio.sleep(5)\r\n        print(discord.__version__, repr(voice))\r\n        await ctx.send(f\"{round(voice.average_latency*1000, 0)} ms\")\r\n        await voice.disconnect()\r\n```\r\n\r\n### Expected Results\r\n\r\n`voice.latency` to return a float\r\n\r\n### Actual Results\r\n```\r\nTraceback (most recent call last):\r\n   File \"/home/tomori/.local/lib/python3.8/site-packages/discord/ext/commands/core.py\", line 83, in wrapped\r\n    ret = await coro(*args, **kwargs)\r\n   File \"/home/tomori/Rewrite/cogs/BotInfo.py\", line 205, in test\r\n    await ctx.send(f\"{round(voice.average_latency*1000, 0)} ms\")\r\n AttributeError: 'VoiceClient' object has no attribute 'average_latency'\r\n```\r\n\r\n### Checklist\r\n\r\n- [X] I have searched the open issues for duplicates.\r\n- [X] I have shown the entire traceback, if possible.\r\n- [X] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n```\r\n- Python v3.8.3-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4222", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4222/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4222/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4222/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4222", "id": 642492005, "node_id": "MDU6SXNzdWU2NDI0OTIwMDU=", "number": 4222, "title": "Audit log actions member_move and member_disconnect have no target", "user": {"login": "classabbyamp", "id": 5366828, "node_id": "MDQ6VXNlcjUzNjY4Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5366828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/classabbyamp", "html_url": "https://github.com/classabbyamp", "followers_url": "https://api.github.com/users/classabbyamp/followers", "following_url": "https://api.github.com/users/classabbyamp/following{/other_user}", "gists_url": "https://api.github.com/users/classabbyamp/gists{/gist_id}", "starred_url": "https://api.github.com/users/classabbyamp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/classabbyamp/subscriptions", "organizations_url": "https://api.github.com/users/classabbyamp/orgs", "repos_url": "https://api.github.com/users/classabbyamp/repos", "events_url": "https://api.github.com/users/classabbyamp/events{/privacy}", "received_events_url": "https://api.github.com/users/classabbyamp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-21T04:21:39Z", "updated_at": "2020-06-21T04:30:14Z", "closed_at": "2020-06-21T04:28:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\n`AuditLogAction.member_move` and `.member_disconnect` have no `target`, when I would expect an `abc.User`-based object.\r\n\r\n### Reproduction Steps\r\n\r\n```py\r\nasync for entry in guild.audit_logs(action=discord.AuditLogAction.member_move):\r\n    print(type(entry.target))    # will print <class 'NoneType'>\r\n\r\nasync for entry in guild.audit_logs(action=discord.AuditLogAction.member_disconnect):\r\n    print(type(entry.target))    # will print <class 'NoneType'>\r\n```\r\n\r\n### Expected Results\r\n\r\n`entry.target` is a `User` or `Member`.\r\n\r\n### Actual Results\r\n\r\n`entry.target` is `None`\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n<!-- Run `python -m discord -v` and paste this information below. -->\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n\r\n- Python v3.8.3-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 5.6.15-arch1-1 #1 SMP PREEMPT Wed, 27 May 2020 23:42:26 +0000\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4221", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4221/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4221/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4221/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4221", "id": 642382395, "node_id": "MDU6SXNzdWU2NDIzODIzOTU=", "number": 4221, "title": "User activity", "user": {"login": "ObscureBrandon", "id": 45913093, "node_id": "MDQ6VXNlcjQ1OTEzMDkz", "avatar_url": "https://avatars3.githubusercontent.com/u/45913093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ObscureBrandon", "html_url": "https://github.com/ObscureBrandon", "followers_url": "https://api.github.com/users/ObscureBrandon/followers", "following_url": "https://api.github.com/users/ObscureBrandon/following{/other_user}", "gists_url": "https://api.github.com/users/ObscureBrandon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ObscureBrandon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ObscureBrandon/subscriptions", "organizations_url": "https://api.github.com/users/ObscureBrandon/orgs", "repos_url": "https://api.github.com/users/ObscureBrandon/repos", "events_url": "https://api.github.com/users/ObscureBrandon/events{/privacy}", "received_events_url": "https://api.github.com/users/ObscureBrandon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-20T14:01:35Z", "updated_at": "2020-06-20T14:03:59Z", "closed_at": "2020-06-20T14:03:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "My bot utilizes activities to grab song lyrics based on the user's current activity and send them in dms. Which brings up the issue of users not having the **activity** property. \r\n\r\n<!--\r\nWhat problem is your feature trying to solve? What becomes easier or possible when this feature is implemented?\r\n-->\r\nThe ability to utilize any users' activity which will surely open up a lot of possibilities \r\n### Solution\r\n<!--\r\nWhat is your ideal solution to the problem? What would you like this feature to do?\r\n-->\r\nNo solutions that i am aware of.\r\n\r\n### Summary\r\nThe ability to grab users' activities\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4216", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4216/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4216/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4216/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4216", "id": 642256565, "node_id": "MDU6SXNzdWU2NDIyNTY1NjU=", "number": 4216, "title": "Error on sending through webhook adapter partial webhook.", "user": {"login": "hyper-blade", "id": 49539636, "node_id": "MDQ6VXNlcjQ5NTM5NjM2", "avatar_url": "https://avatars0.githubusercontent.com/u/49539636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyper-blade", "html_url": "https://github.com/hyper-blade", "followers_url": "https://api.github.com/users/hyper-blade/followers", "following_url": "https://api.github.com/users/hyper-blade/following{/other_user}", "gists_url": "https://api.github.com/users/hyper-blade/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyper-blade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyper-blade/subscriptions", "organizations_url": "https://api.github.com/users/hyper-blade/orgs", "repos_url": "https://api.github.com/users/hyper-blade/repos", "events_url": "https://api.github.com/users/hyper-blade/events{/privacy}", "received_events_url": "https://api.github.com/users/hyper-blade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-19T23:09:27Z", "updated_at": "2020-06-19T23:11:15Z", "closed_at": "2020-06-19T23:10:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\n<!-- A summary of your bug report -->\r\n\r\n### Reproduction Steps\r\n\r\nInside of class:\r\n\r\n`webhook = discord.Webhook.from_url(config['GENERAL']['Webhook URL'], adapter=discord.WebhookAdapter())`\r\n\r\nSending webhook:\r\n\r\n`\r\nembed = discord.Embed(title=product_name, url=product_url, description=f'**Sizes Loaded:**\\n\\n{sizes}')\r\nembed.set_thumbnail(url='attachment://image.jpg')\r\nself.webhook.send(embed=embed, file=discord.File('image.jpg'))`\r\n\r\n### Expected Results\r\n\r\nWebhook expected to send as normally.\r\n\r\n### Actual Results\r\n\r\nWebhook errors with error: `TypeError: request() got an unexpected keyword argument 'files'`\r\n\r\n`Traceback (most recent call last):\r\n  File \"C:\\Users\\shado\\Desktop\\Programming\\sneaker\\asos monitor\\asos_monitor.py\", line 85, in <module>\r\n    in_stock = monitor.detect_stock(product_id='12370920', product_url='https://www.asos.com/converse/converse-chuck-taylor-all-star-hi-black-trainers/prd/12370920?colourwayid=16383878&SearchQuery=&cid=4172')\r\n  File \"C:\\Users\\shado\\Desktop\\Programming\\sneaker\\asos monitor\\asos_monitor.py\", line 43, in detect_stock\r\n    self.get_info(product_url)\r\n  File \"C:\\Users\\shado\\Desktop\\Programming\\sneaker\\asos monitor\\asos_monitor.py\", line 65, in get_info\r\n    self.send_embed(product_name, product_url, sizes)\r\n  File \"C:\\Users\\shado\\Desktop\\Programming\\sneaker\\asos monitor\\asos_monitor.py\", line 81, in send_embed\r\n    self.webhook.send(embed=embed, file=discord.File('image.jpg'))\r\n  File \"C:\\Users\\shado\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\webhook.py\", line 778, in send\r\n    return self._adapter.execute_webhook(wait=wait, file=file, files=files, payload=payload)\r\n  File \"C:\\Users\\shado\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\discord\\webhook.py\", line 148, in execute_webhook\r\n    maybe_coro = self.request('POST', url, multipart=multipart, payload=data, files=files_to_pass)\r\nTypeError: request() got an unexpected keyword argument 'files'`\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.3-final\r\n- discord.py v1.3.1-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Windows 10 10.0.17763\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4214", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4214/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4214/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4214/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4214", "id": 642175928, "node_id": "MDU6SXNzdWU2NDIxNzU5Mjg=", "number": 4214, "title": "add units of time to the docs", "user": {"login": "yotam201410", "id": 56742172, "node_id": "MDQ6VXNlcjU2NzQyMTcy", "avatar_url": "https://avatars3.githubusercontent.com/u/56742172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yotam201410", "html_url": "https://github.com/yotam201410", "followers_url": "https://api.github.com/users/yotam201410/followers", "following_url": "https://api.github.com/users/yotam201410/following{/other_user}", "gists_url": "https://api.github.com/users/yotam201410/gists{/gist_id}", "starred_url": "https://api.github.com/users/yotam201410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yotam201410/subscriptions", "organizations_url": "https://api.github.com/users/yotam201410/orgs", "repos_url": "https://api.github.com/users/yotam201410/repos", "events_url": "https://api.github.com/users/yotam201410/events{/privacy}", "received_events_url": "https://api.github.com/users/yotam201410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-19T19:22:56Z", "updated_at": "2020-06-19T19:24:44Z", "closed_at": "2020-06-19T19:24:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\nat the create invite and more actions you can set a limited time but i always forget in what units is it.\r\n### The Ideal Solution\r\n\r\nadding the units to the docs\r\n\r\n### The Current Solution\r\n\r\nasking in the support discord server\r\n\r\n### Summary\r\n\r\nadding units of time to the docs", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4213", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4213/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4213/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4213/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4213", "id": 642161586, "node_id": "MDU6SXNzdWU2NDIxNjE1ODY=", "number": 4213, "title": "adding a category object to a channel object", "user": {"login": "yotam201410", "id": 56742172, "node_id": "MDQ6VXNlcjU2NzQyMTcy", "avatar_url": "https://avatars3.githubusercontent.com/u/56742172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yotam201410", "html_url": "https://github.com/yotam201410", "followers_url": "https://api.github.com/users/yotam201410/followers", "following_url": "https://api.github.com/users/yotam201410/following{/other_user}", "gists_url": "https://api.github.com/users/yotam201410/gists{/gist_id}", "starred_url": "https://api.github.com/users/yotam201410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yotam201410/subscriptions", "organizations_url": "https://api.github.com/users/yotam201410/orgs", "repos_url": "https://api.github.com/users/yotam201410/repos", "events_url": "https://api.github.com/users/yotam201410/events{/privacy}", "received_events_url": "https://api.github.com/users/yotam201410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-19T18:49:46Z", "updated_at": "2020-06-19T19:24:07Z", "closed_at": "2020-06-19T19:24:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\n\r\nchannel object does not have a category but just a category_id\r\n\r\n\r\n### The Ideal Solution\r\n\r\n\r\ninsted of the categoty_id put a category object\r\n\r\n\r\n### The Current Solution\r\n\r\n\r\ngetting the category using get_channel\r\n\r\n\r\n### Summary\r\n\r\nit would have been nice if you would have added insted of the id just an category object in a channel object\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4212", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4212/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4212/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4212/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4212", "id": 642161200, "node_id": "MDU6SXNzdWU2NDIxNjEyMDA=", "number": 4212, "title": "adding a category object to a channel object", "user": {"login": "yotam201410", "id": 56742172, "node_id": "MDQ6VXNlcjU2NzQyMTcy", "avatar_url": "https://avatars3.githubusercontent.com/u/56742172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yotam201410", "html_url": "https://github.com/yotam201410", "followers_url": "https://api.github.com/users/yotam201410/followers", "following_url": "https://api.github.com/users/yotam201410/following{/other_user}", "gists_url": "https://api.github.com/users/yotam201410/gists{/gist_id}", "starred_url": "https://api.github.com/users/yotam201410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yotam201410/subscriptions", "organizations_url": "https://api.github.com/users/yotam201410/orgs", "repos_url": "https://api.github.com/users/yotam201410/repos", "events_url": "https://api.github.com/users/yotam201410/events{/privacy}", "received_events_url": "https://api.github.com/users/yotam201410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-19T18:48:54Z", "updated_at": "2020-06-19T18:50:03Z", "closed_at": "2020-06-19T18:50:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\n<!--\r\nchannel object does not have a category but just a category_id\r\n-->\r\n\r\n### The Ideal Solution\r\n\r\n<!--\r\ninsted of th categoty_id put a category object\r\n-->\r\n\r\n### The Current Solution\r\n\r\n<!--\r\ngetting the category using get_channel\r\n-->\r\n\r\n### Summary\r\n\r\n<!-- it would have been nice if you would have added insted of the id just an category object in a channel object-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4211", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4211/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4211/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4211/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4211", "id": 641404845, "node_id": "MDU6SXNzdWU2NDE0MDQ4NDU=", "number": 4211, "title": "The system_content from MessageType.new_member outputs incorrectly", "user": {"login": "Geroyuni", "id": 6061850, "node_id": "MDQ6VXNlcjYwNjE4NTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6061850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Geroyuni", "html_url": "https://github.com/Geroyuni", "followers_url": "https://api.github.com/users/Geroyuni/followers", "following_url": "https://api.github.com/users/Geroyuni/following{/other_user}", "gists_url": "https://api.github.com/users/Geroyuni/gists{/gist_id}", "starred_url": "https://api.github.com/users/Geroyuni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Geroyuni/subscriptions", "organizations_url": "https://api.github.com/users/Geroyuni/orgs", "repos_url": "https://api.github.com/users/Geroyuni/repos", "events_url": "https://api.github.com/users/Geroyuni/events{/privacy}", "received_events_url": "https://api.github.com/users/Geroyuni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1163940607, "node_id": "MDU6TGFiZWwxMTYzOTQwNjA3", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/docs%20needed", "name": "docs needed", "color": "48f286", "default": false, "description": "Documentation is needed for this change."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-18T17:09:16Z", "updated_at": "2020-06-27T08:12:29Z", "closed_at": "2020-06-27T08:12:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\r\n`message.system_content` returns something different from what is visible in the Discord client for messages of the type `MessageType.new_member`, \r\n\r\n![](https://files.catbox.moe/0wy14o.png)\r\n\r\n### Reproduction Steps\r\nSee the `message.system_content` of a `MessageType.new_member` message.\r\n\r\n### Expected Results\r\nShows same message as you see in your Discord client.\r\n\r\n### Actual Results\r\nShows different message from what you see in your Discord client.\r\n\r\n### Checklist\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n```\r\n- Python v3.8.0-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v6.0\r\n- system info: Linux 4.15.0-1063-aws #67-Ubuntu SMP Mon Mar 2 07:24:29 UTC 2020\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4209", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4209/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4209/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4209/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4209", "id": 640747580, "node_id": "MDU6SXNzdWU2NDA3NDc1ODA=", "number": 4209, "title": "Infer types for attributes in Context", "user": {"login": "vintprox", "id": 5708819, "node_id": "MDQ6VXNlcjU3MDg4MTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5708819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vintprox", "html_url": "https://github.com/vintprox", "followers_url": "https://api.github.com/users/vintprox/followers", "following_url": "https://api.github.com/users/vintprox/following{/other_user}", "gists_url": "https://api.github.com/users/vintprox/gists{/gist_id}", "starred_url": "https://api.github.com/users/vintprox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vintprox/subscriptions", "organizations_url": "https://api.github.com/users/vintprox/orgs", "repos_url": "https://api.github.com/users/vintprox/repos", "events_url": "https://api.github.com/users/vintprox/events{/privacy}", "received_events_url": "https://api.github.com/users/vintprox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130942, "node_id": "MDU6TGFiZWwyNTExMzA5NDI=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": "This is a duplicate of another issue or PR."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-17T21:16:49Z", "updated_at": "2020-06-18T13:01:50Z", "closed_at": "2020-06-18T13:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\n\r\n<!--\r\nWhat problem is your feature trying to solve? What becomes easier or possible when this feature is implemented?\r\n-->\r\nEvery occurrence of `ctx` is pulling me back to API reference of `Context` class, because I may be missing memory of what was there, and it's kind of inconvenient. Even after explicitly annotating `ctx: Context`, the problem appears to be with a lack of type annotations for each its member.\r\n\r\n### The Ideal Solution\r\n\r\n<!--\r\nWhat is your ideal solution to the problem? What would you like this feature to do?\r\n-->\r\nIt would be invaluable commitment to have all attributes of `Context` typed properly, so any A-OK IDE can produce autocompletion for everything `ctx.*`.\r\n\r\n### The Current Solution\r\n\r\n<!--\r\nWhat is the current solution to the problem, if any?\r\n-->\r\nOf course, we can infer attributes set for `ctx` by adding `: commands.Context` (or even better: `ctx: Context`). Doesn't solve the problem with inferring their types though, so it becomes only natural to keep browser tab with API reference open for your next move.\r\n\r\n### Summary\r\n\r\n<!-- A short summary of your feature request. -->\r\nMake `Context` great again, I suppose \ud83d\ude06 I believe it's no problem for us to add `: Context`, to start expecting type inference of anything `ctx.*`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4208", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4208/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4208/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4208/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4208", "id": 640701953, "node_id": "MDU6SXNzdWU2NDA3MDE5NTM=", "number": 4208, "title": "how to blacklist members no cog ", "user": {"login": "shuanaongithub", "id": 61404361, "node_id": "MDQ6VXNlcjYxNDA0MzYx", "avatar_url": "https://avatars0.githubusercontent.com/u/61404361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shuanaongithub", "html_url": "https://github.com/shuanaongithub", "followers_url": "https://api.github.com/users/shuanaongithub/followers", "following_url": "https://api.github.com/users/shuanaongithub/following{/other_user}", "gists_url": "https://api.github.com/users/shuanaongithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/shuanaongithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shuanaongithub/subscriptions", "organizations_url": "https://api.github.com/users/shuanaongithub/orgs", "repos_url": "https://api.github.com/users/shuanaongithub/repos", "events_url": "https://api.github.com/users/shuanaongithub/events{/privacy}", "received_events_url": "https://api.github.com/users/shuanaongithub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-17T19:54:55Z", "updated_at": "2020-06-28T06:46:54Z", "closed_at": "2020-06-28T06:46:50Z", "author_association": "NONE", "active_lock_reason": "off-topic", "body": "### The Problem\r\n\r\n<!--\r\nWhat problem is your feature trying to solve? What becomes easier or possible when this feature is implemented?\r\n-->\r\njust please\r\n### The Ideal Solution\r\n\r\n<!--\r\nWhat is your ideal solution to the problem? What would you like this feature to do?\r\n-->\r\n\r\n### The Current Solution\r\n\r\n<!--\r\nWhat is the current solution to the problem, if any?\r\n-->\r\n\r\n### Summary\r\ni would like to blacklist members\r\n<!-- A short summary of your feature request. -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4206", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4206/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4206/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4206/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4206", "id": 640454886, "node_id": "MDU6SXNzdWU2NDA0NTQ4ODY=", "number": 4206, "title": "escape_markdown does not escape masked links", "user": {"login": "SnowyLuma", "id": 38926001, "node_id": "MDQ6VXNlcjM4OTI2MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/38926001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SnowyLuma", "html_url": "https://github.com/SnowyLuma", "followers_url": "https://api.github.com/users/SnowyLuma/followers", "following_url": "https://api.github.com/users/SnowyLuma/following{/other_user}", "gists_url": "https://api.github.com/users/SnowyLuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/SnowyLuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SnowyLuma/subscriptions", "organizations_url": "https://api.github.com/users/SnowyLuma/orgs", "repos_url": "https://api.github.com/users/SnowyLuma/repos", "events_url": "https://api.github.com/users/SnowyLuma/events{/privacy}", "received_events_url": "https://api.github.com/users/SnowyLuma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130941, "node_id": "MDU6TGFiZWwyNTExMzA5NDE=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/bug", "name": "bug", "color": "C62740", "default": true, "description": "This is a bug with the library."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10", "html_url": "https://github.com/Rapptz/discord.py/milestone/10", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/milestones/10/labels", "id": 5273240, "node_id": "MDk6TWlsZXN0b25lNTI3MzI0MA==", "number": 10, "title": "1.4", "description": "", "creator": {"login": "Rapptz", "id": 1695103, "node_id": "MDQ6VXNlcjE2OTUxMDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1695103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rapptz", "html_url": "https://github.com/Rapptz", "followers_url": "https://api.github.com/users/Rapptz/followers", "following_url": "https://api.github.com/users/Rapptz/following{/other_user}", "gists_url": "https://api.github.com/users/Rapptz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rapptz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rapptz/subscriptions", "organizations_url": "https://api.github.com/users/Rapptz/orgs", "repos_url": "https://api.github.com/users/Rapptz/repos", "events_url": "https://api.github.com/users/Rapptz/events{/privacy}", "received_events_url": "https://api.github.com/users/Rapptz/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 59, "state": "closed", "created_at": "2020-04-04T06:24:09Z", "updated_at": "2020-08-06T04:03:45Z", "due_on": null, "closed_at": "2020-08-06T04:03:45Z"}, "comments": 0, "created_at": "2020-06-17T13:43:54Z", "updated_at": "2020-06-22T08:00:51Z", "closed_at": "2020-06-22T08:00:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Summary\r\n\r\nUsing escape_markdown to remove masked links from content before sending it with a webhook does not escape them as expected.\r\n\r\n### Reproduction Steps\r\n\r\nCall `utils.escape_markdown` on a piece of text with a masked link:\r\n\r\n```python3\r\n>>> import discord\r\n>>>\r\n>>> discord.utils.escape_markdown('[Hello World](https://example.com)')\r\n'[Hello World](https://example.com)'\r\n>>>\r\n```\r\n\r\n### Expected Results\r\n\r\nI expected the returned text to be `\\[Hello World\\](https://example.com)` or similar.\r\n\r\n### Actual Results\r\n\r\nThe text is unchanged, and will display a masked link in chat.\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [x] I have searched the open issues for duplicates.\r\n- [x] I have shown the entire traceback, if possible.\r\n- [x] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.1-final\r\n- discord.py v1.4.0-alpha\r\n    - discord.py pkg_resources: v1.4.0a2301+g98515ca\r\n- aiohttp v3.6.2\r\n- system info: Windows 10 10.0.19645\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4205", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4205/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4205/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4205/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4205", "id": 639908105, "node_id": "MDU6SXNzdWU2Mzk5MDgxMDU=", "number": 4205, "title": "channel.permissions", "user": {"login": "feelingnothing", "id": 47575622, "node_id": "MDQ6VXNlcjQ3NTc1NjIy", "avatar_url": "https://avatars0.githubusercontent.com/u/47575622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feelingnothing", "html_url": "https://github.com/feelingnothing", "followers_url": "https://api.github.com/users/feelingnothing/followers", "following_url": "https://api.github.com/users/feelingnothing/following{/other_user}", "gists_url": "https://api.github.com/users/feelingnothing/gists{/gist_id}", "starred_url": "https://api.github.com/users/feelingnothing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feelingnothing/subscriptions", "organizations_url": "https://api.github.com/users/feelingnothing/orgs", "repos_url": "https://api.github.com/users/feelingnothing/repos", "events_url": "https://api.github.com/users/feelingnothing/events{/privacy}", "received_events_url": "https://api.github.com/users/feelingnothing/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T19:08:31Z", "updated_at": "2020-06-16T19:12:18Z", "closed_at": "2020-06-16T19:12:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### The Problem\r\nThis feature will help to list permissions\r\n\r\n### The Ideal Solution\r\nfor member, permissions in channel.permissions:\r\n    ...\r\n\r\n### Summary\r\n\r\nIndex a channels with .permissions that stores tuples with member/role and permissions for him\r\n[(Union[discord.Member, discord.Role], discord.Permissions)]\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4203", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4203/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4203/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4203/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4203", "id": 639640735, "node_id": "MDU6SXNzdWU2Mzk2NDA3MzU=", "number": 4203, "title": "\"RuntimeError: Event loop is closed\"", "user": {"login": "flitee", "id": 67006338, "node_id": "MDQ6VXNlcjY3MDA2MzM4", "avatar_url": "https://avatars2.githubusercontent.com/u/67006338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flitee", "html_url": "https://github.com/flitee", "followers_url": "https://api.github.com/users/flitee/followers", "following_url": "https://api.github.com/users/flitee/following{/other_user}", "gists_url": "https://api.github.com/users/flitee/gists{/gist_id}", "starred_url": "https://api.github.com/users/flitee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flitee/subscriptions", "organizations_url": "https://api.github.com/users/flitee/orgs", "repos_url": "https://api.github.com/users/flitee/repos", "events_url": "https://api.github.com/users/flitee/events{/privacy}", "received_events_url": "https://api.github.com/users/flitee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T12:53:31Z", "updated_at": "2020-06-16T12:56:53Z", "closed_at": "2020-06-16T12:56:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently when I tried to run the bot, it didn't respond or go online. \r\n\r\nHere's the main file code, which I believe is where the problem arose from:\r\n`import discord\r\nimport os\r\nfrom discord.ext import commands\r\n\r\nprefix = 'alexa, '\r\nbot = commands.Bot(command_prefix=prefix)\r\n\r\nbot.remove_command('help')\r\nfor filename in os.listdir('./cogs'):\r\n    if filename.endswith('.py'):\r\n        bot.load_extension(f'cogs.{filename[:-3]}')\r\n\r\nbot.run(token)`\r\n\r\nHere is the console error:\r\n\r\n`Exception ignored in: <function _ProactorBasePipeTransport.__del__ at 0x000001856AE053A0>\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\44794\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\proactor_events.py\", line 116, in __del__\r\n    self.close()\r\n  File \"C:\\Users\\44794\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n    self._loop.call_soon(self._call_connection_lost, None)\r\n  File \"C:\\Users\\44794\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\base_events.py\", line 719, in call_soon\r\n    self._check_closed()\r\n  File \"C:\\Users\\44794\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\base_events.py\", line 508, in _check_closed\r\n    raise RuntimeError('Event loop is closed')\r\nRuntimeError: Event loop is closed`\r\n\r\nIf any more info is required or forgotten, lmk\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4202", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4202/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4202/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4202/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4202", "id": 639473402, "node_id": "MDU6SXNzdWU2Mzk0NzM0MDI=", "number": 4202, "title": "Empty members list on voice channel.", "user": {"login": "ibigpapa", "id": 694054, "node_id": "MDQ6VXNlcjY5NDA1NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/694054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibigpapa", "html_url": "https://github.com/ibigpapa", "followers_url": "https://api.github.com/users/ibigpapa/followers", "following_url": "https://api.github.com/users/ibigpapa/following{/other_user}", "gists_url": "https://api.github.com/users/ibigpapa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibigpapa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibigpapa/subscriptions", "organizations_url": "https://api.github.com/users/ibigpapa/orgs", "repos_url": "https://api.github.com/users/ibigpapa/repos", "events_url": "https://api.github.com/users/ibigpapa/events{/privacy}", "received_events_url": "https://api.github.com/users/ibigpapa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T08:26:12Z", "updated_at": "2020-06-16T08:29:04Z", "closed_at": "2020-06-16T08:27:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen attempting to get members of a voice channel i'm always getting 0 members.\r\n\r\n### Reproduction Steps\r\n\r\n```\r\nasync def full_voice_count(self) -> int:\r\n        guild: Guild = await self.bot.fetch_guild(GUILD_ID)\r\n        channels = await guild.fetch_channels()\r\n        voice_channels = [\r\n            channel for channel in channels if channel.type == ChannelType.voice\r\n        ]\r\n        return sum([len(channel.members) for channel in voice_channels])\r\n```\r\n\r\n### Expected Results\r\n\r\nExpect current users in voice channel to be return with `channel.members`.\r\n\r\n### Actual Results\r\n\r\nempty list of members is returned.\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [X ] I have searched the open issues for duplicates.\r\n- [ X] I have shown the entire traceback, if possible.\r\n- [ X] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n- Python v3.8.0-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v8.1\r\n- system info: Linux 4.15.0-101-generic #102-Ubuntu SMP Mon May 11 10:07:26 UTC 2020\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Rapptz/discord.py/issues/4201", "repository_url": "https://api.github.com/repos/Rapptz/discord.py", "labels_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4201/labels{/name}", "comments_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4201/comments", "events_url": "https://api.github.com/repos/Rapptz/discord.py/issues/4201/events", "html_url": "https://github.com/Rapptz/discord.py/issues/4201", "id": 639471364, "node_id": "MDU6SXNzdWU2Mzk0NzEzNjQ=", "number": 4201, "title": "Offset to change channel name", "user": {"login": "Army-py", "id": 61599555, "node_id": "MDQ6VXNlcjYxNTk5NTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/61599555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Army-py", "html_url": "https://github.com/Army-py", "followers_url": "https://api.github.com/users/Army-py/followers", "following_url": "https://api.github.com/users/Army-py/following{/other_user}", "gists_url": "https://api.github.com/users/Army-py/gists{/gist_id}", "starred_url": "https://api.github.com/users/Army-py/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Army-py/subscriptions", "organizations_url": "https://api.github.com/users/Army-py/orgs", "repos_url": "https://api.github.com/users/Army-py/repos", "events_url": "https://api.github.com/users/Army-py/events{/privacy}", "received_events_url": "https://api.github.com/users/Army-py/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 251130945, "node_id": "MDU6TGFiZWwyNTExMzA5NDU=", "url": "https://api.github.com/repos/Rapptz/discord.py/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "This is not right."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T08:23:08Z", "updated_at": "2020-06-16T08:26:13Z", "closed_at": "2020-06-16T08:26:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Summary\r\n\r\nWhen I want to change the name of a channel it can take several minutes to do so.\r\n\r\n### Reproduction Steps\r\n\r\n```python\r\nonline = 0\r\n        idle = 0\r\n        dnd = 0\r\n        online_count = self.client.get_channel(691011893464268900)\r\n\r\n        for member in after.guild.members:\r\n            if str(member.status) == 'online':\r\n                online += 1\r\n            elif str(member.status) == 'idle':\r\n                idle += 1\r\n            elif str(member.status) == 'dnd':\r\n                dnd += 1\r\n        await online_count.edit(reason=None, name=f\"\u3010\ud83d\udce1\u3011En ligne : {online + idle + dnd}\")\r\n```\r\nThe problem comes from the `await online_count.edit(reason=None, name=f\"\u3010\ud83d\udce1\u3011En ligne : {online + idle + dnd}\")` , I had put a 'print' just before and after this line and I could see that it was this first line that had a problem. But several minutes after the second print that was after the `await` worked.\r\n\r\n### Expected Results\r\n\r\nI was expecting the name of the channel to change quickly, but since I switched to discord.py 1.4, I have the impression that it has slowed down the editing of the channel\r\n\r\n### Actual Results\r\n\r\nThe channel wasn't renamed until several minutes later.\r\n\r\n\r\n### Checklist\r\n\r\n<!-- Put an x inside [ ] to check it, like so: [x] -->\r\n\r\n- [ ] I have searched the open issues for duplicates.\r\n- [ ] I have shown the entire traceback, if possible.\r\n- [ ] I have removed my token from display, if visible.\r\n\r\n### System Information\r\n\r\n```\r\n- Python v3.8.1-final\r\n- discord.py v1.3.3-final\r\n- aiohttp v3.6.2\r\n- websockets v6.0\r\n- system info: Windows 10 10.0.18362\r\n```\r\n<!-- This command is available in v1.1.0 or higher. If you are unable to run this command, paste basic info (ie. Python version, library version, and your operating system -->\r\n", "performed_via_github_app": null, "score": 1.0}]}