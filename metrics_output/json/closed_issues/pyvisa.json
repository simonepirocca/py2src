{"total_count": 352, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/534", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/534/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/534/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/534/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/534", "id": 676147022, "node_id": "MDU6SXNzdWU2NzYxNDcwMjI=", "number": 534, "title": "[TCPIP] Communication issue with Tektronix MDO3014 using PyVisa--communication works but instrument not listed in Resource Manager", "user": {"login": "IntegralWorks", "id": 27093212, "node_id": "MDQ6VXNlcjI3MDkzMjEy", "avatar_url": "https://avatars0.githubusercontent.com/u/27093212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IntegralWorks", "html_url": "https://github.com/IntegralWorks", "followers_url": "https://api.github.com/users/IntegralWorks/followers", "following_url": "https://api.github.com/users/IntegralWorks/following{/other_user}", "gists_url": "https://api.github.com/users/IntegralWorks/gists{/gist_id}", "starred_url": "https://api.github.com/users/IntegralWorks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IntegralWorks/subscriptions", "organizations_url": "https://api.github.com/users/IntegralWorks/orgs", "repos_url": "https://api.github.com/users/IntegralWorks/repos", "events_url": "https://api.github.com/users/IntegralWorks/events{/privacy}", "received_events_url": "https://api.github.com/users/IntegralWorks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-10T13:42:35Z", "updated_at": "2020-08-13T17:14:31Z", "closed_at": "2020-08-13T17:03:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport pyvisa\r\n\r\nrm = pyvisa.ResourceManager()\r\n\r\nrm.list_resources()\r\n\r\n('ASRL3::INSTR', 'ASRL10::INSTR')\r\n\r\ninst = rm.open_resource('TCPIP::169.254.8.227::INSTR') #note: I manually found this ip address\r\n\r\ninst.query('*IDN?')\r\n\r\n'TEKTRONIX,MDO3014,C047688,CF:91.1CT FV:v1.26\\n'\r\n```\r\n\r\n\r\nAlso (fortunately), `inst.write(\"ACQ:STATE OFF\")` and `inst.write(\"ACQ:STATE ON\")` work. \r\nWhy isn't `'TCPIP::169.254.8.227::INSTR'` listed in the Resource Manager?\r\n\r\nInstrument details\r\n------------------\r\n* Model: Tektronix MDO3014\r\n* Communication: TCPIP\r\n* Link to the documentation (if available): https://github.com/pyvisa/pyvisa/files/4919729/MDO4000-B-MSO-DPO4000B-and-MDO3000-Oscilloscope-Programmer-Manual-Rev-A.pdf\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\n\r\npyvisa-info\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.15063-SP0\r\n   Processor:      Intel64 Family 6 Model 58 Stepping 9, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\jsalazar\\AppData\\Local\\Programs\\Python\\Python38\\python.exe\r\n   Version:        3.8.2\r\n   Compiler:       MSC v.1916 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          Feb 25 2020 23:03:10 (#tags/v3.8.2:7b3ab59)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\Windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 20971520\r\n         Spec. Version: 5244928\r\n      #2: C:\\Windows\\system32\\visa64.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 20971520\r\n         Spec. Version: 5244928\r\n\r\nMisc.\r\n-----------------------\r\n\r\nThe scopes I'm using a have a neat feature where upon directly connecting to their IP address via the browser, you can access certain features. The strings that Resource Manager are supposed to find are on their default web pages, and they work with PyVisa.\r\nhttps://imgur.com/a/3JwRdln", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/533", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/533/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/533/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/533", "id": 675914100, "node_id": "MDU6SXNzdWU2NzU5MTQxMDA=", "number": 533, "title": "Very slow read with instruments connected by GPIB", "user": {"login": "predator41", "id": 57162514, "node_id": "MDQ6VXNlcjU3MTYyNTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/57162514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/predator41", "html_url": "https://github.com/predator41", "followers_url": "https://api.github.com/users/predator41/followers", "following_url": "https://api.github.com/users/predator41/following{/other_user}", "gists_url": "https://api.github.com/users/predator41/gists{/gist_id}", "starred_url": "https://api.github.com/users/predator41/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/predator41/subscriptions", "organizations_url": "https://api.github.com/users/predator41/orgs", "repos_url": "https://api.github.com/users/predator41/repos", "events_url": "https://api.github.com/users/predator41/events{/privacy}", "received_events_url": "https://api.github.com/users/predator41/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-10T06:55:18Z", "updated_at": "2020-08-18T11:36:52Z", "closed_at": "2020-08-11T06:39:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to configure the Model 2400 for maximum rate with the following commands ,but it takes about 22 Seconds to get the data, I test the same commands with NI VISA Test Panel, it's much faster\r\nAny way to speed up?\r\n\r\n```\r\nimport visa\r\nimport time\r\n\r\nvisa_address = 'GPIB0::16::INSTR'\r\n\r\nrm = visa.ResourceManager()\r\nsmu = rm.open_resource(visa_address)\r\nsmu.timeout = 3000 # ms\r\nsmu.write_termination = '\\n'\r\nsmu.read_termination = '\\n'\r\nsmu.send_end = True\r\n\r\nprint(smu.query(\"*IDN?\"))\r\n\r\ncmds = [\r\n        \"*RST\",\r\n        \":SOUR:FUNC VOLT\",\r\n        \":SOUR:VOLT:RANG 20\",\r\n        \":SENSE:FUNCTION:CONC OFF\",\r\n        \":SENS:FUNC \\'CURR:DC\\'\",\r\n        \":SOUR:VOLT 0\",\r\n        \":SOUR:DEL 0\",\r\n        \":DISP:DIG 4\",\r\n        \"TRIG:DEL 0\",\r\n        \"TRIG:COUNT 2100\",\r\n        \":SENSE:CURR:NPLC 0.01\",\r\n        \":SENS:CURR:PROT 10E-3\",\r\n        \":SENS:CURR:RANG 10E-3\",\r\n        \":SENSE:AVER:STAT OFF\",\r\n        \"SYST:AZER:STAT OFF\",\r\n        \"DISP:ENAB OFF\",\r\n        \"*CLS\",\r\n        \":TRAC:POIN 2100\",\r\n        \":TRAC:CLE\",\r\n        \":TRAC:FEED:CONT NEXT\",\r\n        \"STAT:MEAS:ENAB 512\",\r\n        \"*SRE 1\"\r\n       ]\r\n\r\nfor cmd in cmds:\r\n    smu.write(cmd)\r\n\r\nsmu.query(\"*OPC?\")\r\nsmu.write(\":OUTP ON\")\r\nsmu.write(\"INIT\")\r\nsmu.write(\"DISP:ENAB ON\")\r\nsmu.write(\":OUTP OFF\")\r\n\r\nstart_time = time.time()\r\nraw_data = smu.query(\"TRAC:DATA?\")\r\n#print(raw_data)\r\nelapsed_time = time.time() - start_time\r\nprint(\"Elapsed Time:{}\\r\\n\".format(elapsed_time))\r\n\r\n\r\nsmu.close()\r\nrm.close()\r\n```\r\n\r\n\r\n\r\nInstrument details\r\n------------------\r\n* Model:2400\r\n\r\n* Communication: GPIB\r\n\r\n* Development Environment: Python 3.7, PyVisa 1.10, NI-VISA 20.0, Windows 10\r\n\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\nKEITHLEY INSTRUMENTS INC.,MODEL 2410,xxxx,C34 Sep 21 2016 15:30:00/A02  /J/K\r\n\r\nElapsed Time:22.975309371948242\r\n \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/532", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/532/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/532/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/532", "id": 675393490, "node_id": "MDU6SXNzdWU2NzUzOTM0OTA=", "number": 532, "title": "write_binary_values() doesn't convert bytes objects correctly", "user": {"login": "ABillBlakely", "id": 17664494, "node_id": "MDQ6VXNlcjE3NjY0NDk0", "avatar_url": "https://avatars0.githubusercontent.com/u/17664494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ABillBlakely", "html_url": "https://github.com/ABillBlakely", "followers_url": "https://api.github.com/users/ABillBlakely/followers", "following_url": "https://api.github.com/users/ABillBlakely/following{/other_user}", "gists_url": "https://api.github.com/users/ABillBlakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/ABillBlakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ABillBlakely/subscriptions", "organizations_url": "https://api.github.com/users/ABillBlakely/orgs", "repos_url": "https://api.github.com/users/ABillBlakely/repos", "events_url": "https://api.github.com/users/ABillBlakely/events{/privacy}", "received_events_url": "https://api.github.com/users/ABillBlakely/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-08T01:40:10Z", "updated_at": "2020-08-21T23:57:01Z", "closed_at": "2020-08-21T23:57:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--- A clear and concise description of what the bug is -->\r\nI am having trouble working with the write_binary_values, function to write a file to the instrument.\r\n\r\nI can transfer files, including text and images, from the instrument to my local PC just fine with the following code block:\r\n\r\n ```python\r\nwith open('screen.png', 'wb') as local_file:\r\n    # datatype='s' tells pyvisa to transform IEEE format binary data to python bytes object.\r\n    data = instrument.query_binary_values('MMEMory:DATA? \"screen.png\"', datatype='s')\r\n    # results in a list of one item so access that item:\r\n    local_file.write(data[0])\r\n```\r\n\r\nBut if I try to mimic this the other direction:\r\n```python\r\nwith open('data.txt', 'rb') as local_file:\r\n    data = local_file.read()\r\n    instrument.write_binary_values('MMEMory:DATA \"test.txt\",', data, datatype='s')\r\nprint(instrument.query(\"SYStem:ERRor?\"))\r\n```\r\nI get an error:\r\n```\r\n...pyvisa\\util.py\", line 496, in to_binary_block\r\n    return header + struct.pack(fullfmt, *iterable)\r\nstruct.error: pack expected 1 items for packing (got 14)\r\n```\r\n\r\nIf I place `data` in a list: i.e. `data = [local_file.read()]` It no longer throws an error, but only the first letter of my text file is written. \r\n\r\nThe whole issue can be reproduced without any instrument with just the following:\r\n\r\n```python\r\nwith open('input.txt', 'rb') as local_file:\r\n    data = [local_file.read()]\r\n    data_encoded = pyvisa.util.to_ieee_block(data, datatype='s')\r\nwith open('output.txt', 'wb') as local_file:\r\n    data_decoded = pyvisa.util.from_ieee_block(data_encoded, datatype='s')\r\n    local_file.write(data_decoded[0])\r\n```\r\nMy input file contains \"Hello World!\" and the output just contains \"H\"\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/529", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/529/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/529/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/529", "id": 671274531, "node_id": "MDU6SXNzdWU2NzEyNzQ1MzE=", "number": 529, "title": "GPIB INSTR not found after linux-gpib 4.3.3 install on raspberry pi", "user": {"login": "charkster", "id": 31560568, "node_id": "MDQ6VXNlcjMxNTYwNTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/31560568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charkster", "html_url": "https://github.com/charkster", "followers_url": "https://api.github.com/users/charkster/followers", "following_url": "https://api.github.com/users/charkster/following{/other_user}", "gists_url": "https://api.github.com/users/charkster/gists{/gist_id}", "starred_url": "https://api.github.com/users/charkster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charkster/subscriptions", "organizations_url": "https://api.github.com/users/charkster/orgs", "repos_url": "https://api.github.com/users/charkster/repos", "events_url": "https://api.github.com/users/charkster/events{/privacy}", "received_events_url": "https://api.github.com/users/charkster/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-01T22:57:29Z", "updated_at": "2020-08-02T03:58:05Z", "closed_at": "2020-08-02T03:56:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am able to talk to my GPIB devices using ibtest and I can load the python3 module \"Gpib\", but pyvisa-py appears to not be able to find the the \"GPIB INSTR\" when I run pyvisa -info. Python2.7 did not get a module created for it (linux-gpib 4.3.3 appears to not create it anymore).\r\nI tried to talk to my instrument without seeing it listed, but that did not work. Not sure what is going on as the Gpib module is loading and working fine.\r\n\r\nTo Reproduce\r\n--------------\r\nTHIS WORKS\r\n1. on the python3 command line:\r\n>>> import Gpib\r\n>>> inst = Gpib.Gpib(0,25)\r\n>>> inst.write(\"*IDN?\")\r\n>>> inst.read(100)\r\nb'KEITHLEY INSTRUMENTS INC.,MODEL 2000,4109271,B01  /A02  \\n'\r\n\r\nTHIS DOES NOT WORK\r\n2. on the python3 command line:\r\n>>> import pyvisa\r\n>>> import visa\r\n>>> rm = pyvisa.ResourceManager('@py')\r\n>>> print(rm.list_resources())\r\n>>> ke2000 =  rm.open_resource('GPIB0::25::INSTR')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyvisa/highlevel.py\", line 1771, in open_resource\r\n    res.open(access_mode, open_timeout)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyvisa/resources/resource.py\", line 218, in open\r\n    self.session, status = self._resource_manager.open_bare_resource(self._resource_name, access_mode, open_timeout)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyvisa/highlevel.py\", line 1725, in open_bare_resource\r\n    return self.visalib.open(self.session, resource_name, access_mode, open_timeout)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyvisa-py/highlevel.py\", line 194, in open\r\n    sess = cls(session, resource_name, parsed, open_timeout)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyvisa-py/sessions.py\", line 170, in __init__\r\n    raise ValueError(msg)\r\nValueError: Please install linux-gpib (Linux) or gpib-ctypes (Windows, Linux) to use this resource type. Note that installing gpib-ctypes will give you access to a broader range of funcionality.\r\ncannot import name 'GpibError' from 'Gpib' (/usr/local/lib/python3.7/dist-packages/Gpib.py)\r\n\r\n\r\nMachine Details:\r\n   Platform ID:    Linux-5.4.51-v7+-armv7l-with-debian-10.4\r\n   Processor:      \r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /usr/bin/python3\r\n   Version:        3.7.3\r\n   Compiler:       GCC 8.3.0\r\n   Bits:           32bit\r\n   Build:          Dec 20 2019 18:57:59 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.4.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available \r\n      TCPIP SOCKET: Available \r\n      GPIB INSTR:\r\n         Please install linux-gpib (Linux) or gpib-ctypes (Windows, Linux) to use this resource type. Note that installing gpib-ctypes will give you access to a broader range of funcionality.\r\n         cannot import name 'GpibError' from 'Gpib' (/usr/local/lib/python3.7/dist-packages/Gpib.py)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/528", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/528/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/528/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/528", "id": 666702116, "node_id": "MDU6SXNzdWU2NjY3MDIxMTY=", "number": 528, "title": "ValueError: could not convert string to float. Tektronix TDS714L", "user": {"login": "tzechong94", "id": 11938594, "node_id": "MDQ6VXNlcjExOTM4NTk0", "avatar_url": "https://avatars2.githubusercontent.com/u/11938594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzechong94", "html_url": "https://github.com/tzechong94", "followers_url": "https://api.github.com/users/tzechong94/followers", "following_url": "https://api.github.com/users/tzechong94/following{/other_user}", "gists_url": "https://api.github.com/users/tzechong94/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzechong94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzechong94/subscriptions", "organizations_url": "https://api.github.com/users/tzechong94/orgs", "repos_url": "https://api.github.com/users/tzechong94/repos", "events_url": "https://api.github.com/users/tzechong94/events{/privacy}", "received_events_url": "https://api.github.com/users/tzechong94/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-28T02:22:38Z", "updated_at": "2020-07-29T11:25:16Z", "closed_at": "2020-07-29T01:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello all, I am attempting to use Pyvisa to get readings voltage readings from an oscilloscope (Tektronix TDS714L) My ultimate goal is to collect the average voltage reading at each position when my stages move. (microscope related project) \r\n\r\n```\r\nimport pyvisa\r\nimport numpy as np\r\npyvisa.log_to_screen()\r\n\r\nrm = pyvisa.ResourceManager('C:\\Windows\\System32\\\\visa64.dll')\r\ninst = rm.open_resource(\"GPIB::1::INSTR\")\r\nvalues = inst.query_ascii_values('CURV?')\r\n\r\n```\r\n\r\nI used the above code to figure out what data I'm reading from the oscilloscope, and this is what I get. \r\n\r\n```\r\n2020-07-28 10:21:44,477 - pyvisa - DEBUG - Library signatures: 90 ok, 0 failed\r\n2020-07-28 10:21:44,477 - pyvisa - DEBUG - Created library wrapper for C:\\Windows\\System32\\visa64.dll\r\n2020-07-28 10:21:44,515 - pyvisa - DEBUG - viOpenDefaultRM('<ViObject object at 0x000001BF2AB3EA48>',) -> 0\r\n2020-07-28 10:21:44,515 - pyvisa - DEBUG - Created ResourceManager with session 4097\r\n2020-07-28 10:21:44,516 - pyvisa - DEBUG - viParseRsrcEx(4097, 'GPIB::1::INSTR', 'c_ushort(1)', 'c_ushort(0)', <ctypes.c_char_Array_256 object at 0x000001BF2AB3EBC8>, <ctypes.c_char_Array_256 object at 0x000001BF2AB3EC48>, <ctypes.c_char_Array_256 object at 0x000001BF2AB3ECC8>) -> 0\r\n2020-07-28 10:21:44,516 - pyvisa - DEBUG - GPIB::1::INSTR - opening ...\r\n2020-07-28 10:21:44,578 - pyvisa - DEBUG - viOpen(4097, 'GPIB::1::INSTR', <AccessModes.no_lock: 0>, 0, '<ViObject object at 0x000001BF2AB3EC48>') -> 0\r\n2020-07-28 10:21:44,578 - pyvisa - DEBUG - GPIB::1::INSTR - is open with session 1\r\n2020-07-28 10:21:44,581 - pyvisa - DEBUG - viWrite(1, b'CURV?\\r\\n', 7, 'c_ulong(7)') -> 0\r\n2020-07-28 10:21:44,581 - pyvisa - DEBUG - GPIB::1::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2020-07-28 10:21:44,594 - pyvisa - DEBUG - viRead(1, <ctypes.c_char_Array_20480 object at 0x000001BF2AB3EC48>, 20480, 'c_ulong(1007)') -> 0\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\NUSOSEC\\Desktop\\Oscilloscope\\Oscilloscope.py\", line 7, in <module>\r\n    values = inst.query_ascii_values('CURV?')\r\n  File \"C:\\Users\\NUSOSEC\\anaconda3\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 672, in query_ascii_values\r\n    return self.read_ascii_values(converter, separator, container)\r\n  File \"C:\\Users\\NUSOSEC\\anaconda3\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 462, in read_ascii_values\r\n    return util.from_ascii_block(block, converter, separator, container)\r\n  File \"C:\\Users\\NUSOSEC\\anaconda3\\lib\\site-packages\\pyvisa\\util.py\", line 224, in from_ascii_block\r\n    return container([converter(raw_value) for raw_value in data])\r\n  File \"C:\\Users\\NUSOSEC\\anaconda3\\lib\\site-packages\\pyvisa\\util.py\", line 224, in <listcomp>\r\n    return container([converter(raw_value) for raw_value in data])\r\nValueError: could not convert string to float: '#41000\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x02\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x00\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\x02\\x00\\x01\\x00\\n'\r\n2020-07-28 10:21:44,604 - pyvisa - DEBUG - GPIB::1::INSTR - closing\r\n2020-07-28 10:21:44,604 - pyvisa - DEBUG - viDisableEvent(1, 1073709055, 65535) -> 1073676291\r\n2020-07-28 10:21:44,604 - pyvisa - DEBUG - viDiscardEvents(1, 1073709055, 65535) -> 1073676292\r\n2020-07-28 10:21:44,605 - pyvisa - DEBUG - viClose(1,) -> 0\r\n2020-07-28 10:21:44,606 - pyvisa - DEBUG - GPIB::1::INSTR - is closed\r\n2020-07-28 10:21:44,612 - pyvisa - DEBUG - Closing ResourceManager (session: 4097)\r\n2020-07-28 10:21:44,614 - pyvisa - DEBUG - viClose(4097,) -> 0\r\nPress any key to continue . . .\r\n```\r\n\r\nCan someone point me in the right direction please? Do let me know what other information you need. Thank you! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/526", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/526/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/526/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/526", "id": 663907547, "node_id": "MDU6SXNzdWU2NjM5MDc1NDc=", "number": 526, "title": "VI_WARN_UNKNOWN_STATUS (1073676421) and sending bytes to device", "user": {"login": "NykeMant", "id": 68652289, "node_id": "MDQ6VXNlcjY4NjUyMjg5", "avatar_url": "https://avatars1.githubusercontent.com/u/68652289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NykeMant", "html_url": "https://github.com/NykeMant", "followers_url": "https://api.github.com/users/NykeMant/followers", "following_url": "https://api.github.com/users/NykeMant/following{/other_user}", "gists_url": "https://api.github.com/users/NykeMant/gists{/gist_id}", "starred_url": "https://api.github.com/users/NykeMant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NykeMant/subscriptions", "organizations_url": "https://api.github.com/users/NykeMant/orgs", "repos_url": "https://api.github.com/users/NykeMant/repos", "events_url": "https://api.github.com/users/NykeMant/events{/privacy}", "received_events_url": "https://api.github.com/users/NykeMant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-22T16:52:17Z", "updated_at": "2020-07-24T12:48:09Z", "closed_at": "2020-07-24T12:48:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone, \r\nas i'm quite new to this, i don't know how to describe my problem clearly. At first i just want to establish a connection to my device, for this my code looks like this:\r\nimport visa\r\nrm = visa.ResourceManager()\r\ninst = rm.open_resource(rm.list_resources()[0])\r\n\r\nand as a result my terminal delivers this output:\r\n\"Path\"\\AppData\\Local\\Programs\\Python38-32\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py:1213: VisaIOWarning: VI_WARN_UNKNOWN_STATUS (1073676421): The status code passed to the operation could not be interpreted.       \r\n  ret = library.viOpen(session, resource_name, access_mode, open_timeout, byref(out_session))\r\n\r\nWhen i have established a connection i just want to send bytes to my device, is there another command to write, as when i tried as a test to write something with this code:\r\nimport visa\r\nrm = visa.ResourceManager()\r\ninst = rm.open_resource(rm.list_resources()[0])\r\ninst.write(\"test\", \"3a\")\r\n\r\nthe output is as follows:\r\n\"Path\"\\AppData\\Local\\Programs\\Python38-32\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py:1213: VisaIOWarning: VI_WARN_UNKNOWN_STATUS (1073676421): The status code passed to the operation could not be interpreted.       \r\n  ret = library.viOpen(session, resource_name, access_mode, open_timeout, byref(out_session))\r\nSettings address not valid!\r\n\r\nThe output from python -m visa info:\r\n![visa_info](https://user-images.githubusercontent.com/68652289/88204941-58588b00-cc4c-11ea-9aae-9bcbf9aebe34.JPG)\r\n\r\nBest regards!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/520", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/520/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/520/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/520", "id": 640123511, "node_id": "MDU6SXNzdWU2NDAxMjM1MTE=", "number": 520, "title": "[COM] Communication issue with Keysight E5061A VI_ERROR_TMO", "user": {"login": "tshawnz", "id": 63490191, "node_id": "MDQ6VXNlcjYzNDkwMTkx", "avatar_url": "https://avatars0.githubusercontent.com/u/63490191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshawnz", "html_url": "https://github.com/tshawnz", "followers_url": "https://api.github.com/users/tshawnz/followers", "following_url": "https://api.github.com/users/tshawnz/following{/other_user}", "gists_url": "https://api.github.com/users/tshawnz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshawnz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshawnz/subscriptions", "organizations_url": "https://api.github.com/users/tshawnz/orgs", "repos_url": "https://api.github.com/users/tshawnz/repos", "events_url": "https://api.github.com/users/tshawnz/events{/privacy}", "received_events_url": "https://api.github.com/users/tshawnz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-17T04:05:00Z", "updated_at": "2020-06-24T19:41:48Z", "closed_at": "2020-06-24T19:41:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--- Before opening an issue give a look at the documentation and in particular at https://pyvisa.readthedocs.io/en/latest/introduction/communication.html that describe the steps to get the communication settings right -->\r\n\r\n<!--- If you are using pyvisa-py as a backend please report the issue to pyvisa-py issue tracker at https://github.com/pyvisa/pyvisa-py/issues -->\r\n\r\nInstrument details\r\n------------------\r\n* Model: E5061A\r\n* Communication: TCPIP\r\n* Link to the documentation (if available):http://literature.cdn.keysight.com/litweb/pdf/E5061-90042.pdf\r\n\r\nOutput of `pyvisa-info`\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Program Files\\Python37\\python.exe\r\n   Version:        3.7.7\r\n   Compiler:       MSC v.1900 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          Mar 10 2020 10:41:24 (#tags/v3.7.7:d7c567b08f)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\Windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: Keysight Technologies\r\n         Impl. Version: 1377175728\r\n         Spec. Version: 5244928\r\n      #2: C:\\Windows\\system32\\visa64.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: Keysight Technologies\r\n         Impl. Version: 1377175728\r\n         Spec. Version: 5244928\r\n-----------------------\r\n<!--- Output of the pyvisa-info command (to run in a command prompt) -->\r\nHi, I'm trying to use read() function to get raw binary information from the network analyzer. I tried read() read_raw() and readbytes() all with termination character **'\\n'**\r\n\r\nHere's what I got from the pyvisa log when I'm doing read():\r\n**above data omitted** \r\nx00\\n')    **end of data**\r\nTraceback (most recent call last):\r\n  File \"<pyshell#3>\", line 1, in <module>\r\n    gettrace()\r\n  File \"C:\\Users\\TDT\\Desktop\\CommandSeq\\Codetest\\Binaryraw.py\", line 32, in gettrace\r\n    SCPI_E5061.query_binary_values(\"CALC1:DATA:FDAT?\")\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 715, in query_binary_values\r\n    data_points, chunk_size)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 520, in read_binary_values\r\n    chunk_size=chunk_size))\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 356, in read_bytes\r\n    chunk, status = self.visalib.read(self.session, size)\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1584, in read\r\n    ret = library.viRead(session, buffer, count, byref(return_count))\r\n  File \"C:\\Program Files\\Python37\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 193, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\npyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.\r\n\r\nIt seems that I get the string form of the binary data and it shows that the termination character is '\\n' but the timeout still happens.\r\nDo I need to specify the chunk size or use other functions? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/519", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/519/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/519/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/519", "id": 635103440, "node_id": "MDU6SXNzdWU2MzUxMDM0NDA=", "number": 519, "title": "[COM] Communication issue with Rigol DM3058 using TCP/IP VI_ERROR_TMO Only when reading", "user": {"login": "Oscarillo", "id": 32232231, "node_id": "MDQ6VXNlcjMyMjMyMjMx", "avatar_url": "https://avatars3.githubusercontent.com/u/32232231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Oscarillo", "html_url": "https://github.com/Oscarillo", "followers_url": "https://api.github.com/users/Oscarillo/followers", "following_url": "https://api.github.com/users/Oscarillo/following{/other_user}", "gists_url": "https://api.github.com/users/Oscarillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Oscarillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Oscarillo/subscriptions", "organizations_url": "https://api.github.com/users/Oscarillo/orgs", "repos_url": "https://api.github.com/users/Oscarillo/repos", "events_url": "https://api.github.com/users/Oscarillo/events{/privacy}", "received_events_url": "https://api.github.com/users/Oscarillo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-09T04:36:34Z", "updated_at": "2020-06-29T12:43:41Z", "closed_at": "2020-06-29T12:43:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--- Before opening an issue give a look at the documentation and in particular at https://pyvisa.readthedocs.io/en/latest/introduction/communication.html that describe the steps to get the communication settings right -->\r\n\r\n<!--- If you are using pyvisa-py as a backend please report the issue to pyvisa-py issue tracker at https://github.com/pyvisa/pyvisa-py/issues -->\r\n\r\nInstrument details\r\n------------------\r\n* Model:Rigol DM3058\r\n* Communication: TCPIP.\r\n* Link to the documentation (if available):\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\n<!--- Output of the pyvisa-info command (to run in a command prompt) -->\r\npyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/518", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/518/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/518/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/518", "id": 633581781, "node_id": "MDU6SXNzdWU2MzM1ODE3ODE=", "number": 518, "title": "VisaIOError: VI_ERROR_TMO when reading from TCPIP SOCKET", "user": {"login": "isanch", "id": 33726245, "node_id": "MDQ6VXNlcjMzNzI2MjQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/33726245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isanch", "html_url": "https://github.com/isanch", "followers_url": "https://api.github.com/users/isanch/followers", "following_url": "https://api.github.com/users/isanch/following{/other_user}", "gists_url": "https://api.github.com/users/isanch/gists{/gist_id}", "starred_url": "https://api.github.com/users/isanch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isanch/subscriptions", "organizations_url": "https://api.github.com/users/isanch/orgs", "repos_url": "https://api.github.com/users/isanch/repos", "events_url": "https://api.github.com/users/isanch/events{/privacy}", "received_events_url": "https://api.github.com/users/isanch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-07T17:05:13Z", "updated_at": "2020-06-07T22:01:32Z", "closed_at": "2020-06-07T22:01:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am trying to communicate with a Smaract positioner  via an TPCIP SOCKET. I am able to connect  and write to the device but I am not able to read from it (either query or read, write works well). \r\n\r\nHere is my code:\r\n\r\n```\r\nimport pyvisa\r\nrm = pyvisa.ResourceManager() \r\ninst_name = 'TCPIP0::169.254.1.101::55551::SOCKET'\r\ninst = rm.open_resource(inst_name)\r\ninst.query(\"*IDN?\")\r\n```\r\n\r\nAnd I get the following error:\r\n\r\n```\r\n  File \"<ipython-input-39-5d0747d02c23>\", line 1, in <module>\r\n    inst.query(\"*IDN?\")\r\n\r\n  File \"C:\\Users\\Lab\\Anaconda3\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 617, in query\r\n    return self.read()\r\n\r\n  File \"C:\\Users\\Lab\\Anaconda3\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 431, in read\r\n    message = self._read_raw().decode(enco)\r\n\r\n  File \"C:\\Users\\Lab\\Anaconda3\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 401, in _read_raw\r\n    chunk, status = self.visalib.read(self.session, size)\r\n\r\n  File \"C:\\Users\\Lab\\Anaconda3\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1593, in read\r\n    ret = library.viRead(session, buffer, count, byref(return_count))\r\n\r\n  File \"C:\\Users\\Lab\\Anaconda3\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 193, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\n\r\nVisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.\r\n```\r\n\r\nI am able to track the commands I send via python in the NI MAX I/O trace, and check the outputs and the buffer content. The buffer content looks as  it should (the IDN is correct) but still gives the time out error.  \r\n\r\n![NIMAX](https://user-images.githubusercontent.com/33726245/83974887-d35e2000-a8f0-11ea-9a96-38e2b74f3454.PNG)\r\n\r\n\r\nHere my pyvisa-info:\r\n\r\n```\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.18362-SP0\r\n   Processor:      Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\Lab\\Anaconda3\\python.exe\r\n   Version:        3.7.7\r\n   Compiler:       MSC v.1916 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          May  6 2020 11:45:54 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\WINDOWS\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 19922944\r\n         Spec. Version: 5244928\r\n      #2: C:\\WINDOWS\\system32\\visa64.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 19922944\r\n         Spec. Version: 5244928\r\n   py:\r\n      Version: 0.4.1\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      USB RAW:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib (Linux) or gpib-ctypes (Windows, Linux) to use this resource type. Note that installing gpib-ctypes will give you access to a broader range of funcionality.\r\n         No module named 'gpib'\r\n```\r\n\r\nAny ideas on what  the problem is? If I connect to the device directly via the NI MAX I have no communication issues. Thanks for any info. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/517", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/517/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/517/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/517/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/517", "id": 624092893, "node_id": "MDU6SXNzdWU2MjQwOTI4OTM=", "number": 517, "title": "NI GPIB-ENET/1000 not detected from pyVISA, library missing", "user": {"login": "MassimilianoAntonello", "id": 41299506, "node_id": "MDQ6VXNlcjQxMjk5NTA2", "avatar_url": "https://avatars1.githubusercontent.com/u/41299506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MassimilianoAntonello", "html_url": "https://github.com/MassimilianoAntonello", "followers_url": "https://api.github.com/users/MassimilianoAntonello/followers", "following_url": "https://api.github.com/users/MassimilianoAntonello/following{/other_user}", "gists_url": "https://api.github.com/users/MassimilianoAntonello/gists{/gist_id}", "starred_url": "https://api.github.com/users/MassimilianoAntonello/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MassimilianoAntonello/subscriptions", "organizations_url": "https://api.github.com/users/MassimilianoAntonello/orgs", "repos_url": "https://api.github.com/users/MassimilianoAntonello/repos", "events_url": "https://api.github.com/users/MassimilianoAntonello/events{/privacy}", "received_events_url": "https://api.github.com/users/MassimilianoAntonello/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-25T07:05:13Z", "updated_at": "2020-05-26T11:09:46Z", "closed_at": "2020-05-26T11:09:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Goodmorning, I'm trying to comunicate with a Kehytley 2410 trough a NI GPIB-ENET/1000 that I can correctly ping. I have also installed the NI-VISA. I have a centos7 Linux machine.\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\n/usr/local/lib/python3.6/site-packages/gpib_ctypes/gpib/gpib.py:54: UserWarning: GPIB library not found. Please manually load it using _load_lib(filename). All GPIB functions will raise OSError until the library is manually loaded.\r\n  warnings.warn(message)\r\nMachine Details:\r\n   Platform ID:    Linux-3.10.0-1127.el7.x86_64-x86_64-with-centos-7.8.2003-Core\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /usr/bin/python3\r\n   Version:        3.6.8\r\n   Compiler:       GCC 4.8.5 20150623 (Red Hat 4.8.5-39)\r\n   Bits:           64bit\r\n   Build:          Apr  2 2020 13:34:55 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: /usr/lib/x86_64-linux-gnu/libvisa.so.19.2.0:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 19923456\r\n         Spec. Version: 5244928\r\n   py:\r\n      Version: 0.4.0\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      USB RAW:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      TCPIP INSTR: Available \r\n      TCPIP SOCKET: Available `\r\n-----------------------------\r\nAs shown above I don't have the GPIB library so I suppose it is why I can't see any GPIB when i do:\r\n` rm = pyvisa.ResourceManager()`\r\n` rm.list_resources()`\r\nbut I don't understand how to solve it. I have already tried to re-install both NI-VISA and pyvisa.\r\nThank you.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/516", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/516/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/516/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/516/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/516", "id": 624085363, "node_id": "MDU6SXNzdWU2MjQwODUzNjM=", "number": 516, "title": "[COM] Communication issue with XXX using XXX", "user": {"login": "MassimilianoAntonello", "id": 41299506, "node_id": "MDQ6VXNlcjQxMjk5NTA2", "avatar_url": "https://avatars1.githubusercontent.com/u/41299506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MassimilianoAntonello", "html_url": "https://github.com/MassimilianoAntonello", "followers_url": "https://api.github.com/users/MassimilianoAntonello/followers", "following_url": "https://api.github.com/users/MassimilianoAntonello/following{/other_user}", "gists_url": "https://api.github.com/users/MassimilianoAntonello/gists{/gist_id}", "starred_url": "https://api.github.com/users/MassimilianoAntonello/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MassimilianoAntonello/subscriptions", "organizations_url": "https://api.github.com/users/MassimilianoAntonello/orgs", "repos_url": "https://api.github.com/users/MassimilianoAntonello/repos", "events_url": "https://api.github.com/users/MassimilianoAntonello/events{/privacy}", "received_events_url": "https://api.github.com/users/MassimilianoAntonello/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-25T06:48:04Z", "updated_at": "2020-05-25T06:48:17Z", "closed_at": "2020-05-25T06:48:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--- Before opening an issue give a look at the documentation and in particular at https://pyvisa.readthedocs.io/en/latest/introduction/communication.html that describe the steps to get the communication settings right -->\r\n\r\n<!--- If you are using pyvisa-py as a backend please report the issue to pyvisa-py issue tracker at https://github.com/pyvisa/pyvisa-py/issues -->\r\n\r\nInstrument details\r\n------------------\r\n* Model:\r\n* Communication: TCPIP, GPIB, ....\r\n* Link to the documentation (if available):\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\n<!--- Output of the pyvisa-info command (to run in a command prompt) -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/515", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/515/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/515/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/515/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/515", "id": 621940006, "node_id": "MDU6SXNzdWU2MjE5NDAwMDY=", "number": 515, "title": "Pyvisa + PYUSB Set up with LibUSB backend but still not seeing resource", "user": {"login": "quasarsnax", "id": 54814584, "node_id": "MDQ6VXNlcjU0ODE0NTg0", "avatar_url": "https://avatars1.githubusercontent.com/u/54814584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quasarsnax", "html_url": "https://github.com/quasarsnax", "followers_url": "https://api.github.com/users/quasarsnax/followers", "following_url": "https://api.github.com/users/quasarsnax/following{/other_user}", "gists_url": "https://api.github.com/users/quasarsnax/gists{/gist_id}", "starred_url": "https://api.github.com/users/quasarsnax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quasarsnax/subscriptions", "organizations_url": "https://api.github.com/users/quasarsnax/orgs", "repos_url": "https://api.github.com/users/quasarsnax/repos", "events_url": "https://api.github.com/users/quasarsnax/events{/privacy}", "received_events_url": "https://api.github.com/users/quasarsnax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-20T17:14:48Z", "updated_at": "2020-07-23T12:29:59Z", "closed_at": "2020-07-23T12:29:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Device is Anritsu S331P SCPI Command ready (USB connection)\r\nLibUSB installed via Zadig after selecting S331P in dropdown \r\n\r\n\r\n**IDLE Code**\r\n>>>import visa\r\n>>> import usb\r\n>>> import pyvisa\r\n>>> rm = pyvisa.ResourceManager()\r\n** Result edited for Path Removed**  \r\nVisaIOWarning: VI_WARN_CONFIG_NLOADED (1073676407): The specified configuration either does not exist or could not be loaded. VISA-specified defaults will be used.\r\n  ret = library.viOpenDefaultRM(byref(session))\r\n>>> rm.list_resources()\r\n()\r\n\r\n**Pyvisa-Info result**\r\n\r\nc:\\users\\alexanderlong\\appdata\\local\\programs\\python\\python38\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py:1227: VisaIOWarning: VI_WARN_CONFIG_NLOADED (1073676407): The specified configuration either does not exist or could not be loaded. VISA-specified defaults will be used.\r\n  ret = library.viOpenDefaultRM(byref(session))\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.17763-SP0\r\n   Processor:      Intel64 Family 6 Model 142 Stepping 12, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     c:\\users\\alexanderlong\\appdata\\local\\programs\\python\\python38\\python.exe\r\n   Version:        3.8.3\r\n   Compiler:       MSC v.1924 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          May 13 2020 22:37:02 (#tags/v3.8.3:6f8c832)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 16777216\r\n         Spec. Version: 5244672\r\n      #2: C:\\windows\\system32\\visa64.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 16777216\r\n         Spec. Version: 5244672\r\n   py:\r\n      Version: 0.4.0\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb0\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb0\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib (Linux) or gpib-ctypes (Windows, Linux) to use this resource type. Note that installing gpib-ctypes will give you access to a broader range of funcionality.\r\n         No module named 'gpib'\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/513", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/513/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/513/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/513", "id": 620111824, "node_id": "MDU6SXNzdWU2MjAxMTE4MjQ=", "number": 513, "title": "pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.", "user": {"login": "BlueskyEnergy", "id": 57300571, "node_id": "MDQ6VXNlcjU3MzAwNTcx", "avatar_url": "https://avatars3.githubusercontent.com/u/57300571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlueskyEnergy", "html_url": "https://github.com/BlueskyEnergy", "followers_url": "https://api.github.com/users/BlueskyEnergy/followers", "following_url": "https://api.github.com/users/BlueskyEnergy/following{/other_user}", "gists_url": "https://api.github.com/users/BlueskyEnergy/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlueskyEnergy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlueskyEnergy/subscriptions", "organizations_url": "https://api.github.com/users/BlueskyEnergy/orgs", "repos_url": "https://api.github.com/users/BlueskyEnergy/repos", "events_url": "https://api.github.com/users/BlueskyEnergy/events{/privacy}", "received_events_url": "https://api.github.com/users/BlueskyEnergy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-05-18T10:55:18Z", "updated_at": "2020-05-28T11:57:22Z", "closed_at": "2020-05-28T11:46:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--- Before opening an issue give a look at the documentation and in particular at https://pyvisa.readthedocs.io/en/latest/introduction/communication.html that describe the steps to get the communication settings right -->\r\n\r\n<!--- If you are using pyvisa-py as a backend please report the issue to pyvisa-py issue tracker at https://github.com/pyvisa/pyvisa-py/issues -->\r\n\r\nInstrument details\r\n------------------\r\n* Model: IT8516C\r\n* Communication: ASRL/dev/ttyUSB2::INSTR\r\n* Link to the documentation (if available): http://www.itech.sh/uploadfiles/2020/04/202004290929562956.pdf\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\npyvisa-info\r\n/opt/BatteryTeststation/venv/lib/python3.6/site-packages/gpib_ctypes/gpib/gpib.py:54: UserWarning: GPIB library not found. Please manually load it using _load_lib(filename). All GPIB functions will raise OSError until the library is manually loaded.\r\n  warnings.warn(message)\r\nMachine Details:\r\n   Platform ID:    Linux-4.15.0-99-generic-x86_64-with-Ubuntu-18.04-bionic\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /opt/BatteryTeststation/venv/bin/python3\r\n   Version:        3.6.9\r\n   Compiler:       GCC 8.4.0\r\n   Bits:           64bit\r\n   Build:          Apr 18 2020 01:56:04 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.4.0\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/510", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/510/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/510/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/510/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/510", "id": 614434155, "node_id": "MDU6SXNzdWU2MTQ0MzQxNTU=", "number": 510, "title": "The function write_raw returns differently in WIndows and Linux ", "user": {"login": "EvgenyVainshtok", "id": 8856488, "node_id": "MDQ6VXNlcjg4NTY0ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8856488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EvgenyVainshtok", "html_url": "https://github.com/EvgenyVainshtok", "followers_url": "https://api.github.com/users/EvgenyVainshtok/followers", "following_url": "https://api.github.com/users/EvgenyVainshtok/following{/other_user}", "gists_url": "https://api.github.com/users/EvgenyVainshtok/gists{/gist_id}", "starred_url": "https://api.github.com/users/EvgenyVainshtok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EvgenyVainshtok/subscriptions", "organizations_url": "https://api.github.com/users/EvgenyVainshtok/orgs", "repos_url": "https://api.github.com/users/EvgenyVainshtok/repos", "events_url": "https://api.github.com/users/EvgenyVainshtok/events{/privacy}", "received_events_url": "https://api.github.com/users/EvgenyVainshtok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-08T01:03:44Z", "updated_at": "2020-05-08T03:38:46Z", "closed_at": "2020-05-08T03:38:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The return of function `write_raw` is the number of written bytes. \r\nThe written message is \"*IDN?\". In Windows, the return is 9, in Linux Ubuntu 18, the return is 20\r\n\r\nTo Reproduce\r\n--------------\r\nSteps to reproduce the behavior:\r\n### Ubuntu\r\n`import visa\r\n\r\nrs = visa.ResourceManager()\r\n\r\nrs.list_resources()\r\n\r\n('USB0::65535::37376::802243020737510034::0::INSTR',)\r\n\r\ndevice = rs.open_resource('USB0::65535::37376::802243020737510034::0::INSTR')\r\n\r\ndevice.query('*IDN?')\r\n\r\n'B&K Precision, 9201, 802243020737510034,  1.10-1.06\\n'\r\n\r\ndevice.write('*IDN?')\r\n\r\n**(20, <StatusCode.success: 0>)**\r\n`\r\n### Windows\r\n`import visa\r\n\r\nrs = visa.ResourceManager()\r\n\r\nrs.list_resources()\r\n\r\n('USB0::0xFFFF::0x9200::802243020737510034::INSTR')\r\n\r\ndevice = rs.open_resource('USB0::65535::37376::802243020737510034::0::INSTR')\r\n\r\ndevice.query('*IDN?')\r\n\r\n'B&K Precision, 9201, 802243020737510034,  1.10-1.06\\n'\r\n\r\ndevice.write('*IDN?')\r\n\r\n**(7, <StatusCode.success: 0>)**\r\n\r\ndevice.read()\r\n\r\n'B&K Precision, 9201, 802243020737510034,  1.10-1.06\\n'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/508", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/508/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/508/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/508", "id": 611256564, "node_id": "MDU6SXNzdWU2MTEyNTY1NjQ=", "number": 508, "title": "[COM] Communication issue with Agilent E1411B dmm in VXI crate over lan gateway", "user": {"login": "garlick", "id": 169947, "node_id": "MDQ6VXNlcjE2OTk0Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/169947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garlick", "html_url": "https://github.com/garlick", "followers_url": "https://api.github.com/users/garlick/followers", "following_url": "https://api.github.com/users/garlick/following{/other_user}", "gists_url": "https://api.github.com/users/garlick/gists{/gist_id}", "starred_url": "https://api.github.com/users/garlick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garlick/subscriptions", "organizations_url": "https://api.github.com/users/garlick/orgs", "repos_url": "https://api.github.com/users/garlick/repos", "events_url": "https://api.github.com/users/garlick/events{/privacy}", "received_events_url": "https://api.github.com/users/garlick/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-02T19:19:45Z", "updated_at": "2020-05-03T18:31:42Z", "closed_at": "2020-05-03T18:31:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Warning: this might be a dumb question!\r\n\r\nMy setup is\r\n```\r\n                      10.0.2.181                addr=9                addr=3\r\nlinux box <----> ics8065 lan-gpib gw <----> E1406A controller <----> E141B dmm\r\n         ethernet                     gpib                vxi-backplane\r\n```\r\n\r\nI was expecting this VISA address to work:\r\n```\r\nTCPIP::10.0.2.181::gpib0,9,3::INSTR\r\n```\r\nbecause I'm able to do an `*idn?` query using that IP (10.0.2.181) and device name (`gpib0,9,3`) on home grown vxi11 software:\r\n```\r\nHEWLETT-PACKARD,E1411B,0,A.08.01\r\n```\r\nas I understand it the device name is interpreted by the ics8065 lan-gpib gw, which then communicates with gpib address 9, secondary address 3.\r\n\r\nAm I constructing the VISA address right?  It doesn't seem to work:\r\n```\r\n$ pyvisa-shell\r\n\r\nWelcome to the VISA shell. Type help or ? to list commands.\r\n\r\n(visa) open TCPIP::10.0.2.181::gpib0,9,3::INSTR\r\nTCPIP::10.0.2.181::gpib0,9,3::INSTR has been opened.\r\nYou can talk to the device using \"write\", \"read\" or \"query\".\r\nThe default end of message is added to each message.\r\n(open) query *idn?\r\nVI_ERROR_IO (-1073807298): Could not perform operation because of I/O error.\r\n```\r\nIt's not clear to me what's going wrong or how to debug.  I'll keep trying, but any quick thoughts on how to proceed?\r\n\r\nThanks!\r\n\r\nInstrument details\r\n------------------\r\n* Model: Agilent E1406A VXI slot 0 controller (gpib addr 9,0), E1411B DMM (gpib addr 9,3)\r\n* Communication: via ICS 8065 ethernet-GPIB controller\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\n```\r\n$ pyvisa-info\r\nMachine Details:\r\n   Platform ID:    Linux-4.15.0-99-generic-x86_64-with-Ubuntu-18.04-bionic\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /usr/bin/python3\r\n   Version:        3.6.9\r\n   Compiler:       GCC 8.4.0\r\n   Bits:           64bit\r\n   Build:          Apr 18 2020 01:56:04 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      USB RAW:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'\r\n$\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/507", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/507/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/507/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/507", "id": 611069221, "node_id": "MDU6SXNzdWU2MTEwNjkyMjE=", "number": 507, "title": "Modern Equivalent to GPIB.write() from Pyvisa 1.4", "user": {"login": "FolkSong", "id": 10188391, "node_id": "MDQ6VXNlcjEwMTg4Mzkx", "avatar_url": "https://avatars1.githubusercontent.com/u/10188391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FolkSong", "html_url": "https://github.com/FolkSong", "followers_url": "https://api.github.com/users/FolkSong/followers", "following_url": "https://api.github.com/users/FolkSong/following{/other_user}", "gists_url": "https://api.github.com/users/FolkSong/gists{/gist_id}", "starred_url": "https://api.github.com/users/FolkSong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FolkSong/subscriptions", "organizations_url": "https://api.github.com/users/FolkSong/orgs", "repos_url": "https://api.github.com/users/FolkSong/repos", "events_url": "https://api.github.com/users/FolkSong/events{/privacy}", "received_events_url": "https://api.github.com/users/FolkSong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-02T00:23:44Z", "updated_at": "2020-05-04T23:47:03Z", "closed_at": "2020-05-04T23:47:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I've been struggling for hours to get some code written for pyvisa 1.4 working on the latest release. The line that fails is this:\r\n```\r\nSG.write(':MMEM:DATA \"ARBI:{}\",#{}{}'.format(sig_name[0:24], len(str(data_len)), data_len) + i_data)\r\n```\r\nWith the new version, this gives me the error\r\n\r\n> UnicodeDecodeError: 'ascii' codec can't decode byte 0xd1 in position 42: ordinal not in range(128)\r\n\r\ni_data is read from a binary file and starts like this: ' \\x00/\\xd16f0\\x0e \\x8d\\x10\\xc8\\t\\xa2\\x0f\\x04\\x1d'\r\n\r\nThe closest I've come is to replace it with\r\n```\r\nSG.write(':MMEM:DATA \"ARBI:{}\",#{}{}'.format(sig_name[0:24], len(str(data_len)), data_len) )\r\nSG.write_raw(i_data)\r\n```\r\nThis runs and does send something to the instrument, but it hangs for a while after the transfer and there are many errors flagged by the instrument.\r\n\r\nI did read the \"migrating from <1.5\" article but didn't find the solution. Do you know what would be the exact equivalent of the old .write() function?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/506", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/506/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/506/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/506", "id": 611000024, "node_id": "MDU6SXNzdWU2MTEwMDAwMjQ=", "number": 506, "title": "pyvisa no longer able to load Keysight VISA in Python 3.8 on Windows", "user": {"login": "hognala", "id": 4916203, "node_id": "MDQ6VXNlcjQ5MTYyMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4916203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hognala", "html_url": "https://github.com/hognala", "followers_url": "https://api.github.com/users/hognala/followers", "following_url": "https://api.github.com/users/hognala/following{/other_user}", "gists_url": "https://api.github.com/users/hognala/gists{/gist_id}", "starred_url": "https://api.github.com/users/hognala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hognala/subscriptions", "organizations_url": "https://api.github.com/users/hognala/orgs", "repos_url": "https://api.github.com/users/hognala/repos", "events_url": "https://api.github.com/users/hognala/events{/privacy}", "received_events_url": "https://api.github.com/users/hognala/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-01T22:31:11Z", "updated_at": "2020-05-09T01:59:24Z", "closed_at": "2020-05-09T01:59:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 3.8 changes .dll load behavior. See https://github.com/Toblerity/Fiona/issues/851\r\n\r\nThis used to work:\r\n```\r\nimport pyvisa\r\nrm = pyvisa.ResourceManager('ktvisa32')\r\n```\r\n\r\n... but now it doesn't. The problem is that Keysight VISA stores a bunch of its .dll's in a separate directory (not c:\\windows\\system32, but C:\\Program Files (x86)\\Keysight\\IO Libraries Suite\\bin) that is on the PATH. With the change in behavior, the PATH is no longer searched and so the ktvisa32.dll .dll fails to load because its dependant .dll's can't be found.\r\n\r\nAs a workaround, users can use the following syntax:\r\n\r\n**32-bit Python:**\r\n```\r\nimport os\r\nos.add_dll_directory('C:\\\\Program Files (x86)\\\\Keysight\\\\IO Libraries Suite\\\\bin')\r\nimport pyvisa\r\nrm = pyvisa.ResourceManager('ktvisa32')\r\n```\r\n\r\n**64-bit Python:**\r\n```\r\nimport os\r\nos.add_dll_directory('C:\\\\Program Files\\\\Keysight\\\\IO Libraries Suite\\\\bin')\r\nimport pyvisa\r\nrm = pyvisa.ResourceManager('ktvisa32')\r\n```\r\n \r\nFeel free to reach out to me if you need someone to test a fix, or something (alan_copeland@keysight.com)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/505", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/505/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/505/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/505", "id": 607632925, "node_id": "MDU6SXNzdWU2MDc2MzI5MjU=", "number": 505, "title": "Rohde & Schwartz RTB2004 Oscilloscope w/ PyVISA. Acquiring time value moment voltage drops.", "user": {"login": "JosephGeorges", "id": 51214861, "node_id": "MDQ6VXNlcjUxMjE0ODYx", "avatar_url": "https://avatars2.githubusercontent.com/u/51214861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JosephGeorges", "html_url": "https://github.com/JosephGeorges", "followers_url": "https://api.github.com/users/JosephGeorges/followers", "following_url": "https://api.github.com/users/JosephGeorges/following{/other_user}", "gists_url": "https://api.github.com/users/JosephGeorges/gists{/gist_id}", "starred_url": "https://api.github.com/users/JosephGeorges/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JosephGeorges/subscriptions", "organizations_url": "https://api.github.com/users/JosephGeorges/orgs", "repos_url": "https://api.github.com/users/JosephGeorges/repos", "events_url": "https://api.github.com/users/JosephGeorges/events{/privacy}", "received_events_url": "https://api.github.com/users/JosephGeorges/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-27T15:17:22Z", "updated_at": "2020-04-29T18:07:09Z", "closed_at": "2020-04-29T18:07:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to automate my R&S RTB2004 scope to set channels, triggers, cursors, etc. automatically. I have almost everything complete.\r\n\r\nFrom reading the instruments manual, I'm able to do all of the things I described above. But what I want is to set a vertical cursor at the time X1 (in seconds) as soon as there is a drop in voltage.\r\n\r\nExample: I have a constant, DC voltage being read at 13.5V, when somebody disconnects the power supply, the voltage drops to 0V of course. Is there a way to implement my PyVISA script to set the first vertical cursor at the exact time x1 in which the voltage starts to drop. \r\n\r\nI've tried to see if there are commands which allow me to query the time-value given a certain voltage but I'm not sure if this command exists. Thanks in advance! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/504", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/504/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/504/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/504/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/504", "id": 598327205, "node_id": "MDU6SXNzdWU1OTgzMjcyMDU=", "number": 504, "title": "How do I read until the TCPIP buffer is empty?", "user": {"login": "NitramC", "id": 8950513, "node_id": "MDQ6VXNlcjg5NTA1MTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/8950513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NitramC", "html_url": "https://github.com/NitramC", "followers_url": "https://api.github.com/users/NitramC/followers", "following_url": "https://api.github.com/users/NitramC/following{/other_user}", "gists_url": "https://api.github.com/users/NitramC/gists{/gist_id}", "starred_url": "https://api.github.com/users/NitramC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NitramC/subscriptions", "organizations_url": "https://api.github.com/users/NitramC/orgs", "repos_url": "https://api.github.com/users/NitramC/repos", "events_url": "https://api.github.com/users/NitramC/events{/privacy}", "received_events_url": "https://api.github.com/users/NitramC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-11T18:44:01Z", "updated_at": "2020-04-11T21:42:37Z", "closed_at": "2020-04-11T21:42:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "The motion controller I'm working with (PI E-873.3QTU) uses '\\n' as both a delimiter and a termination character. Here is an example response to a query (white space for clarity):\r\naxis1=10.0\\n axis2=20.0\\n axis3=30.0\\n\r\n\r\nI want to ignore the termination characters and simply read everything present in the buffer, then parse the data afterward (because I don't know the data length a priori). I can do this with a Python socket object by calling socket.recv().\r\n\r\nIs there a way to do this with a pyvisa TCPIP resource?\r\n\r\nThis thread is similar: https://github.com/pyvisa/pyvisa/issues/118\r\nBut I couldn't get read_binary_values() to work for me (using pyvisa version 1.10.1). \r\n\r\nHelp is much appreciated. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/503", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/503/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/503/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/503", "id": 590480700, "node_id": "MDU6SXNzdWU1OTA0ODA3MDA=", "number": 503, "title": "Uploading Waveform to Tektronix AFG1062 using Python 3.7 and Pyvisa ", "user": {"login": "JosephGeorges", "id": 51214861, "node_id": "MDQ6VXNlcjUxMjE0ODYx", "avatar_url": "https://avatars2.githubusercontent.com/u/51214861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JosephGeorges", "html_url": "https://github.com/JosephGeorges", "followers_url": "https://api.github.com/users/JosephGeorges/followers", "following_url": "https://api.github.com/users/JosephGeorges/following{/other_user}", "gists_url": "https://api.github.com/users/JosephGeorges/gists{/gist_id}", "starred_url": "https://api.github.com/users/JosephGeorges/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JosephGeorges/subscriptions", "organizations_url": "https://api.github.com/users/JosephGeorges/orgs", "repos_url": "https://api.github.com/users/JosephGeorges/repos", "events_url": "https://api.github.com/users/JosephGeorges/events{/privacy}", "received_events_url": "https://api.github.com/users/JosephGeorges/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 38, "created_at": "2020-03-30T17:57:15Z", "updated_at": "2020-04-15T17:41:51Z", "closed_at": "2020-03-31T18:04:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am attempting to upload a waveform to the Tektronix AFG1062. \r\n\r\nI want to upload the waveform shown below to the arbitrary waveform generator. I am new to pyvisa and am wondering if I am doing something wrong in my code. The generator gets reset to factory settings, and the output turns on all through code. But I don't get any waveform generated. \r\n\r\n![image](https://user-images.githubusercontent.com/51214861/77944904-bb817480-728d-11ea-97de-d41b8eaf6cea.png)\r\n\r\n**This is the code I have:**\r\n\r\nimport pandas as pd\r\nimport numpy as np\r\nimport pylab as plt\r\nimport pyvisa\r\n\r\n#Initialize list of data points \r\nfilename = 'ISO_16750-2_2010 4_6_4a_load_dump.xlsx'\r\ndf = pd.read_excel(filename)\r\n\r\ndata_points = []\r\ndata_points = list(df['Data Points'])\r\n\r\nrm = pyvisa.ResourceManager()\r\nafg = rm.open_resource('USB0::0x0699::0x0353::1813139::INSTR')\r\nprint(afg.query(\"*IDN?\"))\r\nafg.write('*rst')\r\nafg.write('*cls')\r\n\r\n#Waveform Parameters\r\nnum_points = len(data_points)\r\nsample_rate = 9.216e5 \r\n\r\nt = np.linspace(0,num_points/sample_rate, num_points, endpoint = True)\r\n\r\nafg.write_ascii_values('WLISt:WAVeform:DATA Load_Dump,', data_points)\r\nafg.query('*opc?')\r\n\r\nafg.write('source1:waveform Load_Dump')\r\nafg.write('awgcontrol:run:immediate')\r\nafg.query('*opc?')\r\nafg.write('output1 on')\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/502", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/502/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/502/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/502", "id": 583986046, "node_id": "MDU6SXNzdWU1ODM5ODYwNDY=", "number": 502, "title": "Unable to read Buffer data for python 3.8-windows 10-64 bit", "user": {"login": "raquib-shefu", "id": 46434367, "node_id": "MDQ6VXNlcjQ2NDM0MzY3", "avatar_url": "https://avatars1.githubusercontent.com/u/46434367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raquib-shefu", "html_url": "https://github.com/raquib-shefu", "followers_url": "https://api.github.com/users/raquib-shefu/followers", "following_url": "https://api.github.com/users/raquib-shefu/following{/other_user}", "gists_url": "https://api.github.com/users/raquib-shefu/gists{/gist_id}", "starred_url": "https://api.github.com/users/raquib-shefu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raquib-shefu/subscriptions", "organizations_url": "https://api.github.com/users/raquib-shefu/orgs", "repos_url": "https://api.github.com/users/raquib-shefu/repos", "events_url": "https://api.github.com/users/raquib-shefu/events{/privacy}", "received_events_url": "https://api.github.com/users/raquib-shefu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2020-03-18T20:33:48Z", "updated_at": "2020-03-26T19:12:08Z", "closed_at": "2020-03-25T20:22:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Instrument details\r\n------------------\r\n* Model: Keithley 2400\r\n* Communication: RS232\r\n* Problem :: I can send all the commands and my SMU is running and measuring but I am unable read the buffer data back to pc as the documented (query.ascii() / redline()  etc. ) are not available to read.  \r\n\r\n```python\r\nimport visa\r\nimport numpy as np\r\nimport time as t\r\n\r\nrm = visa.ResourceManager()\r\nprint(rm.list_resources())\r\nsmu = rm.open_resource(\"ASRL8::INSTR\")\r\nsmu.write('*RST')\r\nsmu.write(':SOUR:FUNC:MODE VOLT')\r\nsmu.write(':SOUR:LIST:VOLT 5')\r\nsmu.write(':ARM:COUNT 1')\r\nsmu.write('TRIG:COUN 2500')  # %maximum 2500\r\nsmu.write(':TRIG:DEL 0.0')\r\nsmu.write(':SOUR:DEL 0.0')\r\nsmu.write(':SOUR:VOLT:RANGE 1')\r\nsmu.write(':SENSE:CURR:PROT 100e-3')\r\nsmu.write(':SENSE:FUNC:CONC OFF')\r\nsmu.write(':SENSE:FUNC \"CURR:DC\"')\r\nsmu.write(':SENSE:CURR:RANGE 1e-3')\r\nsmu.write(':SENSE:CURR:NPLC 0.01')\r\nsmu.write(':SENSE:AVERAGE:STAT OFF')\r\nsmu.write(':SYSTEM:AZERO:STAT OFF')\r\nsmu.write(':TRAC:CLE')\r\nsmu.write(':TRAC:POINTS 2500')  # %max 2500\r\nsmu.write(':TRAC:FEED SENSE1');\r\nsmu.write(':SOUR:VOLT:MODE LIST');\r\nsmu.write(':TRAC:FEED:CONT NEXT');\r\nsmu.write(':OUTPUT ON');\r\nsmu.write(':INIT')\r\nt.sleep(5)\r\nsmu.write(':FORM:ELEM CURR,TIME')  # select for current\r\nsmu.write(\"trace:data?\")\r\n\r\nsmu.write(':OUTP OFF')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/501", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/501/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/501/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/501", "id": 581961871, "node_id": "MDU6SXNzdWU1ODE5NjE4NzE=", "number": 501, "title": "[COM] Communication issue with GPIB instruments using PyVisa 1.10.1", "user": {"login": "ominaelee", "id": 62227291, "node_id": "MDQ6VXNlcjYyMjI3Mjkx", "avatar_url": "https://avatars2.githubusercontent.com/u/62227291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ominaelee", "html_url": "https://github.com/ominaelee", "followers_url": "https://api.github.com/users/ominaelee/followers", "following_url": "https://api.github.com/users/ominaelee/following{/other_user}", "gists_url": "https://api.github.com/users/ominaelee/gists{/gist_id}", "starred_url": "https://api.github.com/users/ominaelee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ominaelee/subscriptions", "organizations_url": "https://api.github.com/users/ominaelee/orgs", "repos_url": "https://api.github.com/users/ominaelee/repos", "events_url": "https://api.github.com/users/ominaelee/events{/privacy}", "received_events_url": "https://api.github.com/users/ominaelee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-16T03:02:44Z", "updated_at": "2020-07-23T12:31:32Z", "closed_at": "2020-07-23T12:31:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Instrument details\r\n------------------\r\n* Model: NI GPIB-USB-HS\r\n* Communication: GPIB\r\n\r\nOutput of `pyvisa-info`\r\n-----------------------\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.18362-SP0\r\n   Processor:      Intel64 Family 6 Model 142 Stepping 10, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\Desense\\PycharmProjects\\simple_auto\\venv\\Scripts\\python.exe\r\n   Version:        3.7.3\r\n   Compiler:       MSC v.1916 32 bit (Intel)\r\n   Bits:           32bit\r\n   Build:          Mar 25 2019 21:26:53 (#v3.7.3:ef4ec6ed12)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\Windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 32\r\n         Vendor: National Instruments\r\n         Impl. Version: 19923456\r\n         Spec. Version: 5244928\r\n\r\nIssue description:\r\nGPIB related actions and commands are very slow comparing to NI-VISA Interactive Panel\r\nEx. Open Resource\r\nPyVisa code:\r\nrm = visa.ResourceManager()\r\nmy_instrument = rm.open_resource('GPIB0::8::INSTR')\r\n=> it takes up to 2 sec while NI-VISA Interactive Panel takes within 0.2sec\r\n\r\nAttached NI IOTrace snapshots FYR\r\n![visa_interactive_panel_io](https://user-images.githubusercontent.com/62227291/76719752-9eb94d00-6775-11ea-8978-e8d130690588.png)\r\n![pyvisa_io](https://user-images.githubusercontent.com/62227291/76719758-9fea7a00-6775-11ea-9e4f-149c5a4228f6.png)\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/499", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/499/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/499/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/499", "id": 577410606, "node_id": "MDU6SXNzdWU1Nzc0MTA2MDY=", "number": 499, "title": "commit 0147607 can't find pyvisa-py", "user": {"login": "greyltc", "id": 16778174, "node_id": "MDQ6VXNlcjE2Nzc4MTc0", "avatar_url": "https://avatars1.githubusercontent.com/u/16778174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greyltc", "html_url": "https://github.com/greyltc", "followers_url": "https://api.github.com/users/greyltc/followers", "following_url": "https://api.github.com/users/greyltc/following{/other_user}", "gists_url": "https://api.github.com/users/greyltc/gists{/gist_id}", "starred_url": "https://api.github.com/users/greyltc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greyltc/subscriptions", "organizations_url": "https://api.github.com/users/greyltc/orgs", "repos_url": "https://api.github.com/users/greyltc/repos", "events_url": "https://api.github.com/users/greyltc/events{/privacy}", "received_events_url": "https://api.github.com/users/greyltc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-07T22:31:37Z", "updated_at": "2020-07-23T12:32:39Z", "closed_at": "2020-07-23T12:32:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying with the latest from the master branch, 0147607:\r\n```\r\n$ ipython\r\nPython 3.8.2 (default, Feb 26 2020, 22:21:03) \r\nType 'copyright', 'credits' or 'license' for more information\r\nIPython 7.13.0 -- An enhanced Interactive Python. Type '?' for help.\r\n\r\nIn [1]: import pyvisa as visa                                                                                                                                                                                                                 \r\n\r\nIn [2]: rm = visa.ResourceManager()                                                                                                                                                                                                           \r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-fc4334da8ef3> in <module>\r\n----> 1 rm = visa.ResourceManager()\r\n\r\n/usr/lib/python3.8/site-packages/pyvisa/highlevel.py in __new__(cls, visa_library)\r\n   1576     def __new__(cls, visa_library=''):\r\n   1577         if not isinstance(visa_library, VisaLibraryBase):\r\n-> 1578             visa_library = open_visa_library(visa_library)\r\n   1579 \r\n   1580         if visa_library.resource_manager is not None:\r\n\r\n/usr/lib/python3.8/site-packages/pyvisa/highlevel.py in open_visa_library(specification)\r\n   1543             wrapper = 'ivi'\r\n   1544         else:\r\n-> 1545             wrapper = _get_default_wrapper()\r\n   1546 \r\n   1547     cls = get_wrapper_class(wrapper)\r\n\r\n/usr/lib/python3.8/site-packages/pyvisa/highlevel.py in _get_default_wrapper()\r\n   1517     except ValueError:\r\n   1518         logger.debug('Did not find pyvisa-py package')\r\n-> 1519     raise ValueError('Could not locate a VISA implementation. Install either the IVI binary or pyvisa-py.')\r\n   1520 \r\n   1521 \r\n\r\nValueError: Could not locate a VISA implementation. Install either the IVI binary or pyvisa-py.\r\n```\r\nEverything is fine with the latest release, 1.10.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/497", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/497/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/497/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/497/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/497", "id": 571526012, "node_id": "MDU6SXNzdWU1NzE1MjYwMTI=", "number": 497, "title": "34470A pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339)", "user": {"login": "painbird7", "id": 13577704, "node_id": "MDQ6VXNlcjEzNTc3NzA0", "avatar_url": "https://avatars0.githubusercontent.com/u/13577704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/painbird7", "html_url": "https://github.com/painbird7", "followers_url": "https://api.github.com/users/painbird7/followers", "following_url": "https://api.github.com/users/painbird7/following{/other_user}", "gists_url": "https://api.github.com/users/painbird7/gists{/gist_id}", "starred_url": "https://api.github.com/users/painbird7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/painbird7/subscriptions", "organizations_url": "https://api.github.com/users/painbird7/orgs", "repos_url": "https://api.github.com/users/painbird7/repos", "events_url": "https://api.github.com/users/painbird7/events{/privacy}", "received_events_url": "https://api.github.com/users/painbird7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-26T16:58:03Z", "updated_at": "2020-02-26T21:56:03Z", "closed_at": "2020-02-26T21:56:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting \"Timeout expired before operation completed\" error when the script tries to pull in worth of 130,000 readings from 34470A DMM unit. Everything runs well if the number of samples is relatively small.\r\n\r\n**Traceback**\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/performancescripts/runFio.py\", line 175, in <module>\r\n    power.StopVoltageMeasurements(args['dmmAddress'])\r\n  File \"/usr/local/lib/python3.6/site-packages/power/power.py\", line 104, in StopVoltageMeasurements\r\n    output = session.read()\r\n  File \"/usr/local/lib/python3.6/site-packages/pyvisa/resources/messagebased.py\", line 427, in read\r\n    message = self._read_raw().decode(enco)\r\n  File \"/usr/local/lib/python3.6/site-packages/pyvisa/resources/messagebased.py\", line 400, in _read_raw\r\n    chunk, status = self.visalib.read(self.session, size)\r\n  File \"/usr/local/lib64/python3.6/site-packages/pyvisa-py/highlevel.py\", line 350, in read\r\n    raise errors.VisaIOError(ret[1])\r\npyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.\r\n```\r\n\r\n**To Reproduce**\r\n--------------\r\nSteps to reproduce the behavior:\r\nPull samples up to 130,000 readings in the buffer and try to read it in.\r\n\r\n**My code**\r\n```python\r\ndef StopVoltageMeasurements(dmmAddress):\r\n\tmeter = \"TCPIP0::\" + dmmAddress +\"::inst0::INSTR\"\r\n\trm = visa.ResourceManager()\r\n\tsession = rm.open_resource(meter)\r\n\tsession.write(\"ABOR\")\r\n\tsession.write(\"FETC?\")\r\n\toutput = session.read()\r\n\twith open('/home/powerMeasurements.txt','a+') as f:\r\n\t\t\tf.write(output)\r\n\tsession.close()\r\n\trm.close()\r\n```\r\n\r\n**Output of `pyvisa-info`**\r\n```\r\n[administrator@smarttest-03 performancescripts]$ pyvisa-info\r\nMachine Details:\r\n   Platform ID:    Linux-3.10.0-1062.el7.x86_64-x86_64-with-centos-7.7.1908-Core\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /bin/python3\r\n   Version:        3.6.8\r\n   Compiler:       GCC 4.8.5 20150623 (Red Hat 4.8.5-39)\r\n   Bits:           64bit\r\n   Build:          Aug  7 2019 17:28:10 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      USB RAW:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      TCPIP INSTR: Available \r\n      TCPIP SOCKET: Available \r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/496", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/496/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/496/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/496", "id": 568587816, "node_id": "MDU6SXNzdWU1Njg1ODc4MTY=", "number": 496, "title": "[COM] Communication issue with DCA-X using Pyvisa", "user": {"login": "killertoilet", "id": 52977486, "node_id": "MDQ6VXNlcjUyOTc3NDg2", "avatar_url": "https://avatars1.githubusercontent.com/u/52977486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killertoilet", "html_url": "https://github.com/killertoilet", "followers_url": "https://api.github.com/users/killertoilet/followers", "following_url": "https://api.github.com/users/killertoilet/following{/other_user}", "gists_url": "https://api.github.com/users/killertoilet/gists{/gist_id}", "starred_url": "https://api.github.com/users/killertoilet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killertoilet/subscriptions", "organizations_url": "https://api.github.com/users/killertoilet/orgs", "repos_url": "https://api.github.com/users/killertoilet/repos", "events_url": "https://api.github.com/users/killertoilet/events{/privacy}", "received_events_url": "https://api.github.com/users/killertoilet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858767083, "node_id": "MDU6TGFiZWwxODU4NzY3MDgz", "url": "https://api.github.com/repos/pyvisa/pyvisa/labels/instrument", "name": "instrument", "color": "55a6c6", "default": false, "description": "Communication issue with a specific instrument"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-20T21:37:12Z", "updated_at": "2020-02-21T18:58:33Z", "closed_at": "2020-02-21T18:58:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to simply connect to an instrument like I have hundreds of times in the past, but for some reason it claims resource not found. I can ping the instrument from my PC but cannot connect using Pyvisa. \r\n\r\n\r\nrm = visa.ResourceManager()\r\nmyInstrument = rm.open_resource(\"TCPIP0::xx.xx.xx.xx::inst0::INSTR\")\r\n\r\nVisaIOError: VI_ERROR_RSRC_NFOUND (-1073807343): Insufficient location information or the requested device or resource is not present in the system.\r\n\r\nThe one thing that might have changed is that I installed Keysight EMpro which comes with a python package. Could that have somehow messed up environment variables here?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/495", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/495/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/495/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/495", "id": 566687614, "node_id": "MDU6SXNzdWU1NjY2ODc2MTQ=", "number": 495, "title": "GPIB instruments query timeout even though they are listed in list_resources", "user": {"login": "HuangJunye", "id": 7631333, "node_id": "MDQ6VXNlcjc2MzEzMzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7631333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HuangJunye", "html_url": "https://github.com/HuangJunye", "followers_url": "https://api.github.com/users/HuangJunye/followers", "following_url": "https://api.github.com/users/HuangJunye/following{/other_user}", "gists_url": "https://api.github.com/users/HuangJunye/gists{/gist_id}", "starred_url": "https://api.github.com/users/HuangJunye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HuangJunye/subscriptions", "organizations_url": "https://api.github.com/users/HuangJunye/orgs", "repos_url": "https://api.github.com/users/HuangJunye/repos", "events_url": "https://api.github.com/users/HuangJunye/events{/privacy}", "received_events_url": "https://api.github.com/users/HuangJunye/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-18T07:00:03Z", "updated_at": "2020-02-19T12:53:55Z", "closed_at": "2020-02-19T10:19:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I recently installed pyvisa, NI-VISA, etc. on a new computer to connect to my instruments. I have trouble to communicate with GPIB instruments. The instruments are visible in list_resources, but timeout error arises whenever I send a query. Do you have any idea how to solve this issue?\r\n\r\nI read related issue #337, but my situation is slightly different. Thank you in advance for the help! #397 doesn't contain any useful information that can solve my issue.\r\n\r\n## Symptoms\r\n- GPIB instruments are visible in list_resources()\r\n```\r\n('ASRL1::INSTR',\r\n 'ASRL6::INSTR',\r\n 'ASRL7::INSTR',\r\n 'ASRL8::INSTR',\r\n 'ASRL9::INSTR',\r\n 'GPIB0::20::INSTR',\r\n 'GPIB0::9::INSTR')\r\n```\r\n- `VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.` arises whenever I send a query.\r\n```\r\nimport visa\r\nrm = visa.ResourceManager()\r\ninst = rm.open_resource('GPIB0::20::INSTR')\r\ninst.query('*IDN?')\r\n```\r\n- Communication with serial instruments are working fine.\r\n- I use Agilent Technologies 82357B GPIB-USB interface\r\n- GPIB instruments can communicate using NI-MAX and Keysight Connection Expert.\r\n\r\n## Output of `pyvisa-info`\r\n```\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.17134-SP0\r\n   Processor:      Intel64 Family 6 Model 158 Stepping 10, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     c:\\programdata\\anaconda3\\python.exe\r\n   Version:        3.7.3\r\n   Compiler:       MSC v.1915 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          Mar 27 2019 17:13:21 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\Windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 19922944\r\n         Spec. Version: 5244928\r\n      #2: C:\\Windows\\system32\\visa64.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 19922944\r\n         Spec. Version: 5244928\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/494", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/494/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/494/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/494", "id": 564723891, "node_id": "MDU6SXNzdWU1NjQ3MjM4OTE=", "number": 494, "title": "writing hangs while waiting to trigger", "user": {"login": "amirc2013", "id": 11510514, "node_id": "MDQ6VXNlcjExNTEwNTE0", "avatar_url": "https://avatars2.githubusercontent.com/u/11510514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirc2013", "html_url": "https://github.com/amirc2013", "followers_url": "https://api.github.com/users/amirc2013/followers", "following_url": "https://api.github.com/users/amirc2013/following{/other_user}", "gists_url": "https://api.github.com/users/amirc2013/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirc2013/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirc2013/subscriptions", "organizations_url": "https://api.github.com/users/amirc2013/orgs", "repos_url": "https://api.github.com/users/amirc2013/repos", "events_url": "https://api.github.com/users/amirc2013/events{/privacy}", "received_events_url": "https://api.github.com/users/amirc2013/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-02-13T14:33:52Z", "updated_at": "2020-02-14T07:51:47Z", "closed_at": "2020-02-14T07:51:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI have CXAc n9000a and im using pyvisa.\r\nIf somehow my cxa missed the trigger - I get stuck for ever... \r\nIf I put timeout - Ill get an error - and then when I will try to write any other command - I'll get stuck again (or time out again).\r\n\r\nWhy ? How can I fix it ?\r\nIs the problem is with you or the instrument ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/493", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/493/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/493/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/493", "id": 561048068, "node_id": "MDU6SXNzdWU1NjEwNDgwNjg=", "number": 493, "title": "Issue with Termination characters are not used in RNDLAB power supply RND LAB 320-KA3005P via RS232 Serial Port (PyVisa)", "user": {"login": "RAVIVANAMA", "id": 60742654, "node_id": "MDQ6VXNlcjYwNzQyNjU0", "avatar_url": "https://avatars1.githubusercontent.com/u/60742654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RAVIVANAMA", "html_url": "https://github.com/RAVIVANAMA", "followers_url": "https://api.github.com/users/RAVIVANAMA/followers", "following_url": "https://api.github.com/users/RAVIVANAMA/following{/other_user}", "gists_url": "https://api.github.com/users/RAVIVANAMA/gists{/gist_id}", "starred_url": "https://api.github.com/users/RAVIVANAMA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RAVIVANAMA/subscriptions", "organizations_url": "https://api.github.com/users/RAVIVANAMA/orgs", "repos_url": "https://api.github.com/users/RAVIVANAMA/repos", "events_url": "https://api.github.com/users/RAVIVANAMA/events{/privacy}", "received_events_url": "https://api.github.com/users/RAVIVANAMA/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-02-06T14:28:01Z", "updated_at": "2020-07-23T12:33:18Z", "closed_at": "2020-07-23T12:33:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello support team, \r\n\r\nI am using a pyvisa library to communicate with different Power supply devices via RS232 serial port.\r\n\r\nI am facing issue to communicate with **RND LAB 320-KA3005P** Power Supply.\r\nTermination characters are not handled in the mentioned power supply model.\r\n\r\nI tried to write and read the data  as shown below :\r\n```python\r\nrm = pyvisa.ResourceManager(\"@py\")\r\ndevice_connection = rm.open_resource(\"ASRLCOM6::INSTR\")\r\n# By default write_termination added as '\\r\\n'\r\n# But RND LAB Power Supply required as None as below \r\ndevice_connection.write_termination = None\r\n# read_termination characters are used '\\n', '\\r', '0' throws  error as\r\n# exception while reading: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed\r\n# because termination characters not used in the RND LAB Power Supply, when its responds back.\r\ndevice_connection.read_termination = \"\\n\"\r\n# Tried with below line with space  \"  \" setting \r\n#  where there is space in the string got terminated and received  data  till there.\r\ndevice_connection.read_termination = \"  \"\r\n\r\n#device_connection.write('*IDN?')\r\n# print(device_connection.read())\r\n# read/write is same as query() \r\nprint([device_connection.query(\"*IDN?\")])\r\n```\r\n\r\nVersion Info:\r\nPython 3.5\r\nPyVisa version -1.10.1\r\nPyserial version \u2013 3.4\r\n\r\nDo you have any suggestion/solution for the issue? \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/492", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/492/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/492/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/492", "id": 558497291, "node_id": "MDU6SXNzdWU1NTg0OTcyOTE=", "number": 492, "title": "Unclear requirements for pyvisa-shell to work with SCPI", "user": {"login": "AndKe", "id": 1468842, "node_id": "MDQ6VXNlcjE0Njg4NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1468842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndKe", "html_url": "https://github.com/AndKe", "followers_url": "https://api.github.com/users/AndKe/followers", "following_url": "https://api.github.com/users/AndKe/following{/other_user}", "gists_url": "https://api.github.com/users/AndKe/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndKe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndKe/subscriptions", "organizations_url": "https://api.github.com/users/AndKe/orgs", "repos_url": "https://api.github.com/users/AndKe/repos", "events_url": "https://api.github.com/users/AndKe/events{/privacy}", "received_events_url": "https://api.github.com/users/AndKe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-01T06:56:24Z", "updated_at": "2020-02-03T07:51:40Z", "closed_at": "2020-02-03T07:51:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an electronic load (ET5410) which is a SCPI device. it's id is set to 0.\r\n\r\n```\r\nMachine Details:\r\n   Platform ID:    Linux-5.3.0-26-generic-x86_64-with-Ubuntu-19.10-eoan\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /usr/bin/python3\r\n   Version:        3.7.5\r\n   Compiler:       GCC 9.2.1 20191008\r\n   Bits:           64bit\r\n   Build:          Nov 20 2019 09:21:52 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available \r\n      TCPIP SOCKET: Available \r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'\r\n```\r\n\r\nI connect to it like: \r\n```\r\n(visa) list\r\n( 0) ASRL/dev/ttyS4::INSTR\r\n( 1) ASRL/dev/ttyS0::INSTR\r\n( 2) ASRL/dev/ttyUSB0::INSTR\r\n(visa) open 2\r\nASRL/dev/ttyUSB0::INSTR has been opened.\r\nYou can talk to the device using \"write\", \"read\" or \"query\".\r\nThe default end of message is added to each message.\r\n```\r\n(Never specified a baud-rate - which is 115200)  \r\nAnd now I am lost as I can't find any working query - and I do not know whatever it is due to the missing linux-gpib, or something else.\r\n\r\nPlease help me understand how to ensure connection, and some sommands so I can figure out other possible commands.\r\nThank you.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/490", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/490/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/490/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/490", "id": 555485940, "node_id": "MDU6SXNzdWU1NTU0ODU5NDA=", "number": 490, "title": "pyvisa very slow with TCPIP", "user": {"login": "nbenm", "id": 4224717, "node_id": "MDQ6VXNlcjQyMjQ3MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4224717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbenm", "html_url": "https://github.com/nbenm", "followers_url": "https://api.github.com/users/nbenm/followers", "following_url": "https://api.github.com/users/nbenm/following{/other_user}", "gists_url": "https://api.github.com/users/nbenm/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbenm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbenm/subscriptions", "organizations_url": "https://api.github.com/users/nbenm/orgs", "repos_url": "https://api.github.com/users/nbenm/repos", "events_url": "https://api.github.com/users/nbenm/events{/privacy}", "received_events_url": "https://api.github.com/users/nbenm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-01-27T10:35:16Z", "updated_at": "2020-07-23T12:35:26Z", "closed_at": "2020-07-23T12:35:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use pyvisa to access Rigol DS1054Z scope data.\r\n\r\nIf I use the following code, it is **extremely slow:**\r\n\r\n```\r\nrm = visa.ResourceManager('@py')\r\nscope = rm.open_resource('TCPIP0::192.168.1.24::inst0::INSTR')\r\n```\r\nIf I use the following code, it's much better but **still slow**:\r\n\r\n```\r\nrm = visa.ResourceManager('@py')\r\nscope = rm.open_resource('TCPIP0::192.168.1.24::5555::SOCKET')\r\n```\r\nBut if I use usb with the following code, it is very fast:\r\n\r\nrm = visa.ResourceManager('@py')\r\nscope = rm.open_resource('USB0::0x1AB1::0x04CE::DS1ZA182410617::INSTR')\r\nCommands that are sent are very simple. They are in a loop to access a great quantity of data:\r\n\r\n```\r\n:WAV:STAR start_value\r\n:WAV:STOP end_value\r\n:WAV:DATA?\r\n```\r\nI get ascii data.\r\n\r\nI must add that sending these commands with netcat (nc) is the fastest way to get data.\r\n\r\n**My question:**\r\n\r\nIs there a way to speed up TCPIP access?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/489", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/489/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/489/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/489", "id": 553804318, "node_id": "MDU6SXNzdWU1NTM4MDQzMTg=", "number": 489, "title": "Support of UART to RS232 connection of Raspberry Pi 4 ", "user": {"login": "mra7072", "id": 17894018, "node_id": "MDQ6VXNlcjE3ODk0MDE4", "avatar_url": "https://avatars1.githubusercontent.com/u/17894018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mra7072", "html_url": "https://github.com/mra7072", "followers_url": "https://api.github.com/users/mra7072/followers", "following_url": "https://api.github.com/users/mra7072/following{/other_user}", "gists_url": "https://api.github.com/users/mra7072/gists{/gist_id}", "starred_url": "https://api.github.com/users/mra7072/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mra7072/subscriptions", "organizations_url": "https://api.github.com/users/mra7072/orgs", "repos_url": "https://api.github.com/users/mra7072/repos", "events_url": "https://api.github.com/users/mra7072/events{/privacy}", "received_events_url": "https://api.github.com/users/mra7072/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-22T21:28:54Z", "updated_at": "2020-07-23T12:35:54Z", "closed_at": "2020-07-23T12:35:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm connecting a rpi4 to a agilient 34401A multimeter. Currently, I'm able to connect from USB connection from pi to RS232 connection to the multimeter just fine. I would like to migrate to using UART on the pi to RS232. Would this be possible? \r\n\r\nWould the resource manager be able to detect the connection? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/488", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/488/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/488/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/488/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/488", "id": 550511575, "node_id": "MDU6SXNzdWU1NTA1MTE1NzU=", "number": 488, "title": "pyVISA: \"PyUSB does not seem to be properly installed\"", "user": {"login": "luzdal", "id": 26358351, "node_id": "MDQ6VXNlcjI2MzU4MzUx", "avatar_url": "https://avatars3.githubusercontent.com/u/26358351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luzdal", "html_url": "https://github.com/luzdal", "followers_url": "https://api.github.com/users/luzdal/followers", "following_url": "https://api.github.com/users/luzdal/following{/other_user}", "gists_url": "https://api.github.com/users/luzdal/gists{/gist_id}", "starred_url": "https://api.github.com/users/luzdal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luzdal/subscriptions", "organizations_url": "https://api.github.com/users/luzdal/orgs", "repos_url": "https://api.github.com/users/luzdal/repos", "events_url": "https://api.github.com/users/luzdal/events{/privacy}", "received_events_url": "https://api.github.com/users/luzdal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-16T00:54:21Z", "updated_at": "2020-01-16T21:27:42Z", "closed_at": "2020-01-16T19:35:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nTrying to connect to a Keithley 2280S-60-3 device via USB. I encounter the seemingly common problem of initially getting a \"()\" shown in the screenshot below. I've found other threads that talk about this problem but end up working it out by using other programs instead, but I really need to get this working through pyvisa which in theory should be possible.\r\n\r\n![Screen Shot 2020-01-15 at 3 59 36 PM](https://user-images.githubusercontent.com/26358351/72481821-7e3e3800-37b0-11ea-889c-1923de59155a.png)\r\n\r\nSo I tried **.get_instrument**:\r\n![Screen Shot 2020-01-15 at 4 17 11 PM](https://user-images.githubusercontent.com/26358351/72482675-687e4200-37b3-11ea-98dd-d2e3654fce1d.png)\r\nWhich gives the following error:\r\n<span style=\"color: red\">VisaIOError</span>: VI_ERROR_RSRC_NFOUND (-1073807343): Insufficient location information or the requested device or resource is not present in the system.\r\n\r\nSkimmed through the pyvisa [documentation](https://readthedocs.org/projects/pyvisa/downloads/pdf/latest/#page=33&zoom=100,96,96) which mentions something about \"configuring the backend\" (sect 1.1.2). Not sure what that means exactly but this is what I think they suggest is to try **.ResourceManager('@py')**:\r\n\r\n![Screen Shot 2020-01-15 at 4 30 53 PM](https://user-images.githubusercontent.com/26358351/72483011-6c5e9400-37b4-11ea-8872-7387e6743c59.png)\r\nWhich gives the new error:\r\nValueError: PyUSB does not seem to be properly installed.\r\nPlease refer to PyUSB documentation and \r\ninstall a suitable backend like \r\nlibusb 0.1, libusb 1.0, libusbx, \r\nlibusb-win32 or OpenUSB.\r\nNo backend available\r\n\r\nThis is my pyvisa-info:\r\n![Screen Shot 2020-01-15 at 3 56 27 PM](https://user-images.githubusercontent.com/26358351/72483069-9e6ff600-37b4-11ea-8ca9-bb88bbb36ec0.png)\r\n\r\nI also tried **pip install pyusb** (ref. PyUSB \"[documentation](https://github.com/pyusb/pyusb)\") which returns:\r\nRequirement already satisfied: pyusb in /Users/air/anaconda3/lib/python3.6/site-packages (1.0.2)\r\n\r\nSOS!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/487", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/487/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/487/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/487", "id": 550507538, "node_id": "MDU6SXNzdWU1NTA1MDc1Mzg=", "number": 487, "title": "pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.", "user": {"login": "mra7072", "id": 17894018, "node_id": "MDQ6VXNlcjE3ODk0MDE4", "avatar_url": "https://avatars1.githubusercontent.com/u/17894018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mra7072", "html_url": "https://github.com/mra7072", "followers_url": "https://api.github.com/users/mra7072/followers", "following_url": "https://api.github.com/users/mra7072/following{/other_user}", "gists_url": "https://api.github.com/users/mra7072/gists{/gist_id}", "starred_url": "https://api.github.com/users/mra7072/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mra7072/subscriptions", "organizations_url": "https://api.github.com/users/mra7072/orgs", "repos_url": "https://api.github.com/users/mra7072/repos", "events_url": "https://api.github.com/users/mra7072/events{/privacy}", "received_events_url": "https://api.github.com/users/mra7072/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-16T00:39:50Z", "updated_at": "2020-01-22T22:42:10Z", "closed_at": "2020-01-22T22:42:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ran this setup code on a windows 10 machine with NI VISA library with a Agilent 34401A multimer. It worked fine, i was also able to take a measurement. However, I've migrated to a raspberry pi 4 with Rasbian buster loaded. Since, NI-VISA is not supported, I'm using the Pyvisa-py as the backend. Now, when executing this setup code, I'm getting a timeout issue. I've listed the code below. Is the Pyvisa-py backend insufficient? Because the only differences I see is the difference in OS from windows 10 to raspbian and the difference in the backend due to this migration. \r\n\r\n\r\n\r\ndef setup():\r\n        rm=pyvisa.ResourceManager()\r\n        resources = rm.list_resources()\r\n        print(resources)\r\n        print(rm)\r\n        if resources == None:\r\n            print(\"No connected devices found\")\r\n    \r\n        DMM = rm.open_resource(resources[0],\r\n            baud_rate=9600, data_bits=8, flow_control=4,\r\n            parity = Parity.none,stop_bits=StopBits.two)\r\n\r\n        #clear buffers\r\n       \r\n        #set read/write terminators to dictate end of command\"\r\n        DMM.read_termination = '\\n'\r\n        DMM.write_termination = '\\n'\r\n        DMM.write(\"*rst; status:preset; *cls\")\r\n        #Enable remote mode to interface with multimeter\r\n          DMM.write(\"SYST:REM\")\r\n        #DMM.write(\"*IDN?\")\r\n\r\n        print(\"Connection Established with \" + DMM.read())\r\n        return DMM", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/485", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/485/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/485/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/485", "id": 545849138, "node_id": "MDU6SXNzdWU1NDU4NDkxMzg=", "number": 485, "title": "Connection closed by Host on movein call", "user": {"login": "gmnewma", "id": 59575443, "node_id": "MDQ6VXNlcjU5NTc1NDQz", "avatar_url": "https://avatars1.githubusercontent.com/u/59575443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmnewma", "html_url": "https://github.com/gmnewma", "followers_url": "https://api.github.com/users/gmnewma/followers", "following_url": "https://api.github.com/users/gmnewma/following{/other_user}", "gists_url": "https://api.github.com/users/gmnewma/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmnewma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmnewma/subscriptions", "organizations_url": "https://api.github.com/users/gmnewma/orgs", "repos_url": "https://api.github.com/users/gmnewma/repos", "events_url": "https://api.github.com/users/gmnewma/events{/privacy}", "received_events_url": "https://api.github.com/users/gmnewma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2020-01-06T17:38:19Z", "updated_at": "2020-07-23T12:36:16Z", "closed_at": "2020-07-23T12:36:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using pyvisa 1.9.1 with Python 3.6.3 on a Windows 10 Enterprise x64 machine.\r\n\r\nOn my development machine I am able to use the move-in function to transfer Spectral Dynamics digitizer memory data from the device to a python variable.  The data I receive from this function is correct.    When I move this code to another machine a console error is displayed and logged to the agilent logger software:\r\n\r\nerror 10053 - connection closed by host.\r\n\r\nThe only information found on what can cause this is the operating systems Keep Alive value is causing the TCP IP connection to close.  I don't believe this is the cause of the problem because on the problematic machine I can obtain the identity of the hardware using the appropriate VISA register commands.\r\n\r\nPlease let me know what steps might help resolve this issue.\r\n\r\nThank you,\r\nGordon", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/482", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/482/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/482/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/482", "id": 535453033, "node_id": "MDU6SXNzdWU1MzU0NTMwMzM=", "number": 482, "title": "pyvisa.errors.VisaIOError: VI_ERROR_RSRC_NFOUND (-1073807343): Insufficient location information or the requested device or resource is not present in the system.", "user": {"login": "jenhaoyeh", "id": 58715068, "node_id": "MDQ6VXNlcjU4NzE1MDY4", "avatar_url": "https://avatars3.githubusercontent.com/u/58715068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jenhaoyeh", "html_url": "https://github.com/jenhaoyeh", "followers_url": "https://api.github.com/users/jenhaoyeh/followers", "following_url": "https://api.github.com/users/jenhaoyeh/following{/other_user}", "gists_url": "https://api.github.com/users/jenhaoyeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jenhaoyeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jenhaoyeh/subscriptions", "organizations_url": "https://api.github.com/users/jenhaoyeh/orgs", "repos_url": "https://api.github.com/users/jenhaoyeh/repos", "events_url": "https://api.github.com/users/jenhaoyeh/events{/privacy}", "received_events_url": "https://api.github.com/users/jenhaoyeh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-10T02:30:04Z", "updated_at": "2020-07-23T12:36:45Z", "closed_at": "2020-07-23T12:36:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to use pyvisa to connect a Keysight Network Analyser (E5071C). I can successfully do that in one Dell laptop with CentOS 7.5. But I cannot do that in a Intel NUC with CentOS 7.7, where I get this error:\r\n\r\n```\r\n>>> import visa\r\n>>> rm = visa.ResourceManager()\r\n>>> rm.list_resources()\r\n('ASRL1::INSTR', 'ASRL2::INSTR', 'ASRL3::INSTR', 'ASRL4::INSTR', 'TCPIP0::169.254.158.139::A-E5071C-15158::INSTR')\r\n>>> rm.open_resource('TCPIP0::169.254.158.139::A-E5071C-15158::INSTR')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/jenhao/.local/share/virtualenvs/vna-multiplexer-zkou9k9q/lib/python3.6/site-packages/pyvisa/highlevel.py\", line 1771, in open_resource\r\n    res.open(access_mode, open_timeout)\r\n  File \"/home/jenhao/.local/share/virtualenvs/vna-multiplexer-zkou9k9q/lib/python3.6/site-packages/pyvisa/resources/resource.py\", line 218, in open\r\n    self.session, status = self._resource_manager.open_bare_resource(self._resource_name, access_mode, open_timeout)\r\n  File \"/home/jenhao/.local/share/virtualenvs/vna-multiplexer-zkou9k9q/lib/python3.6/site-packages/pyvisa/highlevel.py\", line 1725, in open_bare_resource\r\n    return self.visalib.open(self.session, resource_name, access_mode, open_timeout)\r\n  File \"/home/jenhao/.local/share/virtualenvs/vna-multiplexer-zkou9k9q/lib/python3.6/site-packages/pyvisa/ctwrapper/functions.py\", line 1213, in open\r\n    ret = library.viOpen(session, resource_name, access_mode, open_timeout, byref(out_session))\r\n  File \"/home/jenhao/.local/share/virtualenvs/vna-multiplexer-zkou9k9q/lib/python3.6/site-packages/pyvisa/ctwrapper/highlevel.py\", line 193, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\npyvisa.errors.VisaIOError: VI_ERROR_RSRC_NFOUND (-1073807343): Insufficient location information or the requested device or resource is not present in the system.\r\n```\r\n\r\n\r\nHere are the \"python -m visa info\" for both cases. In the successful one, it is:\r\n```\r\npython -m visa info\r\nMachine Details:\r\n   Platform ID:    Linux-3.10.0-862.3.3.el7.x86_64-x86_64-with-centos-7.5.1804-Core\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /home/lab/.local/share/virtualenvs/vna-multiplexer-BYfvy9Wc/bin/python\r\n   Version:        3.6.8\r\n   Compiler:       GCC 4.8.5 20150623 (Red Hat 4.8.5-39)\r\n   Bits:           64bit\r\n   Build:          Aug  7 2019 17:28:10 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: /usr/local/vxipnp/linux/lib64/libvisa.so:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 17825792\r\n         Spec. Version: 5244672\r\n```\r\n\r\n\r\nIn the failed one, there are two backends because I tried installing pyvisa-py as well (unfortunately both not working.)\r\n```\r\npython -m visa info\r\nMachine Details:\r\n   Platform ID:    Linux-3.10.0-1062.4.3.el7.x86_64-x86_64-with-centos-7.7.1908-Core\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /home/jenhao/.local/share/virtualenvs/vna-multiplexer-zkou9k9q/bin/python\r\n   Version:        3.6.8\r\n   Compiler:       GCC 4.8.5 20150623 (Red Hat 4.8.5-39)\r\n   Bits:           64bit\r\n   Build:          Aug  7 2019 17:28:10 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: /usr/lib/x86_64-linux-gnu/libvisa.so.19.2.0:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 19923456\r\n         Spec. Version: 5244928\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available \r\n      TCPIP SOCKET: Available \r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'\r\n```\r\n\r\n\r\nAny suggestion is appreciated. Thanks.\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/480", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/480/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/480/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/480/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/480", "id": 531964899, "node_id": "MDU6SXNzdWU1MzE5NjQ4OTk=", "number": 480, "title": "Connecting to Keithley2700 - empty list of resources", "user": {"login": "Dshisher", "id": 58472110, "node_id": "MDQ6VXNlcjU4NDcyMTEw", "avatar_url": "https://avatars2.githubusercontent.com/u/58472110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dshisher", "html_url": "https://github.com/Dshisher", "followers_url": "https://api.github.com/users/Dshisher/followers", "following_url": "https://api.github.com/users/Dshisher/following{/other_user}", "gists_url": "https://api.github.com/users/Dshisher/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dshisher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dshisher/subscriptions", "organizations_url": "https://api.github.com/users/Dshisher/orgs", "repos_url": "https://api.github.com/users/Dshisher/repos", "events_url": "https://api.github.com/users/Dshisher/events{/privacy}", "received_events_url": "https://api.github.com/users/Dshisher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-12-03T12:55:02Z", "updated_at": "2020-07-23T12:37:58Z", "closed_at": "2020-07-23T12:37:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I am pretty new to programming so I am not completely sure that my problem is from my use of pyvisa. \r\nI am trying to connect to Keithley2700 through Python for a long time and with a GPIB-USB-HS.\r\n\r\n\r\nThe simple code which i try to run is:\r\n\r\nimport visa\r\nrm = visa.ResourceManager('@py')\r\nprint(rm.list_resources())\r\n\r\nand i always receive an empty list.\r\n\r\nThe packages that i have installed to make it work are: \r\npyvisa\r\npyvisa-py\r\nand:\r\npyusb\r\nlibusb1\r\nWhich i am not sure that are really needed for the GPIB.\r\n\r\nI have installed the driver of NI - Visa from there website and i can connect my device through \"NI -Visa interactive control\".\r\n\r\nWhen I type: \"python -m visa info\":\r\n\r\nMachine Details:\r\n   Platform ID:    Windows-7-6.1.7601-SP1\r\n   Processor:      Intel64 Family 6 Model 42 Stepping 7, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Programs\\Python\\Python37-32\\python.exe\r\n   Version:        3.7.3\r\n   Compiler:       MSC v.1916 32 bit (Intel)\r\n   Bits:           32bit\r\n   Build:          Mar 25 2019 21:26:53 (#v3.7.3:ef4ec6ed12)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'\r\n\r\n\r\nI will be glad to get the solution and to know what i did wrong...\r\nIf there is additional information needed I will upload.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/479", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/479/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/479/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/479/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/479", "id": 531148022, "node_id": "MDU6SXNzdWU1MzExNDgwMjI=", "number": 479, "title": "Pyinstaller packaged exe file can't find package pyvisa-py", "user": {"login": "mike9755", "id": 5673534, "node_id": "MDQ6VXNlcjU2NzM1MzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5673534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mike9755", "html_url": "https://github.com/mike9755", "followers_url": "https://api.github.com/users/mike9755/followers", "following_url": "https://api.github.com/users/mike9755/following{/other_user}", "gists_url": "https://api.github.com/users/mike9755/gists{/gist_id}", "starred_url": "https://api.github.com/users/mike9755/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mike9755/subscriptions", "organizations_url": "https://api.github.com/users/mike9755/orgs", "repos_url": "https://api.github.com/users/mike9755/repos", "events_url": "https://api.github.com/users/mike9755/events{/privacy}", "received_events_url": "https://api.github.com/users/mike9755/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-02T14:02:43Z", "updated_at": "2019-12-02T14:35:36Z", "closed_at": "2019-12-02T14:35:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "(pip install pyvisa pyvisa-py)\r\n      \r\nimport pyvisa\r\nrm = pyvisa.ResourceManager('@py')\r\n\r\npart of code as above, it works well with direct running *.py file, but it failed when package the *.py file to executable file with pyinstaller, the wrong message as below:\r\n\"ValueError: Wrapper not found: No package named pyvisa-py\"\r\nDoes anybody meet same question with me or help to fix it, thank you very much\r\nWrong message and system info as below pictures:\r\n![image](https://user-images.githubusercontent.com/5673534/69965483-54f28100-154f-11ea-9ed6-580ea2bf1865.png)\r\n![image](https://user-images.githubusercontent.com/5673534/69965503-5f147f80-154f-11ea-94c1-9c88e9b9d086.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/478", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/478/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/478/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/478", "id": 530249743, "node_id": "MDU6SXNzdWU1MzAyNDk3NDM=", "number": 478, "title": "Problem configuring PyVisa with USB device", "user": {"login": "lplPerard", "id": 58065731, "node_id": "MDQ6VXNlcjU4MDY1NzMx", "avatar_url": "https://avatars3.githubusercontent.com/u/58065731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lplPerard", "html_url": "https://github.com/lplPerard", "followers_url": "https://api.github.com/users/lplPerard/followers", "following_url": "https://api.github.com/users/lplPerard/following{/other_user}", "gists_url": "https://api.github.com/users/lplPerard/gists{/gist_id}", "starred_url": "https://api.github.com/users/lplPerard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lplPerard/subscriptions", "organizations_url": "https://api.github.com/users/lplPerard/orgs", "repos_url": "https://api.github.com/users/lplPerard/repos", "events_url": "https://api.github.com/users/lplPerard/events{/privacy}", "received_events_url": "https://api.github.com/users/lplPerard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-29T09:45:31Z", "updated_at": "2019-12-03T08:53:20Z", "closed_at": "2019-12-03T08:53:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello all,\r\n\r\nI am trying to implement PyVisa in a code to pilot a Keythley 2450 Sourcemeter. I know everything works fine on my computer since I generally pilot my instrument via Matlab.\r\n\r\nWhen I execute `python -m visa info` I get the following result\r\n\r\n`Machine Details:\r\n   Platform ID:    Windows-10-10.0.18362-SP0\r\n   Processor:      Intel64 Family 6 Model 158 Stepping 10, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\perardl\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe\r\n   Version:        3.8.0\r\n   Compiler:       MSC v.1916 32 bit (Intel)\r\n   Bits:           32bit\r\n   Build:          Oct 14 2019 19:21:23 (#tags/v3.8.0:fa919fd)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.1 (bundled with PyVISA)\r\n      #1: C:\\Windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 32\r\n         Vendor: National Instruments\r\n         Impl. Version: 19923456\r\n         Spec. Version: 5244928\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: N/A\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: N/A\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'`\r\n\r\nThe backend for USB is not found, but libusb is installed on my machine.\r\n\r\nI am lost, can someone help ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/477", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/477/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/477/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/477", "id": 530059126, "node_id": "MDU6SXNzdWU1MzAwNTkxMjY=", "number": 477, "title": "list_resources returns devices that have been disconnected", "user": {"login": "rahndnr", "id": 58309974, "node_id": "MDQ6VXNlcjU4MzA5OTc0", "avatar_url": "https://avatars2.githubusercontent.com/u/58309974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rahndnr", "html_url": "https://github.com/rahndnr", "followers_url": "https://api.github.com/users/rahndnr/followers", "following_url": "https://api.github.com/users/rahndnr/following{/other_user}", "gists_url": "https://api.github.com/users/rahndnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rahndnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rahndnr/subscriptions", "organizations_url": "https://api.github.com/users/rahndnr/orgs", "repos_url": "https://api.github.com/users/rahndnr/repos", "events_url": "https://api.github.com/users/rahndnr/events{/privacy}", "received_events_url": "https://api.github.com/users/rahndnr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-11-28T19:47:16Z", "updated_at": "2020-01-29T18:08:11Z", "closed_at": "2020-01-29T18:08:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using pyvisa 1.9.1 with Python 3.6.3 on a Windows 10 Enterprise x64 machine.\r\nWhen I create a pyvisa.ResourceManager and call list_resources, the resulting listinstrs includes USBdevices that have been disconnected.  I get the same listinstrs even if all USB devices are disconnected.\r\nRebooting my machine does not solve the problem.\r\nThe error message reads as follows:\r\n\r\nTraceback (most recent call last):\r\n    self.dev = resmgr.open_resource(\"USB0::0<xxxxx::xxxx::xxx::0>::INSTR\")\r\n  File \"C:\\Python36\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1724, in open_resource\r\n    res.open(access_mode, open_timeout)\r\n  File \"C:\\Python36\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line 209, in open\r\n    self.session, status = self._resource_manager.open_bare_resource(self._resource_name, access_mode, open_timeout)\r\n  File \"C:\\Python36\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1681, in open_bare_resource\r\n    return self.visalib.open(self.session, resource_name, access_mode, open_timeout)\r\n  File \"C:\\Python36\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1213, in open\r\n    ret = library.viOpen(session, resource_name, access_mode, open_timeout, byref(out_session))\r\n  File \"C:\\Python36\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\npyvisa.errors.VisaIOError: VI_ERROR_NCIC (-1073807264): The interface associated with this session is not currently the controller in charge.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/476", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/476/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/476/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/476", "id": 527788621, "node_id": "MDU6SXNzdWU1Mjc3ODg2MjE=", "number": 476, "title": "write_raw returns a tuple", "user": {"login": "pigrew", "id": 14810130, "node_id": "MDQ6VXNlcjE0ODEwMTMw", "avatar_url": "https://avatars0.githubusercontent.com/u/14810130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pigrew", "html_url": "https://github.com/pigrew", "followers_url": "https://api.github.com/users/pigrew/followers", "following_url": "https://api.github.com/users/pigrew/following{/other_user}", "gists_url": "https://api.github.com/users/pigrew/gists{/gist_id}", "starred_url": "https://api.github.com/users/pigrew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pigrew/subscriptions", "organizations_url": "https://api.github.com/users/pigrew/orgs", "repos_url": "https://api.github.com/users/pigrew/repos", "events_url": "https://api.github.com/users/pigrew/events{/privacy}", "received_events_url": "https://api.github.com/users/pigrew/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-25T00:51:43Z", "updated_at": "2020-07-23T12:38:45Z", "closed_at": "2020-07-23T12:38:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "The documentation comment of `MessageBasedInterface.write_raw` says it returns `int`, but it actually returns `Tuple[int,pyvisa.constants.StatusCode]`.\r\n\r\nCould the documentation be updated to show it returning a tuple (since that's what `visalib.write(...)` returns)?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/475", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/475/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/475/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/475", "id": 527438770, "node_id": "MDU6SXNzdWU1Mjc0Mzg3NzA=", "number": 475, "title": "What are Read/Write Requirements for standard Serial Devices?", "user": {"login": "lucasgcb", "id": 7332704, "node_id": "MDQ6VXNlcjczMzI3MDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/7332704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucasgcb", "html_url": "https://github.com/lucasgcb", "followers_url": "https://api.github.com/users/lucasgcb/followers", "following_url": "https://api.github.com/users/lucasgcb/following{/other_user}", "gists_url": "https://api.github.com/users/lucasgcb/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucasgcb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucasgcb/subscriptions", "organizations_url": "https://api.github.com/users/lucasgcb/orgs", "repos_url": "https://api.github.com/users/lucasgcb/repos", "events_url": "https://api.github.com/users/lucasgcb/events{/privacy}", "received_events_url": "https://api.github.com/users/lucasgcb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-22T22:10:17Z", "updated_at": "2020-07-23T12:39:11Z", "closed_at": "2020-07-23T12:39:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThank you for this library first of all, I've been using PyVisa to command and set a HAMEG HMS-X (Spectrum Analyzer) instrument and it has been working perfectly. Currently I just have a _not critical_ problem that I need help circumventing if possible.\r\n\r\nThe situation is the following: \r\n\r\nI have the instrument connected to my serial interface working fine, and also a microcontroller connected to my serial interface that executes some operations in my measuring environment in parallel. The instrument interfaces with PyVisa and the microcontroller with PySerial currently.\r\n\r\nI've noticed PyVisa actually picks up my Microcontroller as a resource, I can even open it and a hold a session. However, it seems moot as it fails to use `write_raw()` to input my serial commands on it (one of them is `*IDN?`, \"identical\" to the real instrument). It also times out when reading from it. \r\n\r\nThe way I do it currently is: I try opening and querying the resources with PyVisa, then close and open in PySerial the one that times out; this consumes some startup time and looks very hacky.\r\n\r\nHow can I make it so my serial-connected microcontroller can communicate through the PyVisa wrapping, taken it works through PySerial just fine and can be detected by PyVisa? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/473", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/473/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/473/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/473/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/473", "id": 526211805, "node_id": "MDU6SXNzdWU1MjYyMTE4MDU=", "number": 473, "title": "ResourceManager().last_status error", "user": {"login": "whyven", "id": 47462167, "node_id": "MDQ6VXNlcjQ3NDYyMTY3", "avatar_url": "https://avatars0.githubusercontent.com/u/47462167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whyven", "html_url": "https://github.com/whyven", "followers_url": "https://api.github.com/users/whyven/followers", "following_url": "https://api.github.com/users/whyven/following{/other_user}", "gists_url": "https://api.github.com/users/whyven/gists{/gist_id}", "starred_url": "https://api.github.com/users/whyven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whyven/subscriptions", "organizations_url": "https://api.github.com/users/whyven/orgs", "repos_url": "https://api.github.com/users/whyven/repos", "events_url": "https://api.github.com/users/whyven/events{/privacy}", "received_events_url": "https://api.github.com/users/whyven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-20T21:00:16Z", "updated_at": "2019-11-20T21:57:16Z", "closed_at": "2019-11-20T21:43:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello - \r\nI am having trouble resolving an error that occurs when I try to print the `rm.last_status`.  I am trying to implement timeout error handling.  In my code I am using `rm.visalib.last_status` to see if I can catch the timeout error.  However, when a timeout error occurs, it always reports 0.  So, I added some debugging code into my function to print `rm.last_status` as shown below... \r\n```\r\ntry:                \r\n            self.scope.write( 'RUNS' )\r\n            self.scope.query( '*OPC?' )\r\n \r\n# --- Catch Timeout from lack of triggers\r\n except visa.VisaIOError as q:\r\n            msg = 'Trigger failed: '\r\n            msg += str(q)\r\n            self.log.warning(msg)\r\n            # ============================================================ DEBUG\r\n            print( \"VISA Error Recived = {}\".format( q ) )\r\n            print( \"VISA Error in if statement = {}\".format( VISA_TIMEOUT ) )\r\n            print( \"Session handle = {}\".format( self._rm.session ))\r\n            print( \"last status = {}\".format( self._rm.last_status ) )\r\n             # ============================================================  END: DEBUG\r\n            if ( self._rm.visalib.last_status == VISA_TIMEOUT ):\r\n                self.log.warning( 'No trigger present.' )\r\n                self.update_par( self.scopeErr, 'No trigger' )\r\n                self.scope.clear()\r\n                self._send_command( cmd='SYST:ERR:ALL?', query=True )\r\n                self.update_par( self.scopeErr, self._resp )\r\n                return None\r\n            else:\r\n                self._rm.close() \r\n                raise\r\n\r\n```\r\nNow I am getting the following error: \r\n```\r\nError: The session 1010711 does not seem to be valid as it does not have any last status\r\n```\r\nHere is my code for instantiating the ResourceManager in my class.\r\n```\r\nclass rsScopeMan( ampy.ampyClass ):\r\n    \r\n    def __init__( self, full_scope=True, *args, **kwargs ):\r\n        super(rsScopeMan, self).__init__( *args, **kwargs )\r\n        self.full_scope = full_scope\r\n        \r\n    def add_more_parameters( self, full_scope=True ):\r\n        self._rm = visa.ResourceManager()\r\n        self.scope = None\r\n        self._raw_data = None\r\n        self._resp = ''\r\n        self._data_query = False\r\n        # -----\r\n```\r\nHere is my code for connecting to the oscilloscope.\r\n\r\n```\r\ndef connect_to_scope( self, *args, **kwargs  ):\r\n        ''' Description: Configure the connection to the oscilloscope using VISA socket\r\n                         connection. \r\n            \r\n        '''\r\n        try: \r\n            self.scope = self._rm.open_resource( 'TCPIP::'+ self.hostS.value.value +'::SOCKET' )\r\n            self.scope.write_termination = '\\n'\r\n            self.scope.set_visa_attribute( visa.constants.VI_ATTR_TERMCHAR, 10 )\r\n            self.scope.set_visa_attribute( visa.constants.VI_ATTR_TERMCHAR_EN, True)\r\n            self.scope.timeout = 10000\r\n        except Exception as e:\r\n            self.log.error('open: '+str(e))\r\n            self.update_par( self.adoStatus, str(e) )\r\n            self.connOpened = 0\r\n            return 1\r\n        \r\n        self.connOpened = 1\r\n        self.log.info('Opened connection to '+str(self.hostS.value.value))\r\n        self.log.info('Visa resource session: {}'.format( self._rm.session ))\r\n        self.log.info('Visa resources: {}'.format( self._rm.list_resources() ))\r\n        \r\n        return self.initialize_scope()\r\n```\r\nI should also note that `rm.list_resources()` returns an empty dict... I've added query='?*::SOCKET' and still nothing. I know I am doing something wrong, I am just not sure what.  So any help would be greatly appreciated. \r\n\r\nPlease let me know if there is any additional information you need in order to help and thank you in advance.\r\n\r\nHere is the pyvisa-info: \r\n```\r\nMachine Details:\r\n   Platform ID:    Linux-3.10.0-957.10.1.el7.x86_64-x86_64-with-redhat-7.6-Maipo\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /cfs/x/usrLocals/WS/anaconda2/bin/python\r\n   Version:        2.7.15\r\n   Compiler:       GCC 7.3.0\r\n   Bits:           64bit\r\n   Build:          Dec 14 2018 19:04:19 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.10.0\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.10.0 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named serial\r\n      TCPIP INSTR: Available \r\n      USB RAW:\r\n         Please install PyUSB to use this resource type.\r\n         No module named usb\r\n      USB INSTR:\r\n         Please install PyUSB to use this resource type.\r\n         No module named usb\r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named gpib\r\n      TCPIP SOCKET: Available \r\n```  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/472", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/472/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/472/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/472/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/472", "id": 524819752, "node_id": "MDU6SXNzdWU1MjQ4MTk3NTI=", "number": 472, "title": "ModuleNotFoundError", "user": {"login": "thinker5112", "id": 57936299, "node_id": "MDQ6VXNlcjU3OTM2Mjk5", "avatar_url": "https://avatars3.githubusercontent.com/u/57936299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thinker5112", "html_url": "https://github.com/thinker5112", "followers_url": "https://api.github.com/users/thinker5112/followers", "following_url": "https://api.github.com/users/thinker5112/following{/other_user}", "gists_url": "https://api.github.com/users/thinker5112/gists{/gist_id}", "starred_url": "https://api.github.com/users/thinker5112/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thinker5112/subscriptions", "organizations_url": "https://api.github.com/users/thinker5112/orgs", "repos_url": "https://api.github.com/users/thinker5112/repos", "events_url": "https://api.github.com/users/thinker5112/events{/privacy}", "received_events_url": "https://api.github.com/users/thinker5112/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-19T07:12:32Z", "updated_at": "2020-07-23T12:39:59Z", "closed_at": "2020-07-23T12:39:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I have successfully installed the pyvisa, it is showing that ModuleNotFoundError : No module named pyvisa.\r\n![Screenshot (99)](https://user-images.githubusercontent.com/57936299/69124488-06ae9e00-0aca-11ea-9f22-734b86724fc9.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/471", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/471/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/471/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/471", "id": 524590424, "node_id": "MDU6SXNzdWU1MjQ1OTA0MjQ=", "number": 471, "title": "pyvisa memory error", "user": {"login": "saarangp", "id": 16201261, "node_id": "MDQ6VXNlcjE2MjAxMjYx", "avatar_url": "https://avatars3.githubusercontent.com/u/16201261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saarangp", "html_url": "https://github.com/saarangp", "followers_url": "https://api.github.com/users/saarangp/followers", "following_url": "https://api.github.com/users/saarangp/following{/other_user}", "gists_url": "https://api.github.com/users/saarangp/gists{/gist_id}", "starred_url": "https://api.github.com/users/saarangp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saarangp/subscriptions", "organizations_url": "https://api.github.com/users/saarangp/orgs", "repos_url": "https://api.github.com/users/saarangp/repos", "events_url": "https://api.github.com/users/saarangp/events{/privacy}", "received_events_url": "https://api.github.com/users/saarangp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-18T20:04:43Z", "updated_at": "2020-07-23T12:40:21Z", "closed_at": "2020-07-23T12:40:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting this error when I pull data from my scope, the data acquisition is occurring several times per hour and is crashing after 2 days. \r\n\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.5/threading.py\", line 914, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python3.5/threading.py\", line 862, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"agingScript_v3.py\", line 84, in acquire_data\r\n    value = float(dmm.query('READ?')) #pull measurement and convert to float\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa/resources/messagebased.py\", line 613, in query\r\n    return self.read()\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa/resources/messagebased.py\", line 427, in read\r\n    message = self._read_raw().decode(enco)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa/resources/messagebased.py\", line 400, in _read_raw\r\n    chunk, status = self.visalib.read(self.session, size)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa-py/highlevel.py\", line 345, in read\r\n    ret = self.sessions[session].read(count)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa-py/usb.py\", line 111, in read\r\n    usb.USBError)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa-py/sessions.py\", line 477, in _read\r\n    current = reader()\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa-py/usb.py\", line 105, in <lambda>\r\n    return self._read(lambda: self.interface.read(count),\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa-py/protocols/usbtmc.py\", line 336, in read\r\n    resp = raw_read(recv_chunk)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/pyvisa-py/protocols/usbtmc.py\", line 240, in read\r\n    data = array_to_bytes(self.usb_recv_ep.read(size, self.timeout))\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/usb/core.py\", line 402, in read\r\n    return self.device.read(self, size_or_buffer, timeout)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/usb/core.py\", line 981, in read\r\n    buff = util.create_buffer(size_or_buffer)\r\n  File \"/home/pi/.local/lib/python3.5/site-packages/usb/util.py\", line 162, in create_buffer\r\n    return array.array('B', _dummy_s * length)\r\nMemoryError\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/470", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/470/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/470/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/470", "id": 520164549, "node_id": "MDU6SXNzdWU1MjAxNjQ1NDk=", "number": 470, "title": "open_resource doesn't open or timeout, hangs indefinitely", "user": {"login": "Grant-Giesbrecht", "id": 19941421, "node_id": "MDQ6VXNlcjE5OTQxNDIx", "avatar_url": "https://avatars2.githubusercontent.com/u/19941421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Grant-Giesbrecht", "html_url": "https://github.com/Grant-Giesbrecht", "followers_url": "https://api.github.com/users/Grant-Giesbrecht/followers", "following_url": "https://api.github.com/users/Grant-Giesbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/Grant-Giesbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/Grant-Giesbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Grant-Giesbrecht/subscriptions", "organizations_url": "https://api.github.com/users/Grant-Giesbrecht/orgs", "repos_url": "https://api.github.com/users/Grant-Giesbrecht/repos", "events_url": "https://api.github.com/users/Grant-Giesbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/Grant-Giesbrecht/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-11-08T18:23:07Z", "updated_at": "2020-01-19T05:06:53Z", "closed_at": "2019-11-20T00:18:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm writing a pyvisa app which controls lab instruments connected to my Mac via ethernet. Strangely, I'll run the program a few times and everything works great, then, seemingly randomly, it will fail to connect to the instruments. Even trying to open an instrument with pyvisa in a python shell won't work. The only way to get pyvisa to connect again is to restart the computer. The way it fails is I'll call open_resource, but the function never returns and never times out.\r\n\r\nDoes anyone know what could make open_resource() hang indefinitely? I thought it had a timeout built in? Do you have any thoughts on how a program could seemingly \"break\" pyvisa even after closing, as mine seems to do?\r\n\r\nHere's what I get when I try to connect to the instrument while the problem is present:\r\n```\r\n>>> import pyvisa as pv\r\n>>> pv.log_to_screen()\r\n>>> rm = pv.ResourceManager()\r\n2019-11-08 10:21:09,016 - pyvisa - DEBUG - No visa library specified, trying to find alternatives.\r\n2019-11-08 10:21:09,017 - pyvisa - DEBUG - Environment variable PYVISA_LIBRARY is unset.\r\n2019-11-08 10:21:09,019 - pyvisa - DEBUG - Automatically found library files: ['/Library/Frameworks/visa.framework/visa', None, None, None, None]\r\n2019-11-08 10:21:09,026 - pyvisa - DEBUG - No user defined library files\r\n2019-11-08 10:21:09,026 - pyvisa - DEBUG - The NI implementation available\r\n2019-11-08 10:21:09,028 - pyvisa - DEBUG - Automatically found library files: ['/Library/Frameworks/visa.framework/visa', None, None, None, None]\r\n2019-11-08 10:21:09,029 - pyvisa - DEBUG - No user defined library files\r\n2019-11-08 10:21:09,045 - pyvisa - DEBUG - Library signatures: 90 ok, 0 failed\r\n2019-11-08 10:21:09,045 - pyvisa - DEBUG - Created library wrapper for /Library/Frameworks/visa.framework/visa\r\n2019-11-08 10:21:10,124 - pyvisa - DEBUG - viOpenDefaultRM('<ViObject object at 0x10f0eb8c0>',) -> 0\r\n2019-11-08 10:21:10,124 - pyvisa - DEBUG - Created ResourceManager with session 4097\r\n>>> rm.open_resource(\"TCPIP0::192.168.1.19::INSTR\")\r\n2019-11-08 10:21:20,193 - pyvisa - DEBUG - viParseRsrcEx(4097, 'TCPIP0::192.168.1.19::INSTR', 'c_ushort(6)', 'c_ushort(0)', <ctypes.c_char_Array_256 object at 0x10f15c710>, <ctypes.c_char_Array_256 object at 0x10f15c830>, <ctypes.c_char_Array_256 object at 0x10f15c5f0>) -> 0\r\n2019-11-08 10:21:20,193 - pyvisa - DEBUG - TCPIP0::192.168.1.19::INSTR - opening ...\r\n```\r\nIt gets stuck here indefinitely.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/469", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/469/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/469/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/469", "id": 512147554, "node_id": "MDU6SXNzdWU1MTIxNDc1NTQ=", "number": 469, "title": "How does pyvisa find GPIB devices?", "user": {"login": "j-gooding", "id": 51061402, "node_id": "MDQ6VXNlcjUxMDYxNDAy", "avatar_url": "https://avatars3.githubusercontent.com/u/51061402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j-gooding", "html_url": "https://github.com/j-gooding", "followers_url": "https://api.github.com/users/j-gooding/followers", "following_url": "https://api.github.com/users/j-gooding/following{/other_user}", "gists_url": "https://api.github.com/users/j-gooding/gists{/gist_id}", "starred_url": "https://api.github.com/users/j-gooding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j-gooding/subscriptions", "organizations_url": "https://api.github.com/users/j-gooding/orgs", "repos_url": "https://api.github.com/users/j-gooding/repos", "events_url": "https://api.github.com/users/j-gooding/events{/privacy}", "received_events_url": "https://api.github.com/users/j-gooding/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-24T19:52:10Z", "updated_at": "2019-11-20T00:20:20Z", "closed_at": "2019-11-20T00:20:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using an NI GPIB ENET/1000 device with the linux 488.2 driver software. Pyvisa is able to see the GPIB0::1::INSTR device and communicate with it. Everything works great. \r\n\r\nI would like to dockerize the python code, which leads me to my question, how does pyvisa discover the GPIB0::1::INSTR device? What /dev/* files, etc. do I need to mirror to the docker instance in order for pyvisa to find it inside the docker instance? Thank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/467", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/467/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/467/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/467", "id": 511339852, "node_id": "MDU6SXNzdWU1MTEzMzk4NTI=", "number": 467, "title": "Using set_visa_attribute", "user": {"login": "Chilldose", "id": 41591574, "node_id": "MDQ6VXNlcjQxNTkxNTc0", "avatar_url": "https://avatars1.githubusercontent.com/u/41591574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chilldose", "html_url": "https://github.com/Chilldose", "followers_url": "https://api.github.com/users/Chilldose/followers", "following_url": "https://api.github.com/users/Chilldose/following{/other_user}", "gists_url": "https://api.github.com/users/Chilldose/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chilldose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chilldose/subscriptions", "organizations_url": "https://api.github.com/users/Chilldose/orgs", "repos_url": "https://api.github.com/users/Chilldose/repos", "events_url": "https://api.github.com/users/Chilldose/events{/privacy}", "received_events_url": "https://api.github.com/users/Chilldose/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-23T13:53:39Z", "updated_at": "2019-10-24T07:16:21Z", "closed_at": "2019-10-24T07:16:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI may have a bit of a problem/misunderstanding on how to use the set_visa_attribute method.\r\nAs far as I have understood the syntax to set a VISA attribute via pyvisa is:\r\n\r\nimport pyvisa\r\nrm = pyvisa.ResourceManager()\r\ninstr = rm.open_resource('TCPIP0::1.2.3.4::56789::SOCKET')\r\ninstr.set_visa_attribute(pyvisa.attributes.AttrVI_ATTR_SUPPRESS_END_EN, pyvisa.constants.VI_TRUE)\r\n\r\nSo in words: **instr** is a TCP/IP Socket connection and I want the \"VI_ATTR_SUPPRESS_END_EN\" VISA attribute set to True via \"pyvisa.constants.VI_TRUE\".\r\n\r\nThe problem now is that I get a ctypes.ArgumentError when I do so. :\r\n     Traceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\*****\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line 282, in set_visa_attribute\r\n    return self.visalib.set_attribute(self.session, name, state)\r\n  File \"C:\\*****\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1649, in set_attribute\r\n    return library.viSetAttribute(session, attribute, attribute_state)\r\nctypes.ArgumentError: argument 2: <class 'TypeError'>: wrong type\r\n\r\nWhat am I doing wrong here?\r\n\r\nThanks in advance!\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/464", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/464/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/464/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/464/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/464", "id": 506104048, "node_id": "MDU6SXNzdWU1MDYxMDQwNDg=", "number": 464, "title": "Unexpected Timeout using \"query_binary_values\"", "user": {"login": "sclel016", "id": 11709587, "node_id": "MDQ6VXNlcjExNzA5NTg3", "avatar_url": "https://avatars3.githubusercontent.com/u/11709587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sclel016", "html_url": "https://github.com/sclel016", "followers_url": "https://api.github.com/users/sclel016/followers", "following_url": "https://api.github.com/users/sclel016/following{/other_user}", "gists_url": "https://api.github.com/users/sclel016/gists{/gist_id}", "starred_url": "https://api.github.com/users/sclel016/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sclel016/subscriptions", "organizations_url": "https://api.github.com/users/sclel016/orgs", "repos_url": "https://api.github.com/users/sclel016/repos", "events_url": "https://api.github.com/users/sclel016/events{/privacy}", "received_events_url": "https://api.github.com/users/sclel016/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-12T00:18:35Z", "updated_at": "2019-10-15T15:28:59Z", "closed_at": "2019-10-14T20:09:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm seeing some unexpected behavior while reading a scope waveform using pyvisa over tcpip. When I increase my the memory depth of my capture beyond ~14000 bytes of data I get\r\n`pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.`\r\n\r\nTo troubleshoot I've been sniffing the LAN with wireshark. With a 14KB waveform, the trace has finished transmission after ~40ms. The transmission occurs in approximately the same amount of time for much larger waveforms.\r\n\r\nSo far I've tried increasing the chunk_size and timeout to no avail. Hope someone can give me a hand with this, I really like the framework!\r\n\r\nStew", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/459", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/459/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/459/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/459", "id": 497585017, "node_id": "MDU6SXNzdWU0OTc1ODUwMTc=", "number": 459, "title": " :MMEMory:STORe:TRACe command doesn't work with Pyvisa", "user": {"login": "pawelzett", "id": 46492125, "node_id": "MDQ6VXNlcjQ2NDkyMTI1", "avatar_url": "https://avatars3.githubusercontent.com/u/46492125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pawelzett", "html_url": "https://github.com/pawelzett", "followers_url": "https://api.github.com/users/pawelzett/followers", "following_url": "https://api.github.com/users/pawelzett/following{/other_user}", "gists_url": "https://api.github.com/users/pawelzett/gists{/gist_id}", "starred_url": "https://api.github.com/users/pawelzett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pawelzett/subscriptions", "organizations_url": "https://api.github.com/users/pawelzett/orgs", "repos_url": "https://api.github.com/users/pawelzett/repos", "events_url": "https://api.github.com/users/pawelzett/events{/privacy}", "received_events_url": "https://api.github.com/users/pawelzett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-09-24T09:58:52Z", "updated_at": "2019-09-27T07:02:56Z", "closed_at": "2019-09-26T18:07:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear all,\r\n\r\nI've got a problem with terminating one command. I'd like to save measurment on Antritsu spectrum analyzer with command `:MMEMory:STORe:TRACe\\s0,\\s\"new\"`. This one works when I'm sending it thorugh VISA interactive tool. Now I need to send it via pyvisa. Below you can find my code:\r\n\r\n```\r\nimport pyvisa\r\nimport numpy as np\r\n\r\nrm = pyvisa.ResourceManager()\r\nrm.list_resources()\r\ninst = rm.open_resource('TCPIP0::10.44.128.110::inst0::INSTR')\r\nprint(inst.query(\"*IDN?\"))\r\n\"Anritsu,MS2721B/9/44/35/65,943063,1.51\"\r\n\r\nprint(inst.write(\":MMEMory:STORe:TRACe\\s0,\\s\"new\")\") \r\nSyntaxError: invalid syntax\r\n\r\n```\r\nI'm sending :MMEMory:STORe:TRACe\\s0,\\s\"new\" via Visa interactive tool and it works. Can you help me with this problem? Thank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/458", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/458/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/458/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/458", "id": 488905897, "node_id": "MDU6SXNzdWU0ODg5MDU4OTc=", "number": 458, "title": "Raspberry Pi 4 VL805 bulk transfer problem", "user": {"login": "charkster", "id": 31560568, "node_id": "MDQ6VXNlcjMxNTYwNTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/31560568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charkster", "html_url": "https://github.com/charkster", "followers_url": "https://api.github.com/users/charkster/followers", "following_url": "https://api.github.com/users/charkster/following{/other_user}", "gists_url": "https://api.github.com/users/charkster/gists{/gist_id}", "starred_url": "https://api.github.com/users/charkster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charkster/subscriptions", "organizations_url": "https://api.github.com/users/charkster/orgs", "repos_url": "https://api.github.com/users/charkster/repos", "events_url": "https://api.github.com/users/charkster/events{/privacy}", "received_events_url": "https://api.github.com/users/charkster/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2019-09-04T02:24:35Z", "updated_at": "2019-10-03T06:21:51Z", "closed_at": "2019-10-03T06:21:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having a problem with query_binary_values() and read_raw() when downloading waveform or csv data from my Rigol DS1054Z. These commands run just fine on my RPi3, RPi2 and PC, but with the latest RPi4 (and the VL805) I am seeing errors.\r\n\r\nHere is what I see from query_binary_values():\r\n\r\n```\r\n  File \"test_print_screen.py\", line 6, in <module>\r\n    scope.write_screen_capture()\r\n  File \"/home/pi/python_code/rigol/rigol_ds1054z.py\", line 120, in write_screen_capture\r\n    raw_data_list = self.oscilloscope.query_binary_values(':DISP:DATA? ON,OFF,PNG')\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa/resources/messagebased.py\", line 703, in query_binary_values\r\n    data_points, chunk_size)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa/resources/messagebased.py\", line 481, in read_binary_values\r\n    block = self._read_raw(chunk_size)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa/resources/messagebased.py\", line 387, in _read_raw\r\n    chunk, status = self.visalib.read(self.session, size)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/highlevel.py\", line 345, in read\r\n    ret = self.sessions[session].read(count)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/usb.py\", line 111, in read\r\n    usb.USBError)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/sessions.py\", line 477, in _read\r\n    current = reader()\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/usb.py\", line 105, in <lambda>\r\n    return self._read(lambda: self.interface.read(count),\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/protocols/usbtmc.py\", line 338, in read\r\n    response = BulkInMessage.from_bytes(resp)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/protocols/usbtmc.py\", line 108, in from_bytes\r\n    assert msgid == MsgID.dev_dep_msg_in\r\nAssertionError\r\n```\r\n\r\nHere is what I see from read_raw():\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test_print_screen.py\", line 6, in <module>\r\n    scope.write_screen_capture()\r\n  File \"/home/pi/python_code/rigol/rigol_ds1054z.py\", line 124, in write_screen_capture\r\n    raw_data = self.oscilloscope.read_raw()[11:] # strip off first 11 bytes\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa/resources/messagebased.py\", line 364, in read_raw\r\n    return bytes(self._read_raw(size))\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa/resources/messagebased.py\", line 387, in _read_raw\r\n    chunk, status = self.visalib.read(self.session, size)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/highlevel.py\", line 345, in read\r\n    ret = self.sessions[session].read(count)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/usb.py\", line 111, in read\r\n    usb.USBError)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/sessions.py\", line 477, in _read\r\n    current = reader()\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/usb.py\", line 105, in <lambda>\r\n    return self._read(lambda: self.interface.read(count),\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/protocols/usbtmc.py\", line 338, in read\r\n    response = BulkInMessage.from_bytes(resp)\r\n  File \"/home/pi/.local/lib/python2.7/site-packages/pyvisa-py/protocols/usbtmc.py\", line 108, in from_bytes\r\n    assert msgid == MsgID.dev_dep_msg_in\r\nAssertionError\r\n```\r\n\r\nIf I wait one second after sending my write(':DISP:DATA? ON,OFF,PNG') command, I don't get any errors, but I only download 41bytes of data (when expecting 30KB).\r\n\r\nIs this an issue with the VL805?\r\nI suspect this is not a pyvisa issue, but a problem with bulk transfers with the VL805.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/457", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/457/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/457/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/457/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/457", "id": 486217547, "node_id": "MDU6SXNzdWU0ODYyMTc1NDc=", "number": 457, "title": "python crash due to ibutil.c: conf_lock_board ", "user": {"login": "bserra", "id": 42937247, "node_id": "MDQ6VXNlcjQyOTM3MjQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/42937247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bserra", "html_url": "https://github.com/bserra", "followers_url": "https://api.github.com/users/bserra/followers", "following_url": "https://api.github.com/users/bserra/following{/other_user}", "gists_url": "https://api.github.com/users/bserra/gists{/gist_id}", "starred_url": "https://api.github.com/users/bserra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bserra/subscriptions", "organizations_url": "https://api.github.com/users/bserra/orgs", "repos_url": "https://api.github.com/users/bserra/repos", "events_url": "https://api.github.com/users/bserra/events{/privacy}", "received_events_url": "https://api.github.com/users/bserra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-28T07:56:24Z", "updated_at": "2019-09-25T01:04:17Z", "closed_at": "2019-09-25T01:04:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been using pyvisa to communicate with GPIB instruments with the help of a raspberry.\r\nRecently I configured another raspberry to control one single instrument through GPIB using the NI GPIB to usb adapter. \r\nI changed the gpib.conf file and communication seems to be working at first.\r\nThen, randomly, I get the following error message:\r\n\r\n```\r\npython: ibutil.c:382: conf_python: ibutil.c:382: conf_lock_board: Assertion `conf->has_lock == 0' failed. \r\nAborted       \r\n```                                                                                      \r\nAnd the program crash. When I try to reconnect everything is working until I stumble into this error again.\r\nI have no idea what causes it and what I could do to at least catch it with a try... except.\r\n\r\nAny idea of what I could do to handle this?                                                  \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/455", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/455/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/455/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/455", "id": 483646718, "node_id": "MDU6SXNzdWU0ODM2NDY3MTg=", "number": 455, "title": "Reduce bias towards National Instruments", "user": {"login": "MatthieuDartiailh", "id": 4481740, "node_id": "MDQ6VXNlcjQ0ODE3NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4481740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthieuDartiailh", "html_url": "https://github.com/MatthieuDartiailh", "followers_url": "https://api.github.com/users/MatthieuDartiailh/followers", "following_url": "https://api.github.com/users/MatthieuDartiailh/following{/other_user}", "gists_url": "https://api.github.com/users/MatthieuDartiailh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthieuDartiailh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthieuDartiailh/subscriptions", "organizations_url": "https://api.github.com/users/MatthieuDartiailh/orgs", "repos_url": "https://api.github.com/users/MatthieuDartiailh/repos", "events_url": "https://api.github.com/users/MatthieuDartiailh/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthieuDartiailh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-21T20:53:16Z", "updated_at": "2019-09-25T01:07:22Z", "closed_at": "2019-09-18T23:40:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently PyVISA suggests heavily that it works only with National Instruments implementation of VISA. This is not the case (PyVISA is known to work with NI, Keysight, Tek, R&S ?) and is regularly tested (by me at least) with NI and Keysight.\r\n\r\nAs a consequence it would be desirable to make PyVISA code and documentation less biased towards NI and more balanced. This was already suggested in #211 and it makes more and more sense.\r\n\r\nIdeally the `ni` backend would be replaced with an `ivi` backend (`ni` would be available for backward compatibility). Any volunteer to work on that would be welcome.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/453", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/453/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/453/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/453", "id": 483049774, "node_id": "MDU6SXNzdWU0ODMwNDk3NzQ=", "number": 453, "title": "Unable to establish connection with Old USB Oscilloscope DS1M12 (Meilhaus Electronic)", "user": {"login": "attel-malagate", "id": 50057436, "node_id": "MDQ6VXNlcjUwMDU3NDM2", "avatar_url": "https://avatars3.githubusercontent.com/u/50057436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/attel-malagate", "html_url": "https://github.com/attel-malagate", "followers_url": "https://api.github.com/users/attel-malagate/followers", "following_url": "https://api.github.com/users/attel-malagate/following{/other_user}", "gists_url": "https://api.github.com/users/attel-malagate/gists{/gist_id}", "starred_url": "https://api.github.com/users/attel-malagate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/attel-malagate/subscriptions", "organizations_url": "https://api.github.com/users/attel-malagate/orgs", "repos_url": "https://api.github.com/users/attel-malagate/repos", "events_url": "https://api.github.com/users/attel-malagate/events{/privacy}", "received_events_url": "https://api.github.com/users/attel-malagate/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-08-20T19:50:45Z", "updated_at": "2019-08-31T19:44:07Z", "closed_at": "2019-08-31T19:44:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been working with several instruments using NI and R&S VISA implementations via the pyvisa module. So far all of them respond to the easy and standard code to connect via USB and i can control them with the usual SCPI commands:\r\n```\r\nRM = visa.ResourceManager('@py')\r\nResources= RM.list_resources()\r\nResourcesList= RM.list_resources_info()\r\n```\r\nHowever, this old pocket oscilloscope DS1M12 does not show up, i just get an empty tuple () and an empty list [] when doing:\r\n`print(RM.list_resources())`\r\n`print(RM.list_resources_info())`\r\nrespectively.\r\nNevertheless, the drivers for the device work correctly as i can run without any problem the provided datalogger and other software from the manufacturer. It read data as intended, however it is not detected using pyvisa.\r\n\r\nCould anyone please provide some guidance on how to approach the connection with this device still using pyvisa?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/452", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/452/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/452/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/452", "id": 482733841, "node_id": "MDU6SXNzdWU0ODI3MzM4NDE=", "number": 452, "title": "Typo in pyvisa/resources/messagebased.py", "user": {"login": "torquil", "id": 2863036, "node_id": "MDQ6VXNlcjI4NjMwMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2863036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/torquil", "html_url": "https://github.com/torquil", "followers_url": "https://api.github.com/users/torquil/followers", "following_url": "https://api.github.com/users/torquil/following{/other_user}", "gists_url": "https://api.github.com/users/torquil/gists{/gist_id}", "starred_url": "https://api.github.com/users/torquil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/torquil/subscriptions", "organizations_url": "https://api.github.com/users/torquil/orgs", "repos_url": "https://api.github.com/users/torquil/repos", "events_url": "https://api.github.com/users/torquil/events{/privacy}", "received_events_url": "https://api.github.com/users/torquil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-20T09:00:36Z", "updated_at": "2019-08-28T22:55:01Z", "closed_at": "2019-08-28T22:55:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think I found a bug in the current version of pyvisa/resources/messagebased.py:\r\n\r\nOn line 493, in read_binary_values(), it should say \"header_fmt\", not \"header\". Otherwise pyvisa crashes when passing header_fmt='empty' to read_binary_values().\r\n\r\nBest regards,\r\nTorquil S\u00f8rensen", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/449", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/449/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/449/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/449/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/449", "id": 482002908, "node_id": "MDU6SXNzdWU0ODIwMDI5MDg=", "number": 449, "title": "device.read() gives msgid assert error", "user": {"login": "torquil", "id": 2863036, "node_id": "MDQ6VXNlcjI4NjMwMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2863036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/torquil", "html_url": "https://github.com/torquil", "followers_url": "https://api.github.com/users/torquil/followers", "following_url": "https://api.github.com/users/torquil/following{/other_user}", "gists_url": "https://api.github.com/users/torquil/gists{/gist_id}", "starred_url": "https://api.github.com/users/torquil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/torquil/subscriptions", "organizations_url": "https://api.github.com/users/torquil/orgs", "repos_url": "https://api.github.com/users/torquil/repos", "events_url": "https://api.github.com/users/torquil/events{/privacy}", "received_events_url": "https://api.github.com/users/torquil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-18T14:52:57Z", "updated_at": "2019-08-19T17:03:05Z", "closed_at": "2019-08-19T08:29:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nI'm trying to read a response from a Siglent SDS1104X-E oscilloscope using python-visa on Debian Linux Unstable. I'm getting the following error when running the following python lines\r\n\r\noscilloscope.write('*IDN?')\r\nresponse = oscilloscope.read()\r\n\r\nTraceback (most recent call last):\r\n  File \"./get_trace_usb.py\", line 28, in <module>\r\n    response = oscilloscope.read()\r\n  File \"/usr/lib/python3/dist-packages/pyvisa/resources/messagebased.py\", line 413, in read\r\n    message = self._read_raw().decode(enco)\r\n  File \"/usr/lib/python3/dist-packages/pyvisa/resources/messagebased.py\", line 386, in _read_raw\r\n    chunk, status = self.visalib.read(self.session, size)\r\n  File \"/usr/lib/python3/dist-packages/pyvisa-py/highlevel.py\", line 345, in read\r\n    ret = self.sessions[session].read(count)\r\n  File \"/usr/lib/python3/dist-packages/pyvisa-py/usb.py\", line 111, in read\r\n    usb.USBError)\r\n  File \"/usr/lib/python3/dist-packages/pyvisa-py/sessions.py\", line 477, in _read\r\n    current = reader()\r\n  File \"/usr/lib/python3/dist-packages/pyvisa-py/usb.py\", line 105, in <lambda>\r\n    return self._read(lambda: self.interface.read(count),\r\n  File \"/usr/lib/python3/dist-packages/pyvisa-py/protocols/usbtmc.py\", line 340, in read\r\n    response = BulkInMessage.from_bytes(resp)\r\n  File \"/usr/lib/python3/dist-packages/pyvisa-py/protocols/usbtmc.py\", line 110, in from_bytes\r\n    assert msgid == MsgID.dev_dep_msg_in\r\nAssertionError\r\n\r\nInserting print()-functions in the from_bytes() function to check the two variables that are compared by the assert():\r\n\r\nprint('msgid:', msgid)\r\nprint('MsgID.dev_dep_msg_in:', MsgID.dev_dep_msg_in)\r\n\r\ngives the following output before the error message is printed:\r\n\r\nmsgid: 46\r\nMsgID.dev_dep_msg_in: MsgID.request_dev_dep_msg_in\r\n\r\nso the MsgID.dev_dep_msg_in is not even a number.\r\n\r\nAn ordinary oscilloscope.query('*IDN?') command works fine.\r\n\r\nI'm using python-visa 1.9.1-1 togetyer with python 3.7.3-1.\r\n\r\nBest regards,\r\nTorquil S\u00f8rensen", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/447", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/447/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/447/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/447", "id": 481916411, "node_id": "MDU6SXNzdWU0ODE5MTY0MTE=", "number": 447, "title": "Conflict name with visa-python", "user": {"login": "MatthieuDartiailh", "id": 4481740, "node_id": "MDQ6VXNlcjQ0ODE3NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4481740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthieuDartiailh", "html_url": "https://github.com/MatthieuDartiailh", "followers_url": "https://api.github.com/users/MatthieuDartiailh/followers", "following_url": "https://api.github.com/users/MatthieuDartiailh/following{/other_user}", "gists_url": "https://api.github.com/users/MatthieuDartiailh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthieuDartiailh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthieuDartiailh/subscriptions", "organizations_url": "https://api.github.com/users/MatthieuDartiailh/orgs", "repos_url": "https://api.github.com/users/MatthieuDartiailh/repos", "events_url": "https://api.github.com/users/MatthieuDartiailh/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthieuDartiailh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-17T19:00:45Z", "updated_at": "2019-09-18T23:41:25Z", "closed_at": "2019-09-18T23:41:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The visa-python project (https://github.com/visa-sdk/visa-python) which gives access to the visa payment processing API defines in a very natural a visa package.\r\n\r\nThis can cause issues such as https://github.com/pyvisa/pyvisa/issues/392. I managed to find the root cause simply because I saw the issue happening on a coworker system.\r\n\r\nAs a consequence I believe we should deprecate the use of the visa module and migrate the command line tools to a different module (since we nowadays provide entry points to access those we can easily move them around).\r\n\r\n@hgrecco @tivek @thliebig Do you have an opinion on this matter ?\r\n\r\nIn the meantime I will prepare a PR implementing the above changes and adding an entry to the FAQ about this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/446", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/446/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/446/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/446/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/446", "id": 481580453, "node_id": "MDU6SXNzdWU0ODE1ODA0NTM=", "number": 446, "title": "ResourceManager.open_resource() does not time out when trying to connect to TCP resource", "user": {"login": "canol", "id": 60890, "node_id": "MDQ6VXNlcjYwODkw", "avatar_url": "https://avatars3.githubusercontent.com/u/60890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/canol", "html_url": "https://github.com/canol", "followers_url": "https://api.github.com/users/canol/followers", "following_url": "https://api.github.com/users/canol/following{/other_user}", "gists_url": "https://api.github.com/users/canol/gists{/gist_id}", "starred_url": "https://api.github.com/users/canol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/canol/subscriptions", "organizations_url": "https://api.github.com/users/canol/orgs", "repos_url": "https://api.github.com/users/canol/repos", "events_url": "https://api.github.com/users/canol/events{/privacy}", "received_events_url": "https://api.github.com/users/canol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-08-16T12:09:35Z", "updated_at": "2019-09-25T01:08:24Z", "closed_at": "2019-09-18T23:41:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello, I am passing `open_timeout` parameter when connecting to a non-connected device's resource name like this:\r\n\r\n`resource_manager.open_resource(\"TCPIP0::10.0.20.20::inst0::INSTR\", open_timeout=100)`\r\n\r\nso I expect it to throw timeout error after just 100 milliseconds but it waits for about 5 seconds until a VisaIOError is thrown.\r\n\r\nPyVisa version: 1.9.1\r\nVisa backend: NI\r\nPython version: 3.6 64-bit\r\n\r\nWhat might be the problem?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/445", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/445/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/445/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/445", "id": 472865874, "node_id": "MDU6SXNzdWU0NzI4NjU4NzQ=", "number": 445, "title": "Mark and Space ", "user": {"login": "cah-sachin", "id": 4475487, "node_id": "MDQ6VXNlcjQ0NzU0ODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4475487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cah-sachin", "html_url": "https://github.com/cah-sachin", "followers_url": "https://api.github.com/users/cah-sachin/followers", "following_url": "https://api.github.com/users/cah-sachin/following{/other_user}", "gists_url": "https://api.github.com/users/cah-sachin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cah-sachin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cah-sachin/subscriptions", "organizations_url": "https://api.github.com/users/cah-sachin/orgs", "repos_url": "https://api.github.com/users/cah-sachin/repos", "events_url": "https://api.github.com/users/cah-sachin/events{/privacy}", "received_events_url": "https://api.github.com/users/cah-sachin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-25T13:27:44Z", "updated_at": "2019-08-18T18:45:58Z", "closed_at": "2019-08-18T18:45:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWe have legacy device which uses Mark and Space strategy to read the data from port. Here is a small snippet of code.\r\n\r\n\r\n\r\n\r\n\r\n    def Write(self, raw_data):\r\n        self.msg_data = raw_data\r\n        self.msg_read_cntr = 0\r\n        self.msg_delay_time = time.time()\r\n        delay = raw_data[\"delay_in_sec\"]\r\n        poll_data = raw_data[\"data\"]\r\n        if raw_data[\"type\"] == \"BROADCAST\":\r\n            logger.critical(\"raw data type BROADCAST\")\r\n            logger.critical(raw_data)\r\n            self.serial_port.parity=serial.PARITY_MARK\r\n            self.serial_port.rtscts=0\r\n            logger.critical(delay)\r\n            sleep(delay)\r\n            logger.critical(\"Writing into port\")\r\n            logger.critical(poll_data)\r\n            logger.critical(poll_data.decode('hex'))\r\n            logger.critical(bytearray(poll_data.decode('hex')))\r\n            self.serial_port.write(bytearray(poll_data.decode('hex')))\r\n            sleep(delay)\r\n            self.serial_port.parity=serial.PARITY_SPACE\r\n            self.serial_port.rtscts=1\r\n            sleep(delay)\r\n        else:\r\n            logger.critical(raw_data)\r\n            header=bytearray(b'\\x04')\r\n            self.serial_port.parity=serial.PARITY_MARK\r\n            self.serial_port.rtscts=0\r\n            sleep(delay)\r\n            self.serial_port.write(header)\r\n            sleep(delay)\r\n            logger.critical(\"header\")\r\n            logger.critical(header)\r\n            self.serial_port.write(header)\r\n            sleep(delay)\r\n            self.serial_port.parity=serial.PARITY_SPACE\r\n            sleep(delay)\r\n            logger.critical(poll_data)\r\n            logger.critical(poll_data.decode('hex'))\r\n            logger.critical(bytearray(poll_data.decode('hex')))\r\n            self.serial_port.write(bytearray(poll_data.decode('hex')))\r\n            sleep(delay)\r\n            self.serial_port.rtscts=1\r\n            sleep(delay)\r\n\r\n        def Read(self):\r\n        ret = \"\"\r\n        if not self.serial_port or not self.serial_port.isOpen():\r\n            return None\r\n        if (self.serial_port.inWaiting() == 0):\r\n            if (time.time() >= (self.msg_delay_time + 10)) and (self.msg_read_cntr == 0):\r\n                logger.critical(\"============MSG DATA==============\")\r\n                logger.critical(self.msg_data)\r\n                logger.critical(\"============MSG DATA==============\")\r\n                self.Write(self.msg_data)\r\n            return None\r\n        else:\r\n            self.msg_read_cntr += self.serial_port.inWaiting()\r\n        while self.serial_port.inWaiting() > 0:\r\n            ret += self.serial_port.read(1)\r\n        sleep(0.1)\r\n        return ret\r\n\r\nHow we can achieve above using visa library ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/444", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/444/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/444/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/444", "id": 471691094, "node_id": "MDU6SXNzdWU0NzE2OTEwOTQ=", "number": 444, "title": "PyVISA 1.10.0 release candidate", "user": {"login": "MatthieuDartiailh", "id": 4481740, "node_id": "MDQ6VXNlcjQ0ODE3NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4481740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthieuDartiailh", "html_url": "https://github.com/MatthieuDartiailh", "followers_url": "https://api.github.com/users/MatthieuDartiailh/followers", "following_url": "https://api.github.com/users/MatthieuDartiailh/following{/other_user}", "gists_url": "https://api.github.com/users/MatthieuDartiailh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthieuDartiailh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthieuDartiailh/subscriptions", "organizations_url": "https://api.github.com/users/MatthieuDartiailh/orgs", "repos_url": "https://api.github.com/users/MatthieuDartiailh/repos", "events_url": "https://api.github.com/users/MatthieuDartiailh/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthieuDartiailh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-23T13:16:07Z", "updated_at": "2019-08-09T12:43:03Z", "closed_at": "2019-08-09T12:43:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The PyVISA 1.10.0 release candidate has been tagged on github. 1.10 is the last planned release that will support Python 2. The definitive release should occur on August 9th. For convenience the changelog is reproduced on the Github release page: https://github.com/pyvisa/pyvisa/releases\r\n\r\nTo install it, use pip:\r\n```\r\npip install https://github.com/pyvisa/pyvisa/archive/1.10.0.rc.zip\r\n``` \r\n\r\nPlease test and report any issue you encounter.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/443", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/443/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/443/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/443", "id": 468835921, "node_id": "MDU6SXNzdWU0Njg4MzU5MjE=", "number": 443, "title": "PyVisa no module named \"GPIB\" found", "user": {"login": "killertoilet", "id": 52977486, "node_id": "MDQ6VXNlcjUyOTc3NDg2", "avatar_url": "https://avatars1.githubusercontent.com/u/52977486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killertoilet", "html_url": "https://github.com/killertoilet", "followers_url": "https://api.github.com/users/killertoilet/followers", "following_url": "https://api.github.com/users/killertoilet/following{/other_user}", "gists_url": "https://api.github.com/users/killertoilet/gists{/gist_id}", "starred_url": "https://api.github.com/users/killertoilet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killertoilet/subscriptions", "organizations_url": "https://api.github.com/users/killertoilet/orgs", "repos_url": "https://api.github.com/users/killertoilet/repos", "events_url": "https://api.github.com/users/killertoilet/events{/privacy}", "received_events_url": "https://api.github.com/users/killertoilet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-07-16T19:56:48Z", "updated_at": "2019-07-16T23:11:35Z", "closed_at": "2019-07-16T23:11:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to connect to an E3631A power supply using an 82357B USB-GPIB connector. running the list_resource command returns nothing. From Keysight's IO libraries I can send commands such as *IDN? and get an expected response. If I try to connect using open_resource, I get the following errors. \r\n\r\n\r\n  File \"test.py\", line 5, in <module>\r\n    rm.open_resource('GPIB0::2::INSTR')\r\n  File \"C:\\Users\\person\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1724, in open_resource\r\n    res.open(access_mode, open_timeout)\r\n  File \"C:\\Users\\person\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line 209, in open\r\n    self.session, status = self._resource_manager.open_bare_resource(self._resource_name, access_mode, open_timeout)\r\n  File \"C:\\Users\\person\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1681, in open_bare_resource\r\n    return self.visalib.open(self.session, resource_name, access_mode, open_timeout)\r\n  File \"C:\\Users\\person\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyvisa-py\\highlevel.py\", line 194, in open\r\n    sess = cls(session, resource_name, parsed, open_timeout)\r\n  File \"C:\\Users\\person\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyvisa-py\\sessions.py\", line 170, in __init__\r\n    raise ValueError(msg)\r\nValueError: Please install linux-gpib to use this resource type.\r\nNo module named 'gpib'\r\n\r\n\r\nHere is the info from pyvisa:\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\person\\AppData\\Local\\Programs\\Python\\Python37\\python.exe\r\n   Version:        3.7.4\r\n   Compiler:       MSC v.1916 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          Jul  8 2019 20:34:20 (#tags/v3.7.4:e09359112e)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.9.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.9.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR:\r\n         Please install PySerial (>=3.0) to use this resource type.\r\n         No module named 'serial'\r\n      USB INSTR:\r\n         PyUSB does not seem to be properly installed.\r\n         Please refer to PyUSB documentation and\r\n         install a suitable backend like\r\n         libusb 0.1, libusb 1.0, libusbx,\r\n         libusb-win32 or OpenUSB.\r\n         No backend available\r\n      USB RAW:\r\n         PyUSB does not seem to be properly installed.\r\n         Please refer to PyUSB documentation and\r\n         install a suitable backend like\r\n         libusb 0.1, libusb 1.0, libusbx,\r\n         libusb-win32 or OpenUSB.\r\n         No backend available\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'\r\n\r\nWhy does IO libraries see it jsut fine but pyvisa cannot? I tried installing the linux-gpib as it asked and it says it cannot find it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/442", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/442/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/442/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/442", "id": 468350004, "node_id": "MDU6SXNzdWU0NjgzNTAwMDQ=", "number": 442, "title": "Unable to locate visa even though it is installed.", "user": {"login": "lucamedeir", "id": 1278865, "node_id": "MDQ6VXNlcjEyNzg4NjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1278865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucamedeir", "html_url": "https://github.com/lucamedeir", "followers_url": "https://api.github.com/users/lucamedeir/followers", "following_url": "https://api.github.com/users/lucamedeir/following{/other_user}", "gists_url": "https://api.github.com/users/lucamedeir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucamedeir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucamedeir/subscriptions", "organizations_url": "https://api.github.com/users/lucamedeir/orgs", "repos_url": "https://api.github.com/users/lucamedeir/repos", "events_url": "https://api.github.com/users/lucamedeir/events{/privacy}", "received_events_url": "https://api.github.com/users/lucamedeir/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-07-15T21:45:48Z", "updated_at": "2019-08-02T20:21:43Z", "closed_at": "2019-08-02T20:21:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nBefore I explain the issue, I should say that my system is CentOS7 and I installed the keysight VISA.\r\nWhen I called visa.ResourceManager(), it said it could not locate a visa binary (you should not install the pyvisa-py to replicate the bug). I tried passing the location on the parameter to no avail. \r\nHowever if one creates the .pyvisarc as specified on the documention, it works. \r\nIn summary, the issue is that passing the location of the visa library as parameter on the ResourceManager() function is not going to work.\r\n\r\nBest Regards,\r\nLucas Medeiros", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/439", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/439/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/439/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/439", "id": 465179665, "node_id": "MDU6SXNzdWU0NjUxNzk2NjU=", "number": 439, "title": "ValueError: Could not find hash sign (#) indicating the start of the block.", "user": {"login": "ApollineChappard", "id": 50194584, "node_id": "MDQ6VXNlcjUwMTk0NTg0", "avatar_url": "https://avatars1.githubusercontent.com/u/50194584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ApollineChappard", "html_url": "https://github.com/ApollineChappard", "followers_url": "https://api.github.com/users/ApollineChappard/followers", "following_url": "https://api.github.com/users/ApollineChappard/following{/other_user}", "gists_url": "https://api.github.com/users/ApollineChappard/gists{/gist_id}", "starred_url": "https://api.github.com/users/ApollineChappard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ApollineChappard/subscriptions", "organizations_url": "https://api.github.com/users/ApollineChappard/orgs", "repos_url": "https://api.github.com/users/ApollineChappard/repos", "events_url": "https://api.github.com/users/ApollineChappard/events{/privacy}", "received_events_url": "https://api.github.com/users/ApollineChappard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-08T10:31:06Z", "updated_at": "2019-07-08T13:24:01Z", "closed_at": "2019-07-08T13:24:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI try to connect my Power Analyzer from Rohde&Schwarz,HMC8015 to me computer (it's me again sorry lol) and read values that it's measuring. It's working fine with the following commands from Python VISA:\r\n\r\n```\r\nPower_Analyser.write(\"CHANnel1:MEASurement:DATA?\")\r\nData = Power_Analyser.read_raw()\r\n```\r\nand it returns me : \r\n```\r\nb'2.3195E+02,1.2321E-03,-8.6309E-02,4.9964E+01,3.0000E+02,1.0000E+01,2.8579E-01,2.7244E-01,3.0200E-01,-1.7661E+02\\n'\r\n```\r\n\r\nnow I would like to try to do the same thing but just with the different command:\r\n```\r\nvalues = Power_Analyser.query_binary_values('CHANnel1:MEASurement:DATA?')\r\n```\r\n\r\nbut it shows me the error :\r\n```\r\nValueError: Could not find hash sign (#) indicating the start of the block.\r\n```\r\n\r\nWhat can I do to fix it ? And is there a big difference between the 2 commands ? \r\n\r\nHere is my whole code : \r\n```\r\nimport os\r\nimport time\r\nimport visa\r\nimport binascii\r\nimport struct\r\nimport csv\r\nimport numbers\r\n\r\n\r\n#reading self-identification from power analyser\r\nrm = visa.ResourceManager()\r\nname = rm.list_resources()\r\nprint(name)\r\n\r\n\r\nbytes is str\r\n\r\n#using with allows to close explicitly the resource at the end of the script\r\nwith rm.open_resource('ASRL3::INSTR') as Power_Analyser:\r\n        \r\n     print(Power_Analyser.query('*IDN?'))\r\n     print(Power_Analyser.query('SYSTem:DEVice?    '))#Queries the instrument type.\r\n\r\n     Power_Analyser.timeout = 2500 #2,5 seconds\r\n     Power_Analyser.write_termination = '\\n'\r\n\r\n    #read the variables of the instrument\r\n    #Power_Analyser.write(\"CHANnel1:MEASurement:DATA?\")\r\n    #Data = Power_Analyser.read_raw()\r\n    \r\n    \r\n     header_fmt='empty'\r\n     values = Power_Analyser.query_binary_values('CHANnel1:MEASurement:DATA?')\r\n     print(values)\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/438", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/438/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/438/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/438", "id": 465055039, "node_id": "MDU6SXNzdWU0NjUwNTUwMzk=", "number": 438, "title": "not able to communicate with testequtity1007", "user": {"login": "eronergy", "id": 52646576, "node_id": "MDQ6VXNlcjUyNjQ2NTc2", "avatar_url": "https://avatars2.githubusercontent.com/u/52646576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eronergy", "html_url": "https://github.com/eronergy", "followers_url": "https://api.github.com/users/eronergy/followers", "following_url": "https://api.github.com/users/eronergy/following{/other_user}", "gists_url": "https://api.github.com/users/eronergy/gists{/gist_id}", "starred_url": "https://api.github.com/users/eronergy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eronergy/subscriptions", "organizations_url": "https://api.github.com/users/eronergy/orgs", "repos_url": "https://api.github.com/users/eronergy/repos", "events_url": "https://api.github.com/users/eronergy/events{/privacy}", "received_events_url": "https://api.github.com/users/eronergy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-08T05:00:55Z", "updated_at": "2019-07-08T12:51:59Z", "closed_at": "2019-07-08T12:51:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are  struggling with making connections with the chamber(test equity 1007) . We are able to make connections with the ports like open port and close port but i am not able to communicate with the device.\r\n![chamber](https://user-images.githubusercontent.com/52646576/60784547-fc1fe780-a16c-11e9-81c4-6926f289daaf.PNG)\r\nIn the output you can see we are getting open connection at com 23 port as we are using rs232 to usb connector (triplite connector) for connecting to the computer. Also we are getting [b' '] in output. can you please guide us what the output says and what can you interpret from this.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/437", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/437/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/437/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/437", "id": 464106767, "node_id": "MDU6SXNzdWU0NjQxMDY3Njc=", "number": 437, "title": "Wrong VisaIOWarning: VI_WARN_CONFIG_NLOADED (1073676407)", "user": {"login": "occoder", "id": 1981057, "node_id": "MDQ6VXNlcjE5ODEwNTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1981057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/occoder", "html_url": "https://github.com/occoder", "followers_url": "https://api.github.com/users/occoder/followers", "following_url": "https://api.github.com/users/occoder/following{/other_user}", "gists_url": "https://api.github.com/users/occoder/gists{/gist_id}", "starred_url": "https://api.github.com/users/occoder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/occoder/subscriptions", "organizations_url": "https://api.github.com/users/occoder/orgs", "repos_url": "https://api.github.com/users/occoder/repos", "events_url": "https://api.github.com/users/occoder/events{/privacy}", "received_events_url": "https://api.github.com/users/occoder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-04T07:24:34Z", "updated_at": "2019-07-05T07:07:18Z", "closed_at": "2019-07-05T07:07:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did not specify any specific configuration when opening my USBTMC resource.\r\nThis warning seems to be wrongly raised.\r\nFollowing is the log to screen content. I was using Win10 64-bit.\r\n```\r\n2019-07-04 15:14:04,744 - pyvisa - DEBUG - No visa library specified, trying to find alternatives.\r\n2019-07-04 15:14:04,745 - pyvisa - DEBUG - Environment variable PYVISA_LIBRARY is unset.\r\n2019-07-04 15:14:04,748 - pyvisa - DEBUG - No user defined library files\r\n2019-07-04 15:14:04,750 - pyvisa - DEBUG - Automatically found library files: ['C:\\\\Windows\\\\system32\\\\visa64.dll', 'C:\\\\Windows\\\\system32\\\\visa32.dll']\r\n2019-07-04 15:14:04,750 - pyvisa - DEBUG - The NI implementation available\r\n2019-07-04 15:14:04,750 - pyvisa - DEBUG - No user defined library files\r\n2019-07-04 15:14:04,752 - pyvisa - DEBUG - Automatically found library files: ['C:\\\\Windows\\\\system32\\\\visa64.dll', 'C:\\\\Windows\\\\system32\\\\visa32.dll']\r\n2019-07-04 15:14:04,755 - pyvisa - DEBUG - Library signatures: 90 ok, 0 failed\r\n2019-07-04 15:14:04,755 - pyvisa - DEBUG - Created library wrapper for C:\\Windows\\system32\\visa64.dll\r\n2019-07-04 15:14:04,799 - pyvisa - DEBUG - viOpenDefaultRM('<ViObject object at 0x000001C03DB8E248>',) -> 1073676407\r\nC:\\Program Files\\Python37\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py:1227: VisaIOWarning: VI_WARN_CONFIG_NLOADED (1073676407): The specified configuration either does not exist or could not be loaded. VISA-specified defaults will be used.\r\n  ret = library.viOpenDefaultRM(byref(session))\r\n2019-07-04 15:14:04,800 - pyvisa - DEBUG - Created ResourceManager with session 4097\r\n2019-07-04 15:14:04,800 - pyvisa - DEBUG - viParseRsrcEx(4097, 'USB0::0xF4ED::0xEE3A::448H17107::INSTR', 'c_ushort(7)', 'c_ushort(0)', <ctypes.c_char_Array_256 object at 0x000001C03DC09148>, <ctypes.c_char_Array_256 object at 0x000001C03DC091C8>, <ctypes.c_char_Array_256 object at 0x000001C03DC09248>) -> 0\r\n2019-07-04 15:14:04,800 - pyvisa - DEBUG - USB0::0xF4ED::0xEE3A::448H17107::INSTR - opening ...\r\n2019-07-04 15:14:04,805 - pyvisa - DEBUG - viOpen(4097, 'USB0::0xF4ED::0xEE3A::448H17107::INSTR', <AccessModes.no_lock: 0>, 0, '<ViObject object at 0x000001C03DB8E248>') -> 0\r\n2019-07-04 15:14:04,805 - pyvisa - DEBUG - USB0::0xF4ED::0xEE3A::448H17107::INSTR - is open with session 1\r\n2019-07-04 15:14:04,805 - pyvisa - DEBUG - viSetAttribute(1, 1073676312, 10) -> 0\r\n2019-07-04 15:14:04,805 - pyvisa - DEBUG - viSetAttribute(1, 1073676344, 1) -> 0\r\n2019-07-04 15:14:04,805 - pyvisa - DEBUG - viSetAttribute(1, 1073676314, 20000) -> 0\r\n2019-07-04 15:14:04,805 - pyvisa - DEBUG - viWrite(1, b'*IDN?\\n', 6, 'c_ulong(6)') -> 0\r\n2019-07-04 15:14:04,806 - pyvisa - DEBUG - USB0::0xF4ED::0xEE3A::448H17107::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-07-04 15:14:04,806 - pyvisa - DEBUG - viRead(1, <ctypes.c_char_Array_20480 object at 0x000001C03DB8E248>, 20480, 'c_ulong(50)') -> 0\r\nConnected to: *IDN * 4065 (serial:448H17107, firmware:5.01.01.12R3,05-00-00-17-36) in 0.06s\r\n2019-07-04 15:14:04,807 - pyvisa - DEBUG - USB0::0xF4ED::0xEE3A::448H17107::INSTR - closing\r\n2019-07-04 15:14:04,807 - pyvisa - DEBUG - viDisableEvent(1, 1073709055, 65535) -> 1073676291\r\n2019-07-04 15:14:04,807 - pyvisa - DEBUG - viDiscardEvents(1, 1073709055, 65535) -> 1073676292\r\n2019-07-04 15:14:04,807 - pyvisa - DEBUG - viClose(1,) -> 0\r\n2019-07-04 15:14:04,807 - pyvisa - DEBUG - USB0::0xF4ED::0xEE3A::448H17107::INSTR - is closed\r\n2019-07-04 15:14:04,807 - pyvisa - DEBUG - USB0::0xF4ED::0xEE3A::448H17107::INSTR - closing\r\n\r\nProcess finished with exit code 0\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/436", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/436/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/436/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/436", "id": 463197656, "node_id": "MDU6SXNzdWU0NjMxOTc2NTY=", "number": 436, "title": "Default pyvisa query list_resources.", "user": {"login": "bjaraujo", "id": 5067963, "node_id": "MDQ6VXNlcjUwNjc5NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5067963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjaraujo", "html_url": "https://github.com/bjaraujo", "followers_url": "https://api.github.com/users/bjaraujo/followers", "following_url": "https://api.github.com/users/bjaraujo/following{/other_user}", "gists_url": "https://api.github.com/users/bjaraujo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjaraujo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjaraujo/subscriptions", "organizations_url": "https://api.github.com/users/bjaraujo/orgs", "repos_url": "https://api.github.com/users/bjaraujo/repos", "events_url": "https://api.github.com/users/bjaraujo/events{/privacy}", "received_events_url": "https://api.github.com/users/bjaraujo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-02T12:21:30Z", "updated_at": "2019-07-22T06:43:19Z", "closed_at": "2019-07-22T06:43:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why is the default query something like query=u\"?*::INSTR\" in list_resources?\r\nI don't think this is obvious and it filters out other devices like raw socket devices.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/434", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/434/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/434/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/434", "id": 462659116, "node_id": "MDU6SXNzdWU0NjI2NTkxMTY=", "number": 434, "title": "Rohde&Schwarz, HMC8015 bytes reading ", "user": {"login": "ApollineChappard", "id": 50194584, "node_id": "MDQ6VXNlcjUwMTk0NTg0", "avatar_url": "https://avatars1.githubusercontent.com/u/50194584?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ApollineChappard", "html_url": "https://github.com/ApollineChappard", "followers_url": "https://api.github.com/users/ApollineChappard/followers", "following_url": "https://api.github.com/users/ApollineChappard/following{/other_user}", "gists_url": "https://api.github.com/users/ApollineChappard/gists{/gist_id}", "starred_url": "https://api.github.com/users/ApollineChappard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ApollineChappard/subscriptions", "organizations_url": "https://api.github.com/users/ApollineChappard/orgs", "repos_url": "https://api.github.com/users/ApollineChappard/repos", "events_url": "https://api.github.com/users/ApollineChappard/events{/privacy}", "received_events_url": "https://api.github.com/users/ApollineChappard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-01T11:24:35Z", "updated_at": "2019-07-01T12:48:24Z", "closed_at": "2019-07-01T12:48:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI want to read the data from my Rohde&Schwarz, HMC8015 using following code:\r\n\r\n```\r\nrm = visa.ResourceManager()\r\nname = rm.list_resources()\r\nprint(name)\r\n\r\n\r\nbytes is str\r\n\r\n#using with allows to close explicitly the resource at the end of the script\r\nwith rm.open_resource('ASRL3::INSTR') as Power_Analyser:\r\n\t\t\r\n\tprint(Power_Analyser.query('*IDN?'))\r\n\tprint(Power_Analyser)\r\n\r\n\r\n\tPower_Analyser.timeout = 2500 #2,5 seconds\r\n\tPower_Analyser.write_termination = '\\n'\r\n\r\n\t#read the variables of the instrument\r\n\tPower_Analyser.write(\"CHANnel1:MEASurement1:DATA?\")\r\n\tData = Power_Analyser.read_raw()\r\n\t\r\n\tvar_1 = float(Data[0:10])\r\n\tvar_2 = float(Data[11:21])\r\n\tvar_3 = float(Data[22:33])\r\n\tvar_4 = float(Data[34:44])\r\n\tvar_5 = float(Data[45:55])\r\n\tvar_6 = float(Data[56:66])\r\n\tvar_7 = float(Data[67:77])\r\n\tvar_8 = float(Data[78:88])\r\n\tvar_9 = float(Data[89:99])\r\n\t\r\n\tDaten_float = [var_1, var_2,  var_3, var_4, var_5, var_6, var_7, var_8, var_9]\r\n\r\n\tprint('Daten_float =', Daten_float)\r\n```\r\n\r\nWhich works fine, and gives me the values in float in the list Daten_float:\r\n\r\n`Daten_float = [233.47, 0.001509, -7.5002, 49.994, 300.0, 10.0, 0.35231, 0.34423, 0.21289]`.\r\n\r\nMy question is: is there any documentation which says which bytes correspond to what ? I could not found any information about this on my device manual ([here](https://scdn.rohde-schwarz.com/ur/pws/dl_downloads/dl_common_library/dl_manuals/gb_1/h/hmc80115/HMC8015_SCPImanual_en_01.pdf)), on Python visa manual or anywhere else. This would be very helpful, because I don't know what I get.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/431", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/431/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/431/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/431", "id": 461935487, "node_id": "MDU6SXNzdWU0NjE5MzU0ODc=", "number": 431, "title": "HiSLIP - VI_ERROR_CONN_LOST when transfering large binary data sets", "user": {"login": "bjaraujo", "id": 5067963, "node_id": "MDQ6VXNlcjUwNjc5NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5067963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjaraujo", "html_url": "https://github.com/bjaraujo", "followers_url": "https://api.github.com/users/bjaraujo/followers", "following_url": "https://api.github.com/users/bjaraujo/following{/other_user}", "gists_url": "https://api.github.com/users/bjaraujo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjaraujo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjaraujo/subscriptions", "organizations_url": "https://api.github.com/users/bjaraujo/orgs", "repos_url": "https://api.github.com/users/bjaraujo/repos", "events_url": "https://api.github.com/users/bjaraujo/events{/privacy}", "received_events_url": "https://api.github.com/users/bjaraujo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-28T09:07:55Z", "updated_at": "2019-07-23T13:02:47Z", "closed_at": "2019-07-23T13:02:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "First reported here:\r\nhttps://github.com/pyvisa/pyvisa-py/issues/58\r\n\r\nIn binary transfers, pyvisa doesn't read the header before it reads rest of the content and this may cause problems when data is larger than 20*1024 bytes specially in HiSLIP protocol. In HiSLIP when it reads partial messages VISA produces the error VI_ERROR_CONN_LOST.\r\n\r\nI don't think increasing chunk_size is a good fix as then there is always a number above which it might fail.\r\n\r\nSo my fix is to read the header first and then determine how many bytes to read from visa. I have tested for IEEE format and it works well. Then I also changed the HP format for consistency and it may have similar problem (I haven't tested for HP but I think the code is equivalent).\r\n\r\nhttps://github.com/pyvisa/pyvisa/pull/430\r\n\r\nSome tests I did with different block sizes:\r\n\r\nSize (bytes) | Result\r\n-- | --\r\n0 | PASSED\r\n64 | PASSED\r\n960 | PASSED\r\n72,000 | PASSED\r\n784,000 | PASSED\r\n7,840,000 | PASSED\r\n\r\nVersion 1.91 will fail for block sizes above: 20,480 byes.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/427", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/427/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/427/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/427", "id": 460930493, "node_id": "MDU6SXNzdWU0NjA5MzA0OTM=", "number": 427, "title": "Timeout expired. AGILENT TECHNOLOGIES,DSO-X 2004A", "user": {"login": "filip-cermak", "id": 47925995, "node_id": "MDQ6VXNlcjQ3OTI1OTk1", "avatar_url": "https://avatars3.githubusercontent.com/u/47925995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/filip-cermak", "html_url": "https://github.com/filip-cermak", "followers_url": "https://api.github.com/users/filip-cermak/followers", "following_url": "https://api.github.com/users/filip-cermak/following{/other_user}", "gists_url": "https://api.github.com/users/filip-cermak/gists{/gist_id}", "starred_url": "https://api.github.com/users/filip-cermak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/filip-cermak/subscriptions", "organizations_url": "https://api.github.com/users/filip-cermak/orgs", "repos_url": "https://api.github.com/users/filip-cermak/repos", "events_url": "https://api.github.com/users/filip-cermak/events{/privacy}", "received_events_url": "https://api.github.com/users/filip-cermak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-26T12:03:51Z", "updated_at": "2019-06-26T12:40:47Z", "closed_at": "2019-06-26T12:40:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nwhen I start the script below (Simple Example from the documentation).\r\n\r\n```Pyhon\r\nimport visa\r\nrm = visa.ResourceManager()\r\n\r\nmy_instrument = rm.open_resource('USB0::0x0957::0x179A::MY52161403::INSTR')\r\nmy_instrument.write_termination = '\\n'\r\nmy_instrument.read_termination ='\\n'\r\n\r\nmy_instrument.write('*IDN?')\r\nwhile True:\r\n    print(my_instrument.read_bytes(1))\r\n```\r\n I get the answer in single characters: b'A', b'G...,b'\\n'. The last character is '\\n', which is set for the read_termination, but I still get VI_ERROR_TMO (-1073807339), Timeout.... If I try just \r\n```Python\r\n>>> my_instrument.write('*IDN?') \r\n>>> my_instrument.read()`\r\n```\r\nI get the answer 'AGILENT TECHNOLOGIES,DSO-X 2004A,MY52161403,02.35.2013061800', without the new line character '/n' at the end. Why is '/n' in the byte-wise read but not here? I think I cannot continue to actually controlling the device before solving this. \r\n\r\nThank you\r\nFilip\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/426", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/426/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/426/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/426", "id": 460808611, "node_id": "MDU6SXNzdWU0NjA4MDg2MTE=", "number": 426, "title": "Not able to get response from device over TCPIP  using pyvisa ", "user": {"login": "kk20198615", "id": 52234557, "node_id": "MDQ6VXNlcjUyMjM0NTU3", "avatar_url": "https://avatars3.githubusercontent.com/u/52234557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kk20198615", "html_url": "https://github.com/kk20198615", "followers_url": "https://api.github.com/users/kk20198615/followers", "following_url": "https://api.github.com/users/kk20198615/following{/other_user}", "gists_url": "https://api.github.com/users/kk20198615/gists{/gist_id}", "starred_url": "https://api.github.com/users/kk20198615/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kk20198615/subscriptions", "organizations_url": "https://api.github.com/users/kk20198615/orgs", "repos_url": "https://api.github.com/users/kk20198615/repos", "events_url": "https://api.github.com/users/kk20198615/events{/privacy}", "received_events_url": "https://api.github.com/users/kk20198615/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-26T07:33:50Z", "updated_at": "2019-06-26T17:13:13Z", "closed_at": "2019-06-26T12:30:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All,\r\n\r\nI am trying to set attenuation on JDSU MAP chassis. when i set attenuation i do not get responce and my query is like hung.\r\n\r\nI have pasted responce for both getattenuation and set attenuation with debug. I have tried different pyvisa version i have same issue.\r\nmy code snippet\r\n===========\r\n\r\n    def setVOAattenuation(self, device, chassis, slot, port, attenuationVal):\r\n        try:\r\n            id = self.inst.query(\"*IDN?\")\r\n            print(id)\r\n\r\n            if id.__contains__(\" M A P\") or id.__contains__(\"MAP-200\") :\r\n                self.inst.query(\"OUTP:ATT %d,%d,%d,%f\" % (chassis, slot, port, attenuationVal))\r\n            else:\r\n                self.inst.query(\"INP:ATT %f\" % attenuationVal)\r\n            return\r\n        except Exception as ex:\r\n            print(\"Unable to communicate with the device %s\" % ex)\r\n\r\n    \"\"\" Get Voa attenuation Set on the VOA port \"\"\"\r\n\r\n    def getVOAattenuation(self, device, chassis, slot, port):\r\n        try:\r\n            id = self.inst.query(\"*IDN?\")\r\n            print(id)\r\n            if id.__contains__(\" M A P\") or id.__contains__(\"MAP-200\"):\r\n                att = self.inst.query(\"OUTP:ATT? %d,%d,%d\" % (chassis, slot, port))\r\n            else:\r\n                att = self.inst.query(\"INP:ATT?\")\r\n            return att\r\n\r\n\r\n\r\nvoa.getVOAattenuation(1,1,2,1)\r\n2019-06-26 12:56:28,901 - pyvisa - DEBUG - viWrite(1L, '*IDN?\\r\\n', 7, 'c_ulong(7L)') -> 0\r\n2019-06-26 12:56:28,901 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\nJDSU,MAP-200,22902,5.0.10\r\n2019-06-26 12:56:29,691 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(26L)') -> 0\r\n2019-06-26 12:56:30,002 - pyvisa - DEBUG - viWrite(1L, 'OUTP:ATT? 1,2,1\\r\\n', 17, 'c_ulong(17L)') -> 0\r\n2019-06-26 12:56:30,002 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:30,273 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(6L)') -> 0\r\nOut[4]: u'2.000\\n'\r\nvoa.setVOAattenuation(1,1,2,1,0)\r\n2019-06-26 12:56:45,844 - pyvisa - DEBUG - viWrite(1L, '*IDN?\\r\\n', 7, 'c_ulong(7L)') -> 0\r\n2019-06-26 12:56:45,844 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\nJDSU,MAP-200,22902,5.0.10\r\n2019-06-26 12:56:46,114 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(26L)') -> 0\r\n2019-06-26 12:56:46,394 - pyvisa - DEBUG - viWrite(1L, 'OUTP:ATT 1,2,1,0.000000\\r\\n', 25, 'c_ulong(25L)') -> 0\r\n2019-06-26 12:56:46,394 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:46,711 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:46,711 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:47,045 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:47,045 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:47,365 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n\r\n\r\n\r\n\r\n\r\n2019-06-26 12:56:47,365 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:47,809 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:47,811 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:48,135 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:48,135 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:48,446 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:48,446 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:48,756 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:48,756 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:49,056 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:49,056 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:49,378 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:49,378 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:49,677 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054131C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:49,677 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n2019-06-26 12:56:49,997 - pyvisa - DEBUG - viRead(1L, <ctypes.c_char_Array_20480 object at 0x00000000054133C8>, 20480, 'c_ulong(20480L)') -> 1073676294\r\n2019-06-26 12:56:49,997 - pyvisa - DEBUG - TCPIP0::10.100.59.51::inst0::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/425", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/425/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/425/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/425", "id": 457881225, "node_id": "MDU6SXNzdWU0NTc4ODEyMjU=", "number": 425, "title": "HP33120A - function generator RS232", "user": {"login": "tarciszera", "id": 37295838, "node_id": "MDQ6VXNlcjM3Mjk1ODM4", "avatar_url": "https://avatars1.githubusercontent.com/u/37295838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tarciszera", "html_url": "https://github.com/tarciszera", "followers_url": "https://api.github.com/users/tarciszera/followers", "following_url": "https://api.github.com/users/tarciszera/following{/other_user}", "gists_url": "https://api.github.com/users/tarciszera/gists{/gist_id}", "starred_url": "https://api.github.com/users/tarciszera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tarciszera/subscriptions", "organizations_url": "https://api.github.com/users/tarciszera/orgs", "repos_url": "https://api.github.com/users/tarciszera/repos", "events_url": "https://api.github.com/users/tarciszera/events{/privacy}", "received_events_url": "https://api.github.com/users/tarciszera/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-19T08:40:30Z", "updated_at": "2019-07-10T12:49:33Z", "closed_at": "2019-07-10T12:49:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "* EDIT: I've got a comercial cable with the female to USB, and the problem keeps the same. [new cable]\r\n* EDIT: changed the code, was missing the \"SYST:REM\" command, still not working\r\n\r\n[new cable]:https://at.rs-online.com/web/p/products/1797985/\r\n\r\nHello pyVisa guys,\r\n\r\nI'm trying to communicate with a HP33120A equipment through RS232 interface using a serial to USB converter cable for PC, using a female female adapter as the [Manual] says.\r\n\r\n**Cable:**\r\n\r\n![cable](https://i.imgur.com/hwtj9Jt.png)\r\n\r\n**F/F adapter:**\r\n\r\n![female/female adapter](https://i.imgur.com/fCJqOve.png)\r\n\r\nI've installed the cable driver, so it's been recognized by the system (windows 10), it's been found by the resource mananger (rm.resources_info) as resource_name = 'ASRL10::INSTR' (just the cable itself).\r\n\r\nThe problem here is when I connect to the instrument and try to communicate, nothing happens, nothing change in the instrument output, like frequency for example, and nothing is responsed, triggering the timeout.\r\n\r\nWhat I really wanna know is if **I have to install some driver for instrument?**, if there's some **special configuration to control instruments through RS232?** (I checked the instrument configuration and it's in default, like in the next image) at least I configurate the baudrate to be the same. \r\n\r\n![](https://i.imgur.com/142HIi6.png)\r\n\r\nThe possible handShake problem (next image) and the adapter not working problem can't be checked right now, but in the next week, so don't care about it, the objective of this issue is to be sure that the problem is not with NI VISA libraries, instrument driver or pyVisa configuration.\r\n\r\n![](https://i.imgur.com/2KlEFiC.png)\r\n\r\nHere is the code I'm using:\r\n\r\n```python\r\n\r\nimport visa     # pyvisa\r\n\r\nrm = visa.ResourceManager()                 # create the resource manager\r\n\r\nprint(rm.list_resources_info())             # to get the resource name\r\n\r\nresource_name = 'ASRL10::INSTR'             # resource name\r\n\r\nhp33120a = rm.open_resource(resource_name)  # Open a resource\r\nhp33120a.baudrate = 9600                    # Set the default baudrate of the instrument\r\n\r\nhp33120a.timeout =10000                     # huge timeout just to be sure\r\nprint(hp33120a)                             # print the resource name basicaly\r\n\r\nprint(hp33120a.query('*IDN?'))              # wait for some information and it triggers the timeout\r\n\r\n# Closing the resource and the manager\r\nhp33120a.close()\r\nrm.close()\r\n\r\n```\r\n\r\n**NEWCODE**\r\n```python\r\nimport visa     # pyvisa\r\n\r\nrm = visa.ResourceManager() # To connect the wraper to the USB driver\r\n\r\nprint(rm.list_resources_info()) # to take the resource name\r\n\r\nresource_name = 'ASRL11::INSTR'\r\n\r\nhp33120a = rm.open_resource(resource_name) # Open a resource \r\nhp33120a.baudrate = 9600\r\n\r\nhp33120a.timeout = 2000\r\nprint(hp33120a)\r\n\r\nhp33120a.write('*CLS*\\r\\n')\r\nhp33120a.write('SYST:REM\\r\\n')\r\nhp33120a.write('APPL:SIN 30.0E+3, 3.3, 0 \\r\\n')\r\n\r\nprint(hp33120a.query('*IDN?\\r\\n'))\r\n\r\n# Closing the resource and the manager\r\nhp33120a.close()\r\nrm.close()\r\n```\r\n\r\n\r\n**PS: I'm already remotely controlling instruments through USB**\r\n\r\n[Manual]:https://www.keysight.com/upload/cmc_upload/All/6C0633120A_USERSGUIDE_ENGLISH.pdf", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/423", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/423/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/423/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/423", "id": 456963724, "node_id": "MDU6SXNzdWU0NTY5NjM3MjQ=", "number": 423, "title": "VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.", "user": {"login": "Apcha", "id": 51906681, "node_id": "MDQ6VXNlcjUxOTA2Njgx", "avatar_url": "https://avatars2.githubusercontent.com/u/51906681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Apcha", "html_url": "https://github.com/Apcha", "followers_url": "https://api.github.com/users/Apcha/followers", "following_url": "https://api.github.com/users/Apcha/following{/other_user}", "gists_url": "https://api.github.com/users/Apcha/gists{/gist_id}", "starred_url": "https://api.github.com/users/Apcha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Apcha/subscriptions", "organizations_url": "https://api.github.com/users/Apcha/orgs", "repos_url": "https://api.github.com/users/Apcha/repos", "events_url": "https://api.github.com/users/Apcha/events{/privacy}", "received_events_url": "https://api.github.com/users/Apcha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-17T14:20:55Z", "updated_at": "2019-06-24T12:53:59Z", "closed_at": "2019-06-24T12:53:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI try to connect my Power Analyser Rohde&Schwarz,HMC8015 ('ASRL3::INSTR') to my computer, and to read any data that my device can show with python VISA. I have a lot of problems with the code line, which allows to read my device data. My code is: \r\n\r\n```\r\nrm = visa.ResourceManager()\r\nname = rm.list_resources()\r\n\r\n#using with allows to close explicitly the resource at the end of the script\r\nwith rm.open_resource('ASRL3::INSTR') as Power_Analyser:\r\n\t\t\r\n\tPower_Analyser.values_format.is_binary = True\r\n\tPower_Analyser.values_format.datatype = 'B'\r\n\tPower_Analyser.values_format.is_big_endian = False\r\n\tPower_Analyser.values_format.container = bytearray\r\n\r\n\tPower_Analyser.timeout = 25000 #2,5 seconds\r\n\r\n\tPower_Analyser.write_termination = '\\n'\r\n\t\r\n\tData = Power_Analyser.query_ascii_values('P?',datatype='s')[0]\r\n\tprint(Data)\r\n\r\n        #write the Data to a file on my PC\r\n        PCfilePath = 'C:\\\\Users\\\\ApCha\\\\Documents\\\\Python Scripts\\\\a.txt'\r\n        newFile = open(PCfilePath, \"wb\")\r\n        newFile.write(Data)\r\n        newFile.close()\r\n```\r\nWhen I runt it, it shows me:\r\n`VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.`\r\n\r\nno matter how big the timeout is set.  I'm guessing that the problem comes from the syntax in \r\n`Power_Analyser.query_ascii_values('P?',datatype='s')[0] ` but I can't figure out what's the correct syntax.\r\n\r\n I checked on my device manual: \r\n[https://scdn.rohde-schwarz.com/ur/pws/dl_downloads/dl_common_library/dl_manuals/gb_1/h/hmc80115/HMC8015_SCPImanual_en_01.pdf](url) (I don't know why but the link is not working please copy and past in your borwser)\r\n\r\nbut nothing seems to work and nothing is clearly explained for python VISA and I don't have any experience with that. Does anyone know how to fix the problem ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/422", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/422/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/422/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/422/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/422", "id": 456810757, "node_id": "MDU6SXNzdWU0NTY4MTA3NTc=", "number": 422, "title": "VisaIOError: VI_ERROR_RSRC_BUSY (-1073807246): The resource is valid, but VISA cannot currently access it.", "user": {"login": "Apcha", "id": 51906681, "node_id": "MDQ6VXNlcjUxOTA2Njgx", "avatar_url": "https://avatars2.githubusercontent.com/u/51906681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Apcha", "html_url": "https://github.com/Apcha", "followers_url": "https://api.github.com/users/Apcha/followers", "following_url": "https://api.github.com/users/Apcha/following{/other_user}", "gists_url": "https://api.github.com/users/Apcha/gists{/gist_id}", "starred_url": "https://api.github.com/users/Apcha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Apcha/subscriptions", "organizations_url": "https://api.github.com/users/Apcha/orgs", "repos_url": "https://api.github.com/users/Apcha/repos", "events_url": "https://api.github.com/users/Apcha/events{/privacy}", "received_events_url": "https://api.github.com/users/Apcha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-17T08:39:42Z", "updated_at": "2019-06-17T13:34:16Z", "closed_at": "2019-06-17T13:34:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI try to connect my Power Analysor from Rohde&Schwarz,HMC8015 with my computer. First I tried to read the self identification from my device with the following code lines (I use python VISA):\r\n\r\n```\r\nrm = visa.ResourceManager()\r\nname = rm.list_resources()\r\nprint(name)\r\n\r\nPower_Analysor = rm.open_resource('ASRL3::INSTR')\r\nprint(Power_Analysor.query('*IDN?'))\r\nprint(Power_Analysor)\r\n```\r\nwhich work at first, and shows me: \r\n```\r\n('ASRL3::INSTR',)\r\nRohde&Schwarz,HMC8015,035620622,01.403\r\nSerialInstrument at ASRL3::INSTR\r\n```\r\n\r\n But as soon as I run the code a second time, it shows me: \r\n`VisaIOError: VI_ERROR_RSRC_BUSY (-1073807246): The resource is valid, but VISA cannot currently access it.`\r\n\r\nIf I disconnect my device (USB) and reconnect it, the code works again the first time I run it and then it shows me the error as I run it again. I don't know what to do. I tried everything, checked that no other programms uses the device etc.... Does anyone knows what is happening ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/421", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/421/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/421/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/421", "id": 455093358, "node_id": "MDU6SXNzdWU0NTUwOTMzNTg=", "number": 421, "title": "Exception during interpreter shutdown", "user": {"login": "Rozakos", "id": 24418024, "node_id": "MDQ6VXNlcjI0NDE4MDI0", "avatar_url": "https://avatars2.githubusercontent.com/u/24418024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rozakos", "html_url": "https://github.com/Rozakos", "followers_url": "https://api.github.com/users/Rozakos/followers", "following_url": "https://api.github.com/users/Rozakos/following{/other_user}", "gists_url": "https://api.github.com/users/Rozakos/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rozakos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rozakos/subscriptions", "organizations_url": "https://api.github.com/users/Rozakos/orgs", "repos_url": "https://api.github.com/users/Rozakos/repos", "events_url": "https://api.github.com/users/Rozakos/events{/privacy}", "received_events_url": "https://api.github.com/users/Rozakos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-12T09:02:03Z", "updated_at": "2019-06-17T22:42:30Z", "closed_at": "2019-06-17T22:42:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying write some commands to Keithley 2000 multimeter, but i am getting that specific error, any ideas?\r\n\r\nTraceback (most recent call last): File \"C:/PyTests/Keithley.py\", line 4, in <module> keithley = rm.open_resource(\"GPIB::12\") File \"C:\\PyTests\\venv\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1724, in open_resource res.open(access_mode, open_timeout) File \"C:\\PyTests\\venv\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line 209, in open self.session, status = self._resource_manager.open_bare_resource(self._resource_name, access_mode, open_timeout) File \"C:\\PyTests\\venv\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1681, in open_bare_resource return self.visalib.open(self.session, resource_name, access_mode, open_timeout) File \"C:\\PyTests\\venv\\lib\\site-packages\\pyvisa-py\\highlevel.py\", line 194, in open sess = cls(session, resource_name, parsed, open_timeout) File \"C:\\PyTests\\venv\\lib\\site-packages\\pyvisa-py\\sessions.py\", line 170, in __init__ raise ValueError(msg)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/420", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/420/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/420/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/420/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/420", "id": 453601062, "node_id": "MDU6SXNzdWU0NTM2MDEwNjI=", "number": 420, "title": "Trying to acquire continuous data from Opsens. Stuck for two weeks", "user": {"login": "iamyevesky", "id": 36637138, "node_id": "MDQ6VXNlcjM2NjM3MTM4", "avatar_url": "https://avatars3.githubusercontent.com/u/36637138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamyevesky", "html_url": "https://github.com/iamyevesky", "followers_url": "https://api.github.com/users/iamyevesky/followers", "following_url": "https://api.github.com/users/iamyevesky/following{/other_user}", "gists_url": "https://api.github.com/users/iamyevesky/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamyevesky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamyevesky/subscriptions", "organizations_url": "https://api.github.com/users/iamyevesky/orgs", "repos_url": "https://api.github.com/users/iamyevesky/repos", "events_url": "https://api.github.com/users/iamyevesky/events{/privacy}", "received_events_url": "https://api.github.com/users/iamyevesky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-07T16:40:10Z", "updated_at": "2019-10-14T16:41:46Z", "closed_at": "2019-10-14T16:41:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been working on how to control my Opsens PicoM device remotely and collect data from it but I have multiple errors that I do not understand why they are happening. If someone could help me out that would be great. I have spent almost two weeks on this.\r\n\r\nHere is my complete code:\r\n\r\n```python\r\n`# -*- coding: utf-8 -*-\r\n\"\"\"\r\n:Created on Tue Jun  4 16:35:26 2019\r\n:Author:   Sena Yevenyo.\r\n:Program:  Reads data from Opsens-PicoM Sensor.\r\n:Return:   Recorded temperatures in list [time, temp] format\r\n           as data1.\r\n:Return:   Recorded temperature in list [temp] format in delay*ntimes seconds\r\n           as data0.\r\n\"\"\"\r\n\r\n\"\"\"\r\n:Log Details:\r\n\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.14393-SP0\r\n   Processor:      Intel64 Family 6 Model 158 Stepping 9, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Anaconda3\\python.exe\r\n   Version:        3.6.3\r\n   Compiler:       MSC v.1900 64 bit (AMD64)\r\n   Bits:           64bit\r\n   Build:          Oct 15 2017 03:27:45 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.9.0\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.9.0 (bundled with PyVISA)\r\n      #1: C:\\windows\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 5243905\r\n         Spec. Version: 5243136\r\n      #2: C:\\windows\\system32\\visa64.dll:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 5243905\r\n         Spec. Version: 5243136\r\n\"\"\"\r\nntimes = 100\r\ndelay = 0.02\r\nimport pyvisa, time\r\nfrom pyvisa import constants\r\n\r\n\"\"\"\r\n:IDE:   Anaconda Spyder Python 3.6\r\nreadme: Always .open() and .close() opsens ResourceManager object\r\n        after every query.\r\n        Restart console kernel (Ctrl+.) and reboot Opsens-PicoM to avoid\r\n        running errors.\r\n        Read Opsens Serial Comm. User Manual and pyVisa documentation on  \r\n        ResourceManager class, subclass SerialInstrument \r\n        to initialize Opsens PicoM.\r\n\"\"\"\r\n \r\nrm = pyvisa.highlevel.ResourceManager()\r\nopsensVisaAddress = 'ASRL3::INSTR'\r\nopsens = rm.open_resource(opsensVisaAddress)\r\nopsens.CR = '\\r'\r\nopsens.LF='\\n'\r\nopsens.stop_bits = constants.StopBits.one\r\nopsens.parity = constants.Parity.none\r\nopsens.flow_control = constants.VI_ASRL_FLOW_NONE\r\nopsens.data_bits = 8\r\nopsens.baud_rate = 9600\r\n\r\nopsens.open()\r\nprint(opsens.query(\"system:idn?\\r\"))\r\nopsens.close()\r\n\r\nopsens.open()\r\nopsens.query(\"memory:delete:all\\r\")\r\nopsens.close()\r\n\r\n\"\"\"\r\n:First Solution\r\n:Status: Not working\r\n         Raises Err-202\r\n\"\"\"\r\n#rawData0=''\r\n#opsens.open()\r\n#opsens.query(\"memory:acquire:start \"+str(ntimes)+\"\\r\")\r\n#time.sleep((delay*ntimes)+0.001)\r\n#opsens.close()\r\n#\r\n#opsens.open()\r\n#for x in range(ntimes):\r\nrawData0+=opsens.query(\"memory1:download? \"+str(ntimes)+\",0\")\r\ntime.sleep(delay+0.0001)\r\n#opsens.close()\r\n\"\"\"\r\n:Second Solution\r\n:Status: Not working\r\n         Raises VisaIOError\r\n\"\"\"\r\n#opsens.open()\r\n#opsens.write(\"measure.start \"+str(ntimes)+\"\\r\")\r\n#time.sleep(ntimes*delay)\r\n#rawData0 = opsens.read(\"measure.start \"+str(ntimes)+\"\\r\")\r\n#opsens.query(\"measure:stop\\r\")\r\n#opsens.close()\r\n\"\"\"\r\n:Third Solution\r\n:Status: Functions but not optimally\r\n         Raises Err-201, Err-170, Err-140\r\n         Times may not be corresponding to temp value\r\n         \r\n\"\"\"\r\nrawData0=''\r\nopsens.open()\r\nfor i in range(ntimes):\r\n    #20000 is arbitrary. Must be between 1-INFINITE   \r\n    rawData0+=opsens.query(\"measure:start \"+str(ntimes)+\"\\r\")\r\n    time.sleep((delay)+0.0001)\r\nopsens.close()\r\n\r\ndata0 = rawData0.split('\\n')\r\nremoveData = ['\\4','\\4','CH1','Err -170','Err -201','Err -140', \"Err -202\",\"\"]\r\ndata1 = []\r\n\r\nfor x in range(len(data0)):\r\n    time=x*float(delay)\r\n    temp = \"?\"\r\n    if data0[x] not in removeData:\r\n        temp=data0[x]\r\n    data1.append([time,temp])\r\n\r\nfor y in range(len(removeData)):\r\n    while removeData[y] in data0:\r\n        data0.remove(removeData[y])\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/419", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/419/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/419/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/419", "id": 453431956, "node_id": "MDU6SXNzdWU0NTM0MzE5NTY=", "number": 419, "title": "The interface type is valid, but the specified interface number is not configured.  VISA error code -1073807195 (0xBFFF00A5), ErrorInterfaceNumberNotConfigured.", "user": {"login": "eronenergy", "id": 51474948, "node_id": "MDQ6VXNlcjUxNDc0OTQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/51474948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eronenergy", "html_url": "https://github.com/eronenergy", "followers_url": "https://api.github.com/users/eronenergy/followers", "following_url": "https://api.github.com/users/eronenergy/following{/other_user}", "gists_url": "https://api.github.com/users/eronenergy/gists{/gist_id}", "starred_url": "https://api.github.com/users/eronenergy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eronenergy/subscriptions", "organizations_url": "https://api.github.com/users/eronenergy/orgs", "repos_url": "https://api.github.com/users/eronenergy/repos", "events_url": "https://api.github.com/users/eronenergy/events{/privacy}", "received_events_url": "https://api.github.com/users/eronenergy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2019-06-07T09:55:55Z", "updated_at": "2019-07-23T13:03:29Z", "closed_at": "2019-07-23T13:03:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to connect instruments in my lab with my python code .i am able to connect with my USB port devices  but having issue with GPIBO port.\r\n\r\nI am getting the below error.\r\n\r\nThe interface type is valid, but the specified interface number is not configured.  VISA error code -1073807195 (0xBFFF00A5), ErrorInterfaceNumberNotConfigured.\r\n\r\nI have attached screenshot \r\n\r\n![dc1ae906e28263c8a026b6de5948f0bd68ad1813ede0aaab9c151ca655f965a7591](https://user-images.githubusercontent.com/51474948/59096189-e766ee80-8937-11e9-99d8-7b3ea98e1092.JPG)\r\n\r\n![dc719f445bedee4767d2bad863b9f7e8337a09fcf9fa485e14d828e1f7f3d21c3c](https://user-images.githubusercontent.com/51474948/59096243-006f9f80-8938-11e9-8d60-c085de2ae254.JPG)\r\n\r\nIf anyone can guide . what could be this issue??. I am struggling since long time ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/418", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/418/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/418/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/418", "id": 452884903, "node_id": "MDU6SXNzdWU0NTI4ODQ5MDM=", "number": 418, "title": "Trying to run an manual example in Rohde & schwarz RTB2004, nothing happens", "user": {"login": "tarciszera", "id": 37295838, "node_id": "MDQ6VXNlcjM3Mjk1ODM4", "avatar_url": "https://avatars1.githubusercontent.com/u/37295838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tarciszera", "html_url": "https://github.com/tarciszera", "followers_url": "https://api.github.com/users/tarciszera/followers", "following_url": "https://api.github.com/users/tarciszera/following{/other_user}", "gists_url": "https://api.github.com/users/tarciszera/gists{/gist_id}", "starred_url": "https://api.github.com/users/tarciszera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tarciszera/subscriptions", "organizations_url": "https://api.github.com/users/tarciszera/orgs", "repos_url": "https://api.github.com/users/tarciszera/repos", "events_url": "https://api.github.com/users/tarciszera/events{/privacy}", "received_events_url": "https://api.github.com/users/tarciszera/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-06-06T07:59:23Z", "updated_at": "2019-08-20T11:43:18Z", "closed_at": "2019-06-13T02:01:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "edit: equipment Rohde & Schwarz RTB2004\r\n\r\nHello guys, i'm trying to do get some x/y information from the osciloscope (time and voltage). For this I've tried to run an [example code] from the manual of the equipment, nothing happened.\r\n\r\nSo I found this [issue] and tried to just run the code, it worked somehow but I'm just getting the voltage information. I've tried to add the [\"EXP:WAV:INCX ON\"] command to get time and voltage information. But nothing changed :(\r\n\r\nAnother thing is when I ask something, [\"CHAN1:WAV1:DATA:VAL? 0,10\"] for example it is getting timeout problems, with a lot of commands from the manual :(\r\n\r\nCould you guys help me somehow? To understand what I'm doing wrong, or what I have to study to understand it properly, I'm really lost u.u\r\n**\\* The \"CHAN1:DATA?\" command is working, the variations are not.**\r\n\r\n[example code]:https://i.imgur.com/ox8VM2F.png\r\n[\"EXP:WAV:INCX ON\"]:https://i.imgur.com/3unZDRS.png\r\n[\"CHAN1:WAV1:DATA:VAL? 0,10\"]:https://i.imgur.com/GkIQl8R.png\r\n[issue]:https://github.com/pyvisa/pyvisa/issues/306\r\n\r\nHere the code I'm using (From the other [issue]):\r\n\r\n``` python\r\n# RTO/RTE Oscilloscope example for Python using PyVISA\r\n\r\nimport visa\r\nimport matplotlib.pyplot as plt\r\n#import VISAresourceExtentions\r\n\r\n# -----------------------------------------------------------\r\n# Initialization\r\n# -----------------------------------------------------------\r\nrm = visa.ResourceManager()\r\nRTB = rm.open_resource('USB0::0x0AAD::0x01D6::107205::0::INSTR')\r\n\r\n# The file VISAresourceExtentions.py must be in the same folder as this file\r\n# It contains PyVISA Visa.Resource extension functions for and 2 new exception types\r\n\r\n# try block to catch any InstrumentErrorException()\r\n\r\nRTB.write_termination = ''\r\n# Some instruments require LF at the end of each command. In that case, use:\r\n# scope.write_termination = '\\n'\r\n #   RTB.ext_clear_status()  # Clear instrument io buffers and status\r\nprint(RTB.query('*IDN?'))  # Query the Identification string\r\n#print(RTB.query('ACQ:CURR?'))  # NOTHING HAPPENS\r\nRTB.write('*RST;*CLS')  # Reset the instrument, clear the Error queue\r\nRTB.write(\"EXP:WAV:INCX ON\") # NOTHING HAPPENS\r\n\r\n #   RTB.ext_error_checking()  # Error Checking after Initialization block\r\n# -----------------------------------------------------------\r\n# Basic Settings:\r\n# ----------------------------------------------------------\r\nRTB.write('TIM:SCAL 0.02')\r\nRTB.write('CHAN1:RANG 10.0')  # Horizontal range 5V (0.5V/div)\r\nRTB.write('CHAN1:OFFS 0.0')  # Offset 0\r\nRTB.write('CHAN1:STAT ON')  # Switch Channel 1 ON\r\n #   RTB.ext_error_checking()  # Error Checking after Basic Settings block\r\n# -----------------------------------------------------------\r\n# Trigger Settings:\r\n# -----------------------------------------------------------\r\nRTB.write('TRIG:A:MODE AUTO')  # Trigger Auto mode in case of no signal is applied\r\nRTB.write('TRIG:A:TYPE EDGE;:TRIG:A:EDGE:SLOP POS')  # Trigger type Edge Positive\r\nRTB.write('TRIG:A:SOUR CH1')  # Trigger source CH1\r\nRTB.write('TRIG:A:LEV1 0.05')  # Trigger level 0.05V\r\nRTB.query('*OPC?')  # Using *OPC? query waits until all the instrument settings are finished\r\n #   RTB.ext_error_checking()  # Error Checking after Trigger Settings block\r\n\r\n# -----------------------------------------------------------\r\n# SyncPoint 'SettingsApplied' - all the settings were applied\r\n# -----------------------------------------------------------\r\n# Arming the RTB\r\n# -----------------------------------------------------------\r\n \r\nRTB.timeout = 2000  # Acquisition timeout in milliseconds - set it higher than the acquisition time\r\nRTB.write('SING')\r\n# -----------------------------------------------------------\r\n# DUT_Generate_Signal() - in our case we use Probe compensation signal\r\n# where the trigger event (positive edge) is reoccurring\r\n# -----------------------------------------------------------\r\nprint('Waiting for the acquisition to finish... ')\r\nRTB.query('*OPC?')  # Using *OPC? query waits until the instrument finished the acquisition\r\n #   RTB.ext_error_checking()  # Error Checking after the acquisition is finished\r\n# -----------------------------------------------------------\r\n# SyncPoint 'AcquisitionFinished' - the results are ready\r\n# -----------------------------------------------------------\r\n# Fetching the waveform in ASCII format\r\n# -----------------------------------------------------------\r\nprint('Fetching waveform in ASCII format... ')\r\nwaveformASCII = RTB.query_ascii_values('FORM ASC;:CHAN1:DATA?')\r\nplt.plot(waveformASCII)\r\nprint( 'ASCII data samples read: {}'.format(len(waveformASCII)))\r\n #   RTB.ext_error_checking()  # Error Checking after the data transfer\r\n# -----------------------------------------------------------\r\n# Fetching the trace in Binary format\r\n# Transfer of traces in binary format is faster.\r\n# The waveformBIN data and waveformASC data are however the same.\r\n# -----------------------------------------------------------\r\nprint('Fetching waveform in binary format... ')\r\nwaveformBIN = RTB.query_binary_values('FORM:BORD LSBF;:FORM REAL;:CHAN1:DATA?')\r\nprint( 'Binary data samples read: {}'.format(len(waveformBIN)))\r\nRTB.close()\r\n  #  RTB.ext_error_checking()  # Error Checking at the end of the program\r\n\r\n#except VISAresourceExtentions.InstrumentErrorException, e:\r\n    # Catching instrument error exception and showing its content\r\n   # print( 'Instrument error(s) occurred:\\n' + e.message\r\n\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/417", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/417/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/417/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/417", "id": 452208301, "node_id": "MDU6SXNzdWU0NTIyMDgzMDE=", "number": 417, "title": "Issues Writing to Keithley 2611 Sourcemeter with Visa", "user": {"login": "rjserpe18", "id": 34760374, "node_id": "MDQ6VXNlcjM0NzYwMzc0", "avatar_url": "https://avatars0.githubusercontent.com/u/34760374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjserpe18", "html_url": "https://github.com/rjserpe18", "followers_url": "https://api.github.com/users/rjserpe18/followers", "following_url": "https://api.github.com/users/rjserpe18/following{/other_user}", "gists_url": "https://api.github.com/users/rjserpe18/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjserpe18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjserpe18/subscriptions", "organizations_url": "https://api.github.com/users/rjserpe18/orgs", "repos_url": "https://api.github.com/users/rjserpe18/repos", "events_url": "https://api.github.com/users/rjserpe18/events{/privacy}", "received_events_url": "https://api.github.com/users/rjserpe18/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-04T21:06:36Z", "updated_at": "2019-07-23T13:04:08Z", "closed_at": "2019-07-23T13:04:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a Keithley 2611 Sourcemeter connected to my computer via GPIB to USB. Visa behaves as I would expect when I ask it to list its resources. It provides the correct address for the source meter, and lets me set it as a new resource. \r\n\r\nI am also able to query the Keithley for its IDN, which it provides correctly. Attached below is the code I used to do all that. \r\n\r\n>>>import visa\r\n>>>import time\r\n\r\n>>>rm=visa.ResourceManager()\r\n\r\n>>>print(rm.list_resources())\r\n\r\n>>>keithley = rm.open_resource('GPIB0::10::INSTR')\r\n\r\n>>>print(keithley.query('*IDN?'))\r\n\r\n\r\nHowever, when I try and run the example code from the pyVisa documentation, \"A More Complex Example\", I encounter problems. \r\n\r\nPasted below is the code from that example: \r\n\r\n\r\n>>> keithley = rm.open_resource(\"GPIB::12\")\r\n>>> keithley.write(\"*rst; status:preset; *cls\")\r\n\r\n>>> interval_in_ms = 500\r\n>>> number_of_readings = 10\r\n>>> keithley.write(\"status:measurement:enable 512; *sre 1\")\r\n>>> keithley.write(\"sample:count %d\" % number_of_readings)\r\n>>> keithley.write(\"trigger:source bus\")\r\n>>> keithley.write(\"trigger:delay %f\" % (interval_in_ms / 1000.0))\r\n>>> keithley.write(\"trace:points %d\" % number_of_readings)\r\n>>> keithley.write(\"trace:feed sense1; feed:control next\")\r\n\r\n>>> keithley.write(\"initiate\")\r\n>>> keithley.assert_trigger()\r\n>>> keithley.wait_for_srq()\r\n\r\nWhen I run this portion of the code, the editor gets hung up on the last line (wait_for_srq()), giving me the following error: \r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/rex/PycharmProjects/EQEMeasurement/Multimeter.py\", line 28, in <module>\r\n    keithley.wait_for_srq()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyvisa/resources/gpib.py\", line 111, in wait_for_srq\r\n    self.wait_on_event(constants.VI_EVENT_SERVICE_REQ, adjusted_timeout)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyvisa/resources/resource.py\", line 342, in wait_on_event\r\n    event_type, context, ret = self.visalib.wait_on_event(self.session, in_event_type, timeout)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyvisa/ctwrapper/functions.py\", line 1848, in wait_on_event\r\n    byref(out_event_type), byref(out_context))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyvisa/ctwrapper/highlevel.py\", line 188, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\npyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.\r\n\r\nThe Keithley also displays \"ERROR -285\" on its readout when I try and run any of these write commands. It doesn't throw the timeout error until I ask it to wait for srq. \r\n\r\nAny idea what might be causing this timeout? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/416", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/416/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/416/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/416", "id": 451451130, "node_id": "MDU6SXNzdWU0NTE0NTExMzA=", "number": 416, "title": "Logging in __del__ causes issues since Python 3.4", "user": {"login": "cpu20", "id": 40474279, "node_id": "MDQ6VXNlcjQwNDc0Mjc5", "avatar_url": "https://avatars2.githubusercontent.com/u/40474279?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpu20", "html_url": "https://github.com/cpu20", "followers_url": "https://api.github.com/users/cpu20/followers", "following_url": "https://api.github.com/users/cpu20/following{/other_user}", "gists_url": "https://api.github.com/users/cpu20/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpu20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpu20/subscriptions", "organizations_url": "https://api.github.com/users/cpu20/orgs", "repos_url": "https://api.github.com/users/cpu20/repos", "events_url": "https://api.github.com/users/cpu20/events{/privacy}", "received_events_url": "https://api.github.com/users/cpu20/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-03T12:19:14Z", "updated_at": "2019-07-23T20:41:35Z", "closed_at": "2019-07-23T20:41:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using logging to a file, in a script that uses PyVisa, below exceptions occur:\r\n\r\n> Agilent Technologies,33220A,2.00-2.00-22-2\r\n>\r\n> Exception ignored in: <function Resource.__del__ at 0x034F1FA8>\r\n> Traceback (most recent call last):\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line > 108, in __del__\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line > 242, in close\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1371, in debug\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1519, in _log\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1529, in handle\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1591, in callHandlers\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 905, in handle\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1131, in emit\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1121, in _open\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\_bootlocale.py\", line 12, in getpreferredencoding\r\n> AttributeError: 'NoneType' object has no attribute 'utf8_mode'\r\n> Exception ignored in: <function ResourceManager.__del__ at 0x034D5C00>\r\n> Traceback (most recent call last):\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1564, in > __del__\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1585, in > close\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1371, in debug\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1519, in _log\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1529, in handle\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1591, in callHandlers\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 905, in handle\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1131, in emit\r\n>   File \"C:\\Program Files (x86)\\Python37-32\\lib\\logging\\__init__.py\", line 1121, in _open\r\n> NameError: name 'open' is not defined\r\n\r\nThe script used to generate these exceptions:\r\n\r\n```python\r\n#Encoding: utf-8\r\n\r\nimport visa, logging\r\n\r\nif __name__ == \"__main__\":\r\n     # Logging to a file causes NameError: name 'open' is not defined\r\n     logging.basicConfig(filename=\"debug.log\", level=logging.DEBUG)\r\n     logging.debug(\"Debug message\")\r\n\r\n     rm = visa.ResourceManager()\r\n     res = rm.list_resources()\r\n\r\n     inst = rm.open_resource(res[0])\r\n     print(inst.query(\"*IDN?\"))\r\n```\r\n\r\nThese exceptions occur when logging to a file and when using Python >3.4. This is because since Python 3.4, open() is no longer available in the destructor which causes the \"NameError: name 'open' is not defined\". (See: https://bugs.python.org/issue26789)\r\n\r\nA possible solution for this issue is to use atexit to execute the close() methods. I have tested this approach and it works as expected.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/414", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/414/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/414/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/414", "id": 449175470, "node_id": "MDU6SXNzdWU0NDkxNzU0NzA=", "number": 414, "title": "List of open Resources", "user": {"login": "ruggiamp", "id": 30072903, "node_id": "MDQ6VXNlcjMwMDcyOTAz", "avatar_url": "https://avatars3.githubusercontent.com/u/30072903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruggiamp", "html_url": "https://github.com/ruggiamp", "followers_url": "https://api.github.com/users/ruggiamp/followers", "following_url": "https://api.github.com/users/ruggiamp/following{/other_user}", "gists_url": "https://api.github.com/users/ruggiamp/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruggiamp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruggiamp/subscriptions", "organizations_url": "https://api.github.com/users/ruggiamp/orgs", "repos_url": "https://api.github.com/users/ruggiamp/repos", "events_url": "https://api.github.com/users/ruggiamp/events{/privacy}", "received_events_url": "https://api.github.com/users/ruggiamp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-28T09:56:47Z", "updated_at": "2019-07-23T13:06:55Z", "closed_at": "2019-07-23T13:06:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI would like to know how to retrieve a list of just the resources that are already open.\r\nOr, maybe, how do I ask a resource if it is open or not.\r\n\r\nMany thanks\r\nRuggero", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/412", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/412/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/412/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/412", "id": 446250132, "node_id": "MDU6SXNzdWU0NDYyNTAxMzI=", "number": 412, "title": "Timeout expired before operation completed", "user": {"login": "juniorcl", "id": 23095852, "node_id": "MDQ6VXNlcjIzMDk1ODUy", "avatar_url": "https://avatars1.githubusercontent.com/u/23095852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juniorcl", "html_url": "https://github.com/juniorcl", "followers_url": "https://api.github.com/users/juniorcl/followers", "following_url": "https://api.github.com/users/juniorcl/following{/other_user}", "gists_url": "https://api.github.com/users/juniorcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/juniorcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juniorcl/subscriptions", "organizations_url": "https://api.github.com/users/juniorcl/orgs", "repos_url": "https://api.github.com/users/juniorcl/repos", "events_url": "https://api.github.com/users/juniorcl/events{/privacy}", "received_events_url": "https://api.github.com/users/juniorcl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-20T18:24:47Z", "updated_at": "2019-05-22T15:44:23Z", "closed_at": "2019-05-22T15:11:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi. I use PyVISA since 2017.\r\nI use it to control the Lock-in (model SR830). \r\n\r\nBut since friday I am having problems to control it.\r\nWhen I type the command `inst.query('SNAP?')`, I get the error below:\r\n\r\n> Traceback (most recent call last):\r\n>   File \"<pyshell#9>\", line 1, in <module>\r\n>     inst.query('SNAP?')\r\n>   File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 569, in query\r\n>     return self.read()\r\n>   File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 413, in read\r\n>     message = self._read_raw().decode(enco)\r\n>   File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 386, in _read_raw\r\n>     chunk, status = self.visalib.read(self.session, size)\r\n>   File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1584, in read\r\n>     ret = library.viRead(session, buffer, count, byref(return_count))\r\n>   File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\r\n>     raise errors.VisaIOError(ret_value)\r\n> pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation \r\n> \r\n\r\nTherefore I tried to reinstall Python and the NIVISA driver, however nothing worked.\r\nThe command` inst.query('*IDN?')` works well.\r\n\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/408", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/408/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/408/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/408", "id": 436275686, "node_id": "MDU6SXNzdWU0MzYyNzU2ODY=", "number": 408, "title": "Broken links in docs", "user": {"login": "slightlynybbled", "id": 2328302, "node_id": "MDQ6VXNlcjIzMjgzMDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2328302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slightlynybbled", "html_url": "https://github.com/slightlynybbled", "followers_url": "https://api.github.com/users/slightlynybbled/followers", "following_url": "https://api.github.com/users/slightlynybbled/following{/other_user}", "gists_url": "https://api.github.com/users/slightlynybbled/gists{/gist_id}", "starred_url": "https://api.github.com/users/slightlynybbled/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slightlynybbled/subscriptions", "organizations_url": "https://api.github.com/users/slightlynybbled/orgs", "repos_url": "https://api.github.com/users/slightlynybbled/repos", "events_url": "https://api.github.com/users/slightlynybbled/events{/privacy}", "received_events_url": "https://api.github.com/users/slightlynybbled/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-23T16:16:18Z", "updated_at": "2019-04-23T16:28:06Z", "closed_at": "2019-04-23T16:26:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under `FAQ`, and `Which libraries are used by PyVISA-py`, the links for each of the projects pyserial and pyusb are both broken.\r\n\r\nhttps://pyvisa-py.readthedocs.io/en/latest/#which-libraries-are-used-by-pyvisa-py\r\n\r\nLink to pyserial: https://pythonhosted.org/pyserial/\r\n\r\nLink to pyusb: https://github.com/pyusb/pyusb\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/405", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/405/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/405/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/405", "id": 427782093, "node_id": "MDU6SXNzdWU0Mjc3ODIwOTM=", "number": 405, "title": "highlevel.open_resource return type too abstract", "user": {"login": "gasparka", "id": 16946258, "node_id": "MDQ6VXNlcjE2OTQ2MjU4", "avatar_url": "https://avatars2.githubusercontent.com/u/16946258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gasparka", "html_url": "https://github.com/gasparka", "followers_url": "https://api.github.com/users/gasparka/followers", "following_url": "https://api.github.com/users/gasparka/following{/other_user}", "gists_url": "https://api.github.com/users/gasparka/gists{/gist_id}", "starred_url": "https://api.github.com/users/gasparka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gasparka/subscriptions", "organizations_url": "https://api.github.com/users/gasparka/orgs", "repos_url": "https://api.github.com/users/gasparka/repos", "events_url": "https://api.github.com/users/gasparka/events{/privacy}", "received_events_url": "https://api.github.com/users/gasparka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-01T15:48:53Z", "updated_at": "2019-04-02T16:59:53Z", "closed_at": "2019-04-02T16:59:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Documented return type is `pyvisa.resources.Resource`, which is missing popular functions like `query`, `write` etc.. This leads IDEs to report mistakes in correct code:\r\n![Screenshot_2019-04-01_18-29-22](https://user-images.githubusercontent.com/16946258/55339327-1f226780-54ab-11e9-97cf-f45ea397462e.png)\r\nError: Unresolved attribute reference 'query' for class 'Resource' \r\n\r\nCurrent workaround is to annotate the type manually:\r\n```Python\r\nfrom pyvisa.resources import TCPIPInstrument\r\ninst: TCPIPInstrument = rm.open_resource(\"TCPIP::192.168.1.245\")\r\n```\r\nThis also gives you the appropriate IntelliSense. Now, it would be nice if PyVisa would handle this by default, but looks like the class hierarchy is quite complex. Ideas?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/404", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/404/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/404/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/404", "id": 426613677, "node_id": "MDU6SXNzdWU0MjY2MTM2Nzc=", "number": 404, "title": "Setting pyvisa-py as default backend in pyvisarc", "user": {"login": "jondoesntgit", "id": 7480168, "node_id": "MDQ6VXNlcjc0ODAxNjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7480168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jondoesntgit", "html_url": "https://github.com/jondoesntgit", "followers_url": "https://api.github.com/users/jondoesntgit/followers", "following_url": "https://api.github.com/users/jondoesntgit/following{/other_user}", "gists_url": "https://api.github.com/users/jondoesntgit/gists{/gist_id}", "starred_url": "https://api.github.com/users/jondoesntgit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jondoesntgit/subscriptions", "organizations_url": "https://api.github.com/users/jondoesntgit/orgs", "repos_url": "https://api.github.com/users/jondoesntgit/repos", "events_url": "https://api.github.com/users/jondoesntgit/events{/privacy}", "received_events_url": "https://api.github.com/users/jondoesntgit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-28T17:16:08Z", "updated_at": "2019-03-28T22:09:24Z", "closed_at": "2019-03-28T22:09:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on a system with both NI VISA and pyvisa-py (with linux-gpib) installed. NI-VISA doesn't support USB GPIB controllers, but linux-gpib does. I'd like to use `@py` as the default backend, but I haven't figured out how to do this using the `.pyvisarc` file.\r\n\r\n```\r\n$ python -m visa info\r\n\r\npython -m visa info\r\nMachine Details:\r\n   Platform ID:    Linux-3.10.0-957.10.1.el7.x86_64-x86_64-with-centos-7.6.1810-Core\r\n   Processor:      x86_64\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /home/daq/anaconda3/bin/python\r\n   Version:        3.7.1\r\n   Compiler:       GCC 7.3.0\r\n   Bits:           64bit\r\n   Build:          Dec 14 2018 19:28:38 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.9.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.9.1 (bundled with PyVISA)\r\n      #1: /usr/local/vxipnp/linux/lib64/libvisa.so:\r\n         found by: auto\r\n         bitness: 64\r\n         Vendor: National Instruments\r\n         Impl. Version: 16777216\r\n         Spec. Version: 5244672\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available \r\n      TCPIP SOCKET: Available \r\n      GPIB INSTR: Available via Linux GPIB (b'4.2.1')\r\n```\r\n\r\nAnd...\r\n\r\n```\r\n>>> import visa\r\n>>> visa.ResourceManager('@py')\r\n<ResourceManager(<VisaLibrary('unset')>)>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/401", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/401/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/401/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/401", "id": 421952419, "node_id": "MDU6SXNzdWU0MjE5NTI0MTk=", "number": 401, "title": "VisaIOError: VI_ERROR_INV_OBJECT (-1073807346): The given session or object reference is invalid.", "user": {"login": "ruggiamp", "id": 30072903, "node_id": "MDQ6VXNlcjMwMDcyOTAz", "avatar_url": "https://avatars3.githubusercontent.com/u/30072903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruggiamp", "html_url": "https://github.com/ruggiamp", "followers_url": "https://api.github.com/users/ruggiamp/followers", "following_url": "https://api.github.com/users/ruggiamp/following{/other_user}", "gists_url": "https://api.github.com/users/ruggiamp/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruggiamp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruggiamp/subscriptions", "organizations_url": "https://api.github.com/users/ruggiamp/orgs", "repos_url": "https://api.github.com/users/ruggiamp/repos", "events_url": "https://api.github.com/users/ruggiamp/events{/privacy}", "received_events_url": "https://api.github.com/users/ruggiamp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-03-17T17:48:45Z", "updated_at": "2020-07-23T12:42:13Z", "closed_at": "2020-07-23T12:42:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI am using pyvisa 1.9.1 within a Python 3.6 environment.\r\nI have installed TekVisa and I am working with a Tektronix MDO3024.\r\nI have connected the oscilloscope to the computer and I can detect it with the Tekvisa OpenChoice Instrument Manager.\r\nWhen I am trying to list resources [ rm.list_resources() ], I get the following:\r\n\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-3-defa3779928e>\", line 1, in <module>\r\n    rm.list_resources()\r\n\r\n  File \"C:\\Users\\ruggero\\Anaconda3\\envs\\QuantumLabControlPy36\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1637, in list_resources\r\n    return self.visalib.list_resources(self.session, query)\r\n\r\n  File \"C:\\Users\\ruggero\\Anaconda3\\envs\\QuantumLabControlPy36\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 247, in list_resources\r\n    raise e\r\n\r\n  File \"C:\\Users\\ruggero\\Anaconda3\\envs\\QuantumLabControlPy36\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 243, in list_resources\r\n    find_list, return_counter, instrument_description, err = self.find_resources(session, query)\r\n\r\n  File \"C:\\Users\\ruggero\\Anaconda3\\envs\\QuantumLabControlPy36\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 485, in find_resources\r\n    instrument_description)\r\n\r\n  File \"C:\\Users\\ruggero\\Anaconda3\\envs\\QuantumLabControlPy36\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\n\r\nVisaIOError: VI_ERROR_INV_OBJECT (-1073807346): The given session or object reference is invalid.\r\n\r\n\r\n\r\n\r\nI have no idea what is going on: could anyone help me?\r\nMany Thanks\r\nRuggero\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/400", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/400/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/400/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/400/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/400", "id": 418032303, "node_id": "MDU6SXNzdWU0MTgwMzIzMDM=", "number": 400, "title": "Making a device the talker", "user": {"login": "jondoesntgit", "id": 7480168, "node_id": "MDQ6VXNlcjc0ODAxNjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7480168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jondoesntgit", "html_url": "https://github.com/jondoesntgit", "followers_url": "https://api.github.com/users/jondoesntgit/followers", "following_url": "https://api.github.com/users/jondoesntgit/following{/other_user}", "gists_url": "https://api.github.com/users/jondoesntgit/gists{/gist_id}", "starred_url": "https://api.github.com/users/jondoesntgit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jondoesntgit/subscriptions", "organizations_url": "https://api.github.com/users/jondoesntgit/orgs", "repos_url": "https://api.github.com/users/jondoesntgit/repos", "events_url": "https://api.github.com/users/jondoesntgit/events{/privacy}", "received_events_url": "https://api.github.com/users/jondoesntgit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2019-03-06T22:09:12Z", "updated_at": "2020-07-23T12:42:28Z", "closed_at": "2020-07-23T12:42:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "How do you make devices the talker, and your interface the listener?\r\n\r\nI'm working with a SRS844 square-wave lock-in amplifier. I'd like to get data off of the device using GPIB. On page 130 of [the manual](https://www.thinksrs.com/downloads/pdfs/manuals/SR844m.pdf) SRS gives these instructions for reading data off of the device in live time:\r\n\r\nThe transfer mode should be turned on (using `FAST1`) before storage is\r\nstarted. Then use the `STRD` command (see below) to start data storage. After\r\nsending the `STRD` command, immediately make the SR844 a talker and the\r\ncontrolling interface a listener. Remember, the first transfer will occur with the\r\nvery first point.\r\n\r\nI've been poking around the internet for a few hours trying to find out how to make the SR844 the talker.\r\n\r\nThey give some sample C code to accomplish this, but I don't know how to do it in python:\r\n\r\nhttps://www.thinksrs.com/downloads/pdfs/manuals/SR844m.pdf\r\n\r\n```c\r\n// *******************************************************************\r\n// ***** Fast Data Transfer mode test *****\r\nprintf(\"FastAcqData\"); // Acquire and transfer data simultaneously\r\nsettimeout (11000); // Turn off timeout for SR844 or set the timeout longer\r\n// than the total acquisition time. The timeout measures\r\n// the time to complete a transfer,\r\n// not the time since the most recent byte is received.\r\nTxSr844(\"FAST1; STRD\"); // Turn FAST mode data transfer ON,\r\n// then start scan using the STRD start acquisition\r\n// after 0.5s.\r\n// The STRD command MUST be used if the data transfer\r\n// is to be started by this program! Do NOT use STRT!\r\n// Take data for 10 seconds and then stop.\r\n// 10 seconds of data at 64 Hz sample rate has\r\n// 640 points.\r\n// Each point consists of X(2 bytes) and Y(2 bytes)\r\n// for a total of 4*(64*10) bytes.\r\ntransmit (\"MLA TALK 8\", &status); // make sr844 the talker right away\r\nj=0; // total bytes received\r\nfor (i=0; i<10; i++) { // get 64 points (256 bytes) 10 times\r\nrarray ((char *)(FastBuf+128*i),64*4,&nCount,&status);\r\n// rarray receives bytes from the interface and puts them into the\r\n// FastBuf[] array. Each transfer moves 64 points (64*4 bytes).\r\n// The actual number of bytes transferred is in nCount.\r\nprintf (\".\"); j+=nCount;\r\n// update progress \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/398", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/398/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/398/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/398", "id": 417156895, "node_id": "MDU6SXNzdWU0MTcxNTY4OTU=", "number": 398, "title": "visa.ResourceManager('@ni') returns either visa64.dll or visa32.dll, choosing randomly", "user": {"login": "HansJA", "id": 1044922, "node_id": "MDQ6VXNlcjEwNDQ5MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1044922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HansJA", "html_url": "https://github.com/HansJA", "followers_url": "https://api.github.com/users/HansJA/followers", "following_url": "https://api.github.com/users/HansJA/following{/other_user}", "gists_url": "https://api.github.com/users/HansJA/gists{/gist_id}", "starred_url": "https://api.github.com/users/HansJA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HansJA/subscriptions", "organizations_url": "https://api.github.com/users/HansJA/orgs", "repos_url": "https://api.github.com/users/HansJA/repos", "events_url": "https://api.github.com/users/HansJA/events{/privacy}", "received_events_url": "https://api.github.com/users/HansJA/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2019-03-05T07:33:53Z", "updated_at": "2019-03-25T14:32:38Z", "closed_at": "2019-03-25T14:32:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "System info:\r\nPython 3.7.2\r\nPyVISA 1.9.1\r\nNI-VISA full 64bit install v18.5\r\nW10 fully updated as of this morning\r\n\r\nProblem: visa.ResourceManager('@ni') returns either visa64.dll or visa32.dll, choosing randomly.\r\n\r\none attempt:\r\nC:\\Users\\Hans\\Desktop>python\r\nPython 3.7.2 (tags/v3.7.2:9a3ffc0492, Dec 23 2018, 23:09:28) [MSC v.1916 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import visa\r\n>>> visa.ResourceManager('@ni')\r\n<ResourceManager(<VisaLibrary('C:\\\\WINDOWS\\\\system32\\\\visa64.dll')>)>\r\n>>> ^Z\r\n\r\n\r\nnext attempt\r\nC:\\Users\\Hans\\Desktop>python\r\nPython 3.7.2 (tags/v3.7.2:9a3ffc0492, Dec 23 2018, 23:09:28) [MSC v.1916 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import visa\r\n>>> visa.ResourceManager('@ni')\r\n<ResourceManager(<VisaLibrary('C:\\\\WINDOWS\\\\system32\\\\visa32.dll')>)>\r\n>>> ^Z\r\n\r\nIn 10 attempts visa32 was chosen 6 times, visa64 4 times.\r\n\r\nvisa32 gets chosen more often, my feeling is that in the longer perspective visa32.dll is chosen 7 or 8 times out of 10.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/397", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/397/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/397/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/397", "id": 414543916, "node_id": "MDU6SXNzdWU0MTQ1NDM5MTY=", "number": 397, "title": "pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed. (Keithley2260B)", "user": {"login": "riya1813", "id": 48014248, "node_id": "MDQ6VXNlcjQ4MDE0MjQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/48014248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/riya1813", "html_url": "https://github.com/riya1813", "followers_url": "https://api.github.com/users/riya1813/followers", "following_url": "https://api.github.com/users/riya1813/following{/other_user}", "gists_url": "https://api.github.com/users/riya1813/gists{/gist_id}", "starred_url": "https://api.github.com/users/riya1813/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/riya1813/subscriptions", "organizations_url": "https://api.github.com/users/riya1813/orgs", "repos_url": "https://api.github.com/users/riya1813/repos", "events_url": "https://api.github.com/users/riya1813/events{/privacy}", "received_events_url": "https://api.github.com/users/riya1813/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-02-26T10:40:23Z", "updated_at": "2019-09-04T22:37:19Z", "closed_at": "2019-09-04T22:37:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "While Querying or reading it throws timeout error,\r\nIn NI-Max it works fine with termination character enabled", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/396", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/396/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/396/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/396", "id": 414543907, "node_id": "MDU6SXNzdWU0MTQ1NDM5MDc=", "number": 396, "title": "pyvisa.errors.VisaIOError: VI_ERROR_TMO (-1073807339): Timeout expired before operation completed. (Keithley2260B)", "user": {"login": "riya1813", "id": 48014248, "node_id": "MDQ6VXNlcjQ4MDE0MjQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/48014248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/riya1813", "html_url": "https://github.com/riya1813", "followers_url": "https://api.github.com/users/riya1813/followers", "following_url": "https://api.github.com/users/riya1813/following{/other_user}", "gists_url": "https://api.github.com/users/riya1813/gists{/gist_id}", "starred_url": "https://api.github.com/users/riya1813/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/riya1813/subscriptions", "organizations_url": "https://api.github.com/users/riya1813/orgs", "repos_url": "https://api.github.com/users/riya1813/repos", "events_url": "https://api.github.com/users/riya1813/events{/privacy}", "received_events_url": "https://api.github.com/users/riya1813/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-26T10:40:22Z", "updated_at": "2019-02-26T11:21:49Z", "closed_at": "2019-02-26T11:21:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/395", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/395/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/395/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/395", "id": 411984995, "node_id": "MDU6SXNzdWU0MTE5ODQ5OTU=", "number": 395, "title": "Pyvisa 1.9.1 ressource manager problem with NRPZ sensors ", "user": {"login": "Mathieu1972", "id": 47786850, "node_id": "MDQ6VXNlcjQ3Nzg2ODUw", "avatar_url": "https://avatars2.githubusercontent.com/u/47786850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mathieu1972", "html_url": "https://github.com/Mathieu1972", "followers_url": "https://api.github.com/users/Mathieu1972/followers", "following_url": "https://api.github.com/users/Mathieu1972/following{/other_user}", "gists_url": "https://api.github.com/users/Mathieu1972/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mathieu1972/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mathieu1972/subscriptions", "organizations_url": "https://api.github.com/users/Mathieu1972/orgs", "repos_url": "https://api.github.com/users/Mathieu1972/repos", "events_url": "https://api.github.com/users/Mathieu1972/events{/privacy}", "received_events_url": "https://api.github.com/users/Mathieu1972/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-19T15:35:29Z", "updated_at": "2019-03-06T02:11:45Z", "closed_at": "2019-03-06T02:11:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI have tested with two generations of power sensors and the old one that was working has problem to be detected and the new one seems to stay in OS registry even if not connected, here is the trace of the debug mode:\r\n##############################################################################\r\n2019-02-19 10:08:00,191 - pyvisa - DEBUG - No visa library specified, trying to find alternatives.\r\n2019-02-19 10:08:00,192 - pyvisa - DEBUG - Environment variable PYVISA_LIBRARY is unset.\r\n2019-02-19 10:08:00,202 - pyvisa - DEBUG - No user defined library files\r\n2019-02-19 10:08:00,210 - pyvisa - DEBUG - Automatically found library files: ['C:\\\\WINDOWS\\\\system32\\\\visa32.dll']\r\n2019-02-19 10:08:00,210 - pyvisa - DEBUG - The NI implementation available\r\n2019-02-19 10:08:00,212 - pyvisa - DEBUG - No user defined library files\r\n2019-02-19 10:08:00,219 - pyvisa - DEBUG - Automatically found library files: ['C:\\\\WINDOWS\\\\system32\\\\visa32.dll']\r\n2019-02-19 10:08:00,230 - pyvisa - DEBUG - Library signatures: 90 ok, 0 failed\r\n2019-02-19 10:08:00,231 - pyvisa - DEBUG - Created library wrapper for C:\\WINDOWS\\system32\\visa32.dll\r\n2019-02-19 10:08:00,235 - pyvisa - DEBUG - viOpenDefaultRM('<ViObject object at 0x10F98760>',) -> 0\r\n2019-02-19 10:08:00,235 - pyvisa - DEBUG - Created ResourceManager with session 256\r\n2019-02-19 10:08:00,243 - pyvisa - DEBUG - viFindRsrc(256, '?*::INSTR', '<ViObject object at 0x10F98760>', 'c_ulong(2)', <ctypes.c_char_Array_256 object at 0x10F98EE0>) -> 0\r\n2019-02-19 10:08:00,243 - pyvisa - DEBUG - viFindNext(<ViObject object at 0x10F98760>, <ctypes.c_char_Array_256 object at 0x10F98EE0>) -> 0\r\n2019-02-19 10:08:00,243 - pyvisa - DEBUG - viClose(<ViObject object at 0x10F98760>,) -> 0\r\nLa liste d instrument est :('USB0::2733::313::101542::0::INSTR', 'USB0::2733::351::100921::0::INSTR')\r\n2019-02-19 10:08:00,244 - pyvisa - DEBUG - viParseRsrcEx(256, 'USB0::2733::313::101542::0::INSTR', 'c_ushort(7)', 'c_ushort(0)', <ctypes.c_char_Array_256 object at 0x10F98F80>, <ctypes.c_char_Array_256 object at 0x10F987B0>, <ctypes.c_char_Array_256 object at 0x10F98D50>) -> 0\r\n2019-02-19 10:08:00,245 - pyvisa - DEBUG - USB0::2733::313::101542::0::INSTR - opening ...\r\n2019-02-19 10:08:00,253 - pyvisa - DEBUG - viOpen(256, 'USB0::2733::313::101542::0::INSTR', <AccessModes.no_lock: 0>, 0, '<ViObject object at 0x10F98D50>') -> -1073807264\r\nTraceback (most recent call last):\r\n........\r\n    my_instrument =rm.open_resource(name)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1724, in open_resource\r\n    res.open(access_mode, open_timeout)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyvisa\\resources\\resource.py\", line 209, in open\r\n    self.session, status = self._resource_manager.open_bare_resource(self._resource_name, access_mode, open_timeout)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyvisa\\highlevel.py\", line 1681, in open_bare_resource\r\n    return self.visalib.open(self.session, resource_name, access_mode, open_timeout)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1213, in open\r\n    ret = library.viOpen(session, resource_name, access_mode, open_timeout, byref(out_session))\r\n  File \"C:\\Python37\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\r\n    raise errors.VisaIOError(ret_value)\r\npyvisa.errors.VisaIOError: VI_ERROR_NCIC (-1073807264): The interface associated with this session is not currently the controller in charge.\r\n>>>\r\n############################################################################\r\n\r\nThe problem is that none of the seen power sensors are plugged (NRP40S and NRP18SN) and the NRP Z21 power sensors are not seen at all, i had 2 of them plugged an not seens during this test.\r\n\r\nressource manager seems not work properly.\r\n  \r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/394", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/394/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/394/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/394", "id": 411958560, "node_id": "MDU6SXNzdWU0MTE5NTg1NjA=", "number": 394, "title": "time.clock has been deprecated in Python 3.3 and will be removed from Python 3.8", "user": {"login": "bjaraujo", "id": 5067963, "node_id": "MDQ6VXNlcjUwNjc5NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5067963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjaraujo", "html_url": "https://github.com/bjaraujo", "followers_url": "https://api.github.com/users/bjaraujo/followers", "following_url": "https://api.github.com/users/bjaraujo/following{/other_user}", "gists_url": "https://api.github.com/users/bjaraujo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjaraujo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjaraujo/subscriptions", "organizations_url": "https://api.github.com/users/bjaraujo/orgs", "repos_url": "https://api.github.com/users/bjaraujo/repos", "events_url": "https://api.github.com/users/bjaraujo/events{/privacy}", "received_events_url": "https://api.github.com/users/bjaraujo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "MatthieuDartiailh", "id": 4481740, "node_id": "MDQ6VXNlcjQ0ODE3NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4481740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthieuDartiailh", "html_url": "https://github.com/MatthieuDartiailh", "followers_url": "https://api.github.com/users/MatthieuDartiailh/followers", "following_url": "https://api.github.com/users/MatthieuDartiailh/following{/other_user}", "gists_url": "https://api.github.com/users/MatthieuDartiailh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthieuDartiailh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthieuDartiailh/subscriptions", "organizations_url": "https://api.github.com/users/MatthieuDartiailh/orgs", "repos_url": "https://api.github.com/users/MatthieuDartiailh/repos", "events_url": "https://api.github.com/users/MatthieuDartiailh/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthieuDartiailh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MatthieuDartiailh", "id": 4481740, "node_id": "MDQ6VXNlcjQ0ODE3NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/4481740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthieuDartiailh", "html_url": "https://github.com/MatthieuDartiailh", "followers_url": "https://api.github.com/users/MatthieuDartiailh/followers", "following_url": "https://api.github.com/users/MatthieuDartiailh/following{/other_user}", "gists_url": "https://api.github.com/users/MatthieuDartiailh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthieuDartiailh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthieuDartiailh/subscriptions", "organizations_url": "https://api.github.com/users/MatthieuDartiailh/orgs", "repos_url": "https://api.github.com/users/MatthieuDartiailh/repos", "events_url": "https://api.github.com/users/MatthieuDartiailh/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthieuDartiailh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-02-19T14:43:46Z", "updated_at": "2019-07-18T00:24:32Z", "closed_at": "2019-07-18T00:24:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "..C:\\Users\\bjaraujo\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\pyvisa\\resources\\gpib.py:101: DeprecationWarning: time.clock has been deprecated in Python 3.3 and will be removed from Python 3.8: use time.perf_counter or time.process_time instead\r\n  starting_time = time.clock()\r\nC:\\Users\\bjaraujo\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\pyvisa\\resources\\gpib.py:107: DeprecationWarning: time.clock has been deprecated in Python 3.3 and will be removed from Python 3.8: use time.perf_counter or time.process_time instead\r\n  adjusted_timeout = int((starting_time + timeout/1e3 - time.clock())*1e3)\r\n  \r\n>python -m visa info\r\n\r\n```\r\nMachine Details:\r\n   Platform ID:    Windows-10-10.0.16299-SP0\r\n   Processor:      Intel64 Family 6 Model 78 Stepping 3, GenuineIntel\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\bjaraujo\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe\r\n   Version:        3.7.2\r\n   Compiler:       MSC v.1916 32 bit (Intel)\r\n   Bits:           32bit\r\n   Build:          Dec 23 2018 22:20:52 (#tags/v3.7.2:9a3ffc0492)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.9.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.9.1 (bundled with PyVISA)\r\n      #1: C:\\WINDOWS\\system32\\visa32.dll:\r\n         found by: auto\r\n         bitness: 32\r\n         Vendor: National Instruments\r\n         Impl. Version: 17827072\r\n         Spec. Version: 5244928\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/393", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/393/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/393/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/393", "id": 409221671, "node_id": "MDU6SXNzdWU0MDkyMjE2NzE=", "number": 393, "title": "GPIB instrument not detected by pyvisa", "user": {"login": "bserra", "id": 42937247, "node_id": "MDQ6VXNlcjQyOTM3MjQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/42937247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bserra", "html_url": "https://github.com/bserra", "followers_url": "https://api.github.com/users/bserra/followers", "following_url": "https://api.github.com/users/bserra/following{/other_user}", "gists_url": "https://api.github.com/users/bserra/gists{/gist_id}", "starred_url": "https://api.github.com/users/bserra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bserra/subscriptions", "organizations_url": "https://api.github.com/users/bserra/orgs", "repos_url": "https://api.github.com/users/bserra/repos", "events_url": "https://api.github.com/users/bserra/events{/privacy}", "received_events_url": "https://api.github.com/users/bserra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-12T10:18:31Z", "updated_at": "2019-09-25T01:03:20Z", "closed_at": "2019-09-25T01:03:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a raspberry with pyvisa installed on it. I installed linux-gpib and tried this configuration a few times already (with NI or agilent 82357a/b GPIB-USB adapters).\r\n\r\nFirst time having this issue: the device is responding to ibtest but list_resources() from pyvisa does not list it.\r\n\r\npyvisa-info\r\n```\r\nMachine Details:\r\n   Platform ID:    Linux-4.14.79-v7+-armv7l-with-debian-9.6\r\n   Processor:\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     /home/irlabf/berryconda3/envs/pymont-env/bin/python\r\n   Version:        3.6.6\r\n   Compiler:       GCC 6.3.0 20170516\r\n   Bits:           32bit\r\n   Build:          Sep  6 2018 10:56:14 (#default)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.9.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.9.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n      USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR: Available via Linux GPIB (b'4.2.0')\r\n```\r\nTrying to list instruments using pyvisa\r\n```\r\nimport visa\r\nrm = visa.ResourceManager('@py')\r\nrm.list_resources()\r\n('ASRL/dev/ttyAMA0::INSTR',)\r\n```\r\nlsusb, my device (010) is on Bus 001\r\n```\r\nBus 001 Device 007: ID 1d57:0008 Xenta\r\nBus 001 Device 004: ID 258a:6a88\r\nBus 001 Device 010: ID 0957:0107 Agilent Technologies, Inc.\r\nBus 001 Device 006: ID 0424:7800 Standard Microsystems Corp.\r\nBus 001 Device 003: ID 0424:2514 Standard Microsystems Corp. USB 2.0 Hub\r\nBus 001 Device 002: ID 0424:2514 Standard Microsystems Corp. USB 2.0 Hub\r\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\r\n```\r\n\r\nAny idea of what I am doing wrong? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/392", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/392/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/392/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/392", "id": 408323737, "node_id": "MDU6SXNzdWU0MDgzMjM3Mzc=", "number": 392, "title": "AttributeError: module 'visa' has no attribute 'ResourceManager'", "user": {"login": "mcinquino", "id": 15634931, "node_id": "MDQ6VXNlcjE1NjM0OTMx", "avatar_url": "https://avatars0.githubusercontent.com/u/15634931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcinquino", "html_url": "https://github.com/mcinquino", "followers_url": "https://api.github.com/users/mcinquino/followers", "following_url": "https://api.github.com/users/mcinquino/following{/other_user}", "gists_url": "https://api.github.com/users/mcinquino/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcinquino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcinquino/subscriptions", "organizations_url": "https://api.github.com/users/mcinquino/orgs", "repos_url": "https://api.github.com/users/mcinquino/repos", "events_url": "https://api.github.com/users/mcinquino/events{/privacy}", "received_events_url": "https://api.github.com/users/mcinquino/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-02-08T21:05:56Z", "updated_at": "2019-08-19T02:59:51Z", "closed_at": "2019-08-19T02:59:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have a strange problem that is giving me the following error: AttributeError: module 'visa' has no attribute 'ResourceManager'\r\n\r\nWhat makes this strange is that when I run this program from IDLE I do not get this error. When I run the program from an application I have written in Lazarus using python for lazarus I get the above error.  Prior to getting this error the same code has been running flawlessly through the lazarus app. The lazarus app basically takes the code from a memobox and executes it as a script, it then returns the results to another memobox. \r\n\r\nCan anyone point me to what might be happening with this error. I am guessing it is not finding a library file or dll but they should all be in place as the code runs from IDLE. It may be useful to note that other python code runs fine. For example running code to pull the sys.path info runs fine. \r\n\r\nBelow is the code I am trying to run.\r\n\r\nThanks,\r\nMike\r\n\r\nimport sys\r\nimport visa\r\n\r\nif not hasattr(sys, 'argv'):\r\n    sys.argv  = ['']\r\n\r\nfrom ThorlabsPM100 import ThorlabsPM100\r\nrm = visa.ResourceManager()\r\nPM100D = rm.open_resource('USB0::0x1313::0x8078::P0010695::INSTR')\r\n#power_meter = ThorlabsPM100(inst=inst)\r\n\r\nprint (PM100D.read)\r\n\r\nprint(PM100D.query('measure:power?'))\r\nprint(PM100D.query('power:dc:unit?'))\r\nprint(PM100D.query('sense:corr:wav?'))\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/390", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/390/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/390/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/390", "id": 406814866, "node_id": "MDU6SXNzdWU0MDY4MTQ4NjY=", "number": 390, "title": "AttributeError: 'GPIBInstrument' object has no attribute 'flush'", "user": {"login": "KM4YRI", "id": 24699588, "node_id": "MDQ6VXNlcjI0Njk5NTg4", "avatar_url": "https://avatars1.githubusercontent.com/u/24699588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KM4YRI", "html_url": "https://github.com/KM4YRI", "followers_url": "https://api.github.com/users/KM4YRI/followers", "following_url": "https://api.github.com/users/KM4YRI/following{/other_user}", "gists_url": "https://api.github.com/users/KM4YRI/gists{/gist_id}", "starred_url": "https://api.github.com/users/KM4YRI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KM4YRI/subscriptions", "organizations_url": "https://api.github.com/users/KM4YRI/orgs", "repos_url": "https://api.github.com/users/KM4YRI/repos", "events_url": "https://api.github.com/users/KM4YRI/events{/privacy}", "received_events_url": "https://api.github.com/users/KM4YRI/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-02-05T14:43:14Z", "updated_at": "2020-07-24T14:42:43Z", "closed_at": "2020-07-23T12:43:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Problem\r\n\r\nThe `flush()` method cannot be called on a `GPIBInstrument` object\r\n\r\nI can do this from Labview, and the official NI VISA documentation says that viFlush() is valid for the following resource classes: `GPIB INSTR`, `GPIB INTFC`, `Serial INSTR`, `TCPIP INSTR`, `TCPIP SOCKET`, `VXI INSTR`, `VXI SERVANT`\r\n\r\nFrom looking at the pyvisa code, it appears as though the only resource class that has `flush()` implemented is asynchronous serial.\r\n\r\n## Steps to reproduce\r\n\r\n```\r\nimport visa\r\nrm = visa.ResourceManager()\r\nsession = rm.open_resource('GPIB0::5::INSTR')\r\nsession.flush()\r\n```\r\n\r\nreturns this error:\r\n\r\n```\r\nTraceback (most recent call last):\r\nsession.flush(0b00100000)\r\nAttributeError: 'GPIBInstrument' object has no attribute 'flush'\r\n```\r\n\r\n## Proposed fix\r\n\r\nImplement `flush()` by calling ``viFlush()`` within the `GPIBInstrument` class, and any other objects in the list above where it's safe to be called.\r\n\r\nIf you'd like that in the form of a pull request I can handle that, but wanted to ensure that this is indeed a bug and not a mis-interpretation on my end.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/389", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/389/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/389/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/389", "id": 402076153, "node_id": "MDU6SXNzdWU0MDIwNzYxNTM=", "number": 389, "title": "To elaborate on @gasparka, one thing you need to make sure is that the instrument does detect the end of your message when you write otherwise it will keep waiting, and this will not generate any visible error. The easiest way to is to pick a command that has a visible effect on the instrument front panel and check that something happen.", "user": {"login": "ZhaoMoMo", "id": 27986502, "node_id": "MDQ6VXNlcjI3OTg2NTAy", "avatar_url": "https://avatars2.githubusercontent.com/u/27986502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZhaoMoMo", "html_url": "https://github.com/ZhaoMoMo", "followers_url": "https://api.github.com/users/ZhaoMoMo/followers", "following_url": "https://api.github.com/users/ZhaoMoMo/following{/other_user}", "gists_url": "https://api.github.com/users/ZhaoMoMo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZhaoMoMo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZhaoMoMo/subscriptions", "organizations_url": "https://api.github.com/users/ZhaoMoMo/orgs", "repos_url": "https://api.github.com/users/ZhaoMoMo/repos", "events_url": "https://api.github.com/users/ZhaoMoMo/events{/privacy}", "received_events_url": "https://api.github.com/users/ZhaoMoMo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-23T05:21:58Z", "updated_at": "2019-01-23T05:29:13Z", "closed_at": "2019-01-23T05:29:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "To elaborate on @gasparka, one thing you need to make sure is that the instrument does detect the end of your message when you write otherwise it will keep waiting, and this will not generate any visible error. The easiest way to is to pick a command that has a visible effect on the instrument front panel and check that something happen.\r\n\r\n_Originally posted by @MatthieuDartiailh in https://github.com/pyvisa/pyvisa/issues/241#issuecomment-436319380_", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/388", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/388/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/388/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/388", "id": 398480397, "node_id": "MDU6SXNzdWUzOTg0ODAzOTc=", "number": 388, "title": "list_resources() doesn't list the device but open_resources works", "user": {"login": "gomelody", "id": 8817286, "node_id": "MDQ6VXNlcjg4MTcyODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8817286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gomelody", "html_url": "https://github.com/gomelody", "followers_url": "https://api.github.com/users/gomelody/followers", "following_url": "https://api.github.com/users/gomelody/following{/other_user}", "gists_url": "https://api.github.com/users/gomelody/gists{/gist_id}", "starred_url": "https://api.github.com/users/gomelody/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gomelody/subscriptions", "organizations_url": "https://api.github.com/users/gomelody/orgs", "repos_url": "https://api.github.com/users/gomelody/repos", "events_url": "https://api.github.com/users/gomelody/events{/privacy}", "received_events_url": "https://api.github.com/users/gomelody/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-11T22:49:48Z", "updated_at": "2019-04-09T13:06:48Z", "closed_at": "2019-04-09T13:06:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am writing some script to control Tektronix oscilloscope. With USB connected scope, it works perfectly. \r\nHowever when I change to a scope connected with Ethernet cable. \r\nlist_resources() doesn't list the device though it shows up in TekVisa or NIVisa manager. \r\nWith typing TCPIP address, open_resources works. \r\nSurprisingly, running the script with another laptop works. \r\nI put my script below. Thanks for your time. \r\n\r\n``` python\r\nimport visa\r\nimport sys\r\n\r\nrm = visa.ResourceManager()\r\nvisa_addresses = rm.list_resources()\r\nprint(visa_addresses)\r\n\r\nfor device in range (len(visa_addresses)):\r\n    try:\r\n        scope = rm.open_resource(visa_addresses[device])\r\n        if 'TEKTRONIX' in scope.query(\"*IDN?\"):\r\n            print('device found')\r\n            scope_address = visa_addresses[device]\r\n            scope.close()\r\n            break\r\n\r\n    except:\r\n        print('Failed to open %s' % visa_addresses[device])\r\n        if device == len(visa_addresses) - 1:\r\n            input('No Scope found. Press any key to exit')\r\n            exit()\r\n        continue\r\n    scope.close()\r\n\r\nscope = rm.open_resource(scope_address)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/386", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/386/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/386/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/386", "id": 395130405, "node_id": "MDU6SXNzdWUzOTUxMzA0MDU=", "number": 386, "title": "Wrapper not found: No package named pyvisa-py", "user": {"login": "HITTIH", "id": 37901440, "node_id": "MDQ6VXNlcjM3OTAxNDQw", "avatar_url": "https://avatars2.githubusercontent.com/u/37901440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HITTIH", "html_url": "https://github.com/HITTIH", "followers_url": "https://api.github.com/users/HITTIH/followers", "following_url": "https://api.github.com/users/HITTIH/following{/other_user}", "gists_url": "https://api.github.com/users/HITTIH/gists{/gist_id}", "starred_url": "https://api.github.com/users/HITTIH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HITTIH/subscriptions", "organizations_url": "https://api.github.com/users/HITTIH/orgs", "repos_url": "https://api.github.com/users/HITTIH/repos", "events_url": "https://api.github.com/users/HITTIH/events{/privacy}", "received_events_url": "https://api.github.com/users/HITTIH/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-02T01:35:30Z", "updated_at": "2019-01-02T12:28:35Z", "closed_at": "2019-01-02T12:28:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello, I encountered this problem too,and I tried the above methods,and it didn't work ,But once I run it the way below, it works.\r\n```\r\n>>> import visa\r\n>>> rm = visa.ResourceManager('@py')\r\n>>> eload = rm.open_resource('TCPIP0::10.44.90.19::INSTR')\r\n>>> eload.query('*IDN?')\r\n'Chroma,63210A-150-1000,63210AL00087,1.25,1.01,1.01\\n'\r\n```\r\nif I run it in this way \"python xxxx.py\"(which has the same code ), it didn't work and return \u201cWrapper not found: No package named pyvisa-py\u201d\u3002And it's no use doing what I did with another issue post.\r\nthis is the output of python -m visa info\uff1a\r\nMachine Details:\r\n   Platform ID:    Windows-7-6.1.7601-SP1\r\n   Processor:      x86 Family 6 Model 94 Stepping 3, GenuineInt\r\n\r\nPython:\r\n   Implementation: CPython\r\n   Executable:     C:\\Users\\m2717\\AppData\\Local\\Programs\\Python\r\non.exe\r\n   Version:        3.6.1\r\n   Compiler:       MSC v.1900 32 bit (Intel)\r\n   Bits:           32bit\r\n   Build:          Mar 21 2017 17:54:52 (#v3.6.1:69c0db5)\r\n   Unicode:        UCS4\r\n\r\nPyVISA Version: 1.9.1\r\n\r\nBackends:\r\n   ni:\r\n      Version: 1.9.1 (bundled with PyVISA)\r\n      Binary library: Not found\r\n   py:\r\n      Version: 0.3.1\r\n      ASRL INSTR: Available via PySerial (3.4)\r\n      USB INSTR:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      USB RAW:\r\n         Please install PyUSB to use this resource type.\r\n         No module named 'usb'\r\n      TCPIP INSTR: Available\r\n      TCPIP SOCKET: Available\r\n      GPIB INSTR:\r\n         Please install linux-gpib to use this resource type.\r\n         No module named 'gpib'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/379", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/379/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/379/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/379", "id": 381697849, "node_id": "MDU6SXNzdWUzODE2OTc4NDk=", "number": 379, "title": "ctwrapper/cthelper.py ResourceWarning: unclosed file", "user": {"login": "richey-v", "id": 6144958, "node_id": "MDQ6VXNlcjYxNDQ5NTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/6144958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richey-v", "html_url": "https://github.com/richey-v", "followers_url": "https://api.github.com/users/richey-v/followers", "following_url": "https://api.github.com/users/richey-v/following{/other_user}", "gists_url": "https://api.github.com/users/richey-v/gists{/gist_id}", "starred_url": "https://api.github.com/users/richey-v/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richey-v/subscriptions", "organizations_url": "https://api.github.com/users/richey-v/orgs", "repos_url": "https://api.github.com/users/richey-v/repos", "events_url": "https://api.github.com/users/richey-v/events{/privacy}", "received_events_url": "https://api.github.com/users/richey-v/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-16T17:44:39Z", "updated_at": "2018-11-27T15:18:33Z", "closed_at": "2018-11-27T15:18:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using pyvisa in my own unittest tests, I get:\r\n...pyvisa/ctwrapper/cthelper.py:66: ResourceWarning: unclosed file <_io.TextIOWrapper name=3 encoding='UTF-8'>\r\n  _os.popen('/sbin/ldconfig -p 2>/dev/null').read())\r\n...pyvisa/ctwrapper/cthelper.py:70: ResourceWarning: unclosed file <_io.TextIOWrapper name=3 encoding='UTF-8'>\r\n  res = re.search(expr, _os.popen(cmd).read())", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/377", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/377/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/377/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/377", "id": 380294168, "node_id": "MDU6SXNzdWUzODAyOTQxNjg=", "number": 377, "title": "How do you query but expect a binary response?", "user": {"login": "jason-s", "id": 738893, "node_id": "MDQ6VXNlcjczODg5Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/738893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jason-s", "html_url": "https://github.com/jason-s", "followers_url": "https://api.github.com/users/jason-s/followers", "following_url": "https://api.github.com/users/jason-s/following{/other_user}", "gists_url": "https://api.github.com/users/jason-s/gists{/gist_id}", "starred_url": "https://api.github.com/users/jason-s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jason-s/subscriptions", "organizations_url": "https://api.github.com/users/jason-s/orgs", "repos_url": "https://api.github.com/users/jason-s/repos", "events_url": "https://api.github.com/users/jason-s/events{/privacy}", "received_events_url": "https://api.github.com/users/jason-s/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-13T15:51:51Z", "updated_at": "2018-11-13T20:44:31Z", "closed_at": "2018-11-13T16:08:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "What's the right way to query but expect a binary response? I don't know the length so I can't use `read_bytes`... This code used to work with an earlier version of PyVISA a couple of years ago, now it's broken because of a UnicodeDecodeError. All I want to do is query but obtain a binary string in response.\r\n\r\n```\r\n>>> oscope.ask(\"*IDN?\") # Query the IDN properties of the scope\r\nu'AGILENT TECHNOLOGIES,MSO-X 3034A,MY53510287,02.37.2014052001\\n'\r\n\r\n>>> wfm_ascii = oscope.query(\":WAV:DATA?\") # Get the waveform data\r\n---------------------------------------------------------------------------\r\nUnicodeDecodeError                        Traceback (most recent call last)\r\n<ipython-input-4-13c026ae81c6> in <module>()\r\n----> 1 wfm_ascii = oscope.query(\":WAV:DATA?\") # Get the waveform data\r\n\r\nc:\\app\\python\\anaconda\\2\\lib\\site-packages\\pyvisa\\resources\\messagebased.pyc in query(self, message, delay)\r\n    567         if delay > 0.0:\r\n    568             time.sleep(delay)\r\n--> 569         return self.read()\r\n    570 \r\n    571     def ask(self, message, delay=None):\r\n\r\nc:\\app\\python\\anaconda\\2\\lib\\site-packages\\pyvisa\\resources\\messagebased.pyc in read(self, termination, encoding)\r\n    411         if termination is None:\r\n    412             termination = self._read_termination\r\n--> 413             message = self._read_raw().decode(enco)\r\n    414         else:\r\n    415             with self.read_termination_context(termination):\r\n\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xbc in position 10: ordinal not in range(128)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/376", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/376/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/376/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/376", "id": 378957584, "node_id": "MDU6SXNzdWUzNzg5NTc1ODQ=", "number": 376, "title": "PyVISA Version: 1.9.1 (miscellaneous error)", "user": {"login": "javiercasian", "id": 44882847, "node_id": "MDQ6VXNlcjQ0ODgyODQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/44882847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javiercasian", "html_url": "https://github.com/javiercasian", "followers_url": "https://api.github.com/users/javiercasian/followers", "following_url": "https://api.github.com/users/javiercasian/following{/other_user}", "gists_url": "https://api.github.com/users/javiercasian/gists{/gist_id}", "starred_url": "https://api.github.com/users/javiercasian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javiercasian/subscriptions", "organizations_url": "https://api.github.com/users/javiercasian/orgs", "repos_url": "https://api.github.com/users/javiercasian/repos", "events_url": "https://api.github.com/users/javiercasian/events{/privacy}", "received_events_url": "https://api.github.com/users/javiercasian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2018-11-08T23:15:58Z", "updated_at": "2018-12-04T00:51:14Z", "closed_at": "2018-12-04T00:51:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\nFirst of all, thanks for stopping by to read my post. I'm writing a test software to control instruments described below:\r\n\r\n1.- Signal Generator Hewlett-Packard 8648C\r\n2.- RF Counter Hewlett-Packard 53210A\r\n3.- DAQ Hewlett-Packard 34970A\r\n\r\nThe problem I'm having is that some of the times when I run my test script, instruments works as expected, but, some others don't. Please see below my system and VISA information:\r\n\r\n      Microsoft Windows [Version 6.1.7601]\r\n        Copyright (c) 2009 Microsoft Corporation.  All rights reserved.\r\n\r\n      C:\\Users\\M>python -m visa info\r\n      Machine Details:\r\n        Platform ID:    Windows-7-6.1.7601-SP1\r\n        Processor:      Intel64 Family 6 Model 70 Stepping 1, GenuineIntel\r\n\r\n      Python:\r\n         Implementation: CPython\r\n         Executable:     C:\\Python27\\python.exe\r\n         Version:        2.7.15\r\n         Compiler:       MSC v.1500 64 bit (AMD64)\r\n         Bits:           64bit\r\n         Build:          Apr 30 2018 16:30:26 (#v2.7.15:ca079a3ea3)\r\n         Unicode:        UCS2\r\n\r\n      PyVISA Version: 1.9.1\r\n\r\n      Backends:\r\n         ni:\r\n            Version: 1.9.1 (bundled with PyVISA)\r\n               #1: C:\\Windows\\System32\\visa32.dll:\r\n               found by: auto\r\n               bitness: 64\r\n               Vendor: Keysight Technologies\r\n               Impl. Version: 1377151778\r\n               Spec. Version: 5244928\r\n        #2: C:\\Windows\\System32\\visa64.dll:\r\n               found by: auto\r\n               bitness: 64\r\n               Vendor: Keysight Technologies\r\n               Impl. Version: 1377151778\r\n               Spec. Version: 5244928\r\n         py:\r\n            Version: 0.3.1\r\n            ASRL INSTR:\r\n               Please install PySerial (>=3.0) to use this resource type.\r\n               No module named serial\r\n            TCPIP INSTR: Available\r\n            USB RAW:\r\n               Please install PyUSB to use this resource type.\r\n               No module named usb\r\n            USB INSTR:\r\n               Please install PyUSB to use this resource type.\r\n               No module named usb\r\n            GPIB INSTR:\r\n               Please install linux-gpib to use this resource type.\r\n               No module named gpib\r\n            TCPIP SOCKET: Available\r\n\r\n\r\nAs well, please see below my code:\r\n\r\n\r\n       import visa \r\n       import time\r\n       import pyvisa\r\n\r\n        try:\r\n          inst_visa = (\"C:\\Program Files\\\\IVI Foundation\\\\VISA\\\\Win64\\\\agvisa\\\\agbin\\\\visa32.dll\")\r\n          rm = visa.ResourceManager(inst_visa)\r\n          rm.list_resources()\r\n          print(rm.list_resources())\r\n          print(\"Requesting Instruments ID \\n\")\r\n\r\n          SG8648C = rm.open_resource(\"GPIB0::12::INSTR\")\r\n          SG8648C.timeout =  5000\r\n          print (SG8648C.query(\"*IDN?\"))\r\n          time.sleep(3)\r\n\r\nWhen I ran my code using the pyVISA Debug Mode, this is the error I'm getting:\r\n\r\n    2018-10-11 19:09:37,707 - pyvisa - DEBUG - viParseRsrcEx(18L, 'GPIB2::11::INSTR', 'c_ushort(1)', 'c_ushort(2)', <ctypes.c_char_Array_256 object at 0x000000000A03D8C8>, <ctypes.c_char_Array_256 object at 0x000000000A03D0C8>, <ctypes.c_char_Array_256 object at 0x000000000A03BF48>) -> 0\r\n    2018-10-11 19:09:37,717 - pyvisa - DEBUG - GPIB2::11::INSTR - opening ...\r\n    2018-10-11 19:09:37,737 - pyvisa - DEBUG - viOpen(18L, 'GPIB2::11::INSTR', <AccessModes.no_lock: 0>, 0, '<ViObject object at 0x000000000A03D0C8>') -> 0\r\n    2018-10-11 19:09:37,747 - pyvisa - DEBUG - GPIB2::11::INSTR - is open with session 25\r\n    2018-10-11 19:09:37,757 - pyvisa - DEBUG - GPIB2::11::INSTR - closing\r\n    2018-10-11 19:09:37,767 - pyvisa - DEBUG - viDisableEvent(10L, 1073709055, 65535) -> 0\r\n    2018-10-11 19:09:37,778 - pyvisa - DEBUG - viDiscardEvents(10L, 1073709055, 65535) -> 1073676292\r\n    2018-10-11 19:09:37,798 - pyvisa - DEBUG - viClose(10L,) -> 0\r\n    2018-10-11 19:09:37,808 - pyvisa - DEBUG - GPIB2::11::INSTR - is closed\r\n    2018-10-11 19:09:37,848 - pyvisa - DEBUG - viSetAttribute(25L, 1073676314, 5000) -> 0\r\n    2018-10-11 19:09:38,128 - pyvisa - DEBUG - viWrite(25L, '*IDN?\\r\\n', 7, 'c_ulong(7L)') -> 0\r\n    2018-10-11 19:09:38,138 - pyvisa - DEBUG - GPIB2::11::INSTR - reading 20480 bytes (last status <StatusCode.success_max_count_read: 1073676294>)\r\n    2018-10-11 19:09:45,197 - pyvisa - DEBUG - viRead(25L, <ctypes.c_char_Array_20480 object at 0x000000000A03D0C8>, 20480, 'c_ulong(0L)') -> -1073807360\r\n    2018-10-11 19:09:45,217 - pyvisa - DEBUG - GPIB2::11::INSTR - exception while reading: VI_ERROR_SYSTEM_ERROR (-1073807360): Unknown system error (miscellaneous error).\r\n    Buffer content: bytearray(b'')\r\n    Unhandled exception while debugging...\r\n    Traceback (most recent call last):\r\n      File \"\\\\Mac\\Home\\Documents\\Python Scripts\\Python Win Scripts\\F-B\\F.009.py\", line 82, in <module>\r\n        print (RF53210A.query(\"*IDN?\"))\r\n      File \"C:\\Python27\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 569, in query\r\n        return self.read()\r\n      File \"C:\\Python27\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 413, in read\r\n        message = self._read_raw().decode(enco)\r\n      File \"C:\\Python27\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 386, in _read_raw\r\n        chunk, status = self.visalib.read(self.session, size)\r\n      File \"C:\\Python27\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1584, in read\r\n        ret = library.viRead(session, buffer, count, byref(return_count))\r\n      File \"C:\\Python27\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\r\n        raise errors.VisaIOError(ret_value)\r\n\r\n\r\nThe curious situation here, is that some of the times when I execute the command, the instrument is working and doing what supposedly be doing however, the VISA crashed. Please see below a second example: \r\n\r\nif I execute:\r\n            \r\n      measure = DA34970A.query('MEAS:VOLT:DC? (@101)')\r\n\r\nThe error rise up: \r\n\r\n      Traceback (most recent call last):\r\n        File \"C:\\Python34\\Lib\\site-packages\\pythonwin\\pywin\\framework\\scriptutils.py\", line 323, in \r\n      RunScript\r\n          debugger.run(codeObject, __main__.__dict__, start_stepping=0)\r\n         File \"C:\\Python34\\Lib\\site-packages\\pythonwin\\pywin\\debugger\\__init__.py\", line 60, in run\r\n           _GetCurrentDebugger().run(cmd, globals,locals, start_stepping)\r\n        File \"C:\\Python34\\Lib\\site-packages\\pythonwin\\pywin\\debugger\\debugger.py\", line 654, in run\r\n          exec(cmd, globals, locals)\r\n        File \"\\\\Mac\\Home\\Documents\\Python Scripts\\Python Win Scripts\\Band\\1.011.py\", \r\n      line 27, in <module>\r\n    \r\n        print(\"!============================================================\")\r\n        File \"C:\\Python34\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 569, in query\r\n          return self.read()\r\n        File \"C:\\Python34\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 413, in read\r\n          message = self._read_raw().decode(enco)\r\n        File \"C:\\Python34\\lib\\site-packages\\pyvisa\\resources\\messagebased.py\", line 386, in _read_raw\r\n           chunk, status = self.visalib.read(self.session, size)\r\n        File \"C:\\Python34\\lib\\site-packages\\pyvisa\\ctwrapper\\functions.py\", line 1584, in read\r\n           ret = library.viRead(session, buffer, count, byref(return_count))\r\n        File \"C:\\Python34\\lib\\site-packages\\pyvisa\\ctwrapper\\highlevel.py\", line 188, in _return_handler\r\n         raise errors.VisaIOError(ret_value)\r\n        pyvisa.errors.VisaIOError: VI_ERROR_SYSTEM_ERROR (-1073807360): Unknown system error \r\n      (miscellaneous error).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyvisa/pyvisa/issues/375", "repository_url": "https://api.github.com/repos/pyvisa/pyvisa", "labels_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/375/labels{/name}", "comments_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/375/comments", "events_url": "https://api.github.com/repos/pyvisa/pyvisa/issues/375/events", "html_url": "https://github.com/pyvisa/pyvisa/issues/375", "id": 378443416, "node_id": "MDU6SXNzdWUzNzg0NDM0MTY=", "number": 375, "title": "Mac Installation: VI_ERROR_LIBRARY_NFOUND ", "user": {"login": "natolambert", "id": 10695622, "node_id": "MDQ6VXNlcjEwNjk1NjIy", "avatar_url": "https://avatars2.githubusercontent.com/u/10695622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natolambert", "html_url": "https://github.com/natolambert", "followers_url": "https://api.github.com/users/natolambert/followers", "following_url": "https://api.github.com/users/natolambert/following{/other_user}", "gists_url": "https://api.github.com/users/natolambert/gists{/gist_id}", "starred_url": "https://api.github.com/users/natolambert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natolambert/subscriptions", "organizations_url": "https://api.github.com/users/natolambert/orgs", "repos_url": "https://api.github.com/users/natolambert/repos", "events_url": "https://api.github.com/users/natolambert/events{/privacy}", "received_events_url": "https://api.github.com/users/natolambert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-11-07T19:51:16Z", "updated_at": "2018-11-09T19:26:55Z", "closed_at": "2018-11-09T19:26:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to run pyvisa code to connect to GPIB devices, I encounter the following error:\r\n\r\n> pyvisa.errors.VisaIOError: VI_ERROR_LIBRARY_NFOUND (-1073807202): A code library required by VISA could not be located or loaded.\r\n\r\nFull error log here:\r\n\r\n> File \"IVF_GPIB.py\", line 48, in <module>\r\n>     supp= rm.open_resource('GPIB0::'+str(supp_add)+'::INSTR')\r\n>   File \"/Users/nato/miniconda3/envs/iono/lib/python3.5/site-packages/pyvisa/highlevel.py\", line 1703, in open_resource\r\n>     info = self.resource_info(resource_name, extended=True)\r\n>   File \"/Users/nato/miniconda3/envs/iono/lib/python3.5/site-packages/pyvisa/highlevel.py\", line 1663, in resource_info\r\n>     ret, err = self.visalib.parse_resource_extended(self.session, resource_name)\r\n>   File \"/Users/nato/miniconda3/envs/iono/lib/python3.5/site-packages/pyvisa/ctwrapper/functions.py\", line 1383, in parse_resource_extended\r\n>     alias_if_exists)\r\n>   File \"/Users/nato/miniconda3/envs/iono/lib/python3.5/site-packages/pyvisa/ctwrapper/highlevel.py\", line 188, in _return_handler\r\n>     raise errors.VisaIOError(ret_value)\r\n> pyvisa.errors.VisaIOError: VI_ERROR_LIBRARY_NFOUND (-1073807202): A code library required by VISA could not be located or loaded.\r\n\r\nThe lines of interest are below.\r\n`rm = visa.ResourceManager()`\r\n`supp= rm.open_resource('GPIB0::'+str(supp_add)+'::INSTR')`\r\n\r\nFollowing solutions online, many of them are for windows and suggest pointing to the correct .dll file, by adding the line of code below, but the dll file does not exist on mac (or is my installation incorrect?)\r\n`rm = visa.ResourceManager(r'C:\\WINDOWS\\system32\\visa64.dll')`\r\n\r\nWhen I check my pyvisa installation with\r\n`from pyvisa import util; util.get_debug_info()`\r\nI get the following output\r\n\r\n> Machine Details:\r\n>    Platform ID:    Darwin-18.0.0-x86_64-i386-64bit\r\n>    Processor:      i386\r\n> \r\n> Python:\r\n>    Implementation: CPython\r\n>    Executable:     /Users/nato/miniconda3/envs/iono/bin/python\r\n>    Version:        3.5.6\r\n>    Compiler:       GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)\r\n>    Bits:           64bit\r\n>    Build:          Aug 26 2018 16:30:03 (#default)\r\n>    Unicode:        UCS4\r\n> \r\n> PyVISA Version: 1.9.1\r\n> \r\n> Backends:\r\n>    ni:\r\n>       Version: 1.9.1 (bundled with PyVISA)\r\n>       #1: /Library/Frameworks/visa.framework/visa:\r\n>          found by: auto\r\n>          bitness: 32, 64\r\n>          Vendor: National Instruments\r\n>          Impl. Version: 18874368\r\n>          Spec. Version: 5244928\r\n>    py:\r\n>       Version: 0.3.1\r\n>       GPIB INSTR:\r\n>          Please install linux-gpib to use this resource type.\r\n>          No module named 'gpib'\r\n>       ASRL INSTR: Available via PySerial (3.4)\r\n>       TCPIP INSTR: Available \r\n>       USB INSTR: Available via PyUSB (1.0.2). Backend: libusb1\r\n>       TCPIP SOCKET: Available \r\n>       USB RAW: Available via PyUSB (1.0.2). Backend: libusb1\r\n\r\nInstalled with:\r\nMacOS 10.14\r\npython 3.5.6\r\npyvisa 1.1.\r\npyvisa-py 0.3.1\r\n\r\n", "performed_via_github_app": null, "score": 1.0}]}