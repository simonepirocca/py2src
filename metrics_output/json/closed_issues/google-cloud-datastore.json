{"total_count": 20, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/googleapis/python-datastore/issues/70", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/70/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/70/events", "html_url": "https://github.com/googleapis/python-datastore/issues/70", "id": 678664289, "node_id": "MDU6SXNzdWU2Nzg2NjQyODk=", "number": 70, "title": "Normalize emulator support", "user": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746504, "node_id": "MDU6TGFiZWwxODMxNzQ2NTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-13T18:54:37Z", "updated_at": "2020-08-14T17:55:47Z", "closed_at": "2020-08-14T17:55:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Follow the `google-cloud-firestore` [implementation](https://github.com/googleapis/python-firestore/blob/91d6580e2903ab55798d66bc53541faa86ca76fe/google/cloud/firestore_v1/client.py#L138-L147):\r\n- [ ] Drop use of the `google.cloud.environment_variables` indirection for the environment variable names driving emulation (likely also `DISABLE_GRPC` and `GCD_DATASET`.\r\n- [ ] Document the environment variables locally, as well as how to run the datastore emulator.\r\n- [ ] If the `DATASTORE_EMULATOR_HOST` environment variable is set, ~~use an \"insecure channel\", to avoid requiring credentials (see #11).~~ That won't work, as the datastore client straddles both HTTP and gRPC. Instead, use `AnonymousCredentials` if none are supplied.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/65", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/65/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/65/events", "html_url": "https://github.com/googleapis/python-datastore/issues/65", "id": 677121297, "node_id": "MDU6SXNzdWU2NzcxMjEyOTc=", "number": 65, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746104, "node_id": "MDU6TGFiZWwxODMxNzQ2MTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-11T19:01:38Z", "updated_at": "2020-08-12T04:19:34Z", "closed_at": "2020-08-12T04:19:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #62 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/64", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/64/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/64/events", "html_url": "https://github.com/googleapis/python-datastore/issues/64", "id": 677080735, "node_id": "MDU6SXNzdWU2NzcwODA3MzU=", "number": 64, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746104, "node_id": "MDU6TGFiZWwxODMxNzQ2MTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-11T18:01:29Z", "updated_at": "2020-08-11T18:18:19Z", "closed_at": "2020-08-11T18:18:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #62 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/53", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/53/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/53/events", "html_url": "https://github.com/googleapis/python-datastore/issues/53", "id": 673228407, "node_id": "MDU6SXNzdWU2NzMyMjg0MDc=", "number": 53, "title": "'TestClient.test_constructor_w_implicit_inputs' unit test failure", "user": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746280, "node_id": "MDU6TGFiZWwxODMxNzQ2Mjgw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/priority:%20p0", "name": "priority: p0", "color": "b60205", "default": false, "description": "Highest priority. Critical issue. P0 implies highest priority."}, {"id": 2254474966, "node_id": "MDU6TGFiZWwyMjU0NDc0OTY2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/testing", "name": "testing", "color": "0a872e", "default": false, "description": ""}, {"id": 1831746104, "node_id": "MDU6TGFiZWwxODMxNzQ2MTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-05T03:39:39Z", "updated_at": "2020-08-05T04:16:14Z", "closed_at": "2020-08-05T04:16:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From [this Kokoro build failure]():\r\n\r\n```python\r\n________________ TestClient.test_constructor_w_implicit_inputs _________________\r\n\r\nself = <tests.unit.test_client.TestClient testMethod=test_constructor_w_implicit_inputs>\r\n\r\n    def test_constructor_w_implicit_inputs(self):\r\n        from google.cloud.datastore.client import _CLIENT_INFO\r\n        from google.cloud.datastore.client import _DATASTORE_BASE_URL\r\n\r\n        other = \"other\"\r\n        creds = _make_credentials()\r\n\r\n        klass = self._get_target_class()\r\n        patch1 = mock.patch(\r\n            \"google.cloud.datastore.client._determine_default_project\",\r\n            return_value=other,\r\n        )\r\n        patch2 = mock.patch(\"google.auth.default\", return_value=(creds, None))\r\n\r\n        with patch1 as _determine_default_project:\r\n            with patch2 as default:\r\n                client = klass()\r\n\r\n        self.assertEqual(client.project, other)\r\n        self.assertIsNone(client.namespace)\r\n        self.assertIs(client._credentials, creds)\r\n        self.assertIs(client._client_info, _CLIENT_INFO)\r\n        self.assertIsNone(client._http_internal)\r\n        self.assertIsNone(client._client_options)\r\n        self.assertEqual(client.base_url, _DATASTORE_BASE_URL)\r\n\r\n        self.assertIsNone(client.current_batch)\r\n        self.assertIsNone(client.current_transaction)\r\n\r\n>       default.assert_called_once_with()\r\n\r\ntests/unit/test_client.py:183:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n.nox/unit-2-7/lib/python2.7/site-packages/mock/mock.py:957: in assert_called_once_with\r\n    return self.assert_called_with(*args, **kwargs)\r\n.nox/unit-2-7/lib/python2.7/site-packages/mock/mock.py:944: in assert_called_with\r\n    six.raise_from(AssertionError(_error_message(cause)), cause)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nvalue = AssertionError(\"expected call not found.\\nExpected: default()\\nActual: default(scopes=('https://www.googleapis.com/auth/datastore',))\",)\r\nfrom_value = None\r\n\r\n    def raise_from(value, from_value):\r\n>       raise value\r\nE       AssertionError: expected call not found.\r\nE       Expected: default()\r\nE       Actual: default(scopes=('https://www.googleapis.com/auth/datastore',))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/50", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/50/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/50/events", "html_url": "https://github.com/googleapis/python-datastore/issues/50", "id": 664003538, "node_id": "MDU6SXNzdWU2NjQwMDM1Mzg=", "number": 50, "title": "Implement new client options", "user": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746080, "node_id": "MDU6TGFiZWwxODMxNzQ2MDgw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-22T19:39:35Z", "updated_at": "2020-08-05T20:52:08Z", "closed_at": "2020-08-05T20:52:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Add support for the three new client_options `quota_project_id`, `scopes`, and `credentials_file`.  These options are implemented on the mirogenerator, so the completion of the migration may automatically fulfill this.\r\n\r\nhttps://googleapis.dev/python/google-api-core/latest/client_options.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/49", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/49/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/49/events", "html_url": "https://github.com/googleapis/python-datastore/issues/49", "id": 661693772, "node_id": "MDU6SXNzdWU2NjE2OTM3NzI=", "number": 49, "title": "Missing docs for Datastore Admin", "user": {"login": "turbaszek", "id": 9528307, "node_id": "MDQ6VXNlcjk1MjgzMDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/9528307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/turbaszek", "html_url": "https://github.com/turbaszek", "followers_url": "https://api.github.com/users/turbaszek/followers", "following_url": "https://api.github.com/users/turbaszek/following{/other_user}", "gists_url": "https://api.github.com/users/turbaszek/gists{/gist_id}", "starred_url": "https://api.github.com/users/turbaszek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/turbaszek/subscriptions", "organizations_url": "https://api.github.com/users/turbaszek/orgs", "repos_url": "https://api.github.com/users/turbaszek/repos", "events_url": "https://api.github.com/users/turbaszek/events{/privacy}", "received_events_url": "https://api.github.com/users/turbaszek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831745659, "node_id": "MDU6TGFiZWwxODMxNzQ1NjU5", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/documentation", "name": "documentation", "color": "0075ca", "default": true, "description": "Improvements or additions to documentation"}, {"id": 1831746439, "node_id": "MDU6TGFiZWwxODMxNzQ2NDM5", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-07-20T11:10:58Z", "updated_at": "2020-08-11T21:24:57Z", "closed_at": "2020-08-11T21:24:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThe documentation:\r\nhttps://googleapis.dev/python/datastore/latest/client.html\r\nhas serious defects because it has no documentation for\r\nhttps://github.com/googleapis/python-datastore/blob/677bb7bc9d4e9157266c35db5194422138970dfe/google/cloud/datastore_admin_v1/gapic/datastore_admin_client.py#L52-L57\r\nWe only have documentation for `datastore.Client`.\r\n\r\nSimilar issues has been raised for Firestore client: https://github.com/googleapis/python-firestore/issues/30\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/42", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/42/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/42/events", "html_url": "https://github.com/googleapis/python-datastore/issues/42", "id": 654437014, "node_id": "MDU6SXNzdWU2NTQ0MzcwMTQ=", "number": 42, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746104, "node_id": "MDU6TGFiZWwxODMxNzQ2MTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-10T01:02:00Z", "updated_at": "2020-08-11T17:29:09Z", "closed_at": "2020-08-11T17:29:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #29 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/38", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/38/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/38/events", "html_url": "https://github.com/googleapis/python-datastore/issues/38", "id": 642392470, "node_id": "MDU6SXNzdWU2NDIzOTI0NzA=", "number": 38, "title": "Synthesis failed for python-datastore", "user": {"login": "yoshi-automation", "id": 44816363, "node_id": "MDQ6VXNlcjQ0ODE2MzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/44816363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshi-automation", "html_url": "https://github.com/yoshi-automation", "followers_url": "https://api.github.com/users/yoshi-automation/followers", "following_url": "https://api.github.com/users/yoshi-automation/following{/other_user}", "gists_url": "https://api.github.com/users/yoshi-automation/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshi-automation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshi-automation/subscriptions", "organizations_url": "https://api.github.com/users/yoshi-automation/orgs", "repos_url": "https://api.github.com/users/yoshi-automation/repos", "events_url": "https://api.github.com/users/yoshi-automation/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshi-automation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831746467, "node_id": "MDU6TGFiZWwxODMxNzQ2NDY3", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1859983044, "node_id": "MDU6TGFiZWwxODU5OTgzMDQ0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/autosynth%20failure", "name": "autosynth failure", "color": "ededed", "default": false, "description": null}, {"id": 1831746230, "node_id": "MDU6TGFiZWwxODMxNzQ2MjMw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 1831746053, "node_id": "MDU6TGFiZWwxODMxNzQ2MDUz", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-06-20T15:03:47Z", "updated_at": "2020-07-01T22:19:55Z", "closed_at": "2020-07-01T22:19:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello! Autosynth couldn't regenerate python-datastore. :broken_heart:\n\nHere's the output from running `synth.py`:\n\n```\ns by performing another checkout.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -b with the checkout command again. Example:\n\n  git checkout -b <new-branch-name>\n\nHEAD is now at 756b174d fix: Add missing method_signature annotations for BigTable Admin Backup RPCs\n2020-06-20 08:03:41,028 autosynth [DEBUG] > Running: git branch -f autosynth-self-2\n2020-06-20 08:03:41,033 autosynth [DEBUG] > Running: git checkout autosynth-self-2\nSwitched to branch 'autosynth-self-2'\n2020-06-20 08:03:41,039 autosynth [INFO] > Running synthtool\n2020-06-20 08:03:41,039 autosynth [INFO] > ['/tmpfs/src/github/synthtool/env/bin/python3', '-m', 'synthtool', '--metadata', 'synth.metadata', 'synth.py', '--']\n2020-06-20 08:03:41,039 autosynth [DEBUG] > log_file_path: /tmpfs/src/github/synthtool/logs/googleapis/python-datastore/self/2/sponge_log.log\n2020-06-20 08:03:41,042 autosynth [DEBUG] > Running: /tmpfs/src/github/synthtool/env/bin/python3 -m synthtool --metadata synth.metadata synth.py --\n2020-06-20 08:03:41,270 synthtool [DEBUG] > Executing /home/kbuilder/.cache/synthtool/python-datastore/synth.py.\nOn branch autosynth-self-2\nnothing to commit, working tree clean\n2020-06-20 08:03:41,413 synthtool [DEBUG] > Ensuring dependencies.\n2020-06-20 08:03:41,427 synthtool [DEBUG] > Using precloned repo /home/kbuilder/.cache/synthtool/synthtool\n2020-06-20 08:03:41,432 synthtool [DEBUG] > Cloning googleapis.\n2020-06-20 08:03:41,432 synthtool [DEBUG] > Using precloned repo /home/kbuilder/.cache/synthtool/googleapis\n2020-06-20 08:03:41,437 synthtool [DEBUG] > Generating code for: //google/datastore/v1:datastore-v1-py.\n2020-06-20 08:03:45,160 synthtool [ERROR] > Failed executing bazel --max_idle_secs=60 build //google/datastore/v1:datastore-v1-py:\n\nLoading: \nLoading: 0 packages loaded\nLoading: 0 packages loaded\nINFO: SHA256 (https://github.com/googleapis/gapic-generator/archive/a59457d24bd6f3c962c8e699c708121c928eedc8.zip) = 843bcf262d44f6a2c1c131844ff8ef40daf95dd3b7c95dd761656f9e010d06d7\nLoading: 0 packages loaded\nDEBUG: Rule 'com_google_api_codegen' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"843bcf262d44f6a2c1c131844ff8ef40daf95dd3b7c95dd761656f9e010d06d7\"\nDEBUG: Call stack for the definition of repository 'com_google_api_codegen' which is a http_archive (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\n - <builtin>\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:62:1\nINFO: SHA256 (https://github.com/googleapis/protoc-java-resource-names-plugin/archive/64dafb71ea9a385a8da89989f0b9dab925bf4610.zip) = f475903e83904dbbe3651abae8cbf57ed804960a0dadd9cbde41b746db645052\nDEBUG: Rule 'com_google_protoc_java_resource_names_plugin' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"f475903e83904dbbe3651abae8cbf57ed804960a0dadd9cbde41b746db645052\"\nDEBUG: Call stack for the definition of repository 'com_google_protoc_java_resource_names_plugin' which is a http_archive (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\n - <builtin>\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:155:1\nLoading: 0 packages loaded\nINFO: SHA256 (https://github.com/googleapis/gapic-generator-go/archive/v0.13.3.tar.gz) = c18388bb1f1318dc5b00d9727beb9f9a079b64c2ef96a93cee83b5e11e172f02\nDEBUG: Rule 'com_googleapis_gapic_generator_go' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"c18388bb1f1318dc5b00d9727beb9f9a079b64c2ef96a93cee83b5e11e172f02\"\nDEBUG: Call stack for the definition of repository 'com_googleapis_gapic_generator_go' which is a http_archive (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\n - <builtin>\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:209:1\nAnalyzing: target //google/datastore/v1:datastore-v1-py (1 packages loaded, 0 targets configured)\nINFO: Call stack for the definition of repository 'go_sdk' which is a _go_download_sdk (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/io_bazel_rules_go/go/private/sdk.bzl:79:20):\n - <builtin>\n - /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/io_bazel_rules_go/go/private/sdk.bzl:92:5\n - /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/io_bazel_rules_go/go/private/sdk.bzl:260:13\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:81:1\nERROR: While resolving toolchains for target @pypi_black//:black: invalid registered toolchain '@gapic_generator_python//:pyenv3_toolchain': no such package '@gapic_generator_python//': The repository '@gapic_generator_python' could not be resolved\nERROR: Analysis of target '//google/datastore/v1:datastore-v1-py' failed; build aborted: invalid registered toolchain '@gapic_generator_python//:pyenv3_toolchain': no such package '@gapic_generator_python//': The repository '@gapic_generator_python' could not be resolved\nINFO: Elapsed time: 3.712s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (21 packages loaded, 95 targets configured)\nFAILED: Build did NOT complete successfully (21 packages loaded, 95 targets configured)\n\n2020-06-20 08:03:45,161 synthtool [DEBUG] > Wrote metadata to synth.metadata.\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/github/synthtool/synthtool/__main__.py\", line 102, in <module>\n    main()\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 829, in __call__\n    return self.main(*args, **kwargs)\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 782, in main\n    rv = self.invoke(ctx)\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 1066, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 610, in invoke\n    return callback(*args, **kwargs)\n  File \"/tmpfs/src/github/synthtool/synthtool/__main__.py\", line 94, in main\n    spec.loader.exec_module(synth_module)  # type: ignore\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n  File \"/home/kbuilder/.cache/synthtool/python-datastore/synth.py\", line 29, in <module>\n    include_protos=True,\n  File \"/tmpfs/src/github/synthtool/synthtool/gcp/gapic_bazel.py\", line 46, in py_library\n    return self._generate_code(service, version, \"python\", **kwargs)\n  File \"/tmpfs/src/github/synthtool/synthtool/gcp/gapic_bazel.py\", line 180, in _generate_code\n    shell.run(bazel_run_args)\n  File \"/tmpfs/src/github/synthtool/synthtool/shell.py\", line 39, in run\n    raise exc\n  File \"/tmpfs/src/github/synthtool/synthtool/shell.py\", line 33, in run\n    encoding=\"utf-8\",\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/subprocess.py\", line 438, in run\n    output=stdout, stderr=stderr)\nsubprocess.CalledProcessError: Command '['bazel', '--max_idle_secs=60', 'build', '//google/datastore/v1:datastore-v1-py']' returned non-zero exit status 1.\n2020-06-20 08:03:45,218 autosynth [ERROR] > Synthesis failed\n2020-06-20 08:03:45,218 autosynth [DEBUG] > Running: git reset --hard HEAD\nHEAD is now at 83c636e feat: add synth config to generate datastore_admin_v1 (#27)\n2020-06-20 08:03:45,224 autosynth [DEBUG] > Running: git checkout autosynth-self\nSwitched to branch 'autosynth-self'\n2020-06-20 08:03:45,230 autosynth [ERROR] > Command '['/tmpfs/src/github/synthtool/env/bin/python3', '-m', 'synthtool', '--metadata', 'synth.metadata', 'synth.py', '--']' returned non-zero exit status 1.\n2020-06-20 08:03:45,421 autosynth [INFO] > PR already exists: https://github.com/googleapis/python-datastore/pull/34\n2020-06-20 08:03:45,421 autosynth [DEBUG] > Running: git clean -fdx\nRemoving __pycache__/\nRemoving google/__pycache__/\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 649, in <module>\n    main()\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 506, in main\n    return _inner_main(temp_dir)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 629, in _inner_main\n    commit_count = synthesize_loop(x, multiple_prs, change_pusher, synthesizer)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 367, in synthesize_loop\n    synthesize_inner_loop(fork, synthesizer)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 411, in synthesize_inner_loop\n    synthesizer, len(toolbox.versions) - 1\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 266, in synthesize_version_in_new_branch\n    synthesizer.synthesize(synth_log_path, self.environ)\n  File \"/tmpfs/src/github/synthtool/autosynth/synthesizer.py\", line 120, in synthesize\n    synth_proc.check_returncode()  # Raise an exception.\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/subprocess.py\", line 389, in check_returncode\n    self.stderr)\nsubprocess.CalledProcessError: Command '['/tmpfs/src/github/synthtool/env/bin/python3', '-m', 'synthtool', '--metadata', 'synth.metadata', 'synth.py', '--']' returned non-zero exit status 1.\n\n```\n\nGoogle internal developers can see the full log [here](http://sponge2/results/invocations/e93a3b66-0b9d-4731-8049-5d33389af1dc/targets/github%2Fsynthtool;config=default/tests;query=python-datastore;failed=false).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/35", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/35/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/35/events", "html_url": "https://github.com/googleapis/python-datastore/issues/35", "id": 634728577, "node_id": "MDU6SXNzdWU2MzQ3Mjg1Nzc=", "number": 35, "title": "Error when importing from google.cloud import datastore", "user": {"login": "SaschaHeyer", "id": 1991664, "node_id": "MDQ6VXNlcjE5OTE2NjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1991664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SaschaHeyer", "html_url": "https://github.com/SaschaHeyer", "followers_url": "https://api.github.com/users/SaschaHeyer/followers", "following_url": "https://api.github.com/users/SaschaHeyer/following{/other_user}", "gists_url": "https://api.github.com/users/SaschaHeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/SaschaHeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SaschaHeyer/subscriptions", "organizations_url": "https://api.github.com/users/SaschaHeyer/orgs", "repos_url": "https://api.github.com/users/SaschaHeyer/repos", "events_url": "https://api.github.com/users/SaschaHeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/SaschaHeyer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831745941, "node_id": "MDU6TGFiZWwxODMxNzQ1OTQx", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/needs%20more%20info", "name": "needs more info", "color": "e0ff32", "default": false, "description": "This issue needs more information from the customer to proceed."}, {"id": 1831746154, "node_id": "MDU6TGFiZWwxODMxNzQ2MTU0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "HemangChothani", "id": 50404902, "node_id": "MDQ6VXNlcjUwNDA0OTAy", "avatar_url": "https://avatars3.githubusercontent.com/u/50404902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HemangChothani", "html_url": "https://github.com/HemangChothani", "followers_url": "https://api.github.com/users/HemangChothani/followers", "following_url": "https://api.github.com/users/HemangChothani/following{/other_user}", "gists_url": "https://api.github.com/users/HemangChothani/gists{/gist_id}", "starred_url": "https://api.github.com/users/HemangChothani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HemangChothani/subscriptions", "organizations_url": "https://api.github.com/users/HemangChothani/orgs", "repos_url": "https://api.github.com/users/HemangChothani/repos", "events_url": "https://api.github.com/users/HemangChothani/events{/privacy}", "received_events_url": "https://api.github.com/users/HemangChothani/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HemangChothani", "id": 50404902, "node_id": "MDQ6VXNlcjUwNDA0OTAy", "avatar_url": "https://avatars3.githubusercontent.com/u/50404902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HemangChothani", "html_url": "https://github.com/HemangChothani", "followers_url": "https://api.github.com/users/HemangChothani/followers", "following_url": "https://api.github.com/users/HemangChothani/following{/other_user}", "gists_url": "https://api.github.com/users/HemangChothani/gists{/gist_id}", "starred_url": "https://api.github.com/users/HemangChothani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HemangChothani/subscriptions", "organizations_url": "https://api.github.com/users/HemangChothani/orgs", "repos_url": "https://api.github.com/users/HemangChothani/repos", "events_url": "https://api.github.com/users/HemangChothani/events{/privacy}", "received_events_url": "https://api.github.com/users/HemangChothani/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-08T15:40:49Z", "updated_at": "2020-08-11T17:12:17Z", "closed_at": "2020-08-11T17:12:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Folks,\r\n\r\nwhen importing from google.cloud import datastore we are getting the following error.\r\n\r\nfrom google.cloud import datastore\r\nAttributeError: module 'grpc.experimental.aio' has no attribute 'UnaryUnaryCall'\r\nUsing the following version google-cloud-datastore==1.10.0\r\n\r\nIs this a known issue?\r\n\r\n#### Environment details\r\n\r\n  - OS type and version: /\r\n  - Python version: python 3.7\r\n  - pip version: `20.0.2`\r\n  - `google-cloud-datastore` version: 1.10.0\r\n\r\n#### Steps to reproduce\r\n\r\n  1. import datastore\r\n\r\n#### Code example\r\n\r\n```python\r\nfrom google.cloud import datastore\r\n```\r\n\r\n#### Stack trace\r\n```\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/32", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/32/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/32/events", "html_url": "https://github.com/googleapis/python-datastore/issues/32", "id": 619851609, "node_id": "MDU6SXNzdWU2MTk4NTE2MDk=", "number": 32, "title": "Unit tests do not run against the emulator", "user": {"login": "tsukasa-au", "id": 830457, "node_id": "MDQ6VXNlcjgzMDQ1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/830457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsukasa-au", "html_url": "https://github.com/tsukasa-au", "followers_url": "https://api.github.com/users/tsukasa-au/followers", "following_url": "https://api.github.com/users/tsukasa-au/following{/other_user}", "gists_url": "https://api.github.com/users/tsukasa-au/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsukasa-au/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsukasa-au/subscriptions", "organizations_url": "https://api.github.com/users/tsukasa-au/orgs", "repos_url": "https://api.github.com/users/tsukasa-au/repos", "events_url": "https://api.github.com/users/tsukasa-au/events{/privacy}", "received_events_url": "https://api.github.com/users/tsukasa-au/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746104, "node_id": "MDU6TGFiZWwxODMxNzQ2MTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-18T01:46:15Z", "updated_at": "2020-08-11T17:06:04Z", "closed_at": "2020-07-09T11:26:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS type and version: Arch linux\r\n  - Python version: `3.8.2`\r\n  - pip version: `20.0.2`\r\n  - `google-cloud-datastore` version: `master`\r\n\r\n#### Steps to reproduce\r\n\r\n  1. run unit tests\r\n```shell\r\n$(gcloud beta emulators datastore env-init)  # Enable the emulator\r\nnox -s system-3.8  # Run test (using python3.8 support added in #31)\r\n```\r\n  2. See failures where some tests run against the real datastore instance, others fail due to incorrect test data, while others fail due to bugs in the emulator.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/31", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/31/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/31/events", "html_url": "https://github.com/googleapis/python-datastore/issues/31", "id": 619850400, "node_id": "MDU6SXNzdWU2MTk4NTA0MDA=", "number": 31, "title": "Unit tests are not run against python3.8", "user": {"login": "tsukasa-au", "id": 830457, "node_id": "MDQ6VXNlcjgzMDQ1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/830457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsukasa-au", "html_url": "https://github.com/tsukasa-au", "followers_url": "https://api.github.com/users/tsukasa-au/followers", "following_url": "https://api.github.com/users/tsukasa-au/following{/other_user}", "gists_url": "https://api.github.com/users/tsukasa-au/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsukasa-au/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsukasa-au/subscriptions", "organizations_url": "https://api.github.com/users/tsukasa-au/orgs", "repos_url": "https://api.github.com/users/tsukasa-au/repos", "events_url": "https://api.github.com/users/tsukasa-au/events{/privacy}", "received_events_url": "https://api.github.com/users/tsukasa-au/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746104, "node_id": "MDU6TGFiZWwxODMxNzQ2MTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-18T01:41:14Z", "updated_at": "2020-07-08T09:45:40Z", "closed_at": "2020-07-08T09:45:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for stopping by to let us know something could be better!\r\n\r\n#### Environment details\r\n\r\n  - OS type and version: Arch linux\r\n  - Python version: `3.8.2`\r\n  - pip version: `20.0.2` (installed in virtual env)\r\n  - `google-cloud-datastore` version: `master`\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Run unit tests on machine with only python3.8 installed\r\n  2. Tests don't run\r\n\r\n\r\nNOTE: This issue is being created so that it can be attached to a PR.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/25", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/25/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/25/events", "html_url": "https://github.com/googleapis/python-datastore/issues/25", "id": 606351507, "node_id": "MDU6SXNzdWU2MDYzNTE1MDc=", "number": 25, "title": "Memory allocated by datastore.Client is not freed", "user": {"login": "edeca", "id": 199051, "node_id": "MDQ6VXNlcjE5OTA1MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/199051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edeca", "html_url": "https://github.com/edeca", "followers_url": "https://api.github.com/users/edeca/followers", "following_url": "https://api.github.com/users/edeca/following{/other_user}", "gists_url": "https://api.github.com/users/edeca/gists{/gist_id}", "starred_url": "https://api.github.com/users/edeca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edeca/subscriptions", "organizations_url": "https://api.github.com/users/edeca/orgs", "repos_url": "https://api.github.com/users/edeca/repos", "events_url": "https://api.github.com/users/edeca/events{/privacy}", "received_events_url": "https://api.github.com/users/edeca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746504, "node_id": "MDU6TGFiZWwxODMxNzQ2NTA0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-24T14:22:42Z", "updated_at": "2020-04-27T19:33:51Z", "closed_at": "2020-04-25T09:17:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS type and version: Tested on Windows 10 and Debian 10.3\r\n  - Python version: 3.7.4 (Windows) and 3.8.2 (Debian)\r\n  - pip version: 19.0.3 (Windows) and 20.0.2 (Debian)\r\n  - `google-cloud-datastore` version: 1.12.0\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Create a `datastore.Client` object in some scope (e.g. a method).\r\n  2. Allow all references to go out of scope.\r\n  3. Observe that memory is still allocated which does not get released until the Python interpreter exits.\r\n\r\n#### Code example\r\n\r\nThe following example \"leaks\" approximately 1MiB per call:\r\n\r\n```python\r\nimport os\r\nimport psutil\r\nimport humanize\r\nfrom google.cloud import datastore\r\nfrom google.oauth2 import service_account\r\n\r\n\r\ndef test_datastore(entity_type: str) -> list:\r\n    creds = service_account.Credentials.from_service_account_file(\"/path/to/creds\")\r\n    client = datastore.Client(credentials=creds, project=\"my-project\")\r\n    query = client.query(kind=entity_type, namespace=\"my-namespace\")\r\n    query.keys_only()\r\n    \r\n    # Note that memory increases even if there are zero results\r\n    for result in query.fetch(1):\r\n        print(f\"[+] Got a result: {result}\")\r\n\r\n\r\ndef main():\r\n    process = psutil.Process(os.getpid())\r\n\r\n    for n in range(100):\r\n        print(\"[+] Iteration {}, memory usage {} bytes\".format(n, humanize.naturalsize(process.memory_info().rss, binary=True)))\r\n        test_datastore(\"my-entity-type\")\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n```\r\n\r\nOutput looks like:\r\n\r\n```\r\n[+] Iteration 0, memory usage 38.9 MiB bytes\r\n[+] Iteration 1, memory usage 45.9 MiB bytes\r\n[+] Iteration 2, memory usage 46.8 MiB bytes\r\n[+] Iteration 3, memory usage 47.6 MiB bytes\r\n..\r\n[+] Iteration 98, memory usage 136.3 MiB bytes\r\n[+] Iteration 99, memory usage 137.1 MiB bytes\r\n```\r\n\r\nIf the `datastore.Client` object is defined outside the function and passed to it, memory usage does not increase.\r\n\r\nObviously in a small program it is preferable to initialise a client once and pass it around. In other cases it may be hard (or impossible) to safely pass the client object around.\r\n\r\nThis particularly affected me in a long running Flask application where one client object was created per request. That use-case can likely be refactored to share a client object, but in general any memory allocated should probably be released.\r\n\r\nSome additional data from Python's mprof is available in [this StackOverflow question](https://stackoverflow.com/q/61396879/3004249). I believe this points to the problem being in a C library, rather than Python code.\r\n\r\nI have not yet managed to track down where the memory is allocated, so it's possible the bug is in a supporting library. A [similar issue for grpc](https://github.com/grpc/grpc/issues/22123) might point to a problem elsewhere.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/20", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/20/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/20/events", "html_url": "https://github.com/googleapis/python-datastore/issues/20", "id": 595384285, "node_id": "MDU6SXNzdWU1OTUzODQyODU=", "number": 20, "title": "'offset' (for queries) not implemented correctly ", "user": {"login": "crwilcox", "id": 638797, "node_id": "MDQ6VXNlcjYzODc5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/638797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crwilcox", "html_url": "https://github.com/crwilcox", "followers_url": "https://api.github.com/users/crwilcox/followers", "following_url": "https://api.github.com/users/crwilcox/following{/other_user}", "gists_url": "https://api.github.com/users/crwilcox/gists{/gist_id}", "starred_url": "https://api.github.com/users/crwilcox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crwilcox/subscriptions", "organizations_url": "https://api.github.com/users/crwilcox/orgs", "repos_url": "https://api.github.com/users/crwilcox/repos", "events_url": "https://api.github.com/users/crwilcox/events{/privacy}", "received_events_url": "https://api.github.com/users/crwilcox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746230, "node_id": "MDU6TGFiZWwxODMxNzQ2MjMw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}], "state": "closed", "locked": false, "assignee": {"login": "crwilcox", "id": 638797, "node_id": "MDQ6VXNlcjYzODc5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/638797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crwilcox", "html_url": "https://github.com/crwilcox", "followers_url": "https://api.github.com/users/crwilcox/followers", "following_url": "https://api.github.com/users/crwilcox/following{/other_user}", "gists_url": "https://api.github.com/users/crwilcox/gists{/gist_id}", "starred_url": "https://api.github.com/users/crwilcox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crwilcox/subscriptions", "organizations_url": "https://api.github.com/users/crwilcox/orgs", "repos_url": "https://api.github.com/users/crwilcox/repos", "events_url": "https://api.github.com/users/crwilcox/events{/privacy}", "received_events_url": "https://api.github.com/users/crwilcox/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "crwilcox", "id": 638797, "node_id": "MDQ6VXNlcjYzODc5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/638797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crwilcox", "html_url": "https://github.com/crwilcox", "followers_url": "https://api.github.com/users/crwilcox/followers", "following_url": "https://api.github.com/users/crwilcox/following{/other_user}", "gists_url": "https://api.github.com/users/crwilcox/gists{/gist_id}", "starred_url": "https://api.github.com/users/crwilcox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crwilcox/subscriptions", "organizations_url": "https://api.github.com/users/crwilcox/orgs", "repos_url": "https://api.github.com/users/crwilcox/repos", "events_url": "https://api.github.com/users/crwilcox/events{/privacy}", "received_events_url": "https://api.github.com/users/crwilcox/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-06T19:52:06Z", "updated_at": "2020-04-07T21:17:12Z", "closed_at": "2020-04-07T21:11:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you have a large collection, with large objects, and a large offset, limits and offsets aren't respected as expected.\r\n\r\nThe below sample shows how this can happen.\r\n\r\n\r\nb/146579743\r\n\r\n```\r\n\r\n# Imports the Google Cloud client library\r\nfrom google.cloud import datastore\r\nimport six\r\nimport string\r\n\r\n\r\nMAX_STRING = (string.ascii_lowercase * 58)[:1500]\r\nTOTAL_OBJECTS = 1500\r\n\r\n# Instantiates a client\r\ndatastore_client = datastore.Client()\r\nKIND = \"LargeKind\"\r\ndef put_objects(count):\r\n    # The name/ID for the new entity\r\n    for i in range(count):\r\n        name = f'sampletask{i:05d}'\r\n        # The Cloud Datastore key for the new entity\r\n        task_key = datastore_client.key(KIND, name)\r\n\r\n        # Prepares the new entity\r\n        task = datastore.Entity(key=task_key)\r\n        task['name'] = f\"{i:05d}\"\r\n        task['family'] = 'Stark'\r\n        task['alive'] = False\r\n\r\n        for i in string.ascii_lowercase:\r\n            task[f'space-{i}'] = MAX_STRING\r\n            \r\n        # Saves the entity\r\n        datastore_client.put(task)\r\n\r\n\r\ndef query_objects(total_entities):\r\n    page_query = datastore_client.query(kind=KIND)\r\n    page_query.add_filter(\"family\", \"=\", \"Stark\")\r\n    page_query.add_filter(\"alive\",  \"=\", False)\r\n    # page_query.order = \"name\"\r\n    offset = 100 # This is greater than the number of entries.\r\n    limit = 100\r\n    \r\n    def verify(limit, offset, expected):\r\n        iterator = page_query.fetch(limit=limit, offset=offset)\r\n        entities = [e for e in iterator]\r\n        if len(entities) != expected:\r\n            print(f\"{limit}, {offset}, {expected}. Returned: {len(entities)}\")\r\n            #breakpoint()\r\n\r\n    print(\"Verify that with no offset there are the correct # of results\")\r\n    verify(limit=None, offset=None, expected=TOTAL_OBJECTS)\r\n    \r\n    print(\"Verify that with no limit there are results (offset provided)\")\r\n    verify(limit=None, offset=900, expected=TOTAL_OBJECTS-900)    \r\n\r\n    print(\"offset beyond items larger Verify 200 items found\")\r\n    verify(limit=200, offset=1100, expected=200)\r\n\r\n    print(\"Offset within range, expect 50 despite larger limit\")\r\n    verify(limit=100, offset=TOTAL_OBJECTS-50, expected=50)\r\n\r\n    print(\"offset beyond items larger Verify no items found\")\r\n    verify(limit=200, offset=TOTAL_OBJECTS+1000, expected=0)\r\n\r\n# put_objects(TOTAL_OBJECTS)\r\nquery_objects(TOTAL_OBJECTS)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/15", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/15/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/15/events", "html_url": "https://github.com/googleapis/python-datastore/issues/15", "id": 568302651, "node_id": "MDU6SXNzdWU1NjgzMDI2NTE=", "number": 15, "title": "Synthesis failed for python-datastore", "user": {"login": "yoshi-automation", "id": 44816363, "node_id": "MDQ6VXNlcjQ0ODE2MzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/44816363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshi-automation", "html_url": "https://github.com/yoshi-automation", "followers_url": "https://api.github.com/users/yoshi-automation/followers", "following_url": "https://api.github.com/users/yoshi-automation/following{/other_user}", "gists_url": "https://api.github.com/users/yoshi-automation/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshi-automation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshi-automation/subscriptions", "organizations_url": "https://api.github.com/users/yoshi-automation/orgs", "repos_url": "https://api.github.com/users/yoshi-automation/repos", "events_url": "https://api.github.com/users/yoshi-automation/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshi-automation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831746467, "node_id": "MDU6TGFiZWwxODMxNzQ2NDY3", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 1859983044, "node_id": "MDU6TGFiZWwxODU5OTgzMDQ0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/autosynth%20failure", "name": "autosynth failure", "color": "ededed", "default": false, "description": null}, {"id": 1831746230, "node_id": "MDU6TGFiZWwxODMxNzQ2MjMw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 1831746053, "node_id": "MDU6TGFiZWwxODMxNzQ2MDUz", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-20T13:33:53Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2020-02-20T23:24:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello! Autosynth couldn't regenerate python-datastore. :broken_heart:\n\nHere's the output from running `synth.py`:\n\n```\nCloning into 'working_repo'...\nSwitched to branch 'autosynth'\nRunning synthtool\n['/tmpfs/src/git/autosynth/env/bin/python3', '-m', 'synthtool', 'synth.py', '--']\nsynthtool > Executing /tmpfs/src/git/autosynth/working_repo/synth.py.\nOn branch autosynth\nnothing to commit, working tree clean\nHEAD detached at FETCH_HEAD\nnothing to commit, working tree clean\nsynthtool > Ensuring dependencies.\nsynthtool > Pulling artman image.\nlatest: Pulling from googleapis/artman\nDigest: sha256:6aec9c34db0e4be221cdaf6faba27bdc07cfea846808b3d3b964dfce3a9a0f9b\nStatus: Image is up to date for googleapis/artman:latest\nsynthtool > Cloning googleapis.\nsynthtool > Running generator for google/datastore/artman_datastore.yaml.\nsynthtool > Generated code into /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/datastore-v1.\nsynthtool > Copy: /home/kbuilder/.cache/synthtool/googleapis/google/datastore/v1/entity.proto to /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/datastore-v1/google/cloud/datastore_v1/proto/entity.proto\nsynthtool > Copy: /home/kbuilder/.cache/synthtool/googleapis/google/datastore/v1/datastore.proto to /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/datastore-v1/google/cloud/datastore_v1/proto/datastore.proto\nsynthtool > Copy: /home/kbuilder/.cache/synthtool/googleapis/google/datastore/v1/query.proto to /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/datastore-v1/google/cloud/datastore_v1/proto/query.proto\nsynthtool > Placed proto files into /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/datastore-v1/google/cloud/datastore_v1/proto.\n.coveragerc\n.flake8\n.github/CONTRIBUTING.md\n.github/ISSUE_TEMPLATE/bug_report.md\n.github/ISSUE_TEMPLATE/feature_request.md\n.github/ISSUE_TEMPLATE/support_request.md\n.github/PULL_REQUEST_TEMPLATE.md\n.github/release-please.yml\n.gitignore\n.kokoro/build.sh\n.kokoro/continuous/common.cfg\n.kokoro/continuous/continuous.cfg\n.kokoro/docs/common.cfg\n.kokoro/docs/docs.cfg\n.kokoro/presubmit/common.cfg\n.kokoro/presubmit/presubmit.cfg\n.kokoro/publish-docs.sh\n.kokoro/release.sh\n.kokoro/release/common.cfg\n.kokoro/release/release.cfg\n.kokoro/trampoline.sh\nCODE_OF_CONDUCT.md\nCONTRIBUTING.rst\nLICENSE\nMANIFEST.in\ndocs/_static/custom.css\ndocs/_templates/layout.html\ndocs/conf.py.j2\nnoxfile.py.j2\nrenovate.json\nsetup.cfg\nRunning session blacken\nCreating virtual environment (virtualenv) using python3.6 in .nox/blacken\npip install black==19.3b0\nError: pip is not installed into the virtualenv, it is located at /tmpfs/src/git/autosynth/env/bin/pip. Pass external=True into run() to explicitly allow this.\nSession blacken failed.\nsynthtool > Failed executing nox -s blacken:\n\nNone\nsynthtool > Wrote metadata to synth.metadata.\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/__main__.py\", line 102, in <module>\n    main()\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 764, in __call__\n    return self.main(*args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 717, in main\n    rv = self.invoke(ctx)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 956, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/__main__.py\", line 94, in main\n    spec.loader.exec_module(synth_module)  # type: ignore\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\n  File \"/tmpfs/src/git/autosynth/working_repo/synth.py\", line 42, in <module>\n    s.shell.run([\"nox\", \"-s\", \"blacken\"], hide_output=False)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/shell.py\", line 39, in run\n    raise exc\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/shell.py\", line 33, in run\n    encoding=\"utf-8\",\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/subprocess.py\", line 418, in run\n    output=stdout, stderr=stderr)\nsubprocess.CalledProcessError: Command '['nox', '-s', 'blacken']' returned non-zero exit status 1.\n\nSynthesis failed\n\n```\n\nGoogle internal developers can see the full log [here](https://sponge/bc296324-7867-4eae-a113-8090e6bcc834).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/14", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/14/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/14/events", "html_url": "https://github.com/googleapis/python-datastore/issues/14", "id": 564990369, "node_id": "MDU6SXNzdWU1NjQ5OTAzNjk=", "number": 14, "title": "Need help with basic query fetching", "user": {"login": "sunandosamaddar", "id": 44464454, "node_id": "MDQ6VXNlcjQ0NDY0NDU0", "avatar_url": "https://avatars3.githubusercontent.com/u/44464454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunandosamaddar", "html_url": "https://github.com/sunandosamaddar", "followers_url": "https://api.github.com/users/sunandosamaddar/followers", "following_url": "https://api.github.com/users/sunandosamaddar/following{/other_user}", "gists_url": "https://api.github.com/users/sunandosamaddar/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunandosamaddar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunandosamaddar/subscriptions", "organizations_url": "https://api.github.com/users/sunandosamaddar/orgs", "repos_url": "https://api.github.com/users/sunandosamaddar/repos", "events_url": "https://api.github.com/users/sunandosamaddar/events{/privacy}", "received_events_url": "https://api.github.com/users/sunandosamaddar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746154, "node_id": "MDU6TGFiZWwxODMxNzQ2MTU0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "IlyaFaer", "id": 26030071, "node_id": "MDQ6VXNlcjI2MDMwMDcx", "avatar_url": "https://avatars1.githubusercontent.com/u/26030071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IlyaFaer", "html_url": "https://github.com/IlyaFaer", "followers_url": "https://api.github.com/users/IlyaFaer/followers", "following_url": "https://api.github.com/users/IlyaFaer/following{/other_user}", "gists_url": "https://api.github.com/users/IlyaFaer/gists{/gist_id}", "starred_url": "https://api.github.com/users/IlyaFaer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IlyaFaer/subscriptions", "organizations_url": "https://api.github.com/users/IlyaFaer/orgs", "repos_url": "https://api.github.com/users/IlyaFaer/repos", "events_url": "https://api.github.com/users/IlyaFaer/events{/privacy}", "received_events_url": "https://api.github.com/users/IlyaFaer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "IlyaFaer", "id": 26030071, "node_id": "MDQ6VXNlcjI2MDMwMDcx", "avatar_url": "https://avatars1.githubusercontent.com/u/26030071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IlyaFaer", "html_url": "https://github.com/IlyaFaer", "followers_url": "https://api.github.com/users/IlyaFaer/followers", "following_url": "https://api.github.com/users/IlyaFaer/following{/other_user}", "gists_url": "https://api.github.com/users/IlyaFaer/gists{/gist_id}", "starred_url": "https://api.github.com/users/IlyaFaer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IlyaFaer/subscriptions", "organizations_url": "https://api.github.com/users/IlyaFaer/orgs", "repos_url": "https://api.github.com/users/IlyaFaer/repos", "events_url": "https://api.github.com/users/IlyaFaer/events{/privacy}", "received_events_url": "https://api.github.com/users/IlyaFaer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-13T11:46:16Z", "updated_at": "2020-02-20T12:14:14Z", "closed_at": "2020-02-20T12:14:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**google-cloud-datastore version: 1.10.0**\r\nCode e.g.:\r\n\r\n```\r\nclient = datastore.Client(\r\n        project=project,\r\n        namespace='default',\r\n        credentials=credentials)\r\nquery = client.query(kind='User')\r\nquery.add_filter('username', '=', username)\r\nresult_entity = list(query.fetch(limit=2)).pop()\r\n```\r\n\r\nThe code fails at last line whether using `limit` or not.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/3", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/3/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/3/events", "html_url": "https://github.com/googleapis/python-datastore/issues/3", "id": 561355286, "node_id": "MDU6SXNzdWU1NjEzNTUyODY=", "number": 3, "title": "Datastore: Allow retry and timeout configuration on a per instance level", "user": {"login": "Subaku", "id": 1900930, "node_id": "MDQ6VXNlcjE5MDA5MzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1900930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Subaku", "html_url": "https://github.com/Subaku", "followers_url": "https://api.github.com/users/Subaku/followers", "following_url": "https://api.github.com/users/Subaku/following{/other_user}", "gists_url": "https://api.github.com/users/Subaku/gists{/gist_id}", "starred_url": "https://api.github.com/users/Subaku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Subaku/subscriptions", "organizations_url": "https://api.github.com/users/Subaku/orgs", "repos_url": "https://api.github.com/users/Subaku/repos", "events_url": "https://api.github.com/users/Subaku/events{/privacy}", "received_events_url": "https://api.github.com/users/Subaku/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746154, "node_id": "MDU6TGFiZWwxODMxNzQ2MTU0", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-14T18:16:38Z", "updated_at": "2020-08-12T19:38:06Z", "closed_at": "2020-08-12T19:38:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems the configuration for these two items are buried in the code and can't be configured on a per use basis. When debugging connectivity issues the default timeout takes forever and would love to set a shorter timeout on my calls to `query.fetch(...)` for example.\r\n\r\nOr perhaps I've missed something in the docs?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/5", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/5/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/5/events", "html_url": "https://github.com/googleapis/python-datastore/issues/5", "id": 561355353, "node_id": "MDU6SXNzdWU1NjEzNTUzNTM=", "number": 5, "title": "DataStore: query.add_filter return self", "user": {"login": "cha0sCat", "id": 47235156, "node_id": "MDQ6VXNlcjQ3MjM1MTU2", "avatar_url": "https://avatars3.githubusercontent.com/u/47235156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cha0sCat", "html_url": "https://github.com/cha0sCat", "followers_url": "https://api.github.com/users/cha0sCat/followers", "following_url": "https://api.github.com/users/cha0sCat/following{/other_user}", "gists_url": "https://api.github.com/users/cha0sCat/gists{/gist_id}", "starred_url": "https://api.github.com/users/cha0sCat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cha0sCat/subscriptions", "organizations_url": "https://api.github.com/users/cha0sCat/orgs", "repos_url": "https://api.github.com/users/cha0sCat/repos", "events_url": "https://api.github.com/users/cha0sCat/events{/privacy}", "received_events_url": "https://api.github.com/users/cha0sCat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746080, "node_id": "MDU6TGFiZWwxODMxNzQ2MDgw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "HemangChothani", "id": 50404902, "node_id": "MDQ6VXNlcjUwNDA0OTAy", "avatar_url": "https://avatars3.githubusercontent.com/u/50404902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HemangChothani", "html_url": "https://github.com/HemangChothani", "followers_url": "https://api.github.com/users/HemangChothani/followers", "following_url": "https://api.github.com/users/HemangChothani/following{/other_user}", "gists_url": "https://api.github.com/users/HemangChothani/gists{/gist_id}", "starred_url": "https://api.github.com/users/HemangChothani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HemangChothani/subscriptions", "organizations_url": "https://api.github.com/users/HemangChothani/orgs", "repos_url": "https://api.github.com/users/HemangChothani/repos", "events_url": "https://api.github.com/users/HemangChothani/events{/privacy}", "received_events_url": "https://api.github.com/users/HemangChothani/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-21T15:25:33Z", "updated_at": "2020-02-27T22:00:44Z", "closed_at": "2020-02-27T22:00:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "this method return an None type\r\noriginal code like this\r\n\r\n```\r\n# class google.cloud.datastore.query.Query\r\nclass Query(object):\r\n    ........\r\n    def add_filter(self, property_name, operator, value):\r\n        if self.OPERATORS.get(operator) is None:\r\n            error_message = 'Invalid expression: \"%s\"' % (operator,)\r\n            choices_message = \"Please use one of: =, <, <=, >, >=.\"\r\n            raise ValueError(error_message, choices_message)\r\n\r\n        if property_name == \"__key__\" and not isinstance(value, Key):\r\n            raise ValueError('Invalid key: \"%s\"' % value)\r\n\r\n        self._filters.append((property_name, operator, value))\r\n```\r\nThis makes it impossible to add filtering and fetch it on one line \r\n\r\nPlease let it return it self!\r\n\r\nTherefore you can code like this:\r\n`query_results = client.query(kind='Task').add_filter(\"name\", \"=\", \"something\").fetch()`\r\n\r\nCode modification requires only one line, but this will be of great benefit.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/6", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/6/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/6/events", "html_url": "https://github.com/googleapis/python-datastore/issues/6", "id": 561355383, "node_id": "MDU6SXNzdWU1NjEzNTUzODM=", "number": 6, "title": "Datastore: reserve_ids() method implemented incorrectly", "user": {"login": "justinkwaugh", "id": 1012189, "node_id": "MDQ6VXNlcjEwMTIxODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1012189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justinkwaugh", "html_url": "https://github.com/justinkwaugh", "followers_url": "https://api.github.com/users/justinkwaugh/followers", "following_url": "https://api.github.com/users/justinkwaugh/following{/other_user}", "gists_url": "https://api.github.com/users/justinkwaugh/gists{/gist_id}", "starred_url": "https://api.github.com/users/justinkwaugh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justinkwaugh/subscriptions", "organizations_url": "https://api.github.com/users/justinkwaugh/orgs", "repos_url": "https://api.github.com/users/justinkwaugh/repos", "events_url": "https://api.github.com/users/justinkwaugh/events{/privacy}", "received_events_url": "https://api.github.com/users/justinkwaugh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831746467, "node_id": "MDU6TGFiZWwxODMxNzQ2NDY3", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746187, "node_id": "MDU6TGFiZWwxODMxNzQ2MTg3", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 1831746053, "node_id": "MDU6TGFiZWwxODMxNzQ2MDUz", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "IlyaFaer", "id": 26030071, "node_id": "MDQ6VXNlcjI2MDMwMDcx", "avatar_url": "https://avatars1.githubusercontent.com/u/26030071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IlyaFaer", "html_url": "https://github.com/IlyaFaer", "followers_url": "https://api.github.com/users/IlyaFaer/followers", "following_url": "https://api.github.com/users/IlyaFaer/following{/other_user}", "gists_url": "https://api.github.com/users/IlyaFaer/gists{/gist_id}", "starred_url": "https://api.github.com/users/IlyaFaer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IlyaFaer/subscriptions", "organizations_url": "https://api.github.com/users/IlyaFaer/orgs", "repos_url": "https://api.github.com/users/IlyaFaer/repos", "events_url": "https://api.github.com/users/IlyaFaer/events{/privacy}", "received_events_url": "https://api.github.com/users/IlyaFaer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-12T05:48:39Z", "updated_at": "2020-08-11T17:11:37Z", "closed_at": "2020-08-11T17:11:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "The implementation is taking a single completed key and a number of ids, rather than an array of completed keys.  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/8", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/8/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/8/events", "html_url": "https://github.com/googleapis/python-datastore/issues/8", "id": 561355440, "node_id": "MDU6SXNzdWU1NjEzNTU0NDA=", "number": 8, "title": "Datastore: Add support for creating a database with option for choosing modes.", "user": {"login": "himanshu219", "id": 3620468, "node_id": "MDQ6VXNlcjM2MjA0Njg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3620468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himanshu219", "html_url": "https://github.com/himanshu219", "followers_url": "https://api.github.com/users/himanshu219/followers", "following_url": "https://api.github.com/users/himanshu219/following{/other_user}", "gists_url": "https://api.github.com/users/himanshu219/gists{/gist_id}", "starred_url": "https://api.github.com/users/himanshu219/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himanshu219/subscriptions", "organizations_url": "https://api.github.com/users/himanshu219/orgs", "repos_url": "https://api.github.com/users/himanshu219/repos", "events_url": "https://api.github.com/users/himanshu219/events{/privacy}", "received_events_url": "https://api.github.com/users/himanshu219/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746080, "node_id": "MDU6TGFiZWwxODMxNzQ2MDgw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-04T07:50:46Z", "updated_at": "2020-08-11T18:46:25Z", "closed_at": "2020-08-11T18:46:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently there is no way to create a database in datastore via APIs and customers find it frustrating to go to the console create a database choose the mode in their project.\r\n\r\nIt would be good if we can automate this and provide APIs so that one can achieve this via gcloud sdk, python sdk etc.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-datastore/issues/11", "repository_url": "https://api.github.com/repos/googleapis/python-datastore", "labels_url": "https://api.github.com/repos/googleapis/python-datastore/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-datastore/issues/11/comments", "events_url": "https://api.github.com/repos/googleapis/python-datastore/issues/11/events", "html_url": "https://github.com/googleapis/python-datastore/issues/11", "id": 561355542, "node_id": "MDU6SXNzdWU1NjEzNTU1NDI=", "number": 11, "title": "Datastore: Client requires authentication even when connecting to the datastore emulator", "user": {"login": "rylz", "id": 933737, "node_id": "MDQ6VXNlcjkzMzczNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/933737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylz", "html_url": "https://github.com/rylz", "followers_url": "https://api.github.com/users/rylz/followers", "following_url": "https://api.github.com/users/rylz/following{/other_user}", "gists_url": "https://api.github.com/users/rylz/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylz/subscriptions", "organizations_url": "https://api.github.com/users/rylz/orgs", "repos_url": "https://api.github.com/users/rylz/repos", "events_url": "https://api.github.com/users/rylz/events{/privacy}", "received_events_url": "https://api.github.com/users/rylz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1831747596, "node_id": "MDU6TGFiZWwxODMxNzQ3NTk2", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/api:%20datastore", "name": "api: datastore", "color": "141ff7", "default": false, "description": "Issues related to the Cloud Datastore API."}, {"id": 1831746080, "node_id": "MDU6TGFiZWwxODMxNzQ2MDgw", "url": "https://api.github.com/repos/googleapis/python-datastore/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-08-03T00:25:36Z", "updated_at": "2020-08-15T16:09:30Z", "closed_at": "2020-08-11T18:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to construct a datastore client on a box that has the datastore emulator enabled and running, I get the following:\r\n```\r\n  File \".../model/datastore.py\", line 6, in <module>\r\n    client = datastore.Client()\r\n  File \".../lib/python3.6/site-packages/google/cloud/datastore/client.py\", line 205, in __init__\r\n    project=project, credentials=credentials, _http=_http)\r\n  File \".../lib/python3.6/site-packages/google/cloud/client.py\", line 215, in __init__\r\n    _ClientProjectMixin.__init__(self, project=project)\r\n  File \".../lib/python3.6/site-packages/google/cloud/client.py\", line 169, in __init__\r\n    project = self._determine_default(project)\r\n  File \".../lib/python3.6/site-packages/google/cloud/datastore/client.py\", line 222, in _determine_default\r\n    return _determine_default_project(project)\r\n  File \".../lib/python3.6/site-packages/google/cloud/datastore/client.py\", line 75, in _determine_default_project\r\n    project = _base_default_project(project=project)\r\n  File \".../lib/python3.6/site-packages/google/cloud/_helpers.py\", line 179, in _determine_default_project\r\n    _, project = google.auth.default()\r\n  File \".../lib/python3.6/site-packages/google/auth/_default.py\", line 283, in default\r\n    raise exceptions.DefaultCredentialsError(_HELP_MESSAGE)\r\ngoogle.auth.exceptions.DefaultCredentialsError: Could not automatically determine credentials. Please set GOOGLE_APPLICATION_CREDENTIALS or\r\nexplicitly create credential and re-run the application. For more\r\n```\r\n\r\nHowever, it's clear that these credentials are not actually required because when I initialize my client as follows, it works in both dev and production:\r\n```\r\nif os.environ.get(environment_vars.GCD_HOST):\r\n    # avoid a bug in the google client - it tries to authenticate even when the emulator is enabled\r\n    client = datastore.Client(_http=requests.Session)\r\nelse:\r\n    client = datastore.Client()\r\n```\r\n\r\nWith that change, the library works fine for me, but this seems like something the library ought to be able to detect and handle by default to save devs a lot of time.\r\n\r\nIn case they're relevant:\r\n\r\n2. OS type and version\r\n```\r\n$ uname -a\r\nDarwin Rileys-MacBook-Pro.local 17.7.0 Darwin Kernel Version 17.7.0: Thu Jun 21 22:53:14 PDT 2018; root:xnu-4570.71.2~1/RELEASE_X86_64 x86_64\r\n```\r\n\r\n3. Python version and virtual environment information `python --version`\r\n```\r\n$ python --version\r\nPython 3.6.5\r\n```\r\n4. google-cloud-python version `pip show google-cloud`, `pip show google-<service>` or `pip freeze`\r\n```\r\n$ pip show google-cloud-datastore\r\nName: google-cloud-datastore\r\nVersion: 1.7.0\r\n```", "performed_via_github_app": null, "score": 1.0}]}