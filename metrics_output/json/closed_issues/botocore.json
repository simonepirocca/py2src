{"total_count": 563, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/boto/botocore/issues/2122", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2122/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2122/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2122/events", "html_url": "https://github.com/boto/botocore/issues/2122", "id": 674719260, "node_id": "MDU6SXNzdWU2NzQ3MTkyNjA=", "number": 2122, "title": "Max retries in boto3", "user": {"login": "dm-2111", "id": 39169755, "node_id": "MDQ6VXNlcjM5MTY5NzU1", "avatar_url": "https://avatars3.githubusercontent.com/u/39169755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dm-2111", "html_url": "https://github.com/dm-2111", "followers_url": "https://api.github.com/users/dm-2111/followers", "following_url": "https://api.github.com/users/dm-2111/following{/other_user}", "gists_url": "https://api.github.com/users/dm-2111/gists{/gist_id}", "starred_url": "https://api.github.com/users/dm-2111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dm-2111/subscriptions", "organizations_url": "https://api.github.com/users/dm-2111/orgs", "repos_url": "https://api.github.com/users/dm-2111/repos", "events_url": "https://api.github.com/users/dm-2111/events{/privacy}", "received_events_url": "https://api.github.com/users/dm-2111/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-07T02:54:59Z", "updated_at": "2020-08-18T20:14:24Z", "closed_at": "2020-08-18T20:14:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please fill out the sections below to help us address your issue.\r\n\r\n**What issue did you see ?**\r\nI need to set max retries in my boto3 client. Based on the AWS documentation present [here](https://botocore.amazonaws.com/v1/documentation/api/latest/reference/config.html#botocore-config), my code is below. However, I end up with an error: Cannot provide retry configuration for \"mode\". Valid retry configuration options are: 'max_attempts'.\r\n \r\n**Steps to reproduce**\r\n```\r\nfrom botocore.config import Config\r\n\r\n    config = Config(\r\n            retries = {\r\n            'max_attempts': 10,\r\n            'mode': 'standard'\r\n            }\r\n        )\r\n    \r\n    identity = boto3.client(\"cognito-identity\", region_name='us-east-1', config=config)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2111", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2111/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2111/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2111/events", "html_url": "https://github.com/boto/botocore/issues/2111", "id": 664585064, "node_id": "MDU6SXNzdWU2NjQ1ODUwNjQ=", "number": 2111, "title": "AWS::SNS::Topic is an approved config resource and should be added the to resourceType shape. ", "user": {"login": "anovis", "id": 3811703, "node_id": "MDQ6VXNlcjM4MTE3MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3811703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anovis", "html_url": "https://github.com/anovis", "followers_url": "https://api.github.com/users/anovis/followers", "following_url": "https://api.github.com/users/anovis/following{/other_user}", "gists_url": "https://api.github.com/users/anovis/gists{/gist_id}", "starred_url": "https://api.github.com/users/anovis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anovis/subscriptions", "organizations_url": "https://api.github.com/users/anovis/orgs", "repos_url": "https://api.github.com/users/anovis/repos", "events_url": "https://api.github.com/users/anovis/events{/privacy}", "received_events_url": "https://api.github.com/users/anovis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1875871845, "node_id": "MDU6TGFiZWwxODc1ODcxODQ1", "url": "https://api.github.com/repos/boto/botocore/labels/service-api", "name": "service-api", "color": "E06A18", "default": false, "description": "This issue is caused by the service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-07-23T15:45:36Z", "updated_at": "2020-07-24T17:50:25Z", "closed_at": "2020-07-24T17:50:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "AWS::SNS::Topic is an approved config resource and should be added the to resourceType shape. \r\n\r\nhttps://docs.aws.amazon.com/config/latest/developerguide/resource-config-reference.html#amazonsimplenotificationservice\r\n\r\nhttps://github.com/boto/botocore/blob/b264715942b7f022e5fc8cf9862f13980a93f27c/botocore/data/config/2014-11-12/service-2.json#L5972\r\n\r\nsubmitted a pr #2110 , but not sure if this should be an upstream fix. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2109", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2109/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2109/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2109/events", "html_url": "https://github.com/boto/botocore/issues/2109", "id": 664144449, "node_id": "MDU6SXNzdWU2NjQxNDQ0NDk=", "number": 2109, "title": "Botocore does not make S3 Signed URLs with SigV4", "user": {"login": "mikegrima", "id": 11035926, "node_id": "MDQ6VXNlcjExMDM1OTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/11035926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikegrima", "html_url": "https://github.com/mikegrima", "followers_url": "https://api.github.com/users/mikegrima/followers", "following_url": "https://api.github.com/users/mikegrima/following{/other_user}", "gists_url": "https://api.github.com/users/mikegrima/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikegrima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikegrima/subscriptions", "organizations_url": "https://api.github.com/users/mikegrima/orgs", "repos_url": "https://api.github.com/users/mikegrima/repos", "events_url": "https://api.github.com/users/mikegrima/events{/privacy}", "received_events_url": "https://api.github.com/users/mikegrima/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-23T01:26:47Z", "updated_at": "2020-07-27T23:09:23Z", "closed_at": "2020-07-27T23:09:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nWe noticed that botocore by default will generate S3 signed urls with `HmacV1QueryAuth` and not with SigV4. This is reproducible with the latest and greatest boto3 and botocore versions with the following code:\r\n```\r\nimport boto3\r\n\r\ns3_client = boto3.client(\"s3\", region_name=\"us-east-1\")\r\n\r\nbucket = \"somebucket\"\r\nkey = \"some/prefix/to/an/object\"\r\n\r\nprint(s3_client.generate_presigned_url(\"get_object\", Params={\"Bucket\": bucket, \"Key\": key}, ExpiresIn=3600))\r\n```\r\n\r\nWhen digging deep into botocore, we found that in the code: https://github.com/boto/botocore/blob/develop/botocore/signers.py#L183-L195\r\n\r\n```\r\n        handler, response = self._event_emitter.emit_until_response(\r\n            'choose-signer.{0}.{1}'.format(\r\n                self._service_id.hyphenize(), operation_name),\r\n            signing_name=self._signing_name, region_name=self._region_name,\r\n            signature_version=signature_version, context=context)\r\n\r\n        if response is not None:\r\n            signature_version = response\r\n            # The suffix needs to be checked again in case we get an improper\r\n            # signature version from choose-signer.\r\n            if signature_version is not botocore.UNSIGNED and not \\\r\n                    signature_version.endswith(suffix):\r\n                signature_version += suffix\r\n```\r\nthe `signature_version` initially starts as `s3v4-query`, (which does properly map to `S3SigV4QueryAuth`\r\nhttps://github.com/boto/botocore/blob/30206ab9e9081c80fa68e8b2cb56296b09be6337/botocore/auth.py#L856). The `response` that is returned `is not None` and the `response` object has the result set to `s3-signer`.  This replaces the correct v4 version with one that maps to the very old `HmacV1QueryAuth` signer.\r\n\r\nWhen digging even deeper, we noticed that one of the handlers has a function that is called `_default_s3_presign_to_sigv2`, and as the name suggests, sets the pre-sign signature to v2 (or at least not v4): https://github.com/boto/botocore/blob/develop/botocore/client.py#L260-L276\r\n\r\nMany large AWS customers migrated away from using SigV2 for S3 calls and users that need to make use of S3 signed URLs are getting V2 signature URLs by default with boto3. In our case, we actually added deny statements to our S3 buckets to prevent anything other than SigV4 calls from being made to S3.  This results in Python boto3 users getting non-functional S3 signatures (our Java users don't experience this issue).\r\n\r\nOther than us instructing our Python S3 Signed URL users to do their own signature logic: https://github.com/boto/botocore/issues/1784#issuecomment-659132830 we would greatly appreciate if this would just work properly in botocore.\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2107", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2107/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2107/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2107/events", "html_url": "https://github.com/boto/botocore/issues/2107", "id": 662959142, "node_id": "MDU6SXNzdWU2NjI5NTkxNDI=", "number": 2107, "title": "kms encryption fails on \"key does not exist\" but key deletion succeeds ", "user": {"login": "eranreshef", "id": 3725751, "node_id": "MDQ6VXNlcjM3MjU3NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3725751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eranreshef", "html_url": "https://github.com/eranreshef", "followers_url": "https://api.github.com/users/eranreshef/followers", "following_url": "https://api.github.com/users/eranreshef/following{/other_user}", "gists_url": "https://api.github.com/users/eranreshef/gists{/gist_id}", "starred_url": "https://api.github.com/users/eranreshef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eranreshef/subscriptions", "organizations_url": "https://api.github.com/users/eranreshef/orgs", "repos_url": "https://api.github.com/users/eranreshef/repos", "events_url": "https://api.github.com/users/eranreshef/events{/privacy}", "received_events_url": "https://api.github.com/users/eranreshef/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-21T12:24:10Z", "updated_at": "2020-08-10T19:11:12Z", "closed_at": "2020-08-10T19:11:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThere is some inconsistency in kms usage. I create a key, get its key id and when I try to use it for encryption I get a \"key does not exist\" error. When I later try to delete it, the key does exist.\r\n\r\n**Steps to reproduce**\r\n1. Create a kms cmk.\r\n2. Extract the `KeyId` from the `create_key` response.\r\n3. Use this `KeyId` to encrypt some text.\r\n\r\n**Expected behavior**\r\nThe encryption request should succeed and the response will include the `CipherTextBlob`.\r\nMy **suspicion** is that perhaps I need to wait some time between key creation and encryption usage. There is a slight possibility that once the key is created it is not immediately in \"enabled\" state hence using it should return `DisabledException` (according to https://docs.aws.amazon.com/kms/latest/developerguide/key-state.html) but in this case I get ```04:21:37  botocore.errorfactory.NotFoundException: An error occurred (NotFoundException) when calling the Encrypt operation: Key 'arn:aws:kms:us-east-1:5*************2:key/e11f1804-f93a-4c67-be21-dd963d667090' does not exist```\r\n\r\n**Debug logs**\r\nThe issue doesn't reproduce on demand, it happens once in a while.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2102", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2102/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2102/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2102/events", "html_url": "https://github.com/boto/botocore/issues/2102", "id": 656045224, "node_id": "MDU6SXNzdWU2NTYwNDUyMjQ=", "number": 2102, "title": "PointInTimeRecoverySpecification missing from CreateTable shape", "user": {"login": "neunkasulle", "id": 5488705, "node_id": "MDQ6VXNlcjU0ODg3MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5488705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neunkasulle", "html_url": "https://github.com/neunkasulle", "followers_url": "https://api.github.com/users/neunkasulle/followers", "following_url": "https://api.github.com/users/neunkasulle/following{/other_user}", "gists_url": "https://api.github.com/users/neunkasulle/gists{/gist_id}", "starred_url": "https://api.github.com/users/neunkasulle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neunkasulle/subscriptions", "organizations_url": "https://api.github.com/users/neunkasulle/orgs", "repos_url": "https://api.github.com/users/neunkasulle/repos", "events_url": "https://api.github.com/users/neunkasulle/events{/privacy}", "received_events_url": "https://api.github.com/users/neunkasulle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-13T18:15:38Z", "updated_at": "2020-07-14T20:29:41Z", "closed_at": "2020-07-14T20:29:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWe dynamically create databases reading our configuration and during test runs discovered the following error\r\n\r\n```\r\nE               botocore.exceptions.ParamValidationError: Parameter validation failed:\r\nE               Unknown parameter in input: \"PointInTimeRecoverySpecification\", must be one of: AttributeDefinitions, TableName, KeySchema, LocalSecondaryIndexes, GlobalSecondaryIndexes, BillingMode, ProvisionedThroughput, StreamSpecification, SSESpecification, Tags\r\n\r\n../../../../Library/Caches/pypoetry/virtualenvs/tenant-cg8Bv0sX-py3.8/lib/python3.8/site-packages/botocore/validate.py:297: ParamValidationError\r\n================================================================================================================= warnings summary =================\r\n```\r\n\r\n\r\n**Steps to reproduce**\r\nTry to create a DynamoDB Table with `PointInTimeRecoverySpecification` as a parameter results in an error\r\n\r\n**Expected behavior**\r\nTable creation succeeds, since `PointInTimeRecoverySpecification` is a valid setting for a dynamoDB Table\r\n\r\n**Debug logs**\r\n```\r\n______________________________________________________________________________________________________ ERROR at setup of test_use_sign_up_url _______________________________________________________________________________________________________\r\n\r\nsls_config = {'custom': {'authorizer': {'$ref': '$[\"functions\"][\"createTenant\"][\"events\"][0][\"http\"][\"authorizer\"]'}, 'prune': {'au...ptable-plugin', 'serverless-python-requirements', 'serverless-iam-roles-per-function', 'serverless-prune-plugin'], ...}\r\ntenant_id = 'REDACTED', sign_up_token = 'REDACTED'\r\n\r\n    @pytest.fixture\r\n    def dynamodb(sls_config, tenant_id, sign_up_token):\r\n        with mock_dynamodb2():\r\n            dynamodb = boto3.client(\"dynamodb\", region_name=\"us-east-1\")\r\n\r\n            for _, resource in sls_config[\"resources\"][\"Resources\"].items():\r\n                if resource.get(\"Type\") == \"AWS::DynamoDB::Table\":\r\n>                   dynamodb.create_table(**resource[\"Properties\"])\r\n\r\ntests/test_signup.py:37:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n../../../../Library/Caches/pypoetry/virtualenvs/tenant-cg8Bv0sX-py3.8/lib/python3.8/site-packages/botocore/client.py:316: in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n../../../../Library/Caches/pypoetry/virtualenvs/tenant-cg8Bv0sX-py3.8/lib/python3.8/site-packages/botocore/client.py:607: in _make_api_call\r\n    request_dict = self._convert_to_request_dict(\r\n../../../../Library/Caches/pypoetry/virtualenvs/tenant-cg8Bv0sX-py3.8/lib/python3.8/site-packages/botocore/client.py:655: in _convert_to_request_dict\r\n    request_dict = self._serializer.serialize_to_request(\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = <botocore.validate.ParamValidationDecorator object at 0x1158f64f0>\r\nparameters = {'AttributeDefinitions': [{'AttributeName': 'tenant_id', 'AttributeType': 'S'}, {'AttributeName': 'name', 'AttributeTy...H'}], 'Projection': {'ProjectionType': 'ALL'}}], 'KeySchema': [{'AttributeName': 'tenant_id', 'KeyType': 'HASH'}], ...}\r\noperation_model = OperationModel(name=CreateTable)\r\n\r\n    def serialize_to_request(self, parameters, operation_model):\r\n        input_shape = operation_model.input_shape\r\n        if input_shape is not None:\r\n            report = self._param_validator.validate(parameters,\r\n                                                    operation_model.input_shape)\r\n            if report.has_errors():\r\n>               raise ParamValidationError(report=report.generate_report())\r\nE               botocore.exceptions.ParamValidationError: Parameter validation failed:\r\nE               Unknown parameter in input: \"PointInTimeRecoverySpecification\", must be one of: AttributeDefinitions, TableName, KeySchema, LocalSecondaryIndexes, GlobalSecondaryIndexes, BillingMode, ProvisionedThroughput, StreamSpecification, SSESpecification, Tags\r\n\r\n../../../../Library/Caches/pypoetry/virtualenvs/tenant-cg8Bv0sX-py3.8/lib/python3.8/site-packages/botocore/validate.py:297: ParamValidationError\r\n--------------------------------------------------------------------------------------------------------------- Captured stderr setup ---------------------------------------------------------------------------------------------------------------\r\nDEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x10a36c4c0>\r\n2020-07-13 18:12:00,432 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10a36c4c0>\r\n2020-07-13 18:12:00,432 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10a36c4c0>\r\n2020-07-13 18:12:00,432 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x10a36c4c0>\r\nDEBUG:botocore.hooks:Event creating-client-class.dynamodb: calling handler <function add_generate_presigned_url at 0x10a33d310>\r\n2020-07-13 18:12:00,433 - botocore.hooks - DEBUG - Event creating-client-class.dynamodb: calling handler <function add_generate_presigned_url at 0x10a33d310>\r\n2020-07-13 18:12:00,433 - botocore.hooks - DEBUG - Event creating-client-class.dynamodb: calling handler <function add_generate_presigned_url at 0x10a33d310>\r\n2020-07-13 18:12:00,433 - botocore.hooks - DEBUG - Event creating-client-class.dynamodb: calling handler <function add_generate_presigned_url at 0x10a33d310>\r\nDEBUG:botocore.endpoint:Setting dynamodb timeout as (60, 60)\r\n2020-07-13 18:12:00,436 - botocore.endpoint - DEBUG - Setting dynamodb timeout as (60, 60)\r\n2020-07-13 18:12:00,436 - botocore.endpoint - DEBUG - Setting dynamodb timeout as (60, 60)\r\n2020-07-13 18:12:00,436 - botocore.endpoint - DEBUG - Setting dynamodb timeout as (60, 60)\r\nDEBUG:botocore.client:Registering retry handlers for service: dynamodb\r\n2020-07-13 18:12:00,437 - botocore.client - DEBUG - Registering retry handlers for service: dynamodb\r\n2020-07-13 18:12:00,437 - botocore.client - DEBUG - Registering retry handlers for service: dynamodb\r\n2020-07-13 18:12:00,437 - botocore.client - DEBUG - Registering retry handlers for service: dynamodb\r\nDEBUG:botocore.hooks:Event before-parameter-build.dynamodb.CreateTable: calling handler <function generate_idempotent_uuid at 0x10a384820>\r\n2020-07-13 18:12:00,438 - botocore.hooks - DEBUG - Event before-parameter-build.dynamodb.CreateTable: calling handler <function generate_idempotent_uuid at 0x10a384820>\r\n2020-07-13 18:12:00,438 - botocore.hooks - DEBUG - Event before-parameter-build.dynamodb.CreateTable: calling handler <function generate_idempotent_uuid at 0x10a384820>\r\n2020-07-13 18:12:00,438 - botocore.hooks - DEBUG - Event before-parameter-build.dynamodb.CreateTable: calling handler <function generate_idempotent_uuid at 0x10a384820>\r\nDEBUG:botocore.hooks:Event before-parameter-build.dynamodb.CreateTable: calling handler <function block_endpoint_discovery_required_operations at 0x10a328430>\r\n2020-07-13 18:12:00,438 - botocore.hooks - DEBUG - Event before-parameter-build.dynamodb.CreateTable: calling handler <function block_endpoint_discovery_required_operations at 0x10a328430>\r\n2020-07-13 18:12:00,438 - botocore.hooks - DEBUG - Event before-parameter-build.dynamodb.CreateTable: calling handler <function block_endpoint_discovery_required_operations at 0x10a328430>\r\n2020-07-13 18:12:00,438 - botocore.hooks - DEBUG - Event before-parameter-build.dynamodb.CreateTable: calling handler <function block_endpoint_discovery_required_operations at 0x10a328430>\r\n---------------------------------------------------------------------------------------------------------------- Captured log setup -----------------------------------------------------------------------------------------------------------------\r\nDEBUG    botocore.hooks:hooks.py:210 Event choose-service-name: calling handler <function handle_service_name_alias at 0x10a36c4c0>\r\nDEBUG    botocore.hooks:hooks.py:210 Event creating-client-class.dynamodb: calling handler <function add_generate_presigned_url at 0x10a33d310>\r\nDEBUG    botocore.endpoint:endpoint.py:291 Setting dynamodb timeout as (60, 60)\r\nDEBUG    botocore.client:client.py:158 Registering retry handlers for service: dynamodb\r\nDEBUG    botocore.hooks:hooks.py:210 Event before-parameter-build.dynamodb.CreateTable: calling handler <function generate_idempotent_uuid at 0x10a384820>\r\nDEBUG    botocore.hooks:hooks.py:210 Event before-parameter-build.dynamodb.CreateTable: calling handler <function block_endpoint_discovery_required_operations at 0x10a328430>\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2092", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2092/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2092/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2092/events", "html_url": "https://github.com/boto/botocore/issues/2092", "id": 647707093, "node_id": "MDU6SXNzdWU2NDc3MDcwOTM=", "number": 2092, "title": "Macie2 missing from endpoints.json", "user": {"login": "davidaah", "id": 17261662, "node_id": "MDQ6VXNlcjE3MjYxNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/17261662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidaah", "html_url": "https://github.com/davidaah", "followers_url": "https://api.github.com/users/davidaah/followers", "following_url": "https://api.github.com/users/davidaah/following{/other_user}", "gists_url": "https://api.github.com/users/davidaah/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidaah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidaah/subscriptions", "organizations_url": "https://api.github.com/users/davidaah/orgs", "repos_url": "https://api.github.com/users/davidaah/repos", "events_url": "https://api.github.com/users/davidaah/events{/privacy}", "received_events_url": "https://api.github.com/users/davidaah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1875871845, "node_id": "MDU6TGFiZWwxODc1ODcxODQ1", "url": "https://api.github.com/repos/boto/botocore/labels/service-api", "name": "service-api", "color": "E06A18", "default": false, "description": "This issue is caused by the service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-29T22:14:56Z", "updated_at": "2020-07-14T02:32:58Z", "closed_at": "2020-07-13T22:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nCurrently it isn't possible to determine the availability of Macie (v2) due to the required endpoint mapping missing in `botocore/data/endpoints.json`\r\n\r\nReproduced as of:\r\nboto3              1.14.13\r\nbotocore           1.17.13\r\n\r\n**Steps to reproduce**\r\n\r\n```\r\n$ python\r\n>>> import boto3\r\n>>> boto3.session.Session().get_available_regions('macie2')\r\n[]\r\n```\r\n\r\n**Expected behavior**\r\n\r\nList of supported regions returned\r\n\r\n```\r\n$ python\r\n>>> import boto3\r\n>>> boto3.session.Session().get_available_regions('macie2')\r\n['us-east-1', 'us-east-2', '...']\r\n```\r\n\r\n**Debug logs**\r\n\r\n```\r\nimport botocore.session\r\nbotocore.session.Session().set_debug_logger('')\r\n>>> boto3.session.Session().get_available_regions('macie2')\r\n2020-06-29 18:13:03,354 - botocore.hooks - DEBUG - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane\r\n2020-06-29 18:13:03,358 - botocore.hooks - DEBUG - Changing event name from before-call.apigateway to before-call.api-gateway\r\n2020-06-29 18:13:03,358 - botocore.hooks - DEBUG - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict\r\n2020-06-29 18:13:03,360 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration\r\n2020-06-29 18:13:03,360 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53\r\n2020-06-29 18:13:03,361 - botocore.hooks - DEBUG - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search\r\n2020-06-29 18:13:03,362 - botocore.hooks - DEBUG - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section\r\n2020-06-29 18:13:03,364 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask\r\n2020-06-29 18:13:03,364 - botocore.hooks - DEBUG - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section\r\n2020-06-29 18:13:03,364 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search\r\n2020-06-29 18:13:03,364 - botocore.hooks - DEBUG - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section\r\n2020-06-29 18:13:03,366 - botocore.loaders - DEBUG - Loading JSON file: <redacted>/site-packages/botocore/data/endpoints.json\r\n2020-06-29 18:13:03,383 - botocore.loaders - DEBUG - Loading JSON file: <redacted>/site-packages/botocore/data/macie2/2020-01-01/service-2.json\r\n[]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2090", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2090/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2090/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2090/events", "html_url": "https://github.com/boto/botocore/issues/2090", "id": 647207598, "node_id": "MDU6SXNzdWU2NDcyMDc1OTg=", "number": 2090, "title": "Stop redirecting stderr when calling credential_process", "user": {"login": "itsdalmo", "id": 6603877, "node_id": "MDQ6VXNlcjY2MDM4Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/6603877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itsdalmo", "html_url": "https://github.com/itsdalmo", "followers_url": "https://api.github.com/users/itsdalmo/followers", "following_url": "https://api.github.com/users/itsdalmo/following{/other_user}", "gists_url": "https://api.github.com/users/itsdalmo/gists{/gist_id}", "starred_url": "https://api.github.com/users/itsdalmo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itsdalmo/subscriptions", "organizations_url": "https://api.github.com/users/itsdalmo/orgs", "repos_url": "https://api.github.com/users/itsdalmo/repos", "events_url": "https://api.github.com/users/itsdalmo/events{/privacy}", "received_events_url": "https://api.github.com/users/itsdalmo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}, {"id": 1875892312, "node_id": "MDU6TGFiZWwxODc1ODkyMzEy", "url": "https://api.github.com/repos/boto/botocore/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-29T08:09:59Z", "updated_at": "2020-06-29T13:07:55Z", "closed_at": "2020-06-29T13:07:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nCurrently, when resolving credentials using a `credential_process` [you read both stdout and stderr](https://github.com/boto/botocore/blob/v2/botocore/credentials.py#L969). This means that the `credential_process` itself has no way of communicating with the user, which would be very useful to e.g. request user input (passwords, MFA tokens etc) or simply to provide debug logging.\r\n\r\n**Describe the solution you'd like**\r\nI would like remove the redirection of stderr and let the `credential_process` communicate directly to the user via the console, which is [exactly whats done in v1 and v2 of the AWS SDK for Go](https://github.com/aws/aws-sdk-go-v2/blob/master/aws/processcreds/provider.go#L301-L303).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2083", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2083/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2083/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2083/events", "html_url": "https://github.com/boto/botocore/issues/2083", "id": 642268604, "node_id": "MDU6SXNzdWU2NDIyNjg2MDQ=", "number": 2083, "title": "NTLM Proxy support", "user": {"login": "IyadKandalaft", "id": 751211, "node_id": "MDQ6VXNlcjc1MTIxMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/751211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IyadKandalaft", "html_url": "https://github.com/IyadKandalaft", "followers_url": "https://api.github.com/users/IyadKandalaft/followers", "following_url": "https://api.github.com/users/IyadKandalaft/following{/other_user}", "gists_url": "https://api.github.com/users/IyadKandalaft/gists{/gist_id}", "starred_url": "https://api.github.com/users/IyadKandalaft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IyadKandalaft/subscriptions", "organizations_url": "https://api.github.com/users/IyadKandalaft/orgs", "repos_url": "https://api.github.com/users/IyadKandalaft/repos", "events_url": "https://api.github.com/users/IyadKandalaft/events{/privacy}", "received_events_url": "https://api.github.com/users/IyadKandalaft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-20T00:04:22Z", "updated_at": "2020-06-30T00:20:53Z", "closed_at": "2020-06-30T00:20:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nUsing the AWS CLI in a Microsoft dominated organization that leverages a forwarding proxy that requires authentication means that I have to declare an environment variable such as HTTPS_PROXY=https://<credentials>@proxy.myorg.com \r\nThis would mean that my credentials are either stored as clear text in an environment setup file or I have to prompt for them every time I open powershell, bash, etc.  Even then, they are stored as clear text in as environment variables.  \r\n\r\n**Describe the solution you'd like**\r\nUsing intermediate proxies like cntlm is a half-baked solution.\r\n\r\nIdeally, botocore builds in support for the evil authentication-requiring proxies that support NTLM authentication.  In theory, this can be achieved by using urllib3.contrib.ntlm .  However, some github issues note that urllib3.contrib.ntlm needs work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2078", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2078/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2078/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2078/events", "html_url": "https://github.com/boto/botocore/issues/2078", "id": 638664807, "node_id": "MDU6SXNzdWU2Mzg2NjQ4MDc=", "number": 2078, "title": "Endpoints for EU Changed - Now don't work with GetProducts API", "user": {"login": "AMMullan", "id": 9948612, "node_id": "MDQ6VXNlcjk5NDg2MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/9948612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AMMullan", "html_url": "https://github.com/AMMullan", "followers_url": "https://api.github.com/users/AMMullan/followers", "following_url": "https://api.github.com/users/AMMullan/following{/other_user}", "gists_url": "https://api.github.com/users/AMMullan/gists{/gist_id}", "starred_url": "https://api.github.com/users/AMMullan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AMMullan/subscriptions", "organizations_url": "https://api.github.com/users/AMMullan/orgs", "repos_url": "https://api.github.com/users/AMMullan/repos", "events_url": "https://api.github.com/users/AMMullan/events{/privacy}", "received_events_url": "https://api.github.com/users/AMMullan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1875871845, "node_id": "MDU6TGFiZWwxODc1ODcxODQ1", "url": "https://api.github.com/repos/boto/botocore/labels/service-api", "name": "service-api", "color": "E06A18", "default": false, "description": "This issue is caused by the service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-06-15T08:51:10Z", "updated_at": "2020-07-13T21:09:35Z", "closed_at": "2020-07-13T21:09:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I, and many others, refer to the endpoints.json file in botocore/data/ in order to build a JSON mapping of the AWS regions (because you can't use the region code in the GetProducts API for some odd reason) and this used to work perfectly, however in the last couple of months this file has been changed and now instead of, for example, eu-west-1 being \"EU (Ireland)\" in that file it's now \"Europe (Ireland)\" (same for Frankfurt, Stockholm, London and Paris) - though Milan does seem to use Europe (Milan).\r\n\r\nIs this a bug in botocore or is that file just not meant to be referred to for this kind of operation? If not it'd be incredibly useful if there was any info on how we could dynamically get the location names by AWS region.\r\n\r\nThanks in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2077", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2077/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2077/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2077/events", "html_url": "https://github.com/boto/botocore/issues/2077", "id": 637534495, "node_id": "MDU6SXNzdWU2Mzc1MzQ0OTU=", "number": 2077, "title": "Return the response when the task is complete", "user": {"login": "patricio-astudillo", "id": 7931855, "node_id": "MDQ6VXNlcjc5MzE4NTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/7931855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patricio-astudillo", "html_url": "https://github.com/patricio-astudillo", "followers_url": "https://api.github.com/users/patricio-astudillo/followers", "following_url": "https://api.github.com/users/patricio-astudillo/following{/other_user}", "gists_url": "https://api.github.com/users/patricio-astudillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/patricio-astudillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patricio-astudillo/subscriptions", "organizations_url": "https://api.github.com/users/patricio-astudillo/orgs", "repos_url": "https://api.github.com/users/patricio-astudillo/repos", "events_url": "https://api.github.com/users/patricio-astudillo/events{/privacy}", "received_events_url": "https://api.github.com/users/patricio-astudillo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-12T07:05:10Z", "updated_at": "2020-07-13T19:09:19Z", "closed_at": "2020-07-13T19:09:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be useful for the end-user to have some information about the task when everything goes well. The `response` is already send in the exception when something goes wrong.\r\n```python\r\nwaiter = client.get_waiter('tasks_stopped') \r\nwaiter.wait(cluster='my-cluster', tasks=[arn])  \r\n```\r\n\r\nFix: adding `return response` instead of `return` at the following line: https://github.com/boto/botocore/blob/0dba414a47220da13fa69984236a5bb84b147fcb/botocore/waiter.py#L318\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2069", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2069/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2069/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2069/events", "html_url": "https://github.com/boto/botocore/issues/2069", "id": 634241787, "node_id": "MDU6SXNzdWU2MzQyNDE3ODc=", "number": 2069, "title": "Stubber multiple add_response", "user": {"login": "aledeganopix4d", "id": 40891147, "node_id": "MDQ6VXNlcjQwODkxMTQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/40891147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aledeganopix4d", "html_url": "https://github.com/aledeganopix4d", "followers_url": "https://api.github.com/users/aledeganopix4d/followers", "following_url": "https://api.github.com/users/aledeganopix4d/following{/other_user}", "gists_url": "https://api.github.com/users/aledeganopix4d/gists{/gist_id}", "starred_url": "https://api.github.com/users/aledeganopix4d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aledeganopix4d/subscriptions", "organizations_url": "https://api.github.com/users/aledeganopix4d/orgs", "repos_url": "https://api.github.com/users/aledeganopix4d/repos", "events_url": "https://api.github.com/users/aledeganopix4d/events{/privacy}", "received_events_url": "https://api.github.com/users/aledeganopix4d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177678, "node_id": "MDU6TGFiZWwxOTE3NzY3OA==", "url": "https://api.github.com/repos/boto/botocore/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "This issue is a confirmed bug."}, {"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-08T06:42:48Z", "updated_at": "2020-06-21T00:20:52Z", "closed_at": "2020-06-21T00:20:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAccording to the Stubber documentation, when calling `add_response` multiple times, those responses go in FIFO stack, ready to be pulled off one-by-one when the corresponding method is called (https://botocore.amazonaws.com/v1/documentation/api/latest/reference/stubber.html#botocore.stub.Stubber).\r\n\r\nThis is not the case, and the **last** inserted element is always returned.\r\n\r\n**Steps to reproduce**\r\nConsider this simple script heavily based on the documentation example.\r\nRunning on Python 3.8 and botocore 0.16.24:\r\n```python\r\nimport boto3\r\nimport datetime\r\n\r\nfrom botocore.stub import Stubber\r\n\r\n\r\nresponse = {\r\n    \"IsTruncated\": False,\r\n    \"Name\": \"\",\r\n    \"MaxKeys\": 1000,\r\n    \"Prefix\": \"\",\r\n    \"Contents\": [\r\n        {\r\n            \"Key\": \"test.txt\",\r\n            \"ETag\": '\"abc123\"',\r\n            \"StorageClass\": \"STANDARD\",\r\n            \"LastModified\": datetime.datetime(2016, 1, 20, 22, 9),\r\n            \"Owner\": {\"ID\": \"abc123\", \"DisplayName\": \"myname\"},\r\n            \"Size\": 14814,\r\n        }\r\n    ],\r\n    \"EncodingType\": \"url\",\r\n    \"ResponseMetadata\": {\"RequestId\": \"abc123\", \"HTTPStatusCode\": 200, \"HostId\": \"abc123\"},\r\n    \"Marker\": \"\",\r\n}\r\n\r\n\r\ns3 = boto3.client(\"s3\")\r\nstubber = Stubber(s3)\r\nfor i in range(5):\r\n    response[\"Name\"] = f\"bucket_{i}\"\r\n    expected_params = {\"Bucket\": f\"bucket_{i}\"}\r\n    print(\"Adding response: \", response)\r\n    stubber.add_response(\"list_objects\", response, expected_params)\r\nstubber.activate()\r\nfor i in range(5):\r\n    print(s3.list_objects(Bucket=f\"bucket_{i}\")[\"Name\"])\r\n```\r\nIt outputs:\r\n```\r\nbucket_4\r\nbucket_4\r\nbucket_4\r\nbucket_4\r\nbucket_4\r\n```\r\n**Expected behavior**\r\nI would expect that every time a `s3.list_objects` is called, one of the response is returned and then **popped** from the responses stack. That doesn't seem to be the case however.\r\n\r\n**Debug logs**\r\n```\r\n2020-06-08 06:40:05,264 - botocore.hooks - DEBUG - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane\r\n2020-06-08 06:40:05,268 - botocore.hooks - DEBUG - Changing event name from before-call.apigateway to before-call.api-gateway\r\n2020-06-08 06:40:05,270 - botocore.hooks - DEBUG - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict\r\n2020-06-08 06:40:05,273 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration\r\n2020-06-08 06:40:05,274 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53\r\n2020-06-08 06:40:05,275 - botocore.hooks - DEBUG - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search\r\n2020-06-08 06:40:05,276 - botocore.hooks - DEBUG - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section\r\n2020-06-08 06:40:05,281 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask\r\n2020-06-08 06:40:05,281 - botocore.hooks - DEBUG - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section\r\n2020-06-08 06:40:05,281 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search\r\n2020-06-08 06:40:05,281 - botocore.hooks - DEBUG - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: custom-process\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: config-file\r\n2020-06-08 06:40:05,286 - botocore.credentials - DEBUG - Looking for credentials via: ec2-credentials-file\r\n2020-06-08 06:40:05,287 - botocore.credentials - DEBUG - Looking for credentials via: boto-config\r\n2020-06-08 06:40:05,287 - botocore.credentials - DEBUG - Looking for credentials via: container-role\r\n2020-06-08 06:40:05,287 - botocore.credentials - DEBUG - Looking for credentials via: iam-role\r\n2020-06-08 06:40:05,287 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 169.254.169.254:80\r\n2020-06-08 06:40:06,317 - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/api/token: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connection.py\", line 159, in _new_conn\r\n    conn = connection.create_connection(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/util/connection.py\", line 84, in create_connection\r\n    raise err\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/util/connection.py\", line 74, in create_connection\r\n    sock.connect(sa)\r\nsocket.timeout: timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/httpsession.py\", line 254, in send\r\n    urllib_response = conn.urlopen(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 724, in urlopen\r\n    retries = retries.increment(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py\", line 379, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/packages/six.py\", line 735, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 670, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 392, in _make_request\r\n    conn.request(method, url, **httplib_request_kw)\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 1240, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 91, in _send_request\r\n    rval = super(AWSConnection, self)._send_request(\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 1286, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 1235, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 119, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 203, in send\r\n    return super(AWSConnection, self).send(str)\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 946, in send\r\n    self.connect()\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connection.py\", line 187, in connect\r\n    conn = self._new_conn()\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connection.py\", line 164, in _new_conn\r\n    raise ConnectTimeoutError(\r\nurllib3.exceptions.ConnectTimeoutError: (<botocore.awsrequest.AWSHTTPConnection object at 0x7f1f93a71130>, 'Connection to 169.254.169.254 timed out. (connect timeout=1)')\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/utils.py\", line 299, in _fetch_metadata_token\r\n    response = self._session.send(request.prepare())\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/httpsession.py\", line 287, in send\r\n    raise ConnectTimeoutError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.ConnectTimeoutError: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/api/token\"\r\n2020-06-08 06:40:06,332 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (2): 169.254.169.254:80\r\n2020-06-08 06:40:07,340 - botocore.utils - DEBUG - Caught retryable HTTP exception while making metadata service request to http://169.254.169.254/latest/meta-data/iam/security-credentials/: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/meta-data/iam/security-credentials/\"\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connection.py\", line 159, in _new_conn\r\n    conn = connection.create_connection(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/util/connection.py\", line 84, in create_connection\r\n    raise err\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/util/connection.py\", line 74, in create_connection\r\n    sock.connect(sa)\r\nsocket.timeout: timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/httpsession.py\", line 254, in send\r\n    urllib_response = conn.urlopen(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 724, in urlopen\r\n    retries = retries.increment(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/util/retry.py\", line 379, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/packages/six.py\", line 735, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 670, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connectionpool.py\", line 392, in _make_request\r\n    conn.request(method, url, **httplib_request_kw)\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 1240, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 91, in _send_request\r\n    rval = super(AWSConnection, self)._send_request(\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 1286, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 1235, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 119, in _send_output\r\n    self.send(msg)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/awsrequest.py\", line 203, in send\r\n    return super(AWSConnection, self).send(str)\r\n  File \"/usr/local/lib/python3.8/http/client.py\", line 946, in send\r\n    self.connect()\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connection.py\", line 187, in connect\r\n    conn = self._new_conn()\r\n  File \"/usr/local/lib/python3.8/site-packages/urllib3/connection.py\", line 164, in _new_conn\r\n    raise ConnectTimeoutError(\r\nurllib3.exceptions.ConnectTimeoutError: (<botocore.awsrequest.AWSHTTPConnection object at 0x7f1f93a075b0>, 'Connection to 169.254.169.254 timed out. (connect timeout=1)')\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/utils.py\", line 342, in _get_request\r\n    response = self._session.send(request.prepare())\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/httpsession.py\", line 287, in send\r\n    raise ConnectTimeoutError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.ConnectTimeoutError: Connect timeout on endpoint URL: \"http://169.254.169.254/latest/meta-data/iam/security-credentials/\"\r\n2020-06-08 06:40:07,344 - botocore.utils - DEBUG - Max number of attempts exceeded (1) when attempting to retrieve data from metadata service.\r\n2020-06-08 06:40:07,345 - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/site-packages/botocore/data/endpoints.json\r\n2020-06-08 06:40:07,356 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f1f93b87160>\r\n2020-06-08 06:40:07,366 - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json\r\n2020-06-08 06:40:07,379 - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f1f93bd0dc0>\r\n2020-06-08 06:40:07,379 - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x7f1f93a974c0>\r\n2020-06-08 06:40:07,401 - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f1f93bd0b80>\r\n2020-06-08 06:40:07,405 - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-06-08 06:40:07,407 - botocore.loaders - DEBUG - Loading JSON file: /usr/local/lib/python3.8/site-packages/botocore/data/_retry.json\r\n2020-06-08 06:40:07,408 - botocore.client - DEBUG - Registering retry handlers for service: s3\r\n2020-06-08 06:40:07,412 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method Stubber._assert_expected_params of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,412 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function set_list_objects_encoding_type_url at 0x7f1f93b33a60>\r\n2020-06-08 06:40:07,412 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x7f1f93b32790>\r\n2020-06-08 06:40:07,412 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f1f93393340>>\r\n2020-06-08 06:40:07,412 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f1f93393400>>\r\n2020-06-08 06:40:07,412 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function generate_idempotent_uuid at 0x7f1f93b325e0>\r\n2020-06-08 06:40:07,413 - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <bound method Stubber._get_response_handler of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,413 - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function decode_list_object at 0x7f1f93b33af0>\r\nbucket_4\r\n2020-06-08 06:40:07,413 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method Stubber._assert_expected_params of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,413 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function set_list_objects_encoding_type_url at 0x7f1f93b33a60>\r\n2020-06-08 06:40:07,413 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x7f1f93b32790>\r\n2020-06-08 06:40:07,414 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f1f93393340>>\r\n2020-06-08 06:40:07,414 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f1f93393400>>\r\n2020-06-08 06:40:07,414 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function generate_idempotent_uuid at 0x7f1f93b325e0>\r\n2020-06-08 06:40:07,414 - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <bound method Stubber._get_response_handler of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,414 - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function decode_list_object at 0x7f1f93b33af0>\r\nbucket_4\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method Stubber._assert_expected_params of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function set_list_objects_encoding_type_url at 0x7f1f93b33a60>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x7f1f93b32790>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f1f93393340>>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f1f93393400>>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function generate_idempotent_uuid at 0x7f1f93b325e0>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <bound method Stubber._get_response_handler of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,415 - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function decode_list_object at 0x7f1f93b33af0>\r\nbucket_4\r\n2020-06-08 06:40:07,416 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method Stubber._assert_expected_params of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,416 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function set_list_objects_encoding_type_url at 0x7f1f93b33a60>\r\n2020-06-08 06:40:07,416 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x7f1f93b32790>\r\n2020-06-08 06:40:07,416 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f1f93393340>>\r\n2020-06-08 06:40:07,416 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f1f93393400>>\r\n2020-06-08 06:40:07,416 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function generate_idempotent_uuid at 0x7f1f93b325e0>\r\n2020-06-08 06:40:07,417 - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <bound method Stubber._get_response_handler of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,417 - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function decode_list_object at 0x7f1f93b33af0>\r\nbucket_4\r\n2020-06-08 06:40:07,417 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method Stubber._assert_expected_params of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,417 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function set_list_objects_encoding_type_url at 0x7f1f93b33a60>\r\n2020-06-08 06:40:07,417 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function validate_bucket_name at 0x7f1f93b32790>\r\n2020-06-08 06:40:07,418 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f1f93393340>>\r\n2020-06-08 06:40:07,418 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f1f93393400>>\r\n2020-06-08 06:40:07,418 - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListObjects: calling handler <function generate_idempotent_uuid at 0x7f1f93b325e0>\r\n2020-06-08 06:40:07,418 - botocore.hooks - DEBUG - Event before-call.s3.ListObjects: calling handler <bound method Stubber._get_response_handler of <botocore.stub.Stubber object at 0x7f1f933934c0>>\r\n2020-06-08 06:40:07,418 - botocore.hooks - DEBUG - Event after-call.s3.ListObjects: calling handler <function decode_list_object at 0x7f1f93b33af0>\r\nbucket_4\r\n```\r\n\r\n** Final note **\r\nHave I been interpreting the documentation wrongly? Maybe my expectation is not correct.\r\nAnyway thanks for acknowledging my issue. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2062", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2062/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2062/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2062/events", "html_url": "https://github.com/boto/botocore/issues/2062", "id": 627411716, "node_id": "MDU6SXNzdWU2Mjc0MTE3MTY=", "number": 2062, "title": "Invalid xml received when creating a bucket", "user": {"login": "daviddavis", "id": 86290, "node_id": "MDQ6VXNlcjg2Mjkw", "avatar_url": "https://avatars0.githubusercontent.com/u/86290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daviddavis", "html_url": "https://github.com/daviddavis", "followers_url": "https://api.github.com/users/daviddavis/followers", "following_url": "https://api.github.com/users/daviddavis/following{/other_user}", "gists_url": "https://api.github.com/users/daviddavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/daviddavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daviddavis/subscriptions", "organizations_url": "https://api.github.com/users/daviddavis/orgs", "repos_url": "https://api.github.com/users/daviddavis/repos", "events_url": "https://api.github.com/users/daviddavis/events{/privacy}", "received_events_url": "https://api.github.com/users/daviddavis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1875892312, "node_id": "MDU6TGFiZWwxODc1ODkyMzEy", "url": "https://api.github.com/repos/boto/botocore/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-29T17:05:06Z", "updated_at": "2020-05-29T18:15:46Z", "closed_at": "2020-05-29T17:24:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nOur test suite started failing yesterday. We use ansible to create a bucket in minio and it looks like minio is returning some invalid xml (see below). I believe this commit is somehow responsible:\r\n\r\nhttps://github.com/minio/minio/commit/bd032d13ffe014b0a6f072ce87693a0df9037b86 \r\n\r\n**Steps to reproduce**\r\nCreate a bucket in minio using ansible (might also be reproducible using just botocore):\r\n\r\n```yaml\r\n- name: \"Create Bucket\"\r\n    s3_bucket:\r\n        s3_url: \"http://minio:9000\"\r\n        region: eu-central-1\r\n        name: test\r\n        state: present\r\n```\r\n\r\n**Expected behavior**\r\nNo invalid xml.\r\n\r\n**Debug logs**\r\nHere is the output from ansible:\r\n\r\n```\r\n    Traceback (most recent call last):\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 452, in _parse_xml_string_to_dom\r\n        parser.feed(xml_string)\r\n    xml.etree.ElementTree.ParseError: not well-formed (invalid token): line 1, column 38\r\n  \r\n    During handling of the above exception, another exception occurred:\r\n  \r\n    Traceback (most recent call last):\r\n      File \"/home/travis/.ansible/tmp/ansible-tmp-1590767894.6118252-82050180509011/AnsiballZ_s3_bucket.py\", line 102, in <module>\r\n        _ansiballz_main()\r\n      File \"/home/travis/.ansible/tmp/ansible-tmp-1590767894.6118252-82050180509011/AnsiballZ_s3_bucket.py\", line 94, in _ansiballz_main\r\n        invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\r\n      File \"/home/travis/.ansible/tmp/ansible-tmp-1590767894.6118252-82050180509011/AnsiballZ_s3_bucket.py\", line 40, in invoke_module\r\n        runpy.run_module(mod_name='ansible.modules.cloud.amazon.s3_bucket', init_globals=None, run_name='__main__', alter_sys=True)\r\n      File \"/opt/python/3.7.6/lib/python3.7/runpy.py\", line 205, in run_module\r\n        return _run_module_code(code, init_globals, run_name, mod_spec)\r\n      File \"/opt/python/3.7.6/lib/python3.7/runpy.py\", line 96, in _run_module_code\r\n        mod_name, mod_spec, pkg_name, script_name)\r\n      File \"/opt/python/3.7.6/lib/python3.7/runpy.py\", line 85, in _run_code\r\n        exec(code, run_globals)\r\n      File \"/tmp/ansible_s3_bucket_payload_7bei9nfw/ansible_s3_bucket_payload.zip/ansible/modules/cloud/amazon/s3_bucket.py\", line 713, in <module>\r\n      File \"/tmp/ansible_s3_bucket_payload_7bei9nfw/ansible_s3_bucket_payload.zip/ansible/modules/cloud/amazon/s3_bucket.py\", line 707, in main\r\n      File \"/tmp/ansible_s3_bucket_payload_7bei9nfw/ansible_s3_bucket_payload.zip/ansible/modules/cloud/amazon/s3_bucket.py\", line 218, in create_or_update_bucket\r\n      File \"/tmp/ansible_s3_bucket_payload_7bei9nfw/ansible_s3_bucket_payload.zip/ansible/module_utils/cloud.py\", line 153, in retry_func\r\n      File \"/tmp/ansible_s3_bucket_payload_7bei9nfw/ansible_s3_bucket_payload.zip/ansible/module_utils/cloud.py\", line 140, in retry_func\r\n      File \"/tmp/ansible_s3_bucket_payload_7bei9nfw/ansible_s3_bucket_payload.zip/ansible/modules/cloud/amazon/s3_bucket.py\", line 405, in get_bucket_request_payment\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/client.py\", line 316, in _api_call\r\n        return self._make_api_call(operation_name, kwargs)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/client.py\", line 622, in _make_api_call\r\n        operation_model, request_dict, request_context)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/client.py\", line 641, in _make_request\r\n        return self._endpoint.make_request(operation_model, request_dict)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n        return self._send_request(request_dict, operation_model)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/endpoint.py\", line 135, in _send_request\r\n        request, operation_model, context)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/endpoint.py\", line 167, in _get_response\r\n        request, operation_model)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/endpoint.py\", line 218, in _do_get_response\r\n        response_dict, operation_model.output_shape)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 246, in parse\r\n        parsed = self._do_parse(response, shape)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 810, in _do_parse\r\n        self._add_modeled_parse(response, shape, final_parsed)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 819, in _add_modeled_parse\r\n        self._parse_payload(response, shape, member_shapes, final_parsed)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 859, in _parse_payload\r\n        original_parsed = self._initial_body_parse(response['body'])\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 945, in _initial_body_parse\r\n        return self._parse_xml_string_to_dom(xml_string)\r\n      File \"/home/travis/virtualenv/python3.7.6/lib/python3.7/site-packages/botocore/parsers.py\", line 458, in _parse_xml_string_to_dom\r\n        (e, xml_string))\r\n    botocore.parsers.ResponseParserError: Unable to parse response (not well-formed (invalid token): line 1, column 38), invalid XML received. Further retries may succeed:\r\n    b'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\\\n<RequestPaymentConfiguration xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Payer>BucketOwner</Payer></RequestPaymentConfiguration>'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2056", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2056/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2056/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2056/events", "html_url": "https://github.com/boto/botocore/issues/2056", "id": 623035272, "node_id": "MDU6SXNzdWU2MjMwMzUyNzI=", "number": 2056, "title": "No paginator for EC2 describe_addresses", "user": {"login": "lovepurohit", "id": 37335848, "node_id": "MDQ6VXNlcjM3MzM1ODQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/37335848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lovepurohit", "html_url": "https://github.com/lovepurohit", "followers_url": "https://api.github.com/users/lovepurohit/followers", "following_url": "https://api.github.com/users/lovepurohit/following{/other_user}", "gists_url": "https://api.github.com/users/lovepurohit/gists{/gist_id}", "starred_url": "https://api.github.com/users/lovepurohit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lovepurohit/subscriptions", "organizations_url": "https://api.github.com/users/lovepurohit/orgs", "repos_url": "https://api.github.com/users/lovepurohit/repos", "events_url": "https://api.github.com/users/lovepurohit/events{/privacy}", "received_events_url": "https://api.github.com/users/lovepurohit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-22T08:10:20Z", "updated_at": "2020-05-26T21:45:33Z", "closed_at": "2020-05-26T21:45:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**There is no paginator available for the describe addresses**\r\nAs paginator allows you to automatic paginate the resource,\r\n\r\n**Add the paginator to the EC2 describe_addresses**\r\nIt is good to have the paginate functionality for all the list or describe resources as the number of response vary from account to account. It will increase the reliability of the responses from the API.\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2051", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2051/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2051/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2051/events", "html_url": "https://github.com/boto/botocore/issues/2051", "id": 620720499, "node_id": "MDU6SXNzdWU2MjA3MjA0OTk=", "number": 2051, "title": "1.16.12 - Mocked signature verification fails for EC2 RunInstances", "user": {"login": "bblommers", "id": 6058517, "node_id": "MDQ6VXNlcjYwNTg1MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6058517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bblommers", "html_url": "https://github.com/bblommers", "followers_url": "https://api.github.com/users/bblommers/followers", "following_url": "https://api.github.com/users/bblommers/following{/other_user}", "gists_url": "https://api.github.com/users/bblommers/gists{/gist_id}", "starred_url": "https://api.github.com/users/bblommers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bblommers/subscriptions", "organizations_url": "https://api.github.com/users/bblommers/orgs", "repos_url": "https://api.github.com/users/bblommers/repos", "events_url": "https://api.github.com/users/bblommers/events{/privacy}", "received_events_url": "https://api.github.com/users/bblommers/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 202410410, "node_id": "MDU6TGFiZWwyMDI0MTA0MTA=", "url": "https://api.github.com/repos/boto/botocore/labels/investigating", "name": "investigating", "color": "0000ff", "default": false, "description": "This issue is being investigated and/or work is in progress to resolve the issue."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-19T06:42:25Z", "updated_at": "2020-05-24T08:38:31Z", "closed_at": "2020-05-24T08:38:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "**What issue did you see ?**\r\nIn the Moto-project, one of our tests failed where we try to verify the mocked authentication.\r\n(https://github.com/spulec/moto/blob/e2106b7c01f36227e5dcf0e9cc275d548cc27109/tests/test_core/test_auth.py#L303)\r\n\r\nMore specifically, we calculate the signature of a mocked request based on the mocked credentials and incoming request headers, and verify that it matches the signature created by boto. \r\n(https://github.com/spulec/moto/blob/80b64f9b3ff57515db1fc07329bf8e5f519597aa/moto/iam/access_control.py#L264)\r\n\r\nThis now fails in Python2 after the latest build, `1.16.12`, where the `idempotencyToken` has been added to the EC2 RunInstancesRequest. The idempotencyToken seems to affect the calculated Signature of this request.\r\n\r\nThis has happened before, with the introduction of botocore build `1.15.8`. The `idempotencyToken`-change was reverted, and our build started passing again, with botocore build `1.15.13`. \r\n\r\nWould it be possible to \r\n - Get some background information on what this token does\r\n - Why it's included now \r\n - Why it only fails in Python2 \r\n - If it's not too much trouble - how we could go about recreating the signature of a mocked request to include this idempotencyToken\r\n\r\n**Steps to reproduce**\r\n- Check out Moto-project (https://github.com/spulec/moto)\r\n- Run the tests with Python 2\r\n\r\n**Additional Info**\r\nThe Moto issue raised when this issue first appeared with `1.15.8`:\r\nhttps://github.com/spulec/moto/issues/2774\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2044", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2044/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2044/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2044/events", "html_url": "https://github.com/boto/botocore/issues/2044", "id": 614965793, "node_id": "MDU6SXNzdWU2MTQ5NjU3OTM=", "number": 2044, "title": "TypeError: can't subtract offset-naive and offset-aware datetimes", "user": {"login": "leezu", "id": 946903, "node_id": "MDQ6VXNlcjk0NjkwMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/946903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leezu", "html_url": "https://github.com/leezu", "followers_url": "https://api.github.com/users/leezu/followers", "following_url": "https://api.github.com/users/leezu/following{/other_user}", "gists_url": "https://api.github.com/users/leezu/gists{/gist_id}", "starred_url": "https://api.github.com/users/leezu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leezu/subscriptions", "organizations_url": "https://api.github.com/users/leezu/orgs", "repos_url": "https://api.github.com/users/leezu/repos", "events_url": "https://api.github.com/users/leezu/events{/privacy}", "received_events_url": "https://api.github.com/users/leezu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1875892312, "node_id": "MDU6TGFiZWwxODc1ODkyMzEy", "url": "https://api.github.com/repos/boto/botocore/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-08T20:21:04Z", "updated_at": "2020-05-08T21:07:15Z", "closed_at": "2020-05-08T21:07:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nAfter removing a plugin based authentication mechanism, botocore throws the following error upon any operation.\r\n\r\n```\r\n2020-05-08 20:20:38,226 - MainThread - awscli.clidriver - DEBUG - CLI version: aws-cli/1.18.56 Python/3.8.0 Linux/5.6.7 botocore/1.16.6\r\n2020-05-08 20:20:38,227 - MainThread - awscli.clidriver - DEBUG - Arguments entered to CLI: ['s3', 'ls', '--debug']\r\n2020-05-08 20:20:38,227 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function add_scalar_parsers at 0x7f82bb318870>\r\n2020-05-08 20:20:38,227 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function register_uri_param_handler at 0x7f82bc30a190>\r\n2020-05-08 20:20:38,228 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function inject_assume_role_provider_cache at 0x7f82bc2c9870>\r\n2020-05-08 20:20:38,233 - MainThread - botocore.hooks - DEBUG - Event session-initialized: calling handler <function attach_history_handler at 0x7f82bb51cf50>\r\n2020-05-08 20:20:38,233 - MainThread - botocore.hooks - DEBUG - Event building-command-table.s3: calling handler <function add_waiters at 0x7f82bb326230>\r\n2020-05-08 20:20:38,235 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.s3.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,236 - MainThread - botocore.hooks - DEBUG - Event building-command-table.ls: calling handler <function add_waiters at 0x7f82bb326230>\r\n2020-05-08 20:20:38,238 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.paths: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,239 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.anonymous: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,239 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.page-size: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,240 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.human-readable: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,240 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f82bc3085f0>\r\n2020-05-08 20:20:38,241 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.summarize: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,241 - MainThread - botocore.hooks - DEBUG - Event process-cli-arg.custom.ls: calling handler <awscli.argprocess.ParamShorthandParser object at 0x7f82bc3085f0>\r\n2020-05-08 20:20:38,242 - MainThread - botocore.hooks - DEBUG - Event load-cli-arg.custom.ls.request-payer: calling handler <awscli.paramfile.URIArgumentHandler object at 0x7f82bb2206e0>\r\n2020-05-08 20:20:38,242 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: env\r\n2020-05-08 20:20:38,242 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role\r\n2020-05-08 20:20:38,242 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: assume-role-with-web-identity\r\n2020-05-08 20:20:38,243 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: shared-credentials-file\r\n2020-05-08 20:20:38,243 - MainThread - botocore.credentials - DEBUG - Looking for credentials via: custom-process\r\n2020-05-08 20:20:38,394 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/data/endpoints.json\r\n2020-05-08 20:20:38,436 - MainThread - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7f82bd584550>\r\n2020-05-08 20:20:38,440 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/data/s3/2006-03-01/service-2.json\r\n2020-05-08 20:20:38,468 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x7f82bd5ceeb0>\r\n2020-05-08 20:20:38,468 - MainThread - botocore.hooks - DEBUG - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x7f82bd5cec30>\r\n2020-05-08 20:20:38,482 - MainThread - botocore.endpoint - DEBUG - Setting s3 timeout as (60, 60)\r\n2020-05-08 20:20:38,484 - MainThread - botocore.loaders - DEBUG - Loading JSON file: /home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/data/_retry.json\r\n2020-05-08 20:20:38,485 - MainThread - botocore.client - DEBUG - Registering retry handlers for service: s3\r\n2020-05-08 20:20:38,490 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <function validate_bucket_name at 0x7f82bd54e230>\r\n2020-05-08 20:20:38,490 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <bound method S3RegionRedirector.redirect_from_cache of <botocore.utils.S3RegionRedirector object at 0x7f82baf86c80>>\r\n2020-05-08 20:20:38,490 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <bound method S3ArnParamHandler.handle_arn of <botocore.utils.S3ArnParamHandler object at 0x7f82baf1f140>>\r\n2020-05-08 20:20:38,490 - MainThread - botocore.hooks - DEBUG - Event before-parameter-build.s3.ListBuckets: calling handler <function generate_idempotent_uuid at 0x7f82bd549d70>\r\n2020-05-08 20:20:38,491 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListBuckets: calling handler <function add_expect_header at 0x7f82bd54e5f0>\r\n2020-05-08 20:20:38,491 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListBuckets: calling handler <bound method S3RegionRedirector.set_request_url of <botocore.utils.S3RegionRedirector object at 0x7f82baf86c80>>\r\n2020-05-08 20:20:38,491 - MainThread - botocore.hooks - DEBUG - Event before-call.s3.ListBuckets: calling handler <function inject_api_version_header_if_needed at 0x7f82bd54fb90>\r\n2020-05-08 20:20:38,491 - MainThread - botocore.endpoint - DEBUG - Making request for OperationModel(name=ListBuckets) with params: {'url_path': '/', 'query_string': '', 'method': 'GET', 'headers': {'User-Agent': 'aws-cli/1.18.56 Python/3.8.0 Linux/5.6.7 botocore/1.16.6'}, 'body': b'', 'url': 'https://s3.amazonaws.com/', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f82baf86050>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': None}}}\r\n2020-05-08 20:20:38,492 - MainThread - botocore.hooks - DEBUG - Event request-created.s3.ListBuckets: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7f82baf80fa0>>\r\n2020-05-08 20:20:38,492 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListBuckets: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x7f82bb217a50>>\r\n2020-05-08 20:20:38,492 - MainThread - botocore.hooks - DEBUG - Event choose-signer.s3.ListBuckets: calling handler <function set_operation_specific_signer at 0x7f82bd549c30>\r\n2020-05-08 20:20:38,493 - MainThread - botocore.hooks - DEBUG - Event before-sign.s3.ListBuckets: calling handler <bound method S3EndpointSetter.set_endpoint of <botocore.utils.S3EndpointSetter object at 0x7f82baf1f1e0>>\r\n2020-05-08 20:20:38,493 - MainThread - botocore.utils - DEBUG - Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2020-05-08 20:20:38,494 - MainThread - awscli.clidriver - DEBUG - Exception caught in main()\r\nTraceback (most recent call last):\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/awscli/clidriver.py\", line 217, in main\r\n    return command_table[parsed_args.command](remaining, parsed_args)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/awscli/customizations/commands.py\", line 189, in __call__\r\n    return self.subcommand_table[parsed_args.subcommand](remaining,\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/awscli/customizations/commands.py\", line 187, in __call__\r\n    return self._run_main(parsed_args, parsed_globals)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/awscli/customizations/s3/subcommands.py\", line 478, in _run_main\r\n    self._list_all_buckets()\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/awscli/customizations/s3/subcommands.py\", line 543, in _list_all_buckets\r\n    response_data = self.client.list_buckets()\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/client.py\", line 612, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/client.py\", line 632, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/endpoint.py\", line 132, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/endpoint.py\", line 115, in create_request\r\n    self._event_emitter.emit(event_name, request=request,\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/signers.py\", line 90, in handler\r\n    return self.sign(operation_name, request)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/signers.py\", line 152, in sign\r\n    auth = self.get_auth_instance(**kwargs)\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/signers.py\", line 232, in get_auth_instance\r\n    frozen_credentials = self._credentials.get_frozen_credentials()\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/credentials.py\", line 591, in get_frozen_credentials\r\n    self._refresh()\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/credentials.py\", line 473, in _refresh\r\n    if not self.refresh_needed(self._advisory_refresh_timeout):\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/credentials.py\", line 459, in refresh_needed\r\n    if self._seconds_remaining() >= refresh_in:\r\n  File \"/home/ANT.AMAZON.COM/lausen/.pyenv/versions/3.8.0-debug/lib/python3.8/site-packages/botocore/credentials.py\", line 428, in _seconds_remaining\r\n    delta = self._expiry_time - self._time_fetcher()\r\nTypeError: can't subtract offset-naive and offset-aware datetimes\r\n2020-05-08 20:20:38,499 - MainThread - awscli.clidriver - DEBUG - Exiting with rc 255\r\n\r\ncan't subtract offset-naive and offset-aware datetimes\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2031", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2031/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2031/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2031/events", "html_url": "https://github.com/boto/botocore/issues/2031", "id": 607045745, "node_id": "MDU6SXNzdWU2MDcwNDU3NDU=", "number": 2031, "title": "Elastisearch Service generate_presigned_url", "user": {"login": "beugene-orcher", "id": 4976668, "node_id": "MDQ6VXNlcjQ5NzY2Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4976668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beugene-orcher", "html_url": "https://github.com/beugene-orcher", "followers_url": "https://api.github.com/users/beugene-orcher/followers", "following_url": "https://api.github.com/users/beugene-orcher/following{/other_user}", "gists_url": "https://api.github.com/users/beugene-orcher/gists{/gist_id}", "starred_url": "https://api.github.com/users/beugene-orcher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beugene-orcher/subscriptions", "organizations_url": "https://api.github.com/users/beugene-orcher/orgs", "repos_url": "https://api.github.com/users/beugene-orcher/repos", "events_url": "https://api.github.com/users/beugene-orcher/events{/privacy}", "received_events_url": "https://api.github.com/users/beugene-orcher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-26T15:59:12Z", "updated_at": "2020-05-05T19:50:39Z", "closed_at": "2020-05-05T19:50:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nIs there any way to generate presigned url for get requests to an ES instance?\r\n\r\nDescription:\r\nI can get data under my master account and it works.\r\n```\r\nawsauth = AWSRequestsAuth(\r\n    aws_access_key=AWS_ACCESS_KEY,\r\n    aws_secret_access_key=AWS_SECRET_ACCESS_KEY,\r\n    aws_host=ES_HOST,\r\n    aws_region=REGION,\r\n    aws_service='es'\r\n)\r\nes = Elasticsearch(\r\n    hosts=[{'host': ES_HOST, 'port': ES_PORT}],\r\n    http_auth=awsauth,\r\n    use_ssl=True,\r\n    verify_certs=True,\r\n    connection_class=RequestsHttpConnection\r\n)\r\nprint(es.get(index='services', doc_type='employee', id=1))\r\n```\r\n\r\nThe next step is getting presigned url to the index. I've checked out this (https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/es.html#ElasticsearchService.Client.generate_presigned_url).\r\nI've got the two problems:\r\n1) which ClientMethod value I need to use for viewing index?\r\n2) I've tried to generate url, but the given url returns 403 (\"The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\").\r\n\r\nget presigned url:\r\n```\r\nclient = boto3.client(\r\n    service_name='es',\r\n    aws_access_key_id=AWS_ACCESS_KEY,\r\n    aws_secret_access_key=AWS_SECRET_ACCESS_KEY,\r\n    region_name=REGION,\r\n    endpoint_url=ES_HOST\r\n)\r\nprint(client.generate_presigned_url('list_domain_names', Params=None, ExpiresIn=3600, HttpMethod='GET'))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2026", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2026/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2026/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2026/events", "html_url": "https://github.com/boto/botocore/issues/2026", "id": 606188060, "node_id": "MDU6SXNzdWU2MDYxODgwNjA=", "number": 2026, "title": "Support querying codecommit of partition 'aws-cn' in session", "user": {"login": "zxkane", "id": 843303, "node_id": "MDQ6VXNlcjg0MzMwMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/843303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zxkane", "html_url": "https://github.com/zxkane", "followers_url": "https://api.github.com/users/zxkane/followers", "following_url": "https://api.github.com/users/zxkane/following{/other_user}", "gists_url": "https://api.github.com/users/zxkane/gists{/gist_id}", "starred_url": "https://api.github.com/users/zxkane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zxkane/subscriptions", "organizations_url": "https://api.github.com/users/zxkane/orgs", "repos_url": "https://api.github.com/users/zxkane/repos", "events_url": "https://api.github.com/users/zxkane/events{/privacy}", "received_events_url": "https://api.github.com/users/zxkane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-24T09:50:32Z", "updated_at": "2020-05-01T18:15:37Z", "closed_at": "2020-05-01T18:15:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**AWS CodeCommit** is GA in AWS China(for both `cn-north-1` and `cn-northwest-1`).\r\n\r\nAbove regions are not available when querying regions for service 'codecommit' for 'aws-cn'.\r\n\r\n```python\r\n>>> import botocore.session\r\n>>> session = botocore.session.Session(profile = 'default')\r\n>>> session.get_available_partitions()\r\n['aws', 'aws-cn', 'aws-us-gov']\r\n>>> session.get_available_regions('codecommit', 'aws-cn')\r\n[]\r\n>>> session.get_available_regions('codecommit', 'aws')\r\n['ap-northeast-1', 'ap-northeast-2', 'ap-south-1', 'ap-southeast-1', 'ap-southeast-2', 'ca-central-1', 'eu-central-1', 'eu-west-1', 'eu-west-2', 'eu-west-3', 'sa-east-1', 'us-east-1', 'us-east-2', 'us-west-1', 'us-west-2']\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2025", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2025/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2025/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2025/events", "html_url": "https://github.com/boto/botocore/issues/2025", "id": 605561500, "node_id": "MDU6SXNzdWU2MDU1NjE1MDA=", "number": 2025, "title": "Support payload streaming for json protocol responses", "user": {"login": "oliora", "id": 218676, "node_id": "MDQ6VXNlcjIxODY3Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/218676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oliora", "html_url": "https://github.com/oliora", "followers_url": "https://api.github.com/users/oliora/followers", "following_url": "https://api.github.com/users/oliora/following{/other_user}", "gists_url": "https://api.github.com/users/oliora/gists{/gist_id}", "starred_url": "https://api.github.com/users/oliora/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oliora/subscriptions", "organizations_url": "https://api.github.com/users/oliora/orgs", "repos_url": "https://api.github.com/users/oliora/repos", "events_url": "https://api.github.com/users/oliora/events{/privacy}", "received_events_url": "https://api.github.com/users/oliora/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-04-23T13:58:15Z", "updated_at": "2020-06-26T19:39:09Z", "closed_at": "2020-06-26T19:39:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to support payload streaming for json protocol responses in the same way as it is supported for rest-json protocol.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2023", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2023/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2023/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2023/events", "html_url": "https://github.com/boto/botocore/issues/2023", "id": 600687199, "node_id": "MDU6SXNzdWU2MDA2ODcxOTk=", "number": 2023, "title": "IAM failures as of 1.13.23 with role based auth", "user": {"login": "jsmodic", "id": 916554, "node_id": "MDQ6VXNlcjkxNjU1NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/916554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsmodic", "html_url": "https://github.com/jsmodic", "followers_url": "https://api.github.com/users/jsmodic/followers", "following_url": "https://api.github.com/users/jsmodic/following{/other_user}", "gists_url": "https://api.github.com/users/jsmodic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsmodic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsmodic/subscriptions", "organizations_url": "https://api.github.com/users/jsmodic/orgs", "repos_url": "https://api.github.com/users/jsmodic/repos", "events_url": "https://api.github.com/users/jsmodic/events{/privacy}", "received_events_url": "https://api.github.com/users/jsmodic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-16T01:42:00Z", "updated_at": "2020-04-21T17:04:55Z", "closed_at": "2020-04-21T17:04:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "After running with 1.13.22 for a long time, I tried to update to latest (1.15.x)... but saw a lot of IAM issues (using role based auth). I bisected that back to 1.13.23 as the latest version that shows problems (coincidentally just one later version).\r\n\r\nThis is using the s3 client with boto3==1.10.22 in a multi threaded, multi container on a single EC2 node setup. Changing the boto3 version seemed to have no effect.\r\n\r\nIt's not consistent as some requests will function properly. But there's a significant uptick of failed requests with no credentials attached. When I get on the machine itself to curl it, there's sporadic 429s and that's what I saw in cloudtrail as well. I don't have the boto debug logs... but it all points to getting throttled with a much higher IAM request volume.\r\n\r\nDowngrading to 1.13.22 removes the symptoms.\r\n\r\nThere's some obviously suggestive changes in https://github.com/boto/botocore/blob/develop/botocore/utils.py that landed in 1.13.23, but I can't speak to how it all fits together to alter the shape of IAM requests.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2022", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2022/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2022/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2022/events", "html_url": "https://github.com/boto/botocore/issues/2022", "id": 600674515, "node_id": "MDU6SXNzdWU2MDA2NzQ1MTU=", "number": 2022, "title": "vpc endpoint service configuration for PrivateDnsName or TagSpecifications getting ParamValidationError", "user": {"login": "pmankad96", "id": 55426991, "node_id": "MDQ6VXNlcjU1NDI2OTkx", "avatar_url": "https://avatars2.githubusercontent.com/u/55426991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmankad96", "html_url": "https://github.com/pmankad96", "followers_url": "https://api.github.com/users/pmankad96/followers", "following_url": "https://api.github.com/users/pmankad96/following{/other_user}", "gists_url": "https://api.github.com/users/pmankad96/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmankad96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmankad96/subscriptions", "organizations_url": "https://api.github.com/users/pmankad96/orgs", "repos_url": "https://api.github.com/users/pmankad96/repos", "events_url": "https://api.github.com/users/pmankad96/events{/privacy}", "received_events_url": "https://api.github.com/users/pmankad96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-04-16T00:58:17Z", "updated_at": "2020-04-17T23:26:22Z", "closed_at": "2020-04-17T20:46:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to create VPC Endpoint Service using [create_vpc_endpoint_service_configuration()](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ec2.html#EC2.Client.create_vpc_endpoint_service_configuration) api call. \r\n\r\nWhen I try to pass PrivateDnsName and/or TagSpecifications, I am getting botocore ParamValidationError:\r\n\r\n$: \r\nCreating VPCE Service:\r\n**boto3 version: 1.12.39\r\nbotocore version: 1.15.39**\r\nTraceback (most recent call last):\r\n  File \"./networking/privatelink/vpceService.py\", line 61, in <module>\r\n    main()\r\n  File \"./networking/privatelink/vpceService.py\", line 46, in main\r\n    dbUpload=useDb, dbDict=dynamoDict)\r\n  File \"/automation/aws-python-sdk/lib/awsPrivateLinkUtils.py\", line 53, in createVpceService\r\n    NetworkLoadBalancerArns=nlbList,\r\n  File \"/Users/user1/anaconda3/lib/python3.7/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/user1/anaconda3/lib/python3.7/site-packages/botocore/client.py\", line 599, in _make_api_call\r\n    api_params, operation_model, context=request_context)\r\n  File \"/Users/user1/anaconda3/lib/python3.7/site-packages/botocore/client.py\", line 647, in _convert_to_request_dict\r\n    api_params, operation_model)\r\n  File \"/Users/user1/anaconda3/lib/python3.7/site-packages/botocore/validate.py\", line 297, in serialize_to_request\r\n    raise ParamValidationError(report=report.generate_report())\r\nbotocore.exceptions.ParamValidationError: Parameter validation failed:\r\nUnknown parameter in input: \"PrivateDnsName\", must be one of: DryRun, AcceptanceRequired, NetworkLoadBalancerArns, ClientToken\r\n$:\r\n\r\nBoth botocore and boto3 are running the latest version:\r\n\r\n$: python -c 'import botocore,boto3; v1=botocore.__version__;v2=boto3.__version__;print(f\"botocore version: {v1}, boto3 version: {v2}\")'\r\nbotocore version: 1.15.39, boto3 version: 1.12.39\r\n$:\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2014", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2014/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2014/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2014/events", "html_url": "https://github.com/boto/botocore/issues/2014", "id": 598187049, "node_id": "MDU6SXNzdWU1OTgxODcwNDk=", "number": 2014, "title": "Connection was closed before we received a valid response from endpoint URL: \"https://queue.amazonaws.com/\"", "user": {"login": "alseambusher", "id": 1242542, "node_id": "MDQ6VXNlcjEyNDI1NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1242542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alseambusher", "html_url": "https://github.com/alseambusher", "followers_url": "https://api.github.com/users/alseambusher/followers", "following_url": "https://api.github.com/users/alseambusher/following{/other_user}", "gists_url": "https://api.github.com/users/alseambusher/gists{/gist_id}", "starred_url": "https://api.github.com/users/alseambusher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alseambusher/subscriptions", "organizations_url": "https://api.github.com/users/alseambusher/orgs", "repos_url": "https://api.github.com/users/alseambusher/repos", "events_url": "https://api.github.com/users/alseambusher/events{/privacy}", "received_events_url": "https://api.github.com/users/alseambusher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-11T04:20:25Z", "updated_at": "2020-04-14T04:35:59Z", "closed_at": "2020-04-14T04:35:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using boto3 to work with sqs. \r\n```python\r\nsqs = boto3.client(\"sqs\")\r\n...\r\n...\r\nsqs.send_message(QueueUrl=..., MessageBody=...)\r\n```\r\n\r\nI am seeing this behavior all the time when I call `send_message` and would appreciate any feedback.\r\n\r\n- Boto creates a payload for POST to AWS and sends it to https://queue.amazonaws.com/\r\n- Boto is unable to connect to https://queue.amazonaws.com/ and closes with \u201c'Remote end closed connection without response\u201d in 4-5ms\r\n- Boto then decides to sleep for a random amount of time.\r\n- It then wakes up to make the same POST call to AWS and does it successfully.\r\n\r\n```\r\n'User-Agent': b'Boto3/1.12.39 Python/3.5.2 Linux/4.14.88-coreos Botocore/1.15.39'\r\n```\r\n\r\nHere is the stacktrace:\r\n```\r\n2020-04-10 15:39:25,248 - botocore.hooks - DEBUG - _emit - request_id=VdzaLibhiVABXKnhacEjljpD0tzN1TLP MainProcess MainThread Event needs-retry.sqs.SendMessage: calling handler <botocore.retryhandler.RetryHandler object at 0x7f744433a048>\r\n2020-04-10 15:39:25,248 - botocore.retryhandler - DEBUG - _should_retry - request_id=VdzaLibhiVABXKnhacEjljpD0tzN1TLP MainProcess MainThread retry needed, retryable exception caught: Connection was closed before we received a valid response from endpoint URL: \"https://queue.amazonaws.com/\".\r\nTraceback (most recent call last):\r\n  File \"/app/python/urllib3/connectionpool.py\", line 672, in urlopen\r\n    chunked=chunked,\r\n  File \"/app/python/urllib3/connectionpool.py\", line 421, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"/app/python/urllib3/connectionpool.py\", line 416, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/lib/python3.5/http/client.py\", line 1197, in getresponse\r\n    response.begin()\r\n  File \"/usr/lib/python3.5/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/lib/python3.5/http/client.py\", line 266, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/app/python/botocore/httpsession.py\", line 263, in send\r\n    chunked=self._chunked(request.headers),\r\n  File \"/app/python/urllib3/connectionpool.py\", line 720, in urlopen\r\n    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n  File \"/app/python/urllib3/util/retry.py\", line 376, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/app/python/urllib3/packages/six.py\", line 734, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/app/python/urllib3/connectionpool.py\", line 672, in urlopen\r\n    chunked=chunked,\r\n  File \"/app/python/urllib3/connectionpool.py\", line 421, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"/app/python/urllib3/connectionpool.py\", line 416, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/lib/python3.5/http/client.py\", line 1197, in getresponse\r\n    response.begin()\r\n  File \"/usr/lib/python3.5/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/lib/python3.5/http/client.py\", line 266, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/app/python/botocore/retryhandler.py\", line 269, in _should_retry\r\n    return self._checker(attempt_number, response, caught_exception)\r\n  File \"/app/python/botocore/retryhandler.py\", line 317, in __call__\r\n    caught_exception)\r\n  File \"/app/python/botocore/retryhandler.py\", line 223, in __call__\r\n    attempt_number, caught_exception)\r\n  File \"/app/python/botocore/retryhandler.py\", line 359, in _check_caught_exception\r\n    raise caught_exception\r\n  File \"/app/python/botocore/endpoint.py\", line 200, in _do_get_response\r\n    http_response = self._send(request)\r\n  File \"/app/python/botocore/endpoint.py\", line 244, in _send\r\n    return self.http_session.send(request)\r\n  File \"/app/python/botocore/httpsession.py\", line 294, in send\r\n    endpoint_url=request.url\r\nbotocore.exceptions.ConnectionClosedError: Connection was closed before we received a valid response from endpoint URL: \"https://queue.amazonaws.com/\".\r\n2020-04-10 15:39:25,251 - botocore.retryhandler - DEBUG - __call__ - request_id=VdzaLibhiVABXKnhacEjljpD0tzN1TLP MainProcess MainThread Retry needed, action of: 0.3506498769046176\r\n2020-04-10 15:39:25,251 - botocore.endpoint - DEBUG - _needs_retry - request_id=VdzaLibhiVABXKnhacEjljpD0tzN1TLP MainProcess MainThread Response received to retry, sleeping for 0.3506498769046176 seconds\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2010", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2010/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2010/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2010/events", "html_url": "https://github.com/boto/botocore/issues/2010", "id": 591292189, "node_id": "MDU6SXNzdWU1OTEyOTIxODk=", "number": 2010, "title": "AWS::SNS::Topic is missing in the list of AWS Config resource types", "user": {"login": "mikegrima", "id": 11035926, "node_id": "MDQ6VXNlcjExMDM1OTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/11035926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikegrima", "html_url": "https://github.com/mikegrima", "followers_url": "https://api.github.com/users/mikegrima/followers", "following_url": "https://api.github.com/users/mikegrima/following{/other_user}", "gists_url": "https://api.github.com/users/mikegrima/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikegrima/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikegrima/subscriptions", "organizations_url": "https://api.github.com/users/mikegrima/orgs", "repos_url": "https://api.github.com/users/mikegrima/repos", "events_url": "https://api.github.com/users/mikegrima/events{/privacy}", "received_events_url": "https://api.github.com/users/mikegrima/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}, {"id": 1875871845, "node_id": "MDU6TGFiZWwxODc1ODcxODQ1", "url": "https://api.github.com/repos/boto/botocore/labels/service-api", "name": "service-api", "color": "E06A18", "default": false, "description": "This issue is caused by the service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-03-31T17:37:28Z", "updated_at": "2020-07-23T21:39:48Z", "closed_at": "2020-07-23T21:29:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nAWS Config supports SNS Topics, but `AWS::SNS::Topic` is currently missing in the AWS Config service JSON as a supported resource type:\r\n\r\nhttps://github.com/boto/botocore/blob/develop/botocore/data/config/2014-11-12/service-2.json#L5972\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2008", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2008/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2008/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2008/events", "html_url": "https://github.com/boto/botocore/issues/2008", "id": 590630693, "node_id": "MDU6SXNzdWU1OTA2MzA2OTM=", "number": 2008, "title": "All client's endpoint is an incorrect string", "user": {"login": "datarina", "id": 56168899, "node_id": "MDQ6VXNlcjU2MTY4ODk5", "avatar_url": "https://avatars0.githubusercontent.com/u/56168899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datarina", "html_url": "https://github.com/datarina", "followers_url": "https://api.github.com/users/datarina/followers", "following_url": "https://api.github.com/users/datarina/following{/other_user}", "gists_url": "https://api.github.com/users/datarina/gists{/gist_id}", "starred_url": "https://api.github.com/users/datarina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datarina/subscriptions", "organizations_url": "https://api.github.com/users/datarina/orgs", "repos_url": "https://api.github.com/users/datarina/repos", "events_url": "https://api.github.com/users/datarina/events{/privacy}", "received_events_url": "https://api.github.com/users/datarina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-30T22:09:37Z", "updated_at": "2020-04-10T18:53:01Z", "closed_at": "2020-04-10T18:53:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nI'm using boto for getting my aws credentials. It used to work just  fine but now I run into this issue when all the endpoints strings are wrong. Instead of getting 'sts.aws.com' i get 'sts.q.aws.com'.\r\nAnd this extra 'q' in every endpoint string. What might be the reason for it? How can it be fixed?\r\n\r\nDetected single role: arn:aws:iam::------------:role/--------------\r\n> /usr/local/lib/python3.8/site-packages/botocore/httpsession.py(284)send()\r\n-> raise EndpointConnectionError(endpoint_url=request.url, error=e)\r\n(Pdb) u\r\n> /usr/local/lib/python3.8/site-packages/botocore/endpoint.py(244)_send()\r\n-> return self.http_session.send(request)\r\n(Pdb) request.url\r\n'https://sts.q.amazonaws.com/'\r\n\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2005", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2005/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2005/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2005/events", "html_url": "https://github.com/boto/botocore/issues/2005", "id": 589883673, "node_id": "MDU6SXNzdWU1ODk4ODM2NzM=", "number": 2005, "title": "Delete pls - moved to boto / boto3", "user": {"login": "fat0", "id": 15932558, "node_id": "MDQ6VXNlcjE1OTMyNTU4", "avatar_url": "https://avatars2.githubusercontent.com/u/15932558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fat0", "html_url": "https://github.com/fat0", "followers_url": "https://api.github.com/users/fat0/followers", "following_url": "https://api.github.com/users/fat0/following{/other_user}", "gists_url": "https://api.github.com/users/fat0/gists{/gist_id}", "starred_url": "https://api.github.com/users/fat0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fat0/subscriptions", "organizations_url": "https://api.github.com/users/fat0/orgs", "repos_url": "https://api.github.com/users/fat0/repos", "events_url": "https://api.github.com/users/fat0/events{/privacy}", "received_events_url": "https://api.github.com/users/fat0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-29T20:56:30Z", "updated_at": "2020-03-30T13:59:32Z", "closed_at": "2020-03-30T13:59:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Delete pls - moved to boto / boto3\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/2003", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/2003/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/2003/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/2003/events", "html_url": "https://github.com/boto/botocore/issues/2003", "id": 588441546, "node_id": "MDU6SXNzdWU1ODg0NDE1NDY=", "number": 2003, "title": "Unable to Assume WebIdentity Role - EKS IRSA", "user": {"login": "BastianM3", "id": 14362604, "node_id": "MDQ6VXNlcjE0MzYyNjA0", "avatar_url": "https://avatars3.githubusercontent.com/u/14362604?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BastianM3", "html_url": "https://github.com/BastianM3", "followers_url": "https://api.github.com/users/BastianM3/followers", "following_url": "https://api.github.com/users/BastianM3/following{/other_user}", "gists_url": "https://api.github.com/users/BastianM3/gists{/gist_id}", "starred_url": "https://api.github.com/users/BastianM3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BastianM3/subscriptions", "organizations_url": "https://api.github.com/users/BastianM3/orgs", "repos_url": "https://api.github.com/users/BastianM3/repos", "events_url": "https://api.github.com/users/BastianM3/events{/privacy}", "received_events_url": "https://api.github.com/users/BastianM3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-26T13:57:43Z", "updated_at": "2020-04-09T19:01:22Z", "closed_at": "2020-04-09T19:01:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**A description of the problem/suggestion:**\r\n\r\nI was working with a developer on getting their containerized app running in EKS, whereby we're assigning a role to the service account which has adequate permissions to interact with SNS.\r\n\r\nAfter much tinkering, we were able to isolate the issue to a specific version of botocore:\r\n\r\n```\r\n1.13.26 - failed\r\n1.13.25 - failed\r\n1.13.20 - failed\r\n1.13.0 - failed\r\n1.12.229 - failed\r\n1.12.210 - failed\r\n1.12.200 - failed <-- this release\r\n1.12.199 - worked\r\n1.12.195 - worked\r\n1.12.188 - worked\r\n1.12.187 - worked\r\n1.12.170 - worked\r\n1.12.137 - worked\r\n```\r\n\r\nFor now, we're pinning botocore to 1.12.199 but we're not exactly sure why it doesn't work with newer versions. We were originally using the traditional boto3 way of interacting with SNS, but I revised to use botocore to try'n isolate the issue.\r\n\r\n**A code sample that demonstrates the issue:**\r\n\r\n```\r\nimport botocore.session\r\nsession = botocore.session.get_session()\r\nsns = session.create_client('sns', region_name='us-west-2')\r\nsns.publish(TopicArn='arn:aws:sns:us-west-2:ACCT_ID:TOPIC_NAME',Message='{\"msg\":\"Testingboto\"}')\r\n```\r\n\r\nWhen using botocore>=1.12.200:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 612, in _make_api_call\r\n    http, parsed_response = self._make_request(\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 632, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/endpoint.py\", line 132, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/endpoint.py\", line 115, in create_request\r\n    self._event_emitter.emit(event_name, request=request,\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/signers.py\", line 90, in handler\r\n    return self.sign(operation_name, request)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/signers.py\", line 152, in sign\r\n    auth = self.get_auth_instance(**kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/signers.py\", line 232, in get_auth_instance\r\n    frozen_credentials = self._credentials.get_frozen_credentials()\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/credentials.py\", line 591, in get_frozen_credentials\r\n    self._refresh()\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/credentials.py\", line 486, in _refresh\r\n    self._protected_refresh(is_mandatory=is_mandatory_refresh)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/credentials.py\", line 502, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/credentials.py\", line 643, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/credentials.py\", line 653, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/credentials.py\", line 863, in _get_credentials\r\n    return client.assume_role_with_web_identity(**kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/botocore/client.py\", line 626, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\n\r\nbotocore.exceptions.ClientError: An error occurred (AccessDenied) when calling the AssumeRoleWithWebIdentity operation: Not authorized to perform sts:AssumeRoleWithWebIdentity\r\n```\r\n\r\n```\r\nimport botocore.session\r\nsession = botocore.session.get_session()\r\nsns = session.create_client('sns', region_name='us-west-2')\r\n\r\nsns.publish(TopicArn='arn:aws:sns:us-west-2:ACCT_ID:TOPIC_NAME',Message='{\"msg\":\"Testingboto\"}')\r\n{'MessageId': 'f6aeca32-2500-56dc-b109-9cc7e053e670', 'ResponseMetadata': {'RequestId': '57a323c1-e9c3-542a-9607-75342c90c486', 'HTTPStatusCode': 200, 'HTTPHeaders': {'x-amzn-requestid': '57a323c1-e9c3-542a-9607-75342c90c486', 'content-type': 'text/xml', 'content-length': '294', 'date': 'Wed, 25 Mar 2020 20:46:10 GMT'}, 'RetryAttempts': 0}}\r\n```\r\n\r\nIt's worth noting that it works fine using awscli when installing via apt-get, but NOT via pip.\r\n\r\n**Including the versions of your:**\r\n\r\n**python interpreter:** 3.8\r\n\r\n**OS:** `FROM python:3.8-buster` (was able to reproduce in other container images too)\r\n\r\n**Version of botocore:** anything >1.12.199\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1994", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1994/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1994/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1994/events", "html_url": "https://github.com/boto/botocore/issues/1994", "id": 576140970, "node_id": "MDU6SXNzdWU1NzYxNDA5NzA=", "number": 1994, "title": "boto3 client for lambda stops reading from a connection after 300 seconds", "user": {"login": "gokriznastic", "id": 14166854, "node_id": "MDQ6VXNlcjE0MTY2ODU0", "avatar_url": "https://avatars2.githubusercontent.com/u/14166854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gokriznastic", "html_url": "https://github.com/gokriznastic", "followers_url": "https://api.github.com/users/gokriznastic/followers", "following_url": "https://api.github.com/users/gokriznastic/following{/other_user}", "gists_url": "https://api.github.com/users/gokriznastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/gokriznastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gokriznastic/subscriptions", "organizations_url": "https://api.github.com/users/gokriznastic/orgs", "repos_url": "https://api.github.com/users/gokriznastic/repos", "events_url": "https://api.github.com/users/gokriznastic/events{/privacy}", "received_events_url": "https://api.github.com/users/gokriznastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-05T10:16:30Z", "updated_at": "2020-03-06T20:10:08Z", "closed_at": "2020-03-06T20:10:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a Lambda function that contains code that needs to execute for 5 minutes or longer. I invoke this Lambda function using `boto3` and wait for the response from the Lambda function (response being a json object). \r\n\r\nI noticed that on using `botocore.config.Config` to increase `read_timeout` for the `boto3.client` the client keeps the connection open but stops reading from the connection after 300 seconds (5 minutes) and throws a `ReadTimeoutError` exception after the specified value of the `read_timeout` parameter.\r\n\r\nBelow are the code snippets to reproduce the issue:\r\n\r\n_**Client machine code:**_\r\npython: 3.5\r\nOS: Ubuntu 16.04 Linux\r\nbotocore version: 1.14.11\r\n```\r\nimport json\r\n\r\nimport boto3\r\nimport botocore\r\n\r\nconfig = botocore.config.Config(read_timeout=310, connect_timeout=310, retries={'max_attempts': 0})\r\nclient = boto3.client('lambda', config=config)\r\n\r\npayload = {\"body\":some_string}\r\npayload = json.dumps(payload)\r\n\r\nresponse = client.invoke(\r\n            FunctionName='arn:aws:lambda:<region>:xxxxxxxxxxxx:function:function_name',\r\n            InvocationType='RequestResponse',\r\n            Payload=payload\r\n        )\r\n```\r\n_**Lambda function code:**_\r\npython: 3.7\r\n```\r\nimport time\r\nimport json\r\n\r\ndef lambda_handler(event, context):\r\n    time.sleep(300)\r\n    return {\r\n        'statusCode': 200,\r\n        'body': json.dumps('Hello from Lambda!')\r\n    }\r\n```\r\nThe above code produces the following error message: \r\n`botocore.exceptions.ReadTimeoutError: Read timeout on endpoint URL` \r\nafter **310 seconds**. I have tried experimenting with multiple values of `time.sleep()` and `read_timeout`. After referring to the _CloudWatch_ logs I am fairly certain this only happens if Lambda executes for 300 seconds or more (the same can be verified by changing the sleep time in Lambda to 299)\r\n\r\nWhat seems to be the issue here? Any help would be much appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1993", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1993/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1993/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1993/events", "html_url": "https://github.com/boto/botocore/issues/1993", "id": 575557729, "node_id": "MDU6SXNzdWU1NzU1NTc3Mjk=", "number": 1993, "title": "Intermittent error: 'Unable to locate credentials'", "user": {"login": "Phandora", "id": 33484080, "node_id": "MDQ6VXNlcjMzNDg0MDgw", "avatar_url": "https://avatars0.githubusercontent.com/u/33484080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Phandora", "html_url": "https://github.com/Phandora", "followers_url": "https://api.github.com/users/Phandora/followers", "following_url": "https://api.github.com/users/Phandora/following{/other_user}", "gists_url": "https://api.github.com/users/Phandora/gists{/gist_id}", "starred_url": "https://api.github.com/users/Phandora/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Phandora/subscriptions", "organizations_url": "https://api.github.com/users/Phandora/orgs", "repos_url": "https://api.github.com/users/Phandora/repos", "events_url": "https://api.github.com/users/Phandora/events{/privacy}", "received_events_url": "https://api.github.com/users/Phandora/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-04T16:32:03Z", "updated_at": "2020-04-06T20:15:47Z", "closed_at": "2020-04-06T20:15:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nWe are getting the error '**Unable to locate credentials**' for the past few weeks. It happens intermittently and its frequency is low. We usually solve it by restarting the affected pod.\r\n\r\nThe same issue was referenced here: https://github.com/boto/botocore/issues/1965 \r\n\r\n- **Code that fails:**\r\n```\r\ndef decrypt_data_key(data_key_encrypted, region_name):\r\n\r\n    \"\"\"\r\n    Decrypt an encrypted data key\r\n    :param data_key_encrypted: Encrypted cyphertext data key.\r\n    :param region_name: KMS region\r\n    \"\"\"\r\n\r\n    # Decrypt the data key\r\n    client = boto3.client('kms', region_name=region_name)\r\n    try:\r\n        response = client.decrypt(CiphertextBlob=data_key_encrypted)\r\n    except ClientError as e:\r\n        print(e)\r\n        return None\r\n\r\n    # Return plaintext base64-encoded binary data key\r\n    return base64.b64encode((response['Plaintext']))\r\n```\r\n\r\n- **Error log:**\r\n```\r\n  File \"/docker/src/decrypt.py\", line 62, in decrypt_data_key\r\n    response = client.decrypt(CiphertextBlob=data_key_encrypted)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/client.py\", line 613, in _make_api_call\r\n    operation_model, request_dict, request_context)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/client.py\", line 632, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/endpoint.py\", line 132, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/endpoint.py\", line 116, in create_request\r\n    operation_name=operation_model.name)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/signers.py\", line 90, in handler\r\n    return self.sign(operation_name, request)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/signers.py\", line 160, in sign\r\n    auth.add_auth(request)\r\n  File \"/usr/local/lib/python3.6/site-packages/botocore/auth.py\", line 357, in add_auth\r\n    raise NoCredentialsError\r\nbotocore.exceptions.NoCredentialsError: Unable to locate credentials\r\n```\r\n- **Versions:**\r\n\r\n  - _boto3_:                    1.12.2\r\n  - _botocore_:              1.15.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1988", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1988/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1988/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1988/events", "html_url": "https://github.com/boto/botocore/issues/1988", "id": 572327933, "node_id": "MDU6SXNzdWU1NzIzMjc5MzM=", "number": 1988, "title": "Support SSO functionality in get_credentials in current botocore", "user": {"login": "dytoto", "id": 61212509, "node_id": "MDQ6VXNlcjYxMjEyNTA5", "avatar_url": "https://avatars1.githubusercontent.com/u/61212509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dytoto", "html_url": "https://github.com/dytoto", "followers_url": "https://api.github.com/users/dytoto/followers", "following_url": "https://api.github.com/users/dytoto/following{/other_user}", "gists_url": "https://api.github.com/users/dytoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/dytoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dytoto/subscriptions", "organizations_url": "https://api.github.com/users/dytoto/orgs", "repos_url": "https://api.github.com/users/dytoto/repos", "events_url": "https://api.github.com/users/dytoto/events{/privacy}", "received_events_url": "https://api.github.com/users/dytoto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-02-27T20:07:29Z", "updated_at": "2020-07-09T18:35:39Z", "closed_at": "2020-07-09T18:35:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you guys update the current botocore v1 version with the new sso credential provider that was created in botocore v2. This will let people programmatically access SSO credentials they set up from the command line. Thanks :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1965", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1965/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1965/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1965/events", "html_url": "https://github.com/boto/botocore/issues/1965", "id": 561247898, "node_id": "MDU6SXNzdWU1NjEyNDc4OTg=", "number": 1965, "title": "Intermittent  NoCredentialsError('Unable to locate credentials') error", "user": {"login": "AndreyMatveyev", "id": 8242302, "node_id": "MDQ6VXNlcjgyNDIzMDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8242302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreyMatveyev", "html_url": "https://github.com/AndreyMatveyev", "followers_url": "https://api.github.com/users/AndreyMatveyev/followers", "following_url": "https://api.github.com/users/AndreyMatveyev/following{/other_user}", "gists_url": "https://api.github.com/users/AndreyMatveyev/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreyMatveyev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreyMatveyev/subscriptions", "organizations_url": "https://api.github.com/users/AndreyMatveyev/orgs", "repos_url": "https://api.github.com/users/AndreyMatveyev/repos", "events_url": "https://api.github.com/users/AndreyMatveyev/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreyMatveyev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-02-06T20:21:21Z", "updated_at": "2020-08-04T21:34:50Z", "closed_at": "2020-02-26T21:53:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "The application reads a small S3 object and parses it. The functionality is part of simple Web service. In the course of 10 minutes, under the moderate and constant load, the application throws an error \"NoCredentialsError('Unable to locate credentials')\" on call to s3_client.get_object().\r\n\r\npython interpreter: 3.6.8\r\nOS: amazon-linux\r\nboto3==1.11.9\r\nAWS Credentials mode: AWS IAM role based security\r\nThe application runs on AWS EKS 1.14 in K8s pods as Docker containers. There is no sidecar containers for these pods. \r\n\r\nThe rate of failures: One out of 100 calls fails with named above error\r\nI have found a post that reports about the same issue: [Boto intermittent \u201cunable to load credentials\u201d with EC2 IAM roles](https://stackoverflow.com/questions/58210314/boto-intermittent-unable-to-load-credentials-with-ec2-iam-roles/60199286#60199286)\r\n\r\nExample of the code that fails:\r\n\r\n```\r\ndef get_job_status(job_id):\r\n    job_status_aws_bucket_region = app_config['job_status_aws_bucket_region']\r\n    job_status_aws_bucket_name = app_config['job_status_aws_bucket_name']\r\n\r\n    s3_session = boto3.Session(region_name=job_status_aws_bucket_region)\r\n    s3_client = s3_session.client('s3')\r\n\r\n    # The point of failure\r\n    response = s3_client.get_object(\r\n        Bucket=job_status_aws_bucket_name,\r\n        Key=job_id\r\n    )\r\n\r\n    job_record = json.loads(response['Body'].read().decode('utf-8'))\r\n\r\n    result = {\r\n        'jobId': job_record.get('job_id'),\r\n        'jobLifeStatus': job_record.get('job_life_status'),\r\n        'jobProcessingStatus': job_record.get('job_processing_status'),\r\n        'createdTime': job_record.get('created_time'),\r\n        'completionTime': job_record.get('completion_time'),\r\n    }\r\n\r\n    return result\r\n\r\n```\r\n\r\nERROR log:\r\n`ERROR 2020-02-05 02:44:22 svc_controller.py {'error': NoCredentialsError('Unable to locate credentials',), 'module': 'svc_controller', 'error_id': 'a4dee180-bbd0-441c-8d47-3be1a71727ea', 'error_datetime': datetime.datetime(2020, 2, 5, 2, 44, 22, 837650, tzinfo=datetime.timezone.utc), 'extra_info': None, 'tt': <class 'botocore.exceptions.NoCredentialsError'>, 'value': NoCredentialsError('Unable to locate credentials',), 'tb_list': ['Traceback (most recent call last):', ' File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1949, in full_dispatch_request\\n rv = self.dispatch_request()', ' File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1935, in dispatch_request\\n return self.view_functions[rule.endpoint](**req.view_args)', ' File \"/usr/local/job-status/svc_controller.py\", line 87, in get_job_status\\n job_status = svc_provider.get_job_status(job_id)', ' File \"/usr/local/job-status/svc_provider.py\", line 126, in get_job_status\\n Key=job_id', ' File \"/usr/local/lib/python3.6/site-packages/botocore/client.py\", line 276, in _api_call\\n return self._make_api_call(operation_name, kwargs)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/client.py\", line 573, in _make_api_call\\n operation_model, request_dict, request_context)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/client.py\", line 592, in _make_request\\n return self._endpoint.make_request(operation_model, request_dict)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/endpoint.py\", line 102, in make_request\\n return self._send_request(request_dict, operation_model)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/endpoint.py\", line 132, in _send_request\\n request = self.create_request(request_dict, operation_model)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/endpoint.py\", line 116, in create_request\\n operation_name=operation_model.name)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/hooks.py\", line 356, in emit\\n return self._emitter.emit(aliased_event_name, **kwargs)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/hooks.py\", line 228, in emit\\n return self._emit(event_name, kwargs)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/hooks.py\", line 211, in _emit\\n response = handler(**kwargs)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/signers.py\", line 90, in handler\\n return self.sign(operation_name, request)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/signers.py\", line 160, in sign\\n auth.add_auth(request)', ' File \"/usr/local/lib/python3.6/site-packages/botocore/auth.py\", line 357, in add_auth\\n raise NoCredentialsError', 'botocore.exceptions.NoCredentialsError: Unable to locate credentials']}`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1955", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1955/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1955/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1955/events", "html_url": "https://github.com/boto/botocore/issues/1955", "id": 558925084, "node_id": "MDU6SXNzdWU1NTg5MjUwODQ=", "number": 1955, "title": "Unable to catch exception botocore.errorfactory.ClientException", "user": {"login": "pavan2004it", "id": 13082762, "node_id": "MDQ6VXNlcjEzMDgyNzYy", "avatar_url": "https://avatars0.githubusercontent.com/u/13082762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavan2004it", "html_url": "https://github.com/pavan2004it", "followers_url": "https://api.github.com/users/pavan2004it/followers", "following_url": "https://api.github.com/users/pavan2004it/following{/other_user}", "gists_url": "https://api.github.com/users/pavan2004it/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavan2004it/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavan2004it/subscriptions", "organizations_url": "https://api.github.com/users/pavan2004it/orgs", "repos_url": "https://api.github.com/users/pavan2004it/repos", "events_url": "https://api.github.com/users/pavan2004it/events{/privacy}", "received_events_url": "https://api.github.com/users/pavan2004it/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-03T08:34:38Z", "updated_at": "2020-02-03T11:12:57Z", "closed_at": "2020-02-03T11:12:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to catch the exception thrown by the below code snippet\r\n\r\n```python\r\nimport boto3\r\nimport botocore.errorfactory\r\necs = boto3.client('ecs')\r\ntask_family = ecs.describe_task_definition(taskDefinition='xyz')\r\n\r\ntry:\r\n    print(task_family['taskDefinition']['taskDefinitionArn'])\r\nexcept :\r\n    print(\"The Task Definition is not defined\")\r\n```\r\n\r\ni am getting the error : \r\n\r\nbotocore.errorfactory.ClientException: An error occurred (ClientException) when calling the DescribeTaskDefinition operation: Unable to describe task definition.\r\n\r\nUse Case\r\n\r\nTrying to invoke a custom action instead of the exception thrown when a wrong task definition is provided \r\n\r\nI am unable to catch the exception.\r\n\r\nAny help will be appreciated !!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1950", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1950/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1950/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1950/events", "html_url": "https://github.com/boto/botocore/issues/1950", "id": 556479166, "node_id": "MDU6SXNzdWU1NTY0NzkxNjY=", "number": 1950, "title": "alternate resource loaders for model files", "user": {"login": "mattsb42-aws", "id": 23565203, "node_id": "MDQ6VXNlcjIzNTY1MjAz", "avatar_url": "https://avatars1.githubusercontent.com/u/23565203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattsb42-aws", "html_url": "https://github.com/mattsb42-aws", "followers_url": "https://api.github.com/users/mattsb42-aws/followers", "following_url": "https://api.github.com/users/mattsb42-aws/following{/other_user}", "gists_url": "https://api.github.com/users/mattsb42-aws/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattsb42-aws/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattsb42-aws/subscriptions", "organizations_url": "https://api.github.com/users/mattsb42-aws/orgs", "repos_url": "https://api.github.com/users/mattsb42-aws/repos", "events_url": "https://api.github.com/users/mattsb42-aws/events{/privacy}", "received_events_url": "https://api.github.com/users/mattsb42-aws/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-28T21:28:18Z", "updated_at": "2020-02-06T21:32:23Z", "closed_at": "2020-02-06T21:32:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been poking around trying to use PyOxidizer[1] to create a self-contained binary for a project of mine that uses boto3. Unfortunately, because PyOxidizer (and most other similar tools) load Python modules from memory rather than a filesystem, the model file loading that botocore and boto3 do for the built-in models breaks when you attempt to load anything.\r\n\r\nI've been digging into this, and the simplest solution I've been able to come up with to create a branching path in the model loaders: if running in (iirc) CPython 3.7+, we can use a `ResoureLoader` to load data files contained in a Python module. On older versions of CPython and for custom models in `$AWS_DATA_PATH` we would still need the file loader, but this would remove the need for the relative filepath loading that botocore/boto3 currently do.\r\n\r\nThe way I've been thinking this would manifest is to take `Loader`[2] and turn it into a wrapper on top of two new loaders: a `FileLoader` that works everywhere but only looks at the extra search paths, and (depending on Python version) either a `FileLoader` that does what the current `Loader` does but only for the built-in model files or a `MemoryLoader` that loads the built-in models directly from memory via `ResourceLoader`s.\r\n\r\nThere is one caveat to this: doing this would require sprinkling `__init__.py` files throughout all directories in `data`, to turn them into Python modules from which data can be loaded.\r\n\r\nboto3 would need similar changes for the loaders and data files that it uses.\r\n\r\nIs this a change that you all would be interested in? Any additional concerns that I should keep in mind if I start hacking on this?\r\n\r\n[1] https://pyoxidizer.readthedocs.io\r\n[2] https://botocore.amazonaws.com/v1/documentation/api/latest/reference/loaders.html?highlight=model#botocore.loaders.Loader.load_service_model", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1947", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1947/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1947/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1947/events", "html_url": "https://github.com/boto/botocore/issues/1947", "id": 552516203, "node_id": "MDU6SXNzdWU1NTI1MTYyMDM=", "number": 1947, "title": "ECR Throwing Exception \"ValueError: Waiter does not exist: image_scan_complete\"", "user": {"login": "Millerborn", "id": 25413299, "node_id": "MDQ6VXNlcjI1NDEzMjk5", "avatar_url": "https://avatars3.githubusercontent.com/u/25413299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Millerborn", "html_url": "https://github.com/Millerborn", "followers_url": "https://api.github.com/users/Millerborn/followers", "following_url": "https://api.github.com/users/Millerborn/following{/other_user}", "gists_url": "https://api.github.com/users/Millerborn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Millerborn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Millerborn/subscriptions", "organizations_url": "https://api.github.com/users/Millerborn/orgs", "repos_url": "https://api.github.com/users/Millerborn/repos", "events_url": "https://api.github.com/users/Millerborn/events{/privacy}", "received_events_url": "https://api.github.com/users/Millerborn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-20T21:28:23Z", "updated_at": "2020-01-21T20:53:02Z", "closed_at": "2020-01-21T20:53:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "note sure if I'm missing something basic but I'm getting an unexpected waiter error. This is my code,\r\n\r\n```python\r\nimport boto3\r\n\r\nclient = boto3.client('ecr')\r\nwaiter = client.get_waiter('image_scan_complete')\r\nwaiter.wait(\r\n    registryId='account-Id',\r\n    repositoryName='repo-name',\r\n    imageId={\r\n        'imageTag': 'image-tag'\r\n    },\r\n    maxResults=123,\r\n    WaiterConfig={\r\n        'Delay': 5,\r\n        'MaxAttempts': 20\r\n    }\r\n)\r\n```\r\n\r\nWhen I run my script locally it throws the `ValueError: Waiter does not exist: image_scan_complete.`\r\nBut without the waiter, I can get the scan data from my image using the same ( registryId=, repoName=, ...) config through `client.describe_image_scan_findings` \r\n\r\nThis is the whole error I recieved,\r\n```bash\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 4, in <module>\r\n    waiter = client.get_waiter('image_scan_complete')\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/client.py\", line 823, in get_waiter\r\n    raise ValueError(\"Waiter does not exist: %s\" % waiter_name)\r\nValueError: Waiter does not exist: image_scan_complete\r\n```\r\n\r\nagain, not sure if I have something misconfigured or if this is a bug", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1945", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1945/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1945/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1945/events", "html_url": "https://github.com/boto/botocore/issues/1945", "id": 551946666, "node_id": "MDU6SXNzdWU1NTE5NDY2NjY=", "number": 1945, "title": "Read several items from DynamoDB: error 'object has to attribute'", "user": {"login": "okyung", "id": 52878337, "node_id": "MDQ6VXNlcjUyODc4MzM3", "avatar_url": "https://avatars2.githubusercontent.com/u/52878337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okyung", "html_url": "https://github.com/okyung", "followers_url": "https://api.github.com/users/okyung/followers", "following_url": "https://api.github.com/users/okyung/following{/other_user}", "gists_url": "https://api.github.com/users/okyung/gists{/gist_id}", "starred_url": "https://api.github.com/users/okyung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okyung/subscriptions", "organizations_url": "https://api.github.com/users/okyung/orgs", "repos_url": "https://api.github.com/users/okyung/repos", "events_url": "https://api.github.com/users/okyung/events{/privacy}", "received_events_url": "https://api.github.com/users/okyung/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-19T16:22:11Z", "updated_at": "2020-01-28T03:13:40Z", "closed_at": "2020-01-28T03:13:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to  get several items from dynamoDB using .batchGetItem, but I receive error: \r\n  \"errorMessage\": \"'dynamodb.ServiceResource' object has no attribute 'batchGetItem'\",\r\n\r\n\r\nimport json\r\nimport boto3\r\n\r\n\r\ndynamodb = boto3.resource('dynamodb')\r\ntable = dynamodb.Table('planets')  \r\n\r\ndef lambda_handler(event, context):\r\n    response = dynamodb.batchGetItem(\r\n        {RequestItems: {      \r\n        Keys: [\r\n        {\r\n          key: {\r\n            'id': '12'\r\n          }\r\n        },\r\n        {\r\n          key: {\r\n            'id': '25'\r\n          }\r\n        }\r\n      ],\r\n      ConsistentRead: true\r\n    }\r\n    }\r\n)\r\n    print(response)\r\n    return {\r\n        'StatusCode':200,\r\n        'body': response\r\n    }\r\n\r\nAnyone have a suggestion as to how to read several dynamoDB items? I am sure it is v. easy, but I am just a beginner...(", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1943", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1943/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1943/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1943/events", "html_url": "https://github.com/boto/botocore/issues/1943", "id": 550647599, "node_id": "MDU6SXNzdWU1NTA2NDc1OTk=", "number": 1943, "title": "botocore ignore \"HTTP/<version> 100\" ", "user": {"login": "zhaoyujing", "id": 40048367, "node_id": "MDQ6VXNlcjQwMDQ4MzY3", "avatar_url": "https://avatars2.githubusercontent.com/u/40048367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhaoyujing", "html_url": "https://github.com/zhaoyujing", "followers_url": "https://api.github.com/users/zhaoyujing/followers", "following_url": "https://api.github.com/users/zhaoyujing/following{/other_user}", "gists_url": "https://api.github.com/users/zhaoyujing/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhaoyujing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhaoyujing/subscriptions", "organizations_url": "https://api.github.com/users/zhaoyujing/orgs", "repos_url": "https://api.github.com/users/zhaoyujing/repos", "events_url": "https://api.github.com/users/zhaoyujing/events{/privacy}", "received_events_url": "https://api.github.com/users/zhaoyujing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 19177680, "node_id": "MDU6TGFiZWwxOTE3NzY4MA==", "url": "https://api.github.com/repos/boto/botocore/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": "This issue requests an improvement to a current feature."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-16T08:21:09Z", "updated_at": "2020-01-16T21:03:39Z", "closed_at": "2020-01-16T21:03:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "    def _is_100_continue_status(self, maybe_status_line):\r\n        parts = maybe_status_line.split(None, 2)\r\n        # Check for HTTP/<version> 100 Continue\\r\\n\r\n        return (\r\n            len(parts) >= 3 and parts[0].startswith(b'HTTP/') and\r\n            parts[1] == b'100')\r\n\r\nIf boto3 recv \"HTTP/<version> 100\" but not \"HTTP/<version> 100 continue\",  botocore will ignore this message because \"len(part3)\" with be 2.  Maybe botocore should ignore the reason-phrase content.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1939", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1939/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1939/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1939/events", "html_url": "https://github.com/boto/botocore/issues/1939", "id": 548879396, "node_id": "MDU6SXNzdWU1NDg4NzkzOTY=", "number": 1939, "title": "OSError raised if called with 0.0 and different local timezone (UTC+1)", "user": {"login": "mbayrak78", "id": 33459119, "node_id": "MDQ6VXNlcjMzNDU5MTE5", "avatar_url": "https://avatars3.githubusercontent.com/u/33459119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbayrak78", "html_url": "https://github.com/mbayrak78", "followers_url": "https://api.github.com/users/mbayrak78/followers", "following_url": "https://api.github.com/users/mbayrak78/following{/other_user}", "gists_url": "https://api.github.com/users/mbayrak78/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbayrak78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbayrak78/subscriptions", "organizations_url": "https://api.github.com/users/mbayrak78/orgs", "repos_url": "https://api.github.com/users/mbayrak78/repos", "events_url": "https://api.github.com/users/mbayrak78/events{/privacy}", "received_events_url": "https://api.github.com/users/mbayrak78/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-01-13T11:48:58Z", "updated_at": "2020-03-24T07:03:51Z", "closed_at": "2020-03-23T22:49:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nwe catched an OSError on following line if called with 0.0 and timezone UTC+1:\r\n\r\nhttps://github.com/boto/botocore/blob/d6b91089832c5dd14c84d2f00a12204cf5a2b187/botocore/utils.py#L607\r\n\r\nThe bug is in the summation:\r\n0.0 + (-3600) => can't be converted from OS (windows) to an epoch time earlier than zero point.\r\n\r\nBR", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1937", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1937/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1937/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1937/events", "html_url": "https://github.com/boto/botocore/issues/1937", "id": 548433970, "node_id": "MDU6SXNzdWU1NDg0MzM5NzA=", "number": 1937, "title": "LexModelBuildingService Exceptions do not pull information from response body", "user": {"login": "DeanGaffney", "id": 9123129, "node_id": "MDQ6VXNlcjkxMjMxMjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/9123129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeanGaffney", "html_url": "https://github.com/DeanGaffney", "followers_url": "https://api.github.com/users/DeanGaffney/followers", "following_url": "https://api.github.com/users/DeanGaffney/following{/other_user}", "gists_url": "https://api.github.com/users/DeanGaffney/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeanGaffney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeanGaffney/subscriptions", "organizations_url": "https://api.github.com/users/DeanGaffney/orgs", "repos_url": "https://api.github.com/users/DeanGaffney/repos", "events_url": "https://api.github.com/users/DeanGaffney/events{/privacy}", "received_events_url": "https://api.github.com/users/DeanGaffney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-11T14:06:51Z", "updated_at": "2020-04-30T16:56:09Z", "closed_at": "2020-04-30T16:56:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Issue\r\nThe order to delete all resources associated with a lex bot you must do the following:\r\n* Delete all aliases associated with a bot in order to delete the bot itself\r\n* Delete the bot in order to delete intents\r\n* Delete intents in order to delete slot types\r\n* Delete slot types\r\n\r\nIf you attempt to delete a lex resource which references another lex resource a `ResourceInUseException` is returned. The response body from AWS is in the following format:\r\n```json\r\n{\r\n    \"exampleReference\": {\r\n        \"name\": \"mycoolbotalias\",\r\n        \"version\": null\r\n    },\r\n    \"referenceType\": \"BotAlias\"\r\n}\r\n```\r\nThe above AWS response was from attempting to delete a Lex bot when an alias existed for the bot. Botocore prints out the following when the `ResourceInUseException` is throw:\r\n```\r\nAn error occurred (ResourceInUseException) when calling the DeleteBot operation:\r\n```\r\nAs you can there's no information about the alias which must first be deleted to delete the bot, but the documentation states that if this exception is throw you will be given a reference to the resource that needs to be deleted. This can be seen here https://botocore.amazonaws.com/v1/documentation/api/latest/reference/services/lex-models.html#LexModelBuildingService.Client.delete_slot_type\r\n\r\nI believe the issue is coming from some inconsistency in the Lex API, as botocore looks for any error messages in the body under a `message` or `Message` key, which in this case is not being returned. This can be seen in the BaseJsonParser class here https://github.com/boto/botocore/blob/develop/botocore/parsers.py#L602\r\n```python\r\nerror['Error']['Message'] = body.get('message',\r\n                                             body.get('Message',''))\r\n```\r\nAs you can see if nothing is found the message is set to an empty string, a quick solution I mocked up locally to get around this, was to add the body as the default value if the `message` or `Message` key does not exist.\r\n```python\r\nerror['Error']['Message'] = body.get('message',\r\n                                             body.get('Message', body))\r\n```\r\nRunning the code above results in the following being printed out:\r\n```\r\nAn error occurred (ResourceInUseException) when calling the DeleteBot operation: {'exampleReference': {'name': 'mycoolbotalias', 'version': None}, 'referenceType': 'BotAlias'}\r\n```\r\n\r\nThis issue is also in the aws cli (with current code)\r\n![image](https://user-images.githubusercontent.com/9123129/72205644-6cd9f080-347d-11ea-9c87-861aad0ba35f.png)\r\n\r\nWith proposed code:\r\n![image](https://user-images.githubusercontent.com/9123129/72205648-8e3adc80-347d-11ea-973c-28c4671b05c8.png)\r\n\r\nIf you are happy with this solution I can open a pull request with this change, if there is another solution you would prefer, please let me know. \r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1930", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1930/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1930/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1930/events", "html_url": "https://github.com/boto/botocore/issues/1930", "id": 546559307, "node_id": "MDU6SXNzdWU1NDY1NTkzMDc=", "number": 1930, "title": "botocore42?", "user": {"login": "alexlatchford", "id": 628146, "node_id": "MDQ6VXNlcjYyODE0Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/628146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexlatchford", "html_url": "https://github.com/alexlatchford", "followers_url": "https://api.github.com/users/alexlatchford/followers", "following_url": "https://api.github.com/users/alexlatchford/following{/other_user}", "gists_url": "https://api.github.com/users/alexlatchford/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexlatchford/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexlatchford/subscriptions", "organizations_url": "https://api.github.com/users/alexlatchford/orgs", "repos_url": "https://api.github.com/users/alexlatchford/repos", "events_url": "https://api.github.com/users/alexlatchford/events{/privacy}", "received_events_url": "https://api.github.com/users/alexlatchford/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-07T23:19:07Z", "updated_at": "2020-06-16T00:58:51Z", "closed_at": "2020-06-16T00:58:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sorry for the bug report, wasn't sure where else to post this.\r\n\r\nSearching for \"botocore\" on PyPI comes up with `botocore42` as the first result: https://pypi.org/project/botocore42/ See [here](https://pypi.org/search/?q=botocore).\r\n\r\nFrom what I can tell this has no relation to the official `botocore`, might want to check on the status of that project with PyPI. Got me a little confused, wondered if this was a new version I should be using.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1926", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1926/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1926/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1926/events", "html_url": "https://github.com/boto/botocore/issues/1926", "id": 543036134, "node_id": "MDU6SXNzdWU1NDMwMzYxMzQ=", "number": 1926, "title": "RFE: store resource files compressed", "user": {"login": "danbst", "id": 743057, "node_id": "MDQ6VXNlcjc0MzA1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/743057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danbst", "html_url": "https://github.com/danbst", "followers_url": "https://api.github.com/users/danbst/followers", "following_url": "https://api.github.com/users/danbst/following{/other_user}", "gists_url": "https://api.github.com/users/danbst/gists{/gist_id}", "starred_url": "https://api.github.com/users/danbst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danbst/subscriptions", "organizations_url": "https://api.github.com/users/danbst/orgs", "repos_url": "https://api.github.com/users/danbst/repos", "events_url": "https://api.github.com/users/danbst/events{/privacy}", "received_events_url": "https://api.github.com/users/danbst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-12-28T01:12:44Z", "updated_at": "2020-01-20T19:02:20Z", "closed_at": "2020-01-20T19:02:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've noticed that `data` directory is 39Mb. I think it can be compressed with e.g. zstd and decompressed on the fly, without large performance penalties, but with 7x size reduction (up to 5.3Mb):\r\n```\r\n$ cat lib/python3.7/site-packages/botocore/data/ec2/2016-11-15/service-2.json | pv >/dev/null\r\n1.52MiB 0:00:00 [1.19GiB/s] [  <=>                                                                                                             ]\r\n\r\n$ cat lib/python3.7/site-packages/botocore/data/ec2/2016-11-15/service-2.json | zstd -9 - > /tmp/compressed-services.json.zstd\r\n\r\n$ ls -lh /tmp/compressed-services.json.zstd \r\n-rw-r--r-- 1 danbst users 148K \u0433\u0440\u0443 28 03:01 /tmp/compressed-services.json.zstd\r\n\r\n$ cat /tmp/compressed-services.json.zstd | zstd -d - | pv > /dev/null\r\n1.52MiB 0:00:00 [ 474MiB/s] [  <=>                                                                                                             ]\r\n```\r\nPerhaps this should only be done for python package, but source should be left in JSON.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1919", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1919/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1919/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1919/events", "html_url": "https://github.com/boto/botocore/issues/1919", "id": 538630926, "node_id": "MDU6SXNzdWU1Mzg2MzA5MjY=", "number": 1919, "title": "Fix simple typo: whenver -> whenever", "user": {"login": "timgates42", "id": 47873678, "node_id": "MDQ6VXNlcjQ3ODczNjc4", "avatar_url": "https://avatars1.githubusercontent.com/u/47873678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timgates42", "html_url": "https://github.com/timgates42", "followers_url": "https://api.github.com/users/timgates42/followers", "following_url": "https://api.github.com/users/timgates42/following{/other_user}", "gists_url": "https://api.github.com/users/timgates42/gists{/gist_id}", "starred_url": "https://api.github.com/users/timgates42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timgates42/subscriptions", "organizations_url": "https://api.github.com/users/timgates42/orgs", "repos_url": "https://api.github.com/users/timgates42/repos", "events_url": "https://api.github.com/users/timgates42/events{/privacy}", "received_events_url": "https://api.github.com/users/timgates42/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-16T20:18:45Z", "updated_at": "2019-12-16T23:03:50Z", "closed_at": "2019-12-16T23:03:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a small typo in botocore/parsers.py.\nShould read `whenever` rather than `whenver`.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1916", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1916/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1916/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1916/events", "html_url": "https://github.com/boto/botocore/issues/1916", "id": 538043859, "node_id": "MDU6SXNzdWU1MzgwNDM4NTk=", "number": 1916, "title": "Download file with long filename failing", "user": {"login": "BinyaminSchein", "id": 6065510, "node_id": "MDQ6VXNlcjYwNjU1MTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6065510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BinyaminSchein", "html_url": "https://github.com/BinyaminSchein", "followers_url": "https://api.github.com/users/BinyaminSchein/followers", "following_url": "https://api.github.com/users/BinyaminSchein/following{/other_user}", "gists_url": "https://api.github.com/users/BinyaminSchein/gists{/gist_id}", "starred_url": "https://api.github.com/users/BinyaminSchein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BinyaminSchein/subscriptions", "organizations_url": "https://api.github.com/users/BinyaminSchein/orgs", "repos_url": "https://api.github.com/users/BinyaminSchein/repos", "events_url": "https://api.github.com/users/BinyaminSchein/events{/privacy}", "received_events_url": "https://api.github.com/users/BinyaminSchein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177678, "node_id": "MDU6TGFiZWwxOTE3NzY3OA==", "url": "https://api.github.com/repos/boto/botocore/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "This issue is a confirmed bug."}, {"id": 361442487, "node_id": "MDU6TGFiZWwzNjE0NDI0ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/s3", "name": "s3", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-12-15T12:24:04Z", "updated_at": "2020-06-22T10:13:23Z", "closed_at": "2020-01-23T22:51:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "using aws cli to download file i get the following error:\r\ndownload failed: s3://mybucket/12345678101214161820222426283032343638404244464850525456586062646687072747678808284868890929496981011041071101131161191221251281234567810121416182022242628303234363840424446485052545658606264668707274767880828486889092949698101104107110113116119122.jpg to ./12345678101214161820222426283032343638404244464850525456586062646687072747678808284868890929496981011041071101131161191221251281234567810121416182022242628303234363840424446485052545658606264668707274767880828486889092949698101104107110113116119122.jpg [Errno 36] File name too long: u'/12345678101214161820222426283032343638404244464850525456586062646687072747678808284868890929496981011041071101131161191221251281234567810121416182022242628303234363840424446485052545658606264668707274767880828486889092949698101104107110113116119122.jpg.fF65b5e9'\r\n\r\ngetconf NAME_MAX / return 255\r\n\r\nThe filename is less then the os limit but with the suffix that boto adds on it is too long for the OS and fails.\r\nA similar problem occurred in this issue: https://github.com/aws/aws-cli/issues/2983 and was solved in this MR https://github.com/boto/botocore/pull/1322", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1911", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1911/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1911/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1911/events", "html_url": "https://github.com/boto/botocore/issues/1911", "id": 536886497, "node_id": "MDU6SXNzdWU1MzY4ODY0OTc=", "number": 1911, "title": "Stubber cloudformation get_template validation problems", "user": {"login": "kodjobaah", "id": 1099467, "node_id": "MDQ6VXNlcjEwOTk0Njc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1099467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kodjobaah", "html_url": "https://github.com/kodjobaah", "followers_url": "https://api.github.com/users/kodjobaah/followers", "following_url": "https://api.github.com/users/kodjobaah/following{/other_user}", "gists_url": "https://api.github.com/users/kodjobaah/gists{/gist_id}", "starred_url": "https://api.github.com/users/kodjobaah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kodjobaah/subscriptions", "organizations_url": "https://api.github.com/users/kodjobaah/orgs", "repos_url": "https://api.github.com/users/kodjobaah/repos", "events_url": "https://api.github.com/users/kodjobaah/events{/privacy}", "received_events_url": "https://api.github.com/users/kodjobaah/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-12-12T10:24:21Z", "updated_at": "2019-12-24T21:42:48Z", "closed_at": "2019-12-24T21:42:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my _configtets.py_\r\n```\r\n@pytest.yield_fixture(autouse=True)\r\ndef cloudformation_stub():\r\n    with Stubber(cf_client) as stubber:\r\n        stubber.activate()\r\n        yield stubber\r\n        stubber.assert_no_pending_responses()\r\n```\r\n\r\nI have the following test:\r\n```\r\n@pytest.mark.datafiles(\r\n    FIXTURE_DIR / 'ugc_database_stack_template.json'\r\n)\r\ndef test_get_ugc_database_template(monkeypatch, cloudformation_stub, datafiles):\r\n\r\n    monkeypatch.setenv(\"rds_stack_name\", \"mv-rds-db-stack\")\r\n    cloudformation_stub.add_response(\r\n        'get_template',\r\n        service_response=template_response\r\n    )\r\n\r\n    template = get_ugc_database_template()\r\n    assert db_instance_template == template \r\n```\r\nWhich produces the following error:\r\n```\r\ndef validate_parameters(params, shape):\r\n        \"\"\"Validates input parameters against a schema.\r\n\r\n        This is a convenience function that validates parameters against a schema.\r\n        You can also instantiate and use the ParamValidator class directly if you\r\n        want more control.\r\n\r\n        If there are any validation errors then a ParamValidationError\r\n        will be raised.  If there are no validation errors than no exception\r\n        is raised and a value of None is returned.\r\n\r\n        :param params: The user provided input parameters.\r\n\r\n        :type shape: botocore.model.Shape\r\n        :param shape: The schema which the input parameters should\r\n            adhere to.\r\n\r\n        :raise: ParamValidationError\r\n\r\n        \"\"\"\r\n        validator = ParamValidator()\r\n        report = validator.validate(params, shape)\r\n        if report.has_errors():\r\n>           raise ParamValidationError(report=report.generate_report())\r\nE           botocore.exceptions.ParamValidationError: Parameter validation failed:\r\nE           Invalid type for parameter TemplateBody, value: {'Outputs': {'RDSEncryptionKeyArn':\r\n........................'Type': 'AWS::KMS::Alias'}}}, type: <class 'dict'>, valid types: <class 'str'>\r\n```\r\nAnd if the test is modified so the dict is converted to a string \r\n```\r\n@pytest.mark.datafiles(\r\n    FIXTURE_DIR / 'ugc_database_stack_template.json'\r\n)\r\ndef test_get_ugc_database_template(monkeypatch, cloudformation_stub, datafiles):\r\n\r\n    monkeypatch.setenv(\"rds_stack_name\", \"mv-rds-db-stack\")\r\n    cloudformation_stub.add_response(\r\n        'get_template',\r\n        service_response= json.dumps(template_response)\r\n    )\r\n\r\n    template = get_ugc_database_template()\r\n    assert db_instance_template ==  template \r\n```\r\nI get the following error:\r\n```\r\ndef _validate_response(self, operation_name, service_response):\r\n        service_model = self.client.meta.service_model\r\n        operation_model = service_model.operation_model(operation_name)\r\n        output_shape = operation_model.output_shape\r\n\r\n        # Remove ResponseMetadata so that the validator doesn't attempt to\r\n        # perform validation on it.\r\n        response = service_response\r\n        if 'ResponseMetadata' in response:\r\n            response = copy.copy(service_response)\r\n>           del response['ResponseMetadata']\r\nE           TypeError: 'str' object does not support item deletion\r\n```\r\nIf the `ResponseMetadata` from the test data is removed I get the following error\r\n1. If response is a string:\r\n```\r\n    def validate_parameters(params, shape):\r\n        \"\"\"Validates input parameters against a schema.\r\n\r\n        This is a convenience function that validates parameters against a schema.\r\n        You can also instantiate and use the ParamValidator class directly if you\r\n        want more control.\r\n\r\n        If there are any validation errors then a ParamValidationError\r\n        will be raised.  If there are no validation errors than no exception\r\n        is raised and a value of None is returned.\r\n\r\n        :param params: The user provided input parameters.\r\n\r\n        :type shape: botocore.model.Shape\r\n        :param shape: The schema which the input parameters should\r\n            adhere to.\r\n\r\n        :raise: ParamValidationError\r\n\r\n        \"\"\"\r\n        validator = ParamValidator()\r\n        report = validator.validate(params, shape)\r\n        if report.has_errors():\r\n>           raise ParamValidationError(report=report.generate_report())\r\nE           botocore.exceptions.ParamValidationError: Parameter validation failed:\r\nE           Invalid type for parameter input, value: {\"TemplateBody\": {\"Outputs\": {\"RDSEncryptionKeyArn\": {\"Description\": \"The arn of the data\r\n........\r\n \"Processed\"]}, type: <class 'str'>, valid types: <class 'dict'>\r\n\r\n../venv/lib64/python3.6/site-packages/botocore/validate.py:49: ParamValidationError\r\n```\r\n2. If the respons is converted to a dict:\r\n```\r\n    def validate_parameters(params, shape):\r\n        \"\"\"Validates input parameters against a schema.\r\n\r\n        This is a convenience function that validates parameters against a schema.\r\n        You can also instantiate and use the ParamValidator class directly if you\r\n        want more control.\r\n\r\n        If there are any validation errors then a ParamValidationError\r\n        will be raised.  If there are no validation errors than no exception\r\n        is raised and a value of None is returned.\r\n\r\n        :param params: The user provided input parameters.\r\n\r\n        :type shape: botocore.model.Shape\r\n        :param shape: The schema which the input parameters should\r\n            adhere to.\r\n\r\n        :raise: ParamValidationError\r\n\r\n        \"\"\"\r\n        validator = ParamValidator()\r\n        report = validator.validate(params, shape)\r\n        if report.has_errors():\r\n>           raise ParamValidationError(report=report.generate_report())\r\nE           botocore.exceptions.ParamValidationError: Parameter validation failed:\r\nE           Invalid type for parameter input, value: {\"TemplateBody\": {\"Outputs\": {\"RDSEncryptionKeyArn\": {\"Description\": \"The arn of the data\r\n-----\r\n\"Type\": \"AWS::KMS::Alias\"}}}, \"StagesAvailable\": [\"Original\", \"Processed\"]}, type: <class 'str'>, valid types: <class 'dict'>\r\n\r\n../venv/lib64/python3.6/site-packages/botocore/validate.py:49: ParamValidationError\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1909", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1909/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1909/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1909/events", "html_url": "https://github.com/boto/botocore/issues/1909", "id": 534840050, "node_id": "MDU6SXNzdWU1MzQ4NDAwNTA=", "number": 1909, "title": "cfnresponse could not be used after the botocore version 1.13.0", "user": {"login": "tp6m4fu6250071", "id": 8022917, "node_id": "MDQ6VXNlcjgwMjI5MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8022917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tp6m4fu6250071", "html_url": "https://github.com/tp6m4fu6250071", "followers_url": "https://api.github.com/users/tp6m4fu6250071/followers", "following_url": "https://api.github.com/users/tp6m4fu6250071/following{/other_user}", "gists_url": "https://api.github.com/users/tp6m4fu6250071/gists{/gist_id}", "starred_url": "https://api.github.com/users/tp6m4fu6250071/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tp6m4fu6250071/subscriptions", "organizations_url": "https://api.github.com/users/tp6m4fu6250071/orgs", "repos_url": "https://api.github.com/users/tp6m4fu6250071/repos", "events_url": "https://api.github.com/users/tp6m4fu6250071/events{/privacy}", "received_events_url": "https://api.github.com/users/tp6m4fu6250071/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-09T10:39:56Z", "updated_at": "2020-02-08T23:15:26Z", "closed_at": "2019-12-09T11:44:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI'm using the python package cfnresponse ( https://pypi.org/project/cfnresponse/ ) to implement Custom Resources in CloudFormation. And I would like to use EKS create_nodegroup ( https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/eks.html#EKS.Client.create_nodegroup ) in the Lambda code. I know this attribute is only supported in the latest version of boto3.\r\nHowever, I found the latest botocore version 1.13.* conflicts with cfnresponse.\r\nIf I use the botocore version 1.13.*, cfnresponse will show the error message when sending response to CFN:\r\nsend(..) failed executing requests.put(..): 'module' object has no attribute 'put' \r\n\r\nThese my testing versions:\r\n1) keep encountering the error message \"send(..) failed executing requests.put(..): 'module' object has no attribute 'put'\" when sending response to CFN:\r\n\r\nExperiment 1:\r\nboto3.__version__ ---> 1.10.34\r\nbotocore.__version__ ---> 1.13.34\r\n\r\nExperiment 2:\r\nboto3.__version__ ---> 1.9.0\r\nbotocore.__version__ ---> 1.13.34\r\n\r\n2) However, if the botocore version is too old, it doesn't have the attribute create_nodegroup of EKS:\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/task/index.py\", line 34, in handler\r\n    response = client.create_nodegroup(\r\n  File \"/var/task/botocore/client.py\", line 601, in __getattr__\r\n    self.__class__.__name__, item)\r\nAttributeError: 'EKS' object has no attribute 'create_nodegroup'\r\n\r\nExperiment 3:\r\nboto3.__version__ ---> 1.10.0\r\nbotocore.__version__ ---> 1.12.253\r\n\r\nExperiment 4:\r\nboto3.__version__ ---> 1.10.34\r\nbotocore.__version__ ---> 1.12.253\r\n\r\n3) Has both error:\r\n\r\nExperiment 5:\r\nboto3.__version__ ---> 1.10.34\r\nbotocore.__version__ ---> 1.13.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1908", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1908/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1908/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1908/events", "html_url": "https://github.com/boto/botocore/issues/1908", "id": 534579797, "node_id": "MDU6SXNzdWU1MzQ1Nzk3OTc=", "number": 1908, "title": "better/real changelogs on api changes", "user": {"login": "kapilt", "id": 21650, "node_id": "MDQ6VXNlcjIxNjUw", "avatar_url": "https://avatars3.githubusercontent.com/u/21650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kapilt", "html_url": "https://github.com/kapilt", "followers_url": "https://api.github.com/users/kapilt/followers", "following_url": "https://api.github.com/users/kapilt/following{/other_user}", "gists_url": "https://api.github.com/users/kapilt/gists{/gist_id}", "starred_url": "https://api.github.com/users/kapilt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kapilt/subscriptions", "organizations_url": "https://api.github.com/users/kapilt/orgs", "repos_url": "https://api.github.com/users/kapilt/repos", "events_url": "https://api.github.com/users/kapilt/events{/privacy}", "received_events_url": "https://api.github.com/users/kapilt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-12-08T18:19:19Z", "updated_at": "2019-12-12T20:43:17Z", "closed_at": "2019-12-12T20:43:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was perusing over some of the other sdk changes logs\r\nhttps://github.com/aws/aws-sdk-go/blob/master/CHANGELOG.md\r\nhttps://github.com/aws/aws-sdk-js/blob/master/CHANGELOG.md\r\n\r\nand noticed they actually included real content, where as boto's typically consists of repeating\r\n- updated service x client to latest version\r\n\r\nie\r\nhttps://github.com/boto/boto3/blob/develop/CHANGELOG.rst\r\nhttps://github.com/boto/botocore/blob/develop/CHANGELOG.rst\r\n\r\nideally the boto3/botocore .changes aggregation and changelog would include the service team's semantic/human message around the changes like every other sdk.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1905", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1905/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1905/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1905/events", "html_url": "https://github.com/boto/botocore/issues/1905", "id": 532098685, "node_id": "MDU6SXNzdWU1MzIwOTg2ODU=", "number": 1905, "title": "Cloudwatch put_metric_data expects microseconds.", "user": {"login": "markchalloner", "id": 665830, "node_id": "MDQ6VXNlcjY2NTgzMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/665830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markchalloner", "html_url": "https://github.com/markchalloner", "followers_url": "https://api.github.com/users/markchalloner/followers", "following_url": "https://api.github.com/users/markchalloner/following{/other_user}", "gists_url": "https://api.github.com/users/markchalloner/gists{/gist_id}", "starred_url": "https://api.github.com/users/markchalloner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markchalloner/subscriptions", "organizations_url": "https://api.github.com/users/markchalloner/orgs", "repos_url": "https://api.github.com/users/markchalloner/repos", "events_url": "https://api.github.com/users/markchalloner/events{/privacy}", "received_events_url": "https://api.github.com/users/markchalloner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-03T16:15:53Z", "updated_at": "2019-12-03T16:20:45Z", "closed_at": "2019-12-03T16:20:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Edit: wrong repo, issue reported correctly here: https://github.com/spulec/moto/issues/2614", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1898", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1898/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1898/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1898/events", "html_url": "https://github.com/boto/botocore/issues/1898", "id": 525923789, "node_id": "MDU6SXNzdWU1MjU5MjM3ODk=", "number": 1898, "title": "ValueError: I/O operation on closed file when reading from s3 obj['Body']._raw_stream", "user": {"login": "darwinyip", "id": 3499338, "node_id": "MDQ6VXNlcjM0OTkzMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3499338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darwinyip", "html_url": "https://github.com/darwinyip", "followers_url": "https://api.github.com/users/darwinyip/followers", "following_url": "https://api.github.com/users/darwinyip/following{/other_user}", "gists_url": "https://api.github.com/users/darwinyip/gists{/gist_id}", "starred_url": "https://api.github.com/users/darwinyip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darwinyip/subscriptions", "organizations_url": "https://api.github.com/users/darwinyip/orgs", "repos_url": "https://api.github.com/users/darwinyip/repos", "events_url": "https://api.github.com/users/darwinyip/events{/privacy}", "received_events_url": "https://api.github.com/users/darwinyip/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 361442487, "node_id": "MDU6TGFiZWwzNjE0NDI0ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/s3", "name": "s3", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-11-20T16:38:27Z", "updated_at": "2019-12-30T23:25:00Z", "closed_at": "2019-12-30T23:25:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting `ValueError: I/O operation on closed file.` when reading from s3 raw stream.\r\n\r\nExample on how it is read:\r\n```\r\nobj = s3_client.get_object(Bucket=bucket, Key=key)\r\nraw_stream = obj['Body']._raw_stream\r\ntext_stream = io.TextIOWrapper(raw_stream)\r\ncsv_reader = csv.reader(text_stream)\r\n```\r\n\r\nAfter reading from the csv_reader for about 2000 lines, the exception triggers.\r\n\r\nThis started happening after upgrading libraries:\r\nbotocore from `1.7.43` to `1.13.21`\r\nboto3 from `1.4.7` to `1.10.14`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1897", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1897/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1897/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1897/events", "html_url": "https://github.com/boto/botocore/issues/1897", "id": 525864559, "node_id": "MDU6SXNzdWU1MjU4NjQ1NTk=", "number": 1897, "title": "Getting \"botocore.exceptions.NoCredentialsError: Unable to locate credentials\" on ec2 instance as of botocore-1.13.21", "user": {"login": "fchorney", "id": 202139, "node_id": "MDQ6VXNlcjIwMjEzOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/202139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fchorney", "html_url": "https://github.com/fchorney", "followers_url": "https://api.github.com/users/fchorney/followers", "following_url": "https://api.github.com/users/fchorney/following{/other_user}", "gists_url": "https://api.github.com/users/fchorney/gists{/gist_id}", "starred_url": "https://api.github.com/users/fchorney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fchorney/subscriptions", "organizations_url": "https://api.github.com/users/fchorney/orgs", "repos_url": "https://api.github.com/users/fchorney/repos", "events_url": "https://api.github.com/users/fchorney/events{/privacy}", "received_events_url": "https://api.github.com/users/fchorney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-20T15:10:31Z", "updated_at": "2019-11-20T18:05:54Z", "closed_at": "2019-11-20T18:05:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems like as of botocore-1.13.21, using boto3 on my ec2 instances is failing with `botocore.exceptions.NoCredentialsError: Unable to locate credentials` where it was working perfectly fine beforehand. \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 16, in <module>\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/client.py\", line 648, in _make_api_call\r\n    operation_model, request_dict, request_context)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/client.py\", line 667, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/endpoint.py\", line 132, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/endpoint.py\", line 116, in create_request\r\n    operation_name=operation_model.name)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/signers.py\", line 90, in handler\r\n    return self.sign(operation_name, request)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/signers.py\", line 157, in sign\r\n    auth.add_auth(request)\r\n  File \"/foo/lib64/python3.7/site-packages/botocore/auth.py\", line 357, in add_auth\r\n    raise NoCredentialsError\r\nbotocore.exceptions.NoCredentialsError: Unable to locate credentials\r\n```\r\n\r\nThe code itself is pretty simple:\r\n\r\n```python\r\nimport boto3\r\nregion = \"foo\"\r\nid = 123456789\r\nsecret_name = \"bar\"\r\nasm = boto3.client(\r\n    service_name='secretsmanager',\r\n    region_name=region\r\n)\r\nsecret = asm.get_secret_value(\r\n    SecretId=f'arn:aws:secretsmanager:{region}:{id}:secret:{secret_name}'\r\n)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1896", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1896/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1896/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1896/events", "html_url": "https://github.com/boto/botocore/issues/1896", "id": 525746406, "node_id": "MDU6SXNzdWU1MjU3NDY0MDY=", "number": 1896, "title": "IoT Service : ConfirmTopicRuleDestination operation, Request URI typo", "user": {"login": "Cox65", "id": 39118029, "node_id": "MDQ6VXNlcjM5MTE4MDI5", "avatar_url": "https://avatars3.githubusercontent.com/u/39118029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cox65", "html_url": "https://github.com/Cox65", "followers_url": "https://api.github.com/users/Cox65/followers", "following_url": "https://api.github.com/users/Cox65/following{/other_user}", "gists_url": "https://api.github.com/users/Cox65/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cox65/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cox65/subscriptions", "organizations_url": "https://api.github.com/users/Cox65/orgs", "repos_url": "https://api.github.com/users/Cox65/repos", "events_url": "https://api.github.com/users/Cox65/events{/privacy}", "received_events_url": "https://api.github.com/users/Cox65/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-20T11:32:46Z", "updated_at": "2019-12-17T21:51:39Z", "closed_at": "2019-12-17T21:51:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/boto/botocore/blob/ae41ef199de6b8acaf9bbaaded83716a601d8d68/botocore/data/iot/2015-05-28/service-2.json#L259\r\n\r\nLooks there is a typo for \"ConfirmTopicRuleDestination\" operation. The requestUri contains a \"+\" for confirmationToken parameter.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1892", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1892/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1892/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1892/events", "html_url": "https://github.com/boto/botocore/issues/1892", "id": 525287330, "node_id": "MDU6SXNzdWU1MjUyODczMzA=", "number": 1892, "title": "Regression in 1.13.21: cannot assume role using EC2 instance metadata", "user": {"login": "jbergknoff-rival", "id": 35700366, "node_id": "MDQ6VXNlcjM1NzAwMzY2", "avatar_url": "https://avatars3.githubusercontent.com/u/35700366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbergknoff-rival", "html_url": "https://github.com/jbergknoff-rival", "followers_url": "https://api.github.com/users/jbergknoff-rival/followers", "following_url": "https://api.github.com/users/jbergknoff-rival/following{/other_user}", "gists_url": "https://api.github.com/users/jbergknoff-rival/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbergknoff-rival/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbergknoff-rival/subscriptions", "organizations_url": "https://api.github.com/users/jbergknoff-rival/orgs", "repos_url": "https://api.github.com/users/jbergknoff-rival/repos", "events_url": "https://api.github.com/users/jbergknoff-rival/events{/privacy}", "received_events_url": "https://api.github.com/users/jbergknoff-rival/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177678, "node_id": "MDU6TGFiZWwxOTE3NzY3OA==", "url": "https://api.github.com/repos/boto/botocore/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "This issue is a confirmed bug."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-19T21:47:56Z", "updated_at": "2019-11-20T02:53:25Z", "closed_at": "2019-11-20T02:53:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, we just started running into issues assuming roles in Jenkins, where the principal credentials come from EC2 instance metadata. This appears to be a regression in 1.13.21.\r\n\r\nHere's a reproduction, running in an EC2 instance with permission to assume the role specified in the `aws-config` file.\r\n\r\n```\r\n$ docker run -it --rm python:3.7.5-alpine3.10 sh\r\n/ # cat > aws-config\r\n[profile role-to-assume]\r\nrole_arn = arn:aws:iam::...:role/...\r\ncredential_source = Ec2InstanceMetadata\r\n\r\n/ # pip install awscli\r\n...\r\nSuccessfully installed PyYAML-5.1.2 awscli-1.16.285 botocore-1.13.21 colorama-0.4.1 docutils-0.15.2 jmespath-0.9.4 pyasn1-0.4.8 python-dateutil-2.8.0 rsa-3.4.2 s3transfer-0.2.1 six-1.13.0 urllib3-1.25.7\r\n\r\n/ # AWS_PROFILE=role-to-assume AWS_CONFIG_FILE=aws-config aws sts get-caller-identity\r\n\r\nError when retrieving credentials from Ec2InstanceMetadata: No credentials found in credential_source referenced in profile role-to-assume\r\n\r\n/ # pip install botocore==1.13.20\r\n...\r\nERROR: awscli 1.16.285 has requirement botocore==1.13.21, but you'll have botocore 1.13.20 which is incompatible.\r\nInstalling collected packages: botocore\r\n  Found existing installation: botocore 1.13.21\r\n    Uninstalling botocore-1.13.21:\r\n      Successfully uninstalled botocore-1.13.21\r\nSuccessfully installed botocore-1.13.20\r\n\r\n/ # AWS_PROFILE=role-to-assume AWS_CONFIG_FILE=aws-config aws sts get-caller-identity\r\n{\r\n    \"UserId\": \"...\",\r\n    \"Account\": \"...\",\r\n    \"Arn\": \"arn:aws:sts::...:assumed-role/.../botocore-session-1574199910\"\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1888", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1888/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1888/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1888/events", "html_url": "https://github.com/boto/botocore/issues/1888", "id": 523205390, "node_id": "MDU6SXNzdWU1MjMyMDUzOTA=", "number": 1888, "title": "Missing   required ContentMD5 PutBucketLifecycleConfigurationRequest on  botocore/botocore/data/s3/2006-03-01/service-2.json ", "user": {"login": "byterock", "id": 763372, "node_id": "MDQ6VXNlcjc2MzM3Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/763372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/byterock", "html_url": "https://github.com/byterock", "followers_url": "https://api.github.com/users/byterock/followers", "following_url": "https://api.github.com/users/byterock/following{/other_user}", "gists_url": "https://api.github.com/users/byterock/gists{/gist_id}", "starred_url": "https://api.github.com/users/byterock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/byterock/subscriptions", "organizations_url": "https://api.github.com/users/byterock/orgs", "repos_url": "https://api.github.com/users/byterock/repos", "events_url": "https://api.github.com/users/byterock/events{/privacy}", "received_events_url": "https://api.github.com/users/byterock/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 361442487, "node_id": "MDU6TGFiZWwzNjE0NDI0ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/s3", "name": "s3", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-11-15T01:48:43Z", "updated_at": "2020-01-04T14:52:55Z", "closed_at": "2020-01-04T14:52:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "on \r\nhttps://github.com/boto/botocore/blob/develop/botocore/data/s3/2006-03-01/service-2.json\r\n\r\nthis patch \r\n\r\n```\r\n   \"PutBucketLifecycleConfigurationRequest\":{\r\n      \"type\":\"structure\",\r\n      \"required\":[\"Bucket\",\"ContentMD5\"],\r\n      \"members\":{\r\n+        \"ContentMD5\":{\r\n+          \"shape\":\"ContentMD5\",\r\n+          \"documentation\":\"<p>Addeed autmatically by Paws</p>\",\r\n+          \"location\":\"header\",\r\n+          \"locationName\":\"Content-MD5\"\r\n+        },\r\n        \"Bucket\":{\r\n          \"shape\":\"BucketName\",\r\n          \"documentation\":\"<p/>\",\r\n          \"location\":\"uri\",\r\n          \"locationName\":\"Bucket\"\r\n        },\r\n        \"LifecycleConfiguration\":{\r\n          \"shape\":\"BucketLifecycleConfiguration\",\r\n          \"documentation\":\"<p/>\",\r\n          \"locationName\":\"LifecycleConfiguration\",\r\n          \"xmlNamespace\":{\"uri\":\"http://s3.amazonaws.com/doc/2006-03-01/\"}\r\n        }\r\n      },\r\n      \"payload\":\"LifecycleConfiguration\"\r\n    },\r\n\r\n```\r\n\r\n\r\nwill fix this errorl\r\n\r\n`<Error><Code>InvalidRequest</Code><Message>Missing required header for this request: Content-MD5</Message><RequestId>B7CD91DC3BD5BB7B</RequestId><HostId>Vo5tNdYxG8rNLPcts9BkBssLuEHE6yFvIL4w1UUSs12hskouiGNS/zHtbtSS7K3l1YeYKo70Wq4=</HostId></Error>`\r\n\r\nwhen one makes the call.\r\n\r\nI also asked AWS to update thier docs as this is not a manditory field or enven mentioned there", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1885", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1885/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1885/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1885/events", "html_url": "https://github.com/boto/botocore/issues/1885", "id": 521595281, "node_id": "MDU6SXNzdWU1MjE1OTUyODE=", "number": 1885, "title": "DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated", "user": {"login": "bgreen-litl", "id": 1483313, "node_id": "MDQ6VXNlcjE0ODMzMTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1483313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bgreen-litl", "html_url": "https://github.com/bgreen-litl", "followers_url": "https://api.github.com/users/bgreen-litl/followers", "following_url": "https://api.github.com/users/bgreen-litl/following{/other_user}", "gists_url": "https://api.github.com/users/bgreen-litl/gists{/gist_id}", "starred_url": "https://api.github.com/users/bgreen-litl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bgreen-litl/subscriptions", "organizations_url": "https://api.github.com/users/bgreen-litl/orgs", "repos_url": "https://api.github.com/users/bgreen-litl/repos", "events_url": "https://api.github.com/users/bgreen-litl/events{/privacy}", "received_events_url": "https://api.github.com/users/bgreen-litl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177678, "node_id": "MDU6TGFiZWwxOTE3NzY3OA==", "url": "https://api.github.com/repos/boto/botocore/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "This issue is a confirmed bug."}, {"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-11-12T14:45:47Z", "updated_at": "2019-12-30T21:25:04Z", "closed_at": "2019-12-30T21:25:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Referencing `collections.MutableMapping` rather than `collections.abc.MutableMapping` triggers a deprecation warning.\r\n\r\n\r\n    >>> import botocore\r\n    >>> botocore.__version__\r\n    '1.13.15'\r\n    >>> import collections\r\n    >>> collections.MutableMapping\r\n    __main__:1: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n\r\nThe reference occurs here:\r\nhttps://github.com/boto/botocore/blob/develop/botocore/awsrequest.py#L624\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1884", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1884/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1884/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1884/events", "html_url": "https://github.com/boto/botocore/issues/1884", "id": 521591730, "node_id": "MDU6SXNzdWU1MjE1OTE3MzA=", "number": 1884, "title": "get_bucket_location returns NoneType error when client error is added", "user": {"login": "samhine", "id": 18127728, "node_id": "MDQ6VXNlcjE4MTI3NzI4", "avatar_url": "https://avatars3.githubusercontent.com/u/18127728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samhine", "html_url": "https://github.com/samhine", "followers_url": "https://api.github.com/users/samhine/followers", "following_url": "https://api.github.com/users/samhine/following{/other_user}", "gists_url": "https://api.github.com/users/samhine/gists{/gist_id}", "starred_url": "https://api.github.com/users/samhine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samhine/subscriptions", "organizations_url": "https://api.github.com/users/samhine/orgs", "repos_url": "https://api.github.com/users/samhine/repos", "events_url": "https://api.github.com/users/samhine/events{/privacy}", "received_events_url": "https://api.github.com/users/samhine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177678, "node_id": "MDU6TGFiZWwxOTE3NzY3OA==", "url": "https://api.github.com/repos/boto/botocore/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "This issue is a confirmed bug."}, {"id": 361442487, "node_id": "MDU6TGFiZWwzNjE0NDI0ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/s3", "name": "s3", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-12T14:39:44Z", "updated_at": "2020-03-13T22:40:41Z", "closed_at": "2020-03-13T22:40:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Problem\r\n\r\nWhen adding a client error through `get_bucket_location`, rather than raise a `ClientError` (or the specified Service Error Code, we instead receive;\r\n\r\n `AttributeError: 'NoneType' object has no attribute 'stream'`\r\n\r\n## Working Example (with `get_bucket_logging`)\r\n\r\n```\r\nimport boto3\r\nfrom botocore.stub import Stubber\r\n\r\nclient = boto3.client('s3')\r\nstubber = Stubber(client)\r\nstubber.add_client_error('get_bucket_logging', 'NoSuchBucket')\r\nstubber.activate()\r\n\r\n# Raises botocore.errorfactory.NoSuchBucket\r\nclient.get_bucket_logging(Bucket=\"meh\")\r\n```\r\n## Non-working Example (with `get_bucket_location`)\r\n\r\n```\r\nimport boto3\r\nfrom botocore.stub import Stubber\r\n\r\nclient = boto3.client('s3')\r\nstubber = Stubber(client)\r\nstubber.add_client_error('get_bucket_location', 'NoSuchBucket')\r\nstubber.activate()\r\n\r\n# Raises an AttributeError from within awsrequest.py\r\nclient.get_bucket_location(Bucket=\"meh\")\r\n```\r\nThe full stack response from this error is;\r\n```\r\nTraceback (most recent call last):\r\n  File \"untitled.py\", line 24, in <module>\r\n    client.get_bucket_location(Bucket=\"meh\")\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/client.py\", line 655, in _make_api_call\r\n    model=operation_model, context=request_context\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/handlers.py\", line 485, in parse_get_bucket_location\r\n    response_body = http_response.content\r\n  File \"/usr/local/lib/python3.7/site-packages/botocore/awsrequest.py\", line 587, in content\r\n    self._content = bytes().join(self.raw.stream()) or bytes()\r\nAttributeError: 'NoneType' object has no attribute 'stream'\r\n```\r\n## Summary\r\n\r\nI've tried searching open/closed issues but can't find something similar, nor a working example online using `get_bucket_location`. I fear this might be a bug within `botocore.stub` itself. Any help would be greatly appreciated! Thanks.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1873", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1873/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1873/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1873/events", "html_url": "https://github.com/boto/botocore/issues/1873", "id": 517858562, "node_id": "MDU6SXNzdWU1MTc4NTg1NjI=", "number": 1873, "title": "Drop support for EOL Python 2.6 and Python 3.3", "user": {"login": "and-semakin", "id": 9129071, "node_id": "MDQ6VXNlcjkxMjkwNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/9129071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/and-semakin", "html_url": "https://github.com/and-semakin", "followers_url": "https://api.github.com/users/and-semakin/followers", "following_url": "https://api.github.com/users/and-semakin/following{/other_user}", "gists_url": "https://api.github.com/users/and-semakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/and-semakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/and-semakin/subscriptions", "organizations_url": "https://api.github.com/users/and-semakin/orgs", "repos_url": "https://api.github.com/users/and-semakin/repos", "events_url": "https://api.github.com/users/and-semakin/events{/privacy}", "received_events_url": "https://api.github.com/users/and-semakin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-05T15:51:24Z", "updated_at": "2019-11-07T07:27:19Z", "closed_at": "2019-11-07T07:27:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 2.6 reached its EOL in October, 2013. Python 3.3 reached its EOL in September, 2017. I guess that usage of `botocore` on this platform is really low (see [PyPI stats](https://pypistats.org/packages/botocore)). Is there a reason why `botocore` has to support this versions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1872", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1872/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1872/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1872/events", "html_url": "https://github.com/boto/botocore/issues/1872", "id": 517459572, "node_id": "MDU6SXNzdWU1MTc0NTk1NzI=", "number": 1872, "title": "time to update python-dateutil again", "user": {"login": "Tecktron", "id": 4650904, "node_id": "MDQ6VXNlcjQ2NTA5MDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/4650904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tecktron", "html_url": "https://github.com/Tecktron", "followers_url": "https://api.github.com/users/Tecktron/followers", "following_url": "https://api.github.com/users/Tecktron/following{/other_user}", "gists_url": "https://api.github.com/users/Tecktron/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tecktron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tecktron/subscriptions", "organizations_url": "https://api.github.com/users/Tecktron/orgs", "repos_url": "https://api.github.com/users/Tecktron/repos", "events_url": "https://api.github.com/users/Tecktron/events{/privacy}", "received_events_url": "https://api.github.com/users/Tecktron/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177680, "node_id": "MDU6TGFiZWwxOTE3NzY4MA==", "url": "https://api.github.com/repos/boto/botocore/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": "This issue requests an improvement to a current feature."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2019-11-04T23:20:22Z", "updated_at": "2019-12-19T23:03:15Z", "closed_at": "2019-12-19T23:03:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like it's that time to update again.\r\n\r\n`ERROR: botocore 1.13.9 has requirement python-dateutil<2.8.1,>=2.1; python_version >= \"2.7\", but you'll have python-dateutil 2.8.1 which is incompatible.`\r\n\r\nWhy not pin the upper bound to a major version instead of minor patch version?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1870", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1870/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1870/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1870/events", "html_url": "https://github.com/boto/botocore/issues/1870", "id": 517343729, "node_id": "MDU6SXNzdWU1MTczNDM3Mjk=", "number": 1870, "title": "Dynamic nature of boto3 is incompatible with pylint", "user": {"login": "john-aws", "id": 3178883, "node_id": "MDQ6VXNlcjMxNzg4ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3178883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john-aws", "html_url": "https://github.com/john-aws", "followers_url": "https://api.github.com/users/john-aws/followers", "following_url": "https://api.github.com/users/john-aws/following{/other_user}", "gists_url": "https://api.github.com/users/john-aws/gists{/gist_id}", "starred_url": "https://api.github.com/users/john-aws/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john-aws/subscriptions", "organizations_url": "https://api.github.com/users/john-aws/orgs", "repos_url": "https://api.github.com/users/john-aws/repos", "events_url": "https://api.github.com/users/john-aws/events{/privacy}", "received_events_url": "https://api.github.com/users/john-aws/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-04T19:07:40Z", "updated_at": "2019-11-18T17:52:06Z", "closed_at": "2019-11-18T17:52:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there any way to make linting of boto3 client code more effective? The problem is that methods, classes etc. all seem to be dynamically injected into the boto3 client objects and hence pylint cannot assist the programmer.\r\n\r\nSample code:\r\n\r\n```\r\nimport boto3\r\ndynamodb = boto3.resource('dynamodb')\r\ntable = dynamodb.Table('employee')\r\n```\r\n\r\nExample of pylint output:\r\n\r\n```\r\n{\r\n\t\"resource\": \"xyz.py\",\r\n\t\"owner\": \"python\",\r\n\t\"code\": \"no-member\",\r\n\t\"severity\": 8,\r\n\t\"message\": \"Instance of '' has no 'Table' member\",\r\n\t\"source\": \"pylint\",\r\n\t\"startLineNumber\": 3,\r\n\t\"startColumn\": 9,\r\n\t\"endLineNumber\": 3,\r\n\t\"endColumn\": 9\r\n}\r\n```\r\n\r\nIt would be good not to have to suppress type checking in `pylintrc`, as follows:\r\n\r\n```\r\n[TYPECHECK]\r\n# List of members which are set dynamically and missed by pylint inference\r\n# system, and so shouldn't trigger E1101 when accessed. Python regular\r\n# expressions are accepted.\r\ngenerated-members=.*dynamodb.*\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1869", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1869/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1869/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1869/events", "html_url": "https://github.com/boto/botocore/issues/1869", "id": 517033304, "node_id": "MDU6SXNzdWU1MTcwMzMzMDQ=", "number": 1869, "title": "Add type hints", "user": {"login": "and-semakin", "id": 9129071, "node_id": "MDQ6VXNlcjkxMjkwNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/9129071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/and-semakin", "html_url": "https://github.com/and-semakin", "followers_url": "https://api.github.com/users/and-semakin/followers", "following_url": "https://api.github.com/users/and-semakin/following{/other_user}", "gists_url": "https://api.github.com/users/and-semakin/gists{/gist_id}", "starred_url": "https://api.github.com/users/and-semakin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/and-semakin/subscriptions", "organizations_url": "https://api.github.com/users/and-semakin/orgs", "repos_url": "https://api.github.com/users/and-semakin/repos", "events_url": "https://api.github.com/users/and-semakin/events{/privacy}", "received_events_url": "https://api.github.com/users/and-semakin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-04T09:26:33Z", "updated_at": "2019-11-07T00:18:55Z", "closed_at": "2019-11-07T00:18:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like `botocore` is one of the most used Python packages according to the PyPI stats. And it lacks of PEP 484 type hints. I'm pretty sure that adding it here will evolve all the Python ecosystem, make it more usable, static code analyzers will become more smart and will help us write better code.\r\n\r\nI see that `typeshed` repo already [has annotations for `boto`](https://github.com/python/typeshed/tree/master/third_party/2and3/boto) package but not for `boto3` or `botocore`. By the way it is preferable for packages to store and distribute type hints themselves, not via `typeshed`.\r\n\r\nWhat do you think? Does adding type hints worth the effort?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1866", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1866/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1866/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1866/events", "html_url": "https://github.com/boto/botocore/issues/1866", "id": 514259795, "node_id": "MDU6SXNzdWU1MTQyNTk3OTU=", "number": 1866, "title": "unable to capture/except sts error since upgrading from 1.13.1", "user": {"login": "pcanham", "id": 778646, "node_id": "MDQ6VXNlcjc3ODY0Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/778646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcanham", "html_url": "https://github.com/pcanham", "followers_url": "https://api.github.com/users/pcanham/followers", "following_url": "https://api.github.com/users/pcanham/following{/other_user}", "gists_url": "https://api.github.com/users/pcanham/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcanham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcanham/subscriptions", "organizations_url": "https://api.github.com/users/pcanham/orgs", "repos_url": "https://api.github.com/users/pcanham/repos", "events_url": "https://api.github.com/users/pcanham/events{/privacy}", "received_events_url": "https://api.github.com/users/pcanham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-10-29T22:15:05Z", "updated_at": "2020-07-14T19:09:02Z", "closed_at": "2020-07-14T19:09:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following code snippet use to work for finding out whether STS was enabled within a specific AWS region, but since upgrading the botocore library this is failing, for some reason you are not able to capture the error, it just performs a stacktrace\r\n\r\n```python\r\ndef get_enabled_regions(boto3_session: boto3.Session, service: str):\r\n    regions = boto3_session.get_available_regions(service)\r\n    enabled_regions = set()\r\n    for region in regions:\r\n        try:\r\n            sts_client = boto3_session.client('sts', region_name=region)\r\n            sts_client.get_caller_identity()\r\n            enabled_regions.add(region)\r\n        except ClientError as e:\r\n            if e.response['Error']['Code'] == \"InvalidClientTokenId\":\r\n                # error code received when region is disabled\r\n                log.error('{}: \"{}\" not allowed please check whether STS is enabled for this region'.format(\r\n                    e.response['Error']['Code'], region))\r\n                pass\r\n            else:\r\n                log.critical(e)\r\n                #raise\r\n        except Exception as e:\r\n            log.critical(e)\r\n    return enabled_regions\r\n```\r\n\r\nError\r\n```\r\n[2019-10-29 22:14:20] [INFO] Credentials found in config file: ~/.aws/config\r\n[2019-10-29 22:14:21] [WARNING] Refreshing temporary credentials failed during mandatory refresh period.\r\nTraceback (most recent call last):\r\n  File \"/Users/pcanham/virtenvs/venv02/lib/python3.7/site-packages/botocore/credentials.py\", line 502, in _protected_refresh\r\n    metadata = self._refresh_using()\r\n  File \"/Users/pcanham/virtenvs/venv02/lib/python3.7/site-packages/botocore/credentials.py\", line 643, in fetch_credentials\r\n    return self._get_cached_credentials()\r\n  File \"/Users/pcanham/virtenvs/venv02/lib/python3.7/site-packages/botocore/credentials.py\", line 653, in _get_cached_credentials\r\n    response = self._get_credentials()\r\n  File \"/Users/pcanham/virtenvs/venv02/lib/python3.7/site-packages/botocore/credentials.py\", line 786, in _get_credentials\r\n    return client.assume_role(**kwargs)\r\n  File \"/Users/pcanham/virtenvs/venv02/lib/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/pcanham/virtenvs/venv02/lib/python3.7/site-packages/botocore/client.py\", line 661, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (InvalidClientTokenId) when calling the AssumeRole operation: The security token included in the request is invalid.\r\n[2019-10-29 22:14:21] [ERROR] InvalidClientTokenId: \"ap-east-1\" not allowed please check whether STS is enabled for this region\r\n```\r\n\r\nAdditional information, the permissions i am getting is from an AssumeRole which works with the aws cli tool, using role_arn and source_profile within the credentials file", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1862", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1862/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1862/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1862/events", "html_url": "https://github.com/boto/botocore/issues/1862", "id": 512907197, "node_id": "MDU6SXNzdWU1MTI5MDcxOTc=", "number": 1862, "title": "GlueVersion ParamValidationError", "user": {"login": "sema4-yunrougong", "id": 50839500, "node_id": "MDQ6VXNlcjUwODM5NTAw", "avatar_url": "https://avatars1.githubusercontent.com/u/50839500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sema4-yunrougong", "html_url": "https://github.com/sema4-yunrougong", "followers_url": "https://api.github.com/users/sema4-yunrougong/followers", "following_url": "https://api.github.com/users/sema4-yunrougong/following{/other_user}", "gists_url": "https://api.github.com/users/sema4-yunrougong/gists{/gist_id}", "starred_url": "https://api.github.com/users/sema4-yunrougong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sema4-yunrougong/subscriptions", "organizations_url": "https://api.github.com/users/sema4-yunrougong/orgs", "repos_url": "https://api.github.com/users/sema4-yunrougong/repos", "events_url": "https://api.github.com/users/sema4-yunrougong/events{/privacy}", "received_events_url": "https://api.github.com/users/sema4-yunrougong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-10-27T01:39:26Z", "updated_at": "2019-10-28T21:53:51Z", "closed_at": "2019-10-28T21:53:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to update existing glue job by specify the GlueVersion parameter and got the following exception error:\r\nbotocore.exceptions.ParamValidationError: Parameter validation failed:\r\nUnknown parameter in JobUpdate: \"GlueVersion\", must be one of: Description, LogUri, Role, ExecutionProperty, Command, DefaultArguments, Connections, MaxRetries, AllocatedCapacity, Timeout, MaxCapacity, WorkerType, NumberOfWorkers, SecurityConfiguration, NotificationProperty\r\n\r\nIn the Documentation of AWS and Boto3,  said there is a pramater called GlueVersion;\r\nhttps://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/glue.html\r\n\r\nPlease solve this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1850", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1850/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1850/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1850/events", "html_url": "https://github.com/boto/botocore/issues/1850", "id": 508213259, "node_id": "MDU6SXNzdWU1MDgyMTMyNTk=", "number": 1850, "title": "An HTTP Client raised and unhandled exception: 'requestid'", "user": {"login": "msambol", "id": 3310356, "node_id": "MDQ6VXNlcjMzMTAzNTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3310356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msambol", "html_url": "https://github.com/msambol", "followers_url": "https://api.github.com/users/msambol/followers", "following_url": "https://api.github.com/users/msambol/following{/other_user}", "gists_url": "https://api.github.com/users/msambol/gists{/gist_id}", "starred_url": "https://api.github.com/users/msambol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msambol/subscriptions", "organizations_url": "https://api.github.com/users/msambol/orgs", "repos_url": "https://api.github.com/users/msambol/repos", "events_url": "https://api.github.com/users/msambol/events{/privacy}", "received_events_url": "https://api.github.com/users/msambol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-10-17T03:35:12Z", "updated_at": "2019-12-24T22:42:47Z", "closed_at": "2019-12-24T22:42:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting the following error when using the S3 boto3 client.\r\nI'm using the default version of boto3 included with Lambda in `us-west-2`.\r\nThe error isn't unique to the S3 client, it's also happening with others such as ssm.\r\n\r\n**CODE**\r\n```\r\ns3_client = boto3.client('s3')\r\ns3_obj = s3_client.get_object(Bucket=\"bucket\", Key=\"key\")\r\n```\r\n**ERROR**\r\n```\r\n[b51db6dc-a396-40c2-befb-b947a6e95e55][2019-10-17 03:28:07,481][ERROR] An HTTP Client raised and unhandled exception: 'requestid'\r\nTraceback (most recent call last):\r\nFile \"/var/runtime/botocore/httpsession.py\", line 262, in send\r\nchunked=self._chunked(request.headers),\r\nFile \"/var/runtime/urllib3/connectionpool.py\", line 547, in urlopen\r\nretries = Retry.from_int(retries, redirect=redirect, default=self.retries)\r\nFile \"/var/runtime/urllib3/util/retry.py\", line 211, in from_int\r\nlog.debug(\"Converted retries value: %r -> %r\", retries, new_retries)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 1366, in debug\r\nself._log(DEBUG, msg, args, **kwargs)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 1514, in _log\r\nself.handle(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 1524, in handle\r\nself.callHandlers(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 1586, in callHandlers\r\nhdlr.handle(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 894, in handle\r\nself.emit(record)\r\nFile \"/var/runtime/bootstrap.py\", line 243, in emit\r\nmsg = self.format(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 869, in format\r\nreturn fmt.format(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 611, in format\r\ns = self.formatMessage(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 580, in formatMessage\r\nreturn self._style.format(record)\r\nFile \"/var/lang/lib/python3.7/logging/__init__.py\", line 422, in format\r\nreturn self._fmt % record.__dict__\r\nKeyError: 'requestid'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1846", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1846/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1846/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1846/events", "html_url": "https://github.com/boto/botocore/issues/1846", "id": 506336467, "node_id": "MDU6SXNzdWU1MDYzMzY0Njc=", "number": 1846, "title": "ClientError: An error occurred (UnknownOperationException) when calling the ListSchemas operation:", "user": {"login": "chrisking", "id": 82452, "node_id": "MDQ6VXNlcjgyNDUy", "avatar_url": "https://avatars3.githubusercontent.com/u/82452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisking", "html_url": "https://github.com/chrisking", "followers_url": "https://api.github.com/users/chrisking/followers", "following_url": "https://api.github.com/users/chrisking/following{/other_user}", "gists_url": "https://api.github.com/users/chrisking/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisking/subscriptions", "organizations_url": "https://api.github.com/users/chrisking/orgs", "repos_url": "https://api.github.com/users/chrisking/repos", "events_url": "https://api.github.com/users/chrisking/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisking/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-10-13T15:00:14Z", "updated_at": "2019-10-15T17:49:07Z", "closed_at": "2019-10-15T17:49:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like there is a problem with the client.py file inside botocore, issue opened on Personalize's API here https://github.com/boto/botocore/issues/1844 . Also there's a corresponding issue on Forecast: https://github.com/aws-samples/amazon-forecast-samples/issues/38 \r\n\r\nTo reproduce this, generate a new Python3.7 or 3.6.5 environment and perform the following:\r\n\r\n## Meta Information\r\n\r\n```\r\n(personalize) \u279c  ~ pip freeze | grep boto\r\nboto3==1.9.248\r\nbotocore==1.12.248\r\n(personalize) \u279c  ~ python --version\r\nPython 3.7.3\r\n```\r\n\r\n## Steps to Reproduce Error:\r\n\r\n1. Install versions of libraries listed above\r\n2. Execute the following:\r\n\r\n```\r\nipython\r\nimport boto3\r\npersonalize = boto3.client('personalize')\r\npersonalize.list_schemas()\r\n```\r\n\r\n## Output:\r\n\r\n```\r\npersonalize.list_schemas()\r\n---------------------------------------------------------------------------\r\nClientError                               Traceback (most recent call last)\r\n<ipython-input-3-4bf9284f94ae> in <module>\r\n----> 1 personalize.list_schemas()\r\n\r\n~/personalize/lib/python3.7/site-packages/botocore/client.py in _api_call(self, *args, **kwargs)\r\n    355                     \"%s() only accepts keyword arguments.\" % py_operation_name)\r\n    356             # The \"self\" in this scope is referring to the BaseClient.\r\n--> 357             return self._make_api_call(operation_name, kwargs)\r\n    358\r\n    359         _api_call.__name__ = str(py_operation_name)\r\n\r\n~/personalize/lib/python3.7/site-packages/botocore/client.py in _make_api_call(self, operation_name, api_params)\r\n    659             error_code = parsed_response.get(\"Error\", {}).get(\"Code\")\r\n    660             error_class = self.exceptions.from_code(error_code)\r\n--> 661             raise error_class(parsed_response, operation_name)\r\n    662         else:\r\n    663             return parsed_response\r\n\r\nClientError: An error occurred (UnknownOperationException) when calling the ListSchemas operation:\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1845", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1845/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1845/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1845/events", "html_url": "https://github.com/boto/botocore/issues/1845", "id": 506227043, "node_id": "MDU6SXNzdWU1MDYyMjcwNDM=", "number": 1845, "title": "ParamValidator parameter length validation does not match model", "user": {"login": "mattsb42-aws", "id": 23565203, "node_id": "MDQ6VXNlcjIzNTY1MjAz", "avatar_url": "https://avatars1.githubusercontent.com/u/23565203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattsb42-aws", "html_url": "https://github.com/mattsb42-aws", "followers_url": "https://api.github.com/users/mattsb42-aws/followers", "following_url": "https://api.github.com/users/mattsb42-aws/following{/other_user}", "gists_url": "https://api.github.com/users/mattsb42-aws/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattsb42-aws/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattsb42-aws/subscriptions", "organizations_url": "https://api.github.com/users/mattsb42-aws/orgs", "repos_url": "https://api.github.com/users/mattsb42-aws/repos", "events_url": "https://api.github.com/users/mattsb42-aws/events{/privacy}", "received_events_url": "https://api.github.com/users/mattsb42-aws/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-10-12T19:22:27Z", "updated_at": "2020-02-25T22:27:18Z", "closed_at": "2020-02-25T22:27:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "While I was digging into an issue over on moto about validating parameter values (https://github.com/spulec/moto/issues/2426), it occurred to me that all of the information that I need is in the service model, and botocore is loading that already. I started out thinking that I would just use botocore to load the model and do the validation myself, but thinking more about it, I remembered that botocore does client-side parameter validation already, which should be getting triggered before anything in moto even runs (at least for mock mode; server mode might still require in-moto validation, but I would still prefer to single-source that).\r\n\r\nWhen I started looking at the parameter validation code in `botocore.validate`, I found two issues:\r\n\r\n## blobs\r\n\r\nParameter length is not validated at all for blobs.\r\n\r\nhttps://github.com/boto/botocore/blob/4dab254f75f9548f765e69e2f2ca1dcc51077e35/botocore/validate.py#L241-L250\r\n\r\n## everything else\r\n\r\nFor other primitive types, while min length is validated, max length is not.\r\n\r\nhttps://github.com/boto/botocore/blob/8a9b18a3632120181eb186ad0685c208160a4a6a/botocore/validate.py#L70-L86\r\n\r\nAt first I thought this must be an oversight, but there are even tests that make sure that this validation is not happening.\r\n\r\nhttps://github.com/boto/botocore/blob/4dab254f75f9548f765e69e2f2ca1dcc51077e35/tests/unit/test_validate.py#L315-L323\r\n\r\nhttps://github.com/boto/botocore/blob/4dab254f75f9548f765e69e2f2ca1dcc51077e35/tests/unit/test_validate.py#L336-L344\r\n\r\n## questions\r\n\r\nAre these validation behaviors intentional?\r\nIf so, can we document that we do not validate these characteristics?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1844", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1844/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1844/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1844/events", "html_url": "https://github.com/boto/botocore/issues/1844", "id": 506219614, "node_id": "MDU6SXNzdWU1MDYyMTk2MTQ=", "number": 1844, "title": "Issue with Botocore and Personalize API Calls", "user": {"login": "chrisking", "id": 82452, "node_id": "MDQ6VXNlcjgyNDUy", "avatar_url": "https://avatars3.githubusercontent.com/u/82452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisking", "html_url": "https://github.com/chrisking", "followers_url": "https://api.github.com/users/chrisking/followers", "following_url": "https://api.github.com/users/chrisking/following{/other_user}", "gists_url": "https://api.github.com/users/chrisking/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisking/subscriptions", "organizations_url": "https://api.github.com/users/chrisking/orgs", "repos_url": "https://api.github.com/users/chrisking/repos", "events_url": "https://api.github.com/users/chrisking/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisking/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-10-12T18:14:28Z", "updated_at": "2019-10-15T20:23:15Z", "closed_at": "2019-10-15T20:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "The botocore API fails to properly allow for users to communicate with the Personalize service.  Originally I thought this was an issue related to my local Python environment so I created a clean install of MacOS and reproduced.\r\n\r\n## Meta Information\r\n\r\n```\r\n(personalize) \u279c  ~ pip freeze | grep boto\r\nboto3==1.9.248\r\nbotocore==1.12.248\r\n(personalize) \u279c  ~ python --version\r\nPython 3.7.3\r\n```\r\n\r\n## Steps to Reproduce Error:\r\n\r\n1. Install versions of libraries listed above\r\n2. Execute the following:\r\n\r\n```\r\nipython\r\nimport boto3\r\npersonalize = boto3.client('personalize')\r\npersonalize.list_schemas()\r\n```\r\n\r\n## Output:\r\n\r\n```\r\npersonalize.list_schemas()\r\n---------------------------------------------------------------------------\r\nClientError                               Traceback (most recent call last)\r\n<ipython-input-3-4bf9284f94ae> in <module>\r\n----> 1 personalize.list_schemas()\r\n\r\n~/personalize/lib/python3.7/site-packages/botocore/client.py in _api_call(self, *args, **kwargs)\r\n    355                     \"%s() only accepts keyword arguments.\" % py_operation_name)\r\n    356             # The \"self\" in this scope is referring to the BaseClient.\r\n--> 357             return self._make_api_call(operation_name, kwargs)\r\n    358\r\n    359         _api_call.__name__ = str(py_operation_name)\r\n\r\n~/personalize/lib/python3.7/site-packages/botocore/client.py in _make_api_call(self, operation_name, api_params)\r\n    659             error_code = parsed_response.get(\"Error\", {}).get(\"Code\")\r\n    660             error_class = self.exceptions.from_code(error_code)\r\n--> 661             raise error_class(parsed_response, operation_name)\r\n    662         else:\r\n    663             return parsed_response\r\n\r\nClientError: An error occurred (UnknownOperationException) when calling the ListSchemas operation:\r\n```\r\n\r\nThis was reported a while back with Forecast as well. I have yet to figure out exactly which versions would be good of botocore.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1843", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1843/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1843/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1843/events", "html_url": "https://github.com/boto/botocore/issues/1843", "id": 506027530, "node_id": "MDU6SXNzdWU1MDYwMjc1MzA=", "number": 1843, "title": "ResourceGroupsTaggingAPI for AWS Neptune", "user": {"login": "tsiq-shiv", "id": 46721913, "node_id": "MDQ6VXNlcjQ2NzIxOTEz", "avatar_url": "https://avatars3.githubusercontent.com/u/46721913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsiq-shiv", "html_url": "https://github.com/tsiq-shiv", "followers_url": "https://api.github.com/users/tsiq-shiv/followers", "following_url": "https://api.github.com/users/tsiq-shiv/following{/other_user}", "gists_url": "https://api.github.com/users/tsiq-shiv/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsiq-shiv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsiq-shiv/subscriptions", "organizations_url": "https://api.github.com/users/tsiq-shiv/orgs", "repos_url": "https://api.github.com/users/tsiq-shiv/repos", "events_url": "https://api.github.com/users/tsiq-shiv/events{/privacy}", "received_events_url": "https://api.github.com/users/tsiq-shiv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-10-11T19:44:38Z", "updated_at": "2019-10-14T17:16:06Z", "closed_at": "2019-10-14T17:16:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "AWS Docs say that resource groups tagging API support AWS Neptune, however it does not work and returns with an `InvalidParameterException`\r\nHow to replicate:\r\n`aws resourcegroupstaggingapi get-resources --resource-type-filters neptune-db` ->\r\n```\r\nAn error occurred (InvalidParameterException) when calling the GetResources operation: Unsupported service=neptune-db in ResourceTypeFilter - neptune-db:\r\n```\r\n\r\nRunning boto3 1.9.247 and botocore 1.12.247 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1840", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1840/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1840/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1840/events", "html_url": "https://github.com/boto/botocore/issues/1840", "id": 501015107, "node_id": "MDU6SXNzdWU1MDEwMTUxMDc=", "number": 1840, "title": "Rare failure to use IAM role credentials from instance metadata", "user": {"login": "rtkrruvinskiy", "id": 3708124, "node_id": "MDQ6VXNlcjM3MDgxMjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3708124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rtkrruvinskiy", "html_url": "https://github.com/rtkrruvinskiy", "followers_url": "https://api.github.com/users/rtkrruvinskiy/followers", "following_url": "https://api.github.com/users/rtkrruvinskiy/following{/other_user}", "gists_url": "https://api.github.com/users/rtkrruvinskiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/rtkrruvinskiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rtkrruvinskiy/subscriptions", "organizations_url": "https://api.github.com/users/rtkrruvinskiy/orgs", "repos_url": "https://api.github.com/users/rtkrruvinskiy/repos", "events_url": "https://api.github.com/users/rtkrruvinskiy/events{/privacy}", "received_events_url": "https://api.github.com/users/rtkrruvinskiy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-10-01T16:41:07Z", "updated_at": "2019-10-09T19:10:44Z", "closed_at": "2019-10-09T19:10:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python version: PyPy 6.0.0 with GCC 6.2.0 20160901\r\nOS: Ubuntu 16.04.5 LTS\r\nbotocore version: 1.12.92\r\n\r\nWe bring up EC2 instances that use an IAM role for their credentials. Very rarely, we observe a situation when an instance comes up and starts up a service process (using systemd if that matters), and the services's AWS calls (specifically S3 HEAD requests) repeatedly fail with 403 response codes. Running a pcap against 169.254.169.254, I see frequent GET requests to /latest/meta-data/iam/security-credentials/<role_name>. The credentials in the responses are valid -- if I force the use of the credentials from the pcap using environment variables, the S3 operation works just fine. However, the service process continuously gets 403's and continuously refreshes credentials. As soon as I restart the service, the problem resolves itself.\r\n\r\nI've reviewed the botocore changelog and saw some fixes for issues for fetching credentials from instance metadata in 1.12.20 (https://github.com/boto/botocore/blob/develop/CHANGELOG.rst#11220), but we're running 1.12.92. (Also, FWIW, we run boto3 1.9.92.) I'd appreciate a pointer on how to investigate this issue further.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1836", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1836/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1836/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1836/events", "html_url": "https://github.com/boto/botocore/issues/1836", "id": 499600826, "node_id": "MDU6SXNzdWU0OTk2MDA4MjY=", "number": 1836, "title": "ACM TagList shape has incorrect minimum number of 1", "user": {"login": "dudebout", "id": 382362, "node_id": "MDQ6VXNlcjM4MjM2Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/382362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dudebout", "html_url": "https://github.com/dudebout", "followers_url": "https://api.github.com/users/dudebout/followers", "following_url": "https://api.github.com/users/dudebout/following{/other_user}", "gists_url": "https://api.github.com/users/dudebout/gists{/gist_id}", "starred_url": "https://api.github.com/users/dudebout/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dudebout/subscriptions", "organizations_url": "https://api.github.com/users/dudebout/orgs", "repos_url": "https://api.github.com/users/dudebout/repos", "events_url": "https://api.github.com/users/dudebout/events{/privacy}", "received_events_url": "https://api.github.com/users/dudebout/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-27T19:00:28Z", "updated_at": "2019-10-07T17:49:29Z", "closed_at": "2019-10-07T17:49:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [TagList shape in the ACM model](https://github.com/boto/botocore/blob/develop/botocore/data/acm/2015-12-08/service-2.json#L1110) has an incorrect minimum number of one element:\r\n```\r\n   \"TagList\":{\r\n     \"type\":\"list\",\r\n     \"member\":{\"shape\":\"Tag\"},\r\n     \"max\":50,\r\n     \"min\":1\r\n   },\r\n```\r\nThis is a problem for example for [ListTagsForCertificate](https://github.com/boto/botocore/blob/develop/botocore/data/acm/2015-12-08/service-2.json#L116), whose output shape is [ListTagsForCertificateResponse](https://github.com/boto/botocore/blob/develop/botocore/data/acm/2015-12-08/service-2.json#L847):\r\n```\r\n   \"ListTagsForCertificateResponse\":{\r\n     \"type\":\"structure\",\r\n     \"members\":{\r\n       \"Tags\":{\r\n         \"shape\":\"TagList\",\r\n         \"documentation\":\"<p>The key-value pairs that define the applied tags.</p>\"\r\n       }\r\n     }\r\n   },\r\n```\r\nbut certificates do not always have tags.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1833", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1833/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1833/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1833/events", "html_url": "https://github.com/boto/botocore/issues/1833", "id": 498721308, "node_id": "MDU6SXNzdWU0OTg3MjEzMDg=", "number": 1833, "title": "MissingHeaderBodySeparatorDefect on PUT request", "user": {"login": "aCLr", "id": 6426720, "node_id": "MDQ6VXNlcjY0MjY3MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6426720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aCLr", "html_url": "https://github.com/aCLr", "followers_url": "https://api.github.com/users/aCLr/followers", "following_url": "https://api.github.com/users/aCLr/following{/other_user}", "gists_url": "https://api.github.com/users/aCLr/gists{/gist_id}", "starred_url": "https://api.github.com/users/aCLr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aCLr/subscriptions", "organizations_url": "https://api.github.com/users/aCLr/orgs", "repos_url": "https://api.github.com/users/aCLr/repos", "events_url": "https://api.github.com/users/aCLr/events{/privacy}", "received_events_url": "https://api.github.com/users/aCLr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 1888004425, "node_id": "MDU6TGFiZWwxODg4MDA0NDI1", "url": "https://api.github.com/repos/boto/botocore/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-09-26T07:55:52Z", "updated_at": "2020-04-03T20:43:30Z", "closed_at": "2020-04-03T20:43:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there!\r\n\r\nI try to use minio and sometimes I got that warning:\r\n```\r\n612315 2019-09-25T12:40:16.+0000 WARNING Failed to parse headers (url=http://127.0.0.1:9000/project/media/sports/teams/26e36213-09dd-4e69-83b8-1bf9e35ccdcc.png): [MissingHeaderBodySeparatorDefect()], unparsed data: 'HTTP/1.1 200 OK\\r\\nAccept-Ranges: bytes\\r\\nContent-Length: 0\\r\\nContent-Security-Policy: block-all-mixed-content\\r\\nETag: \"67528ce266ded257124ea9751fb16491\"\\r\\nServer: MinIO/RELEASE.2019-09-18T21-55-05Z\\r\\nVary: Origin\\r\\nX-Amz-Request-Id: 15C7AED31D37A061\\r\\nX-Xss-Protection: 1; mode=block\\r\\nDate: Wed, 25 Sep 2019 12:40:16 GMT\\r\\n\\r\\n'\r\n```\r\nAfter that code freezes for specified in `read_timeout` seconds amount, and after retry everything is ok.\r\nIt looks like floating warning: It can happen with different files in different point of time.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1830", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1830/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1830/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1830/events", "html_url": "https://github.com/boto/botocore/issues/1830", "id": 497366147, "node_id": "MDU6SXNzdWU0OTczNjYxNDc=", "number": 1830, "title": "ResponseParserError from botocore not handling an empty response", "user": {"login": "kylegalbraith", "id": 1869717, "node_id": "MDQ6VXNlcjE4Njk3MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1869717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylegalbraith", "html_url": "https://github.com/kylegalbraith", "followers_url": "https://api.github.com/users/kylegalbraith/followers", "following_url": "https://api.github.com/users/kylegalbraith/following{/other_user}", "gists_url": "https://api.github.com/users/kylegalbraith/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylegalbraith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylegalbraith/subscriptions", "organizations_url": "https://api.github.com/users/kylegalbraith/orgs", "repos_url": "https://api.github.com/users/kylegalbraith/repos", "events_url": "https://api.github.com/users/kylegalbraith/events{/privacy}", "received_events_url": "https://api.github.com/users/kylegalbraith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-23T22:51:20Z", "updated_at": "2019-10-02T17:37:18Z", "closed_at": "2019-10-02T17:37:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python version: 2.7.10\r\nBoto3 version: 1.9.228\r\n\r\nWe are seeing an error using the SQS client in `boto3`. There are instances where we are trying to receive a message or delete a message and are getting an exception `ResponseParserError` but the `xml_string` is empty. It looks like in `_do_parse` that there is no empty check happening which is likely why the XML is failing to parse.\r\n\r\nShould there be a check for empty/none in `_do_parse` to prevent this error or where should we look for the root cause?\r\n\r\n```\r\nFile \"download/manage/retrieve_next_urls.py\", line 36, in _fetch_queue_item\r\n    WaitTimeSeconds=wait_time\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/client.py\", line 648, in _make_api_call\r\n    operation_model, request_dict, request_context)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/client.py\", line 667, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/endpoint.py\", line 135, in _send_request\r\n    request, operation_model, context)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/endpoint.py\", line 167, in _get_response\r\n    request, operation_model)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/endpoint.py\", line 218, in _do_get_response\r\n    response_dict, operation_model.output_shape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/parsers.py\", line 242, in parse\r\n    parsed = self._do_parse(response, shape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/parsers.py\", line 501, in _do_parse\r\n    root = self._parse_xml_string_to_dom(xml_contents)\r\n  File \"/usr/local/lib/python2.7/dist-packages/botocore/parsers.py\", line 437, in _parse_xml_string_to_dom\r\n    \"invalid XML received:\\n%s\" % (e, xml_string))\r\nResponseParserError: Unable to parse response (no element found: line 1, column 0), invalid XML received:\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1828", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1828/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1828/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1828/events", "html_url": "https://github.com/boto/botocore/issues/1828", "id": 493855504, "node_id": "MDU6SXNzdWU0OTM4NTU1MDQ=", "number": 1828, "title": "Spelling of parameter is wrong in the following places", "user": {"login": "mmontagna", "id": 6549664, "node_id": "MDQ6VXNlcjY1NDk2NjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6549664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmontagna", "html_url": "https://github.com/mmontagna", "followers_url": "https://api.github.com/users/mmontagna/followers", "following_url": "https://api.github.com/users/mmontagna/following{/other_user}", "gists_url": "https://api.github.com/users/mmontagna/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmontagna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmontagna/subscriptions", "organizations_url": "https://api.github.com/users/mmontagna/orgs", "repos_url": "https://api.github.com/users/mmontagna/repos", "events_url": "https://api.github.com/users/mmontagna/events{/privacy}", "received_events_url": "https://api.github.com/users/mmontagna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 361442487, "node_id": "MDU6TGFiZWwzNjE0NDI0ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/s3", "name": "s3", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-09-16T05:36:43Z", "updated_at": "2020-01-07T00:36:59Z", "closed_at": "2019-09-23T22:25:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/boto/botocore/pull/1827", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1826", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1826/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1826/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1826/events", "html_url": "https://github.com/boto/botocore/issues/1826", "id": 493807726, "node_id": "MDU6SXNzdWU0OTM4MDc3MjY=", "number": 1826, "title": "Vendor version of requests/urllib3 has collections Deprecations ", "user": {"login": "cooperlees", "id": 3005596, "node_id": "MDQ6VXNlcjMwMDU1OTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3005596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cooperlees", "html_url": "https://github.com/cooperlees", "followers_url": "https://api.github.com/users/cooperlees/followers", "following_url": "https://api.github.com/users/cooperlees/following{/other_user}", "gists_url": "https://api.github.com/users/cooperlees/gists{/gist_id}", "starred_url": "https://api.github.com/users/cooperlees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cooperlees/subscriptions", "organizations_url": "https://api.github.com/users/cooperlees/orgs", "repos_url": "https://api.github.com/users/cooperlees/repos", "events_url": "https://api.github.com/users/cooperlees/events{/privacy}", "received_events_url": "https://api.github.com/users/cooperlees/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-16T00:44:21Z", "updated_at": "2019-09-18T22:20:25Z", "closed_at": "2019-09-18T22:20:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using 3.7.3 and enabling `PYTHONWARNINGS=error` I found:\r\n```\r\nFile \"/private/var/folders/tc/hbwxh76j1hn6gqjd2n2sjn4j9k1glp/T/ptr_venv_83634/lib/python3.7/site-packages/botocore/vendored/requests/packages/urllib3/_collections.py\", line 1, in <module>\r\n    from collections import Mapping, MutableMapping\r\n  File \"<frozen importlib._bootstrap>\", line 1032, in _handle_fromlist\r\n  File \"/opt/homebrew/bin/../Cellar/python37/3.7.3_2/bin/../Frameworks/Python.framework/Versions/3.7/lib/python3.7/collections/__init__.py\", line 52, in __getattr__\r\n    DeprecationWarning, stacklevel=2)\r\nDeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n```\r\n\r\nCode:\r\nhttps://github.com/boto/botocore/blob/develop/botocore/vendored/requests/packages/urllib3/_collections.py#L1\r\n\r\nWould a PR wrapping this be accepted or are there plans to move to a newer version of requests eventually? I think this is fixed there (didn't double check).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1825", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1825/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1825/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1825/events", "html_url": "https://github.com/boto/botocore/issues/1825", "id": 492827966, "node_id": "MDU6SXNzdWU0OTI4Mjc5NjY=", "number": 1825, "title": "Invalid endpoint in create_endpoint", "user": {"login": "leftkats", "id": 16416781, "node_id": "MDQ6VXNlcjE2NDE2Nzgx", "avatar_url": "https://avatars1.githubusercontent.com/u/16416781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leftkats", "html_url": "https://github.com/leftkats", "followers_url": "https://api.github.com/users/leftkats/followers", "following_url": "https://api.github.com/users/leftkats/following{/other_user}", "gists_url": "https://api.github.com/users/leftkats/gists{/gist_id}", "starred_url": "https://api.github.com/users/leftkats/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leftkats/subscriptions", "organizations_url": "https://api.github.com/users/leftkats/orgs", "repos_url": "https://api.github.com/users/leftkats/repos", "events_url": "https://api.github.com/users/leftkats/events{/privacy}", "received_events_url": "https://api.github.com/users/leftkats/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-12T14:04:46Z", "updated_at": "2019-09-17T12:26:18Z", "closed_at": "2019-09-17T12:26:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**System information**\r\n\r\n- Python 3.6.8\r\n- boto3==1.9.225\r\n- botocore==1.12.227\r\n- awscli==1.16.237\r\n- apache-airflow==1.10.4\r\n\r\nFunction that throws the error possibly here:\r\nhttps://github.com/boto/botocore/blob/develop/botocore/utils.py#L832-L853\r\n\r\naws-cli configured correctly at the machine.\r\nI am getting the following error while i am trying to interact with aws from apache-airflow operator:\r\n\r\nCan you please share a valid endpoint example?\r\n```Traceback (most recent call last):\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/airflow/models/taskinstance.py\", line 922, in _run_raw_task\r\n    result = task_copy.execute(context=context)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/airflow/sensors/base_sensor_operator.py\", line 107, in execute\r\n    while not self.poke(context):\r\n  File \"/home/airflow/bi/airflow/plugins/bq_ef_gr_plugin.py\", line 429, in poke\r\n    exists = hook.check_for_key(self.bucket_key, self.bucket_name)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/airflow/hooks/S3_hook.py\", line 198, in check_for_key\r\n    self.get_conn().head_object(Bucket=bucket_name, Key=key)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/airflow/hooks/S3_hook.py\", line 36, in get_conn\r\n    return self.get_client_type('s3')\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/airflow/contrib/hooks/aws_hook.py\", line 170, in get_client_type\r\n    config=config, verify=self.verify)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/boto3/session.py\", line 263, in client\r\n    aws_session_token=aws_session_token, config=config)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/botocore/session.py\", line 839, in create_client\r\n    client_config=config, api_version=api_version)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/botocore/client.py\", line 86, in create_client\r\n    verify, credentials, scoped_config, client_config, endpoint_bridge)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/botocore/client.py\", line 328, in _get_client_args\r\n    verify, credentials, scoped_config, client_config, endpoint_bridge)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/botocore/args.py\", line 85, in get_client_args\r\n    client_cert=new_config.client_cert)\r\n  File \"/home/airflow/devenv/lib/python3.6/site-packages/botocore/endpoint.py\", line 261, in create_endpoint\r\n    raise ValueError(\"Invalid endpoint: %s\" % endpoint_url)\r\nValueError: Invalid endpoint: s3.eu-central-1.amazonaws.com", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1824", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1824/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1824/events", "html_url": "https://github.com/boto/botocore/issues/1824", "id": 492809231, "node_id": "MDU6SXNzdWU0OTI4MDkyMzE=", "number": 1824, "title": "What is the recommended way of checking if a Paginator is empty?", "user": {"login": "l1x", "id": 20079, "node_id": "MDQ6VXNlcjIwMDc5", "avatar_url": "https://avatars1.githubusercontent.com/u/20079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l1x", "html_url": "https://github.com/l1x", "followers_url": "https://api.github.com/users/l1x/followers", "following_url": "https://api.github.com/users/l1x/following{/other_user}", "gists_url": "https://api.github.com/users/l1x/gists{/gist_id}", "starred_url": "https://api.github.com/users/l1x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l1x/subscriptions", "organizations_url": "https://api.github.com/users/l1x/orgs", "repos_url": "https://api.github.com/users/l1x/repos", "events_url": "https://api.github.com/users/l1x/events{/privacy}", "received_events_url": "https://api.github.com/users/l1x/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 361442487, "node_id": "MDU6TGFiZWwzNjE0NDI0ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/s3", "name": "s3", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-12T13:33:12Z", "updated_at": "2019-09-17T10:54:33Z", "closed_at": "2019-09-17T10:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to improve on this code:\r\n\r\n```python\r\ndef list_objects_in_s3(s3_client, s3_bucket, s3_object_prefix):\r\n    paginator = s3_client.get_paginator('list_objects')\r\n    filters = { 'Bucket': s3_bucket,\r\n                'Prefix': s3_object_prefix }\r\n    page_iterator = paginator.paginate(**filters)\r\n    ret = []\r\n    for page in page_iterator:\r\n        if page.get('Contents',None):\r\n            for content in page.get('Contents'):\r\n                ret.append(content['Key'])\r\n    return ret\r\n```\r\n\r\nIs there a way to do this better? I guess I could just return the paginator to the caller and iterate over there. Maybe use yield? I hope that somebody has some idiomatic way of doing this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1820", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1820/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1820/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1820/events", "html_url": "https://github.com/boto/botocore/issues/1820", "id": 489325265, "node_id": "MDU6SXNzdWU0ODkzMjUyNjU=", "number": 1820, "title": "AWS Cost Explorer get_cost_and_usage() LimitExceededException GetCostAndUsage", "user": {"login": "anjneeksharma", "id": 12980398, "node_id": "MDQ6VXNlcjEyOTgwMzk4", "avatar_url": "https://avatars0.githubusercontent.com/u/12980398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjneeksharma", "html_url": "https://github.com/anjneeksharma", "followers_url": "https://api.github.com/users/anjneeksharma/followers", "following_url": "https://api.github.com/users/anjneeksharma/following{/other_user}", "gists_url": "https://api.github.com/users/anjneeksharma/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjneeksharma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjneeksharma/subscriptions", "organizations_url": "https://api.github.com/users/anjneeksharma/orgs", "repos_url": "https://api.github.com/users/anjneeksharma/repos", "events_url": "https://api.github.com/users/anjneeksharma/events{/privacy}", "received_events_url": "https://api.github.com/users/anjneeksharma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-09-04T18:33:36Z", "updated_at": "2019-09-18T18:11:25Z", "closed_at": "2019-09-18T18:11:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nclient = boto3.client('ce')\r\nresponse = client.get_cost_and_usage(TimePeriod={'Start': start, 'End': end},\r\n                                                              Granularity='MONTHLY',\r\n                                                               Metrics=['AmortizedCost'],\r\n                                                              Filter={ 'Tags': { 'Key': tag['Key'], 'Values': [tag['Value'], ] } }\r\n\r\n\r\ni am calling this function 400 times with different different tag so i am getting exception  LimitExceededException) when calling the GetCostAndUsage operation: Rate limit exceeded \r\n\r\nPlease suggest me how can i handle this issue.                   ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1819", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1819/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1819/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1819/events", "html_url": "https://github.com/boto/botocore/issues/1819", "id": 489309094, "node_id": "MDU6SXNzdWU0ODkzMDkwOTQ=", "number": 1819, "title": "Issues with botocore.response.StreamingBody iter_lines in AWS Glue Python Shell", "user": {"login": "dserrano1524", "id": 5671940, "node_id": "MDQ6VXNlcjU2NzE5NDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5671940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dserrano1524", "html_url": "https://github.com/dserrano1524", "followers_url": "https://api.github.com/users/dserrano1524/followers", "following_url": "https://api.github.com/users/dserrano1524/following{/other_user}", "gists_url": "https://api.github.com/users/dserrano1524/gists{/gist_id}", "starred_url": "https://api.github.com/users/dserrano1524/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dserrano1524/subscriptions", "organizations_url": "https://api.github.com/users/dserrano1524/orgs", "repos_url": "https://api.github.com/users/dserrano1524/repos", "events_url": "https://api.github.com/users/dserrano1524/events{/privacy}", "received_events_url": "https://api.github.com/users/dserrano1524/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-04T18:03:41Z", "updated_at": "2019-09-13T22:02:39Z", "closed_at": "2019-09-13T22:02:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Boto3 to read the results of my AWS Athena query in a python script.\r\n\r\nI have the following code that works fine in AWS Lambda.\r\n\r\n```\r\ndef get_athena_results(s3_bucket, s3_output_path, execution_id):\r\n    s3client = boto3.client('s3')\r\n    key = s3_output_path + '/' + execution_id + '.csv'\r\n    obj = s3client.get_object(Bucket=s3_bucket, Key=key)\r\n    results_iterator = obj['Body'].iter_lines()\r\n    results = [r for r in results_iterator]\r\n    return results\r\n```\r\n\r\nWhen I run the same function in AWS Glue Python Shell (Not a Spark job), I get the error:\r\n\r\nUnexpected error: <class 'AttributeError'>\r\n'StreamingBody' object has no attribute 'iter_lines'\r\n\r\nThis doesn't make sense to me as the `botocore.response.StreamingBody` class has an `iter_lines` method, and it works fine in AWS Lambda.\r\n\r\nhttps://botocore.amazonaws.com/v1/documentation/api/latest/reference/response.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1814", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1814/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1814/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1814/events", "html_url": "https://github.com/boto/botocore/issues/1814", "id": 484612805, "node_id": "MDU6SXNzdWU0ODQ2MTI4MDU=", "number": 1814, "title": "How to use generated exceptions", "user": {"login": "takeda", "id": 411978, "node_id": "MDQ6VXNlcjQxMTk3OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/411978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takeda", "html_url": "https://github.com/takeda", "followers_url": "https://api.github.com/users/takeda/followers", "following_url": "https://api.github.com/users/takeda/following{/other_user}", "gists_url": "https://api.github.com/users/takeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/takeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takeda/subscriptions", "organizations_url": "https://api.github.com/users/takeda/orgs", "repos_url": "https://api.github.com/users/takeda/repos", "events_url": "https://api.github.com/users/takeda/events{/privacy}", "received_events_url": "https://api.github.com/users/takeda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2049498101, "node_id": "MDU6TGFiZWwyMDQ5NDk4MTAx", "url": "https://api.github.com/repos/boto/botocore/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "ededed", "default": false, "description": null}, {"id": 225835328, "node_id": "MDU6TGFiZWwyMjU4MzUzMjg=", "url": "https://api.github.com/repos/boto/botocore/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-08-23T16:26:08Z", "updated_at": "2020-06-15T23:06:49Z", "closed_at": "2020-06-15T23:06:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I'm trying to use SSM and catch scenario where value doesn't exist. The call generates `botocore.errorfactory.ParameterNotFound: An error occurred (ParameterNotFound) when calling the GetParameter operation`\r\n\r\nThe thing is that ParameterNotFound does not exist the class with the error is dynamically generated and I can't reference it in the code (or at least not from `botocore.errorfactory.ParameterNotFound`). What's the point of having exceptions like this when they can't be caught?  Why bothering with dynamically generated class, when you could just have a generic error and inside of its properties I could extract the actual cause. Or is there a way to use it that I'm not aware of?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1813", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1813/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1813/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1813/events", "html_url": "https://github.com/boto/botocore/issues/1813", "id": 483829200, "node_id": "MDU6SXNzdWU0ODM4MjkyMDA=", "number": 1813, "title": "Implementing API rate limiting client side", "user": {"login": "museadmin", "id": 11486495, "node_id": "MDQ6VXNlcjExNDg2NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/11486495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/museadmin", "html_url": "https://github.com/museadmin", "followers_url": "https://api.github.com/users/museadmin/followers", "following_url": "https://api.github.com/users/museadmin/following{/other_user}", "gists_url": "https://api.github.com/users/museadmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/museadmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/museadmin/subscriptions", "organizations_url": "https://api.github.com/users/museadmin/orgs", "repos_url": "https://api.github.com/users/museadmin/repos", "events_url": "https://api.github.com/users/museadmin/events{/privacy}", "received_events_url": "https://api.github.com/users/museadmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-08-22T07:54:21Z", "updated_at": "2019-09-06T23:06:01Z", "closed_at": "2019-09-06T23:06:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nI have added a feature to implement configurable API rate limiting client side in this PR - https://github.com/boto/botocore/pull/1812\r\n\r\nIn your contributing guidelines you suggest discussing this with you beforehand via an issue, to avoid \"duplication of effort\". However, this started out as a POC that proved really effective in running the ScoutSuite scanner without rate limiting issues, so I submitted a PR and worked through the issues in Travis-ci until I got a green build.\r\n\r\nNCCGroup are quite keen on seeing this go in.\r\n\r\nI created a master project containing boto3, botocore and ScoutSuite to develop this feature here - https://github.com/museadmin/botorate\r\n\r\nThe README goes into detail about exactly what this change entails. \r\n\r\nCan you let me know if you will be accepting this PR? My PR for boto3 will not run green until this one is available so I need to progress this and remain happy to address any issues you might want resolving first.\r\n\r\nRegards\r\n\r\nBrad", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1803", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1803/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1803/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1803/events", "html_url": "https://github.com/boto/botocore/issues/1803", "id": 477554591, "node_id": "MDU6SXNzdWU0Nzc1NTQ1OTE=", "number": 1803, "title": "HTTP 500 on POST to CE GetRightsizingRecommendation", "user": {"login": "The1hauntedX", "id": 13578289, "node_id": "MDQ6VXNlcjEzNTc4Mjg5", "avatar_url": "https://avatars3.githubusercontent.com/u/13578289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/The1hauntedX", "html_url": "https://github.com/The1hauntedX", "followers_url": "https://api.github.com/users/The1hauntedX/followers", "following_url": "https://api.github.com/users/The1hauntedX/following{/other_user}", "gists_url": "https://api.github.com/users/The1hauntedX/gists{/gist_id}", "starred_url": "https://api.github.com/users/The1hauntedX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/The1hauntedX/subscriptions", "organizations_url": "https://api.github.com/users/The1hauntedX/orgs", "repos_url": "https://api.github.com/users/The1hauntedX/repos", "events_url": "https://api.github.com/users/The1hauntedX/events{/privacy}", "received_events_url": "https://api.github.com/users/The1hauntedX/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-06T19:27:31Z", "updated_at": "2019-08-07T17:15:30Z", "closed_at": "2019-08-07T13:51:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling GetRightsizingRecommendation from AWS CLI and Python Boto3 returns with an HTTP 500 error.\r\n\r\nRequest info:\r\n```\r\n2019-08-06 09:23:38,436 - MainThread - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://ce.us-east-1.amazonaws.com/, headers={\r\n   'X-Amz-Target':b'AWSInsightsIndexService.GetRightsizingRecommendation',\r\n   'Content-Type':b'application/x-amz-json-1.1',\r\n   'User-Agent':b'aws-cli/1.16.208 Python/3.7.4 Darwin/18.2.0 botocore/1.12.198',\r\n   'X-Amz-Date':b'20190806T142338Z',\r\n   'X-Amz-Security-Token':redacted',\r\n   'Authorization':b'AWS4-HMAC-SHA256 Credential=ASIAredacted/20190806/us-east-1/ce/aws4_request,\r\n   SignedHeaders=content-type;host;x-amz-date;x-amz-security-token;x-amz-target,\r\n   Signature=redacted',\r\n   'Content-Length':'18'\r\n}>\r\n2019-08-06 09:23:38,436 - MainThread - urllib3.util.retry - DEBUG - Converted retries value: False -> Retry(total=False, connect=None, read=None, redirect=0, status=None)\r\n2019-08-06 09:23:38,436 - MainThread - urllib3.connectionpool - DEBUG - Resetting dropped connection: ce.us-east-1.amazonaws.com\r\n2019-08-06 09:23:38,632 - MainThread - urllib3.connectionpool - DEBUG - https://ce.us-east-1.amazonaws.com:443 \"POST / HTTP/1.1\" 500 28\r\n2019-08-06 09:23:38,632 - MainThread - botocore.parsers - DEBUG - Response headers: {'x-amzn-RequestId': '9c56c13c-3e24-4d9e-88d5-5cd7c24f3ae9, dc6d113e-5a1d-4e25-a285-81b781d96a5c', 'Date': 'Tue, 06 Aug 2019 14:23:38 GMT', 'Connection': 'keep-alive, close', 'Content-Type': 'application/x-amz-json-1.1', 'Content-Length': '28'}\r\n2019-08-06 09:23:38,632 - MainThread - botocore.parsers - DEBUG - Response body:\r\nb'{\"__type\":\"InternalFailure\"}'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1800", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1800/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1800/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1800/events", "html_url": "https://github.com/boto/botocore/issues/1800", "id": 475880502, "node_id": "MDU6SXNzdWU0NzU4ODA1MDI=", "number": 1800, "title": "Noisy urllib3 log \"Converted retries value: False -> Retry\"", "user": {"login": "ikonst", "id": 1186084, "node_id": "MDQ6VXNlcjExODYwODQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1186084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikonst", "html_url": "https://github.com/ikonst", "followers_url": "https://api.github.com/users/ikonst/followers", "following_url": "https://api.github.com/users/ikonst/following{/other_user}", "gists_url": "https://api.github.com/users/ikonst/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikonst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikonst/subscriptions", "organizations_url": "https://api.github.com/users/ikonst/orgs", "repos_url": "https://api.github.com/users/ikonst/repos", "events_url": "https://api.github.com/users/ikonst/events{/privacy}", "received_events_url": "https://api.github.com/users/ikonst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-01T20:44:18Z", "updated_at": "2019-10-30T17:49:41Z", "closed_at": "2019-10-30T17:49:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1796", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1796/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1796/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1796/events", "html_url": "https://github.com/boto/botocore/issues/1796", "id": 473939299, "node_id": "MDU6SXNzdWU0NzM5MzkyOTk=", "number": 1796, "title": "docutils version conflit with 0.15.1", "user": {"login": "laszewsk", "id": 425045, "node_id": "MDQ6VXNlcjQyNTA0NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/425045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laszewsk", "html_url": "https://github.com/laszewsk", "followers_url": "https://api.github.com/users/laszewsk/followers", "following_url": "https://api.github.com/users/laszewsk/following{/other_user}", "gists_url": "https://api.github.com/users/laszewsk/gists{/gist_id}", "starred_url": "https://api.github.com/users/laszewsk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laszewsk/subscriptions", "organizations_url": "https://api.github.com/users/laszewsk/orgs", "repos_url": "https://api.github.com/users/laszewsk/repos", "events_url": "https://api.github.com/users/laszewsk/events{/privacy}", "received_events_url": "https://api.github.com/users/laszewsk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-29T09:14:09Z", "updated_at": "2019-07-29T18:37:06Z", "closed_at": "2019-07-29T18:37:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using docutils 0.15.1, however i get a version conflict as boto core requires another version:\r\nRequirement.parse('docutils<0.15,>=0.10'), {'botocore'}) It would be great if you can update so it works also with the current version.\r\n\r\nThere seems also to be a discussion to remove docutils #900 and conflicts with other projects  #1789", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1789", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1789/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1789/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1789/events", "html_url": "https://github.com/boto/botocore/issues/1789", "id": 471220370, "node_id": "MDU6SXNzdWU0NzEyMjAzNzA=", "number": 1789, "title": "cap on docutils prevents co-installability with openstack", "user": {"login": "prometheanfire", "id": 1869923, "node_id": "MDQ6VXNlcjE4Njk5MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1869923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prometheanfire", "html_url": "https://github.com/prometheanfire", "followers_url": "https://api.github.com/users/prometheanfire/followers", "following_url": "https://api.github.com/users/prometheanfire/following{/other_user}", "gists_url": "https://api.github.com/users/prometheanfire/gists{/gist_id}", "starred_url": "https://api.github.com/users/prometheanfire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prometheanfire/subscriptions", "organizations_url": "https://api.github.com/users/prometheanfire/orgs", "repos_url": "https://api.github.com/users/prometheanfire/repos", "events_url": "https://api.github.com/users/prometheanfire/events{/privacy}", "received_events_url": "https://api.github.com/users/prometheanfire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 166329085, "node_id": "MDU6TGFiZWwxNjYzMjkwODU=", "url": "https://api.github.com/repos/boto/botocore/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "This issue requests a feature."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-07-22T17:44:48Z", "updated_at": "2019-08-16T09:00:30Z", "closed_at": "2019-08-15T21:32:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Yesterday a cap on docutils was committed.  This cap prevents botocore from being updated in openstack due to openstack upper-constraints.txt including the new version of docutils.  I'd suggest fixing whatever issue caused the cap (didn't see one tracked in the issue list) and/or just removing it altogether (see https://github.com/boto/botocore/issues/900 and https://github.com/boto/botocore/pull/933 ).  It may also be possible to make it a doc only dependency.\r\n\r\nhttp://logs.openstack.org/61/671961/2/check/requirements-tox-py27-check-uc/a9b1b74/job-output.txt.gz#_2019-07-22_15_58_18_792567\r\n\r\n```\r\n2019-07-22 15:58:18.792954 | ubuntu-bionic | ContextualVersionConflict: (docutils 0.15 (/home/zuul/src/opendev.org/openstack/requirements/.tox/py27-check-uc/lib/python2.7/site-packages), Requirement.parse('docutils<0.15,>=0.10'), set(['botocore']))\r\n2019-07-22 15:58:18.793030 | ubuntu-bionic | Traceback (most recent call last):\r\n2019-07-22 15:58:18.793224 | ubuntu-bionic |   File \"/home/zuul/src/opendev.org/openstack/requirements/openstack_requirements/cmds/check_conflicts.py\", line 59, in main\r\n2019-07-22 15:58:18.793307 | ubuntu-bionic |     pkg_resources.require(name)\r\n2019-07-22 15:58:18.793551 | ubuntu-bionic |   File \"/home/zuul/src/opendev.org/openstack/requirements/.tox/py27-check-uc/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 900, in require\r\n2019-07-22 15:58:18.793663 | ubuntu-bionic |     needed = self.resolve(parse_requirements(requirements))\r\n2019-07-22 15:58:18.793905 | ubuntu-bionic |   File \"/home/zuul/src/opendev.org/openstack/requirements/.tox/py27-check-uc/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 791, in resolve\r\n2019-07-22 15:58:18.794040 | ubuntu-bionic |     raise VersionConflict(dist, req).with_context(dependent_req)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1787", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1787/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1787/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1787/events", "html_url": "https://github.com/boto/botocore/issues/1787", "id": 470674552, "node_id": "MDU6SXNzdWU0NzA2NzQ1NTI=", "number": 1787, "title": "Consider changing algorithm for generating cache key for assumable role STS creds", "user": {"login": "alex", "id": 772, "node_id": "MDQ6VXNlcjc3Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex", "html_url": "https://github.com/alex", "followers_url": "https://api.github.com/users/alex/followers", "following_url": "https://api.github.com/users/alex/following{/other_user}", "gists_url": "https://api.github.com/users/alex/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex/subscriptions", "organizations_url": "https://api.github.com/users/alex/orgs", "repos_url": "https://api.github.com/users/alex/repos", "events_url": "https://api.github.com/users/alex/events{/privacy}", "received_events_url": "https://api.github.com/users/alex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-20T13:26:07Z", "updated_at": "2019-07-23T23:05:44Z", "closed_at": "2019-07-23T23:05:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/boto/botocore/blob/develop/botocore/credentials.py#L672-L692\r\n\r\nThe cache key is `sha1()` of the JSON containing the RoleARN and MFA serial (and any other args).\r\n\r\nUnfortunately, this logic can be difficult to reproduce in other programming languages, specifically because Python's default `json.dumps()` places spaces after `:` and `,`. Example:\r\n\r\n```pycon\r\n>>> json.dumps({\"RoleARN\": \"abc\", \"MFASerial\": \"def\"}, sort_keys=True)\r\n'{\"MFASerial\": \"def\", \"RoleARN\": \"abc\"}'\r\n```\r\n\r\nIn Go for example, there's no real way to get these spaces -- making it difficult to share the cach between Python and Go tools.\r\n\r\nA solution to this would be to pass `separators=(',', ':')` to `json.dumps`, this would produce compat output that is compatible with other JSON libraries.\r\n\r\nIf this is acceptable I'm happy to send a PR. (Note that it would means boto would not sure caches across this version boundary.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1785", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1785/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1785/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1785/events", "html_url": "https://github.com/boto/botocore/issues/1785", "id": 470335716, "node_id": "MDU6SXNzdWU0NzAzMzU3MTY=", "number": 1785, "title": "check_dns_name wrong check for bucket_name", "user": {"login": "codezapper", "id": 11077762, "node_id": "MDQ6VXNlcjExMDc3NzYy", "avatar_url": "https://avatars0.githubusercontent.com/u/11077762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codezapper", "html_url": "https://github.com/codezapper", "followers_url": "https://api.github.com/users/codezapper/followers", "following_url": "https://api.github.com/users/codezapper/following{/other_user}", "gists_url": "https://api.github.com/users/codezapper/gists{/gist_id}", "starred_url": "https://api.github.com/users/codezapper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codezapper/subscriptions", "organizations_url": "https://api.github.com/users/codezapper/orgs", "repos_url": "https://api.github.com/users/codezapper/repos", "events_url": "https://api.github.com/users/codezapper/events{/privacy}", "received_events_url": "https://api.github.com/users/codezapper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177678, "node_id": "MDU6TGFiZWwxOTE3NzY3OA==", "url": "https://api.github.com/repos/boto/botocore/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": "This issue is a confirmed bug."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-19T13:49:20Z", "updated_at": "2019-07-25T01:19:28Z", "closed_at": "2019-07-25T01:19:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/boto/botocore/blob/f0f2050c4d584d506dca842f81e03c794241cca7/botocore/utils.py#L873\r\n\r\nThe function `check_dns_name` is returning `False` when the length of the bucket name is less than `3`. This means that the check for when the length is equal to `1` will never be performed.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1783", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1783/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1783/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1783/events", "html_url": "https://github.com/boto/botocore/issues/1783", "id": 468367584, "node_id": "MDU6SXNzdWU0NjgzNjc1ODQ=", "number": 1783, "title": "botocore.utils:parse_timestamp negative timestamp causes UnhandledException", "user": {"login": "faxx1080", "id": 5386539, "node_id": "MDQ6VXNlcjUzODY1Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5386539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faxx1080", "html_url": "https://github.com/faxx1080", "followers_url": "https://api.github.com/users/faxx1080/followers", "following_url": "https://api.github.com/users/faxx1080/following{/other_user}", "gists_url": "https://api.github.com/users/faxx1080/gists{/gist_id}", "starred_url": "https://api.github.com/users/faxx1080/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faxx1080/subscriptions", "organizations_url": "https://api.github.com/users/faxx1080/orgs", "repos_url": "https://api.github.com/users/faxx1080/repos", "events_url": "https://api.github.com/users/faxx1080/events{/privacy}", "received_events_url": "https://api.github.com/users/faxx1080/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 19177679, "node_id": "MDU6TGFiZWwxOTE3NzY3OQ==", "url": "https://api.github.com/repos/boto/botocore/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-15T22:45:25Z", "updated_at": "2019-10-09T20:02:03Z", "closed_at": "2019-10-09T20:01:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "In botocore.utils:parse_timestamp (~Line 544), if a negative value is passed, a OSError is thrown up the stack. When using general boto functions (example: get_command_invocation), this causes parsing of the entire response to fail.\r\n\r\nPotential workarounds: Returning a timestamp at the epoch in case of OSError, or returning None and updating upstream commands to not throw on None.\r\n\r\nUnfortunately, it is difficult for me to get a live example of the failure, but I may be able to extract a raw JSON response that when formatted via botocore causes the failure in a few days.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1781", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1781/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1781/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1781/events", "html_url": "https://github.com/boto/botocore/issues/1781", "id": 467923182, "node_id": "MDU6SXNzdWU0Njc5MjMxODI=", "number": 1781, "title": "NoneType error with get_dashboard_embed_url", "user": {"login": "svartkanin", "id": 19396770, "node_id": "MDQ6VXNlcjE5Mzk2Nzcw", "avatar_url": "https://avatars3.githubusercontent.com/u/19396770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/svartkanin", "html_url": "https://github.com/svartkanin", "followers_url": "https://api.github.com/users/svartkanin/followers", "following_url": "https://api.github.com/users/svartkanin/following{/other_user}", "gists_url": "https://api.github.com/users/svartkanin/gists{/gist_id}", "starred_url": "https://api.github.com/users/svartkanin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/svartkanin/subscriptions", "organizations_url": "https://api.github.com/users/svartkanin/orgs", "repos_url": "https://api.github.com/users/svartkanin/repos", "events_url": "https://api.github.com/users/svartkanin/events{/privacy}", "received_events_url": "https://api.github.com/users/svartkanin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-07-15T03:11:08Z", "updated_at": "2019-08-22T18:09:30Z", "closed_at": "2019-08-14T23:13:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling the `get_dashboard_embed_url` from the quicksight client results in a `NoneType` error\r\n\r\n```\r\npayload = client.get_dashboard_embed_url(\r\n       AwsAccountId=self._config['AWS_ACCOUNT_ID'],\r\n       DashboardId=dashboard_id,\r\n       IdentityType=\"IAM\",\r\n       SessionLifetimeInMinutes=100,\r\n       ResetDisabled=True,\r\n       UndoRedoDisabled=True)\r\n```\r\n\r\n```\r\n  File \"/lib/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/lib/python3.7/site-packages/botocore/client.py\", line 648, in _make_api_call\r\n    operation_model, request_dict, request_context)\r\n  File \"/lib/python3.7/site-packages/botocore/client.py\", line 667, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/lib/python3.7/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/lib/python3.7/site-packages/botocore/endpoint.py\", line 132, in _send_request\r\n    request = self.create_request(request_dict, operation_model)\r\n  File \"/lib/python3.7/site-packages/botocore/endpoint.py\", line 116, in create_request\r\n    operation_name=operation_model.name)\r\n  File \"/lib/python3.7/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/lib/python3.7/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/lib/python3.7/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/lib/python3.7/site-packages/botocore/signers.py\", line 90, in handler\r\n    return self.sign(operation_name, request)\r\n  File \"/lib/python3.7/site-packages/botocore/signers.py\", line 157, in sign\r\n    auth.add_auth(request)\r\n  File \"/lib/python3.7/site-packages/botocore/auth.py\", line 368, in add_auth\r\n    signature = self.signature(string_to_sign, request)\r\n  File \"/lib/python3.7/site-packages/botocore/auth.py\", line 348, in signature\r\n    k_date = self._sign(('AWS4' + key).encode('utf-8'),\r\nTypeError: can only concatenate str (not \"NoneType\") to str\r\n```\r\n\r\nI'm running the most recent `botocore` release\r\n\r\n```\r\nboto3==1.9.170\r\nbotocore==1.12.188\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1780", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1780/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1780/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1780/events", "html_url": "https://github.com/boto/botocore/issues/1780", "id": 467235772, "node_id": "MDU6SXNzdWU0NjcyMzU3NzI=", "number": 1780, "title": "botocore.exceptions.InfiniteLoopConfigError: Infinite loop in credential configuration detected. Attempting to load from profile default which has already been visited.", "user": {"login": "TMiguelT", "id": 5019367, "node_id": "MDQ6VXNlcjUwMTkzNjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5019367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TMiguelT", "html_url": "https://github.com/TMiguelT", "followers_url": "https://api.github.com/users/TMiguelT/followers", "following_url": "https://api.github.com/users/TMiguelT/following{/other_user}", "gists_url": "https://api.github.com/users/TMiguelT/gists{/gist_id}", "starred_url": "https://api.github.com/users/TMiguelT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TMiguelT/subscriptions", "organizations_url": "https://api.github.com/users/TMiguelT/orgs", "repos_url": "https://api.github.com/users/TMiguelT/repos", "events_url": "https://api.github.com/users/TMiguelT/events{/privacy}", "received_events_url": "https://api.github.com/users/TMiguelT/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "swetashre", "id": 47614995, "node_id": "MDQ6VXNlcjQ3NjE0OTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/47614995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swetashre", "html_url": "https://github.com/swetashre", "followers_url": "https://api.github.com/users/swetashre/followers", "following_url": "https://api.github.com/users/swetashre/following{/other_user}", "gists_url": "https://api.github.com/users/swetashre/gists{/gist_id}", "starred_url": "https://api.github.com/users/swetashre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swetashre/subscriptions", "organizations_url": "https://api.github.com/users/swetashre/orgs", "repos_url": "https://api.github.com/users/swetashre/repos", "events_url": "https://api.github.com/users/swetashre/events{/privacy}", "received_events_url": "https://api.github.com/users/swetashre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-07-12T05:58:47Z", "updated_at": "2019-08-27T19:08:55Z", "closed_at": "2019-08-27T19:08:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using a library ([toil](https://github.com/DataBiosphere/toil)), which happens to use the `botocore` credentials resolver. When I used toil, this failed with the error in the title, so I tried to narrow it down to the exact case where this happens, which I did using the REPL. Specifically, if you call `load_credentials()` twice on the same resolver, it seems to happen:\r\n\r\n```python\r\n>>> from botocore.credentials import create_credential_resolver\r\n>>> from botocore.session import Session\r\n>>> sess = Session(profile='cromwell')\r\n>>> res = create_credential_resolver(sess)\r\n>>> creds = res.load_credentials()\r\n>>> creds2 = res.load_credentials()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/michael/Programming/1000gMultiQc/venv/lib/python3.6/site-packages/botocore/credentials.py\", line 1693, in load_credentials\r\n    creds = provider.load()\r\n  File \"/home/michael/Programming/1000gMultiQc/venv/lib/python3.6/site-packages/botocore/credentials.py\", line 1233, in load\r\n    return self._load_creds_via_assume_role(self._profile_name)\r\n  File \"/home/michael/Programming/1000gMultiQc/venv/lib/python3.6/site-packages/botocore/credentials.py\", line 1239, in _load_creds_via_assume_role\r\n    role_config = self._get_role_config(profile_name)\r\n  File \"/home/michael/Programming/1000gMultiQc/venv/lib/python3.6/site-packages/botocore/credentials.py\", line 1328, in _get_role_config\r\n    self._validate_source_profile(profile_name, source_profile)\r\n  File \"/home/michael/Programming/1000gMultiQc/venv/lib/python3.6/site-packages/botocore/credentials.py\", line 1385, in _validate_source_profile\r\n    visited_profiles=self._visited_profiles\r\nbotocore.exceptions.InfiniteLoopConfigError: Infinite loop in credential configuration detected. Attempting to load from profile default which has already been visited. Visited profiles: ['cromwell', 'default']\r\n```\r\n\r\nFor what it's worth, my (censored) credentials file looks like this:\r\n\r\n```\r\n[default]\r\noutput = json\r\nregion = us-east-1\r\naws_access_key_id = XXXXXXXXXXXXXXXXXXXX\r\naws_secret_access_key = xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n\r\n[profile cromwell]\r\nregion=ap-southeast-2\r\nsource_profile=default\r\nrole_arn=arn:aws:iam::9999999999:role/Role\r\n```\r\n\r\nAnd my software versions are Python 3.6.8 and:\r\n```\r\nboto==2.48.0\r\nboto3==1.9.184\r\nbotocore==1.12.184\r\n```\r\n\r\nAny idea why this is happening? With the exact same credentials I can use the AWS CLI perfectly fine, so I'm not sure \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1776", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1776/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1776/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1776/events", "html_url": "https://github.com/boto/botocore/issues/1776", "id": 462821676, "node_id": "MDU6SXNzdWU0NjI4MjE2NzY=", "number": 1776, "title": "del self._deferred[name] is not try-excepted in ComponentLocator.get_component", "user": {"login": "wenduowang", "id": 12016392, "node_id": "MDQ6VXNlcjEyMDE2Mzky", "avatar_url": "https://avatars3.githubusercontent.com/u/12016392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wenduowang", "html_url": "https://github.com/wenduowang", "followers_url": "https://api.github.com/users/wenduowang/followers", "following_url": "https://api.github.com/users/wenduowang/following{/other_user}", "gists_url": "https://api.github.com/users/wenduowang/gists{/gist_id}", "starred_url": "https://api.github.com/users/wenduowang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wenduowang/subscriptions", "organizations_url": "https://api.github.com/users/wenduowang/orgs", "repos_url": "https://api.github.com/users/wenduowang/repos", "events_url": "https://api.github.com/users/wenduowang/events{/privacy}", "received_events_url": "https://api.github.com/users/wenduowang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 180842787, "node_id": "MDU6TGFiZWwxODA4NDI3ODc=", "url": "https://api.github.com/repos/boto/botocore/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-01T17:11:30Z", "updated_at": "2019-08-13T20:09:15Z", "closed_at": "2019-08-13T20:09:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nThis issue is related to [#801](https://github.com/boto/boto3/issues/801)\r\n`KeyError: 'endpoint_resolver'` does occur in multi-threads. However this particular error seems fixable from source.\r\nLooking at [Line 906](https://github.com/boto/botocore/blob/develop/botocore/session.py#L906) ```del self._deferred[name]``` is not enclosed in try-except, while [Line 915](https://github.com/boto/botocore/blob/develop/botocore/session.py#L915) and [Line 922](https://github.com/boto/botocore/blob/develop/botocore/session.py#L915) are both protected.\r\nIs there any reason for this design?\r\nComment on Line 903 says:\r\n>            # Only delete the component from the deferred dict after\r\n>            # successfully creating the object from the factory as well as\r\n>            # injecting the instantiated value into the _components dict.\r\nDoes it mean that the entire ```get_component ``` method should be try-excepted as well?\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1775", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1775/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1775/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1775/events", "html_url": "https://github.com/boto/botocore/issues/1775", "id": 461669305, "node_id": "MDU6SXNzdWU0NjE2NjkzMDU=", "number": 1775, "title": "security token invalid", "user": {"login": "waynehuang13", "id": 5083111, "node_id": "MDQ6VXNlcjUwODMxMTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5083111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waynehuang13", "html_url": "https://github.com/waynehuang13", "followers_url": "https://api.github.com/users/waynehuang13/followers", "following_url": "https://api.github.com/users/waynehuang13/following{/other_user}", "gists_url": "https://api.github.com/users/waynehuang13/gists{/gist_id}", "starred_url": "https://api.github.com/users/waynehuang13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waynehuang13/subscriptions", "organizations_url": "https://api.github.com/users/waynehuang13/orgs", "repos_url": "https://api.github.com/users/waynehuang13/repos", "events_url": "https://api.github.com/users/waynehuang13/events{/privacy}", "received_events_url": "https://api.github.com/users/waynehuang13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-27T17:57:42Z", "updated_at": "2019-07-10T00:57:58Z", "closed_at": "2019-07-10T00:57:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting the following error for AWS GovCloud:\r\nFile \"/usr/local/lib/python3.7/site-packages/botocore/client.py\", line 661, in _make_api_call\r\n10:52:06     raise error_class(parsed_response, operation_name)\r\n10:52:06 botocore.exceptions.ClientError: An error occurred (UnrecognizedClientException) when calling the DescribeTrustedAdvisorChecks operation: The security token included in the request is invalid.\r\n\r\nAnd I've given full permissions of support*, sts:* and trustedadvisor:*.\r\nAnyone know what am I missing?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1774", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1774/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1774/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1774/events", "html_url": "https://github.com/boto/botocore/issues/1774", "id": 461225725, "node_id": "MDU6SXNzdWU0NjEyMjU3MjU=", "number": 1774, "title": "[SES] Colon/: in From Address Name triggers \"Local address contains illegal character\"", "user": {"login": "ngandhy", "id": 76397, "node_id": "MDQ6VXNlcjc2Mzk3", "avatar_url": "https://avatars1.githubusercontent.com/u/76397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngandhy", "html_url": "https://github.com/ngandhy", "followers_url": "https://api.github.com/users/ngandhy/followers", "following_url": "https://api.github.com/users/ngandhy/following{/other_user}", "gists_url": "https://api.github.com/users/ngandhy/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngandhy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngandhy/subscriptions", "organizations_url": "https://api.github.com/users/ngandhy/orgs", "repos_url": "https://api.github.com/users/ngandhy/repos", "events_url": "https://api.github.com/users/ngandhy/events{/privacy}", "received_events_url": "https://api.github.com/users/ngandhy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1875871845, "node_id": "MDU6TGFiZWwxODc1ODcxODQ1", "url": "https://api.github.com/repos/boto/botocore/labels/service-api", "name": "service-api", "color": "E06A18", "default": false, "description": "This issue is caused by the service API, not the SDK implementation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-26T23:34:43Z", "updated_at": "2020-02-28T00:05:07Z", "closed_at": "2019-07-10T23:18:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you use a colon in the name of the sender (NOT email) you get a ClientError(u'An error occurred (InvalidParameterValue) when calling the SendRawEmail operation: Local address contains illegal character',) error.\r\n\r\nA colon in the name for the sender should work. \r\n\r\n`FROM = 'DEBUG: Bob <test@test.com>'`\r\n\r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1771", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1771/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1771/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1771/events", "html_url": "https://github.com/boto/botocore/issues/1771", "id": 459986728, "node_id": "MDU6SXNzdWU0NTk5ODY3Mjg=", "number": 1771, "title": "AWS SFTP Transfer Request failing with signature concat none type", "user": {"login": "andyflatt", "id": 8034630, "node_id": "MDQ6VXNlcjgwMzQ2MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/8034630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andyflatt", "html_url": "https://github.com/andyflatt", "followers_url": "https://api.github.com/users/andyflatt/followers", "following_url": "https://api.github.com/users/andyflatt/following{/other_user}", "gists_url": "https://api.github.com/users/andyflatt/gists{/gist_id}", "starred_url": "https://api.github.com/users/andyflatt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andyflatt/subscriptions", "organizations_url": "https://api.github.com/users/andyflatt/orgs", "repos_url": "https://api.github.com/users/andyflatt/repos", "events_url": "https://api.github.com/users/andyflatt/events{/privacy}", "received_events_url": "https://api.github.com/users/andyflatt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-24T16:31:14Z", "updated_at": "2019-06-24T16:45:21Z", "closed_at": "2019-06-24T16:45:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nI am trying to use the boto library to add a user to my AWS SFTP service.    I am getting a None type error from the internals when Boto is trying to build the request.  I feel like I had this working, I have tried resetting the venv and redownloading the packages.\r\n\r\nboto3==1.9.174\r\nbotocore==1.12.174\r\nawscli==1.16.184\r\n\r\n```\r\nwith open(public_keyfile, 'r') as file:\r\n                key = file.read().replace('\\n', '')\r\n                result = self._client.create_user(\r\n                    HomeDirectory=home_directory,\r\n                    Role=role,\r\n                    ServerId=server_id,\r\n                    SshPublicKeyBody=key,\r\n                    UserName=username\r\n                )\r\n```\r\n\r\n```\r\n.venv/lib/python3.7/site-packages/botocore/auth.py\", line 348, in signature\r\n    k_date = self._sign(('AWS4' + key).encode('utf-8'),\r\nTypeError: can only concatenate str (not \"NoneType\") to str\r\n```\r\n\r\n```\r\nDEBUG:botocore.endpoint:Making request for OperationModel(name=CreateUser) with params: {'url_path': '/', 'query_string': '', 'method': 'POST', 'headers': {'X-Amz-Target': 'TransferService.CreateUser', 'Content-Type': 'application/x-amz-json-1.1', 'User-Agent': 'Boto3/1.9.174 Python/3.7.3 Darwin/17.4.0 Botocore/1.12.174'}, 'body': b'{\"HomeDirectory\": \"/home/myuser\", \"Role\": \"<hidden>\", \"ServerId\": \"<hidden>\", \"SshPublicKeyBody\": \"<hidden>\", \"UserName\": \"myuser\"}', 'url': 'https://transfer.eu-west-1.amazonaws.com/', 'context': {'client_region': 'eu-west-1', 'client_config': <botocore.config.Config object at 0x112cc1e10>, 'has_streaming_input': False, 'auth_type': None}}\r\nDEBUG:botocore.hooks:Event request-created.transfer.CreateUser: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x112cc1dd8>>\r\nDEBUG:botocore.hooks:Event choose-signer.transfer.CreateUser: calling handler <function set_operation_specific_signer at 0x11173c488>\r\nDEBUG:botocore.auth:Calculating signature using v4 auth.\r\nDEBUG:botocore.auth:CanonicalRequest:\r\nPOST\r\n/\r\n\r\ncontent-type:application/x-amz-json-1.1\r\nhost:transfer.eu-west-1.amazonaws.com\r\nx-amz-date:20190624T162233Z\r\nx-amz-target:TransferService.CreateUser\r\n\r\ncontent-type;host;x-amz-date;x-amz-target\r\n<hidden>\r\nDEBUG:botocore.auth:StringToSign:\r\nAWS4-HMAC-SHA256\r\n20190624T162233Z\r\n20190624/eu-west-1/transfer/aws4_request\r\n<hidden>\r\n```\r\n\r\nHelp would be appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1768", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1768/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1768/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1768/events", "html_url": "https://github.com/boto/botocore/issues/1768", "id": 458853766, "node_id": "MDU6SXNzdWU0NTg4NTM3NjY=", "number": 1768, "title": "read_timeout greater than default hangs when lambda execution exceeds timeout", "user": {"login": "tsiq-brianvs", "id": 41308828, "node_id": "MDQ6VXNlcjQxMzA4ODI4", "avatar_url": "https://avatars0.githubusercontent.com/u/41308828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsiq-brianvs", "html_url": "https://github.com/tsiq-brianvs", "followers_url": "https://api.github.com/users/tsiq-brianvs/followers", "following_url": "https://api.github.com/users/tsiq-brianvs/following{/other_user}", "gists_url": "https://api.github.com/users/tsiq-brianvs/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsiq-brianvs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsiq-brianvs/subscriptions", "organizations_url": "https://api.github.com/users/tsiq-brianvs/orgs", "repos_url": "https://api.github.com/users/tsiq-brianvs/repos", "events_url": "https://api.github.com/users/tsiq-brianvs/events{/privacy}", "received_events_url": "https://api.github.com/users/tsiq-brianvs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-20T20:16:25Z", "updated_at": "2019-07-08T21:21:58Z", "closed_at": "2019-07-08T21:21:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nWhen using the `read_timeout` option from `botocore.config.Config` with a value greater than the default (60s) for a boto3 lambda client, if the lambda execution takes longer than the configured `read_timeout` on a call to `invoke`, then the `invoke` call ends up failing after much longer than the configured `read_timeout`.\r\n\r\n## Setup\r\n* python 3.6.6\r\n* MacOS Mojave\r\n* botocore 1.12.172\r\n* boto3 1.9.172\r\n\r\n## Example\r\n`test-lambda` code:\r\n```python\r\nimport time\r\n\r\ndef lambda_handler(event, context):\r\n    time.sleep(62)\r\n    return {\r\n        \"success\": \"true\"\r\n    }\r\n```\r\n\r\n`run.py`:\r\n```python\r\nimport json\r\nimport os\r\n\r\nimport boto3\r\nfrom botocore.config import Config\r\n\r\ndef run():\r\n    lambda_client = boto3.client('lambda', \r\n        config=Config(read_timeout=61),\r\n        aws_access_key_id=os.getenv(\"AWS_ACCESS_KEY_ID\"),\r\n        aws_secret_access_key=os.getenv(\"AWS_SECRET_ACCESS_KEY\"),\r\n        aws_session_token=os.getenv(\"AWS_SESSION_TOKEN\"))\r\n\r\n    rsp = lambda_client.invoke(\r\n        FunctionName=\"test-lambda\",\r\n        InvocationType='RequestResponse',\r\n        Payload=bytes(json.dumps({}), \"utf-8\"))\r\n\r\n    if 'FunctionError' in rsp:\r\n        error = rsp['Payload'].read()\r\n        raise RuntimeError(f'invocation failed: {error}')\r\n\r\n    print(json.loads(rsp['Payload'].read()))\r\n\r\nrun()\r\n```\r\n\r\nResult of running `time python run.py` (takes > 5 minutes):\r\n```\r\n$ time python run.py\r\nTraceback (most recent call last):\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 387, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 383, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 1331, in getresponse\r\n    response.begin()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/http/client.py\", line 258, in _read_status\r\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socket.py\", line 586, in readinto\r\n    return self._sock.recv_into(b)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 1009, in recv_into\r\n    return self.read(nbytes, buffer)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 871, in read\r\n    return self._sslobj.read(len, buffer)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/ssl.py\", line 631, in read\r\n    v = self._sslobj.read(len, buffer)\r\nsocket.timeout: The read operation timed out\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/httpsession.py\", line 262, in send\r\n    chunked=self._chunked(request.headers),\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 641, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/util/retry.py\", line 344, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/packages/six.py\", line 686, in reraise\r\n    raise value\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 603, in urlopen\r\n    chunked=chunked)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 389, in _make_request\r\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/urllib3/connectionpool.py\", line 307, in _raise_timeout\r\n    raise ReadTimeoutError(self, url, \"Read timed out. (read timeout=%s)\" % timeout_value)\r\nurllib3.exceptions.ReadTimeoutError: AWSHTTPSConnectionPool(host='lambda.us-east-1.amazonaws.com', port=443): Read timed out. (read timeout=61)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"run.py\", line 26, in <module>\r\n    run()\r\n  File \"run.py\", line 18, in run\r\n    Payload=bytes(json.dumps({}), \"utf-8\"))\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/client.py\", line 648, in _make_api_call\r\n    operation_model, request_dict, request_context)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/client.py\", line 667, in _make_request\r\n    return self._endpoint.make_request(operation_model, request_dict)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/endpoint.py\", line 102, in make_request\r\n    return self._send_request(request_dict, operation_model)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/endpoint.py\", line 137, in _send_request\r\n    success_response, exception):\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/endpoint.py\", line 231, in _needs_retry\r\n    caught_exception=caught_exception, request_dict=request_dict)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/hooks.py\", line 356, in emit\r\n    return self._emitter.emit(aliased_event_name, **kwargs)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/hooks.py\", line 228, in emit\r\n    return self._emit(event_name, kwargs)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/hooks.py\", line 211, in _emit\r\n    response = handler(**kwargs)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/retryhandler.py\", line 183, in __call__\r\n    if self._checker(attempts, response, caught_exception):\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/retryhandler.py\", line 251, in __call__\r\n    caught_exception)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/retryhandler.py\", line 277, in _should_retry\r\n    return self._checker(attempt_number, response, caught_exception)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/retryhandler.py\", line 317, in __call__\r\n    caught_exception)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/retryhandler.py\", line 223, in __call__\r\n    attempt_number, caught_exception)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/retryhandler.py\", line 359, in _check_caught_exception\r\n    raise caught_exception\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/endpoint.py\", line 200, in _do_get_response\r\n    http_response = self._send(request)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/endpoint.py\", line 244, in _send\r\n    return self.http_session.send(request)\r\n  File \"/Users/brianvanderschaaf/venv/scratch/lib/python3.6/site-packages/botocore/httpsession.py\", line 288, in send\r\n    raise ReadTimeoutError(endpoint_url=request.url, error=e)\r\nbotocore.exceptions.ReadTimeoutError: Read timeout on endpoint URL: \"https://lambda.us-east-1.amazonaws.com/2015-03-31/functions/echeung-hello/invocations\"\r\n\r\nreal\t5m15.665s\r\nuser\t0m0.708s\r\nsys\t0m0.125s\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1767", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1767/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1767/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1767/events", "html_url": "https://github.com/boto/botocore/issues/1767", "id": 458006510, "node_id": "MDU6SXNzdWU0NTgwMDY1MTA=", "number": 1767, "title": "Use absolute domain names for endpoints", "user": {"login": "jml", "id": 125674, "node_id": "MDQ6VXNlcjEyNTY3NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/125674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jml", "html_url": "https://github.com/jml", "followers_url": "https://api.github.com/users/jml/followers", "following_url": "https://api.github.com/users/jml/following{/other_user}", "gists_url": "https://api.github.com/users/jml/gists{/gist_id}", "starred_url": "https://api.github.com/users/jml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jml/subscriptions", "organizations_url": "https://api.github.com/users/jml/orgs", "repos_url": "https://api.github.com/users/jml/repos", "events_url": "https://api.github.com/users/jml/events{/privacy}", "received_events_url": "https://api.github.com/users/jml/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-19T13:13:40Z", "updated_at": "2019-10-03T08:01:07Z", "closed_at": "2019-10-03T08:01:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/boto/botocore/blob/develop/botocore/data/endpoints.json specifies relative domain names for endpoints. For example, `api.ecr.us-west-1.amazonaws.com`. \r\n\r\nOn many Kubernetes deployments, looking up a relative DNS name can lead to many sequential DNS requests, which affects end-user latency (https://pracucci.com/kubernetes-dns-resolution-ndots-options-and-why-it-may-affect-application-performances.html is a great summary). \r\n\r\nWe can work around this locally by configuring `ndots`, but if botocore used absolute DNS names, e.g. `api.ecr.us-west-1.amazonaws.com.` (note final `.`), this would not be an issue for us, at least for AWS requests. \r\n\r\nI was initially going to submit a PR for this, but noticed that endpoints.json is regularly updated by an automated tool which I couldn't find the source code for. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1759", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1759/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1759/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1759/events", "html_url": "https://github.com/boto/botocore/issues/1759", "id": 456177396, "node_id": "MDU6SXNzdWU0NTYxNzczOTY=", "number": 1759, "title": "SetActiveReceiptRuleSet - unable to disable email receiving", "user": {"login": "JoeAlamo", "id": 8210662, "node_id": "MDQ6VXNlcjgyMTA2NjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8210662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoeAlamo", "html_url": "https://github.com/JoeAlamo", "followers_url": "https://api.github.com/users/JoeAlamo/followers", "following_url": "https://api.github.com/users/JoeAlamo/following{/other_user}", "gists_url": "https://api.github.com/users/JoeAlamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoeAlamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoeAlamo/subscriptions", "organizations_url": "https://api.github.com/users/JoeAlamo/orgs", "repos_url": "https://api.github.com/users/JoeAlamo/repos", "events_url": "https://api.github.com/users/JoeAlamo/events{/privacy}", "received_events_url": "https://api.github.com/users/JoeAlamo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-14T10:31:00Z", "updated_at": "2019-06-14T12:23:02Z", "closed_at": "2019-06-14T12:23:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ses.html#SES.Client.set_active_receipt_rule_set\r\n\r\n```\r\nNote\r\n\r\nTo disable your email-receiving through Amazon SES completely, you can call this API with RuleSetName set to null.\r\n```\r\n\r\n```\r\nses.set_active_receipt_rule_set(RuleSetName='null')\r\n```\r\n```\r\nbotocore.errorfactory.RuleSetDoesNotExistException: An error occurred (RuleSetDoesNotExist) when calling the SetActiveReceiptRuleSet operation: Rule set does not exist: null\r\n```\r\n\r\n```\r\nses.set_active_receipt_rule_set(RuleSetName=None)\r\n```\r\n```\r\nbotocore.exceptions.ParamValidationError: Parameter validation failed:\r\nInvalid type for parameter RuleSetName, value: None, type: <class 'NoneType'>, valid types: <class 'str'>\r\n```\r\n\r\n```\r\nses.set_active_receipt_rule_set(RuleSetName='')\r\n```\r\n\r\n```\r\nbotocore.exceptions.ClientError: An error occurred (InvalidParameterValue) when calling the SetActiveReceiptRuleSet operation: ruleSetName must not be empty\r\n```\r\n\r\nThere doesn't appear to be a way in the models/shapes for this to be nullable for the set_active_receipt_rule_set API call\r\nhttps://github.com/boto/botocore/blob/develop/botocore/data/ses/2010-12-01/service-2.json#L3344", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1746", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1746/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1746/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1746/events", "html_url": "https://github.com/boto/botocore/issues/1746", "id": 450480460, "node_id": "MDU6SXNzdWU0NTA0ODA0NjA=", "number": 1746, "title": "mturk documentation api link change", "user": {"login": "deargle", "id": 1174653, "node_id": "MDQ6VXNlcjExNzQ2NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1174653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deargle", "html_url": "https://github.com/deargle", "followers_url": "https://api.github.com/users/deargle/followers", "following_url": "https://api.github.com/users/deargle/following{/other_user}", "gists_url": "https://api.github.com/users/deargle/gists{/gist_id}", "starred_url": "https://api.github.com/users/deargle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deargle/subscriptions", "organizations_url": "https://api.github.com/users/deargle/orgs", "repos_url": "https://api.github.com/users/deargle/repos", "events_url": "https://api.github.com/users/deargle/events{/privacy}", "received_events_url": "https://api.github.com/users/deargle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-30T20:00:17Z", "updated_at": "2019-07-03T23:48:51Z", "closed_at": "2019-07-03T23:31:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Links in the docs for mturk services to AWS API are broken. \r\n\r\nCurrent: `https://docs.aws.amazon.com/goto/WebAPI/mturk-requester-2017-01-17/DeleteQualificationType`\r\n\r\n\r\nShould become: `https://docs.aws.amazon.com/AWSMechTurk/latest/AWSMturkAPI/ApiReference_DeleteQualificationTypeOperation.html`\r\n\r\nThat is:\r\n* api version name replaced by `latest` \r\n* operation name prefixed with `ApiReference_` and suffixed with `Operation.html`\r\n\r\netc.\r\n\r\nI would submit a PR but I can't readily see where the api links are being sourced from.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1745", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1745/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1745/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1745/events", "html_url": "https://github.com/boto/botocore/issues/1745", "id": 450209855, "node_id": "MDU6SXNzdWU0NTAyMDk4NTU=", "number": 1745, "title": "Any plan to upgrade requests and urllib3 version?", "user": {"login": "jenny-he", "id": 51193705, "node_id": "MDQ6VXNlcjUxMTkzNzA1", "avatar_url": "https://avatars0.githubusercontent.com/u/51193705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jenny-he", "html_url": "https://github.com/jenny-he", "followers_url": "https://api.github.com/users/jenny-he/followers", "following_url": "https://api.github.com/users/jenny-he/following{/other_user}", "gists_url": "https://api.github.com/users/jenny-he/gists{/gist_id}", "starred_url": "https://api.github.com/users/jenny-he/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jenny-he/subscriptions", "organizations_url": "https://api.github.com/users/jenny-he/orgs", "repos_url": "https://api.github.com/users/jenny-he/repos", "events_url": "https://api.github.com/users/jenny-he/events{/privacy}", "received_events_url": "https://api.github.com/users/jenny-he/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-30T09:17:04Z", "updated_at": "2019-06-04T02:41:00Z", "closed_at": "2019-06-04T02:41:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "We recently got OAST critical alert with botocore due to the embedded urllib3 (CVE-2018-20060)\r\n and requests module(CVE-2018-18074), OAST suggested to upgrade the urllib3 > 1.24.3 and requests > 2.20. \r\nIs there any plan on the way to upgrade them? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1736", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1736/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1736/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1736/events", "html_url": "https://github.com/boto/botocore/issues/1736", "id": 447326587, "node_id": "MDU6SXNzdWU0NDczMjY1ODc=", "number": 1736, "title": "tag / release mismatch", "user": {"login": "kjschiroo", "id": 1337103, "node_id": "MDQ6VXNlcjEzMzcxMDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1337103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjschiroo", "html_url": "https://github.com/kjschiroo", "followers_url": "https://api.github.com/users/kjschiroo/followers", "following_url": "https://api.github.com/users/kjschiroo/following{/other_user}", "gists_url": "https://api.github.com/users/kjschiroo/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjschiroo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjschiroo/subscriptions", "organizations_url": "https://api.github.com/users/kjschiroo/orgs", "repos_url": "https://api.github.com/users/kjschiroo/repos", "events_url": "https://api.github.com/users/kjschiroo/events{/privacy}", "received_events_url": "https://api.github.com/users/kjschiroo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-22T20:24:23Z", "updated_at": "2019-05-24T21:06:02Z", "closed_at": "2019-05-24T21:06:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "There appears to be a mismatch between the tagged version of this repo on Github and the corresponding release on pypi.\r\n\r\nWhen installing into a clean `python3` docker image I get the following.\r\n```\r\nroot@92cd0a798183:/# pip3 install botocore\r\nCollecting botocore\r\n  Downloading https://files.pythonhosted.org/packages/be/72/d4a9a185f634798641ed73c921643a1428a2c7526d96e2e8dd93a6c7add2/botocore-1.12.154-py2.py3-none-any.whl (5.4MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5.4MB 379kB/s\r\nCollecting python-dateutil<3.0.0,>=2.1; python_version >= \"2.7\" (from botocore)\r\n  Downloading https://files.pythonhosted.org/packages/41/17/c62faccbfbd163c7f57f3844689e3a78bae1f403648a6afb1d0866d87fbb/python_dateutil-2.8.0-py2.py3-none-any.whl (226kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 235kB 5.2MB/s\r\nCollecting docutils>=0.10 (from botocore)\r\n  Downloading https://files.pythonhosted.org/packages/36/fa/08e9e6e0e3cbd1d362c3bbee8d01d0aedb2155c4ac112b19ef3cae8eed8d/docutils-0.14-py3-none-any.whl (543kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 552kB 3.2MB/s\r\nCollecting urllib3<1.25,>=1.20; python_version >= \"3.4\" (from botocore)\r\n  Downloading https://files.pythonhosted.org/packages/01/11/525b02e4acc0c747de8b6ccdab376331597c569c42ea66ab0a1dbd36eca2/urllib3-1.24.3-py2.py3-none-any.whl (118kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 122kB 8.1MB/s\r\nCollecting jmespath<1.0.0,>=0.7.1 (from botocore)\r\n  Downloading https://files.pythonhosted.org/packages/83/94/7179c3832a6d45b266ddb2aac329e101367fbdb11f425f13771d27f225bb/jmespath-0.9.4-py2.py3-none-any.whl\r\nCollecting six>=1.5 (from python-dateutil<3.0.0,>=2.1; python_version >= \"2.7\"->botocore)\r\n  Downloading https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nInstalling collected packages: six, python-dateutil, docutils, urllib3, jmespath, botocore\r\nSuccessfully installed botocore-1.12.154 docutils-0.14 jmespath-0.9.4 python-dateutil-2.8.0 six-1.12.0 urllib3-1.24.3\r\nYou are using pip version 9.0.1, however version 19.1.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n```\r\n\r\nNote this installs `urllib3<1.25` based on the line\r\n```\r\nCollecting urllib3<1.25,>=1.20; python_version >= \"3.4\" (from botocore)\r\n```\r\n\r\nHowever looking at `setup.py` for the [1.12.154 tag of this repo](https://github.com/boto/botocore/blob/1.12.154/setup.py#L50)\r\nit appears that `urllib3==1.25` should now be allowed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1734", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1734/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1734/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1734/events", "html_url": "https://github.com/boto/botocore/issues/1734", "id": 445575435, "node_id": "MDU6SXNzdWU0NDU1NzU0MzU=", "number": 1734, "title": "cx_freeze not saving .aws credentials for boto3", "user": {"login": "nitheb07", "id": 50463158, "node_id": "MDQ6VXNlcjUwNDYzMTU4", "avatar_url": "https://avatars1.githubusercontent.com/u/50463158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nitheb07", "html_url": "https://github.com/nitheb07", "followers_url": "https://api.github.com/users/nitheb07/followers", "following_url": "https://api.github.com/users/nitheb07/following{/other_user}", "gists_url": "https://api.github.com/users/nitheb07/gists{/gist_id}", "starred_url": "https://api.github.com/users/nitheb07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nitheb07/subscriptions", "organizations_url": "https://api.github.com/users/nitheb07/orgs", "repos_url": "https://api.github.com/users/nitheb07/repos", "events_url": "https://api.github.com/users/nitheb07/events{/privacy}", "received_events_url": "https://api.github.com/users/nitheb07/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-17T18:58:44Z", "updated_at": "2019-05-21T23:30:33Z", "closed_at": "2019-05-21T23:30:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am on a windows 10 machine with python 2.7 and boto3 latest version. Also, I am using cz_freeze 5.2.0 version to create a .exe from the python code.\r\n\r\n**Brief View of the project:**\r\nI am creating a deployable tool that downloads and uploads objects in the S3 bucket programmatically using boto3. The executable runs perfectly fine on my machine as the credentials are already present in the ~/.aws folder. However, when I copy the executable in another computer, it always throws an error saying that it cannot locate credentials.\r\n\r\nI tried fixing the problem in 3 ways.\r\n\r\nI included the .aws folder in the setup.py file before the freezing it. However, it read the credentials from the folder where the executable is present.\r\n\r\nI also tried adding the path for .aws folder as an environment variable but it also failed to locate credentials\r\n\r\nI changed the folder in the S3 bucket to grant full public access and tried running the program, but still, it looks for credentials.\r\n\r\nPlease help me. I am running out of solutions. I have pasted the full traceback error.\r\n\r\nThanks in advance.\r\n\r\nNitin.\r\n\r\n`runfile('E:/EEG_Evolution/New tests/Key process V1.0/decoding ekx.py', wdir='E:/EEG_Evolution/New tests/Key process V1.0')\r\nReloaded modules: dowload_ekb\r\n('the prefix for the dng_num is: ', '52525')\r\nTraceback (most recent call last):\r\n\r\nFile \"\", line 1, in \r\nrunfile('E:/EEG_Evolution/New tests/Key process V1.0/decoding ekx.py', wdir='E:/EEG_Evolution/New tests/Key process V1.0')\r\n\r\nFile \"C:\\Users\\nVIALP2\\Anaconda2\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 786, in runfile\r\nexecfile(filename, namespace)\r\n\r\nFile \"C:\\Users\\nVIALP2\\Anaconda2\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 95, in execfile\r\nexec(compile(scripttext, filename, 'exec'), glob, loc)\r\n\r\nFile \"E:/EEG_Evolution/New tests/Key process V1.0/decoding ekx.py\", line 49, in \r\nfile_name, local_file_location = db.new_ekb(dong, destination, check)\r\n\r\nFile \"dowload_ekb.py\", line 88, in new_ekb\r\nfor obj in bucket_objects:\r\n\r\nFile \"C:\\Users\\nVIALP2\\Anaconda2\\lib\\site-packages\\boto3\\resources\\collection.py\", line 83, in iter\r\nfor page in self.pages():\r\n\r\nFile \"C:\\Users\\nVIALP2\\Anaconda2\\lib\\site-packages\\boto3\\resources\\collection.py\", line 166, in pages\r\nfor page in pages:\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\paginate.py\", line 255, in iter\r\nresponse = self._make_request(current_kwargs)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\paginate.py\", line 332, in _make_request\r\nreturn self._method(**current_kwargs)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\client.py\", line 357, in _api_call\r\nreturn self._make_api_call(operation_name, kwargs)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\client.py\", line 648, in _make_api_call\r\noperation_model, request_dict, request_context)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\client.py\", line 667, in _make_request\r\nreturn self._endpoint.make_request(operation_model, request_dict)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\endpoint.py\", line 102, in make_request\r\nreturn self._send_request(request_dict, operation_model)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\endpoint.py\", line 132, in _send_request\r\nrequest = self.create_request(request_dict, operation_model)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\endpoint.py\", line 116, in create_request\r\noperation_name=operation_model.name)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\hooks.py\", line 356, in emit\r\nreturn self._emitter.emit(aliased_event_name, **kwargs)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\hooks.py\", line 228, in emit\r\nreturn self._emit(event_name, kwargs)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\hooks.py\", line 211, in _emit\r\nresponse = handler(**kwargs)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\signers.py\", line 90, in handler\r\nreturn self.sign(operation_name, request)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\signers.py\", line 157, in sign\r\nauth.add_auth(request)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\auth.py\", line 425, in add_auth\r\nsuper(S3SigV4Auth, self).add_auth(request)\r\n\r\nFile \"C:\\Users\\nVIALP2\\AppData\\Roaming\\Python\\Python27\\site-packages\\botocore\\auth.py\", line 357, in add_auth\r\nraise NoCredentialsError\r\n\r\nNoCredentialsError: Unable to locate credentials`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1733", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1733/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1733/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1733/events", "html_url": "https://github.com/boto/botocore/issues/1733", "id": 445110328, "node_id": "MDU6SXNzdWU0NDUxMTAzMjg=", "number": 1733, "title": "allow the use of urllib3 1.25.x", "user": {"login": "prometheanfire", "id": 1869923, "node_id": "MDQ6VXNlcjE4Njk5MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1869923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prometheanfire", "html_url": "https://github.com/prometheanfire", "followers_url": "https://api.github.com/users/prometheanfire/followers", "following_url": "https://api.github.com/users/prometheanfire/following{/other_user}", "gists_url": "https://api.github.com/users/prometheanfire/gists{/gist_id}", "starred_url": "https://api.github.com/users/prometheanfire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prometheanfire/subscriptions", "organizations_url": "https://api.github.com/users/prometheanfire/orgs", "repos_url": "https://api.github.com/users/prometheanfire/repos", "events_url": "https://api.github.com/users/prometheanfire/events{/privacy}", "received_events_url": "https://api.github.com/users/prometheanfire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-16T18:58:10Z", "updated_at": "2019-05-21T23:43:14Z", "closed_at": "2019-05-21T23:43:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "please either uncap (preferred) or relax the cap on urllib3 in `setup.py` for urllib3.  botocore is currently the only library holding back the usage of urllib3-1.25 (requests just relaxed their cap).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1730", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1730/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1730/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1730/events", "html_url": "https://github.com/boto/botocore/issues/1730", "id": 444031114, "node_id": "MDU6SXNzdWU0NDQwMzExMTQ=", "number": 1730, "title": "presigned urls in botocore don't include s3transfer methods", "user": {"login": "noahrowland", "id": 8797082, "node_id": "MDQ6VXNlcjg3OTcwODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8797082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noahrowland", "html_url": "https://github.com/noahrowland", "followers_url": "https://api.github.com/users/noahrowland/followers", "following_url": "https://api.github.com/users/noahrowland/following{/other_user}", "gists_url": "https://api.github.com/users/noahrowland/gists{/gist_id}", "starred_url": "https://api.github.com/users/noahrowland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noahrowland/subscriptions", "organizations_url": "https://api.github.com/users/noahrowland/orgs", "repos_url": "https://api.github.com/users/noahrowland/repos", "events_url": "https://api.github.com/users/noahrowland/events{/privacy}", "received_events_url": "https://api.github.com/users/noahrowland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-14T17:14:47Z", "updated_at": "2019-10-09T21:10:44Z", "closed_at": "2019-10-09T21:10:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "we should be able to generate presigned urls for the upload_file and upload_fileobj methods. Right now this returns:\r\nUnknownClientMethodError: Client does not have method: upload_fileobj\r\n\r\nAdding the appropriate data to the service map (and updating handlers appropriately):\r\n```    \"UploadFileobj\":{\r\n      \"name\":\"UploadFileobj\",\r\n      \"http\":{\r\n        \"method\":\"PUT\",\r\n        \"requestUri\":\"/{Bucket}/{Key+}\",\r\n        \"responseCode\":204\r\n      },\r\n      \"input\":{\"shape\":\"UploadFileobjRequest\"},\r\n      \"output\":{},\r\n      \"errors\":[\r\n        {\"shape\":\"NoSuchUpload\"}\r\n      ],\r\n      \"documentationUrl\":\"\",\r\n      \"documentation\":\"<p>Initializes a file transfer to s3.</p>\"\r\n    },\r\n\"shapes\":{\r\n    \"MultiPartThreshold\":{\"type\":\"integer\"},\r\n    \"MaxConcurrency\":{\"type\":\"integer\"},\r\n    \"NumDownloadAttempts\":{\"type\":\"integer\"},\r\n    \"MaxIoQueue\":{\"type\":\"integer\"},\r\n    \"IoChunksize\":{\"type\":\"integer\"},\r\n    \"UseThreads\":{\"type\":\"boolean\"},\r\n    \"MultipartChunksize\":{\"type\":\"integer\"},\r\n    \"Config\":{\r\n      \"type\":\"structure\",\r\n      \"members\":{\r\n        \"MultiPartThreshold\":{\r\n          \"shape\":\"MultiPartThreshold\",\r\n          \"documentation\":\"<p></p>\"\r\n        },\r\n        \"MaxConcurrency\":{\r\n          \"shape\":\"MaxConcurrency\",\r\n          \"documentation\":\"<p></p>\"\r\n        },\r\n        \"MultipartChunksize\":{\r\n          \"shape\":\"MultipartChunksize\",\r\n          \"documentation\":\"<p></p>\"\r\n        },\r\n        \"NumDownloadAttempts\":{\r\n          \"shape\":\"NumDownloadAttempts\",\r\n          \"documentation\":\"<p></p>\"\r\n        },\r\n        \"MaxIoQueue\":{\r\n          \"shape\":\"MaxIoQueue\",\r\n          \"documentation\":\"<p></p>\"\r\n        },\r\n        \"IoChunksize\":{\r\n          \"shape\":\"IoChunksize\",\r\n          \"documentation\":\"<p></p>\"\r\n        },\r\n        \"UseThreads\":{\r\n          \"shape\":\"UseThreads\",\r\n          \"documentation\":\"<p></p>\"\r\n        }\r\n      },\r\n      \"documentation\":\"<p/>\"\r\n    },\r\n    \"UploadFileobjRequest\":{\r\n      \"type\":\"structure\",\r\n      \"required\":[\r\n        \"Fileobj\",\r\n        \"Bucket\",\r\n        \"Key\",\r\n        \"Config\"\r\n      ],\r\n      \"members\":{\r\n        \"Fileobj\":{\r\n          \"shape\":\"Body\",\r\n          \"documentation\":\"<p>Object data.</p>\",\r\n          \"streaming\":true\r\n        },\r\n        \"Bucket\":{\r\n          \"shape\":\"BucketName\",\r\n          \"documentation\":\"<p>Name of the bucket to which the multipart upload was initiated.</p>\",\r\n          \"location\":\"uri\",\r\n          \"locationName\":\"Bucket\"\r\n        },\r\n        \"Key\":{\r\n          \"shape\":\"ObjectKey\",\r\n          \"documentation\":\"<p>Object key for which the multipart upload was initiated.</p>\",\r\n          \"location\":\"uri\",\r\n          \"locationName\":\"Key\"\r\n        },\r\n        \"Config\":{\r\n          \"shape\":\"Config\",\r\n          \"documentation\":\"<p>Part number of part being uploaded. This is a positive integer between 1 and 10,000.</p>\",\r\n          \"location\":\"querystring\",\r\n          \"locationName\":\"partNumber\"\r\n        }\r\n        },\r\n      \"payload\":\"Fileobj\"\r\n    },\r\n```\r\n\r\nstill does not work, since these methods are injected in boto3/s3/inject.py:\r\n```def inject_s3_transfer_methods(class_attributes, **kwargs):\r\n    utils.inject_attribute(class_attributes, 'upload_file', upload_file)\r\n    utils.inject_attribute(class_attributes, 'download_file', download_file)\r\n    utils.inject_attribute(class_attributes, 'copy', copy)\r\n    utils.inject_attribute(class_attributes, 'upload_fileobj', upload_fileobj)\r\n    utils.inject_attribute(\r\n        class_attributes, 'download_fileobj', download_fileobj)\r\n```\r\n\r\nRemoving the injection for upload_fileobj with the updated service map allows the client to instance properly with the new method, but presigning the method returns, \r\n```ParamValidationError: Parameter validation failed:\r\nInvalid type for parameter Config, value: <boto3.s3.transfer.TransferConfig object at 0x10533b240>, type: <class 'boto3.s3.transfer.TransferConfig'>, valid types: <class 'dict'>\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1729", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1729/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1729/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1729/events", "html_url": "https://github.com/boto/botocore/issues/1729", "id": 443434182, "node_id": "MDU6SXNzdWU0NDM0MzQxODI=", "number": 1729, "title": "dynamodb.ServiceResource object has no attribute describe_table", "user": {"login": "Alonreznik", "id": 8024926, "node_id": "MDQ6VXNlcjgwMjQ5MjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8024926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alonreznik", "html_url": "https://github.com/Alonreznik", "followers_url": "https://api.github.com/users/Alonreznik/followers", "following_url": "https://api.github.com/users/Alonreznik/following{/other_user}", "gists_url": "https://api.github.com/users/Alonreznik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alonreznik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alonreznik/subscriptions", "organizations_url": "https://api.github.com/users/Alonreznik/orgs", "repos_url": "https://api.github.com/users/Alonreznik/repos", "events_url": "https://api.github.com/users/Alonreznik/events{/privacy}", "received_events_url": "https://api.github.com/users/Alonreznik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-13T14:34:24Z", "updated_at": "2019-05-13T14:39:21Z", "closed_at": "2019-05-13T14:39:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi There.\r\nI'm trying to run a `describe_table` function from dynamodb client, and it raised an error:\r\n\r\n`'dynamodb.ServiceResource' object has no attribute 'describe_table'`\r\n\r\nMy code:\r\n\r\n```\r\nimport boto3\r\n\r\ndynamodb = boto3.client('dynamodb')\r\n\r\ndynamodb.describe_table(TableName='myTable')\r\n```\r\n\r\nPlease advice\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1728", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1728/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1728/events", "html_url": "https://github.com/boto/botocore/issues/1728", "id": 443331679, "node_id": "MDU6SXNzdWU0NDMzMzE2Nzk=", "number": 1728, "title": "Broken links in STS' documentation", "user": {"login": "michael-k", "id": 152008, "node_id": "MDQ6VXNlcjE1MjAwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/152008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michael-k", "html_url": "https://github.com/michael-k", "followers_url": "https://api.github.com/users/michael-k/followers", "following_url": "https://api.github.com/users/michael-k/following{/other_user}", "gists_url": "https://api.github.com/users/michael-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/michael-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michael-k/subscriptions", "organizations_url": "https://api.github.com/users/michael-k/orgs", "repos_url": "https://api.github.com/users/michael-k/repos", "events_url": "https://api.github.com/users/michael-k/events{/privacy}", "received_events_url": "https://api.github.com/users/michael-k/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}, {"id": 225835328, "node_id": "MDU6TGFiZWwyMjU4MzUzMjg=", "url": "https://api.github.com/repos/boto/botocore/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-13T10:50:45Z", "updated_at": "2020-08-13T07:31:51Z", "closed_at": "2020-08-13T07:31:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/boto/botocore/blob/e1a1652d5e432dbbcf482216fe16bcd202f845cf/botocore/data/sts/2011-06-15/service-2.json (rendered: https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/sts.html) contains 12 instances of the following broken link:\r\n\r\n- broken link: https://docs.aws.amazon.com/IAM/latest/UserGuide/IAM/latest/UserGuide/access_policies.html#policies_session\r\n- should be: https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session\r\n\r\nThe duplication of `/IAM/latest/UserGuide` does not appear anywhere else in the code.\r\n\r\nThe broken link is not specific to botocore, it also appears elsewhere, eg. in sentence \u201cFor more information, see Session Policies in the IAM User Guide\u201d at\r\n- https://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html\r\n- https://docs.aws.amazon.com/sdkforruby/api/Aws/STS/Client.html#assume_role-instance_method\r\n- https://sdk.amazonaws.com/cpp/api/LATEST/class_aws_1_1_s_t_s_1_1_s_t_s_client.html\r\n\r\nI'd love to open an issue/pull request at the source of this error, but I have no idea where this would be and if it's even open to the public or AWS internal.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1726", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1726/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1726/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1726/events", "html_url": "https://github.com/boto/botocore/issues/1726", "id": 442002253, "node_id": "MDU6SXNzdWU0NDIwMDIyNTM=", "number": 1726, "title": "TransactWriteItems works or not?", "user": {"login": "cyberfox1", "id": 39321046, "node_id": "MDQ6VXNlcjM5MzIxMDQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/39321046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyberfox1", "html_url": "https://github.com/cyberfox1", "followers_url": "https://api.github.com/users/cyberfox1/followers", "following_url": "https://api.github.com/users/cyberfox1/following{/other_user}", "gists_url": "https://api.github.com/users/cyberfox1/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyberfox1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyberfox1/subscriptions", "organizations_url": "https://api.github.com/users/cyberfox1/orgs", "repos_url": "https://api.github.com/users/cyberfox1/repos", "events_url": "https://api.github.com/users/cyberfox1/events{/privacy}", "received_events_url": "https://api.github.com/users/cyberfox1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-05-09T00:49:42Z", "updated_at": "2019-07-10T23:27:33Z", "closed_at": "2019-07-10T23:27:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "AttributeError: 'dynamodb.ServiceResource' object has no attribute 'transact_write_items'\r\n\r\nboto3 version is: 1.9.145 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/boto/botocore/issues/1725", "repository_url": "https://api.github.com/repos/boto/botocore", "labels_url": "https://api.github.com/repos/boto/botocore/issues/1725/labels{/name}", "comments_url": "https://api.github.com/repos/boto/botocore/issues/1725/comments", "events_url": "https://api.github.com/repos/boto/botocore/issues/1725/events", "html_url": "https://github.com/boto/botocore/issues/1725", "id": 440846504, "node_id": "MDU6SXNzdWU0NDA4NDY1MDQ=", "number": 1725, "title": "AWS_DEFAULT_PROFILE masks AWS_PROFILE", "user": {"login": "samanthaq", "id": 50117774, "node_id": "MDQ6VXNlcjUwMTE3Nzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/50117774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samanthaq", "html_url": "https://github.com/samanthaq", "followers_url": "https://api.github.com/users/samanthaq/followers", "following_url": "https://api.github.com/users/samanthaq/following{/other_user}", "gists_url": "https://api.github.com/users/samanthaq/gists{/gist_id}", "starred_url": "https://api.github.com/users/samanthaq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samanthaq/subscriptions", "organizations_url": "https://api.github.com/users/samanthaq/orgs", "repos_url": "https://api.github.com/users/samanthaq/repos", "events_url": "https://api.github.com/users/samanthaq/events{/privacy}", "received_events_url": "https://api.github.com/users/samanthaq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 217064623, "node_id": "MDU6TGFiZWwyMTcwNjQ2MjM=", "url": "https://api.github.com/repos/boto/botocore/labels/closing-soon", "name": "closing-soon", "color": "000000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-06T19:19:13Z", "updated_at": "2019-05-14T21:42:28Z", "closed_at": "2019-05-14T21:42:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "If one has both `AWS_DEFAULT_PROFILE` and `AWS_PROFILE` environment variables set in their environment, botocore will prefer the default profile. I believe the intended behaviour is to use `AWS_PROFILE` when set (similar to preferring a `profile` set in the config over the environment variables).\r\n\r\nThis can be confirmed by running the introduced `functional/test_session.py:test_default_profile_precedence` test from the [associated PR](https://github.com/boto/botocore/pull/1724), or by setting both environment variables to valid aws profiles and calling, e.g., `aws sts get-caller-identity`.", "performed_via_github_app": null, "score": 1.0}]}