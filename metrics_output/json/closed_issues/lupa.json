{"total_count": 62, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/scoder/lupa/issues/142", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/142/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/142/events", "html_url": "https://github.com/scoder/lupa/issues/142", "id": 648319567, "node_id": "MDU6SXNzdWU2NDgzMTk1Njc=", "number": 142, "title": "lua 5.4 support?", "user": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638029, "node_id": "MDU6TGFiZWwxNzYzODAyOQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/help%20wanted", "name": "help wanted", "color": "02d7e1", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-30T16:31:57Z", "updated_at": "2020-08-22T12:28:54Z", "closed_at": "2020-08-22T12:28:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just released: https://www.lua.org/versions.html#5.4", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/140", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/140/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/140/events", "html_url": "https://github.com/scoder/lupa/issues/140", "id": 620895265, "node_id": "MDU6SXNzdWU2MjA4OTUyNjU=", "number": 140, "title": "ModuleNotFoundError", "user": {"login": "whitewindoff897", "id": 65601066, "node_id": "MDQ6VXNlcjY1NjAxMDY2", "avatar_url": "https://avatars2.githubusercontent.com/u/65601066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whitewindoff897", "html_url": "https://github.com/whitewindoff897", "followers_url": "https://api.github.com/users/whitewindoff897/followers", "following_url": "https://api.github.com/users/whitewindoff897/following{/other_user}", "gists_url": "https://api.github.com/users/whitewindoff897/gists{/gist_id}", "starred_url": "https://api.github.com/users/whitewindoff897/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whitewindoff897/subscriptions", "organizations_url": "https://api.github.com/users/whitewindoff897/orgs", "repos_url": "https://api.github.com/users/whitewindoff897/repos", "events_url": "https://api.github.com/users/whitewindoff897/events{/privacy}", "received_events_url": "https://api.github.com/users/whitewindoff897/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1420899833, "node_id": "MDU6TGFiZWwxNDIwODk5ODMz", "url": "https://api.github.com/repos/scoder/lupa/labels/support%20question", "name": "support question", "color": "F9E6F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-19T11:21:16Z", "updated_at": "2020-05-19T13:40:42Z", "closed_at": "2020-05-19T13:40:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "![photo_2020-05-19_13-43-44](https://user-images.githubusercontent.com/65601066/82320361-caf28380-99db-11ea-8aa7-c6e11eecd1b9.jpg)\r\n\r\nHELP. I install module for pip install, is dont help", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/139", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/139/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/139/events", "html_url": "https://github.com/scoder/lupa/issues/139", "id": 619503081, "node_id": "MDU6SXNzdWU2MTk1MDMwODE=", "number": 139, "title": "Question: Why does Lupa not compile valid Lua?", "user": {"login": "DenLilleMand", "id": 8144937, "node_id": "MDQ6VXNlcjgxNDQ5Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8144937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DenLilleMand", "html_url": "https://github.com/DenLilleMand", "followers_url": "https://api.github.com/users/DenLilleMand/followers", "following_url": "https://api.github.com/users/DenLilleMand/following{/other_user}", "gists_url": "https://api.github.com/users/DenLilleMand/gists{/gist_id}", "starred_url": "https://api.github.com/users/DenLilleMand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DenLilleMand/subscriptions", "organizations_url": "https://api.github.com/users/DenLilleMand/orgs", "repos_url": "https://api.github.com/users/DenLilleMand/repos", "events_url": "https://api.github.com/users/DenLilleMand/events{/privacy}", "received_events_url": "https://api.github.com/users/DenLilleMand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-16T15:53:00Z", "updated_at": "2020-05-16T20:09:33Z", "closed_at": "2020-05-16T20:09:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI have a ton of Lua snippets in a database, which is rather impractical to modify programmatically. A lot of them have a form like:\r\n```\r\n--define variables\r\nharmonics = 'harmonics'\r\nc_p = 'L2'\r\n--choose the harmonics\r\nif c_p == 'L2' then;\r\n    value = harmonics \r\nelse;\r\n    value = 0.0\r\nend\r\nprint(value)\r\n```\r\n\r\nI am trying to compile it with Lupa using this code:\r\n```\r\n    lua = lupa.LuaRuntime()\r\n    try:\r\n        lua.compile(value)\r\n    except lupa.LuaSyntaxError as err:\r\n        raise ValidationError(f\"Invalid Lua syntax: {err}\")\r\n```\r\nAnd it seems like Lupa does not like the semi-colons after `then` and `else`, i understand that putting those semi-colons is slightly retarded, and i will consider just programmatically removing them before checking with Lupa. But When i run that very same code with Lua 5.2 it works just fine. So Lupa only supports some non-retarded subset or am i missing something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/136", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/136/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/136/events", "html_url": "https://github.com/scoder/lupa/issues/136", "id": 572522183, "node_id": "MDU6SXNzdWU1NzI1MjIxODM=", "number": 136, "title": "Cross compile lxml for powerpc", "user": {"login": "shubham101096", "id": 42842288, "node_id": "MDQ6VXNlcjQyODQyMjg4", "avatar_url": "https://avatars2.githubusercontent.com/u/42842288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shubham101096", "html_url": "https://github.com/shubham101096", "followers_url": "https://api.github.com/users/shubham101096/followers", "following_url": "https://api.github.com/users/shubham101096/following{/other_user}", "gists_url": "https://api.github.com/users/shubham101096/gists{/gist_id}", "starred_url": "https://api.github.com/users/shubham101096/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shubham101096/subscriptions", "organizations_url": "https://api.github.com/users/shubham101096/orgs", "repos_url": "https://api.github.com/users/shubham101096/repos", "events_url": "https://api.github.com/users/shubham101096/events{/privacy}", "received_events_url": "https://api.github.com/users/shubham101096/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-28T05:04:12Z", "updated_at": "2020-02-28T07:11:29Z", "closed_at": "2020-02-28T07:11:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I am sorry for posting this issue here. But please help me to resolve this issue. I am trying to cross compile lxml package for my board which has following coniguration:**\r\n\r\nPPC_e5500_CC_BASE_DIR := /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux\r\nTARGET_CPU_BIT = 32BIT\r\nTARGET_ARCH = powerpc\r\nCOMPILER_TYPE = gcc\r\nCROSS_COMPILE_PATH = ${PPC_e5500_CC_BASE_DIR}/usr/bin/powerpc-fsl-linux:${PPC_e5500_CC_BASE_DIR}/usr/bin\r\nCROSS_COMPILE = powerpc-fsl-linux-\r\nHOST = powerpc-fsl-linux\r\nCC_SYSROOT = ${PPC_e5500_CC_BASE_DIR}/../ppce5500-fsl-linux\r\nCOMMON_CFLAGS += -m32 -mhard-float -mcpu=e5500\r\nCOMMON_CFLAGS += --sysroot=${CC_SYSROOT}\r\n\r\n**My pc has ubuntu 16.04 64bit OS. I am using the crossenv package for this purpose (https://pypi.org/project/crossenv/). But I am getting the following error when installing lxml.**\r\n\r\n(cross) p@OptiPlex-5050:~/Desktop$ pip install lxml\r\nCollecting lxml\r\n  Using cached https://files.pythonhosted.org/packages/39/2b/0a66d5436f237aff76b91e68b4d8c041d145ad0a2cdeefe2c42f76ba2857/lxml-4.5.0.tar.gz\r\nInstalling collected packages: lxml\r\n  Running setup.py install for lxml ... error\r\n    Complete output from command /home/prateek/Desktop/v/cross/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-nr9hop30/lxml/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-qq5739wi-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/prateek/Desktop/v/cross/include/site/python3.6/lxml:\r\n    *******************************************************\r\n    * Crossenv has leaked into another Python interpreter!\r\n    * You should probably file a bug report.\r\n    * Version 3.6.9 (default, Nov  7 2019, 10:44:02)\r\n    [GCC 8.3.0]\r\n    * Executable /home/prateek/Desktop/v/cross/bin/python3\r\n    *******************************************************\r\n    Building lxml version 4.5.0.\r\n    Building without Cython.\r\n    Using build configuration of libxslt 1.1.29\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.l--x-3.6\r\n    creating build/lib.l--x-3.6/lxml\r\n    copying src/lxml/sax.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/pyclasslookup.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/doctestcompare.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/_elementpath.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/__init__.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/usedoctest.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/cssselect.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/builder.py -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/ElementInclude.py -> build/lib.l--x-3.6/lxml\r\n    creating build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/__init__.py -> build/lib.l--x-3.6/lxml/includes\r\n    creating build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/defs.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/formfill.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/_html5builder.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/__init__.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/_diffcommand.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/clean.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/html5parser.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/soupparser.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/diff.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/usedoctest.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/builder.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/_setmixin.py -> build/lib.l--x-3.6/lxml/html\r\n    copying src/lxml/html/ElementSoup.py -> build/lib.l--x-3.6/lxml/html\r\n    creating build/lib.l--x-3.6/lxml/isoschematron\r\n    copying src/lxml/isoschematron/__init__.py -> build/lib.l--x-3.6/lxml/isoschematron\r\n    copying src/lxml/etree.h -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/etree_api.h -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/lxml.etree.h -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/lxml.etree_api.h -> build/lib.l--x-3.6/lxml\r\n    copying src/lxml/includes/dtdvalid.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/xinclude.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/__init__.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/htmlparser.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/xmlerror.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/xmlschema.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/xslt.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/xmlparser.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/etreepublic.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/c14n.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/uri.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/schematron.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/tree.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/config.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/xpath.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/relaxng.pxd -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/lxml-version.h -> build/lib.l--x-3.6/lxml/includes\r\n    copying src/lxml/includes/etree_defs.h -> build/lib.l--x-3.6/lxml/includes\r\n    creating build/lib.l--x-3.6/lxml/isoschematron/resources\r\n    creating build/lib.l--x-3.6/lxml/isoschematron/resources/rng\r\n    copying src/lxml/isoschematron/resources/rng/iso-schematron.rng -> build/lib.l--x-3.6/lxml/isoschematron/resources/rng\r\n    creating build/lib.l--x-3.6/lxml/isoschematron/resources/xsl\r\n    copying src/lxml/isoschematron/resources/xsl/XSD2Schtrn.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl\r\n    copying src/lxml/isoschematron/resources/xsl/RNG2Schtrn.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl\r\n    creating build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_schematron_skeleton_for_xslt1.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_svrl_for_xslt1.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_dsdl_include.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_schematron_message.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_abstract_expand.xsl -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/readme.txt -> build/lib.l--x-3.6/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    running build_ext\r\n    building 'lxml.etree' extension\r\n    creating build/temp.l--x-3.6\r\n    creating build/temp.l--x-3.6/src\r\n    creating build/temp.l--x-3.6/src/lxml\r\n    powerpc-fsl-linux-gcc -m32 -mhard-float -mcpu=e5500 --sysroot=/opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux -g -DBOARD_epih -DPPC_e5500 -DCPLD_8BIT -DCPLD_LOCALBUS -Wno-unused-result -Wsign-compare -DNDEBUG -g -O3 -Wall -fPIC -DCYTHON_CLINE_IN_TRACEBACK=0 -I/usr/include/libxml2 -Isrc -Isrc/lxml/includes -I/home/prateek/Desktop/v/cross/include -I/home/prateek/workspace/GPON/targets/epih/fs/usr/local/include/python3.6m -c src/lxml/etree.c -o build/temp.l--x-3.6/src/lxml/etree.o -w\r\n    In file included from src/lxml/etree.c:692:0:\r\n    src/lxml/includes/etree_defs.h:23:32: fatal error: libxslt/xsltconfig.h: No such file or directory\r\n     #include \"libxslt/xsltconfig.h\"\r\n                                    ^\r\n    compilation terminated.\r\n    Compile failed: command 'powerpc-fsl-linux-gcc' failed with exit status 1\r\n    creating tmp\r\n    cc -I/usr/include/libxml2 -I/usr/include/libxml2 -c /tmp/xmlXPathInitwnv0m7j2.c -o tmp/xmlXPathInitwnv0m7j2.o\r\n    In file included from /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/include/endian.h:36:0,\r\n                     from /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/include/bits/waitstatus.h:64,\r\n                     from /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/include/stdlib.h:42,\r\n                     from /usr/include/libxml2/libxml/SAX.h:16,\r\n                     from /usr/include/libxml2/libxml/globals.h:20,\r\n                     from /usr/include/libxml2/libxml/xmlIO.h:117,\r\n                     from /usr/include/libxml2/libxml/parser.h:811,\r\n                     from /usr/include/libxml2/libxml/xmlerror.h:10,\r\n                     from /usr/include/libxml2/libxml/xpath.h:26,\r\n                     from /tmp/xmlXPathInitwnv0m7j2.c:1:\r\n    /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/include/bits/endian.h:33:4: warning: #warning Cannot determine current byte order, assuming big-endian. [-Wcpp]\r\n     #  warning Cannot determine current byte order, assuming big-endian.\r\n        ^~~~~~~\r\n    /tmp/xmlXPathInitwnv0m7j2.c:2:1: warning: return type defaults to \u2018int\u2019 [-Wimplicit-int]\r\n     main (int argc, char **argv) {\r\n     ^~~~\r\n    cc tmp/xmlXPathInitwnv0m7j2.o -lxml2 -o a.out\r\n    /usr/bin/ld: /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/lib/../lib/Scrt1.o: Relocations in generic ELF (EM: 20)\r\n    /usr/bin/ld: /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/lib/../lib/Scrt1.o: Relocations in generic ELF (EM: 20)\r\n    /usr/bin/ld: /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/lib/../lib/Scrt1.o: Relocations in generic ELF (EM: 20)\r\n    /usr/bin/ld: /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/lib/../lib/Scrt1.o: Relocations in generic ELF (EM: 20)\r\n    /usr/bin/ld: /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/lib/../lib/Scrt1.o: Relocations in generic ELF (EM: 20)\r\n    /opt/fsl-qoriq/2.0/sysroots/x86_64-fslsdk-linux/../ppce5500-fsl-linux/usr/lib/../lib/Scrt1.o: error adding symbols: File in wrong format\r\n    collect2: error: ld returned 1 exit status\r\n    *********************************************************************************\r\n    Could not find function xmlCheckVersion in library libxml2. Is libxml2 installed?\r\n    *********************************************************************************\r\n    error: command 'powerpc-fsl-linux-gcc' failed with exit status 1\r\n\r\n    ----------------------------------------\r\nCommand \"/home/prateek/Desktop/v/cross/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-nr9hop30/lxml/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-qq5739wi-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/prateek/Desktop/v/cross/include/site/python3.6/lxml\" failed with error code 1 in /tmp/pip-build-nr9hop30/lxml/\r\nYou are using pip version 9.0.1, however version 20.0.2 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n\r\n\r\n**Then I tried installing libxml2 and got the following error:**\r\n\r\n\r\n(cross) p@OptiPlex-5050:~/Desktop$ pip install libxml2\r\nCollecting libxml2\r\n  Could not find a version that satisfies the requirement libxml2 (from versions: )\r\nNo matching distribution found for libxml2\r\nYou are using pip version 9.0.1, however version 20.0.2 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/132", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/132/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/132/events", "html_url": "https://github.com/scoder/lupa/issues/132", "id": 542396074, "node_id": "MDU6SXNzdWU1NDIzOTYwNzQ=", "number": 132, "title": "Integers changed to floats ", "user": {"login": "SoulSen", "id": 38407270, "node_id": "MDQ6VXNlcjM4NDA3Mjcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38407270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoulSen", "html_url": "https://github.com/SoulSen", "followers_url": "https://api.github.com/users/SoulSen/followers", "following_url": "https://api.github.com/users/SoulSen/following{/other_user}", "gists_url": "https://api.github.com/users/SoulSen/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoulSen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoulSen/subscriptions", "organizations_url": "https://api.github.com/users/SoulSen/orgs", "repos_url": "https://api.github.com/users/SoulSen/repos", "events_url": "https://api.github.com/users/SoulSen/events{/privacy}", "received_events_url": "https://api.github.com/users/SoulSen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-25T23:58:42Z", "updated_at": "2019-12-26T17:12:15Z", "closed_at": "2019-12-26T16:47:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why are integers like `336642139381301249` converted to floats and returned back as floats rather than integers? I need integers like these to stay the same as converting floats back to integers aren't precise. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/131", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/131/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/131/events", "html_url": "https://github.com/scoder/lupa/issues/131", "id": 542269506, "node_id": "MDU6SXNzdWU1NDIyNjk1MDY=", "number": 131, "title": "Keep table order when eval()", "user": {"login": "Dimbreath", "id": 1474840, "node_id": "MDQ6VXNlcjE0NzQ4NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1474840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dimbreath", "html_url": "https://github.com/Dimbreath", "followers_url": "https://api.github.com/users/Dimbreath/followers", "following_url": "https://api.github.com/users/Dimbreath/following{/other_user}", "gists_url": "https://api.github.com/users/Dimbreath/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dimbreath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dimbreath/subscriptions", "organizations_url": "https://api.github.com/users/Dimbreath/orgs", "repos_url": "https://api.github.com/users/Dimbreath/repos", "events_url": "https://api.github.com/users/Dimbreath/events{/privacy}", "received_events_url": "https://api.github.com/users/Dimbreath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-25T06:35:39Z", "updated_at": "2019-12-26T16:53:18Z", "closed_at": "2019-12-26T16:53:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n>>> import lupa\r\n>>> lua = lupa.LuaRuntime(unpack_returned_tuples=True)\r\n>>> table = lua.eval('{[20] = -20,[3] = -3,[1] = 0}')\r\n>>> list(table.keys())\r\n[20, 1, 3]\r\n```\r\n\r\nIs it possible to keep the order of the table when running eval()? Instead of it being [20, 1, 3] it would be [20, 3, 1]?\r\nThe reason for this is that I want to specifically avoid sorting in Python, while it's not an issue with tables that have only integers, it's not really feasible to sort if it's mixed types:\r\n\r\n```\r\n>>> table = lua.eval('{[20] = -20,[3] = -3, hello = 0}')\r\n>>> list(table.keys())\r\n[20, 'hello', 3]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/130", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/130/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/130/events", "html_url": "https://github.com/scoder/lupa/issues/130", "id": 542231573, "node_id": "MDU6SXNzdWU1NDIyMzE1NzM=", "number": 130, "title": "Odd Error", "user": {"login": "SoulSen", "id": 38407270, "node_id": "MDQ6VXNlcjM4NDA3Mjcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38407270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoulSen", "html_url": "https://github.com/SoulSen", "followers_url": "https://api.github.com/users/SoulSen/followers", "following_url": "https://api.github.com/users/SoulSen/following{/other_user}", "gists_url": "https://api.github.com/users/SoulSen/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoulSen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoulSen/subscriptions", "organizations_url": "https://api.github.com/users/SoulSen/orgs", "repos_url": "https://api.github.com/users/SoulSen/repos", "events_url": "https://api.github.com/users/SoulSen/events{/privacy}", "received_events_url": "https://api.github.com/users/SoulSen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-25T01:42:40Z", "updated_at": "2019-12-25T01:57:20Z", "closed_at": "2019-12-25T01:57:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I keep getting the error \r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\taluk\\Documents\\Coding Projects\\Python\\Musix\\utils\\environment\\lua\\Environment.py\", line 38, in execute_lua\r\n    ret = self.dev_lua.execute(code)\r\n  File \"lupa\\_lupa.pyx\", line 280, in lupa._lupa.LuaRuntime.execute\r\n  File \"lupa\\_lupa.pyx\", line 1297, in lupa._lupa.run_lua\r\n  File \"lupa\\_lupa.pyx\", line 1306, in lupa._lupa.call_lua\r\n  File \"lupa\\_lupa.pyx\", line 1331, in lupa._lupa.execute_lua_call\r\n  File \"lupa\\_lupa.pyx\", line 253, in lupa._lupa.LuaRuntime.reraise_on_exception\r\n  File \"lupa\\_lupa.pyx\", line 1576, in lupa._lupa.py_object_getindex_with_gil\r\n  File \"lupa\\_lupa.pyx\", line 1552, in lupa._lupa.getattr_for_lua\r\nTypeError: attribute name must be string, not 'NoneType'\r\n```\r\n\r\nI invoke my lua code here \r\n\r\n```py\r\n  def execute_lua(self, code, ctx=None, safe=True):\r\n        self.lua.globals()['ctx'] = ctx\r\n\r\n        try:\r\n            start = time.time()\r\n            if safe:\r\n                self.bot.lua_dev_ctx = ctx\r\n                print(code)\r\n                ret = self.dev_lua.execute(code)\r\n                print('right?')\r\n                self.bot.lua_dev_ctx = None\r\n            else:\r\n                ret = self.lua.execute(code)\r\n        except Exception as e:\r\n            end = time.time()\r\n            interval = end - start\r\n            self._recreate_stdout(safe)\r\n            traceback.print_exc()\r\n            return e.with_traceback(e.__traceback__), interval, False\r\n        else:\r\n            end = time.time()\r\n            interval = end - start\r\n            value = self.lua_stdout.getvalue() or 'None'\r\n            self._recreate_stdout(safe)\r\n\r\n            return value or ret, interval, True\r\n```\r\n\r\nAnd this is the code I'm trying to run\r\n```lua\r\nbot.is_ready()\r\n```\r\n\r\nI have tried this with all functions of this object, though it seems to give me the same error. The global `bot` is an instance of an object that's already instantiated. It seems though I don't get this error when trying to access normal attributes.  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/127", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/127/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/127/events", "html_url": "https://github.com/scoder/lupa/issues/127", "id": 514933513, "node_id": "MDU6SXNzdWU1MTQ5MzM1MTM=", "number": 127, "title": "Catalina 10.15.1 build error when using luajit", "user": {"login": "darakian", "id": 3607524, "node_id": "MDQ6VXNlcjM2MDc1MjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/3607524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darakian", "html_url": "https://github.com/darakian", "followers_url": "https://api.github.com/users/darakian/followers", "following_url": "https://api.github.com/users/darakian/following{/other_user}", "gists_url": "https://api.github.com/users/darakian/gists{/gist_id}", "starred_url": "https://api.github.com/users/darakian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darakian/subscriptions", "organizations_url": "https://api.github.com/users/darakian/orgs", "repos_url": "https://api.github.com/users/darakian/repos", "events_url": "https://api.github.com/users/darakian/events{/privacy}", "received_events_url": "https://api.github.com/users/darakian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1767849380, "node_id": "MDU6TGFiZWwxNzY3ODQ5Mzgw", "url": "https://api.github.com/repos/scoder/lupa/labels/duplicate", "name": "duplicate", "color": "fcd1c2", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-30T19:40:44Z", "updated_at": "2020-05-19T12:25:30Z", "closed_at": "2020-05-19T12:24:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey All,\r\n\r\nI just updated my dev system to 10.15.1 and wanted to report a build error I ran into. The full output is below.\r\n```\r\n  Running setup.py install for lupa ... error\r\n    Complete output from command /Users/jon/raw/gits/rw/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/private/var/folders/3g/fpzgglls03vbzcvbwvgw0r540000gn/T/pip-install-6leg_mh2/lupa/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/3g/fpzgglls03vbzcvbwvgw0r540000gn/T/pip-record-muzaxxk6/install-record.txt --single-version-externally-managed --compile --install-headers /Users/jon/raw/gits/rw/venv/include/site/python3.7/lupa:\r\n    No local build of LuaJIT2 found in lupa directory\r\n    Checking for installed luajit library using pkg-config\r\n    pkg-config found luajit version 2.0.5\r\n\r\n    building without Cython\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.14-x86_64-3.7\r\n    creating build/lib.macosx-10.14-x86_64-3.7/lupa\r\n    copying lupa/version.py -> build/lib.macosx-10.14-x86_64-3.7/lupa\r\n    copying lupa/__init__.py -> build/lib.macosx-10.14-x86_64-3.7/lupa\r\n    running build_ext\r\n    building 'lupa._lupa' extension\r\n    creating build/temp.macosx-10.14-x86_64-3.7\r\n    creating build/temp.macosx-10.14-x86_64-3.7/lupa\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/usr/local/opt/openssl/include -DCYTHON_CLINE_IN_TRACEBACK=0 -I/usr/local/Cellar/luajit/2.0.5/include/luajit-2.0 -I/usr/local/include -I/usr/local/opt/openssl@1.1/include -I/usr/local/opt/sqlite/include -I/Users/jon/raw/gits/rw/venv/include -I/usr/local/Cellar/python/3.7.4_1/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c lupa/_lupa.c -o build/temp.macosx-10.14-x86_64-3.7/lupa/_lupa.o\r\n    lupa/_lupa.c:3058:38: warning: comparison of integers of different signs: 'long' and 'unsigned long' [-Wsign-compare]\r\n      __pyx_t_1 = ((__pyx_v_self->_owner != PyThread_get_thread_ident()) != 0);\r\n                    ~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    lupa/_lupa.c:3271:38: warning: comparison of integers of different signs: 'long' and 'unsigned long' [-Wsign-compare]\r\n      __pyx_t_1 = ((__pyx_v_self->_owner != PyThread_get_thread_ident()) != 0);\r\n                    ~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    lupa/_lupa.c:3363:59: warning: comparison of integers of different signs: 'long' and 'unsigned long' [-Wsign-compare]\r\n      __pyx_t_1 = __Pyx_PyBool_FromLong((__pyx_v_self->_owner == PyThread_get_thread_ident())); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 55, __pyx_L1_error)\r\n                                         ~~~~~~~~~~~~~~~~~~~~ ^  ~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    3 warnings generated.\r\n    clang -bundle -undefined dynamic_lookup -L/usr/local/opt/openssl/lib -I/usr/local/opt/openssl/include build/temp.macosx-10.14-x86_64-3.7/lupa/_lupa.o -L/usr/local/Cellar/luajit/2.0.5/lib -pagezero_size 10000 -image_base 100000000 -lluajit-5.1 -L/usr/local/lib -L/usr/local/opt/openssl@1.1/lib -L/usr/local/opt/sqlite/lib -o build/lib.macosx-10.14-x86_64-3.7/lupa/_lupa.cpython-37m-darwin.so\r\n    ld: -pagezero_size option can only be used when linking a main executable\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    error: command 'clang' failed with exit status 1\r\n\r\n    ----------------------------------------\r\nCommand \"/Users/jon/raw/gits/rw/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/private/var/folders/3g/fpzgglls03vbzcvbwvgw0r540000gn/T/pip-install-6leg_mh2/lupa/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/3g/fpzgglls03vbzcvbwvgw0r540000gn/T/pip-record-muzaxxk6/install-record.txt --single-version-externally-managed --compile --install-headers /Users/jon/raw/gits/rw/venv/include/site/python3.7/lupa\" failed with error code 1 in /private/var/folders/3g/fpzgglls03vbzcvbwvgw0r540000gn/T/pip-install-6leg_mh2/lupa/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/126", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/126/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/126/events", "html_url": "https://github.com/scoder/lupa/issues/126", "id": 513076764, "node_id": "MDU6SXNzdWU1MTMwNzY3NjQ=", "number": 126, "title": "Fails to build with Arch Linux lua52", "user": {"login": "eli-schwartz", "id": 6551424, "node_id": "MDQ6VXNlcjY1NTE0MjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6551424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eli-schwartz", "html_url": "https://github.com/eli-schwartz", "followers_url": "https://api.github.com/users/eli-schwartz/followers", "following_url": "https://api.github.com/users/eli-schwartz/following{/other_user}", "gists_url": "https://api.github.com/users/eli-schwartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/eli-schwartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eli-schwartz/subscriptions", "organizations_url": "https://api.github.com/users/eli-schwartz/orgs", "repos_url": "https://api.github.com/users/eli-schwartz/repos", "events_url": "https://api.github.com/users/eli-schwartz/events{/privacy}", "received_events_url": "https://api.github.com/users/eli-schwartz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-28T03:25:13Z", "updated_at": "2019-12-21T10:46:16Z", "closed_at": "2019-12-21T10:45:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "The heuristic used for searching for 'lua' and '5.2' with various optional separators, then reusing 5.2 for the version comparison, doesn't work, because on Arch Linux there is yet another variant (there are way too many ways to unofficially install lua!): 'lua52.pc' which provides version '5.2'.\r\n\r\nThe simple solution is\r\n\r\n```\r\npackages += [('lua52', '5.2')]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/125", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/125/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/125/events", "html_url": "https://github.com/scoder/lupa/issues/125", "id": 505479500, "node_id": "MDU6SXNzdWU1MDU0Nzk1MDA=", "number": 125, "title": "Interoperability between Lua and Python coroutines in Python 3.5+", "user": {"login": "sparkyb", "id": 558826, "node_id": "MDQ6VXNlcjU1ODgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/558826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sparkyb", "html_url": "https://github.com/sparkyb", "followers_url": "https://api.github.com/users/sparkyb/followers", "following_url": "https://api.github.com/users/sparkyb/following{/other_user}", "gists_url": "https://api.github.com/users/sparkyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sparkyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sparkyb/subscriptions", "organizations_url": "https://api.github.com/users/sparkyb/orgs", "repos_url": "https://api.github.com/users/sparkyb/repos", "events_url": "https://api.github.com/users/sparkyb/events{/privacy}", "received_events_url": "https://api.github.com/users/sparkyb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1767849380, "node_id": "MDU6TGFiZWwxNzY3ODQ5Mzgw", "url": "https://api.github.com/repos/scoder/lupa/labels/duplicate", "name": "duplicate", "color": "fcd1c2", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-10T19:59:06Z", "updated_at": "2020-01-04T09:11:37Z", "closed_at": "2020-01-04T09:11:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now that Python has proper coroutines in Python 3.5+, it would be nice for Lua coroutines to be able to function as Python coroutines and vice versa so that Lua could be used with something like asyncio. Right now a Lua coroutine functions like a Python generator (has a .send() method), but not a Python coroutine. It is not even wrappable into a Python coroutine with types.coroutine() because it doesn't fit the full signature of a Python generator since it is missing .throw() and .close(). Additionally, it would be nice if Python coroutines could be passed to Lua as a Lua coroutine so that they could be resumed with coroutine.resume().", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/122", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/122/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/122/events", "html_url": "https://github.com/scoder/lupa/issues/122", "id": 499718906, "node_id": "MDU6SXNzdWU0OTk3MTg5MDY=", "number": 122, "title": "Importing Python modules", "user": {"login": "cmisztur", "id": 5714572, "node_id": "MDQ6VXNlcjU3MTQ1NzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5714572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmisztur", "html_url": "https://github.com/cmisztur", "followers_url": "https://api.github.com/users/cmisztur/followers", "following_url": "https://api.github.com/users/cmisztur/following{/other_user}", "gists_url": "https://api.github.com/users/cmisztur/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmisztur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmisztur/subscriptions", "organizations_url": "https://api.github.com/users/cmisztur/orgs", "repos_url": "https://api.github.com/users/cmisztur/repos", "events_url": "https://api.github.com/users/cmisztur/events{/privacy}", "received_events_url": "https://api.github.com/users/cmisztur/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1420899833, "node_id": "MDU6TGFiZWwxNDIwODk5ODMz", "url": "https://api.github.com/repos/scoder/lupa/labels/support%20question", "name": "support question", "color": "F9E6F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-28T03:11:04Z", "updated_at": "2019-09-28T07:16:35Z", "closed_at": "2019-09-28T07:16:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n\r\nIs there a way to import Python modules for use within Lua?\r\n\r\nHere is what I am doing now.\r\n\r\n```\r\nfrom lupa import LuaRuntime\r\nimport builtins\r\nimport time\r\n\r\n# globals()['time'] = time\r\n\r\nbuiltins.time = time\r\n\r\nlua = LuaRuntime(unpack_returned_tuples=True)\r\nb = lua.compile(\"\"\"\r\n    local mymod =  {}\r\n\r\n    function mymod.now(a,b)\r\n       print(python.builtins.time.monotonic())\r\n    end\r\n    \r\n    return mymod\r\n    \"\"\")\r\n\r\nprint(b().now())\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/120", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/120/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/120/events", "html_url": "https://github.com/scoder/lupa/issues/120", "id": 497393456, "node_id": "MDU6SXNzdWU0OTczOTM0NTY=", "number": 120, "title": "Call Python coros in Lua", "user": {"login": "SoulSen", "id": 38407270, "node_id": "MDQ6VXNlcjM4NDA3Mjcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38407270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoulSen", "html_url": "https://github.com/SoulSen", "followers_url": "https://api.github.com/users/SoulSen/followers", "following_url": "https://api.github.com/users/SoulSen/following{/other_user}", "gists_url": "https://api.github.com/users/SoulSen/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoulSen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoulSen/subscriptions", "organizations_url": "https://api.github.com/users/SoulSen/orgs", "repos_url": "https://api.github.com/users/SoulSen/repos", "events_url": "https://api.github.com/users/SoulSen/events{/privacy}", "received_events_url": "https://api.github.com/users/SoulSen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1583043745, "node_id": "MDU6TGFiZWwxNTgzMDQzNzQ1", "url": "https://api.github.com/repos/scoder/lupa/labels/won't%20fix", "name": "won't fix", "color": "e0e0e0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-09-24T00:38:02Z", "updated_at": "2019-12-27T00:03:34Z", "closed_at": "2019-09-28T07:10:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "How could I call Python coroutines within Lua? I haven't seen this in the documentation unless I'm blind. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/119", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/119/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/119/events", "html_url": "https://github.com/scoder/lupa/issues/119", "id": 496877034, "node_id": "MDU6SXNzdWU0OTY4NzcwMzQ=", "number": 119, "title": "Cannot get stdout from eval", "user": {"login": "SoulSen", "id": 38407270, "node_id": "MDQ6VXNlcjM4NDA3Mjcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38407270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoulSen", "html_url": "https://github.com/SoulSen", "followers_url": "https://api.github.com/users/SoulSen/followers", "following_url": "https://api.github.com/users/SoulSen/following{/other_user}", "gists_url": "https://api.github.com/users/SoulSen/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoulSen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoulSen/subscriptions", "organizations_url": "https://api.github.com/users/SoulSen/orgs", "repos_url": "https://api.github.com/users/SoulSen/repos", "events_url": "https://api.github.com/users/SoulSen/events{/privacy}", "received_events_url": "https://api.github.com/users/SoulSen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-23T03:18:57Z", "updated_at": "2019-09-24T00:37:24Z", "closed_at": "2019-09-24T00:37:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "```py\r\n        stdout = StringIO()\r\n        with contextlib.redirect_stdout(stdout):\r\n            self.lua.eval(code)\r\n        value = stdout.getvalue() or None\r\n        print(value)\r\n        >> None \r\n``` \r\nWhen trying to evaluate some code, and changing stdout to a `StringIO`, `stdout.getvalue()` keeps returning `None` rather than whatever I print, any reason why this is caused? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/118", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/118/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/118/events", "html_url": "https://github.com/scoder/lupa/issues/118", "id": 489467329, "node_id": "MDU6SXNzdWU0ODk0NjczMjk=", "number": 118, "title": "Turn LUA table into Dict?", "user": {"login": "Kocrachon", "id": 12632296, "node_id": "MDQ6VXNlcjEyNjMyMjk2", "avatar_url": "https://avatars0.githubusercontent.com/u/12632296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kocrachon", "html_url": "https://github.com/Kocrachon", "followers_url": "https://api.github.com/users/Kocrachon/followers", "following_url": "https://api.github.com/users/Kocrachon/following{/other_user}", "gists_url": "https://api.github.com/users/Kocrachon/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kocrachon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kocrachon/subscriptions", "organizations_url": "https://api.github.com/users/Kocrachon/orgs", "repos_url": "https://api.github.com/users/Kocrachon/repos", "events_url": "https://api.github.com/users/Kocrachon/events{/privacy}", "received_events_url": "https://api.github.com/users/Kocrachon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1420899833, "node_id": "MDU6TGFiZWwxNDIwODk5ODMz", "url": "https://api.github.com/repos/scoder/lupa/labels/support%20question", "name": "support question", "color": "F9E6F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-05T00:24:44Z", "updated_at": "2020-05-19T12:30:35Z", "closed_at": "2020-05-19T12:30:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if I see this function, but the ability to get back LUA tables and have it turned into a proper dictionary would be nice for when moving data around and final ouputs. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/117", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/117/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/117/events", "html_url": "https://github.com/scoder/lupa/issues/117", "id": 481959463, "node_id": "MDU6SXNzdWU0ODE5NTk0NjM=", "number": 117, "title": "How Python Classes Work in Lupa ", "user": {"login": "SoulSen", "id": 38407270, "node_id": "MDQ6VXNlcjM4NDA3Mjcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38407270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoulSen", "html_url": "https://github.com/SoulSen", "followers_url": "https://api.github.com/users/SoulSen/followers", "following_url": "https://api.github.com/users/SoulSen/following{/other_user}", "gists_url": "https://api.github.com/users/SoulSen/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoulSen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoulSen/subscriptions", "organizations_url": "https://api.github.com/users/SoulSen/orgs", "repos_url": "https://api.github.com/users/SoulSen/repos", "events_url": "https://api.github.com/users/SoulSen/events{/privacy}", "received_events_url": "https://api.github.com/users/SoulSen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-18T06:23:31Z", "updated_at": "2019-08-24T01:05:24Z", "closed_at": "2019-08-24T01:05:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to know how Python classes in the Lua environment works, I've created a class with an abstract method in Python and want to figure out how I could implement it from Lua or if subclassing is possible.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/116", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/116/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/116/events", "html_url": "https://github.com/scoder/lupa/issues/116", "id": 480102094, "node_id": "MDU6SXNzdWU0ODAxMDIwOTQ=", "number": 116, "title": "undefined symbol: luaopen_lupa - Centos 7", "user": {"login": "Liametc", "id": 14952660, "node_id": "MDQ6VXNlcjE0OTUyNjYw", "avatar_url": "https://avatars2.githubusercontent.com/u/14952660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Liametc", "html_url": "https://github.com/Liametc", "followers_url": "https://api.github.com/users/Liametc/followers", "following_url": "https://api.github.com/users/Liametc/following{/other_user}", "gists_url": "https://api.github.com/users/Liametc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Liametc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Liametc/subscriptions", "organizations_url": "https://api.github.com/users/Liametc/orgs", "repos_url": "https://api.github.com/users/Liametc/repos", "events_url": "https://api.github.com/users/Liametc/events{/privacy}", "received_events_url": "https://api.github.com/users/Liametc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-13T11:22:18Z", "updated_at": "2019-08-13T16:03:36Z", "closed_at": "2019-08-13T16:03:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there, \r\nTrying to build and run Lupa. Got it to build fine, but then can't import it in lua. It errors with \r\n\r\n> LuaJIT 2.1.0-beta3 -- Copyright (C) 2005-2017 Mike Pall. http://luajit.org/\r\n> JIT: ON SSE2 SSE3 SSE4.1 BMI2 fold cse dce fwd dse narrow loop abc sink fuse\r\n> \\> require(\"lupa\")\r\n> error loading module 'lupa' from file '/tmp/lupa_install/lib64/python2.7/site-packages/lupa-1.8-py2.7-linux-x86_64.egg/lupa/_lupa.so':\r\n>         /tmp/lupa_install/lib64/python2.7/site-packages/lupa-1.8-py2.7-linux-x86_64.egg/lupa/_lupa.so: undefined symbol: luaopen_lupa\r\n> stack traceback:\r\n>         [C]: at 0x0044cf70\r\n>         [C]: in function 'require'\r\n>         stdin:1: in main chunk\r\n>         [C]: at 0x004050b0\r\n\r\nI've attached my dockerfile so you can see if I've gone wrong anywhere. I've tried to follow the installation instructions as closely as possible. This is on a centos 7 system and will be running luaJIT-2.1.0 due to that version being used in another piece of software using it. (Katana if you must know). I have also had this issue with lua-5.1, and luaJIT-2.0.4, whether I build them or install them with `yum`.\r\n[Dockerfile.txt](https://github.com/scoder/lupa/files/3496690/Dockerfile.txt) (sorry it's a txt file, only way to get it to upload. Remove the extension)\r\n\r\nAlso here is the output of `nm` on the _lupa.so file \r\n[nm_output.txt](https://github.com/scoder/lupa/files/3496677/nm_output.txt)\r\n`luaopen_lupa` does not appear listed at all\r\n\r\nAny help will be appreciated\r\n\r\nThank you\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/115", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/115/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/115/events", "html_url": "https://github.com/scoder/lupa/issues/115", "id": 479651318, "node_id": "MDU6SXNzdWU0Nzk2NTEzMTg=", "number": 115, "title": "2 Questions", "user": {"login": "JakobDev", "id": 15185051, "node_id": "MDQ6VXNlcjE1MTg1MDUx", "avatar_url": "https://avatars0.githubusercontent.com/u/15185051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakobDev", "html_url": "https://github.com/JakobDev", "followers_url": "https://api.github.com/users/JakobDev/followers", "following_url": "https://api.github.com/users/JakobDev/following{/other_user}", "gists_url": "https://api.github.com/users/JakobDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakobDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakobDev/subscriptions", "organizations_url": "https://api.github.com/users/JakobDev/orgs", "repos_url": "https://api.github.com/users/JakobDev/repos", "events_url": "https://api.github.com/users/JakobDev/events{/privacy}", "received_events_url": "https://api.github.com/users/JakobDev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1420899833, "node_id": "MDU6TGFiZWwxNDIwODk5ODMz", "url": "https://api.github.com/repos/scoder/lupa/labels/support%20question", "name": "support question", "color": "F9E6F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-12T13:39:15Z", "updated_at": "2019-08-13T16:00:18Z", "closed_at": "2019-08-13T16:00:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have 2 Questions:\r\n\r\n1. Can I use Lua 5.1 instead of 5.3?\r\n\r\n2. Is it possible to run lua code in a custom environment where it has no access to normal python functions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/114", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/114/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/114/events", "html_url": "https://github.com/scoder/lupa/issues/114", "id": 473971466, "node_id": "MDU6SXNzdWU0NzM5NzE0NjY=", "number": 114, "title": "Problems running Mandelbrot demo", "user": {"login": "zondo", "id": 810102, "node_id": "MDQ6VXNlcjgxMDEwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/810102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zondo", "html_url": "https://github.com/zondo", "followers_url": "https://api.github.com/users/zondo/followers", "following_url": "https://api.github.com/users/zondo/following{/other_user}", "gists_url": "https://api.github.com/users/zondo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zondo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zondo/subscriptions", "organizations_url": "https://api.github.com/users/zondo/orgs", "repos_url": "https://api.github.com/users/zondo/repos", "events_url": "https://api.github.com/users/zondo/events{/privacy}", "received_events_url": "https://api.github.com/users/zondo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-29T10:23:30Z", "updated_at": "2019-12-21T13:37:57Z", "closed_at": "2019-12-21T13:37:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried the Mandelbrot demo in the main text, and got a couple of errors (Windows 10, Python 3, lupa 1.8).  I fixed them as follows:\r\n\r\n- line 3: change to 'local char, unpack = string.char, table.unpack'\r\n- line 51: change to 'from PIL import Image'\r\n\r\nFirst looks like a typo ('unpack' should be 'table.unpack'), second is due to using Pillow instead of PIL.\r\n\r\nAfter the fixes... OMG that is quite fast! :-)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/113", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/113/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/113/events", "html_url": "https://github.com/scoder/lupa/issues/113", "id": 459338890, "node_id": "MDU6SXNzdWU0NTkzMzg4OTA=", "number": 113, "title": "What does encoding=None do with unicode strings ?", "user": {"login": "tzickel", "id": 7489847, "node_id": "MDQ6VXNlcjc0ODk4NDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/7489847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzickel", "html_url": "https://github.com/tzickel", "followers_url": "https://api.github.com/users/tzickel/followers", "following_url": "https://api.github.com/users/tzickel/following{/other_user}", "gists_url": "https://api.github.com/users/tzickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzickel/subscriptions", "organizations_url": "https://api.github.com/users/tzickel/orgs", "repos_url": "https://api.github.com/users/tzickel/repos", "events_url": "https://api.github.com/users/tzickel/events{/privacy}", "received_events_url": "https://api.github.com/users/tzickel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1420899833, "node_id": "MDU6TGFiZWwxNDIwODk5ODMz", "url": "https://api.github.com/repos/scoder/lupa/labels/support%20question", "name": "support question", "color": "F9E6F5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-21T19:20:43Z", "updated_at": "2019-06-25T14:11:02Z", "closed_at": "2019-06-24T18:26:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why does this return False (at least on python 2)?:\r\n```python\r\nlupa.LuaRuntime(encoding=None).eval('function(a,b) return a==b; end')(u'a',u'a')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/112", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/112/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/112/events", "html_url": "https://github.com/scoder/lupa/issues/112", "id": 451003550, "node_id": "MDU6SXNzdWU0NTEwMDM1NTA=", "number": 112, "title": "Unexpected UnicodeDecodeError", "user": {"login": "Le0Developer", "id": 40232557, "node_id": "MDQ6VXNlcjQwMjMyNTU3", "avatar_url": "https://avatars2.githubusercontent.com/u/40232557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Le0Developer", "html_url": "https://github.com/Le0Developer", "followers_url": "https://api.github.com/users/Le0Developer/followers", "following_url": "https://api.github.com/users/Le0Developer/following{/other_user}", "gists_url": "https://api.github.com/users/Le0Developer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Le0Developer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Le0Developer/subscriptions", "organizations_url": "https://api.github.com/users/Le0Developer/orgs", "repos_url": "https://api.github.com/users/Le0Developer/repos", "events_url": "https://api.github.com/users/Le0Developer/events{/privacy}", "received_events_url": "https://api.github.com/users/Le0Developer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638189, "node_id": "MDU6TGFiZWwxNzYzODE4OQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/incomplete", "name": "incomplete", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-31T22:30:34Z", "updated_at": "2020-05-19T12:33:40Z", "closed_at": "2020-05-19T12:33:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "An unexpected UnicodeDecodeError will occur if you access charpatter in the utf8 table.\r\n\r\n```python\r\n>>> import lupa\r\n>>> lua = lupa.LuaRuntime()\r\n>>> lua.globals()[ 'utf8' ][ 'charpattern' ]\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"lupa/_lupa.pyx\", line 643, in lupa._lupa._LuaObject.__getitem__\r\n  File \"lupa/_lupa.pyx\", line 660, in lupa._lupa._LuaObject._getitem\r\n  File \"lupa/_lupa.pyx\", line 1117, in lupa._lupa.py_from_lua\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc2 in position 4: invalid continuation byte\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/110", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/110/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/110/events", "html_url": "https://github.com/scoder/lupa/issues/110", "id": 432830385, "node_id": "MDU6SXNzdWU0MzI4MzAzODU=", "number": 110, "title": "Get lua exception line number during call_python", "user": {"login": "WillPangZi", "id": 8530964, "node_id": "MDQ6VXNlcjg1MzA5NjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/8530964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WillPangZi", "html_url": "https://github.com/WillPangZi", "followers_url": "https://api.github.com/users/WillPangZi/followers", "following_url": "https://api.github.com/users/WillPangZi/following{/other_user}", "gists_url": "https://api.github.com/users/WillPangZi/gists{/gist_id}", "starred_url": "https://api.github.com/users/WillPangZi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WillPangZi/subscriptions", "organizations_url": "https://api.github.com/users/WillPangZi/orgs", "repos_url": "https://api.github.com/users/WillPangZi/repos", "events_url": "https://api.github.com/users/WillPangZi/events{/privacy}", "received_events_url": "https://api.github.com/users/WillPangZi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-13T09:56:16Z", "updated_at": "2019-06-24T18:30:12Z", "closed_at": "2019-04-16T02:29:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, really awesome project, very help for dynamic third party lua script.\r\nWhen I execute long lua script, and during call_python function, we encounter a python exception like below.\r\nMy question is can i get on which Lua line we called python method and cause excepiton.\r\nOr anyway to get last line runned in Lua when I catch the exception.\r\n\r\nThanks.\r\n \r\n`\r\n[2019-04-13 17:36:42] [ERROR] Traceback (most recent call last):\r\n  File \"/Users/pangzi/PycharmProjects/TaskConsole/Modules.py\", line 83, in action\r\n    self.lua.execute(luaContent);\r\n\r\n  File \"lupa/_lupa.pyx\", line 280, in lupa._lupa.LuaRuntime.execute\r\n\r\n  File \"lupa/_lupa.pyx\", line 1297, in lupa._lupa.run_lua\r\n\r\n  File \"lupa/_lupa.pyx\", line 1306, in lupa._lupa.call_lua\r\n\r\n  File \"lupa/_lupa.pyx\", line 1331, in lupa._lupa.execute_lua_call\r\n\r\n  File \"lupa/_lupa.pyx\", line 253, in lupa._lupa.LuaRuntime.reraise_on_exception\r\n\r\n  File \"lupa/_lupa.pyx\", line 1469, in lupa._lupa.py_call_with_gil\r\n\r\n  File \"lupa/_lupa.pyx\", line 1456, in lupa._lupa.call_python\r\n  File \"/Users/pangzi/PycharmProjects/TaskConsole/zservice/__init__.py\", line 257, in click\r\n    self.d(**table).click();\r\n  File \"/Users/pangzi/PycharmProjects/TaskConsole/uiautomator/__init__.py\", line 79, in __call__\r\n    return self.func(*args, **kwargs)\r\n  File \"/Users/pangzi/PycharmProjects/TaskConsole/uiautomator/__init__.py\", line 1240, in _click\r\n    return self.jsonrpc.click(self.selector)\r\n  File \"/Users/pangzi/PycharmProjects/TaskConsole/uiautomator/__init__.py\", line 524, in wrapper\r\n    return _method_obj(*args, **kwargs)\r\n  File \"/Users/pangzi/PycharmProjects/TaskConsole/uiautomator/__init__.py\", line 170, in __call__\r\n    \"%s: %s\" % (jsonresult[\"error\"][\"data\"][\"exceptionTypeName\"], jsonresult[\"error\"][\"message\"])\r\nJsonRPCError: JsonRPC Error code: -32002, Message: android.support.test.uiautomator.UiObjectNotFoundException: UiSelector[CLASS=android.widget.TextView0, INDEX=1]`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/107", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/107/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/107/events", "html_url": "https://github.com/scoder/lupa/issues/107", "id": 404971808, "node_id": "MDU6SXNzdWU0MDQ5NzE4MDg=", "number": 107, "title": "Import deprecation warning from Python 3.7", "user": {"login": "dcecile", "id": 311866, "node_id": "MDQ6VXNlcjMxMTg2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/311866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcecile", "html_url": "https://github.com/dcecile", "followers_url": "https://api.github.com/users/dcecile/followers", "following_url": "https://api.github.com/users/dcecile/following{/other_user}", "gists_url": "https://api.github.com/users/dcecile/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcecile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcecile/subscriptions", "organizations_url": "https://api.github.com/users/dcecile/orgs", "repos_url": "https://api.github.com/users/dcecile/repos", "events_url": "https://api.github.com/users/dcecile/events{/privacy}", "received_events_url": "https://api.github.com/users/dcecile/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-30T21:26:52Z", "updated_at": "2019-02-01T10:45:24Z", "closed_at": "2019-02-01T10:33:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running Lupa in Python 3.7, I noticed this deprecation warning:\r\n\r\n`.../lib/python3.7/site-packages/lupa/__init__.py:18: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working`\r\n\r\nI think it's this import from [lupa/_lupa.pyx](https://github.com/scoder/lupa/blob/master/lupa/_lupa.pyx#L46):\r\n\r\n```python\r\nfrom collections import Mapping\r\n```\r\n\r\nSwitching the import to `collections.abc` won't work for Python 2, so an extra check would be needed... ([Six](https://github.com/benjaminp/six/issues/155) has an open issue)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/106", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/106/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/106/events", "html_url": "https://github.com/scoder/lupa/issues/106", "id": 390501484, "node_id": "MDU6SXNzdWUzOTA1MDE0ODQ=", "number": 106, "title": "[spam]", "user": {"login": "ololosha228", "id": 13191308, "node_id": "MDQ6VXNlcjEzMTkxMzA4", "avatar_url": "https://avatars1.githubusercontent.com/u/13191308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ololosha228", "html_url": "https://github.com/ololosha228", "followers_url": "https://api.github.com/users/ololosha228/followers", "following_url": "https://api.github.com/users/ololosha228/following{/other_user}", "gists_url": "https://api.github.com/users/ololosha228/gists{/gist_id}", "starred_url": "https://api.github.com/users/ololosha228/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ololosha228/subscriptions", "organizations_url": "https://api.github.com/users/ololosha228/orgs", "repos_url": "https://api.github.com/users/ololosha228/repos", "events_url": "https://api.github.com/users/ololosha228/events{/privacy}", "received_events_url": "https://api.github.com/users/ololosha228/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-12-13T03:21:16Z", "updated_at": "2019-02-01T09:56:09Z", "closed_at": "2018-12-14T14:36:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/105", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/105/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/105/events", "html_url": "https://github.com/scoder/lupa/issues/105", "id": 373275660, "node_id": "MDU6SXNzdWUzNzMyNzU2NjA=", "number": 105, "title": "Question", "user": {"login": "SoulSen", "id": 38407270, "node_id": "MDQ6VXNlcjM4NDA3Mjcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38407270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoulSen", "html_url": "https://github.com/SoulSen", "followers_url": "https://api.github.com/users/SoulSen/followers", "following_url": "https://api.github.com/users/SoulSen/following{/other_user}", "gists_url": "https://api.github.com/users/SoulSen/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoulSen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoulSen/subscriptions", "organizations_url": "https://api.github.com/users/SoulSen/orgs", "repos_url": "https://api.github.com/users/SoulSen/repos", "events_url": "https://api.github.com/users/SoulSen/events{/privacy}", "received_events_url": "https://api.github.com/users/SoulSen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-24T02:15:29Z", "updated_at": "2019-08-18T05:13:33Z", "closed_at": "2019-08-18T05:13:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can Lupa take in multiple functions? If so how would I distinguish them?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/103", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/103/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/103/events", "html_url": "https://github.com/scoder/lupa/issues/103", "id": 347720926, "node_id": "MDU6SXNzdWUzNDc3MjA5MjY=", "number": 103, "title": "Build Windows wheels on appveyor", "user": {"login": "rfvermut", "id": 13441442, "node_id": "MDQ6VXNlcjEzNDQxNDQy", "avatar_url": "https://avatars3.githubusercontent.com/u/13441442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rfvermut", "html_url": "https://github.com/rfvermut", "followers_url": "https://api.github.com/users/rfvermut/followers", "following_url": "https://api.github.com/users/rfvermut/following{/other_user}", "gists_url": "https://api.github.com/users/rfvermut/gists{/gist_id}", "starred_url": "https://api.github.com/users/rfvermut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rfvermut/subscriptions", "organizations_url": "https://api.github.com/users/rfvermut/orgs", "repos_url": "https://api.github.com/users/rfvermut/repos", "events_url": "https://api.github.com/users/rfvermut/events{/privacy}", "received_events_url": "https://api.github.com/users/rfvermut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-08-05T18:36:03Z", "updated_at": "2018-08-06T10:42:05Z", "closed_at": "2018-08-06T09:30:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see some work was done in #89, #67 and related towards Windows binaries but no visible outcome. I had to set up my local appveyor repo to get some predictability: https://github.com/MysteriaLV/lupa\r\n\r\nBut I would like to contribute to help and fix this issue for everyone. You mentioned you don't want to tie lupa to one specific lua version. Can we build both flavors? \r\n\r\nHaving at least *some* permutation is better than nothing, right?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/101", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/101/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/101/events", "html_url": "https://github.com/scoder/lupa/issues/101", "id": 321937526, "node_id": "MDU6SXNzdWUzMjE5Mzc1MjY=", "number": 101, "title": "UnicodeDecodeError in pip install", "user": {"login": "changnet", "id": 9293777, "node_id": "MDQ6VXNlcjkyOTM3Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/9293777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changnet", "html_url": "https://github.com/changnet", "followers_url": "https://api.github.com/users/changnet/followers", "following_url": "https://api.github.com/users/changnet/following{/other_user}", "gists_url": "https://api.github.com/users/changnet/gists{/gist_id}", "starred_url": "https://api.github.com/users/changnet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changnet/subscriptions", "organizations_url": "https://api.github.com/users/changnet/orgs", "repos_url": "https://api.github.com/users/changnet/repos", "events_url": "https://api.github.com/users/changnet/events{/privacy}", "received_events_url": "https://api.github.com/users/changnet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-10T13:47:50Z", "updated_at": "2018-05-15T18:37:56Z", "closed_at": "2018-05-15T18:37:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems the setup.py cause a error when system default encoding is not utf-8.\r\n```\r\n    Using bundled Lua\r\n    building without Cython\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\dell\\AppData\\Local\\Temp\\pip-req-build-zth2l84p\\setup.py\", line 308, in <module>\r\n        for text_file in ['README.rst', 'INSTALL.rst', 'CHANGES.rst', \"LICENSE.txt\"]])\r\n      File \"C:\\Users\\dell\\AppData\\Local\\Temp\\pip-req-build-zth2l84p\\setup.py\", line 308, in <listcomp>\r\n        for text_file in ['README.rst', 'INSTALL.rst', 'CHANGES.rst', \"LICENSE.txt\"]])\r\n      File \"C:\\Users\\dell\\AppData\\Local\\Temp\\pip-req-build-zth2l84p\\setup.py\", line 298, in read_file\r\n        return f.read()\r\n    UnicodeDecodeError: 'gbk' codec can't decode byte 0x93 in position 1183: illegal multibyte sequence\r\n```\r\ndicuss here:https://github.com/pypa/pip/issues/4251#issuecomment-387664399", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/100", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/100/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/100/events", "html_url": "https://github.com/scoder/lupa/issues/100", "id": 317061239, "node_id": "MDU6SXNzdWUzMTcwNjEyMzk=", "number": 100, "title": "Python3.6 '--no-luajit' encoding error", "user": {"login": "5up3rD4n1", "id": 5721876, "node_id": "MDQ6VXNlcjU3MjE4NzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/5721876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/5up3rD4n1", "html_url": "https://github.com/5up3rD4n1", "followers_url": "https://api.github.com/users/5up3rD4n1/followers", "following_url": "https://api.github.com/users/5up3rD4n1/following{/other_user}", "gists_url": "https://api.github.com/users/5up3rD4n1/gists{/gist_id}", "starred_url": "https://api.github.com/users/5up3rD4n1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/5up3rD4n1/subscriptions", "organizations_url": "https://api.github.com/users/5up3rD4n1/orgs", "repos_url": "https://api.github.com/users/5up3rD4n1/repos", "events_url": "https://api.github.com/users/5up3rD4n1/events{/privacy}", "received_events_url": "https://api.github.com/users/5up3rD4n1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-24T03:53:58Z", "updated_at": "2018-05-03T01:23:55Z", "closed_at": "2018-05-03T01:23:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to create a python3 compatible version for https://github.com/jbaiter/chdkptp.py, but as I read in https://docs.python.org/3/howto/pyporting.html#text-versus-binary-data, python 2 and 3 are not compatibles when using strings as byte types. As I can understand the issue here is that the python2 version had no problem using strings as bytestring all over the code. Now using python 3 if I create a `LuaRuntime` with no encoding I get an error while decoding the bytes buffer from lua and if I use `encoding=None` parameter I get a lot of messages like `attempting to use global (a userdata value)` which means that for Lua runtime the data can not be accessed. I tried to use `tostring` lua function everywhere but I don't know where I should used it or not.\r\n\r\n```python3\r\nPython 3.6.3 (default, Oct  3 2017, 21:45:48) \r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import chdkptp\r\n>>> device = chdkptp.ChdkDevice(chdkptp.list_devices()[0])\r\n>>> device.shoot()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/dsolis/.virtualenvs/librescan/lib/python3.6/site-packages/chdkptp/device.py\", line 460, in shoot\r\n    return self._shoot_streaming(options, dng=kwargs.get('dng', False))\r\n  File \"/home/dsolis/.virtualenvs/librescan/lib/python3.6/site-packages/chdkptp/device.py\", line 547, in _shoot_streaming\r\n    \"\"\")(img_data)\r\n  File \"lupa/_lupa.pyx\", line 541, in lupa._lupa._LuaObject.__call__\r\n  File \"lupa/_lupa.pyx\", line 1288, in lupa._lupa.call_lua\r\n  File \"lupa/_lupa.pyx\", line 1310, in lupa._lupa.execute_lua_call\r\n  File \"lupa/_lupa.pyx\", line 1332, in lupa._lupa.unpack_lua_results\r\n  File \"lupa/_lupa.pyx\", line 1099, in lupa._lupa.py_from_lua\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte\r\n>>> \r\n```\r\n\r\nI appreciate any help I can get or if the is some library I can use to decode the string from Lua to python. I also tried the native code posted here http://lua-users.org/wiki/LuaUnicode to use an utf-32 string, but didn't work, I believe it is related than the resulting string comes from an image and then a lot of unicode can not be parsed. I can provide more information if there is something missing. \r\n\r\nI'm tagging @jbaiter just if he have an idea of how to deal with this. \r\n\r\nBasically what I need is the bytecodes of the picture captured by Lua. But I guess lupa is trying to decode it. Maybe an option to eval code overwriting the default encoding and return the bytestring can do it. \r\n\r\nThanks in advance. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/99", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/99/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/99/events", "html_url": "https://github.com/scoder/lupa/issues/99", "id": 282084631, "node_id": "MDU6SXNzdWUyODIwODQ2MzE=", "number": 99, "title": "Lupa not working in os 10.13", "user": {"login": "sauliuni", "id": 9511825, "node_id": "MDQ6VXNlcjk1MTE4MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/9511825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sauliuni", "html_url": "https://github.com/sauliuni", "followers_url": "https://api.github.com/users/sauliuni/followers", "following_url": "https://api.github.com/users/sauliuni/following{/other_user}", "gists_url": "https://api.github.com/users/sauliuni/gists{/gist_id}", "starred_url": "https://api.github.com/users/sauliuni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sauliuni/subscriptions", "organizations_url": "https://api.github.com/users/sauliuni/orgs", "repos_url": "https://api.github.com/users/sauliuni/repos", "events_url": "https://api.github.com/users/sauliuni/events{/privacy}", "received_events_url": "https://api.github.com/users/sauliuni/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-14T12:30:27Z", "updated_at": "2017-12-15T08:34:26Z", "closed_at": "2017-12-15T08:34:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\ni wanted to use lupa 1.5 package on my mac ( running 10.13). But after trying this:\r\n\r\n```\r\nimport lupa\r\nfrom lupa import LuaRuntime\r\nlua = LuaRuntime(unpack_returned_tuples=True)\r\n```\r\n\r\nI get following error:\r\n\r\n> dyld: lazy symbol binding failed: Symbol not found: _luaL_openlib\r\n  Referenced from: /usr/local/lib/python3.6/site-packages/lupa/_lupa.cpython-36m-darwin.so\r\n  Expected in: flat namespace\r\ndyld: Symbol not found: _luaL_openlib\r\n  Referenced from: /usr/local/lib/python3.6/site-packages/lupa/_lupa.cpython-36m-darwin.so\r\n  Expected in: flat namespace\r\n\r\nIm installed lua via brew (Is now lua 5.3.4), and use python 3.6 virtual environment.\r\n\r\nAny ideas what did go wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/97", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/97/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/97/events", "html_url": "https://github.com/scoder/lupa/issues/97", "id": 272246731, "node_id": "MDU6SXNzdWUyNzIyNDY3MzE=", "number": 97, "title": "Can't not eval code loaded from external file", "user": {"login": "manhnt9", "id": 11463928, "node_id": "MDQ6VXNlcjExNDYzOTI4", "avatar_url": "https://avatars1.githubusercontent.com/u/11463928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manhnt9", "html_url": "https://github.com/manhnt9", "followers_url": "https://api.github.com/users/manhnt9/followers", "following_url": "https://api.github.com/users/manhnt9/following{/other_user}", "gists_url": "https://api.github.com/users/manhnt9/gists{/gist_id}", "starred_url": "https://api.github.com/users/manhnt9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manhnt9/subscriptions", "organizations_url": "https://api.github.com/users/manhnt9/orgs", "repos_url": "https://api.github.com/users/manhnt9/repos", "events_url": "https://api.github.com/users/manhnt9/events{/privacy}", "received_events_url": "https://api.github.com/users/manhnt9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-08T15:47:31Z", "updated_at": "2019-02-01T10:19:23Z", "closed_at": "2019-02-01T10:19:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having the same problem with this question: https://stackoverflow.com/questions/35492523/cannot-execute-lua-code-read-from-file\r\n\r\n  File \"lupa/_lupa.pyx\", line 253, in lupa._lupa.LuaRuntime.eval\r\n  File \"lupa/_lupa.pyx\", line 1276, in lupa._lupa.run_lua\r\nlupa._lupa.LuaSyntaxError: error loading code: [string \"<python>\"]:1: <eof> expected near '='\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/95", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/95/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/95/events", "html_url": "https://github.com/scoder/lupa/issues/95", "id": 259209325, "node_id": "MDU6SXNzdWUyNTkyMDkzMjU=", "number": 95, "title": "lua 5.3 from system packages", "user": {"login": "riconnon", "id": 1963938, "node_id": "MDQ6VXNlcjE5NjM5Mzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1963938?v=4", "gravatar_id": "", "url": "https://api.github.com/users/riconnon", "html_url": "https://github.com/riconnon", "followers_url": "https://api.github.com/users/riconnon/followers", "following_url": "https://api.github.com/users/riconnon/following{/other_user}", "gists_url": "https://api.github.com/users/riconnon/gists{/gist_id}", "starred_url": "https://api.github.com/users/riconnon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/riconnon/subscriptions", "organizations_url": "https://api.github.com/users/riconnon/orgs", "repos_url": "https://api.github.com/users/riconnon/repos", "events_url": "https://api.github.com/users/riconnon/events{/privacy}", "received_events_url": "https://api.github.com/users/riconnon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-09-20T15:37:54Z", "updated_at": "2017-11-20T21:06:59Z", "closed_at": "2017-11-20T20:04:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the release of lupa-1.5 lupa can now use lua 5.3 from the bundled code, but still does not attempt to find lua 5.3 from system packages", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/92", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/92/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/92/events", "html_url": "https://github.com/scoder/lupa/issues/92", "id": 251169742, "node_id": "MDU6SXNzdWUyNTExNjk3NDI=", "number": 92, "title": "expose lua C APIs and ``lua_State`` object", "user": {"login": "TitanSnow", "id": 19969470, "node_id": "MDQ6VXNlcjE5OTY5NDcw", "avatar_url": "https://avatars2.githubusercontent.com/u/19969470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TitanSnow", "html_url": "https://github.com/TitanSnow", "followers_url": "https://api.github.com/users/TitanSnow/followers", "following_url": "https://api.github.com/users/TitanSnow/following{/other_user}", "gists_url": "https://api.github.com/users/TitanSnow/gists{/gist_id}", "starred_url": "https://api.github.com/users/TitanSnow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TitanSnow/subscriptions", "organizations_url": "https://api.github.com/users/TitanSnow/orgs", "repos_url": "https://api.github.com/users/TitanSnow/repos", "events_url": "https://api.github.com/users/TitanSnow/events{/privacy}", "received_events_url": "https://api.github.com/users/TitanSnow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-08-18T08:04:31Z", "updated_at": "2017-08-21T06:25:22Z", "closed_at": "2017-08-21T06:25:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "expose all or a limited subset of lua C APIs and the ``lua_State`` object to make it able to do low-level operations like syntax check", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/88", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/88/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/88/events", "html_url": "https://github.com/scoder/lupa/issues/88", "id": 237376026, "node_id": "MDU6SXNzdWUyMzczNzYwMjY=", "number": 88, "title": "lupa._lupa in python 3.4", "user": {"login": "arthur-hav", "id": 6583243, "node_id": "MDQ6VXNlcjY1ODMyNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/6583243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthur-hav", "html_url": "https://github.com/arthur-hav", "followers_url": "https://api.github.com/users/arthur-hav/followers", "following_url": "https://api.github.com/users/arthur-hav/following{/other_user}", "gists_url": "https://api.github.com/users/arthur-hav/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthur-hav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthur-hav/subscriptions", "organizations_url": "https://api.github.com/users/arthur-hav/orgs", "repos_url": "https://api.github.com/users/arthur-hav/repos", "events_url": "https://api.github.com/users/arthur-hav/events{/privacy}", "received_events_url": "https://api.github.com/users/arthur-hav/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-06-20T23:45:04Z", "updated_at": "2020-05-19T12:51:35Z", "closed_at": "2020-05-19T12:51:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "After following the 5 step tutorial to install lupa with a static LuaJIT, I ran into the issue of \"no module lupa._lupa\" trying to import lupa in python 3.4 (Debian).\r\n\r\nAfter building, with python 3, i got the following files inside site-packages/lupa:\r\n\r\n    lupa/\r\n      |\u2014\u2014__init__.py\r\n      |\u2014\u2014_lupa.py\r\n      |\u2014\u2014_lupa.cpython-34m.so\r\n      |\u2014\u2014__pycache__/\r\n      |\u2014\u2014version.py`\r\n\r\nThe import inside `__init__.py` is `from lupa._lupa import *`. It might work on python 2, but I suspect absolute_import in python 3 makes this line expect specifically a _lupa sub-module. I moved around the files: \r\n\r\n    lupa/\r\n      |\u2014\u2014__init__.py\r\n      |\u2014\u2014_lupa/\r\n          |\u2014\u2014__init__.py (old _lupa.py)\r\n          |\u2014\u2014_lupa.cpython-34m.so\r\n      |\u2014\u2014__pycache__/\r\n      |\u2014\u2014version.py`\r\n\r\nand it fixed the problem. I would then suggest that either the import or the file structure should be changed for python 3 support.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/86", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/86/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/86/events", "html_url": "https://github.com/scoder/lupa/issues/86", "id": 227621884, "node_id": "MDU6SXNzdWUyMjc2MjE4ODQ=", "number": 86, "title": "undefined symbol: lua_gettop on CentOS 7", "user": {"login": "Jayatubi", "id": 4991045, "node_id": "MDQ6VXNlcjQ5OTEwNDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4991045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jayatubi", "html_url": "https://github.com/Jayatubi", "followers_url": "https://api.github.com/users/Jayatubi/followers", "following_url": "https://api.github.com/users/Jayatubi/following{/other_user}", "gists_url": "https://api.github.com/users/Jayatubi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jayatubi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jayatubi/subscriptions", "organizations_url": "https://api.github.com/users/Jayatubi/orgs", "repos_url": "https://api.github.com/users/Jayatubi/repos", "events_url": "https://api.github.com/users/Jayatubi/events{/privacy}", "received_events_url": "https://api.github.com/users/Jayatubi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-10T09:39:24Z", "updated_at": "2019-12-21T13:41:39Z", "closed_at": "2019-12-21T13:41:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to install lupa on CentOS 7.\r\n\r\nI download the source of Lua 5.2 and build the lib:\r\n\r\n````\r\n# nm lib/liblua.a | grep lua_gettop\r\n0000000000000290 T lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n                 U lua_gettop\r\n````\r\n\r\nThen I install lupa via pip without errors:\r\n\r\n````\r\nInstalling collected packages: lupa\r\n  Running setup.py install for lupa ... done\r\nSuccessfully installed lupa-1.4\r\nYou are using pip version 8.1.2, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n````\r\n\r\nWhen I was trying to import lupa in python I got such error:\r\n\r\n````\r\nPython 2.7.5 (default, Nov 20 2015, 02:00:19)\r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-4)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import lupa\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/lib64/python2.7/site-packages/lupa/__init__.py\", line 31, in <module>\r\n    from lupa._lupa import *\r\nImportError: /usr/lib64/python2.7/site-packages/lupa/_lupa.so: undefined symbol: lua_gettop\r\n````\r\n\r\nMore information:\r\n\r\n````\r\n~ # nm /usr/lib64/python2.7/site-packages/lupa/_lupa.so | grep lua_gettop                                                         \r\n                 U lua_gettop\r\n\r\n~ # ldd /usr/lib64/python2.7/site-packages/lupa/_lupa.so                                                                           \r\n\tlinux-vdso.so.1 =>  (0x00007ffda6d39000)\r\n\tlibpython2.7.so.1.0 => /lib64/libpython2.7.so.1.0 (0x00007f62ac25f000)\r\n\tlibpthread.so.0 => /lib64/libpthread.so.0 (0x00007f62ac043000)\r\n\tlibc.so.6 => /lib64/libc.so.6 (0x00007f62abc80000)\r\n\tlibdl.so.2 => /lib64/libdl.so.2 (0x00007f62aba7c000)\r\n\tlibutil.so.1 => /lib64/libutil.so.1 (0x00007f62ab879000)\r\n\tlibm.so.6 => /lib64/libm.so.6 (0x00007f62ab576000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f62ac86f000)\r\n````\r\n\r\nIt seems the lupa didn't link the function statically or keep a reference to the dynamic lib neither.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/85", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/85/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/85/events", "html_url": "https://github.com/scoder/lupa/issues/85", "id": 227615338, "node_id": "MDU6SXNzdWUyMjc2MTUzMzg=", "number": 85, "title": "Can lupa works with Lua 5.3?", "user": {"login": "Jayatubi", "id": 4991045, "node_id": "MDQ6VXNlcjQ5OTEwNDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/4991045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jayatubi", "html_url": "https://github.com/Jayatubi", "followers_url": "https://api.github.com/users/Jayatubi/followers", "following_url": "https://api.github.com/users/Jayatubi/following{/other_user}", "gists_url": "https://api.github.com/users/Jayatubi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jayatubi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jayatubi/subscriptions", "organizations_url": "https://api.github.com/users/Jayatubi/orgs", "repos_url": "https://api.github.com/users/Jayatubi/repos", "events_url": "https://api.github.com/users/Jayatubi/events{/privacy}", "received_events_url": "https://api.github.com/users/Jayatubi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-10T09:14:58Z", "updated_at": "2017-08-12T16:38:26Z", "closed_at": "2017-08-12T16:38:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tried to compile lupa against to Lua 5.3 but failed duel a few compiling errors.\r\n\r\nAny instructions to make it work with Lua 5.3?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/77", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/77/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/77/events", "html_url": "https://github.com/scoder/lupa/issues/77", "id": 147718181, "node_id": "MDU6SXNzdWUxNDc3MTgxODE=", "number": 77, "title": "new release", "user": {"login": "kmike", "id": 107893, "node_id": "MDQ6VXNlcjEwNzg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmike", "html_url": "https://github.com/kmike", "followers_url": "https://api.github.com/users/kmike/followers", "following_url": "https://api.github.com/users/kmike/following{/other_user}", "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmike/subscriptions", "organizations_url": "https://api.github.com/users/kmike/orgs", "repos_url": "https://api.github.com/users/kmike/repos", "events_url": "https://api.github.com/users/kmike/events{/privacy}", "received_events_url": "https://api.github.com/users/kmike/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-12T11:27:35Z", "updated_at": "2016-04-12T19:34:29Z", "closed_at": "2016-04-12T18:52:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Hey @scoder,\n\nWould you mind cutting a pypi release with the current changes?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/75", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/75/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/75/events", "html_url": "https://github.com/scoder/lupa/issues/75", "id": 146196062, "node_id": "MDU6SXNzdWUxNDYxOTYwNjI=", "number": 75, "title": "PyPy support", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-04-06T06:07:58Z", "updated_at": "2017-08-17T15:15:44Z", "closed_at": "2017-08-17T07:31:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The package compiles and installs 'correctly' for the \"pypy\" and \"pypy3\" target on travis ( [see build](https://travis-ci.org/jayvdb/lupa/builds/121064162) ).\n\nHowever when it is used the following exception occurs on \"pypy\":\n\n``` python\nTraceback (most recent call last):\n...\n  File \"/home/travis/build/jayvdb/lupa/lupa/__init__.py\", line 31, in <module>\n    from lupa._lupa import *\nImportError: unable to load extension module '/home/travis/build/jayvdb/lupa/lupa/_lupa.pypy-25.so': /home/travis/build/jayvdb/lupa/lupa/_lupa.pypy-25.so: undefined symbol: PyByteArray_Check\n```\n\nThis appears to have a hack which works around the problem, but maybe it only pushes the problem further along\nhttps://mail.python.org/pipermail/pypy-dev/2014-August/012701.html\n\nAnd on PyPy3:\n\n``` python\nTraceback (most recent call last):\n...\n  File \"/home/travis/build/jayvdb/lupa/lupa/__init__.py\", line 31, in <module>\n    from lupa._lupa import *\nImportError: unable to load extension module '/home/travis/build/jayvdb/lupa/lupa/_lupa.pypy3-24.so': /home/travis/build/jayvdb/lupa/lupa/_lupa.pypy3-24.so: undefined symbol: PyBytes_FromFormat\n```\n\nwhich is https://bitbucket.org/pypy/pypy/issues/2022\n\nIf it isnt possible to workaround these issues easily, the setup.py could detect pypy and emit a useful error.  `README.rst` currently does mention Cpython a few times prominently , but it could be more clear and say that it definitely doesnt work on PyPy and probably wont compile on other implementations of Python .\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/69", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/69/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/69/events", "html_url": "https://github.com/scoder/lupa/issues/69", "id": 127016055, "node_id": "MDU6SXNzdWUxMjcwMTYwNTU=", "number": 69, "title": "Error when importing lupa ", "user": {"login": "mdtux89", "id": 1517735, "node_id": "MDQ6VXNlcjE1MTc3MzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1517735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdtux89", "html_url": "https://github.com/mdtux89", "followers_url": "https://api.github.com/users/mdtux89/followers", "following_url": "https://api.github.com/users/mdtux89/following{/other_user}", "gists_url": "https://api.github.com/users/mdtux89/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdtux89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdtux89/subscriptions", "organizations_url": "https://api.github.com/users/mdtux89/orgs", "repos_url": "https://api.github.com/users/mdtux89/repos", "events_url": "https://api.github.com/users/mdtux89/events{/privacy}", "received_events_url": "https://api.github.com/users/mdtux89/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-16T10:46:26Z", "updated_at": "2016-01-16T16:20:33Z", "closed_at": "2016-01-16T16:20:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I installed lupa as explained in INSTALL.rst and it seemed to work. The output of `python setup.py install` is the following:\n\n```\nfound LuaJIT build in /afs/inf.ed.ac.uk/user/s13/s1333293/lupa-1.2/LuaJIT-2.0.4/src\nbuilding statically\nbuilding without Cython\nrunning install\nrunning bdist_egg\nrunning egg_info\nwriting lupa.egg-info/PKG-INFO\nwriting top-level names to lupa.egg-info/top_level.txt\nwriting dependency_links to lupa.egg-info/dependency_links.txt\nreading manifest file 'lupa.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwriting manifest file 'lupa.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.linux-x86_64/egg\nrunning install_lib\nrunning build_py\ncreating build\ncreating build/lib.linux-x86_64-2.6\ncreating build/lib.linux-x86_64-2.6/lupa\ncopying lupa/version.py -> build/lib.linux-x86_64-2.6/lupa\ncopying lupa/__init__.py -> build/lib.linux-x86_64-2.6/lupa\nrunning build_ext\nbuilding 'lupa._lupa' extension\ncreating build/temp.linux-x86_64-2.6\ncreating build/temp.linux-x86_64-2.6/lupa\ngcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -DLUA_COMPAT_ALL -I/afs/inf.ed.ac.uk/user/s13/s1333293/lupa-1.2/LuaJIT-2.0.4/src -I/usr/include/python2.6 -c lupa/_lupa.c -o build/temp.linux-x86_64-2.6/lupa/_lupa.o\ngcc -pthread -shared build/temp.linux-x86_64-2.6/lupa/_lupa.o /afs/inf.ed.ac.uk/user/s13/s1333293/lupa-1.2/LuaJIT-2.0.4/src/libluajit.a -L/usr/lib64 -lpython2.6 -o build/lib.linux-x86_64-2.6/lupa/_lupa.so\ncreating build/bdist.linux-x86_64\ncreating build/bdist.linux-x86_64/egg\ncreating build/bdist.linux-x86_64/egg/lupa\ncopying build/lib.linux-x86_64-2.6/lupa/version.py -> build/bdist.linux-x86_64/egg/lupa\ncopying build/lib.linux-x86_64-2.6/lupa/__init__.py -> build/bdist.linux-x86_64/egg/lupa\ncopying build/lib.linux-x86_64-2.6/lupa/_lupa.so -> build/bdist.linux-x86_64/egg/lupa\nbyte-compiling build/bdist.linux-x86_64/egg/lupa/version.py to version.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/lupa/__init__.py to __init__.pyc\ncreating stub loader for lupa/_lupa.so\nbyte-compiling build/bdist.linux-x86_64/egg/lupa/_lupa.py to _lupa.pyc\ncreating build/bdist.linux-x86_64/egg/EGG-INFO\ncopying lupa.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying lupa.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying lupa.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying lupa.egg-info/not-zip-safe -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying lupa.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\nwriting build/bdist.linux-x86_64/egg/EGG-INFO/native_libs.txt\ncreating dist\ncreating 'dist/lupa-1.2-py2.6-linux-x86_64.egg' and adding 'build/bdist.linux-x86_64/egg' to it\nremoving 'build/bdist.linux-x86_64/egg' (and everything under it)\nProcessing lupa-1.2-py2.6-linux-x86_64.egg\ncreating /afs/inf.ed.ac.uk/user/s13/s1333293/virt_env/virt1/lib/python2.6/site-packages/lupa-1.2-py2.6-linux-x86_64.egg\nExtracting lupa-1.2-py2.6-linux-x86_64.egg to /afs/inf.ed.ac.uk/user/s13/s1333293/virt_env/virt1/lib/python2.6/site-packages\nAdding lupa 1.2 to easy-install.pth file\n\nInstalled /afs/inf.ed.ac.uk/user/s13/s1333293/virt_env/virt1/lib/python2.6/site-packages/lupa-1.2-py2.6-linux-x86_64.egg\nProcessing dependencies for lupa==1.2\nFinished processing dependencies for lupa==1.2\n```\n\nHowever, when I tried to import lupa I got the error:\n\n```\n>>> import lupa\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"lupa/__init__.py\", line 31, in <module>\n    from lupa._lupa import *\nImportError: No module named _lupa\n```\n\nI've seen two similar issues on this but they didn't help. The funny thing is that I actually succeeded in installing using lupa a few days ago but I uninstalled it by mistake and now it doesn't seem to work anymore. Any ideas?\n\nMarco\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/67", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/67/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/67/events", "html_url": "https://github.com/scoder/lupa/issues/67", "id": 117749499, "node_id": "MDU6SXNzdWUxMTc3NDk0OTk=", "number": 67, "title": "Compiling Lupa under MS-Windows", "user": {"login": "JuniorGenius", "id": 1732093, "node_id": "MDQ6VXNlcjE3MzIwOTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1732093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JuniorGenius", "html_url": "https://github.com/JuniorGenius", "followers_url": "https://api.github.com/users/JuniorGenius/followers", "following_url": "https://api.github.com/users/JuniorGenius/following{/other_user}", "gists_url": "https://api.github.com/users/JuniorGenius/gists{/gist_id}", "starred_url": "https://api.github.com/users/JuniorGenius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JuniorGenius/subscriptions", "organizations_url": "https://api.github.com/users/JuniorGenius/orgs", "repos_url": "https://api.github.com/users/JuniorGenius/repos", "events_url": "https://api.github.com/users/JuniorGenius/events{/privacy}", "received_events_url": "https://api.github.com/users/JuniorGenius/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-11-19T06:23:03Z", "updated_at": "2018-08-06T06:22:34Z", "closed_at": "2018-08-06T06:21:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "This has been going on for years, and me on my computers (Windows, Mac, Ubuntu) and my friends on their computers have never been able to compile this.\nhttp://stackoverflow.com/questions/33645073/unable-to-build-lupa\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/58", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/58/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/58/events", "html_url": "https://github.com/scoder/lupa/issues/58", "id": 102553990, "node_id": "MDU6SXNzdWUxMDI1NTM5OTA=", "number": 58, "title": "Interesting bit in readme", "user": {"login": "emanuil-tolev", "id": 1190172, "node_id": "MDQ6VXNlcjExOTAxNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1190172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emanuil-tolev", "html_url": "https://github.com/emanuil-tolev", "followers_url": "https://api.github.com/users/emanuil-tolev/followers", "following_url": "https://api.github.com/users/emanuil-tolev/following{/other_user}", "gists_url": "https://api.github.com/users/emanuil-tolev/gists{/gist_id}", "starred_url": "https://api.github.com/users/emanuil-tolev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emanuil-tolev/subscriptions", "organizations_url": "https://api.github.com/users/emanuil-tolev/orgs", "repos_url": "https://api.github.com/users/emanuil-tolev/repos", "events_url": "https://api.github.com/users/emanuil-tolev/events{/privacy}", "received_events_url": "https://api.github.com/users/emanuil-tolev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-22T17:42:38Z", "updated_at": "2015-08-22T17:54:03Z", "closed_at": "2015-08-22T17:54:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "> you may also happily assume it's just an amalgamation of the phonetic sounds that start the words \"Lua\" and \"Python\", two from each to keep the balance\n\nWhat's the 2nd letter coming from \"Python\"? L, u and a from Lupa are all only present in the word Lua. Anyhow, nice name and project!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/57", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/57/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/57/events", "html_url": "https://github.com/scoder/lupa/issues/57", "id": 94384377, "node_id": "MDU6SXNzdWU5NDM4NDM3Nw==", "number": 57, "title": "Socket.core Linking Error ", "user": {"login": "AlexIzydorczyk", "id": 5503240, "node_id": "MDQ6VXNlcjU1MDMyNDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5503240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexIzydorczyk", "html_url": "https://github.com/AlexIzydorczyk", "followers_url": "https://api.github.com/users/AlexIzydorczyk/followers", "following_url": "https://api.github.com/users/AlexIzydorczyk/following{/other_user}", "gists_url": "https://api.github.com/users/AlexIzydorczyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexIzydorczyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexIzydorczyk/subscriptions", "organizations_url": "https://api.github.com/users/AlexIzydorczyk/orgs", "repos_url": "https://api.github.com/users/AlexIzydorczyk/repos", "events_url": "https://api.github.com/users/AlexIzydorczyk/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexIzydorczyk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-10T20:22:49Z", "updated_at": "2015-07-21T10:08:13Z", "closed_at": "2015-07-17T18:08:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI am attempting to add load the socket library in a Lupa runtime.\n\nI installed socket with Luarocks, so I needed to append the necessary paths.\n\n```\n>>> import lupa\n>>> sys.setdlopenflags(orig_dlflags)\n>>> lua = lupa.LuaRuntime()\n>>> lua.execute(\"package.cpath = package.cpath .. ';/root/.luarocks/lib/lua/5.3/?.so;/usr/local/lib/lua/5.3/?.so;/usr/local/lib/lua/5.3/loadall.so;./?.so'\")\n>>> lua.execute(\"  package.path = package.path .. ';/root/.luarocks/share/lua/5.3/?.lua;/root/.luarocks/share/lua/5.3/?/init.lua;/usr/local/share/lua/5.3/?.lua;/usr/local/share/lua/5.3/?/init.lua;/usr/local/lib/lua/5.3/?.lua;/usr/local/lib/lua/5.3/?/init.lua;./?.lua;./?/init.lua'\")\n>>> lua.require(\"socket\")\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"lupa/_lupa.pyx\", line 268, in lupa._lupa.LuaRuntime.require (lupa/_lupa.c:4683)\n  File \"lupa/_lupa.pyx\", line 1245, in lupa._lupa.call_lua (lupa/_lupa.c:17287)\n  File \"lupa/_lupa.pyx\", line 1254, in lupa._lupa.execute_lua_call (lupa/_lupa.c:17400)\n  File \"lupa/_lupa.pyx\", line 1207, in lupa._lupa.raise_lua_error (lupa/_lupa.c:16746)\nlupa._lupa.LuaError: error loading module 'socket.core' from file '/usr/local/lib/lua/5.3/socket/core.so':\n    /usr/local/lib/lua/5.3/socket/core.so: undefined symbol: lua_rotate\n```\n\nA similar issue is mentioned here but the proposed solution does not seem to work for me (I am running Ubuntu):\n\nhttp://stackoverflow.com/questions/8361437/linker-error-lunatic-python-lua-requiresocket-undefined-symbol-lua-getme\n\nFrom my understanding, there is a linking problem to `liblua5.3.so`?\n\nAny help would be greatly appreciated.\n\nThanks,\nAlex\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/56", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/56/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/56/events", "html_url": "https://github.com/scoder/lupa/issues/56", "id": 94169453, "node_id": "MDU6SXNzdWU5NDE2OTQ1Mw==", "number": 56, "title": "Lupa running against wrong version of lua", "user": {"login": "jcelliott", "id": 1724070, "node_id": "MDQ6VXNlcjE3MjQwNzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1724070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcelliott", "html_url": "https://github.com/jcelliott", "followers_url": "https://api.github.com/users/jcelliott/followers", "following_url": "https://api.github.com/users/jcelliott/following{/other_user}", "gists_url": "https://api.github.com/users/jcelliott/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcelliott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcelliott/subscriptions", "organizations_url": "https://api.github.com/users/jcelliott/orgs", "repos_url": "https://api.github.com/users/jcelliott/repos", "events_url": "https://api.github.com/users/jcelliott/events{/privacy}", "received_events_url": "https://api.github.com/users/jcelliott/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-09T22:46:33Z", "updated_at": "2019-12-21T13:59:55Z", "closed_at": "2019-12-21T13:59:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have lua5.1 and lua5.3 installed on my system. I believe I have installed lupa against lua5.1. Running setup.py install outputs `pkg-config found lua5.1 version 5.1.5`. However, when I try to use lupa, it appears to be using lua5.3 still: `lua.globals()._VERSION` outputs 'Lua 5.3'. Any ideas on how to get it to use 5.1?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/55", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/55/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/55/events", "html_url": "https://github.com/scoder/lupa/issues/55", "id": 91462570, "node_id": "MDU6SXNzdWU5MTQ2MjU3MA==", "number": 55, "title": "Can not used in centos", "user": {"login": "XuYunnan", "id": 10227863, "node_id": "MDQ6VXNlcjEwMjI3ODYz", "avatar_url": "https://avatars3.githubusercontent.com/u/10227863?v=4", "gravatar_id": "", "url": "https://api.github.com/users/XuYunnan", "html_url": "https://github.com/XuYunnan", "followers_url": "https://api.github.com/users/XuYunnan/followers", "following_url": "https://api.github.com/users/XuYunnan/following{/other_user}", "gists_url": "https://api.github.com/users/XuYunnan/gists{/gist_id}", "starred_url": "https://api.github.com/users/XuYunnan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/XuYunnan/subscriptions", "organizations_url": "https://api.github.com/users/XuYunnan/orgs", "repos_url": "https://api.github.com/users/XuYunnan/repos", "events_url": "https://api.github.com/users/XuYunnan/events{/privacy}", "received_events_url": "https://api.github.com/users/XuYunnan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-06-27T13:10:23Z", "updated_at": "2015-07-11T05:34:12Z", "closed_at": "2015-07-11T05:34:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "After I install lupa 1.1 by \"pip install lupa\" in CentOS, I found this error:\n\n``` shell\n[vagrant@localhost download]$ python\nPython 2.7.5 (default, Jun 24 2015, 00:41:19) \n[GCC 4.8.3 20140911 (Red Hat 4.8.3-9)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import lupa\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/lib/python2.7/site-packages/lupa/__init__.py\", line 31, in <module>\n    from lupa._lupa import *\nImportError: /usr/lib/python2.7/site-packages/lupa/_lupa.so: undefined symbol: lua_gettop\n>>> \n```\n\nCan anyone help me? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/48", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/48/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/48/events", "html_url": "https://github.com/scoder/lupa/issues/48", "id": 57102389, "node_id": "MDU6SXNzdWU1NzEwMjM4OQ==", "number": 48, "title": "lupa coroutines choke on nested pcalls & yield", "user": {"login": "immerrr", "id": 579798, "node_id": "MDQ6VXNlcjU3OTc5OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/579798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/immerrr", "html_url": "https://github.com/immerrr", "followers_url": "https://api.github.com/users/immerrr/followers", "following_url": "https://api.github.com/users/immerrr/following{/other_user}", "gists_url": "https://api.github.com/users/immerrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/immerrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/immerrr/subscriptions", "organizations_url": "https://api.github.com/users/immerrr/orgs", "repos_url": "https://api.github.com/users/immerrr/repos", "events_url": "https://api.github.com/users/immerrr/events{/privacy}", "received_events_url": "https://api.github.com/users/immerrr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-09T22:47:39Z", "updated_at": "2015-11-09T23:23:36Z", "closed_at": "2015-11-09T23:23:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been running after a weird `error in error handling` error lately when hacking [splash](github.com/scrapinghub/splash) and I seem to have pinned the issue down.  Here's an example that looks admittedly contrived when all the unnecessary details are omitted:\n\n``` python\nfrom lupa import LuaRuntime\nlua = LuaRuntime()\n\npy_coro = lua.execute(\"\"\"\ncoro = require(\"coroutine\")\n\nfunction main()\n  print('pcall result:', pcall(pcall, coro.yield))\nend\n\nlua_coro = coro.create(main)\n\nstep = 1\nwhile coro.status(lua_coro) ~= 'dead' do\n   print('lua step '.. step .. ':', coro.resume(lua_coro, i))\n   step = step + 1\nend\n\nreturn coro.create(main)\n\"\"\")\n\nfor i, r in enumerate(py_coro(), 1):\n    print 'py step %d:' % i, r\n```\n\nIt produces the following output for me:\n\n```\nlua step 1: true\npcall result:   true    true    nil\nlua step 2: true\npy step 1: None\nTraceback (most recent call last):\n  File \"test_lupa.py\", line 22, in <module>\n    for i, r in enumerate(py_coro(), 1):\n  File \"lupa/_lupa.pyx\", line 810, in lupa._lupa._LuaThread.__next__ (lupa/_lupa.c:12213)\n  File \"lupa/_lupa.pyx\", line 886, in lupa._lupa.resume_lua_thread (lupa/_lupa.c:13091)\n  File \"lupa/_lupa.pyx\", line 1207, in lupa._lupa.raise_lua_error (lupa/_lupa.c:16746)\nlupa._lupa.LuaError: error in error handling\n```\n\nAs you can see, the coroutine is easily traversed inside Lua code but not in Python code. The issue is reproduced when all three following conditions are true:\n- there are nested `pcall`s in the coroutine\n- there is `coro.yield` somewhere inside those `pcall`s\n- outermost pcall invocation is not a functioncall statement, but an expression whose value is used afterwards and is not optimized away\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/42", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/42/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/42/events", "html_url": "https://github.com/scoder/lupa/issues/42", "id": 48459143, "node_id": "MDU6SXNzdWU0ODQ1OTE0Mw==", "number": 42, "title": "no attribute 'lua_type' in module lupa", "user": {"login": "zhizhongzhiwai", "id": 6985180, "node_id": "MDQ6VXNlcjY5ODUxODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6985180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhizhongzhiwai", "html_url": "https://github.com/zhizhongzhiwai", "followers_url": "https://api.github.com/users/zhizhongzhiwai/followers", "following_url": "https://api.github.com/users/zhizhongzhiwai/following{/other_user}", "gists_url": "https://api.github.com/users/zhizhongzhiwai/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhizhongzhiwai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhizhongzhiwai/subscriptions", "organizations_url": "https://api.github.com/users/zhizhongzhiwai/orgs", "repos_url": "https://api.github.com/users/zhizhongzhiwai/repos", "events_url": "https://api.github.com/users/zhizhongzhiwai/events{/privacy}", "received_events_url": "https://api.github.com/users/zhizhongzhiwai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-12T01:03:21Z", "updated_at": "2014-11-12T07:05:56Z", "closed_at": "2014-11-12T07:05:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "i am install lupa by command: sudo pip install lupa==1.0.1; luajit version is 2.0.2. python: 2.7\nit's error when execute: import lupa; lupa.lua_type();\nerror is: AttributeError: module object has no attribute lua_type;\nhow can i fix it ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/35", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/35/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/35/events", "html_url": "https://github.com/scoder/lupa/issues/35", "id": 47529557, "node_id": "MDU6SXNzdWU0NzUyOTU1Nw==", "number": 35, "title": "tables as kwargs for Python functions", "user": {"login": "kmike", "id": 107893, "node_id": "MDQ6VXNlcjEwNzg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmike", "html_url": "https://github.com/kmike", "followers_url": "https://api.github.com/users/kmike/followers", "following_url": "https://api.github.com/users/kmike/following{/other_user}", "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmike/subscriptions", "organizations_url": "https://api.github.com/users/kmike/orgs", "repos_url": "https://api.github.com/users/kmike/repos", "events_url": "https://api.github.com/users/kmike/events{/privacy}", "received_events_url": "https://api.github.com/users/kmike/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-02T07:26:40Z", "updated_at": "2014-11-21T22:22:22Z", "closed_at": "2014-11-21T22:22:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm using decorators to make it possible for Python functions to be called from Lua with both \"named arguments\" and \"positional arguments\": [code](https://github.com/scrapinghub/splash/blob/ec63e162a08605a57ffd607b9c0460b001ff387b/splash/lua.py#L129), [tests](https://github.com/scrapinghub/splash/blob/ec63e162a08605a57ffd607b9c0460b001ff387b/splash/tests/test_lua_utils.py).\n\nThe decorator has caveats, but if you think it is OK to provide it in lupa I can submit a PR (if we fix https://github.com/scoder/lupa/issues/26).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/31", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/31/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/31/events", "html_url": "https://github.com/scoder/lupa/issues/31", "id": 47270974, "node_id": "MDU6SXNzdWU0NzI3MDk3NA==", "number": 31, "title": "LuaRuntime.table interface prevents creating table with non-string keys", "user": {"login": "kmike", "id": 107893, "node_id": "MDQ6VXNlcjEwNzg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmike", "html_url": "https://github.com/kmike", "followers_url": "https://api.github.com/users/kmike/followers", "following_url": "https://api.github.com/users/kmike/following{/other_user}", "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmike/subscriptions", "organizations_url": "https://api.github.com/users/kmike/orgs", "repos_url": "https://api.github.com/users/kmike/repos", "events_url": "https://api.github.com/users/kmike/events{/privacy}", "received_events_url": "https://api.github.com/users/kmike/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-30T13:44:38Z", "updated_at": "2014-11-02T19:20:00Z", "closed_at": "2014-11-02T19:20:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It is not possible to create a table from `{1: \"foo\", 20: \"bar\"}` dict using `LuaRuntime.table(**kwargs)` because in Python kwarg keys must be strings. \n\nWhat do you think about adding a method like `.table(args, kwargs)` (not sure about its name)?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/27", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/27/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/27/events", "html_url": "https://github.com/scoder/lupa/issues/27", "id": 46050985, "node_id": "MDU6SXNzdWU0NjA1MDk4NQ==", "number": 27, "title": "pthread_cond_wait: Undefined error: 0", "user": {"login": "kmike", "id": 107893, "node_id": "MDQ6VXNlcjEwNzg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmike", "html_url": "https://github.com/kmike", "followers_url": "https://api.github.com/users/kmike/followers", "following_url": "https://api.github.com/users/kmike/following{/other_user}", "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmike/subscriptions", "organizations_url": "https://api.github.com/users/kmike/orgs", "repos_url": "https://api.github.com/users/kmike/repos", "events_url": "https://api.github.com/users/kmike/events{/privacy}", "received_events_url": "https://api.github.com/users/kmike/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-17T00:24:29Z", "updated_at": "2014-10-19T22:16:27Z", "closed_at": "2014-10-19T22:16:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Hi,\n\nPrograms that use lupa sometimes start printing `pthread_cond_wait: Undefined error: 0` messages and go to infinite cycle. I don't know how to reduce it to a small example; it happened with a console script and with IPython notebook. \n\nIt could be related to exceptions because a console script is a bunch of unit tests which went crazy when I started calling Python functions from Lua code with invalid number of arguments. As I recall IPython notebook went crazy after calling a coroutine incorrectly, but I'm not 100% sure.\n\nTests create (and destroy?) lots of LuaRuntime instances. After making them use a single LuaRuntime instance errors gone. Another created but unused LuaRuntime instance was present when tests were executed, if it matters.\n\nI'm using Python 2.7.5, Lua 5.2 and lupa 1.0.1 on OS X 10.9.5.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/26", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/26/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/26/events", "html_url": "https://github.com/scoder/lupa/issues/26", "id": 46015344, "node_id": "MDU6SXNzdWU0NjAxNTM0NA==", "number": 26, "title": "provide a way to do insinstance() checks", "user": {"login": "kmike", "id": 107893, "node_id": "MDQ6VXNlcjEwNzg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmike", "html_url": "https://github.com/kmike", "followers_url": "https://api.github.com/users/kmike/followers", "following_url": "https://api.github.com/users/kmike/following{/other_user}", "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmike/subscriptions", "organizations_url": "https://api.github.com/users/kmike/orgs", "repos_url": "https://api.github.com/users/kmike/repos", "events_url": "https://api.github.com/users/kmike/events{/privacy}", "received_events_url": "https://api.github.com/users/kmike/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2014-10-16T17:51:54Z", "updated_at": "2014-11-02T13:52:22Z", "closed_at": "2014-11-02T11:25:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Hey,\n\nIs there a good way to check if a result of some Lua computation is _LuaTable / _LuaFunction / _LuaObject / ...? \n\nCurrently I'm writing code like this:\n\n```\nimport lupa\nlua = lupa.LuaRuntime()\n_LuaTable = lua.eval(\"{}\").__class__ \n\n# ...\nobj = lua.globals()[\"myobj\"]\nif insinstance(obj, _LuaTable):\n    # ...\n```\n\nWhat do you think about removing cython.internal declarations around these classes?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/25", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/25/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/25/events", "html_url": "https://github.com/scoder/lupa/issues/25", "id": 45710012, "node_id": "MDU6SXNzdWU0NTcxMDAxMg==", "number": 25, "title": "Strange access behavior.", "user": {"login": "danostrowski", "id": 125086, "node_id": "MDQ6VXNlcjEyNTA4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/125086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danostrowski", "html_url": "https://github.com/danostrowski", "followers_url": "https://api.github.com/users/danostrowski/followers", "following_url": "https://api.github.com/users/danostrowski/following{/other_user}", "gists_url": "https://api.github.com/users/danostrowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/danostrowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danostrowski/subscriptions", "organizations_url": "https://api.github.com/users/danostrowski/orgs", "repos_url": "https://api.github.com/users/danostrowski/repos", "events_url": "https://api.github.com/users/danostrowski/events{/privacy}", "received_events_url": "https://api.github.com/users/danostrowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-10-14T03:58:56Z", "updated_at": "2014-10-14T06:24:58Z", "closed_at": "2014-10-14T06:15:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is PROBABLY in the docs and I just misunderstood this, but what is the explanation for this behavior?\n\n> > > from lupa import LuaRuntime\n> > > lua = LuaRuntime()\n> > > \n> > > fone = lua.eval('function (a) return a.thing == nil end')\n> > > ftwo = lua.eval('function (a) return a.thing() == nil end')\n> > > \n> > > class Thing(object):\n> > > ...   def **init**(self):\n> > > ...     self.thing = None\n> > > ...\n> > > class ThingTwo(object):\n> > > ...   def thing(self):\n> > > ...     return None\n> > > ...\n> > > fone(Thing())\n> > > False\n> > > ftwo(ThingTwo())\n> > > True\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/24", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/24/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/24/events", "html_url": "https://github.com/scoder/lupa/issues/24", "id": 45538966, "node_id": "MDU6SXNzdWU0NTUzODk2Ng==", "number": 24, "title": "lupa+coroutines segfaults in IPython", "user": {"login": "kmike", "id": 107893, "node_id": "MDQ6VXNlcjEwNzg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/107893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmike", "html_url": "https://github.com/kmike", "followers_url": "https://api.github.com/users/kmike/followers", "following_url": "https://api.github.com/users/kmike/following{/other_user}", "gists_url": "https://api.github.com/users/kmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmike/subscriptions", "organizations_url": "https://api.github.com/users/kmike/orgs", "repos_url": "https://api.github.com/users/kmike/repos", "events_url": "https://api.github.com/users/kmike/events{/privacy}", "received_events_url": "https://api.github.com/users/kmike/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-10-11T02:33:57Z", "updated_at": "2014-10-11T15:12:29Z", "closed_at": "2014-10-11T14:34:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm using lupa 1.0, ipython 2.3 (both installed using pip) and lua 5.2.3 (installed using homebrew). The issue is quite strange: lupa segfaults in IPython but not in python.\n\nPython:\n\n```\n>>> import lupa; lua = lupa.LuaRuntime()\n>>> f = lua.eval(\"function(N) coroutine.yield(N) end\")\n>>> list(f.coroutine(1))\n[1]\n>>> f.coroutine(1)\n<Lua thread at 0x7ff198f00b30>\n```\n\nIPython:\n\n```\nIn [1]: import lupa; lua = lupa.LuaRuntime()\nIn [2]: f = lua.eval(\"function(N) coroutine.yield(N) end\")\nIn [3]: list(f.coroutine(1))  # f.coroutine always seems to work fine when wrapped in list()\nOut[3]: [1]\nIn [4]: f.coroutine(1)\nSegmentation fault: 11\n```\n\nIt is likely a manifistation of a problem unrelated to python vs ipython, it could segfault in IPython e.g. because memory layout of python and ipython processes are different. I've had a similar issue in one of my wrappers once (works in python, doesn't work in ipython); the cause was improper handling of null-terminated strings. But I'm sure you know all this stuff way better :) \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/22", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/22/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/22/events", "html_url": "https://github.com/scoder/lupa/issues/22", "id": 29818349, "node_id": "MDU6SXNzdWUyOTgxODM0OQ==", "number": 22, "title": "Named functions", "user": {"login": "Sikwan", "id": 645159, "node_id": "MDQ6VXNlcjY0NTE1OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/645159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sikwan", "html_url": "https://github.com/Sikwan", "followers_url": "https://api.github.com/users/Sikwan/followers", "following_url": "https://api.github.com/users/Sikwan/following{/other_user}", "gists_url": "https://api.github.com/users/Sikwan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sikwan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sikwan/subscriptions", "organizations_url": "https://api.github.com/users/Sikwan/orgs", "repos_url": "https://api.github.com/users/Sikwan/repos", "events_url": "https://api.github.com/users/Sikwan/events{/privacy}", "received_events_url": "https://api.github.com/users/Sikwan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-03-20T13:30:47Z", "updated_at": "2014-11-02T13:54:14Z", "closed_at": "2014-03-21T13:41:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi !\n\nI am using lupa to validate some LUA expressions persisted to a data store from a python  webapp. The thing is my expressions contains some custom functions defined elsewhere. I am wondering is there is a way to define them before running the expression I am trying to validate ?\n\nEG:\n\n```\nexpr = \"field('brand') == 'audi'\"\n```\n\nHere field is a custom function, I am just trying to enforce that the LUA syntax is valid, not execute exactly the whole function so I figured I had to do something like that :\n\n```\nlua = LuaRuntime(unpack_returned_tuples=True)\nlua.eval('function field(x) return x end')\nprint lua.eval(expr)\n```\n\nBut I keep having this error : \n\n```\nTraceback (most recent call last):\n  File \"test-lua.py\", line 8, in <module>\n    lua.eval('function field((x) return x end')\n  File \"_lupa.pyx\", line 168, in lupa._lupa.LuaRuntime.eval (lupa/_lupa.c:3399)\n  File \"_lupa.pyx\", line 950, in lupa._lupa.run_lua (lupa/_lupa.c:13350)\nlupa._lupa.LuaSyntaxError: error loading code: [string \"<python>\"]:1: '(' expected near 'field'\n```\n\nAm I doing something wrong or is this just not possible ?\n\nThanks a lot\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/16", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/16/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/16/events", "html_url": "https://github.com/scoder/lupa/issues/16", "id": 27177228, "node_id": "MDU6SXNzdWUyNzE3NzIyOA==", "number": 16, "title": "Python functions called from Lua do not unpack returned tuples.", "user": {"login": "bmoe", "id": 3358344, "node_id": "MDQ6VXNlcjMzNTgzNDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/3358344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmoe", "html_url": "https://github.com/bmoe", "followers_url": "https://api.github.com/users/bmoe/followers", "following_url": "https://api.github.com/users/bmoe/following{/other_user}", "gists_url": "https://api.github.com/users/bmoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmoe/subscriptions", "organizations_url": "https://api.github.com/users/bmoe/orgs", "repos_url": "https://api.github.com/users/bmoe/repos", "events_url": "https://api.github.com/users/bmoe/events{/privacy}", "received_events_url": "https://api.github.com/users/bmoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-02-07T21:54:35Z", "updated_at": "2014-02-12T08:11:36Z", "closed_at": "2014-02-12T08:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\ndef pyfun():\n    return \"one\", \"two\", \"three\"\n\nlua.globals()['pyfun'] = pyfun\nlua.execute(\"a, b = pyfun() print(a) print(b)\")\n```\n\nprints:\n\n```\n('one', 'two', 'three')\nnil\n```\n\nwhere one might expect:\n\n```\none\ntwo\n```\n\nThis behavior makes it difficult (or impossible) to write Python libraries that implement the Lua convention:\n\n``` lua\nresult, message = somePossiblyFailingFunction(...)\n```\n\nI'm wondering if there is a reason I am overlooking for not unpacking returned tuples. Maybe this is just an oversight?  It seems pretty easy to alter this behavior.  I can offer you a patch (and unit tests) if you are interested.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/15", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/15/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/15/events", "html_url": "https://github.com/scoder/lupa/issues/15", "id": 16169605, "node_id": "MDU6SXNzdWUxNjE2OTYwNQ==", "number": 15, "title": "Cannot compile with local LuaJIT", "user": {"login": "campadrenalin", "id": 289492, "node_id": "MDQ6VXNlcjI4OTQ5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/289492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/campadrenalin", "html_url": "https://github.com/campadrenalin", "followers_url": "https://api.github.com/users/campadrenalin/followers", "following_url": "https://api.github.com/users/campadrenalin/following{/other_user}", "gists_url": "https://api.github.com/users/campadrenalin/gists{/gist_id}", "starred_url": "https://api.github.com/users/campadrenalin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/campadrenalin/subscriptions", "organizations_url": "https://api.github.com/users/campadrenalin/orgs", "repos_url": "https://api.github.com/users/campadrenalin/repos", "events_url": "https://api.github.com/users/campadrenalin/events{/privacy}", "received_events_url": "https://api.github.com/users/campadrenalin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-29T02:09:58Z", "updated_at": "2016-09-05T06:22:16Z", "closed_at": "2013-06-29T16:56:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I ran into this in my Fetchy branch, but I can reproduce in master, so I know it's not me.\n\n``` bash\ngit clone git@github.com:scoder/lupa.git\ncd lupa\nwget http://luajit.org/download/LuaJIT-2.0.2.tar.gz\ntar xvf LuaJIT-2.0.2.tar.gz\ncd LuaJIT-2.0.2/\nmake\ncd ..\nvirtualenv venv\nsource venv/bin/activate\npython setup.py install\n```\n\nIf I've got my reproduction steps right, this should grab the latest Lupa, then the latest LuaJIT, then builds LuaJIT, creates a virtualenv, and attempts to install Lupa into that virtualenv.\n\nThe error goes like this:\n\n```\nfound LuaJIT build in /home/philip/projects/lupa/LuaJIT-2.0.2/src\nbuilding statically\nbuilding without Cython\nrunning install\nrunning build\nrunning build_py\ncopying lupa/version.py -> build/lib.linux-x86_64-2.7/lupa\nrunning build_ext\nbuilding 'lupa._lupa' extension\ngcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/home/philip/projects/lupa/LuaJIT-2.0.2/src -I/usr/include/python2.7 -c lupa/_lupa.c -o build/temp.linux-x86_64-2.7/lupa/_lupa.o\ngcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-z,relro build/temp.linux-x86_64-2.7/lupa/_lupa.o /home/philip/projects/lupa/LuaJIT-2.0.2/src/libluajit.a -o build/lib.linux-x86_64-2.7/lupa/_lupa.so\n/usr/bin/ld: /home/philip/projects/lupa/LuaJIT-2.0.2/src/libluajit.a(lj_err.o): relocation R_X86_64_32S against `.rodata' can not be used when making a shared object; recompile with -fPIC\n/home/philip/projects/lupa/LuaJIT-2.0.2/src/libluajit.a: could not read symbols: Bad value\ncollect2: error: ld returned 1 exit status\nerror: command 'gcc' failed with exit status 1\n```\n\nI'm hoping you'll have more insight into this issue than I do.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/14", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/14/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/14/events", "html_url": "https://github.com/scoder/lupa/issues/14", "id": 16070835, "node_id": "MDU6SXNzdWUxNjA3MDgzNQ==", "number": 14, "title": "Experimental branch that fetches and builds luajit", "user": {"login": "campadrenalin", "id": 289492, "node_id": "MDQ6VXNlcjI4OTQ5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/289492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/campadrenalin", "html_url": "https://github.com/campadrenalin", "followers_url": "https://api.github.com/users/campadrenalin/followers", "following_url": "https://api.github.com/users/campadrenalin/following{/other_user}", "gists_url": "https://api.github.com/users/campadrenalin/gists{/gist_id}", "starred_url": "https://api.github.com/users/campadrenalin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/campadrenalin/subscriptions", "organizations_url": "https://api.github.com/users/campadrenalin/orgs", "repos_url": "https://api.github.com/users/campadrenalin/repos", "events_url": "https://api.github.com/users/campadrenalin/events{/privacy}", "received_events_url": "https://api.github.com/users/campadrenalin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-06-27T06:13:50Z", "updated_at": "2014-02-12T08:13:01Z", "closed_at": "2013-07-01T19:01:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The biggest struggle with actually using Lupa in any kind of production environment, in my experience, has been platform-specific breakage due to the variable nature of the install process. We do probably always want flexibility in the mainline branch, but for the sake of stability, predictability and testing validity, I'm gonna make a less-flexible branch that handles its own acquisition of luajit.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/13", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/13/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/13/events", "html_url": "https://github.com/scoder/lupa/issues/13", "id": 14449937, "node_id": "MDU6SXNzdWUxNDQ0OTkzNw==", "number": 13, "title": "`lupa._lupa.LuaError: Failed to initialise Lua runtime`", "user": {"login": "bwesterb", "id": 9975, "node_id": "MDQ6VXNlcjk5NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/9975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bwesterb", "html_url": "https://github.com/bwesterb", "followers_url": "https://api.github.com/users/bwesterb/followers", "following_url": "https://api.github.com/users/bwesterb/following{/other_user}", "gists_url": "https://api.github.com/users/bwesterb/gists{/gist_id}", "starred_url": "https://api.github.com/users/bwesterb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bwesterb/subscriptions", "organizations_url": "https://api.github.com/users/bwesterb/orgs", "repos_url": "https://api.github.com/users/bwesterb/repos", "events_url": "https://api.github.com/users/bwesterb/events{/privacy}", "received_events_url": "https://api.github.com/users/bwesterb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2013-05-17T12:28:55Z", "updated_at": "2014-08-07T17:31:53Z", "closed_at": "2014-08-07T17:31:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ python\nPython 2.7.3 (default, Nov  1 2012, 14:21:55) \n[GCC 4.2.1 Compatible Apple Clang 4.0 ((tags/Apple/clang-421.0.57))] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from lupa import LuaRuntime\n>>> lua = LuaRuntime()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"_lupa.pyx\", line 116, in lupa._lupa.LuaRuntime.__cinit__ (lupa/_lupa.c:2237)\nlupa._lupa.LuaError: Failed to initialise Lua runtime\n```\n\n`lupa` was installed with the following command.\n\n```\n$ sudo pip-2.7 install lupa\nDownloading/unpacking lupa\n  Downloading lupa-0.20.tar.gz (119kB): 119kB downloaded\n  Running setup.py egg_info for package lupa\n    building with Cython 0.18\n    No local build of LuaJIT2 found in lupa directory, checking for installed library using pkg-config\n    pkg-config found LuaJIT version 2.0.0-beta10\n\n\nInstalling collected packages: lupa\n  Running setup.py install for lupa\n    building with Cython 0.18\n    No local build of LuaJIT2 found in lupa directory, checking for installed library using pkg-config\n    pkg-config found LuaJIT version 2.0.0-beta10\n\n    skipping 'lupa/_lupa.c' Cython extension (up-to-date)\n    building 'lupa._lupa' extension\n    /usr/bin/clang -fno-strict-aliasing -fno-common -dynamic -pipe -O2 -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/opt/local/include/luajit-2.0 -I/opt/local/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c lupa/_lupa.c -o build/temp.macosx-10.8-x86_64-2.7/lupa/_lupa.o\n    lupa/_lupa.c:9253:14: warning: explicitly assigning a variable of type 'PyObject *' (aka 'struct _object *') to itself [-Wself-assign]\n      __pyx_self = __pyx_self;\n      ~~~~~~~~~~ ^ ~~~~~~~~~~\n    lupa/_lupa.c:9331:14: warning: explicitly assigning a variable of type 'PyObject *' (aka 'struct _object *') to itself [-Wself-assign]\n      __pyx_self = __pyx_self;\n      ~~~~~~~~~~ ^ ~~~~~~~~~~\n    2 warnings generated.\n    /usr/bin/clang -bundle -undefined dynamic_lookup -isysroot / -L/opt/local/lib build/temp.macosx-10.8-x86_64-2.7/lupa/_lupa.o -L/opt/local/lib -lluajit-5.1 -o build/lib.macosx-10.8-x86_64-2.7/lupa/_lupa.so\n\nSuccessfully installed lupa\nCleaning up...\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/11", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/11/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/11/events", "html_url": "https://github.com/scoder/lupa/issues/11", "id": 12569827, "node_id": "MDU6SXNzdWUxMjU2OTgyNw==", "number": 11, "title": "Compilation and installation works but importing from Python seems to be broken", "user": {"login": "YanezDeGomeyra", "id": 3997391, "node_id": "MDQ6VXNlcjM5OTczOTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3997391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YanezDeGomeyra", "html_url": "https://github.com/YanezDeGomeyra", "followers_url": "https://api.github.com/users/YanezDeGomeyra/followers", "following_url": "https://api.github.com/users/YanezDeGomeyra/following{/other_user}", "gists_url": "https://api.github.com/users/YanezDeGomeyra/gists{/gist_id}", "starred_url": "https://api.github.com/users/YanezDeGomeyra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YanezDeGomeyra/subscriptions", "organizations_url": "https://api.github.com/users/YanezDeGomeyra/orgs", "repos_url": "https://api.github.com/users/YanezDeGomeyra/repos", "events_url": "https://api.github.com/users/YanezDeGomeyra/events{/privacy}", "received_events_url": "https://api.github.com/users/YanezDeGomeyra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-03-28T15:36:47Z", "updated_at": "2014-08-07T17:28:52Z", "closed_at": "2014-08-07T17:28:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\n\nI've tried to build and install lupa on my Windows 7 64 repeatedly. The process seems to be successful, but at the time of using the installed library, Python claims:\n\nPython 2.7.2 (default, Jun 12 2011, 14:24:46) [MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n> > > import lupa\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > >   File \"lupa__init__.py\", line 31, in <module>\n> > >     from lupa._lupa import *\n> > > ImportError: No module named _lupa\n\nThe folder C:\\Python27\\Lib\\site-packages\\lupa seems to contain the correct stuff:\n\n28/03/2013  15:25    <DIR>          .\n28/03/2013  15:25    <DIR>          ..\n28/03/2013  15:25                22 version.py\n28/03/2013  15:25               163 version.pyc\n28/03/2013  15:25           119,808 _lupa.pyd\n28/03/2013  15:24               837 __init__.py\n28/03/2013  15:25               820 **init**.pyc\n               5 File(s)        121,650 bytes\n\nThe building process seems to be successful, although with a few warnings:\n\nC:\\temp\\lupa-0.20>setup.py install\nfound LuaJIT build in C:\\temp\\lupa-0.20\\luajit-2.0\\src\nbuilding statically\ngenerated sources not available, need Cython to build\nbuilding with Cython 0.18\nCompiling lupa/_lupa.pyx because it changed.\nCythonizing lupa/_lupa.pyx\nrunning install\nrunning build\nrunning build_py\ncreating build\ncreating build\\lib.win-amd64-2.7\ncreating build\\lib.win-amd64-2.7\\lupa\ncopying lupa\\version.py -> build\\lib.win-amd64-2.7\\lupa\ncopying lupa__init__.py -> build\\lib.win-amd64-2.7\\lupa\nrunning build_ext\nbuilding 'lupa._lupa' extension\ncreating build\\temp.win-amd64-2.7\ncreating build\\temp.win-amd64-2.7\\Release\ncreating build\\temp.win-amd64-2.7\\Release\\lupa\nC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\amd64\\cl.exe /c /nologo /Ox /MD /W3 /GS- /DNDEBUG -IC:\\temp\\lu\npa-0.20\\luajit-2.0\\src -IC:\\Python27\\include -IC:\\Python27\\PC /Tclupa/_lupa.c /Fobuild\\temp.win-amd64-2.7\\Release\\lupa/_\nlupa.obj\n_lupa.c\nlupa/_lupa.c(812) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(825) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(846) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(3730) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(3730) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(8671) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(12090) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nlupa/_lupa.c(15984) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\amd64\\link.exe /DLL /nologo /INCREMENTAL:NO /LIBPATH:C:\\Python\n27\\libs /LIBPATH:C:\\Python27\\PCbuild\\amd64 /EXPORT:init_lupa build\\temp.win-amd64-2.7\\Release\\lupa/_lupa.obj C:\\temp\\lup\na-0.20\\luajit-2.0\\src\\lua51.lib /OUT:build\\lib.win-amd64-2.7\\lupa_lupa.pyd /IMPLIB:build\\temp.win-amd64-2.7\\Release\\lup\na_lupa.lib /MANIFESTFILE:build\\temp.win-amd64-2.7\\Release\\lupa_lupa.pyd.manifest\n_lupa.obj : warning LNK4197: export 'init_lupa' specified multiple times; using first specification\n   Creating library build\\temp.win-amd64-2.7\\Release\\lupa_lupa.lib and object build\\temp.win-amd64-2.7\\Release\\lupa_lu\npa.exp\nC:\\Program Files\\Microsoft SDKs\\Windows\\v7.0\\bin\\x64\\mt.exe -nologo -manifest build\\temp.win-amd64-2.7\\Release\\lupa_lup\na.pyd.manifest -outputresource:build\\lib.win-amd64-2.7\\lupa_lupa.pyd;2\nrunning install_lib\ncopying build\\lib.win-amd64-2.7\\lupa\\version.py -> C:\\Python27\\Lib\\site-packages\\lupa\ncopying build\\lib.win-amd64-2.7\\lupa_lupa.pyd -> C:\\Python27\\Lib\\site-packages\\lupa\ncopying build\\lib.win-amd64-2.7\\lupa__init__.py -> C:\\Python27\\Lib\\site-packages\\lupa\nbyte-compiling C:\\Python27\\Lib\\site-packages\\lupa\\version.py to version.pyc\nbyte-compiling C:\\Python27\\Lib\\site-packages\\lupa__init__.py to **init**.pyc\nrunning install_egg_info\nRemoving C:\\Python27\\Lib\\site-packages\\lupa-0.20-py2.7.egg-info\nWriting C:\\Python27\\Lib\\site-packages\\lupa-0.20-py2.7.egg-info\n\nCould this be an issue? I've taken the latest LuaJIT and lupa from the git repositories.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/8", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/8/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/8/events", "html_url": "https://github.com/scoder/lupa/issues/8", "id": 10396161, "node_id": "MDU6SXNzdWUxMDM5NjE2MQ==", "number": 8, "title": "setup.py checks for libluajit.a; Windows incompatible?", "user": {"login": "danostrowski", "id": 125086, "node_id": "MDQ6VXNlcjEyNTA4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/125086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danostrowski", "html_url": "https://github.com/danostrowski", "followers_url": "https://api.github.com/users/danostrowski/followers", "following_url": "https://api.github.com/users/danostrowski/following{/other_user}", "gists_url": "https://api.github.com/users/danostrowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/danostrowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danostrowski/subscriptions", "organizations_url": "https://api.github.com/users/danostrowski/orgs", "repos_url": "https://api.github.com/users/danostrowski/repos", "events_url": "https://api.github.com/users/danostrowski/events{/privacy}", "received_events_url": "https://api.github.com/users/danostrowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-01-28T22:42:35Z", "updated_at": "2014-02-12T08:11:10Z", "closed_at": "2014-02-12T08:10:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have built LuaJIT 2.0.0 on my Windows box, using the instructions found here: http://luajit.org/install.html\n\nHowever, at the end of this build process (using msvcbuild.bat), there is no libluajit.a anywhere, so it seems impossible to build LuaJIT statically based on the checks setup.py does in `find_luajit_build`. It seems to me on Windows it should actually be checking for lua51.dll as well?\n\nI don't really know much about pkg-config on Windows, quite frankly, but is that the only way to get lupa to install on Windows in this scenario? (No Cygwin or anything, I used the Windows SDK to build LuaJIT)\n\nIf that is the case, there's really no indication of that on the lupa page.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/7", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/7/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/7/events", "html_url": "https://github.com/scoder/lupa/issues/7", "id": 7248045, "node_id": "MDU6SXNzdWU3MjQ4MDQ1", "number": 7, "title": "Install instruction problem / install problem", "user": {"login": "danostrowski", "id": 125086, "node_id": "MDQ6VXNlcjEyNTA4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/125086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danostrowski", "html_url": "https://github.com/danostrowski", "followers_url": "https://api.github.com/users/danostrowski/followers", "following_url": "https://api.github.com/users/danostrowski/following{/other_user}", "gists_url": "https://api.github.com/users/danostrowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/danostrowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danostrowski/subscriptions", "organizations_url": "https://api.github.com/users/danostrowski/orgs", "repos_url": "https://api.github.com/users/danostrowski/repos", "events_url": "https://api.github.com/users/danostrowski/events{/privacy}", "received_events_url": "https://api.github.com/users/danostrowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638068, "node_id": "MDU6TGFiZWwxNzYzODA2OA==", "url": "https://api.github.com/repos/scoder/lupa/labels/invalid", "name": "invalid", "color": "DDDDDD", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-09-30T19:08:30Z", "updated_at": "2012-10-27T11:04:04Z", "closed_at": "2012-10-27T11:04:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \n\nSo one thing I noticed in the INSTALL file is that there's no mention of running `python setup.py install` after running build. That's fairly obvious to me, but maybe not everyone.\n\nOn to my main problem. I installed LuaJIT from a sibling directory as lupa (both in /usr/local/src/<dirname>) and when I went to run lupa, it said it couldn't find the so object it needed (output below.) Which is weird because it seemed to build OK, using pkg-config to find the LuaJIT package.\n\nSo then, I moved the LuaJIT directory that I'd installed from **into** the lupa directory, re-built/installed and everything seems to work now that it's statically linked.\n\nAny idea why it wouldn't have worked originally? Thanks.\n\n---\n\nBUILDVM   ../lib/vmdef.lua\nDYNLINK   libluajit.so\nLINK      luajit\nOK        Successfully built LuaJIT\nmake[1]: Leaving directory `/usr/local/src/LuaJIT-2.0.0-beta10/src'\n==== Successfully built LuaJIT 2.0.0-beta10 ====\nroot@localhost:/usr/local/src/LuaJIT-2.0.0-beta10# make install\n==== Installing LuaJIT 2.0.0-beta10 to /usr/local ====\nmkdir -p /usr/local/bin /usr/local/lib /usr/local/include/luajit-2.0 /usr/local/share/man/man1 /usr/local/lib/pkgconfig /usr/local/share/luajit-2.0.0-beta10/jit /usr/local/share/lua/5.1 /usr/local/lib/lua/5.1\ncd src && install -m 0755 luajit /usr/local/bin/luajit-2.0.0-beta10\ncd src && test -f libluajit.a && install -m 0644 libluajit.a /usr/local/lib/libluajit-5.1.a || :\nrm -f /usr/local/lib/libluajit-5.1.so.2.0.0 /usr/local/lib/libluajit-5.1.so /usr/local/lib/libluajit-5.1.so\ncd src && test -f libluajit.so && \\\n          install -m 0755 libluajit.so /usr/local/lib/libluajit-5.1.so.2.0.0 && \\\n          ldconfig -n /usr/local/lib && \\\n          ln -sf libluajit-5.1.so.2.0.0 /usr/local/lib/libluajit-5.1.so && \\\n          ln -sf libluajit-5.1.so.2.0.0 /usr/local/lib/libluajit-5.1.so || :\ncd etc && install -m 0644 luajit.1 /usr/local/share/man/man1\ncd etc && sed -e \"s|^prefix=.*|prefix=/usr/local|\" luajit.pc > luajit.pc.tmp && \\\n          install -m 0644 luajit.pc.tmp /usr/local/lib/pkgconfig/luajit.pc && \\\n          rm -f luajit.pc.tmp\ncd src && install -m 0644 lua.h lualib.h lauxlib.h luaconf.h lua.hpp luajit.h /usr/local/include/luajit-2.0\ncd lib && install -m 0644 bc.lua v.lua dump.lua dis_x86.lua dis_x64.lua dis_arm.lua dis_ppc.lua dis_mips.lua dis_mipsel.lua bcsave.lua vmdef.lua /usr/local/share/luajit-2.0.0-beta10/jit\n==== Successfully installed LuaJIT 2.0.0-beta10 to /usr/local ====\n\nNote: the beta releases deliberately do NOT install a symlink for luajit\nYou can do this now by running this command (with sudo):\n\n  ln -sf luajit-2.0.0-beta10 /usr/local/bin/luajit\n\nroot@localhost:/usr/local/src/LuaJIT-2.0.0-beta10# ln -sf luajit-2.0.0-beta10 /usr/local/bin/luajit\nroot@localhost:/usr/local/src/LuaJIT-2.0.0-beta10# cd ..\nroot@localhost:/usr/local/src# ls\ndemoinfo2  demoinfo2.zip  LuaJIT-2.0.0-beta10  LuaJIT-2.0.0-beta10.tar.gz  lupa-0.20.tar.gz  riak_1.2.0-1_i386.deb\nroot@localhost:/usr/local/src# tar zxvf lupa-0.20.tar.gz\nlupa-0.20/\nlupa-0.20/LICENSE.txt\nlupa-0.20/setup.py\nlupa-0.20/MANIFEST.in\nlupa-0.20/README.rst\nlupa-0.20/lupa/\nlupa-0.20/lupa/**init**.py\nlupa-0.20/lupa/lua.pxd\nlupa-0.20/lupa/_lupa.c\nlupa-0.20/lupa/lock.pxi\nlupa-0.20/lupa/tests/\nlupa-0.20/lupa/tests/__init__.py\nlupa-0.20/lupa/tests/test.py\nlupa-0.20/lupa/_lupa.pyx\nlupa-0.20/lupa/version.py\nlupa-0.20/CHANGES.rst\nlupa-0.20/PKG-INFO\nlupa-0.20/INSTALL.rst\nlupa-0.20/MANIFEST\nroot@localhost:/usr/local/src# cd lupa-0.20/\nroot@localhost:/usr/local/src/lupa-0.20# python setup.py build\nbuilding without Cython\nNo local build of LuaJIT2 found in lupa directory, checking for installed library using pkg-config\nDid not find LuaJIT2 using pkg-config: /bin/sh: pkg-config: not found\n\nTraceback (most recent call last):\n  File \"setup.py\", line 111, in <module>\n    ext_args = find_luajit_build()\n  File \"setup.py\", line 99, in find_luajit_build\n    raise RuntimeError(\"LuaJIT2 not found, please install the library and its development packages\"\nRuntimeError: LuaJIT2 not found, please install the library and its development packages, or put a local build into the lupa main directory (or pass '--no-luajit' option)\nroot@localhost:/usr/local/src/lupa-0.20# pkg-config\nThe program 'pkg-config' is currently not installed.  You can install it by typing:\napt-get install pkg-config\nroot@localhost:/usr/local/src/lupa-0.20# aptitude install pkg-config\nThe following NEW packages will be installed:\n  pkg-config\n0 packages upgraded, 1 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 40.3 kB of archives. After unpacking 156 kB will be used.\nGet: 1 http://us.archive.ubuntu.com/ubuntu/ oneiric/main pkg-config i386 0.26-1ubuntu1 [40.3 kB]\nFetched 40.3 kB in 0s (119 kB/s)\nSelecting previously deselected package pkg-config.\n(Reading database ... 35010 files and directories currently installed.)\nUnpacking pkg-config (from .../pkg-config_0.26-1ubuntu1_i386.deb) ...\nProcessing triggers for man-db ...\nSetting up pkg-config (0.26-1ubuntu1) ...\n\nroot@localhost:/usr/local/src/lupa-0.20# python setup.py build\nbuilding without Cython\nNo local build of LuaJIT2 found in lupa directory, checking for installed library using pkg-config\npkg-config found LuaJIT version 2.0.0-beta10\n\nrunning build\nrunning build_py\ncreating build\ncreating build/lib.linux-i686-2.7\ncreating build/lib.linux-i686-2.7/lupa\ncopying lupa/version.py -> build/lib.linux-i686-2.7/lupa\ncopying lupa/**init**.py -> build/lib.linux-i686-2.7/lupa\nrunning build_ext\nbuilding 'lupa._lupa' extension\ncreating build/temp.linux-i686-2.7\ncreating build/temp.linux-i686-2.7/lupa\ngcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/local/include/luajit-2.0 -I/usr/include/python2.7 -c lupa/_lupa.c -o build/temp.linux-i686-2.7/lupa/_lupa.o\nlupa/_lupa.c: In function \u00e2__pyx_pf_4lupa_5_lupa_9FastRLock_5__exit__\u00e2:\nlupa/_lupa.c:1561:13: warning: variable \u00e2__pyx_v_tb\u00e2 set but not used [-Wunused-but-set-variable]\nlupa/_lupa.c:1560:13: warning: variable \u00e2__pyx_v_v\u00e2 set but not used [-Wunused-but-set-variable]\nlupa/_lupa.c:1559:13: warning: variable \u00e2__pyx_v_t\u00e2 set but not used [-Wunused-but-set-variable]\nlupa/_lupa.c: In function \u00e2__pyx_f_4lupa_5_lupa_call_python\u00e2:\nlupa/_lupa.c:11630:7: warning: variable \u00e2__pyx_v_ret\u00e2 set but not used [-Wunused-but-set-variable]\nlupa/_lupa.c: In function \u00e2__pyx_f_4lupa_5_lupa_py_as_function\u00e2:\nlupa/_lupa.c:13839:42: warning: variable \u00e2__pyx_v_py_obj\u00e2 set but not used [-Wunused-but-set-variable]\nlupa/_lupa.c: In function \u00e2__pyx_f_4lupa_5_lupa_lua_object_repr\u00e2:\nlupa/_lupa.c:6202:18: warning: \u00e2__pyx_v_ptr\u00e2 may be used uninitialized in this function [-Wuninitialized]\nlupa/_lupa.c: In function \u00e2__pyx_pf_4lupa_5_lupa_10_LuaObject_3__len__\u00e2:\nlupa/_lupa.c:4455:3: warning: \u00e2__pyx_r\u00e2 may be used uninitialized in this function [-Wuninitialized]\ngcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions build/temp.linux-i686-2.7/lupa/_lupa.o -L/usr/local/lib -lluajit-5.1 -o build/lib.linux-i686-2.7/lupa/_lupa.so\nroot@localhost:/usr/local/src/lupa-0.20# python\nPython 2.7.2+ (default, Oct  4 2011, 20:03:08)\n[GCC 4.6.1] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n> > > import lupa\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > >   File \"lupa/**init**.py\", line 31, in <module>\n> > >     from lupa._lupa import *\n> > > ImportError: No module named _lupa\n> > > quit()\n> > > root@localhost:/usr/local/src/lupa-0.20# cd ..\n> > > root@localhost:/usr/local/src# python\n> > > Python 2.7.2+ (default, Oct  4 2011, 20:03:08)\n> > > [GCC 4.6.1] on linux2\n> > > Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n> > > import lupa\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > > ImportError: No module named lupa\n> > > quit()\n> > > root@localhost:/usr/local/src# cd lupa-0.20/\n> > > root@localhost:/usr/local/src/lupa-0.20# python setup.py install\n> > > building without Cython\n> > > No local build of LuaJIT2 found in lupa directory, checking for installed library using pkg-config\n> > > pkg-config found LuaJIT version 2.0.0-beta10\n\nrunning install\nrunning build\nrunning build_py\ncopying lupa/version.py -> build/lib.linux-i686-2.7/lupa\nrunning build_ext\nrunning install_lib\ncreating /usr/local/lib/python2.7/dist-packages/lupa\ncopying build/lib.linux-i686-2.7/lupa/version.py -> /usr/local/lib/python2.7/dist-packages/lupa\ncopying build/lib.linux-i686-2.7/lupa/_lupa.so -> /usr/local/lib/python2.7/dist-packages/lupa\ncopying build/lib.linux-i686-2.7/lupa/__init__.py -> /usr/local/lib/python2.7/dist-packages/lupa\nbyte-compiling /usr/local/lib/python2.7/dist-packages/lupa/version.py to version.pyc\nbyte-compiling /usr/local/lib/python2.7/dist-packages/lupa/**init**.py to **init**.pyc\nrunning install_egg_info\nWriting /usr/local/lib/python2.7/dist-packages/lupa-0.20.egg-info\nroot@localhost:/usr/local/src/lupa-0.20# cd ..\nroot@localhost:/usr/local/src# python\nPython 2.7.2+ (default, Oct  4 2011, 20:03:08)\n[GCC 4.6.1] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n> > > import lupa\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > >   File \"/usr/local/lib/python2.7/dist-packages/lupa/**init**.py\", line 31, in <module>\n> > >     from lupa._lupa import *\n> > > ImportError: libluajit-5.1.so.2: cannot open shared object file: No such file or directory\n> > > quit()\n> > > root@localhost:/usr/local/src# find .. -iname '_libluajit_'\n> > > ../lib/libluajit-5.1.so.2.0.0\n> > > ../lib/libluajit-5.1.a\n> > > ../lib/libluajit-5.1.so\n> > > ../lib/libluajit-5.1.so.2\n> > > ../src/LuaJIT-2.0.0-beta10/src/libluajit.so\n> > > ../src/LuaJIT-2.0.0-beta10/src/libluajit.a\n> > > root@localhost:/usr/local/src# ls lupa-0.20\n> > > build  CHANGES.rst  INSTALL.rst  LICENSE.txt  lupa  MANIFEST  MANIFEST.in  PKG-INFO  README.rst  setup.py\n> > > root@localhost:/usr/local/src# ls lupa-0.20/build/\n> > > lib.linux-i686-2.7  temp.linux-i686-2.7\n> > > root@localhost:/usr/local/src# ls lupa-0.20/build/lib.linux-i686-2.7/\n> > > lupa\n> > > root@localhost:/usr/local/src# ls lupa-0.20/build/lib.linux-i686-2.7/lupa/\n> > > __init__.py  _lupa.so  version.py\n> > > root@localhost:/usr/local/src# ls /usr/local/include/luajit-2.0\n> > > lauxlib.h  luaconf.h  lua.h  lua.hpp  luajit.h  lualib.h\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/5", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/5/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/5/events", "html_url": "https://github.com/scoder/lupa/issues/5", "id": 4809478, "node_id": "MDU6SXNzdWU0ODA5NDc4", "number": 5, "title": "Cannot install, getting ImportError", "user": {"login": "campadrenalin", "id": 289492, "node_id": "MDQ6VXNlcjI4OTQ5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/289492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/campadrenalin", "html_url": "https://github.com/campadrenalin", "followers_url": "https://api.github.com/users/campadrenalin/followers", "following_url": "https://api.github.com/users/campadrenalin/following{/other_user}", "gists_url": "https://api.github.com/users/campadrenalin/gists{/gist_id}", "starred_url": "https://api.github.com/users/campadrenalin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/campadrenalin/subscriptions", "organizations_url": "https://api.github.com/users/campadrenalin/orgs", "repos_url": "https://api.github.com/users/campadrenalin/repos", "events_url": "https://api.github.com/users/campadrenalin/events{/privacy}", "received_events_url": "https://api.github.com/users/campadrenalin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-05-30T05:32:08Z", "updated_at": "2012-05-30T05:49:10Z", "closed_at": "2012-05-30T05:49:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\nPython 2.6.6 (r266:84292, Dec 27 2010, 00:02:40) \n[GCC 4.4.5] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import lupa\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.6/dist-packages/lupa/__init__.py\", line 31, in <module>\n    from lupa._lupa import *\nImportError: libluajit-5.1.so.2: cannot open shared object file: No such file or directory\n```\n\nLupa built and installed with no errors, so I really don't get what the deal is. It may have something to do with me screwing up during the first install and installing LuaJIT separately from Lupa, but I rebuilt LuaJIT in a subfolder and rebuilt/reinstalled Lupa after that, so I'm not sure.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/4", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/4/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/4/events", "html_url": "https://github.com/scoder/lupa/issues/4", "id": 2015779, "node_id": "MDU6SXNzdWUyMDE1Nzc5", "number": 4, "title": "It is not support lua 5.0", "user": {"login": "guolei1998", "id": 641675, "node_id": "MDQ6VXNlcjY0MTY3NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/641675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guolei1998", "html_url": "https://github.com/guolei1998", "followers_url": "https://api.github.com/users/guolei1998/followers", "following_url": "https://api.github.com/users/guolei1998/following{/other_user}", "gists_url": "https://api.github.com/users/guolei1998/gists{/gist_id}", "starred_url": "https://api.github.com/users/guolei1998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guolei1998/subscriptions", "organizations_url": "https://api.github.com/users/guolei1998/orgs", "repos_url": "https://api.github.com/users/guolei1998/repos", "events_url": "https://api.github.com/users/guolei1998/events{/privacy}", "received_events_url": "https://api.github.com/users/guolei1998/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-10-21T14:13:09Z", "updated_at": "2019-06-24T18:29:09Z", "closed_at": "2016-09-18T09:57:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is not support lua 5.0.\nCan you do it?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/3", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/3/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/3/events", "html_url": "https://github.com/scoder/lupa/issues/3", "id": 732746, "node_id": "MDU6SXNzdWU3MzI3NDY=", "number": 3, "title": "Crashing Python by iterating Lua table [double post from lupa-dev mailing list]", "user": {"login": "lijia1", "id": 709709, "node_id": "MDQ6VXNlcjcwOTcwOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/709709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lijia1", "html_url": "https://github.com/lijia1", "followers_url": "https://api.github.com/users/lijia1/followers", "following_url": "https://api.github.com/users/lijia1/following{/other_user}", "gists_url": "https://api.github.com/users/lijia1/gists{/gist_id}", "starred_url": "https://api.github.com/users/lijia1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lijia1/subscriptions", "organizations_url": "https://api.github.com/users/lijia1/orgs", "repos_url": "https://api.github.com/users/lijia1/repos", "events_url": "https://api.github.com/users/lijia1/events{/privacy}", "received_events_url": "https://api.github.com/users/lijia1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-04-05T00:59:56Z", "updated_at": "2011-05-22T19:41:06Z", "closed_at": "2011-05-22T19:41:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi lupa-dev,\n\nI am using lupa 0.19 with python 2.6.2, and I consistently get \"Fatal Python error: deallocating None\" error. I suspect python is trying to free a reference inside Lua that is already freed by Lua.\n\nHere is how to reproduce it. First, create two files test.lua and test.py as shown below:\n\ntest.lua:\n\n<pre>\nfunction test()\n  local t = {}\n  t.foo = 'bar'\n  t.hello = 'world'\n  return t\nend\n</pre>\n\nEND of test.lua\n\ntest.py:\n\n<pre>\nimport lupa\nfrom lupa import LuaRuntime\n\n\ndef func():\n  py_obj = dict()\n  py_table = dict()\n  table = lua.globals().test()\n  for k, v in table.items():\n    py_table[k] = v\n  py_obj['table'] = py_table\n\ndef func2():\n  py_obj = dict()\n  py_table = dict()\n  table = lua.globals().test()\n  py_table['foo'] = table['foo']\n  py_table['hello'] = table['hello']\n  py_obj['table'] = py_table\n    \nlua = LuaRuntime()\n\nf = open(\"./test.lua\", \"r\")\nlines = \"\".join(f.readlines())\nlua.execute(lines)\n\nfor i in range(1, 100000):\n  func() # this will crash\n  #func2() # this will not crash\n</pre>\n\nEND of test.py\n\nRun test.py, and by switching between func() and func2(), you will see func() crashes, but func2() doesn't. The only difference between func and func2 is funct() calls the table.items() iterator to extract the content, and func2() directly indexes into table.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scoder/lupa/issues/2", "repository_url": "https://api.github.com/repos/scoder/lupa", "labels_url": "https://api.github.com/repos/scoder/lupa/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/scoder/lupa/issues/2/comments", "events_url": "https://api.github.com/repos/scoder/lupa/issues/2/events", "html_url": "https://github.com/scoder/lupa/issues/2", "id": 633381, "node_id": "MDU6SXNzdWU2MzMzODE=", "number": 2, "title": "Class properties return NoneType instead of nil", "user": {"login": "vishnevskiy", "id": 167844, "node_id": "MDQ6VXNlcjE2Nzg0NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/167844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vishnevskiy", "html_url": "https://github.com/vishnevskiy", "followers_url": "https://api.github.com/users/vishnevskiy/followers", "following_url": "https://api.github.com/users/vishnevskiy/following{/other_user}", "gists_url": "https://api.github.com/users/vishnevskiy/gists{/gist_id}", "starred_url": "https://api.github.com/users/vishnevskiy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vishnevskiy/subscriptions", "organizations_url": "https://api.github.com/users/vishnevskiy/orgs", "repos_url": "https://api.github.com/users/vishnevskiy/repos", "events_url": "https://api.github.com/users/vishnevskiy/events{/privacy}", "received_events_url": "https://api.github.com/users/vishnevskiy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 17638055, "node_id": "MDU6TGFiZWwxNzYzODA1NQ==", "url": "https://api.github.com/repos/scoder/lupa/labels/fixed", "name": "fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-02-28T03:10:55Z", "updated_at": "2014-10-11T14:40:44Z", "closed_at": "2014-10-11T14:40:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a class property such as\n\n```\n@property\ndef my_fn(self):\n    return None\n```\n\nIs access via Lua and the return is None then you get None itself rather than nil.\n", "performed_via_github_app": null, "score": 1.0}]}