{"total_count": 5, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/47", "repository_url": "https://api.github.com/repos/h2non/jsonpath-ng", "labels_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/47/comments", "events_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/47/events", "html_url": "https://github.com/h2non/jsonpath-ng/issues/47", "id": 617632013, "node_id": "MDU6SXNzdWU2MTc2MzIwMTM=", "number": 47, "title": "Updating a JSON document fails if one of many keys within an path has null value", "user": {"login": "back2root", "id": 9200239, "node_id": "MDQ6VXNlcjkyMDAyMzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9200239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/back2root", "html_url": "https://github.com/back2root", "followers_url": "https://api.github.com/users/back2root/followers", "following_url": "https://api.github.com/users/back2root/following{/other_user}", "gists_url": "https://api.github.com/users/back2root/gists{/gist_id}", "starred_url": "https://api.github.com/users/back2root/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/back2root/subscriptions", "organizations_url": "https://api.github.com/users/back2root/orgs", "repos_url": "https://api.github.com/users/back2root/repos", "events_url": "https://api.github.com/users/back2root/events{/privacy}", "received_events_url": "https://api.github.com/users/back2root/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-13T17:37:28Z", "updated_at": "2020-05-13T18:36:30Z", "closed_at": "2020-05-13T18:36:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Steps to reproduce:\r\n```python\r\nimport json\r\nfrom jsonpath_ng import parse\r\n\r\njson_document = json.loads('{\"elements\":[{\"sub\": {\"key\":\"1\"}}, {\"sub\": null}, {\"sub\": {\"key\":\"3\"}}]}')\r\njsonpath_expr = parse(\"$.elements[*].sub.key\")\r\n\r\nprint(jsonpath_expr.update(json_document, \"--\"))\r\n```\r\n\r\n# Expected\r\n```bash\r\n# python test.py\r\n{u'elements': [{u'sub': {u'key': '--'}}, {u'sub': None}, {u'sub': {u'key': '--'}}]}\r\n```\r\n\r\n\r\n# Observed\r\n```bash\r\n# python test.py\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 7, in <module>\r\n    print(jsonpath_expr.update(json_document, \"--\"))\r\n  File \"/opt/splunk/etc/apps/TA-json_redact/lib/jsonpath_ng/jsonpath.py\", line 261, in update\r\n    self.right.update(datum.value, val)\r\n  File \"/opt/splunk/etc/apps/TA-json_redact/lib/jsonpath_ng/jsonpath.py\", line 526, in update\r\n    if field in data:\r\nTypeError: argument of type 'NoneType' is not iterable\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/36", "repository_url": "https://api.github.com/repos/h2non/jsonpath-ng", "labels_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/36/comments", "events_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/36/events", "html_url": "https://github.com/h2non/jsonpath-ng/issues/36", "id": 577350330, "node_id": "MDU6SXNzdWU1NzczNTAzMzA=", "number": 36, "title": "Importing test library 'REST' failed: ModuleNotFoundError: No module named 'jsonpath_ng.bin'; 'jsonpath_ng' is not a package", "user": {"login": "mayuresh1612", "id": 59165940, "node_id": "MDQ6VXNlcjU5MTY1OTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/59165940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayuresh1612", "html_url": "https://github.com/mayuresh1612", "followers_url": "https://api.github.com/users/mayuresh1612/followers", "following_url": "https://api.github.com/users/mayuresh1612/following{/other_user}", "gists_url": "https://api.github.com/users/mayuresh1612/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayuresh1612/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayuresh1612/subscriptions", "organizations_url": "https://api.github.com/users/mayuresh1612/orgs", "repos_url": "https://api.github.com/users/mayuresh1612/repos", "events_url": "https://api.github.com/users/mayuresh1612/events{/privacy}", "received_events_url": "https://api.github.com/users/mayuresh1612/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 557784815, "node_id": "MDU6TGFiZWw1NTc3ODQ4MTU=", "url": "https://api.github.com/repos/h2non/jsonpath-ng/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "h2non", "id": 63402, "node_id": "MDQ6VXNlcjYzNDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/63402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h2non", "html_url": "https://github.com/h2non", "followers_url": "https://api.github.com/users/h2non/followers", "following_url": "https://api.github.com/users/h2non/following{/other_user}", "gists_url": "https://api.github.com/users/h2non/gists{/gist_id}", "starred_url": "https://api.github.com/users/h2non/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h2non/subscriptions", "organizations_url": "https://api.github.com/users/h2non/orgs", "repos_url": "https://api.github.com/users/h2non/repos", "events_url": "https://api.github.com/users/h2non/events{/privacy}", "received_events_url": "https://api.github.com/users/h2non/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "h2non", "id": 63402, "node_id": "MDQ6VXNlcjYzNDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/63402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h2non", "html_url": "https://github.com/h2non", "followers_url": "https://api.github.com/users/h2non/followers", "following_url": "https://api.github.com/users/h2non/following{/other_user}", "gists_url": "https://api.github.com/users/h2non/gists{/gist_id}", "starred_url": "https://api.github.com/users/h2non/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h2non/subscriptions", "organizations_url": "https://api.github.com/users/h2non/orgs", "repos_url": "https://api.github.com/users/h2non/repos", "events_url": "https://api.github.com/users/h2non/events{/privacy}", "received_events_url": "https://api.github.com/users/h2non/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-07T15:29:44Z", "updated_at": "2020-03-09T12:53:45Z", "closed_at": "2020-03-09T12:46:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**For jsonpath-ng 1.5.0 released today got some issue**\r\n\r\nImporting test library 'REST' failed: ModuleNotFoundError: No module named 'jsonpath_ng.bin'; 'jsonpath_ng' is not a package\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/REST/__init__.py\", line 37, in <module>\r\n    from .keywords import Keywords\r\n  File \"/usr/local/lib/python3.8/site-packages/REST/keywords.py\", line 34, in <module>\r\n    from jsonpath_ng.ext import parse as parse_jsonpath\r\n  File \"/usr/local/bin/jsonpath_ng.py\", line 5, in <module>\r\n    from jsonpath_ng.bin.jsonpath import entry_point\r\n\r\n\r\n**_Please Note: Working fine with jsonpath-ng==1.4.3_**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/35", "repository_url": "https://api.github.com/repos/h2non/jsonpath-ng", "labels_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/35/comments", "events_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/35/events", "html_url": "https://github.com/h2non/jsonpath-ng/issues/35", "id": 577297110, "node_id": "MDU6SXNzdWU1NzcyOTcxMTA=", "number": 35, "title": "1.5.0 python3 issue", "user": {"login": "ClericPy", "id": 7133852, "node_id": "MDQ6VXNlcjcxMzM4NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/7133852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ClericPy", "html_url": "https://github.com/ClericPy", "followers_url": "https://api.github.com/users/ClericPy/followers", "following_url": "https://api.github.com/users/ClericPy/following{/other_user}", "gists_url": "https://api.github.com/users/ClericPy/gists{/gist_id}", "starred_url": "https://api.github.com/users/ClericPy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ClericPy/subscriptions", "organizations_url": "https://api.github.com/users/ClericPy/orgs", "repos_url": "https://api.github.com/users/ClericPy/repos", "events_url": "https://api.github.com/users/ClericPy/events{/privacy}", "received_events_url": "https://api.github.com/users/ClericPy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-07T07:58:44Z", "updated_at": "2020-03-07T17:08:44Z", "closed_at": "2020-03-07T17:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://pypi.org/project/jsonpath-ng/#files not found py3 wheel file?\r\n\r\nToday I run pip3 install -U jsonpath_ng\r\n\r\njsonpath_ng-1.5.0-py3-none-any.whl downloaded, but after unziping the wheel file, `__init__.py` is 1.4.3, and the master branch is also 1.4.3 https://github.com/h2non/jsonpath-ng/blob/405cd60c1023e7d1c911f4193fe55c2eb23c3122/jsonpath_ng/__init__.py#L6\r\n```python\r\n__version__ = '1.4.3'\r\n```\r\nTest code:\r\n\r\n```python\r\nfrom jsonpath_ng.ext import parse as jp_parse\r\n```\r\nOn windows python3.7 it works well\r\n\r\nbut on linux (ubuntu18) python3.7, 3.8 it raised an error\r\n> E   ModuleNotFoundError: No module named 'jsonpath_ng.ext'; 'jsonpath_ng' is not a package\r\n\r\nlinux pip log snippets\r\n\r\n```\r\nCollecting jsonpath_ng\r\n  Downloading jsonpath-ng-1.5.0.tar.gz (30 kB)\r\nRunning setup.py install for jsonpath-ng: started\r\n    Running setup.py install for jsonpath-ng: finished with status 'done'\r\n\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/7133852/76140164-8325b680-6092-11ea-8b50-81564fc073df.png)\r\n\r\nView the pip log, it says build error, but `Successfully installed decorator-4.4.2 jsonpath-ng-1.5.0 ply-3.11 six-1.14.0`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/4", "repository_url": "https://api.github.com/repos/h2non/jsonpath-ng", "labels_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/4/comments", "events_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/4/events", "html_url": "https://github.com/h2non/jsonpath-ng/issues/4", "id": 256294669, "node_id": "MDU6SXNzdWUyNTYyOTQ2Njk=", "number": 4, "title": "problem querying: object of type 'NoneType' has no len()", "user": {"login": "jeromekleinen", "id": 13599703, "node_id": "MDQ6VXNlcjEzNTk5NzAz", "avatar_url": "https://avatars0.githubusercontent.com/u/13599703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeromekleinen", "html_url": "https://github.com/jeromekleinen", "followers_url": "https://api.github.com/users/jeromekleinen/followers", "following_url": "https://api.github.com/users/jeromekleinen/following{/other_user}", "gists_url": "https://api.github.com/users/jeromekleinen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeromekleinen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeromekleinen/subscriptions", "organizations_url": "https://api.github.com/users/jeromekleinen/orgs", "repos_url": "https://api.github.com/users/jeromekleinen/repos", "events_url": "https://api.github.com/users/jeromekleinen/events{/privacy}", "received_events_url": "https://api.github.com/users/jeromekleinen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-08T15:43:36Z", "updated_at": "2020-03-06T20:59:18Z", "closed_at": "2020-03-06T20:59:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nFirst of all: great job on the jsonpath-ng library.  I have been using it for 2 weeks now and it fits my purpose as a glove.\r\n\r\nUnfortunately, I've run into a document today that is valid json and that I am able to query using jsonpath.com but it causes an error in jsonpath-ng. I am trying to debug it but as of now I have not been able to pinpoint what is causing this.\r\n\r\nThe document is rather big, so I have attached a PoC python script which loads the JSON document and tries to query it. This way you can see whether I am using the library in the intended way.\r\n\r\nI would appreciate any help!\r\n\r\nThanks,\r\n\r\nJerome\r\n[jsonpath_bug.zip](https://github.com/h2non/jsonpath-ng/files/1288374/jsonpath_bug.zip)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/3", "repository_url": "https://api.github.com/repos/h2non/jsonpath-ng", "labels_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/3/comments", "events_url": "https://api.github.com/repos/h2non/jsonpath-ng/issues/3/events", "html_url": "https://github.com/h2non/jsonpath-ng/issues/3", "id": 254593162, "node_id": "MDU6SXNzdWUyNTQ1OTMxNjI=", "number": 3, "title": "filter problem", "user": {"login": "sunziyi", "id": 6309301, "node_id": "MDQ6VXNlcjYzMDkzMDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6309301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunziyi", "html_url": "https://github.com/sunziyi", "followers_url": "https://api.github.com/users/sunziyi/followers", "following_url": "https://api.github.com/users/sunziyi/following{/other_user}", "gists_url": "https://api.github.com/users/sunziyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunziyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunziyi/subscriptions", "organizations_url": "https://api.github.com/users/sunziyi/orgs", "repos_url": "https://api.github.com/users/sunziyi/repos", "events_url": "https://api.github.com/users/sunziyi/events{/privacy}", "received_events_url": "https://api.github.com/users/sunziyi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-01T09:56:38Z", "updated_at": "2017-09-01T10:31:50Z", "closed_at": "2017-09-01T10:29:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to use filter to find data with \"akey\"=\"idcard\". Here is my code.\r\n\r\nfrom jsonpath_ng import jsonpath\r\nfrom jsonpath_ng.ext import parse\r\n\r\ndata = [\r\n\t{\"akey\":\"idcard\",\"group\":12},\r\n\t{\"akey\":\"uid\",\"group\":14},\r\n\t{\"akey\":\"name\",\"group\":8},\r\n]\r\n\r\n[m.value for m in parse(\"$.[?(@akey='idcard'])\").find(data)]\r\n\r\nRuntim error is:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/jsonpath_ng/ext/parser.py\", line 170, in parse\r\n    return ExtentedJsonPathParser(debug=debug).parse(path)\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/jsonpath_ng/parser.py\", line 32, in parse\r\n    return self.parse_token_stream(lexer.tokenize(string))\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/jsonpath_ng/parser.py\", line 55, in parse_token_stream\r\n    return new_parser.parse(lexer = IteratorToTokenStream(token_iterator))\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/ply/yacc.py\", line 331, in parse\r\n    return self.parseopt_notrack(input, lexer, debug, tracking, tokenfunc)\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/ply/yacc.py\", line 1199, in parseopt_notrack\r\n    tok = call_errorfunc(self.errorfunc, errtoken, self)\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/ply/yacc.py\", line 193, in call_errorfunc\r\n    r = errorfunc(token)\r\n  File \"/Users/sunziyi/Documents/py_env/bmtag/lib/python2.7/site-packages/jsonpath_ng/parser.py\", line 69, in p_error\r\n    raise Exception('Parse error at %s:%s near token %s (%s)' % (t.lineno, t.col, t.value, t.type))\r\nException: Parse error at 1:3 near token ? (?)\r\n\r\nQuestion mark cannot be used?", "performed_via_github_app": null, "score": 1.0}]}