{"total_count": 8, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/21", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/21/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/21/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/21", "id": 559999910, "node_id": "MDU6SXNzdWU1NTk5OTk5MTA=", "number": 21, "title": "no data from events()", "user": {"login": "williamhuangh", "id": 6374091, "node_id": "MDQ6VXNlcjYzNzQwOTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6374091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williamhuangh", "html_url": "https://github.com/williamhuangh", "followers_url": "https://api.github.com/users/williamhuangh/followers", "following_url": "https://api.github.com/users/williamhuangh/following{/other_user}", "gists_url": "https://api.github.com/users/williamhuangh/gists{/gist_id}", "starred_url": "https://api.github.com/users/williamhuangh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williamhuangh/subscriptions", "organizations_url": "https://api.github.com/users/williamhuangh/orgs", "repos_url": "https://api.github.com/users/williamhuangh/repos", "events_url": "https://api.github.com/users/williamhuangh/events{/privacy}", "received_events_url": "https://api.github.com/users/williamhuangh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-04T21:50:33Z", "updated_at": "2020-04-22T03:36:22Z", "closed_at": "2020-04-22T03:36:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "this is what a curl to the stream endpoint looks like\r\n\r\n```\r\n* TCP_NODELAY set\r\n* Connected to localhost (127.0.0.1) port 8686 (#0)\r\n> GET /test/stream HTTP/1.1\r\n> Host: localhost:8686\r\n> User-Agent: curl/7.58.0\r\n> Accept: */*\r\n>\r\n< HTTP/1.1 200 OK\r\n< date: Tue, 04 Feb 2020 21:36:52 GMT\r\n< server: uvicorn\r\n< content-type: text/event-stream; charset=utf-8\r\n< cache-control: no-cache\r\n< transfer-encoding: chunked\r\n<\r\n\r\ndata: {'complete': False, 'failed': False, 'percent': 65, 'message': 'still running', 'detail': None, 'task': 'task'}\r\n\r\n\r\n```\r\n\r\nthe response stream has 2 `\\n`s at the end of the byte string body. is there anything off?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/11", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/11/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/11/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/11", "id": 236561139, "node_id": "MDU6SXNzdWUyMzY1NjExMzk=", "number": 11, "title": "Invalid json when newline is at the beginning of a chunk", "user": {"login": "kokje", "id": 2340282, "node_id": "MDQ6VXNlcjIzNDAyODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2340282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kokje", "html_url": "https://github.com/kokje", "followers_url": "https://api.github.com/users/kokje/followers", "following_url": "https://api.github.com/users/kokje/following{/other_user}", "gists_url": "https://api.github.com/users/kokje/gists{/gist_id}", "starred_url": "https://api.github.com/users/kokje/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kokje/subscriptions", "organizations_url": "https://api.github.com/users/kokje/orgs", "repos_url": "https://api.github.com/users/kokje/repos", "events_url": "https://api.github.com/users/kokje/events{/privacy}", "received_events_url": "https://api.github.com/users/kokje/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-16T18:36:37Z", "updated_at": "2017-07-22T16:27:31Z", "closed_at": "2017-07-22T16:27:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, If the response chunk happens to have a newline character at the beginning then it is incorrectly parsed as an SSE delimiter resulting in invalid json in event.data\r\nex: \r\n\r\n```\r\nchunk = b'\\ndata:   \"logicalTimestampMs\" : 1497016850000,\\ndata:   \"maxDelayMs\" : 12000\\ndata: }\\n\\nevent: data\\nid: data-1497016860000\\ndata: {\\n'\r\nchunk.splitlines(True)\r\n['\\n', 'data:   \"logicalTimestampMs\" : 1497016850000,\\n', 'data:   \"maxDelayMs\" : 12000\\n', 'data: }\\n', '\\n', 'event: data\\n', 'id: data-1497016860000\\n', 'data: {\\n']\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/9", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/9/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/9/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/9", "id": 228934391, "node_id": "MDU6SXNzdWUyMjg5MzQzOTE=", "number": 9, "title": "Use of splitlines can lead to data loss on events with Unicode contents", "user": {"login": "davedoesdev", "id": 2329683, "node_id": "MDQ6VXNlcjIzMjk2ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2329683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davedoesdev", "html_url": "https://github.com/davedoesdev", "followers_url": "https://api.github.com/users/davedoesdev/followers", "following_url": "https://api.github.com/users/davedoesdev/following{/other_user}", "gists_url": "https://api.github.com/users/davedoesdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/davedoesdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davedoesdev/subscriptions", "organizations_url": "https://api.github.com/users/davedoesdev/orgs", "repos_url": "https://api.github.com/users/davedoesdev/repos", "events_url": "https://api.github.com/users/davedoesdev/events{/privacy}", "received_events_url": "https://api.github.com/users/davedoesdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 340208043, "node_id": "MDU6TGFiZWwzNDAyMDgwNDM=", "url": "https://api.github.com/repos/mpetazzoni/sseclient/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-16T07:06:34Z", "updated_at": "2017-06-11T07:19:12Z", "closed_at": "2017-06-11T07:19:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The SSE spec (https://www.w3.org/TR/eventsource/), section 6, says:\r\n\r\n```\r\nstream        = [ bom ] *event\r\nevent         = *( comment / field ) end-of-line\r\ncomment       = colon *any-char end-of-line\r\nfield         = 1*name-char [ colon [ space ] *any-char ] end-of-line\r\nend-of-line   = ( cr lf / cr / lf )\r\n\r\n; characters\r\nlf            = %x000A ; U+000A LINE FEED (LF)\r\ncr            = %x000D ; U+000D CARRIAGE RETURN (CR)\r\nspace         = %x0020 ; U+0020 SPACE\r\ncolon         = %x003A ; U+003A COLON (:)\r\nbom           = %xFEFF ; U+FEFF BYTE ORDER MARK\r\nname-char     = %x0000-0009 / %x000B-000C / %x000E-0039 / %x003B-10FFFF\r\n                ; a Unicode character other than U+000A LINE FEED (LF), U+000D CARRIAGE RETURN (CR), or U+003A COLON (:)\r\nany-char      = %x0000-0009 / %x000B-000C / %x000E-10FFFF\r\n                ; a Unicode character other than U+000A LINE FEED (LF) or U+000D CARRIAGE RETURN (CR)\r\n```\r\n\r\ni.e. lines are delimited by line feed or carriage return.\r\n\r\nHowever, since `_read` returns Unicode strings, when you call `splitlines` on each chunk, it will be split using a much greater set of delimiters than just line feed and carriage return:\r\n\r\nhttps://docs.python.org/3/library/stdtypes.html#str.splitlines\r\n\r\nThis can lead to data loss.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/8", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/8/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/8/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/8", "id": 228932520, "node_id": "MDU6SXNzdWUyMjg5MzI1MjA=", "number": 8, "title": "Decoding too soon", "user": {"login": "davedoesdev", "id": 2329683, "node_id": "MDQ6VXNlcjIzMjk2ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2329683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davedoesdev", "html_url": "https://github.com/davedoesdev", "followers_url": "https://api.github.com/users/davedoesdev/followers", "following_url": "https://api.github.com/users/davedoesdev/following{/other_user}", "gists_url": "https://api.github.com/users/davedoesdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/davedoesdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davedoesdev/subscriptions", "organizations_url": "https://api.github.com/users/davedoesdev/orgs", "repos_url": "https://api.github.com/users/davedoesdev/repos", "events_url": "https://api.github.com/users/davedoesdev/events{/privacy}", "received_events_url": "https://api.github.com/users/davedoesdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 340208043, "node_id": "MDU6TGFiZWwzNDAyMDgwNDM=", "url": "https://api.github.com/repos/mpetazzoni/sseclient/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 340208044, "node_id": "MDU6TGFiZWwzNDAyMDgwNDQ=", "url": "https://api.github.com/repos/mpetazzoni/sseclient/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-16T06:57:04Z", "updated_at": "2017-05-16T16:38:19Z", "closed_at": "2017-05-16T16:38:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In `_read`, you're decoding each chunk. However, if the chunks happen to be split in the middle of a UTF8 sequence then decoding fails.\r\nThe decoding should be done on `data` when it's `yield`ed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/7", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/7/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/7/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/7", "id": 220204251, "node_id": "MDU6SXNzdWUyMjAyMDQyNTE=", "number": 7, "title": "Access without iteration", "user": {"login": "tomkcook", "id": 1853442, "node_id": "MDQ6VXNlcjE4NTM0NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1853442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomkcook", "html_url": "https://github.com/tomkcook", "followers_url": "https://api.github.com/users/tomkcook/followers", "following_url": "https://api.github.com/users/tomkcook/following{/other_user}", "gists_url": "https://api.github.com/users/tomkcook/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomkcook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomkcook/subscriptions", "organizations_url": "https://api.github.com/users/tomkcook/orgs", "repos_url": "https://api.github.com/users/tomkcook/repos", "events_url": "https://api.github.com/users/tomkcook/events{/privacy}", "received_events_url": "https://api.github.com/users/tomkcook/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-07T12:49:25Z", "updated_at": "2017-04-07T16:42:11Z", "closed_at": "2017-04-07T16:35:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use sseclient to get events which are then used in a Gtk application.  Obviously I can't just sit in an event-handling loop for the `SSEClient` object.  Is there a way to check whether new events are available and get them if they are?  Preferrably one that doesn't throw an exception when it reaches the end (for now) of the stream).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/6", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/6/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/6/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/6", "id": 206789028, "node_id": "MDU6SXNzdWUyMDY3ODkwMjg=", "number": 6, "title": "Events arriving with one event delay on the client", "user": {"login": "rgabo74", "id": 11273702, "node_id": "MDQ6VXNlcjExMjczNzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/11273702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rgabo74", "html_url": "https://github.com/rgabo74", "followers_url": "https://api.github.com/users/rgabo74/followers", "following_url": "https://api.github.com/users/rgabo74/following{/other_user}", "gists_url": "https://api.github.com/users/rgabo74/gists{/gist_id}", "starred_url": "https://api.github.com/users/rgabo74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rgabo74/subscriptions", "organizations_url": "https://api.github.com/users/rgabo74/orgs", "repos_url": "https://api.github.com/users/rgabo74/repos", "events_url": "https://api.github.com/users/rgabo74/events{/privacy}", "received_events_url": "https://api.github.com/users/rgabo74/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 340208043, "node_id": "MDU6TGFiZWwzNDAyMDgwNDM=", "url": "https://api.github.com/repos/mpetazzoni/sseclient/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "mpetazzoni", "id": 879507, "node_id": "MDQ6VXNlcjg3OTUwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/879507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpetazzoni", "html_url": "https://github.com/mpetazzoni", "followers_url": "https://api.github.com/users/mpetazzoni/followers", "following_url": "https://api.github.com/users/mpetazzoni/following{/other_user}", "gists_url": "https://api.github.com/users/mpetazzoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpetazzoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpetazzoni/subscriptions", "organizations_url": "https://api.github.com/users/mpetazzoni/orgs", "repos_url": "https://api.github.com/users/mpetazzoni/repos", "events_url": "https://api.github.com/users/mpetazzoni/events{/privacy}", "received_events_url": "https://api.github.com/users/mpetazzoni/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mpetazzoni", "id": 879507, "node_id": "MDQ6VXNlcjg3OTUwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/879507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpetazzoni", "html_url": "https://github.com/mpetazzoni", "followers_url": "https://api.github.com/users/mpetazzoni/followers", "following_url": "https://api.github.com/users/mpetazzoni/following{/other_user}", "gists_url": "https://api.github.com/users/mpetazzoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpetazzoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpetazzoni/subscriptions", "organizations_url": "https://api.github.com/users/mpetazzoni/orgs", "repos_url": "https://api.github.com/users/mpetazzoni/repos", "events_url": "https://api.github.com/users/mpetazzoni/events{/privacy}", "received_events_url": "https://api.github.com/users/mpetazzoni/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-02-10T12:53:10Z", "updated_at": "2017-02-14T22:20:33Z", "closed_at": "2017-02-13T07:51:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently deployed Openhab2, which is built is Eclipse Smarhome framework and it's REST API, including a SSE service. I can receive events with sseclient 1.4, but I observed I receive every event at the time when the next event is pushed by the server. So when the first event should come, nothing happens and after that all event arriving with one event delay. I checked if the server is sending the empty line delimiter and it does. \r\nAttaced is a screen capture with one event. Any suggestions welcome... \r\n\r\nThanks, Gabor\r\n\r\n![image](https://cloud.githubusercontent.com/assets/11273702/22827413/153dd288-ef98-11e6-897b-a0c265de11e3.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/5", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/5/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/5/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/5", "id": 177413202, "node_id": "MDU6SXNzdWUxNzc0MTMyMDI=", "number": 5, "title": "Need to provide information on how to use requests", "user": {"login": "joequant", "id": 2908185, "node_id": "MDQ6VXNlcjI5MDgxODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2908185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joequant", "html_url": "https://github.com/joequant", "followers_url": "https://api.github.com/users/joequant/followers", "following_url": "https://api.github.com/users/joequant/following{/other_user}", "gists_url": "https://api.github.com/users/joequant/gists{/gist_id}", "starred_url": "https://api.github.com/users/joequant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joequant/subscriptions", "organizations_url": "https://api.github.com/users/joequant/orgs", "repos_url": "https://api.github.com/users/joequant/repos", "events_url": "https://api.github.com/users/joequant/events{/privacy}", "received_events_url": "https://api.github.com/users/joequant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-09-16T12:26:20Z", "updated_at": "2016-09-16T16:39:50Z", "closed_at": "2016-09-16T16:39:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would like documentation to use an example of how to use the library with requests.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/1", "repository_url": "https://api.github.com/repos/mpetazzoni/sseclient", "labels_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/1/comments", "events_url": "https://api.github.com/repos/mpetazzoni/sseclient/issues/1/events", "html_url": "https://github.com/mpetazzoni/sseclient/issues/1", "id": 161930134, "node_id": "MDU6SXNzdWUxNjE5MzAxMzQ=", "number": 1, "title": "Doesn't seem to work", "user": {"login": "altaurog", "id": 426636, "node_id": "MDQ6VXNlcjQyNjYzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/426636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/altaurog", "html_url": "https://github.com/altaurog", "followers_url": "https://api.github.com/users/altaurog/followers", "following_url": "https://api.github.com/users/altaurog/following{/other_user}", "gists_url": "https://api.github.com/users/altaurog/gists{/gist_id}", "starred_url": "https://api.github.com/users/altaurog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/altaurog/subscriptions", "organizations_url": "https://api.github.com/users/altaurog/orgs", "repos_url": "https://api.github.com/users/altaurog/repos", "events_url": "https://api.github.com/users/altaurog/events{/privacy}", "received_events_url": "https://api.github.com/users/altaurog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-23T14:00:11Z", "updated_at": "2016-06-27T13:19:54Z", "closed_at": "2016-06-27T13:19:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Does it work for you?  It seems to block for me.  It looks like [urllib3 won't do the job](http://stackoverflow.com/a/21798161/519015) because [it calls `read()`](https://github.com/shazow/urllib3/blob/1.16/urllib3/response.py#L310) underneath.\n", "performed_via_github_app": null, "score": 1.0}]}