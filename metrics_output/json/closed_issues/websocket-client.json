{"total_count": 204, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/615", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/615/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/615/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/615/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/615", "id": 598424522, "node_id": "MDU6SXNzdWU1OTg0MjQ1MjI=", "number": 615, "title": "Add Support for Jython, missing socket.SOL_TCP", "user": {"login": "lukicsl", "id": 23736716, "node_id": "MDQ6VXNlcjIzNzM2NzE2", "avatar_url": "https://avatars2.githubusercontent.com/u/23736716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukicsl", "html_url": "https://github.com/lukicsl", "followers_url": "https://api.github.com/users/lukicsl/followers", "following_url": "https://api.github.com/users/lukicsl/following{/other_user}", "gists_url": "https://api.github.com/users/lukicsl/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukicsl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukicsl/subscriptions", "organizations_url": "https://api.github.com/users/lukicsl/orgs", "repos_url": "https://api.github.com/users/lukicsl/repos", "events_url": "https://api.github.com/users/lukicsl/events{/privacy}", "received_events_url": "https://api.github.com/users/lukicsl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-12T06:53:39Z", "updated_at": "2020-04-12T11:32:24Z", "closed_at": "2020-04-12T11:32:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to add support for Jython, as there is missing socket.SOL_TCP and probably other stuff too.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/609", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/609/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/609/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/609/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/609", "id": 580404442, "node_id": "MDU6SXNzdWU1ODA0MDQ0NDI=", "number": 609, "title": "MSPack en-/ decoding fails for nested binary sequence", "user": {"login": "marincandenza", "id": 45242624, "node_id": "MDQ6VXNlcjQ1MjQyNjI0", "avatar_url": "https://avatars0.githubusercontent.com/u/45242624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marincandenza", "html_url": "https://github.com/marincandenza", "followers_url": "https://api.github.com/users/marincandenza/followers", "following_url": "https://api.github.com/users/marincandenza/following{/other_user}", "gists_url": "https://api.github.com/users/marincandenza/gists{/gist_id}", "starred_url": "https://api.github.com/users/marincandenza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marincandenza/subscriptions", "organizations_url": "https://api.github.com/users/marincandenza/orgs", "repos_url": "https://api.github.com/users/marincandenza/repos", "events_url": "https://api.github.com/users/marincandenza/events{/privacy}", "received_events_url": "https://api.github.com/users/marincandenza/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-13T06:45:22Z", "updated_at": "2020-04-29T04:45:38Z", "closed_at": "2020-04-29T04:45:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Behaviour**\r\n\r\n`2020-03-13 07:39:26 CLIENT_SEND_RECEIVE test.connection.websock ==>> <<Send: {'header': {'type': 'FunctionCall', 'clientId': 0, 'function': 'Image/create'}, 'data': {'width': 10, 'height': 10, 'type': 'UINT32'}, 'options': {'returnSerialized': ['image']}}>>\r\n2020-03-13 07:39:26 CLIENT_SEND_RECEIVE test.connection.websock ==>> <<Received: {'header': {'status': 0, 'message': 'Ok', 'type': 'FunctionReturn', 'clientId': 0}, 'data': {'image': {'type': 'object', 'data': {'class': 'Image', 'data': {'PixelSize': {'x': 1.0, 'y': 1.0, 'z': 1.0}, 'Origin': {'x': 0.0, 'y': 0.0, 'z': 0.0}, 'HandleZeroPixels': 'Default', 'Data': {'ImageType': 'uint32', 'Width': 10, 'Height': 10, 'Pixels': {'numOfElems': 100, 'elemSz': 4, 'endian': 'big', 'elemTypes': ['uint32'], 'data': b'\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00'}}}}}}}>>`\r\n\r\n**Expected Behaviour**\r\n`2020-03-13 07:39:27 CLIENT_SEND_RECEIVE test.connection.websock ==>> <<Send: {'header': {'type': 'FunctionCall', 'clientId': 0, 'function': 'Image/create'}, 'data': {'width': 10, 'height': 10, 'type': 'UINT32'}, 'options': {'returnSerialized': ['image']}}>>\r\n2020-03-13 07:39:27 CLIENT_SEND_RECEIVE test.connection.websock ==>> <<Received: {'header': {'status': 0, 'message': 'Ok', 'type': 'FunctionReturn', 'clientId': 0}, 'data': {'image': {'type': 'object', 'data': {'class': 'Image', 'data': {'PixelSize': {'x': 1, 'y': 1, 'z': 1}, 'Origin': {'x': 0, 'y': 0, 'z': 0}, 'HandleZeroPixels': 'Default', 'Data': {'ImageType': 'uint32', 'Width': 10, 'Height': 10, 'Pixels': {'numOfElems': 100, 'elemSz': 4, 'endian': 'big', 'elemTypes': ['uint32'], 'data': 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=='}}}}}}}>>`\r\n\r\n**How to reproduce**\r\nSending a message pack encoded data stream from a server to websocket-client. \r\n\r\nHow can we help to fix this issue?\r\n\r\nKind regards\r\nMario\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/593", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/593/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/593/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/593/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/593", "id": 542282445, "node_id": "MDU6SXNzdWU1NDIyODI0NDU=", "number": 593, "title": "Add support for Python 3.8", "user": {"login": "saleh-old", "id": 13378447, "node_id": "MDQ6VXNlcjEzMzc4NDQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/13378447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saleh-old", "html_url": "https://github.com/saleh-old", "followers_url": "https://api.github.com/users/saleh-old/followers", "following_url": "https://api.github.com/users/saleh-old/following{/other_user}", "gists_url": "https://api.github.com/users/saleh-old/gists{/gist_id}", "starred_url": "https://api.github.com/users/saleh-old/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saleh-old/subscriptions", "organizations_url": "https://api.github.com/users/saleh-old/orgs", "repos_url": "https://api.github.com/users/saleh-old/repos", "events_url": "https://api.github.com/users/saleh-old/events{/privacy}", "received_events_url": "https://api.github.com/users/saleh-old/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-25T07:40:50Z", "updated_at": "2019-12-27T12:07:06Z", "closed_at": "2019-12-27T12:07:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading my Python version from 3.7 to 3.8, the websocket no longer works. I googled and apparently this other python websocket library had this issue too: https://github.com/aaugustin/websockets/issues/681\r\n\r\nCould you please release a new version compatible with Python 3.8?\r\n\r\nThanks  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/572", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/572/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/572/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/572", "id": 493596429, "node_id": "MDU6SXNzdWU0OTM1OTY0Mjk=", "number": 572, "title": "connection would stay alive after 54, but no data is received at 55th second(which requires connection settings to be proper) to keep the connection alive all the time. well since this restriction made by the developer of this client-socket, they can make appropriate changes to keep the connection alive all the time.", "user": {"login": "lohithn4", "id": 18326676, "node_id": "MDQ6VXNlcjE4MzI2Njc2", "avatar_url": "https://avatars2.githubusercontent.com/u/18326676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lohithn4", "html_url": "https://github.com/lohithn4", "followers_url": "https://api.github.com/users/lohithn4/followers", "following_url": "https://api.github.com/users/lohithn4/following{/other_user}", "gists_url": "https://api.github.com/users/lohithn4/gists{/gist_id}", "starred_url": "https://api.github.com/users/lohithn4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lohithn4/subscriptions", "organizations_url": "https://api.github.com/users/lohithn4/orgs", "repos_url": "https://api.github.com/users/lohithn4/repos", "events_url": "https://api.github.com/users/lohithn4/events{/privacy}", "received_events_url": "https://api.github.com/users/lohithn4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-14T07:52:32Z", "updated_at": "2019-09-28T13:38:21Z", "closed_at": "2019-09-14T10:34:18Z", "author_association": "NONE", "active_lock_reason": null, "body": " ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/561", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/561/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/561/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/561", "id": 471009889, "node_id": "MDU6SXNzdWU0NzEwMDk4ODk=", "number": 561, "title": "filedescriptor out of range in select()", "user": {"login": "abbas-aghamirzaei", "id": 10250357, "node_id": "MDQ6VXNlcjEwMjUwMzU3", "avatar_url": "https://avatars3.githubusercontent.com/u/10250357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abbas-aghamirzaei", "html_url": "https://github.com/abbas-aghamirzaei", "followers_url": "https://api.github.com/users/abbas-aghamirzaei/followers", "following_url": "https://api.github.com/users/abbas-aghamirzaei/following{/other_user}", "gists_url": "https://api.github.com/users/abbas-aghamirzaei/gists{/gist_id}", "starred_url": "https://api.github.com/users/abbas-aghamirzaei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abbas-aghamirzaei/subscriptions", "organizations_url": "https://api.github.com/users/abbas-aghamirzaei/orgs", "repos_url": "https://api.github.com/users/abbas-aghamirzaei/repos", "events_url": "https://api.github.com/users/abbas-aghamirzaei/events{/privacy}", "received_events_url": "https://api.github.com/users/abbas-aghamirzaei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-22T10:12:37Z", "updated_at": "2019-09-03T07:15:34Z", "closed_at": "2019-09-03T07:15:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi. what is this message \"filedescriptor out of range in select()\" I receive this error in on_error() function when I increase load on my server? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/560", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/560/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/560/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/560", "id": 466466295, "node_id": "MDU6SXNzdWU0NjY0NjYyOTU=", "number": 560, "title": "Disabling the ssl handshake", "user": {"login": "gityou123", "id": 10065187, "node_id": "MDQ6VXNlcjEwMDY1MTg3", "avatar_url": "https://avatars0.githubusercontent.com/u/10065187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gityou123", "html_url": "https://github.com/gityou123", "followers_url": "https://api.github.com/users/gityou123/followers", "following_url": "https://api.github.com/users/gityou123/following{/other_user}", "gists_url": "https://api.github.com/users/gityou123/gists{/gist_id}", "starred_url": "https://api.github.com/users/gityou123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gityou123/subscriptions", "organizations_url": "https://api.github.com/users/gityou123/orgs", "repos_url": "https://api.github.com/users/gityou123/repos", "events_url": "https://api.github.com/users/gityou123/events{/privacy}", "received_events_url": "https://api.github.com/users/gityou123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-10T18:56:56Z", "updated_at": "2019-07-11T18:37:39Z", "closed_at": "2019-07-11T18:37:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/551", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/551/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/551/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/551", "id": 440071313, "node_id": "MDU6SXNzdWU0NDAwNzEzMTM=", "number": 551, "title": "Python script stops after connection loss", "user": {"login": "AlexGooi", "id": 50239891, "node_id": "MDQ6VXNlcjUwMjM5ODkx", "avatar_url": "https://avatars0.githubusercontent.com/u/50239891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexGooi", "html_url": "https://github.com/AlexGooi", "followers_url": "https://api.github.com/users/AlexGooi/followers", "following_url": "https://api.github.com/users/AlexGooi/following{/other_user}", "gists_url": "https://api.github.com/users/AlexGooi/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexGooi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexGooi/subscriptions", "organizations_url": "https://api.github.com/users/AlexGooi/orgs", "repos_url": "https://api.github.com/users/AlexGooi/repos", "events_url": "https://api.github.com/users/AlexGooi/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexGooi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-03T14:26:40Z", "updated_at": "2019-05-06T08:54:56Z", "closed_at": "2019-05-06T08:54:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\n I'm relative new to python.\r\nI'm trying to make an script that is reading data from a infrared camera. \r\nThe data is received via web sockets.\r\nI Used the following code:\r\n`\r\nfrom websocket import create_connection\r\n\r\n#Create connection to websocket \r\n#-------------------------------------------------------------------------------------\r\n\r\nwhile (1): \r\n        ws = create_connection(\"ws://192.168.2.254:81\")\r\n#Receive camera data\r\n        string =  ws.recv()\r\n        print (string)\r\n        ws.close()\r\n` \r\nThis runs fine, but when the camera is disconnected and reconnected again I get the following error, and the script stops:\r\n Traceback (most recent call last):\r\n  File \"testws.py\", line 8, in <module>\r\n    ws = create_connection(\"ws://192.168.2.254:81\")\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_core.py\", line 514, in create_connection\r\n    websock.connect(url, **options)\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_core.py\", line 226, in connect\r\n    self.handshake_response = handshake(self.sock, *addrs, **options)\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_handshake.py\", line 79, in handshake\r\n    status, resp = _get_resp_headers(sock)\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_handshake.py\", line 158, in _get_resp_headers\r\n    status, resp_headers, status_message = read_headers(sock)\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_http.py\", line 305, in read_headers\r\n    line = recv_line(sock)\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_socket.py\", line 123, in recv_line\r\n    c = recv(sock, 1)\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_socket.py\", line 102, in recv\r\n    bytes_ = _recv()\r\n  File \"/usr/local/lib/python3.7/site-packages/websocket/_socket.py\", line 84, in _recv\r\n    return sock.recv(bufsize)\r\nConnectionResetError: [Errno 104] Connection reset by peer\r\n\r\nIs there a way to detect if the connection is lost, and automatically reconnect when the camera is back up, without the script stopping?\r\n\r\nThanks in advance. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/543", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/543/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/543/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/543/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/543", "id": 430939497, "node_id": "MDU6SXNzdWU0MzA5Mzk0OTc=", "number": 543, "title": "websocket in a thread", "user": {"login": "LucasStinchcombe", "id": 8844302, "node_id": "MDQ6VXNlcjg4NDQzMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8844302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucasStinchcombe", "html_url": "https://github.com/LucasStinchcombe", "followers_url": "https://api.github.com/users/LucasStinchcombe/followers", "following_url": "https://api.github.com/users/LucasStinchcombe/following{/other_user}", "gists_url": "https://api.github.com/users/LucasStinchcombe/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucasStinchcombe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucasStinchcombe/subscriptions", "organizations_url": "https://api.github.com/users/LucasStinchcombe/orgs", "repos_url": "https://api.github.com/users/LucasStinchcombe/repos", "events_url": "https://api.github.com/users/LucasStinchcombe/events{/privacy}", "received_events_url": "https://api.github.com/users/LucasStinchcombe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-09T12:28:36Z", "updated_at": "2019-09-04T15:28:57Z", "closed_at": "2019-04-11T10:44:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to consume from websocket in a thread using `threading` module:\r\n\r\n``` python\r\nimport logging                                    \r\nimport websocket                                    \r\nimport json                                    \r\n                                               \r\nlogging.basicConfig()                                                         \r\nlogging.getLogger().setLevel(logging.INFO)                                    \r\n                                                                              \r\nLOG = logging.getLogger(__name__)                                             \r\n                                                                              \r\nclass WebsocketThread(threading.Thread):                                      \r\n                                                                              \r\n    def __init__(self):                                                       \r\n        super(WebsocketThread, self).__init__()                               \r\n        self.url = (\"wss://some_url\")                                          \r\n                                                                              \r\n        self.ws = websocket.WebSocketApp(                                     \r\n            self.url,                                                         \r\n            on_open=self.on_open,                                             \r\n            on_close=self.on_close,                      \r\n            on_error=self.on_error,                                  \r\n            on_message=self.on_message)                                \r\n                                                                       \r\n    def on_open(self):                                                     \r\n        LOG.info('websocket connection open')    \r\n                                                          \r\n    def on_message(self, msg):                                                \r\n        LOG.info('received message: %s', msg)    \r\n                                                                  \r\n    def on_error(self, error):                                                \r\n        LOG.info('websocket connection err:', error)                          \r\n                                                                          \r\n    def on_close(self):                                      \r\n        LOG.info('websocket connection closed')                   \r\n                                                                              \r\n    def run(self):                                                        \r\n        self.ws.run_forever() \r\n```\r\n\r\nI get the following:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/websocket/_app.py\", line 256, in run_forever\r\n    dispatcher = self.create_dispatcher(ping_timeout)\r\n  File \"/usr/lib/python3.7/site-packages/websocket/_app.py\", line 316, in create_dispatcher\r\n    if self.sock.is_ssl():\r\nAttributeError: 'NoneType' object has no attribute 'is_ssl'\r\n```\r\nmain code looks like:\r\n```python\r\nfrom websocket_thread import WebsocketThread    \r\n    \r\nt = WebsocketThread()    \r\nt.start()  \r\n```\r\n\r\nInterestingly enough, when running identical main code in interpreter shell, thread runs correctly with no error.\r\n\r\nPerhaps I'm missing something.\r\nMaybe someone can point me to some explanation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/537", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/537/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/537/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/537", "id": 423995082, "node_id": "MDU6SXNzdWU0MjM5OTUwODI=", "number": 537, "title": "Address family for ipv6 address not supported", "user": {"login": "bill1600", "id": 17832014, "node_id": "MDQ6VXNlcjE3ODMyMDE0", "avatar_url": "https://avatars1.githubusercontent.com/u/17832014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bill1600", "html_url": "https://github.com/bill1600", "followers_url": "https://api.github.com/users/bill1600/followers", "following_url": "https://api.github.com/users/bill1600/following{/other_user}", "gists_url": "https://api.github.com/users/bill1600/gists{/gist_id}", "starred_url": "https://api.github.com/users/bill1600/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bill1600/subscriptions", "organizations_url": "https://api.github.com/users/bill1600/orgs", "repos_url": "https://api.github.com/users/bill1600/repos", "events_url": "https://api.github.com/users/bill1600/events{/privacy}", "received_events_url": "https://api.github.com/users/bill1600/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-22T00:15:43Z", "updated_at": "2019-03-22T15:54:02Z", "closed_at": "2019-03-22T15:54:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "when connecting to a url with an ipv6 address, such as\r\nws://[2001:558:4000:43:2835:5629:e3eb:379a]:15080/...\r\nI get\r\nAddress family for hostname not supported\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/535", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/535/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/535/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/535/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/535", "id": 422672199, "node_id": "MDU6SXNzdWU0MjI2NzIxOTk=", "number": 535, "title": "Websocket closes connection when SSLWantReadError is thrown", "user": {"login": "Ram-Z", "id": 1587259, "node_id": "MDQ6VXNlcjE1ODcyNTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1587259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ram-Z", "html_url": "https://github.com/Ram-Z", "followers_url": "https://api.github.com/users/Ram-Z/followers", "following_url": "https://api.github.com/users/Ram-Z/following{/other_user}", "gists_url": "https://api.github.com/users/Ram-Z/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ram-Z/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ram-Z/subscriptions", "organizations_url": "https://api.github.com/users/Ram-Z/orgs", "repos_url": "https://api.github.com/users/Ram-Z/repos", "events_url": "https://api.github.com/users/Ram-Z/events{/privacy}", "received_events_url": "https://api.github.com/users/Ram-Z/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-19T11:10:11Z", "updated_at": "2019-03-21T01:20:14Z", "closed_at": "2019-03-21T01:20:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just thought I'd open a ticket regarding this https://github.com/websocket-client/websocket-client/pull/474#issuecomment-472348867. Wee-slack is affected by this and the issue is tracked in https://github.com/wee-slack/wee-slack/issues/679.\r\n\r\n@trygveaa wrote:\r\n> What happens is that the socket throws SSLWantReadError, which is caught by websocket-client. Then select is called, but since the socket is non-blocking, timeout is 0, so it very likely still has no data. That means receive won't be called again and _recv will return None. This causes websocket-client to close the connection, which shouldn't happen.\r\n\r\nPR https://github.com/websocket-client/websocket-client/pull/511 seems to be related to this too.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/527", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/527/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/527/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/527/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/527", "id": 410691033, "node_id": "MDU6SXNzdWU0MTA2OTEwMzM=", "number": 527, "title": "`[Errno 4] Interrupted system call` during `create_connection`", "user": {"login": "graywolf-at-work", "id": 43144838, "node_id": "MDQ6VXNlcjQzMTQ0ODM4", "avatar_url": "https://avatars2.githubusercontent.com/u/43144838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graywolf-at-work", "html_url": "https://github.com/graywolf-at-work", "followers_url": "https://api.github.com/users/graywolf-at-work/followers", "following_url": "https://api.github.com/users/graywolf-at-work/following{/other_user}", "gists_url": "https://api.github.com/users/graywolf-at-work/gists{/gist_id}", "starred_url": "https://api.github.com/users/graywolf-at-work/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graywolf-at-work/subscriptions", "organizations_url": "https://api.github.com/users/graywolf-at-work/orgs", "repos_url": "https://api.github.com/users/graywolf-at-work/repos", "events_url": "https://api.github.com/users/graywolf-at-work/events{/privacy}", "received_events_url": "https://api.github.com/users/graywolf-at-work/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-15T10:03:33Z", "updated_at": "2019-02-23T05:18:38Z", "closed_at": "2019-02-23T05:18:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm connecting to slack's websocket using\r\n\r\n```\r\nws = create_connection(ws_url, sslopt=sslopt_ca_certs)\r\n```\r\n\r\nbut getting an exception saying that\r\n\r\n```\r\n[Errno 4] Interrupted system call\r\n```\r\n\r\nPatch fixing the issue:\r\n\r\n```\r\ndiff --git a/websocket/_http.py b/websocket/_http.py\r\nindex e7f1e2e..2415a4b 100644\r\n--- a/websocket/_http.py\r\n+++ b/websocket/_http.py\r\n@@ -153,6 +153,10 @@ def _get_addrinfo_list(hostname, port, is_secure, proxy):\r\n     except socket.gaierror as e:\r\n         raise WebSocketAddressException(e)\r\n \r\n+class StupidBreakException(Exception):\r\n+    pass\r\n+class StupidContinueException(Exception):\r\n+    pass\r\n \r\n def _open_socket(addrinfo_list, sockopt, timeout):\r\n     err = None\r\n@@ -167,25 +171,32 @@ def _open_socket(addrinfo_list, sockopt, timeout):\r\n \r\n         address = addrinfo[4]\r\n         try:\r\n-            sock.connect(address)\r\n-            err = None\r\n-        except ProxyConnectionError as error:\r\n-            err = WebSocketProxyException(str(error))\r\n-            err.remote_ip = str(address[0])\r\n-            continue\r\n-        except socket.error as error:\r\n-            error.remote_ip = str(address[0])\r\n-            try:\r\n-                eConnRefused = (errno.ECONNREFUSED, errno.WSAECONNREFUSED)\r\n-            except:\r\n-                eConnRefused = (errno.ECONNREFUSED, )\r\n-            if error.errno in eConnRefused:\r\n-                err = error\r\n-                continue\r\n-            else:\r\n-                raise error\r\n-        else:\r\n+            while True:\r\n+                try:\r\n+                    sock.connect(address)\r\n+                    err = None\r\n+                except ProxyConnectionError as error:\r\n+                    err = WebSocketProxyException(str(error))\r\n+                    err.remote_ip = str(address[0])\r\n+                    raise StupidContinueException()\r\n+                except socket.error as error:\r\n+                    error.remote_ip = str(address[0])\r\n+                    try:\r\n+                        eConnRefused = (errno.ECONNREFUSED, errno.WSAECONNREFUSED)\r\n+                    except:\r\n+                        eConnRefused = (errno.ECONNREFUSED, )\r\n+                    if error.errno in eConnRefused:\r\n+                        err = error\r\n+                        raise StupidContinueException()\r\n+                    else:\r\n+                        if error.errno != errno.EINTR:\r\n+                            raise error\r\n+                else:\r\n+                    raise StupidBreakException()\r\n+        except StupidBreakException:\r\n             break\r\n+        except StupidContinueException:\r\n+            continue\r\n     else:\r\n         raise err\r\n```\r\n\r\nI know that I'm using exceptions for flow control, that needs to be resolved, but my python sucks and I'm not sure about better way. That's why this is not PR but just patch here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/521", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/521/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/521/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/521", "id": 403404455, "node_id": "MDU6SXNzdWU0MDM0MDQ0NTU=", "number": 521, "title": "Module cannot be imported in Python 3.4.2 due to AttributeError (\"PY34\")", "user": {"login": "DDR0", "id": 862627, "node_id": "MDQ6VXNlcjg2MjYyNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/862627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DDR0", "html_url": "https://github.com/DDR0", "followers_url": "https://api.github.com/users/DDR0/followers", "following_url": "https://api.github.com/users/DDR0/following{/other_user}", "gists_url": "https://api.github.com/users/DDR0/gists{/gist_id}", "starred_url": "https://api.github.com/users/DDR0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DDR0/subscriptions", "organizations_url": "https://api.github.com/users/DDR0/orgs", "repos_url": "https://api.github.com/users/DDR0/repos", "events_url": "https://api.github.com/users/DDR0/events{/privacy}", "received_events_url": "https://api.github.com/users/DDR0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-26T04:24:50Z", "updated_at": "2019-01-26T04:34:53Z", "closed_at": "2019-01-26T04:34:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I have installed the websocket-client module by running `pip3 install websocket-client`, on my Debian 8 machine with Python 3.4.2 installed.\r\n\r\nHowever, when I try to import the module as follows, it throws an error:\r\n```\r\nroot@owo:~/camera# python3\r\nPython 3.4.2 (default, Oct  8 2014, 14:47:30)\r\n[GCC 4.9.1] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import websockets\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: No module named 'websockets'\r\n>>> import websocket\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.4/dist-packages/websocket/__init__.py\", line 23, in <module>\r\n    from ._app import WebSocketApp\r\n  File \"/usr/local/lib/python3.4/dist-packages/websocket/_app.py\", line 36, in <module>\r\n    from ._core import WebSocket, getdefaulttimeout\r\n  File \"/usr/local/lib/python3.4/dist-packages/websocket/_core.py\", line 34, in <module>\r\n    from ._handshake import *\r\n  File \"/usr/local/lib/python3.4/dist-packages/websocket/_handshake.py\", line 40, in <module>\r\n    if six.PY34:\r\nAttributeError: 'module' object has no attribute 'PY34'\r\n>>>\r\n```\r\n\r\nI believe this is a bug because README.rst claims, \"This module is tested on Python 2.7 and Python 3.4+.\"\r\n\r\nThanks,\r\n\u2013DDR", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/520", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/520/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/520/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/520", "id": 402549767, "node_id": "MDU6SXNzdWU0MDI1NDk3Njc=", "number": 520, "title": "TLS Support", "user": {"login": "ArunEG", "id": 8207372, "node_id": "MDQ6VXNlcjgyMDczNzI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8207372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArunEG", "html_url": "https://github.com/ArunEG", "followers_url": "https://api.github.com/users/ArunEG/followers", "following_url": "https://api.github.com/users/ArunEG/following{/other_user}", "gists_url": "https://api.github.com/users/ArunEG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArunEG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArunEG/subscriptions", "organizations_url": "https://api.github.com/users/ArunEG/orgs", "repos_url": "https://api.github.com/users/ArunEG/repos", "events_url": "https://api.github.com/users/ArunEG/events{/privacy}", "received_events_url": "https://api.github.com/users/ArunEG/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-24T05:35:00Z", "updated_at": "2020-02-03T13:15:05Z", "closed_at": "2020-02-03T13:15:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nDoes it support TLS connection?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/515", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/515/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/515/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/515/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/515", "id": 393770279, "node_id": "MDU6SXNzdWUzOTM3NzAyNzk=", "number": 515, "title": "Error when importing", "user": {"login": "Poipt", "id": 34775545, "node_id": "MDQ6VXNlcjM0Nzc1NTQ1", "avatar_url": "https://avatars3.githubusercontent.com/u/34775545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Poipt", "html_url": "https://github.com/Poipt", "followers_url": "https://api.github.com/users/Poipt/followers", "following_url": "https://api.github.com/users/Poipt/following{/other_user}", "gists_url": "https://api.github.com/users/Poipt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Poipt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Poipt/subscriptions", "organizations_url": "https://api.github.com/users/Poipt/orgs", "repos_url": "https://api.github.com/users/Poipt/repos", "events_url": "https://api.github.com/users/Poipt/events{/privacy}", "received_events_url": "https://api.github.com/users/Poipt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-23T18:14:12Z", "updated_at": "2018-12-23T18:16:48Z", "closed_at": "2018-12-23T18:16:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I import the plugin, this issue comes up and the program stops:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/runner/.site-packages/websocket/_http.py\", line 143, in _get_addrinfo_list\r\n    hostname, port, 0, 0, socket.SOL_TCP)\r\n  File \"/usr/local/lib/python3.6/socket.py\", line 743, in getaddrinfo\r\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\r\nsocket.gaierror: [Errno -2] Name or service not known\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 27, in <module>\r\n    ws.connect(\"[ws server]\")\r\n  File \"/home/runner/.site-packages/websocket/_core.py\", line 220, in connect\r\n    options.pop('socket', None))\r\n  File \"/home/runner/.site-packages/websocket/_http.py\", line 113, in connect\r\n    hostname, port, is_secure, proxy)\r\n  File \"/home/runner/.site-packages/websocket/_http.py\", line 154, in _get_addrinfo_list\r\n    raise WebSocketAddressException(e)\r\nwebsocket._exceptions.WebSocketAddressException: [Errno -2] Name or service not known\r\n\r\nIt was working perfectly yesterday, but then I got this error. I have tried reinstalling multiple times.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/503", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/503/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/503/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/503", "id": 379782801, "node_id": "MDU6SXNzdWUzNzk3ODI4MDE=", "number": 503, "title": "Sending many messages with one connection", "user": {"login": "Xonxt", "id": 5681661, "node_id": "MDQ6VXNlcjU2ODE2NjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5681661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xonxt", "html_url": "https://github.com/Xonxt", "followers_url": "https://api.github.com/users/Xonxt/followers", "following_url": "https://api.github.com/users/Xonxt/following{/other_user}", "gists_url": "https://api.github.com/users/Xonxt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xonxt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xonxt/subscriptions", "organizations_url": "https://api.github.com/users/Xonxt/orgs", "repos_url": "https://api.github.com/users/Xonxt/repos", "events_url": "https://api.github.com/users/Xonxt/events{/privacy}", "received_events_url": "https://api.github.com/users/Xonxt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-12T13:43:56Z", "updated_at": "2018-11-15T10:15:21Z", "closed_at": "2018-11-15T10:15:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following example:\r\n\r\n```\r\nimport json\r\nimport websocket, ssl\r\nimport time\r\n\r\nws = None\r\n\r\ndef send(msg=\"lol\"):\r\n    global ws\r\n    global id\r\n    if ws is None:          \r\n       \r\n        ws = websocket.WebSocket(sslopt={\"cert_reqs\": ssl.CERT_NONE,\r\n                                            \"ssl_version\": ssl.PROTOCOL_TLSv1, \r\n                                            \"certfile\": \"cert.pem\", \r\n                                            \"keyfile\": \"key_wopasswd.pem\"})\r\n        ws.connect(\"wss://localhost:443\")   \r\n        print(\"connected successfully!\",ws.getstatus())\r\n    \r\n    jsonString = json.dumps({\"Time\":int(time.time()), \"Message\":msg})\r\n    ws.send(jsonString.encode('utf-8'))         \r\n    print(\"sent: \", jsonString)\r\n   \r\n########################\r\ni = 0\r\nwhile i < 10:\r\n    i = i + 1\r\n    send(\"i = %d\" % i)\r\nws.close()\r\n```\r\n\r\nThis example simulates what I'm actually trying to do with my app: establish a connection to the server and then send messages. The `send()` function is called from OUTSIDE th script: the script is embedded into a C++ application, that calls the `send()` function.\r\n\r\nI'm testing this with a simple server that should print every received message. But only prints the FIRST one.\r\nHowever, if in my client I close and reopen the connection again after every message, then it works fine. But that's stupid.\r\n\r\nWhat am I doing wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/497", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/497/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/497/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/497/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/497", "id": 374796568, "node_id": "MDU6SXNzdWUzNzQ3OTY1Njg=", "number": 497, "title": "Proxy issue", "user": {"login": "DamianPe", "id": 15075524, "node_id": "MDQ6VXNlcjE1MDc1NTI0", "avatar_url": "https://avatars0.githubusercontent.com/u/15075524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DamianPe", "html_url": "https://github.com/DamianPe", "followers_url": "https://api.github.com/users/DamianPe/followers", "following_url": "https://api.github.com/users/DamianPe/following{/other_user}", "gists_url": "https://api.github.com/users/DamianPe/gists{/gist_id}", "starred_url": "https://api.github.com/users/DamianPe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DamianPe/subscriptions", "organizations_url": "https://api.github.com/users/DamianPe/orgs", "repos_url": "https://api.github.com/users/DamianPe/repos", "events_url": "https://api.github.com/users/DamianPe/events{/privacy}", "received_events_url": "https://api.github.com/users/DamianPe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-28T20:45:33Z", "updated_at": "2018-11-01T04:13:32Z", "closed_at": "2018-11-01T04:13:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\nI'm struggling with connection to a websocket server in local network. When using code from your examples:\r\n`...\r\nif __name__ == \"__main__\":\r\n    websocket.enableTrace(True)\r\n    ws = websocket.WebSocketApp(\"ws://192.168.1.103:1337/\",\r\n                              on_message = on_message,\r\n                              on_error = on_error,\r\n                              on_close = on_close)\r\n    ws.on_open = on_open\r\n    ws.run_forever()`\r\n\r\nI keep getting error:\r\n\r\n> proxy_type must be 'http', 'socks4', 'socks5' or 'socks5h'\r\n\r\nwhile I don't want to use proxy at all.\r\n\r\nHow can I use WebSocketApp from your examples without getting this error?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/478", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/478/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/478/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/478", "id": 359328566, "node_id": "MDU6SXNzdWUzNTkzMjg1NjY=", "number": 478, "title": "Coinbase", "user": {"login": "cassidyqwert", "id": 41436795, "node_id": "MDQ6VXNlcjQxNDM2Nzk1", "avatar_url": "https://avatars1.githubusercontent.com/u/41436795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cassidyqwert", "html_url": "https://github.com/cassidyqwert", "followers_url": "https://api.github.com/users/cassidyqwert/followers", "following_url": "https://api.github.com/users/cassidyqwert/following{/other_user}", "gists_url": "https://api.github.com/users/cassidyqwert/gists{/gist_id}", "starred_url": "https://api.github.com/users/cassidyqwert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cassidyqwert/subscriptions", "organizations_url": "https://api.github.com/users/cassidyqwert/orgs", "repos_url": "https://api.github.com/users/cassidyqwert/repos", "events_url": "https://api.github.com/users/cassidyqwert/events{/privacy}", "received_events_url": "https://api.github.com/users/cassidyqwert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-12T06:07:54Z", "updated_at": "2018-09-24T00:27:21Z", "closed_at": "2018-09-23T04:37:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nCoinbase Rocks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/471", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/471/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/471/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/471", "id": 354011558, "node_id": "MDU6SXNzdWUzNTQwMTE1NTg=", "number": 471, "title": "on_open() missing 1 required positional argument: 'ws'", "user": {"login": "bitphage", "id": 767596, "node_id": "MDQ6VXNlcjc2NzU5Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/767596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitphage", "html_url": "https://github.com/bitphage", "followers_url": "https://api.github.com/users/bitphage/followers", "following_url": "https://api.github.com/users/bitphage/following{/other_user}", "gists_url": "https://api.github.com/users/bitphage/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitphage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitphage/subscriptions", "organizations_url": "https://api.github.com/users/bitphage/orgs", "repos_url": "https://api.github.com/users/bitphage/repos", "events_url": "https://api.github.com/users/bitphage/events{/privacy}", "received_events_url": "https://api.github.com/users/bitphage/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-25T13:16:30Z", "updated_at": "2020-04-08T21:39:48Z", "closed_at": "2018-09-09T13:19:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please look at https://github.com/bitshares/python-bitshares/issues/136\r\n\r\nThe error caused by this change from `git diff v0.48.0 -- websocket/_app.py`:\r\n\r\n```diff\r\n     def _callback(self, callback, *args):\r\n         if callback:\r\n             try:\r\n-                callback(self, *args)\r\n+                if inspect.ismethod(callback):\r\n+                    callback(*args)\r\n+                else:\r\n+                    callback(self, *args)\r\n```\r\n\r\nProbably the first callback should also receive `self`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/469", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/469/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/469/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/469", "id": 353017941, "node_id": "MDU6SXNzdWUzNTMwMTc5NDE=", "number": 469, "title": "Problem with using websocket in a class on Windows platform", "user": {"login": "smartchris84", "id": 34967174, "node_id": "MDQ6VXNlcjM0OTY3MTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/34967174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smartchris84", "html_url": "https://github.com/smartchris84", "followers_url": "https://api.github.com/users/smartchris84/followers", "following_url": "https://api.github.com/users/smartchris84/following{/other_user}", "gists_url": "https://api.github.com/users/smartchris84/gists{/gist_id}", "starred_url": "https://api.github.com/users/smartchris84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smartchris84/subscriptions", "organizations_url": "https://api.github.com/users/smartchris84/orgs", "repos_url": "https://api.github.com/users/smartchris84/repos", "events_url": "https://api.github.com/users/smartchris84/events{/privacy}", "received_events_url": "https://api.github.com/users/smartchris84/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-22T15:54:27Z", "updated_at": "2018-10-01T15:55:51Z", "closed_at": "2018-09-10T15:17:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been using websocket with no problem on Mac and Ubuntu.\r\n\r\nBut when I was trying to use websocket in a class on Windows where on_open, on_message, on_close, on_error callbacks are effectively class functions, there are errors indicating callbacks are of invalid format.\r\n\r\nBut this code works perfectly on Mac and Ubuntu.\r\n\r\nMy Windows machine is Windows 10 and python is 3.6.4 (Anaconda).\r\n\r\nHere's the code.\r\n\r\n\timport threading\r\n\timport websocket\r\n\timport ssl\r\n\timport sys\r\n\tfrom time import sleep\r\n\r\n\tclass MyWebSocket():\r\n\t\tdef connect(self, wsURL=\"wss://www.bitmex.com/realtime?subscribe=quote:XBTUSD\"):\r\n\t\t\tprint(\"Starting thread\")\r\n\t\t\tssl_defaults = ssl.get_default_verify_paths()\r\n\t\t\tsslopt_ca_certs = {\"ca_certs\": ssl_defaults.cafile}\r\n\t\t\tself.ws = websocket.WebSocketApp(wsURL,\r\n\t                                         on_message=self.__on_message,\r\n\t                                         on_close=self.__on_close,\r\n\t                                         on_open=self.__on_open,\r\n\t                                         on_error=self.__on_error,\r\n\t                                         )\r\n\t\t\tself.wst = threading.Thread(target=lambda: self.ws.run_forever(sslopt=sslopt_ca_certs))\r\n\t\t\tself.wst.daemon = True\r\n\t\t\tself.wst.start()\r\n\r\n\t\t\tconn_timeout = 5\r\n\t\t\twhile (not self.ws.sock or not self.ws.sock.connected) and conn_timeout:\r\n\t\t\t\tsleep(1)\r\n\t\t\t\tconn_timeout -= 1\r\n\t\t\tif not conn_timeout:\r\n\t\t\t\tprint(\"Could not connect to WS! Exiting.\")\r\n\t\t\t\tsys.exit(1)\r\n\r\n\t\tdef __on_message(self, ws, message):\r\n\t\t\tprint(message)\r\n\t\tdef __on_open(self, ws):\r\n\t\t\tprint(\"opened\")\r\n\t\tdef __on_close(self, ws):\r\n\t\t\tprint(\"closed\")\r\n\t\tdef __on_error(self, ws, error):\r\n\t\t\tprint(\"error\")\r\n\r\n\twebsocket.enableTrace(True)\r\n\tmysocket = MyWebSocket()\r\n\tmysocket.connect()\r\n\r\n\twhile True:\r\n\t\tsleep(1)\r\n\r\nAnd here's the output. \r\n```\r\nStarting thread\r\n--- request header ---\r\nGET /realtime?subscribe=quote:XBTUSD HTTP/1.1\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nHost: www.bitmex.com\r\nOrigin: http://www.bitmex.com\r\nSec-WebSocket-Key: E518/Zulj3+mTSfQh0aGiw==\r\nSec-WebSocket-Version: 13\r\n--- response header ---\r\nHTTP/1.1 101 Switching Protocols\r\nDate: Wed, 22 Aug 2018 15:53:08 GMT\r\nConnection: upgrade\r\nSet-Cookie: AWSALB=qwD5YB1Ix9IoSM/Kcs/PGmTLDJ0303FUlCkbibY3ogdhfmyJVr9Gm8S+bToDngo0rXRULJlCjz0ItOmgdPmVvSlSVJNrvk26B2vZTBBUGW3hdhH5iws34bMh2S8L; Expires=Wed, 29 Aug 2018 15:53:08 GMT; Path=/\r\nUpgrade: websocket\r\nSec-WebSocket-Accept: n9qPXu14/l2Z/dZjMdwfTpED2aw=\r\nSec-WebSocket-Version: 13\r\nWebSocket-Server: uWebSockets\r\nStrict-Transport-Security: max-age=31536000; includeSubDomains\r\n\r\nerror from callback <bound method MyWebSocket.__on_open of <__main__.MyWebSocket object at 0x000002376143B6D8>>: __on_open() missing 1 required positional argument: 'ws'\r\n  File \"C:\\Users\\Chris\\Anaconda3\\envs\\kmeans\\lib\\site-packages\\websocket\\_app.py\", line 333, in _callback\r\n    callback(*args)\r\nerror from callback <bound method MyWebSocket.__on_message of <__main__.MyWebSocket object at 0x000002376143B6D8>>: __on_message() missing 1 required positional argument: 'message'\r\n  File \"C:\\Users\\Chris\\Anaconda3\\envs\\kmeans\\lib\\site-packages\\websocket\\_app.py\", line 333, in _callback\r\n    callback(*args)\r\nerror from callback <bound method MyWebSocket.__on_error of <__main__.MyWebSocket object at 0x000002376143B6D8>>: __on_error() missing 1 required positional argument: 'error'\r\n  File \"C:\\Users\\Chris\\Anaconda3\\envs\\kmeans\\lib\\site-packages\\websocket\\_app.py\", line 333, in _callback\r\n    callback(*args)\r\nsend: b'\\x88\\x82Q\\xb8G\\x1aRP'\r\nerror from callback <bound method MyWebSocket.__on_close of <__main__.MyWebSocket object at 0x000002376143B6D8>>: __on_close() missing 1 required positional argument: 'ws'\r\n  File \"C:\\Users\\Chris\\Anaconda3\\envs\\kmeans\\lib\\site-packages\\websocket\\_app.py\", line 333, in _callback\r\n    callback(*args)\r\nCouldn't connect to WS! Exiting.\r\n\r\n```\r\n\r\n\r\n\r\nIs there anyone who knows the solution? I googled but found no solution at all.\r\n\r\nI can fix the error by using callbacks that are not member functions of a class but I need to use the class member function as the callbacks.\r\n\r\nPlease help me out!\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/467", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/467/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/467/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/467", "id": 351918726, "node_id": "MDU6SXNzdWUzNTE5MTg3MjY=", "number": 467, "title": "WebsocketApp does not identify callback arguments correctly on 0.51.0", "user": {"login": "swedishmike", "id": 8100625, "node_id": "MDQ6VXNlcjgxMDA2MjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8100625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swedishmike", "html_url": "https://github.com/swedishmike", "followers_url": "https://api.github.com/users/swedishmike/followers", "following_url": "https://api.github.com/users/swedishmike/following{/other_user}", "gists_url": "https://api.github.com/users/swedishmike/gists{/gist_id}", "starred_url": "https://api.github.com/users/swedishmike/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swedishmike/subscriptions", "organizations_url": "https://api.github.com/users/swedishmike/orgs", "repos_url": "https://api.github.com/users/swedishmike/repos", "events_url": "https://api.github.com/users/swedishmike/events{/privacy}", "received_events_url": "https://api.github.com/users/swedishmike/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-08-19T17:11:34Z", "updated_at": "2020-04-08T23:01:21Z", "closed_at": "2018-09-06T10:06:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The issue [463](https://github.com/websocket-client/websocket-client/issues/463) referenced that version 0.49.0 seemed to break callback arguments. Version 0.51.0 was released with a reverse of [442](https://github.com/websocket-client/websocket-client/pull/442) to fix this.\r\n\r\nI've tried this version with the certstream library and the issue is still there as far as I can gather. If I revert to version 0.48.0 it all works again. For my own usage I'm quite happy to use requirements.txt to make sure that version 0.48.0 is used but this might cause issues for others as well?\r\n\r\nI use the following example from the Certstream README to replicate the issue.\r\n\r\n```\r\nimport logging\r\nimport sys\r\nimport datetime\r\nimport certstream\r\n\r\ndef print_callback(message, context):\r\n    logging.debug(\"Message -> {}\".format(message))\r\n\r\n    if message['message_type'] == \"heartbeat\":\r\n        return\r\n\r\n    if message['message_type'] == \"certificate_update\":\r\n        all_domains = message['data']['leaf_cert']['all_domains']\r\n\r\n        if len(all_domains) == 0:\r\n            domain = \"NULL\"\r\n        else:\r\n            domain = all_domains[0]\r\n\r\n        sys.stdout.write(u\"[{}] {} (SAN: {})\\n\".format(datetime.datetime.now().strftime('%m/%d/%y %H:%M:%S'), domain, \", \".join(message['data']['leaf_cert']['all_domains'][1:])))\r\n        sys.stdout.flush()\r\n\r\nlogging.basicConfig(format='[%(levelname)s:%(name)s] %(asctime)s - %(message)s', level=logging.INFO)\r\n\r\ncertstream.listen_for_events(print_callback)\r\n```\r\n\r\nHere are some examples of the errors that are being reported:\r\n\r\n> [ERROR:websocket] 2018-08-20 07:26:53,347 - error from callback <bound method CertStreamClient._on_open of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_open() takes exactly 2 arguments (1 given)\r\n> [ERROR:websocket] 2018-08-20 07:26:53,524 - error from callback <bound method CertStreamClient._on_message of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_message() takes exactly 3 arguments (2 given)\r\n> [ERROR:websocket] 2018-08-20 07:26:55,253 - error from callback <bound method CertStreamClient._on_message of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_message() takes exactly 3 arguments (2 given)\r\n> [ERROR:websocket] 2018-08-20 07:26:55,484 - error from callback <bound method CertStreamClient._on_message of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_message() takes exactly 3 arguments (2 given)\r\n> [ERROR:websocket] 2018-08-20 07:26:55,496 - error from callback <bound method CertStreamClient._on_message of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_message() takes exactly 3 arguments (2 given)\r\n> [ERROR:websocket] 2018-08-20 07:26:55,509 - error from callback <bound method CertStreamClient._on_message of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_message() takes exactly 3 arguments (2 given)\r\n> [ERROR:websocket] 2018-08-20 07:26:56,093 - error from callback <bound method CertStreamClient._on_error of <certstream.core.CertStreamClient object at 0x7fb85883dc10>>: _on_error() takes exactly 3 arguments (2 given)\r\n\r\nI'm not sure if this is caused by the certstream library using some deprecated functionality that's been removed or what's going on?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/466", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/466/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/466/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/466", "id": 351865612, "node_id": "MDU6SXNzdWUzNTE4NjU2MTI=", "number": 466, "title": "Message receaving stops with error message \"not supported between instances of 'float' and 'NoneType'\"", "user": {"login": "AvocadoWasabi", "id": 34059727, "node_id": "MDQ6VXNlcjM0MDU5NzI3", "avatar_url": "https://avatars3.githubusercontent.com/u/34059727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AvocadoWasabi", "html_url": "https://github.com/AvocadoWasabi", "followers_url": "https://api.github.com/users/AvocadoWasabi/followers", "following_url": "https://api.github.com/users/AvocadoWasabi/following{/other_user}", "gists_url": "https://api.github.com/users/AvocadoWasabi/gists{/gist_id}", "starred_url": "https://api.github.com/users/AvocadoWasabi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AvocadoWasabi/subscriptions", "organizations_url": "https://api.github.com/users/AvocadoWasabi/orgs", "repos_url": "https://api.github.com/users/AvocadoWasabi/repos", "events_url": "https://api.github.com/users/AvocadoWasabi/events{/privacy}", "received_events_url": "https://api.github.com/users/AvocadoWasabi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-19T01:38:46Z", "updated_at": "2018-09-03T10:03:35Z", "closed_at": "2018-09-03T10:03:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using:\r\nWindows 10\r\nPython 3.6.4\r\nwebsocket-client 0.50.0\r\n\r\nThe error message \"not supported between instances of 'float' and 'NoneType'\" appeared after first call of on_message callback.\r\n\r\nHere is a program where I encountered the error. However, this error didn't occurred with websocket-client old version 0.47.0.\r\n\r\n    import json\r\n    import websocket\r\n    from time import sleep\r\n    from logging import getLogger,INFO,StreamHandler\r\n    logger = getLogger(__name__)\r\n    handler = StreamHandler()\r\n    handler.setLevel(INFO)\r\n    logger.setLevel(INFO)\r\n    logger.addHandler(handler)\r\n\r\n    \"\"\"\r\n    This program calls Bitflyer real time API JSON-RPC2.0 over Websocket\r\n    \"\"\"\r\n    class RealtimeAPI(object):\r\n\r\n        def __init__(self, url, channel):\r\n            self.url = url\r\n            self.channel = channel\r\n\r\n            #Define Websocket\r\n            self.ws = websocket.WebSocketApp(self.url,header=None,on_open=self.on_open, on_message=self.on_message, on_error=self.on_error, on_close=self.on_close)\r\n            websocket.enableTrace(True)\r\n\r\n        def run(self):\r\n            #ws has loop. To break this press ctrl + c to occur Keyboard Interruption Exception.\r\n            self.ws.run_forever()   \r\n            logger.info('Web Socket process ended.')\r\n\r\n        \"\"\"\r\n        Below are callback functions of websocket.\r\n        \"\"\"\r\n        # when we get message\r\n        def on_message(self, ws, message):\r\n            output = json.loads(message)['params']\r\n            logger.info(output)\r\n\r\n        # when error occurs\r\n        def on_error(self, ws, error):\r\n            logger.error(error)\r\n\r\n        # when websocket closed.\r\n        def on_close(self, ws):\r\n            logger.info('disconnected streaming server')\r\n\r\n        # when websocket opened.\r\n        def on_open(self, ws):\r\n            logger.info('connected streaming server')\r\n            output_json = json.dumps(\r\n                {'method' : 'subscribe',\r\n                'params' : {'channel' : self.channel}\r\n                }\r\n            )\r\n            ws.send(output_json)\r\n\r\n    if __name__ == '__main__':\r\n        #API endpoint\r\n        url = 'wss://ws.lightstream.bitflyer.com/json-rpc'\r\n        channel = 'lightning_board_snapshot_BTC_JPY'\r\n        json_rpc = RealtimeAPI(url=url, channel=channel)\r\n        json_rpc.run()", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/463", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/463/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/463/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/463", "id": 351180984, "node_id": "MDU6SXNzdWUzNTExODA5ODQ=", "number": 463, "title": "WebsocketApp does not identify callback arguments correctly on 0.49.0", "user": {"login": "SparkyTheAlbino", "id": 10991523, "node_id": "MDQ6VXNlcjEwOTkxNTIz", "avatar_url": "https://avatars0.githubusercontent.com/u/10991523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SparkyTheAlbino", "html_url": "https://github.com/SparkyTheAlbino", "followers_url": "https://api.github.com/users/SparkyTheAlbino/followers", "following_url": "https://api.github.com/users/SparkyTheAlbino/following{/other_user}", "gists_url": "https://api.github.com/users/SparkyTheAlbino/gists{/gist_id}", "starred_url": "https://api.github.com/users/SparkyTheAlbino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SparkyTheAlbino/subscriptions", "organizations_url": "https://api.github.com/users/SparkyTheAlbino/orgs", "repos_url": "https://api.github.com/users/SparkyTheAlbino/repos", "events_url": "https://api.github.com/users/SparkyTheAlbino/events{/privacy}", "received_events_url": "https://api.github.com/users/SparkyTheAlbino/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-16T12:19:43Z", "updated_at": "2018-08-19T11:03:55Z", "closed_at": "2018-08-19T11:03:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using:\r\nPython Version: Python 3.4.2\r\nOS: Raspian Lite (Raspberry Pi Model 3B+)\r\n\r\nWhen using the latest version 0.49.0 on_open, on_error, on_close all cannot see the args and therefore breaks everything and not connecting at all.\r\n\r\nDowngrading back to 0.48.0 works fine, have been running this on another raspberry pi for quite some time now. Downgraded this new Raspberry pi to 0.48.0 and its working fine.\r\n\r\n```\r\n08/16/2018 12:58:26 PM -      ERROR: error from callback <bound method Operator.on_cxn_open of <__main__.Operator object at 0x7640b8f0>>: on_cxn_open() missing 1 required positional argument: 'ws'\r\n  File \"/usr/local/lib/python3.4/dist-packages/websocket/_app.py\", line 329, in _callback\r\n    callback(*args)\r\n```\r\n\r\nHere are few snippets from my code that may help:\r\n```\r\nself.ws = websocket.WebSocketApp(host + self.ID,\r\n                                on_open    = self.on_cxn_open,\r\n                                on_message = self.on_message,\r\n                                on_error   = self.on_cxn_error,\r\n                                on_close   = self.on_cxn_close,\r\n                                header     = headers\r\n                                )\r\n\r\n    def on_cxn_open(self, ws):\r\n        self.connected = True\r\n        logging.info(self.ID + \"---- connection opened\")\r\n        return\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/459", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/459/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/459/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/459/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/459", "id": 350289666, "node_id": "MDU6SXNzdWUzNTAyODk2NjY=", "number": 459, "title": "Add option to disable sending the Origin header", "user": {"login": "liris", "id": 157505, "node_id": "MDQ6VXNlcjE1NzUwNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/157505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liris", "html_url": "https://github.com/liris", "followers_url": "https://api.github.com/users/liris/followers", "following_url": "https://api.github.com/users/liris/following{/other_user}", "gists_url": "https://api.github.com/users/liris/gists{/gist_id}", "starred_url": "https://api.github.com/users/liris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liris/subscriptions", "organizations_url": "https://api.github.com/users/liris/orgs", "repos_url": "https://api.github.com/users/liris/repos", "events_url": "https://api.github.com/users/liris/events{/privacy}", "received_events_url": "https://api.github.com/users/liris/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-14T05:54:51Z", "updated_at": "2018-08-14T05:58:35Z", "closed_at": "2018-08-14T05:58:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/455", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/455/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/455/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/455", "id": 346989655, "node_id": "MDU6SXNzdWUzNDY5ODk2NTU=", "number": 455, "title": "websocket.enableTrace not working (0.48.0) ", "user": {"login": "dbaio", "id": 2529335, "node_id": "MDQ6VXNlcjI1MjkzMzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2529335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbaio", "html_url": "https://github.com/dbaio", "followers_url": "https://api.github.com/users/dbaio/followers", "following_url": "https://api.github.com/users/dbaio/following{/other_user}", "gists_url": "https://api.github.com/users/dbaio/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbaio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbaio/subscriptions", "organizations_url": "https://api.github.com/users/dbaio/orgs", "repos_url": "https://api.github.com/users/dbaio/repos", "events_url": "https://api.github.com/users/dbaio/events{/privacy}", "received_events_url": "https://api.github.com/users/dbaio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-02T12:27:33Z", "updated_at": "2018-08-14T06:36:22Z", "closed_at": "2018-08-14T06:36:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nUsing example script: [echoapp_client.py](https://github.com/websocket-client/websocket-client/blob/master/examples/echoapp_client.py)\r\n\r\n` websocket-client==0.47.0`\r\n\r\n```BASH\r\n$ python2.7 test.py\r\n--- request header ---\r\nGET / HTTP/1.1\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nHost: echo.websocket.org\r\nOrigin: http://echo.websocket.org\r\nSec-WebSocket-Key: Jh8RZdsYY0LWcrKZ7fq3cw==\r\nSec-WebSocket-Version: 13\r\n\r\n\r\n-----------------------\r\n--- response header ---\r\nHTTP/1.1 101 Web Socket Protocol Handshake\r\nConnection: Upgrade\r\nDate: Thu, 02 Aug 2018 12:19:00 GMT\r\nSec-WebSocket-Accept: gSVGGidtS4sTLsMAOJc9r0L6Y7s=\r\nServer: Kaazing Gateway\r\nUpgrade: websocket\r\n-----------------------\r\nsend: '\\x81\\x87\\x972\\x98\\x84\\xdfW\\xf4\\xe8\\xf8\\x12\\xa8'\r\nHello 0\r\nsend: '\\x81\\x872l\\xae/z\\t\\xc2C]L\\x9f'\r\nHello 1\r\nsend: '\\x81\\x87\\x0f\\x9e\\x80\\xc6G\\xfb\\xec\\xaa`\\xbe\\xb2'\r\nHello 2\r\nsend: '\\x88\\x82|\\xfc\\xb2q\\x7f\\x14'\r\nThread terminating...\r\n```\r\n\r\n` websocket-client==0.48.0`\r\n\r\n```BASH\r\n$ python2.7 test.py\r\nHello 0\r\nHello 1\r\nHello 2\r\nThread terminating...\r\n### closed ###\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/454", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/454/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/454/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/454", "id": 344096209, "node_id": "MDU6SXNzdWUzNDQwOTYyMDk=", "number": 454, "title": "WebSocketBadStatusException \"not enough arguments for format string\"", "user": {"login": "bkulback", "id": 20516831, "node_id": "MDQ6VXNlcjIwNTE2ODMx", "avatar_url": "https://avatars2.githubusercontent.com/u/20516831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkulback", "html_url": "https://github.com/bkulback", "followers_url": "https://api.github.com/users/bkulback/followers", "following_url": "https://api.github.com/users/bkulback/following{/other_user}", "gists_url": "https://api.github.com/users/bkulback/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkulback/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkulback/subscriptions", "organizations_url": "https://api.github.com/users/bkulback/orgs", "repos_url": "https://api.github.com/users/bkulback/repos", "events_url": "https://api.github.com/users/bkulback/events{/privacy}", "received_events_url": "https://api.github.com/users/bkulback/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-24T15:45:19Z", "updated_at": "2018-08-14T06:43:14Z", "closed_at": "2018-08-14T06:43:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "In _get_resp_headers, read_headers is returning an authentication error (not the problem).  However, the constructor of the WebSocketBadStatusException is having problems building the message text - as the format expects two arguments.\r\n\r\nstatus=401\r\nresp_headers=dict: {u'date': u'Tue, 24 Jul 2018 15:18:26 GMT', u'content-length': u'0', u'expires': u'Wed, 31 Dec 1969 19:00:00 EST', u'www-authenticate': u'authenticate with basic', u'cache-control': u'private'}\r\nstatus_message=None\r\n\r\nPython 2.7, websocket-client 0.48.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/453", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/453/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/453/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/453", "id": 344003841, "node_id": "MDU6SXNzdWUzNDQwMDM4NDE=", "number": 453, "title": "Headers not being sent", "user": {"login": "logileifs", "id": 2317815, "node_id": "MDQ6VXNlcjIzMTc4MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2317815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logileifs", "html_url": "https://github.com/logileifs", "followers_url": "https://api.github.com/users/logileifs/followers", "following_url": "https://api.github.com/users/logileifs/following{/other_user}", "gists_url": "https://api.github.com/users/logileifs/gists{/gist_id}", "starred_url": "https://api.github.com/users/logileifs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logileifs/subscriptions", "organizations_url": "https://api.github.com/users/logileifs/orgs", "repos_url": "https://api.github.com/users/logileifs/repos", "events_url": "https://api.github.com/users/logileifs/events{/privacy}", "received_events_url": "https://api.github.com/users/logileifs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-24T11:53:17Z", "updated_at": "2018-07-24T13:14:11Z", "closed_at": "2018-07-24T13:14:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a simple socket server that prints out the request headers:\r\n\r\nWhen I connect to it with nodejs socket-io like this:\r\n```\r\nvar opts = {\r\n  extraHeaders: {\r\n    'X-Custom-Header': 'my-secret-access-token'\r\n  }\r\n};\r\n\r\nvar socket = require('engine.io-client')('ws://localhost', opts);\r\n```\r\nI can see the custom header printed along with the regular stuff:\r\n```\r\n{'GATEWAY_INTERFACE': 'CGI/1.1', 'SERVER_SOFTWARE': 'gevent/1.3.4 gunicorn/19.9.0', 'SCRIPT_NAME': '', 'wsgi.version': (1, 0), 'wsgi.multithread': True, 'wsgi.multiprocess': False, 'wsgi.run_once': False, 'wsgi.url_scheme': 'http', 'wsgi.errors': <gunicorn.http.wsgi.WSGIErrorsWrapper object at 0x10c89eeb8>, 'wsgi.file_wrapper': <class 'gunicorn.http.wsgi.FileWrapper'>, 'SERVER_NAME': 'nc-mbp-0174.in.is', 'SERVER_PORT': '80', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/engine.io/', 'QUERY_STRING': 'EIO=3&transport=polling&t=MJC4plr&b64=1', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_PORT': '50748', 'HTTP_USER_AGENT': 'node-XMLHttpRequest', 'HTTP_ACCEPT': '*/*', 'HTTP_X_CUSTOM_HEADER': 'my-secret-access-token', 'HTTP_HOST': 'localhost', 'HTTP_CONNECTION': 'close', 'wsgi.input': <gevent.pywsgi.Input object at 0x10cfed828>}\r\n```\r\n\r\nWhen connecting with websocket-client:\r\n```\r\nheaders = {\r\n  'X-Custom-Header': 'my-secret-access-token',\r\n}\r\nws = create_connection('ws://localhost/echo', headers=headers)\r\n```\r\n\r\nThe header I added doesn't get sent along:\r\n```\r\n{'GATEWAY_INTERFACE': 'CGI/1.1', 'SERVER_SOFTWARE': 'gevent/1.3.4 gunicorn/19.9.0', 'SCRIPT_NAME': '', 'wsgi.version': (1, 0), 'wsgi.multithread': True, 'wsgi.multiprocess': False, 'wsgi.run_once': False, 'wsgi.url_scheme': 'http', 'wsgi.errors': <gunicorn.http.wsgi.WSGIErrorsWrapper object at 0x10c89eeb8>, 'wsgi.file_wrapper': <class 'gunicorn.http.wsgi.FileWrapper'>, 'SERVER_NAME': 'nc-mbp-0174.in.is', 'SERVER_PORT': '80', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/echo', 'QUERY_STRING': '', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_PORT': '50803', 'HTTP_UPGRADE': 'websocket', 'HTTP_CONNECTION': 'Upgrade', 'HTTP_HOST': 'localhost', 'HTTP_ORIGIN': 'http://localhost', 'HTTP_SEC_WEBSOCKET_KEY': 'TmvTccuG4XC75y/z9JWdeA==', 'HTTP_SEC_WEBSOCKET_VERSION': '13', 'wsgi.input': <gevent.pywsgi.Input object at 0x10cfedbe8>, 'wsgi.websocket_version': '13', 'wsgi.websocket': <geventwebsocket.websocket.WebSocket object at 0x10cfc2868>}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/447", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/447/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/447/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/447", "id": 335640563, "node_id": "MDU6SXNzdWUzMzU2NDA1NjM=", "number": 447, "title": "get exception when reconnect ", "user": {"login": "jianglijie", "id": 19518364, "node_id": "MDQ6VXNlcjE5NTE4MzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/19518364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jianglijie", "html_url": "https://github.com/jianglijie", "followers_url": "https://api.github.com/users/jianglijie/followers", "following_url": "https://api.github.com/users/jianglijie/following{/other_user}", "gists_url": "https://api.github.com/users/jianglijie/gists{/gist_id}", "starred_url": "https://api.github.com/users/jianglijie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jianglijie/subscriptions", "organizations_url": "https://api.github.com/users/jianglijie/orgs", "repos_url": "https://api.github.com/users/jianglijie/repos", "events_url": "https://api.github.com/users/jianglijie/events{/privacy}", "received_events_url": "https://api.github.com/users/jianglijie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-26T03:02:07Z", "updated_at": "2018-06-26T04:56:13Z", "closed_at": "2018-06-26T04:56:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "i use \r\n`while True:      \r\n ws.run_forever(sslopt={\"cert_reqs\": ssl.CERT_NONE})` to keep websocket  run forever\r\nbut after the client close and reconnect the server. it dont work on_message.i can get data but it throw excetption ,is it bug or i use incorrect", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/443", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/443/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/443/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/443", "id": 333495549, "node_id": "MDU6SXNzdWUzMzM0OTU1NDk=", "number": 443, "title": "Regression? AttributeError: 'module' object has no attribute 'NullHandler'", "user": {"login": "tdmalone", "id": 900469, "node_id": "MDQ6VXNlcjkwMDQ2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/900469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdmalone", "html_url": "https://github.com/tdmalone", "followers_url": "https://api.github.com/users/tdmalone/followers", "following_url": "https://api.github.com/users/tdmalone/following{/other_user}", "gists_url": "https://api.github.com/users/tdmalone/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdmalone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdmalone/subscriptions", "organizations_url": "https://api.github.com/users/tdmalone/orgs", "repos_url": "https://api.github.com/users/tdmalone/repos", "events_url": "https://api.github.com/users/tdmalone/events{/privacy}", "received_events_url": "https://api.github.com/users/tdmalone/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-19T02:14:57Z", "updated_at": "2018-08-14T08:05:14Z", "closed_at": "2018-08-14T06:44:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "_I'm not very familiar with Python, so my apologies if this is not related to websocket-client at all. I've been doing some digging after experiencing errors with `docker-py`/`docker` via Ansible's docker modules, and the stack trace led me to `websocket` and `pip freeze` led me to `websocket-client`._\r\n\r\nI'm getting the following stack trace from Ansible while using its docker modules (eg. [docker_image_module](https://docs.ansible.com/ansible/latest/modules/docker_image_module.html)):\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \\\"/tmp/ansible_rPWnh2/ansible_module_docker_image.py\\\", line 246, in <module>\r\n    from ansible.module_utils.docker_common import HAS_DOCKER_PY_2, HAS_DOCKER_PY_3, AnsibleDockerClient, DockerBaseClass\r\n  File \\\"/tmp/ansible_rPWnh2/ansible_modlib.zip/ansible/module_utils/docker_common.py\\\", line 37, in <module>\r\n  File \\\"/usr/lib/python2.6/site-packages/docker/__init__.py\\\", line 6, in <module>\r\n    from .client import Client, AutoVersionClient, from_env # flake8: noqa\r\n  File \\\"/usr/lib/python2.6/site-packages/docker/client.py\\\", line 8, in <module>\r\n    import websocket\r\n  File \\\"/usr/lib/python2.6/site-packages/websocket/__init__.py\\\", line 23, in <module>\r\n    from ._app import WebSocketApp\r\n  File \\\"/usr/lib/python2.6/site-packages/websocket/_app.py\\\", line 35, in <module>\r\n    from ._core import WebSocket, getdefaulttimeout\r\n  File \\\"/usr/lib/python2.6/site-packages/websocket/_core.py\\\", line 33, in <module>\r\n    from ._handshake import *\r\n  File \\\"/usr/lib/python2.6/site-packages/websocket/_handshake.py\\\", line 30, in <module>\r\n    from ._http import *\r\n  File \\\"/usr/lib/python2.6/site-packages/websocket/_http.py\\\", line 30, in <module>\r\n    from ._logging import *\r\n  File \\\"/usr/lib/python2.6/site-packages/websocket/_logging.py\\\", line 25, in <module>\r\n    _logger.addHandler(logging.NullHandler())\r\nAttributeError: 'module' object has no attribute 'NullHandler'\r\n```\r\n\r\nThe line that this leads to was added in https://github.com/websocket-client/websocket-client/pull/400.\r\n\r\nRelated tickets: https://github.com/websocket-client/websocket-client/issues/341 & https://github.com/websocket-client/websocket-client/issues/342\r\n\r\nManually removing that line from my `/usr/lib/python2.6/site-packages/websocket/_logging.py`... appears to make the problem go away, and Ansible's docker modules run correctly.\r\n\r\n```\r\n[root@e0-1 lib]# python --version\r\nPython 2.6.6\r\n[root@e0-1 lib]# pip freeze | grep websocket\r\nwebsocket-client==0.48.0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/440", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/440/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/440/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/440/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/440", "id": 332024073, "node_id": "MDU6SXNzdWUzMzIwMjQwNzM=", "number": 440, "title": "Please document \"threading\" dependency", "user": {"login": "anordal", "id": 4992374, "node_id": "MDQ6VXNlcjQ5OTIzNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4992374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anordal", "html_url": "https://github.com/anordal", "followers_url": "https://api.github.com/users/anordal/followers", "following_url": "https://api.github.com/users/anordal/following{/other_user}", "gists_url": "https://api.github.com/users/anordal/gists{/gist_id}", "starred_url": "https://api.github.com/users/anordal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anordal/subscriptions", "organizations_url": "https://api.github.com/users/anordal/orgs", "repos_url": "https://api.github.com/users/anordal/repos", "events_url": "https://api.github.com/users/anordal/events{/privacy}", "received_events_url": "https://api.github.com/users/anordal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-13T14:35:48Z", "updated_at": "2018-06-14T11:10:01Z", "closed_at": "2018-06-14T11:10:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Git tag v0.48.0:\r\n\r\n    Traceback (most recent call last):\r\n      File \"./statedump.py\", line 14, in <module>\r\n        import websocket\r\n      File \"/usr/lib/python3.5/site-packages/websocket/__init__.py\", line 22, in <module>\r\n        from ._abnf import *\r\n      File \"/usr/lib/python3.5/site-packages/websocket/_abnf.py\", line 30, in <module>\r\n        from threading import Lock\r\n    ImportError: No module named 'threading'\r\n\r\nPlease document how that \"threading\" lib can be installed. There are 8 packages in pip3 with \"threading\" in their name! A link to the source code would be great in case I need to package it myself (I'm writing a bitbake file for python3-websocket-client).\r\n\r\nAny general tip on how to find the package name from an import name?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/438", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/438/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/438/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/438", "id": 330785890, "node_id": "MDU6SXNzdWUzMzA3ODU4OTA=", "number": 438, "title": "Missing 'dispatcher' description.", "user": {"login": "jpchavat", "id": 2160541, "node_id": "MDQ6VXNlcjIxNjA1NDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/2160541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpchavat", "html_url": "https://github.com/jpchavat", "followers_url": "https://api.github.com/users/jpchavat/followers", "following_url": "https://api.github.com/users/jpchavat/following{/other_user}", "gists_url": "https://api.github.com/users/jpchavat/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpchavat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpchavat/subscriptions", "organizations_url": "https://api.github.com/users/jpchavat/orgs", "repos_url": "https://api.github.com/users/jpchavat/repos", "events_url": "https://api.github.com/users/jpchavat/events{/privacy}", "received_events_url": "https://api.github.com/users/jpchavat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-08T20:02:29Z", "updated_at": "2018-08-14T06:47:38Z", "closed_at": "2018-08-14T06:47:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/websocket-client/websocket-client/blob/df275d351f9887fba2774e2e1aa79ff1e5a24bd1/websocket/_app.py#L195", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/436", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/436/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/436/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/436", "id": 329037841, "node_id": "MDU6SXNzdWUzMjkwMzc4NDE=", "number": 436, "title": "Overriding headers in handshake request", "user": {"login": "avichalp", "id": 5305984, "node_id": "MDQ6VXNlcjUzMDU5ODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/5305984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avichalp", "html_url": "https://github.com/avichalp", "followers_url": "https://api.github.com/users/avichalp/followers", "following_url": "https://api.github.com/users/avichalp/following{/other_user}", "gists_url": "https://api.github.com/users/avichalp/gists{/gist_id}", "starred_url": "https://api.github.com/users/avichalp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avichalp/subscriptions", "organizations_url": "https://api.github.com/users/avichalp/orgs", "repos_url": "https://api.github.com/users/avichalp/repos", "events_url": "https://api.github.com/users/avichalp/events{/privacy}", "received_events_url": "https://api.github.com/users/avichalp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-04T12:39:55Z", "updated_at": "2018-06-04T13:38:57Z", "closed_at": "2018-06-04T13:35:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to override headers sent in a handshake request?\r\nI know I can add custom headers by passing in header as keyword argument.\r\nIn this case I don't want to send Origin header to the server.\r\nHow do I do that?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/435", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/435/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/435/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/435/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/435", "id": 328811817, "node_id": "MDU6SXNzdWUzMjg4MTE4MTc=", "number": 435, "title": "stackoverflow after 100 restarts of WebSocketApp", "user": {"login": "vladiRoz", "id": 3446554, "node_id": "MDQ6VXNlcjM0NDY1NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3446554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladiRoz", "html_url": "https://github.com/vladiRoz", "followers_url": "https://api.github.com/users/vladiRoz/followers", "following_url": "https://api.github.com/users/vladiRoz/following{/other_user}", "gists_url": "https://api.github.com/users/vladiRoz/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladiRoz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladiRoz/subscriptions", "organizations_url": "https://api.github.com/users/vladiRoz/orgs", "repos_url": "https://api.github.com/users/vladiRoz/repos", "events_url": "https://api.github.com/users/vladiRoz/events{/privacy}", "received_events_url": "https://api.github.com/users/vladiRoz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-03T08:56:12Z", "updated_at": "2018-06-10T10:30:56Z", "closed_at": "2018-06-10T10:30:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\nI am developing a program that uses several threads that hold a WebSocketApp each.\r\nFrom time to time I need to close and reopen the WebSocketApp on each thread.\r\nAfter I close and reopen the WebSocketApp ~100 times by recreating the WebSocketApp object I receive stackoverflow.\r\n\r\nI inspected the objects stack with:\r\n`objgraph.show_most_common_types(limit=1000)`\r\nI have WebSocketApp and websocket 256 amount of times.\r\n\r\nthis is my socket class\r\n\r\n```\r\nclass SocketConnection(object):\r\n\r\n    def __init__(self, wss_url, channel, callback):\r\n        self.url = wss_url\r\n        self.socket = None\r\n        self.sid = None\r\n\r\n    def connect(self, payload):\r\n        self.payload = payload\r\n        self.start_socket()\r\n\r\n    def start_socket(self):\r\n            if self.socket is not None:\r\n                self.socket.on_message = None\r\n                self.socket.on_error = None\r\n                self.socket.on_close = None\r\n                self.socket.on_open = None\r\n                del self.socket\r\n                self.socket = None\r\n\r\n            self.socket = websocket.WebSocketApp(self.url, on_message=self.on_message, on_error=self.on_error,\r\n                                                 on_close=self.on_close, on_open=self.on_open)\r\n\r\n            self.socket.run_forever(sslopt={\"cert_reqs\": ssl.CERT_NONE})\r\n\r\n# this is triggered 100 times before the stackoverflow\r\n    def restart(self):\r\n        time.sleep(5)\r\n        self.socket.close()\r\n\r\n    def on_open(self, ws):\r\n        print(datetime.now(), self.channel,': on_open:', res)\r\n\r\n    def on_message(self, ws, message):\r\n        print(datetime.now(), self.channel,': on_message')\r\n\r\n    def on_error(self, ws, error):\r\n        print(datetime.now(), self.channel, ': on_error restart in 5 seconds...')\r\n        time.sleep(5)\r\n        self.start_socket()\r\n\r\n    def on_close(self, ws):\r\n        print(datetime.now(), self.channel,': on_close, restarting socket')\r\n        self.start_socket()\r\n```\r\n\r\n\r\nthis is how I create a thread for each socketConnection (from a different class):\r\n\r\n   ```\r\ndef subscribe(self, socket, kwargs):\r\n        payload = json.dumps(kwargs)\r\n        socket.connect(payload)\r\n\r\n    def start_thread(self, loop):\r\n        asyncio.set_event_loop(loop)\r\n        loop.run_forever()\r\n\r\n    def start_socket(self, socket, **kwargs):\r\n        worker_loop = asyncio.new_event_loop()\r\n        worker = Thread(target=self.start_thread, args=(worker_loop,))\r\n        worker.start()\r\n        worker_loop.call_soon_threadsafe(self.subscribe, socket, kwargs)\r\n\r\n```\r\n\r\nstack trace at the begining:\r\nfunction                            6522\r\ndict                                2959\r\ntuple                               2632\r\nweakref                             1657\r\nwrapper_descriptor                  1203\r\nbuiltin_function_or_method          1059\r\nmethod_descriptor                   987\r\ngetset_descriptor                   930\r\ntype                                886\r\nlist                                782\r\nset                                 604\r\nproperty                            509\r\nmember_descriptor                   355\r\nModuleSpec                          344\r\nmodule                              340\r\nSourceFileLoader                    279\r\nitemgetter                          266\r\n**WebSocketApp                        2\r\nWebSocket                           2\r\nSocketConnection                    2**\r\n\r\nstack trace in the end:\r\nfunction                            6522\r\ndict                                5247\r\n2018-06-03 18:28:51.099191 candles : on_message\r\ncandles : delta msg:  0:00:02.364656\r\ntuple                               3145\r\nlist                                2554\r\nweakref                             1657\r\nwrapper_descriptor                  1203\r\nframe                               1059\r\nbuiltin_function_or_method          1059\r\nmethod_descriptor                   987\r\ngetset_descriptor                   930\r\ntype                                886\r\nmethod                              847\r\nset                                 604\r\nproperty                            509\r\nmember_descriptor                   355\r\nModuleSpec                          344\r\nmodule                              340\r\nSourceFileLoader                    279\r\nitemgetter                          266\r\n**WebSocketApp                        256\r\nWebSocket                           256\r\nSocketConnection                    2**\r\n\r\nI tried to move the WebSocketApp creation into the _init_ but I get a 'already open error'\r\n\r\nplease advice.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/434", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/434/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/434/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/434", "id": 328312557, "node_id": "MDU6SXNzdWUzMjgzMTI1NTc=", "number": 434, "title": "Can WebSocket created with create_connection be used for long-live connection?", "user": {"login": "ejel", "id": 253522, "node_id": "MDQ6VXNlcjI1MzUyMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/253522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ejel", "html_url": "https://github.com/ejel", "followers_url": "https://api.github.com/users/ejel/followers", "following_url": "https://api.github.com/users/ejel/following{/other_user}", "gists_url": "https://api.github.com/users/ejel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ejel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ejel/subscriptions", "organizations_url": "https://api.github.com/users/ejel/orgs", "repos_url": "https://api.github.com/users/ejel/repos", "events_url": "https://api.github.com/users/ejel/events{/privacy}", "received_events_url": "https://api.github.com/users/ejel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-31T21:59:47Z", "updated_at": "2018-06-18T03:08:09Z", "closed_at": "2018-06-18T01:31:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "The README mentions that `create_connection` is for short-live / one-off connection. Can socket created with `create_connection` be used as long-live connection or is there an implementation limitation that disallow that?\r\n\r\nI'm debugging an issue with samsungctl component used in [Home Assistant](https://github.com/home-assistant/home-assistant/blob/9658f4383cd391145b4fb23f135437345eb3abba/homeassistant/components/media_player/samsungtv.py). [samsungctl](https://github.com/Ape/samsungctl/blob/master/samsungctl/remote_websocket.py) uses websocket-client created with `create_connection`. After a brief idle time 30s-1 minutes we will get BrokenPipe error when sending new command via websocket. I'm wondering if this has anything to do with websocket created with `create_connection` cannot be used for long-live connection.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/432", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/432/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/432/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/432", "id": 326972790, "node_id": "MDU6SXNzdWUzMjY5NzI3OTA=", "number": 432, "title": "handshake should deal with None in headers", "user": {"login": "suyan-coinjinja", "id": 38413879, "node_id": "MDQ6VXNlcjM4NDEzODc5", "avatar_url": "https://avatars1.githubusercontent.com/u/38413879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suyan-coinjinja", "html_url": "https://github.com/suyan-coinjinja", "followers_url": "https://api.github.com/users/suyan-coinjinja/followers", "following_url": "https://api.github.com/users/suyan-coinjinja/following{/other_user}", "gists_url": "https://api.github.com/users/suyan-coinjinja/gists{/gist_id}", "starred_url": "https://api.github.com/users/suyan-coinjinja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suyan-coinjinja/subscriptions", "organizations_url": "https://api.github.com/users/suyan-coinjinja/orgs", "repos_url": "https://api.github.com/users/suyan-coinjinja/repos", "events_url": "https://api.github.com/users/suyan-coinjinja/events{/privacy}", "received_events_url": "https://api.github.com/users/suyan-coinjinja/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-28T10:09:08Z", "updated_at": "2018-08-14T06:50:21Z", "closed_at": "2018-08-14T06:50:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is the fix I'm using now\r\nhttps://github.com/coinjinja/websocket-client/commit/4083f6a13e2959007bd46c622a07ff9c9bb2d2a2", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/429", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/429/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/429/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/429", "id": 323189434, "node_id": "MDU6SXNzdWUzMjMxODk0MzQ=", "number": 429, "title": "issue with  ping_timeout and ping_interval", "user": {"login": "spartakos87", "id": 5782594, "node_id": "MDQ6VXNlcjU3ODI1OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5782594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spartakos87", "html_url": "https://github.com/spartakos87", "followers_url": "https://api.github.com/users/spartakos87/followers", "following_url": "https://api.github.com/users/spartakos87/following{/other_user}", "gists_url": "https://api.github.com/users/spartakos87/gists{/gist_id}", "starred_url": "https://api.github.com/users/spartakos87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spartakos87/subscriptions", "organizations_url": "https://api.github.com/users/spartakos87/orgs", "repos_url": "https://api.github.com/users/spartakos87/repos", "events_url": "https://api.github.com/users/spartakos87/events{/privacy}", "received_events_url": "https://api.github.com/users/spartakos87/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-15T12:09:29Z", "updated_at": "2018-05-27T04:58:49Z", "closed_at": "2018-05-27T04:58:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I make a script and I use \r\n`        ws.run_forever(ping_interval=30, ping_timeout=10)\r\n`\r\nFirst question , because I didnt find anything, 30 and 10 are in seconds? or something else?\r\nAnd second question ,and more important , I some cases the connection terminate after ping timeout ,obviously, and in the other cases is keep going and never stop....\r\nany suggestions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/428", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/428/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/428/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/428", "id": 321349262, "node_id": "MDU6SXNzdWUzMjEzNDkyNjI=", "number": 428, "title": "On a \"Long-lived connection\", how to pass on a variable from the \"__name__ == \"__main__\"\" to \"on_open\" and \"on_message\" ?", "user": {"login": "Banekas", "id": 39103233, "node_id": "MDQ6VXNlcjM5MTAzMjMz", "avatar_url": "https://avatars3.githubusercontent.com/u/39103233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Banekas", "html_url": "https://github.com/Banekas", "followers_url": "https://api.github.com/users/Banekas/followers", "following_url": "https://api.github.com/users/Banekas/following{/other_user}", "gists_url": "https://api.github.com/users/Banekas/gists{/gist_id}", "starred_url": "https://api.github.com/users/Banekas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Banekas/subscriptions", "organizations_url": "https://api.github.com/users/Banekas/orgs", "repos_url": "https://api.github.com/users/Banekas/repos", "events_url": "https://api.github.com/users/Banekas/events{/privacy}", "received_events_url": "https://api.github.com/users/Banekas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-08T21:13:46Z", "updated_at": "2018-05-09T21:52:59Z", "closed_at": "2018-05-09T21:52:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThe README shows how to maintain a connection :\r\n```\r\nimport websocket\r\ntry:\r\n    import thread\r\nexcept ImportError:\r\n    import _thread as thread\r\nimport time\r\n\r\ndef on_message(ws, message):\r\n    print(message)\r\n\r\ndef on_error(ws, error):\r\n    print(error)\r\n\r\ndef on_close(ws):\r\n    print(\"### closed ###\")\r\n\r\ndef on_open(ws):\r\n    def run(*args):\r\n        for i in range(3):\r\n            time.sleep(1)\r\n            ws.send(\"Hello %d\" % i)\r\n        time.sleep(1)\r\n        ws.close()\r\n        print(\"thread terminating...\")\r\n    thread.start_new_thread(run, ())\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    websocket.enableTrace(True)\r\n    ws = websocket.WebSocketApp(\"ws://echo.websocket.org/\",\r\n                              on_message = on_message,\r\n                              on_error = on_error,\r\n                              on_close = on_close)\r\n    ws.on_open = on_open\r\n    ws.run_forever()\r\n```\r\n\r\nI used this exemple (and it works just fine !), but I would like to call the long lived connection from an other python file, passing it on a specific variable (that I would like to use in \"on_open\" and \"on_message\"). To do so, I was thinking about modifying the `if __name__ == \"__main__\"` by something like `main_functiun(var1):`\r\n\r\nNevertheless, I haven't figured out how to pass on \"var1\" to \"on_open\" and \"on_message\".\r\n**-> Would you guys have any clue/a working solution ?**\r\nThx !\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/426", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/426/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/426/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/426", "id": 320419553, "node_id": "MDU6SXNzdWUzMjA0MTk1NTM=", "number": 426, "title": "_http.py:92 socket.getaddrinfo returns socktype 0 on windows with proxy", "user": {"login": "element-82", "id": 12117988, "node_id": "MDQ6VXNlcjEyMTE3OTg4", "avatar_url": "https://avatars1.githubusercontent.com/u/12117988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/element-82", "html_url": "https://github.com/element-82", "followers_url": "https://api.github.com/users/element-82/followers", "following_url": "https://api.github.com/users/element-82/following{/other_user}", "gists_url": "https://api.github.com/users/element-82/gists{/gist_id}", "starred_url": "https://api.github.com/users/element-82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/element-82/subscriptions", "organizations_url": "https://api.github.com/users/element-82/orgs", "repos_url": "https://api.github.com/users/element-82/repos", "events_url": "https://api.github.com/users/element-82/events{/privacy}", "received_events_url": "https://api.github.com/users/element-82/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-04T20:29:14Z", "updated_at": "2018-05-27T04:38:18Z", "closed_at": "2018-05-27T04:38:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Details:\r\n  * Windows 10\r\n  * Python 2.7.15, 3.6.2\r\n  * websocket-client 0.47.0\r\n  * Connection over http proxy\r\n\r\nWhen running with a proxy server, I am getting socket connect errors on windows with python 2 and 3.  The exception:\r\n```\r\n_on_error: exception Socket type must be stream or datagram, not 0\r\n```\r\n\r\nIf I force the socket type for the proxy path in *_get_addrinfo_list* the error is fixed:\r\n```\r\n_http.py:97 addrinfo_list = socket.getaddrinfo(phost, pport, 0, socket.SOCK_STREAM, socket.SOL_TCP)\r\n```\r\nI will submit a PR to show the context.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/423", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/423/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/423/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/423", "id": 316479207, "node_id": "MDU6SXNzdWUzMTY0NzkyMDc=", "number": 423, "title": "connection_lost not called", "user": {"login": "cctjl", "id": 6105246, "node_id": "MDQ6VXNlcjYxMDUyNDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/6105246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cctjl", "html_url": "https://github.com/cctjl", "followers_url": "https://api.github.com/users/cctjl/followers", "following_url": "https://api.github.com/users/cctjl/following{/other_user}", "gists_url": "https://api.github.com/users/cctjl/gists{/gist_id}", "starred_url": "https://api.github.com/users/cctjl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cctjl/subscriptions", "organizations_url": "https://api.github.com/users/cctjl/orgs", "repos_url": "https://api.github.com/users/cctjl/repos", "events_url": "https://api.github.com/users/cctjl/events{/privacy}", "received_events_url": "https://api.github.com/users/cctjl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-21T10:06:44Z", "updated_at": "2018-04-21T10:25:01Z", "closed_at": "2018-04-21T10:20:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The design says that the lifestyle will confirm that connection_lost will always be called, but when I close the network of mobile, the connection was definitely closed and the connection_lost was not called\r\n\r\n\r\nsorry it's not belong this so I closed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/421", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/421/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/421/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/421", "id": 314501477, "node_id": "MDU6SXNzdWUzMTQ1MDE0Nzc=", "number": 421, "title": "How to support http protocal?", "user": {"login": "jinfagang", "id": 21303438, "node_id": "MDQ6VXNlcjIxMzAzNDM4", "avatar_url": "https://avatars3.githubusercontent.com/u/21303438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinfagang", "html_url": "https://github.com/jinfagang", "followers_url": "https://api.github.com/users/jinfagang/followers", "following_url": "https://api.github.com/users/jinfagang/following{/other_user}", "gists_url": "https://api.github.com/users/jinfagang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinfagang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinfagang/subscriptions", "organizations_url": "https://api.github.com/users/jinfagang/orgs", "repos_url": "https://api.github.com/users/jinfagang/repos", "events_url": "https://api.github.com/users/jinfagang/events{/privacy}", "received_events_url": "https://api.github.com/users/jinfagang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-16T04:53:57Z", "updated_at": "2018-05-27T04:59:57Z", "closed_at": "2018-05-27T04:59:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, Our server seems not using ws protocal, how to let it support http?\r\n\r\n```\r\n ws = WebSocketApp(\"ws://localhost:6060/v0/channels\",\r\n                      on_message=on_message,\r\n                      on_error=on_error,\r\n                      on_close=on_close)\r\n    ws.on_open = on_open\r\n    ws.run_forever()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/414", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/414/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/414/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/414", "id": 307327592, "node_id": "MDU6SXNzdWUzMDczMjc1OTI=", "number": 414, "title": "Websocket.close() meaning of \"close status: XXXXX\" ", "user": {"login": "wkyle", "id": 25214903, "node_id": "MDQ6VXNlcjI1MjE0OTAz", "avatar_url": "https://avatars2.githubusercontent.com/u/25214903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wkyle", "html_url": "https://github.com/wkyle", "followers_url": "https://api.github.com/users/wkyle/followers", "following_url": "https://api.github.com/users/wkyle/following{/other_user}", "gists_url": "https://api.github.com/users/wkyle/gists{/gist_id}", "starred_url": "https://api.github.com/users/wkyle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wkyle/subscriptions", "organizations_url": "https://api.github.com/users/wkyle/orgs", "repos_url": "https://api.github.com/users/wkyle/repos", "events_url": "https://api.github.com/users/wkyle/events{/privacy}", "received_events_url": "https://api.github.com/users/wkyle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-21T16:43:56Z", "updated_at": "2018-08-14T06:00:22Z", "closed_at": "2018-08-14T06:00:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I close a websocket object I get status codes printed to the console. They're raised as a result of a non-\"STATUS_NORMAL\" status:\r\n\r\n```\r\nrecv_status = struct.unpack(\"!H\", frame.data[0:2])[0]\r\nif recv_status != STATUS_NORMAL:\r\n    error(\"close status: \" + repr(recv_status))\r\n```\r\nIs there a dictionary somewhere on what each code means?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/413", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/413/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/413/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/413", "id": 306203875, "node_id": "MDU6SXNzdWUzMDYyMDM4NzU=", "number": 413, "title": "Support secure SSL contexts without extra configuration", "user": {"login": "minus7", "id": 419104, "node_id": "MDQ6VXNlcjQxOTEwNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/419104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minus7", "html_url": "https://github.com/minus7", "followers_url": "https://api.github.com/users/minus7/followers", "following_url": "https://api.github.com/users/minus7/following{/other_user}", "gists_url": "https://api.github.com/users/minus7/gists{/gist_id}", "starred_url": "https://api.github.com/users/minus7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minus7/subscriptions", "organizations_url": "https://api.github.com/users/minus7/orgs", "repos_url": "https://api.github.com/users/minus7/repos", "events_url": "https://api.github.com/users/minus7/events{/privacy}", "received_events_url": "https://api.github.com/users/minus7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-18T01:01:48Z", "updated_at": "2018-05-27T04:33:33Z", "closed_at": "2018-05-27T04:33:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Python 2.7.9+ and 3.4+ [provide a function](https://docs.python.org/3/library/ssl.html#ssl.create_default_context) to create a context that has hostname verification enabled and checks against the system certificate store. Using that to create the connection would make all usages of the lib secure by default, including wsdump.py.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/410", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/410/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/410/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/410", "id": 303550755, "node_id": "MDU6SXNzdWUzMDM1NTA3NTU=", "number": 410, "title": "v0.47.0 breaks ability to stop stream with `run_forever`", "user": {"login": "jmaroeder", "id": 1402944, "node_id": "MDQ6VXNlcjE0MDI5NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1402944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmaroeder", "html_url": "https://github.com/jmaroeder", "followers_url": "https://api.github.com/users/jmaroeder/followers", "following_url": "https://api.github.com/users/jmaroeder/following{/other_user}", "gists_url": "https://api.github.com/users/jmaroeder/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmaroeder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmaroeder/subscriptions", "organizations_url": "https://api.github.com/users/jmaroeder/orgs", "repos_url": "https://api.github.com/users/jmaroeder/repos", "events_url": "https://api.github.com/users/jmaroeder/events{/privacy}", "received_events_url": "https://api.github.com/users/jmaroeder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-08T16:48:48Z", "updated_at": "2018-05-27T04:56:37Z", "closed_at": "2018-05-27T04:56:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "With v0.47.0, I could start and stop a stream running in another thread with the following code (python 3):\r\n\r\n```python\r\nimport threading\r\nimport time\r\nimport websocket\r\n\r\ndef on_message(ws, message):\r\n    print(message)\r\n\r\ndef on_error(ws, error):\r\n    print(error)\r\n\r\ndef on_close(ws):\r\n    print('### closed ###')\r\n\r\ndef on_open(ws):\r\n    print('### open ###')\r\n\r\ndef main():\r\n    websocket.enableTrace(True)\r\n    ws = websocket.WebSocketApp(\"ws://echo.websocket.org/\",\r\n                              on_message = on_message,\r\n                              on_error = on_error,\r\n                              on_close = on_close)\r\n    ws.on_open = on_open\r\n    wst = threading.Thread(target=ws.run_forever)\r\n    wst.start()\r\n    time.sleep(5)\r\n    ws.keep_running = False\r\n    wst.join()\r\n    print('### DONE ###')\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n```\r\n\r\nWith v0.47.0, this code no longer works - the thread never completes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/408", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/408/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/408/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/408", "id": 301367992, "node_id": "MDU6SXNzdWUzMDEzNjc5OTI=", "number": 408, "title": "Socket error not raised in nested try except in python2", "user": {"login": "hugobordigoni", "id": 13002838, "node_id": "MDQ6VXNlcjEzMDAyODM4", "avatar_url": "https://avatars3.githubusercontent.com/u/13002838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugobordigoni", "html_url": "https://github.com/hugobordigoni", "followers_url": "https://api.github.com/users/hugobordigoni/followers", "following_url": "https://api.github.com/users/hugobordigoni/following{/other_user}", "gists_url": "https://api.github.com/users/hugobordigoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugobordigoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugobordigoni/subscriptions", "organizations_url": "https://api.github.com/users/hugobordigoni/orgs", "repos_url": "https://api.github.com/users/hugobordigoni/repos", "events_url": "https://api.github.com/users/hugobordigoni/events{/privacy}", "received_events_url": "https://api.github.com/users/hugobordigoni/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/websocket-client/websocket-client/milestones/3", "html_url": "https://github.com/websocket-client/websocket-client/milestone/3", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/milestones/3/labels", "id": 3167559, "node_id": "MDk6TWlsZXN0b25lMzE2NzU1OQ==", "number": 3, "title": "0.48.0", "description": "", "creator": {"login": "liris", "id": 157505, "node_id": "MDQ6VXNlcjE1NzUwNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/157505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liris", "html_url": "https://github.com/liris", "followers_url": "https://api.github.com/users/liris/followers", "following_url": "https://api.github.com/users/liris/following{/other_user}", "gists_url": "https://api.github.com/users/liris/gists{/gist_id}", "starred_url": "https://api.github.com/users/liris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liris/subscriptions", "organizations_url": "https://api.github.com/users/liris/orgs", "repos_url": "https://api.github.com/users/liris/repos", "events_url": "https://api.github.com/users/liris/events{/privacy}", "received_events_url": "https://api.github.com/users/liris/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 6, "state": "open", "created_at": "2018-03-07T01:03:34Z", "updated_at": "2018-08-14T06:53:14Z", "due_on": "2018-03-21T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2018-03-01T11:19:19Z", "updated_at": "2018-05-27T04:31:33Z", "closed_at": "2018-05-27T04:31:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "In `websocket/_http.py` line 131 `raise` is suppose to raise `error` defined at line 117. If an exception has been raised by the nested try/except. Then, in python2, this nested exception is raised and not the `error`.\r\n\r\nWe should `raise error` instead.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/406", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/406/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/406/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/406", "id": 301316893, "node_id": "MDU6SXNzdWUzMDEzMTY4OTM=", "number": 406, "title": "Crash when server doesn't return a Reason-Phrase (status text) after HTTP/1.1 101", "user": {"login": "gschizas", "id": 598065, "node_id": "MDQ6VXNlcjU5ODA2NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/598065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gschizas", "html_url": "https://github.com/gschizas", "followers_url": "https://api.github.com/users/gschizas/followers", "following_url": "https://api.github.com/users/gschizas/following{/other_user}", "gists_url": "https://api.github.com/users/gschizas/gists{/gist_id}", "starred_url": "https://api.github.com/users/gschizas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gschizas/subscriptions", "organizations_url": "https://api.github.com/users/gschizas/orgs", "repos_url": "https://api.github.com/users/gschizas/repos", "events_url": "https://api.github.com/users/gschizas/events{/privacy}", "received_events_url": "https://api.github.com/users/gschizas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/websocket-client/websocket-client/milestones/3", "html_url": "https://github.com/websocket-client/websocket-client/milestone/3", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/milestones/3/labels", "id": 3167559, "node_id": "MDk6TWlsZXN0b25lMzE2NzU1OQ==", "number": 3, "title": "0.48.0", "description": "", "creator": {"login": "liris", "id": 157505, "node_id": "MDQ6VXNlcjE1NzUwNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/157505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liris", "html_url": "https://github.com/liris", "followers_url": "https://api.github.com/users/liris/followers", "following_url": "https://api.github.com/users/liris/following{/other_user}", "gists_url": "https://api.github.com/users/liris/gists{/gist_id}", "starred_url": "https://api.github.com/users/liris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liris/subscriptions", "organizations_url": "https://api.github.com/users/liris/orgs", "repos_url": "https://api.github.com/users/liris/repos", "events_url": "https://api.github.com/users/liris/events{/privacy}", "received_events_url": "https://api.github.com/users/liris/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 6, "state": "open", "created_at": "2018-03-07T01:03:34Z", "updated_at": "2018-08-14T06:53:14Z", "due_on": "2018-03-21T07:00:00Z", "closed_at": null}, "comments": 15, "created_at": "2018-03-01T08:30:12Z", "updated_at": "2020-04-26T19:06:17Z", "closed_at": "2018-08-14T06:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "If the HTTP server doesn't return `'HTTP/1.1 101 Switching Protocols` as it's supposed to do, but instead just `HTTP/1.1 101`, websockets-client crashes with the following stacktrace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"./test.py\", line 7, in <module>\r\n    ws.connect('wss://www.example.com/')\r\n  File \"/usr/local/lib/python3.6/site-packages/websocket/_core.py\", line 220, in connect\r\n    self.handshake_response = handshake(self.sock, *addrs, **options)\r\n  File \"/usr/local/lib/python3.6/site-packages/websocket/_handshake.py\", line 69, in handshake\r\n    status, resp = _get_resp_headers(sock)\r\n  File \"/usr/local/lib/python3.6/site-packages/websocket/_handshake.py\", line 133, in _get_resp_headers\r\n    status, resp_headers, status_message = read_headers(sock)\r\n  File \"/usr/local/lib/python3.6/site-packages/websocket/_http.py\", line 245, in read_headers\r\n    status_message = status_info[2]\r\nIndexError: list index out of range\r\n```\r\n\r\nI've fixed it locally, I'm just putting this here for the PR", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/397", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/397/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/397/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/397", "id": 297046341, "node_id": "MDU6SXNzdWUyOTcwNDYzNDE=", "number": 397, "title": "NameError: name 'ssl' is not defined", "user": {"login": "Mottl", "id": 4404433, "node_id": "MDQ6VXNlcjQ0MDQ0MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/4404433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mottl", "html_url": "https://github.com/Mottl", "followers_url": "https://api.github.com/users/Mottl/followers", "following_url": "https://api.github.com/users/Mottl/following{/other_user}", "gists_url": "https://api.github.com/users/Mottl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mottl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mottl/subscriptions", "organizations_url": "https://api.github.com/users/Mottl/orgs", "repos_url": "https://api.github.com/users/Mottl/repos", "events_url": "https://api.github.com/users/Mottl/events{/privacy}", "received_events_url": "https://api.github.com/users/Mottl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-02-14T10:35:36Z", "updated_at": "2018-02-16T03:51:54Z", "closed_at": "2018-02-16T03:51:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nTrace: Traceback (most recent call last):\r\n  File \"/Users/admin/websocket-client/websocket/_app.py\", line 234, in run_forever\r\n    dispatcher = self.create_dispatcher(ping_timeout)\r\n  File \"/Users/admin/websocket-client/websocket/_app.py\", line 286, in create_dispatcher\r\n    if self.sock.is_ssl():\r\n  File \"/Users/admin/websocket-client/websocket/_core.py\", line 180, in is_ssl\r\n    return isinstance(self.sock, ssl.SSLSocket)\r\nNameError: name 'ssl' is not defined\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/395", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/395/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/395/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/395", "id": 296839438, "node_id": "MDU6SXNzdWUyOTY4Mzk0Mzg=", "number": 395, "title": "Infinite ping/pong timeouts in WebSocketApp.run_forever", "user": {"login": "tianhuyang", "id": 3409557, "node_id": "MDQ6VXNlcjM0MDk1NTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3409557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianhuyang", "html_url": "https://github.com/tianhuyang", "followers_url": "https://api.github.com/users/tianhuyang/followers", "following_url": "https://api.github.com/users/tianhuyang/following{/other_user}", "gists_url": "https://api.github.com/users/tianhuyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianhuyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianhuyang/subscriptions", "organizations_url": "https://api.github.com/users/tianhuyang/orgs", "repos_url": "https://api.github.com/users/tianhuyang/repos", "events_url": "https://api.github.com/users/tianhuyang/events{/privacy}", "received_events_url": "https://api.github.com/users/tianhuyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-13T18:26:39Z", "updated_at": "2018-02-16T00:41:37Z", "closed_at": "2018-02-16T00:41:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "If one ping/pong timeout happens, the following code will encounter infinite timeouts which causes the websocket infinite open and close. Resetting the ping/pong timestamp in the beginning of WebSocketApp.run_forever method will solve this problem.\r\n\r\n```\r\ndef on_error(ws, error):\r\n    print(error)  # repeat ping/pong timeout\r\n\r\nws = websocket.WebSocketApp(url, on_error=on_error)\r\n# Simulate the ping/pong timeout for the first time\r\nws.last_ping_tm = 32\r\nws.last_pong_tm = 1\r\n# the recurring ping/pong timeouts happen in the following loop\r\nwhile True:\r\n    try:\r\n        # One can uncomment the following code to solve this problem temporarily\r\n        # ws.last_ping_tm = 0\r\n        # ws.last_pong_tm = 0\r\n        ws.run_forever(ping_interval=40, ping_timeout=30)\r\n    except Exception as e:\r\n        pass\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/393", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/393/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/393/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/393", "id": 296113828, "node_id": "MDU6SXNzdWUyOTYxMTM4Mjg=", "number": 393, "title": "websocket is close automatically after on_open()", "user": {"login": "lowkey2016", "id": 16057729, "node_id": "MDQ6VXNlcjE2MDU3NzI5", "avatar_url": "https://avatars2.githubusercontent.com/u/16057729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowkey2016", "html_url": "https://github.com/lowkey2016", "followers_url": "https://api.github.com/users/lowkey2016/followers", "following_url": "https://api.github.com/users/lowkey2016/following{/other_user}", "gists_url": "https://api.github.com/users/lowkey2016/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowkey2016/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowkey2016/subscriptions", "organizations_url": "https://api.github.com/users/lowkey2016/orgs", "repos_url": "https://api.github.com/users/lowkey2016/repos", "events_url": "https://api.github.com/users/lowkey2016/events{/privacy}", "received_events_url": "https://api.github.com/users/lowkey2016/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-10T16:37:18Z", "updated_at": "2018-02-23T01:26:40Z", "closed_at": "2018-02-23T01:26:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is a bug...\r\nWhen my client enabled websocket connection as on_open() called.\r\nbut after about 5 to 10 seconds, the websocket is close automatically as on_close() called.\r\nBut I have not call close()\r\n\r\nI have face this problem so many times, can anyone fix this ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/391", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/391/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/391/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/391", "id": 295286350, "node_id": "MDU6SXNzdWUyOTUyODYzNTA=", "number": 391, "title": "Send Json-dict", "user": {"login": "spartakos87", "id": 5782594, "node_id": "MDQ6VXNlcjU3ODI1OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5782594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spartakos87", "html_url": "https://github.com/spartakos87", "followers_url": "https://api.github.com/users/spartakos87/followers", "following_url": "https://api.github.com/users/spartakos87/following{/other_user}", "gists_url": "https://api.github.com/users/spartakos87/gists{/gist_id}", "starred_url": "https://api.github.com/users/spartakos87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spartakos87/subscriptions", "organizations_url": "https://api.github.com/users/spartakos87/orgs", "repos_url": "https://api.github.com/users/spartakos87/repos", "events_url": "https://api.github.com/users/spartakos87/events{/privacy}", "received_events_url": "https://api.github.com/users/spartakos87/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-07T20:45:10Z", "updated_at": "2018-02-11T15:55:01Z", "closed_at": "2018-02-11T15:55:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "How we can send a dictionary?\r\nfor example I have \r\nd= { \"type\" : \"LOGIN\",\r\n   \"content\" : \"{\r\n                 \"user\" : String,\r\n                 \"password\" : String,\r\n                }\",\r\n   \"correlationId\": Long,\r\n   \"authToken\": String\r\n}\r\nws = websocket.create_connection(url1)\r\nBut when I try to send it\r\nws.send(d)\r\nI get back\r\nTypeError: unsupported operand type(s) for +=: 'dict' and 'bytes'\r\nAny ideas?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/387", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/387/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/387/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/387/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/387", "id": 290969819, "node_id": "MDU6SXNzdWUyOTA5Njk4MTk=", "number": 387, "title": "WebsocketTimeoutException not raised correctly with SSL in recv()", "user": {"login": "trozet", "id": 10548525, "node_id": "MDQ6VXNlcjEwNTQ4NTI1", "avatar_url": "https://avatars2.githubusercontent.com/u/10548525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trozet", "html_url": "https://github.com/trozet", "followers_url": "https://api.github.com/users/trozet/followers", "following_url": "https://api.github.com/users/trozet/following{/other_user}", "gists_url": "https://api.github.com/users/trozet/gists{/gist_id}", "starred_url": "https://api.github.com/users/trozet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trozet/subscriptions", "organizations_url": "https://api.github.com/users/trozet/orgs", "repos_url": "https://api.github.com/users/trozet/repos", "events_url": "https://api.github.com/users/trozet/events{/privacy}", "received_events_url": "https://api.github.com/users/trozet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-23T19:47:45Z", "updated_at": "2018-01-31T17:56:09Z", "closed_at": "2018-01-31T17:56:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the recv() method there is a check if the SSLError is the result of a time out:\r\nhttps://github.com/websocket-client/websocket-client/blob/master/websocket/_socket.py#L87\r\n\r\nHowever the check for \"The read operation timed out\" is too specific and on my machine I simply get \"timed out\" (same as in send).  Solution is to change this to be more generic.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/384", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/384/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/384/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/384", "id": 289368671, "node_id": "MDU6SXNzdWUyODkzNjg2NzE=", "number": 384, "title": "WebSocketApp does not poll for data correctly when using SSL", "user": {"login": "TristenHayfield", "id": 915522, "node_id": "MDQ6VXNlcjkxNTUyMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/915522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TristenHayfield", "html_url": "https://github.com/TristenHayfield", "followers_url": "https://api.github.com/users/TristenHayfield/followers", "following_url": "https://api.github.com/users/TristenHayfield/following{/other_user}", "gists_url": "https://api.github.com/users/TristenHayfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/TristenHayfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TristenHayfield/subscriptions", "organizations_url": "https://api.github.com/users/TristenHayfield/orgs", "repos_url": "https://api.github.com/users/TristenHayfield/repos", "events_url": "https://api.github.com/users/TristenHayfield/events{/privacy}", "received_events_url": "https://api.github.com/users/TristenHayfield/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-17T18:33:21Z", "updated_at": "2018-09-02T00:07:13Z", "closed_at": "2018-02-09T09:38:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "SSL has its own framing on top of TCP which means that, if you use an SSL wrapped socket in `WebSocketApp`, you don't get the normal guarantee that a call to `recv(size)` will only read `size` bytes from the kernel buffer. (see https://docs.python.org/2.7/library/ssl.html#ssl-nonblocking for more info). Python will buffer more than the requested data, which can lead to a deadlock in the main loop of the `WebSocketApp`, because it relies on calling ```select()``` to see if the kernel reports that data is waiting to be read on the socket before trying to read a websocket frame. The kernel can report that no data is waiting, because the data is in the ssl-wrapped socket's buffer.\r\n\r\nAt the very least, this can lead to random stalls in the processing of data, sometimes quite substantial ones.\r\n\r\nHere's an example of a modified loop which properly drains the buffer (replaces _app.py:199):\r\n```python\r\n....\r\n            while self.sock.connected:\r\n                r, w, e = select.select(\r\n                    (self.sock.sock, ), (), (), ping_timeout or 10) # Use a 10 second timeout to avoid to wait forever on close\r\n                if not self.keep_running:\r\n                    break\r\n\r\n                if r:\r\n                    op_code, frame = self.sock.recv_data_frame(True)\r\n                    while (frame.data):\r\n                        if op_code == ABNF.OPCODE_CLOSE:\r\n                            close_frame = frame\r\n                            break\r\n                        elif op_code == ABNF.OPCODE_PING:\r\n                            self._callback(self.on_ping, frame.data)\r\n                        elif op_code == ABNF.OPCODE_PONG:\r\n                            self.last_pong_tm = time.time()\r\n                            self._callback(self.on_pong, frame.data)\r\n                        elif op_code == ABNF.OPCODE_CONT and self.on_cont_message:\r\n                            self._callback(self.on_data, frame.data,\r\n                                           frame.opcode, frame.fin)\r\n                            self._callback(self.on_cont_message,\r\n                                           frame.data, frame.fin)\r\n                        else:\r\n                            data = frame.data\r\n                            if six.PY3 and op_code == ABNF.OPCODE_TEXT:\r\n                                data = data.decode(\"utf-8\")\r\n                            self._callback(self.on_data, data, frame.opcode, True)\r\n                            self._callback(self.on_message, data)\r\n                        op_code, frame = self.sock.recv_data_frame(True)\r\n\r\n                if close_frame is not None:\r\n                    break\r\n                if ping_timeout and self.last_ping_tm \\\r\n                        and time.time() - self.last_ping_tm > ping_timeout \\\r\n                        and self.last_ping_tm - self.last_pong_tm > ping_timeout:\r\n                    raise WebSocketTimeoutException(\"ping/pong timed out\")\r\n\r\n....\r\n```\r\nThis is not necessarily meant to be a drop-in fix for the issue (although it works for me). You might want to abstract the frame processing in the loop body so that it can deal with normal, non-ssl websockets, without  the extra call to `recv_data_frame`. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/382", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/382/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/382/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/382", "id": 288487171, "node_id": "MDU6SXNzdWUyODg0ODcxNzE=", "number": 382, "title": "Exception when connecting: Address family not supported by protocol", "user": {"login": "pdonis", "id": 1264258, "node_id": "MDQ6VXNlcjEyNjQyNTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1264258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pdonis", "html_url": "https://github.com/pdonis", "followers_url": "https://api.github.com/users/pdonis/followers", "following_url": "https://api.github.com/users/pdonis/following{/other_user}", "gists_url": "https://api.github.com/users/pdonis/gists{/gist_id}", "starred_url": "https://api.github.com/users/pdonis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pdonis/subscriptions", "organizations_url": "https://api.github.com/users/pdonis/orgs", "repos_url": "https://api.github.com/users/pdonis/repos", "events_url": "https://api.github.com/users/pdonis/events{/privacy}", "received_events_url": "https://api.github.com/users/pdonis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-15T05:52:14Z", "updated_at": "2018-01-22T11:20:40Z", "closed_at": "2018-01-22T11:20:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am seeing the following exception repeatedly when using create_connection:\r\n\r\nTraceback (most recent call last):\r\n  File \"websocket/_core.py\", line 487, in create_connection\r\n  File \"websocket/_core.py\", line 211, in connect\r\n  File \"websocket/_http.py\", line 71, in connect\r\n  File \"websocket/_http.py\", line 105, in _open_socket\r\n  File \"/usr/lib/python2.7/socket.py\", line 187, in __init__\r\n    _sock = _realsocket(family, type, proto)\r\nerror: [Errno 124] Address family not supported by protocol\r\n\r\nAs far as I can tell, this is happening because _open_socket is creating a socket with just the family argument passed, and it's trying every possible family from the list of results returned by getaddrinfo. This does not seem like a good idea since the socket constructor has type and protocol arguments whose default values might not match the family; all of these arguments should be taken from the getaddrinfo return value. Working on a patch.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/379", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/379/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/379/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/379", "id": 285074841, "node_id": "MDU6SXNzdWUyODUwNzQ4NDE=", "number": 379, "title": "Invalid character in websocket/_socket.py", "user": {"login": "marcosiciliano", "id": 7584364, "node_id": "MDQ6VXNlcjc1ODQzNjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7584364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcosiciliano", "html_url": "https://github.com/marcosiciliano", "followers_url": "https://api.github.com/users/marcosiciliano/followers", "following_url": "https://api.github.com/users/marcosiciliano/following{/other_user}", "gists_url": "https://api.github.com/users/marcosiciliano/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcosiciliano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcosiciliano/subscriptions", "organizations_url": "https://api.github.com/users/marcosiciliano/orgs", "repos_url": "https://api.github.com/users/marcosiciliano/repos", "events_url": "https://api.github.com/users/marcosiciliano/events{/privacy}", "received_events_url": "https://api.github.com/users/marcosiciliano/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-29T11:03:11Z", "updated_at": "2017-12-30T11:31:37Z", "closed_at": "2017-12-30T11:31:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "On line 68 there is an invalid 'c' character.\r\nGreetings\r\nMarco", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/372", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/372/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/372/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/372/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/372", "id": 280758137, "node_id": "MDU6SXNzdWUyODA3NTgxMzc=", "number": 372, "title": "Broken self.keep_running flag 'false' value", "user": {"login": "mihai-mocanu", "id": 7371413, "node_id": "MDQ6VXNlcjczNzE0MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7371413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mihai-mocanu", "html_url": "https://github.com/mihai-mocanu", "followers_url": "https://api.github.com/users/mihai-mocanu/followers", "following_url": "https://api.github.com/users/mihai-mocanu/following{/other_user}", "gists_url": "https://api.github.com/users/mihai-mocanu/gists{/gist_id}", "starred_url": "https://api.github.com/users/mihai-mocanu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mihai-mocanu/subscriptions", "organizations_url": "https://api.github.com/users/mihai-mocanu/orgs", "repos_url": "https://api.github.com/users/mihai-mocanu/repos", "events_url": "https://api.github.com/users/mihai-mocanu/events{/privacy}", "received_events_url": "https://api.github.com/users/mihai-mocanu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-09T21:48:04Z", "updated_at": "2017-12-09T22:17:23Z", "closed_at": "2017-12-09T22:17:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems that https://github.com/websocket-client/websocket-client/pull/365 broke the false value form `False` to `false`\r\n\r\n```\r\nFile \"/usr/local/lib/python3.5/dist-packages/websocket_client-0.45.0-py3.5.egg/websocket/_app.py\", line 102, in __init__\r\n    self.keep_running = false\r\nNameError: name 'false' is not defined```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/370", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/370/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/370/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/370/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/370", "id": 279643784, "node_id": "MDU6SXNzdWUyNzk2NDM3ODQ=", "number": 370, "title": "OSError: [WinError 10042] when making connection (windows?)", "user": {"login": "Yuanchu", "id": 6402868, "node_id": "MDQ6VXNlcjY0MDI4Njg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6402868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yuanchu", "html_url": "https://github.com/Yuanchu", "followers_url": "https://api.github.com/users/Yuanchu/followers", "following_url": "https://api.github.com/users/Yuanchu/following{/other_user}", "gists_url": "https://api.github.com/users/Yuanchu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yuanchu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yuanchu/subscriptions", "organizations_url": "https://api.github.com/users/Yuanchu/orgs", "repos_url": "https://api.github.com/users/Yuanchu/repos", "events_url": "https://api.github.com/users/Yuanchu/events{/privacy}", "received_events_url": "https://api.github.com/users/Yuanchu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-12-06T06:37:07Z", "updated_at": "2018-05-28T14:44:50Z", "closed_at": "2017-12-24T06:50:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Encountered an error when doing\r\n`ws = create_connection(url)`\r\nError message below:\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"C:\\Users\\think\\websocket-client\\websocket\\_core.py\", line 487, in create_connection\r\n    websock.connect(url, **options)\r\n  File \"C:\\Users\\think\\websocket-client\\websocket\\_core.py\", line 211, in connect\r\n    options.pop('socket', None))\r\n  File \"C:\\Users\\think\\websocket-client\\websocket\\_http.py\", line 71, in connect\r\n    sock = _open_socket(addrinfo_list, options.sockopt, options.timeout)\r\n  File \"C:\\Users\\think\\websocket-client\\websocket\\_http.py\", line 108, in _open_socket\r\n    sock.setsockopt(*opts)\r\nOSError: [WinError 10042] An unknown, invalid, or unsupported option or level was specified in a getsockopt or setsockopt call", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/368", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/368/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/368/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/368", "id": 278089581, "node_id": "MDU6SXNzdWUyNzgwODk1ODE=", "number": 368, "title": "Empty String not correctly passed as Origin Header", "user": {"login": "Marenthyu", "id": 8933847, "node_id": "MDQ6VXNlcjg5MzM4NDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8933847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Marenthyu", "html_url": "https://github.com/Marenthyu", "followers_url": "https://api.github.com/users/Marenthyu/followers", "following_url": "https://api.github.com/users/Marenthyu/following{/other_user}", "gists_url": "https://api.github.com/users/Marenthyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Marenthyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Marenthyu/subscriptions", "organizations_url": "https://api.github.com/users/Marenthyu/orgs", "repos_url": "https://api.github.com/users/Marenthyu/repos", "events_url": "https://api.github.com/users/Marenthyu/events{/privacy}", "received_events_url": "https://api.github.com/users/Marenthyu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-30T11:37:41Z", "updated_at": "2017-12-09T07:41:19Z", "closed_at": "2017-12-09T07:41:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When passing ``origin = \"\"`` to ``.connect()`` or ``WebSocketApp.run_forever()``  this is not correctly translated to the sent Origin Header; Instead the default value of ``\"http://\" + hostname`` is set.\r\n\r\nI came across this as i was connecting to a Websocket that required origin to be non-existant or set to an empty String (or a specific other value, which i am using as a workaround for now, but makes the origin header not true as that is not the actual origin.)\r\n\r\nhttps://github.com/websocket-client/websocket-client/blob/7e88a5cc458739f2ed1b1a5f39f28d64e4d9e842/websocket/_handshake.py#L93 should be adjusted and not test for ``and options[\"origin\"]`` - unless there is a reson for it. ``is not None`` may be the more appropriate test here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/366", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/366/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/366/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/366", "id": 274548559, "node_id": "MDU6SXNzdWUyNzQ1NDg1NTk=", "number": 366, "title": "create_connection can not import in python 3.4", "user": {"login": "sahdev0", "id": 10597710, "node_id": "MDQ6VXNlcjEwNTk3NzEw", "avatar_url": "https://avatars2.githubusercontent.com/u/10597710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sahdev0", "html_url": "https://github.com/sahdev0", "followers_url": "https://api.github.com/users/sahdev0/followers", "following_url": "https://api.github.com/users/sahdev0/following{/other_user}", "gists_url": "https://api.github.com/users/sahdev0/gists{/gist_id}", "starred_url": "https://api.github.com/users/sahdev0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sahdev0/subscriptions", "organizations_url": "https://api.github.com/users/sahdev0/orgs", "repos_url": "https://api.github.com/users/sahdev0/repos", "events_url": "https://api.github.com/users/sahdev0/events{/privacy}", "received_events_url": "https://api.github.com/users/sahdev0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-16T15:07:06Z", "updated_at": "2017-12-09T08:00:51Z", "closed_at": "2017-12-09T08:00:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am connecting with bitfinex.com to get live trade stream data using \"wss://api2.bitfinex.com:3000/ws\" websocket. But when i installed websocket_client using python3.4 pip and run the following code \r\n\r\n```\r\nimport json\r\n\r\nfrom websocket import create_connection\r\n\r\nws = create_connection(\"wss://api.bitfinex.com/ws/2\")\r\n#ws.connect(\"wss://api2.bitfinex.com:3000/ws\")\r\nws.send(json.dumps({\r\n    \"event\": \"subscribe\",\r\n    \"channel\": \"book\",\r\n    \"symbol\": \"tBTCUSD\",\r\n}))\r\n\r\n\r\nwhile True:\r\n    result = ws.recv()\r\n    result = json.loads(result)\r\n    xxx = result\r\n    print(xxx[0])\r\n    #print(result[1])\r\n\r\nws.close()\r\n```\r\n\r\nBut i am getting following error in console:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:/bitstamp/socket.py\", line 3, in <module>\r\n    from websocket import create_connection\r\n  File \"C:\\Python34\\lib\\site-packages\\websocket_client-0.44.0-py3.4.egg\\websocket\\__init__.py\", line 23, in <module>\r\n    from ._app import WebSocketApp\r\n  File \"C:\\Python34\\lib\\site-packages\\websocket_client-0.44.0-py3.4.egg\\websocket\\_app.py\", line 35, in <module>\r\n    from ._core import WebSocket, getdefaulttimeout\r\n  File \"C:\\Python34\\lib\\site-packages\\websocket_client-0.44.0-py3.4.egg\\websocket\\_core.py\", line 24, in <module>\r\n    import socket\r\n  File \"D:\\bitstamp\\socket.py\", line 3, in <module>\r\n    from websocket import create_connection\r\nImportError: cannot import name 'create_connection'\r\n```\r\n\r\nIs their any issue with websocket_client for python 3.4 or any error on my python code", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/343", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/343/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/343/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/343", "id": 251906849, "node_id": "MDU6SXNzdWUyNTE5MDY4NDk=", "number": 343, "title": "Documentation doesn't have example showing how to send custom data like authentication token in socket connection request", "user": {"login": "hhsecond", "id": 13761737, "node_id": "MDQ6VXNlcjEzNzYxNzM3", "avatar_url": "https://avatars3.githubusercontent.com/u/13761737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hhsecond", "html_url": "https://github.com/hhsecond", "followers_url": "https://api.github.com/users/hhsecond/followers", "following_url": "https://api.github.com/users/hhsecond/following{/other_user}", "gists_url": "https://api.github.com/users/hhsecond/gists{/gist_id}", "starred_url": "https://api.github.com/users/hhsecond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hhsecond/subscriptions", "organizations_url": "https://api.github.com/users/hhsecond/orgs", "repos_url": "https://api.github.com/users/hhsecond/repos", "events_url": "https://api.github.com/users/hhsecond/events{/privacy}", "received_events_url": "https://api.github.com/users/hhsecond/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-22T10:14:32Z", "updated_at": "2019-04-29T06:12:04Z", "closed_at": "2019-04-29T06:12:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/342", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/342/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/342/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/342", "id": 251049636, "node_id": "MDU6SXNzdWUyNTEwNDk2MzY=", "number": 342, "title": "No handlers could be found for logger \"websocket\"", "user": {"login": "stheakanath", "id": 1191282, "node_id": "MDQ6VXNlcjExOTEyODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1191282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stheakanath", "html_url": "https://github.com/stheakanath", "followers_url": "https://api.github.com/users/stheakanath/followers", "following_url": "https://api.github.com/users/stheakanath/following{/other_user}", "gists_url": "https://api.github.com/users/stheakanath/gists{/gist_id}", "starred_url": "https://api.github.com/users/stheakanath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stheakanath/subscriptions", "organizations_url": "https://api.github.com/users/stheakanath/orgs", "repos_url": "https://api.github.com/users/stheakanath/repos", "events_url": "https://api.github.com/users/stheakanath/events{/privacy}", "received_events_url": "https://api.github.com/users/stheakanath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-17T19:38:28Z", "updated_at": "2018-05-27T04:27:55Z", "closed_at": "2018-05-27T04:27:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Same as issue #341, working with Python2 enviroment. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/341", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/341/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/341/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/341", "id": 248545612, "node_id": "MDU6SXNzdWUyNDg1NDU2MTI=", "number": 341, "title": "Python 2.7.10: No handlers could be found for logger \"websocket\"", "user": {"login": "NoAnyLove", "id": 1233483, "node_id": "MDQ6VXNlcjEyMzM0ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1233483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoAnyLove", "html_url": "https://github.com/NoAnyLove", "followers_url": "https://api.github.com/users/NoAnyLove/followers", "following_url": "https://api.github.com/users/NoAnyLove/following{/other_user}", "gists_url": "https://api.github.com/users/NoAnyLove/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoAnyLove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoAnyLove/subscriptions", "organizations_url": "https://api.github.com/users/NoAnyLove/orgs", "repos_url": "https://api.github.com/users/NoAnyLove/repos", "events_url": "https://api.github.com/users/NoAnyLove/events{/privacy}", "received_events_url": "https://api.github.com/users/NoAnyLove/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-07T22:09:41Z", "updated_at": "2018-05-27T04:27:55Z", "closed_at": "2018-05-27T04:27:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had an uncaught exception in my on_close function, and got a strange output:\r\n\r\n```\r\nNo handlers could be found for logger \"websocket\"\r\n```\r\n\r\nI checked the code, and think this is caused by line 271 in _app.py. I tried to import `_logging.py` file and call the `error` function,\r\n\r\n```\r\nIn [2]: import _logging\r\n\r\nIn [3]: _logging.error('hello')\r\nNo handlers could be found for logger \"websocket\"\r\n```\r\n\r\nI'm using Python 2.7.10 on Win8.1, and it passed all tests,\r\n\r\n```\r\n> python setup.py test\r\nrunning test\r\nrunning egg_info\r\nwriting requirements to websocket_client.egg-info\\requires.txt\r\nwriting websocket_client.egg-info\\PKG-INFO\r\nwriting top-level names to websocket_client.egg-info\\top_level.txt\r\nwriting dependency_links to websocket_client.egg-info\\dependency_links.txt\r\nreading manifest file 'websocket_client.egg-info\\SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'websocket_client.egg-info\\SOURCES.txt'\r\nrunning build_ext\r\ntestAdd (websocket.tests.test_cookiejar.CookieJarTest) ... ok\r\ntestGet (websocket.tests.test_cookiejar.CookieJarTest) ... ok\r\ntestSet (websocket.tests.test_cookiejar.CookieJarTest) ... ok\r\ntestProxyFromArgs (websocket.tests.test_websocket.ProxyInfoTest) ... ok\r\ntestProxyFromEnv (websocket.tests.test_websocket.ProxyInfoTest) ... ok\r\ntestSockOpt (websocket.tests.test_websocket.SockOptTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestUtf8Validator (websocket.tests.test_websocket.UtilsTest) ... ok\r\ntestKeepRunning (websocket.tests.test_websocket.WebSocketAppTest)\r\nA WebSocketApp should keep running as long as its self.keep_running ... skipped 'Internet-requiring tests are disabled'\r\ntestSockMaskKey (websocket.tests.test_websocket.WebSocketAppTest)\r\nA WebSocketApp should forward the received mask_key function down ... skipped 'Internet-requiring tests are disabled'\r\ntestAfterClose (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestClose (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestDefaultTimeout (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestInternalRecvStrict (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestIter (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestNext (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestNonce (websocket.tests.test_websocket.WebSocketTest)\r\nWebSocket key should be a random 16-byte nonce. ... ok\r\ntestParseUrl (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestPingPong (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestReadHeader (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecv (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecvContFragmentation (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecvTimeout (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecvWithFireEventOfFragmentation (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecvWithFragmentationAndControlFrame (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecvWithProlongedFragmentation (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestRecvWithSimpleFragmentation (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestSecureWebSocket (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestSend (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestWSKey (websocket.tests.test_websocket.WebSocketTest) ... ok\r\ntestWebSocket (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestWebSocketWihtCustomHeader (websocket.tests.test_websocket.WebSocketTest) ... skipped 'Internet-requiring tests are disabled'\r\ntestWsUtils (websocket.tests.test_websocket.WebSocketTest) ... No handlers could be found for logger \"websocket\"\r\nok\r\n\r\n----------------------------------------------------------------------\r\nRan 32 tests in 0.048s\r\n\r\nOK (skipped=10)\r\n```\r\n\r\nI also tried to import `_logging.py` in Python 3..5.1, it works just fine. Not sure if this is a bug of Python 2.7.10 or the code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/340", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/340/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/340/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/340", "id": 247625972, "node_id": "MDU6SXNzdWUyNDc2MjU5NzI=", "number": 340, "title": ".send() method is very slow", "user": {"login": "mkattnerBSB", "id": 29703586, "node_id": "MDQ6VXNlcjI5NzAzNTg2", "avatar_url": "https://avatars2.githubusercontent.com/u/29703586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkattnerBSB", "html_url": "https://github.com/mkattnerBSB", "followers_url": "https://api.github.com/users/mkattnerBSB/followers", "following_url": "https://api.github.com/users/mkattnerBSB/following{/other_user}", "gists_url": "https://api.github.com/users/mkattnerBSB/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkattnerBSB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkattnerBSB/subscriptions", "organizations_url": "https://api.github.com/users/mkattnerBSB/orgs", "repos_url": "https://api.github.com/users/mkattnerBSB/repos", "events_url": "https://api.github.com/users/mkattnerBSB/events{/privacy}", "received_events_url": "https://api.github.com/users/mkattnerBSB/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/websocket-client/websocket-client/milestones/2", "html_url": "https://github.com/websocket-client/websocket-client/milestone/2", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/milestones/2/labels", "id": 2996143, "node_id": "MDk6TWlsZXN0b25lMjk5NjE0Mw==", "number": 2, "title": "0.47.0", "description": "", "creator": {"login": "liris", "id": 157505, "node_id": "MDQ6VXNlcjE1NzUwNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/157505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liris", "html_url": "https://github.com/liris", "followers_url": "https://api.github.com/users/liris/followers", "following_url": "https://api.github.com/users/liris/following{/other_user}", "gists_url": "https://api.github.com/users/liris/gists{/gist_id}", "starred_url": "https://api.github.com/users/liris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liris/subscriptions", "organizations_url": "https://api.github.com/users/liris/orgs", "repos_url": "https://api.github.com/users/liris/repos", "events_url": "https://api.github.com/users/liris/events{/privacy}", "received_events_url": "https://api.github.com/users/liris/received_events", "type": "User", "site_admin": false}, "open_issues": 1, "closed_issues": 2, "state": "closed", "created_at": "2017-12-24T06:51:03Z", "updated_at": "2018-03-07T01:03:15Z", "due_on": "2018-02-22T08:00:00Z", "closed_at": "2018-03-07T01:03:15Z"}, "comments": 7, "created_at": "2017-08-03T08:13:14Z", "updated_at": "2018-01-22T12:12:50Z", "closed_at": "2018-01-22T12:12:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tomcat8 instance used as a websocket server with two websockets. One for sending data and one for receiving data.\r\n\r\nIn my python software I open two websockets.\r\n\r\nThe server sends something to python. Duration ~10ms\r\nPython sends something to the server. Duration ~100ms\r\nThe length of the data is the same.\r\n\r\nSo my question is why sending with python is 10 times slower? Is there a problem with the send() method?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/339", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/339/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/339/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/339", "id": 247385526, "node_id": "MDU6SXNzdWUyNDczODU1MjY=", "number": 339, "title": "Websocket takes forever to connect", "user": {"login": "jonnysbg", "id": 26255213, "node_id": "MDQ6VXNlcjI2MjU1MjEz", "avatar_url": "https://avatars2.githubusercontent.com/u/26255213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonnysbg", "html_url": "https://github.com/jonnysbg", "followers_url": "https://api.github.com/users/jonnysbg/followers", "following_url": "https://api.github.com/users/jonnysbg/following{/other_user}", "gists_url": "https://api.github.com/users/jonnysbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonnysbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonnysbg/subscriptions", "organizations_url": "https://api.github.com/users/jonnysbg/orgs", "repos_url": "https://api.github.com/users/jonnysbg/repos", "events_url": "https://api.github.com/users/jonnysbg/events{/privacy}", "received_events_url": "https://api.github.com/users/jonnysbg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-02T13:17:11Z", "updated_at": "2017-08-02T13:19:31Z", "closed_at": "2017-08-02T13:19:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nRunning the following code on a Raspberry Pi, it takes almost 94 seconds to return from rtm_connect():\r\n```\r\n>>> from slackclient import SlackClient\r\n>>> from datetime import datetime\r\n>>> client = SlackClient('xxxx-api-token')\r\n>>> start = datetime.now()\r\n>>> client.rtm_connect()\r\nTrue\r\n>>> print \"Connect took %.2f seconds\" % ((datetime.now() - start).total_seconds(),)\r\nConnect took 94.16 seconds\r\n```\r\n\r\nWhen I run this locally on my quad code MBP it finishes in a couple of seconds. I have run it on the Raspi a couple of times and the second result was 97seconds.\r\n\r\nAny idea what might be causing this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/337", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/337/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/337/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/337", "id": 246004869, "node_id": "MDU6SXNzdWUyNDYwMDQ4Njk=", "number": 337, "title": "Tests non-deterministic under Python 3.5", "user": {"login": "javacruft", "id": 488632, "node_id": "MDQ6VXNlcjQ4ODYzMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/488632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javacruft", "html_url": "https://github.com/javacruft", "followers_url": "https://api.github.com/users/javacruft/followers", "following_url": "https://api.github.com/users/javacruft/following{/other_user}", "gists_url": "https://api.github.com/users/javacruft/gists{/gist_id}", "starred_url": "https://api.github.com/users/javacruft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javacruft/subscriptions", "organizations_url": "https://api.github.com/users/javacruft/orgs", "repos_url": "https://api.github.com/users/javacruft/repos", "events_url": "https://api.github.com/users/javacruft/events{/privacy}", "received_events_url": "https://api.github.com/users/javacruft/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-27T11:05:48Z", "updated_at": "2017-08-11T10:21:52Z", "closed_at": "2017-08-11T10:21:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Testing with multiple Python versions, I see the following results:\r\n\r\n2.7: OK\r\n3.5: fails (see below)\r\n3.6: OK\r\n\r\nI suspect that the use of dict in SimpleCookieJar is causing some ordering issues which the tests sometimes pickup:\r\n\r\n```\r\n======================================================================\r\nFAIL: testAdd (websocket.tests.test_cookiejar.CookieJarTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/jamespage/src/websocket-client/websocket/tests/test_cookiejar.py\", line 32, in testAdd\r\n    self.assertEquals(cookie_jar.get(\"abc\"), \"a=b; c=d\")\r\nAssertionError: 'c=d; a=b' != 'a=b; c=d'\r\n- c=d; a=b\r\n+ a=b; c=d\r\n\r\n\r\n======================================================================\r\nFAIL: testGet (websocket.tests.test_cookiejar.CookieJarTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/jamespage/src/websocket-client/websocket/tests/test_cookiejar.py\", line 89, in testGet\r\n    self.assertEquals(cookie_jar.get(\"abc.com\"), \"a=b; c=d\")\r\nAssertionError: 'c=d; a=b' != 'a=b; c=d'\r\n- c=d; a=b\r\n+ a=b; c=d\r\n\r\n\r\n======================================================================\r\nFAIL: testSet (websocket.tests.test_cookiejar.CookieJarTest)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/jamespage/src/websocket-client/websocket/tests/test_cookiejar.py\", line 67, in testSet\r\n    self.assertEquals(cookie_jar.get(\"abc\"), \"a=b; c=d\")\r\nAssertionError: 'c=d; a=b' != 'a=b; c=d'\r\n- c=d; a=b\r\n+ a=b; c=d\r\n\r\n\r\n----------------------------------------------------------------------\r\nRan 32 tests in 0.006s\r\n\r\nFAILED (failures=3, skipped=10)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/334", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/334/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/334/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/334/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/334", "id": 240968632, "node_id": "MDU6SXNzdWUyNDA5Njg2MzI=", "number": 334, "title": "Bug in sslopt processing", "user": {"login": "LiranLast", "id": 19842903, "node_id": "MDQ6VXNlcjE5ODQyOTAz", "avatar_url": "https://avatars0.githubusercontent.com/u/19842903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiranLast", "html_url": "https://github.com/LiranLast", "followers_url": "https://api.github.com/users/LiranLast/followers", "following_url": "https://api.github.com/users/LiranLast/following{/other_user}", "gists_url": "https://api.github.com/users/LiranLast/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiranLast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiranLast/subscriptions", "organizations_url": "https://api.github.com/users/LiranLast/orgs", "repos_url": "https://api.github.com/users/LiranLast/repos", "events_url": "https://api.github.com/users/LiranLast/events{/privacy}", "received_events_url": "https://api.github.com/users/LiranLast/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-06T14:07:44Z", "updated_at": "2017-11-12T15:38:53Z", "closed_at": "2017-11-12T15:38:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "There's a bug in _http.py in method _ssl_socket (line 173).\r\n\r\nIn the \"if\" condition \"ca_cert\" is checked instead of \"ca_certs\".\r\n\r\nThis change in behavior was recently introduced and is incompatible with older versions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/330", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/330/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/330/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/330", "id": 238076284, "node_id": "MDU6SXNzdWUyMzgwNzYyODQ=", "number": 330, "title": "(Regression) TypeError: cafile, capath and cadata cannot be all omitted", "user": {"login": "duizendnegen", "id": 665795, "node_id": "MDQ6VXNlcjY2NTc5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/665795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duizendnegen", "html_url": "https://github.com/duizendnegen", "followers_url": "https://api.github.com/users/duizendnegen/followers", "following_url": "https://api.github.com/users/duizendnegen/following{/other_user}", "gists_url": "https://api.github.com/users/duizendnegen/gists{/gist_id}", "starred_url": "https://api.github.com/users/duizendnegen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duizendnegen/subscriptions", "organizations_url": "https://api.github.com/users/duizendnegen/orgs", "repos_url": "https://api.github.com/users/duizendnegen/repos", "events_url": "https://api.github.com/users/duizendnegen/events{/privacy}", "received_events_url": "https://api.github.com/users/duizendnegen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-23T08:35:06Z", "updated_at": "2017-06-23T13:12:47Z", "closed_at": "2017-06-23T12:03:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "`websocket-client` 0.43 fails (when used through Docker Cloud CLI). Explicitly pointing to an earlier version by running `pip install websocket-client==0.40 docker-cloud` fixes this.\r\n\r\n```Traceback (most recent call last):\r\n  File \"/usr/local/bin/docker-cloud\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python2.7/dist-packages/dockercloudcli/cli.py\", line 301, in main\r\n    dispatch_cmds(args)\r\n  File \"/usr/local/lib/python2.7/dist-packages/dockercloudcli/cli.py\", line 116, in dispatch_cmds\r\n    commands.container_exec(args.identifier, args.command)\r\n  File \"/usr/local/lib/python2.7/dist-packages/dockercloudcli/commands.py\", line 558, in container_exec\r\n    invoke_shell(url)\r\n  File \"/usr/local/lib/python2.7/dist-packages/dockercloudcli/commands.py\", line 449, in invoke_shell\r\n    shell = websocket.create_connection(url, timeout=10, header=h)\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket/_core.py\", line 487, in create_connection\r\n    websock.connect(url, **options)\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket/_core.py\", line 211, in connect\r\n    options.pop('socket', None))\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket/_http.py\", line 77, in connect\r\n    sock = _ssl_socket(sock, options.sslopt, hostname)\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket/_http.py\", line 182, in _ssl_socket\r\n    sock = _wrap_sni_socket(sock, sslopt, hostname, check_hostname)\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket/_http.py\", line 138, in _wrap_sni_socket\r\n    context.load_verify_locations(cafile=sslopt.get('ca_certs', None), capath=sslopt.get('ca_cert_path', None))```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/329", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/329/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/329/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/329", "id": 238035227, "node_id": "MDU6SXNzdWUyMzgwMzUyMjc=", "number": 329, "title": "TypeError: cafile, capath and cadata cannot be all omitted", "user": {"login": "AWegnerGitHub", "id": 6462439, "node_id": "MDQ6VXNlcjY0NjI0Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6462439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AWegnerGitHub", "html_url": "https://github.com/AWegnerGitHub", "followers_url": "https://api.github.com/users/AWegnerGitHub/followers", "following_url": "https://api.github.com/users/AWegnerGitHub/following{/other_user}", "gists_url": "https://api.github.com/users/AWegnerGitHub/gists{/gist_id}", "starred_url": "https://api.github.com/users/AWegnerGitHub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AWegnerGitHub/subscriptions", "organizations_url": "https://api.github.com/users/AWegnerGitHub/orgs", "repos_url": "https://api.github.com/users/AWegnerGitHub/repos", "events_url": "https://api.github.com/users/AWegnerGitHub/events{/privacy}", "received_events_url": "https://api.github.com/users/AWegnerGitHub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-23T04:04:10Z", "updated_at": "2017-06-23T04:06:16Z", "closed_at": "2017-06-23T04:06:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "In versions of websocket-client prior to 0.43.0, I had this line of code that worked:\r\n\r\n    self.ws = websocket.create_connection(wsurl, origin=self.browser.chat_root)\r\n\r\nAfter upgrading to 0.43.0, I now receive this stack trace:\r\n\r\n```\r\nFile \"H:\\Development\\ChatExchange\\chatexchange\\browser.py\", line 694, in start\r\n    wsurl, origin=self.browser.chat_root)\r\n  File \"C:\\Python36\\lib\\site-packages\\websocket\\_core.py\", line 487, in create_connection\r\n    websock.connect(url, **options)\r\n  File \"C:\\Python36\\lib\\site-packages\\websocket\\_core.py\", line 211, in connect\r\n    options.pop('socket', None))\r\n  File \"C:\\Python36\\lib\\site-packages\\websocket\\_http.py\", line 77, in connect\r\n    sock = _ssl_socket(sock, options.sslopt, hostname)\r\n  File \"C:\\Python36\\lib\\site-packages\\websocket\\_http.py\", line 182, in _ssl_socket\r\n    sock = _wrap_sni_socket(sock, sslopt, hostname, check_hostname)\r\n  File \"C:\\Python36\\lib\\site-packages\\websocket\\_http.py\", line 138, in _wrap_sni_socket\r\n    context.load_verify_locations(cafile=sslopt.get('ca_certs', None), capath=sslopt.get('ca_cert_path', None))\r\nTypeError: cafile, capath and cadata cannot be all omitted\r\n```\r\n\r\nIt looks like the line of code was changed due to #326.\r\n\r\nEnvironment:\r\n\r\n - Windows 10\r\n - Python 3.6\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/327", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/327/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/327/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/327", "id": 237462970, "node_id": "MDU6SXNzdWUyMzc0NjI5NzA=", "number": 327, "title": "Race condition in WebSocket ping/pong", "user": {"login": "holgeric", "id": 29596123, "node_id": "MDQ6VXNlcjI5NTk2MTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/29596123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/holgeric", "html_url": "https://github.com/holgeric", "followers_url": "https://api.github.com/users/holgeric/followers", "following_url": "https://api.github.com/users/holgeric/following{/other_user}", "gists_url": "https://api.github.com/users/holgeric/gists{/gist_id}", "starred_url": "https://api.github.com/users/holgeric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/holgeric/subscriptions", "organizations_url": "https://api.github.com/users/holgeric/orgs", "repos_url": "https://api.github.com/users/holgeric/repos", "events_url": "https://api.github.com/users/holgeric/events{/privacy}", "received_events_url": "https://api.github.com/users/holgeric/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-21T09:02:22Z", "updated_at": "2017-06-21T11:45:05Z", "closed_at": "2017-06-21T11:45:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "This simple code snippet can (and in our case will...) fail with \"ping/pong timed out\" in v0.41.1.\r\n\r\n```\r\nfrom websocket import WebSocketApp\r\ndef on_error(_, error):\r\n    print '%s' % error\r\napp = WebSocketApp(\"ws://127.0.0.1:8000/wsh\", on_error=on_error)\r\napp.run_forever(ping_interval=2, ping_timeout=1)\r\n\r\n```\r\nThis is due to a race condition between the _send_ping thread and the main thread. If last_ping_tm has been updated but not last_pong_tm when reaching the \"if ping_timeout ...\" the WebSocketTimeoutException will be raised.\r\n\r\nIt looks like the issue was introduced in:\r\n```\r\ndiff --git a/websocket/_app.py b/websocket/_app.py\r\nindex c6ebea2..f7cb010 100644\r\n--- a/websocket/_app.py\r\n+++ b/websocket/_app.py\r\n@@ -224,7 +224,6 @@ class WebSocketApp(object):\r\n                         self._callback(self.on_message, data)\r\n \r\n                 if ping_timeout and self.last_ping_tm \\\r\n-                        and time.time() - self.last_ping_tm > ping_timeout \\\r\n                         and self.last_ping_tm - self.last_pong_tm > ping_timeout:\r\n                     raise WebSocketTimeoutException(\"ping/pong timed out\")\r\n         except (Exception, KeyboardInterrupt, SystemExit) as e:\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/326", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/326/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/326/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/326", "id": 237164470, "node_id": "MDU6SXNzdWUyMzcxNjQ0NzA=", "number": 326, "title": "Unkown kwarg 'ca_cert' when calling ssl wrap_socket()", "user": {"login": "oyvhanse", "id": 1104601, "node_id": "MDQ6VXNlcjExMDQ2MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1104601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oyvhanse", "html_url": "https://github.com/oyvhanse", "followers_url": "https://api.github.com/users/oyvhanse/followers", "following_url": "https://api.github.com/users/oyvhanse/following{/other_user}", "gists_url": "https://api.github.com/users/oyvhanse/gists{/gist_id}", "starred_url": "https://api.github.com/users/oyvhanse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oyvhanse/subscriptions", "organizations_url": "https://api.github.com/users/oyvhanse/orgs", "repos_url": "https://api.github.com/users/oyvhanse/repos", "events_url": "https://api.github.com/users/oyvhanse/events{/privacy}", "received_events_url": "https://api.github.com/users/oyvhanse/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-20T10:33:15Z", "updated_at": "2017-06-26T08:04:51Z", "closed_at": "2017-06-21T11:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Introduced with commit 3339bd9877a841dc2fbac26bce294c5536bc2886 websocket-client no longer works with standard Ubuntu 14.04.\r\n\r\nUbuntu 14.04LTS has python version 2.7.6 and in the \"/usr/lib/python2.7/ssl.py\" it expects the kwarg to be named \"ca_certs\", not \"ca_cert\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/325", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/325/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/325/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/325", "id": 236707782, "node_id": "MDU6SXNzdWUyMzY3MDc3ODI=", "number": 325, "title": "error on 0.42.0", "user": {"login": "AvihayTsayeg", "id": 702139, "node_id": "MDQ6VXNlcjcwMjEzOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/702139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AvihayTsayeg", "html_url": "https://github.com/AvihayTsayeg", "followers_url": "https://api.github.com/users/AvihayTsayeg/followers", "following_url": "https://api.github.com/users/AvihayTsayeg/following{/other_user}", "gists_url": "https://api.github.com/users/AvihayTsayeg/gists{/gist_id}", "starred_url": "https://api.github.com/users/AvihayTsayeg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AvihayTsayeg/subscriptions", "organizations_url": "https://api.github.com/users/AvihayTsayeg/orgs", "repos_url": "https://api.github.com/users/AvihayTsayeg/repos", "events_url": "https://api.github.com/users/AvihayTsayeg/events{/privacy}", "received_events_url": "https://api.github.com/users/AvihayTsayeg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-18T08:19:28Z", "updated_at": "2017-06-19T05:27:33Z", "closed_at": "2017-06-18T09:05:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nGot a dependency error when updated to 0.42.0, rolling back fixed it\r\n\r\n```\r\n  File \"venv/lib/python3.5/site-packages/docker/api/client.py\", line 9, in <module>\r\n    import websocket\r\n  File \"venv/lib/python3.5/site-packages/websocket/__init__.py\", line 23, in <module>\r\n    from ._app import WebSocketApp\r\n  File \"venv/lib/python3.5/site-packages/websocket/_app.py\", line 37, in <module>\r\n\r\nimport _logging\r\nImportError: No module named '_logging'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/318", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/318/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/318/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/318", "id": 221612203, "node_id": "MDU6SXNzdWUyMjE2MTIyMDM=", "number": 318, "title": "Pong befor Ping?", "user": {"login": "Nao83", "id": 27428294, "node_id": "MDQ6VXNlcjI3NDI4Mjk0", "avatar_url": "https://avatars0.githubusercontent.com/u/27428294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nao83", "html_url": "https://github.com/Nao83", "followers_url": "https://api.github.com/users/Nao83/followers", "following_url": "https://api.github.com/users/Nao83/following{/other_user}", "gists_url": "https://api.github.com/users/Nao83/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nao83/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nao83/subscriptions", "organizations_url": "https://api.github.com/users/Nao83/orgs", "repos_url": "https://api.github.com/users/Nao83/repos", "events_url": "https://api.github.com/users/Nao83/events{/privacy}", "received_events_url": "https://api.github.com/users/Nao83/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-13T16:15:21Z", "updated_at": "2018-08-18T05:42:58Z", "closed_at": "2018-08-18T05:42:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Shouldn't\r\n[https://github.com/websocket-client/websocket-client/blob/master/websocket/_app.py#L228](https://github.com/websocket-client/websocket-client/blob/master/websocket/_app.py#L228)\r\n\r\nbe reversed? The pong message is supposed to arrive after the ping, hence its epoch time should be greater.\r\nI think it also needs\r\n`or self.last_ping_tm - self.last_pong_tm < 0`\r\nIn case the pong message never arrives.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/317", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/317/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/317/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/317", "id": 221572814, "node_id": "MDU6SXNzdWUyMjE1NzI4MTQ=", "number": 317, "title": "run_forever waiting forever after socket closure", "user": {"login": "Nao83", "id": 27428294, "node_id": "MDQ6VXNlcjI3NDI4Mjk0", "avatar_url": "https://avatars0.githubusercontent.com/u/27428294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nao83", "html_url": "https://github.com/Nao83", "followers_url": "https://api.github.com/users/Nao83/followers", "following_url": "https://api.github.com/users/Nao83/following{/other_user}", "gists_url": "https://api.github.com/users/Nao83/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nao83/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nao83/subscriptions", "organizations_url": "https://api.github.com/users/Nao83/orgs", "repos_url": "https://api.github.com/users/Nao83/repos", "events_url": "https://api.github.com/users/Nao83/events{/privacy}", "received_events_url": "https://api.github.com/users/Nao83/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-13T14:03:01Z", "updated_at": "2018-08-15T14:11:33Z", "closed_at": "2018-08-15T14:11:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following the \"Long-lived connection\" example, I close the socket with a ws.close() when some conditions are met. This will set the WebSocketApp.sock.sock to null.\r\nHowever, the select.select in the WebSocketApp.run_forever loop might get stuck waiting for self.sock.sock to become readable.\r\nI had to pass a ping_timeout to avoid this to happen.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/315", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/315/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/315/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/315", "id": 221533729, "node_id": "MDU6SXNzdWUyMjE1MzM3Mjk=", "number": 315, "title": "Not working --nocert parameter in wsdump.py", "user": {"login": "edne", "id": 5730221, "node_id": "MDQ6VXNlcjU3MzAyMjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5730221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edne", "html_url": "https://github.com/edne", "followers_url": "https://api.github.com/users/edne/followers", "following_url": "https://api.github.com/users/edne/following{/other_user}", "gists_url": "https://api.github.com/users/edne/gists{/gist_id}", "starred_url": "https://api.github.com/users/edne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edne/subscriptions", "organizations_url": "https://api.github.com/users/edne/orgs", "repos_url": "https://api.github.com/users/edne/repos", "events_url": "https://api.github.com/users/edne/events{/privacy}", "received_events_url": "https://api.github.com/users/edne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-13T11:22:40Z", "updated_at": "2017-06-18T07:01:01Z", "closed_at": "2017-06-18T07:01:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It gets `module 'websocket' has no attribute 'ssl'` error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/310", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/310/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/310/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/310", "id": 217470894, "node_id": "MDU6SXNzdWUyMTc0NzA4OTQ=", "number": 310, "title": "recv() return empty '' when server closed the connection?", "user": {"login": "sejust", "id": 2747551, "node_id": "MDQ6VXNlcjI3NDc1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2747551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sejust", "html_url": "https://github.com/sejust", "followers_url": "https://api.github.com/users/sejust/followers", "following_url": "https://api.github.com/users/sejust/following{/other_user}", "gists_url": "https://api.github.com/users/sejust/gists{/gist_id}", "starred_url": "https://api.github.com/users/sejust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sejust/subscriptions", "organizations_url": "https://api.github.com/users/sejust/orgs", "repos_url": "https://api.github.com/users/sejust/repos", "events_url": "https://api.github.com/users/sejust/events{/privacy}", "received_events_url": "https://api.github.com/users/sejust/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-28T07:29:20Z", "updated_at": "2020-07-01T07:48:08Z", "closed_at": "2020-07-01T07:48:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi:\r\n    I want to receive iterable message from the server, but the last message I got was empty string '' after the server closed the connection.\r\n\r\nraise WebSocketConnectionClosedException when receiving if the connection is closed ?\r\n\r\nhere is my simple testing code:\r\nserver:\r\n```python\r\ndef iter_mes(channel):\r\n\r\n    for i in xrange(3):\r\n        if i == 2:\r\n            channel.ws.close()\r\n        else:\r\n            channel.ws.send(str(i))\r\n            time.sleep(5)\r\n\r\nclass TestWebSocketApplication(WebSocketApplication):\r\n\r\n    def on_message(self, message):\r\n\r\n        th_server = threading.Thread(target=iter_mes, args=(self,))\r\n        th_server.daemon = True\r\n        th_server.start()\r\n\r\n        return\r\n```\r\n\r\nclient 1:\r\n```python\r\n\r\ncli = make_cli()\r\ncli.send('')\r\n\r\nfor mes in cli:\r\n    print 'is connected: ', cli.connected\r\n    print 'received: `{mes}`'.format(mes=mes)\r\n```\r\n\r\nmessage 1:\r\n```txt\r\nis connected:  True\r\nreceived: `0`\r\nis connected:  True\r\nreceived: `1`\r\nis connected:  False\r\nreceived: ``\r\nTraceback (most recent call last):\r\n  File \"ccc.py\", line 8, in <module>\r\n    for mes in cli:\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 105, in __iter__\r\n    yield self.recv()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 293, in recv\r\n    opcode, data = self.recv_data()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 310, in recv_data\r\n    opcode, frame = self.recv_data_frame(control_frame)\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 323, in recv_data_frame\r\n    frame = self.recv_frame()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 357, in recv_frame\r\n    return self.frame_buffer.recv_frame()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_abnf.py\", line 336, in recv_frame\r\n    self.recv_header()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_abnf.py\", line 286, in recv_header\r\n    header = self.recv_strict(2)\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_abnf.py\", line 371, in recv_strict\r\n    bytes_ = self.recv(min(16384, shortage))\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 427, in _recv\r\n    return recv(self.sock, bufsize)\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_socket.py\", line 93, in recv\r\n    \"Connection is already closed.\")\r\nwebsocket._exceptions.WebSocketConnectionClosedException: Connection is already closed.\r\n```\r\n\r\nclient 2:\r\n```python\r\n\r\ncli = make_cli()\r\ncli.send('')\r\n\r\nwhile True:\r\n    print 'is connected: ', cli.connected\r\n    print 'received: `{mes}`'.format(mes=cli.recv())\r\n```\r\n\r\nmessage 2:\r\n```txt\r\nis connected:  True\r\nreceived: `0`\r\nis connected:  True\r\nreceived: `1`\r\nis connected:  True\r\nreceived: ``\r\nis connected:  False\r\nTraceback (most recent call last):\r\n  File \"ccc.py\", line 10, in <module>\r\n    print 'received: `{recv}`'.format(recv=cli.recv())\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 293, in recv\r\n    opcode, data = self.recv_data()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 310, in recv_data\r\n    opcode, frame = self.recv_data_frame(control_frame)\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 323, in recv_data_frame\r\n    frame = self.recv_frame()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 357, in recv_frame\r\n    return self.frame_buffer.recv_frame()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_abnf.py\", line 336, in recv_frame\r\n    self.recv_header()\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_abnf.py\", line 286, in recv_header\r\n    header = self.recv_strict(2)\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_abnf.py\", line 371, in recv_strict\r\n    bytes_ = self.recv(min(16384, shortage))\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_core.py\", line 427, in _recv\r\n    return recv(self.sock, bufsize)\r\n  File \"/usr/lib/python2.7/site-packages/websocket/_socket.py\", line 93, in recv\r\n    \"Connection is already closed.\")\r\nwebsocket._exceptions.WebSocketConnectionClosedException: Connection is already closed.\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/306", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/306/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/306/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/306", "id": 216413282, "node_id": "MDU6SXNzdWUyMTY0MTMyODI=", "number": 306, "title": "WebSocketPayloadException under high traffic and limited network connection", "user": {"login": "juhhov", "id": 26225854, "node_id": "MDQ6VXNlcjI2MjI1ODU0", "avatar_url": "https://avatars3.githubusercontent.com/u/26225854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juhhov", "html_url": "https://github.com/juhhov", "followers_url": "https://api.github.com/users/juhhov/followers", "following_url": "https://api.github.com/users/juhhov/following{/other_user}", "gists_url": "https://api.github.com/users/juhhov/gists{/gist_id}", "starred_url": "https://api.github.com/users/juhhov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juhhov/subscriptions", "organizations_url": "https://api.github.com/users/juhhov/orgs", "repos_url": "https://api.github.com/users/juhhov/repos", "events_url": "https://api.github.com/users/juhhov/events{/privacy}", "received_events_url": "https://api.github.com/users/juhhov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-23T12:36:14Z", "updated_at": "2018-08-06T09:59:08Z", "closed_at": "2018-08-06T09:59:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Steps to reproduce:\r\n- Produce high volume traffic between socketIO server and client\r\n- Limit the network connection with a tool such as [http://manpages.ubuntu.com/manpages/wily/man8/wondershaper.8.html](url)\r\n- After a timeout following kind of trace is shown:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/socketIO_client-0.7.2-py2.7.egg/socketIO_client/__init__.py\", line 260, in wait\r\n    self._process_packets()\r\n  File \"/usr/local/lib/python2.7/dist-packages/socketIO_client-0.7.2-py2.7.egg/socketIO_client/__init__.py\", line 286, in _process_packets\r\n    for engineIO_packet in self._transport.recv_packet():\r\n  File \"/usr/local/lib/python2.7/dist-packages/socketIO_client-0.7.2-py2.7.egg/socketIO_client/transports.py\", line 151, in recv_packet\r\n    packet_text = self._connection.recv()\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket_client-0.40.0-py2.7.egg/websocket/_core.py\", line 293, in recv\r\n    opcode, data = self.recv_data()\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket_client-0.40.0-py2.7.egg/websocket/_core.py\", line 310, in recv_data\r\n    opcode, frame = self.recv_data_frame(control_frame)\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket_client-0.40.0-py2.7.egg/websocket/_core.py\", line 334, in recv_data_frame\r\n    return self.cont_frame.extract(frame)\r\n  File \"/usr/local/lib/python2.7/dist-packages/websocket_client-0.40.0-py2.7.egg/websocket/_abnf.py\", line 420, in extract\r\n    \"cannot decode: \" + repr(frame.data))\r\nWebSocketPayloadException: cannot decode: '\\x81~\\x01\\xe542[\"resource_stats\",{\"resource_id\":\"7de45fc0-0fb7-11e7-ba6b-23cb58f59eff\",\"uptime\":{\"appeared\":52.162,\"application\":52.202},\"io\":{\"read\":21415,\"written\":443},\"operations\":{'\r\n```\r\n\r\nInstead of such exception TimeoutError should be raised.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/299", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/299/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/299/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/299", "id": 205342924, "node_id": "MDU6SXNzdWUyMDUzNDI5MjQ=", "number": 299, "title": "ImportError: cannot import name create_connection", "user": {"login": "cookieY", "id": 22343354, "node_id": "MDQ6VXNlcjIyMzQzMzU0", "avatar_url": "https://avatars0.githubusercontent.com/u/22343354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cookieY", "html_url": "https://github.com/cookieY", "followers_url": "https://api.github.com/users/cookieY/followers", "following_url": "https://api.github.com/users/cookieY/following{/other_user}", "gists_url": "https://api.github.com/users/cookieY/gists{/gist_id}", "starred_url": "https://api.github.com/users/cookieY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cookieY/subscriptions", "organizations_url": "https://api.github.com/users/cookieY/orgs", "repos_url": "https://api.github.com/users/cookieY/repos", "events_url": "https://api.github.com/users/cookieY/events{/privacy}", "received_events_url": "https://api.github.com/users/cookieY/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-02-04T11:40:52Z", "updated_at": "2020-06-19T18:40:02Z", "closed_at": "2018-02-06T05:52:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi  \r\nI used the PIP  to install  websocket - client successfully \r\nBut when I practice my script\r\nan error  has been found :\r\n\r\nTraceback (most recent call last):\r\n  File \"tomcat_websocket_cmd.py\", line 5, in <module>\r\n    from websocket import create_connection\r\nImportError: cannot import name create_connection\r\n\r\ni try to fix it for long time but stil can not resolve it \r\n\r\nso i  ask you  for some help ,\r\n\r\nthanks\r\n\r\nversion python2.7 websocket-client-0.41.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/294", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/294/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/294/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/294", "id": 201193418, "node_id": "MDU6SXNzdWUyMDExOTM0MTg=", "number": 294, "title": "_send_ping warning fails due to missing reference in _logging.__all__", "user": {"login": "bytesofmyself", "id": 24721027, "node_id": "MDQ6VXNlcjI0NzIxMDI3", "avatar_url": "https://avatars3.githubusercontent.com/u/24721027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bytesofmyself", "html_url": "https://github.com/bytesofmyself", "followers_url": "https://api.github.com/users/bytesofmyself/followers", "following_url": "https://api.github.com/users/bytesofmyself/following{/other_user}", "gists_url": "https://api.github.com/users/bytesofmyself/gists{/gist_id}", "starred_url": "https://api.github.com/users/bytesofmyself/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bytesofmyself/subscriptions", "organizations_url": "https://api.github.com/users/bytesofmyself/orgs", "repos_url": "https://api.github.com/users/bytesofmyself/repos", "events_url": "https://api.github.com/users/bytesofmyself/events{/privacy}", "received_events_url": "https://api.github.com/users/bytesofmyself/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-01-17T07:16:36Z", "updated_at": "2017-01-19T02:45:24Z", "closed_at": "2017-01-19T02:45:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "a warning is logged when _send_ping encounters an exception but the warning function was never added to _logging.\\_\\_all\\_\\_ and functions not listed there are not imported when doing **from _logging import** * as is done in **_app.py** \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Python27\\lib\\threading.py\", line 810, in __bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Python27\\lib\\threading.py\", line 763, in run\r\n    self.__target(*self.__args, **self.__kwargs)\r\n  File \"C:\\Python27\\lib\\site-packages\\websocket\\_app.py\", line 136, in _send_ping\r\n    warning(\"send_ping routine terminated: {}\".format(ex))\r\nNameError: global name 'warning' is not defined\r\n```\r\n\r\nThis was a missed requirement to 0b2f8c3f2af173d7546c17957bc8c5c89f0b4fa1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/289", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/289/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/289/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/289", "id": 194511279, "node_id": "MDU6SXNzdWUxOTQ1MTEyNzk=", "number": 289, "title": "[Python 3] name \"opcode\" is not defined", "user": {"login": "Pavel-Konarik", "id": 5358892, "node_id": "MDQ6VXNlcjUzNTg4OTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/5358892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pavel-Konarik", "html_url": "https://github.com/Pavel-Konarik", "followers_url": "https://api.github.com/users/Pavel-Konarik/followers", "following_url": "https://api.github.com/users/Pavel-Konarik/following{/other_user}", "gists_url": "https://api.github.com/users/Pavel-Konarik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pavel-Konarik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pavel-Konarik/subscriptions", "organizations_url": "https://api.github.com/users/Pavel-Konarik/orgs", "repos_url": "https://api.github.com/users/Pavel-Konarik/repos", "events_url": "https://api.github.com/users/Pavel-Konarik/events{/privacy}", "received_events_url": "https://api.github.com/users/Pavel-Konarik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-09T04:29:06Z", "updated_at": "2016-12-09T04:44:30Z", "closed_at": "2016-12-09T04:44:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Connecting with Python 3 to any websocket in current version causes \r\n `name opcode is not defined\r\nsend: b'\\x88\\x82}\\xc6\\\\e~.'\r\n\r\nsend: b'\\x81\\x91(~v\\x0b\\x1cLFP\\n\\x1d\\x1enK\\x15:dO\\x17\\x18)u'\r\n\r\nclose status: 13360\r\n\r\nclosed `\r\nError might be different depending on receiving server, but opcode missing is persistent. \r\nHope this helps\r\nCrispy\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/284", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/284/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/284/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/284", "id": 193334721, "node_id": "MDU6SXNzdWUxOTMzMzQ3MjE=", "number": 284, "title": "Opcode error while sending data through python3", "user": {"login": "sacOO7", "id": 16723785, "node_id": "MDQ6VXNlcjE2NzIzNzg1", "avatar_url": "https://avatars3.githubusercontent.com/u/16723785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sacOO7", "html_url": "https://github.com/sacOO7", "followers_url": "https://api.github.com/users/sacOO7/followers", "following_url": "https://api.github.com/users/sacOO7/following{/other_user}", "gists_url": "https://api.github.com/users/sacOO7/gists{/gist_id}", "starred_url": "https://api.github.com/users/sacOO7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sacOO7/subscriptions", "organizations_url": "https://api.github.com/users/sacOO7/orgs", "repos_url": "https://api.github.com/users/sacOO7/repos", "events_url": "https://api.github.com/users/sacOO7/events{/privacy}", "received_events_url": "https://api.github.com/users/sacOO7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-04T06:20:20Z", "updated_at": "2016-12-07T08:58:49Z", "closed_at": "2016-12-07T08:58:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "send: b'\\x81\\xbe\\x90\\xedA\\xe3\\xeb\\xcf\"\\x8a\\xf4\\xcf{\\xc3\\xa1\\xc1a\\xc1\\xf4\\x8c5\\x82\\xb2\\xd7a\\x98\\xb2\\x8c4\\x97\\xf8\\xb9.\\x88\\xf5\\x83c\\xd9\\xb0\\x834\\x8f\\xfc\\x90m\\xc3\\xb2\\x887\\x86\\xfe\\x99c\\xd9\\xb0\\xcfb\\x8b\\xf1\\x83%\\x90\\xf8\\x8c*\\x86\\xb2\\x90'\r\nname 'opcode' is not defined\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/283", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/283/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/283/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/283", "id": 191467590, "node_id": "MDU6SXNzdWUxOTE0Njc1OTA=", "number": 283, "title": "Reconnection to server", "user": {"login": "sacOO7", "id": 16723785, "node_id": "MDQ6VXNlcjE2NzIzNzg1", "avatar_url": "https://avatars3.githubusercontent.com/u/16723785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sacOO7", "html_url": "https://github.com/sacOO7", "followers_url": "https://api.github.com/users/sacOO7/followers", "following_url": "https://api.github.com/users/sacOO7/following{/other_user}", "gists_url": "https://api.github.com/users/sacOO7/gists{/gist_id}", "starred_url": "https://api.github.com/users/sacOO7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sacOO7/subscriptions", "organizations_url": "https://api.github.com/users/sacOO7/orgs", "repos_url": "https://api.github.com/users/sacOO7/repos", "events_url": "https://api.github.com/users/sacOO7/events{/privacy}", "received_events_url": "https://api.github.com/users/sacOO7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-24T09:14:05Z", "updated_at": "2018-08-16T03:52:19Z", "closed_at": "2016-12-10T02:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm currently getting problem with reconnection to server. Can you please give me some hint about how to implement reconnection strategy to server.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/282", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/282/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/282/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/282", "id": 190687197, "node_id": "MDU6SXNzdWUxOTA2ODcxOTc=", "number": 282, "title": "No terms and conditions in LICENSE file", "user": {"login": "eseraygun", "id": 1662557, "node_id": "MDQ6VXNlcjE2NjI1NTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1662557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eseraygun", "html_url": "https://github.com/eseraygun", "followers_url": "https://api.github.com/users/eseraygun/followers", "following_url": "https://api.github.com/users/eseraygun/following{/other_user}", "gists_url": "https://api.github.com/users/eseraygun/gists{/gist_id}", "starred_url": "https://api.github.com/users/eseraygun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eseraygun/subscriptions", "organizations_url": "https://api.github.com/users/eseraygun/orgs", "repos_url": "https://api.github.com/users/eseraygun/repos", "events_url": "https://api.github.com/users/eseraygun/events{/privacy}", "received_events_url": "https://api.github.com/users/eseraygun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-21T11:16:27Z", "updated_at": "2017-06-16T19:29:30Z", "closed_at": "2016-12-02T00:29:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "LPGL terms and conditions in LICENCE seem to have been removed in 7a9a6aff5a9baa2ef8942892aae23c3a1744b52b (v0.24.0). Was this intentional? If not, can you put them back so we can use the library in our projects safely?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/278", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/278/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/278/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/278", "id": 186910640, "node_id": "MDU6SXNzdWUxODY5MTA2NDA=", "number": 278, "title": "Any plan to support cookiejar", "user": {"login": "tifayuki", "id": 5781551, "node_id": "MDQ6VXNlcjU3ODE1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5781551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tifayuki", "html_url": "https://github.com/tifayuki", "followers_url": "https://api.github.com/users/tifayuki/followers", "following_url": "https://api.github.com/users/tifayuki/following{/other_user}", "gists_url": "https://api.github.com/users/tifayuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tifayuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tifayuki/subscriptions", "organizations_url": "https://api.github.com/users/tifayuki/orgs", "repos_url": "https://api.github.com/users/tifayuki/repos", "events_url": "https://api.github.com/users/tifayuki/events{/privacy}", "received_events_url": "https://api.github.com/users/tifayuki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-02T20:26:07Z", "updated_at": "2017-06-19T12:30:47Z", "closed_at": "2017-06-19T12:30:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We have a use case of streaming event using websocket:\r\n\r\nWhen connecting to the server for the first time, the server generates a uuid in the cookie, which will be used to track the client so that no event is lost when the connection drops and reconnects.\r\n\r\nI think this can be done by reading the \"Set-cookie\" on `on_open` event, and setting the uuid in`WebSocketApp.cookie`.\r\n\r\nI wonder if there is any plan to support the cookie jar(with the policy checks, etc) in the library level?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/274", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/274/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/274/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/274", "id": 185886810, "node_id": "MDU6SXNzdWUxODU4ODY4MTA=", "number": 274, "title": "release wheel builds", "user": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-28T10:10:44Z", "updated_at": "2017-06-18T07:43:45Z", "closed_at": "2017-06-18T07:43:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@liris you should run:\n\n``` sh\npython3 -m venv /tmp/ws-venv/\nsource /tmp/ws-venv/bin/activate\npip install -U pip setuptools wheel\npython3 setup.py sdist bdist_wheel upload\n```\n\nTo release a wheel build.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/268", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/268/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/268/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/268", "id": 176342613, "node_id": "MDU6SXNzdWUxNzYzNDI2MTM=", "number": 268, "title": "on_close handler doesn't work with class method and close event value / reason", "user": {"login": "jbwdevries", "id": 17177339, "node_id": "MDQ6VXNlcjE3MTc3MzM5", "avatar_url": "https://avatars0.githubusercontent.com/u/17177339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbwdevries", "html_url": "https://github.com/jbwdevries", "followers_url": "https://api.github.com/users/jbwdevries/followers", "following_url": "https://api.github.com/users/jbwdevries/following{/other_user}", "gists_url": "https://api.github.com/users/jbwdevries/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbwdevries/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbwdevries/subscriptions", "organizations_url": "https://api.github.com/users/jbwdevries/orgs", "repos_url": "https://api.github.com/users/jbwdevries/repos", "events_url": "https://api.github.com/users/jbwdevries/events{/privacy}", "received_events_url": "https://api.github.com/users/jbwdevries/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-12T10:27:49Z", "updated_at": "2016-10-03T02:02:04Z", "closed_at": "2016-10-03T02:02:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "For example, this works:\n\n```\nclass WebSocketClient(object):\n    def __init__(self):\n        self.application = websocket.WebSocketApp(on_close=self.on_close)\n\n    def on_close(self, ws):\n        pass\n```\n\nHowever, if you want the close event value and reason, according to _app.py you have to add two arguments:\n\n```\nclass WebSocketClient(object):\n    def on_close(self, ws, code, reason):\n        pass\n```\n\nBut this doesn't work since the inspect there sees 4 arguments:\n\n```\non_close() takes exactly 4 arguments (2 given)\n```\n\nIf you add only one, it does try to add both arguments, but then it won't work:\n\n```\non_close() takes exactly 3 arguments (4 given)\n```\n\nNot sure how to fix it. You can check if it's a method pretty easily via `hasattr(self.on_close, 'im_class')`. But that wouldn't fix it for partials I guess. Maybe the easiest way is to do instead of `!= 3`, `>= 3`.\n\nI can work around it. Just putting it out here for future reference.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/266", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/266/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/266/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/266", "id": 174604983, "node_id": "MDU6SXNzdWUxNzQ2MDQ5ODM=", "number": 266, "title": "How to give a Headers", "user": {"login": "lowdev", "id": 3659358, "node_id": "MDQ6VXNlcjM2NTkzNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3659358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowdev", "html_url": "https://github.com/lowdev", "followers_url": "https://api.github.com/users/lowdev/followers", "following_url": "https://api.github.com/users/lowdev/following{/other_user}", "gists_url": "https://api.github.com/users/lowdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowdev/subscriptions", "organizations_url": "https://api.github.com/users/lowdev/orgs", "repos_url": "https://api.github.com/users/lowdev/repos", "events_url": "https://api.github.com/users/lowdev/events{/privacy}", "received_events_url": "https://api.github.com/users/lowdev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-01T19:24:54Z", "updated_at": "2016-09-01T19:42:22Z", "closed_at": "2016-09-01T19:42:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nTell me if it's possible to give an header ?\nlike for socketIo: \nSocketIO(\n    localhost', 8000,\n    params={'q': 'qqq'},\n    headers={'Authorization': 'Basic ' + b64encode('username:password')},\n    cookies={'a': 'aaa'},\n    proxies={'https': 'https://proxy.example.com:8080'})\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/264", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/264/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/264/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/264", "id": 170084262, "node_id": "MDU6SXNzdWUxNzAwODQyNjI=", "number": 264, "title": "Response header values should not be converted to lower case", "user": {"login": "satyasundarsahoo", "id": 6631082, "node_id": "MDQ6VXNlcjY2MzEwODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6631082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satyasundarsahoo", "html_url": "https://github.com/satyasundarsahoo", "followers_url": "https://api.github.com/users/satyasundarsahoo/followers", "following_url": "https://api.github.com/users/satyasundarsahoo/following{/other_user}", "gists_url": "https://api.github.com/users/satyasundarsahoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/satyasundarsahoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satyasundarsahoo/subscriptions", "organizations_url": "https://api.github.com/users/satyasundarsahoo/orgs", "repos_url": "https://api.github.com/users/satyasundarsahoo/repos", "events_url": "https://api.github.com/users/satyasundarsahoo/events{/privacy}", "received_events_url": "https://api.github.com/users/satyasundarsahoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-09T05:22:11Z", "updated_at": "2016-12-02T00:52:54Z", "closed_at": "2016-12-02T00:52:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "response header gives all values in lower case. This is due to the code in https://github.com/RicterZ/websocket-client/blob/master/websocket/_http.py#L192\n\nThe response header contains `sec-websocket-accept` which is a base64 encoded value and thus doing a `lower()` mangles the original data.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/263", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/263/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/263/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/263/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/263", "id": 169929048, "node_id": "MDU6SXNzdWUxNjk5MjkwNDg=", "number": 263, "title": "setsockopt", "user": {"login": "giantsrg1", "id": 12544363, "node_id": "MDQ6VXNlcjEyNTQ0MzYz", "avatar_url": "https://avatars0.githubusercontent.com/u/12544363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giantsrg1", "html_url": "https://github.com/giantsrg1", "followers_url": "https://api.github.com/users/giantsrg1/followers", "following_url": "https://api.github.com/users/giantsrg1/following{/other_user}", "gists_url": "https://api.github.com/users/giantsrg1/gists{/gist_id}", "starred_url": "https://api.github.com/users/giantsrg1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giantsrg1/subscriptions", "organizations_url": "https://api.github.com/users/giantsrg1/orgs", "repos_url": "https://api.github.com/users/giantsrg1/repos", "events_url": "https://api.github.com/users/giantsrg1/events{/privacy}", "received_events_url": "https://api.github.com/users/giantsrg1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-08T13:54:10Z", "updated_at": "2016-10-03T01:52:48Z", "closed_at": "2016-10-03T01:52:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am copying the code you have set up:\n\nws.run_forever(sockopt=((socket.IPPROTO_TCP, socket.TCP_NODELAY),))\n\nand i am getting this error...\n\nsetsockopt() takes exactly 3 arguments (2 given)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/261", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/261/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/261/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/261", "id": 160841605, "node_id": "MDU6SXNzdWUxNjA4NDE2MDU=", "number": 261, "title": "Incorrect encoding in continued messages python3", "user": {"login": "mjtalbot", "id": 1216025, "node_id": "MDQ6VXNlcjEyMTYwMjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1216025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjtalbot", "html_url": "https://github.com/mjtalbot", "followers_url": "https://api.github.com/users/mjtalbot/followers", "following_url": "https://api.github.com/users/mjtalbot/following{/other_user}", "gists_url": "https://api.github.com/users/mjtalbot/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjtalbot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjtalbot/subscriptions", "organizations_url": "https://api.github.com/users/mjtalbot/orgs", "repos_url": "https://api.github.com/users/mjtalbot/repos", "events_url": "https://api.github.com/users/mjtalbot/events{/privacy}", "received_events_url": "https://api.github.com/users/mjtalbot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-17T08:54:55Z", "updated_at": "2020-03-26T02:45:19Z", "closed_at": "2016-10-03T01:49:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \n\nWhen OPCODE_TEXT is sent followed by multiple OPCODE_CONT messages we look at the opcode of the last frame (which would be CONT) rather than the opcode of the whole message pieced together. \n\ni think \n`if six.PY3 and frame.opcode == ABNF.OPCODE_TEXT:`\nshould be\n`if six.PY3 and op_code == ABNF.OPCODE_TEXT:`\n\n(_app.py line 220)\n\ncheers\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/259", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/259/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/259/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/259", "id": 157522444, "node_id": "MDU6SXNzdWUxNTc1MjI0NDQ=", "number": 259, "title": "Use with Gevent", "user": {"login": "Susheng", "id": 2734476, "node_id": "MDQ6VXNlcjI3MzQ0NzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/2734476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Susheng", "html_url": "https://github.com/Susheng", "followers_url": "https://api.github.com/users/Susheng/followers", "following_url": "https://api.github.com/users/Susheng/following{/other_user}", "gists_url": "https://api.github.com/users/Susheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/Susheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Susheng/subscriptions", "organizations_url": "https://api.github.com/users/Susheng/orgs", "repos_url": "https://api.github.com/users/Susheng/repos", "events_url": "https://api.github.com/users/Susheng/events{/privacy}", "received_events_url": "https://api.github.com/users/Susheng/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-05-30T15:24:44Z", "updated_at": "2016-05-31T16:27:34Z", "closed_at": "2016-05-31T16:27:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I found it says websocket-client works with Gevent in the wiki page.\nBut the example doesn't use gevent.spawn and gevent.joinall, which doesn't bring any concurrency benefit at all to me. However, by using those two methods in my code, it gave me None response every single time. \n\nSo I would like to know if it is know issue or I did it wrongly? Thanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/257", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/257/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/257/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/257", "id": 155928186, "node_id": "MDU6SXNzdWUxNTU5MjgxODY=", "number": 257, "title": "auto redirect", "user": {"login": "alanzongsianshen", "id": 9602644, "node_id": "MDQ6VXNlcjk2MDI2NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/9602644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanzongsianshen", "html_url": "https://github.com/alanzongsianshen", "followers_url": "https://api.github.com/users/alanzongsianshen/followers", "following_url": "https://api.github.com/users/alanzongsianshen/following{/other_user}", "gists_url": "https://api.github.com/users/alanzongsianshen/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanzongsianshen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanzongsianshen/subscriptions", "organizations_url": "https://api.github.com/users/alanzongsianshen/orgs", "repos_url": "https://api.github.com/users/alanzongsianshen/repos", "events_url": "https://api.github.com/users/alanzongsianshen/events{/privacy}", "received_events_url": "https://api.github.com/users/alanzongsianshen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-05-20T09:59:37Z", "updated_at": "2018-10-29T02:35:03Z", "closed_at": "2018-10-29T02:35:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "can this websocket client library handle the case of 30X redirect automatically like the \"requests\" ?\n[Requests: Redirection and History](http://docs.python-requests.org/en/latest/user/quickstart/#redirection-and-history)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/253", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/253/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/253/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/253", "id": 153101668, "node_id": "MDU6SXNzdWUxNTMxMDE2Njg=", "number": 253, "title": "Ping/pong timeout v0.37", "user": {"login": "jayanth1991", "id": 1319597, "node_id": "MDQ6VXNlcjEzMTk1OTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1319597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayanth1991", "html_url": "https://github.com/jayanth1991", "followers_url": "https://api.github.com/users/jayanth1991/followers", "following_url": "https://api.github.com/users/jayanth1991/following{/other_user}", "gists_url": "https://api.github.com/users/jayanth1991/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayanth1991/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayanth1991/subscriptions", "organizations_url": "https://api.github.com/users/jayanth1991/orgs", "repos_url": "https://api.github.com/users/jayanth1991/repos", "events_url": "https://api.github.com/users/jayanth1991/events{/privacy}", "received_events_url": "https://api.github.com/users/jayanth1991/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-05-04T20:01:09Z", "updated_at": "2016-05-10T00:05:52Z", "closed_at": "2016-05-10T00:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The implementation for the ping/pong timeout has a bug in the logic which will result in the `WebsocketTimeout` exception never being raised.\n\nhttps://github.com/liris/websocket-client/blob/master/websocket/_app.py#L216\n\nThis:\n\n``` python\nself.last_ping_tm - time.time() > ping_timeout\n```\n\nShould be:\n\n``` python\n time.time() - self.last_ping_tm > ping_timeout\n```\n\nThe way `self.last_ping_tm` is being updated in the daemon thread, more often then not, the if statement will never be true as the `time.time()` tends to be greater than `self.last_ping_tm`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/251", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/251/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/251/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/251", "id": 152192326, "node_id": "MDU6SXNzdWUxNTIxOTIzMjY=", "number": 251, "title": "SSL EOF Error", "user": {"login": "JosefKuchar", "id": 12010072, "node_id": "MDQ6VXNlcjEyMDEwMDcy", "avatar_url": "https://avatars1.githubusercontent.com/u/12010072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JosefKuchar", "html_url": "https://github.com/JosefKuchar", "followers_url": "https://api.github.com/users/JosefKuchar/followers", "following_url": "https://api.github.com/users/JosefKuchar/following{/other_user}", "gists_url": "https://api.github.com/users/JosefKuchar/gists{/gist_id}", "starred_url": "https://api.github.com/users/JosefKuchar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JosefKuchar/subscriptions", "organizations_url": "https://api.github.com/users/JosefKuchar/orgs", "repos_url": "https://api.github.com/users/JosefKuchar/repos", "events_url": "https://api.github.com/users/JosefKuchar/events{/privacy}", "received_events_url": "https://api.github.com/users/JosefKuchar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-01T10:17:38Z", "updated_at": "2020-02-04T08:36:39Z", "closed_at": "2016-09-06T15:57:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\nI'm getting this error. I think It is problem with TLSv1. Can you Help me?\n`Traceback (most recent call last):\n  File \"C:\\Users\\Josef\\Desktop\\test2.py\", line 5, in <module>\n    ws = websocket.create_connection(\"wss://176.9.72.105:475\")\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\websocket\\_core.py\", line 489, in create_connection\n    websock.connect(url, **options)\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\websocket\\_core.py\", line 216, in connect\n    options.pop('socket', None))\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\websocket\\_http.py\", line 73, in connect\n    sock = _ssl_socket(sock, options.sslopt, hostname)\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\websocket\\_http.py\", line 169, in _ssl_socket\n    sock = _wrap_sni_socket(sock, sslopt, hostname, check_hostname)\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\websocket\\_http.py\", line 154, in _wrap_sni_socket\n    server_hostname=hostname,\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\ssl.py\", line 376, in wrap_socket\n    _context=self)\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\ssl.py\", line 747, in __init__\n    self.do_handshake()\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\ssl.py\", line 983, in do_handshake\n    self._sslobj.do_handshake()\n  File \"C:\\Users\\Josef\\AppData\\Local\\Programs\\Python\\Python35\\lib\\ssl.py\", line 628, in do_handshake\n    self._sslobj.do_handshake()\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:645)`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/246", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/246/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/246/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/246", "id": 147684323, "node_id": "MDU6SXNzdWUxNDc2ODQzMjM=", "number": 246, "title": "`websocket.create_connection` does not accept `origin` as a parameter", "user": {"login": "ryo-tagami", "id": 2558964, "node_id": "MDQ6VXNlcjI1NTg5NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2558964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryo-tagami", "html_url": "https://github.com/ryo-tagami", "followers_url": "https://api.github.com/users/ryo-tagami/followers", "following_url": "https://api.github.com/users/ryo-tagami/following{/other_user}", "gists_url": "https://api.github.com/users/ryo-tagami/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryo-tagami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryo-tagami/subscriptions", "organizations_url": "https://api.github.com/users/ryo-tagami/orgs", "repos_url": "https://api.github.com/users/ryo-tagami/repos", "events_url": "https://api.github.com/users/ryo-tagami/events{/privacy}", "received_events_url": "https://api.github.com/users/ryo-tagami/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-12T09:05:37Z", "updated_at": "2016-04-14T01:38:36Z", "closed_at": "2016-04-14T00:27:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Before  v0.36.0, `websocket.create_connection` was accepting `origin` as a parameter and used it correctly. As of v0.36.0, this does not seems to be the case anymore.\n\n```\n$ cat test.py\n#!/usr/bin/env python\n\nimport websocket\n\n\nws = websocket.create_connection(\n    url=\"ws://echo.websocket.org\",\n    origin=\"http://example.org\",\n)\n$ \n$ ./test.py\nTraceback (most recent call last):\n  File \"./test.py\", line 8, in <module>\n    origin=\"http://example.org\",\n  File \"/Users/ryo/.pyenv/versions/websocket-client/lib/python2.7/site-packages/websocket/_core.py\", line 487, in create_connection\n    skip_utf8_validation=skip_utf8_validation, **options)\nTypeError: __init__() got an unexpected keyword argument 'origin'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/242", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/242/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/242/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/242", "id": 142930317, "node_id": "MDU6SXNzdWUxNDI5MzAzMTc=", "number": 242, "title": "RuntimeError: cannot join thread before it is started", "user": {"login": "tifayuki", "id": 5781551, "node_id": "MDQ6VXNlcjU3ODE1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5781551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tifayuki", "html_url": "https://github.com/tifayuki", "followers_url": "https://api.github.com/users/tifayuki/followers", "following_url": "https://api.github.com/users/tifayuki/following{/other_user}", "gists_url": "https://api.github.com/users/tifayuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/tifayuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tifayuki/subscriptions", "organizations_url": "https://api.github.com/users/tifayuki/orgs", "repos_url": "https://api.github.com/users/tifayuki/repos", "events_url": "https://api.github.com/users/tifayuki/events{/privacy}", "received_events_url": "https://api.github.com/users/tifayuki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-03-23T11:09:22Z", "updated_at": "2016-04-12T00:00:53Z", "closed_at": "2016-04-12T00:00:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using version 0.32 and get the following exception:\n\n```\nlb-1 | 2016-03-23T05:21:09.156615622Z   File \"/usr/local/lib/python2.7/dist-packages/haproxy/eventhandler.py\", line 56, in listen_dockercloud_events\nlb-1 | 2016-03-23T05:21:09.157370339Z     events.run_forever()\nlb-1 | 2016-03-23T05:21:09.157571209Z   File \"/usr/local/lib/python2.7/dist-packages/dockercloud/api/events.py\", line 42, in run_forever\nlb-1 | 2016-03-23T05:21:09.157999832Z     ws.run_forever(ping_interval=5, ping_timeout=5, *args, **kwargs)\nlb-1 | 2016-03-23T05:21:09.158172596Z   File \"/usr/local/lib/python2.7/dist-packages/websocket/_app.py\", line 206, in run_forever\nlb-1 | 2016-03-23T05:21:09.159057910Z     thread.join()\nlb-1 | 2016-03-23T05:21:09.159268063Z   File \"/usr/lib/python2.7/threading.py\", line 938, in join\nlb-1 | 2016-03-23T05:21:09.160642061Z     raise RuntimeError(\"cannot join thread before it is started\")\nlb-1 | 2016-03-23T05:21:09.161013891Z RuntimeError: cannot join thread before it is started\nlb-1 | 2016-03-23T05:21:11.563614959Z Exception in thread Thread-323 (most likely raised during interpreter shutdown):\nlb-1 | 2016-03-23T05:21:11.563880056Z Traceback (most recent call last):\nlb-1 | 2016-03-23T05:21:11.564038516Z   File \"/usr/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\nlb-1 | 2016-03-23T05:21:11.564178413Z   File \"/usr/lib/python2.7/threading.py\", line 763, in run\nlb-1 | 2016-03-23T05:21:11.564316609Z   File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 329, in _handle_workers\nlb-1 | 2016-03-23T05:21:11.564453367Z   File \"/usr/lib/python2.7/Queue.py\", line 138, in put\nlb-1 | 2016-03-23T05:21:11.564600194Z   File \"/usr/lib/python2.7/threading.py\", line 383, in notify\nlb-1 | 2016-03-23T05:21:11.564867034Z <type 'exceptions.TypeError'>: 'NoneType' object is not callable\n```\n\nIt looks like there is an exception raised in: https://github.com/liris/websocket-client/blob/master/websocket/_app.py#L181\n\n```\n                thread = threading.Thread(target=self._send_ping, args=(ping_interval, event))\n                thread.setDaemon(True)\n                thread.start()\n```\n\nand in the finally block (https://github.com/liris/websocket-client/blob/master/websocket/_app.py#L181)\nthe `join` is called before the thread starts.\n\nI think it is better to put `thread.join()` in a try catch block\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/234", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/234/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/234/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/234", "id": 131239069, "node_id": "MDU6SXNzdWUxMzEyMzkwNjk=", "number": 234, "title": "\"next\" method to unlock \"recv\" loop (blender single thread)", "user": {"login": "ivopc", "id": 13568181, "node_id": "MDQ6VXNlcjEzNTY4MTgx", "avatar_url": "https://avatars0.githubusercontent.com/u/13568181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivopc", "html_url": "https://github.com/ivopc", "followers_url": "https://api.github.com/users/ivopc/followers", "following_url": "https://api.github.com/users/ivopc/following{/other_user}", "gists_url": "https://api.github.com/users/ivopc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivopc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivopc/subscriptions", "organizations_url": "https://api.github.com/users/ivopc/orgs", "repos_url": "https://api.github.com/users/ivopc/repos", "events_url": "https://api.github.com/users/ivopc/events{/privacy}", "received_events_url": "https://api.github.com/users/ivopc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-02-04T04:29:48Z", "updated_at": "2016-02-06T03:18:53Z", "closed_at": "2016-02-06T03:18:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working in a script that can only run in a single thread and is doing an infinite loop, the single thread is a blender game engine limitation (I can't use async or anything multithread-like). The .recv() method is freezing the game interface to get the server response. \nHere a very dangerous \"kludge\" example to solve the loop freezing in blender (this run in a infinite loop):\n\n```\ndata = ws.recv()\n\nprint(data)\n\nif data == \"walk\":\n    walk()\n\nif data == \"jump\":\n    jump()\n\nws.send(\"unlock_thread\") // a \"ws.nextFrame()\" or \"ws.unlock()\" like\n```\n\nAnd the server consists to callback a message to client when it send a message to unlock the game interface, like that:\n\n```\nconnection.on(\"message\", function (message) { \n    connection.send(\"unlocking thread\")\n})\n```\n\nBut this solution is very dangerous and kludge considering the client connection speed and server perfomance.\n\nThanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/230", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/230/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/230/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/230", "id": 123098096, "node_id": "MDU6SXNzdWUxMjMwOTgwOTY=", "number": 230, "title": "Expose a socket locally", "user": {"login": "baby-gnu", "id": 1233212, "node_id": "MDQ6VXNlcjEyMzMyMTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1233212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baby-gnu", "html_url": "https://github.com/baby-gnu", "followers_url": "https://api.github.com/users/baby-gnu/followers", "following_url": "https://api.github.com/users/baby-gnu/following{/other_user}", "gists_url": "https://api.github.com/users/baby-gnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/baby-gnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baby-gnu/subscriptions", "organizations_url": "https://api.github.com/users/baby-gnu/orgs", "repos_url": "https://api.github.com/users/baby-gnu/repos", "events_url": "https://api.github.com/users/baby-gnu/events{/privacy}", "received_events_url": "https://api.github.com/users/baby-gnu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-19T17:07:33Z", "updated_at": "2015-12-20T02:52:58Z", "closed_at": "2015-12-20T02:52:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI would like to plug ssvncviewer on a websocket (OpenStack, OpenNebula) since noVNC has limitations.\n\nI created a little python script to handle authentication and create the websocket connection, but now I need to run a command and make it connect to the `WebSocket` endpoint.\n\nIs it possible to make websocket-client create a local socket and forward data from and to the tunnel?\n- when we write to the local socket, websocket-client will send it in the tunnel\n- when data arrives from the tunnel, websocket-ciient send it to the local socket\n\nRegards.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/228", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/228/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/228/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/228", "id": 121632359, "node_id": "MDU6SXNzdWUxMjE2MzIzNTk=", "number": 228, "title": "immediately received message from server while sending multi message", "user": {"login": "pentester84", "id": 15025479, "node_id": "MDQ6VXNlcjE1MDI1NDc5", "avatar_url": "https://avatars1.githubusercontent.com/u/15025479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pentester84", "html_url": "https://github.com/pentester84", "followers_url": "https://api.github.com/users/pentester84/followers", "following_url": "https://api.github.com/users/pentester84/following{/other_user}", "gists_url": "https://api.github.com/users/pentester84/gists{/gist_id}", "starred_url": "https://api.github.com/users/pentester84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pentester84/subscriptions", "organizations_url": "https://api.github.com/users/pentester84/orgs", "repos_url": "https://api.github.com/users/pentester84/repos", "events_url": "https://api.github.com/users/pentester84/events{/privacy}", "received_events_url": "https://api.github.com/users/pentester84/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-11T03:53:25Z", "updated_at": "2015-12-11T09:25:01Z", "closed_at": "2015-12-11T09:25:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use this code to send message to server:\n\n<pre>\n<code>\nws = websocket.WebSocketApp(\n    Url,\n    on_message=on_message,\n    on_open=on_open,\n)\n\ndef on_message( ws, message):\n    print message\n\ndef on_open(ws):\n    count = 0\n    while(True):\n        time.sleep(1)\n        if(countBet > 10):\n            break\n        msgSend = 'dataExample'\n        ws.send(msgSend)\n        countBet +=1\n    return\n</code>\n</pre>\n\nBut after sent 10 message to server, i received message. How to immediately receive message from server after sent message one by one?\n\nMany thanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/221", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/221/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/221/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/221", "id": 116970015, "node_id": "MDU6SXNzdWUxMTY5NzAwMTU=", "number": 221, "title": "processing to send 80 Mb data taking more than 8 Sec", "user": {"login": "sgowtham441", "id": 14904000, "node_id": "MDQ6VXNlcjE0OTA0MDAw", "avatar_url": "https://avatars1.githubusercontent.com/u/14904000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgowtham441", "html_url": "https://github.com/sgowtham441", "followers_url": "https://api.github.com/users/sgowtham441/followers", "following_url": "https://api.github.com/users/sgowtham441/following{/other_user}", "gists_url": "https://api.github.com/users/sgowtham441/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgowtham441/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgowtham441/subscriptions", "organizations_url": "https://api.github.com/users/sgowtham441/orgs", "repos_url": "https://api.github.com/users/sgowtham441/repos", "events_url": "https://api.github.com/users/sgowtham441/events{/privacy}", "received_events_url": "https://api.github.com/users/sgowtham441/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-15T03:27:58Z", "updated_at": "2015-11-15T06:14:40Z", "closed_at": "2015-11-15T06:14:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "_abnf.py format function take long time to process\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/216", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/216/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/216/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/216", "id": 114381488, "node_id": "MDU6SXNzdWUxMTQzODE0ODg=", "number": 216, "title": "WebSocketPayLoadException", "user": {"login": "hp685", "id": 1517552, "node_id": "MDQ6VXNlcjE1MTc1NTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1517552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hp685", "html_url": "https://github.com/hp685", "followers_url": "https://api.github.com/users/hp685/followers", "following_url": "https://api.github.com/users/hp685/following{/other_user}", "gists_url": "https://api.github.com/users/hp685/gists{/gist_id}", "starred_url": "https://api.github.com/users/hp685/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hp685/subscriptions", "organizations_url": "https://api.github.com/users/hp685/orgs", "repos_url": "https://api.github.com/users/hp685/repos", "events_url": "https://api.github.com/users/hp685/events{/privacy}", "received_events_url": "https://api.github.com/users/hp685/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-10-31T01:55:28Z", "updated_at": "2015-11-17T18:43:47Z", "closed_at": "2015-11-17T18:43:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "  File \"/usr/local/lib/python2.7/site-packages/websocket_client-0.21.0-py2.7.egg/websocket/_core.py\", line 667, in recv\n    opcode, data = self.recv_data()\n  File \"/usr/local/lib/python2.7/site-packages/websocket_client-0.21.0-py2.7.egg/websocket/_core.py\", line 684, in recv_data\n    opcode, frame = self.recv_data_frame(control_frame)\n  File \"/usr/local/lib/python2.7/site-packages/websocket_client-0.21.0-py2.7.egg/websocket/_core.py\", line 723, in recv_data_frame\n    raise WebSocketPayloadException(\"cannot decode: \" + repr(frame.data))\nwebsocket._exceptions.WebSocketPayloadException: cannot decode: '\\x81~\\x01\\x05'\n\nI'm using websocket-client in my application and upon doing a recv(), I get this error. Is there an option that will make the web socket handle binary data as well? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/215", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/215/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/215/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/215", "id": 113651431, "node_id": "MDU6SXNzdWUxMTM2NTE0MzE=", "number": 215, "title": "AttributeError: 'module' object has no attribute 'compare_digest'", "user": {"login": "matthew-hodgins", "id": 7659771, "node_id": "MDQ6VXNlcjc2NTk3NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/7659771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthew-hodgins", "html_url": "https://github.com/matthew-hodgins", "followers_url": "https://api.github.com/users/matthew-hodgins/followers", "following_url": "https://api.github.com/users/matthew-hodgins/following{/other_user}", "gists_url": "https://api.github.com/users/matthew-hodgins/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthew-hodgins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthew-hodgins/subscriptions", "organizations_url": "https://api.github.com/users/matthew-hodgins/orgs", "repos_url": "https://api.github.com/users/matthew-hodgins/repos", "events_url": "https://api.github.com/users/matthew-hodgins/events{/privacy}", "received_events_url": "https://api.github.com/users/matthew-hodgins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-10-27T18:30:23Z", "updated_at": "2015-10-28T00:17:01Z", "closed_at": "2015-10-28T00:17:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Starting with websocket-client 0.33.0, I am not longer able to connect to my test systems:\n\n/var/lib/jenkins/.virtualenvs/257f04204aa0784d/local/lib/python2.7/site-packages/websocket/_core.pyc in create_connection(url, timeout, *_options)\n    102                         skip_utf8_validation=skip_utf8_validation)\n    103     websock.settimeout(timeout if timeout is not None else getdefaulttimeout())\n--> 104     websock.connect(url, *_options)\n    105     return websock\n    106 \n\n/var/lib/jenkins/.virtualenvs/257f04204aa0784d/local/lib/python2.7/site-packages/websocket/_core.pyc in connect(self, url, *_options)\n    267 \n    268         try:\n--> 269             self.handshake_response = handshake(self.sock, *addrs, *_options)\n    270             self.connected = True\n    271         except:\n\n/var/lib/jenkins/.virtualenvs/257f04204aa0784d/local/lib/python2.7/site-packages/websocket/_handshake.pyc in handshake(sock, hostname, port, resource, **options)\n     60 \n     61     status, resp = _get_resp_headers(sock)\n---> 62     success, subproto = _validate(resp, key, options.get(\"subprotocols\"))\n     63     if not success:\n     64         raise WebSocketException(\"Invalid WebSocket Header\")\n\n/var/lib/jenkins/.virtualenvs/257f04204aa0784d/local/lib/python2.7/site-packages/websocket/_handshake.pyc in _validate(headers, key, subprotocols)\n    153         success = (hashed == result)\n    154     else:\n--> 155         success = hmac.compare_digest(hashed, result)\n    156 \n    157     if success:\n\n**AttributeError: 'module' object has no attribute 'compare_digest'**\n\nDowngrading to 0.32.0 alleviates the problem. Does this new version have additional dependencies that are not handled in the setup process?\n\nThis package was installed by running 'pip install websocket-client'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/210", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/210/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/210/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/210", "id": 107533419, "node_id": "MDU6SXNzdWUxMDc1MzM0MTk=", "number": 210, "title": "Use os.urandom() for cryptographically-secure random bytes", "user": {"login": "obi1kenobi", "id": 2348618, "node_id": "MDQ6VXNlcjIzNDg2MTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2348618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obi1kenobi", "html_url": "https://github.com/obi1kenobi", "followers_url": "https://api.github.com/users/obi1kenobi/followers", "following_url": "https://api.github.com/users/obi1kenobi/following{/other_user}", "gists_url": "https://api.github.com/users/obi1kenobi/gists{/gist_id}", "starred_url": "https://api.github.com/users/obi1kenobi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obi1kenobi/subscriptions", "organizations_url": "https://api.github.com/users/obi1kenobi/orgs", "repos_url": "https://api.github.com/users/obi1kenobi/repos", "events_url": "https://api.github.com/users/obi1kenobi/events{/privacy}", "received_events_url": "https://api.github.com/users/obi1kenobi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-21T15:09:17Z", "updated_at": "2015-10-27T18:15:06Z", "closed_at": "2015-10-27T06:54:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The creation of a websocket 16-byte nonce for the initial handshake is done through a `uuid.uuid4()` call, which is not intended for generating unpredictable bytes for security or crypto purposes. Please use `os.urandom()` with 16 bytes of random data, because it is explicitly intended for such use.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/websocket-client/websocket-client/issues/209", "repository_url": "https://api.github.com/repos/websocket-client/websocket-client", "labels_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/209/comments", "events_url": "https://api.github.com/repos/websocket-client/websocket-client/issues/209/events", "html_url": "https://github.com/websocket-client/websocket-client/issues/209", "id": 107532099, "node_id": "MDU6SXNzdWUxMDc1MzIwOTk=", "number": 209, "title": "Use constant-time hash comparison ", "user": {"login": "obi1kenobi", "id": 2348618, "node_id": "MDQ6VXNlcjIzNDg2MTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2348618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obi1kenobi", "html_url": "https://github.com/obi1kenobi", "followers_url": "https://api.github.com/users/obi1kenobi/followers", "following_url": "https://api.github.com/users/obi1kenobi/following{/other_user}", "gists_url": "https://api.github.com/users/obi1kenobi/gists{/gist_id}", "starred_url": "https://api.github.com/users/obi1kenobi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obi1kenobi/subscriptions", "organizations_url": "https://api.github.com/users/obi1kenobi/orgs", "repos_url": "https://api.github.com/users/obi1kenobi/repos", "events_url": "https://api.github.com/users/obi1kenobi/events{/privacy}", "received_events_url": "https://api.github.com/users/obi1kenobi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-09-21T15:02:54Z", "updated_at": "2015-10-27T06:48:25Z", "closed_at": "2015-10-27T06:48:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As part of the WebSocket Upgrade handshake, this library verifies that the server sent a correct hash in the Sec-WebSocket-Accept header. However, the validity of the hash is checked with the == operator, rather than a constant-time hash comparison. As a matter of principle, all hash comparisons should use constant-time operations to deter [timing attacks](http://css.csail.mit.edu/6.858/2013/readings/brumley-timing.pdf). While a timing attack here would be difficult and questionably productive, that doesn't mean we should ignore the principle, especially when the fix is so easy:\n\nPlease use Python's [compare_digest](https://docs.python.org/2/library/hmac.html#hmac.compare_digest) to compare the two hashes.\n", "performed_via_github_app": null, "score": 1.0}]}