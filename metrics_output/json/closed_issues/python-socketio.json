{"total_count": 2326, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/socketio/socket.io/issues/3632", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3632/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3632/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3632/events", "html_url": "https://github.com/socketio/socket.io/issues/3632", "id": 679573183, "node_id": "MDU6SXNzdWU2Nzk1NzMxODM=", "number": 3632, "title": "Websocket is throwing Error 400 while connecting to AWS Elastic Beanstalk ", "user": {"login": "jagadeesh93", "id": 37651463, "node_id": "MDQ6VXNlcjM3NjUxNDYz", "avatar_url": "https://avatars3.githubusercontent.com/u/37651463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jagadeesh93", "html_url": "https://github.com/jagadeesh93", "followers_url": "https://api.github.com/users/jagadeesh93/followers", "following_url": "https://api.github.com/users/jagadeesh93/following{/other_user}", "gists_url": "https://api.github.com/users/jagadeesh93/gists{/gist_id}", "starred_url": "https://api.github.com/users/jagadeesh93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jagadeesh93/subscriptions", "organizations_url": "https://api.github.com/users/jagadeesh93/orgs", "repos_url": "https://api.github.com/users/jagadeesh93/repos", "events_url": "https://api.github.com/users/jagadeesh93/events{/privacy}", "received_events_url": "https://api.github.com/users/jagadeesh93/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-15T13:15:49Z", "updated_at": "2020-08-19T14:47:36Z", "closed_at": "2020-08-19T14:47:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "`WebSocket connection to 'wss://myaws_elasticbeanstalk.com/socket.io/?auth=auth_token&Ids=xxx&EIO=3&transport=websocket' failed: Error during WebSocket handshake: Unexpected response code: 400`\r\n### I want to:\r\n\r\n* [x] report a *bug*\r\n\r\n### Current behaviour\r\n\r\nI set up a basic socket io client and server . what it does is to query my db in every one minute and give all latest documents. when i run it on my local machine it is working fine. Everything is working as expected . Local machine in the sense a remote development machine on AWS. \r\nWhen i pushed the code to our production server which is on amazon elastic beanstalk it is giving me the error . \r\n\r\n`WebSocket connection to 'wss://myaws_elasticbeanstalk.com/socket.io/?auth=auth_token&Ids=xxx&EIO=3&transport=websocket' failed: Error during WebSocket handshake: Unexpected response code: 400`\r\n\r\nif i remove `transports: ['websocket']`, form my `socket-io client` it is working but when i check the network it is making infinite requests to server \r\nWhen i add it again it throws a 400 error \r\n\r\n\r\n### Expected behaviour\r\n\r\nProper socket connection to prod environment which is on AWS EB\r\n\r\n### Setup\r\n- OS : LInux\r\n- browser: Chrome\r\n- socket.io version:2.3.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3624", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3624/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3624/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3624/events", "html_url": "https://github.com/socketio/socket.io/issues/3624", "id": 667047928, "node_id": "MDU6SXNzdWU2NjcwNDc5Mjg=", "number": 3624, "title": "Problem with Xcode 12.0 beta 3 ", "user": {"login": "cocoa4you", "id": 16625802, "node_id": "MDQ6VXNlcjE2NjI1ODAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16625802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cocoa4you", "html_url": "https://github.com/cocoa4you", "followers_url": "https://api.github.com/users/cocoa4you/followers", "following_url": "https://api.github.com/users/cocoa4you/following{/other_user}", "gists_url": "https://api.github.com/users/cocoa4you/gists{/gist_id}", "starred_url": "https://api.github.com/users/cocoa4you/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cocoa4you/subscriptions", "organizations_url": "https://api.github.com/users/cocoa4you/orgs", "repos_url": "https://api.github.com/users/cocoa4you/repos", "events_url": "https://api.github.com/users/cocoa4you/events{/privacy}", "received_events_url": "https://api.github.com/users/cocoa4you/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-28T12:52:03Z", "updated_at": "2020-07-28T14:08:22Z", "closed_at": "2020-07-28T14:08:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use CocoaPods to build socket.io.\r\nBut it was failed in Xcode 12 beta 3.\r\n\r\nShow the following error:\r\n\r\nUndefined symbols for architecture i386:\r\n  \"type metadata for Swift._StringObject.Variant\", referenced from:\r\n      outlined init with take of Swift._StringObject.Variant in SocketEngine.o\r\nld: symbol(s) not found for architecture i386\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3622", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3622/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3622/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3622/events", "html_url": "https://github.com/socketio/socket.io/issues/3622", "id": 662819832, "node_id": "MDU6SXNzdWU2NjI4MTk4MzI=", "number": 3622, "title": "How to do a server side emit ?", "user": {"login": "tudislei", "id": 60996665, "node_id": "MDQ6VXNlcjYwOTk2NjY1", "avatar_url": "https://avatars1.githubusercontent.com/u/60996665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tudislei", "html_url": "https://github.com/tudislei", "followers_url": "https://api.github.com/users/tudislei/followers", "following_url": "https://api.github.com/users/tudislei/following{/other_user}", "gists_url": "https://api.github.com/users/tudislei/gists{/gist_id}", "starred_url": "https://api.github.com/users/tudislei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tudislei/subscriptions", "organizations_url": "https://api.github.com/users/tudislei/orgs", "repos_url": "https://api.github.com/users/tudislei/repos", "events_url": "https://api.github.com/users/tudislei/events{/privacy}", "received_events_url": "https://api.github.com/users/tudislei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-21T09:51:36Z", "updated_at": "2020-07-23T07:26:20Z", "closed_at": "2020-07-21T13:24:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to use the emit event in the express router, \r\nso I am trying to pass a global.io.\r\n\r\nBut the problem is , even if I add this code\r\n\r\nio.emit('join','Tudis')\r\n\r\nin the server.js , I can't see any response output,\r\n\r\n(I expected there should be 'someone joined :Tudis' right after compiling?)\r\nplease enlighten me , thank you so much.\r\n\r\n-----the code of server.js---------\r\n\r\n\r\n```\r\nconst express = require('express')\r\nconst socketio=require('socket.io')\r\nconst http=require('http')\r\n\r\nconst serverPORT=5000\r\n\r\nconst app = express();\r\nconst server = http.createServer(app)\r\nconst io=socketio(server)\r\n\r\nio.on('connection',(socket)=>{   \r\n  socket.on('join',(name)=>{\r\n    console.log('someone joined :' + name)\r\n  }) \r\n})\r\n\r\nglobal.io=io\r\nconst router=require('./router')\r\napp.use(router)\r\n\r\nio.emit('join','Tudis')\r\n\r\nserver.listen(serverPORT,\r\n  ()=> console.log('server is up at : '+serverPORT)\r\n  )\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3618", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3618/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3618/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3618/events", "html_url": "https://github.com/socketio/socket.io/issues/3618", "id": 656969869, "node_id": "MDU6SXNzdWU2NTY5Njk4Njk=", "number": 3618, "title": "Google Analytics", "user": {"login": "resynth1943", "id": 49915996, "node_id": "MDQ6VXNlcjQ5OTE1OTk2", "avatar_url": "https://avatars0.githubusercontent.com/u/49915996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/resynth1943", "html_url": "https://github.com/resynth1943", "followers_url": "https://api.github.com/users/resynth1943/followers", "following_url": "https://api.github.com/users/resynth1943/following{/other_user}", "gists_url": "https://api.github.com/users/resynth1943/gists{/gist_id}", "starred_url": "https://api.github.com/users/resynth1943/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/resynth1943/subscriptions", "organizations_url": "https://api.github.com/users/resynth1943/orgs", "repos_url": "https://api.github.com/users/resynth1943/repos", "events_url": "https://api.github.com/users/resynth1943/events{/privacy}", "received_events_url": "https://api.github.com/users/resynth1943/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-15T00:07:41Z", "updated_at": "2020-07-19T00:30:25Z", "closed_at": "2020-07-19T00:30:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n## Remove Google Analytics\r\n\r\nIf you must have an analytics system, might I suggest either:\r\n- Plausible: https://plausible.io (offers a 50% discount for FOSS projects)\r\n- Goatcounter: https://goatcounter.com\r\n- Matomo: https://matomo.org\r\n- Fathom: https://usefathom.org\r\n\r\nThese solutions are all well-tested and open-source. This, of course, means they\r\ncan be independently audited for privacy and security. Instead of using a proprietary\r\nnonfree system such as Google Analytics, perhaps we could work together to replace\r\nit with something slightly more ethical?\r\n\r\nFurthermore, the majority of privacy features in evergreen browsers *block* Google\r\nAnalytics from being run. I can not say the same for solutions such as Plausible,\r\nwhich suggests they are trusted for their privacy by independent persons.\r\n\r\nIf you need any more information, please contact me!\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\n\r\nHow would you feel about using an alternative to Google Analytics?\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3614", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3614/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3614/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3614/events", "html_url": "https://github.com/socketio/socket.io/issues/3614", "id": 643235545, "node_id": "MDU6SXNzdWU2NDMyMzU1NDU=", "number": 3614, "title": "Why does socket object lose custom attributes on disconnect event?", "user": {"login": "ognjenandric99", "id": 48236995, "node_id": "MDQ6VXNlcjQ4MjM2OTk1", "avatar_url": "https://avatars2.githubusercontent.com/u/48236995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ognjenandric99", "html_url": "https://github.com/ognjenandric99", "followers_url": "https://api.github.com/users/ognjenandric99/followers", "following_url": "https://api.github.com/users/ognjenandric99/following{/other_user}", "gists_url": "https://api.github.com/users/ognjenandric99/gists{/gist_id}", "starred_url": "https://api.github.com/users/ognjenandric99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ognjenandric99/subscriptions", "organizations_url": "https://api.github.com/users/ognjenandric99/orgs", "repos_url": "https://api.github.com/users/ognjenandric99/repos", "events_url": "https://api.github.com/users/ognjenandric99/events{/privacy}", "received_events_url": "https://api.github.com/users/ognjenandric99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 125457, "node_id": "MDU6TGFiZWwxMjU0NTc=", "url": "https://api.github.com/repos/socketio/socket.io/labels/Unable%20to%20reproduce", "name": "Unable to reproduce", "color": "5a00ff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-22T17:11:34Z", "updated_at": "2020-07-09T13:28:26Z", "closed_at": "2020-07-09T13:28:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Stackoveflow question : https://stackoverflow.com/questions/62491222/socket-io-why-does-socket-object-lose-custom-attributes-on-disconnect-event\r\n\r\nOn every new socket object(new connection) I set up custom attribute to socket object like this :\r\n\r\n```js\r\nio.on('connection', function(socket){\r\n   socket.username = \"some-custom-username\";\r\n   console.log(socket.id); //Output : unique ID from socket object\r\n   console.log(socket.username); //Output : some-custom-username\r\n\r\n\r\n   socket.on('disconnect',function(reason){\r\n      console.log(socket.id); //Output : Same unique ID like earlier\r\n      console.log(socket.username); //Output : undefined\r\n   });\r\n}\r\n```\r\n(edited for clarity)\r\n\r\nCan anyone explain why does this happen?\r\n\r\nIt is same object, the id attribute stays the same but every custom attribute gets deleted on disconnect event therefore I am unable to easily detect which user has disconnected.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3613", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3613/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3613/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3613/events", "html_url": "https://github.com/socketio/socket.io/issues/3613", "id": 642289710, "node_id": "MDU6SXNzdWU2NDIyODk3MTA=", "number": 3613, "title": "Delay after 3rd request with socket.io", "user": {"login": "samuk190", "id": 19878001, "node_id": "MDQ6VXNlcjE5ODc4MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/19878001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samuk190", "html_url": "https://github.com/samuk190", "followers_url": "https://api.github.com/users/samuk190/followers", "following_url": "https://api.github.com/users/samuk190/following{/other_user}", "gists_url": "https://api.github.com/users/samuk190/gists{/gist_id}", "starred_url": "https://api.github.com/users/samuk190/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samuk190/subscriptions", "organizations_url": "https://api.github.com/users/samuk190/orgs", "repos_url": "https://api.github.com/users/samuk190/repos", "events_url": "https://api.github.com/users/samuk190/events{/privacy}", "received_events_url": "https://api.github.com/users/samuk190/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2111669362, "node_id": "MDU6TGFiZWwyMTExNjY5MzYy", "url": "https://api.github.com/repos/socketio/socket.io/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-06-20T02:19:57Z", "updated_at": "2020-07-10T11:46:23Z", "closed_at": "2020-07-05T23:53:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I send message it works and after the 3rd try.. it keeps getting more and more delays.\r\nStrange because 1,2,3 message is instant... \r\n\r\nServer\r\n```\r\nio.on('connection', socket => {\r\n  socket.on('loadMessages', async () => {\r\n    Message.findAll({\r\n      where: { isGroup: true },\r\n      attributes: [['id', '_id'], 'text', ['created_at', 'createdAt']],\r\n      order: [['created_at', 'DESC']],\r\n      include: [\r\n        {\r\n          model: User,\r\n          as: 'user',\r\n          attributes: [['id', '_id'], 'name', 'provider'],\r\n          include: [\r\n            {\r\n              model: File,\r\n              as: 'avatar',\r\n              attributes: ['id', 'path', 'url'],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    }).then(chat => {\r\n      io.sockets.emit('loadMessages', chat);\r\n    });\r\n```\r\n\r\nReact-native\r\n```\r\n   socket.on('loadMessages', (msg) => {\r\n      const newArray = msg.map((message) => ({\r\n        _id: message._id,\r\n        createdAt: message.createdAt,\r\n        text: message.text,\r\n        user: {\r\n          _id: message.user._id,\r\n          name: message.user.name,\r\n          avatar: message.user.avatar.url,\r\n        },\r\n      }));\r\n      setMessages(newArray);\r\n    });\r\n\r\n    return () => {\r\n      socket.close();\r\n    };\r\n  }, [socket]);\r\n\r\n  const _onSend = async (message = []) => {\r\n    console.log(message);\r\n    const newMessages = await GiftedChat.append(messages, message);\r\n    // socket.on('newMessageAll', () => {\r\n    //   setMessages([messages, ...message]);\r\n    // });\r\n    // console.log(newMessages);\r\n\r\n    socket.emit('newMessage', newMessages);\r\n    socket.emit('loadMessages');\r\n    // socket.emit('newMessageAll');\r\n  };\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3608", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3608/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3608/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3608/events", "html_url": "https://github.com/socketio/socket.io/issues/3608", "id": 633385139, "node_id": "MDU6SXNzdWU2MzMzODUxMzk=", "number": 3608, "title": "Firefox 77.0.1 (Ubuntu 18.04) is blocking /socket.io/socket.io.js due to MIME type", "user": {"login": "kosson", "id": 3862735, "node_id": "MDQ6VXNlcjM4NjI3MzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3862735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kosson", "html_url": "https://github.com/kosson", "followers_url": "https://api.github.com/users/kosson/followers", "following_url": "https://api.github.com/users/kosson/following{/other_user}", "gists_url": "https://api.github.com/users/kosson/gists{/gist_id}", "starred_url": "https://api.github.com/users/kosson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kosson/subscriptions", "organizations_url": "https://api.github.com/users/kosson/orgs", "repos_url": "https://api.github.com/users/kosson/repos", "events_url": "https://api.github.com/users/kosson/events{/privacy}", "received_events_url": "https://api.github.com/users/kosson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-07T12:47:57Z", "updated_at": "2020-08-14T17:24:55Z", "closed_at": "2020-06-07T14:27:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that with the new version of Firefox, the application using socket.io is not loading the script \u00een the client:\r\n`The resource from \u201chttp://localhost:8080/socket.io/socket.io.js\u201d was blocked due to MIME type (\u201ctext/html\u201d) mismatch (X-Content-Type-Options: nosniff)`.\r\n\r\nTo fix it, I have installed `socket.io-client` with bower and loaded accordingly. Works like a charm.\r\n\r\nIt seems that the solution adopted here https://github.com/socketio/socket.io/blob/210e6887327e6afed4761940fae405b8e784e8e1/lib/index.js#L28 doesn't apply anymore for the evolving browsers; `content-type` needs to be set as well?!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3606", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3606/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3606/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3606/events", "html_url": "https://github.com/socketio/socket.io/issues/3606", "id": 630673669, "node_id": "MDU6SXNzdWU2MzA2NzM2Njk=", "number": 3606, "title": "the socket handshake error on virtualbox vm", "user": {"login": "puffanddmx", "id": 38074373, "node_id": "MDQ6VXNlcjM4MDc0Mzcz", "avatar_url": "https://avatars3.githubusercontent.com/u/38074373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/puffanddmx", "html_url": "https://github.com/puffanddmx", "followers_url": "https://api.github.com/users/puffanddmx/followers", "following_url": "https://api.github.com/users/puffanddmx/following{/other_user}", "gists_url": "https://api.github.com/users/puffanddmx/gists{/gist_id}", "starred_url": "https://api.github.com/users/puffanddmx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/puffanddmx/subscriptions", "organizations_url": "https://api.github.com/users/puffanddmx/orgs", "repos_url": "https://api.github.com/users/puffanddmx/repos", "events_url": "https://api.github.com/users/puffanddmx/events{/privacy}", "received_events_url": "https://api.github.com/users/puffanddmx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-04T09:43:54Z", "updated_at": "2020-07-15T09:27:55Z", "closed_at": "2020-07-15T09:27:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Inside the virtualbox vm I am currently running the vue front(socket client) and node daemon (socket server). However, when requesting to localhost from inside the vue socket client, it is handshake with the socket server. The forwading and firewall are all open. Is there any way to solve this part so that the handshake is done through public IP? I am currently using centos 7.\r\nmaybe cross site problem guess for the vm.~~\r\n\r\n------------clientside : vue front daemon (socket.io-client npm library)\r\nlet options = { reconnect: true};\r\nlet socket = io.connect('http://ip:port', options);\r\n---> socket connected false message got\r\n--> when change ip into localhost not public ip, get connected true message\r\n\r\n-------------serverside : node daemon (socket.io npm library)\r\nconst app = require('express')();\r\nconst cors = require('cors');\r\nconst axios = require('axios');\r\n\r\napp.use(function(req,res,next){\r\nres.header('Access-Control-Allow-Origin', '*');\r\nres.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\r\nres.header(\"Access-Control-Allow-Credentials\",true);\r\nres.header(\"Access-Control-Allow-Methods\",\"POST,GET,OPTIONS\");\r\nnext();\r\n});\r\n\r\napp.use(cors());\r\n\r\nconst server = require('http').createServer(app);\r\nconst io = require('socket.io')(server, {log:false, origins:':'});\r\n\r\nserver.listen(port, '0.0.0.0', function() {\r\nconsole.log('socket io server listening on port port')\r\n})\r\n\r\n-------------------error message\r\npolling-xhr.js?d33e:268 GET http://ip:port/socket.io/?EIO=3&transport=polling&t=N9-b75O net::ERR_CONNECTION_REFUSED\r\n-------------------socket console.log when error\r\nSocket {io: Manager, nsp: \"/\", json: Socket, ids: 0, acks: {\u2026}, \u2026}\r\nacks: {}\r\nconnected: false\r\ndisconnected: true\r\nflags: {}\r\nids: 0\r\nio: Manager {nsps: {\u2026}, subs: Array(1), opts: {\u2026}, _reconnection: true, _reconnectionAttempts: Infinity, \u2026}\r\njson: Socket {io: Manager, nsp: \"/\", json: Socket, ids: 0, acks: {\u2026}, \u2026}\r\nnsp: \"/\"\r\nreceiveBuffer: []\r\nsendBuffer: []\r\nsubs: (3) [{\u2026}, {\u2026}, {\u2026}]\r\n_callbacks: {$connecting: Array(1), $connect: Array(1), $blocks: Array(1)}\r\nproto: Object\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3602", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3602/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3602/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3602/events", "html_url": "https://github.com/socketio/socket.io/issues/3602", "id": 623062125, "node_id": "MDU6SXNzdWU2MjMwNjIxMjU=", "number": 3602, "title": "Websocket transport stop working after some time", "user": {"login": "David-Good-Enough", "id": 50490687, "node_id": "MDQ6VXNlcjUwNDkwNjg3", "avatar_url": "https://avatars2.githubusercontent.com/u/50490687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/David-Good-Enough", "html_url": "https://github.com/David-Good-Enough", "followers_url": "https://api.github.com/users/David-Good-Enough/followers", "following_url": "https://api.github.com/users/David-Good-Enough/following{/other_user}", "gists_url": "https://api.github.com/users/David-Good-Enough/gists{/gist_id}", "starred_url": "https://api.github.com/users/David-Good-Enough/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/David-Good-Enough/subscriptions", "organizations_url": "https://api.github.com/users/David-Good-Enough/orgs", "repos_url": "https://api.github.com/users/David-Good-Enough/repos", "events_url": "https://api.github.com/users/David-Good-Enough/events{/privacy}", "received_events_url": "https://api.github.com/users/David-Good-Enough/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-22T08:57:33Z", "updated_at": "2020-07-09T09:45:06Z", "closed_at": "2020-05-29T07:53:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n\r\n\r\n### Current behaviour\r\n\r\nAfter running socket io on a nodejs for a while (from a few hours to a few days), the server just stop serving the websocket transport and only XHR still works as a valid transport.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nThat's the problem, i can't reproduce it myself, it happens after a while running. No errors is thrown from the server or on the client, the client just try to connect every few seconds but nothing happens.\r\n\r\nYou can test it out yourself on my website, i created a version of the client with only \"websocket\" as the used transport and the bug is currently on :\r\n\r\nLink removed\r\n\r\nOpen the network tab and check under WS.\r\n\r\nIf i restart the server everything works fine with this transport again until a few hours/days pass.\r\n\r\nNothing in the logs and i have this issue since 2 years now (since socket io ^2.2.0 at least).\r\n\r\nAlso, i tried to limit the transport to \"websocket\" on the server side but it just blocked all my clients when the bug came live again after a few days\r\n\r\n### Expected behaviour\r\n\r\nWebsocket transport still working after running for a while\r\n\r\n### Setup\r\n- OS: Debian 9\r\n- browser: Chrome\r\n- socket.io version: \"socket.io\": last\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nRelated issue : [3461](https://github.com/socketio/socket.io/issues/3461)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3601", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3601/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3601/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3601/events", "html_url": "https://github.com/socketio/socket.io/issues/3601", "id": 622806661, "node_id": "MDU6SXNzdWU2MjI4MDY2NjE=", "number": 3601, "title": "Will there be a update for the new uWebSockets?", "user": {"login": "Spejik", "id": 30202541, "node_id": "MDQ6VXNlcjMwMjAyNTQx", "avatar_url": "https://avatars1.githubusercontent.com/u/30202541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Spejik", "html_url": "https://github.com/Spejik", "followers_url": "https://api.github.com/users/Spejik/followers", "following_url": "https://api.github.com/users/Spejik/following{/other_user}", "gists_url": "https://api.github.com/users/Spejik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Spejik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Spejik/subscriptions", "organizations_url": "https://api.github.com/users/Spejik/orgs", "repos_url": "https://api.github.com/users/Spejik/repos", "events_url": "https://api.github.com/users/Spejik/events{/privacy}", "received_events_url": "https://api.github.com/users/Spejik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2111669362, "node_id": "MDU6TGFiZWwyMTExNjY5MzYy", "url": "https://api.github.com/repos/socketio/socket.io/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-21T21:36:42Z", "updated_at": "2020-07-09T08:32:14Z", "closed_at": "2020-07-07T07:25:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [ ] report a *bug*\r\n* [x] request a *feature*\r\n\r\n### Current behavior\r\n\r\n*What is actually happening?*\r\n\r\nWhen I tried to use the original uws package, I got a compilation error. When I used the new [uWebSockets](https://github.com/uNetworking/uWebSockets.js), some of the methods were missing.\r\n\r\n### Expected behavior\r\n\r\n*What is expected?*\r\n\r\n### Setup\r\n- OS: Windows 10\r\n- browser: -\r\n- socket.io version: latest\r\n\r\n### Other information (e.g. stack traces, related issues, suggestions on how to fix)\r\n\r\nI'm not using socket.io for a web app, I'm creating a game in ue4 with the [ue4-client](https://github.com/getnamo/socketio-client-ue4).\r\nI was just thinking if you guys could implement it somehow? So that it works with the new uWebSockets? I found that the UDP protocol which uWebSockets uses is much better for games than TCP, so that'd be great.\r\nThanks for your time\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3589", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3589/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3589/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3589/events", "html_url": "https://github.com/socketio/socket.io/issues/3589", "id": 609192543, "node_id": "MDU6SXNzdWU2MDkxOTI1NDM=", "number": 3589, "title": "simple ping pong socket.io example failing after a short time (data payload undefined)", "user": {"login": "jt0dd", "id": 42309086, "node_id": "MDQ6VXNlcjQyMzA5MDg2", "avatar_url": "https://avatars3.githubusercontent.com/u/42309086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jt0dd", "html_url": "https://github.com/jt0dd", "followers_url": "https://api.github.com/users/jt0dd/followers", "following_url": "https://api.github.com/users/jt0dd/following{/other_user}", "gists_url": "https://api.github.com/users/jt0dd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jt0dd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jt0dd/subscriptions", "organizations_url": "https://api.github.com/users/jt0dd/orgs", "repos_url": "https://api.github.com/users/jt0dd/repos", "events_url": "https://api.github.com/users/jt0dd/events{/privacy}", "received_events_url": "https://api.github.com/users/jt0dd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-29T16:29:31Z", "updated_at": "2020-04-29T19:44:19Z", "closed_at": "2020-04-29T19:44:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\n\r\nsimple ping pong socket.io example failing after a short time (data payload undefined)\r\n\r\n### Steps to reproduce\r\n\r\nI have a very barebones socket.io example (between node.js client and server) I built because my overall socket.io connection kept reconnecting and this is an effort to debug what's going wrong:\r\n\r\nsocket-server.js\r\n```js\r\nconst app = require('express')();\r\nconst server = require('http').Server(app);\r\nconst io = require('socket.io')(server);\r\nserver.listen(8080);\r\nconsole.log(\"listening...\")\r\nlet counter = 0;\r\nsetInterval(() => {\r\n  let data = { beat: counter };\r\n  console.log(\"sending ping\", data);\r\n  io.sockets.emit('ping', data);\r\n  counter++;\r\n}, 1000);\r\nio.on(\"connection\", (socket) => {\r\n  console.log(\"connected to client\");\r\n  socket.on(\"pong\", (data) => {\r\n    console.log(\"pong\", data.beat);\r\n  });\r\n});\r\n```\r\n\r\nsocket-client.js\r\n```js\r\nvar io = require('socket.io-client')\r\nvar socket = io.connect('http://127.0.0.1:8080/', {\r\n  reconnect: true\r\n});\r\nsocket.on('connect', function(socket) {\r\n  console.log('connected to server');\r\n});\r\nsocket.on('ping', function(data) {\r\n  socket.emit('pong', data);\r\n  console.log('ping', data.beat );\r\n});\r\n```\r\n\r\nI start the server and then a few moments later start the client (server and client both node.js in two separate command prompts) (Windows).\r\n\r\nOutput of socket-server.js:\r\n\r\n```js\r\nlistening...\r\nsending ping { beat: 0 }\r\nsending ping { beat: 1 }\r\nsending ping { beat: 2 }\r\nconnected to client\r\nsending ping { beat: 3 }\r\nsending ping { beat: 4 }\r\nsending ping { beat: 5 }\r\nsending ping { beat: 6 }\r\nsending ping { beat: 7 }\r\nsending ping { beat: 8 }\r\nsending ping { beat: 9 }\r\nsending ping { beat: 10 }\r\nsending ping { beat: 11 }\r\nsending ping { beat: 12 }\r\nsending ping { beat: 13 }\r\nsending ping { beat: 14 }\r\nsending ping { beat: 15 }\r\nsending ping { beat: 16 }\r\nsending ping { beat: 17 }\r\nsending ping { beat: 18 }\r\nsending ping { beat: 19 }\r\nsending ping { beat: 20 }\r\nsending ping { beat: 21 }\r\nsending ping { beat: 22 }\r\nsending ping { beat: 23 }\r\nsending ping { beat: 24 }\r\nsending ping { beat: 25 }\r\nsending ping { beat: 26 }\r\nsending ping { beat: 27 }\r\nsending ping { beat: 28 }\r\nsending ping { beat: 29 }\r\nsending ping { beat: 30 }\r\nsending ping { beat: 31 }\r\nsending ping { beat: 32 }\r\n```\r\n\r\nOutput of socket-client.js:\r\n```js\r\nconnected to server\r\nping 3\r\nping 4\r\nping 5\r\nping 6\r\nping 7\r\nping 8\r\nping 9\r\nping 10\r\nping 11\r\nping 12\r\nping 13\r\nping 14\r\nping 15\r\nping 16\r\nping 17\r\nping 18\r\nping 19\r\nping 20\r\nping 21\r\nping 22\r\nping 23\r\nping 24\r\nping 25\r\nping 26\r\nping 27\r\nC:\\Users\\jonat\\..proj-path..\\tests\\socket-client.js:10\r\n  console.log('ping', data.beat );\r\n                           ^\r\n\r\nTypeError: Cannot read property 'beat' of undefined\r\n    at Socket.<anonymous> (C:\\Users\\jonat\\..proj-path..\\tests\\socket-client.js:10:28)\r\n```\r\n\r\n### Expected behaviour\r\n\r\nI would expect this simple example over localhost to not break down. Since the connection over localhost, my network quality wouldn't be causing a breakdown of the connection, so what gives? How can I debug / fix this?\r\n\r\n### Setup\r\n* **v12.16.1**:\r\n* **Windows**:\r\n* **runtime**:\r\n* **socket.io@2.3.0 & socket.io-client**:\r\n(No browser involved)\r\n\r\n### Notes\r\n\r\nI tried:\r\n- reinstalling socket.io\r\n- downgrading to 2.2.0\r\n- changing the ports to 3000 instead of 8080\r\n- restarting my PC\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3588", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3588/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3588/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3588/events", "html_url": "https://github.com/socketio/socket.io/issues/3588", "id": 608710304, "node_id": "MDU6SXNzdWU2MDg3MTAzMDQ=", "number": 3588, "title": "Sending large files over a socket doesn't work.", "user": {"login": "Renari", "id": 1839179, "node_id": "MDQ6VXNlcjE4MzkxNzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1839179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Renari", "html_url": "https://github.com/Renari", "followers_url": "https://api.github.com/users/Renari/followers", "following_url": "https://api.github.com/users/Renari/following{/other_user}", "gists_url": "https://api.github.com/users/Renari/gists{/gist_id}", "starred_url": "https://api.github.com/users/Renari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Renari/subscriptions", "organizations_url": "https://api.github.com/users/Renari/orgs", "repos_url": "https://api.github.com/users/Renari/repos", "events_url": "https://api.github.com/users/Renari/events{/privacy}", "received_events_url": "https://api.github.com/users/Renari/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-29T01:09:02Z", "updated_at": "2020-04-29T22:05:57Z", "closed_at": "2020-04-29T22:05:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Note**: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behavior\r\n\r\nWhen attempting to send a large file over a socket.io connection the request seems to stall on pending forever.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n**Note**: the best way (and by that we mean **the only way**) to get a quick answer is to provide a failing test case by forking the following [fiddle](https://github.com/socketio/socket.io-fiddle).\r\n\r\nI've made a sample here: https://github.com/Renari/socket.io-fiddle\r\nIf you upload a small file, the server will output that it received a file of xxx size. However selecting a large file (like a 100mb file) the request stalls on pending forever. \r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\nThe file is sent to the server.\r\n\r\n\r\n### Setup\r\n- OS: Windows 10\r\n- browser: Brave/Chrome\r\n- socket.io server version: 2.3.0\r\n- socket.io client version: 1.2.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3585", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3585/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3585/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3585/events", "html_url": "https://github.com/socketio/socket.io/issues/3585", "id": 606784824, "node_id": "MDU6SXNzdWU2MDY3ODQ4MjQ=", "number": 3585, "title": "Socket.IO client side not listening even after emitting an event", "user": {"login": "divided7", "id": 41837037, "node_id": "MDQ6VXNlcjQxODM3MDM3", "avatar_url": "https://avatars1.githubusercontent.com/u/41837037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divided7", "html_url": "https://github.com/divided7", "followers_url": "https://api.github.com/users/divided7/followers", "following_url": "https://api.github.com/users/divided7/following{/other_user}", "gists_url": "https://api.github.com/users/divided7/gists{/gist_id}", "starred_url": "https://api.github.com/users/divided7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divided7/subscriptions", "organizations_url": "https://api.github.com/users/divided7/orgs", "repos_url": "https://api.github.com/users/divided7/repos", "events_url": "https://api.github.com/users/divided7/events{/privacy}", "received_events_url": "https://api.github.com/users/divided7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-25T14:48:47Z", "updated_at": "2020-04-25T14:49:10Z", "closed_at": "2020-04-25T14:49:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to make a socket-io application where users can join a room and then chat with other users in the same room. And I am using the following code to do so: \r\n\r\n    var app = require(\"express\")();\r\n    var http = require(\"http\").Server(app);\r\n    var io = require(\"socket.io\")(http);\r\n    \r\n    const port = 5001;\r\n    \r\n    app.get(\"/\", function (req, res) {\r\n      res.sendFile(__dirname + \"/index.html\");\r\n    });\r\n    \r\n    io.on(\"connection\", function (socket) {\r\n      console.log(\"a user connected\");\r\n      socket.on(\"join_room\", (room) => {\r\n        socket.join(room);\r\n        socket.emit(\"message\", \"Successfully joined the room\")\r\n      });\r\n    \r\n      socket.on(\"message\", ({ room, message }) => {\r\n        io.to(room).emit(\"message\", {\r\n          message,\r\n          name: \"Friend\",\r\n        });\r\n      });\r\nI am using Firecamp as the frontend for this server but whenever I run the program above, the users connected to the room are not shown the message.\r\nScreenshots :\r\n[Emitting the message event][1]\r\nand [yet not recieving the message in the other tab][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z18lx.png\r\n  [2]: https://i.stack.imgur.com/XTZqd.png\r\n\r\nA small repo to reproduce the error can be found at https://github.com/divided7/socket-io-frontend-issue\r\nBefore my question gets removed because \"it is not a single question but a collection of many\", I would like you to consider that the problem is only with a specific section of the code which I am unable to find. Thanks for the help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3584", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3584/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3584/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3584/events", "html_url": "https://github.com/socketio/socket.io/issues/3584", "id": 606784577, "node_id": "MDU6SXNzdWU2MDY3ODQ1Nzc=", "number": 3584, "title": "Socket.IO client side not listening even after emitting an event", "user": {"login": "divided7", "id": 41837037, "node_id": "MDQ6VXNlcjQxODM3MDM3", "avatar_url": "https://avatars1.githubusercontent.com/u/41837037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divided7", "html_url": "https://github.com/divided7", "followers_url": "https://api.github.com/users/divided7/followers", "following_url": "https://api.github.com/users/divided7/following{/other_user}", "gists_url": "https://api.github.com/users/divided7/gists{/gist_id}", "starred_url": "https://api.github.com/users/divided7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divided7/subscriptions", "organizations_url": "https://api.github.com/users/divided7/orgs", "repos_url": "https://api.github.com/users/divided7/repos", "events_url": "https://api.github.com/users/divided7/events{/privacy}", "received_events_url": "https://api.github.com/users/divided7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-25T14:47:27Z", "updated_at": "2020-04-25T14:48:13Z", "closed_at": "2020-04-25T14:48:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\nI am trying to make a socket-io application where users can join a room and then chat with other users in the same room. And I am using the following code to do so:\r\n\r\nvar app = require(\"express\")();\r\nvar http = require(\"http\").Server(app);\r\nvar io = require(\"socket.io\")(http);\r\n\r\nconst port = 5001;\r\n\r\napp.get(\"/\", function (req, res) {\r\n  res.sendFile(__dirname + \"/index.html\");\r\n});\r\n\r\nio.on(\"connection\", function (socket) {\r\n  console.log(\"a user connected\");\r\n  socket.on(\"join_room\", (room) => {\r\n    socket.join(room);\r\n    socket.emit(\"message\", \"Successfully joined the room\")\r\n  });\r\n\r\n  socket.on(\"message\", ({ room, message }) => {\r\n    io.to(room).emit(\"message\", {\r\n      message,\r\n      name: \"Friend\",\r\n    });\r\n  });\r\nI am using Firecamp as the frontend for this server but whenever I run the program above, the users connected to the room are not shown the message. Screenshots : Emitting the message event and yet not recieving the message in the other tab\r\n\r\nA small repo to reproduce the error can be found at https://github.com/divided7/socket-io-frontend-issue Before my question gets removed because \"it is not a single question but a collection of many\", I would like you to consider that the problem is only with a specific section of the code which I am unable to find. Thanks for the help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3577", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3577/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3577/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3577/events", "html_url": "https://github.com/socketio/socket.io/issues/3577", "id": 599649900, "node_id": "MDU6SXNzdWU1OTk2NDk5MDA=", "number": 3577, "title": "How to make nickname unique?", "user": {"login": "LuizGMX", "id": 44658199, "node_id": "MDQ6VXNlcjQ0NjU4MTk5", "avatar_url": "https://avatars1.githubusercontent.com/u/44658199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LuizGMX", "html_url": "https://github.com/LuizGMX", "followers_url": "https://api.github.com/users/LuizGMX/followers", "following_url": "https://api.github.com/users/LuizGMX/following{/other_user}", "gists_url": "https://api.github.com/users/LuizGMX/gists{/gist_id}", "starred_url": "https://api.github.com/users/LuizGMX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LuizGMX/subscriptions", "organizations_url": "https://api.github.com/users/LuizGMX/orgs", "repos_url": "https://api.github.com/users/LuizGMX/repos", "events_url": "https://api.github.com/users/LuizGMX/events{/privacy}", "received_events_url": "https://api.github.com/users/LuizGMX/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-14T15:13:49Z", "updated_at": "2020-04-17T22:16:28Z", "closed_at": "2020-04-17T22:16:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, how are you doing?\r\nI'm trying to make a nickname \"usable\" for only one person, how can I make it?\r\nAny help will be much appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3575", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3575/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3575/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3575/events", "html_url": "https://github.com/socketio/socket.io/issues/3575", "id": 598482670, "node_id": "MDU6SXNzdWU1OTg0ODI2NzA=", "number": 3575, "title": "Error caused by CORS and headers Server", "user": {"login": "alexalannunes", "id": 16847836, "node_id": "MDQ6VXNlcjE2ODQ3ODM2", "avatar_url": "https://avatars0.githubusercontent.com/u/16847836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexalannunes", "html_url": "https://github.com/alexalannunes", "followers_url": "https://api.github.com/users/alexalannunes/followers", "following_url": "https://api.github.com/users/alexalannunes/following{/other_user}", "gists_url": "https://api.github.com/users/alexalannunes/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexalannunes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexalannunes/subscriptions", "organizations_url": "https://api.github.com/users/alexalannunes/orgs", "repos_url": "https://api.github.com/users/alexalannunes/repos", "events_url": "https://api.github.com/users/alexalannunes/events{/privacy}", "received_events_url": "https://api.github.com/users/alexalannunes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-12T13:17:42Z", "updated_at": "2020-04-24T20:43:41Z", "closed_at": "2020-04-24T20:43:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Current behaviour\r\nI just trying to do a simple socket connection with react, but I got some errors\r\n\r\nFirst, I started a simple setup on my server\r\n```javascript\r\nconst app = require(\"express\")();\r\nconst http = require(\"http\").createServer(app);\r\nconst io = require(\"socket.io\")(http);\r\nconst cors = require(\"cors\");\r\n\r\napp.use(cors());\r\n\r\nio.on(\"connection\", (socket) => {\r\n  socket.emit(\"oi\", { id: 1 });\r\n});\r\n\r\n...\r\n```\r\n\r\nThen, I tryed to connect on front-end (react):\r\n```javascript\r\nfunction _connect() {\r\n   const socket = io(\"http://localhost:3030\");\r\n   socket.on(\"oi\", (data) => {\r\n      console.log(data);\r\n   });\r\n}\r\n\r\n_connect();\r\n\r\n...\r\n```\r\n\r\nThe error I got:\r\n`from origin 'http://localhost:3000' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.`\r\n\r\n\r\nSo, after several searches, i did\r\n```javascript\r\napp.use(cors({ origin: \"http://localhost:3000\" }));\r\n\r\napp.use((req, res, next) => {\r\n  res.header(\"Access-Control-Allow-Credentials\", true);\r\n  next();\r\n});\r\n```\r\n\r\nSo, on the client side shows new error:\r\n`polling-xhr.js:265 GET http://localhost:3030/socket.io/?EIO=3&transport=polling&t=N5kXRk- 404 (Not Found)`\r\n\r\n### Expected behaviour\r\nI'd just want to show console.log({id: 1})\r\n\r\n### Setup\r\n- OS: LINUX\r\n- browser: CHROME\r\n- socket.io version: 2.2.0\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3566", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3566/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3566/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3566/events", "html_url": "https://github.com/socketio/socket.io/issues/3566", "id": 588057325, "node_id": "MDU6SXNzdWU1ODgwNTczMjU=", "number": 3566, "title": "socket.io connection event is getting called twice", "user": {"login": "Irantwomiles", "id": 11483711, "node_id": "MDQ6VXNlcjExNDgzNzEx", "avatar_url": "https://avatars1.githubusercontent.com/u/11483711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Irantwomiles", "html_url": "https://github.com/Irantwomiles", "followers_url": "https://api.github.com/users/Irantwomiles/followers", "following_url": "https://api.github.com/users/Irantwomiles/following{/other_user}", "gists_url": "https://api.github.com/users/Irantwomiles/gists{/gist_id}", "starred_url": "https://api.github.com/users/Irantwomiles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Irantwomiles/subscriptions", "organizations_url": "https://api.github.com/users/Irantwomiles/orgs", "repos_url": "https://api.github.com/users/Irantwomiles/repos", "events_url": "https://api.github.com/users/Irantwomiles/events{/privacy}", "received_events_url": "https://api.github.com/users/Irantwomiles/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-25T23:42:57Z", "updated_at": "2020-03-26T03:35:03Z", "closed_at": "2020-03-26T03:35:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Note**: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\nFor bug reports and feature requests for the **Swift client**, please open an issue [there](https://github.com/socketio/socket.io-client-swift).\r\n\r\nFor bug reports and feature requests for the **Java client**, please open an issue [there](https://github.com/socketio/socket.io-client-java).\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\n\r\nOn the server side, the connection event is getting called twice when a user joins\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nJust call the connection event on the server and open a new connection, it should create two sockets with different socket id's\r\n\r\n**Note**: the best way (and by that we mean **the only way**) to get a quick answer is to provide a failing test case by forking the following [fiddle](https://github.com/socketio/socket.io-fiddle).\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\n\r\n### Setup\r\n- OS: Windows 10\r\n- browser: Chrome\r\n- socket.io version: 2.3.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n```\r\n\r\nconst UUID = require('uuidjs');\r\nconst express = require('express');\r\nconst cors = require('cors');\r\nconst app = express();\r\napp.use(cors());\r\nconst http = require('http').createServer(app);\r\nconst io = require('socket.io').listen(http);\r\n\r\nconst users = [];\r\nconst drawings = [];\r\n\r\nconst draw = {\r\n    x: 0,\r\n    y: 0,\r\n    color: \"\",\r\n    room : \"\"\r\n}\r\n\r\nconst user = {\r\n    id: \"\",\r\n    name: \"\",\r\n    room: \"\",\r\n    loaded: false\r\n}\r\n\r\napp.get('/', function (req, res) {\r\n    res.sendFile(__dirname + '/index.html');\r\n});\r\n\r\napp.get('/draw.js', function (req, res) {\r\n    res.sendFile(__dirname + '/draw.js');\r\n});\r\n\r\napp.get('/main.js', function (req, res) {\r\n    res.sendFile(__dirname + '/main.js');\r\n});\r\n\r\nio.on(\"connection\", (socket) => {\r\n\r\n    console.log(\"connect\", socket.id);\r\n\r\n    socket.on(\"disconnect\", () => {\r\n       \r\n    })\r\n\r\n    io.to(socket.id).emit(\"login\", {\r\n        id: socket.id,\r\n        drawings: drawings\r\n    })\r\n\r\n    socket.on(\"add-user\", (data) => {\r\n        var u = Object.create(user);\r\n        u.id = data.id;\r\n        u.name = data.name;\r\n        u.room = data.room;\r\n        u.loaded = true;\r\n\r\n        console.log(u.id);\r\n\r\n        users.push(u);\r\n\r\n        socket.join(u.room);\r\n\r\n        io.to(u.id).emit(\"add-user\", u); //emits data back to the user with that id\r\n        io.to(u.room).emit(\"testing-room\", {\r\n            message: `Welcome to ${u.name} to room ${u.room}`\r\n        })\r\n    });\r\n\r\n    socket.on(\"draw\", (data) => {\r\n        var d = Object.create(draw);\r\n        d.x = data.x;\r\n        d.y = data.y;\r\n        d.color = data.color;\r\n\r\n        drawings.push(d);\r\n\r\n        var u = getUserById(socket.id);\r\n\r\n        console.log(u);\r\n\r\n        socket.to(u.room).emit(\"draw\", {\r\n            x: data.x,\r\n            y: data.y,\r\n            color: data.color\r\n        });\r\n        \r\n    })\r\n\r\n});\r\n\r\n\r\nfunction getUserById(id) {\r\n    for(var i = 0; i < users.length; i++) {\r\n        console.log(\"loop\", users[i].id, id);\r\n        if(users[i].id == id) {\r\n            return users[i];\r\n        }\r\n    }\r\n}\r\n\r\nhttp.listen(4000, () => console.log(\"Server running\"));\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3565", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3565/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3565/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3565/events", "html_url": "https://github.com/socketio/socket.io/issues/3565", "id": 584817458, "node_id": "MDU6SXNzdWU1ODQ4MTc0NTg=", "number": 3565, "title": "socket.emit not working inside socket.on server side", "user": {"login": "BirdBare", "id": 1051490, "node_id": "MDQ6VXNlcjEwNTE0OTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1051490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BirdBare", "html_url": "https://github.com/BirdBare", "followers_url": "https://api.github.com/users/BirdBare/followers", "following_url": "https://api.github.com/users/BirdBare/following{/other_user}", "gists_url": "https://api.github.com/users/BirdBare/gists{/gist_id}", "starred_url": "https://api.github.com/users/BirdBare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BirdBare/subscriptions", "organizations_url": "https://api.github.com/users/BirdBare/orgs", "repos_url": "https://api.github.com/users/BirdBare/repos", "events_url": "https://api.github.com/users/BirdBare/events{/privacy}", "received_events_url": "https://api.github.com/users/BirdBare/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-20T03:19:42Z", "updated_at": "2020-04-29T15:27:17Z", "closed_at": "2020-04-29T15:27:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*I cannot socket.emit from inside a socket.on callback on the server\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nTry to socket.emit inside of a socket.on from server side\r\n\r\n### Expected behaviour\r\n\r\nThe client to receive the message specific to their connection\r\n\r\n### Setup\r\n- OS: Ubuntu\r\n- browser: Chrome\r\n- socket.io version: 2.3.0 from npm install\r\n\r\n### Code \r\n\r\nI cannot use io.emit or io.socket.emit because I only want the message to go to the requesting client. The issue has equals in front to help you find it.\r\n\r\n\r\n```\r\nvar strains = \"*DELETED\";\r\nvar effects = \"*DELETED\";\r\n\r\nstrains = strains.replace(/\\n/g,\" \");\r\nstrains = strains.replace(/ {2,}/g,\" \");\r\neffects = effects.replace(/\\n/g,\" \");\r\neffects = effects.replace(/ {2,}/g,\" \");\r\n//replace all newlines with spaces then remove all excess spaces. Should now\r\n//match database.\r\n\r\nconst autocomplete = strains + effects;\r\n\r\nvar express = require(\"express\");\r\nvar app = express();\r\nvar http = require(\"http\").Server(app);\r\nvar io = require(\"socket.io\")(http);\r\nvar request = require(\"request\");\r\n\r\nhttp.listen(8080);\r\n\r\n//create website\r\napp.get ('/', function(request, response) \r\n{\r\n  response.sendFile(__dirname + \"/index.html\");\r\n});\r\n\r\n//access local folder\r\napp.use('/', express.static(__dirname));\r\n\r\n//connect to socket from webpage\r\nio.on(\"connection\", function(socket)\r\n{\r\n  socket.emit(\"autocomplete\",autocomplete);\r\n  //emit on connection for autocomplete source\r\n\r\n  socket.on(\"recommend\", function(data)\r\n  {\r\n    if(data.length > 0)\r\n    {\r\n      data = data.split(\",\");\r\n    \r\n      lcStrains = strains.toLowerCase().split(\",\");\r\n      lcEffects = effects.toLowerCase().split(\",\");\r\n\r\n      var strainTags = [];\r\n      var effectTags = [];\r\n      var garbageTags = [];\r\n\r\n      data.forEach(element =>\r\n      {\r\n        if(lcStrains.indexOf(element) != -1)\r\n        {\r\n      \r\n          strainTags.push(element);\r\n        }\r\n        else if(lcEffects.indexOf(element) != -1)\r\n        {\r\n          effectTags.push(element);\r\n        }\r\n        else\r\n        {\r\n          garbageTags.push(element);\r\n        }\r\n        //get indexof element. If -1 then element is not present in the array\r\n        //and will be put in garbage array\r\n      });\r\n    \r\n      strainTags = strainTags.toString();\r\n      effectTags = effectTags.toString();\r\n      garbageTags = garbageTags.toString();\r\n\r\n      console.log(\"...List of Tags...\");\r\n      console.log(\"Strains: \" + strainTags);\r\n      console.log(\"Effects: \" + effectTags);\r\n      console.log(\"Garbage: \" + garbageTags);\r\n\r\n      if(strainTags.length > 0 || effectTags.length > 0)\r\n      {\r\n        console.log(\"rec\");\r\n        const url = \"*DELETED\"\r\n        const request_parameters = \r\n        {  \r\n        \"liked_strains\": strainTags,\r\n        \"liked_effects\": effectTags,\r\n        \"return_details\": true,\r\n        };\r\n\r\n        request({url:url, qs:request_parameters}, function(err,reponse,body)\r\n        {\r\n          console.log(reponse.statusCode);\r\n====socket.emit(\"result\",JSON.stringify(JSON.parse(body).recommendations.results));\r\n          //send result to client side in non JSON format.\r\n        });\r\n      }\r\n    }\r\n\r\n  });\r\n \r\n  //api search if I can figure out source in autocomplete.\r\n  socket.on(\"search\", function(data)\r\n  {\r\n    console.log(data);\r\n\r\n    const url = \"*DELETED\"\r\n    const request_parameters = \r\n    { \r\n    \"text\": data,\r\n    \"category\": \"\",\r\n    \"page\" : \"\",\r\n    \"results_per_page\" : \"15\",\r\n    };\r\n\r\n    request({url:url, qs:request_parameters}, function(err,reponse,body)\r\n    {\r\n      console.log(reponse.statusCode);\r\n      console.log(body);\r\n    });\r\n  });\r\n});\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3563", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3563/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3563/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3563/events", "html_url": "https://github.com/socketio/socket.io/issues/3563", "id": 578546766, "node_id": "MDU6SXNzdWU1Nzg1NDY3NjY=", "number": 3563, "title": "Socket.io sends broken stream", "user": {"login": "ycatbink0t", "id": 50693692, "node_id": "MDQ6VXNlcjUwNjkzNjky", "avatar_url": "https://avatars1.githubusercontent.com/u/50693692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ycatbink0t", "html_url": "https://github.com/ycatbink0t", "followers_url": "https://api.github.com/users/ycatbink0t/followers", "following_url": "https://api.github.com/users/ycatbink0t/following{/other_user}", "gists_url": "https://api.github.com/users/ycatbink0t/gists{/gist_id}", "starred_url": "https://api.github.com/users/ycatbink0t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ycatbink0t/subscriptions", "organizations_url": "https://api.github.com/users/ycatbink0t/orgs", "repos_url": "https://api.github.com/users/ycatbink0t/repos", "events_url": "https://api.github.com/users/ycatbink0t/events{/privacy}", "received_events_url": "https://api.github.com/users/ycatbink0t/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-10T12:33:00Z", "updated_at": "2020-03-12T16:18:41Z", "closed_at": "2020-03-12T11:12:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "#3557 # You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\nData sended by socket.io to socket.io-client is broken.\r\n![image](https://user-images.githubusercontent.com/50693692/76311854-801d0700-62da-11ea-9883-14ba456331ee.png)\r\nHeaders: \r\n![image](https://user-images.githubusercontent.com/50693692/76311892-90cd7d00-62da-11ea-852d-ac301bac5ecf.png)\r\n\r\nserver code:  `socket.emit('method_call_client', {data: 'connected'});`\r\n\r\nI use nginx and proxy request to node.js\r\nconfig:\r\n        location /socket.io {\r\n                proxy_pass https://127.0.0.1:8090;\r\n                proxy_http_version 1.1;\r\n                proxy_set_header Upgrade $http_upgrade;\r\n                proxy_set_header Connection 'upgrade';\r\n                proxy_set_header Host $host;\r\n                proxy_cache_bypass $http_upgrade;\r\n                proxy_set_header X-Real-IP  $remote_addr;\r\n                proxy_set_header X-Forwarded-For $remote_addr;\r\n                proxy_set_header X-Forwarded-Proto https;\r\n        }\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?* Normal data, not broken stream.\r\n\r\n### Setup\r\n- OS: Linux\r\n- browser: Chrome\r\n- socket.io version: 2.3.0 - server and client\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nI have found only one similar problem in internet with no suggetion how to fix it.\r\nLink: https://forum.magicmirror.builders/topic/1024/mmm-wunderlist-invalid-namespace-error/4\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3554", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3554/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3554/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3554/events", "html_url": "https://github.com/socketio/socket.io/issues/3554", "id": 568462875, "node_id": "MDU6SXNzdWU1Njg0NjI4NzU=", "number": 3554, "title": "\u0646\u0628\u064a\u0644", "user": {"login": "nabeelmnbvcxz5353", "id": 59167271, "node_id": "MDQ6VXNlcjU5MTY3Mjcx", "avatar_url": "https://avatars1.githubusercontent.com/u/59167271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nabeelmnbvcxz5353", "html_url": "https://github.com/nabeelmnbvcxz5353", "followers_url": "https://api.github.com/users/nabeelmnbvcxz5353/followers", "following_url": "https://api.github.com/users/nabeelmnbvcxz5353/following{/other_user}", "gists_url": "https://api.github.com/users/nabeelmnbvcxz5353/gists{/gist_id}", "starred_url": "https://api.github.com/users/nabeelmnbvcxz5353/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nabeelmnbvcxz5353/subscriptions", "organizations_url": "https://api.github.com/users/nabeelmnbvcxz5353/orgs", "repos_url": "https://api.github.com/users/nabeelmnbvcxz5353/repos", "events_url": "https://api.github.com/users/nabeelmnbvcxz5353/events{/privacy}", "received_events_url": "https://api.github.com/users/nabeelmnbvcxz5353/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-20T17:37:14Z", "updated_at": "2020-03-07T20:07:28Z", "closed_at": "2020-03-07T20:07:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Note**: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\nFor bug reports and feature requests for the **Swift client**, please open an issue [there](https://github.com/socketio/socket.io-client-swift).\r\n\r\nFor bug reports and feature requests for the **Java client**, please open an issue [there](https://github.com/socketio/socket.io-client-java).\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n**Note**: the best way (and by that we mean **the only way**) to get a quick answer is to provide a failing test case by forking the following [fiddle](https://github.com/socketio/socket.io-fiddle).\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\n\r\n### Setup\r\n- OS:\r\n- browser:\r\n- socket.io version:\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3549", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3549/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3549/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3549/events", "html_url": "https://github.com/socketio/socket.io/issues/3549", "id": 561587977, "node_id": "MDU6SXNzdWU1NjE1ODc5Nzc=", "number": 3549, "title": "Acknowledgement callback failing when using multiple nodes", "user": {"login": "chrisandrewcl", "id": 368831, "node_id": "MDQ6VXNlcjM2ODgzMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/368831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisandrewcl", "html_url": "https://github.com/chrisandrewcl", "followers_url": "https://api.github.com/users/chrisandrewcl/followers", "following_url": "https://api.github.com/users/chrisandrewcl/following{/other_user}", "gists_url": "https://api.github.com/users/chrisandrewcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisandrewcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisandrewcl/subscriptions", "organizations_url": "https://api.github.com/users/chrisandrewcl/orgs", "repos_url": "https://api.github.com/users/chrisandrewcl/repos", "events_url": "https://api.github.com/users/chrisandrewcl/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisandrewcl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-07T11:42:23Z", "updated_at": "2020-02-10T18:08:52Z", "closed_at": "2020-02-10T18:08:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behavior\r\n\r\nWhen running a single socket.io node, ack callbacks emitted from the client behave as expected.\r\n\r\nAfter enabling socket.io-redis adapter to add more nodes, an error is thrown in the server when trying to emit from clients using ack callbacks.\r\n\r\n### Steps to reproduce\r\n\r\n1. Setup socket.io nodes listening for events with ack callbacks using socket.io-redis\r\n2. Emit from a client with an ack callback\r\n3. The server will throw \"Error: Could not encode\"\r\n\r\n### Expected behaviour\r\n\r\nAcks should keep working even on multi nodes setups. \r\n\r\nThis could well be an issue in the adapter but since it is being officially supported and I found no information stating that acks are unsupported when in this setup, it seems there is something wrong. \r\n\r\nIf it is indeed for some reason unsupported, at least it could be better highlighted in the docs. It would be a shame though since it is a great feature to be lost in such a common setup.\r\n\r\n### Setup\r\n- OS: Ubuntu 18.04.4 LTS \r\n- browser: n/a\r\n- node: 12.14.1\r\n- socket.io version: 2.3.0\r\n- socket.io-redis version: 5.2.0\r\n- socket.io-client version: 2.3.0\r\n\r\n### Other information\r\n\r\n```\r\nError: Could not encode\r\n    at _encode (.../node_modules/notepack.io/lib/encode.js:295:9)\r\n    at _encode (.../node_modules/notepack.io/lib/encode.js:182:17)\r\n    at _encode (.../node_modules/notepack.io/lib/encode.js:281:15)\r\n    at _encode (.../node_modules/notepack.io/lib/encode.js:182:17)\r\n    at _encode (.../node_modules/notepack.io/lib/encode.js:281:15)\r\n    at _encode (.../node_modules/notepack.io/lib/encode.js:182:17)\r\n    at Object.encode (.../node_modules/notepack.io/lib/encode.js:301:14)\r\n    at Redis.broadcast (.../node_modules/socket.io-redis/index.js:408:25)\r\n    at Socket.emit (.../node_modules/socket.io/lib/socket.js:171:18)\r\n    at Socket.send.Socket.write (.../node_modules/socket.io/lib/socket.js:208:13)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3542", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3542/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3542/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3542/events", "html_url": "https://github.com/socketio/socket.io/issues/3542", "id": 555126084, "node_id": "MDU6SXNzdWU1NTUxMjYwODQ=", "number": 3542, "title": "Single client creating multiple active connections on reconnect", "user": {"login": "dwasyluk", "id": 987186, "node_id": "MDQ6VXNlcjk4NzE4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/987186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwasyluk", "html_url": "https://github.com/dwasyluk", "followers_url": "https://api.github.com/users/dwasyluk/followers", "following_url": "https://api.github.com/users/dwasyluk/following{/other_user}", "gists_url": "https://api.github.com/users/dwasyluk/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwasyluk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwasyluk/subscriptions", "organizations_url": "https://api.github.com/users/dwasyluk/orgs", "repos_url": "https://api.github.com/users/dwasyluk/repos", "events_url": "https://api.github.com/users/dwasyluk/events{/privacy}", "received_events_url": "https://api.github.com/users/dwasyluk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-25T19:19:30Z", "updated_at": "2020-01-28T15:30:12Z", "closed_at": "2020-01-28T15:30:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "For some reason if my socketio nodejs server is turned off while clients are trying to connect, and then turned back on, the clients create multiple new connections instead of a single connection. How do I avoid this?\r\n\r\nClient (34 new active connections when server comes back):\r\n![image](https://user-images.githubusercontent.com/987186/73126176-8733c400-3f7d-11ea-97c8-0e246bcaf5b1.png)\r\n\r\nServer (streaming new connections... from single client):\r\n![image](https://user-images.githubusercontent.com/987186/73126192-9fa3de80-3f7d-11ea-808b-14b5be7dfab6.png)\r\n\r\nI am expecting a single connection when the server comes back online, why is it creating multiple? If I refresh the client while the server is online it behaves as expected, creating a single active connection.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3528", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3528/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3528/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3528/events", "html_url": "https://github.com/socketio/socket.io/issues/3528", "id": 537685931, "node_id": "MDU6SXNzdWU1Mzc2ODU5MzE=", "number": 3528, "title": "How to handshake through a gateway", "user": {"login": "AhCamargo", "id": 24438840, "node_id": "MDQ6VXNlcjI0NDM4ODQw", "avatar_url": "https://avatars2.githubusercontent.com/u/24438840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AhCamargo", "html_url": "https://github.com/AhCamargo", "followers_url": "https://api.github.com/users/AhCamargo/followers", "following_url": "https://api.github.com/users/AhCamargo/following{/other_user}", "gists_url": "https://api.github.com/users/AhCamargo/gists{/gist_id}", "starred_url": "https://api.github.com/users/AhCamargo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AhCamargo/subscriptions", "organizations_url": "https://api.github.com/users/AhCamargo/orgs", "repos_url": "https://api.github.com/users/AhCamargo/repos", "events_url": "https://api.github.com/users/AhCamargo/events{/privacy}", "received_events_url": "https://api.github.com/users/AhCamargo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-13T17:54:28Z", "updated_at": "2020-01-29T12:31:46Z", "closed_at": "2020-01-29T12:31:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "how to handshake through a gateway ?\r\n\r\n \r\nthere is a way to do ?\r\n\r\n\r\n\r\n\r\nI have a problem between:\r\n\r\nServer-socket.io <----> Gateway <------> front-end\r\n\r\nhow to handshake socket.io server through gateway ?\r\n\r\n//My Gateway:\r\n\r\nconst http = require('http');\r\nconst express = require('express')\r\nconst httpProxy = require('express-http-proxy')\r\nconst app = express()\r\nconst cookieParser = require('cookie-parser');\r\nconst logger = require('morgan');\r\nconst helmet = require('helmet');\r\n\r\nconst socketServiceProxy = httpProxy('http://localhost:8081');\r\n\r\napp.use(logger('dev'));\r\napp.use(helmet());\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: false }));\r\napp.use(cookieParser());\r\n\r\napp.use(function(request, response, next) {\r\n//response.header(\"Access-Control-Allow-Origin\", \"*\");\r\nresponse.header(\"Access-Control-Allow-Origin\", \"http://localhost:3000\");\r\nresponse.header(\"Access-Control-Allow-Credentials\", true);\r\nresponse.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\r\nnext();\r\n});\r\n\r\napp.options('/socket', (req, res, next) => {\r\nsocketServiceProxy(req, res, next);\r\n\r\n})\r\n\r\nconst server = http.createServer(app);\r\nconst port = 4000;\r\nserver.listen(port, () => {\r\nconsole.log(## - API-GATEWAY(Node.JS) - ## Server started on port ${port}!);\r\n});\r\n\r\n//My front:\r\nconst socket = socketIOClient('http://localhost:4000/socket/', {\r\n\r\n        transports: ['polling-xhr', 'websocket'],\r\n        query: {\r\n          socketId: personId,\r\n        },\r\n      });\r\n//My Backend\r\n\r\nhttps://github.com/AhCamargo/backend-box-transfer/blob/master/app.js\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3524", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3524/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3524/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3524/events", "html_url": "https://github.com/socketio/socket.io/issues/3524", "id": 530146796, "node_id": "MDU6SXNzdWU1MzAxNDY3OTY=", "number": 3524, "title": "WebSocket is closed before the connection is established.", "user": {"login": "poleposc", "id": 7278187, "node_id": "MDQ6VXNlcjcyNzgxODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/7278187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poleposc", "html_url": "https://github.com/poleposc", "followers_url": "https://api.github.com/users/poleposc/followers", "following_url": "https://api.github.com/users/poleposc/following{/other_user}", "gists_url": "https://api.github.com/users/poleposc/gists{/gist_id}", "starred_url": "https://api.github.com/users/poleposc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poleposc/subscriptions", "organizations_url": "https://api.github.com/users/poleposc/orgs", "repos_url": "https://api.github.com/users/poleposc/repos", "events_url": "https://api.github.com/users/poleposc/events{/privacy}", "received_events_url": "https://api.github.com/users/poleposc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-29T04:09:39Z", "updated_at": "2019-11-29T04:10:01Z", "closed_at": "2019-11-29T04:10:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Note**: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\nFor bug reports and feature requests for the **Swift client**, please open an issue [there](https://github.com/socketio/socket.io-client-swift).\r\n\r\nFor bug reports and feature requests for the **Java client**, please open an issue [there](https://github.com/socketio/socket.io-client-java).\r\n\r\n### You want to:WebSocket is closed before the connection is established.\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n**Note**: the best way (and by that we mean **the only way**) to get a quick answer is to provide a failing test case by forking the following [fiddle](https://github.com/socketio/socket.io-fiddle).\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\n\r\n### Setup\r\n- OS:\r\n- browser:\r\n- socket.io version:\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3518", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3518/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3518/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3518/events", "html_url": "https://github.com/socketio/socket.io/issues/3518", "id": 524802089, "node_id": "MDU6SXNzdWU1MjQ4MDIwODk=", "number": 3518, "title": "From global scope, how to resassign a reference variable declared inside the connection event?", "user": {"login": "MelerEcckmanLawler", "id": 34365491, "node_id": "MDQ6VXNlcjM0MzY1NDkx", "avatar_url": "https://avatars0.githubusercontent.com/u/34365491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MelerEcckmanLawler", "html_url": "https://github.com/MelerEcckmanLawler", "followers_url": "https://api.github.com/users/MelerEcckmanLawler/followers", "following_url": "https://api.github.com/users/MelerEcckmanLawler/following{/other_user}", "gists_url": "https://api.github.com/users/MelerEcckmanLawler/gists{/gist_id}", "starred_url": "https://api.github.com/users/MelerEcckmanLawler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MelerEcckmanLawler/subscriptions", "organizations_url": "https://api.github.com/users/MelerEcckmanLawler/orgs", "repos_url": "https://api.github.com/users/MelerEcckmanLawler/repos", "events_url": "https://api.github.com/users/MelerEcckmanLawler/events{/privacy}", "received_events_url": "https://api.github.com/users/MelerEcckmanLawler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-19T06:26:30Z", "updated_at": "2019-11-19T06:48:09Z", "closed_at": "2019-11-19T06:48:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "`io.on('connection', socket => { let reference = new Object() })`\r\n\r\nFrom global scope, how can I reassign `reference` without changing its scope?\r\n\r\nI know the `socket.id` of the socket object involved.  I know I can access that socket's functions with `io.sockets.connected[socket.id]._events` but there is no `_variables` property.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3492", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3492/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3492/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3492/events", "html_url": "https://github.com/socketio/socket.io/issues/3492", "id": 499732202, "node_id": "MDU6SXNzdWU0OTk3MzIyMDI=", "number": 3492, "title": "Please help to run socket.io Node.JS server as https.", "user": {"login": "tiny0101", "id": 50229611, "node_id": "MDQ6VXNlcjUwMjI5NjEx", "avatar_url": "https://avatars3.githubusercontent.com/u/50229611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tiny0101", "html_url": "https://github.com/tiny0101", "followers_url": "https://api.github.com/users/tiny0101/followers", "following_url": "https://api.github.com/users/tiny0101/following{/other_user}", "gists_url": "https://api.github.com/users/tiny0101/gists{/gist_id}", "starred_url": "https://api.github.com/users/tiny0101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tiny0101/subscriptions", "organizations_url": "https://api.github.com/users/tiny0101/orgs", "repos_url": "https://api.github.com/users/tiny0101/repos", "events_url": "https://api.github.com/users/tiny0101/events{/privacy}", "received_events_url": "https://api.github.com/users/tiny0101/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-28T06:12:40Z", "updated_at": "2019-10-10T11:45:27Z", "closed_at": "2019-10-10T11:45:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3484", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3484/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3484/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3484/events", "html_url": "https://github.com/socketio/socket.io/issues/3484", "id": 489263407, "node_id": "MDU6SXNzdWU0ODkyNjM0MDc=", "number": 3484, "title": "Repeated connection and disconnection", "user": {"login": "ysk2014", "id": 8800042, "node_id": "MDQ6VXNlcjg4MDAwNDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8800042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysk2014", "html_url": "https://github.com/ysk2014", "followers_url": "https://api.github.com/users/ysk2014/followers", "following_url": "https://api.github.com/users/ysk2014/following{/other_user}", "gists_url": "https://api.github.com/users/ysk2014/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysk2014/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysk2014/subscriptions", "organizations_url": "https://api.github.com/users/ysk2014/orgs", "repos_url": "https://api.github.com/users/ysk2014/repos", "events_url": "https://api.github.com/users/ysk2014/events{/privacy}", "received_events_url": "https://api.github.com/users/ysk2014/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-04T16:21:28Z", "updated_at": "2019-10-10T22:24:03Z", "closed_at": "2019-10-10T03:18:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![image](https://user-images.githubusercontent.com/8800042/64272973-009d2c80-cf73-11e9-81e5-7181fbf3b1ed.png)\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3482", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3482/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3482/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3482/events", "html_url": "https://github.com/socketio/socket.io/issues/3482", "id": 487384155, "node_id": "MDU6SXNzdWU0ODczODQxNTU=", "number": 3482, "title": "[bug?] attributeChangedCallback in parent class cause child behave strange", "user": {"login": "zzzgit", "id": 1060733, "node_id": "MDQ6VXNlcjEwNjA3MzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1060733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzzgit", "html_url": "https://github.com/zzzgit", "followers_url": "https://api.github.com/users/zzzgit/followers", "following_url": "https://api.github.com/users/zzzgit/following{/other_user}", "gists_url": "https://api.github.com/users/zzzgit/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzzgit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzzgit/subscriptions", "organizations_url": "https://api.github.com/users/zzzgit/orgs", "repos_url": "https://api.github.com/users/zzzgit/repos", "events_url": "https://api.github.com/users/zzzgit/events{/privacy}", "received_events_url": "https://api.github.com/users/zzzgit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-30T09:28:35Z", "updated_at": "2019-08-30T09:37:52Z", "closed_at": "2019-08-30T09:37:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "`EnhancedElement .js`:\r\n\r\n```js\r\nclass EnhancedElement extends LitElement {\r\n\tattributeChangedCallback(attr, oldValue, newValue) {}\r\n}\r\n```\r\n\r\n`Record.js`:\r\n\r\n```js\r\nclass Record extends EnhancedElement {\r\n\tstatic get properties() {\r\n\t\treturn {\r\n\t\t\tmsg: {type: String},\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<div>\r\n\t\t\t\t<span>the message I received via attribute 'msg': </span>\r\n\t\t\t\t<span style=\"color: red\">${this.msg}</span>\r\n\t\t</div>\r\n\t\t`\r\n\t}\r\n}\r\n\r\ncustomElements.define('lit-record', Record)\r\n```\r\n\r\n`app.js`:\r\n\r\n```js\r\nclass App extends EnhancedElement {\r\n\trender() {\r\n\t\treturn html`\r\n\t\t\t<lit-record msg=\"Sola fide\"></lit-record>\r\n\t\t`\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI defined a base class `EnhancedElement`, it has an empty `attributeChangedCallback` method.\r\nAnd then I make every component to extend it.\r\n\r\nThe problem is that I can't receive data in `Record.js` via the attribute `msg`.  I think it is caused by the empty method `attributeChangedCallback` in the parent class.\r\n\r\nIf I comment it out, everything will be OK.\r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3475", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3475/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3475/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3475/events", "html_url": "https://github.com/socketio/socket.io/issues/3475", "id": 480030011, "node_id": "MDU6SXNzdWU0ODAwMzAwMTE=", "number": 3475, "title": "Socket.io server not receiving 'disconnect' event when client goes offline on pre Lollipop Android devices.", "user": {"login": "hashirsarwar", "id": 45683359, "node_id": "MDQ6VXNlcjQ1NjgzMzU5", "avatar_url": "https://avatars2.githubusercontent.com/u/45683359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hashirsarwar", "html_url": "https://github.com/hashirsarwar", "followers_url": "https://api.github.com/users/hashirsarwar/followers", "following_url": "https://api.github.com/users/hashirsarwar/following{/other_user}", "gists_url": "https://api.github.com/users/hashirsarwar/gists{/gist_id}", "starred_url": "https://api.github.com/users/hashirsarwar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hashirsarwar/subscriptions", "organizations_url": "https://api.github.com/users/hashirsarwar/orgs", "repos_url": "https://api.github.com/users/hashirsarwar/repos", "events_url": "https://api.github.com/users/hashirsarwar/events{/privacy}", "received_events_url": "https://api.github.com/users/hashirsarwar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-13T08:38:37Z", "updated_at": "2019-08-13T12:00:32Z", "closed_at": "2019-08-13T12:00:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have made a simple TCP connection using socket.io where the clients are android devices. My code for server-side is:\r\n\r\n    var express = require('express')()\r\n    var http = require('http').Server(express)\r\n    var io = require('socket.io')(http, {pingInterval: 5000, pingTimeout: 2500})\r\n    \r\n    io.on('connection', function(socket){\r\n        console.log('user connected ' + socket.id)\r\n    \r\n        socket.on('disconnect', function(){\r\n            console.log('user disconnecting ' + socket.id)\r\n        })\r\n    })\r\n    \r\n    http.listen(3000, function(){\r\n        console.log('listening to port 3000')\r\n    })\r\n\r\nI am simply testing two socket.io events, `connection` and `disconnect`. They are working normally on devices having Android 5.0 or higher.\r\n\r\nThe problem is, when socket is connected on below 5.0 devices, and WIFI is turned off or internet connection goes down for some reason, the disconnect event is not triggered **until I clear the app from the RAM**. Does anyone have an idea what is going wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3473", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3473/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3473/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3473/events", "html_url": "https://github.com/socketio/socket.io/issues/3473", "id": 476434783, "node_id": "MDU6SXNzdWU0NzY0MzQ3ODM=", "number": 3473, "title": "cant connect to socket io after scaling", "user": {"login": "CalmAndCoDe", "id": 33951142, "node_id": "MDQ6VXNlcjMzOTUxMTQy", "avatar_url": "https://avatars0.githubusercontent.com/u/33951142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CalmAndCoDe", "html_url": "https://github.com/CalmAndCoDe", "followers_url": "https://api.github.com/users/CalmAndCoDe/followers", "following_url": "https://api.github.com/users/CalmAndCoDe/following{/other_user}", "gists_url": "https://api.github.com/users/CalmAndCoDe/gists{/gist_id}", "starred_url": "https://api.github.com/users/CalmAndCoDe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CalmAndCoDe/subscriptions", "organizations_url": "https://api.github.com/users/CalmAndCoDe/orgs", "repos_url": "https://api.github.com/users/CalmAndCoDe/repos", "events_url": "https://api.github.com/users/CalmAndCoDe/events{/privacy}", "received_events_url": "https://api.github.com/users/CalmAndCoDe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-08-03T09:38:59Z", "updated_at": "2019-08-28T13:34:13Z", "closed_at": "2019-08-28T09:43:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "## i cant connect to my socket io server after scalling\r\n\r\nhello, i recently used socket io with redis for sharing the socket session between multiple instances,\r\nit works well with the one instance but when i scale it to two or more it gets in the reconnection loop \r\nand it cant connect,\r\n\r\nany help would be appreciated\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3463", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3463/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3463/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3463/events", "html_url": "https://github.com/socketio/socket.io/issues/3463", "id": 462830434, "node_id": "MDU6SXNzdWU0NjI4MzA0MzQ=", "number": 3463, "title": "Why does socket.io uses a js implementation of xmlhttprequest?", "user": {"login": "zardilior", "id": 8218137, "node_id": "MDQ6VXNlcjgyMTgxMzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8218137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zardilior", "html_url": "https://github.com/zardilior", "followers_url": "https://api.github.com/users/zardilior/followers", "following_url": "https://api.github.com/users/zardilior/following{/other_user}", "gists_url": "https://api.github.com/users/zardilior/gists{/gist_id}", "starred_url": "https://api.github.com/users/zardilior/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zardilior/subscriptions", "organizations_url": "https://api.github.com/users/zardilior/orgs", "repos_url": "https://api.github.com/users/zardilior/repos", "events_url": "https://api.github.com/users/zardilior/events{/privacy}", "received_events_url": "https://api.github.com/users/zardilior/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-01T17:34:53Z", "updated_at": "2019-07-12T02:01:38Z", "closed_at": "2019-07-12T02:01:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "question\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3461", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3461/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3461/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3461/events", "html_url": "https://github.com/socketio/socket.io/issues/3461", "id": 461746713, "node_id": "MDU6SXNzdWU0NjE3NDY3MTM=", "number": 3461, "title": "socket.io failing over time for Chrome and Firefox", "user": {"login": "kunalchaudhary23", "id": 23621635, "node_id": "MDQ6VXNlcjIzNjIxNjM1", "avatar_url": "https://avatars1.githubusercontent.com/u/23621635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kunalchaudhary23", "html_url": "https://github.com/kunalchaudhary23", "followers_url": "https://api.github.com/users/kunalchaudhary23/followers", "following_url": "https://api.github.com/users/kunalchaudhary23/following{/other_user}", "gists_url": "https://api.github.com/users/kunalchaudhary23/gists{/gist_id}", "starred_url": "https://api.github.com/users/kunalchaudhary23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kunalchaudhary23/subscriptions", "organizations_url": "https://api.github.com/users/kunalchaudhary23/orgs", "repos_url": "https://api.github.com/users/kunalchaudhary23/repos", "events_url": "https://api.github.com/users/kunalchaudhary23/events{/privacy}", "received_events_url": "https://api.github.com/users/kunalchaudhary23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2111669362, "node_id": "MDU6TGFiZWwyMTExNjY5MzYy", "url": "https://api.github.com/repos/socketio/socket.io/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-27T20:59:41Z", "updated_at": "2020-07-09T11:46:42Z", "closed_at": "2020-07-09T11:07:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nWe cannot reproduce this reliably, but this is a description of our server setup and issue.\r\n\r\nWe are running socket.io 2.2.0 on a Node.JS/Express server.\r\n\r\nAfter about 12 hours our server does not respond to emissions from clients on desktop Chrome and Firefox. It continues to function on Edge, Safari, and mobile Chrome/Safari.\r\n\r\nFor example:\r\n\r\nServer: \r\n\r\n    io.on('connection', (socket) => {\r\n        socket.on(\u2018test\u2019, (data) => {\r\n           console.log(\u201cThis is a test\u201d)\r\n        })\r\n    })\r\n\r\n\r\nClient:\r\n\r\n`this.socket.emit(\u2018test\u2019)`\r\n\r\nIn this example, we see the expected behavior during the first 12 or so hours of the server\u2019s uptime. \u201cThis is a test\u201d is fired as soon as the client emits.\r\n\r\nAfter that, perhaps due to gradual load on the server (though we typically never have more than 20 clients connected at once), the server stops listening to the client. Despite verifying that the client has emitted \u2018test\u2019, the server never logs \u201cThis is a test\u201d. Again, this only occurs on desktop Chrome and desktop Firefox. \u2028\r\n\r\nThis seems odd because if the server was overloaded - it should recover when the number of clients goes down. In addition, why would excess load suddenly permanently disable the ability for Chrome and Firefox to send emissions to our server? We know that the websocket connection is being established from the client by looking at the network logs. We also see that the connection is sending pings but never receiving pongs from the server.\r\n\r\n### Expected behaviour\r\n\r\nChrome and Firefox sockets continue to operate as normal.\r\n\r\n### Setup\r\n- OS: Ubuntu 18.04\r\n- browser: Desktop Chrome, Desktop Firefox\r\n- socket.io version: 2.2.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3460", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3460/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3460/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3460/events", "html_url": "https://github.com/socketio/socket.io/issues/3460", "id": 460898585, "node_id": "MDU6SXNzdWU0NjA4OTg1ODU=", "number": 3460, "title": "can't access an object's properties after passing into a socket", "user": {"login": "ctfrancia", "id": 32075725, "node_id": "MDQ6VXNlcjMyMDc1NzI1", "avatar_url": "https://avatars1.githubusercontent.com/u/32075725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctfrancia", "html_url": "https://github.com/ctfrancia", "followers_url": "https://api.github.com/users/ctfrancia/followers", "following_url": "https://api.github.com/users/ctfrancia/following{/other_user}", "gists_url": "https://api.github.com/users/ctfrancia/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctfrancia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctfrancia/subscriptions", "organizations_url": "https://api.github.com/users/ctfrancia/orgs", "repos_url": "https://api.github.com/users/ctfrancia/repos", "events_url": "https://api.github.com/users/ctfrancia/events{/privacy}", "received_events_url": "https://api.github.com/users/ctfrancia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-26T10:49:43Z", "updated_at": "2019-06-26T11:07:07Z", "closed_at": "2019-06-26T11:07:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Note**: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\nFor bug reports and feature requests for the **Swift client**, please open an issue [there](https://github.com/socketio/socket.io-client-swift).\r\n\r\nFor bug reports and feature requests for the **Java client**, please open an issue [there](https://github.com/socketio/socket.io-client-java).\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\nI can't access an object's key/value pair after passing it into the socket.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n**Note**: the best way (and by that we mean **the only way**) to get a quick answer is to provide a failing test case by forking the following [fiddle](https://github.com/socketio/socket.io-fiddle).\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\n\r\n\r\n### Setup\r\n- OS: Mojave 10.14.5\r\n- browser: Chrome\r\n- socket.io version: 2.2.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n```\r\nconst io = require('../chat.index').io;\r\nconst redis = require('socket.io-redis');\r\nconst globalUsers = {};\r\n\r\nio.adapter(redis({host: '127.0.0.1', port: 6379}));\r\n\r\n/* object sent in\r\n{\r\n  recipient: \"christian\",\r\n  content: \"hi\"\r\n}\r\n*/\r\nmodule.exports = socket =>  {\r\n  socket.on('message', (data, callback) => {\r\n    const { recipient } = data;\r\n    console.log('data --> ', data); // <--- Object that was sent in\r\n    console.log('recipient -->', recipient); // <-- undefined\r\n    console.log('data.recipient -->', data.recipient); //<-- undefined\r\n    console.log('globalUsers -->', globalUsers); //<---object of users\r\n    if (recipient in globalUsers) {\r\n        socket.to(globalUsers[recipient]).volatile.emit('message', data);\r\n    } else {\r\n      console.log('not found :(', globalUsers); //<--- always here since undefined\r\n    }\r\n  });\r\n}\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3458", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3458/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3458/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3458/events", "html_url": "https://github.com/socketio/socket.io/issues/3458", "id": 458182561, "node_id": "MDU6SXNzdWU0NTgxODI1NjE=", "number": 3458, "title": "Socket.io sends binary data larger than the size of the sending JSON!", "user": {"login": "Despoinis", "id": 32699474, "node_id": "MDQ6VXNlcjMyNjk5NDc0", "avatar_url": "https://avatars1.githubusercontent.com/u/32699474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Despoinis", "html_url": "https://github.com/Despoinis", "followers_url": "https://api.github.com/users/Despoinis/followers", "following_url": "https://api.github.com/users/Despoinis/following{/other_user}", "gists_url": "https://api.github.com/users/Despoinis/gists{/gist_id}", "starred_url": "https://api.github.com/users/Despoinis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Despoinis/subscriptions", "organizations_url": "https://api.github.com/users/Despoinis/orgs", "repos_url": "https://api.github.com/users/Despoinis/repos", "events_url": "https://api.github.com/users/Despoinis/events{/privacy}", "received_events_url": "https://api.github.com/users/Despoinis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-19T19:14:59Z", "updated_at": "2020-01-04T06:48:37Z", "closed_at": "2020-01-04T06:48:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n![QQ\u622a\u56fe20190620025919](https://user-images.githubusercontent.com/32699474/59793775-f53e4b80-9309-11e9-813c-293d56dba876.png)\r\nI found that when sending binary data, it automatically sends a JSON first, and the first byte at the beginning is fixed at 04.\r\nOnline games send 60 frames of data per second, which will be very large, at least 2KB was wasted per second. Is there a way to not send that JSON automatically?\r\n\r\n socket.on('connect', function () {\r\n      socket.emit('init',[1,2,3]);\r\n  });\r\n\r\nio.on('connection', function (socket) {\r\n    socket.emit(\"foo\",new Uint8Array([1,2,3]).buffer);\r\n    socket.emit(\"foo\",new Uint8Array([1,2,3]).buffer);\r\n});\r\n\r\n\"socket.io\": \"^2.2.0\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3451", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3451/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3451/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3451/events", "html_url": "https://github.com/socketio/socket.io/issues/3451", "id": 450166868, "node_id": "MDU6SXNzdWU0NTAxNjY4Njg=", "number": 3451, "title": "io.of(nsp).to(room).emit(xxx) failed", "user": {"login": "canvs", "id": 9331790, "node_id": "MDQ6VXNlcjkzMzE3OTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/9331790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/canvs", "html_url": "https://github.com/canvs", "followers_url": "https://api.github.com/users/canvs/followers", "following_url": "https://api.github.com/users/canvs/following{/other_user}", "gists_url": "https://api.github.com/users/canvs/gists{/gist_id}", "starred_url": "https://api.github.com/users/canvs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/canvs/subscriptions", "organizations_url": "https://api.github.com/users/canvs/orgs", "repos_url": "https://api.github.com/users/canvs/repos", "events_url": "https://api.github.com/users/canvs/events{/privacy}", "received_events_url": "https://api.github.com/users/canvs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-30T07:18:04Z", "updated_at": "2019-06-05T09:14:32Z", "closed_at": "2019-06-05T01:53:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n- [x] report a *bug*\r\n- [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\ni want to send message to clients  from my node service\r\nso i use \r\n``\r\nio.of('/').to(room).emit('event', data)\r\n``\r\n\r\nsometimes i got the message but sometimes nothing happens\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n```\r\n//connection.js\r\nconst nsp = io.of('/notify');\r\nconst callback = async (socket)=>{\r\n    await socket.join('room')\r\n    // and so on\r\n}\r\nnsp.on('connection', callback)\r\n\r\n// notify.js\r\nconst nsp = io.of('/notify')\r\nnsp.in('room').clients(function (error, clients) {\r\n\tif (error) throw error;\r\n\tlogger.info('room', clients)\r\n});\t\t\t\t\t\t\r\nnsp.to('room').emit('event', data))\r\n```\r\n\r\n\r\n\r\n### Expected behaviour\r\n\r\ni expect the clients receive the message from service\r\n\r\nin fact  \r\n\r\nlogger sometimes  was empty array [] but sometimes with socket_id in there\r\n\r\n\r\n2019-05-30 14:56:20,029 INFO 7202 room []\r\n2019-05-30 14:56:20,030 INFO 7202 message sending to clients\r\n2019-05-30 14:56:20,030 INFO 7202 over\r\n2019-05-30 15:00:10,037 INFO 7208 room [ '/notify#xcbB2k6zBGQV2oyFAAAH' ]\r\n2019-05-30 15:00:10,039 INFO 7208 message sending to clients\r\n\r\nthe client received the message sometimes and most of them was missed\r\n\r\n\r\n\r\n\r\n\r\n### Setup\r\n\r\n- OS: \r\n- browser: node 10.4.1\r\n- socket.io version: 2.2.0\r\n\r\n### ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3446", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3446/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3446/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3446/events", "html_url": "https://github.com/socketio/socket.io/issues/3446", "id": 444720871, "node_id": "MDU6SXNzdWU0NDQ3MjA4NzE=", "number": 3446, "title": "Socket orrcurred error when connect to dynamic namespace", "user": {"login": "vungoccuong", "id": 32713077, "node_id": "MDQ6VXNlcjMyNzEzMDc3", "avatar_url": "https://avatars0.githubusercontent.com/u/32713077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vungoccuong", "html_url": "https://github.com/vungoccuong", "followers_url": "https://api.github.com/users/vungoccuong/followers", "following_url": "https://api.github.com/users/vungoccuong/following{/other_user}", "gists_url": "https://api.github.com/users/vungoccuong/gists{/gist_id}", "starred_url": "https://api.github.com/users/vungoccuong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vungoccuong/subscriptions", "organizations_url": "https://api.github.com/users/vungoccuong/orgs", "repos_url": "https://api.github.com/users/vungoccuong/repos", "events_url": "https://api.github.com/users/vungoccuong/events{/privacy}", "received_events_url": "https://api.github.com/users/vungoccuong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-16T02:10:06Z", "updated_at": "2019-05-17T02:18:06Z", "closed_at": "2019-05-17T02:18:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nNamespace is hang when use with dynamic namespace . I cant receive event to one but esle still receive new event .\r\nThere is debug of error namespace , client cant receive ack .\r\n![error](https://user-images.githubusercontent.com/32713077/57820683-f84c9600-77b7-11e9-8e6b-ac0cc8ee7a79.png)\r\nBut else if it success\r\n![success](https://user-images.githubusercontent.com/32713077/57820750-3649ba00-77b8-11e9-80fe-9b7ab565b46a.png)\r\n\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nAll problem can be resolved if i restart my server . But when i switch between namespace in client session . I will happen .\r\nThere is my namespace config.\r\n```javascript\r\n    const nsp = io.of(/\\/support\\*[\\w-]+/);\r\n    //auth middleware\r\n    nsp.use(helpers.common.disconnectEvent());\r\n    nsp.use(authMiddleware.jwt());\r\n```\r\n\r\n### Expected behaviour\r\n\r\n*What is expected?*\r\n\r\n### Setup\r\n- OS: Centos 7\r\n- browser: Chrome\r\n- socket.io version:  server: \"socket.io\": \"^2.2.0\", client : \"socket.io-client\": \"^2.2.0\",\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3435", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3435/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3435/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3435/events", "html_url": "https://github.com/socketio/socket.io/issues/3435", "id": 437989735, "node_id": "MDU6SXNzdWU0Mzc5ODk3MzU=", "number": 3435, "title": "Socket (server side) emits more than one message", "user": {"login": "Un-knownCoder", "id": 34581283, "node_id": "MDQ6VXNlcjM0NTgxMjgz", "avatar_url": "https://avatars0.githubusercontent.com/u/34581283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Un-knownCoder", "html_url": "https://github.com/Un-knownCoder", "followers_url": "https://api.github.com/users/Un-knownCoder/followers", "following_url": "https://api.github.com/users/Un-knownCoder/following{/other_user}", "gists_url": "https://api.github.com/users/Un-knownCoder/gists{/gist_id}", "starred_url": "https://api.github.com/users/Un-knownCoder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Un-knownCoder/subscriptions", "organizations_url": "https://api.github.com/users/Un-knownCoder/orgs", "repos_url": "https://api.github.com/users/Un-knownCoder/repos", "events_url": "https://api.github.com/users/Un-knownCoder/events{/privacy}", "received_events_url": "https://api.github.com/users/Un-knownCoder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-27T22:19:36Z", "updated_at": "2019-04-29T08:43:30Z", "closed_at": "2019-04-29T08:43:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have this problem: I built a server (using **ExpressJS** and **SocketIO**) and, when a client requests something (through `io().emit(...)`), then the server response is sent more times than expected...\r\n\r\nIn other words, when the server send a response for the first time, it sends it only once... at the second time it sends it twice, and so on\r\n\r\nDid someone experienced this problem before, I just can't fix it \ud83d\ude2b", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3433", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3433/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3433/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3433/events", "html_url": "https://github.com/socketio/socket.io/issues/3433", "id": 436238858, "node_id": "MDU6SXNzdWU0MzYyMzg4NTg=", "number": 3433, "title": "Old listeners listen when disconnected", "user": {"login": "TGamingStudio", "id": 45291673, "node_id": "MDQ6VXNlcjQ1MjkxNjcz", "avatar_url": "https://avatars3.githubusercontent.com/u/45291673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TGamingStudio", "html_url": "https://github.com/TGamingStudio", "followers_url": "https://api.github.com/users/TGamingStudio/followers", "following_url": "https://api.github.com/users/TGamingStudio/following{/other_user}", "gists_url": "https://api.github.com/users/TGamingStudio/gists{/gist_id}", "starred_url": "https://api.github.com/users/TGamingStudio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TGamingStudio/subscriptions", "organizations_url": "https://api.github.com/users/TGamingStudio/orgs", "repos_url": "https://api.github.com/users/TGamingStudio/repos", "events_url": "https://api.github.com/users/TGamingStudio/events{/privacy}", "received_events_url": "https://api.github.com/users/TGamingStudio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-23T15:03:27Z", "updated_at": "2019-05-01T12:31:33Z", "closed_at": "2019-05-01T12:31:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### I want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nAfter client disconnects and connects again the old listener still works with new socket id\r\n\r\n### Setup\r\n- NPM\r\n- Browser: Mozila in Winows\r\n- socket.io version: 2.2.0\r\n- Express + express- session\r\n\r\n```\r\napp.get(\"/test\", (req, res) => {\r\n res.render(\"test\")\r\n io.on(\"connection\", function(socket){\r\n   console.log(\"new connection: \" + socket.id)\r\n   console.log(io.sockets.sockets)\r\n })\r\n})\r\n```\r\n![picture](https://user-images.githubusercontent.com/45291673/56591640-60f58800-65e9-11e9-855c-a247cd8827d4.png)\r\n\r\nAs you can see first connection is there once, \r\nsecond connection appears twice but in io.sockets is only once the new one\r\nwith every connection new connection dupes (old listener stays with new id)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3430", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3430/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3430/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3430/events", "html_url": "https://github.com/socketio/socket.io/issues/3430", "id": 432289489, "node_id": "MDU6SXNzdWU0MzIyODk0ODk=", "number": 3430, "title": "socket.io initial startup drops messages, broadcasts room messages to all clients", "user": {"login": "ccurtis0", "id": 1854842, "node_id": "MDQ6VXNlcjE4NTQ4NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1854842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccurtis0", "html_url": "https://github.com/ccurtis0", "followers_url": "https://api.github.com/users/ccurtis0/followers", "following_url": "https://api.github.com/users/ccurtis0/following{/other_user}", "gists_url": "https://api.github.com/users/ccurtis0/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccurtis0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccurtis0/subscriptions", "organizations_url": "https://api.github.com/users/ccurtis0/orgs", "repos_url": "https://api.github.com/users/ccurtis0/repos", "events_url": "https://api.github.com/users/ccurtis0/events{/privacy}", "received_events_url": "https://api.github.com/users/ccurtis0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-11T22:12:04Z", "updated_at": "2019-04-12T14:04:32Z", "closed_at": "2019-04-12T14:04:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nI'm being lazy and combining multiple issues because I'm not sure everything I'm seeing is a bug. The first issue is that the initial broadcast messages from the server are not being sent. The second is that messages from the server are escaping their rooms and being broadcast to all connected clients.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nI forked the fiddle but have only cut-n-pasted my client and server code; I don't have an easy way to access github to test it right now: https://github.com/ccurtis0/socket.io-fiddle\r\n\r\nHere is the core client code:\r\n\r\n```\r\nclient.on( 'message', function() {\r\n        console.log( 'Got message:', ...arguments );\r\n});\r\n\r\n```\r\nHere is the core server code:\r\n\r\n```\r\nconst room1 = server.to('ROOM1');               // server.to:room1\r\nconst room2 = server.of('/').in('ROOM2');       // server.in:room2\r\nconsole.log( 'Ready for connections on port: %s', port );\r\n\r\nserver.on( 'connection', function() {\r\n        setTimeout( emitData, 5000 );\r\n});\r\n\r\nfunction emitData() {\r\n        console.log( 'Got connection, emitting data...' );\r\n\r\n        server.emit( 'message', 'data emit global' );   // global\r\n        room1.emit( 'message', 'data emit to room1' );\r\n        room2.emit( 'message', 'data emit in room2' );\r\n\r\n        const room3 = server.to('ROOM3');       // server.to:room3\r\n        const room4 = server.in('ROOM4');       // server.in:room4\r\n        room3.emit( 'message', 'data emit to room3' );\r\n        room4.emit( 'message', 'data emit in room4' );\r\n\r\n        server.to('ROOM5').emit( 'message', 'to5' );  // to:room5\r\n        server.in('ROOM6').emit( 'message', 'in6' );  // in:room6\r\n\r\n        server.emit( 'message', 'data2 emit global' );  // global\r\n}\r\n```\r\n\r\n### Expected behaviour\r\n\r\nI expect the client to print:\r\n\r\n\r\n> data emit global\r\n> data2 emit global\r\n> \r\n\r\n\r\n### Setup\r\n- OS: Linux (Ubuntu 18.10)\r\n- browser: nodejs v8.10.0\r\n- socket.io version: 2.2.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nWhat the client actually prints is the following:\r\n\r\n> Got message: data emit to room1\r\n> Got message: data emit in room2\r\n> Got message: data emit in room4\r\n> Got message: data2 emit global\r\n> \r\n\r\nWhat baffles me is:\r\n* What happened to the first broadcast?\r\n* Why does room1 fail (emit) while room3 works (is filtered)\r\n* Why does room4 behave differently from room6? \r\n\r\nWhat the server with `DEBUG=*` prints:\r\n\r\n```\r\nGot connection, emitting data...\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"data emit global\"],\"nsp\":\"/\"} +5s\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"data emit global\"],\"nsp\":\"/\"} as 2[\"message\",\"data emit global\"] +1ms\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"data emit to room1\"],\"nsp\":\"/\"} +2ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"data emit to room1\"],\"nsp\":\"/\"} as 2[\"message\",\"data emit to room1\"] +0ms\r\n  socket.io:client writing packet [\"2[\\\"message\\\",\\\"data emit to room1\\\"]\"] +5s\r\n  engine:socket sending packet \"message\" (2[\"message\",\"data emit to room1\"]) +5s\r\n  engine:socket flushing buffer to transport +1ms\r\n  engine:ws writing \"42[\"message\",\"data emit to room1\"]\" +5s\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"data emit in room2\"],\"nsp\":\"/\"} +6ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"data emit in room2\"],\"nsp\":\"/\"} as 2[\"message\",\"data emit in room2\"] +0ms\r\n  socket.io:client writing packet [\"2[\\\"message\\\",\\\"data emit in room2\\\"]\"] +5ms\r\n  engine:socket sending packet \"message\" (2[\"message\",\"data emit in room2\"]) +3ms\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"data emit to room3\"],\"nsp\":\"/\"} +2ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"data emit to room3\"],\"nsp\":\"/\"} as 2[\"message\",\"data emit to room3\"] +0ms\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"data emit in room4\"],\"nsp\":\"/\"} +0ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"data emit in room4\"],\"nsp\":\"/\"} as 2[\"message\",\"data emit in room4\"] +0ms\r\n  socket.io:client writing packet [\"2[\\\"message\\\",\\\"data emit in room4\\\"]\"] +1ms\r\n  engine:socket sending packet \"message\" (2[\"message\",\"data emit in room4\"]) +1ms\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"to5\"],\"nsp\":\"/\"} +1ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"to5\"],\"nsp\":\"/\"} as 2[\"message\",\"to5\"] +0ms\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"in6\"],\"nsp\":\"/\"} +0ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"in6\"],\"nsp\":\"/\"} as 2[\"message\",\"in6\"] +0ms\r\n  socket.io-parser encoding packet {\"type\":2,\"data\":[\"message\",\"data2 emit global\"],\"nsp\":\"/\"} +0ms\r\n  socket.io-parser encoded {\"type\":2,\"data\":[\"message\",\"data2 emit global\"],\"nsp\":\"/\"} as 2[\"message\",\"data2 emit global\"] +0ms\r\n  socket.io:client writing packet [\"2[\\\"message\\\",\\\"data2 emit global\\\"]\"] +2ms\r\n  engine:socket sending packet \"message\" (2[\"message\",\"data2 emit global\"]) +2ms\r\n  engine:socket flushing buffer to transport +0ms\r\n  engine:ws writing \"42[\"message\",\"data emit in room2\"]\" +6ms\r\n  engine:ws writing \"42[\"message\",\"data emit in room4\"]\" +0ms\r\n  engine:ws writing \"42[\"message\",\"data2 emit global\"]\" +1ms\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3425", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3425/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3425/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3425/events", "html_url": "https://github.com/socketio/socket.io/issues/3425", "id": 430181781, "node_id": "MDU6SXNzdWU0MzAxODE3ODE=", "number": 3425, "title": "Cannot install socket.io", "user": {"login": "BNolet", "id": 10198484, "node_id": "MDQ6VXNlcjEwMTk4NDg0", "avatar_url": "https://avatars1.githubusercontent.com/u/10198484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BNolet", "html_url": "https://github.com/BNolet", "followers_url": "https://api.github.com/users/BNolet/followers", "following_url": "https://api.github.com/users/BNolet/following{/other_user}", "gists_url": "https://api.github.com/users/BNolet/gists{/gist_id}", "starred_url": "https://api.github.com/users/BNolet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BNolet/subscriptions", "organizations_url": "https://api.github.com/users/BNolet/orgs", "repos_url": "https://api.github.com/users/BNolet/repos", "events_url": "https://api.github.com/users/BNolet/events{/privacy}", "received_events_url": "https://api.github.com/users/BNolet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-07T19:19:48Z", "updated_at": "2019-04-07T20:00:30Z", "closed_at": "2019-04-07T20:00:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n```\r\nUnhandled rejection Error: EACCES: permission denied, open '/home/brandon/.npm/_cacache/index-v5/11/d7/9a389bd7520ad1bcdc6a2a050876d7783dc3ec357143c6c6c7c8df92bd82'\r\n\r\nnpm ERR! cb() never called!\r\n\r\nnpm ERR! This is an error with npm itself. Please report this error at:\r\nnpm ERR!     <https://npm.community>\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/brandon/.npm/_logs/2019-04-07T19_11_38_508Z-debug.log\r\n```\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n`npm install socket.io`\r\n\r\n### Expected behaviour\r\n\r\n```\r\n+ socket.io@2.2.0\r\nadded 36 packages from 26 contributors and audited 228 packages in 2.433s\r\nfound 0 vulnerabilities\r\n```\r\n\r\n### Setup\r\n- OS: Linux/Ubuntu\r\n- browser: Not relevant\r\n- socket.io version: 2.2.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nIssue doesn't happen with most other packages so I figured maybe this is an issue with the socket.io package\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3412", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3412/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3412/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3412/events", "html_url": "https://github.com/socketio/socket.io/issues/3412", "id": 416333355, "node_id": "MDU6SXNzdWU0MTYzMzMzNTU=", "number": 3412, "title": "Server emit isn't being recognized by clients", "user": {"login": "callensm", "id": 13121516, "node_id": "MDQ6VXNlcjEzMTIxNTE2", "avatar_url": "https://avatars2.githubusercontent.com/u/13121516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/callensm", "html_url": "https://github.com/callensm", "followers_url": "https://api.github.com/users/callensm/followers", "following_url": "https://api.github.com/users/callensm/following{/other_user}", "gists_url": "https://api.github.com/users/callensm/gists{/gist_id}", "starred_url": "https://api.github.com/users/callensm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/callensm/subscriptions", "organizations_url": "https://api.github.com/users/callensm/orgs", "repos_url": "https://api.github.com/users/callensm/repos", "events_url": "https://api.github.com/users/callensm/events{/privacy}", "received_events_url": "https://api.github.com/users/callensm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-02T00:44:37Z", "updated_at": "2019-03-02T03:39:10Z", "closed_at": "2019-03-02T03:39:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a Typescript Next.js application that I'm writing and trying to incorporate Socket.io into the custom server architecture, but for some reason the connected sockets are receiving the server socket emissions.\r\n\r\nOn the server-side, I'm creating the Socket.io server using the standard http library server that is bootstrapped by an Express.js application like so:\r\n\r\n```ts\r\nconst server: http.Server = new http.Server(expressApp)\r\nconst io: socketIO.Server = socketIO(server, {\r\n  path: '/io-events',\r\n  serveClient: false\r\n})\r\n```\r\n...and on the client-side, I'm able to successfully connect to the socket server with:\r\n\r\n```ts\r\nconst socket = io({\r\n  path: '/io-events'\r\n})\r\n```\r\nSo the server and client sockets are connecting successfully, but when I emit the following event, nothing happens:\r\n\r\n```ts\r\nexpressApp.get('/auth/complete', (req: express.Request, res: express.Response) => {\r\n  const { ref, status } = req.query\r\n  io.of('/io-events').emit(\r\n    'auth_attempt',\r\n    JSON.stringify({ success: status === 'success', provider: ref })\r\n  )\r\n  res.send('You can now close this tab.')\r\n})\r\n\r\nio.on('connect', socket => {\r\n  console.log('New socket connection!')\r\n  socket.on('auth_attempt', (data: string) => {\r\n    console.log('AUTH_ATTEMPT event emitted!')\r\n    socket.emit('auth_attempt', data)\r\n  })\r\n})\r\n```\r\nThe /auth/complete route is an OAuth2 callback route for an attempted authentication whether it fails or succeeds.\r\n\r\nMaybe I'm missing something, but I've read the docs up and down and seem to be doing exactly what I should but the auth_attempt event is never received.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3411", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3411/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3411/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3411/events", "html_url": "https://github.com/socketio/socket.io/issues/3411", "id": 415524670, "node_id": "MDU6SXNzdWU0MTU1MjQ2NzA=", "number": 3411, "title": "socket.io-chat - BSD License not found", "user": {"login": "bodorjzsolt", "id": 29753735, "node_id": "MDQ6VXNlcjI5NzUzNzM1", "avatar_url": "https://avatars3.githubusercontent.com/u/29753735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bodorjzsolt", "html_url": "https://github.com/bodorjzsolt", "followers_url": "https://api.github.com/users/bodorjzsolt/followers", "following_url": "https://api.github.com/users/bodorjzsolt/following{/other_user}", "gists_url": "https://api.github.com/users/bodorjzsolt/gists{/gist_id}", "starred_url": "https://api.github.com/users/bodorjzsolt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bodorjzsolt/subscriptions", "organizations_url": "https://api.github.com/users/bodorjzsolt/orgs", "repos_url": "https://api.github.com/users/bodorjzsolt/repos", "events_url": "https://api.github.com/users/bodorjzsolt/events{/privacy}", "received_events_url": "https://api.github.com/users/bodorjzsolt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-28T09:27:15Z", "updated_at": "2019-03-15T21:22:36Z", "closed_at": "2019-03-15T21:22:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "In versio 2.1.0 and older of socket.io, some package.json files for socket.io-chat, version: 0.0.0, by author: Grant Timmerman, indicates \"license\": \"BSD\".\r\nI could not find the text of the license.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3406", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3406/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3406/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3406/events", "html_url": "https://github.com/socketio/socket.io/issues/3406", "id": 409427688, "node_id": "MDU6SXNzdWU0MDk0Mjc2ODg=", "number": 3406, "title": "Include Client application domain cookie in request header of Socket connection", "user": {"login": "HegdeSach", "id": 21358983, "node_id": "MDQ6VXNlcjIxMzU4OTgz", "avatar_url": "https://avatars0.githubusercontent.com/u/21358983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HegdeSach", "html_url": "https://github.com/HegdeSach", "followers_url": "https://api.github.com/users/HegdeSach/followers", "following_url": "https://api.github.com/users/HegdeSach/following{/other_user}", "gists_url": "https://api.github.com/users/HegdeSach/gists{/gist_id}", "starred_url": "https://api.github.com/users/HegdeSach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HegdeSach/subscriptions", "organizations_url": "https://api.github.com/users/HegdeSach/orgs", "repos_url": "https://api.github.com/users/HegdeSach/repos", "events_url": "https://api.github.com/users/HegdeSach/events{/privacy}", "received_events_url": "https://api.github.com/users/HegdeSach/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-12T17:59:00Z", "updated_at": "2019-12-02T08:59:42Z", "closed_at": "2019-02-18T09:21:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my application once the user is successfully authenticated, client side browser is set with proper cookie value (JWT Token).\r\nHow can I send that cookie as Request header during Socket Connection process so that server side code should be able to identify the sender of connection request.\r\n\r\nAny configuration available in Socket IO so that browser picks the cookie available and include it in request header like below,\r\n![image](https://user-images.githubusercontent.com/21358983/52657064-cc521800-2f1d-11e9-8328-085400f7204a.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3400", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3400/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3400/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3400/events", "html_url": "https://github.com/socketio/socket.io/issues/3400", "id": 405075191, "node_id": "MDU6SXNzdWU0MDUwNzUxOTE=", "number": 3400, "title": "json3 error in Electron, use SocketIO through webWorker", "user": {"login": "webees", "id": 5155291, "node_id": "MDQ6VXNlcjUxNTUyOTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5155291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webees", "html_url": "https://github.com/webees", "followers_url": "https://api.github.com/users/webees/followers", "following_url": "https://api.github.com/users/webees/following{/other_user}", "gists_url": "https://api.github.com/users/webees/gists{/gist_id}", "starred_url": "https://api.github.com/users/webees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webees/subscriptions", "organizations_url": "https://api.github.com/users/webees/orgs", "repos_url": "https://api.github.com/users/webees/repos", "events_url": "https://api.github.com/users/webees/events{/privacy}", "received_events_url": "https://api.github.com/users/webees/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-31T04:24:16Z", "updated_at": "2019-02-13T03:15:02Z", "closed_at": "2019-02-13T03:12:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n\r\n### Current behaviour\r\n\r\n ![_20190131120200](https://user-images.githubusercontent.com/5155291/52029869-229f7e00-2550-11e9-9be8-9fe718b82a1a.png) \r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nInstall electron-vue and hd-wallet, then:\r\n\r\n```\r\nimport { BitcoreBlockchain } from 'hd-wallet'\r\n\r\nimport SocketWorker from 'worker-loader?name=js/socketio-worker.[hash].js!hd-wallet/lib/socketio-worker/inside'\r\n\r\nconst blockchain = new BitcoreBlockchain(['https://btc4.trezor.io'], () => new SocketWorker())\r\n```\r\n\r\nhttps://github.com/trezor/hd-wallet\r\n\r\nhttps://github.com/bestiejs/json3/issues/86#issuecomment-459208375", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3396", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3396/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3396/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3396/events", "html_url": "https://github.com/socketio/socket.io/issues/3396", "id": 399172425, "node_id": "MDU6SXNzdWUzOTkxNzI0MjU=", "number": 3396, "title": "How to use both web ssh, web remote desktop, other websocks applications, or more, more simultaneous socket.io applications in a web container? Is there a sample? Thanks", "user": {"login": "hktalent", "id": 18223385, "node_id": "MDQ6VXNlcjE4MjIzMzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/18223385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hktalent", "html_url": "https://github.com/hktalent", "followers_url": "https://api.github.com/users/hktalent/followers", "following_url": "https://api.github.com/users/hktalent/following{/other_user}", "gists_url": "https://api.github.com/users/hktalent/gists{/gist_id}", "starred_url": "https://api.github.com/users/hktalent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hktalent/subscriptions", "organizations_url": "https://api.github.com/users/hktalent/orgs", "repos_url": "https://api.github.com/users/hktalent/repos", "events_url": "https://api.github.com/users/hktalent/events{/privacy}", "received_events_url": "https://api.github.com/users/hktalent/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T03:22:26Z", "updated_at": "2019-01-15T05:52:39Z", "closed_at": "2019-01-15T05:52:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to use both web ssh, web remote desktop, other websocks applications, or more, more simultaneous socket.io applications in a web container? Is there a sample? Thanks\r\n\r\n#798 #1567 #1610 #1761\r\n## server\r\n```\r\nvar io = require('socket.io')(server, {\r\n    // path:'/x',// set, so html error\r\n    secure: bUseHttps});\r\n\r\nio.on('connection', function(ioClt)\r\n{\r\nioClt.emit(\"onSsh\",szSsh);\r\n});\r\n// web ssh\r\nrequire('./ssh').mySSH(app,io);\r\n// win rip\r\nrequire('./mstsc')(server,io);\r\n\r\n```\r\n### client error\r\n```\r\nWebSocket connection to 'ws://127.0.0.1:3000/socket.io/?EIO=3&transport=websocket&sid=kjnsvEHwYSX2hTAIAAAB' failed: WebSocket is closed before the connection is established.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3387", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3387/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3387/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3387/events", "html_url": "https://github.com/socketio/socket.io/issues/3387", "id": 390626286, "node_id": "MDU6SXNzdWUzOTA2MjYyODY=", "number": 3387, "title": "io.to(testSocketId).emit('updatedDialog', 'you and I') is not working", "user": {"login": "Saiok", "id": 45095188, "node_id": "MDQ6VXNlcjQ1MDk1MTg4", "avatar_url": "https://avatars2.githubusercontent.com/u/45095188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saiok", "html_url": "https://github.com/Saiok", "followers_url": "https://api.github.com/users/Saiok/followers", "following_url": "https://api.github.com/users/Saiok/following{/other_user}", "gists_url": "https://api.github.com/users/Saiok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saiok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saiok/subscriptions", "organizations_url": "https://api.github.com/users/Saiok/orgs", "repos_url": "https://api.github.com/users/Saiok/repos", "events_url": "https://api.github.com/users/Saiok/events{/privacy}", "received_events_url": "https://api.github.com/users/Saiok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-12-13T11:01:45Z", "updated_at": "2018-12-20T05:18:50Z", "closed_at": "2018-12-20T05:18:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I think there is a BUG!\r\nI cant send private message to the user with some id.\r\n\r\n\r\n_server.js_\r\n***\r\n\t\t\tsocket.on('updateDialog', data => {\r\n\t\t\t\tconsole.log('receiver:     ', data.receiverId);\r\n\t\t\t\tlet details = {\"id\": data.id};\r\n\t\t\t\tlet chats = {id: data.id, dialog: data.dialog};\r\n\t\t\t\t\r\n\t\t\t\t// let socketID = \"5bd04d61a9f6ddd0cc23e51b\";\r\n\t\t\t\t\r\n\t\t\t\t// console.log(someTestData);\r\n\t\t\t\t\r\n\t\t\t\tdatabase.collection('onlineUsers').findOne({\"userId\": data.receiverId}, (err, item)=> {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tres.send(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttestSocketId = item.socketId;\r\n\t\t\t\t\tif(data.id) {\r\n\t\t\t\t\tdatabase.collection('chats').update(details, chats, (err, item)=>{\r\n\t\t\t\t\t\tif (err){\r\n\t\t\t\t\t\t\tconsole.log('error');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('testSocketId:         ', testSocketId);\r\n\t\t\t\t\t\t\tio.to(testSocketId).emit('updatedDialog', 'you and I');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n***\r\n\r\n\r\n_client.ts_\r\n***\r\n`this._chatService.socket.on('updatedDialog', (data) => {\r\n            console.log(data);\r\n            this.readyToReply();\r\n        });`\r\n***\r\n\r\nIf i replace the io.to(testSocketId).emit('updatedDialog', 'you and I') with io.to(socket.id).emit('updatedDialog', 'you and I') it works pretty well(message 'you and I' appears on my console). \r\nMy socket.io version:\r\n\"socket.io\": \"^2.2.0\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3386", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3386/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3386/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3386/events", "html_url": "https://github.com/socketio/socket.io/issues/3386", "id": 389890626, "node_id": "MDU6SXNzdWUzODk4OTA2MjY=", "number": 3386, "title": "Socket.io & Nodejs Not WOrking Over https ?", "user": {"login": "Mahmoud-Italy", "id": 17962343, "node_id": "MDQ6VXNlcjE3OTYyMzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/17962343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mahmoud-Italy", "html_url": "https://github.com/Mahmoud-Italy", "followers_url": "https://api.github.com/users/Mahmoud-Italy/followers", "following_url": "https://api.github.com/users/Mahmoud-Italy/following{/other_user}", "gists_url": "https://api.github.com/users/Mahmoud-Italy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mahmoud-Italy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mahmoud-Italy/subscriptions", "organizations_url": "https://api.github.com/users/Mahmoud-Italy/orgs", "repos_url": "https://api.github.com/users/Mahmoud-Italy/repos", "events_url": "https://api.github.com/users/Mahmoud-Italy/events{/privacy}", "received_events_url": "https://api.github.com/users/Mahmoud-Italy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-11T18:15:06Z", "updated_at": "2019-08-18T05:56:00Z", "closed_at": "2018-12-12T11:05:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "i have Code working fine with socket.io & node.js over http\r\nbut i need get over it over HTTPS\r\n\r\nLast Error : net::ERR_CERT_AUTHORITY_INVALID\r\nsomething wrong with certificates were i find , need find right one on server\r\ni'm using Server CentOs 6 & Cpanel WHM\r\n\r\n\r\nServer.js\r\n======\r\n<pre>\r\n// Dependencies\r\nconst fs = require('fs');\r\nconst https = require('https');\r\nconst express = require('express');\r\nconst app = express();\r\n\r\n// Certificate from server\r\n// const privateKey = fs.readFileSync('/etc/ssl/private/ftpd-rsa-key.pem', 'utf8');\r\n// const certificate = fs.readFileSync('/etc/ssl/private/ftpd-rsa.pem', 'utf8');\r\n// const ca = fs.readFileSync('/etc/ssl/private/ftpd-ca.pem', 'utf8');\r\n\r\n// Certificate were created from openssl command\r\nconst pkey = fs.readFileSync('ssl/key.pem', 'utf8');\r\nconst pcert = fs.readFileSync('ssl/cert.pem', 'utf8')\r\nconst pca = fs.readFileSync('ssl/csr.pem', 'utf8');\r\n\r\nconst credentials = {\r\n\tkey: pkey,\r\n\tcert: pcert,\r\n\tca: pca\r\n};\r\n\r\napp.use((req, res) => {\r\n\tres.send('Hello there !');\r\n});\r\n\r\nconst httpsServer = https.createServer(credentials, app);\r\n\r\nhttpsServer.listen(3530, () => {\r\n\tconsole.log('HTTPS Server running on port 3530');\r\n});\r\n</pre>\r\n\r\n\r\n\r\nClients JS\r\n=======\r\n<pre>\r\nvar socket = io.connect(\"https://domainName.com:3530\", { secure: true, reconnect: true, rejectUnauthorized : false });\r\n</pre>\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3385", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3385/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3385/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3385/events", "html_url": "https://github.com/socketio/socket.io/issues/3385", "id": 389259917, "node_id": "MDU6SXNzdWUzODkyNTk5MTc=", "number": 3385, "title": "socket.binary doesn't affect socket.ack", "user": {"login": "noam-arad", "id": 10695977, "node_id": "MDQ6VXNlcjEwNjk1OTc3", "avatar_url": "https://avatars0.githubusercontent.com/u/10695977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noam-arad", "html_url": "https://github.com/noam-arad", "followers_url": "https://api.github.com/users/noam-arad/followers", "following_url": "https://api.github.com/users/noam-arad/following{/other_user}", "gists_url": "https://api.github.com/users/noam-arad/gists{/gist_id}", "starred_url": "https://api.github.com/users/noam-arad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noam-arad/subscriptions", "organizations_url": "https://api.github.com/users/noam-arad/orgs", "repos_url": "https://api.github.com/users/noam-arad/repos", "events_url": "https://api.github.com/users/noam-arad/events{/privacy}", "received_events_url": "https://api.github.com/users/noam-arad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-12-10T11:33:07Z", "updated_at": "2018-12-18T13:27:27Z", "closed_at": "2018-12-18T13:27:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n\r\n### Current behaviour\r\n\r\nsocket.binary(false) \r\nis not used for \"socket.ack\" which can cause a 'RangeError: Maximum call stack size exceeded'\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n\r\n### Expected behaviour\r\n\r\nsocket.binary(false)\r\nwill avoid using hasBin.\r\n\r\n### Setup\r\n- OS: Ubuntu 14.0\r\n- browser: Chrome 69\r\n- socket.io version: 2.2.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3384", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3384/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3384/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3384/events", "html_url": "https://github.com/socketio/socket.io/issues/3384", "id": 387868087, "node_id": "MDU6SXNzdWUzODc4NjgwODc=", "number": 3384, "title": "Need Help on room emit ", "user": {"login": "fzp01717", "id": 9360179, "node_id": "MDQ6VXNlcjkzNjAxNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/9360179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fzp01717", "html_url": "https://github.com/fzp01717", "followers_url": "https://api.github.com/users/fzp01717/followers", "following_url": "https://api.github.com/users/fzp01717/following{/other_user}", "gists_url": "https://api.github.com/users/fzp01717/gists{/gist_id}", "starred_url": "https://api.github.com/users/fzp01717/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fzp01717/subscriptions", "organizations_url": "https://api.github.com/users/fzp01717/orgs", "repos_url": "https://api.github.com/users/fzp01717/repos", "events_url": "https://api.github.com/users/fzp01717/events{/privacy}", "received_events_url": "https://api.github.com/users/fzp01717/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-05T17:35:49Z", "updated_at": "2018-12-13T18:11:36Z", "closed_at": "2018-12-13T18:11:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am new to socket.io . Need Help on room emit. Suppose There is room name 'room-1'. There are 3 users joined the room-1.\r\n\r\n1. Jon\r\n2. Rakib\r\n3. Steve\r\n\r\n1 want's to send a message to 2 on room-1 and number 3 will not receive the message. \r\nHow can I achieve this? \r\n\r\nThanks in advance.\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3372", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3372/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3372/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3372/events", "html_url": "https://github.com/socketio/socket.io/issues/3372", "id": 381538302, "node_id": "MDU6SXNzdWUzODE1MzgzMDI=", "number": 3372, "title": "socket.io emits doesnt work after updating web page", "user": {"login": "Saiok", "id": 45095188, "node_id": "MDQ6VXNlcjQ1MDk1MTg4", "avatar_url": "https://avatars2.githubusercontent.com/u/45095188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saiok", "html_url": "https://github.com/Saiok", "followers_url": "https://api.github.com/users/Saiok/followers", "following_url": "https://api.github.com/users/Saiok/following{/other_user}", "gists_url": "https://api.github.com/users/Saiok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saiok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saiok/subscriptions", "organizations_url": "https://api.github.com/users/Saiok/orgs", "repos_url": "https://api.github.com/users/Saiok/repos", "events_url": "https://api.github.com/users/Saiok/events{/privacy}", "received_events_url": "https://api.github.com/users/Saiok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-16T10:25:25Z", "updated_at": "2018-12-14T10:23:49Z", "closed_at": "2018-12-14T10:23:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "socket.io emits doesnt work after updating web page", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3370", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3370/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3370/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3370/events", "html_url": "https://github.com/socketio/socket.io/issues/3370", "id": 380618905, "node_id": "MDU6SXNzdWUzODA2MTg5MDU=", "number": 3370, "title": "issue with connection to socket.io using Android App", "user": {"login": "Mahmoud-Italy", "id": 17962343, "node_id": "MDQ6VXNlcjE3OTYyMzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/17962343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mahmoud-Italy", "html_url": "https://github.com/Mahmoud-Italy", "followers_url": "https://api.github.com/users/Mahmoud-Italy/followers", "following_url": "https://api.github.com/users/Mahmoud-Italy/following{/other_user}", "gists_url": "https://api.github.com/users/Mahmoud-Italy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mahmoud-Italy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mahmoud-Italy/subscriptions", "organizations_url": "https://api.github.com/users/Mahmoud-Italy/orgs", "repos_url": "https://api.github.com/users/Mahmoud-Italy/repos", "events_url": "https://api.github.com/users/Mahmoud-Italy/events{/privacy}", "received_events_url": "https://api.github.com/users/Mahmoud-Italy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-14T09:56:50Z", "updated_at": "2018-12-11T19:26:55Z", "closed_at": "2018-12-11T19:26:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's work fine with web \r\nhttp://188.40.194.250:3400/\r\n\r\nnode -v \r\n  v10.13.0\r\nnpm -v\r\n  6.4.1\r\n\r\n\r\nNode Code\r\n======== \r\nserver.js\r\n<pre>\r\nvar express = require(\"express\");\r\nvar app = express();\r\nvar server = require(\"http\").createServer(app);\r\nvar io = require(\"socket.io\")(server);\r\n\r\napp.get(\"/\", function(req, res, next) {\r\n  res.sendFile(__dirname + \"/public/index.html\");\r\n});\r\n\r\napp.use(express.static(\"public\"));\r\n\r\nio.on(\"connection\", function(client) {\r\n  console.log(\"Client connected...\");\r\n\r\n  client.on(\"join\", function(data) {\r\n    console.log(data);\r\n  });\r\n\r\n  client.on(\"messages\", function(data) {\r\n    client.emit(\"thread\", data);\r\n    client.broadcast.emit(\"thread\", data);\r\n  });\r\n});\r\n\r\nserver.listen(3400);\r\n</pre>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nAndroid Code\r\n==========\r\n<pre>\r\n    implementation 'org.apache.commons:commons-io:1.3.2'\r\n    implementation ('com.github.nkzawa:socket.io-client:0.3.0') {\r\n// excluding org.json which is provided by Android\r\n        exclude group: 'org.json', module: 'json'\r\n    }\r\n\r\nSocket socket;\r\n    {\r\n        try{\r\n            socket =IO.socket(\"http://188.40.194.250:3400\");\r\n        }catch (URISyntaxException ex){\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n\r\n\r\nsocket.connect();\r\n       // socket.emit(\"msg\",\"yyyyyyyy\");\r\n       if (socket.connected()) {   \r\n         Toast.makeText(getApplicationContext(),\"\"+socket.connected(),Toast.LENGTH_LONG).show();\r\n }\r\n</pre>\r\n\r\n    ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3369", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3369/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3369/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3369/events", "html_url": "https://github.com/socketio/socket.io/issues/3369", "id": 380312692, "node_id": "MDU6SXNzdWUzODAzMTI2OTI=", "number": 3369, "title": "need any one please test socket.io on Android App ?", "user": {"login": "Mahmoud-Italy", "id": 17962343, "node_id": "MDQ6VXNlcjE3OTYyMzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/17962343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mahmoud-Italy", "html_url": "https://github.com/Mahmoud-Italy", "followers_url": "https://api.github.com/users/Mahmoud-Italy/followers", "following_url": "https://api.github.com/users/Mahmoud-Italy/following{/other_user}", "gists_url": "https://api.github.com/users/Mahmoud-Italy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mahmoud-Italy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mahmoud-Italy/subscriptions", "organizations_url": "https://api.github.com/users/Mahmoud-Italy/orgs", "repos_url": "https://api.github.com/users/Mahmoud-Italy/repos", "events_url": "https://api.github.com/users/Mahmoud-Italy/events{/privacy}", "received_events_url": "https://api.github.com/users/Mahmoud-Italy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-13T16:29:20Z", "updated_at": "2018-11-13T23:27:17Z", "closed_at": "2018-11-13T23:27:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "it's work fine at web   \r\nhttp://188.40.194.250:3400/\r\ni need just test this socket.io working with android app any help ?\r\n\r\nnode-v\r\n  v10.13.0\r\nnpm-v\r\n  6.4.1\r\n\r\n\r\nand i'm using pm2 packages to run socket at background\r\n<pre>\r\nName  | id | version | mode | fork | status | restart | uptime | cpu | mem | watching\r\nserver \u2502 0 \u2502 1.0.0 \u2502 fork \u2502 10055 \u2502 online \u2502 30 \u2502 13h \u2502 0% \u2502 34.9 MB \u2502 disabled\r\n</pre>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3368", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3368/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3368/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3368/events", "html_url": "https://github.com/socketio/socket.io/issues/3368", "id": 379412500, "node_id": "MDU6SXNzdWUzNzk0MTI1MDA=", "number": 3368, "title": " 'on' event can not be parallel", "user": {"login": "KhanFred", "id": 39260521, "node_id": "MDQ6VXNlcjM5MjYwNTIx", "avatar_url": "https://avatars2.githubusercontent.com/u/39260521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KhanFred", "html_url": "https://github.com/KhanFred", "followers_url": "https://api.github.com/users/KhanFred/followers", "following_url": "https://api.github.com/users/KhanFred/following{/other_user}", "gists_url": "https://api.github.com/users/KhanFred/gists{/gist_id}", "starred_url": "https://api.github.com/users/KhanFred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KhanFred/subscriptions", "organizations_url": "https://api.github.com/users/KhanFred/orgs", "repos_url": "https://api.github.com/users/KhanFred/repos", "events_url": "https://api.github.com/users/KhanFred/events{/privacy}", "received_events_url": "https://api.github.com/users/KhanFred/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-10T10:56:46Z", "updated_at": "2018-12-18T02:26:02Z", "closed_at": "2018-12-18T02:26:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found that the 'emit' event of socket.io can be parallel, but the 'on' event is blocked.\r\nThis is part of my code.\r\n\r\nclient.js\r\nsocket.emit('receiveMessage',data);\r\n\r\nserver.js\r\nsocket.on('receiveMessage',function(data){\r\n\tfor (var i = 0; i < obj.length; i++) {\r\n\t\tio.to(socket.id).emit(\"sendMessage\",obj[i]);\r\n\t}\r\n})\r\n\r\nWhen two cilents are connected to the server and the 'receiveMessage' event is sent, the server's 'receiveMessage' event will be triggered once after the previous trigger is finished, and the 'emit' event will run alternately.\r\nI want to know if the server can respond to the second 'receiveMessage' event while responding to the first 'receiveMessage' event, and then the event-triggered 'for' loop is running simultaneously.\r\nchild_process?cluster?\r\nthank you very much.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3367", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3367/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3367/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3367/events", "html_url": "https://github.com/socketio/socket.io/issues/3367", "id": 378680710, "node_id": "MDU6SXNzdWUzNzg2ODA3MTA=", "number": 3367, "title": "How to listen the event of ping in server side?", "user": {"login": "yqsailor", "id": 24997729, "node_id": "MDQ6VXNlcjI0OTk3NzI5", "avatar_url": "https://avatars1.githubusercontent.com/u/24997729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yqsailor", "html_url": "https://github.com/yqsailor", "followers_url": "https://api.github.com/users/yqsailor/followers", "following_url": "https://api.github.com/users/yqsailor/following{/other_user}", "gists_url": "https://api.github.com/users/yqsailor/gists{/gist_id}", "starred_url": "https://api.github.com/users/yqsailor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yqsailor/subscriptions", "organizations_url": "https://api.github.com/users/yqsailor/orgs", "repos_url": "https://api.github.com/users/yqsailor/repos", "events_url": "https://api.github.com/users/yqsailor/events{/privacy}", "received_events_url": "https://api.github.com/users/yqsailor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-08T11:00:28Z", "updated_at": "2018-11-20T10:53:15Z", "closed_at": "2018-11-20T10:53:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want listen all event of the client in server side? for example, I want listen the event of ping, what should i do?\r\n\r\nthanks for first", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3366", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3366/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3366/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3366/events", "html_url": "https://github.com/socketio/socket.io/issues/3366", "id": 378051829, "node_id": "MDU6SXNzdWUzNzgwNTE4Mjk=", "number": 3366, "title": "Invalid frame header with separate websocket server", "user": {"login": "cfstwilson", "id": 29639007, "node_id": "MDQ6VXNlcjI5NjM5MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/29639007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cfstwilson", "html_url": "https://github.com/cfstwilson", "followers_url": "https://api.github.com/users/cfstwilson/followers", "following_url": "https://api.github.com/users/cfstwilson/following{/other_user}", "gists_url": "https://api.github.com/users/cfstwilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/cfstwilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cfstwilson/subscriptions", "organizations_url": "https://api.github.com/users/cfstwilson/orgs", "repos_url": "https://api.github.com/users/cfstwilson/repos", "events_url": "https://api.github.com/users/cfstwilson/events{/privacy}", "received_events_url": "https://api.github.com/users/cfstwilson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-06T22:00:51Z", "updated_at": "2018-11-06T23:49:38Z", "closed_at": "2018-11-06T23:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to have a separate websocket server work alongside `socket.io` on a different path?\r\n\r\n    let http = require('http');\r\n    let express = require('express');\r\n    let socketio = require('socket.io');\r\n    let websocket = require('ws');\r\n\r\n    let httpServer = http.createServer();\r\n\r\n    let expressApp = express();\r\n    httpServer.on('request', expressApp);\r\n\r\n    let socketioServer = socketio(httpServer, { path: '/aaaaa/socket.io/' });\r\n    socketioServer.of('/').on('connect', () => {});\r\n\r\n    let websocketServer = new websocket.Server({ server: httpServer, path: '/aaaaa/graphql' });\r\n\r\n    httpServer.listen(2233, () => console.log('started'));\r\n\r\nThe behavior I'm seeing is that, when a separate websocket server is created, `socket.io` still functions properly, but will not uprade connections to a websocket and fails with the error (from chrome):\r\n\r\n    WebSocket connection to 'ws://localhost:2233/aaaaa/socket.io/?EIO=3&transport=websocket&sid=fx4pOT0cegz65JMCAAAB' failed: Invalid frame header\r\n\r\nTo be clear, if the websocket server line is omitted, `socket.io` works properly.\r\n\r\nMy specific use-case is that a websocket server is created by the `apollo-server-express` package when subscriptions are enabled. Is there a way to have `socket.io` configured in a more friendly way? Or, I believe I can supply a websocket server for apollo to use instead of creating one... how would I create that?\r\n\r\nPackage versions for reproduction:\r\n\r\n    node       8.11.1\r\n    express    4.16.4\r\n    socket.io  2.1.1\r\n    ws         6.1.0\r\n\r\nI know this is probably very dependent on `engine.io` but I thought it best to ask here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3349", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3349/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3349/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3349/events", "html_url": "https://github.com/socketio/socket.io/issues/3349", "id": 368626659, "node_id": "MDU6SXNzdWUzNjg2MjY2NTk=", "number": 3349, "title": "why failed to connect the java websocket by socket.io-client?", "user": {"login": "codepandy", "id": 16410281, "node_id": "MDQ6VXNlcjE2NDEwMjgx", "avatar_url": "https://avatars1.githubusercontent.com/u/16410281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codepandy", "html_url": "https://github.com/codepandy", "followers_url": "https://api.github.com/users/codepandy/followers", "following_url": "https://api.github.com/users/codepandy/following{/other_user}", "gists_url": "https://api.github.com/users/codepandy/gists{/gist_id}", "starred_url": "https://api.github.com/users/codepandy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codepandy/subscriptions", "organizations_url": "https://api.github.com/users/codepandy/orgs", "repos_url": "https://api.github.com/users/codepandy/repos", "events_url": "https://api.github.com/users/codepandy/events{/privacy}", "received_events_url": "https://api.github.com/users/codepandy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-10T11:48:01Z", "updated_at": "2018-10-11T01:43:30Z", "closed_at": "2018-10-10T21:01:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport io from 'socket.io-client'\r\n\r\nconst socket = io('ws://192.23.1.16:8080', {\r\n      path: '/api/webSocket',\r\n      transports: ['websocket'],\r\n    })\r\n    // socket.open()\r\n    socket.on('connect', () => {\r\n      console.log('*********************connected')\r\n    })\r\n    socket.on('connect_error', err => {\r\n      console.log('******************connect_error ************', err)\r\n    })\r\n```\r\nthe `websocket` can be connected on the test tool.as http://www.blue-zero.com/WebSocket/\r\nbut can't be connected by my code?\r\n\r\nthe bellow is the error:\r\n```\r\nwebsocket.js:112 WebSocket connection to 'ws://192.23.1.16:8080/api/webSocket/?EIO=3&transport=websocket' failed: Error in connection establishment: net::ERR_CONNECTION_REFUSED\r\nwebpackJsonp.2131.WS.doOpen @ websocket.js:112\r\nOrderList.js:80 ******************connect_error ************ Error: websocket error\r\n    at WS.webpackJsonp.2113.Transport.onError (transport.js:64)\r\n    at WebSocket.ws.onerror (websocket.js:150)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3347", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3347/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3347/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3347/events", "html_url": "https://github.com/socketio/socket.io/issues/3347", "id": 368519461, "node_id": "MDU6SXNzdWUzNjg1MTk0NjE=", "number": 3347, "title": "CDN Down", "user": {"login": "osterman", "id": 52489, "node_id": "MDQ6VXNlcjUyNDg5", "avatar_url": "https://avatars3.githubusercontent.com/u/52489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osterman", "html_url": "https://github.com/osterman", "followers_url": "https://api.github.com/users/osterman/followers", "following_url": "https://api.github.com/users/osterman/following{/other_user}", "gists_url": "https://api.github.com/users/osterman/gists{/gist_id}", "starred_url": "https://api.github.com/users/osterman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osterman/subscriptions", "organizations_url": "https://api.github.com/users/osterman/orgs", "repos_url": "https://api.github.com/users/osterman/repos", "events_url": "https://api.github.com/users/osterman/events{/privacy}", "received_events_url": "https://api.github.com/users/osterman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-10T06:58:47Z", "updated_at": "2018-10-11T05:35:58Z", "closed_at": "2018-10-11T05:35:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## what\r\n* https://cdn.socket.io/ is offline\r\n* http://www.isitdownrightnow.com/cdn.socket.io.html\r\n\r\n![image](https://user-images.githubusercontent.com/52489/46718099-fd90a380-cc1e-11e8-94e8-f94e0f180363.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3344", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3344/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3344/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3344/events", "html_url": "https://github.com/socketio/socket.io/issues/3344", "id": 366955845, "node_id": "MDU6SXNzdWUzNjY5NTU4NDU=", "number": 3344, "title": "Cannot catch unhandled websocket error", "user": {"login": "ASBaj", "id": 25462665, "node_id": "MDQ6VXNlcjI1NDYyNjY1", "avatar_url": "https://avatars3.githubusercontent.com/u/25462665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ASBaj", "html_url": "https://github.com/ASBaj", "followers_url": "https://api.github.com/users/ASBaj/followers", "following_url": "https://api.github.com/users/ASBaj/following{/other_user}", "gists_url": "https://api.github.com/users/ASBaj/gists{/gist_id}", "starred_url": "https://api.github.com/users/ASBaj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ASBaj/subscriptions", "organizations_url": "https://api.github.com/users/ASBaj/orgs", "repos_url": "https://api.github.com/users/ASBaj/repos", "events_url": "https://api.github.com/users/ASBaj/events{/privacy}", "received_events_url": "https://api.github.com/users/ASBaj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-04T20:24:40Z", "updated_at": "2018-10-04T20:57:21Z", "closed_at": "2018-10-04T20:57:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n*What is actually happening?*\r\nWhen an unhanded websocket error is thrown (events.js 183), there does not appear to be a way to prevent the node.js application from crashing\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n1. Connect your socket.io client to a socket.io server\r\n2. Connect a device to your network that has the same IP address as your socket.io server\r\n3. Disconnect your socket.io server from the network\r\n4. The socket.io client will crash with this error.\r\n\r\n### Expected behaviour\r\nThe socket.io client would disconnect, and then go into a reconnecting state.\r\n\r\n### Setup\r\n- OS: Windows Server 2012 R2\r\n- browser: Node.js\r\n- socket.io version: 2.1.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3340", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3340/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3340/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3340/events", "html_url": "https://github.com/socketio/socket.io/issues/3340", "id": 365567382, "node_id": "MDU6SXNzdWUzNjU1NjczODI=", "number": 3340, "title": "net::ERR_INTERNET_DISCONNECTED", "user": {"login": "luisAzcuaga", "id": 37643667, "node_id": "MDQ6VXNlcjM3NjQzNjY3", "avatar_url": "https://avatars0.githubusercontent.com/u/37643667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luisAzcuaga", "html_url": "https://github.com/luisAzcuaga", "followers_url": "https://api.github.com/users/luisAzcuaga/followers", "following_url": "https://api.github.com/users/luisAzcuaga/following{/other_user}", "gists_url": "https://api.github.com/users/luisAzcuaga/gists{/gist_id}", "starred_url": "https://api.github.com/users/luisAzcuaga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luisAzcuaga/subscriptions", "organizations_url": "https://api.github.com/users/luisAzcuaga/orgs", "repos_url": "https://api.github.com/users/luisAzcuaga/repos", "events_url": "https://api.github.com/users/luisAzcuaga/events{/privacy}", "received_events_url": "https://api.github.com/users/luisAzcuaga/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-01T17:38:24Z", "updated_at": "2018-10-01T17:44:28Z", "closed_at": "2018-10-01T17:44:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm currently working on an app that I managed to store the needed response from the server, altho, whenever I turn off wifi (or disconnect from the current WiFi network) I get this annoying `net::ERR_INTERNET_DISCONNECTED`. I know It's obious It's trying to connect to the server, but how to I set the socket to ignore that fact?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3338", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3338/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3338/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3338/events", "html_url": "https://github.com/socketio/socket.io/issues/3338", "id": 365120914, "node_id": "MDU6SXNzdWUzNjUxMjA5MTQ=", "number": 3338, "title": "How to monitor all events?", "user": {"login": "yqsailor", "id": 24997729, "node_id": "MDQ6VXNlcjI0OTk3NzI5", "avatar_url": "https://avatars1.githubusercontent.com/u/24997729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yqsailor", "html_url": "https://github.com/yqsailor", "followers_url": "https://api.github.com/users/yqsailor/followers", "following_url": "https://api.github.com/users/yqsailor/following{/other_user}", "gists_url": "https://api.github.com/users/yqsailor/gists{/gist_id}", "starred_url": "https://api.github.com/users/yqsailor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yqsailor/subscriptions", "organizations_url": "https://api.github.com/users/yqsailor/orgs", "repos_url": "https://api.github.com/users/yqsailor/repos", "events_url": "https://api.github.com/users/yqsailor/events{/privacy}", "received_events_url": "https://api.github.com/users/yqsailor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-29T10:39:38Z", "updated_at": "2018-11-08T11:02:33Z", "closed_at": "2018-11-08T11:02:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want listen message of all events by once\uff0cbut now i only listen it one by one, what should i do?\r\nthanks for first\r\n\r\n\r\n```\r\nclient.on('event1', function () {});\r\nclient.on('event2', function () {});\r\nclient.on('event3', function () {});\r\n```\r\n\r\n\r\n```\r\nclient.on('allevent', function () {});\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3337", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3337/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3337/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3337/events", "html_url": "https://github.com/socketio/socket.io/issues/3337", "id": 365102099, "node_id": "MDU6SXNzdWUzNjUxMDIwOTk=", "number": 3337, "title": "socket. handshake.address return ::ffff:127.0.0.1", "user": {"login": "yqsailor", "id": 24997729, "node_id": "MDQ6VXNlcjI0OTk3NzI5", "avatar_url": "https://avatars1.githubusercontent.com/u/24997729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yqsailor", "html_url": "https://github.com/yqsailor", "followers_url": "https://api.github.com/users/yqsailor/followers", "following_url": "https://api.github.com/users/yqsailor/following{/other_user}", "gists_url": "https://api.github.com/users/yqsailor/gists{/gist_id}", "starred_url": "https://api.github.com/users/yqsailor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yqsailor/subscriptions", "organizations_url": "https://api.github.com/users/yqsailor/orgs", "repos_url": "https://api.github.com/users/yqsailor/repos", "events_url": "https://api.github.com/users/yqsailor/events{/privacy}", "received_events_url": "https://api.github.com/users/yqsailor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-29T06:17:19Z", "updated_at": "2018-11-08T11:01:06Z", "closed_at": "2018-11-08T11:01:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want get the client ip, but socket. handshake.address return ::ffff:127.0.0.1,what should i do?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3336", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3336/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3336/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3336/events", "html_url": "https://github.com/socketio/socket.io/issues/3336", "id": 363529523, "node_id": "MDU6SXNzdWUzNjM1Mjk1MjM=", "number": 3336, "title": "Website SSL errror ", "user": {"login": "xeewi", "id": 18403647, "node_id": "MDQ6VXNlcjE4NDAzNjQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/18403647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xeewi", "html_url": "https://github.com/xeewi", "followers_url": "https://api.github.com/users/xeewi/followers", "following_url": "https://api.github.com/users/xeewi/following{/other_user}", "gists_url": "https://api.github.com/users/xeewi/gists{/gist_id}", "starred_url": "https://api.github.com/users/xeewi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xeewi/subscriptions", "organizations_url": "https://api.github.com/users/xeewi/orgs", "repos_url": "https://api.github.com/users/xeewi/repos", "events_url": "https://api.github.com/users/xeewi/events{/privacy}", "received_events_url": "https://api.github.com/users/xeewi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-25T11:23:19Z", "updated_at": "2018-09-26T11:55:53Z", "closed_at": "2018-09-25T13:25:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n[Socket.io](http://socket.io) website certificate verification failed on firefox. \r\nI can't access to the documentation :/ \r\n![image](https://user-images.githubusercontent.com/18403647/46011410-097c5180-c0c6-11e8-8418-dc5950d8aa43.png)\r\n\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nJust connect on [Socket.io](http://socket.io).\r\n\r\n### Expected behaviour\r\n\r\nBe able to go on the website.\r\n\r\n### Setup\r\n- OS: Ubuntu 18.04.1\r\n- browser: Firefox\r\n- socket.io version: Meh.\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3332", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3332/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3332/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3332/events", "html_url": "https://github.com/socketio/socket.io/issues/3332", "id": 360840714, "node_id": "MDU6SXNzdWUzNjA4NDA3MTQ=", "number": 3332, "title": "pingTimeout && pingInterval", "user": {"login": "yzcwf", "id": 30282746, "node_id": "MDQ6VXNlcjMwMjgyNzQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/30282746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yzcwf", "html_url": "https://github.com/yzcwf", "followers_url": "https://api.github.com/users/yzcwf/followers", "following_url": "https://api.github.com/users/yzcwf/following{/other_user}", "gists_url": "https://api.github.com/users/yzcwf/gists{/gist_id}", "starred_url": "https://api.github.com/users/yzcwf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yzcwf/subscriptions", "organizations_url": "https://api.github.com/users/yzcwf/orgs", "repos_url": "https://api.github.com/users/yzcwf/repos", "events_url": "https://api.github.com/users/yzcwf/events{/privacy}", "received_events_url": "https://api.github.com/users/yzcwf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-17T12:15:08Z", "updated_at": "2018-09-18T03:25:17Z", "closed_at": "2018-09-18T03:25:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "i find that the socket.io java client (v 1.0.0)detect timeout with pingTimeout \uff0c but the server detect timeout with pingInterval + pingTimeout. Is any  problem here\uff1f in some case\uff0cthe client detect timeout and reconnect\uff0cserver may do disconect after reconnect", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3327", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3327/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3327/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3327/events", "html_url": "https://github.com/socketio/socket.io/issues/3327", "id": 357553528, "node_id": "MDU6SXNzdWUzNTc1NTM1Mjg=", "number": 3327, "title": "io.connect(socketUrl) socketUrl contains '@' throw error", "user": {"login": "zhuxianguo", "id": 9689585, "node_id": "MDQ6VXNlcjk2ODk1ODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/9689585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhuxianguo", "html_url": "https://github.com/zhuxianguo", "followers_url": "https://api.github.com/users/zhuxianguo/followers", "following_url": "https://api.github.com/users/zhuxianguo/following{/other_user}", "gists_url": "https://api.github.com/users/zhuxianguo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhuxianguo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhuxianguo/subscriptions", "organizations_url": "https://api.github.com/users/zhuxianguo/orgs", "repos_url": "https://api.github.com/users/zhuxianguo/repos", "events_url": "https://api.github.com/users/zhuxianguo/events{/privacy}", "received_events_url": "https://api.github.com/users/zhuxianguo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-06T08:42:29Z", "updated_at": "2018-09-06T09:45:30Z", "closed_at": "2018-09-06T09:45:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "io.connect(socketUrl) \r\nsocketUrl contains '@' error\r\neg:\r\nio.connect('http://aa.bb?111@aaa') \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3325", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3325/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3325/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3325/events", "html_url": "https://github.com/socketio/socket.io/issues/3325", "id": 357010168, "node_id": "MDU6SXNzdWUzNTcwMTAxNjg=", "number": 3325, "title": "Problem sending messages to specific users with Chrome", "user": {"login": "arafsan", "id": 20737507, "node_id": "MDQ6VXNlcjIwNzM3NTA3", "avatar_url": "https://avatars1.githubusercontent.com/u/20737507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arafsan", "html_url": "https://github.com/arafsan", "followers_url": "https://api.github.com/users/arafsan/followers", "following_url": "https://api.github.com/users/arafsan/following{/other_user}", "gists_url": "https://api.github.com/users/arafsan/gists{/gist_id}", "starred_url": "https://api.github.com/users/arafsan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arafsan/subscriptions", "organizations_url": "https://api.github.com/users/arafsan/orgs", "repos_url": "https://api.github.com/users/arafsan/repos", "events_url": "https://api.github.com/users/arafsan/events{/privacy}", "received_events_url": "https://api.github.com/users/arafsan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-04T23:18:42Z", "updated_at": "2018-09-05T14:27:33Z", "closed_at": "2018-09-05T14:27:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a simple socket.io application. In general, everything works fine except for one problem. I use \"php-socket-io-event-emitter\" in the background to send notifications. (The https://github.com/touskar/php-socket-io-event-emitter)\r\n\r\nI keep every user who logs in in a directory.\r\nI have two functions to send notifications to everyone and specific users.\r\nThere is no problem when I want to send a message to all users. Both Chrome and Firefox are getting instant notifications and returning a \"success\" message. All of this is fast. (300-400 ms)\r\n\r\nBut I have problems when I want to send notifications to certain sockets. Everything I send with Firefox is smoothly and fast, and only the notified person is notified and the \"success\" message comes right up. But when I try with \"chrome\", the notification goes, but it remains \"pending\" in the console and the response is returned after about 35-40 seconds.\r\n\r\nSo my problem is only with Chrome and when I send to certain sockets.\r\n\r\nSocket.io version: 2.1.1\r\nNode.js version: v8.11.4\r\nBrowsers: Chrome (69.0.3497.81), Firefox (61.0.2)\r\nPS OS: Windows 10\r\nServer OS: Centos 7\r\n\r\nPHP Code : \r\n\r\n`\r\n$client = new SocketIO(\"abc.com\", 3011);\r\n\r\n// All Clients ()\r\n$success = $client->emit(\"all_clients_message\", [\r\n            \"title\" => \"title\",\r\n            \"desc\" => \"desc\"\r\n        ]);\r\n\r\n// Specific Clients\r\n        $success = $client->emit(\"specific_clients_messages\", [\r\n            \"users\" => array(5,6),\r\n            \"title\" => \"title\",\r\n            \"desc\" => \"desc\"\r\n        ]);\r\n\r\n        if($success){\r\n            $dataJson[\"status\"] = true;\r\n            echo json_encode($dataJson);\r\n        }else{\r\n            $dataJson[\"status\"] = false;\r\n            echo json_encode($dataJson);\r\n            return;\r\n        }`\r\n\r\nApp.js Code\r\n\r\n\"var app = require(\"express\")();\r\nvar server = require(\"http\").Server(app);\r\nvar io = require(\"socket.io\")(server);\r\n\r\nvar cookie = require(\"cookie\");\r\nvar fs = require(\"fs\");\r\nvar phpUnserialize = require(\"php-unserialize\");\r\n\r\nserver.listen(3011);\r\n\r\napp.get('/', function (req, res) {\r\n    res.sendFile(__dirname + \"/index.html\");\r\n});\r\n\r\nvar conected_users = {};\r\n\r\nio.on(\"connection\", function (socket) {\r\n\r\n    socket.on('all_clients_message', function (data) {\r\n        data = JSON.parse(data);\r\n\r\n        io.emit('all_clients_message', {\r\n            title: data.title,\r\n            desc: data.desc\r\n        });\r\n    });\r\n\r\n    socket.on('specific_clients_messages', function (data) {\r\n        data = JSON.parse(data);\r\n\r\n        connected_users[\"sockets\"].forEach(function (socketid) {\r\n\r\n            io.to(socketid).emit('specific_clients_messages', {\r\n                title: data.title,\r\n                desc: data.desc\r\n            });\r\n\r\n        });\r\n\r\n    });\r\n\r\n    socket.on('disconnect', function () {\r\n        {...}\r\n    });\r\n\r\n});\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3323", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3323/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3323/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3323/events", "html_url": "https://github.com/socketio/socket.io/issues/3323", "id": 356365780, "node_id": "MDU6SXNzdWUzNTYzNjU3ODA=", "number": 3323, "title": "The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'. Origin 'http://localhost:3000' is therefore not allowed access. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.", "user": {"login": "akasrai", "id": 18304391, "node_id": "MDQ6VXNlcjE4MzA0Mzkx", "avatar_url": "https://avatars2.githubusercontent.com/u/18304391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akasrai", "html_url": "https://github.com/akasrai", "followers_url": "https://api.github.com/users/akasrai/followers", "following_url": "https://api.github.com/users/akasrai/following{/other_user}", "gists_url": "https://api.github.com/users/akasrai/gists{/gist_id}", "starred_url": "https://api.github.com/users/akasrai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akasrai/subscriptions", "organizations_url": "https://api.github.com/users/akasrai/orgs", "repos_url": "https://api.github.com/users/akasrai/repos", "events_url": "https://api.github.com/users/akasrai/events{/privacy}", "received_events_url": "https://api.github.com/users/akasrai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-03T05:50:47Z", "updated_at": "2020-04-27T11:38:08Z", "closed_at": "2018-09-03T17:11:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello all, \r\nI'm new to socket.io. I have following code in my NodeJs/Express server\r\n\r\n```\r\nconst http = require('http');\r\nconst socketIo = require('socket.io');\r\nconst app = express();\r\nconst server = http.createServer(app);\r\nconst io = socketIo(server);\r\n\r\nio.on('connection', socket => {\r\n  console.log('New client connected');\r\n  socket.on('disconnect', () => console.log('Client disconnected'));\r\n  socket.emit('FromAPI', 'hello');\r\n});\r\n//My port here is 8848\r\napp.listen(app.get('port'), () => {\r\n  logger.log('info', `Server started at :${app.get('port')}`);\r\n});\r\n```\r\n-----------------------------------------------------------------------------------------------------------\r\nAnd following code in Client React app and my react app is hosted in port 3000 as http://localhost:3000\r\n\r\n```\r\nimport socketIO from 'socket.io-client';\r\ncomponentDidMount() {\r\n    const endPoint = 'http://127.0.0.1:8848';\r\n    const socket = socketIO(endPoint);\r\n    socket.on('FromAPI', data => console.log(data));\r\n  \r\n  }\r\n```\r\n\r\nWith this code i got the following error on the browser console:\r\npolling-xhr.js:263 GET http://127.0.0.1:8848/socket.io/?EIO=3&transport=polling&t=MMT-4kl 405 (Method Not Allowed)\r\nFailed to load http://127.0.0.1:8848/socket.io/?EIO=3&transport=polling&t=MMT-Aso: The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'. Origin 'http://localhost:3000' is therefore not allowed access. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\r\n\r\nAnyone please help me with this problem.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3311", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3311/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3311/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3311/events", "html_url": "https://github.com/socketio/socket.io/issues/3311", "id": 351834114, "node_id": "MDU6SXNzdWUzNTE4MzQxMTQ=", "number": 3311, "title": "Is this project still maintained? + discussion about the future of socket.io", "user": {"login": "MickL", "id": 5103210, "node_id": "MDQ6VXNlcjUxMDMyMTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5103210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MickL", "html_url": "https://github.com/MickL", "followers_url": "https://api.github.com/users/MickL/followers", "following_url": "https://api.github.com/users/MickL/following{/other_user}", "gists_url": "https://api.github.com/users/MickL/gists{/gist_id}", "starred_url": "https://api.github.com/users/MickL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MickL/subscriptions", "organizations_url": "https://api.github.com/users/MickL/orgs", "repos_url": "https://api.github.com/users/MickL/repos", "events_url": "https://api.github.com/users/MickL/events{/privacy}", "received_events_url": "https://api.github.com/users/MickL/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-08-18T16:39:50Z", "updated_at": "2020-08-19T01:18:36Z", "closed_at": "2018-08-19T15:10:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wonder if this project is still maintained. Last commit is 3 month ago and there are nearly 300 open issues. \r\n\r\nIt seems like socket.io is still _the_ module to use for websocket connections and i don't find any alternative. But time is changing, technology is evolving, so i wonder if this project is still maintained. \r\n\r\nHasn't the time come for socket.io 3.0? I think about:\r\n\r\n- Is everything still up-to-date? What about security?\r\n- Can we drop support for older browsers, especially at socket.io-client (Drop http long-polling maybe? Drop support for IE 9, 10 and 11?)\r\n- Shouldn't RxJS be used widely?\r\n- Shouldn't socket.io-client be treeshakable, e.g. for use with Webpack? So we can only import what is needed instead of full 61kb.\r\n- Typings are needed\r\n- Are further performance improvements possible? (Both for socket.io and socket.io-client)\r\n\r\nWhat about an rewrite of socket.io in TypeScript? At least socket.io does seem to be a relative small project. In contrast I want to mention the evolution of something like [RxJS](https://github.com/reactivex/rxjs): Constantly reinventing itself, reducing bundle-size, treeshakability, performance etc. etc. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3308", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3308/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3308/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3308/events", "html_url": "https://github.com/socketio/socket.io/issues/3308", "id": 350326199, "node_id": "MDU6SXNzdWUzNTAzMjYxOTk=", "number": 3308, "title": "WebSocket is already in CLOSING or CLOSED state.", "user": {"login": "chfeizy", "id": 6427629, "node_id": "MDQ6VXNlcjY0Mjc2Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6427629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chfeizy", "html_url": "https://github.com/chfeizy", "followers_url": "https://api.github.com/users/chfeizy/followers", "following_url": "https://api.github.com/users/chfeizy/following{/other_user}", "gists_url": "https://api.github.com/users/chfeizy/gists{/gist_id}", "starred_url": "https://api.github.com/users/chfeizy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chfeizy/subscriptions", "organizations_url": "https://api.github.com/users/chfeizy/orgs", "repos_url": "https://api.github.com/users/chfeizy/repos", "events_url": "https://api.github.com/users/chfeizy/events{/privacy}", "received_events_url": "https://api.github.com/users/chfeizy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-14T08:19:15Z", "updated_at": "2019-03-19T15:39:58Z", "closed_at": "2018-08-14T10:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Note*: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n![image](https://user-images.githubusercontent.com/6427629/44080120-a8066e58-9fdd-11e8-8e6f-bf543bb33bd6.png)\r\nAfter a while, it will reconnect\r\n\r\nchrome 68.0.3440.106\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3299", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3299/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3299/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3299/events", "html_url": "https://github.com/socketio/socket.io/issues/3299", "id": 344120988, "node_id": "MDU6SXNzdWUzNDQxMjA5ODg=", "number": 3299, "title": "Error 0 Transport Error", "user": {"login": "SunburntRock89", "id": 29868053, "node_id": "MDQ6VXNlcjI5ODY4MDUz", "avatar_url": "https://avatars2.githubusercontent.com/u/29868053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SunburntRock89", "html_url": "https://github.com/SunburntRock89", "followers_url": "https://api.github.com/users/SunburntRock89/followers", "following_url": "https://api.github.com/users/SunburntRock89/following{/other_user}", "gists_url": "https://api.github.com/users/SunburntRock89/gists{/gist_id}", "starred_url": "https://api.github.com/users/SunburntRock89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SunburntRock89/subscriptions", "organizations_url": "https://api.github.com/users/SunburntRock89/orgs", "repos_url": "https://api.github.com/users/SunburntRock89/repos", "events_url": "https://api.github.com/users/SunburntRock89/events{/privacy}", "received_events_url": "https://api.github.com/users/SunburntRock89/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-24T16:52:15Z", "updated_at": "2018-11-26T01:51:14Z", "closed_at": "2018-11-26T01:51:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Note*: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\nAfter going to 1 page with socket.io, I cannot goto any other pages with socket. I get a Code 0 error with the message \"transport unknown\"\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\nI have no idea why this is broken.\r\n\r\n**Note**: the best way to get a quick answer is to provide a failing test case, by forking the following [fiddle](https://github.com/darrachequesne/socket.io-fiddle) for example.\r\n\r\n### Expected behaviour\r\n\r\n\r\n### Setup\r\n- OS: Windows 10 Pro and Windows 10 LTSB\r\n- browser: Firefox 61.0.1 and Chrome 67.0.3396.99\r\n- socket.io version: 2.1.0 and 2.1.1\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\nThe page you goto first will work as intended. The next page you goto will error.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3298", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3298/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3298/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3298/events", "html_url": "https://github.com/socketio/socket.io/issues/3298", "id": 344107621, "node_id": "MDU6SXNzdWUzNDQxMDc2MjE=", "number": 3298, "title": "socket.to().emit() problem", "user": {"login": "MehrdadKhanzadeh", "id": 24854023, "node_id": "MDQ6VXNlcjI0ODU0MDIz", "avatar_url": "https://avatars3.githubusercontent.com/u/24854023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MehrdadKhanzadeh", "html_url": "https://github.com/MehrdadKhanzadeh", "followers_url": "https://api.github.com/users/MehrdadKhanzadeh/followers", "following_url": "https://api.github.com/users/MehrdadKhanzadeh/following{/other_user}", "gists_url": "https://api.github.com/users/MehrdadKhanzadeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MehrdadKhanzadeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MehrdadKhanzadeh/subscriptions", "organizations_url": "https://api.github.com/users/MehrdadKhanzadeh/orgs", "repos_url": "https://api.github.com/users/MehrdadKhanzadeh/repos", "events_url": "https://api.github.com/users/MehrdadKhanzadeh/events{/privacy}", "received_events_url": "https://api.github.com/users/MehrdadKhanzadeh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-24T16:14:03Z", "updated_at": "2018-07-24T16:51:50Z", "closed_at": "2018-07-24T16:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\nBased on documents, this should work:\r\nsocket.to(<socketid>).emit('hey', 'I just met you');\r\nBut it doesn't emit anything with \".to()\". If I exclude that, It works fine.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\nClick the \"Login\" button on html, you should see a \"Client!\" message on browser's console.\r\nhttps://github.com/MehrdadKhanzadeh/socket.io-fiddle\r\n\r\n### Expected behaviour\r\nThe socket should emit my event!\r\n\r\n### Setup\r\n- OS: Windows\r\n- browser: Google Chrome 67\r\n- socket.io version: 2.1.0\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3293", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3293/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3293/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3293/events", "html_url": "https://github.com/socketio/socket.io/issues/3293", "id": 339834343, "node_id": "MDU6SXNzdWUzMzk4MzQzNDM=", "number": 3293, "title": "Client Socket cannot really disconnect from Server", "user": {"login": "millsp", "id": 18401805, "node_id": "MDQ6VXNlcjE4NDAxODA1", "avatar_url": "https://avatars1.githubusercontent.com/u/18401805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/millsp", "html_url": "https://github.com/millsp", "followers_url": "https://api.github.com/users/millsp/followers", "following_url": "https://api.github.com/users/millsp/following{/other_user}", "gists_url": "https://api.github.com/users/millsp/gists{/gist_id}", "starred_url": "https://api.github.com/users/millsp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/millsp/subscriptions", "organizations_url": "https://api.github.com/users/millsp/orgs", "repos_url": "https://api.github.com/users/millsp/repos", "events_url": "https://api.github.com/users/millsp/events{/privacy}", "received_events_url": "https://api.github.com/users/millsp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-10T13:07:49Z", "updated_at": "2018-07-10T17:32:23Z", "closed_at": "2018-07-10T17:32:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nClient Socket cannot really disconnect from Server\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n**On the Server-Side:**\r\nWhen a Client connects, the socket is saved into a variable.\r\nThe Server sends data regularly to these saved client sockets.\r\n\r\n**On the Client-Side:**\r\nWhen a packet is received from the Server, we display it.\r\nAfter a while (x seconds) Client calls socket.disconnect().\r\n-> The connection gets closed, then as soon as the Server\r\nemits a packet to this saved socket, connection is reopened.\r\n\r\n### Expected behaviour\r\n\r\nThe Client socket should not receive any packets from the Server.\r\n\r\n### Setup\r\n\r\n- OS: Ubuntu 16.04\r\n- browser: Chrome\r\n- socket.io version: 2.1.1\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3291", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3291/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3291/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3291/events", "html_url": "https://github.com/socketio/socket.io/issues/3291", "id": 339474997, "node_id": "MDU6SXNzdWUzMzk0NzQ5OTc=", "number": 3291, "title": "Cannot remove typing text", "user": {"login": "beratetik", "id": 16034888, "node_id": "MDQ6VXNlcjE2MDM0ODg4", "avatar_url": "https://avatars0.githubusercontent.com/u/16034888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beratetik", "html_url": "https://github.com/beratetik", "followers_url": "https://api.github.com/users/beratetik/followers", "following_url": "https://api.github.com/users/beratetik/following{/other_user}", "gists_url": "https://api.github.com/users/beratetik/gists{/gist_id}", "starred_url": "https://api.github.com/users/beratetik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beratetik/subscriptions", "organizations_url": "https://api.github.com/users/beratetik/orgs", "repos_url": "https://api.github.com/users/beratetik/repos", "events_url": "https://api.github.com/users/beratetik/events{/privacy}", "received_events_url": "https://api.github.com/users/beratetik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-09T14:32:32Z", "updated_at": "2018-08-28T07:08:15Z", "closed_at": "2018-08-28T07:06:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/socketio/socket.io/blob/e0b2cb0c5a9af768a48c43f65643412cc8edc7df/examples/chat/public/main.js#L111\r\n\r\ngetTypingMessages function doesn't return typing elements. So it should be fixed like this:\r\n\r\n    getTypingMessages(data).prevObject.fadeOut(() => {\r\n      $(this).remove();\r\n    });", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3289", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3289/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3289/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3289/events", "html_url": "https://github.com/socketio/socket.io/issues/3289", "id": 339324093, "node_id": "MDU6SXNzdWUzMzkzMjQwOTM=", "number": 3289, "title": "website is broken", "user": {"login": "AmoseKang", "id": 10670026, "node_id": "MDQ6VXNlcjEwNjcwMDI2", "avatar_url": "https://avatars2.githubusercontent.com/u/10670026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AmoseKang", "html_url": "https://github.com/AmoseKang", "followers_url": "https://api.github.com/users/AmoseKang/followers", "following_url": "https://api.github.com/users/AmoseKang/following{/other_user}", "gists_url": "https://api.github.com/users/AmoseKang/gists{/gist_id}", "starred_url": "https://api.github.com/users/AmoseKang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AmoseKang/subscriptions", "organizations_url": "https://api.github.com/users/AmoseKang/orgs", "repos_url": "https://api.github.com/users/AmoseKang/repos", "events_url": "https://api.github.com/users/AmoseKang/events{/privacy}", "received_events_url": "https://api.github.com/users/AmoseKang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-09T06:47:06Z", "updated_at": "2018-08-18T20:10:59Z", "closed_at": "2018-08-18T20:10:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nhttps://socket.io/ is broken.\r\nIt shows HTTPS  unsecured fault in Chrome.\r\nAfter choosing proceed anyway, it returns 403 error.\r\nplz fix it.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3286", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3286/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3286/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3286/events", "html_url": "https://github.com/socketio/socket.io/issues/3286", "id": 337547200, "node_id": "MDU6SXNzdWUzMzc1NDcyMDA=", "number": 3286, "title": "Can there be way to pass the changes or any new data from one middleware to other. ", "user": {"login": "softawarriors", "id": 4177443, "node_id": "MDQ6VXNlcjQxNzc0NDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4177443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/softawarriors", "html_url": "https://github.com/softawarriors", "followers_url": "https://api.github.com/users/softawarriors/followers", "following_url": "https://api.github.com/users/softawarriors/following{/other_user}", "gists_url": "https://api.github.com/users/softawarriors/gists{/gist_id}", "starred_url": "https://api.github.com/users/softawarriors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/softawarriors/subscriptions", "organizations_url": "https://api.github.com/users/softawarriors/orgs", "repos_url": "https://api.github.com/users/softawarriors/repos", "events_url": "https://api.github.com/users/softawarriors/events{/privacy}", "received_events_url": "https://api.github.com/users/softawarriors/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-02T14:40:31Z", "updated_at": "2020-02-16T00:41:31Z", "closed_at": "2020-02-16T00:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n### You want to:\r\n\r\n* [] report a *bug*\r\n* [x] request a *feature*\r\n\r\n### Current behaviour\r\nI have JWT token getting parsed in middleware. There is no way to send the parsed info to the next level to get the userid included in the jwt. I do not want to parse the JWT again, as it is against the rule of Node JS Single threaded Event loop model. \r\n\r\nI passed the extra params in socket in middleware, but the on-connect method ignored those changes. \r\n\r\n\r\n### Expected behaviour\r\nI should get changed data in the socket from a middleware to other middleware function. \r\n\r\n\r\n### Setup\r\n- OS: MAC\r\n- socket.io version: 2.1.1\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3280", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3280/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3280/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3280/events", "html_url": "https://github.com/socketio/socket.io/issues/3280", "id": 335742334, "node_id": "MDU6SXNzdWUzMzU3NDIzMzQ=", "number": 3280, "title": "about namespace in url.", "user": {"login": "suoc", "id": 16681502, "node_id": "MDQ6VXNlcjE2NjgxNTAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16681502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suoc", "html_url": "https://github.com/suoc", "followers_url": "https://api.github.com/users/suoc/followers", "following_url": "https://api.github.com/users/suoc/following{/other_user}", "gists_url": "https://api.github.com/users/suoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/suoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suoc/subscriptions", "organizations_url": "https://api.github.com/users/suoc/orgs", "repos_url": "https://api.github.com/users/suoc/repos", "events_url": "https://api.github.com/users/suoc/events{/privacy}", "received_events_url": "https://api.github.com/users/suoc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-26T09:51:25Z", "updated_at": "2018-09-11T06:19:03Z", "closed_at": "2018-09-11T06:19:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nlike this:\r\n\r\nhttp://ip:port/NAMESPACE/socket.io\r\n\r\nnginx easy to proxy diff socket server", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3277", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3277/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3277/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3277/events", "html_url": "https://github.com/socketio/socket.io/issues/3277", "id": 333075099, "node_id": "MDU6SXNzdWUzMzMwNzUwOTk=", "number": 3277, "title": "Socket.io chat example has link to old cdn (socket.io version 1), repeatedly connects", "user": {"login": "kev-chien", "id": 20323625, "node_id": "MDQ6VXNlcjIwMzIzNjI1", "avatar_url": "https://avatars0.githubusercontent.com/u/20323625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kev-chien", "html_url": "https://github.com/kev-chien", "followers_url": "https://api.github.com/users/kev-chien/followers", "following_url": "https://api.github.com/users/kev-chien/following{/other_user}", "gists_url": "https://api.github.com/users/kev-chien/gists{/gist_id}", "starred_url": "https://api.github.com/users/kev-chien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kev-chien/subscriptions", "organizations_url": "https://api.github.com/users/kev-chien/orgs", "repos_url": "https://api.github.com/users/kev-chien/repos", "events_url": "https://api.github.com/users/kev-chien/events{/privacy}", "received_events_url": "https://api.github.com/users/kev-chien/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-17T16:31:44Z", "updated_at": "2018-07-22T15:20:54Z", "closed_at": "2018-07-22T15:20:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Current behaviour\r\nWhen I run the chat example, Socket.io keeps connecting repeatedly as in this [stack overflow issue](https://stackoverflow.com/questions/48069633/socket-io-keeps-connecting-repeatedly-and-ignores-other-events) (although when I ran it, it was able to access the events and still work as a chat server). That being said, the fact it repeatedly creates new sockets would, I believe, slow down and bug down the application and should be fixed, in case people reference this code in the future. That's what I did and I got a failing app, and my app couldn't get any events to be detected.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nRun the chat example per its readme.\r\n\r\n### Expected behaviour\r\nDoesn't connect sockets repeatedly for when there is supposed to be only one connection.\r\n\r\n### Setup\r\n- OS: OSX\r\n- browser: Chrome\r\n- socket.io version: 2\r\n\r\n### How to Fix\r\nThe client in `examples/chat/public/index.html` imports via cdn socket.io version 1.10.2, it should be replaced to reference the latest version.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3273", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3273/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3273/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3273/events", "html_url": "https://github.com/socketio/socket.io/issues/3273", "id": 330918541, "node_id": "MDU6SXNzdWUzMzA5MTg1NDE=", "number": 3273, "title": "ookie", "user": {"login": "deshi-basara", "id": 2117294, "node_id": "MDQ6VXNlcjIxMTcyOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2117294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deshi-basara", "html_url": "https://github.com/deshi-basara", "followers_url": "https://api.github.com/users/deshi-basara/followers", "following_url": "https://api.github.com/users/deshi-basara/following{/other_user}", "gists_url": "https://api.github.com/users/deshi-basara/gists{/gist_id}", "starred_url": "https://api.github.com/users/deshi-basara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deshi-basara/subscriptions", "organizations_url": "https://api.github.com/users/deshi-basara/orgs", "repos_url": "https://api.github.com/users/deshi-basara/repos", "events_url": "https://api.github.com/users/deshi-basara/events{/privacy}", "received_events_url": "https://api.github.com/users/deshi-basara/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-09T20:54:21Z", "updated_at": "2018-06-09T20:54:44Z", "closed_at": "2018-06-09T20:54:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3257", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3257/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3257/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3257/events", "html_url": "https://github.com/socketio/socket.io/issues/3257", "id": 325879415, "node_id": "MDU6SXNzdWUzMjU4Nzk0MTU=", "number": 3257, "title": "When data changed !", "user": {"login": "mohilles", "id": 20640450, "node_id": "MDQ6VXNlcjIwNjQwNDUw", "avatar_url": "https://avatars0.githubusercontent.com/u/20640450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohilles", "html_url": "https://github.com/mohilles", "followers_url": "https://api.github.com/users/mohilles/followers", "following_url": "https://api.github.com/users/mohilles/following{/other_user}", "gists_url": "https://api.github.com/users/mohilles/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohilles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohilles/subscriptions", "organizations_url": "https://api.github.com/users/mohilles/orgs", "repos_url": "https://api.github.com/users/mohilles/repos", "events_url": "https://api.github.com/users/mohilles/events{/privacy}", "received_events_url": "https://api.github.com/users/mohilles/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-23T21:26:00Z", "updated_at": "2018-05-24T22:55:12Z", "closed_at": "2018-05-24T22:55:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3256", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3256/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3256/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3256/events", "html_url": "https://github.com/socketio/socket.io/issues/3256", "id": 325702892, "node_id": "MDU6SXNzdWUzMjU3MDI4OTI=", "number": 3256, "title": "No more 'Invalid namespace' since 2.1.1 compared to 2.1.0", "user": {"login": "sp00m", "id": 4568204, "node_id": "MDQ6VXNlcjQ1NjgyMDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4568204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sp00m", "html_url": "https://github.com/sp00m", "followers_url": "https://api.github.com/users/sp00m/followers", "following_url": "https://api.github.com/users/sp00m/following{/other_user}", "gists_url": "https://api.github.com/users/sp00m/gists{/gist_id}", "starred_url": "https://api.github.com/users/sp00m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sp00m/subscriptions", "organizations_url": "https://api.github.com/users/sp00m/orgs", "repos_url": "https://api.github.com/users/sp00m/repos", "events_url": "https://api.github.com/users/sp00m/events{/privacy}", "received_events_url": "https://api.github.com/users/sp00m/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-23T13:22:31Z", "updated_at": "2018-05-23T21:43:17Z", "closed_at": "2018-05-23T21:43:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "In 2.1.0, when a client tries to connect with an invalid namespace, an error was emitted: `Invalid namespace`.\r\n\r\nIn 2.1.1, this error isn't emitted anymore.\r\n\r\nThe only proper code diff between 2.1.0 and 2.1.1 seems to be [`local` added to `flags`](https://github.com/socketio/socket.io/compare/2.1.0...2.1.1#diff-9b2f90c89d460ee80ced18e01748824e). Any idea how could this simple change have such an impact?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3254", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3254/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3254/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3254/events", "html_url": "https://github.com/socketio/socket.io/issues/3254", "id": 325319451, "node_id": "MDU6SXNzdWUzMjUzMTk0NTE=", "number": 3254, "title": "ar", "user": {"login": "kkall002", "id": 22036578, "node_id": "MDQ6VXNlcjIyMDM2NTc4", "avatar_url": "https://avatars2.githubusercontent.com/u/22036578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkall002", "html_url": "https://github.com/kkall002", "followers_url": "https://api.github.com/users/kkall002/followers", "following_url": "https://api.github.com/users/kkall002/following{/other_user}", "gists_url": "https://api.github.com/users/kkall002/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkall002/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkall002/subscriptions", "organizations_url": "https://api.github.com/users/kkall002/orgs", "repos_url": "https://api.github.com/users/kkall002/repos", "events_url": "https://api.github.com/users/kkall002/events{/privacy}", "received_events_url": "https://api.github.com/users/kkall002/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-22T14:27:01Z", "updated_at": "2018-05-23T20:52:29Z", "closed_at": "2018-05-23T20:52:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Note*: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n**Note**: the best way to get a quick answer is to provide a failing test case, by forking the following [fiddle](https://github.com/darrachequesne/socket.io-fiddle) for example.\r\n\r\n### Expected behaviour\r\n\r\n\r\n### Setup\r\n- OS:\r\n- browser:\r\n- socket.io version:\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3252", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3252/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3252/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3252/events", "html_url": "https://github.com/socketio/socket.io/issues/3252", "id": 324661499, "node_id": "MDU6SXNzdWUzMjQ2NjE0OTk=", "number": 3252, "title": "PLEASE DELETE", "user": {"login": "staghouse", "id": 1939508, "node_id": "MDQ6VXNlcjE5Mzk1MDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1939508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/staghouse", "html_url": "https://github.com/staghouse", "followers_url": "https://api.github.com/users/staghouse/followers", "following_url": "https://api.github.com/users/staghouse/following{/other_user}", "gists_url": "https://api.github.com/users/staghouse/gists{/gist_id}", "starred_url": "https://api.github.com/users/staghouse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/staghouse/subscriptions", "organizations_url": "https://api.github.com/users/staghouse/orgs", "repos_url": "https://api.github.com/users/staghouse/repos", "events_url": "https://api.github.com/users/staghouse/events{/privacy}", "received_events_url": "https://api.github.com/users/staghouse/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-19T21:23:52Z", "updated_at": "2018-05-19T23:06:52Z", "closed_at": "2018-05-19T23:06:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "PLEASE DELETE", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3251", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3251/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3251/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3251/events", "html_url": "https://github.com/socketio/socket.io/issues/3251", "id": 324240891, "node_id": "MDU6SXNzdWUzMjQyNDA4OTE=", "number": 3251, "title": "Backend not firing any event to frontend, though in connected state", "user": {"login": "harishankards", "id": 5006693, "node_id": "MDQ6VXNlcjUwMDY2OTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5006693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harishankards", "html_url": "https://github.com/harishankards", "followers_url": "https://api.github.com/users/harishankards/followers", "following_url": "https://api.github.com/users/harishankards/following{/other_user}", "gists_url": "https://api.github.com/users/harishankards/gists{/gist_id}", "starred_url": "https://api.github.com/users/harishankards/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harishankards/subscriptions", "organizations_url": "https://api.github.com/users/harishankards/orgs", "repos_url": "https://api.github.com/users/harishankards/repos", "events_url": "https://api.github.com/users/harishankards/events{/privacy}", "received_events_url": "https://api.github.com/users/harishankards/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-18T01:35:52Z", "updated_at": "2018-05-18T06:57:35Z", "closed_at": "2018-05-18T06:57:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone,\r\nIn my project, I'm using node.js(express) for backend API running at `localhost:3000` and Vue for frontend running at `localhost:8080`:\r\nPlease find my code in the gist:\r\nhttps://gist.github.com/harishankards/82c8d103381df5c6f79af15bca8392e0\r\n\r\nIn frontend, I receive `the socket is connected`\r\n\r\nBut, in the backend I could not see any consoles from the connect event:\r\nlike `An user connected` or so.\r\n\r\nPlease let me know what am I doing wrong.\r\n\r\nLooking forward", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3249", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3249/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3249/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3249/events", "html_url": "https://github.com/socketio/socket.io/issues/3249", "id": 324197305, "node_id": "MDU6SXNzdWUzMjQxOTczMDU=", "number": 3249, "title": "Cannot Resolve 'uws', Update README or \"package.json\"?", "user": {"login": "Zehua-Chen", "id": 31496190, "node_id": "MDQ6VXNlcjMxNDk2MTkw", "avatar_url": "https://avatars2.githubusercontent.com/u/31496190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zehua-Chen", "html_url": "https://github.com/Zehua-Chen", "followers_url": "https://api.github.com/users/Zehua-Chen/followers", "following_url": "https://api.github.com/users/Zehua-Chen/following{/other_user}", "gists_url": "https://api.github.com/users/Zehua-Chen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zehua-Chen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zehua-Chen/subscriptions", "organizations_url": "https://api.github.com/users/Zehua-Chen/orgs", "repos_url": "https://api.github.com/users/Zehua-Chen/repos", "events_url": "https://api.github.com/users/Zehua-Chen/events{/privacy}", "received_events_url": "https://api.github.com/users/Zehua-Chen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2018-05-17T21:45:19Z", "updated_at": "2020-04-14T11:13:03Z", "closed_at": "2018-07-22T03:38:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Note*: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nI downloaded the example project **webpack-build-server** from socket.io's master branch, run `npm install` to install the dependencies, and finally run `npm run build` to try to bundle the server, but webpack gives me the following errors:\r\n\r\n````\r\nERROR in ./~/engine.io/lib/server.js\r\nModule not found: Error: Can't resolve 'uws' in '/Users/ZehuaChen/Downloads/socket.io-master/examples/webpack-build-server/node_modules/engine.io/lib'\r\n @ ./~/engine.io/lib/server.js 107:27-41\r\n @ ./~/engine.io/lib/engine.io.js\r\n @ ./~/socket.io/lib/index.js\r\n @ ./lib/index.js\r\n````\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\n1. Download socket.io's master branch\r\n2. Go to `examples/webpack-build-server`;\r\n3. Run `npm install`;\r\n4. Run `npm run build`;\r\n\r\n**Note**: the best way to get a quick answer is to provide a failing test case, by forking the following [fiddle](https://github.com/darrachequesne/socket.io-fiddle) for example.\r\n\r\n### Expected behaviour\r\n\r\nA server.js file should be produced in `dist` folder.\r\n\r\n### Setup\r\n- OS: macOS Hight SIerra\r\n- browser: Safari\r\n- socket.io version: 2.0.3\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nThese are what's printed in my terminal\r\n\r\n````\r\n> webpack-build-server@1.0.0 build /Users/ZehuaChen/Downloads/socket.io-master/examples/webpack-build-server\r\n> webpack --config ./support/webpack.config.js\r\n\r\nHash: 997a1fd1ee0b1b064485\r\nVersion: webpack 2.7.0\r\nTime: 468ms\r\n    Asset    Size  Chunks                    Chunk Names\r\nserver.js  401 kB       0  [emitted]  [big]  main\r\n   [0] ./~/debug/src/index.js 263 bytes {0} [built]\r\n   [7] ./~/socket.io-parser/index.js 8.04 kB {0} [built]\r\n  [16] ./~/engine.io/lib/socket.js 11.6 kB {0} [built]\r\n  [17] ./~/engine.io/lib/transports/index.js 509 bytes {0} [built]\r\n  [19] ./~/socket.io-parser/is-buffer.js 712 bytes {0} [built]\r\n  [20] ./~/socket.io/lib/namespace.js 5.81 kB {0} [built]\r\n  [31] ./~/socket.io/lib/index.js 12.9 kB {0} [built]\r\n  [32] ./lib/index.js 474 bytes {0} [built]\r\n  [43] ./~/engine.io/lib/engine.io.js 2.38 kB {0} [built]\r\n  [44] ./~/engine.io/lib/server.js 15.1 kB {0} [built]\r\n  [58] ./~/socket.io-adapter/index.js 5.44 kB {0} [built]\r\n  [59] ./~/socket.io-client/package.json 3.19 kB {0} [built]\r\n  [61] ./~/socket.io/lib 160 bytes {0} [built]\r\n  [62] ./~/socket.io/lib/client.js 5.9 kB {0} [built]\r\n  [63] ./~/socket.io/lib/parent-namespace.js 917 bytes {0} [built]\r\n    + 59 hidden modules\r\n\r\nWARNING in ./~/ws/lib/Validation.js\r\nModule not found: Error: Can't resolve 'utf-8-validate' in '/Users/ZehuaChen/Downloads/socket.io-master/examples/webpack-build-server/node_modules/ws/lib'\r\n @ ./~/ws/lib/Validation.js 10:22-47\r\n @ ./~/ws/lib/Receiver.js\r\n @ ./~/ws/index.js\r\n @ ./~/engine.io/lib/server.js\r\n @ ./~/engine.io/lib/engine.io.js\r\n @ ./~/socket.io/lib/index.js\r\n @ ./lib/index.js\r\n\r\nWARNING in ./~/ws/lib/BufferUtil.js\r\nModule not found: Error: Can't resolve 'bufferutil' in '/Users/ZehuaChen/Downloads/socket.io-master/examples/webpack-build-server/node_modules/ws/lib'\r\n @ ./~/ws/lib/BufferUtil.js 35:21-42\r\n @ ./~/ws/lib/Receiver.js\r\n @ ./~/ws/index.js\r\n @ ./~/engine.io/lib/server.js\r\n @ ./~/engine.io/lib/engine.io.js\r\n @ ./~/socket.io/lib/index.js\r\n @ ./lib/index.js\r\n\r\nWARNING in ./~/socket.io/lib/index.js\r\n113:11-32 Critical dependency: the request of a dependency is an expression\r\n\r\nERROR in ./~/engine.io/lib/server.js\r\nModule not found: Error: Can't resolve 'uws' in '/Users/ZehuaChen/Downloads/socket.io-master/examples/webpack-build-server/node_modules/engine.io/lib'\r\n @ ./~/engine.io/lib/server.js 107:27-41\r\n @ ./~/engine.io/lib/engine.io.js\r\n @ ./~/socket.io/lib/index.js\r\n @ ./lib/index.js\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 2\r\nnpm ERR! webpack-build-server@1.0.0 build: `webpack --config ./support/webpack.config.js`\r\nnpm ERR! Exit status 2\r\nnpm ERR!\r\nnpm ERR! Failed at the webpack-build-server@1.0.0 build script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /Users/ZehuaChen/.npm/_logs/2018-05-17T21_30_47_624Z-debug.log\r\n````\r\n\r\n#### Update\r\n\r\nI install `uws` package manually and it seems to work. Can someone update the README file or package.json since it's really hard for a beginner like me to figure this out.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3246", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3246/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3246/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3246/events", "html_url": "https://github.com/socketio/socket.io/issues/3246", "id": 322539155, "node_id": "MDU6SXNzdWUzMjI1MzkxNTU=", "number": 3246, "title": "Disconnecting when send non english character message (centOS)", "user": {"login": "khancyai", "id": 13944303, "node_id": "MDQ6VXNlcjEzOTQ0MzAz", "avatar_url": "https://avatars3.githubusercontent.com/u/13944303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khancyai", "html_url": "https://github.com/khancyai", "followers_url": "https://api.github.com/users/khancyai/followers", "following_url": "https://api.github.com/users/khancyai/following{/other_user}", "gists_url": "https://api.github.com/users/khancyai/gists{/gist_id}", "starred_url": "https://api.github.com/users/khancyai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khancyai/subscriptions", "organizations_url": "https://api.github.com/users/khancyai/orgs", "repos_url": "https://api.github.com/users/khancyai/repos", "events_url": "https://api.github.com/users/khancyai/events{/privacy}", "received_events_url": "https://api.github.com/users/khancyai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-12T20:05:16Z", "updated_at": "2018-05-15T11:23:28Z", "closed_at": "2018-05-12T20:46:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nIn my chat applicaton, when user types non english characters disconnecting from socket pool on centOS machine. \r\n\r\nBut, on local machine macOS doesn't disconnecting accepting all characters even emojies. \r\n\r\nWhy this is happening? Can you help me to for fixing.\r\n\r\nThank you.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3243", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3243/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3243/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3243/events", "html_url": "https://github.com/socketio/socket.io/issues/3243", "id": 321404952, "node_id": "MDU6SXNzdWUzMjE0MDQ5NTI=", "number": 3243, "title": "About .broadcast and .emit", "user": {"login": "BadmasterY", "id": 23166738, "node_id": "MDQ6VXNlcjIzMTY2NzM4", "avatar_url": "https://avatars0.githubusercontent.com/u/23166738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BadmasterY", "html_url": "https://github.com/BadmasterY", "followers_url": "https://api.github.com/users/BadmasterY/followers", "following_url": "https://api.github.com/users/BadmasterY/following{/other_user}", "gists_url": "https://api.github.com/users/BadmasterY/gists{/gist_id}", "starred_url": "https://api.github.com/users/BadmasterY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BadmasterY/subscriptions", "organizations_url": "https://api.github.com/users/BadmasterY/orgs", "repos_url": "https://api.github.com/users/BadmasterY/repos", "events_url": "https://api.github.com/users/BadmasterY/events{/privacy}", "received_events_url": "https://api.github.com/users/BadmasterY/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-09T02:03:14Z", "updated_at": "2018-06-15T07:33:12Z", "closed_at": "2018-06-15T07:33:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now there is the following code in the server.js file:\r\n```\r\nconst express = require('express');\r\n\r\nlet app = express();\r\n\r\nlet server = require('http').createServer(app);\r\n\r\nserver.listen(3000);\r\n\r\napp.use(express.static('public'));\r\n\r\nlet positions = {};\r\nlet total = 0;\r\n\r\nlet io = require('socket.io')(server);\r\n\r\nio.on('connection',function(client){\r\n\tclient.id = ++total;\r\n\r\n\tclient.send(JSON.stringify(positions));\r\n\r\n\tclient.on('message',function(data){\r\n\t\tlet pos;\r\n\t\ttry{\r\n\t\t\tpos = JSON.parse(data);\r\n\t\t} catch(e){\r\n\t\t\tconsole.log(e);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tpositions[client.id] = pos;\r\n\r\n\t\tconsole.log(JSON.stringify({type:'position',pos:pos,id:client.id}));\r\n\r\n\t\tclient.broadcast.emit('message',JSON.stringify({type:'position',pos:pos,id:client.id}));\r\n\t});\r\n\r\n\tclient.on('disconnect',function(){\r\n\t\tdelete positions[client.id];\r\n\t\tclient.broadcast.emit('disconnect',JSON.stringify({type:'disconnect',id:client.id}));\r\n\t});\r\n});\r\n\r\nconsole.log(' \\033[90mServer listening 127.0.0.1:3000\\033[39m');\r\n```\r\nThen the index.html file contains the following code:\r\n```\r\n<script src=\"/socket.io/socket.io.js\"></script>\r\n<script type=\"text/javascript\">\r\n\twindow.onload = function(){\r\n\t\tvar ws = io();\r\n\r\n\t\tws.on('connect',function(){\r\n\t\t\tdocument.onmousemove = function(ev){\r\n\t\t\t\tws.send(JSON.stringify({x:ev.clientX,y:ev.clientY}));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tws.on('message',function(serverData){\r\n\t\t\tconsole.log(serverData);\r\n\t\t});\r\n\t}\r\n</script>\r\n```\r\nThis is not a problem, but I don't want to broadcast the information to the sender. Then I also looked at the demo of the simple chat system, although I found a related introduction at the end, but I didn't seem to find it.\r\n\r\nEmmm, maybe I missed something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3236", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3236/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3236/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3236/events", "html_url": "https://github.com/socketio/socket.io/issues/3236", "id": 319969213, "node_id": "MDU6SXNzdWUzMTk5NjkyMTM=", "number": 3236, "title": "client reconnect timer keeps node from closing", "user": {"login": "frostius", "id": 3818866, "node_id": "MDQ6VXNlcjM4MTg4NjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3818866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frostius", "html_url": "https://github.com/frostius", "followers_url": "https://api.github.com/users/frostius/followers", "following_url": "https://api.github.com/users/frostius/following{/other_user}", "gists_url": "https://api.github.com/users/frostius/gists{/gist_id}", "starred_url": "https://api.github.com/users/frostius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frostius/subscriptions", "organizations_url": "https://api.github.com/users/frostius/orgs", "repos_url": "https://api.github.com/users/frostius/repos", "events_url": "https://api.github.com/users/frostius/events{/privacy}", "received_events_url": "https://api.github.com/users/frostius/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-03T15:25:45Z", "updated_at": "2018-05-03T15:56:13Z", "closed_at": "2018-05-03T15:56:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Setup\r\n- OS: Win10, node 9.4.0\r\n- browser:none\r\n- socket.io version:2.1.0\r\n\r\n### Current behaviour\r\nI can't get socket-io.client to properly close in node.  Calling close()  doesn't stop the reconnect() timer (manager.js) and it continues to restart and keeps the node event loop open.\r\n\r\n###Quick fix\r\nI made a local patch to unref the timer.  I'm not proposing this as a solution, but it does resolve the issue for me.  It looks like there is an attempt to stop the timer via the destroy() function, but something is restarting it (race condition?)\r\n\r\npatch: manager.js line:552\r\n   ```if( typeof(timer)==='object' ) timer.unref();```\r\n\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\nOpen a socket client from withing node and call socket close().  The reconnect timer will prevent node from exiting\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3233", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3233/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3233/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3233/events", "html_url": "https://github.com/socketio/socket.io/issues/3233", "id": 318613030, "node_id": "MDU6SXNzdWUzMTg2MTMwMzA=", "number": 3233, "title": "Client not sending second (nor next ones) emit(), just first one.", "user": {"login": "virstark", "id": 20523461, "node_id": "MDQ6VXNlcjIwNTIzNDYx", "avatar_url": "https://avatars0.githubusercontent.com/u/20523461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/virstark", "html_url": "https://github.com/virstark", "followers_url": "https://api.github.com/users/virstark/followers", "following_url": "https://api.github.com/users/virstark/following{/other_user}", "gists_url": "https://api.github.com/users/virstark/gists{/gist_id}", "starred_url": "https://api.github.com/users/virstark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/virstark/subscriptions", "organizations_url": "https://api.github.com/users/virstark/orgs", "repos_url": "https://api.github.com/users/virstark/repos", "events_url": "https://api.github.com/users/virstark/events{/privacy}", "received_events_url": "https://api.github.com/users/virstark/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-28T08:17:19Z", "updated_at": "2018-04-29T08:10:00Z", "closed_at": "2018-04-29T08:10:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Note*: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nIt does a successful connection between server-client, but when I try to send the second emit, it never flushes. It can receive all events from server, but client cannot emit no one save first. As it continues in that state, finally it get disconnected from server.\r\n\r\nI use { transports: ['websockets'] } in this example, but changing to any other I get the same result.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nSERVER CODE (**index.js**):\r\n\r\n```\r\nvar http = require('http');\r\n\r\nvar server = http.createServer(function(req, res) {\r\n}).listen(3333);\r\n\r\nvar io = require('socket.io')(server);\r\n\r\nio.on('connection', function(socket) {  \r\n\tconsole.log('* An user (#' + socket.id + ') has connected.\\n');\r\n\t\r\n\tsocket.on('set_username', function(username) {\r\n\t\tconsole.log('* User (#' + socket.id + ') has changed his username to:', username);\r\n\t});\r\n\r\n\tsocket.on('set_channel', function(username, channel) {\r\n\t\tconsole.log('* User', username, 'has joined channel #', channel);\r\n\t\t\r\n\t\tsocket.broadcast.to(channel).emit('join_channel', username);\r\n\t\t\r\n\t\tsocket.join(channel);\r\n\t});\r\n\t\r\n\tsocket.on('disconnect', function() {\r\n\t\tconsole.log('* An user (#' + socket.id + ') has quit.');\r\n\t});\r\n\t\r\n\tsocket.on('message_channel', function(username, channel, message) {\r\n\t\tsocket.broadcast.to(channel).emit('message_channel', username, message);\r\n\t});\r\n\r\n});\r\n```\r\n\r\nCLIENT CODE (**index.html**):\r\n\r\n```\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n\t<meta http-equiv=\"Cache-Control\" content=\"no-store\" />\r\n\r\n\t<script type=\"text/javascript\" src=\"http://localhost:3333/socket.io/socket.io.js\"></script>\r\n\t<script>\r\n\t\r\n\t\t// 1) FULL DEBUG\r\n\t\tlocalStorage.debug = \"*\";\r\n\r\n\t\t// 2) CONNECT\r\n\t\tconst socket = io(\"http://localhost:3333\", {\r\n\t\t\ttransports: ['websocket']\r\n\t\t});\r\n\r\n\t\t// 3) EVENTS\r\n\t\tsocket.on('connect', function() {\r\n\t\t\tconsole.log('* Connected to server.');\r\n\t\t});\r\n\t\t\t\r\n\t\tsocket.on('message_channel', function(username, message) {\r\n\t\t\tconsole.log('<' + username + '>', message);\r\n\t\t});\r\n\t\t\r\n\t\tsocket.on('join_channel', function(username) {\r\n\t\t\tconsole.log(username, 'has joined.');\r\n\t\t});\r\n\r\n\t\t// 4) GET USER DATA AND MESSAGES\r\n\t\t// 4.1) Username\r\n\t\tvar username = prompt('Username:');\r\n\t\t\r\n\t\tsocket.emit('set_username', username);\r\n\r\n\t\t// 4.2) Channel to join\r\n\t\tvar channel = prompt('Channel to join:');\r\n\t\t\r\n\t\tsocket.emit('set_channel', username, channel);\r\n\r\n\t\t// 4.3) All messages and quit\r\n\t\twhile(true) {\r\n\t\t\tmessage = prompt('Write something (/quit, for disconnect):');\r\n\t\t\t\r\n\t\t\tif(message == \"/quit\") {\r\n\t\t\t\tsocket.disconnect();\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('<' + username + '>', message);\r\n\t\t\t\r\n\t\t\t\tsocket.emit('message_channel', username, channel, message);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t</script>\r\n</head>\r\n<body>\r\n\tSOCKETS.IO test\r\n</body>\r\n</html>\r\n```\r\n\r\n1) Use: node index.js\r\n2) Open in a simple tab index.html\r\n3) It will start asking you first for an username, so write one. (this emit() works).\r\n4) It will ask for a channel to join (after this, no more emit() from client works).\r\n5) It will ask you for a random messages to put in channel.\r\n6) It finally gets disconnected.\r\n\r\n### Expected behaviour\r\n\r\nTo get in server at least first, second an all emits sent by the client.\r\n\r\n### Setup\r\n- OS: Windows 10\r\n- browser: Firefox, Edge.\r\n- socket.io version: 2.1.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nFULL DEBUG FROM CONSOLE:\r\n\r\n```\r\nsocket.io-client:url parse http://localhost:3333 +0ms\r\nsocket.io.js:6:3797\r\nsocket.io-client new io instance for http://localhost:3333 +0ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager readyState closed +0ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager opening http://localhost:3333 +2ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket creating transport \"websocket\" +0ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket setting transport websocket +4ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager connect attempt will timeout after 20000 +6ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager readyState opening +2ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket socket receive: type \"open\", data \"{\"sid\":\"tt_kasamKj5d9D6WAAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +152ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket socket open +2ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager open +152ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager cleanup +4ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:socket transport is open - connecting +0ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket socket receive: type \"message\", data \"0\" +8ms\r\nsocket.io.js:6:3797\r\nsocket.io-parser decoded 0 as {\"type\":0,\"nsp\":\"/\"} +0ms\r\nsocket.io.js:6:3797\r\n* Connected to server.\r\nlocalhost:3333:19:4\r\nsocket.io-client:manager writing packet {\"type\":2,\"data\":[\"set_username\",\"mati\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} +9s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoding packet {\"type\":2,\"data\":[\"set_username\",\"mati\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} +9s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoded {\"type\":2,\"data\":[\"set_username\",\"mati\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} as 2[\"set_username\",\"mati\"] +2ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket flushing 1 packets in socket +9s\r\nsocket.io.js:6:3797\r\nCONECTADO: true\r\nlocalhost:3333:37:3\r\nsocket.io-client:socket emitting packet with ack id 0 +13s\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager writing packet {\"type\":2,\"data\":[\"set_channel\",\"mati\",\"asdf\"],\"options\":{\"compress\":true},\"id\":0,\"nsp\":\"/\"} +4s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoding packet {\"type\":2,\"data\":[\"set_channel\",\"mati\",\"asdf\"],\"options\":{\"compress\":true},\"id\":0,\"nsp\":\"/\"} +4s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoded {\"type\":2,\"data\":[\"set_channel\",\"mati\",\"asdf\"],\"options\":{\"compress\":true},\"id\":0,\"nsp\":\"/\"} as 20[\"set_channel\",\"mati\",\"asdf\"] +2ms\r\nsocket.io.js:6:3797\r\n<mati> hello world\r\nlocalhost:3333:51:5\r\nsocket.io-client:manager writing packet {\"type\":2,\"data\":[\"message_channel\",\"mati\",\"asdf\",\"hello world\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} +6s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoding packet {\"type\":2,\"data\":[\"message_channel\",\"mati\",\"asdf\",\"hello world\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} +6s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoded {\"type\":2,\"data\":[\"message_channel\",\"mati\",\"asdf\",\"hello world\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} as 2[\"message_channel\",\"mati\",\"asdf\",\"hello world\"] +0ms\r\nsocket.io.js:6:3797\r\n<mati> not working :(\r\nlocalhost:3333:51:5\r\nsocket.io-client:manager writing packet {\"type\":2,\"data\":[\"message_channel\",\"mati\",\"asdf\",\"not working :(\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} +2s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoding packet {\"type\":2,\"data\":[\"message_channel\",\"mati\",\"asdf\",\"not working :(\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} +2s\r\nsocket.io.js:6:3797\r\nsocket.io-parser encoded {\"type\":2,\"data\":[\"message_channel\",\"mati\",\"asdf\",\"not working :(\"],\"options\":{\"compress\":true},\"nsp\":\"/\"} as 2[\"message_channel\",\"mati\",\"asdf\",\"not working :(\"] +2ms\r\nsocket.io.js:6:3797\r\nengine.io-client:socket socket close with reason: \"transport close\" +30s\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager onclose +18s\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager cleanup +2ms\r\nsocket.io.js:6:3797\r\nsocket.io-client:socket close (transport close) +26s\r\nsocket.io.js:6:3797\r\nsocket.io-client:manager will wait 1067ms before reconnect attempt +2ms\r\n```\r\n\r\n![imagen](https://user-images.githubusercontent.com/20523461/39394047-55c54766-4aa3-11e8-9af8-578ffcd2eeae.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3229", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3229/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3229/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3229/events", "html_url": "https://github.com/socketio/socket.io/issues/3229", "id": 317690738, "node_id": "MDU6SXNzdWUzMTc2OTA3Mzg=", "number": 3229, "title": "Updating from 2.0.4 to 2.1.0 breaks my app", "user": {"login": "jacargentina", "id": 517228, "node_id": "MDQ6VXNlcjUxNzIyOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/517228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacargentina", "html_url": "https://github.com/jacargentina", "followers_url": "https://api.github.com/users/jacargentina/followers", "following_url": "https://api.github.com/users/jacargentina/following{/other_user}", "gists_url": "https://api.github.com/users/jacargentina/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacargentina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacargentina/subscriptions", "organizations_url": "https://api.github.com/users/jacargentina/orgs", "repos_url": "https://api.github.com/users/jacargentina/repos", "events_url": "https://api.github.com/users/jacargentina/events{/privacy}", "received_events_url": "https://api.github.com/users/jacargentina/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-25T15:55:48Z", "updated_at": "2018-04-25T17:31:55Z", "closed_at": "2018-04-25T17:31:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nJust updated to latest version. My package.json diff is:\r\n\r\n-    \"socket.io\": \"^2.0.4\",\r\n-    \"socket.io-client\": \"^2.0.4\",\r\n+    \"socket.io\": \"^2.1.0\",\r\n+    \"socket.io-client\": \"^2.1.0\",\r\n\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nMy app was working just right; but now the clients are not connecting. I've found this. `DEBUG=socket.io:* npm start`\r\n\r\nShows:\r\n\r\n```\r\nsocket.io:server incoming connection with id yMvuIWVFd1pRLMJsAAAN +6s\r\n  socket.io:client connecting to namespace / +6s\r\n  socket.io:namespace adding socket to nsp / +6s\r\n  socket.io:socket socket connected - writing packet +6s\r\n  socket.io:socket joining room yMvuIWVFd1pRLMJsAAAN +0ms\r\n  socket.io:socket packet already sent in initial handshake +1ms\r\n  socket.io:socket joined room yMvuIWVFd1pRLMJsAAAN +0ms\r\n  socket.io:client no socket for namespace undefined +1ms\r\n```\r\nI'm suspecting of the last line. That `undefined` looks like a bug, OR a breaking change not stated on the docs? May be it is related to the **new feature dynamic namespaces** (which i'm not using...)\r\n\r\n### Expected behaviour\r\n\r\nJust Work (TM)\r\n\r\n### Setup\r\n- OS: Linux\r\n- browser: Chrome\r\n- socket.io version: 2.1.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nAlready posted on the DEBUG logs.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3226", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3226/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3226/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3226/events", "html_url": "https://github.com/socketio/socket.io/issues/3226", "id": 315499767, "node_id": "MDU6SXNzdWUzMTU0OTk3Njc=", "number": 3226, "title": "Websocket broken with 2.1.0 and cluster / socket.io-redis", "user": {"login": "bendenoz", "id": 3428395, "node_id": "MDQ6VXNlcjM0MjgzOTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3428395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendenoz", "html_url": "https://github.com/bendenoz", "followers_url": "https://api.github.com/users/bendenoz/followers", "following_url": "https://api.github.com/users/bendenoz/following{/other_user}", "gists_url": "https://api.github.com/users/bendenoz/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendenoz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendenoz/subscriptions", "organizations_url": "https://api.github.com/users/bendenoz/orgs", "repos_url": "https://api.github.com/users/bendenoz/repos", "events_url": "https://api.github.com/users/bendenoz/events{/privacy}", "received_events_url": "https://api.github.com/users/bendenoz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-04-18T14:17:17Z", "updated_at": "2018-12-19T08:21:34Z", "closed_at": "2018-12-19T08:21:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "*Note*: for support questions, please use one of these channels: [stackoverflow](http://stackoverflow.com/questions/tagged/socket.io) or [slack](https://socketio.slack.com)\r\n\r\n### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nJust wanted to mention upgrading to 2.1.0 silently broke websocket on my setup.  \r\nIt took some time to realize because it was properly falling back to polling only.\r\n\r\nReverting to 2.0.4 server (not client) resolves the problem for now\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nupgrade to socke.io to 2.1.0\r\n\r\n**Note**: the best way to get a quick answer is to provide a failing test case, by forking the following [fiddle](https://github.com/darrachequesne/socket.io-fiddle) for example.\r\n\r\nupdate, the issue is apparently connected to the use of cluster, and ioredis adapter\r\n\r\nrepro: \r\n\r\n```javascript\r\n\r\nconst express = require('express');\r\nconst app = express();\r\nconst server = require('http').createServer(app);\r\nconst io = require('socket.io')(server);\r\nconst port = process.env.PORT || 3000;\r\nconst cluster = require('cluster');\r\nconst adapter = require('socket.io-redis');\r\n\r\nif (cluster.isMaster) {\r\n  for (var i =0; i < 4; i++) {\r\n    cluster.fork();\r\n  }\r\n} else {\r\n  app.use(express.static(__dirname + '/public'));\r\n\r\n  io.on('connect', onConnect);\r\n  server.listen(port, () => console.log('server listening on port ' + port));\r\n  io.adapter(adapter(redisServer));\r\n\r\n  function onConnect(socket){\r\n    console.log('connect ' + socket.id);\r\n\r\n    socket.on('disconnect', () => console.log('disconnect ' + socket.id));\r\n  }\r\n}\r\n```\r\n\r\n### Expected behaviour\r\n\r\nworking websockets\r\n\r\n### Setup\r\n- OS:\r\n- browser:\r\n- socket.io version: 2.1.0\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\n#### Server errors\r\n\r\nDEBUG=socket.io* DEBUG=engine*\r\n\r\n```\r\n  engine handshaking client \"1jSK1mUZdTy7N0jXAAAA\" +0ms\r\n  engine:socket sending packet \"open\" ({\"sid\":\"1jSK1mUZdTy7N0jXAAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +0ms\r\n  engine:socket flushing buffer to transport +13ms\r\n  engine:ws writing \"0{\"sid\":\"1jSK1mUZdTy7N0jXAAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +0ms\r\n  engine:socket sending packet \"message\" (0) +16ms\r\n  engine:transport setting request +0ms\r\nThe server is running at http://localhost:8000/ (#43756)\r\n  engine:socket flushing buffer to transport +65ms\r\n  engine:ws writing \"40\" +80ms\r\n  engine:socket transport error +1ms\r\n  engine:ws closing +3ms\r\n  engine:socket error triggered by discarded transport +52ms\r\n  engine handshaking client \"Nphvg46q6cw4bh_7AAAA\" +0ms\r\n  engine:socket sending packet \"open\" ({\"sid\":\"Nphvg46q6cw4bh_7AAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +0ms\r\n  engine:socket flushing buffer to transport +1ms\r\n  engine:ws writing \"0{\"sid\":\"Nphvg46q6cw4bh_7AAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +0ms\r\n  engine:socket sending packet \"message\" (0) +2ms\r\n  engine:transport setting request +0ms\r\n  engine:socket flushing buffer to transport +7ms\r\n  engine:ws writing \"40\" +8ms\r\n  engine:socket transport error +1ms\r\n  engine:ws closing +2ms\r\n  engine:socket error triggered by discarded transport +8ms\r\n  engine handshaking client \"qYiMn4woVqVKvFmqAAAA\" +0ms\r\n  engine:socket sending packet \"open\" ({\"sid\":\"qYiMn4woVqVKvFmqAAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +0ms\r\n  engine:socket flushing buffer to transport +1ms\r\n  engine:ws writing \"0{\"sid\":\"qYiMn4woVqVKvFmqAAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +0ms\r\n  engine:socket sending packet \"message\" (0) +4ms\r\n  engine:transport setting request +0ms\r\n  engine:socket flushing buffer to transport +7ms\r\n  engine:ws writing \"40\" +10ms\r\n  engine:socket transport error +3ms\r\n  engine:ws closing +3ms\r\n  engine:socket error triggered by discarded transport +18ms\r\n  engine handshaking client \"FcW9mtO-3dnEvaA-AAAA\" +0ms\r\n  engine:socket sending packet \"open\" ({\"sid\":\"FcW9mtO-3dnEvaA-AAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +0ms\r\n  engine:socket flushing buffer to transport +3ms\r\n  engine:ws writing \"0{\"sid\":\"FcW9mtO-3dnEvaA-AAAA\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +0ms\r\n  engine:socket sending packet \"message\" (0) +27ms\r\n  engine:transport setting request +0ms\r\n  engine:socket flushing buffer to transport +14ms\r\n  engine:ws writing \"40\" +35ms\r\n  engine:socket transport error +3ms\r\n  engine:ws closing +5ms\r\n  engine:socket error triggered by discarded transport +19ms\r\n  engine handshaking client \"16SrwNNmWl1o1sdyAAAB\" +5s\r\n  engine:socket sending packet \"open\" ({\"sid\":\"16SrwNNmWl1o1sdyAAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +5s\r\n  engine:socket flushing buffer to transport +0ms\r\n  engine:ws writing \"0{\"sid\":\"16SrwNNmWl1o1sdyAAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +5s\r\n  engine:socket sending packet \"message\" (0) +1ms\r\n  engine:transport setting request +5s\r\n  engine:socket flushing buffer to transport +3ms\r\n  engine:ws writing \"40\" +4ms\r\n  engine:socket transport error +1ms\r\n  engine:ws closing +1ms\r\n  engine:socket error triggered by discarded transport +6ms\r\n  engine handshaking client \"eW6tDpTdGHrWPEXuAAAB\" +3s\r\n  engine:socket sending packet \"open\" ({\"sid\":\"eW6tDpTdGHrWPEXuAAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +3s\r\n  engine:socket flushing buffer to transport +0ms\r\n  engine:ws writing \"0{\"sid\":\"eW6tDpTdGHrWPEXuAAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +3s\r\n  engine:socket sending packet \"message\" (0) +0ms\r\n  engine:transport setting request +3s\r\n  engine:socket flushing buffer to transport +3ms\r\n  engine:ws writing \"40\" +3ms\r\n  engine:socket transport error +2ms\r\n  engine:ws closing +2ms\r\n  engine:socket error triggered by discarded transport +7ms\r\n  engine handshaking client \"ruhv9xolYbNnqtEkAAAB\" +2s\r\n  engine:socket sending packet \"open\" ({\"sid\":\"ruhv9xolYbNnqtEkAAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +2s\r\n  engine:socket flushing buffer to transport +1ms\r\n  engine:ws writing \"0{\"sid\":\"ruhv9xolYbNnqtEkAAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +2s\r\n  engine:socket sending packet \"message\" (0) +0ms\r\n  engine:transport setting request +2s\r\n  engine:socket flushing buffer to transport +4ms\r\n  engine:ws writing \"40\" +4ms\r\n  engine:socket transport error +0ms\r\n  engine:ws closing +1ms\r\n  engine:socket error triggered by discarded transport +3ms\r\n  engine handshaking client \"gawz_pvsNYywT8i0AAAB\" +3s\r\n  engine:socket sending packet \"open\" ({\"sid\":\"gawz_pvsNYywT8i0AAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}) +3s\r\n  engine:socket flushing buffer to transport +0ms\r\n  engine:ws writing \"0{\"sid\":\"gawz_pvsNYywT8i0AAAB\",\"upgrades\":[],\"pingInterval\":25000,\"pingTimeout\":5000}\" +3s\r\n  engine:socket sending packet \"message\" (0) +1ms\r\n  engine:transport setting request +3s\r\n  engine:socket flushing buffer to transport +5ms\r\n  engine:ws writing \"40\" +6ms\r\n  engine:socket transport error +3ms\r\n  engine:ws closing +3ms\r\n  engine:socket error triggered by discarded transport +2ms\r\n```\r\n\r\n\r\n#### Client errors\r\n\r\n on chrome\r\n\r\n```\r\nwebsocket.js:112 WebSocket connection to 'ws://localhost:8000/socket.io/?EIO=3&transport=websocket' failed: Invalid frame header\r\nWS.doOpen @ websocket.js:112\r\nTransport.open @ transport.js:80\r\nSocket.open @ socket.js:245\r\nSocket @ socket.js:119\r\nSocket @ socket.js:28\r\nManager.open.Manager.connect @ manager.js:226\r\n(anonymous) @ manager.js:540\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3220", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3220/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3220/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3220/events", "html_url": "https://github.com/socketio/socket.io/issues/3220", "id": 313062941, "node_id": "MDU6SXNzdWUzMTMwNjI5NDE=", "number": 3220, "title": "BUG: Emitting to specific socket IDs - won't emit to itself", "user": {"login": "peppies", "id": 2999583, "node_id": "MDQ6VXNlcjI5OTk1ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2999583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peppies", "html_url": "https://github.com/peppies", "followers_url": "https://api.github.com/users/peppies/followers", "following_url": "https://api.github.com/users/peppies/following{/other_user}", "gists_url": "https://api.github.com/users/peppies/gists{/gist_id}", "starred_url": "https://api.github.com/users/peppies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peppies/subscriptions", "organizations_url": "https://api.github.com/users/peppies/orgs", "repos_url": "https://api.github.com/users/peppies/repos", "events_url": "https://api.github.com/users/peppies/events{/privacy}", "received_events_url": "https://api.github.com/users/peppies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-04-10T19:42:17Z", "updated_at": "2019-11-12T10:52:36Z", "closed_at": "2018-04-27T10:50:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Greetings,\r\n\r\nI noticed a bug today, trying to do something simple, took a few hours to realize it was a bug. Let's say a user has multiple tabs open in their browser, and then they turn their \"Away\" status to \"Online\":\r\n\r\nClient side: \r\n```js\r\nsocket.emit('update.online.status', userid);\r\n```\r\nServer side:\r\n```js\r\nsocket.on('update.online.status', function(userid) {\r\n  client.smembers('sockets:'+userid, function(err, reply) { // redis: array of user's socket ids (multiple browser tabs)\r\n    reply.forEach(function(sockid) { // loop through all of the user's sockets\r\n      socket.to(sockid).emit('test', 'test');\r\n    });\r\n  });\r\n});\r\n```\r\n\r\nThe server emits a \"test\" response back to all of the sockets (browser tabs) except the originating socket (tab). In my script, the \"Online\" status gets updated in all of the user's browser tabs - except the one tab where they actually set their online status (and fires off the socket emission to the server).\r\n\r\nThe only solution would be to use socket.emit('test', 'test') if the originating socket == sockid. That additional logic on the server side should not be necessary and should work using socket.to(sockid).emit. Therefore this is a bug.\r\n\r\n\r\nThanks\r\nKind regards\r\nRyan\r\n\r\nEdit by @darrachequesne: style", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3217", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3217/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3217/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3217/events", "html_url": "https://github.com/socketio/socket.io/issues/3217", "id": 311320194, "node_id": "MDU6SXNzdWUzMTEzMjAxOTQ=", "number": 3217, "title": "Broadcast to local instance only when using the redis-adapter", "user": {"login": "sleimanx2", "id": 5547347, "node_id": "MDQ6VXNlcjU1NDczNDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/5547347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sleimanx2", "html_url": "https://github.com/sleimanx2", "followers_url": "https://api.github.com/users/sleimanx2/followers", "following_url": "https://api.github.com/users/sleimanx2/following{/other_user}", "gists_url": "https://api.github.com/users/sleimanx2/gists{/gist_id}", "starred_url": "https://api.github.com/users/sleimanx2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sleimanx2/subscriptions", "organizations_url": "https://api.github.com/users/sleimanx2/orgs", "repos_url": "https://api.github.com/users/sleimanx2/repos", "events_url": "https://api.github.com/users/sleimanx2/events{/privacy}", "received_events_url": "https://api.github.com/users/sleimanx2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-04T17:23:04Z", "updated_at": "2018-04-27T11:03:46Z", "closed_at": "2018-04-27T11:03:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "it's possible to add the local flag when emitting to a room\r\n\r\n```js\r\n // sending to all clients on this node (when using multiple nodes)\r\n io.to(channel).local\r\n     .emit(message.event, channel, message.data)\r\n```\r\n\r\nhowever, when broadcasting from a socket instance it's not possible to add a local flag is there any way to achieve the same behavior?\r\n\r\n```js\r\n// this wont work\r\nsocket.broadcast.to(channel).local\r\n      .emit(message.event, channel, message.data);\r\n```\r\nthank you ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3214", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3214/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3214/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3214/events", "html_url": "https://github.com/socketio/socket.io/issues/3214", "id": 310002645, "node_id": "MDU6SXNzdWUzMTAwMDI2NDU=", "number": 3214, "title": "engine.io block issue", "user": {"login": "suoc", "id": 16681502, "node_id": "MDQ6VXNlcjE2NjgxNTAy", "avatar_url": "https://avatars2.githubusercontent.com/u/16681502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suoc", "html_url": "https://github.com/suoc", "followers_url": "https://api.github.com/users/suoc/followers", "following_url": "https://api.github.com/users/suoc/following{/other_user}", "gists_url": "https://api.github.com/users/suoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/suoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suoc/subscriptions", "organizations_url": "https://api.github.com/users/suoc/orgs", "repos_url": "https://api.github.com/users/suoc/repos", "events_url": "https://api.github.com/users/suoc/events{/privacy}", "received_events_url": "https://api.github.com/users/suoc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-30T07:58:05Z", "updated_at": "2018-09-11T06:18:32Z", "closed_at": "2018-09-11T06:18:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "- socket.io version: 2.1.0\r\n\r\nIf \r\n`for(var i=0;i<100000;i++){\r\n socket.emit('msg',i);\r\n}`\r\n\r\nthe clinet will disconnect...\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3213", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3213/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3213/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3213/events", "html_url": "https://github.com/socketio/socket.io/issues/3213", "id": 309888757, "node_id": "MDU6SXNzdWUzMDk4ODg3NTc=", "number": 3213, "title": "Version with engine.io 3.2.0", "user": {"login": "johanneswuerbach", "id": 864578, "node_id": "MDQ6VXNlcjg2NDU3OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/864578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanneswuerbach", "html_url": "https://github.com/johanneswuerbach", "followers_url": "https://api.github.com/users/johanneswuerbach/followers", "following_url": "https://api.github.com/users/johanneswuerbach/following{/other_user}", "gists_url": "https://api.github.com/users/johanneswuerbach/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanneswuerbach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanneswuerbach/subscriptions", "organizations_url": "https://api.github.com/users/johanneswuerbach/orgs", "repos_url": "https://api.github.com/users/johanneswuerbach/repos", "events_url": "https://api.github.com/users/johanneswuerbach/events{/privacy}", "received_events_url": "https://api.github.com/users/johanneswuerbach/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-29T20:14:22Z", "updated_at": "2018-03-30T06:10:43Z", "closed_at": "2018-03-30T06:10:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "For testem https://github.com/testem/testem we prefer to provide users an experience without any native dependencies due to how npm reports compile/install failures.\r\n\r\nI happily saw that the optional usw dependency was removed in https://github.com/socketio/engine.io/pull/550 and would love to see a socket.io release including https://github.com/socketio/socket.io/commit/b1941d5dfe3d2530bb0f0391088d3c8765ae9695 so we can finally upgrade our socket.io version again :-)\r\n\r\nAny chance to get a new release including said commit?\r\n\r\n\u2764\ufe0f thanks for the great work \ud83d\udc4d \r\n\r\n//cc @stefanpenner", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3212", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3212/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3212/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3212/events", "html_url": "https://github.com/socketio/socket.io/issues/3212", "id": 308821073, "node_id": "MDU6SXNzdWUzMDg4MjEwNzM=", "number": 3212, "title": "Socket.io crashes loading in Electron on MacOS", "user": {"login": "nicolasnoble", "id": 7281574, "node_id": "MDQ6VXNlcjcyODE1NzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/7281574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicolasnoble", "html_url": "https://github.com/nicolasnoble", "followers_url": "https://api.github.com/users/nicolasnoble/followers", "following_url": "https://api.github.com/users/nicolasnoble/following{/other_user}", "gists_url": "https://api.github.com/users/nicolasnoble/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicolasnoble/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicolasnoble/subscriptions", "organizations_url": "https://api.github.com/users/nicolasnoble/orgs", "repos_url": "https://api.github.com/users/nicolasnoble/repos", "events_url": "https://api.github.com/users/nicolasnoble/events{/privacy}", "received_events_url": "https://api.github.com/users/nicolasnoble/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-27T04:50:08Z", "updated_at": "2018-03-27T16:21:46Z", "closed_at": "2018-03-27T16:11:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\n\r\nLoading socket.io fails under MacOS with the Electron runtime:\r\n\r\n```\r\ndyld: lazy symbol binding failed: Symbol not found: _SSL_library_init\r\n  Referenced from: /Users/nnoble/test/node_modules/uws/uws_darwin_57.node\r\n  Expected in: flat namespace\r\n\r\ndyld: Symbol not found: _SSL_library_init\r\n  Referenced from: /Users/nnoble/test/node_modules/uws/uws_darwin_57.node\r\n  Expected in: flat namespace\r\n```\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\n\r\nOn MacOS:\r\n```\r\n$ git clone https://github.com/nicolasnoble/socketio-electron-testcase.git\r\n$ cd socketio-electron-testcase\r\n$ npm install\r\n$ npm start\r\n```\r\n\r\n### Expected behaviour\r\nLoading the module properly.\r\n\r\n### Setup\r\n- OS: MacOS 10.13.3\r\n- browser: not applicable\r\n- socket.io version: 2.0.4\r\n- Electron version: 1.8.4\r\n\r\n### Other information (e.g. stacktraces, related issues, suggestions how to fix)\r\n\r\nThis issue is highly linked to #2984, in a very bad way. It seems the `uws` extension code is trying to load the nodejs runtime under Electron, which is utterly wrong and helplessly broken, especially since the uws extension seems to be no longer maintained. The two runtimes are different when it comes to symbols and behavior, and trying to load a node extension into the Electron runtime simply will never work properly in all platforms. This may kinda works on some, but evidently, not on MacOS.\r\n\r\nThe `uws` extension seems like a bad dependency to have for being able to run on all runtimes and platforms, and potentially relying on https://github.com/nodejs/node/issues/19308 to pass might be the right thing to do here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3209", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3209/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3209/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3209/events", "html_url": "https://github.com/socketio/socket.io/issues/3209", "id": 307262585, "node_id": "MDU6SXNzdWUzMDcyNjI1ODU=", "number": 3209, "title": "failed: Connection closed before receiving a handshake response", "user": {"login": "shapkarin", "id": 1463086, "node_id": "MDQ6VXNlcjE0NjMwODY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1463086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shapkarin", "html_url": "https://github.com/shapkarin", "followers_url": "https://api.github.com/users/shapkarin/followers", "following_url": "https://api.github.com/users/shapkarin/following{/other_user}", "gists_url": "https://api.github.com/users/shapkarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/shapkarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shapkarin/subscriptions", "organizations_url": "https://api.github.com/users/shapkarin/orgs", "repos_url": "https://api.github.com/users/shapkarin/repos", "events_url": "https://api.github.com/users/shapkarin/events{/privacy}", "received_events_url": "https://api.github.com/users/shapkarin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-21T14:14:41Z", "updated_at": "2018-12-17T11:35:37Z", "closed_at": "2018-12-17T11:35:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please help me... I want to use socket.io to check internet conntction and create some offline application features. But i get \"failed: Connection closed before receiving a handshake response\"\r\n\r\nserver \r\n\r\n```javascript\r\nmodule.exports.ping = function(io){\r\n    io.of(\"/ping\").on(\"connection\", function(socket){\r\n        /* ***************************\r\n        EVENT FROM socket.io\r\n        *****************************/\r\n        socket.on(\"connect\", function(){\r\n            console.log(\"ping : user connect\");\r\n        });\r\n        socket.on(\"disconnect\", function(){\r\n            console.log(\"ping : user disconnect\");\r\n        });\r\n    });\r\n};\r\n```\r\n\r\n```javascript\r\n...\r\nvar socketio   = require(\"socket.io\").listen(7070),\r\n    ping       = require(\"./ping.js\");\r\n\r\n//todo: change to hostname\r\nsocketio.set('origins', '*');\r\nping.ping(socketio);\r\n...\r\n```\r\n\r\nclient\r\n```coffee\r\ndefine ['socket.io/node_modules/socket.io-client/dist/socket.io.js'], (io)->\r\n  #At the beginning you should start by a false state\r\n  window.isOnline = false\r\n  #Starting socket.io\r\n  t = io('http://localhost:7070',\r\n    'connect timeout': 1000\r\n    'reconnect': true\r\n    'reconnection delay': 2000\r\n    'max reconnection attempts': 10000\r\n    'force new connection': true,\r\n    'path': '/ping',\r\n    \"reconnectionAttempts\": \"Infinity\",\r\n    \"transports\" : [\"websocket\"])\r\n  t.on 'connect', ->\r\n    window.isOnline = true\r\n    return\r\n  t.on 'connecting', ->\r\n    window.isOnline = false\r\n    return\r\n...\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3208", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3208/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3208/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3208/events", "html_url": "https://github.com/socketio/socket.io/issues/3208", "id": 307224316, "node_id": "MDU6SXNzdWUzMDcyMjQzMTY=", "number": 3208, "title": "https://socket.io \"Payment required\"", "user": {"login": "fotock", "id": 1227375, "node_id": "MDQ6VXNlcjEyMjczNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1227375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fotock", "html_url": "https://github.com/fotock", "followers_url": "https://api.github.com/users/fotock/followers", "following_url": "https://api.github.com/users/fotock/following{/other_user}", "gists_url": "https://api.github.com/users/fotock/gists{/gist_id}", "starred_url": "https://api.github.com/users/fotock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fotock/subscriptions", "organizations_url": "https://api.github.com/users/fotock/orgs", "repos_url": "https://api.github.com/users/fotock/repos", "events_url": "https://api.github.com/users/fotock/events{/privacy}", "received_events_url": "https://api.github.com/users/fotock/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-21T12:27:36Z", "updated_at": "2018-03-22T04:05:02Z", "closed_at": "2018-03-22T04:05:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Website says:\r\n402  \"Payment required\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3200", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3200/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3200/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3200/events", "html_url": "https://github.com/socketio/socket.io/issues/3200", "id": 304717262, "node_id": "MDU6SXNzdWUzMDQ3MTcyNjI=", "number": 3200, "title": "errors", "user": {"login": "didlie", "id": 31107452, "node_id": "MDQ6VXNlcjMxMTA3NDUy", "avatar_url": "https://avatars3.githubusercontent.com/u/31107452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/didlie", "html_url": "https://github.com/didlie", "followers_url": "https://api.github.com/users/didlie/followers", "following_url": "https://api.github.com/users/didlie/following{/other_user}", "gists_url": "https://api.github.com/users/didlie/gists{/gist_id}", "starred_url": "https://api.github.com/users/didlie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/didlie/subscriptions", "organizations_url": "https://api.github.com/users/didlie/orgs", "repos_url": "https://api.github.com/users/didlie/repos", "events_url": "https://api.github.com/users/didlie/events{/privacy}", "received_events_url": "https://api.github.com/users/didlie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-13T11:00:03Z", "updated_at": "2018-05-16T07:52:05Z", "closed_at": "2018-05-16T07:52:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "C:\\xampp\\htdocs>npm install socket.io --save\r\nnpm ERR! code ENOGIT\r\nnpm ERR! No git binary found in $PATH\r\nnpm ERR!\r\nnpm ERR! Failed using git.\r\nnpm ERR! Please check if you have git installed and in your PATH.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     C:\\Users\\Isaac\\AppData\\Roaming\\npm-cache\\_logs\\2018-03-13T10_58_44_793Z-debug.log\r\n\r\nC:\\xampp\\htdocs>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3199", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3199/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3199/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3199/events", "html_url": "https://github.com/socketio/socket.io/issues/3199", "id": 304066492, "node_id": "MDU6SXNzdWUzMDQwNjY0OTI=", "number": 3199, "title": "Issue with Slack button in Header on socket.io website ", "user": {"login": "saberprashant", "id": 20706536, "node_id": "MDQ6VXNlcjIwNzA2NTM2", "avatar_url": "https://avatars0.githubusercontent.com/u/20706536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saberprashant", "html_url": "https://github.com/saberprashant", "followers_url": "https://api.github.com/users/saberprashant/followers", "following_url": "https://api.github.com/users/saberprashant/following{/other_user}", "gists_url": "https://api.github.com/users/saberprashant/gists{/gist_id}", "starred_url": "https://api.github.com/users/saberprashant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saberprashant/subscriptions", "organizations_url": "https://api.github.com/users/saberprashant/orgs", "repos_url": "https://api.github.com/users/saberprashant/repos", "events_url": "https://api.github.com/users/saberprashant/events{/privacy}", "received_events_url": "https://api.github.com/users/saberprashant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-10T12:19:47Z", "updated_at": "2018-03-10T12:46:58Z", "closed_at": "2018-03-10T12:46:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n### I want to:\r\n\r\n* [x] Report a *bug*\r\n\r\n\r\n### Current behaviour\r\nWhile browsing the socket.io website, the Slack button in Header shows number 42 first(which is the no. of users who are currently online on slack), then in 2-3 seconds, it shows the actual no. of users who are online on slack. This problem persists on every refreshing or loading of the webpage as Header is viewable all the time, so this looks very odd to see 42 first and then the actual no. of users.\r\n\r\nI've tried to run the website on other browsers (chrome, microsoft edge and in android phones also) but the problem is same. I am attaching the pic also.  \r\n  \r\n![socket1](https://user-images.githubusercontent.com/20706536/37242163-8e461b7c-248a-11e8-951f-d99624e32566.png)\r\n  \r\n### Steps to reproduce (if the current behaviour is a bug)\r\nI think there might be a bug(in socket.io code or maybe from the slack api side) due to which a constant of 42 comes again and again.  \r\nI am currently looking over in the codebase to find the root cause of problem :)  \r\n\r\n### Expected behaviour\r\nOn loading or refreshing the page, the slack button should only show the number of users who are currently online instead of 42 at first.  \r\nIt should be like this:  \r\n  \r\n![socket2](https://user-images.githubusercontent.com/20706536/37242172-c4feb2fa-248a-11e8-9529-779def9a895d.PNG)\r\n\r\n\r\n### Setup\r\n- (socket.io website)[https://socket.io/]\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3190", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3190/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3190/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3190/events", "html_url": "https://github.com/socketio/socket.io/issues/3190", "id": 301996480, "node_id": "MDU6SXNzdWUzMDE5OTY0ODA=", "number": 3190, "title": "io.origins() does not take an array of strings ", "user": {"login": "stnwk", "id": 2981250, "node_id": "MDQ6VXNlcjI5ODEyNTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/2981250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stnwk", "html_url": "https://github.com/stnwk", "followers_url": "https://api.github.com/users/stnwk/followers", "following_url": "https://api.github.com/users/stnwk/following{/other_user}", "gists_url": "https://api.github.com/users/stnwk/gists{/gist_id}", "starred_url": "https://api.github.com/users/stnwk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stnwk/subscriptions", "organizations_url": "https://api.github.com/users/stnwk/orgs", "repos_url": "https://api.github.com/users/stnwk/repos", "events_url": "https://api.github.com/users/stnwk/events{/privacy}", "received_events_url": "https://api.github.com/users/stnwk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-03T13:00:15Z", "updated_at": "2020-04-24T19:37:37Z", "closed_at": "2018-03-05T10:22:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### You want to:\r\n\r\n* [x] report a *bug*\r\n* [ ] request a *feature*\r\n\r\n### Current behaviour\r\nIn the documentation it states, that `io.origins()` takes an array of strings/origins (see example https://socket.io/docs/server-api/#server-origins-value), when in fact it does not. It only works when providing a string instead of an array.\r\n\r\n### Steps to reproduce (if the current behaviour is a bug)\r\nSetting \r\n```jsx\r\nio.origins(['http://localhost:3000'])\r\n```\r\nand then connecting from `localhost:3000` does not work.\r\n\r\nIt only works when setting `io.origins('http://localhost:3000')`\r\n\r\n### Expected behaviour\r\n\r\n\r\n### Setup\r\n- OS: macOS High Sierra 10.13.3\r\n- browser: Chrome 64.0.3282.186\r\n- socket.io version: 2.0.4\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/socketio/socket.io/issues/3189", "repository_url": "https://api.github.com/repos/socketio/socket.io", "labels_url": "https://api.github.com/repos/socketio/socket.io/issues/3189/labels{/name}", "comments_url": "https://api.github.com/repos/socketio/socket.io/issues/3189/comments", "events_url": "https://api.github.com/repos/socketio/socket.io/issues/3189/events", "html_url": "https://github.com/socketio/socket.io/issues/3189", "id": 301658362, "node_id": "MDU6SXNzdWUzMDE2NTgzNjI=", "number": 3189, "title": "Mysql does not work well with socket io", "user": {"login": "hoanggiang1123", "id": 25917923, "node_id": "MDQ6VXNlcjI1OTE3OTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/25917923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoanggiang1123", "html_url": "https://github.com/hoanggiang1123", "followers_url": "https://api.github.com/users/hoanggiang1123/followers", "following_url": "https://api.github.com/users/hoanggiang1123/following{/other_user}", "gists_url": "https://api.github.com/users/hoanggiang1123/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoanggiang1123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoanggiang1123/subscriptions", "organizations_url": "https://api.github.com/users/hoanggiang1123/orgs", "repos_url": "https://api.github.com/users/hoanggiang1123/repos", "events_url": "https://api.github.com/users/hoanggiang1123/events{/privacy}", "received_events_url": "https://api.github.com/users/hoanggiang1123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-02T05:33:08Z", "updated_at": "2018-03-02T10:58:48Z", "closed_at": "2018-03-02T10:58:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nI dont know if i got a problem with mysql or socket.io. Cause the first time user connect socket.io, mysql work well, but after a few minutes without doing anything the user connect to socket again mysql doesnt work. Sorry for my bad english, this is my fist post i dont know if i raise the issue in the correct way. ", "performed_via_github_app": null, "score": 1.0}]}