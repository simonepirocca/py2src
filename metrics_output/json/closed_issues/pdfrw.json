{"total_count": 61, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/196", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/196/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/196/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/196", "id": 599529653, "node_id": "MDU6SXNzdWU1OTk1Mjk2NTM=", "number": 196, "title": "Setting a checkbox annotation to preferred state .", "user": {"login": "AnderssonDavid", "id": 54407431, "node_id": "MDQ6VXNlcjU0NDA3NDMx", "avatar_url": "https://avatars0.githubusercontent.com/u/54407431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnderssonDavid", "html_url": "https://github.com/AnderssonDavid", "followers_url": "https://api.github.com/users/AnderssonDavid/followers", "following_url": "https://api.github.com/users/AnderssonDavid/following{/other_user}", "gists_url": "https://api.github.com/users/AnderssonDavid/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnderssonDavid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnderssonDavid/subscriptions", "organizations_url": "https://api.github.com/users/AnderssonDavid/orgs", "repos_url": "https://api.github.com/users/AnderssonDavid/repos", "events_url": "https://api.github.com/users/AnderssonDavid/events{/privacy}", "received_events_url": "https://api.github.com/users/AnderssonDavid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-14T12:17:46Z", "updated_at": "2020-05-06T04:10:58Z", "closed_at": "2020-04-18T08:05:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I set a checkbox to checked/unchecked (Yes/Off), the change is only visible by using Google Chrome. Adobe Acrobat, PDFxChange, Edge and internet explorer does not see if I have the checkbox checked.\r\n\r\nThe Python code:\r\n\r\n```\r\nimport os\r\nimport pdfrw\r\n\r\nINVOICE_TEMPLATE_PATH = 'invoice_template.pdf'\r\nINVOICE_OUTPUT_PATH   = 'invoice_output.pdf'\r\n\r\nANNOT_KEY = '/Annots'\r\nANNOT_FIELD_KEY = '/T'\r\nSUBTYPE_KEY = '/Subtype'\r\nWIDGET_SUBTYPE_KEY = '/Widget'\r\n\r\ndef write_fillable_pdf(input_pdf_path, output_pdf_path, data_dict):\r\n    template_pdf = pdfrw.PdfReader(input_pdf_path)\r\n    annotations = template_pdf.pages[0][ANNOT_KEY]\r\n    for annotation in annotations:\r\n        if annotation[SUBTYPE_KEY] == WIDGET_SUBTYPE_KEY:\r\n            if annotation[ANNOT_FIELD_KEY]: \r\n                key = annotation[ANNOT_FIELD_KEY][1:-1]\r\n                if key in data_dict.keys():\r\n                    if (key[0:8] == 'CheckBox') and  (data_dict[key] == 'Yes') :\r\n                        annotation.update( pdfrw.PdfDict(  AS='Yes'  ) )\r\n    \r\n    template_pdf.Root.AcroForm.update(pdfrw.PdfDict(NeedAppearances=pdfrw.PdfObject('true')))\r\n    pdfrw.PdfWriter().write(output_pdf_path, template_pdf)\r\n\r\n\r\ndata_dict = {\r\n    'item_1_amount': '123',\r\n    'CheckBox1': 'Yes'  }\r\n\r\nif __name__ == '__main__':\r\n    write_fillable_pdf(INVOICE_TEMPLATE_PATH, INVOICE_OUTPUT_PATH, data_dict)\r\n```\r\n\r\nWhen comparing the pdf before and after pdfrw has writen annot value, pdfrw puts the value within parenthesis, compared to if checked by e PDF reader. \r\n\r\nThe output when the checkbox is check by a pdf reader program: `'/V': '/Yes'` \r\nThe output when the checkbox is check by pdfrw:                          `'/V': '(Yes)'` \r\n\r\nIs this why the checked boxes can't be seen in other pdf readers?  How do I set the value without parenthesis?\r\n\r\n[Here is a picture where I have compiled the parameters before and after](https://i.imgur.com/zFIxwNv.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/192", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/192/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/192/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/192", "id": 569517708, "node_id": "MDU6SXNzdWU1Njk1MTc3MDg=", "number": 192, "title": "Preserving field values when merging pdf files", "user": {"login": "l47y", "id": 38724058, "node_id": "MDQ6VXNlcjM4NzI0MDU4", "avatar_url": "https://avatars2.githubusercontent.com/u/38724058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l47y", "html_url": "https://github.com/l47y", "followers_url": "https://api.github.com/users/l47y/followers", "following_url": "https://api.github.com/users/l47y/following{/other_user}", "gists_url": "https://api.github.com/users/l47y/gists{/gist_id}", "starred_url": "https://api.github.com/users/l47y/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l47y/subscriptions", "organizations_url": "https://api.github.com/users/l47y/orgs", "repos_url": "https://api.github.com/users/l47y/repos", "events_url": "https://api.github.com/users/l47y/events{/privacy}", "received_events_url": "https://api.github.com/users/l47y/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-23T16:09:31Z", "updated_at": "2020-03-15T18:34:01Z", "closed_at": "2020-03-15T18:34:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nFirst of all: thanks for the amazing library. I was using it heavily the past months. \r\n\r\nNow, I am trying to do the following thing: \r\n\r\n1. I create a pdf file ```test.pdf``` with some empty fields in it using LibreOffice. \r\n2. I open this pdf with pdfrw in python, extract the fields, change their values and save the file as ```test_updated.pdf``` with updated field values --> this works perfectly.\r\n3. Now, I have another pdf file ```info.pdf``` (without fields and one page), and I want to create a new pdf file ```final.pdf``` which has as the first page ```info.pdf```, and as the second page ```test_updated.pdf```. \r\n\r\nHowever, ```final.pdf``` always has only the original empty fields from ```test.pdf``` and never the updated ones from ```test_updated.pdf```. Moreover, the fields are not longer editable when opening ```final.pdf``` with any pdf reader (like Acrobat). \r\n\r\nHere is my code:\r\n\r\n```\r\nimport pdfrw\r\n\r\n# Get fields: \r\nmypdf = pdfrw.PdfFileReader(\"test.pdf\")\r\nfields = mypdf.Root.Pages.Kids[0].Annots\r\nfdict = {}\r\nfor i, el in enumerate(fields):\r\n    fdict[el.T] = i\r\n\r\n# Update fields and save updated pdf \r\nforms[fdict['field_one']].update(pdfrw.PdfDict(V=\"FOO\"))\r\nforms[fdict['field_two'].update(pdfrw.PdfDict(V=\"BAZ\"))\r\npdfrw.PdfWriter().write(\"test_updated.pdf\", mypdf) \r\n\r\n# Merge info.pdf and test_updated.pdf\r\nwriter = pdfrw.PdfWriter()\r\nwriter.addpages(pdfrw.PdfReader(\"info.pdf\").pages)\r\nwriter.addpages(pdfrw.PdfReader(\"test_updated.pdf\").pages)\r\nwriter.write(\"final.pdf\")\r\n```\r\n\r\nNow, the resulting ```final.pdf``` does not have the words \"FOO\" and \"BAZ\" filled into the fields, and none of the fields can be edited anymore. \r\n\r\nI also tried using PyPDF2/4 and the same problem occurs. I this stackoverflow question https://stackoverflow.com/questions/3444645/merge-pdf-files I found this in one of the answers:\r\n\r\n> The pdfrw library can do this quite easily, assuming you don't need to preserve bookmarks and annotations, and your PDFs aren't encrypted\r\n\r\nWith pdfrw, is it actually possible to do what I want? And if not, is there any other library/method to do that? \r\nAny help is highly appreciated!  \r\n\r\n\r\nThanks a lot and best regards, \r\nl47y", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/190", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/190/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/190/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/190", "id": 564380256, "node_id": "MDU6SXNzdWU1NjQzODAyNTY=", "number": 190, "title": "Error \"'NoneType' object is not iterable\" When Editing PDF?", "user": {"login": "Hybridx24", "id": 6207984, "node_id": "MDQ6VXNlcjYyMDc5ODQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6207984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hybridx24", "html_url": "https://github.com/Hybridx24", "followers_url": "https://api.github.com/users/Hybridx24/followers", "following_url": "https://api.github.com/users/Hybridx24/following{/other_user}", "gists_url": "https://api.github.com/users/Hybridx24/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hybridx24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hybridx24/subscriptions", "organizations_url": "https://api.github.com/users/Hybridx24/orgs", "repos_url": "https://api.github.com/users/Hybridx24/repos", "events_url": "https://api.github.com/users/Hybridx24/events{/privacy}", "received_events_url": "https://api.github.com/users/Hybridx24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-13T01:23:15Z", "updated_at": "2020-02-13T03:09:00Z", "closed_at": "2020-02-13T03:09:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have created a new PDF in Adobe Acrobat DC, but for some reason after I save this new PDF and try to add fillable form fields into it, I get the error \"'NoneType' object is not iterable\" when using `write_fillable_pdf(input_template, output_template, info_dict)`. The issue happens on the following line:\r\n\r\n`for annotation in annotations:`\r\n\r\nI assume this means that pdfrw isn't picking up on any of my fillable fields. The weird thing is that my PDF forms are fillable when I first save my PDF, but not after I make any updates to it.\r\n\r\nAny solutions?\r\n\r\nHere is the full code:\r\n```\r\ndef write_fillable_pdf(input_pdf_path, output_pdf_path, data_dict):\r\n    template_pdf = pdfrw.PdfReader(input_pdf_path)\r\n    template_pdf.Root.AcroForm.update(pdfrw.PdfDict(NeedAppearances=pdfrw.PdfObject('true')))   pages = template_pdf.pages\r\n    for page in pages:\r\n        annotations = page[ANNOT_KEY]\r\n        for annotation in annotations:\r\n            # Rest of code goes here...\r\n    pdfrw.PdfWriter().write(output_pdf_path, template_pdf)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/189", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/189/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/189/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/189", "id": 561928002, "node_id": "MDU6SXNzdWU1NjE5MjgwMDI=", "number": 189, "title": "Only works on the first page. ", "user": {"login": "sammaroney", "id": 52011122, "node_id": "MDQ6VXNlcjUyMDExMTIy", "avatar_url": "https://avatars3.githubusercontent.com/u/52011122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sammaroney", "html_url": "https://github.com/sammaroney", "followers_url": "https://api.github.com/users/sammaroney/followers", "following_url": "https://api.github.com/users/sammaroney/following{/other_user}", "gists_url": "https://api.github.com/users/sammaroney/gists{/gist_id}", "starred_url": "https://api.github.com/users/sammaroney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sammaroney/subscriptions", "organizations_url": "https://api.github.com/users/sammaroney/orgs", "repos_url": "https://api.github.com/users/sammaroney/repos", "events_url": "https://api.github.com/users/sammaroney/events{/privacy}", "received_events_url": "https://api.github.com/users/sammaroney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-07T23:48:28Z", "updated_at": "2020-02-13T03:11:57Z", "closed_at": "2020-02-12T19:20:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to open a pdf, fill it and save it. But, though my keys are correct, I can only update values on the first page of my pdf, I believe it's because of the \"0\" in the line \"annotations = template_pdf.pages[0][ANNOT_KEY]\", but I can't figure out how to fix it. Any pointers greatly appreciated.\r\n\r\nMy code is:\r\n\r\n#! /usr/bin/python\r\n\r\nimport os\r\nimport pdfrw\r\n\r\nINVOICE_TEMPLATE_PATH = '/Users/sammaroney/CommonLawFirm/FirmFiles/Lawyer/Templates/ProvincialCourtFamilyForms/F1ApplicationtoObtainanOrder.pdf'\r\nINVOICE_OUTPUT_PATH = '/Users/sammaroney/CommonLawFirm/FirmFiles/Lawyer/Templates/ProvincialCourtFamilyForms/DRAFTEDF1ApplicationtoObtainanOrder.pdf'\r\n\r\n\r\nANNOT_KEY = '/Annots'\r\nANNOT_FIELD_KEY = '/T'\r\nANNOT_VAL_KEY = '/V'\r\nANNOT_RECT_KEY = '/Rect'\r\nSUBTYPE_KEY = '/Subtype'\r\nWIDGET_SUBTYPE_KEY = '/Widget'\r\n\r\ndata_dict = {'CourtFileNum' : 'x',\r\n'CourtLocation' : 'x',\r\n'FMEPNo' : 'x',\r\n'ACauseName' : 'x',\r\n'RCauseName' : 'x',\r\n'AName' : 'x',\r\n'DOB' : 'x',\r\n'Astreet' : 'x',\r\n'Acity' : 'x',\r\n'Aprovince' : 'x',\r\n'Apostal' : 'x',\r\n'Aphone' : 'x',\r\n'Aemail' : 'x',\r\n'Afax' : 'x',\r\n'RName' : 'x',\r\n'Rdob' : 'x',\r\n'Rstreet' : 'x',\r\n'Rcity' : 'x',\r\n'Rprovince' : 'x',\r\n'Rpostal' : 'x',\r\n'Rphone' : 'x',\r\n'Remail' : 'x',\r\n'Rfax' : 'x',\r\n'NoticeOtherPerson1' : 'x',\r\n'NoticeOtherPerson2' : 'x',\r\n'AwantsGuardianship' : 'x',\r\n'AwantsSpousal' : 'x',\r\n'AwantsContact' : 'x',\r\n'AwantsChildSupport' : 'x',\r\n'AwantsPrentTime' : 'x',\r\n'AwantsPO' : 'x',\r\n'AwantsPrentResp' : 'x',\r\n'AwantsOrderOther' : 'x',\r\n'OrderOtherDetails' : 'x',\r\n'NoPastOrders' : 'x',\r\n'OrdersAttached' : 'x',\r\n'NoPastAgreements' : 'x',\r\n'Text1' : 'x',\r\n'Kid1name' : 'x',\r\n'Kid1dob' : 'x',\r\n'Kid2name' : 'x',\r\n'Kid2dob' : 'x',\r\n'Kid3name' : 'x',\r\n'Kid3dob' : 'x',\r\n'Kid4name' : 'x',\r\n'Kid4dob' : 'x',\r\n'Arship2Kids' : 'x',\r\n'Rrship2Kids' : 'x',\r\n'ArrangeKidsCurrent' : 'x',\r\n'AwantsKidsDetails' : 'x',\r\n'CaseName' : 'x',\r\n'CourtFileNum2' : 'x',\r\n'CurrentSupportArrange' : 'x',\r\n'AestimateRincome' : 'x',\r\n'AestimateRincomeReasons' : 'x',\r\n'AwantsChildSuppGuidelineAmount' : 'x',\r\n'NumKids' : 'x',\r\n'AwantsS7' : 'x',\r\n'AwantsS7Details' : 'x',\r\n'AwantsCSuppRetro' : 'x',\r\n'CSuppRetroDate' : 'x',\r\n'CSuppRetroReason' : 'x',\r\n'AwantsSSuppRetro' : 'x',\r\n'SSuppRetroDate' : 'x',\r\n'SSuppRetroReason' : 'x',\r\n'AwantsPOterms' : 'x',\r\n'ALawyerName' : 'x',\r\n'ALawyerName2' : 'x',\r\n'AName2' : 'x',\r\n'ALawyerName3' : 'x',\r\n'ServerName' : 'x',\r\n'ServerOccupation' : 'x',\r\n'ServerAddress' : 'x',\r\n'ServedName' : 'x',\r\n'ServiceDate' : 'x',\r\n'ServiceAddress' : 'x',\r\n'ServedATOO' : 'x',\r\n'ServedExhibitA' : 'x',\r\n'ServedExhibitALetter' : 'x',\r\n'ServedExhibitAName' : 'x',\r\n'ServedExhibitB' : 'x',\r\n'ServedExhibitBLetter' : 'x',\r\n'ServedExhibitBName' : 'x',\r\n'ServedExhibitC' : 'x',\r\n'ServedExhibitCLetter' : 'x',\r\n'ServedExhibitCName' : 'x',\r\n'ServedExhibitD' : 'x',\r\n'ServedExhibitDLetter' : 'x',\r\n'ServedExhibitDName' : 'x',\r\n'ServedBlankReply' : 'x',\r\n'ServedBlankF4' : 'x'\r\n}\r\n\r\ndef write_fillable_pdf(input_pdf_path, output_pdf_path, data_dict):\r\n    template_pdf = pdfrw.PdfReader(input_pdf_path)\r\n    annotations = template_pdf.pages[0][ANNOT_KEY]\r\n    for annotation in annotations:\r\n        annotation.update(pdfrw.PdfDict(AP=''))\r\n        if annotation[SUBTYPE_KEY] == WIDGET_SUBTYPE_KEY:\r\n            if annotation[ANNOT_FIELD_KEY]:\r\n                key = annotation[ANNOT_FIELD_KEY][1:-1]\r\n                if key in data_dict.keys():\r\n                    annotation.update(\r\n                        pdfrw.PdfDict(V='{}'.format(data_dict[key]))\r\n                    )\r\n    pdfrw.PdfWriter().write(output_pdf_path, template_pdf)\r\n\r\n\r\n\r\nif __name__ == '__main__':\r\n    write_fillable_pdf(INVOICE_TEMPLATE_PATH, INVOICE_OUTPUT_PATH, data_dict)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/161", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/161/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/161/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/161", "id": 406542172, "node_id": "MDU6SXNzdWU0MDY1NDIxNzI=", "number": 161, "title": "pdfrw misbehaves when stream of a PdfDict is of type bytes()", "user": {"login": "johndoe31415", "id": 5919339, "node_id": "MDQ6VXNlcjU5MTkzMzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5919339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johndoe31415", "html_url": "https://github.com/johndoe31415", "followers_url": "https://api.github.com/users/johndoe31415/followers", "following_url": "https://api.github.com/users/johndoe31415/following{/other_user}", "gists_url": "https://api.github.com/users/johndoe31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/johndoe31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johndoe31415/subscriptions", "organizations_url": "https://api.github.com/users/johndoe31415/orgs", "repos_url": "https://api.github.com/users/johndoe31415/repos", "events_url": "https://api.github.com/users/johndoe31415/events{/privacy}", "received_events_url": "https://api.github.com/users/johndoe31415/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-04T22:09:52Z", "updated_at": "2019-02-04T22:33:19Z", "closed_at": "2019-02-04T22:33:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "pdfrw writes the str() result of a bytes object that is given as a stream, instead of the raw bytes data. When trying to include raw binary data, this is not at all what we want, since it corrupts the data stream. Minimal example:\r\n\r\n```\r\nimport pdfrw\r\n\r\npw = pdfrw.PdfWriter(\"test.pdf\")\r\nx = pdfrw.PdfDict()\r\nx.stream = b\"foobar\"\r\npw.addpage(pdfrw.PdfDict({\r\n\tpdfrw.PdfName.Type:\t\tpdfrw.PdfName.Page,\r\n\tpdfrw.PdfName.FooBar:\tx,\r\n}))\r\n```\r\n\r\nResults in:\r\n\r\n```\r\n<</Length 6>>\r\nstream\r\nb'foobar'\r\nendstream\r\n```\r\n\r\nExpected would be:\r\n\r\n```\r\n<</Length 6>>\r\nstream\r\nfoobar\r\nendstream\r\n```\r\n\r\nTested against pdfrw 0.4.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/105", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/105/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/105/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/105", "id": 252855742, "node_id": "MDU6SXNzdWUyNTI4NTU3NDI=", "number": 105, "title": "Remove parts of an pdf", "user": {"login": "MaxOSchulte", "id": 2896641, "node_id": "MDQ6VXNlcjI4OTY2NDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2896641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaxOSchulte", "html_url": "https://github.com/MaxOSchulte", "followers_url": "https://api.github.com/users/MaxOSchulte/followers", "following_url": "https://api.github.com/users/MaxOSchulte/following{/other_user}", "gists_url": "https://api.github.com/users/MaxOSchulte/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaxOSchulte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaxOSchulte/subscriptions", "organizations_url": "https://api.github.com/users/MaxOSchulte/orgs", "repos_url": "https://api.github.com/users/MaxOSchulte/repos", "events_url": "https://api.github.com/users/MaxOSchulte/events{/privacy}", "received_events_url": "https://api.github.com/users/MaxOSchulte/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-25T10:10:58Z", "updated_at": "2017-09-17T09:20:16Z", "closed_at": "2017-09-17T09:20:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, i try to remove unwanted parts of an pdf. \r\n\r\nSo far i got:\r\n\r\n        def remove_images(_inpath, _out_path, *, charset='Latin-1', only_images=True):\r\n            \"\"\"\r\n            Removes Images from a PDF and saves it as a new PDF\r\n            :param _inpath: path to PDF with images\r\n            :param _out_path: path to PDF without IMAGES\r\n            :param charset: Charset that the PDF is written in\r\n            :return: None\r\n            \"\"\"\r\n            with open(_inpath, 'rb') as pdf_file:\r\n                pdf_bytes = pdf_file.read()\r\n                pdfreader = PdfReader(fdata=pdf_bytes.decode(charset))\r\n\r\n                for page in pdfreader.pages:\r\n                    for xobj in page.Resources.XObject:\r\n                        if only_images and  '/Im' not in xobj: continue\r\n                        try:\r\n                            page['/Resources']['/XObject'].pop(xobj)\r\n                        except: pass\r\n\r\n                writer = PdfWriter()\r\n                for page in pdfreader.pages:\r\n                    writer.addpage(page)\r\n                writer.write(_out_path)\r\n\r\nif i want to remove all text i can simply do:\r\n\r\n        del page['/Resources']['/Font']\r\n\r\nif i want to remove all images and other graphical (shadows etc.) content except for background content:\r\n       \r\n        del page['/Resources']['/XObjects']\r\n\r\n\r\nAll those methods leave references inside the pdf, these references can produce errors or warings (like in PDFMiner). What is the proper way of removing stuff from a pdf ? I tried to look up the references e.g. in `page['/Contents']` but the content of this array makes no sense to me. Anyway if i delete `page['/Contents']` every page is blank. \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/104", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/104/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/104/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/104", "id": 251878368, "node_id": "MDU6SXNzdWUyNTE4NzgzNjg=", "number": 104, "title": "read pdf show  error uncompress.py:72 Error -3 while decompressing: incorrect header check (364, 0)", "user": {"login": "allenkallz", "id": 29773533, "node_id": "MDQ6VXNlcjI5NzczNTMz", "avatar_url": "https://avatars0.githubusercontent.com/u/29773533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenkallz", "html_url": "https://github.com/allenkallz", "followers_url": "https://api.github.com/users/allenkallz/followers", "following_url": "https://api.github.com/users/allenkallz/following{/other_user}", "gists_url": "https://api.github.com/users/allenkallz/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenkallz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenkallz/subscriptions", "organizations_url": "https://api.github.com/users/allenkallz/orgs", "repos_url": "https://api.github.com/users/allenkallz/repos", "events_url": "https://api.github.com/users/allenkallz/events{/privacy}", "received_events_url": "https://api.github.com/users/allenkallz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-22T08:34:19Z", "updated_at": "2017-09-18T05:06:45Z", "closed_at": "2017-09-17T09:25:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nWhile try to read pdf info in python console it shows following error\r\n\r\n    >>> print PdfReader('Downloads/c.pdf').info\r\n   [ERROR] uncompress.py:72 Error -3 while decompressing: incorrect header check (364, 0)\r\n   [ERROR] uncompress.py:72 Error -3 while decompressing: incorrect header check (365, 0)\r\n   [ERROR] uncompress.py:72 Error -3 while decompressing: incorrect header check (366, 0)\r\n   [WARNING] tokens.py:228 Did not find PDF object (277, 0) (line=15000, col=1, token='endobj')\r\n   [ERROR] pdfreader.py:472 Invalid page tree: 'NoneType' object has no attribute '__getitem__'\r\n   None\r\n\r\n\r\nI also attach the file which I am trying to read\r\n\r\n\r\n[c.pdf](https://github.com/pmaupin/pdfrw/files/1241307/c.pdf)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/103", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/103/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/103/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/103", "id": 249940735, "node_id": "MDU6SXNzdWUyNDk5NDA3MzU=", "number": 103, "title": "Extracttext from pdfreader", "user": {"login": "praveen049", "id": 24820914, "node_id": "MDQ6VXNlcjI0ODIwOTE0", "avatar_url": "https://avatars1.githubusercontent.com/u/24820914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/praveen049", "html_url": "https://github.com/praveen049", "followers_url": "https://api.github.com/users/praveen049/followers", "following_url": "https://api.github.com/users/praveen049/following{/other_user}", "gists_url": "https://api.github.com/users/praveen049/gists{/gist_id}", "starred_url": "https://api.github.com/users/praveen049/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/praveen049/subscriptions", "organizations_url": "https://api.github.com/users/praveen049/orgs", "repos_url": "https://api.github.com/users/praveen049/repos", "events_url": "https://api.github.com/users/praveen049/events{/privacy}", "received_events_url": "https://api.github.com/users/praveen049/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-14T06:13:30Z", "updated_at": "2017-09-17T09:25:36Z", "closed_at": "2017-09-17T09:25:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n  Are there any examples for extracting text from the pdfreader ?\r\n\r\nWith \r\n    `page = doc.getPage(page_nr)`\r\n\r\ni get \r\n    `<class 'pdfrw.objects.pdfdict.PdfDict'>`\r\n\r\nbut extractText returns NoneType.\r\n\r\n\r\nCheers", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/102", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/102/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/102/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/102", "id": 239550886, "node_id": "MDU6SXNzdWUyMzk1NTA4ODY=", "number": 102, "title": "Any chance for a minor release soon?", "user": {"login": "trichu1988", "id": 134897, "node_id": "MDQ6VXNlcjEzNDg5Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/134897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trichu1988", "html_url": "https://github.com/trichu1988", "followers_url": "https://api.github.com/users/trichu1988/followers", "following_url": "https://api.github.com/users/trichu1988/following{/other_user}", "gists_url": "https://api.github.com/users/trichu1988/gists{/gist_id}", "starred_url": "https://api.github.com/users/trichu1988/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trichu1988/subscriptions", "organizations_url": "https://api.github.com/users/trichu1988/orgs", "repos_url": "https://api.github.com/users/trichu1988/repos", "events_url": "https://api.github.com/users/trichu1988/events{/privacy}", "received_events_url": "https://api.github.com/users/trichu1988/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-29T17:14:02Z", "updated_at": "2017-09-18T10:10:19Z", "closed_at": "2017-09-18T10:10:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see the fix for the issue #72 have been merged for months now. So I wonder if any chance a minor release with that is going to come up soon? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/101", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/101/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/101/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/101", "id": 237855653, "node_id": "MDU6SXNzdWUyMzc4NTU2NTM=", "number": 101, "title": "Merging Blank PDF", "user": {"login": "msopko81", "id": 11197095, "node_id": "MDQ6VXNlcjExMTk3MDk1", "avatar_url": "https://avatars3.githubusercontent.com/u/11197095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msopko81", "html_url": "https://github.com/msopko81", "followers_url": "https://api.github.com/users/msopko81/followers", "following_url": "https://api.github.com/users/msopko81/following{/other_user}", "gists_url": "https://api.github.com/users/msopko81/gists{/gist_id}", "starred_url": "https://api.github.com/users/msopko81/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msopko81/subscriptions", "organizations_url": "https://api.github.com/users/msopko81/orgs", "repos_url": "https://api.github.com/users/msopko81/repos", "events_url": "https://api.github.com/users/msopko81/events{/privacy}", "received_events_url": "https://api.github.com/users/msopko81/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-06-22T14:00:28Z", "updated_at": "2017-09-05T15:19:09Z", "closed_at": "2017-09-05T14:27:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am attempting to merge PDFs and resize the pages. When I add a blank page, I get an error. Here is the code that I have:\r\n\r\n```python\r\nfrom pdfrw import PdfReader, PdfWriter, PageMerge\r\n\r\npdfs = [r'C:\\Users\\msopko\\Desktop\\tmp.pdf']\r\nsave_path = r'C:\\Users\\msopko\\Desktop\\new_tmp.pdf'\r\n\r\nwriter = PdfWriter()\r\nfor pdf in pdfs:\r\n    reader = PdfReader(pdf)\r\n    reader.uncompress()\r\n\r\n    for i, page in enumerate(reader.pages):\r\n        pp = PageMerge().add(page)\r\n\r\nwriter.write(save_path)\r\n```\r\nHere is the error I am seeing:\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-70-d823ab082006> in <module>()\r\n     10\r\n     11     for i, page in enumerate(reader.pages):\r\n---> 12         pp = PageMerge().add(page)\r\n     13\r\n     14 writer.write(save_path)\r\n\r\nC:\\Users\\msopko\\Envs\\kml_internal\\lib\\site-packages\\pdfrw\\pagemerge.py in add(self, obj, prepend, **kw)\r\n    169             obj = RectXObj(obj, **kw)\r\n    170         elif obj.Type == PdfName.Page:\r\n--> 171             obj = RectXObj(obj)\r\n    172         if prepend:\r\n    173             self.insert(0, obj)\r\n\r\nC:\\Users\\msopko\\Envs\\kml_internal\\lib\\site-packages\\pdfrw\\pagemerge.py in __init__(self, page, viewinfo, **kw)\r\n     50             viewinfo = ViewInfo(**kw)\r\n     51         viewinfo.cacheable = False\r\n---> 52         base = pagexobj(page, viewinfo)\r\n     53         self.update(base)\r\n     54         self.indirect = True\r\n\r\nC:\\Users\\msopko\\Envs\\kml_internal\\lib\\site-packages\\pdfrw\\buildxobj.py in pagexobj(page, viewinfo, allow_compressed)\r\n    285     mbox, bbox = getrects(inheritable, viewinfo, rotation)\r\n    286     rotation += get_rotation(viewinfo.rotate)\r\n--> 287     contents = _build_cache(page.Contents, allow_compressed)\r\n    288     return _cache_xobj(contents, resources, mbox, bbox, rotation,\r\n    289                        viewinfo.cacheable)\r\n\r\nC:\\Users\\msopko\\Envs\\kml_internal\\lib\\site-packages\\pdfrw\\buildxobj.py in _build_cache(contents, allow_compressed)\r\n    187     # assume that's not a problem until we encounter them...\r\n    188\r\n--> 189     xobj_copy = PdfDict(array[0])\r\n    190     xobj_copy.private.xobj_cachedict = {}\r\n    191     private.xobj_copy = xobj_copy\r\n\r\nTypeError: 'NoneType' object is not subscriptable\r\n```\r\n\r\nI believe the error is occurring because the page is blank and does not have any contents to be copied over. Here is the example PDF that I am using: [tmp.pdf](https://github.com/pmaupin/pdfrw/files/1094996/tmp.pdf)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/100", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/100/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/100/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/100", "id": 236696538, "node_id": "MDU6SXNzdWUyMzY2OTY1Mzg=", "number": 100, "title": "Different results for pages[].get()", "user": {"login": "jnario", "id": 10875303, "node_id": "MDQ6VXNlcjEwODc1MzAz", "avatar_url": "https://avatars3.githubusercontent.com/u/10875303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnario", "html_url": "https://github.com/jnario", "followers_url": "https://api.github.com/users/jnario/followers", "following_url": "https://api.github.com/users/jnario/following{/other_user}", "gists_url": "https://api.github.com/users/jnario/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnario/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnario/subscriptions", "organizations_url": "https://api.github.com/users/jnario/orgs", "repos_url": "https://api.github.com/users/jnario/repos", "events_url": "https://api.github.com/users/jnario/events{/privacy}", "received_events_url": "https://api.github.com/users/jnario/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-18T02:49:15Z", "updated_at": "2017-06-18T15:19:34Z", "closed_at": "2017-06-18T12:43:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "To begin with-- it's probable I'm using the page object incorrectly.   However, I'm having trouble reconciling different results between the standard REPL and IPython.\r\n\r\nThis example uses Python 3.6, but is equally reproducible with 2.7 and 3.5.\r\n\r\nMy expectation is the result that appears in the IPython sample below.  However, I cannot reproduce that result in the standard REPL.\r\n\r\nI redacted the actual filename and URLs.\r\n\r\n## REPL\r\n```\r\n>>> from pdfrw import PdfReader\r\n>>> xpdf = PdfReader('<<< mypdf_file.pdf >>>')\r\n>>> xx = xpdf.pages[0]\r\n>>> xx.get('/Annots')\r\n[(158, 0), (159, 0), (160, 0), (161, 0), (162, 0), (163, 0), (164, 0)]\r\n```\r\n\r\n## IPython\r\n```\r\nIn [1]: from pdfrw import PdfReader\r\n   ...: xpdf = PdfReader('<<< mypdf_file.pdf >>>')\r\n   ...: xx = xpdf.pages[0]\r\n   ...: xx.get('/Annots')\r\n   ...: \r\nOut[1]: \r\n[{'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['51.7', '616.2', '138.101', '630.5'],\r\n  '/StructParent': '1',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'},\r\n {'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['52.55', '541.0', '177.472', '554.15'],\r\n  '/StructParent': '2',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'},\r\n {'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['53.8999', '440.65', '145.0', '454.85'],\r\n  '/StructParent': '3',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'},\r\n {'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['0.0', '792.0', '0.0', '792.0'],\r\n  '/StructParent': '4',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'},\r\n {'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['52.55', '280.0', '118.567', '293.15'],\r\n  '/StructParent': '5',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'},\r\n {'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['52.55', '175.5', '214.68', '188.65'],\r\n  '/StructParent': '6',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'},\r\n {'/A': {'/S': '/URI',\r\n   '/URI': '(<<< url-i-am-looking-for >>>)'},\r\n  '/BS': {'/S': '/S', '/Type': '/Border', '/W': '0'},\r\n  '/Border': ['0', '0', '0'],\r\n  '/H': '/I',\r\n  '/Rect': ['0.0', '792.0', '0.0', '792.0'],\r\n  '/StructParent': '7',\r\n  '/Subtype': '/Link',\r\n  '/Type': '/Annot'}]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/98", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/98/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/98/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/98", "id": 232042634, "node_id": "MDU6SXNzdWUyMzIwNDI2MzQ=", "number": 98, "title": "pdfdict's `__getitem__` may raise an error when requesting indirect objects", "user": {"login": "sjamaan", "id": 128536, "node_id": "MDQ6VXNlcjEyODUzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/128536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjamaan", "html_url": "https://github.com/sjamaan", "followers_url": "https://api.github.com/users/sjamaan/followers", "following_url": "https://api.github.com/users/sjamaan/following{/other_user}", "gists_url": "https://api.github.com/users/sjamaan/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjamaan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjamaan/subscriptions", "organizations_url": "https://api.github.com/users/sjamaan/orgs", "repos_url": "https://api.github.com/users/sjamaan/repos", "events_url": "https://api.github.com/users/sjamaan/events{/privacy}", "received_events_url": "https://api.github.com/users/sjamaan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-05-29T14:48:51Z", "updated_at": "2017-09-17T11:02:47Z", "closed_at": "2017-09-17T11:02:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have some code to extract images from a PDF, which works as follows (excuse me for the long code):\r\n\r\n```python\r\n# Many thanks to\r\n# http://stackoverflow.com/questions/2693820/extract-images-from-pdf-without-resampling-in-python\r\n# (converted from PyPDF2 to pdfrw)\r\nfrom PIL import Image\r\nfrom io import BytesIO\r\n\r\ndef write_xobject_to_image(xobject, out):\r\n\tif xobject['/Subtype'] == '/Image':\r\n\t\tsize = (xobject['/Width'], xobject['/Height']) # Sometimes(!) raises an error\r\n\t\tdata = xobject.stream\r\n\t\tif isinstance(data, str):\r\n\t\t\tdata = data.encode('latin1') # encoding??\r\n\r\n\t\tif xobject['/ColorSpace'] == '/DeviceRGB':\r\n\t\t\tmode = \"RGB\"\r\n\t\telse:\r\n\t\t\tmode = \"P\"\r\n\r\n\t\tfiletype = None\r\n\t\t# This is stupid.  Sometimes it's a string, sometimes an array...\r\n\t\tif isinstance(xobject['/Filter'], str):\r\n\t\t\tfilters = [xobject['/Filter']]\r\n\t\telse:\r\n\t\t\tfilters = xobject['/Filter']\r\n\r\n\t\tif '/FlateDecode' in filters:\r\n\t\t\tfiletype = 'png'\r\n\t\t\timg = Image.frombytes(mode, size, data)\r\n\t\t\timg.save(out)\r\n\t\telif '/DCTDecode' in filters:\r\n\t\t\tfiletype = 'jpg'\r\n\t\t\tout.write(data)\r\n\t\telif '/JPXDecode' in filters:\r\n\t\t\tfiletype = 'jp2'\r\n\t\t\tout.write(data)\r\n\t\t# else: error?\r\n\r\n\t\t# Stop for first image on page\r\n\t\treturn filetype\r\n\r\n\treturn None\r\n\r\n# usage\r\nfrom pdfrw import PdfReader\r\nfrom pdfrw.objects import PdfName\r\nfrom pdfrw.findobjs import find_objects\r\n\r\npdf_document = PdfReader(pdf_file)\r\nfor pageno in range(0, len(pdf_document.pages)):\r\n\tpage = pdf_document.pages[pageno]\r\n\r\n\timages = find_objects(page, valid_subtypes=(PdfName.Image,))\r\n\tfor img in images:\r\n\t\twith NamedTemporaryFile() as temp:\r\n\t\t\twrite_xobject_to_image(img, temp)\r\n```\r\n\r\nSome PDFs will result in an error on the indicated line: `pdfrw.errors.PdfParseError: Dict key '/Height' is not a PdfName`\r\n\r\nAfter some digging, it turns out that this is because `__getitem__()` in the `PdfDict` class accepts a string, which it passes to `get()`, which will convert it to  `PdfName`. Then if it turns out to be an indirect object, it will call `__setattr__` with the _original_ key, which is still a string, resulting in the aforementioned error.\r\n\r\nInterestingly, if you change the code to add debugging info (like `print(xobject.keys())`), it will magically work (probably because indirect objects have already been resolved). I'm not sure how to fix this, nor how to even approach writing a test for this (I don't have much of a clue about how PDFs work), but this seems inconsistent: I'd expect the code to work, independent of whether the PDF has indirect objects or not.\r\n\r\nI've now fixed this in my own code by removing all the square brackets, so it relies on `__getattr__` (which will always pass a `PdfName` to `get()`) instead of `__getitem__`. It now reads like this:\r\n\r\n```python\r\ndef write_xobject_to_image(xobject, out):\r\n\tif xobject.Subtype == '/Image':\r\n\t\tsize = (xobject.Width, xobject.Height)\r\n\t\tdata = xobject.stream\r\n\t\tif isinstance(data, str):\r\n\t\t\tdata = data.encode('latin1') # encoding??\r\n\r\n\t\tif xobject.ColorSpace == '/DeviceRGB':\r\n\t\t\tmode = \"RGB\"\r\n\t\telse:\r\n\t\t\tmode = \"P\"\r\n\r\n\t\tfiletype = None\r\n\t\t# This is stupid.  Sometimes it's a string, sometimes an array...\r\n\t\tif isinstance(xobject.Filter, str):\r\n\t\t\tfilters = [xobject.Filter]\r\n\t\telse:\r\n\t\t\tfilters = xobject.Filter\r\n\r\n\t\tif '/FlateDecode' in filters:\r\n\t\t\tfiletype = 'png'\r\n\t\t\timg = Image.frombytes(mode, size, data)\r\n\t\t\timg.save(out)\r\n\t\telif '/DCTDecode' in filters:\r\n\t\t\tfiletype = 'jpg'\r\n\t\t\tout.write(data)\r\n\t\telif '/JPXDecode' in filters:\r\n\t\t\tfiletype = 'jp2'\r\n\t\t\tout.write(data)\r\n\t\t# else: error?\r\n\r\n\t\t# Stop for first image on page\r\n\t\treturn filetype\r\n\r\n\treturn None\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/97", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/97/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/97/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/97", "id": 231184021, "node_id": "MDU6SXNzdWUyMzExODQwMjE=", "number": 97, "title": "Is BleedBox (and other rectangles) available/supported?", "user": {"login": "wrkhenddher", "id": 5215870, "node_id": "MDQ6VXNlcjUyMTU4NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5215870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wrkhenddher", "html_url": "https://github.com/wrkhenddher", "followers_url": "https://api.github.com/users/wrkhenddher/followers", "following_url": "https://api.github.com/users/wrkhenddher/following{/other_user}", "gists_url": "https://api.github.com/users/wrkhenddher/gists{/gist_id}", "starred_url": "https://api.github.com/users/wrkhenddher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wrkhenddher/subscriptions", "organizations_url": "https://api.github.com/users/wrkhenddher/orgs", "repos_url": "https://api.github.com/users/wrkhenddher/repos", "events_url": "https://api.github.com/users/wrkhenddher/events{/privacy}", "received_events_url": "https://api.github.com/users/wrkhenddher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-24T22:00:46Z", "updated_at": "2017-05-25T00:24:35Z", "closed_at": "2017-05-25T00:24:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "\r\nhttp://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\r\nSection 14.11.2 Page Boundaries, 14.11.2.1 General\r\n\r\nJust curious although we only use `MediaBox` at the moment\r\n\r\n```python\r\nr = pdfrw.PdfReader(\"...pdf\")\r\nr.pages[0].inheriable.MediaBox\r\nr.pages[0].inheriable.CropBox\r\n# Other rectangles ?\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/96", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/96/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/96/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/96", "id": 231067474, "node_id": "MDU6SXNzdWUyMzEwNjc0NzQ=", "number": 96, "title": "[Feature Request]  Extract full pages to image files", "user": {"login": "bjubb", "id": 447539, "node_id": "MDQ6VXNlcjQ0NzUzOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/447539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjubb", "html_url": "https://github.com/bjubb", "followers_url": "https://api.github.com/users/bjubb/followers", "following_url": "https://api.github.com/users/bjubb/following{/other_user}", "gists_url": "https://api.github.com/users/bjubb/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjubb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjubb/subscriptions", "organizations_url": "https://api.github.com/users/bjubb/orgs", "repos_url": "https://api.github.com/users/bjubb/repos", "events_url": "https://api.github.com/users/bjubb/events{/privacy}", "received_events_url": "https://api.github.com/users/bjubb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-24T14:51:03Z", "updated_at": "2019-03-25T18:08:43Z", "closed_at": "2019-03-25T18:08:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "i'm currently using JPedal to convert full pages to images (PNG for example).   Does this library have that capability - or can a PNGWriter instance be used/written to encode one from the PdfReader ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/92", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/92/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/92/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/92", "id": 226078404, "node_id": "MDU6SXNzdWUyMjYwNzg0MDQ=", "number": 92, "title": "Documents with a large number of Pages nodes cause RecursionError", "user": {"login": "troyhoffman", "id": 18197001, "node_id": "MDQ6VXNlcjE4MTk3MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/18197001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/troyhoffman", "html_url": "https://github.com/troyhoffman", "followers_url": "https://api.github.com/users/troyhoffman/followers", "following_url": "https://api.github.com/users/troyhoffman/following{/other_user}", "gists_url": "https://api.github.com/users/troyhoffman/gists{/gist_id}", "starred_url": "https://api.github.com/users/troyhoffman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/troyhoffman/subscriptions", "organizations_url": "https://api.github.com/users/troyhoffman/orgs", "repos_url": "https://api.github.com/users/troyhoffman/repos", "events_url": "https://api.github.com/users/troyhoffman/events{/privacy}", "received_events_url": "https://api.github.com/users/troyhoffman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-03T18:43:49Z", "updated_at": "2017-05-04T19:14:07Z", "closed_at": "2017-05-04T19:14:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not completely familiar with the PDF spec, so I apologize if my terminology is incorrect. \r\n\r\nIf a PDF has a large number of /Type /Pages nodes, instantiating PdfReader causes a RecursionError: maximum recursion depth exceeded while calling a Python object in readpages().readnode()\r\n \r\nThe break point seems to be around 1954 nodes in the document, though that number varies depending on how nested the code is that creates the PdfReader object. This was found while attempting to split the pages from a document created by an application that uses WebSupergoo's ABCpdf.NET library (https://www.websupergoo.com/products.htm#abcpdf).  The pdfrw module is used as part of automation testing of this product. The initial file that triggered it was a real-world file, not a test file, so this will be encountered in the wild.\r\n \r\nA solution might be to modify readpages().readnode() to not use recursion. One approach would be to use lists that track the Page objects found as well as the Pages/Catalogs objects that need to be processed. This solution is included in the attached file.\r\n \r\n[pdfrw.zip](https://github.com/pmaupin/pdfrw/files/974324/pdfrw.zip) contains the following files:\r\n- reecusion_test.py - The code from my automation that triggers this. Modify the source_file and output_directory variables as necessary.\r\n- pdf_generator.py - A module that will let you generate simple PDF files with as many pages as you need. The destination_directory will need to be changed. It depends on reportlab.\r\n- merger.cs - C# code that uses the ABCpdf.NET library to merge the files created by pdf_generator.py\r\n- 977.pdf - This file reproduces the problem. It consists of 977 merged single page documents. It has been simplified as much as possible while still reproducing it.\r\n- 976.pdf - This file does not reproduce the problem. It consists of 976 merged single page documents. It's essentially 977.pdf with one less document.\r\n- 97600.pdf - This file contains 97,600 merged 100 page documents and does not reproduce the error. It may be useful for performance comparison.\r\n- pdfreader.py - Contains a proposed fix.\r\n \r\nThe changes to pdfreader.py are:\r\n- The __init__ takes a new parameter, use_readpages_new. If True, it uses the proposed fix. If False, it uses the original code (allowing for performance comparisons).\r\n- A new method: use_readpages_new that contains a non-recursive readnode() function.\r\n\r\nNote that I added the parameter and second method as a way to do comparisons between the proposed fix and the original method. If the fix is accepted, it could replace the existing method and the \"use_readpages_new\" parameter could be removed from __init__().\r\n \r\nTesting performed on pdfreader.py:\r\n- Ran all three PDFs through pdf_generator.py and compared performance of both methods. Memory usage and overall time was roughly identical. Due to time restraints, I didn't extract each page and only timed how long it took to parse the pages.\r\n- Ran 976.pdf through pdf_generator.py with both methods and did a binary compare of the output files to ensure the extracted pages were correct. All files matched exactly, indicating that the pages not only were extracted properly, but that the order was correct.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/91", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/91/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/91/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/91", "id": 225518489, "node_id": "MDU6SXNzdWUyMjU1MTg0ODk=", "number": 91, "title": "PdfWriter TypeError with Compression=True under Python 3.x", "user": {"login": "troyhoffman", "id": 18197001, "node_id": "MDQ6VXNlcjE4MTk3MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/18197001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/troyhoffman", "html_url": "https://github.com/troyhoffman", "followers_url": "https://api.github.com/users/troyhoffman/followers", "following_url": "https://api.github.com/users/troyhoffman/following{/other_user}", "gists_url": "https://api.github.com/users/troyhoffman/gists{/gist_id}", "starred_url": "https://api.github.com/users/troyhoffman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/troyhoffman/subscriptions", "organizations_url": "https://api.github.com/users/troyhoffman/orgs", "repos_url": "https://api.github.com/users/troyhoffman/repos", "events_url": "https://api.github.com/users/troyhoffman/events{/privacy}", "received_events_url": "https://api.github.com/users/troyhoffman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-01T20:27:51Z", "updated_at": "2017-05-02T18:27:15Z", "closed_at": "2017-05-02T18:27:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you instantiate PdfWriter with compress=True under Python 3.x, it throws a TypeError exception in line 23 in compress.py when trying to compress an object. The problem is that the 3.x  version of zlib.compress() expects a byte array instead of a string. The fix is to encode the string before sending to zlib.compress().\r\n\r\nI have a fix. It's conditional on the Python version and I've tested it under 2.7.8 and 3.6.1.  I'm just not 100% sure if the way I'm doing the conditional checking is consistent with the rest of the library. If you want, I can create a pull request.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/90", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/90/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/90/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/90", "id": 225489350, "node_id": "MDU6SXNzdWUyMjU0ODkzNTA=", "number": 90, "title": "Readme needs updating", "user": {"login": "troyhoffman", "id": 18197001, "node_id": "MDQ6VXNlcjE4MTk3MDAx", "avatar_url": "https://avatars2.githubusercontent.com/u/18197001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/troyhoffman", "html_url": "https://github.com/troyhoffman", "followers_url": "https://api.github.com/users/troyhoffman/followers", "following_url": "https://api.github.com/users/troyhoffman/following{/other_user}", "gists_url": "https://api.github.com/users/troyhoffman/gists{/gist_id}", "starred_url": "https://api.github.com/users/troyhoffman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/troyhoffman/subscriptions", "organizations_url": "https://api.github.com/users/troyhoffman/orgs", "repos_url": "https://api.github.com/users/troyhoffman/repos", "events_url": "https://api.github.com/users/troyhoffman/events{/privacy}", "received_events_url": "https://api.github.com/users/troyhoffman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-01T18:19:36Z", "updated_at": "2017-05-03T18:35:07Z", "closed_at": "2017-05-03T18:35:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know it's minor, but the readme is still at version 0.2. I would just do a pull request, but I don't know if it needs more than a version number change.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/89", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/89/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/89/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/89", "id": 223621291, "node_id": "MDU6SXNzdWUyMjM2MjEyOTE=", "number": 89, "title": "Lost links? [rl1/subset.py]", "user": {"login": "lzy0699", "id": 16253242, "node_id": "MDQ6VXNlcjE2MjUzMjQy", "avatar_url": "https://avatars2.githubusercontent.com/u/16253242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lzy0699", "html_url": "https://github.com/lzy0699", "followers_url": "https://api.github.com/users/lzy0699/followers", "following_url": "https://api.github.com/users/lzy0699/following{/other_user}", "gists_url": "https://api.github.com/users/lzy0699/gists{/gist_id}", "starred_url": "https://api.github.com/users/lzy0699/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lzy0699/subscriptions", "organizations_url": "https://api.github.com/users/lzy0699/orgs", "repos_url": "https://api.github.com/users/lzy0699/repos", "events_url": "https://api.github.com/users/lzy0699/events{/privacy}", "received_events_url": "https://api.github.com/users/lzy0699/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-23T08:31:57Z", "updated_at": "2017-04-24T08:09:46Z", "closed_at": "2017-04-24T08:09:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use reportlab to generate a pdf file that contains some linkRects and linkURLs.Then I use  'rl1/subset.py' to creat a copy.The copy lost all links.Why?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/88", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/88/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/88/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/88", "id": 221691662, "node_id": "MDU6SXNzdWUyMjE2OTE2NjI=", "number": 88, "title": "AssertionError is PDFString is '<>'", "user": {"login": "a59", "id": 2768322, "node_id": "MDQ6VXNlcjI3NjgzMjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2768322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a59", "html_url": "https://github.com/a59", "followers_url": "https://api.github.com/users/a59/followers", "following_url": "https://api.github.com/users/a59/following{/other_user}", "gists_url": "https://api.github.com/users/a59/gists{/gist_id}", "starred_url": "https://api.github.com/users/a59/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a59/subscriptions", "organizations_url": "https://api.github.com/users/a59/orgs", "repos_url": "https://api.github.com/users/a59/repos", "events_url": "https://api.github.com/users/a59/events{/privacy}", "received_events_url": "https://api.github.com/users/a59/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-04-13T21:49:48Z", "updated_at": "2017-05-04T20:06:17Z", "closed_at": "2017-05-04T20:06:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a PDFString s is '<>' then\r\n\r\ns.decode()\r\n\r\nraises an AssertionError.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/76", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/76/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/76/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/76", "id": 215746542, "node_id": "MDU6SXNzdWUyMTU3NDY1NDI=", "number": 76, "title": "Opening document with PdfReader fails of a flattened PDF document.", "user": {"login": "fwdevmobile", "id": 10398186, "node_id": "MDQ6VXNlcjEwMzk4MTg2", "avatar_url": "https://avatars3.githubusercontent.com/u/10398186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fwdevmobile", "html_url": "https://github.com/fwdevmobile", "followers_url": "https://api.github.com/users/fwdevmobile/followers", "following_url": "https://api.github.com/users/fwdevmobile/following{/other_user}", "gists_url": "https://api.github.com/users/fwdevmobile/gists{/gist_id}", "starred_url": "https://api.github.com/users/fwdevmobile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fwdevmobile/subscriptions", "organizations_url": "https://api.github.com/users/fwdevmobile/orgs", "repos_url": "https://api.github.com/users/fwdevmobile/repos", "events_url": "https://api.github.com/users/fwdevmobile/events{/privacy}", "received_events_url": "https://api.github.com/users/fwdevmobile/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-21T13:52:50Z", "updated_at": "2017-03-27T06:45:59Z", "closed_at": "2017-03-25T19:02:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a PDF document with an Acroform in it. After filling in values and flattening the document, I tried to open the document again with the PdfReader, but this fails. It gives me the following stacktrace.\r\n\r\nError stacktrace:\r\n\r\n```\r\n../../.virtualenvs/pdftools35/lib/python3.5/site-packages/pdfrw/pdfreader.py:546: in __init__\r\n    trailer, is_stream = self.parsexref(source)\r\n../../.virtualenvs/pdftools35/lib/python3.5/site-packages/pdfrw/pdfreader.py:439: in parsexref\r\n    return self.parse_xref_stream(source), True\r\n../../.virtualenvs/pdftools35/lib/python3.5/site-packages/pdfrw/pdfreader.py:372: in parse_xref_stream\r\n    xtype, p1, p2 = islice(get, 3)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\ns = '\\x00\\x00\\x00\\x00\u00ff\u00ff\\x01\\x00\\x00\\x12\\x00\\x00\\x01\\x00\\x02\\x02\\x00\\x00\\x01\\x00\\x12[\\x00\\x00\\x01\\x00\\x13\\x94\\x00\\x00\\x01\\x...12\\x00\\x00\\x01\\x01\u00e3c\\x00\\x00\\x01\\x01\u00e3\u00dc\\x00\\x00\\x01\\x01\u00e4-\\x00\\x00\\x01\\x01\u00e4\u00a6\\x00\\x00\\x01\\x01\u00e4\u00f7\\x00\\x00\\x01\\x01\u00e5q\\x00\\x00'\r\nlengths = <itertools.cycle object at 0x120fb4e08>\r\n\r\n    def readint(s, lengths):\r\n        lengths = itertools.cycle(lengths)\r\n        offset = 0\r\n        for length in itertools.cycle(lengths):\r\n            next = offset + length\r\n            # if isinstance(s, str):\r\n            #    s = bytes(s, 'latin-1')\r\n    \r\n>           yield int(hexlify(s[offset:next]), 16) if length else None\r\nE           TypeError: a bytes-like object is required, not 'str'\r\n\r\n../../.virtualenvs/pdftools35/lib/python3.5/site-packages/pdfrw/pdfreader.py:342: TypeError\r\n```\r\n\r\nI am using Python 3.5.1.\r\n\r\nMy test code:\r\n\r\n```python\r\nimport pdfrw\r\n\r\nwith open('document_after_flattening.pdf', 'rb') as f:\r\n    fdata = f.read().decode('latin-1')\r\n    pdfrw.PdfReader(fdata=fdata)\r\n\r\n```\r\n\r\nI have traced the error back to :\r\n\r\n```python\r\n        def readint(s, lengths):\r\n            lengths = itertools.cycle(lengths)\r\n            offset = 0\r\n            for length in itertools.cycle(lengths):\r\n                next = offset + length\r\n                yield int(hexlify(s[offset:next]), 16) if length else None\r\n                offset = next\r\n```\r\n\r\n```python\r\nhexlify(s[offset:next])\r\n```\r\n\r\nI replaced the code above with:\r\n```python\r\n        def readint(s, lengths):\r\n            lengths = itertools.cycle(lengths)\r\n            offset = 0\r\n            for length in itertools.cycle(lengths):\r\n                next = offset + length\r\n\r\n\r\n                if isinstance(s, str):\r\n                   s = bytes(s, 'latin-1')\r\n\r\n\r\n                yield int(hexlify(s[offset:next]), 16) if length else None\r\n                offset = next\r\n```\r\n\r\nIt appears that the stream is a string and the function didn't expect this and that's the reason why it crashes.\r\n\r\n\r\nThe document\r\n[document_before_flattening.pdf](https://github.com/pmaupin/pdfrw/files/858278/document_before_flattening.pdf)\r\n\r\n[document_after_flattening.pdf](https://github.com/pmaupin/pdfrw/files/858277/document_after_flattening.pdf)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/74", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/74/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/74/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/74", "id": 209917009, "node_id": "MDU6SXNzdWUyMDk5MTcwMDk=", "number": 74, "title": "Question : how to remove some elements in a pdf file ?", "user": {"login": "setop", "id": 7794056, "node_id": "MDQ6VXNlcjc3OTQwNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/7794056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/setop", "html_url": "https://github.com/setop", "followers_url": "https://api.github.com/users/setop/followers", "following_url": "https://api.github.com/users/setop/following{/other_user}", "gists_url": "https://api.github.com/users/setop/gists{/gist_id}", "starred_url": "https://api.github.com/users/setop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/setop/subscriptions", "organizations_url": "https://api.github.com/users/setop/orgs", "repos_url": "https://api.github.com/users/setop/repos", "events_url": "https://api.github.com/users/setop/events{/privacy}", "received_events_url": "https://api.github.com/users/setop/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-23T23:33:24Z", "updated_at": "2017-02-24T14:22:47Z", "closed_at": "2017-02-24T14:22:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to make a script to remove some images from a pdf file based on their dimension.\r\n\r\nIterating over pages,\r\n* if I use `findobjs.find_objects(page, valid_subtypes=(PdfName.Image,))`, it finds Image objects and I can check width and height properties. But then the link with the parent (the page) is lost so I'm not able to remove this element from the page.\r\n* if I use `find_objects` on each content of the page (page.Contents), so I can keep the link with the page, it is not able to find any Image object.\r\n\r\nI've tried to understand `find_objects` function to mock the behavior in a custom function. But there is some magic around `obj.iteritems()` that I don't get.\r\n\r\nDo you have any idea on how to proceed ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/72", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/72/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/72/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/72", "id": 205199463, "node_id": "MDU6SXNzdWUyMDUxOTk0NjM=", "number": 72, "title": "Xobjects with compression parameters not supported", "user": {"login": "maralad", "id": 4122570, "node_id": "MDQ6VXNlcjQxMjI1NzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4122570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maralad", "html_url": "https://github.com/maralad", "followers_url": "https://api.github.com/users/maralad/followers", "following_url": "https://api.github.com/users/maralad/following{/other_user}", "gists_url": "https://api.github.com/users/maralad/gists{/gist_id}", "starred_url": "https://api.github.com/users/maralad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maralad/subscriptions", "organizations_url": "https://api.github.com/users/maralad/orgs", "repos_url": "https://api.github.com/users/maralad/repos", "events_url": "https://api.github.com/users/maralad/events{/privacy}", "received_events_url": "https://api.github.com/users/maralad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-03T16:11:20Z", "updated_at": "2017-03-23T21:23:13Z", "closed_at": "2017-03-23T21:23:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nWas getting this when trying to merge this pdf:\r\nhttp://demo.visualid.com/_mediafiles/demo/_tmp/3GoeKXdVeEk7.pdf\r\nInt this pdf:\r\nhttps://s3-eu-west-1.amazonaws.com/visualid-mediafiles/demo/20170131/AC1E00B70333d13AF9qXE39A3E9A/9sd9DGiaS4X4.pdf\r\n\r\nFlateDecode needs to decompress and recompress\r\nHere is thd dict of parameters in the pdf...\r\n[{'/Length': '3134', '/Filter': '/FlateDecode'}, {'/Length':\r\n'3172',\r\n '/Filter': '/FlateDecode'}, {'/Length': '3597', '/Filter':\r\n'/FlateDecode'},\r\n{'/Length': '3580', '/Filter': '/FlateDecode'}, {'/Length': '3044',\r\n '/Filter': '/FlateDecode'}, {'/Length': '3393', '/Filter':\r\n'/FlateDecode'},\r\n{'/Length': '3347', '/Filter': '/FlateDecode'}, {'/Length': '3223',\r\n '/Filter': '/FlateDecode'}]\r\n\r\nCode fix by @pmaupin to come\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/68", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/68/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/68/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/68", "id": 191749338, "node_id": "MDU6SXNzdWUxOTE3NDkzMzg=", "number": 68, "title": "barcode", "user": {"login": "aurigadl", "id": 610136, "node_id": "MDQ6VXNlcjYxMDEzNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/610136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aurigadl", "html_url": "https://github.com/aurigadl", "followers_url": "https://api.github.com/users/aurigadl/followers", "following_url": "https://api.github.com/users/aurigadl/following{/other_user}", "gists_url": "https://api.github.com/users/aurigadl/gists{/gist_id}", "starred_url": "https://api.github.com/users/aurigadl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aurigadl/subscriptions", "organizations_url": "https://api.github.com/users/aurigadl/orgs", "repos_url": "https://api.github.com/users/aurigadl/repos", "events_url": "https://api.github.com/users/aurigadl/events{/privacy}", "received_events_url": "https://api.github.com/users/aurigadl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-25T18:05:51Z", "updated_at": "2017-03-25T19:20:26Z", "closed_at": "2017-03-25T19:20:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "thanks for your job. \r\nCan I use barcodes with pdfrw?\r\nNeed another library, or should I import the image barcode into the document?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/67", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/67/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/67/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/67", "id": 187871661, "node_id": "MDU6SXNzdWUxODc4NzE2NjE=", "number": 67, "title": "Inline images not handled", "user": {"login": "divergentdave", "id": 181772, "node_id": "MDQ6VXNlcjE4MTc3Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/181772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divergentdave", "html_url": "https://github.com/divergentdave", "followers_url": "https://api.github.com/users/divergentdave/followers", "following_url": "https://api.github.com/users/divergentdave/following{/other_user}", "gists_url": "https://api.github.com/users/divergentdave/gists{/gist_id}", "starred_url": "https://api.github.com/users/divergentdave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divergentdave/subscriptions", "organizations_url": "https://api.github.com/users/divergentdave/orgs", "repos_url": "https://api.github.com/users/divergentdave/repos", "events_url": "https://api.github.com/users/divergentdave/events{/privacy}", "received_events_url": "https://api.github.com/users/divergentdave/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-08T00:46:29Z", "updated_at": "2016-11-26T04:30:05Z", "closed_at": "2016-11-26T04:30:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Inline images, as described at section 4.8.6 of the PDF 1.7 reference, turn content streams on their head by putting raw image data in the middle of normal PDF objects. It seems the tokenizer doesn't handle inline images at present, so the image data gets parsed into nonsense operators/operands. If there are left and right angle brackets in the image data, one of the tokens will be an invalid hex-encoded string, which will raise an assertion when you try to `decode()` it.\r\n\r\n[I've started work on this in my fork](https://github.com/divergentdave/pdfrw/tree/inline-image), but I'm wondering if the image data should be returned as a different data type or object. I haven't looked at PdfWriter yet either.\r\n\r\nI filed a PR over at pmaupin/static_pdfs#1 to add a file with inline images to the test files. If you run the script below on that file, you should get an AssertionError with a message of '<\\x00\\x00>'.\r\n\r\n```\r\nimport sys\r\n\r\nimport pdfrw\r\n\r\n\r\nwith open(sys.argv[1], \"rb\") as f:\r\n    doc = pdfrw.PdfReader(f)\r\n    for page in doc.pages:\r\n        if isinstance(page.Contents, pdfrw.PdfArray):\r\n            contents = list(page.Contents)\r\n        else:\r\n            contents = [page.Contents]\r\n        pdfrw.uncompress.uncompress(contents)\r\n        for content in contents:\r\n            if content is None:\r\n                continue\r\n            for token in pdfrw.PdfTokens(content.stream):\r\n                if isinstance(token, pdfrw.PdfString):\r\n                    token.decode()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/66", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/66/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/66/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/66", "id": 185260581, "node_id": "MDU6SXNzdWUxODUyNjA1ODE=", "number": 66, "title": "How to navigate through the tree to see the PDF text content.", "user": {"login": "abhinavbom", "id": 232763, "node_id": "MDQ6VXNlcjIzMjc2Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/232763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhinavbom", "html_url": "https://github.com/abhinavbom", "followers_url": "https://api.github.com/users/abhinavbom/followers", "following_url": "https://api.github.com/users/abhinavbom/following{/other_user}", "gists_url": "https://api.github.com/users/abhinavbom/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhinavbom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhinavbom/subscriptions", "organizations_url": "https://api.github.com/users/abhinavbom/orgs", "repos_url": "https://api.github.com/users/abhinavbom/repos", "events_url": "https://api.github.com/users/abhinavbom/events{/privacy}", "received_events_url": "https://api.github.com/users/abhinavbom/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-25T23:32:25Z", "updated_at": "2017-03-25T19:16:02Z", "closed_at": "2017-03-25T19:16:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to navigate through the tree created by PdfReader and looking for the var that stores the text of PDF. \n\n```\n>>> x.pages[1].Resources\n{'/Font': {'/T1_2': (14, 0), '/T1_3': (16, 0), '/T1_0': (146, 0), '/T1_1': (148, 0)}, '/ProcSet': ['/PDF', '/Text']}\n>>> x.pages[1].Resources.ProcSet\n['/PDF', '/Text'] \n```\n\nNot sure if this is the correct way of doing it. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/65", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/65/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/65/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/65", "id": 184237819, "node_id": "MDU6SXNzdWUxODQyMzc4MTk=", "number": 65, "title": "Question: How to blacken text / Replace text / Remove text ?", "user": {"login": "AvnerCohen", "id": 1297254, "node_id": "MDQ6VXNlcjEyOTcyNTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1297254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AvnerCohen", "html_url": "https://github.com/AvnerCohen", "followers_url": "https://api.github.com/users/AvnerCohen/followers", "following_url": "https://api.github.com/users/AvnerCohen/following{/other_user}", "gists_url": "https://api.github.com/users/AvnerCohen/gists{/gist_id}", "starred_url": "https://api.github.com/users/AvnerCohen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AvnerCohen/subscriptions", "organizations_url": "https://api.github.com/users/AvnerCohen/orgs", "repos_url": "https://api.github.com/users/AvnerCohen/repos", "events_url": "https://api.github.com/users/AvnerCohen/events{/privacy}", "received_events_url": "https://api.github.com/users/AvnerCohen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-10-20T14:00:19Z", "updated_at": "2018-04-24T13:04:29Z", "closed_at": "2016-10-23T09:40:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for making this lib!\nAnd sorry for the Question, this is not an issue.\n\nI have an existing PDF with a specific word I want to hide out.\nI am happy with any solution on how to hide it (Write on top of it, cut it out, replace it etc..).\nI am not so much familier with the PDF format so not sure how to go about that, any suggestion?\n\nHappy to contribute back a working example when I get this to work :)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/64", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/64/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/64/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/64", "id": 176151005, "node_id": "MDU6SXNzdWUxNzYxNTEwMDU=", "number": 64, "title": "how to set unicode info?", "user": {"login": "retsyo", "id": 7960913, "node_id": "MDQ6VXNlcjc5NjA5MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7960913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retsyo", "html_url": "https://github.com/retsyo", "followers_url": "https://api.github.com/users/retsyo/followers", "following_url": "https://api.github.com/users/retsyo/following{/other_user}", "gists_url": "https://api.github.com/users/retsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/retsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retsyo/subscriptions", "organizations_url": "https://api.github.com/users/retsyo/orgs", "repos_url": "https://api.github.com/users/retsyo/repos", "events_url": "https://api.github.com/users/retsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/retsyo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206383, "node_id": "MDU6TGFiZWwyMTgyMDYzODM=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-High", "name": "Priority-High", "color": "ededed", "default": false, "description": null}, {"id": 218206358, "node_id": "MDU6TGFiZWwyMTgyMDYzNTg=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-10T02:39:10Z", "updated_at": "2017-04-01T21:18:10Z", "closed_at": "2017-04-01T21:18:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I mean use non-english chanracters, for example\nwriter.trailer.Info = IndirectPdfDict(\n    Title=u'unicode string1',\n    Author=u'unicode string2',\n)\n\nthanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/59", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/59/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/59/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/59", "id": 165635981, "node_id": "MDU6SXNzdWUxNjU2MzU5ODE=", "number": 59, "title": "RE: PdfReader cannot read the io.BytesIO properly in Python 3.5", "user": {"login": "LiuGavin", "id": 20464516, "node_id": "MDQ6VXNlcjIwNDY0NTE2", "avatar_url": "https://avatars3.githubusercontent.com/u/20464516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiuGavin", "html_url": "https://github.com/LiuGavin", "followers_url": "https://api.github.com/users/LiuGavin/followers", "following_url": "https://api.github.com/users/LiuGavin/following{/other_user}", "gists_url": "https://api.github.com/users/LiuGavin/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiuGavin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiuGavin/subscriptions", "organizations_url": "https://api.github.com/users/LiuGavin/orgs", "repos_url": "https://api.github.com/users/LiuGavin/repos", "events_url": "https://api.github.com/users/LiuGavin/events{/privacy}", "received_events_url": "https://api.github.com/users/LiuGavin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-14T19:10:56Z", "updated_at": "2016-10-19T16:48:54Z", "closed_at": "2016-10-19T16:48:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems there is a \"tab/space\" issue on line 499 in pdfreader.py, where it currently only do the 'convert_load' in case of file, but not from 'in-memory'(such as BytesIO) object. Ideally it should be done in both case, so I believe this is a typo that mis-place the line \"fdata=conver_load(fdata)\" into the 'file-reading' section only.\n\nAfter I fix the 'tab' issue above(so that it applies for both case), I can use it for BytesIO object now.\n\nBy the way, it seems this bug only occurs in Python 3.5, I don't have any issue with Python 3.4.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/58", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/58/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/58/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/58", "id": 160191665, "node_id": "MDU6SXNzdWUxNjAxOTE2NjU=", "number": 58, "title": "Stopiteration exception", "user": {"login": "tassamartz", "id": 4063358, "node_id": "MDQ6VXNlcjQwNjMzNTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4063358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tassamartz", "html_url": "https://github.com/tassamartz", "followers_url": "https://api.github.com/users/tassamartz/followers", "following_url": "https://api.github.com/users/tassamartz/following{/other_user}", "gists_url": "https://api.github.com/users/tassamartz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tassamartz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tassamartz/subscriptions", "organizations_url": "https://api.github.com/users/tassamartz/orgs", "repos_url": "https://api.github.com/users/tassamartz/repos", "events_url": "https://api.github.com/users/tassamartz/events{/privacy}", "received_events_url": "https://api.github.com/users/tassamartz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-06-14T14:12:05Z", "updated_at": "2017-03-25T19:23:28Z", "closed_at": "2017-03-25T19:23:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there,\n\nFirst thanks for your great work!\n\nI've been using this library for a while and it worked perfectly, my use case is the following:\n 1- I build a pdf document with reportlab library\n 2- I have other existing pdf documents that i append at the end of the document build in 1-. Till now every thing was fine till i encountered an error with a pdf file which when i want to add it at the end of the document, the program  exits with an error on Stopiteration exception. Following is the error stack. The pdf document in question is fine when opened with adobe  Acrobat reader and is made of 3 pages.  So is there something i can do to know that some pdf file are not supported ?\n\nThanks!\n\nFile \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfwriter.py\", line 316, in write\n[Mon Jun 13 13:15:50.782466 2016] [:error] [pid 16822]     self.killobj, user_fmt=user_fmt)\n[Mon Jun 13 13:15:50.782471 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfwriter.py\", line 196, in FormatObjects\n[Mon Jun 13 13:15:50.782476 2016] [:error] [pid 16822]     format_deferred()\n[Mon Jun 13 13:15:50.782481 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfwriter.py\", line 164, in format_deferred\n[Mon Jun 13 13:15:50.782487 2016] [:error] [pid 16822]     objlist[index] = format_obj(obj)\n[Mon Jun 13 13:15:50.782492 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfwriter.py\", line 145, in format_obj\n[Mon Jun 13 13:15:50.782512 2016] [:error] [pid 16822]     myarray.append(add(value))\n[Mon Jun 13 13:15:50.782517 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfwriter.py\", line 83, in add\n[Mon Jun 13 13:15:50.782523 2016] [:error] [pid 16822]     result = format_obj(obj)\n[Mon Jun 13 13:15:50.782528 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfwriter.py\", line 135, in format_obj\n[Mon Jun 13 13:15:50.782533 2016] [:error] [pid 16822]     myarray = [add(x) for x in obj]\n[Mon Jun 13 13:15:50.782538 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/objects/pdfarray.py\", line 46, in **iter**\n[Mon Jun 13 13:15:50.782543 2016] [:error] [pid 16822]     self._resolve()\n[Mon Jun 13 13:15:50.782548 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/objects/pdfarray.py\", line 28, in _resolver\n[Mon Jun 13 13:15:50.782554 2016] [:error] [pid 16822]     value = value.real_value()\n[Mon Jun 13 13:15:50.782559 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/objects/pdfindirect.py\", line 21, in real_value\n[Mon Jun 13 13:15:50.782564 2016] [:error] [pid 16822]     value = self.value = self._loader(self)\n[Mon Jun 13 13:15:50.782569 2016] [:error] [pid 16822]   File \"/usr/local/lib/python2.7/dist-packages/pdfrw/pdfreader.py\", line 200, in loadindirect\n[Mon Jun 13 13:15:50.782574 2016] [:error] [pid 16822]     source.next()\n[Mon Jun 13 13:15:50.782579 2016] [:error] [pid 16822] StopIteration\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/51", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/51/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/51/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/51", "id": 146448059, "node_id": "MDU6SXNzdWUxNDY0NDgwNTk=", "number": 51, "title": "Another release?", "user": {"login": "Roguelazer", "id": 263424, "node_id": "MDQ6VXNlcjI2MzQyNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/263424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Roguelazer", "html_url": "https://github.com/Roguelazer", "followers_url": "https://api.github.com/users/Roguelazer/followers", "following_url": "https://api.github.com/users/Roguelazer/following{/other_user}", "gists_url": "https://api.github.com/users/Roguelazer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Roguelazer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Roguelazer/subscriptions", "organizations_url": "https://api.github.com/users/Roguelazer/orgs", "repos_url": "https://api.github.com/users/Roguelazer/repos", "events_url": "https://api.github.com/users/Roguelazer/events{/privacy}", "received_events_url": "https://api.github.com/users/Roguelazer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-06T22:00:10Z", "updated_at": "2016-10-19T16:51:16Z", "closed_at": "2016-10-19T16:51:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to use pdfrw for a project, but it involves in-memory PDFs and runs on Python 3.x, so I'm stuck using a git+ssh:// URL to install it, which is somewhat problematic. Any chance of a new release including #43 / 9e4aa55552b2db117ea3479bf43271d554055dbf getting pushed to pypi?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/50", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/50/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/50/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/50", "id": 140684595, "node_id": "MDU6SXNzdWUxNDA2ODQ1OTU=", "number": 50, "title": "Bug: Can't rewatermark file", "user": {"login": "NotSqrt", "id": 1997005, "node_id": "MDQ6VXNlcjE5OTcwMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1997005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotSqrt", "html_url": "https://github.com/NotSqrt", "followers_url": "https://api.github.com/users/NotSqrt/followers", "following_url": "https://api.github.com/users/NotSqrt/following{/other_user}", "gists_url": "https://api.github.com/users/NotSqrt/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotSqrt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotSqrt/subscriptions", "organizations_url": "https://api.github.com/users/NotSqrt/orgs", "repos_url": "https://api.github.com/users/NotSqrt/repos", "events_url": "https://api.github.com/users/NotSqrt/events{/privacy}", "received_events_url": "https://api.github.com/users/NotSqrt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-03-14T14:17:25Z", "updated_at": "2017-01-09T16:11:50Z", "closed_at": "2017-01-09T16:11:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nJust discovered a small bug:\n\ncode to reproduce:\n\n``` python\nfrom reportlab.pdfgen import canvas\nfrom pdfrw import PdfReader, PdfWriter, PageMerge\n\n\n# create some files\npdf_file = canvas.Canvas('page.pdf')\npdf_file.drawString(0, 0, 'hello')\npdf_file.save()\n\nwatermark_file = canvas.Canvas('water.pdf')\nwatermark_file.drawString(0, 0, 'water')\nwatermark_file.save()\n\n\n# watermark 1\nwmark = PageMerge().add(PdfReader('water.pdf').pages[0])[0]\ntrailer = PdfReader('page.pdf')\n\nfor page in trailer.pages:\n    PageMerge(page).add(wmark).render()\n\nPdfWriter().write('merged.pdf', trailer)\n\n\n# watermark the watermarked file\ntrailer = PdfReader('merged.pdf')\n\nfor page in trailer.pages:\n    PageMerge(page).add(wmark).render()\n\nPdfWriter().write('merged2.pdf', trailer)\n```\n\nThe problem is around https://github.com/pmaupin/pdfrw/blob/master/pdfrw/pagemerge.py#L202.\n\nThe number 6 is not `len('\\pdfrw_')`, so the `isdigit()` fails, and `\\pdfrw_0` is re-used every time.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/49", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/49/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/49/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/49", "id": 140164770, "node_id": "MDU6SXNzdWUxNDAxNjQ3NzA=", "number": 49, "title": "Pdf2txt", "user": {"login": "Immortalin", "id": 7126128, "node_id": "MDQ6VXNlcjcxMjYxMjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/7126128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Immortalin", "html_url": "https://github.com/Immortalin", "followers_url": "https://api.github.com/users/Immortalin/followers", "following_url": "https://api.github.com/users/Immortalin/following{/other_user}", "gists_url": "https://api.github.com/users/Immortalin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Immortalin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Immortalin/subscriptions", "organizations_url": "https://api.github.com/users/Immortalin/orgs", "repos_url": "https://api.github.com/users/Immortalin/repos", "events_url": "https://api.github.com/users/Immortalin/events{/privacy}", "received_events_url": "https://api.github.com/users/Immortalin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-11T11:45:26Z", "updated_at": "2016-03-11T13:43:18Z", "closed_at": "2016-03-11T13:43:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can a pdf to text conversion tool(a la pdf2txt in pdfminer) be added?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/42", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/42/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/42/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/42", "id": 121771170, "node_id": "MDU6SXNzdWUxMjE3NzExNzA=", "number": 42, "title": "How to remove object from pdf", "user": {"login": "b4stien", "id": 1778107, "node_id": "MDQ6VXNlcjE3NzgxMDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1778107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b4stien", "html_url": "https://github.com/b4stien", "followers_url": "https://api.github.com/users/b4stien/followers", "following_url": "https://api.github.com/users/b4stien/following{/other_user}", "gists_url": "https://api.github.com/users/b4stien/gists{/gist_id}", "starred_url": "https://api.github.com/users/b4stien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b4stien/subscriptions", "organizations_url": "https://api.github.com/users/b4stien/orgs", "repos_url": "https://api.github.com/users/b4stien/repos", "events_url": "https://api.github.com/users/b4stien/events{/privacy}", "received_events_url": "https://api.github.com/users/b4stien/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-12-11T19:03:16Z", "updated_at": "2016-06-08T20:04:35Z", "closed_at": "2015-12-12T01:00:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm sorry for posting something which is not directly an issue (and I'll be glad to push a PR for the docs with the answer !).\n\nI try to remove some objects (mostly images) from an existing pdf, i can find them with `pdfrw. findobjs.find_objects()`, but I have no clue how to remove them from \"the tree\"... Can you provide any kind of guidance (or place to look for more resources?).\n\nMany thanks,\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/39", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/39/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/39/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/39", "id": 110893447, "node_id": "MDU6SXNzdWUxMTA4OTM0NDc=", "number": 39, "title": "PdfString encode() does not work properly with unicode strings", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206358, "node_id": "MDU6TGFiZWwyMTgyMDYzNTg=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-12T00:28:00Z", "updated_at": "2017-04-01T21:19:24Z", "closed_at": "2017-04-01T21:19:24Z", "author_association": "OWNER", "active_lock_reason": null, "body": "decode() was modified to fix one user's needs; need to fix encode() as well.  Not sure what the right thing to do here is yet.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/38", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/38/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/38/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/38", "id": 109399167, "node_id": "MDU6SXNzdWUxMDkzOTkxNjc=", "number": 38, "title": "Reading a pdf from file like object or data not working in python 3 with bytesIO", "user": {"login": "rdgraham", "id": 3060896, "node_id": "MDQ6VXNlcjMwNjA4OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3060896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdgraham", "html_url": "https://github.com/rdgraham", "followers_url": "https://api.github.com/users/rdgraham/followers", "following_url": "https://api.github.com/users/rdgraham/following{/other_user}", "gists_url": "https://api.github.com/users/rdgraham/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdgraham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdgraham/subscriptions", "organizations_url": "https://api.github.com/users/rdgraham/orgs", "repos_url": "https://api.github.com/users/rdgraham/repos", "events_url": "https://api.github.com/users/rdgraham/events{/privacy}", "received_events_url": "https://api.github.com/users/rdgraham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-10-01T22:44:56Z", "updated_at": "2015-12-13T20:20:55Z", "closed_at": "2015-12-13T20:20:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have noticed that it is possible to make a `PdfReader` either by specifying a filename or file-like object, or by giving the data directly with fdata argument. This is great, however, it doesn't work if I give it a `BytesIO` object since the various functions in the following code only work with strings. For example, `fdata.startswith('%PDF-')` is called rather than `fdata.startswith(b'%PDF-')`.\n\nI can't immediately see an elegant way to solve this.  Directly converting the data with str() produces assertion errors such as `'File \"/usr/lib/python3.4/site-packages/pdfrw/pdfreader.py\", line 319, in findxref\n    assert tok == 'startxref'  # (We just checked this...)'` with the files I have tried.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/36", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/36/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/36/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/36", "id": 106605001, "node_id": "MDU6SXNzdWUxMDY2MDUwMDE=", "number": 36, "title": "Why merge pdf is flipped with example..", "user": {"login": "sqxccdy", "id": 6109899, "node_id": "MDQ6VXNlcjYxMDk4OTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/6109899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqxccdy", "html_url": "https://github.com/sqxccdy", "followers_url": "https://api.github.com/users/sqxccdy/followers", "following_url": "https://api.github.com/users/sqxccdy/following{/other_user}", "gists_url": "https://api.github.com/users/sqxccdy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqxccdy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqxccdy/subscriptions", "organizations_url": "https://api.github.com/users/sqxccdy/orgs", "repos_url": "https://api.github.com/users/sqxccdy/repos", "events_url": "https://api.github.com/users/sqxccdy/events{/privacy}", "received_events_url": "https://api.github.com/users/sqxccdy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-09-15T17:25:31Z", "updated_at": "2016-10-19T16:46:10Z", "closed_at": "2016-10-19T16:46:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "use example fancy_watemark.py or watermark.py go to run it.\n\nBut the resulting watermark are all horizontal and vertical flip.\n\nwatermark with reportlab generate.for example\n\n```\nc = canvas.Canvas('transafe.pdf')\nc.drawString(0,0,'hello') \nc.save()\n```\n\nThanks in advance\nPlease tell me how to change it ..\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/35", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/35/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/35/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/35", "id": 105103212, "node_id": "MDU6SXNzdWUxMDUxMDMyMTI=", "number": 35, "title": "Importing * from pdfrw and pdfrw.objects doesn't work", "user": {"login": "Unrud", "id": 11810547, "node_id": "MDQ6VXNlcjExODEwNTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/11810547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Unrud", "html_url": "https://github.com/Unrud", "followers_url": "https://api.github.com/users/Unrud/followers", "following_url": "https://api.github.com/users/Unrud/following{/other_user}", "gists_url": "https://api.github.com/users/Unrud/gists{/gist_id}", "starred_url": "https://api.github.com/users/Unrud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Unrud/subscriptions", "organizations_url": "https://api.github.com/users/Unrud/orgs", "repos_url": "https://api.github.com/users/Unrud/repos", "events_url": "https://api.github.com/users/Unrud/events{/privacy}", "received_events_url": "https://api.github.com/users/Unrud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-06T16:42:49Z", "updated_at": "2015-09-06T17:37:27Z", "closed_at": "2015-09-06T17:35:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `__all__` list in `__init__.py` must contain strings with the names of modules not the modules itself.\n\nhttps://docs.python.org/2/tutorial/modules.html#importing-from-a-package\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/33", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/33/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/33/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/33", "id": 104086615, "node_id": "MDU6SXNzdWUxMDQwODY2MTU=", "number": 33, "title": "watermarking some PDFs doesn't work", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-08-31T16:32:34Z", "updated_at": "2017-03-25T19:07:40Z", "closed_at": "2017-03-25T19:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have some input PDFs and try to watermark them with a given single page watermark.pdf.\nFor some PDFs that works (watermark shows), for some not (output looks as input).\n\nMy code is like this, underneath=False:\nhttps://github.com/pmaupin/pdfrw/blob/master/examples/watermark.py\n\nDo you have an idea why? Is this a bug? How can it be debugged?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/32", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/32/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/32/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/32", "id": 99215693, "node_id": "MDU6SXNzdWU5OTIxNTY5Mw==", "number": 32, "title": "Add more unittests for string encoding", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-05T14:22:23Z", "updated_at": "2017-04-01T21:18:44Z", "closed_at": "2017-04-01T21:18:44Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The code added for #30 does not break any current tests, but we don't have any [unittests](https://github.com/pmaupin/pdfrw/blob/master/tests/test_pdfstring.py) that will keep us from having a regression.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/29", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/29/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/29/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/29", "id": 90624771, "node_id": "MDU6SXNzdWU5MDYyNDc3MQ==", "number": 29, "title": "Add tests to the release tarball", "user": {"login": "valholl", "id": 301204, "node_id": "MDQ6VXNlcjMwMTIwNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/301204?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valholl", "html_url": "https://github.com/valholl", "followers_url": "https://api.github.com/users/valholl/followers", "following_url": "https://api.github.com/users/valholl/following{/other_user}", "gists_url": "https://api.github.com/users/valholl/gists{/gist_id}", "starred_url": "https://api.github.com/users/valholl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valholl/subscriptions", "organizations_url": "https://api.github.com/users/valholl/orgs", "repos_url": "https://api.github.com/users/valholl/repos", "events_url": "https://api.github.com/users/valholl/events{/privacy}", "received_events_url": "https://api.github.com/users/valholl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-24T09:35:03Z", "updated_at": "2015-06-24T21:24:58Z", "closed_at": "2015-06-24T19:53:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Could you please add the tests to your next release tarball? while the git repo is of course better for developement, having tests in the tarball is useful to check that the installation is working, expecially in the context of packaging (I'm in the process of adopting the packaging of pdfrw for debian).\n\nThanks in advance.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/25", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/25/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/25/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/25", "id": 88909386, "node_id": "MDU6SXNzdWU4ODkwOTM4Ng==", "number": 25, "title": "Document new functionality and examples", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-17T04:35:41Z", "updated_at": "2015-06-21T21:15:27Z", "closed_at": "2015-06-21T21:15:27Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Need to finish up a more comprehensive readme, and document the new object extraction functionality, and changed/deleted examples.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/22", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/22/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/22/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/22", "id": 86448258, "node_id": "MDU6SXNzdWU4NjQ0ODI1OA==", "number": 22, "title": "find_pdfrw in subdirectories under examples does not work", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-09T04:52:35Z", "updated_at": "2015-06-17T04:32:52Z", "closed_at": "2015-06-17T04:32:52Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Needs to search further up the directory hierarchy.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/19", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/19/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/19/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/19", "id": 84926468, "node_id": "MDU6SXNzdWU4NDkyNjQ2OA==", "number": 19, "title": "Move towards best practices for docs and tests and releases", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-04T05:41:02Z", "updated_at": "2015-06-21T21:16:20Z", "closed_at": "2015-06-21T21:16:20Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Convert wiki from markdown to rst, and build it at readthedocs.\n\nStart using wheels, and travisci.\n\nAnything else?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/18", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/18/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/18/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/18", "id": 84924970, "node_id": "MDU6SXNzdWU4NDkyNDk3MA==", "number": 18, "title": "Several failing round-trip test cases", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-04T05:36:53Z", "updated_at": "2015-06-09T01:23:01Z", "closed_at": "2015-06-09T01:23:01Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Need to start doing triage on them.\n\nObviously some of them are because of the missing object stream support.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/17", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/17/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/17/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/17", "id": 84924598, "node_id": "MDU6SXNzdWU4NDkyNDU5OA==", "number": 17, "title": "Add FormXObject and reportlab unit tests", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-04T05:35:45Z", "updated_at": "2015-06-17T04:33:21Z", "closed_at": "2015-06-17T04:33:21Z", "author_association": "OWNER", "active_lock_reason": null, "body": "And maybe unit tests that exercise some of the examples.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/16", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/16/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/16/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/16", "id": 84924240, "node_id": "MDU6SXNzdWU4NDkyNDI0MA==", "number": 16, "title": "Update examples to work with Python 3", "user": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-04T05:34:15Z", "updated_at": "2015-06-17T04:33:44Z", "closed_at": "2015-06-17T04:33:44Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Only ported example is watermark (it just required print fixes).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/15", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/15/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/15/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/15", "id": 82793698, "node_id": "MDU6SXNzdWU4Mjc5MzY5OA==", "number": 15, "title": "code.google.com usage", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-30T11:53:37Z", "updated_at": "2015-06-01T14:28:08Z", "closed_at": "2015-06-01T14:28:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nService code.google.com is closing. Do you have plans to migrate pdfrw to \nsomewhere?\n```\n\nOriginal issue reported on code.google.com by `he...@nerv.fi` on 17 Mar 2015 at 10:31\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/14", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/14/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/14/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/14", "id": 82793695, "node_id": "MDU6SXNzdWU4Mjc5MzY5NQ==", "number": 14, "title": "Spurious brackets in URIs.", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}, {"id": 218206363, "node_id": "MDU6TGFiZWwyMTgyMDYzNjM=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-30T11:53:37Z", "updated_at": "2019-05-30T21:29:37Z", "closed_at": "2015-06-04T05:27:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n\n1. Get a PDF with a URI in an annotation.\n2. Run this code on it:\n\n#!/usr/bin/env python\n\nimport sys\nimport os\n\nfrom pdfrw import PdfReader, PdfWriter\n\ndef convert(inpfn, outfn):\n\n  pdf = PdfReader(inpfn)\n\n  for K in pdf.Root.Pages.Kids:\n    if K.Annots is not None:\n      for An in K.Annots:\n        if An.A is not None:\n          if An.A.URI is not None:\n            An.A.URI = An.A.URI\n\n  outdata = PdfWriter()\n\n  outdata.trailer = pdf\n\n  outdata.write(outfn)\n\nfor inpfn in sys.argv[1:]:\n    print inpfn, ':'\n    outfn = 'out/' + inpfn\n    convert(inpfn, outfn)\n\n\nExpected output: the output PDF should be identical to the input.\n\nActual result: In the output PDF the URI will have extra brackets added around \nit, ie instead of\n\nhttp://www.example.com\n\nthe URI now points to:\n\n(http://www.example.com)\n\nwhich fails to open correctly in any PDF reader.\n\n\nUsing version 0.1-1 on Ubuntu 14.04.\n\n\n```\n\nOriginal issue reported on code.google.com by `a.j.bux...@gmail.com` on 21 Oct 2014 at 4:16\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/12", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/12/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/12/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/12", "id": 82793687, "node_id": "MDU6SXNzdWU4Mjc5MzY4Nw==", "number": 12, "title": "watermark.py example uses -o directory incorrectly (overwrite input files)", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-30T11:53:36Z", "updated_at": "2015-06-04T05:27:50Z", "closed_at": "2015-06-04T05:27:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nWhat steps will reproduce the problem?\n1. using watermark.py with -d and -o where a path is specified with -d\nWatermarked files overwrite the input files\n\nWhat is the expected output? What do you see instead?\nwatermarked files in directory specified by -o\n\nWhat version of the product are you using? On what operating system?\n0.1 downloaded 18-Jan-2014 as .zip file; on Windows 7 (irrelevant)\n\nPlease provide any additional information below.\nLine 67\n  PdfWriter().write(path.join(outdir, fname), trailer)\nshould be changed to\n  PdfWriter().write(path.join(outdir, os.path.basename(fname)), trailer)\n\n```\n\nOriginal issue reported on code.google.com by `rob...@pivot.si` on 18 Jan 2014 at 9:45\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/13", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/13/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/13/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/13", "id": 82793691, "node_id": "MDU6SXNzdWU4Mjc5MzY5MQ==", "number": 13, "title": "Tests are failing with AttributeError", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-30T11:53:36Z", "updated_at": "2015-06-01T01:50:13Z", "closed_at": "2015-06-01T01:50:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nRunning the tests e.g. with nosetests results in a failure:\n\n======================================================================\nERROR: test_doubleslash (tests.test_pdfstring.TestEncoding)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/valhalla/packaging/misc/pdfrw/pkg-pdfrw/tests/test_pdfstring.py\", line 29, in test_doubleslash\n    self.roundtrip('\\\\')\n  File \"/home/valhalla/packaging/misc/pdfrw/pkg-pdfrw/tests/test_pdfstring.py\", line 26, in roundtrip\n    self.assertEqual(value, self.encode_decode(value))\n  File \"/home/valhalla/packaging/misc/pdfrw/pkg-pdfrw/tests/test_pdfstring.py\", line 23, in encode_decode\n    return cls.decode(cls.encode(value))\n  File \"/home/valhalla/packaging/misc/pdfrw/pkg-pdfrw/tests/test_pdfstring.py\", line 19, in encode\n    return str(pdfrw.pdfobjects.PdfString.encode(value))\nAttributeError: 'module' object has no attribute 'pdfobjects'\n\n----------------------------------------------------------------------\nRan 1 test in 0.027s\n\nFAILED (errors=1)\n\nI've noticed that pdfrw/__init__.py includes a line\n\n   from pdfrw.objects import PdfObject [...] PdfString\n\nso I've tried to change:\n\n  s/pdfrw.pdfobjects.PdfString/pdfrw.PdfString/g\n\neverywhere in the file, which resulted in a passing test.\n\nWhat is the expected behaviour? the one used in the tests or the one resulting \nfrom code?\n\nThanks in advance\n```\n\nOriginal issue reported on code.google.com by `elena.va...@gmail.com` on 30 Aug 2014 at 1:59\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/11", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/11/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/11/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/11", "id": 82793684, "node_id": "MDU6SXNzdWU4Mjc5MzY4NA==", "number": 11, "title": "Potential Parsing Error for some PDFs", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-30T11:53:35Z", "updated_at": "2015-06-01T03:52:25Z", "closed_at": "2015-06-01T03:52:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nWhat steps will reproduce the problem?\n1. Using the code from the watermark.py as a sample, I attempted to Overlay the \nattached PDF Document into another PDF Document.\n\nMinimal code reproduction example:\n\nPython 2.7.3 (default, Apr 10 2012, 23:31:26) [MSC v.1500 32 bit (Intel)] on \nwin32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>>\n>>> from pdfrw import PdfReader\n>>> from pdfrw.buildxobj import pagexobj\n>>>\n>>> xobj = pagexobj(PdfReader('boverlay-new.pdf').getPage(0))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"c:\\python27\\lib\\site-packages\\pdfrw\\buildxobj.py\", line 193, in pagexobj\n    assert int(contents.Length) == len(contents.stream)\nAttributeError: 'PdfArray' object has no attribute 'Length'\n\nThe Overlay file will open in PDF Readers (Foxit, Adobe), but pdfrw is unable \nto create a page object from the first page of the PDF.  The Overlay PDF was \ncreated using Adobe Indesign, and is attached.\n\n\nWhat is the expected output? What do you see instead?\nNo overlay is produced, and the exception above is generated instead.\n\n\nWhat version of the product are you using? On what operating system?\nI have the latest pdfrw as retrieved from via SVN.  Windows 7, 64bit, using \nPython 2.7.3 32bit.\n\n\nPlease provide any additional information below.\n\n\n```\n\nOriginal issue reported on code.google.com by `dancas...@gmail.com` on 4 Nov 2013 at 5:23\n\nAttachments:\n- [boverlay-new.pdf](https://storage.googleapis.com/google-code-attachments/pdfrw/issue-11/comment-0/boverlay-new.pdf)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/10", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/10/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/10/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/10", "id": 82793677, "node_id": "MDU6SXNzdWU4Mjc5MzY3Nw==", "number": 10, "title": "'int' object is not callable", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-30T11:53:34Z", "updated_at": "2015-05-30T11:53:35Z", "closed_at": "2015-05-30T11:53:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nattempting to run the following line of code:\npages[0].MediaBox[2:]\n\nwould result in something like:\n\nTraceback (most recent call last):\n  File \"/tp/new_backend/teampatent/test/test_pdfwrap.py\", line 233, in test_pdfwrap_page_sizes\n    eq_([420, 595], [int(n) for n in pages[0].MediaBox[2:]])\n  File \"build/bdist.linux-i686/egg/pdfrw/objects/pdfarray.py\", line 39, in __getslice__\n    return listget(self, index)\nTypeError: 'int' object is not callable\n\nthis used to work before 0.1 release\n\n\n```\n\nOriginal issue reported on code.google.com by `liucou...@gmail.com` on 5 Mar 2013 at 1:21\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/9", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/9/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/9/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/9", "id": 82793672, "node_id": "MDU6SXNzdWU4Mjc5MzY3Mg==", "number": 9, "title": "Direct page objects in /Kids", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2015-05-30T11:53:33Z", "updated_at": "2015-06-01T02:09:41Z", "closed_at": "2015-06-01T02:09:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nIn examples where XObjects are used, after adding new pages, somehow they are \nwritten in /Kids array as direct objects. According to specification, they must \nbe indirect. Although pdf readers open such documents just fine, some tools are \ncomplaining about that. The solutions can be:\n\n1) in examples (e.g. 4up.py function get4) change returning type from PdfDict \nto IndirectPdfDict.\n\n2) changing type to indirect in writer. For example, in _get_trailer:\n\n        # Make all the pages point back to the page dictionary\n        pagedict = trailer.Root.Pages\n        for page in pagedict.Kids:\n            page.Parent = pagedict\n            page.indirect = True  <-- add this line\n\nI think the second approach is more cleaner.\n```\n\nOriginal issue reported on code.google.com by `exp...@gmail.com` on 17 Nov 2012 at 3:56\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/8", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/8/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/8/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/8", "id": 82793659, "node_id": "MDU6SXNzdWU4Mjc5MzY1OQ==", "number": 8, "title": "Problem with \"/Contents\" in some pdf's", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-30T11:53:32Z", "updated_at": "2015-05-30T11:53:33Z", "closed_at": "2015-05-30T11:53:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nSome pdf's in /Contents have array with one object instead of object directly. \n\nEg. /Contents [ 5 0 R ] instead of /Contents 5 0 R.\n\nTo fix this problem, I changed buildxobj.py pagexobj method in line 190 to:\n\n    if isinstance(page.Contents, PdfArray):\n        contents = page.Contents[0]\n    else:\n        contents = page.Contents\n```\n\nOriginal issue reported on code.google.com by `exp...@gmail.com` on 18 Oct 2012 at 10:12\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/7", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/7/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/7/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/7", "id": 82793652, "node_id": "MDU6SXNzdWU4Mjc5MzY1Mg==", "number": 7, "title": "add to pypi", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-05-30T11:53:31Z", "updated_at": "2015-05-30T11:53:32Z", "closed_at": "2015-05-30T11:53:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nit would be good if pdfrw could be installed with easy_install or pip\n\n\nthe following simple setup.py works for me:\n\n#!/usr/bin/env python\n\nfrom setuptools import setup\n\nsetup(\n    name = \"pdfrw\",\n    version = \"0.1\",\n\n    packages = [\"pdfrw\"]\n)\n```\n\nOriginal issue reported on code.google.com by `liucou...@gmail.com` on 17 Sep 2012 at 11:38\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/6", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/6/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/6/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/6", "id": 82793645, "node_id": "MDU6SXNzdWU4Mjc5MzY0NQ==", "number": 6, "title": "errors decoding pdf files", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206383, "node_id": "MDU6TGFiZWwyMTgyMDYzODM=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-High", "name": "Priority-High", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-30T11:53:30Z", "updated_at": "2015-05-30T11:53:31Z", "closed_at": "2015-05-30T11:53:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nI'm developing a Python's application using pdfrw and all seems ok, but i \ndiscovered that when i run my application with optimizations activated (python \n-OO) pdfrw can't decode any pdf and raises Exceptions.\n\nBy a quickly inspection of pdfrw's source code i found in pdfreader.py rows as \nthese:\n  assert source.next() == 'R'\n  assert source.next() == '<<'\n  assert source.next() == 'startxref' and source.floc > startloc\n\ncalling .next() in an assert will change the program working flow if \noptimizations are on or off.\n\nGiuseppe\n```\n\nOriginal issue reported on code.google.com by `gius.d...@gmail.com` on 14 Sep 2012 at 7:48\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/5", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/5/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/5/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/5", "id": 82793642, "node_id": "MDU6SXNzdWU4Mjc5MzY0Mg==", "number": 5, "title": "Additional support needed", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}, {"id": 218206360, "node_id": "MDU6TGFiZWwyMTgyMDYzNjA=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmaupin", "id": 2379062, "node_id": "MDQ6VXNlcjIzNzkwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmaupin", "html_url": "https://github.com/pmaupin", "followers_url": "https://api.github.com/users/pmaupin/followers", "following_url": "https://api.github.com/users/pmaupin/following{/other_user}", "gists_url": "https://api.github.com/users/pmaupin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmaupin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmaupin/subscriptions", "organizations_url": "https://api.github.com/users/pmaupin/orgs", "repos_url": "https://api.github.com/users/pmaupin/repos", "events_url": "https://api.github.com/users/pmaupin/events{/privacy}", "received_events_url": "https://api.github.com/users/pmaupin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-05-30T11:53:30Z", "updated_at": "2015-06-04T05:38:46Z", "closed_at": "2015-06-04T05:38:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n- More compression types\n- Linearized PDFs\n- Maybe more PyPDF emulation (additional dict attributes, mainly)\n\n```\n\nOriginal issue reported on code.google.com by `pmaupin` on 4 Sep 2012 at 2:09\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/3", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/3/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/3/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/3", "id": 82793636, "node_id": "MDU6SXNzdWU4Mjc5MzYzNg==", "number": 3, "title": "Code review request", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206375, "node_id": "MDU6TGFiZWwyMTgyMDYzNzU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Review", "name": "Type-Review", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-30T11:53:28Z", "updated_at": "2015-05-30T11:53:28Z", "closed_at": "2015-05-30T11:53:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nPurpose of code changes on this branch:\n\nAllow reading imperfect or just plain broken PDFs:\n1. no newline after %%EOF (allowed in PDF format)\n2. support single filter when specified in an array ie /Filter[/FlateDecode] \ninstead of /Filter \n/FlateDecode\n3. when \"endstream\" is not found at specified stream length, try to find it \nagain using simple \nstring search from start.\n\nWhen reviewing my code changes, please focus on:\n\nMake sure it does not affect handling correct PDFs.\n\nAfter the review, I'll merge this branch into:\n/trunk\n\n\n```\n\nOriginal issue reported on code.google.com by `attila.t...@gmail.com` on 12 Mar 2010 at 6:25\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/4", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/4/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/4/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/4", "id": 82793639, "node_id": "MDU6SXNzdWU4Mjc5MzYzOQ==", "number": 4, "title": "PDFString values containing 2 backslashes are incorrectly decoded", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-05-30T11:53:28Z", "updated_at": "2015-05-30T11:53:29Z", "closed_at": "2015-05-30T11:53:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nWhat steps will reproduce the problem?\n1. Call pdfrw.pdfobjects.PdfString.encode on a string containing a double \nbackslash.\n2. Call .decode() on the pdfstring.\n\nWhat is the expected output? What do you see instead?\nEncoding and then decoding a string, should return the original.\n\nWhat version of the product are you using? On what operating system?\nLatest SVN (revision 136).\n\nPlease provide any additional information below.\nPatch attached (including a unittest).\n```\n\nOriginal issue reported on code.google.com by `beechhorn` on 13 Sep 2011 at 4:28\n\nAttachments:\n- [pdfstring_decoding_fix.diff](https://storage.googleapis.com/google-code-attachments/pdfrw/issue-4/comment-0/pdfstring_decoding_fix.diff)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/2", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/2/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/2/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/2", "id": 82793622, "node_id": "MDU6SXNzdWU4Mjc5MzYyMg==", "number": 2, "title": "Problems using table of contents (rl) with pdfrw", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-05-30T11:53:26Z", "updated_at": "2015-05-30T11:53:27Z", "closed_at": "2015-05-30T11:53:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nI'm not sure this is actually a bug in pdfrw makerl or not, but when I try\nto use table of contents together with a template with a pdfrw object in\nit, it fails with:\n\n  File \"/usr/lib64/python2.6/site-packages/reportlab/pdfbase/pdfdoc.py\",\nline 852, in format\n    raise KeyError, \"forward reference to %s not resolved upon final\nformatting\" % repr(self.name)\nKeyError: \"forward reference to 'FormXob.pdfrw_3' not resolved upon final\nformatting\"\n\nI have attached a small test application that draws background.pdf before\nanything else and outputs output.pdf.\n```\n\nOriginal issue reported on code.google.com by `asan...@gmail.com` on 13 Jan 2010 at 10:26\n\nAttachments:\n- [test_background.py](https://storage.googleapis.com/google-code-attachments/pdfrw/issue-2/comment-0/test_background.py)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pmaupin/pdfrw/issues/1", "repository_url": "https://api.github.com/repos/pmaupin/pdfrw", "labels_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/1/comments", "events_url": "https://api.github.com/repos/pmaupin/pdfrw/issues/1/events", "html_url": "https://github.com/pmaupin/pdfrw/issues/1", "id": 82793613, "node_id": "MDU6SXNzdWU4Mjc5MzYxMw==", "number": 1, "title": "crashes in makerl", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 218206365, "node_id": "MDU6TGFiZWwyMTgyMDYzNjU=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 218206366, "node_id": "MDU6TGFiZWwyMTgyMDYzNjY=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 218206367, "node_id": "MDU6TGFiZWwyMTgyMDYzNjc=", "url": "https://api.github.com/repos/pmaupin/pdfrw/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-30T11:53:25Z", "updated_at": "2015-05-30T11:53:26Z", "closed_at": "2015-05-30T11:53:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nWhat steps will reproduce the problem?\n1. Go to example/rl1/\n2. run subset.py test.pdf 1 1\n3.\n\nWhat is the expected output? What do you see instead?\nI expect it to run, instead I get an error:\n\n~/svn/pdfrw/examples/rl1$ python subset.py side1.pdf 1 1\nTraceback (most recent call last):\n  File \"subset.py\", line 43, in <module>\n    go(inpfn, firstpage, lastpage)\n  File \"subset.py\", line 36, in go\n    canvas.doForm(makerl(canvas, page))\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 138, in makerl\n    rlobj = makerl_recurse(doc, pdfobj)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 131, in makerl_recurse\n    return func(rldoc, pdfobj)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 94, in _makestream\n    rldict[key[1:]] = makerl_recurse(rldoc, value)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 131, in makerl_recurse\n    return func(rldoc, pdfobj)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 72, in _makedict\n    rldict[key[1:]] = makerl_recurse(rldoc, value)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 131, in makerl_recurse\n    return func(rldoc, pdfobj)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 72, in _makedict\n    rldict[key[1:]] = makerl_recurse(rldoc, value)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 131, in makerl_recurse\n    return func(rldoc, pdfobj)\n  File \"~/svn/pdfrw/pdfrw/toreportlab.py\", line 108, in _makearray\n    mylist = rlobj.sequence\nAttributeError: PDFObjectReference instance has no attribute 'sequence'\n\nWhat version of the product are you using? On what operating system?\nSubversion revision 82\nOn Linux.\n\nPlease provide any additional information below.\nDon't know if this helps, but if I place a try/except around the sequence\nusage like so:\n    try:\n        mylist = rlobj.sequence\n        for value in pdfobj:   \n            mylist.append(makerl_recurse(rldoc, value))\n        print dir(rlobj)\n    except:\n        print dir(rlobj)\n\n    return rlobj\n\nI get the following output:\n['__PDFObject__', '__doc__', '__init__', '__module__', 'format', 'name']\n['__PDFObject__', '__doc__', '__init__', '__module__', 'format', 'name']\n['__PDFObject__', '__doc__', '__init__', '__module__', 'format', 'name']\n['References', '__PDFObject__', '__doc__', '__init__', '__module__',\n'format', 'multiline', 'sequence']\n['References', '__PDFObject__', '__doc__', '__init__', '__module__',\n'format', 'multiline', 'sequence']\n['References', '__PDFObject__', '__doc__', '__init__', '__module__',\n'format', 'multiline', 'sequence']\n['References', '__PDFObject__', '__doc__', '__init__', '__module__',\n'format', 'multiline', 'sequence']\n\nAh, and it works.. (output file seems correct anyways) :)\n\n```\n\nOriginal issue reported on code.google.com by `asan...@gmail.com` on 12 Jan 2010 at 11:20\n", "performed_via_github_app": null, "score": 1.0}]}