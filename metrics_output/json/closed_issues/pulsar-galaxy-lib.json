{"total_count": 44, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/224", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/224/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/224/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/224", "id": 606932375, "node_id": "MDU6SXNzdWU2MDY5MzIzNzU=", "number": 224, "title": "isAlive has been deprecated and removed in favor of is_alive in Python 3.9", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-26T06:23:33Z", "updated_at": "2020-04-26T08:53:34Z", "closed_at": "2020-04-26T08:53:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "isAlive has been deprecated alias for is_alive and has been removed in Python 3.9 . Python 3.9 PR : https://github.com/python/cpython/pull/15225\r\n\r\n```\r\nrg isAlive\r\npulsar/messaging/__init__.py\r\n42:            if t.isAlive():\r\n\r\npulsar/managers/queued.py\r\n74:            if worker.isAlive():\r\n\r\npulsar/managers/stateful.py\r\n345:        if self.thread.isAlive():\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/204", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/204/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/204/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/204", "id": 484596186, "node_id": "MDU6SXNzdWU0ODQ1OTYxODY=", "number": 204, "title": "AttributeError: 'ToolRequirement' object has no attribute 'get' with latest master", "user": {"login": "bgruening", "id": 469983, "node_id": "MDQ6VXNlcjQ2OTk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/469983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bgruening", "html_url": "https://github.com/bgruening", "followers_url": "https://api.github.com/users/bgruening/followers", "following_url": "https://api.github.com/users/bgruening/following{/other_user}", "gists_url": "https://api.github.com/users/bgruening/gists{/gist_id}", "starred_url": "https://api.github.com/users/bgruening/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bgruening/subscriptions", "organizations_url": "https://api.github.com/users/bgruening/orgs", "repos_url": "https://api.github.com/users/bgruening/repos", "events_url": "https://api.github.com/users/bgruening/events{/privacy}", "received_events_url": "https://api.github.com/users/bgruening/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-23T15:44:39Z", "updated_at": "2019-08-30T20:59:28Z", "closed_at": "2019-08-30T20:59:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Pushing it here that I don't loose it in the hope I can fix it over the weekend.\r\n\r\nIt seems that latest pulsar is pulling `galaxy_tool_util` in but passsing a `ToolRequirement` object into a function that expects a dict().\r\n\r\n```\r\n> Traceback (most recent call last):\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/stateful.py\", line 127, in _handling_of_preprocessing_state\r\n> **launch_kwds\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/queued_condor.py\", line 36, in launch\r\n> setup_params=setup_params\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/base/directory.py\", line 120, in _setup_job_file\r\n> command_line = self._expand_command_line(command_line, dependencies_description, job_directory=self.job_directory(job_id).job_directory)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/base/__init__.py\", line 197, in _expand_command_line\r\n> job_directory=job_directory,\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/__init__.py\", line 181, in dependency_shell_commands\r\n> requirements_to_dependencies = self.requirements_to_dependencies(requirements, **kwds)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/__init__.py\", line 191, in requirements_to_dependencies\r\n> requirement_to_dependency = self._requirements_to_dependencies_dict(requirements, **kwds)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/__init__.py\", line 246, in _requirements_to_dependencies_dict\r\n> **kwds)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/resolvers/conda.py\", line 211, in resolve_all\r\n> expanded_requirements = ToolRequirements([self._expand_requirement(r) for r in requirements])\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/requirements.py\", line 109, in __init__\r\n> self.tool_requirements = OrderedSet([r if isinstance(r, ToolRequirement) else ToolRequirement.from_dict(r) for r in tool_requirements])\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/requirements.py\", line 42, in from_dict\r\n> version = dict.get(\"version\", None) ##dict.version or None\r\n> AttributeError: 'ToolRequirement' object has no attribute 'get'\r\n> 2019-08-23 16:23:13,234 ERROR [pulsar.managers.stateful][[manager=production]-[action=preprocess]-[job=5884047]] Failed job preprocessing for job 5884047:\r\n> Traceback (most recent call last):\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/stateful.py\", line 127, in _handling_of_preprocessing_state\r\n> **launch_kwds\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/queued_condor.py\", line 36, in launch\r\n> setup_params=setup_params\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/base/directory.py\", line 120, in _setup_job_file\r\n> command_line = self._expand_command_line(command_line, dependencies_description, job_directory=self.job_directory(job_id).job_directory)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/pulsar/managers/base/__init__.py\", line 197, in _expand_command_line\r\n> job_directory=job_directory,\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/__init__.py\", line 181, in dependency_shell_commands\r\n> requirements_to_dependencies = self.requirements_to_dependencies(requirements, **kwds)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/__init__.py\", line 191, in requirements_to_dependencies\r\n> requirement_to_dependency = self._requirements_to_dependencies_dict(requirements, **kwds)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/__init__.py\", line 246, in _requirements_to_dependencies_dict\r\n> **kwds)\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/resolvers/conda.py\", line 211, in resolve_all\r\n> expanded_requirements = ToolRequirements([self._expand_requirement(r) for r in requirements])\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/requirements.py\", line 109, in __init__\r\n> self.tool_requirements = OrderedSet([r if isinstance(r, ToolRequirement) else ToolRequirement.from_dict(r) for r in tool_requirements])\r\n> File \"/opt/pulsar/venv/lib/python2.7/site-packages/galaxy/tool_util/deps/requirements.py\", line 42, in from_dict\r\n> version = dict.get(\"version\", None) ##dict.version or None\r\n> AttributeError: 'ToolRequirement' object has no attribute 'get'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/167", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/167/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/167/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/167", "id": 372866040, "node_id": "MDU6SXNzdWUzNzI4NjYwNDA=", "number": 167, "title": "Documentation of production stuff", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131192403, "node_id": "MDU6TGFiZWwxMzExOTI0MDM=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/documentation%20missing", "name": "documentation missing", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-10-23T08:16:41Z", "updated_at": "2019-03-14T12:52:01Z", "closed_at": "2019-03-14T12:52:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Might be nice to briefly mention more \"production-y\" methods, like the systemd unit file we use for running the service `ExecStart=...python ...paster serve pulsar_dir/server.ini` (and the uwsgi version we should use instead.)\r\n\r\nEdit: I'm a bit torn between \"we should run.sh so any changes can happen safely in pulsar with new defaults and not break old init scripts\" and \"I just want to run `uwsgi --ini-paste pulsar.ini` since that's so much simpler.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/161", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/161/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/161/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/161", "id": 299119462, "node_id": "MDU6SXNzdWUyOTkxMTk0NjI=", "number": 161, "title": "Pulsar loses jobs if restarted during job setup", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-21T20:36:41Z", "updated_at": "2018-03-08T16:50:54Z", "closed_at": "2018-03-08T16:50:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/152", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/152/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/152/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/152", "id": 292448312, "node_id": "MDU6SXNzdWUyOTI0NDgzMTI=", "number": 152, "title": "Cannot install pulsar-galaxy-lib under Python3", "user": {"login": "nsoranzo", "id": 4924623, "node_id": "MDQ6VXNlcjQ5MjQ2MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4924623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nsoranzo", "html_url": "https://github.com/nsoranzo", "followers_url": "https://api.github.com/users/nsoranzo/followers", "following_url": "https://api.github.com/users/nsoranzo/following{/other_user}", "gists_url": "https://api.github.com/users/nsoranzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nsoranzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nsoranzo/subscriptions", "organizations_url": "https://api.github.com/users/nsoranzo/orgs", "repos_url": "https://api.github.com/users/nsoranzo/repos", "events_url": "https://api.github.com/users/nsoranzo/events{/privacy}", "received_events_url": "https://api.github.com/users/nsoranzo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-29T15:27:02Z", "updated_at": "2018-02-08T22:23:51Z", "closed_at": "2018-02-08T22:23:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```console\r\n$ virtualenv -p python3.4 venv3\r\nRunning virtualenv with interpreter /usr/bin/python3.4\r\nUsing base prefix '/usr'\r\nNew python executable in /tmp/venv3/bin/python3.4\r\nAlso creating executable in /tmp/venv3/bin/python\r\nInstalling setuptools, pip, wheel...done.\r\n$ . venv3/bin/activate\r\n$ pip install pulsar-galaxy-lib\r\nCollecting pulsar-galaxy-lib\r\nCollecting galaxy-lib (from pulsar-galaxy-lib)\r\n  Using cached galaxy_lib-17.9.10-py2.py3-none-any.whl\r\nCollecting pyyaml (from pulsar-galaxy-lib)\r\nCollecting webob (from pulsar-galaxy-lib)\r\n  Downloading WebOb-1.7.4-py2.py3-none-any.whl (84kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 92kB 3.5MB/s \r\nCollecting six (from pulsar-galaxy-lib)\r\n  Using cached six-1.11.0-py2.py3-none-any.whl\r\nCollecting psutil (from pulsar-galaxy-lib)\r\n  Downloading psutil-5.4.3.tar.gz (412kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 419kB 2.3MB/s \r\nCollecting docutils (from galaxy-lib->pulsar-galaxy-lib)\r\n  Using cached docutils-0.14-py3-none-any.whl\r\nBuilding wheels for collected packages: psutil\r\n  Running setup.py bdist_wheel for psutil ... done\r\nSuccessfully built psutil\r\nInstalling collected packages: docutils, pyyaml, six, galaxy-lib, webob, psutil, pulsar-galaxy-lib\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/tmp/venv3/lib/python3.4/site-packages/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/tmp/venv3/lib/python3.4/site-packages/pip/commands/install.py\", line 342, in run\r\n    prefix=options.prefix_path,\r\n  File \"/tmp/venv3/lib/python3.4/site-packages/pip/req/req_set.py\", line 784, in install\r\n    **kwargs\r\n  File \"/tmp/venv3/lib/python3.4/site-packages/pip/req/req_install.py\", line 851, in install\r\n    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)\r\n  File \"/tmp/venv3/lib/python3.4/site-packages/pip/req/req_install.py\", line 1064, in move_wheel_files\r\n    isolated=self.isolated,\r\n  File \"/tmp/venv3/lib/python3.4/site-packages/pip/wheel.py\", line 347, in move_wheel_files\r\n    assert info_dir, \"%s .dist-info directory not found\" % req\r\nAssertionError: pulsar-galaxy-lib .dist-info directory not found\r\n```\r\n\r\nThis is a blocker for running Galaxy under Python3.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/151", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/151/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/151/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/151", "id": 279808601, "node_id": "MDU6SXNzdWUyNzk4MDg2MDE=", "number": 151, "title": "Send stdout/stderr as job files when large", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-06T16:04:48Z", "updated_at": "2018-02-14T15:44:06Z", "closed_at": "2018-02-14T15:44:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I've had a few cases where the AMQP message generated at job completion is enormous (~6GB) due to excessive program output. We should transfer these as job files when they are over a configurable limit (or maybe always).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/150", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/150/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/150/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/150", "id": 268864223, "node_id": "MDU6SXNzdWUyNjg4NjQyMjM=", "number": 150, "title": "Stage out failures prevent the return of stdout/stderr and other useful log messages", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-26T18:30:18Z", "updated_at": "2018-02-19T21:08:14Z", "closed_at": "2018-02-19T21:08:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If staging out fails (most often due to an expected `from_work_dir` output not existing due to a tool run failure), the entire job in Galaxy is set to failed, the error message is set to `Remote job server indicated a problem running or monitoring this job.`, and the stdout and stderr are not saved to Galaxy. As a result, it's impossible for a user to diagnose the reason for an often correctable tool run failure.\r\n\r\nIt's probably okay that it sets the job to error, but it should return `stdout` and `stderr` to Galaxy and save them, and probably set a more descriptive error message.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/142", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/142/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/142/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/142", "id": 259548762, "node_id": "MDU6SXNzdWUyNTk1NDg3NjI=", "number": 142, "title": "AMQP acknowledgement manager dies if loading/json parsing fails", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216010, "node_id": "MDU6TGFiZWwxMDgyMTYwMTA=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/confirmed%20bug", "name": "confirmed bug", "color": "fc2929", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-09-21T16:01:42Z", "updated_at": "2017-09-21T18:07:43Z", "closed_at": "2017-09-21T18:07:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "e.g.\r\n\r\n```pytb\r\n2017-08-08 11:17:53,114 ERROR [pulsar.client.amqp_exchange][acknowledgement-manager] Problem with acknowledgement manager, leaving ack_manager method in problematic state!\r\nTraceback (most recent call last):\r\n  File \"/pylon2/mc48nsp/xcgalaxy/test/pulsar/venv/src/pulsar/pulsar/client/amqp_exchange.py\", line 223, in ack_manager\r\n    payload = self.publish_uuid_store[unack_uuid]\r\n  File \"/pylon2/mc48nsp/xcgalaxy/test/pulsar/venv/src/pulsar/pulsar/client/util.py\", line 285, in __getitem__\r\n    return json.loads(open(self.__path(key)).read())\r\n  File \"/usr/lib64/python2.7/json/__init__.py\", line 338, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"/usr/lib64/python2.7/json/decoder.py\", line 365, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"/usr/lib64/python2.7/json/decoder.py\", line 383, in raw_decode\r\n    raise ValueError(\"No JSON object could be decoded\")\r\nValueError: No JSON object could be decoded\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/134", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/134/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/134/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/134", "id": 234171852, "node_id": "MDU6SXNzdWUyMzQxNzE4NTI=", "number": 134, "title": "Galaxy eggs? ", "user": {"login": "fikipollo", "id": 11427394, "node_id": "MDQ6VXNlcjExNDI3Mzk0", "avatar_url": "https://avatars3.githubusercontent.com/u/11427394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fikipollo", "html_url": "https://github.com/fikipollo", "followers_url": "https://api.github.com/users/fikipollo/followers", "following_url": "https://api.github.com/users/fikipollo/following{/other_user}", "gists_url": "https://api.github.com/users/fikipollo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fikipollo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fikipollo/subscriptions", "organizations_url": "https://api.github.com/users/fikipollo/orgs", "repos_url": "https://api.github.com/users/fikipollo/repos", "events_url": "https://api.github.com/users/fikipollo/events{/privacy}", "received_events_url": "https://api.github.com/users/fikipollo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-07T11:03:30Z", "updated_at": "2017-06-13T15:05:01Z", "closed_at": "2017-06-13T15:05:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi again!\r\n\r\nI'm testing some tools in Pulsar and I found a problem running _samtools_.\r\nWhen running _bam_to_sam.py_ I get the following error message:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/pulsar/files/staging/114/tool_files/bam_to_sam.py\", line 10, in <module>\r\n    from galaxy import eggs\r\nImportError: cannot import name eggs\r\n```\r\nReading the instructions for configuring Pulsar I found:\r\n\r\n> Some Galaxy tool wrappers require a copy of the Galaxy codebase itself to run. Such tools will not run under Windows, but on *nix hosts the Pulsar can be configured to add the required Galaxy code a jobs PYTHON_PATH by setting GALAXY_HOME environment variable in the Pulsar\u2019s local_env.sh file (described above).\r\n\r\n\r\nSo I've cloned the galaxy repository (git) in `/usr/local/galaxy/` and configure the _local_env.sh_  as follows:\r\n\r\n```sh\r\n## Place local configuration variables used by Pulsar and run.sh in here. For example\r\n\r\n## If using the drmaa queue manager, you will need to set the DRMAA_LIBRARY_PATH variable,\r\n## you may also need to update LD_LIBRARY_PATH for underlying library as well. \r\n#export DRMAA_LIBRARY_PATH=/path/to/libdrmaa.so\r\n\r\n\r\n## If you wish to use a variety of Galaxy tools that depend on galaxy.eggs being defined, \r\n## set GALAXY_HOME to point to a copy of Galaxy.\r\nexport GALAXY_HOME=/usr/local/galaxy/\r\n\r\n## Uncomment to verify GALAXY_HOME is set properly before starting the Pulsar.\r\nexport TEST_GALAXY_LIBS=1\r\n\r\n## If using a manager that runs jobs as real users, be sure to load your Python\r\n## environement in here as well.\r\n# . .venv/bin/activate\r\n```\r\nWhere `/usr/local/galaxy/` contains \r\n```\r\nCITATION            contrib          cron                  external_service_types    locale           openid              run_reports.sh    scripts    test          tools\r\nclient              CONTRIBUTING.md  database              extract_dataset_parts.sh  Makefile         README.rst          run.sh            setup.cfg  test-data     tox.ini\r\nCODE_OF_CONDUCT.md  CONTRIBUTORS.md  display_applications  lib                       manage_db.sh     requirements.txt    run_tests.sh      static     tool-data\r\nconfig              create_db.sh     doc                   LICENSE.txt               manage_tools.sh  rolling_restart.sh  run_tool_shed.sh  templates  tool_list.py\r\n```\r\nBut it doesn't work and Pulsar shows the following error when starting.\r\n\r\n```\r\nSourcing file /usr/local/pulsar/scripts/../local_env.sh\r\nActivating virtual environment /usr/local/pulsar/scripts/../.venv/bin/activate\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  ImportError: cannot import name eggs\r\n  Failed to setup Galaxy environment properly, is GALAXY_HOME (/usr/local/galaxy/) a valid Galaxy instance.\r\n\r\n```\r\n\r\nI've tried also with `/usr/local/galaxy/lib/` and `/usr/local/galaxy/lib/galaxy` w/o success.\r\nAs I understand Galaxy doesn't use _eggs_ anymore so maybe I'm missing something.\r\n\r\nMany thanks!!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/133", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/133/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/133/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/133", "id": 233152853, "node_id": "MDU6SXNzdWUyMzMxNTI4NTM=", "number": 133, "title": "Setting up Pulsar + Conda", "user": {"login": "fikipollo", "id": 11427394, "node_id": "MDQ6VXNlcjExNDI3Mzk0", "avatar_url": "https://avatars3.githubusercontent.com/u/11427394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fikipollo", "html_url": "https://github.com/fikipollo", "followers_url": "https://api.github.com/users/fikipollo/followers", "following_url": "https://api.github.com/users/fikipollo/following{/other_user}", "gists_url": "https://api.github.com/users/fikipollo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fikipollo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fikipollo/subscriptions", "organizations_url": "https://api.github.com/users/fikipollo/orgs", "repos_url": "https://api.github.com/users/fikipollo/repos", "events_url": "https://api.github.com/users/fikipollo/events{/privacy}", "received_events_url": "https://api.github.com/users/fikipollo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-02T11:19:51Z", "updated_at": "2017-06-06T20:27:51Z", "closed_at": "2017-06-06T20:05:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there\r\n\r\nI've installed Pulsar in a local linux machine (using the repository code, not the version in pip) and configured Galaxy to run some tools in Pulsar. Jobs are being sent correctly but when a tool is not installed in Pulsar, conda is not being call so all jobs fail. Conda was automatically installed during the first run of Pulsar.\r\n\r\nFollowing the documentation and some discussions that I found in the forum, those are my config files (commented lines have been omitted):\r\n\r\nWhat am I missing? Thanks!!!\r\n\r\n**In Pulsar machine**\r\n - File: app.yml\r\n```yml\r\n## Private token that must be sent as part of the request to\r\n## authorize use. If security is important, please use this in\r\n## combination with SSL.\r\nprivate_token : test\r\n\r\n## Pulsar-equivalent of Galaxy's tool_dependency_resolves_conf.\r\ndependency_resolvers_config_file : dependency_resolvers_conf.xml\r\n```\r\n\r\n- File: dependency_resolvers_conf.xml\r\n```xml\r\n<dependency_resolvers>\r\n\t<!-- the default configuration, first look for dependencies installed from the toolshed -->\r\n\t<tool_shed_packages />\r\n\r\n\t<!-- then look for env.sh files in directories according to the \"galaxy packages\" schema. These resolvers can take a base_path attribute to specify where to look for package definitions, but by default look in the directory specified by tool_dependency_dir in Galaxy's config/galaxy.ini -->\r\n\t<galaxy_packages />\r\n\r\n\t<!-- check whether the correct version has been installed via conda auto_install: Set to True to instruct Galaxy to look for and install missing tool dependencies before each job runs. (default: False) auto_init: Set to True to instruct Galaxy to install conda from the web automatically if it cannot find a local copy and conda_exec is not configured. -->\r\n\t<conda auto_install=\"True\" auto_init=\"True\"/>\r\n\r\n\t<!-- look for a \"default\" symlink pointing to a directory containing an env.sh file for the package in the \"galaxy packages\" schema -->\r\n\t<galaxy_packages versionless=\"true\" />\r\n\r\n\t<!-- look for any version of the dependency installed via conda -->\r\n\t<conda auto_install=\"True\" auto_init=\"True\" versionless=\"true\" />\r\n\r\n</dependency_resolvers>\r\n```\r\n\r\n**In Galaxy machine**\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n<job_conf>\r\n    <plugins>\r\n        <plugin id=\"local\" type=\"runner\" load=\"galaxy.jobs.runners.local:LocalJobRunner\"/>\r\n        <plugin id=\"pulsar\" type=\"runner\" load=\"galaxy.jobs.runners.pulsar:PulsarLegacyJobRunner\"/>\r\n    </plugins>\r\n    <handlers>\r\n        <handler id=\"main\"/>\r\n    </handlers>\r\n    <destinations default=\"local\">\r\n        <destination id=\"local\" runner=\"local\"/>\r\n        <destination id=\"local_pulsar\" runner=\"pulsar\">\r\n            <param id=\"url\">http://192.168.0.3:8913/</param>\r\n            <param id=\"private_token\">test</param>\r\n            <param id=\"dependency_resolution\">remote</param>\r\n        </destination>\r\n    </destinations>\r\n    <tools>\r\n        <tool id=\"bwa\" destination=\"local_pulsar\" />\r\n        <tool id=\"msconvert\" destination=\"local_pulsar\" />\r\n        <tool id=\"proteinpilot\" destination=\"local_pulsar\" />\r\n\t</tools>\r\n</job_conf>\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/129", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/129/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/129/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/129", "id": 211106644, "node_id": "MDU6SXNzdWUyMTExMDY2NDQ=", "number": 129, "title": "Job setup failure is not reported back to Galaxy", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-01T15:01:34Z", "updated_at": "2018-02-20T16:13:57Z", "closed_at": "2018-02-19T20:51:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Attempting to write the job directory on a full disk and got this, after which the job stayed permanently \"queued\" in Galaxy. AMQP mode in case that matters:\r\n\r\n```pytb\r\n2017-02-28 09:58:43,696 ERROR [pulsar.messaging.bind_amqp][consume-setup-amqp://main_lwr:********@galaxy03.tacc.utexas.edu:5671//main_lwr?ssl=1] Failed to setup job 15163417 obtained via message queue.\r\nTraceback (most recent call last):\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/messaging/bind_amqp.py\", line 116, in __process_setup_message\r\n    manager_endpoint_util.submit_job(manager, body)\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/manager_endpoint_util.py\", line 83, in submit_job\r\n    use_metadata\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/manager_endpoint_util.py\", line 108, in setup_job\r\n    job_id = manager.setup_job(job_id, tool_id, tool_version)\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/managers/stateful.py\", line 60, in setup_job\r\n    job_id = self._proxied_manager.setup_job(*args, **kwargs)\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/managers/base/external.py\", line 31, in setup_job\r\n    return self._setup_job_for_job_id(job_id, tool_id, tool_version)\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/managers/base/directory.py\", line 48, in _setup_job_for_job_id\r\n    self._setup_job_directory(job_id)\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/managers/base/__init__.py\", line 145, in _setup_job_directory\r\n    job_directory.setup()\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/managers/base/__init__.py\", line 278, in setup\r\n    self._directory_maker.make(self.job_directory)\r\n  File \"/srv/pulsar/main/pulsar/venv/src/pulsar/pulsar/managers/base/__init__.py\", line 397, in make\r\n    os.mkdir(*makedir_args)\r\nOSError: [Errno 28] No space left on device: '/jetstream/scratch0/main/jobs/15163417'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/117", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/117/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/117/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/117", "id": 168193281, "node_id": "MDU6SXNzdWUxNjgxOTMyODE=", "number": 117, "title": "Way of sending GALAXY_VIRTUAL_ENV to pulsar job command.sh?", "user": {"login": "dctrud", "id": 4522799, "node_id": "MDQ6VXNlcjQ1MjI3OTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/4522799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dctrud", "html_url": "https://github.com/dctrud", "followers_url": "https://api.github.com/users/dctrud/followers", "following_url": "https://api.github.com/users/dctrud/following{/other_user}", "gists_url": "https://api.github.com/users/dctrud/gists{/gist_id}", "starred_url": "https://api.github.com/users/dctrud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dctrud/subscriptions", "organizations_url": "https://api.github.com/users/dctrud/orgs", "repos_url": "https://api.github.com/users/dctrud/repos", "events_url": "https://api.github.com/users/dctrud/events{/privacy}", "received_events_url": "https://api.github.com/users/dctrud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-28T20:49:22Z", "updated_at": "2016-11-22T22:36:36Z", "closed_at": "2016-11-22T22:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using Galaxy 16.04 with a separate pulsar (latest dev cloned from git), jobs that depend on python packages inside the GALAXY_HOME/.venv fail:\n\ne.g. for cufflinks:\n\n```\nTraceback (most recent call last):\n  File \"/project/apps/galaxy/pulsar_staging/1484/tool_files/cufflinks_wrapper.py\", line 5, in <module>\n    from galaxy.datatypes.util.gff_util import parse_gff_attributes, gff_attributes_to_str\n  File \"/project/apps/galaxy/galaxy/lib/galaxy/datatypes/util/gff_util.py\", line 6, in <module>\n    from bx.intervals.io import GenomicInterval, MissingFieldError, NiceReaderWrapper, ParseError, GenomicIntervalReader\nImportError: No module named bx.intervals.io\n```\n\nIn the command.sh for local runner jobs `GALAXY_VIRTUAL_ENV` is set okay. For pulsar staged jobs in the pulsar staging dir `GALAXY_VIRTUAL_ENV=None` inside command.sh\n\nI'm probably missing a config option somewhere, but is there a way of setting GALAXY_VIRTUAL_ENV that will be used by pulsar jobs?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/116", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/116/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/116/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/116", "id": 165832626, "node_id": "MDU6SXNzdWUxNjU4MzI2MjY=", "number": 116, "title": "Tag 0.7.0.dev releases?", "user": {"login": "dctrud", "id": 4522799, "node_id": "MDQ6VXNlcjQ1MjI3OTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/4522799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dctrud", "html_url": "https://github.com/dctrud", "followers_url": "https://api.github.com/users/dctrud/followers", "following_url": "https://api.github.com/users/dctrud/following{/other_user}", "gists_url": "https://api.github.com/users/dctrud/gists{/gist_id}", "starred_url": "https://api.github.com/users/dctrud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dctrud/subscriptions", "organizations_url": "https://api.github.com/users/dctrud/orgs", "repos_url": "https://api.github.com/users/dctrud/repos", "events_url": "https://api.github.com/users/dctrud/events{/privacy}", "received_events_url": "https://api.github.com/users/dctrud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-15T16:55:59Z", "updated_at": "2017-10-24T21:25:50Z", "closed_at": "2017-10-24T21:25:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nWe have pulsar installed not from pypi, but by pulling it from git - a legacy from when I was sorting out staging and run-as user drmaa on our cluster.\n\nDoing a Galaxy update today I grabbed latest tagged pulsar release - but Galaxy 16.04 needs newer >=0.7.0dev3. I note that pip install will get 0.7.0dev5 but could these releases be tagged here for strange people like me pulling from git?\n\nCheers.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/111", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/111/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/111/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/111", "id": 150434916, "node_id": "MDU6SXNzdWUxNTA0MzQ5MTY=", "number": 111, "title": "Staging metadata temp files occurs after job directory cleanup", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131193104, "node_id": "MDU6TGFiZWwxMzExOTMxMDQ=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/possible%20bug", "name": "possible bug", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-22T18:04:49Z", "updated_at": "2016-05-20T18:59:50Z", "closed_at": "2016-05-20T18:59:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For example (previous log messages trimmed, but it successfully stages out the output datasets, metadata pickles, metrics, etc.):\n\n``` pytb\npulsar.client.staging.down DEBUG 2016-04-21 17:38:49,659 collecting dynamic output_metadata file __instrument_core_epoch_end\npulsar.client.staging.down INFO 2016-04-21 17:38:49,659 collecting output __instrument_core_epoch_end with action FileAction[action_type=copy]\npulsar.client.client DEBUG 2016-04-21 17:38:49,660 Copying path [/jetstream/tacc-scratch0/main/jobs/12555432/metadata/__instrument_core_epoch_end] to [/galaxy-repl/main/jobdir/012/555/12555432/__instrument_core_epoch_end]\npulsar.client.staging.down DEBUG 2016-04-21 17:38:49,668 Cleaning up job (failed [False], cleanup_job [onsuccess])\ngalaxy.model.metadata DEBUG 2016-04-21 17:38:52,263 loading metadata from file for: HistoryDatasetAssociation 24473418\ngalaxy.objectstore DEBUG 2016-04-21 17:38:52,341 Using preferred backend 'corral-repl' for creation of MetadataFile 1066560\ngalaxy.objectstore CRITICAL 2016-04-21 17:38:52,354 Error copying /jetstream/tacc-scratch0/main/jobs/12555432/metadata/metadata_temp_file_WTcLXh to /galaxy-repl/main/files/_metadata_files/001/066/metadata_1066560.dat: [Errno 2] No such file or directory: u'/jetstream/tacc-scratch0/main/jobs/12555432/metadata/metadata_temp_file_WTcLXh'\nraven.base.Client DEBUG 2016-04-21 17:38:52,360 Sending message of length 615 to https://sentry.galaxyproject.org/api/2/store/\ngalaxy.jobs.runners.pulsar ERROR 2016-04-21 17:38:52,363 Job wrapper finish method failed\nTraceback (most recent call last):\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/jobs/runners/pulsar.py\", line 485, in finish_job\n    remote_working_directory=remote_working_directory\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/jobs/__init__.py\", line 1269, in finish\n    dataset.metadata.from_JSON_dict( output_filename, path_rewriter=path_rewriter )\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/model/metadata.py\", line 167, in from_JSON_dict\n    dataset._metadata[ name ] = param.from_external_value( external_value, dataset, **from_ext_kwds )\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/model/metadata.py\", line 603, in from_external_value\n    alt_name=os.path.basename(mf.file_name) )\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/objectstore/__init__.py\", line 494, in update_from_file\n    return self._call_method('update_from_file', obj, ObjectNotFound, True, **kwargs)\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/objectstore/__init__.py\", line 631, in _call_method\n    return self.backends[object_store_id].__getattribute__(method)(obj, **kwargs)\n  File \"/cvmfs/main.galaxyproject.org/galaxy/lib/galaxy/objectstore/__init__.py\", line 422, in update_from_file\n    raise ex\nIOError: [Errno 2] No such file or directory: u'/jetstream/tacc-scratch0/main/jobs/12555432/metadata/metadata_temp_file_WTcLXh'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/110", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/110/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/110/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/110", "id": 150426942, "node_id": "MDU6SXNzdWUxNTA0MjY5NDI=", "number": 110, "title": "remote_property_galaxy_datatypes_config_file doesn't work", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131193104, "node_id": "MDU6TGFiZWwxMzExOTMxMDQ=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/possible%20bug", "name": "possible bug", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-22T17:25:12Z", "updated_at": "2016-05-20T13:41:44Z", "closed_at": "2016-05-20T13:41:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In a destination, if I set:\n\n``` xml\n<param id=\"remote_metadata\">true</param>\n<param id=\"use_remote_datatypes\">true</param>\n<param id=\"remote_property_galaxy_datatypes_config_file\">/cvmfs/test.galaxyproject.org/galaxy/config/datatypes_conf.xml.sample</param>\n```\n\nThe resulting call to set metadata references a default path of `datatypes_conf.xml` in the Galaxy root directory, e.g.:\n\n``` sh-session\ntool; cd '/jetstream/tacc-scratch0/test/jobs/534557/metadata'; python \"/jetstream/tacc-scratch0/test/jobs/534557/metadata/set_metadata_4FMYiB.py\" \"/cvmfs/test.galaxyproject.org/galaxy/datatypes_conf.xml\"\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/105", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/105/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/105/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/105", "id": 148672368, "node_id": "MDU6SXNzdWUxNDg2NzIzNjg=", "number": 105, "title": "manager not transmitted to pulsar?", "user": {"login": "mvdbeek", "id": 6804901, "node_id": "MDQ6VXNlcjY4MDQ5MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6804901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvdbeek", "html_url": "https://github.com/mvdbeek", "followers_url": "https://api.github.com/users/mvdbeek/followers", "following_url": "https://api.github.com/users/mvdbeek/following{/other_user}", "gists_url": "https://api.github.com/users/mvdbeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvdbeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvdbeek/subscriptions", "organizations_url": "https://api.github.com/users/mvdbeek/orgs", "repos_url": "https://api.github.com/users/mvdbeek/repos", "events_url": "https://api.github.com/users/mvdbeek/events{/privacy}", "received_events_url": "https://api.github.com/users/mvdbeek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131193104, "node_id": "MDU6TGFiZWwxMzExOTMxMDQ=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/possible%20bug", "name": "possible bug", "color": "eb6420", "default": false, "description": null}, {"id": 108216015, "node_id": "MDU6TGFiZWwxMDgyMTYwMTU=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-15T14:15:28Z", "updated_at": "2016-04-20T15:34:46Z", "closed_at": "2016-04-20T15:34:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I tried setting up 2 named managers to select from, but I'm struggling here.\nAny chance this is not implemented for non-message queue pulsar?\n\n```\nFile \"/Users/marius/pulsar/pulsar/pulsar/web/routes.py\", line 39, in _app_args\n    app_args['manager'] = managers[manager_name]\nKeyError: '_default_'\n```\n\nWith the corresponding job_conf.xml looking like this:\n\n```\n<job_conf>\n    <plugins>\n         <plugin id=\"local\" type=\"runner\" load=\"galaxy.jobs.runners.local:LocalJobRunner\" workers=\"4\"/>\n         <plugin id=\"pulsar\" type=\"runner\" load=\"galaxy.jobs.runners.pulsar:PulsarRESTJobRunner\"/>\n    </plugins>\n    <handlers>\n        <handler id=\"main\"/>\n    </handlers>\n    <destinations default=\"local\">\n        <destination id=\"local\" runner=\"local\">\n         <env file=\"/Users/marius/src/galaxy/.venv/bin/activate\" />\n        </destination>\n        <destination id=\"pulsar_quv\" runner=\"pulsar\">\n            <param id=\"url\">http://127.0.0.1:8913/</param>\n            <param id=\"manager\">quv</param>\n            <param id=\"jobs_directory\">/work/vandenbeek/staging</param>\n            <param id=\"file_action_config\">/Users/marius/src/galaxy/config/pulsar_action_quv.yml</param>\n        </destination>\n        <destination id=\"pulsar_qice\" runner=\"pulsar\">\n            <param id=\"url\">http://127.0.0.1:8913/</param>\n            <param id=\"manager\">qice</param>\n            <param id=\"jobs_directory\">/lustrework/vandenbeek/staging</param>\n            <param id=\"file_action_config\">/Users/marius/src/galaxy/config/pulsar_action_qice.yml</param>\n        </destination>\n        </destinations>\n    <tools>\n        <tool id=\"bowtie2\" destination=\"pulsar_qice\" />\n        <tool id=\"printenv\" destination=\"pulsar_quv\" />\n    </tools>\n</job_conf>\n```\n\n and this in app.yml:\n\n```\n\n---\nmanagers:\n  quv:\n    type: queued_cli\n    job_plugin: Torque\n    shell_plugin: SecureShell\n    shell_hostname: mesu0.dsi.upmc.fr\n    shell_username: vandenbeek\n    job_Resource_List: \"select=1:ncpus=16:mem=32gb\"\n    job_User_List: \"vandenbeek\"\n    job_destination: \"quv\"\n    staging_directory: /work/vandenbeek/staging\n\n  qice:\n    type: queued_cli\n    job_plugin: Torque\n    shell_plugin: SecureShell\n    shell_hostname: mesu0.dsi.upmc.fr\n    shell_username: vandenbeek\n    job_Resource_List: \"select=1:ncpus=16:mem=32gb\"\n    job_User_List: \"vandenbeek\"\n    job_destination: \"qice\"\n    staging_directory: /lustrework/vandenbeek/staging\n\njob_metrics_config_file: /Users/marius/pulsar/job_metrics_conf.xml\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/94", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/94/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/94/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/94", "id": 146032700, "node_id": "MDU6SXNzdWUxNDYwMzI3MDA=", "number": 94, "title": "Improvement to Logging...", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-05T15:58:07Z", "updated_at": "2016-04-10T21:34:08Z", "closed_at": "2016-04-10T21:34:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Debugging JetsStream support with Nate - here are issues we've encountered.\n- [x] Setting up job directory with embedded runner is broken because it may already exist.\n- [x] Log before cleanup about why cleaning up.\n- [x] Log native specification.\n- [x] Problem with per destination configuration of cleanup job.\n- [ ] Log input staging.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/91", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/91/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/91/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/91", "id": 120661719, "node_id": "MDU6SXNzdWUxMjA2NjE3MTk=", "number": 91, "title": "pip-install missing galaxy.util.pastescript", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-06T21:42:17Z", "updated_at": "2015-12-23T04:31:35Z", "closed_at": "2015-12-23T04:31:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\n(env)hxr@leda:~/work/pulsar$ docker run -it --entrypoint=/bin/bash python:2.7\nroot@b0be51845ff2:/# pip install pulsar-app\nroot@b0be51845ff2:/#     mkdir pulsar-mq-config\nroot@b0be51845ff2:/#     cd pulsar-mq-config\nroot@b0be51845ff2:/pulsar-mq-config#     pulsar-config --mq\nroot@b0be51845ff2:/pulsar-mq-config#     pulsar-main\nNo handlers could be found for logger \"pulsar.main\"\nTraceback (most recent call last):\n  File \"/usr/local/bin/pulsar-main\", line 11, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/site-packages/pulsar/main.py\", line 325, in main\n    app_loop(args, log)\n  File \"/usr/local/lib/python2.7/site-packages/pulsar/main.py\", line 122, in app_loop\n    pulsar_app = _app(args, log)\n  File \"/usr/local/lib/python2.7/site-packages/pulsar/main.py\", line 146, in _app\n    log=log,\n  File \"/usr/local/lib/python2.7/site-packages/pulsar/main.py\", line 113, in load_pulsar_app\n    config = config_builder.load()\n  File \"/usr/local/lib/python2.7/site-packages/pulsar/main.py\", line 242, in load\n    app_name=self.app_name\n  File \"/usr/local/lib/python2.7/site-packages/pulsar/main.py\", line 172, in load_app_configuration\n    from galaxy.util.pastescript.loadwsgi import ConfigLoader\nImportError: No module named pastescript.loadwsgi\n```\n\nAnd indeed the package is nowhere to be found\n\n```\n/usr/local/lib/python2.7/site-packages/galaxy/util\n/usr/local/lib/python2.7/site-packages/galaxy/util/odict.pyc\n/usr/local/lib/python2.7/site-packages/galaxy/util/plugin_config.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/submodules.pyc\n/usr/local/lib/python2.7/site-packages/galaxy/util/submodules.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/__init__.pyc\n/usr/local/lib/python2.7/site-packages/galaxy/util/bunch.pyc\n/usr/local/lib/python2.7/site-packages/galaxy/util/plugin_config.pyc\n/usr/local/lib/python2.7/site-packages/galaxy/util/bunch.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/sleeper.pyc\n/usr/local/lib/python2.7/site-packages/galaxy/util/sleeper.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/__init__.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/odict.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/directory_hash.py\n/usr/local/lib/python2.7/site-packages/galaxy/util/directory_hash.pyc\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/77", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/77/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/77/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/77", "id": 104544923, "node_id": "MDU6SXNzdWUxMDQ1NDQ5MjM=", "number": 77, "title": "MQ messages are never received", "user": {"login": "natefoo", "id": 286969, "node_id": "MDQ6VXNlcjI4Njk2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/286969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/natefoo", "html_url": "https://github.com/natefoo", "followers_url": "https://api.github.com/users/natefoo/followers", "following_url": "https://api.github.com/users/natefoo/following{/other_user}", "gists_url": "https://api.github.com/users/natefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/natefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/natefoo/subscriptions", "organizations_url": "https://api.github.com/users/natefoo/orgs", "repos_url": "https://api.github.com/users/natefoo/repos", "events_url": "https://api.github.com/users/natefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/natefoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-02T18:33:46Z", "updated_at": "2015-09-10T22:17:38Z", "closed_at": "2015-09-10T22:17:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In our setup, connections to the RabbitMQ server seem to be less than 100% reliable. I am not sure why this is, but the retry options seem to have addressed most problems. However, it turns out to be the case that when publishing a message, unless there is a connection problem, AMQP itself does not guarantee that your message has been received _by the AMQP server_ after the client's publish call completes. This explains why sometimes, Pulsar's status updates seem to be going in to a void.\n\nTransactions are an AMQP standard and would potentially solve this, but not terribly popular and there was discussion of removing them from RabbitMQ entirely. The RabbitMQ preferred solution for guaranteeing that a message has been received is using [Publisher Confirms](http://www.rabbitmq.com/blog/2011/02/10/introducing-publisher-confirms/). However, in testing this feature, I seem to be able to enable it, but I can't find a way to actually handle the \"not acknowledged\" messages that I think are being generated (unless they are not - debugging this is infuriatingly complicated)...\n\nUsing Pulsar's `PulsarExchange` class, one can publish a message like so:\n\n```\nexchange.publish('queue_amqp_test', {'msg':'foo'}, connection_kwargs={'transport_options':{'confirm_publish':True}})\n```\n\nDo that in a loop and the rate of delivery will be much slower than without `confirm_publish` set, which I believe suggests that the confirms are being sent. However, when the [queue is killed to generate the nacks](http://rabbitmq.1065348.n5.nabble.com/Testing-lightweight-publisher-confirms-td834.html), the messages just keep going into the void, no exceptions are raised, and, if an `on_return` callback is set on the `Producer` object [as the fine manual suggests might kinda be relevant except maybe not since it's maybe for the _mandatory_ or _immediate_ arguments which it then later says are not supported anyway](http://kombu.readthedocs.org/en/latest/reference/kombu.html#message-producer), that callback is never fired.\n\nBecause of this, and the fact that confirms are a RabbitMQ-specific feature anyway, I think we may need to solve this problem application-side by having Galaxy send messages back to Pulsar acknowledging receipt, like so:\n\n```\n+-----------------+\n| Pulsar          |\n+-----------------+\n |   |   ^   |   ^       \n[1] [2]  |  [2]  |       \n |   |  [3]  |  [4] \n v   v   |   v   |\n+-----------------+\n| Galaxy          |\n+-----------------+\n\n[1]: status update sent but not received\n[2]: status update resent after some wait, and received\n[3]: acknowledgement of status update sent but not received\n[4]: acknowledgement of status update sent and received\n```\n\nOnly after `[4]` can Pulsar give up on attempting to send the message.\n\nIn addition to the changes to Pulsar, Galaxy will need to:\n1. Handle the case of duplicate or out-of-order status update messages\n2. Perform the same series of operations for sending new job and kill messages\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/72", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/72/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/72/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/72", "id": 74399128, "node_id": "MDU6SXNzdWU3NDM5OTEyOA==", "number": 72, "title": "sdist broken", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216010, "node_id": "MDU6TGFiZWwxMDgyMTYwMTA=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/confirmed%20bug", "name": "confirmed bug", "color": "fc2929", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-08T15:22:00Z", "updated_at": "2015-05-08T15:55:43Z", "closed_at": "2015-05-08T15:55:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Tar file doesn't contain important files such as `pulsar/managers/util/job_script/DEFAULT_JOB_FILE_TEMPLATE.sh`.\n\nThanks to @afgane for the bug report.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/70", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/70/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/70/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/70", "id": 73085717, "node_id": "MDU6SXNzdWU3MzA4NTcxNw==", "number": 70, "title": "Improved logging.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-05-04T18:03:40Z", "updated_at": "2015-05-05T15:12:05Z", "closed_at": "2015-05-05T15:12:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Following two actions should include job ids.\n- Process action failure message improvements.\n- Log stage out.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/68", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/68/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/68/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/68", "id": 67738989, "node_id": "MDU6SXNzdWU2NzczODk4OQ==", "number": 68, "title": "Polish pulsar-config pre-release", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/galaxyproject/pulsar/milestones/1", "html_url": "https://github.com/galaxyproject/pulsar/milestone/1", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/milestones/1/labels", "id": 1062904, "node_id": "MDk6TWlsZXN0b25lMTA2MjkwNA==", "number": 1, "title": "0.3.0", "description": "First official release of Pulsar (after LWR).", "creator": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2015-04-11T05:28:11Z", "updated_at": "2015-04-16T20:46:09Z", "due_on": "2015-04-13T07:00:00Z", "closed_at": "2015-04-16T20:46:09Z"}, "comments": 0, "created_at": "2015-04-11T05:43:41Z", "updated_at": "2015-04-13T01:46:27Z", "closed_at": "2015-04-13T01:46:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [x] More documentation of options.\n- [x] Print description of each file created at the end of the script.\n- [x] Populate `argparse` based on platform (i.e. don't allow `--supervisor` or `--drmaa` option on Windows)\n- [x] Update host.\n- [X] Option for private_token.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/67", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/67/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/67/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/67", "id": 67738760, "node_id": "MDU6SXNzdWU2NzczODc2MA==", "number": 67, "title": "0.3.0 Documentation Overhaul", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131192403, "node_id": "MDU6TGFiZWwxMzExOTI0MDM=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/documentation%20missing", "name": "documentation missing", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/galaxyproject/pulsar/milestones/1", "html_url": "https://github.com/galaxyproject/pulsar/milestone/1", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/milestones/1/labels", "id": 1062904, "node_id": "MDk6TWlsZXN0b25lMTA2MjkwNA==", "number": 1, "title": "0.3.0", "description": "First official release of Pulsar (after LWR).", "creator": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2015-04-11T05:28:11Z", "updated_at": "2015-04-16T20:46:09Z", "due_on": "2015-04-13T07:00:00Z", "closed_at": "2015-04-16T20:46:09Z"}, "comments": 0, "created_at": "2015-04-11T05:39:42Z", "updated_at": "2015-04-13T01:46:27Z", "closed_at": "2015-04-13T01:46:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [X] Replace app configuration in `server.ini.sample` with a `app.yml.sample` file.\n- [X] Rewrite job managers documentation to reflect `app.yml` as best practice.\n- [x] Create a more formal installation section of the documentation.\n- [x] Add documentation for installing `pulsar-app` via `pip`.\n- [x] Create a more formal configuration section of the documentation.\n- [x] Document configuring `DRMAA.\n- [x] Document configuring security (update for `app.yml`).\n- [x] Add scripts section to documentation, automate the creation of docs for config, main, and check.\n- [x] Document script `puslar-config`.\n- [x] Document script `pulsar-main` #23.\n- [x] Document script `pulsar`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/65", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/65/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/65/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/65", "id": 67424871, "node_id": "MDU6SXNzdWU2NzQyNDg3MQ==", "number": 65, "title": "Allow permission restrictions on staging/<jobid> directory?", "user": {"login": "dctrud", "id": 4522799, "node_id": "MDQ6VXNlcjQ1MjI3OTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/4522799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dctrud", "html_url": "https://github.com/dctrud", "followers_url": "https://api.github.com/users/dctrud/followers", "following_url": "https://api.github.com/users/dctrud/following{/other_user}", "gists_url": "https://api.github.com/users/dctrud/gists{/gist_id}", "starred_url": "https://api.github.com/users/dctrud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dctrud/subscriptions", "organizations_url": "https://api.github.com/users/dctrud/orgs", "repos_url": "https://api.github.com/users/dctrud/repos", "events_url": "https://api.github.com/users/dctrud/events{/privacy}", "received_events_url": "https://api.github.com/users/dctrud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-04-09T18:37:51Z", "updated_at": "2015-04-13T16:03:43Z", "closed_at": "2015-04-10T14:52:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using pulsar to get around the limitation of Galaxy DRMAA as a real user, where the Galaxy datasets need to be world-readable. This is not acceptable for our user base. I have the following solution in use.... \n- Galaxy files dir is 660 galaxy:galaxy - so that galaxy itself can see everything, but no user on the cluster can access anyone else's dataset.\n- Pulsar is being used to submit external real-user DRMAA jobs, where the 'copy' file action is used so that the private galaxy files/\\* are staged and available to the job. Anything not private, such as genome indices is using the 'none' action as is world-readable.\n- Galaxy/pulsar can always access what they need, as relevant files have group ownership 'galaxy'. \n- The pulsar chown functionality gives neccessary real-user rights when jobs run under SLURM on the cluster.\n- Am running galaxy and pulsar under umask 0007 so that dataset files aren't created world-readable. This ensures they aren't world readable when copied into the pulsar job staging dir.\n\nThis seems to be working nicely. However, instead of relying on umask it would be nice if it was possible to restrict the permissions on the `staging/<jobid>` directories, which always seem to be completely open (drwxrwxrwx).\n\nI looked around, but couldn't find any configuration option, or obvious place where the perms are set for these job staging dirs.\n\nWould it be possible to allow these dirs to be created (drwxrwx---) so that access can be restricted without relying on the umask when the staged datasets were originally created by galaxy?\n\nWould be happy to work on this for a PR if I can get a pointer r.e. where the open perms on the staging dirs are set - I've looked but I'm lost.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/63", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/63/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/63/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/63", "id": 67223275, "node_id": "MDU6SXNzdWU2NzIyMzI3NQ==", "number": 63, "title": "When configured to use 'copy' file_action pulsar still attempts http transfer", "user": {"login": "dctrud", "id": 4522799, "node_id": "MDQ6VXNlcjQ1MjI3OTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/4522799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dctrud", "html_url": "https://github.com/dctrud", "followers_url": "https://api.github.com/users/dctrud/followers", "following_url": "https://api.github.com/users/dctrud/following{/other_user}", "gists_url": "https://api.github.com/users/dctrud/gists{/gist_id}", "starred_url": "https://api.github.com/users/dctrud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dctrud/subscriptions", "organizations_url": "https://api.github.com/users/dctrud/orgs", "repos_url": "https://api.github.com/users/dctrud/repos", "events_url": "https://api.github.com/users/dctrud/events{/privacy}", "received_events_url": "https://api.github.com/users/dctrud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-04-08T21:23:59Z", "updated_at": "2015-04-10T13:56:33Z", "closed_at": "2015-04-10T13:38:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi John - I emailed about this earlier, but did some more digging. I'm guessing my hacks on the code in the diffs below break things in other setups, but they are letting the 'copy' file_action complete.\n\nTried to configure pulsar with a destination as follows:\n\n``` xml\n<destination id=\"pulsar_rest_dest\" runner=\"pulsar_rest\">\n            <param id=\"url\">http://localhost:3032/</param>\n            <param id=\"private_token\">xxxxxx</param>\n            <param id=\"default_file_action\">copy</param>\n            <param id=\"submit_user\">$__user_name__</param>\n            <param id=\"submit_native_specification\">--partition=super</param>\n            <param id=\"file_action_config\">/project/apps/galaxy/galaxy/config/pulsar_actions.yaml</param>\n        </destination>\n```\n\nJob submission always failed. Found pulsar was trying to upload files via http, not copy them. Worked through call trace and found that action_type is being picked up correctly, but is not being passed into the client.put_file method. This method has a default action_type in it's def which means http transfer was always used.\n\nModified to pass the action_type through with diff:\n\n``` diff\n--- a/lib/pulsar/client/staging/up.py\n+++ b/lib/pulsar/client/staging/up.py\n@@ -348,8 +348,7 @@ class TransferTracker(object):\n         if action.staging_needed:\n             local_action = action.staging_action_local\n             if local_action:\n-                response = self.client.put_file(path, type, name=name, contents=contents)\n-\n+                response = self.client.put_file(path, type, name=name, contents=contents, action_type=action.action_type)\n                 def get_path():\n                     return response['path']\n             else:\n\n```\n\nIt then attempted to copy files, but was failing in the shutil copy call as the path obtained from pulsar is a json structure, not a bare string path. abspath calls mangling it into a combination of the GALAXY_HOME and the json structure:\n\n```\n==> handler1.log <==\ngalaxy.jobs.runners.pulsar ERROR 2015-04-08 15:46:17,100 failure running job 83\nTraceback (most recent call last):\n  File \"/project/apps/galaxy/galaxy/lib/galaxy/jobs/runners/pulsar.py\", line 209, in queue_job\n    job_id = pulsar_submit_job(client, client_job_description, remote_job_config)\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/staging/up.py\", line 22, in submit_job\n    file_stager = FileStager(client, client_job_description, job_config)\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/staging/up.py\", line 91, in __init__\n    self.__upload_input_files()\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/staging/up.py\", line 160, in __upload_input_files\n    self.__upload_input_file(input_file)\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/staging/up.py\", line 166, in __upload_input_file\n    self.transfer_tracker.handle_transfer(input_file, path_type.INPUT)\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/staging/up.py\", line 351, in handle_transfer\n    response = self.client.put_file(path, type, name=name, contents=contents, action_type=action.action_type)\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/client.py\", line 177, in put_file\n    copy(path, pulsar_path)\n  File \"/project/apps/galaxy/galaxy/lib/pulsar/client/util.py\", line 27, in copy\n    shutil.copyfile(source, destination)\n  File \"/project/apps/galaxy/.pyenv/versions/2.7.8/lib/python2.7/shutil.py\", line 83, in copyfile\n    with open(dst, 'wb') as fdst:\nIOError: [Errno 2] No such file or directory: '/project/apps/galaxy/galaxy/{\"path\": \"/project/apps/galaxy/pulsar/files/staging/d283a74499144b89ae73666463c2bc73/inputs/dataset_91.dat\"}'\n```\n\nTried to fix this with a naive patch:\n\n``` diff\n--- a/lib/pulsar/client/client.py\n+++ b/lib/pulsar/client/client.py\n@@ -1,5 +1,5 @@\n import os\n-from json import dumps\n+from json import dumps, loads\n\n from .destination import submit_params\n from .setup_handler import build as build_setup_handler\n@@ -173,7 +173,7 @@ class JobClient(BaseJobClient):\n         if action_type == 'transfer':\n             return self._upload_file(args, contents, input_path)\n         elif action_type == 'copy':\n-            pulsar_path = self._raw_execute('path', args)\n+            pulsar_path = loads(self._raw_execute('path', args))['path']\n             copy(path, pulsar_path)\n             return {'path': pulsar_path}\n\n```\n\nIt's now staging files by copying. I'm not sure how much other stuff these diffs are likely to break though.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/62", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/62/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/62/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/62", "id": 66778240, "node_id": "MDU6SXNzdWU2Njc3ODI0MA==", "number": 62, "title": "Python 3 Support", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-07T05:22:10Z", "updated_at": "2015-04-15T03:22:15Z", "closed_at": "2015-04-15T03:22:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There is not a Python 3 `flake8` running so syntax is all fixed for Python 3 - but a lot of tests still fail (though again thanks to tox there is now at least a clean way to run those tests - `tox -e py34`).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/61", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/61/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/61/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/61", "id": 66777663, "node_id": "MDU6SXNzdWU2Njc3NzY2Mw==", "number": 61, "title": "Pulsar 0.3.0", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-07T05:17:30Z", "updated_at": "2015-04-11T05:34:16Z", "closed_at": "2015-04-11T05:34:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Release version 0.3.0.\n- [ ] Update documentation to reflect `pip install` as preferred method to install.\n- [ ] Update documentation to demonstrate `pulsar-config`.\n- [x] Finish updated HISTORY for big changes this cycle.\n- [x] #58\n- [x] #59\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/60", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/60/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/60/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/60", "id": 64629548, "node_id": "MDU6SXNzdWU2NDYyOTU0OA==", "number": 60, "title": "Logo", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216013, "node_id": "MDU6TGFiZWwxMDgyMTYwMTM=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-03-26T20:49:18Z", "updated_at": "2015-05-12T20:41:04Z", "closed_at": "2015-05-12T20:41:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Pulsar needs a logo.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/59", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/59/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/59/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/59", "id": 64045107, "node_id": "MDU6SXNzdWU2NDA0NTEwNw==", "number": 59, "title": "Paster problems under some scenarios.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-24T16:46:41Z", "updated_at": "2015-04-09T15:10:18Z", "closed_at": "2015-04-09T15:10:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://biostar.usegalaxy.org/p/11337/\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/58", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/58/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/58/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/58", "id": 63050218, "node_id": "MDU6SXNzdWU2MzA1MDIxOA==", "number": 58, "title": "Discarding Jobs at Startup", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2015-03-19T17:40:20Z", "updated_at": "2015-04-16T20:45:37Z", "closed_at": "2015-04-16T20:45:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Review discarding jobs at startup and make sure Pulsar sends messages back to Galaxy indicating that jobs are being discarded if it cannot verify that postprocessing has completed.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/54", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/54/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/54/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/54", "id": 59376331, "node_id": "MDU6SXNzdWU1OTM3NjMzMQ==", "number": 54, "title": "Eliminate paste", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-01T03:52:43Z", "updated_at": "2015-03-01T04:02:02Z", "closed_at": "2015-03-01T04:02:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Default web server should be waitress instead - it has Python 3 support (unlike Paste) while retaining ability to run under windows (unlike more traditional choices - uwsgi, circusd, etc...).\n\nhttp://waitress.readthedocs.org/en/latest/\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/53", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/53/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/53/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/53", "id": 58843753, "node_id": "MDU6SXNzdWU1ODg0Mzc1Mw==", "number": 53, "title": "Make Pulsar a \"real\" Python project", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-25T03:08:16Z", "updated_at": "2015-04-07T05:13:34Z", "closed_at": "2015-04-07T05:13:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@jmchilton is growing up and figuring these things out.\n- [x] Decide on a version.\n- [x] HISTORY.rst\n- [x] setup.py\n- [x] `pip install .` - basic usage.\n- [x] `pip install .` - advanced usage - run as real user for instance.\n- [x] Publish to PyPI\n- [x] `tox` testing across 2.6, 2.7, and 3.4.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/51", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/51/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/51/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/51", "id": 52421150, "node_id": "MDU6SXNzdWU1MjQyMTE1MA==", "number": 51, "title": "Problems with UTF-8 streams under Windows.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-18T21:54:10Z", "updated_at": "2015-10-07T18:33:22Z", "closed_at": "2015-10-07T14:45:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Multiple reports - one in galaxy-dev (http://dev.list.galaxyproject.org/Problem-with-LWR-input-size-limitation-td4666038.html) and galaxy-proteomics ().\n\n```\nException happened during processing of request from ('192.168.56.1', 42932)\nTraceback (most recent call last):\n  File \"C:\\python27\\lib\\site-packages\\paste-1.7.5.1-py2.7.egg\\paste\\httpserver.py\", line 1068, in process_request_in_thread\n    self.finish_request(request, client_address)\n  File \"C:\\python27\\lib\\SocketServer.py\", line 334, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"C:\\python27\\lib\\SocketServer.py\", line 649, in __init__\n    self.handle()\n  File \"C:\\python27\\lib\\site-packages\\paste-1.7.5.1-py2.7.egg\\paste\\httpserver.py\", line 442, in handle\n    BaseHTTPRequestHandler.handle(self)\n  File \"C:\\python27\\lib\\BaseHTTPServer.py\", line 340, in handle\n    self.handle_one_request()\n  File \"C:\\python27\\lib\\site-packages\\paste-1.7.5.1-py2.7.egg\\paste\\httpserver.py\", line 437, in handle_one_request\n    self.wsgi_execute()\n  File \"C:\\python27\\lib\\site-packages\\paste-1.7.5.1-py2.7.egg\\paste\\httpserver.py\", line 287, in wsgi_execute\n    self.wsgi_start_response)\n  File \"E:\\lwr\\lwr\\web\\framework.py\", line 37, in __call__\n    return controller(environ, start_response, **request_args)\n  File \"E:\\lwr\\lwr\\web\\framework.py\", line 141, in controller_replacement\n    resp = self.__build_response(result)\n  File \"E:\\lwr\\lwr\\web\\framework.py\", line 129, in __build_response\n    resp = Response(body=self.body(result))\n  File \"E:\\lwr\\lwr\\web\\framework.py\", line 155, in body\n    body = dumps(result)\n  File \"C:\\python27\\lib\\json\\__init__.py\", line 243, in dumps\n    return _default_encoder.encode(obj)\n  File \"C:\\python27\\lib\\json\\encoder.py\", line 207, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"C:\\python27\\lib\\json\\encoder.py\", line 270, in iterencode\n    return _iterencode(o, 0)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xc6 in position 10: invalid continuation byte\n----------------------------------------\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/50", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/50/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/50/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/50", "id": 51835691, "node_id": "MDU6SXNzdWU1MTgzNTY5MQ==", "number": 50, "title": "Pulsar control daemon", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-12-12T18:12:59Z", "updated_at": "2018-10-26T11:50:34Z", "closed_at": "2018-10-26T11:50:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is very much a \"thinking out loud\" type of feature request (so please add to it), but it would be great if there was a small daemon to sit next to pulsar which could listen to the MQ (or REST?), and handle control messages like:\n- [ ] Restarting pulsar\n- [ ] `git pull` + restart\n\nRationale:\n- galaxy admin !=  cluster admin, may not have access to manage some high level details of pulsar\n- cluster admin may not receive timely notice of updates to pulsar code base, if some tool could handle `git pull` and update pulsar daemons, then this would solve that issue. A central galaxy could simply send \"reload\" commands to all networked pulsars and have them restart. This would be hugely beneficial over the current practice of \"email all your networked pulsars and ask them to update their code base + restart\"\n\nConcerns:\n- Losing some of the separation of privileges that are a great thing about Pulsar, namely that the Galaxy admin has zero control over how pulsar behaves on the remote end.\n- It might be tough to gracefully reload the pulsar-control deamon if we add new actions to the above list over time (though if they're using supervisord, simply killing ourselves with an exit code should be enough to trigger restarting)\n- _MUST_ not be able to affect any changes to Pulsar's configuration or there could be problems (e.g someone gains access to queue and tells pulsar-control to point to fully compromised MQ server)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/45", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/45/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/45/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/45", "id": 48451327, "node_id": "MDU6SXNzdWU0ODQ1MTMyNw==", "number": 45, "title": "File Cleanup", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-11-11T23:46:25Z", "updated_at": "2014-12-12T17:45:49Z", "closed_at": "2014-12-12T17:43:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Current:\n- Delete after job completes\n- Never delete\n\nExpected/Wanted:\n- Delete always/never, LRU Cache Policy\n- Locality: Able to re-use existing files if they are there (may require hashing files on both sides?), can probably be implemented quick & dirty with the `rsync` staging since it already has code for comparing files\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/43", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/43/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/43/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/43", "id": 48447916, "node_id": "MDU6SXNzdWU0ODQ0NzkxNg==", "number": 43, "title": "Fails to re-establish MQ connection across MQ server restart", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216013, "node_id": "MDU6TGFiZWwxMDgyMTYwMTM=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 131193104, "node_id": "MDU6TGFiZWwxMzExOTMxMDQ=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/possible%20bug", "name": "possible bug", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-11-11T23:05:45Z", "updated_at": "2014-11-17T19:09:27Z", "closed_at": "2014-11-17T19:03:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I have zero clue how often MQ restarts occur in the \"real world\", however in our testing phase we've restarted it a couple of times (all related to the SSL issues with centos). Pulsar seems to lose the connection and fails to pick it back up within short order. I believe that pulsar should be able to reconnect correctly across MQ restarts.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/37", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/37/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/37/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/37", "id": 47164645, "node_id": "MDU6SXNzdWU0NzE2NDY0NQ==", "number": 37, "title": "2.6 Incompatability", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2014-10-29T15:46:08Z", "updated_at": "2015-02-25T03:11:42Z", "closed_at": "2015-02-25T03:11:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Per [Contribution guidelines](https://github.com/galaxyproject/pulsar/blob/master/CONTRIBUTING.rst#pull-request-guidelines), pulsar should support Python 2.6, however running under 2.6.6 (testing in a Centos 6.5 VM), I'm seeing an issue with a datetime method called:\n\n``` python\n2014-10-29 15:46:17,746 ERROR [pulsar.managers.stateful][<pulsar.managers.stateful.ManagerMonitor object at 0x2f79310>-monitor] Failure in stateful manager monitor step.\nTraceback (most recent call last):\n  File \"/home/vagrant/pulsar/pulsar/managers/stateful.py\", line 241, in _run\n    self._monitor_active_jobs()\n  File \"/home/vagrant/pulsar/pulsar/managers/stateful.py\", line 257, in _monitor_active_jobs\n    time.sleep(to_sleep.total_seconds())\nAttributeError: 'datetime.timedelta' object has no attribute 'total_seconds'\n```\n\nWhich is [new in 2.7](https://docs.python.org/2/library/datetime.html#datetime.timedelta.total_seconds). Here is a [suggested solution](https://bitbucket.org/wnielson/django-chronograph/issue/21/timedeltatotal_seconds-requires-python-27) from another project.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/36", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/36/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/36/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/36", "id": 46787155, "node_id": "MDU6SXNzdWU0Njc4NzE1NQ==", "number": 36, "title": "Sanitise AMQP URL in log messages", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2014-10-24T21:45:28Z", "updated_at": "2014-10-30T16:41:58Z", "closed_at": "2014-10-30T16:41:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Just in case someone decides to say, email a logged error message and it happens to include the full username+password to AMQP, the password (at least) should probably be sanitised out.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/30", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/30/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/30/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/30", "id": 45682580, "node_id": "MDU6SXNzdWU0NTY4MjU4MA==", "number": 30, "title": "Docstring on RemoteTransferAction is wrong", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-13T20:27:14Z", "updated_at": "2015-10-30T15:19:44Z", "closed_at": "2015-10-30T15:19:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/galaxyproject/pulsar/blob/master/pulsar/client/action_mapper.py#L351\n\nit's a direct copy+paste of RemoteCopyAction, should be different.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/25", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/25/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/25/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/25", "id": 45516715, "node_id": "MDU6SXNzdWU0NTUxNjcxNQ==", "number": 25, "title": "Dependencies covers only some of use cases", "user": {"login": "hexylena", "id": 458683, "node_id": "MDQ6VXNlcjQ1ODY4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/458683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hexylena", "html_url": "https://github.com/hexylena", "followers_url": "https://api.github.com/users/hexylena/followers", "following_url": "https://api.github.com/users/hexylena/following{/other_user}", "gists_url": "https://api.github.com/users/hexylena/gists{/gist_id}", "starred_url": "https://api.github.com/users/hexylena/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hexylena/subscriptions", "organizations_url": "https://api.github.com/users/hexylena/orgs", "repos_url": "https://api.github.com/users/hexylena/repos", "events_url": "https://api.github.com/users/hexylena/events{/privacy}", "received_events_url": "https://api.github.com/users/hexylena/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-10T19:43:53Z", "updated_at": "2014-10-10T23:08:23Z", "closed_at": "2014-10-10T23:03:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The full suite of use cases (specifically AMQP) isn't covered by the current `requirements.txt`. Missing dependencies I've noticed so far:\n- `daemonize`\n- `kombu`\n- `poster`\n- `lockfile`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/24", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/24/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/24/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/24", "id": 45504889, "node_id": "MDU6SXNzdWU0NTUwNDg4OQ==", "number": 24, "title": "Update Galaxy client configuration example to use pulsar runners.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131192403, "node_id": "MDU6TGFiZWwxMzExOTI0MDM=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/documentation%20missing", "name": "documentation missing", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-10T17:36:04Z", "updated_at": "2014-11-12T04:04:11Z", "closed_at": "2014-11-12T04:04:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/23", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/23/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/23/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/23", "id": 45500111, "node_id": "MDU6SXNzdWU0NTUwMDExMQ==", "number": 23, "title": "Document daemon only (no webserver) functionality.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131192403, "node_id": "MDU6TGFiZWwxMzExOTI0MDM=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/documentation%20missing", "name": "documentation missing", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-10T16:43:40Z", "updated_at": "2015-04-13T01:46:27Z", "closed_at": "2015-04-13T01:46:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "``` irc\n16:39 < jmchilton> Are you intending to use pulsar via REST or with a message queue?  \n16:40 < erasche> Haven't gotten that far yet, but probably with message queue if it has faster TX/RX as the docs   \n                 might suggest. In that case, I see where you're going with this, I can just use paste  \n16:40 < jmchilton> No - in that case you don't even need a webserver  \n16:40 < erasche> even better  \n16:40 < jmchilton> No one has tested the option in production - but you can just start a pulsar as a daemon  \n16:41 < erasche> do I rip out the paste/circus/uwsgi config info? Or ... ?  \n16:42 < jmchilton> . .venv/bin/activate; pip install daemonize; python pulsar/daemon.py  \n16:42 < erasche> aha  \n16:42 < erasche> a different script  \n16:42 < erasche> excellent, I'll try that  \n16:42 < erasche> since I'm having issues with ansible playbooks for pulsar \n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/7", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/7/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/7/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/7", "id": 43323667, "node_id": "MDU6SXNzdWU0MzMyMzY2Nw==", "number": 7, "title": "New run.sh mode that just starts the MQ server instead of a web server.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-21T00:54:51Z", "updated_at": "2015-04-11T05:31:42Z", "closed_at": "2015-04-11T05:31:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The refactoring supporting this is there in the code.\n\nAlso include a supervisord.conf example of managing Pulsar.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/galaxyproject/pulsar/issues/6", "repository_url": "https://api.github.com/repos/galaxyproject/pulsar", "labels_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/6/comments", "events_url": "https://api.github.com/repos/galaxyproject/pulsar/issues/6/events", "html_url": "https://github.com/galaxyproject/pulsar/issues/6", "id": 43323646, "node_id": "MDU6SXNzdWU0MzMyMzY0Ng==", "number": 6, "title": "Modify run.sh to just use sample instead of copying it.", "user": {"login": "jmchilton", "id": 216771, "node_id": "MDQ6VXNlcjIxNjc3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/216771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmchilton", "html_url": "https://github.com/jmchilton", "followers_url": "https://api.github.com/users/jmchilton/followers", "following_url": "https://api.github.com/users/jmchilton/following{/other_user}", "gists_url": "https://api.github.com/users/jmchilton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmchilton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmchilton/subscriptions", "organizations_url": "https://api.github.com/users/jmchilton/orgs", "repos_url": "https://api.github.com/users/jmchilton/repos", "events_url": "https://api.github.com/users/jmchilton/events{/privacy}", "received_events_url": "https://api.github.com/users/jmchilton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 108216012, "node_id": "MDU6TGFiZWwxMDgyMTYwMTI=", "url": "https://api.github.com/repos/galaxyproject/pulsar/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-21T00:53:27Z", "updated_at": "2014-09-21T04:42:05Z", "closed_at": "2014-09-21T04:42:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Mirroring Nate's excellent work in galaxy.\n", "performed_via_github_app": null, "score": 1.0}]}