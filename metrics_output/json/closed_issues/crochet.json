{"total_count": 60, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/itamarst/crochet/issues/125", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/125/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/125/events", "html_url": "https://github.com/itamarst/crochet/issues/125", "id": 542871553, "node_id": "MDU6SXNzdWU1NDI4NzE1NTM=", "number": 125, "title": "i586-only test failures on openSUSE", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-27T13:13:38Z", "updated_at": "2020-01-26T15:56:54Z", "closed_at": "2020-01-26T00:28:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm re-packaging crochet for openSUSE, and encountering the following errors only on i586, on py2 and py3\r\n\r\n\r\n```\r\n[   70s] ======================================================================\r\n[   70s] ERROR: test_later_failure_result (crochet.tests.test_api.EventualResultTests)\r\n[   70s] test_later_failure_result\r\n[   70s] ----------------------------------------------------------------------\r\n[   70s] RuntimeError\r\n[   70s] \r\n[   70s] ======================================================================\r\n[   70s] FAIL: test_control_c_is_possible (crochet.tests.test_api.EventualResultTests)\r\n[   70s] test_control_c_is_possible\r\n[   70s] ----------------------------------------------------------------------\r\n[   70s] Traceback (most recent call last):\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n[   70s]     result = f(*args, **kw)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 221, in runWithWarningsSuppressed\r\n[   70s]     reraise(exc_info[1], exc_info[2])\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/python/compat.py\", line 464, in reraise\r\n[   70s]     raise exception.with_traceback(traceback)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 217, in runWithWarningsSuppressed\r\n[   70s]     result = f(*a, **kw)\r\n[   70s]   File \"/home/abuild/rpmbuild/BUILD/crochet-1.11.0/crochet/tests/test_api.py\", line 384, in test_control_c_is_possible\r\n[   70s]     self.assertEqual(process.wait(), 23)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 434, in assertEqual\r\n[   70s]     super(_Assertions, self).assertEqual(first, second, msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 839, in assertEqual\r\n[   70s]     assertion_func(first, second, msg=msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 832, in _baseAssertEqual\r\n[   70s]     raise self.failureException(msg)\r\n[   70s] twisted.trial.unittest.FailTest: 1 != 23\r\n[   70s] \r\n[   70s] ======================================================================\r\n[   70s] FAIL: test_later_failure_result (crochet.tests.test_api.EventualResultTests)\r\n[   70s] test_later_failure_result\r\n[   70s] ----------------------------------------------------------------------\r\n[   70s] Traceback (most recent call last):\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n[   70s]     result = f(*args, **kw)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 221, in runWithWarningsSuppressed\r\n[   70s]     reraise(exc_info[1], exc_info[2])\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/python/compat.py\", line 464, in reraise\r\n[   70s]     raise exception.with_traceback(traceback)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 217, in runWithWarningsSuppressed\r\n[   70s]     result = f(*a, **kw)\r\n[   70s]   File \"/home/abuild/rpmbuild/BUILD/crochet-1.11.0/crochet/tests/test_api.py\", line 192, in test_later_failure_result\r\n[   70s]     (result_list[0], result_list[1].__class__), (False, RuntimeError))\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 434, in assertEqual\r\n[   70s]     super(_Assertions, self).assertEqual(first, second, msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 839, in assertEqual\r\n[   70s]     assertion_func(first, second, msg=msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 1056, in assertTupleEqual\r\n[   70s]     self.assertSequenceEqual(tuple1, tuple2, msg, seq_type=tuple)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 1027, in assertSequenceEqual\r\n[   70s]     self.fail(msg)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 377, in fail\r\n[   70s]     raise self.failureException(msg)\r\n[   70s] twisted.trial.unittest.FailTest: Tuples differ: (False, <class 'crochet._eventloop.TimeoutError'>) != (False, <class 'RuntimeError'>)\r\n[   70s] \r\n[   70s] First differing element 1:\r\n[   70s] <class 'crochet._eventloop.TimeoutError'>\r\n[   70s] <class 'RuntimeError'>\r\n[   70s] \r\n[   70s] - (False, <class 'crochet._eventloop.TimeoutError'>)\r\n[   70s] + (False, <class 'RuntimeError'>)\r\n[   70s] \r\n[   70s] ======================================================================\r\n[   70s] FAIL: test_later_success_result (crochet.tests.test_api.EventualResultTests)\r\n[   70s] test_later_success_result\r\n[   70s] ----------------------------------------------------------------------\r\n[   70s] Traceback (most recent call last):\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n[   70s]     result = f(*args, **kw)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 221, in runWithWarningsSuppressed\r\n[   70s]     reraise(exc_info[1], exc_info[2])\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/python/compat.py\", line 464, in reraise\r\n[   70s]     raise exception.with_traceback(traceback)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 217, in runWithWarningsSuppressed\r\n[   70s]     result = f(*a, **kw)\r\n[   70s]   File \"/home/abuild/rpmbuild/BUILD/crochet-1.11.0/crochet/tests/test_api.py\", line 162, in test_later_success_result\r\n[   70s]     self.assertEqual(result_list, [True, 345])\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 434, in assertEqual\r\n[   70s]     super(_Assertions, self).assertEqual(first, second, msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 839, in assertEqual\r\n[   70s]     assertion_func(first, second, msg=msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 1045, in assertListEqual\r\n[   70s]     self.assertSequenceEqual(list1, list2, msg, seq_type=list)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 1027, in assertSequenceEqual\r\n[   70s]     self.fail(msg)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 377, in fail\r\n[   70s]     raise self.failureException(msg)\r\n[   70s] twisted.trial.unittest.FailTest: Lists differ: [False, TimeoutError()] != [True, 345]\r\n[   70s] \r\n[   70s] First differing element 0:\r\n[   70s] False\r\n[   70s] True\r\n[   70s] \r\n[   70s] - [False, TimeoutError()]\r\n[   70s] + [True, 345]\r\n[   70s] \r\n[   70s] ======================================================================\r\n[   70s] FAIL: test_control_c_is_possible (crochet.tests.test_api.WaitForReactorTests)\r\n[   70s] test_control_c_is_possible\r\n[   70s] ----------------------------------------------------------------------\r\n[   70s] Traceback (most recent call last):\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n[   70s]     result = f(*args, **kw)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 221, in runWithWarningsSuppressed\r\n[   70s]     reraise(exc_info[1], exc_info[2])\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/python/compat.py\", line 464, in reraise\r\n[   70s]     raise exception.with_traceback(traceback)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 217, in runWithWarningsSuppressed\r\n[   70s]     result = f(*a, **kw)\r\n[   70s]   File \"/home/abuild/rpmbuild/BUILD/crochet-1.11.0/crochet/tests/test_api.py\", line 1057, in test_control_c_is_possible\r\n[   70s]     self.assertEqual(process.wait(), 23)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 434, in assertEqual\r\n[   70s]     super(_Assertions, self).assertEqual(first, second, msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 839, in assertEqual\r\n[   70s]     assertion_func(first, second, msg=msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 832, in _baseAssertEqual\r\n[   70s]     raise self.failureException(msg)\r\n[   70s] twisted.trial.unittest.FailTest: 1 != 23\r\n[   70s] \r\n[   70s] ======================================================================\r\n[   70s] FAIL: test_reactor_stop_unblocks (crochet.tests.test_api.WaitForReactorTests)\r\n[   70s] test_reactor_stop_unblocks\r\n[   70s] ----------------------------------------------------------------------\r\n[   70s] Traceback (most recent call last):\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n[   70s]     result = f(*args, **kw)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 221, in runWithWarningsSuppressed\r\n[   70s]     reraise(exc_info[1], exc_info[2])\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/python/compat.py\", line 464, in reraise\r\n[   70s]     raise exception.with_traceback(traceback)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/internet/utils.py\", line 217, in runWithWarningsSuppressed\r\n[   70s]     result = f(*a, **kw)\r\n[   70s]   File \"/home/abuild/rpmbuild/BUILD/crochet-1.11.0/crochet/tests/test_api.py\", line 1085, in test_reactor_stop_unblocks\r\n[   70s]     self.assertEqual(process.wait(), 23)\r\n[   70s]   File \"/usr/lib/python3.7/site-packages/twisted/trial/_synctest.py\", line 434, in assertEqual\r\n[   70s]     super(_Assertions, self).assertEqual(first, second, msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 839, in assertEqual\r\n[   70s]     assertion_func(first, second, msg=msg)\r\n[   70s]   File \"/usr/lib/python3.7/unittest/case.py\", line 832, in _baseAssertEqual\r\n[   70s]     raise self.failureException(msg)\r\n[   70s] twisted.trial.unittest.FailTest: 1 != 23\r\n[   70s] \r\n```\r\n\r\nI also encounter failure in `test_timeout` on zSystems s390x intermittently, last seen on py37, but may also be occurring on py27\r\n```\r\n[   88s] ======================================================================\r\n[   88s] FAIL: test_timeout (crochet.tests.test_api.EventualResultTests)\r\n[   88s] test_timeout\r\n[   88s] ----------------------------------------------------------------------\r\n[   88s] Traceback (most recent call last):\r\n[   88s]   File \"/usr/lib64/python3.7/site-packages/twisted/internet/defer.py\", line 151, in maybeDeferred\r\n[   88s]     result = f(*args, **kw)\r\n[   88s]   File \"/usr/lib64/python3.7/site-packages/twisted/internet/utils.py\", line 221, in runWithWarningsSuppressed\r\n[   88s]     reraise(exc_info[1], exc_info[2])\r\n[   88s]   File \"/usr/lib64/python3.7/site-packages/twisted/python/compat.py\", line 464, in reraise\r\n[   88s]     raise exception.with_traceback(traceback)\r\n[   88s]   File \"/usr/lib64/python3.7/site-packages/twisted/internet/utils.py\", line 217, in runWithWarningsSuppressed\r\n[   88s]     result = f(*a, **kw)\r\n[   88s]   File \"/home/abuild/rpmbuild/BUILD/crochet-1.11.0/crochet/tests/test_api.py\", line 209, in test_timeout\r\n[   88s]     self.assertTrue(abs(time.time() - start - 0.03) < 0.005)\r\n[   88s]   File \"/usr/lib64/python3.7/site-packages/twisted/trial/_synctest.py\", line 397, in assertTrue\r\n[   88s]     super(_Assertions, self).assertTrue(condition, msg)\r\n[   88s]   File \"/usr/lib64/python3.7/unittest/case.py\", line 692, in assertTrue\r\n[   88s]     raise self.failureException(msg)\r\n[   88s] twisted.trial.unittest.FailTest: False is not true\r\n```\r\n\r\nPackage at https://build.opensuse.org/package/show/home:jayvdb:py-submit/python-crochet in case anyone wants to create a branch and debug it on OBS.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/122", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/122/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/122/events", "html_url": "https://github.com/itamarst/crochet/issues/122", "id": 532308077, "node_id": "MDU6SXNzdWU1MzIzMDgwNzc=", "number": 122, "title": "Python 3.8 support", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-03T22:25:12Z", "updated_at": "2019-12-15T21:03:42Z", "closed_at": "2019-12-15T21:03:42Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Python 3.8 is out!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/121", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/121/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/121/events", "html_url": "https://github.com/itamarst/crochet/issues/121", "id": 456546173, "node_id": "MDU6SXNzdWU0NTY1NDYxNzM=", "number": 121, "title": "Stop Iteration Error while using run_in_reactor", "user": {"login": "this-is-r-gaurav", "id": 25682376, "node_id": "MDQ6VXNlcjI1NjgyMzc2", "avatar_url": "https://avatars2.githubusercontent.com/u/25682376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/this-is-r-gaurav", "html_url": "https://github.com/this-is-r-gaurav", "followers_url": "https://api.github.com/users/this-is-r-gaurav/followers", "following_url": "https://api.github.com/users/this-is-r-gaurav/following{/other_user}", "gists_url": "https://api.github.com/users/this-is-r-gaurav/gists{/gist_id}", "starred_url": "https://api.github.com/users/this-is-r-gaurav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/this-is-r-gaurav/subscriptions", "organizations_url": "https://api.github.com/users/this-is-r-gaurav/orgs", "repos_url": "https://api.github.com/users/this-is-r-gaurav/repos", "events_url": "https://api.github.com/users/this-is-r-gaurav/events{/privacy}", "received_events_url": "https://api.github.com/users/this-is-r-gaurav/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-06-15T15:05:25Z", "updated_at": "2020-08-12T13:22:33Z", "closed_at": "2019-06-15T15:43:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to Integrate Django With Scrapy and for running Crawler with `run_in_reactor` instead of `wait for` as shown in example [How to integrate Flask & Scrapy?](https://stackoverflow.com/questions/36384286/how-to-integrate-flask-scrapy)\r\nBut This raises error \r\n\r\n```\r\nUnhandled error in EventualResult\r\nTraceback (most recent call last):\r\n  File \"/project/venv/lib/python3.6/site-packages/twisted/internet/defer.py\", line 460, in callback\r\n    self._startRunCallbacks(result)\r\n  File \"/project/venv/lib/python3.6/site-packages/twisted/internet/defer.py\", line 568, in _startRunCallbacks\r\n    self._runCallbacks()\r\n  File \"/project/venv/lib/python3.6/site-packages/twisted/internet/defer.py\", line 654, in _runCallbacks\r\n    current.result = callback(current.result, *args, **kw)\r\n  File \"/project/venv/lib/python3.6/site-packages/twisted/internet/defer.py\", line 1475, in gotResult\r\n    _inlineCallbacks(r, g, status)\r\n--- <exception caught here> ---\r\n  File \"/project/venv/lib/python3.6/site-packages/twisted/internet/defer.py\", line 1418, in _inlineCallbacks\r\n    result = g.send(result)\r\nbuiltins.StopIteration: \r\n```\r\n\r\nWhat i want is After Running the function which is decorated by `run_in_reactor` the user of the program get alert that the function is called successfully. And as the result finished, it doesn't lead to this error", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/117", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/117/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/117/events", "html_url": "https://github.com/itamarst/crochet/issues/117", "id": 333485899, "node_id": "MDU6SXNzdWUzMzM0ODU4OTk=", "number": 117, "title": "Python 3.7 support", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/6", "html_url": "https://github.com/itamarst/crochet/milestone/6", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/6/labels", "id": 3434234, "node_id": "MDk6TWlsZXN0b25lMzQzNDIzNA==", "number": 6, "title": "1.10", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "open", "created_at": "2018-06-19T01:13:15Z", "updated_at": "2019-05-23T18:34:28Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2018-06-19T01:12:15Z", "updated_at": "2019-05-23T18:34:47Z", "closed_at": "2019-05-23T18:34:28Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Usual deal (add to CI, fix bugs, update to docs).\r\n\r\n* [x] Add to .travis.yml\r\n* [x] Add to README\r\n* [x] Add to documentation", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/115", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/115/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/115/events", "html_url": "https://github.com/itamarst/crochet/issues/115", "id": 250666294, "node_id": "MDU6SXNzdWUyNTA2NjYyOTQ=", "number": 115, "title": "Error using \"run_in_reactor\" in 1.8.0 that worked well in 1.7.0", "user": {"login": "2mf", "id": 4757825, "node_id": "MDQ6VXNlcjQ3NTc4MjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/4757825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2mf", "html_url": "https://github.com/2mf", "followers_url": "https://api.github.com/users/2mf/followers", "following_url": "https://api.github.com/users/2mf/following{/other_user}", "gists_url": "https://api.github.com/users/2mf/gists{/gist_id}", "starred_url": "https://api.github.com/users/2mf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2mf/subscriptions", "organizations_url": "https://api.github.com/users/2mf/orgs", "repos_url": "https://api.github.com/users/2mf/repos", "events_url": "https://api.github.com/users/2mf/events{/privacy}", "received_events_url": "https://api.github.com/users/2mf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-16T15:22:11Z", "updated_at": "2017-08-17T22:09:19Z", "closed_at": "2017-08-17T18:52:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "use case:\r\n```\r\n@defer.inlineCallbacks\r\ndef do_stomething():\r\n        yield do_something_else()\r\n\r\ncrochet.run_in_reactor(do_something)().wait()\r\n```\r\nexception in 1.8.0:\r\n```\r\n    def run_in_reactor(self, function):\r\n        \"\"\"\r\n            A decorator that ensures the wrapped function runs in the\r\n            reactor thread.\r\n    \r\n            When the wrapped function is called, an EventualResult is returned.\r\n            \"\"\"\r\n        result = self._run_in_reactor(function)\r\n        # Backwards compatibility; we could have used wrapt's version, but\r\n        # older Crochet code exposed different attribute name:\r\n        try:\r\n>           result.wrapped_function = function\r\nE           AttributeError: 'method' object has no attribute 'wrapped_function'\r\n\r\n/usr/local/pyenv/versions/3.6.1/envs/python36/lib/python3.6/site-packages/crochet/_eventloop.py:469: AttributeError\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/112", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/112/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/112/events", "html_url": "https://github.com/itamarst/crochet/issues/112", "id": 240177442, "node_id": "MDU6SXNzdWUyNDAxNzc0NDI=", "number": 112, "title": "Add github starring thing to docs", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 370545709, "node_id": "MDU6TGFiZWwzNzA1NDU3MDk=", "url": "https://api.github.com/repos/itamarst/crochet/labels/documentation", "name": "documentation", "color": "006b75", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-03T13:45:01Z", "updated_at": "2017-08-08T19:53:38Z", "closed_at": "2017-08-08T19:53:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This encourages people to bookmark it via starring.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/110", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/110/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/110/events", "html_url": "https://github.com/itamarst/crochet/issues/110", "id": 236931149, "node_id": "MDU6SXNzdWUyMzY5MzExNDk=", "number": 110, "title": "Document difference from async/await", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-19T15:32:37Z", "updated_at": "2017-08-08T19:58:21Z", "closed_at": "2017-08-08T19:58:21Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Doesn't make asyncness percolate through whole program.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/108", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/108/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/108/events", "html_url": "https://github.com/itamarst/crochet/issues/108", "id": 235592286, "node_id": "MDU6SXNzdWUyMzU1OTIyODY=", "number": 108, "title": "MemoryErrors when logging handlers raise exceptions", "user": {"login": "schlenk", "id": 979026, "node_id": "MDQ6VXNlcjk3OTAyNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/979026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schlenk", "html_url": "https://github.com/schlenk", "followers_url": "https://api.github.com/users/schlenk/followers", "following_url": "https://api.github.com/users/schlenk/following{/other_user}", "gists_url": "https://api.github.com/users/schlenk/gists{/gist_id}", "starred_url": "https://api.github.com/users/schlenk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schlenk/subscriptions", "organizations_url": "https://api.github.com/users/schlenk/orgs", "repos_url": "https://api.github.com/users/schlenk/repos", "events_url": "https://api.github.com/users/schlenk/events{/privacy}", "received_events_url": "https://api.github.com/users/schlenk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-13T15:21:18Z", "updated_at": "2017-06-18T23:47:27Z", "closed_at": "2017-06-18T22:05:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "This lets a python 2.7.11 + twisted 14.0 + crochet 1.4 (win32, 32-Bit) grow to 2 GB in size, and be pretty much disfunctional for anything (but not crashing sometimes, only raising a MemoryError if lucky). It also has the same effect for Twisted 17.1.\r\n\r\n    import time\r\n    import crochet\r\n    import logging\r\n\r\n    class BrokenHandler(logging.Handler):\r\n        def emit(self, record):\r\n             raise ValueError(\"Kaboom\")\r\n\r\n    log = logging.getLogger(\"twisted\")\r\n    h = BrokenHandler(logging.DEBUG)\r\n    log.addHandler(h)\r\n    log.setLevel(logging.DEBUG)\r\n\r\n    crochet.setup()\r\n    while 1:\r\n         time.sleep(10)\r\n\r\nIt should not hang like that, even if the logger misbehaves.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/106", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/106/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/106/events", "html_url": "https://github.com/itamarst/crochet/issues/106", "id": 198370997, "node_id": "MDU6SXNzdWUxOTgzNzA5OTc=", "number": 106, "title": "Python 3.6 support it", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-02T19:02:39Z", "updated_at": "2017-01-07T16:06:07Z", "closed_at": "2017-01-07T16:06:07Z", "author_association": "OWNER", "active_lock_reason": null, "body": "3.6 is out. We should support it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/104", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/104/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/104/events", "html_url": "https://github.com/itamarst/crochet/issues/104", "id": 153283611, "node_id": "MDU6SXNzdWUxNTMyODM2MTE=", "number": 104, "title": "UPDATED: document that non-Twisted thread shouldn't call Twisted API", "user": {"login": "bpicolo", "id": 2424701, "node_id": "MDQ6VXNlcjI0MjQ3MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2424701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpicolo", "html_url": "https://github.com/bpicolo", "followers_url": "https://api.github.com/users/bpicolo/followers", "following_url": "https://api.github.com/users/bpicolo/following{/other_user}", "gists_url": "https://api.github.com/users/bpicolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpicolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpicolo/subscriptions", "organizations_url": "https://api.github.com/users/bpicolo/orgs", "repos_url": "https://api.github.com/users/bpicolo/repos", "events_url": "https://api.github.com/users/bpicolo/events{/privacy}", "received_events_url": "https://api.github.com/users/bpicolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 370545709, "node_id": "MDU6TGFiZWwzNzA1NDU3MDk=", "url": "https://api.github.com/repos/itamarst/crochet/labels/documentation", "name": "documentation", "color": "006b75", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-05-05T17:40:47Z", "updated_at": "2017-08-08T20:02:18Z", "closed_at": "2017-08-08T20:02:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "So, pretty sure I've sort-of narrowed this down at this point.\n\nThis looping call: https://github.com/itamarst/crochet/blob/master/crochet/_eventloop.py#L335\nseems to be preventing twisted from spawning new TCP connections, which suggests it's blocking in some way. \n\nHere's an example blown up to a delay of 3s:\n\n```\nGot 200 in 15ms using <class 'bravado_promised.twisted_client.TwistedClient'>\nGot 200 in 3ms using <class 'bravado_promised.twisted_client.TwistedClient'>\nGot 200 in 3ms using <class 'bravado_promised.twisted_client.TwistedClient'>\nGot 200 in 3ms using <class 'bravado_promised.twisted_client.TwistedClient'>\nGot 200 in 2986ms using <class 'bravado_promised.twisted_client.TwistedClient'>\nGot 200 in 4ms using <class 'bravado_promised.twisted_client.TwistedClient'>\nGot 200 in 4ms using <class 'bravado_promised.twisted_client.TwistedClient'>\n```\n\nMeanwhile, if I see the call to loop every .1ms the issue disappears. I'm not entirely sure why this stops twisted from doing other work. \n\nThis is on ubuntu 10.04\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/103", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/103/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/103/events", "html_url": "https://github.com/itamarst/crochet/issues/103", "id": 151987479, "node_id": "MDU6SXNzdWUxNTE5ODc0Nzk=", "number": 103, "title": "EventualResult.wait() can add up to 50ms of latency in Python <3.2", "user": {"login": "jnb", "id": 514311, "node_id": "MDQ6VXNlcjUxNDMxMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/514311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnb", "html_url": "https://github.com/jnb", "followers_url": "https://api.github.com/users/jnb/followers", "following_url": "https://api.github.com/users/jnb/following{/other_user}", "gists_url": "https://api.github.com/users/jnb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnb/subscriptions", "organizations_url": "https://api.github.com/users/jnb/orgs", "repos_url": "https://api.github.com/users/jnb/repos", "events_url": "https://api.github.com/users/jnb/events{/privacy}", "received_events_url": "https://api.github.com/users/jnb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/5", "html_url": "https://github.com/itamarst/crochet/milestone/5", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/5/labels", "id": 1745861, "node_id": "MDk6TWlsZXN0b25lMTc0NTg2MQ==", "number": 5, "title": "1.7.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2016-05-03T18:03:32Z", "updated_at": "2018-06-19T01:13:08Z", "due_on": null, "closed_at": "2018-06-19T01:13:08Z"}, "comments": 7, "created_at": "2016-04-29T23:24:51Z", "updated_at": "2017-08-08T20:03:54Z", "closed_at": "2017-08-08T20:03:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Condition variables in versions of Python earlier than 3.2 use `sleep()` with an exponential backoff for the `wait()` method.  The maximum backoff value is 50ms, meaning that there can be up to 50ms of latency between `notify()`ing a condition variable and a `wait()` returning:\n\nhttps://hg.python.org/cpython/file/2.6/Lib/threading.py#l243\n\nThis is problematic because `EventualResult` uses a condition variable to signal completion (via `threading.Event`), leading to up to 50ms of additional latency.  We've observed this performance issue in production.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/97", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/97/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/97/events", "html_url": "https://github.com/itamarst/crochet/issues/97", "id": 148137667, "node_id": "MDU6SXNzdWUxNDgxMzc2Njc=", "number": 97, "title": "PEP 8 support", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-04-13T18:03:52Z", "updated_at": "2017-08-08T20:40:40Z", "closed_at": "2017-08-08T20:40:40Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Switch `pyflakes` out for `pep8`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/95", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/95/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/95/events", "html_url": "https://github.com/itamarst/crochet/issues/95", "id": 148128256, "node_id": "MDU6SXNzdWUxNDgxMjgyNTY=", "number": 95, "title": "Latest versioneer", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/4", "html_url": "https://github.com/itamarst/crochet/milestone/4", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/4/labels", "id": 1704099, "node_id": "MDk6TWlsZXN0b25lMTcwNDA5OQ==", "number": 4, "title": "1.5.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-13T15:45:55Z", "updated_at": "2016-05-03T18:03:26Z", "due_on": null, "closed_at": "2016-05-03T18:03:26Z"}, "comments": 0, "created_at": "2016-04-13T17:27:40Z", "updated_at": "2016-04-13T19:36:19Z", "closed_at": "2016-04-13T19:36:19Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/94", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/94/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/94/events", "html_url": "https://github.com/itamarst/crochet/issues/94", "id": 148127836, "node_id": "MDU6SXNzdWUxNDgxMjc4MzY=", "number": 94, "title": "New Twisted logging library support", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/4", "html_url": "https://github.com/itamarst/crochet/milestone/4", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/4/labels", "id": 1704099, "node_id": "MDk6TWlsZXN0b25lMTcwNDA5OQ==", "number": 4, "title": "1.5.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-13T15:45:55Z", "updated_at": "2016-05-03T18:03:26Z", "due_on": null, "closed_at": "2016-05-03T18:03:26Z"}, "comments": 0, "created_at": "2016-04-13T17:25:48Z", "updated_at": "2016-04-13T19:27:38Z", "closed_at": "2016-04-13T19:27:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/93", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/93/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/93/events", "html_url": "https://github.com/itamarst/crochet/issues/93", "id": 148127798, "node_id": "MDU6SXNzdWUxNDgxMjc3OTg=", "number": 93, "title": "Python 3.5 support", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/4", "html_url": "https://github.com/itamarst/crochet/milestone/4", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/4/labels", "id": 1704099, "node_id": "MDk6TWlsZXN0b25lMTcwNDA5OQ==", "number": 4, "title": "1.5.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-13T15:45:55Z", "updated_at": "2016-05-03T18:03:26Z", "due_on": null, "closed_at": "2016-05-03T18:03:26Z"}, "comments": 0, "created_at": "2016-04-13T17:25:35Z", "updated_at": "2016-04-13T18:27:31Z", "closed_at": "2016-04-13T18:27:31Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/92", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/92/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/92/events", "html_url": "https://github.com/itamarst/crochet/issues/92", "id": 115558353, "node_id": "MDU6SXNzdWUxMTU1NTgzNTM=", "number": 92, "title": "crochet.tests.test_api.EventualResultTests.test_later_success_result is flaky in Python 3", "user": {"login": "allenap", "id": 348564, "node_id": "MDQ6VXNlcjM0ODU2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/348564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenap", "html_url": "https://github.com/allenap", "followers_url": "https://api.github.com/users/allenap/followers", "following_url": "https://api.github.com/users/allenap/following{/other_user}", "gists_url": "https://api.github.com/users/allenap/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenap/subscriptions", "organizations_url": "https://api.github.com/users/allenap/orgs", "repos_url": "https://api.github.com/users/allenap/repos", "events_url": "https://api.github.com/users/allenap/events{/privacy}", "received_events_url": "https://api.github.com/users/allenap/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/4", "html_url": "https://github.com/itamarst/crochet/milestone/4", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/4/labels", "id": 1704099, "node_id": "MDk6TWlsZXN0b25lMTcwNDA5OQ==", "number": 4, "title": "1.5.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-13T15:45:55Z", "updated_at": "2016-05-03T18:03:26Z", "due_on": null, "closed_at": "2016-05-03T18:03:26Z"}, "comments": 3, "created_at": "2015-11-06T18:12:16Z", "updated_at": "2016-04-13T19:58:58Z", "closed_at": "2016-04-13T19:58:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "About half the time `test_later_success_result` fails in Python 3:\n\n```\n[ERROR]\nTraceback (most recent call last):\n  File \".../crochet/tests/test_api.py\", line 130, in test_later_success_result\n    self.assertEqual(dr.wait(), 345)\n  File \".../crochet/_eventloop.py\", line 229, in wait\n    result = self._result(timeout)\n  File \".../crochet/_eventloop.py\", line 193, in _result\n    raise TimeoutError()\ncrochet._eventloop.TimeoutError: \n\ncrochet.tests.test_api.EventualResultTests.test_later_success_result\n```\n\nUsing Twisted 15.4.0 in a --no-site-packages virtualenv on Ubuntu Wily.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/91", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/91/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/91/events", "html_url": "https://github.com/itamarst/crochet/issues/91", "id": 103408321, "node_id": "MDU6SXNzdWUxMDM0MDgzMjE=", "number": 91, "title": "Problem using spawnProcess() with crotchet", "user": {"login": "chintal", "id": 226507, "node_id": "MDQ6VXNlcjIyNjUwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/226507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chintal", "html_url": "https://github.com/chintal", "followers_url": "https://api.github.com/users/chintal/followers", "following_url": "https://api.github.com/users/chintal/following{/other_user}", "gists_url": "https://api.github.com/users/chintal/gists{/gist_id}", "starred_url": "https://api.github.com/users/chintal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chintal/subscriptions", "organizations_url": "https://api.github.com/users/chintal/orgs", "repos_url": "https://api.github.com/users/chintal/repos", "events_url": "https://api.github.com/users/chintal/events{/privacy}", "received_events_url": "https://api.github.com/users/chintal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-27T02:16:33Z", "updated_at": "2015-08-27T21:43:35Z", "closed_at": "2015-08-27T21:43:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having some trouble using crochet with twisted's spawnProcess. The process seems to run when just using twisted, but with crochet, only the protocol's connectionMade function is ever called and the script exits immediately (much faster than the child process would have taken if it was run). Am I doing something wrong?\n\nRelevant portions of the code :\n\n```\nfrom crochet import setup, run_in_reactor\nfrom twisted.internet import reactor\n\nclass BareQDAL41xBFactory(Factory):\n    def __init__(self):\n        self.instances = []\n\n    def buildProtocol(self, port=None, buffer_size=100):\n        instance = ProtocolBareQDAL41xB(buffer_size=buffer_size)\n        reactor.spawnProcess(instance, BIN_PATH, [BIN_NAME], {})\n        return instance\n\nfactory = BareQDAL41xBFactory()\n\n@run_in_reactor\ndef run():\n    protocol = factory.buildProtocol()\n    return protocol\n\n# This does not work\nif __name__ == '__main__':\n    setup()\n    run()\n\n# This does\nif __name__ == '__main__':\n    protocol = factory.buildProtocol()\n    reactor.run()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/89", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/89/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/89/events", "html_url": "https://github.com/itamarst/crochet/issues/89", "id": 73472692, "node_id": "MDU6SXNzdWU3MzQ3MjY5Mg==", "number": 89, "title": "Add \"Known issues and workarounds\" section to documentation", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/3", "html_url": "https://github.com/itamarst/crochet/milestone/3", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/3/labels", "id": 964393, "node_id": "MDk6TWlsZXN0b25lOTY0Mzkz", "number": 3, "title": "1.4.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-02-03T21:04:43Z", "updated_at": "2015-05-06T01:30:47Z", "due_on": null, "closed_at": "2015-05-06T01:30:47Z"}, "comments": 0, "created_at": "2015-05-06T00:29:19Z", "updated_at": "2015-05-06T01:30:32Z", "closed_at": "2015-05-06T01:30:32Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Move out the relevant current bits of documentation (tracebacks, twisted logging), and add a bit about multiprocess/celery/uwsgi.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/85", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/85/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/85/events", "html_url": "https://github.com/itamarst/crochet/issues/85", "id": 69365719, "node_id": "MDU6SXNzdWU2OTM2NTcxOQ==", "number": 85, "title": "Add support for newer Twisted and Python 3.4", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/3", "html_url": "https://github.com/itamarst/crochet/milestone/3", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/3/labels", "id": 964393, "node_id": "MDk6TWlsZXN0b25lOTY0Mzkz", "number": 3, "title": "1.4.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-02-03T21:04:43Z", "updated_at": "2015-05-06T01:30:47Z", "due_on": null, "closed_at": "2015-05-06T01:30:47Z"}, "comments": 0, "created_at": "2015-04-19T00:50:37Z", "updated_at": "2015-04-19T16:44:21Z", "closed_at": "2015-04-19T16:44:21Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Since that's what people are using.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/78", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/78/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/78/events", "html_url": "https://github.com/itamarst/crochet/issues/78", "id": 58086829, "node_id": "MDU6SXNzdWU1ODA4NjgyOQ==", "number": 78, "title": "crochet doesn\u2019t work with uWSGI", "user": {"login": "hynek", "id": 41240, "node_id": "MDQ6VXNlcjQxMjQw", "avatar_url": "https://avatars3.githubusercontent.com/u/41240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hynek", "html_url": "https://github.com/hynek", "followers_url": "https://api.github.com/users/hynek/followers", "following_url": "https://api.github.com/users/hynek/following{/other_user}", "gists_url": "https://api.github.com/users/hynek/gists{/gist_id}", "starred_url": "https://api.github.com/users/hynek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hynek/subscriptions", "organizations_url": "https://api.github.com/users/hynek/orgs", "repos_url": "https://api.github.com/users/hynek/repos", "events_url": "https://api.github.com/users/hynek/events{/privacy}", "received_events_url": "https://api.github.com/users/hynek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2015-02-18T16:01:07Z", "updated_at": "2015-05-06T00:27:56Z", "closed_at": "2015-05-02T16:32:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to use crochet with uWSGI and a Pyramid application and a lot of fail has been had.\n\nA few things make it crash with http://glui.me/?d=is6368qf71cqb25/2015-02-18%20at%2013.02.png/  right away like `lazy-apps`, others make it hang (like starting multiple processes).\n\nThat makes me kind of sad, because I really like uWSGI. :-/  Works like a charm with gunicorn so far.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/77", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/77/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/77/events", "html_url": "https://github.com/itamarst/crochet/issues/77", "id": 58062552, "node_id": "MDU6SXNzdWU1ODA2MjU1Mg==", "number": 77, "title": "Exceptions get mangled in certain circumstances", "user": {"login": "hynek", "id": 41240, "node_id": "MDQ6VXNlcjQxMjQw", "avatar_url": "https://avatars3.githubusercontent.com/u/41240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hynek", "html_url": "https://github.com/hynek", "followers_url": "https://api.github.com/users/hynek/followers", "following_url": "https://api.github.com/users/hynek/following{/other_user}", "gists_url": "https://api.github.com/users/hynek/gists{/gist_id}", "starred_url": "https://api.github.com/users/hynek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hynek/subscriptions", "organizations_url": "https://api.github.com/users/hynek/orgs", "repos_url": "https://api.github.com/users/hynek/repos", "events_url": "https://api.github.com/users/hynek/events{/privacy}", "received_events_url": "https://api.github.com/users/hynek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-02-18T12:38:23Z", "updated_at": "2015-05-06T00:18:26Z", "closed_at": "2015-05-06T00:18:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I\u2019m frequently getting exceptions like this one:\n\n```\nTraceback (most recent call last):\n  File \"../bin/epp_query\", line 9, in <module>\n    load_entry_point('vrmd-txepp==3', 'console_scripts', 'epp_query')()\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/click/core.py\", line 610, in __call__\n    return self.main(*args, **kwargs)\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/click/core.py\", line 590, in main\n    rv = self.invoke(ctx)\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/click/core.py\", line 936, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/click/core.py\", line 782, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/click/core.py\", line 416, in invoke\n    return callback(*args, **kwargs)\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/txepp/cli.py\", line 48, in check\n    results = c.domain_check(domains if domains else [TD])\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/crochet/_eventloop.py\", line 461, in wrapper\n    return eventual_result.wait(timeout)\n  File \"/vrmd/domainsws/local/lib/python2.7/site-packages/crochet/_eventloop.py\", line 231, in wait\n    result.raiseException()\n  File \"<string>\", line 2, in raiseException\nTypeError: cert must be an X509 instance\n```\n\nWhich is not helpful for debugging. :)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/76", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/76/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/76/events", "html_url": "https://github.com/itamarst/crochet/issues/76", "id": 56857328, "node_id": "MDU6SXNzdWU1Njg1NzMyOA==", "number": 76, "title": "calling a twisted server running on different machine from a pyramid app", "user": {"login": "bsdis", "id": 1256202, "node_id": "MDQ6VXNlcjEyNTYyMDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bsdis", "html_url": "https://github.com/bsdis", "followers_url": "https://api.github.com/users/bsdis/followers", "following_url": "https://api.github.com/users/bsdis/following{/other_user}", "gists_url": "https://api.github.com/users/bsdis/gists{/gist_id}", "starred_url": "https://api.github.com/users/bsdis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bsdis/subscriptions", "organizations_url": "https://api.github.com/users/bsdis/orgs", "repos_url": "https://api.github.com/users/bsdis/repos", "events_url": "https://api.github.com/users/bsdis/events{/privacy}", "received_events_url": "https://api.github.com/users/bsdis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-06T19:36:39Z", "updated_at": "2015-02-08T17:53:36Z", "closed_at": "2015-02-08T17:53:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to use crochet to call a service on a twistd server running on a different machine from a within a view on a pyramid app?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/73", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/73/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/73/events", "html_url": "https://github.com/itamarst/crochet/issues/73", "id": 56436959, "node_id": "MDU6SXNzdWU1NjQzNjk1OQ==", "number": 73, "title": "Tests failing on latest PyPy", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/3", "html_url": "https://github.com/itamarst/crochet/milestone/3", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/3/labels", "id": 964393, "node_id": "MDk6TWlsZXN0b25lOTY0Mzkz", "number": 3, "title": "1.4.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2015-02-03T21:04:43Z", "updated_at": "2015-05-06T01:30:47Z", "due_on": null, "closed_at": "2015-05-06T01:30:47Z"}, "comments": 0, "created_at": "2015-02-03T21:04:58Z", "updated_at": "2015-04-18T22:28:09Z", "closed_at": "2015-04-18T22:28:09Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/72", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/72/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/72/events", "html_url": "https://github.com/itamarst/crochet/issues/72", "id": 53340137, "node_id": "MDU6SXNzdWU1MzM0MDEzNw==", "number": 72, "title": "Functions registered with @wait_for can trigger attribute error", "user": {"login": "sametmax", "id": 1673950, "node_id": "MDQ6VXNlcjE2NzM5NTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1673950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sametmax", "html_url": "https://github.com/sametmax", "followers_url": "https://api.github.com/users/sametmax/followers", "following_url": "https://api.github.com/users/sametmax/following{/other_user}", "gists_url": "https://api.github.com/users/sametmax/gists{/gist_id}", "starred_url": "https://api.github.com/users/sametmax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sametmax/subscriptions", "organizations_url": "https://api.github.com/users/sametmax/orgs", "repos_url": "https://api.github.com/users/sametmax/repos", "events_url": "https://api.github.com/users/sametmax/events{/privacy}", "received_events_url": "https://api.github.com/users/sametmax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-04T16:03:01Z", "updated_at": "2015-01-04T17:00:54Z", "closed_at": "2015-01-04T17:00:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have this demo:\n\nhttp://0bin.net/paste/xgIgxIo4NCtE8eQc#uCoxEeBHoyiNtPWg1NC313ccmhklegpL7N8Wgi7NMVI\n\nWhen I run it, I get : \n\n```\nINFO:werkzeug: * Running on http://127.0.0.1:8000/\nINFO:twisted:Starting factory <autobahn.twisted.websocket.WampWebSocketClientFactory instance at 0x7f968917ab48>\nINFO:twisted:Stopping factory <autobahn.twisted.websocket.WampWebSocketClientFactory instance at 0x7f968917ab48>\nERROR:__main__:Exception on / [GET]\nTraceback (most recent call last):\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/flask/app.py\", line 1817, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/flask/app.py\", line 1477, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/flask/app.py\", line 1381, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/flask/app.py\", line 1475, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/flask/app.py\", line 1461, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"server.py\", line 49, in index\n    publish('com.example.on_visit', app._visits, msg = \"hello from flask\")\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/crochet/_eventloop.py\", line 461, in wrapper\n    return eventual_result.wait(timeout)\n  File \"/home/sam/.local/share/virtualenvs/test/local/lib/python2.7/site-packages/crochet/_eventloop.py\", line 231, in wait\n    result.raiseException()\n  File \"<string>\", line 2, in raiseException\nAttributeError: 'NoneType' object has no attribute 'publish'\n```\n\nBut publish is a function attached to nothing but the current module object, so I don't understand this error.\n\nTo run the code :\n\n```\npip install crossbar, flask, crochet\ncrossbar init\ncrossbar run\n```\n\nThen run in another terminal : \n\n```\npython server.py\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/71", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/71/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/71/events", "html_url": "https://github.com/itamarst/crochet/issues/71", "id": 50547272, "node_id": "MDU6SXNzdWU1MDU0NzI3Mg==", "number": 71, "title": "crochet.setup() interacts badly with fork()-without-exec()", "user": {"login": "bobbyrussell", "id": 2192392, "node_id": "MDQ6VXNlcjIxOTIzOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2192392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobbyrussell", "html_url": "https://github.com/bobbyrussell", "followers_url": "https://api.github.com/users/bobbyrussell/followers", "following_url": "https://api.github.com/users/bobbyrussell/following{/other_user}", "gists_url": "https://api.github.com/users/bobbyrussell/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobbyrussell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobbyrussell/subscriptions", "organizations_url": "https://api.github.com/users/bobbyrussell/orgs", "repos_url": "https://api.github.com/users/bobbyrussell/repos", "events_url": "https://api.github.com/users/bobbyrussell/events{/privacy}", "received_events_url": "https://api.github.com/users/bobbyrussell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-01T16:59:08Z", "updated_at": "2015-04-27T15:11:57Z", "closed_at": "2015-04-27T15:11:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "crochet.setup() appears not to set up the reactor in certain cases. Consider the following code:\n\n```\n# tasks.py\n...\nimport os\n# set up celery...\nfrom celery import group\nfrom twisted.internet import reactor, ProcessProtocol\nfrom crochet import setup, wait_for\nsetup()\n...\n\n@app.task('tasks.enqueue')\ndef enqueue(script_name, command):\n    try:\n        proc = ProcessProtocol()\n        proc.deferred.addCallBack(lamda x: x)\n        env = os.environ.copy()\n        prints \"About to run async process\"\n        run_async_process(proc, script_name, command, env)\n        return proc.exitcode\n    except Exception as e:\n        print e\n\n\n@wait_for(timeout=100.0)\ndef run_async_process(proc, script_name, command, env):\n    pid = reactor.spawnProcess(proc, script_name, command, env)\n    print \"Process Spawned with PID {}\".format(pid)\n    # return the deferred when computation ends\n    return proc.deferred\n\n@app.task(name='tasks.fails')\ndef fails(script_name, command):\n    group(enqueue.si(script_name, command))()\n\n# test.py\nfrom tasks import enqueue, fails\n\nprint \"Prints expected results\"\nenqueue('/usr/bin/echo', ['/usr/bin/echo', 'hello'])\n\nprint \"Prints nothing\"\nfails('/usr/bin/echo', ['/usr/bin/echo', 'hello'])\n```\n\nThe first task returns what is excepted. The second task hangs just after printing \"About to run async process,\" and the body of run_async_process() never executes. In the second case, enqueue() is wrapped by celery.group(). The issue was solved by writing the code like so:\n\n```\n# tasks.py\n...\nimport os\n# set up celery...\nfrom celery import group\nfrom twisted.internet import reactor, ProcessProtocol\nfrom crochet import setup, wait_for\n...\n\n@app.task('tasks.enqueue')\ndef enqueue(script_name, command):\n    setup()\n    try:\n        proc = ProcessProtocol()\n        proc.deferred.addCallBack(lamda x: x)\n        env  = os.environ.copy()\n        prints \"About to run async process\"\n        run_async_process(proc, script_name, command, env)\n        return proc.exitcode\n    except Exception as e:\n        print e\n```\n\nAfter discussing the issue with itamarst and implementing the fix, the issue is believed to be caused when forked Celery processes failing to start the reactor loop. By moving the setup() call into the parent of the function that calls the reactor API, and ONLY calling setup() there, the problem is circumvented.\n\nBe aware that this may have broader implications for code that forks processes and utilizes crochet.setup().\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/70", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/70/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/70/events", "html_url": "https://github.com/itamarst/crochet/issues/70", "id": 45216289, "node_id": "MDU6SXNzdWU0NTIxNjI4OQ==", "number": 70, "title": "Dynamic Twisted Thread Pool", "user": {"login": "leth", "id": 52370, "node_id": "MDQ6VXNlcjUyMzcw", "avatar_url": "https://avatars1.githubusercontent.com/u/52370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leth", "html_url": "https://github.com/leth", "followers_url": "https://api.github.com/users/leth/followers", "following_url": "https://api.github.com/users/leth/following{/other_user}", "gists_url": "https://api.github.com/users/leth/gists{/gist_id}", "starred_url": "https://api.github.com/users/leth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leth/subscriptions", "organizations_url": "https://api.github.com/users/leth/orgs", "repos_url": "https://api.github.com/users/leth/repos", "events_url": "https://api.github.com/users/leth/events{/privacy}", "received_events_url": "https://api.github.com/users/leth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-10-08T08:17:32Z", "updated_at": "2015-04-26T17:06:24Z", "closed_at": "2015-04-26T16:46:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you defer a number of things to thread each of which call EventualResult.wait() it is possible to fill the threadpool with blocked threads, causing hangs or timeouts.\n\nIt'd be great if EventualResult flagged the pool worker threads as blocked, allowing the pool to create new threads, and resolve the nested defer to threads.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/66", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/66/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/66/events", "html_url": "https://github.com/itamarst/crochet/issues/66", "id": 34714781, "node_id": "MDU6SXNzdWUzNDcxNDc4MQ==", "number": 66, "title": "Version generated by readthedocs includes \"-dirty\"", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-31T20:46:04Z", "updated_at": "2015-04-19T16:43:47Z", "closed_at": "2015-04-19T16:43:47Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This is correct, but annoying. Maybe Sphinx should post-process the version it uses.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/63", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/63/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/63/events", "html_url": "https://github.com/itamarst/crochet/issues/63", "id": 34712863, "node_id": "MDU6SXNzdWUzNDcxMjg2Mw==", "number": 63, "title": "Test with Twisted 14.0", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/2", "html_url": "https://github.com/itamarst/crochet/milestone/2", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/2/labels", "id": 666100, "node_id": "MDk6TWlsZXN0b25lNjY2MTAw", "number": 2, "title": "1.3.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2014-05-21T18:50:24Z", "updated_at": "2014-05-31T19:54:41Z", "due_on": null, "closed_at": "2014-05-31T19:54:41Z"}, "comments": 0, "created_at": "2014-05-31T19:01:16Z", "updated_at": "2014-05-31T19:54:16Z", "closed_at": "2014-05-31T19:54:16Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This should be possible with both Python 2 and 3.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/59", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/59/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/59/events", "html_url": "https://github.com/itamarst/crochet/issues/59", "id": 34011757, "node_id": "MDU6SXNzdWUzNDAxMTc1Nw==", "number": 59, "title": "Import lock exception thrown in multi threaded applications", "user": {"login": "struys", "id": 232692, "node_id": "MDQ6VXNlcjIzMjY5Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/232692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/struys", "html_url": "https://github.com/struys", "followers_url": "https://api.github.com/users/struys/followers", "following_url": "https://api.github.com/users/struys/following{/other_user}", "gists_url": "https://api.github.com/users/struys/gists{/gist_id}", "starred_url": "https://api.github.com/users/struys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/struys/subscriptions", "organizations_url": "https://api.github.com/users/struys/orgs", "repos_url": "https://api.github.com/users/struys/repos", "events_url": "https://api.github.com/users/struys/events{/privacy}", "received_events_url": "https://api.github.com/users/struys/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/2", "html_url": "https://github.com/itamarst/crochet/milestone/2", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/2/labels", "id": 666100, "node_id": "MDk6TWlsZXN0b25lNjY2MTAw", "number": 2, "title": "1.3.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2014-05-21T18:50:24Z", "updated_at": "2014-05-31T19:54:41Z", "due_on": null, "closed_at": "2014-05-31T19:54:41Z"}, "comments": 2, "created_at": "2014-05-21T18:41:59Z", "updated_at": "2014-05-30T00:20:17Z", "closed_at": "2014-05-30T00:20:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Discussion from #twisted irc\n\n11:36:26 AM struys: itamarst1: i'm running into the exception introduced with this change https://github.com/itamarst/crochet/issues/34\n11:36:46 AM struys: i have multiple threads running not just an application thread and a reactor thread\n11:37:23 AM struys: i think an import is happening in another thread causing the imp.lock_held() call to return True\n11:38:10 AM itamarst1: _facepalms_\n11:38:15 AM itamarst1: file a ticket \ufffc\n11:38:24 AM struys: that change was introduced to stop people from deadlocking at import time in the same thread\n11:38:33 AM itamarst1: yeah, that's a bug\n11:39:08 AM itamarst1: file an issue, I'll try to put out new release soon\n11:39:28 AM struys: cool\n11:39:34 AM itamarst1: (just as soon as I figure out a fix)\n11:39:36 AM struys: i'd like to help fixing it but i'm not sure what to do\n11:40:00 AM struys: i'll file the ticket and see where it goes\n11:40:03 AM itamarst1: either I remove this feature and just document \"don't do that\", or I'd need a way to figure a way to show _this_ thread is holding import lock\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/58", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/58/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/58/events", "html_url": "https://github.com/itamarst/crochet/issues/58", "id": 33751051, "node_id": "MDU6SXNzdWUzMzc1MTA1MQ==", "number": 58, "title": "Use versioneer for version management", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/2", "html_url": "https://github.com/itamarst/crochet/milestone/2", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/2/labels", "id": 666100, "node_id": "MDk6TWlsZXN0b25lNjY2MTAw", "number": 2, "title": "1.3.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2014-05-21T18:50:24Z", "updated_at": "2014-05-31T19:54:41Z", "due_on": null, "closed_at": "2014-05-31T19:54:41Z"}, "comments": 0, "created_at": "2014-05-18T12:45:55Z", "updated_at": "2014-05-31T19:22:37Z", "closed_at": "2014-05-31T19:22:37Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Less things to go wrong when doing releases.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/56", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/56/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/56/events", "html_url": "https://github.com/itamarst/crochet/issues/56", "id": 32834568, "node_id": "MDU6SXNzdWUzMjgzNDU2OA==", "number": 56, "title": "Document installation of Crochet", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/4", "html_url": "https://github.com/itamarst/crochet/milestone/4", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/4/labels", "id": 1704099, "node_id": "MDk6TWlsZXN0b25lMTcwNDA5OQ==", "number": 4, "title": "1.5.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-13T15:45:55Z", "updated_at": "2016-05-03T18:03:26Z", "due_on": null, "closed_at": "2016-05-03T18:03:26Z"}, "comments": 0, "created_at": "2014-05-05T18:56:04Z", "updated_at": "2016-04-13T19:54:18Z", "closed_at": "2016-04-13T19:54:18Z", "author_association": "OWNER", "active_lock_reason": null, "body": "`pip install crochet` basically, but ought to be said explicitly.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/55", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/55/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/55/events", "html_url": "https://github.com/itamarst/crochet/issues/55", "id": 31795247, "node_id": "MDU6SXNzdWUzMTc5NTI0Nw==", "number": 55, "title": "@wait_for couldn't be applied above @classmethod", "user": {"login": "vak", "id": 69862, "node_id": "MDQ6VXNlcjY5ODYy", "avatar_url": "https://avatars1.githubusercontent.com/u/69862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vak", "html_url": "https://github.com/vak", "followers_url": "https://api.github.com/users/vak/followers", "following_url": "https://api.github.com/users/vak/following{/other_user}", "gists_url": "https://api.github.com/users/vak/gists{/gist_id}", "starred_url": "https://api.github.com/users/vak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vak/subscriptions", "organizations_url": "https://api.github.com/users/vak/orgs", "repos_url": "https://api.github.com/users/vak/repos", "events_url": "https://api.github.com/users/vak/events{/privacy}", "received_events_url": "https://api.github.com/users/vak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-18T11:59:26Z", "updated_at": "2017-08-09T20:31:55Z", "closed_at": "2017-08-09T20:31:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "modified crochet's example to show the case:\n\n``` python\n#!/usr/bin/python\n\"\"\"\nDo a DNS lookup using Twisted's APIs.\n\"\"\"\nfrom __future__ import print_function\n\n# The Twisted code we'll be using:\nfrom twisted.names import client\n\nfrom crochet import setup, wait_for\nsetup()\n\n\n# Crochet layer, wrapping Twisted's DNS library in a blocking call.\nclass C(object):\n    @wait_for(timeout=5.0)\n    @classmethod\n    def gethostbyname(cls, name):\n        \"\"\"Lookup the IP of a given hostname.\n\n        Unlike socket.gethostbyname() which can take an arbitrary amount of time\n        to finish, this function will raise crochet.TimeoutError if more than 5\n        seconds elapse without an answer being received.\n        \"\"\"\n        d = client.lookupAddress(name)\n        d.addCallback(lambda result: result[0][0].payload.dottedQuad())\n        return d\n\n\nif __name__ == '__main__':\n    # Application code using the public API - notice it works in a normal\n    # blocking manner, with no event loop visible:\n    import sys\n    name = sys.argv[1]\n    ip = C().gethostbyname(name)\n    print(name, \"->\", ip)\n\n```\n\nError on run with python 2.7:\n\n```\nTraceback (most recent call last):\n  File \"/tmp/test.py\", line 15, in <module>\n    class C(object):\n  File \"/tmp/test.py\", line 17, in C\n    @classmethod\n  File \"/usr/local/lib/python2.7/dist-packages/crochet-1.2.0-py2.7.egg/crochet/_eventloop.py\", line 447, in decorator\n    @wraps(function)\n  File \"/usr/lib/python2.7/functools.py\", line 33, in update_wrapper\n    setattr(wrapper, attr, getattr(wrapped, attr))\nAttributeError: 'classmethod' object has no attribute '__module__'\n```\n\nError on run with pypy:\n\n```\nTraceback (most recent call last):\n  File \"app_main.py\", line 72, in run_toplevel\n  File \"/tmp/test.py\", line 15, in <module>\n    class C(object):\n  File \"/tmp/test.py\", line 17, in C\n    @classmethod\n  File \"/usr/local/lib/pypy2.7/dist-packages/crochet/_eventloop.py\", line 447, in decorator\n    @wraps(function)\n  File \"/usr/lib/pypy/lib_pypy/_functools.py\", line 22, in __call__\n    return self.func(*(self.args + fargs), **fkeywords)\n  File \"/usr/lib/pypy/lib-python/2.7/functools.py\", line 33, in update_wrapper\n    setattr(wrapper, attr, getattr(wrapped, attr))\nAttributeError: 'classmethod' object has no attribute '__module__'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/52", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/52/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/52/events", "html_url": "https://github.com/itamarst/crochet/issues/52", "id": 31454304, "node_id": "MDU6SXNzdWUzMTQ1NDMwNA==", "number": 52, "title": "Add DCO/Credits document", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-04-14T11:41:48Z", "updated_at": "2019-05-23T18:39:21Z", "closed_at": "2019-05-23T18:39:21Z", "author_association": "OWNER", "active_lock_reason": null, "body": "https://lwn.net/Articles/592503/\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/45", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/45/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/45/events", "html_url": "https://github.com/itamarst/crochet/issues/45", "id": 31009988, "node_id": "MDU6SXNzdWUzMTAwOTk4OA==", "number": 45, "title": "twisted initialization at import times breaks when used in daemons", "user": {"login": "dnephin", "id": 442180, "node_id": "MDQ6VXNlcjQ0MjE4MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/442180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnephin", "html_url": "https://github.com/dnephin", "followers_url": "https://api.github.com/users/dnephin/followers", "following_url": "https://api.github.com/users/dnephin/following{/other_user}", "gists_url": "https://api.github.com/users/dnephin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnephin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnephin/subscriptions", "organizations_url": "https://api.github.com/users/dnephin/orgs", "repos_url": "https://api.github.com/users/dnephin/repos", "events_url": "https://api.github.com/users/dnephin/events{/privacy}", "received_events_url": "https://api.github.com/users/dnephin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 7, "created_at": "2014-04-07T18:35:18Z", "updated_at": "2014-04-13T21:53:16Z", "closed_at": "2014-04-13T21:48:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nWe are trying out  `crochet` with a daemonized process. We ran into this issue:\n\n```\nTraceback (most recent call last):\n  File \"something.py\", line 33, in run\n    crochet.setup()\n  File \".../lib/python2.6/site-packages/crochet/_util.py\", line 15, in synced\n    return method(self, *args, **kwargs)\n  File \".../lib/python2.6/site-packages/crochet/_eventloop.py\", line 341, in setup\n    self._reactor.callFromThread(self._startReapingProcesses)\n  File \".../lib/python2.6/site-packages/twisted/internet/base.py\", line 929, in callFromThread\n    self.wakeUp()\n  File \".../lib/python2.6/site-packages/twisted/internet/base.py\", line 521, in wakeUp\n    self.waker.wakeUp()\n  File \".../lib/python2.6/site-packages/twisted/internet/posixbase.py\", line 181, in wakeUp\n    util.untilConcludes(os.write, self.o, b'x')\n  File \".../lib/python2.6/site-packages/twisted/python/_utilpy3.py\", line 97, in untilConcludes\n    return f(*a, **kw)\nOSError: [Errno 9] Bad file descriptor\n```\n\nI believe this is due to `crochet.__init__` importing `twisted.reactor` which causes it to initialize the reactor at this point. Import usually happens before a process will daemonize.  After the process daemonizes the fd is closed, which causes this issue.\n\nWe were able to work around it by importing `crochet` after daemonize, but this is maybe not ideal. A possible solution would be to allow `crochet` to be imported without having it initialize the twisted reactor.\n\nWe are using `twisted 12.3.0` and `crochet 1.0.0`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/42", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/42/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/42/events", "html_url": "https://github.com/itamarst/crochet/issues/42", "id": 30937749, "node_id": "MDU6SXNzdWUzMDkzNzc0OQ==", "number": 42, "title": "Automated pyflakes validation of the code", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/4", "html_url": "https://github.com/itamarst/crochet/milestone/4", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/4/labels", "id": 1704099, "node_id": "MDk6TWlsZXN0b25lMTcwNDA5OQ==", "number": 4, "title": "1.5.0", "description": "", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2016-04-13T15:45:55Z", "updated_at": "2016-05-03T18:03:26Z", "due_on": null, "closed_at": "2016-05-03T18:03:26Z"}, "comments": 1, "created_at": "2014-04-06T13:42:49Z", "updated_at": "2016-04-13T17:26:49Z", "closed_at": "2016-04-13T17:26:49Z", "author_association": "OWNER", "active_lock_reason": null, "body": "pyflakes should be part of the Travis-CI checks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/41", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/41/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/41/events", "html_url": "https://github.com/itamarst/crochet/issues/41", "id": 30675644, "node_id": "MDU6SXNzdWUzMDY3NTY0NA==", "number": 41, "title": "Improve intro explanation of why Crochet is useful", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 2, "created_at": "2014-04-02T10:20:52Z", "updated_at": "2014-04-14T11:15:15Z", "closed_at": "2014-04-14T11:15:15Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Async non-blocking events, high-level timeouts, etc..\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/39", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/39/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/39/events", "html_url": "https://github.com/itamarst/crochet/issues/39", "id": 30560560, "node_id": "MDU6SXNzdWUzMDU2MDU2MA==", "number": 39, "title": "Make it easier to unit test functions wrapped with `wait_for` or `run_in_reactor`", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 0, "created_at": "2014-03-31T23:55:06Z", "updated_at": "2014-04-14T12:02:58Z", "closed_at": "2014-04-14T12:02:58Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Exposing the wrapped function (and timeout) in `wait_for` and `run_in_reactor` as an attribute is probably the easiest way to start, along with some docs.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/37", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/37/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/37/events", "html_url": "https://github.com/itamarst/crochet/issues/37", "id": 30469524, "node_id": "MDU6SXNzdWUzMDQ2OTUyNA==", "number": 37, "title": "Warnings are captured by the Twisted logging system", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 0, "created_at": "2014-03-30T17:15:09Z", "updated_at": "2014-03-30T19:36:52Z", "closed_at": "2014-03-30T19:36:52Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Crochet really shouldn't be messing with warnings.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/36", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/36/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/36/events", "html_url": "https://github.com/itamarst/crochet/issues/36", "id": 30392243, "node_id": "MDU6SXNzdWUzMDM5MjI0Mw==", "number": 36, "title": "Decorator providing timeouts", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 0, "created_at": "2014-03-28T14:41:20Z", "updated_at": "2014-04-02T10:19:13Z", "closed_at": "2014-04-02T10:19:13Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The idiom described in the documentation for timing out and then cancelling the operation could be easily implemented as a decorator.\n\nFurther, this should be the default idiom, rather than `wait_for_reactor`, which should be de-emphasized or possibly even deprecated.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/34", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/34/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/34/events", "html_url": "https://github.com/itamarst/crochet/issues/34", "id": 30365395, "node_id": "MDU6SXNzdWUzMDM2NTM5NQ==", "number": 34, "title": "Import lock bug", "user": {"login": "tomprince", "id": 283816, "node_id": "MDQ6VXNlcjI4MzgxNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/283816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomprince", "html_url": "https://github.com/tomprince", "followers_url": "https://api.github.com/users/tomprince/followers", "following_url": "https://api.github.com/users/tomprince/following{/other_user}", "gists_url": "https://api.github.com/users/tomprince/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomprince/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomprince/subscriptions", "organizations_url": "https://api.github.com/users/tomprince/orgs", "repos_url": "https://api.github.com/users/tomprince/repos", "events_url": "https://api.github.com/users/tomprince/events{/privacy}", "received_events_url": "https://api.github.com/users/tomprince/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 5, "created_at": "2014-03-28T06:15:42Z", "updated_at": "2014-05-21T18:41:59Z", "closed_at": "2014-04-06T21:23:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given `sample.py`:\n\n``` python\nfrom crochet import setup, wait_for_reactor\nsetup()\n\nfrom twisted.names.client import lookupAddress\n\nanswers, _, _ = wait_for_reactor(lookupAddress)('google.com')\n\nprint [\n    record.payload.dottedQuad()\n    for record in answers\n    ]\n```\n\nRunning `python sample.py` finished instantly, but `python -c 'import sample` fails.\n\nI suspect this might have something to do with the import lock.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/33", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/33/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/33/events", "html_url": "https://github.com/itamarst/crochet/issues/33", "id": 29501916, "node_id": "MDU6SXNzdWUyOTUwMTkxNg==", "number": 33, "title": "Add contact info and history to documentation", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 1, "created_at": "2014-03-15T21:30:12Z", "updated_at": "2014-04-14T11:15:16Z", "closed_at": "2014-04-14T11:15:16Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/32", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/32/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/32/events", "html_url": "https://github.com/itamarst/crochet/issues/32", "id": 29261440, "node_id": "MDU6SXNzdWUyOTI2MTQ0MA==", "number": 32, "title": "Twisted-integration example in documentation should be less contrieved", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/itamarst/crochet/milestones/1", "html_url": "https://github.com/itamarst/crochet/milestone/1", "labels_url": "https://api.github.com/repos/itamarst/crochet/milestones/1/labels", "id": 614059, "node_id": "MDk6TWlsZXN0b25lNjE0MDU5", "number": 1, "title": "v1.2.0", "description": "Features for next release.", "creator": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2014-03-29T18:02:36Z", "updated_at": "2014-05-21T18:49:44Z", "due_on": null, "closed_at": "2014-05-21T18:49:44Z"}, "comments": 1, "created_at": "2014-03-12T13:16:39Z", "updated_at": "2014-04-13T21:46:52Z", "closed_at": "2014-04-13T21:46:52Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Exposing `getPage` in a blocking manner and then calling it from a thread in Twisted is silly.  Use a better example.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/28", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/28/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/28/events", "html_url": "https://github.com/itamarst/crochet/issues/28", "id": 28710647, "node_id": "MDU6SXNzdWUyODcxMDY0Nw==", "number": 28, "title": "Race condition in EventualResult._result", "user": {"login": "allenap", "id": 348564, "node_id": "MDQ6VXNlcjM0ODU2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/348564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allenap", "html_url": "https://github.com/allenap", "followers_url": "https://api.github.com/users/allenap/followers", "following_url": "https://api.github.com/users/allenap/following{/other_user}", "gists_url": "https://api.github.com/users/allenap/gists{/gist_id}", "starred_url": "https://api.github.com/users/allenap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allenap/subscriptions", "organizations_url": "https://api.github.com/users/allenap/orgs", "repos_url": "https://api.github.com/users/allenap/repos", "events_url": "https://api.github.com/users/allenap/events{/privacy}", "received_events_url": "https://api.github.com/users/allenap/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-03-04T14:49:27Z", "updated_at": "2014-03-12T22:14:24Z", "closed_at": "2014-03-09T17:40:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\nfrom threading import (\n    active_count,\n    Condition,\n    Thread,\n    )\n\nfrom crochet import EventualResult\n\n\n# Prepare an already-fired EventualResult.\nresult = EventualResult(None)\nresult._set_result('foo')\n\n# This is used to synchronise the start.\nstart = Condition()\n\n\ndef get_result():\n    # This is so that the test in the loop below isn't false the first\n    # time round; it's not necessary to demonstrating the race.\n    with start:\n        start.wait()\n    # Keep going until there's only this thread and the main thread\n    # remaining; after that there's no chance of a race.\n    while active_count() > 2:\n        # There's a brief window in _result when the result queue is\n        # empty, causing this to raise TimeoutError even though there is\n        # a result.\n        result._result(0.0)\n\n\n# Create X threads, where X >= 2.\nfor _ in range(5):\n    Thread(target=get_result).start()\n\n# Set them off. You should see (X - 1) of the threads exiting with a\n# TimeoutError, illustrating a race in EventualResult._result.\nwith start:\n    start.notify_all()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/25", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/25/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/25/events", "html_url": "https://github.com/itamarst/crochet/issues/25", "id": 27409835, "node_id": "MDU6SXNzdWUyNzQwOTgzNQ==", "number": 25, "title": "Deadlock due to __del__() and ThreadLogObserver queue", "user": {"login": "rmorehead", "id": 5582516, "node_id": "MDQ6VXNlcjU1ODI1MTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5582516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmorehead", "html_url": "https://github.com/rmorehead", "followers_url": "https://api.github.com/users/rmorehead/followers", "following_url": "https://api.github.com/users/rmorehead/following{/other_user}", "gists_url": "https://api.github.com/users/rmorehead/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmorehead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmorehead/subscriptions", "organizations_url": "https://api.github.com/users/rmorehead/orgs", "repos_url": "https://api.github.com/users/rmorehead/repos", "events_url": "https://api.github.com/users/rmorehead/events{/privacy}", "received_events_url": "https://api.github.com/users/rmorehead/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-02-12T04:48:45Z", "updated_at": "2014-03-05T02:26:14Z", "closed_at": "2014-03-05T02:26:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Crochet deadlock can happen when overridden `__del__()` method logs while current thread already holds the ThreadLogObserver queue lock.\n\nAnalysis: `__del__()` methods can be called from thread at any time due to garbage collection timing. If the del method attempts to acquire a non-recursive lock that the current thread already has locked, deadlock will occur. In Twisted classes like Deferred override `__del__()` and can log from the `__del__()` method.\n\nKey part of Backtrace is as follows:\n\n```\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/twisted/python/threadable.py', line 53, in sync\n  return function(self, *args, **kwargs)\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/twisted/python/log.py', line 191, in msg\n  self.observers[i](actualEventDict)\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/crochet/_eventloop.py', line 288, in __call__\n  self._queue.put(msg)\nFile: '/usr/lib/python2.7/Queue.py', line 138, in put\n  self.not_empty.notify()\nFile: '/usr/lib/python2.7/threading.py', line 392, in notify\n  for waiter in waiters:\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/twisted/internet/defer.py', line 683, in __del__\n  log.msg(\"Unhandled error in Deferred:\", isError=True)\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/twisted/python/threadable.py', line 53, in sync\n  return function(self, *args, **kwargs)\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/twisted/python/log.py', line 191, in msg\n  self.observers[i](actualEventDict)\nFile: '/home/rmore/work/rmorehea-rcdn-testtng/virtualenv/local/lib/python2.7/site-packages/crochet/_eventloop.py', line 288, in __call__\n  self._queue.put(msg)\nFile: '/usr/lib/python2.7/Queue.py', line 118, in put\n  self.not_full.acquire()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/23", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/23/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/23/events", "html_url": "https://github.com/itamarst/crochet/issues/23", "id": 25559895, "node_id": "MDU6SXNzdWUyNTU1OTg5NQ==", "number": 23, "title": "control-c tests failure on windows", "user": {"login": "kouk", "id": 456007, "node_id": "MDQ6VXNlcjQ1NjAwNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/456007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kouk", "html_url": "https://github.com/kouk", "followers_url": "https://api.github.com/users/kouk/followers", "following_url": "https://api.github.com/users/kouk/following{/other_user}", "gists_url": "https://api.github.com/users/kouk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kouk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kouk/subscriptions", "organizations_url": "https://api.github.com/users/kouk/orgs", "repos_url": "https://api.github.com/users/kouk/repos", "events_url": "https://api.github.com/users/kouk/events{/privacy}", "received_events_url": "https://api.github.com/users/kouk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-14T08:44:22Z", "updated_at": "2014-03-05T02:29:59Z", "closed_at": "2014-03-05T02:29:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The two test_control_c_is_possible tests fail on Windows 8 with Python 2.7:\n\n```\n...\n===============================================================================\n[FAIL]\nTraceback (most recent call last):\n  File \"C:\\Users\\Konstantinos\\Documents\\GitHub\\crochet\\crochet\\tests\\test_api.py\", line 330, in test_control_c_is_possible\n    self.assertEqual(process.wait(), 23)\n  File \"C:\\Users\\Konstantinos\\PyEnv\\pyinstall\\lib\\site-packages\\twisted\\trial\\_synctest.py\", line 356, in assertEqual\n    % (msg, pformat(first), pformat(second)))\ntwisted.trial.unittest.FailTest: not equal:\na = 2\nb = 23\n\ncrochet.tests.test_api.EventualResultTests.test_control_c_is_possible\n===============================================================================\n[FAIL]\nTraceback (most recent call last):\n  File \"C:\\Users\\Konstantinos\\Documents\\GitHub\\crochet\\crochet\\tests\\test_api.py\", line 753, in test_control_c_is_possible\n    self.assertEqual(process.wait(), 23)\n  File \"C:\\Users\\Konstantinos\\PyEnv\\pyinstall\\lib\\site-packages\\twisted\\trial\\_synctest.py\", line 356, in assertEqual\n    % (msg, pformat(first), pformat(second)))\ntwisted.trial.unittest.FailTest: not equal:\na = 2\nb = 23\n\n\ncrochet.tests.test_api.WaitForReactorTests.test_control_c_is_possible\n-------------------------------------------------------------------------------\nRan 81 tests in 11.607s\n\nFAILED (skips=3, failures=2, successes=76)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/21", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/21/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/21/events", "html_url": "https://github.com/itamarst/crochet/issues/21", "id": 25385000, "node_id": "MDU6SXNzdWUyNTM4NTAwMA==", "number": 21, "title": "don't import twisted.internet.process on non-POSIX platforms", "user": {"login": "kouk", "id": 456007, "node_id": "MDQ6VXNlcjQ1NjAwNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/456007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kouk", "html_url": "https://github.com/kouk", "followers_url": "https://api.github.com/users/kouk/followers", "following_url": "https://api.github.com/users/kouk/following{/other_user}", "gists_url": "https://api.github.com/users/kouk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kouk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kouk/subscriptions", "organizations_url": "https://api.github.com/users/kouk/orgs", "repos_url": "https://api.github.com/users/kouk/repos", "events_url": "https://api.github.com/users/kouk/events{/privacy}", "received_events_url": "https://api.github.com/users/kouk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-01-10T09:58:11Z", "updated_at": "2014-01-14T00:17:29Z", "closed_at": "2014-01-14T00:17:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As long as [this issue](https://twistedmatrix.com/trac/ticket/6894) is still present in Twisted, Crochet should not import the `twisted.internet.process` module on non-POSIX platforms (like Windows) as it leads to the following error on import:\n\n```\n...\n  File \"c:\\users\\konstantinos\\documents\\github\\twisted\\twisted\\internet\\process.py\", line 103, in <module>\n    detectLinuxBrokenPipeBehavior()\n  File \"c:\\users\\konstantinos\\documents\\github\\twisted\\twisted\\internet\\process.py\", line 93, in detectLinuxBrokenPipeBehavior\n    reads, writes, exes = select.select([w], [], [], 0)\nselect.error: (10038, 'An operation was attempted on something that is not a socket')\n```\n\nThis problem [was introduced in this commit](https://github.com/itamarst/crochet/commit/780d33146fe5351bce15ac4e738d423dbe274869) as far as I can tell\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/19", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/19/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/19/events", "html_url": "https://github.com/itamarst/crochet/issues/19", "id": 20864121, "node_id": "MDU6SXNzdWUyMDg2NDEyMQ==", "number": 19, "title": "Side-effects on import of Crochet", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-10-11T11:46:43Z", "updated_at": "2013-10-19T14:34:14Z", "closed_at": "2013-10-19T14:34:14Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Importing Crochet creates a `ResultRegistry`, which adds a reactor shutdown event. This should really be done in `setup()` or `no_setup()`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/18", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/18/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/18/events", "html_url": "https://github.com/itamarst/crochet/issues/18", "id": 20799036, "node_id": "MDU6SXNzdWUyMDc5OTAzNg==", "number": 18, "title": "Cannot pip install Crochet if Twisted is not already installed", "user": {"login": "ch3pjw", "id": 3721740, "node_id": "MDQ6VXNlcjM3MjE3NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/3721740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ch3pjw", "html_url": "https://github.com/ch3pjw", "followers_url": "https://api.github.com/users/ch3pjw/followers", "following_url": "https://api.github.com/users/ch3pjw/following{/other_user}", "gists_url": "https://api.github.com/users/ch3pjw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ch3pjw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ch3pjw/subscriptions", "organizations_url": "https://api.github.com/users/ch3pjw/orgs", "repos_url": "https://api.github.com/users/ch3pjw/repos", "events_url": "https://api.github.com/users/ch3pjw/events{/privacy}", "received_events_url": "https://api.github.com/users/ch3pjw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-10-10T10:39:22Z", "updated_at": "2013-10-19T14:03:15Z", "closed_at": "2013-10-19T14:03:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Crochet lists `Twisted>=11.1` in its setup.py, but importing crochet in that file means that Twisted is already required for pip to use setup.py in the first place. `pip install crochet` gives me the following traceback:\n\n```\nDownloading/unpacking crochet\n  Downloading crochet-0.9.0.tar.gz\n  Running setup.py egg_info for package crochet\n    Traceback (most recent call last):\n      File \"<string>\", line 16, in <module>\n      File \"/home/pauweave/.virtualenvs/temp/build/crochet/setup.py\", line 14, in <module>\n        import crochet\n      File \"/home/pauweave/.virtualenvs/temp/build/crochet/crochet/__init__.py\", line 9, in <module>\n        from twisted.internet import reactor\n    ImportError: No module named twisted.internet\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n\n  File \"<string>\", line 16, in <module>\n\n  File \"/home/pauweave/.virtualenvs/temp/build/crochet/setup.py\", line 14, in <module>\n\n    import crochet\n\n  File \"/home/pauweave/.virtualenvs/temp/build/crochet/crochet/__init__.py\", line 9, in <module>\n\n    from twisted.internet import reactor\n\nImportError: No module named twisted.internet\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/17", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/17/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/17/events", "html_url": "https://github.com/itamarst/crochet/issues/17", "id": 20760864, "node_id": "MDU6SXNzdWUyMDc2MDg2NA==", "number": 17, "title": "Registry stop trigger is after threadpool shutdown, resulting in shutdown hang", "user": {"login": "rmorehead", "id": 5582516, "node_id": "MDQ6VXNlcjU1ODI1MTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5582516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmorehead", "html_url": "https://github.com/rmorehead", "followers_url": "https://api.github.com/users/rmorehead/followers", "following_url": "https://api.github.com/users/rmorehead/following{/other_user}", "gists_url": "https://api.github.com/users/rmorehead/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmorehead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmorehead/subscriptions", "organizations_url": "https://api.github.com/users/rmorehead/orgs", "repos_url": "https://api.github.com/users/rmorehead/repos", "events_url": "https://api.github.com/users/rmorehead/events{/privacy}", "received_events_url": "https://api.github.com/users/rmorehead/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-10-09T18:26:43Z", "updated_at": "2014-05-31T19:45:47Z", "closed_at": "2013-10-19T14:56:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Registry stop trigger is after threadpool shutdown, resulting in shutdown hang if an \"in flight\" _reader method is pending when main thread exits and exit hooks fire.\n\nHere is a summary of what I see:\n\nThread 1: exithook, trying to shutdown TNG\nThread 2: waiting on crochet _reader\nThread 4: waiting on crochet _reader\nThread 3: TNG shutdown (twisted thread) - waiting on threadpool.stop(),  waiting on join of threadpool members\n\nIn may case I have a subprocess in defunct state (at least one of the crochet _reader blocked threads is hung waiting on the output of this) and with the twisted thread blocked by the threadpool join it can never finish.\n\nMore data points:\n- In twisted.internet.base.py line 959, it registers a threadPool stop _during_ shutdown which joins all the known threadpool threads.\n- The crochet hook shutdown is _after_ shutdown.\n- Therefore the threadPool stop hangs waiting on crochet to deliver a result which doesn't seem to be coming soon.\n\nIn this case I think it is it waiting on a sub-process which is currently in a defunct state and the signal has not been delivered (and won't be since the twisted thread is hung waiting on the threadpool shutdown to happen).\n\nSo the primary issue I see is that Threadpool shutdown in the _during_ phase seems kind of risky with the crochet stop/unblock running in the _after_ phase. Seems like regardless we want the crochet unblock to happen prior to the attempted threadpool shutdown (or there will be deadlocks).\n\nThis arrangement fixes the issue for me:\n\n```\nreactor.addSystemEventTrigger('during', 'shutdown', crochet._main._registry.stop)\nif reactor.threadpoolShutdownID:\n    # If the threadpool shutdown trigger was already registered, we\n    # need to move this to end of during triggers by removing and\n    # re-adding since triggers run FIFO order.\n    # If it is not at the end, it may hang waiting crochet blocked\n    # threads.\n    reactor.removeSystemEventTrigger(reactor.threadpoolShutdownID)\n    reactor.threadpoolShutdownID = None\n    reactor.threadpoolShutdownID = reactor.addSystemEventTrigger(\n      'during',\n      'shutdown',\n      reactor._stopThreadPool)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/16", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/16/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/16/events", "html_url": "https://github.com/itamarst/crochet/issues/16", "id": 20698491, "node_id": "MDU6SXNzdWUyMDY5ODQ5MQ==", "number": 16, "title": "Document tradeoffs Crochet vs. WSGI container", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-10-08T18:46:57Z", "updated_at": "2013-10-19T15:30:54Z", "closed_at": "2013-10-19T15:30:54Z", "author_association": "OWNER", "active_lock_reason": null, "body": "And maybe don't just talk about web frameworks?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/15", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/15/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/15/events", "html_url": "https://github.com/itamarst/crochet/issues/15", "id": 20623914, "node_id": "MDU6SXNzdWUyMDYyMzkxNA==", "number": 15, "title": "Document EventualResult.original_failure", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-10-07T16:49:45Z", "updated_at": "2014-01-11T21:37:12Z", "closed_at": "2014-01-11T21:37:12Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/14", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/14/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/14/events", "html_url": "https://github.com/itamarst/crochet/issues/14", "id": 20605023, "node_id": "MDU6SXNzdWUyMDYwNTAyMw==", "number": 14, "title": "run_in_reactor has incorrect docstring", "user": {"login": "wuurrd", "id": 392473, "node_id": "MDQ6VXNlcjM5MjQ3Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/392473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wuurrd", "html_url": "https://github.com/wuurrd", "followers_url": "https://api.github.com/users/wuurrd/followers", "following_url": "https://api.github.com/users/wuurrd/following{/other_user}", "gists_url": "https://api.github.com/users/wuurrd/gists{/gist_id}", "starred_url": "https://api.github.com/users/wuurrd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wuurrd/subscriptions", "organizations_url": "https://api.github.com/users/wuurrd/orgs", "repos_url": "https://api.github.com/users/wuurrd/repos", "events_url": "https://api.github.com/users/wuurrd/events{/privacy}", "received_events_url": "https://api.github.com/users/wuurrd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-10-07T11:08:00Z", "updated_at": "2013-10-07T11:12:16Z", "closed_at": "2013-10-07T11:12:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like it was copy-pasted from the method below.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/13", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/13/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/13/events", "html_url": "https://github.com/itamarst/crochet/issues/13", "id": 20530770, "node_id": "MDU6SXNzdWUyMDUzMDc3MA==", "number": 13, "title": "EventualResult.wait() Possible Issue", "user": {"login": "wuurrd", "id": 392473, "node_id": "MDQ6VXNlcjM5MjQ3Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/392473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wuurrd", "html_url": "https://github.com/wuurrd", "followers_url": "https://api.github.com/users/wuurrd/followers", "following_url": "https://api.github.com/users/wuurrd/following{/other_user}", "gists_url": "https://api.github.com/users/wuurrd/gists{/gist_id}", "starred_url": "https://api.github.com/users/wuurrd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wuurrd/subscriptions", "organizations_url": "https://api.github.com/users/wuurrd/orgs", "repos_url": "https://api.github.com/users/wuurrd/repos", "events_url": "https://api.github.com/users/wuurrd/events{/privacy}", "received_events_url": "https://api.github.com/users/wuurrd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-10-04T15:01:34Z", "updated_at": "2013-10-19T14:57:36Z", "closed_at": "2013-10-19T14:57:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "EventualResult.wait() does not respect C-c if wait is called in the mainthread.\n\nUnsure as to the real reason for this, but the assumption is that on some platform Queue.get(VERYLONGTIMEOUT) performs that wait in C, rather than in a while loop in python.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/12", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/12/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/12/events", "html_url": "https://github.com/itamarst/crochet/issues/12", "id": 20310650, "node_id": "MDU6SXNzdWUyMDMxMDY1MA==", "number": 12, "title": "Non-main thread blocked by Crochet call is never unblocked after reactor shutdown.", "user": {"login": "rmorehead", "id": 5582516, "node_id": "MDQ6VXNlcjU1ODI1MTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5582516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmorehead", "html_url": "https://github.com/rmorehead", "followers_url": "https://api.github.com/users/rmorehead/followers", "following_url": "https://api.github.com/users/rmorehead/following{/other_user}", "gists_url": "https://api.github.com/users/rmorehead/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmorehead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmorehead/subscriptions", "organizations_url": "https://api.github.com/users/rmorehead/orgs", "repos_url": "https://api.github.com/users/rmorehead/repos", "events_url": "https://api.github.com/users/rmorehead/events{/privacy}", "received_events_url": "https://api.github.com/users/rmorehead/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-10-01T05:18:37Z", "updated_at": "2013-10-07T18:14:30Z", "closed_at": "2013-10-07T18:14:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I have a blocking call into Crochet from a non-main thread and the twisted reactor shuts down, that call never exits.\n\nThis is also a problem in that control-c only unblocks queue.get() on the main thread, so control-c won't unblock other blocked threads.\n\nIn my case I worked around by overriding the queue.get method and monkey patching things in:\n\n``` python\nimport crochet._eventloop\nfrom crochet._eventloop import EventualResult\ntry:\n    from queue import Empty\nexcept ImportError:\n    from Queue import Empty\n\n\n\nclass EventualResultAutoUnblock(EventualResult):\n    def __init__(self, *args, **kwargs):\n        super(EventualResultAutoUnblock, self).__init__(*args, **kwargs)\n        orig_get = self._queue.get\n        def queue_get_reactor_aware(block=True, timeout=None):\n            if not block:\n                return self._queue.get(block=block, timeout=timeout)\n            start_time = time.time()\n            while self._reactor.running:\n                if time.time() >= (start_time + timeout):\n                    raise TimeoutError()\n                try:\n                    # checking once per second for reactor shutdown\n                    # should be good enough\n                    return orig_get(timeout=1)\n                except Empty:\n                    pass\n            msg = 'Twisted reactor shutdown from under blocked thread'\n            log.debug(msg)\n            raise GeneratorExit(msg)\n        # monkey patch\n        self._queue.get = queue_get_reactor_aware\n\ncrochet._eventloop.EventualResult = EventualResultAutoUnblock\n\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/11", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/11/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/11/events", "html_url": "https://github.com/itamarst/crochet/issues/11", "id": 19875741, "node_id": "MDU6SXNzdWUxOTg3NTc0MQ==", "number": 11, "title": "Add examples to documentation, get rid of duplicate copies of examples", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-09-22T17:12:48Z", "updated_at": "2013-09-29T21:32:02Z", "closed_at": "2013-09-29T21:32:02Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Sphinx gives ability to link to external examples, so we should take advantage of that.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/9", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/9/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/9/events", "html_url": "https://github.com/itamarst/crochet/issues/9", "id": 18674079, "node_id": "MDU6SXNzdWUxODY3NDA3OQ==", "number": 9, "title": "Give names to all started threads", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-28T14:47:40Z", "updated_at": "2014-01-11T21:44:53Z", "closed_at": "2014-01-11T21:44:53Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/7", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/7/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/7/events", "html_url": "https://github.com/itamarst/crochet/issues/7", "id": 18674015, "node_id": "MDU6SXNzdWUxODY3NDAxNQ==", "number": 7, "title": "Improve documentation based on discussion with people at Cisco", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-28T14:46:45Z", "updated_at": "2013-10-03T17:51:33Z", "closed_at": "2013-10-03T17:51:33Z", "author_association": "OWNER", "active_lock_reason": null, "body": "1. Document how to change logging level.\n2. Example using timeouts and cancel to build a facade API that hides details.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/3", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/3/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/3/events", "html_url": "https://github.com/itamarst/crochet/issues/3", "id": 16695968, "node_id": "MDU6SXNzdWUxNjY5NTk2OA==", "number": 3, "title": "Support for multiple processes sharing single Twisted instance", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301594, "node_id": "MDU6TGFiZWwzMjMwMTU5NA==", "url": "https://api.github.com/repos/itamarst/crochet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-07-12T18:40:40Z", "updated_at": "2019-05-23T18:39:06Z", "closed_at": "2019-05-23T18:39:06Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Many web apps use forking WSGI containers, which means normal Crochet operation starts one reactor for each. This makes it hard to e.g. have shared server that listens to incoming requests or some such, since you can't have all processes listening on same port. It would be nice if Crochet had a mode where it started a single Twisted reactor and it was shared between all these processes.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/2", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/2/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/2/events", "html_url": "https://github.com/itamarst/crochet/issues/2", "id": 14193766, "node_id": "MDU6SXNzdWUxNDE5Mzc2Ng==", "number": 2, "title": "Don't drop errors on the floor if user never gets it out of wait()", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-10T14:39:58Z", "updated_at": "2013-05-21T14:31:35Z", "closed_at": "2013-05-21T14:31:35Z", "author_association": "OWNER", "active_lock_reason": null, "body": "If you have a DeferredResult with an error, and wait() is never called, the error is never logged or seen anywhere. This can make debugging difficult. Another case is where wait() was called, but there wasn't a result yet, and then wait() is never called again.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/itamarst/crochet/issues/1", "repository_url": "https://api.github.com/repos/itamarst/crochet", "labels_url": "https://api.github.com/repos/itamarst/crochet/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/itamarst/crochet/issues/1/comments", "events_url": "https://api.github.com/repos/itamarst/crochet/issues/1/events", "html_url": "https://github.com/itamarst/crochet/issues/1", "id": 12974422, "node_id": "MDU6SXNzdWUxMjk3NDQyMg==", "number": 1, "title": "Clean up after dead processes, since reactor is run without SIGCHLD handler", "user": {"login": "itamarst", "id": 3266662, "node_id": "MDQ6VXNlcjMyNjY2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3266662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itamarst", "html_url": "https://github.com/itamarst", "followers_url": "https://api.github.com/users/itamarst/followers", "following_url": "https://api.github.com/users/itamarst/following{/other_user}", "gists_url": "https://api.github.com/users/itamarst/gists{/gist_id}", "starred_url": "https://api.github.com/users/itamarst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itamarst/subscriptions", "organizations_url": "https://api.github.com/users/itamarst/orgs", "repos_url": "https://api.github.com/users/itamarst/repos", "events_url": "https://api.github.com/users/itamarst/events{/privacy}", "received_events_url": "https://api.github.com/users/itamarst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 32301592, "node_id": "MDU6TGFiZWwzMjMwMTU5Mg==", "url": "https://api.github.com/repos/itamarst/crochet/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-04-09T14:43:17Z", "updated_at": "2013-09-16T20:20:33Z", "closed_at": "2013-09-16T20:20:33Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Since crochet runs the reactor in a thread, it does not install signal handlers, which means there is no SIGCHLD handler. Probably this can be solved by a LoopingCall that calls `reapAllProcesses`.\n", "performed_via_github_app": null, "score": 1.0}]}