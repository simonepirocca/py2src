{"total_count": 675, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/mher/flower/issues/1019", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1019/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1019/events", "html_url": "https://github.com/mher/flower/issues/1019", "id": 680456979, "node_id": "MDU6SXNzdWU2ODA0NTY5Nzk=", "number": 1019, "title": "Flower get permission denied when add \"--persistent=True\"", "user": {"login": "RodrigoBCC", "id": 8839299, "node_id": "MDQ6VXNlcjg4MzkyOTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/8839299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RodrigoBCC", "html_url": "https://github.com/RodrigoBCC", "followers_url": "https://api.github.com/users/RodrigoBCC/followers", "following_url": "https://api.github.com/users/RodrigoBCC/following{/other_user}", "gists_url": "https://api.github.com/users/RodrigoBCC/gists{/gist_id}", "starred_url": "https://api.github.com/users/RodrigoBCC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RodrigoBCC/subscriptions", "organizations_url": "https://api.github.com/users/RodrigoBCC/orgs", "repos_url": "https://api.github.com/users/RodrigoBCC/repos", "events_url": "https://api.github.com/users/RodrigoBCC/events{/privacy}", "received_events_url": "https://api.github.com/users/RodrigoBCC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-17T18:57:07Z", "updated_at": "2020-08-20T16:54:26Z", "closed_at": "2020-08-20T16:54:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI have a docker-compose with django app, 2 workers(under django) and Flower. Flower is ok, but when restart my containers losing data task from flower... I search here for answer and found this flag: \"--persistent=True\", but when i run i get permission denied. Can anyone help me?\r\n\r\ndocker-compose:\r\n\r\n```\r\n  celery1:\r\n    image: xxxx\r\n    container_name: worker-aws\r\n    command: bash -c \" ./wait_db_docker.sh && celery -A litoteca worker -l info -Q aws_queue\"\r\n    environment:\r\n      - TRY_LOOP=50\r\n      - NAME=database\r\n      - DB_HOST=database\r\n      - DB_PORT=5432\r\n      - REDIS_HOST=redis\r\n    depends_on:\r\n      - rocklab\r\n    volumes:\r\n      - ../:/usr/src/app\r\n    links:\r\n      - database\r\n      - redis\r\n\r\nflower:\r\n    restart: always\r\n    image: mher/flower\r\n    container_name: flower\r\n    command: [\"flower\", \"--broker=redis://:seismic@redis:6379/0\", \"--basic_auth=petrec:seismic\", \"--port=5555\", \"--persistent=True\", \"--db=/data/flower\"] \r\n    # environment:\r\n    #   - CELERY_BROKER_URL=redis://redis:6379/0\r\n    #   - FLOWER_PORT=5555\r\n    # working_dir: /usr/src/app\r\n    expose:\r\n      - \"5555\"\r\n    volumes:\r\n      - ../flower_data:/data\r\n      # - ../:/usr/src/app\r\n    links:\r\n      - redis\r\n```\r\n\r\nthe only way I managed to run it was by placing the flower with the same image as the celery:\r\n\r\n```\r\nflower:  \r\n    image :xxx\r\n    command: bash -c \"celery flower -A litoteca --broker=redis://:seismic@redis:6379/0 --port=5555 --persistent=True --db=flower\"\r\n    container_name: flower\r\n    environment:\r\n      - DB_HOST=database\r\n      - REDIS_HOST=redis\r\n    volumes:\r\n      - ../flower:/usr/src/app/flower\r\n    expose:\r\n      - \"5555\"\r\n    links:\r\n      - redis\r\n      - databas\r\n```\r\n\r\nHowever, i dont want map my app code to flower...\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1017", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1017/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1017/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1017/events", "html_url": "https://github.com/mher/flower/issues/1017", "id": 674245008, "node_id": "MDU6SXNzdWU2NzQyNDUwMDg=", "number": 1017, "title": "Flower-task-always-in-queue", "user": {"login": "tianhuat", "id": 12793956, "node_id": "MDQ6VXNlcjEyNzkzOTU2", "avatar_url": "https://avatars3.githubusercontent.com/u/12793956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianhuat", "html_url": "https://github.com/tianhuat", "followers_url": "https://api.github.com/users/tianhuat/followers", "following_url": "https://api.github.com/users/tianhuat/following{/other_user}", "gists_url": "https://api.github.com/users/tianhuat/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianhuat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianhuat/subscriptions", "organizations_url": "https://api.github.com/users/tianhuat/orgs", "repos_url": "https://api.github.com/users/tianhuat/repos", "events_url": "https://api.github.com/users/tianhuat/events{/privacy}", "received_events_url": "https://api.github.com/users/tianhuat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754003, "node_id": "MDU6TGFiZWw4NzU0MDAz", "url": "https://api.github.com/repos/mher/flower/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-06T11:35:25Z", "updated_at": "2020-08-06T11:43:27Z", "closed_at": "2020-08-06T11:43:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please see the bug here\r\nhttps://stackoverflow.com/questions/63282712/flower-task-always-in-queue", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1016", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1016/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1016/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1016/events", "html_url": "https://github.com/mher/flower/issues/1016", "id": 673607694, "node_id": "MDU6SXNzdWU2NzM2MDc2OTQ=", "number": 1016, "title": "flower UI broker and monitor tab not working", "user": {"login": "abiwill", "id": 5870370, "node_id": "MDQ6VXNlcjU4NzAzNzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5870370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abiwill", "html_url": "https://github.com/abiwill", "followers_url": "https://api.github.com/users/abiwill/followers", "following_url": "https://api.github.com/users/abiwill/following{/other_user}", "gists_url": "https://api.github.com/users/abiwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/abiwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abiwill/subscriptions", "organizations_url": "https://api.github.com/users/abiwill/orgs", "repos_url": "https://api.github.com/users/abiwill/repos", "events_url": "https://api.github.com/users/abiwill/events{/privacy}", "received_events_url": "https://api.github.com/users/abiwill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754003, "node_id": "MDU6TGFiZWw4NzU0MDAz", "url": "https://api.github.com/repos/mher/flower/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-05T14:59:56Z", "updated_at": "2020-08-11T16:13:24Z", "closed_at": "2020-08-11T16:13:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Flower UI Broker tab display \"redis broker is not supported\" and monitor tab does not display any information. However the dashboard and task tab are showing the celery worker named and tasks information.\r\n\r\n\r\nFlower Version -- 0.9.3\r\nRedis Version -- 5\r\nDeployed on Docker engine -- 19.03.9 \r\n\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/5870370/89427870-5d8ffc80-d759-11ea-9fe6-0b77ee01ae9f.png)\r\n![image](https://user-images.githubusercontent.com/5870370/89427938-70a2cc80-d759-11ea-871a-fbc72cec669b.png)\r\n![image](https://user-images.githubusercontent.com/5870370/89428000-844e3300-d759-11ea-83a4-25511684f706.png)\r\n![image](https://user-images.githubusercontent.com/5870370/89428029-8d3f0480-d759-11ea-804b-e5520c7510b5.png)\r\n![image](https://user-images.githubusercontent.com/5870370/89428785-646b3f00-d75a-11ea-805a-f24e368269d3.png)\r\n\r\n\r\n\r\n\r\n**System information**\r\nFlower Version -- 0.9.3\r\nRedis Version -- 5\r\nDeployed on Docker engine -- 19.03.9 \r\nRedis is deployed with sentinel and authentication enabled.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1010", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1010/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1010/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1010/events", "html_url": "https://github.com/mher/flower/issues/1010", "id": 664621124, "node_id": "MDU6SXNzdWU2NjQ2MjExMjQ=", "number": 1010, "title": "Broker tab should allow to see messages in each queue", "user": {"login": "anudeepsamaiya", "id": 3428221, "node_id": "MDQ6VXNlcjM0MjgyMjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/3428221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anudeepsamaiya", "html_url": "https://github.com/anudeepsamaiya", "followers_url": "https://api.github.com/users/anudeepsamaiya/followers", "following_url": "https://api.github.com/users/anudeepsamaiya/following{/other_user}", "gists_url": "https://api.github.com/users/anudeepsamaiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/anudeepsamaiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anudeepsamaiya/subscriptions", "organizations_url": "https://api.github.com/users/anudeepsamaiya/orgs", "repos_url": "https://api.github.com/users/anudeepsamaiya/repos", "events_url": "https://api.github.com/users/anudeepsamaiya/events{/privacy}", "received_events_url": "https://api.github.com/users/anudeepsamaiya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754005, "node_id": "MDU6TGFiZWw4NzU0MDA1", "url": "https://api.github.com/repos/mher/flower/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-23T16:43:02Z", "updated_at": "2020-07-25T08:51:18Z", "closed_at": "2020-07-24T18:11:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nA clear and concise description of what the problem is. Ex. I'm always frustrated when [...]\r\nI use flower to monitor the celery worker and redis queues. Flower's broker tab allows one to view the count of messages in each queue, but it does not allow to view the messages.\r\n\r\nFor instance, I feel like it would be a good ux, when I see around 10000 messages in one of my queue, then to be able to see what kind of messages are in the queue.\r\n\r\n**Describe the solution you'd like**\r\n- A Queue detail page. It will lists the messages in a particular queue. The list will grouped by the message type and sorted by count of messages in each group.\r\n- Another QueueMessage detail page for each message group.\r\n\r\nThanks for the such a wonderful library. @mher If you consider this, I would be happy to raise a pr.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1008", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1008/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1008/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1008/events", "html_url": "https://github.com/mher/flower/issues/1008", "id": 663812228, "node_id": "MDU6SXNzdWU2NjM4MTIyMjg=", "number": 1008, "title": "alternate named rabbit queues are not seen by flower", "user": {"login": "ajwillo", "id": 24481217, "node_id": "MDQ6VXNlcjI0NDgxMjE3", "avatar_url": "https://avatars1.githubusercontent.com/u/24481217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajwillo", "html_url": "https://github.com/ajwillo", "followers_url": "https://api.github.com/users/ajwillo/followers", "following_url": "https://api.github.com/users/ajwillo/following{/other_user}", "gists_url": "https://api.github.com/users/ajwillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajwillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajwillo/subscriptions", "organizations_url": "https://api.github.com/users/ajwillo/orgs", "repos_url": "https://api.github.com/users/ajwillo/repos", "events_url": "https://api.github.com/users/ajwillo/events{/privacy}", "received_events_url": "https://api.github.com/users/ajwillo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T14:36:14Z", "updated_at": "2020-07-28T14:11:39Z", "closed_at": "2020-07-22T16:46:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen the default rabbit queues are changed with the below celery config, all of the tabs are empty in flower, when I remove the below config, I can see all the data back in flower whilst its using default queue names. this is using the flower docker container\r\n\r\n```\r\n# set app name\r\napp_name = 'my app'\r\n# Optional configuration, see the application user guide.\r\napp.conf.update(\r\n    result_expires=3600,\r\n    control_exchange=app_name,\r\n    event_exchange=app_name + '.ev',\r\n    task_default_queue=app_name,\r\n    task_default_exchange=app_name,\r\n    task_default_routing_key=app_name,\r\n)\r\n```\r\n\r\ndocker compose:\r\n```\r\nflower:  \r\n    image: mher/flower\r\n    command: flower --broker=amqp://rabbitmq:5672 --basic_auth=admin:passowrd\r\n    ports:  \r\n      - 5555:5555 \r\n    depends_on:\r\n      - rabbitmq\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. change queue names in RabbitMQ\r\n2. start flower with \"flower --broker=amqp://rabbitmq:5672 --basic_auth=admin:password\r\n3. create a task in celery\r\n4. all tabs are empty\r\n\r\n**Expected behavior**\r\nshould be able to see the queues in the tabs\r\n\r\n**Screenshots**\r\n<img width=\"1269\" alt=\"Screenshot 2020-07-22 at 15 32 57\" src=\"https://user-images.githubusercontent.com/24481217/88189217-ba0afc00-cc30-11ea-9143-3835eee67dbd.png\">\r\n\r\n\r\n**System information**\r\n~ $ python -c 'from flower.utils import bugreport; print(bugreport())'\r\nflower   -> flower:0.9.2 tornado:5.1.1 babel:2.6.0\r\nsoftware -> celery:4.2.1 (windowlicker) kombu:4.2.2-post1 py:3.7.2\r\n            billiard:3.5.0.5 py-amqp:2.3.2\r\nplatform -> system:Linux arch:64bit imp:CPython\r\nloader   -> celery.loaders.app.AppLoader\r\nsettings -> transport:amqp results:disabled\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1007", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1007/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1007/events", "html_url": "https://github.com/mher/flower/issues/1007", "id": 663634550, "node_id": "MDU6SXNzdWU2NjM2MzQ1NTA=", "number": 1007, "title": "QUESTION: How is it possible to have a worker with status=offline but active=1", "user": {"login": "tatitati", "id": 2141032, "node_id": "MDQ6VXNlcjIxNDEwMzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2141032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tatitati", "html_url": "https://github.com/tatitati", "followers_url": "https://api.github.com/users/tatitati/followers", "following_url": "https://api.github.com/users/tatitati/following{/other_user}", "gists_url": "https://api.github.com/users/tatitati/gists{/gist_id}", "starred_url": "https://api.github.com/users/tatitati/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tatitati/subscriptions", "organizations_url": "https://api.github.com/users/tatitati/orgs", "repos_url": "https://api.github.com/users/tatitati/repos", "events_url": "https://api.github.com/users/tatitati/events{/privacy}", "received_events_url": "https://api.github.com/users/tatitati/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T10:00:47Z", "updated_at": "2020-07-22T16:42:07Z", "closed_at": "2020-07-22T16:42:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "First all, I love Flower!, great job guys.\r\n\r\nIn my case still I'm trying to understand something about it. Running long tasks (they take from 20 mins to 2 hours) I have a weird scenario in which my celery worker, after a while (15-20 mins) pass from status=online to offline, however they still have active=1. \r\n\r\nAfter this I see how the same task is started in another celery worker. Ant the process repeat. This happens again until I have the same task running three times at the same time in different workers. All of them offline with active=1 after a while\r\n\r\n- What does it mean to have a celery worker status=offline with active=1?\r\n- What can be the reason to have a worker on this state?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1006", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1006/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1006/events", "html_url": "https://github.com/mher/flower/issues/1006", "id": 662650715, "node_id": "MDU6SXNzdWU2NjI2NTA3MTU=", "number": 1006, "title": "discussion: Potential code quality issues found", "user": {"login": "pnijhara", "id": 40136154, "node_id": "MDQ6VXNlcjQwMTM2MTU0", "avatar_url": "https://avatars0.githubusercontent.com/u/40136154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnijhara", "html_url": "https://github.com/pnijhara", "followers_url": "https://api.github.com/users/pnijhara/followers", "following_url": "https://api.github.com/users/pnijhara/following{/other_user}", "gists_url": "https://api.github.com/users/pnijhara/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnijhara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnijhara/subscriptions", "organizations_url": "https://api.github.com/users/pnijhara/orgs", "repos_url": "https://api.github.com/users/pnijhara/repos", "events_url": "https://api.github.com/users/pnijhara/events{/privacy}", "received_events_url": "https://api.github.com/users/pnijhara/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-21T06:35:28Z", "updated_at": "2020-08-18T00:42:21Z", "closed_at": "2020-08-17T21:49:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have forked this repo around a week ago and was going through the code. There I decided to run a static analysis by [DeepSouce](https://deepsource.io). In that analysis, I have found somewhat around 80 code quality issues in **flower**.\r\n\r\nThose issues are categorized as:\r\n\r\n- **Antipatterns:** 47\r\n- **Bug-risks:** 13\r\n- **Performance issues: 18**\r\n- **Security issues: 2**\r\n\r\nYou can find the full report here &rarr; https://deepsource.io/gh/pnijhara/flower/issues/?category=recommended\r\nMany of them can be autofixed by DeepSource in a single click such as usage of[ unnecessary literal](https://deepsource.io/gh/pnijhara/flower/issue/PTC-W0018/occurrences) which can be fixed by using literal syntax.\r\n\r\nI would love to send a patch with some fix if you want. Also do let me know which of them you consider as false positives and which of them of high priority.\r\n\r\nFalse positives or intentional violations can also be silenced by ignoring issues.\r\n\r\nI have also added a config file as `.deepsouce.toml` for letting DeepSource run the analysis. You can find that file [here](https://github.com/pnijhara/flower/blob/master/.deepsource.toml) in my [forked repo](https://github.com/pnijhara/flower/).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1004", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1004/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1004/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1004/events", "html_url": "https://github.com/mher/flower/issues/1004", "id": 661570808, "node_id": "MDU6SXNzdWU2NjE1NzA4MDg=", "number": 1004, "title": "Offline workers not being purged", "user": {"login": "v1sion", "id": 10966855, "node_id": "MDQ6VXNlcjEwOTY2ODU1", "avatar_url": "https://avatars0.githubusercontent.com/u/10966855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v1sion", "html_url": "https://github.com/v1sion", "followers_url": "https://api.github.com/users/v1sion/followers", "following_url": "https://api.github.com/users/v1sion/following{/other_user}", "gists_url": "https://api.github.com/users/v1sion/gists{/gist_id}", "starred_url": "https://api.github.com/users/v1sion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v1sion/subscriptions", "organizations_url": "https://api.github.com/users/v1sion/orgs", "repos_url": "https://api.github.com/users/v1sion/repos", "events_url": "https://api.github.com/users/v1sion/events{/privacy}", "received_events_url": "https://api.github.com/users/v1sion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754003, "node_id": "MDU6TGFiZWw4NzU0MDAz", "url": "https://api.github.com/repos/mher/flower/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-20T09:08:51Z", "updated_at": "2020-07-20T15:01:12Z", "closed_at": "2020-07-20T14:37:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description**\r\n\r\nI'm running flower in a kubernetes pod, and I was trying to remove the offline workers from the flower dashboard but for some reason the offline workers are still showing up, even if i setup the flag `--purge_offline_worker`.\r\n\r\n```\r\nflower -A worker.celery --purge_offline_workers=10 --basic_auth=$FLOWER_USERNAME:$FLOWER_PASSWORD -l info\r\n```\r\n\r\n**Screenshots**\r\n\r\n<img width=\"1399\" alt=\"Screenshot 2020-07-20 at 10 06 55\" src=\"https://user-images.githubusercontent.com/10966855/87920238-d6603a80-ca70-11ea-8b75-430ecf07378a.png\">\r\n\r\n**System information**\r\n```\r\nflower   -> flower:0.9.4 tornado:6.0.4 humanize:(0, 4)\r\nsoftware -> celery:4.4.2 (cliffs) kombu:4.6.11 py:3.7.7\r\n            billiard:3.6.3.0 redis:3.5.2\r\nplatform -> system:Linux arch:64bit\r\n            kernel version:4.14.177-139.253.amzn2.x86_64 imp:CPython\r\nloader   -> celery.loaders.app.AppLoader\r\nsettings -> transport:rediss results:rediss://:**@redis01.**:6379/0\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1003", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1003/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1003/events", "html_url": "https://github.com/mher/flower/issues/1003", "id": 660542111, "node_id": "MDU6SXNzdWU2NjA1NDIxMTE=", "number": 1003, "title": "error executing flower with celery in Windows 10", "user": {"login": "jhon-palma", "id": 17362050, "node_id": "MDQ6VXNlcjE3MzYyMDUw", "avatar_url": "https://avatars3.githubusercontent.com/u/17362050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhon-palma", "html_url": "https://github.com/jhon-palma", "followers_url": "https://api.github.com/users/jhon-palma/followers", "following_url": "https://api.github.com/users/jhon-palma/following{/other_user}", "gists_url": "https://api.github.com/users/jhon-palma/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhon-palma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhon-palma/subscriptions", "organizations_url": "https://api.github.com/users/jhon-palma/orgs", "repos_url": "https://api.github.com/users/jhon-palma/repos", "events_url": "https://api.github.com/users/jhon-palma/events{/privacy}", "received_events_url": "https://api.github.com/users/jhon-palma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754003, "node_id": "MDU6TGFiZWw4NzU0MDAz", "url": "https://api.github.com/repos/mher/flower/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 8754004, "node_id": "MDU6TGFiZWw4NzU0MDA0", "url": "https://api.github.com/repos/mher/flower/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-19T03:00:21Z", "updated_at": "2020-07-19T14:52:32Z", "closed_at": "2020-07-19T14:52:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am developing an application in Django 3, in windows 10.\r\n\r\nI have installed celery and RabitMQ and flower. Celery works well but when I run\r\n\r\n`celery -A proj flower`\r\n\r\nproduces the following error\r\n\r\n`[I 200718 21:32:31 command:134] Visit me at http://localhost:5555`\r\n`[I 200718 21:32:31 command:141] Broker: amqp://guest:**@localhost:5672//`\r\n`[I 200718 21:32:31 command:142] Registered tasks:`\r\n   ` ['apps.tareas.task.send_emails_users',`\r\n    ` 'celery.accumulate',`\r\n     `'celery.backend_cleanup',`\r\n     `'celery.chain',`\r\n    ` 'celery.chord',`\r\n    ` 'celery.chord_unlock',`\r\n    ` 'celery.chunks',`\r\n    ` 'celery.group',`\r\n     `'celery.map',`\r\n    ` 'celery.starmap']`\r\n`Traceback (most recent call last):`\r\n ` File \"C:\\Program Files\\Python38\\lib\\runpy.py\", line 193, in _run_module_as_main`\r\n    `return _run_code(code, main_globals, None,`\r\n  `File \"C:\\Program Files\\Python38\\lib\\runpy.py\", line 86, in _run_code`\r\n    `exec(code, run_globals)`\r\n  `File \"C:\\Users\\Sofia\\OneDrive\\Proyectos\\Django 3\\shop\\env\\Scripts\\celery.exe\\__main__.py\", line 9, in <module>`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\celery\\__main__.py\", line 16, in main`\r\n    `_main()`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\celery\\bin\\celery.py\", line 322, in main`\r\n    `cmd.execute_from_commandline(argv)`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\celery\\bin\\celery.py\", line 495, in` `execute_from_commandline`\r\n    `super(CeleryCommand, self).execute_from_commandline(argv)))`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\celery\\bin\\base.py\", line 305, in ``execute_from_commandline`\r\n    `return self.handle_argv(self.prog_name, argv[1:])`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\celery\\bin\\celery.py\", line 487, in handle_argv`\r\n    `return self.execute(command, argv)`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\celery\\bin\\celery.py\", line 415, in execute`\r\n`[I 200718 21:32:31 mixins:229] Connected to amqp://guest:**@127.0.0.1:5672//`\r\n    `return cls(`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\flower\\command.py\", line 51, in run_from_argv`\r\n    `flower.start()`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\flower\\app.py\", line 50, in start`\r\n    `self.listen(self.options.port, address=self.options.address,`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\tornado\\web.py\", line 2042, in listen`\r\n    `server.listen(port, address)`\r\n ` File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\tornado\\tcpserver.py\", line 144, in listen`\r\n    `self.add_sockets(sockets)`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\tornado\\tcpserver.py\", line 157, in add_sockets`\r\n   ` self._handlers[sock.fileno()] = add_accept_handler(`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\tornado\\netutil.py\", line 268, in add_accept_handler`\r\n   ` io_loop.add_handler(sock, accept_handler, IOLoop.READ)`\r\n  `File \"c:\\users\\sofia\\onedrive\\proyectos\\django 3\\shop\\env\\lib\\site-packages\\tornado\\platform\\asyncio.py\", line 79, in ``add_handler`\r\n    `self.asyncio_loop.add_reader(`\r\n  `File \"C:\\Program Files\\Python38\\lib\\asyncio\\events.py\", line 501, in add_reader`\r\n    `raise NotImplementedError`\r\n`NotImplementedError `\r\n\r\nCan't be causing this error.\r\n\r\nI have searched the documentation and found nothing like this error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1001", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1001/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1001/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1001/events", "html_url": "https://github.com/mher/flower/issues/1001", "id": 656564766, "node_id": "MDU6SXNzdWU2NTY1NjQ3NjY=", "number": 1001, "title": "404 when using Flower 0.9.5 with --url_prefix", "user": {"login": "soer7022", "id": 17567175, "node_id": "MDQ6VXNlcjE3NTY3MTc1", "avatar_url": "https://avatars3.githubusercontent.com/u/17567175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soer7022", "html_url": "https://github.com/soer7022", "followers_url": "https://api.github.com/users/soer7022/followers", "following_url": "https://api.github.com/users/soer7022/following{/other_user}", "gists_url": "https://api.github.com/users/soer7022/gists{/gist_id}", "starred_url": "https://api.github.com/users/soer7022/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soer7022/subscriptions", "organizations_url": "https://api.github.com/users/soer7022/orgs", "repos_url": "https://api.github.com/users/soer7022/repos", "events_url": "https://api.github.com/users/soer7022/events{/privacy}", "received_events_url": "https://api.github.com/users/soer7022/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754003, "node_id": "MDU6TGFiZWw4NzU0MDAz", "url": "https://api.github.com/repos/mher/flower/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-14T12:11:59Z", "updated_at": "2020-07-20T14:19:19Z", "closed_at": "2020-07-20T14:19:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen using the `--url_prefix` with Flower 0.9.5 I always get a 404 Not found error,\r\nhowever when downgrading to 0.9.4 it works fine.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run Flower with --url_prefix=flower, like described in the documentation\r\n2. Navigate to URL.com/flower\r\n3. 404 not found\r\n\r\n**Expected behavior**\r\nI expect to be able to visit the flower dashboard\r\n\r\n**System information**\r\nOutput of `python -c 'from flower.utils import bugreport; print(bugreport())'` command:\r\n```\r\nflower   -> flower:0.9.5 tornado:6.0.4 humanize:(0, 4)\r\nsoftware -> celery:4.4.5 (cliffs) kombu:4.6.10 py:3.6.9\r\n            billiard:3.6.3.0 py-amqp:2.6.0\r\nplatform -> system:Linux arch:64bit, ELF\r\n            kernel version:4.15.0-111-generic imp:CPython\r\nloader   -> celery.loaders.app.AppLoader\r\nsettings -> transport:amqp results:disabled\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/1000", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/1000/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/1000/events", "html_url": "https://github.com/mher/flower/issues/1000", "id": 655813740, "node_id": "MDU6SXNzdWU2NTU4MTM3NDA=", "number": 1000, "title": "Get'Error: No nodes replied within time constraint.' when set gevent or eventlet as pool", "user": {"login": "Seumi", "id": 3949730, "node_id": "MDQ6VXNlcjM5NDk3MzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/3949730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Seumi", "html_url": "https://github.com/Seumi", "followers_url": "https://api.github.com/users/Seumi/followers", "following_url": "https://api.github.com/users/Seumi/following{/other_user}", "gists_url": "https://api.github.com/users/Seumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Seumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Seumi/subscriptions", "organizations_url": "https://api.github.com/users/Seumi/orgs", "repos_url": "https://api.github.com/users/Seumi/repos", "events_url": "https://api.github.com/users/Seumi/events{/privacy}", "received_events_url": "https://api.github.com/users/Seumi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754003, "node_id": "MDU6TGFiZWw4NzU0MDAz", "url": "https://api.github.com/repos/mher/flower/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-13T12:32:10Z", "updated_at": "2020-07-13T13:41:01Z", "closed_at": "2020-07-13T13:41:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen launch a worker by 'celery -A proj worker -P=gevent(or eventlet)', the worker can not find each other, just 'mingle: all alone'. And ' celery -A proj inspect ping' will get a 'Error: No nodes replied within time constraint.' While use 'celery -A proj worker'(use prefork), everything will be ok.\r\n(Redis has been properly configured and started.)\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Launch a worker by 'celery -A proj worker -P=gevent' or 'celery -A proj worker -P=eventlet'\r\n2. Open another shell and 'celery -A proj inspect ping'\r\n3. See 'Error: No nodes replied within time constraint.'\r\n4. Launch a worker by 'celery -A proj worker'(prefork)\r\n5. Open another shell and 'celery -A proj inspect ping'\r\n6. See 'celery@host: OK pong'\r\n\r\n**System information**\r\ncelery-4.4.6\r\ngevent-1.4.0\r\nubuntu(WSL)\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/3949730/87304731-d7acd700-c547-11ea-91d2-99bf7ca99bd9.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/999", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/999/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/999/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/999/events", "html_url": "https://github.com/mher/flower/issues/999", "id": 654805880, "node_id": "MDU6SXNzdWU2NTQ4MDU4ODA=", "number": 999, "title": "Directory permissions are lost in Dockerfile", "user": {"login": "gcolombeau", "id": 34448890, "node_id": "MDQ6VXNlcjM0NDQ4ODkw", "avatar_url": "https://avatars2.githubusercontent.com/u/34448890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gcolombeau", "html_url": "https://github.com/gcolombeau", "followers_url": "https://api.github.com/users/gcolombeau/followers", "following_url": "https://api.github.com/users/gcolombeau/following{/other_user}", "gists_url": "https://api.github.com/users/gcolombeau/gists{/gist_id}", "starred_url": "https://api.github.com/users/gcolombeau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gcolombeau/subscriptions", "organizations_url": "https://api.github.com/users/gcolombeau/orgs", "repos_url": "https://api.github.com/users/gcolombeau/repos", "events_url": "https://api.github.com/users/gcolombeau/events{/privacy}", "received_events_url": "https://api.github.com/users/gcolombeau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-10T14:04:04Z", "updated_at": "2020-08-20T16:54:04Z", "closed_at": "2020-08-20T16:35:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the docker image and the persistent mode, Flower cannot create the DB file due to a permission error.\r\nThis behavior was supposed to be fixed in the version 0.9.5 but I think it all comes down to where the volume is defined in the Dockerfile.\r\nSee  for example https://container42.com/2014/11/03/docker-indepth-volumes/\r\n\r\nhttps://github.com/mher/flower/blob/59cd3b2be4eabb447bb71aa279394833bf28267e/Dockerfile#L20-L29\r\n\r\nI believe the volume instruction should be declared after setting the directory owner. At the moment, it seems the run instruction is only applied **inside the volume** at build time, which is actually a no op, instead of in the container directory.\r\n\r\nYou can verify this by launching a new container and inspecting the ``/data`` directory which is still owned by root:\r\n```shell\r\ndocker run -it --rm --entrypoint sh mher/flower\r\n/data $ ls -al .\r\ntotal 8\r\ndrwxr-xr-x    2 root     root          4096 Jul  3 14:49 .\r\ndrwxr-xr-x    1 root     root          4096 Jul 10 13:10 ..\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/995", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/995/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/995/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/995/events", "html_url": "https://github.com/mher/flower/issues/995", "id": 647331954, "node_id": "MDU6SXNzdWU2NDczMzE5NTQ=", "number": 995, "title": "Request supporting QPID", "user": {"login": "zxiong", "id": 7681212, "node_id": "MDQ6VXNlcjc2ODEyMTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/7681212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zxiong", "html_url": "https://github.com/zxiong", "followers_url": "https://api.github.com/users/zxiong/followers", "following_url": "https://api.github.com/users/zxiong/following{/other_user}", "gists_url": "https://api.github.com/users/zxiong/gists{/gist_id}", "starred_url": "https://api.github.com/users/zxiong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zxiong/subscriptions", "organizations_url": "https://api.github.com/users/zxiong/orgs", "repos_url": "https://api.github.com/users/zxiong/repos", "events_url": "https://api.github.com/users/zxiong/events{/privacy}", "received_events_url": "https://api.github.com/users/zxiong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754005, "node_id": "MDU6TGFiZWw4NzU0MDA1", "url": "https://api.github.com/repos/mher/flower/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-29T12:27:57Z", "updated_at": "2020-07-02T22:41:02Z", "closed_at": "2020-07-02T22:41:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently Apache Qpid[1] is not support, so request supporting it.\r\n\r\n[1 https://qpid.apache.org/]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/992", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/992/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/992/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/992/events", "html_url": "https://github.com/mher/flower/issues/992", "id": 641091595, "node_id": "MDU6SXNzdWU2NDEwOTE1OTU=", "number": 992, "title": "Upgrading ancient version of humanize", "user": {"login": "robvdl", "id": 1018674, "node_id": "MDQ6VXNlcjEwMTg2NzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1018674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robvdl", "html_url": "https://github.com/robvdl", "followers_url": "https://api.github.com/users/robvdl/followers", "following_url": "https://api.github.com/users/robvdl/following{/other_user}", "gists_url": "https://api.github.com/users/robvdl/gists{/gist_id}", "starred_url": "https://api.github.com/users/robvdl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robvdl/subscriptions", "organizations_url": "https://api.github.com/users/robvdl/orgs", "repos_url": "https://api.github.com/users/robvdl/repos", "events_url": "https://api.github.com/users/robvdl/events{/privacy}", "received_events_url": "https://api.github.com/users/robvdl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-18T10:23:43Z", "updated_at": "2020-06-25T19:21:48Z", "closed_at": "2020-06-25T19:21:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was using humanize in my own project and when I installed flower into the same virtualenv I ran into a package version clash where it wanted to downgrade humanize from 2.4.0 (2020) to 0.5.1 (2014).\r\n\r\nIs there a particular reason to be pinning this to such an old version? Does it even need to be pinned or perhaps a version range could be used?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/991", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/991/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/991/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/991/events", "html_url": "https://github.com/mher/flower/issues/991", "id": 640161941, "node_id": "MDU6SXNzdWU2NDAxNjE5NDE=", "number": 991, "title": "monitor and broker is empty", "user": {"login": "iam-jay", "id": 2466198, "node_id": "MDQ6VXNlcjI0NjYxOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/2466198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iam-jay", "html_url": "https://github.com/iam-jay", "followers_url": "https://api.github.com/users/iam-jay/followers", "following_url": "https://api.github.com/users/iam-jay/following{/other_user}", "gists_url": "https://api.github.com/users/iam-jay/gists{/gist_id}", "starred_url": "https://api.github.com/users/iam-jay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iam-jay/subscriptions", "organizations_url": "https://api.github.com/users/iam-jay/orgs", "repos_url": "https://api.github.com/users/iam-jay/repos", "events_url": "https://api.github.com/users/iam-jay/events{/privacy}", "received_events_url": "https://api.github.com/users/iam-jay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-17T05:52:06Z", "updated_at": "2020-07-05T21:53:16Z", "closed_at": "2020-07-05T21:53:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running my flower like this \r\n`flower -A celery_app --port=8888`\r\n<img width=\"1426\" alt=\"Screenshot 2020-06-17 at 11 15 58 AM\" src=\"https://user-images.githubusercontent.com/2466198/84860492-c24da580-b08c-11ea-99d1-c8f84f6e2622.png\">\r\n<img width=\"1440\" alt=\"Screenshot 2020-06-17 at 11 16 15 AM\" src=\"https://user-images.githubusercontent.com/2466198/84860499-c4176900-b08c-11ea-8cef-95a182913c9f.png\">\r\n<img width=\"1440\" alt=\"Screenshot 2020-06-17 at 11 16 24 AM\" src=\"https://user-images.githubusercontent.com/2466198/84860502-c4afff80-b08c-11ea-8509-07e486692f2c.png\">\r\n<img width=\"1440\" alt=\"Screenshot 2020-06-17 at 11 16 40 AM\" src=\"https://user-images.githubusercontent.com/2466198/84860506-c4afff80-b08c-11ea-9815-c09eadb194b9.png\">\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/990", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/990/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/990/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/990/events", "html_url": "https://github.com/mher/flower/issues/990", "id": 638946643, "node_id": "MDU6SXNzdWU2Mzg5NDY2NDM=", "number": 990, "title": "Endpoint /api/tasks returns tasks without their workers", "user": {"login": "lukasmatta", "id": 4323927, "node_id": "MDQ6VXNlcjQzMjM5Mjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4323927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukasmatta", "html_url": "https://github.com/lukasmatta", "followers_url": "https://api.github.com/users/lukasmatta/followers", "following_url": "https://api.github.com/users/lukasmatta/following{/other_user}", "gists_url": "https://api.github.com/users/lukasmatta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukasmatta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukasmatta/subscriptions", "organizations_url": "https://api.github.com/users/lukasmatta/orgs", "repos_url": "https://api.github.com/users/lukasmatta/repos", "events_url": "https://api.github.com/users/lukasmatta/events{/privacy}", "received_events_url": "https://api.github.com/users/lukasmatta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-15T15:32:18Z", "updated_at": "2020-07-03T03:04:47Z", "closed_at": "2020-07-03T03:04:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\nI was trying to use `/api/tasks` endpoint in my application and I found out that this endpoint does not return information about tasks' workers. Would it be possible to extend `/api/tasks` endpoint's response, so it would contain worker attribute?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/989", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/989/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/989/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/989/events", "html_url": "https://github.com/mher/flower/issues/989", "id": 638708729, "node_id": "MDU6SXNzdWU2Mzg3MDg3Mjk=", "number": 989, "title": "Pagination support in API endpoint - /api/tasks", "user": {"login": "lukasmatta", "id": 4323927, "node_id": "MDQ6VXNlcjQzMjM5Mjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4323927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukasmatta", "html_url": "https://github.com/lukasmatta", "followers_url": "https://api.github.com/users/lukasmatta/followers", "following_url": "https://api.github.com/users/lukasmatta/following{/other_user}", "gists_url": "https://api.github.com/users/lukasmatta/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukasmatta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukasmatta/subscriptions", "organizations_url": "https://api.github.com/users/lukasmatta/orgs", "repos_url": "https://api.github.com/users/lukasmatta/repos", "events_url": "https://api.github.com/users/lukasmatta/events{/privacy}", "received_events_url": "https://api.github.com/users/lukasmatta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-15T09:50:42Z", "updated_at": "2020-07-08T11:47:38Z", "closed_at": "2020-07-05T20:52:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\nwhen using `/api/tasks/` endpoint, there is a possibility to set `limit=x` variable to limit the number of tasks retrieved. Is there any possibility to set `offset=y` variable in order to ignore first `y` tasks and show the other ones? This is necessary when implementing pagination on frontend.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/988", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/988/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/988/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/988/events", "html_url": "https://github.com/mher/flower/issues/988", "id": 637430283, "node_id": "MDU6SXNzdWU2Mzc0MzAyODM=", "number": 988, "title": "Flower redis(?) purge workers when offline heartbeat is immediately empty", "user": {"login": "jheld", "id": 828813, "node_id": "MDQ6VXNlcjgyODgxMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/828813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jheld", "html_url": "https://github.com/jheld", "followers_url": "https://api.github.com/users/jheld/followers", "following_url": "https://api.github.com/users/jheld/following{/other_user}", "gists_url": "https://api.github.com/users/jheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/jheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jheld/subscriptions", "organizations_url": "https://api.github.com/users/jheld/orgs", "repos_url": "https://api.github.com/users/jheld/repos", "events_url": "https://api.github.com/users/jheld/events{/privacy}", "received_events_url": "https://api.github.com/users/jheld/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-12T02:00:25Z", "updated_at": "2020-06-12T22:21:23Z", "closed_at": "2020-06-12T22:21:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Super cool, thank you @mher and @bstiel re: #852 \r\n\r\nIt's working for me (I intend to load my rebased fork onto my company's environments tomorrow/early next week)! I'm using redis. I'm not sure exactly how the heartbeats info is being generated/managed, because when I kill my worker it immediately disappears (`heartbeats` is actually empty, not just from `.get(...)`), but if I restart the worker, all is good (including its task info, since its data is still kept in flower (minus any state TTL logic)).\r\n\r\nFor my use case, it immediately going away isn't that big of a deal (and esp since a worker dying in mine and other projects I'm sure is often an indication that it's really gone, minus any blips). As such I'm only mentioning it here so folks are aware that redis _may_ be an issue and that this is a newly merged feature, but I'd still consider this to be a success even for my use case.\r\n\r\nI'll do my best to provide further detail (whether it's a bug or known issue, or not).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/986", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/986/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/986/events", "html_url": "https://github.com/mher/flower/issues/986", "id": 634975317, "node_id": "MDU6SXNzdWU2MzQ5NzUzMTc=", "number": 986, "title": "How to extend flower endpoints?", "user": {"login": "masters3d", "id": 6539412, "node_id": "MDQ6VXNlcjY1Mzk0MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/6539412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/masters3d", "html_url": "https://github.com/masters3d", "followers_url": "https://api.github.com/users/masters3d/followers", "following_url": "https://api.github.com/users/masters3d/following{/other_user}", "gists_url": "https://api.github.com/users/masters3d/gists{/gist_id}", "starred_url": "https://api.github.com/users/masters3d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/masters3d/subscriptions", "organizations_url": "https://api.github.com/users/masters3d/orgs", "repos_url": "https://api.github.com/users/masters3d/repos", "events_url": "https://api.github.com/users/masters3d/events{/privacy}", "received_events_url": "https://api.github.com/users/masters3d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-08T22:27:54Z", "updated_at": "2020-06-28T21:26:52Z", "closed_at": "2020-06-28T21:26:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I understand that flower uses [tornado](https://www.tornadoweb.org/en/stable/web.html) to handle web request. \r\n\r\nLets say I want to extend flower/tornato with other endpoints. Right now I am doing this by adding my class endpoint in the tasks.py file \r\nhttps://github.com/mher/flower/blob/bea199dd4c05ddb9a305a5936e6d992e90af7ec8/flower/api/tasks.py#L81\r\n\r\nIs there a different way I can add these endpoints where I don't have to edit the source file? \r\n\r\nFor example, how can I add my own handler to this list with out editing the package source code?\r\nhttps://github.com/mher/flower/blob/bea199dd4c05ddb9a305a5936e6d992e90af7ec8/flower/urls.py#L30\r\n\r\n\r\n```\r\nimport os\r\nimport time\r\nfrom datetime import datetime\r\n\r\nfrom celery import Celery\r\n\r\napp = Celery(\"tasks\",\r\n             broker=os.environ.get('CELERY_BROKER_URL', 'redis://'),\r\n             backend=os.environ.get('CELERY_RESULT_BACKEND', 'redis'))\r\napp.conf.CELERY_ACCEPT_CONTENT = ['pickle', 'json', 'msgpack', 'yaml']\r\n\r\n// How do I gain access to flower internals here to extend the endpoints?\r\n\r\n@app.task\r\ndef somCustomTask(x, y):\r\n    return x + y\r\n\r\nif __name__ == \"__main__\":\r\n    app.start()\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/984", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/984/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/984/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/984/events", "html_url": "https://github.com/mher/flower/issues/984", "id": 632493689, "node_id": "MDU6SXNzdWU2MzI0OTM2ODk=", "number": 984, "title": "Docker hub image is outdated", "user": {"login": "Maks3w", "id": 1301698, "node_id": "MDQ6VXNlcjEzMDE2OTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1301698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maks3w", "html_url": "https://github.com/Maks3w", "followers_url": "https://api.github.com/users/Maks3w/followers", "following_url": "https://api.github.com/users/Maks3w/following{/other_user}", "gists_url": "https://api.github.com/users/Maks3w/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maks3w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maks3w/subscriptions", "organizations_url": "https://api.github.com/users/Maks3w/orgs", "repos_url": "https://api.github.com/users/Maks3w/repos", "events_url": "https://api.github.com/users/Maks3w/events{/privacy}", "received_events_url": "https://api.github.com/users/Maks3w/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-06T14:21:43Z", "updated_at": "2020-06-13T20:52:26Z", "closed_at": "2020-06-13T20:52:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://hub.docker.com/r/mher/flower is not updated since 1 year ago.\r\n\r\nLooks automatic build is broken", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/983", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/983/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/983/events", "html_url": "https://github.com/mher/flower/issues/983", "id": 631430897, "node_id": "MDU6SXNzdWU2MzE0MzA4OTc=", "number": 983, "title": "natural sorting for tables", "user": {"login": "waleedsamy", "id": 2614168, "node_id": "MDQ6VXNlcjI2MTQxNjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/2614168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waleedsamy", "html_url": "https://github.com/waleedsamy", "followers_url": "https://api.github.com/users/waleedsamy/followers", "following_url": "https://api.github.com/users/waleedsamy/following{/other_user}", "gists_url": "https://api.github.com/users/waleedsamy/gists{/gist_id}", "starred_url": "https://api.github.com/users/waleedsamy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waleedsamy/subscriptions", "organizations_url": "https://api.github.com/users/waleedsamy/orgs", "repos_url": "https://api.github.com/users/waleedsamy/repos", "events_url": "https://api.github.com/users/waleedsamy/events{/privacy}", "received_events_url": "https://api.github.com/users/waleedsamy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-05T08:57:33Z", "updated_at": "2020-06-25T19:32:28Z", "closed_at": "2020-06-25T19:32:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[Natural sorting](https://blog.codinghorror.com/sorting-for-humans-natural-sort-order/) of tables will look more human than the default ascii order of DataTables ([plugin available](https://github.com/DataTables/Plugins/blob/master/sorting/natural.js)).\r\n\r\nIf you have workers [celery@vm1, celery@vm2...celery@vm13]. sorting the workers will show \r\n```\r\n  celery@vm1\r\n  celery@vm10\r\n  celery@vm11\r\n  celery@vm12\r\n  celery@vm13\r\n  celery@vm2\r\n  .\r\n  .\r\n  .\r\n```\r\nbut I expect\r\n```\r\n celery@vm1\r\n celery@vm2\r\n celery@vm3\r\n .\r\n .\r\n .\r\n celery@vm15\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/982", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/982/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/982/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/982/events", "html_url": "https://github.com/mher/flower/issues/982", "id": 630958735, "node_id": "MDU6SXNzdWU2MzA5NTg3MzU=", "number": 982, "title": "CORS error when calling API", "user": {"login": "benjaminh", "id": 1315419, "node_id": "MDQ6VXNlcjEzMTU0MTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1315419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjaminh", "html_url": "https://github.com/benjaminh", "followers_url": "https://api.github.com/users/benjaminh/followers", "following_url": "https://api.github.com/users/benjaminh/following{/other_user}", "gists_url": "https://api.github.com/users/benjaminh/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjaminh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjaminh/subscriptions", "organizations_url": "https://api.github.com/users/benjaminh/orgs", "repos_url": "https://api.github.com/users/benjaminh/repos", "events_url": "https://api.github.com/users/benjaminh/events{/privacy}", "received_events_url": "https://api.github.com/users/benjaminh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-04T16:03:13Z", "updated_at": "2020-06-27T16:50:46Z", "closed_at": "2020-06-27T16:50:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to fetch info on celery tasks using Flower http rest API.\r\n\r\nYet, I get CORS errors when I call it from my web client (everything works fine if I use postman):\r\n`Cross-Origin Request Blocked: The Same Origin Policy disallows\r\nreading the remote resource at http://localhost:5555/api/tasks. Reason: CORS header \u2018Access-Control-Allow-Origin\u2019 missing`\r\n\r\nI didn't find how to set CORS policy for flower, any pointer ?\r\n\r\nI'm using flower 0.9.4, and I run it using the Dockerfile within a docker-compose file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/980", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/980/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/980/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/980/events", "html_url": "https://github.com/mher/flower/issues/980", "id": 627562575, "node_id": "MDU6SXNzdWU2Mjc1NjI1NzU=", "number": 980, "title": "Is the docker image updated?", "user": {"login": "nodesocket", "id": 523312, "node_id": "MDQ6VXNlcjUyMzMxMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/523312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nodesocket", "html_url": "https://github.com/nodesocket", "followers_url": "https://api.github.com/users/nodesocket/followers", "following_url": "https://api.github.com/users/nodesocket/following{/other_user}", "gists_url": "https://api.github.com/users/nodesocket/gists{/gist_id}", "starred_url": "https://api.github.com/users/nodesocket/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nodesocket/subscriptions", "organizations_url": "https://api.github.com/users/nodesocket/orgs", "repos_url": "https://api.github.com/users/nodesocket/repos", "events_url": "https://api.github.com/users/nodesocket/events{/privacy}", "received_events_url": "https://api.github.com/users/nodesocket/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1992176017, "node_id": "MDU6TGFiZWwxOTkyMTc2MDE3", "url": "https://api.github.com/repos/mher/flower/labels/docker", "name": "docker", "color": "a1ed6f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-29T21:45:43Z", "updated_at": "2020-07-03T03:42:32Z", "closed_at": "2020-07-03T03:22:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using this docker image [mher/flower](https://hub.docker.com/r/mher/flower) has this been updated? Additionally, is there a way to tell which version of Flower we are running? I don't see it listed in the logs.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/978", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/978/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/978/events", "html_url": "https://github.com/mher/flower/issues/978", "id": 620072363, "node_id": "MDU6SXNzdWU2MjAwNzIzNjM=", "number": 978, "title": "API 50x errors while accessing /api/task/result and /api/task/info", "user": {"login": "benjaminh", "id": 1315419, "node_id": "MDQ6VXNlcjEzMTU0MTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1315419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjaminh", "html_url": "https://github.com/benjaminh", "followers_url": "https://api.github.com/users/benjaminh/followers", "following_url": "https://api.github.com/users/benjaminh/following{/other_user}", "gists_url": "https://api.github.com/users/benjaminh/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjaminh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjaminh/subscriptions", "organizations_url": "https://api.github.com/users/benjaminh/orgs", "repos_url": "https://api.github.com/users/benjaminh/repos", "events_url": "https://api.github.com/users/benjaminh/events{/privacy}", "received_events_url": "https://api.github.com/users/benjaminh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-18T09:53:23Z", "updated_at": "2020-07-05T21:51:43Z", "closed_at": "2020-07-05T21:51:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a flower service running through docker-compose along with a django service.\r\n\r\nFlower runs quite fine (except for some issues in the broker and monitor tabs that display nothing) but I have some issues using the API:\r\n\r\n- GET `/api/tasks` returns the list of tasks\r\n- GET `/api/task/result/<task_id>` returns a 503 service unavailable error\r\n- GET `/api/task/result/<task_id>` returns a 500 server error : `TypeError: Object of type Task is not JSON serializable`\r\n\r\nI've seen some similar issues that appear to be fixed, but I did try to update my docker image and it tells me I have the latest one.\r\n\r\nMy flower service is declared in my docker-compose file as follows:\r\n```\r\n  flower:\r\n    image: mher/flower\r\n    command: [\"flower\", \"--broker=redis://redis:6379\", \"--broker_api=redis://redis:6379\"]\r\n    ports:  \r\n      - 5555:5555\r\n    depends_on: \r\n      - redis\r\n    volumes:\r\n      - redis_data:/data:rw\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/976", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/976/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/976/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/976/events", "html_url": "https://github.com/mher/flower/issues/976", "id": 616867387, "node_id": "MDU6SXNzdWU2MTY4NjczODc=", "number": 976, "title": "How to flush Flower's display data?", "user": {"login": "ohld", "id": 5613295, "node_id": "MDQ6VXNlcjU2MTMyOTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5613295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ohld", "html_url": "https://github.com/ohld", "followers_url": "https://api.github.com/users/ohld/followers", "following_url": "https://api.github.com/users/ohld/following{/other_user}", "gists_url": "https://api.github.com/users/ohld/gists{/gist_id}", "starred_url": "https://api.github.com/users/ohld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ohld/subscriptions", "organizations_url": "https://api.github.com/users/ohld/orgs", "repos_url": "https://api.github.com/users/ohld/repos", "events_url": "https://api.github.com/users/ohld/events{/privacy}", "received_events_url": "https://api.github.com/users/ohld/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-12T18:28:37Z", "updated_at": "2020-06-15T17:08:41Z", "closed_at": "2020-06-15T17:08:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to delete all the data that is shown at Flower Dashboard? Somehow Dokku (deployment platform, open-source version of Heroku) creates Celery workers with unique names each deploy.\r\n\r\nIn result, I have a lot of rows with old workers and I really would like to remove them from the dashboard.\r\n\r\nI understand that the better solution would be just to fix the deployment and fix the worker names but still: it is possible to flush / clear the data that is displayed at Flower's dashboard? \r\n\r\n![image](https://user-images.githubusercontent.com/5613295/81731002-039fd380-9497-11ea-8353-dba4bfa22220.png)\r\n\r\nI've tried  to `flushall` Redis data with no result. \r\n\r\nP.S. If you know howto fix the celery worker names to remove that random name generation, that would be really awesome. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/975", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/975/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/975/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/975/events", "html_url": "https://github.com/mher/flower/issues/975", "id": 616781066, "node_id": "MDU6SXNzdWU2MTY3ODEwNjY=", "number": 975, "title": "Add `--broker` argument to help", "user": {"login": "rileymcdowell", "id": 6935571, "node_id": "MDQ6VXNlcjY5MzU1NzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6935571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rileymcdowell", "html_url": "https://github.com/rileymcdowell", "followers_url": "https://api.github.com/users/rileymcdowell/followers", "following_url": "https://api.github.com/users/rileymcdowell/following{/other_user}", "gists_url": "https://api.github.com/users/rileymcdowell/gists{/gist_id}", "starred_url": "https://api.github.com/users/rileymcdowell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rileymcdowell/subscriptions", "organizations_url": "https://api.github.com/users/rileymcdowell/orgs", "repos_url": "https://api.github.com/users/rileymcdowell/repos", "events_url": "https://api.github.com/users/rileymcdowell/events{/privacy}", "received_events_url": "https://api.github.com/users/rileymcdowell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-12T16:10:18Z", "updated_at": "2020-06-28T21:00:43Z", "closed_at": "2020-06-28T21:00:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "When someone uses redis as a broker for celery, they'll need to pass the `--broker` argument to flower when they start it up. If you don't already know this, you'll probably scan `flower --help` to determine what parameter to pass to get it to work.  A promising candidate, `--broker-api`, is available in the `--help` output. However, this isn't actually the right thing to make flower connect to redis as a broker. As far as I can tell, the `--broker` argument is not present in the command line help output for flower.\r\n\r\nExpected output: `--broker` is briefly mentioned in `flower --help`. \r\n\r\nFlower version: 0.9.4\r\n\r\nDid I overlook something, or is this [intentionally/unintentionally] missing?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/974", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/974/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/974/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/974/events", "html_url": "https://github.com/mher/flower/issues/974", "id": 615186411, "node_id": "MDU6SXNzdWU2MTUxODY0MTE=", "number": 974, "title": "kwargs and args should be valid json", "user": {"login": "matomesc", "id": 477723, "node_id": "MDQ6VXNlcjQ3NzcyMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/477723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matomesc", "html_url": "https://github.com/matomesc", "followers_url": "https://api.github.com/users/matomesc/followers", "following_url": "https://api.github.com/users/matomesc/following{/other_user}", "gists_url": "https://api.github.com/users/matomesc/gists{/gist_id}", "starred_url": "https://api.github.com/users/matomesc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matomesc/subscriptions", "organizations_url": "https://api.github.com/users/matomesc/orgs", "repos_url": "https://api.github.com/users/matomesc/repos", "events_url": "https://api.github.com/users/matomesc/events{/privacy}", "received_events_url": "https://api.github.com/users/matomesc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-09T14:22:06Z", "updated_at": "2020-06-30T20:02:31Z", "closed_at": "2020-06-30T20:02:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently when retrieving a task or a list of tasks, the `args` field is a string containing a tuple and `kwargs` (and `result` if a dict is returned) returns a string containing a dict. It should return valid json instead since it doesn't really make sense to embed python data structures as strings inside json since the response is already being parsed as json.\r\n\r\nFor instance this\r\n```json\r\n{\r\n  \"args\": \"(10, 20)\",\r\n  \"kwargs\": \"{'a': 30, 'b': 40}\",\r\n  \"result\": \"{'total': 100}\"\r\n}\r\n```\r\n\r\nShould be replaced with\r\n```json\r\n{\r\n  \"args\": [10, 20],\r\n  \"kwargs\": {\"a\": 30, \"b\": 40},\r\n  \"result\": {\"total\": 100}\r\n}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/973", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/973/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/973/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/973/events", "html_url": "https://github.com/mher/flower/issues/973", "id": 614563890, "node_id": "MDU6SXNzdWU2MTQ1NjM4OTA=", "number": 973, "title": "asyncio NotImplementedError when running Flower with Python3.8 on Windows", "user": {"login": "johanvergeer", "id": 13183702, "node_id": "MDQ6VXNlcjEzMTgzNzAy", "avatar_url": "https://avatars1.githubusercontent.com/u/13183702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johanvergeer", "html_url": "https://github.com/johanvergeer", "followers_url": "https://api.github.com/users/johanvergeer/followers", "following_url": "https://api.github.com/users/johanvergeer/following{/other_user}", "gists_url": "https://api.github.com/users/johanvergeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/johanvergeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johanvergeer/subscriptions", "organizations_url": "https://api.github.com/users/johanvergeer/orgs", "repos_url": "https://api.github.com/users/johanvergeer/repos", "events_url": "https://api.github.com/users/johanvergeer/events{/privacy}", "received_events_url": "https://api.github.com/users/johanvergeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-08T07:31:17Z", "updated_at": "2020-07-05T19:09:56Z", "closed_at": "2020-07-05T19:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run Flower on Windows with Python 3.8 I get an error:\r\n\r\n`our_app.tasks` is the module with Celery tasks\r\n\r\n```\r\ncelery -A our_app.tasks flower\r\n[2020-05-08 09:21:47,519] our_app.celery_app INFO: App configured.\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Me\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\Me\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\Me\\our_app.our_module.py\\venv2\\Scripts\\celery.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\celery\\__main__.py\", line 16, in main\r\n    _main()\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\celery\\bin\\celery.py\", line 322, in main\r\n    cmd.execute_from_commandline(argv)\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\celery\\bin\\celery.py\", line 495, in execute_from_commandline\r\n    super(CeleryCommand, self).execute_from_commandline(argv)))\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\celery\\bin\\base.py\", line 305, in execute_from_commandline\r\n    return self.handle_argv(self.prog_name, argv[1:])\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\celery\\bin\\celery.py\", line 487, in handle_argv\r\n    return self.execute(command, argv)\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\celery\\bin\\celery.py\", line 415, in execute\r\n    return cls(\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\flower\\command.py\", line 51, in run_from_argv\r\n    flower.start()\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\flower\\app.py\", line 50, in start\r\n    self.listen(self.options.port, address=self.options.address,\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\tornado\\web.py\", line 2116, in listen\r\n    server.listen(port, address)\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\tornado\\tcpserver.py\", line 152, in listen\r\n    self.add_sockets(sockets)\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\tornado\\tcpserver.py\", line 165, in add_sockets\r\n    self._handlers[sock.fileno()] = add_accept_handler(\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\tornado\\netutil.py\", line 279, in add_accept_handler\r\n    io_loop.add_handler(sock, accept_handler, IOLoop.READ)\r\n  File \"c:\\users\\Me\\our_app.our_module.py\\venv2\\lib\\site-packages\\tornado\\platform\\asyncio.py\", line 100, in add_handler\r\n    self.asyncio_loop.add_reader(fd, self._handle_events, fd, IOLoop.READ)\r\n  File \"C:\\Users\\Me\\AppData\\Local\\Programs\\Python\\Python38\\lib\\asyncio\\events.py\", line 501, in add_reader\r\n    raise NotImplementedError\r\nNotImplementedError\r\n```\r\n\r\nAfter adding the following code to flowerconfig.py in the root of our project the issue is solved:\r\n\r\n```python\r\nimport asyncio\r\nimport sys\r\n\r\nif sys.platform == 'win32':\r\n    asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/972", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/972/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/972/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/972/events", "html_url": "https://github.com/mher/flower/issues/972", "id": 614182620, "node_id": "MDU6SXNzdWU2MTQxODI2MjA=", "number": 972, "title": "Getting full task kwargs / args", "user": {"login": "matomesc", "id": 477723, "node_id": "MDQ6VXNlcjQ3NzcyMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/477723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matomesc", "html_url": "https://github.com/matomesc", "followers_url": "https://api.github.com/users/matomesc/followers", "following_url": "https://api.github.com/users/matomesc/following{/other_user}", "gists_url": "https://api.github.com/users/matomesc/gists{/gist_id}", "starred_url": "https://api.github.com/users/matomesc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matomesc/subscriptions", "organizations_url": "https://api.github.com/users/matomesc/orgs", "repos_url": "https://api.github.com/users/matomesc/repos", "events_url": "https://api.github.com/users/matomesc/events{/privacy}", "received_events_url": "https://api.github.com/users/matomesc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-07T16:19:13Z", "updated_at": "2020-05-12T00:25:49Z", "closed_at": "2020-05-12T00:25:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a task whose input is a large `kwargs` dictionary and I would like to keep the full dictionary in flower. Right now it's truncated with `...`. I tried using `format_task` but `kwargs` is already truncated in the task object passed in.\r\n\r\nAny ideas?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/970", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/970/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/970/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/970/events", "html_url": "https://github.com/mher/flower/issues/970", "id": 607864106, "node_id": "MDU6SXNzdWU2MDc4NjQxMDY=", "number": 970, "title": "Flower fails to monitor Celery queues that are using Redis Sentinel as a broker instead of just Redis", "user": {"login": "ayounes", "id": 9139332, "node_id": "MDQ6VXNlcjkxMzkzMzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/9139332?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayounes", "html_url": "https://github.com/ayounes", "followers_url": "https://api.github.com/users/ayounes/followers", "following_url": "https://api.github.com/users/ayounes/following{/other_user}", "gists_url": "https://api.github.com/users/ayounes/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayounes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayounes/subscriptions", "organizations_url": "https://api.github.com/users/ayounes/orgs", "repos_url": "https://api.github.com/users/ayounes/repos", "events_url": "https://api.github.com/users/ayounes/events{/privacy}", "received_events_url": "https://api.github.com/users/ayounes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-27T21:25:11Z", "updated_at": "2020-04-30T23:33:19Z", "closed_at": "2020-04-30T23:33:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "To improve resiliency, I converted my standalone redis deployment to a cluster of three Redis sentinels. I was able to connect Celery to the Redis Sentinel setup by modifying my Celery config to include\r\n\r\n`BROKER_URL = 'sentinel://10.1.1.1:26379/0;sentinel://10.1.1.2:26379/0;sentinel://10.1.1.3:26379/0'`\r\n\r\n`BROKER_TRANSPORT_OPTIONS = {'visibility_timeout': 32400, 'master_name': 'mymaster'}`\r\n \r\nThe key to getting Celery to connect was to add the BROKER_TRANSPORT_OPTIONS and define the master_name as it was setup in my redis config.\r\n\r\nI am also using Flower to monitor my Celery queues by running something like this:\r\n\r\n`celery flower --basic_auth=user1:pass123 --port=5555 --broker=redis://localhost:6379/0`\r\n\r\nBut now that I have a Redis Sentinel deployment I think I need a way to pass the transport options for it connect successfully, otherwise if I do this:\r\n\r\n`celery flower --basic_auth=user1:pass123 --port=5555 -b 'sentinel://10.1.1.1:26379/0;sentinel://10.1.1.2:26379/0;sentinel://10.1.1.3:26379/0' --debug\r\n`\r\n\r\nIt simply hangs:\r\n\r\n`[I 200427 13:01:36 command:139] Visit me at http://localhost:5555`\r\n`[I 200427 13:01:36 command:144] Broker: sentinel://10.1.1.1:26379/0`\r\n`[I 200427 13:01:36 command:147] Registered tasks:`\r\n `   [u'celery.accumulate',`\r\n`     u'celery.backend_cleanup',`\r\n`     u'celery.chain',`\r\n`     u'celery.chord',`\r\n`     u'celery.chord_unlock',`\r\n`     u'celery.chunks',`\r\n`     u'celery.group',`\r\n`     u'celery.map',`\r\n`     u'celery.starmap']`\r\n`[D 200427 13:01:36 command:149] Settings: {'cookie_secret':` `'W0UNu/+hQLCUYD2smFhIBMo9nrJqn0ZimgrxxroGeSI=',`\r\n `    'debug': True,`\r\n  `   'login_url': '/login',`\r\n  `   'static_path': '/usr/local/lib/python2.7/dist-packages/flower/static',`\r\n    ` 'static_url_prefix': '/static/',`\r\n     `'template_path': '/usr/local/lib/python2.7/dist-packages/flower/templates'}`\r\n`[D 200427 13:01:36 control:29] Updating all worker's cache...`\r\n\r\nI understand that the BROKER_TRANSPORT_OPTIONS is a celery concept not flower, I tried the --conf option to pass in config with TRANSPORT config but it doesn't seem to pick it up.\r\n\r\nAny help on this would be greatly appreciated. I scoured the celery and flower documentation to see how I can address this with no luck.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/967", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/967/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/967/events", "html_url": "https://github.com/mher/flower/issues/967", "id": 595518606, "node_id": "MDU6SXNzdWU1OTU1MTg2MDY=", "number": 967, "title": "How to run \"flower\" on AWS Elastic Beanstalk?", "user": {"login": "javidsch", "id": 28500366, "node_id": "MDQ6VXNlcjI4NTAwMzY2", "avatar_url": "https://avatars2.githubusercontent.com/u/28500366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javidsch", "html_url": "https://github.com/javidsch", "followers_url": "https://api.github.com/users/javidsch/followers", "following_url": "https://api.github.com/users/javidsch/following{/other_user}", "gists_url": "https://api.github.com/users/javidsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/javidsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javidsch/subscriptions", "organizations_url": "https://api.github.com/users/javidsch/orgs", "repos_url": "https://api.github.com/users/javidsch/repos", "events_url": "https://api.github.com/users/javidsch/events{/privacy}", "received_events_url": "https://api.github.com/users/javidsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-07T00:59:08Z", "updated_at": "2020-06-13T14:58:20Z", "closed_at": "2020-06-13T14:58:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI need to install flower on AWS via Elastic Beanstalk.\r\nCould not find any example. \r\nWho have tried AWS+ElasticBeansTalk+Flower?\r\nSpecially need need to specify \"WSGIPath\" on EB configs.\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/966", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/966/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/966/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/966/events", "html_url": "https://github.com/mher/flower/issues/966", "id": 588420140, "node_id": "MDU6SXNzdWU1ODg0MjAxNDA=", "number": 966, "title": "Add Gitlab authentication", "user": {"login": "thenewguy", "id": 77731, "node_id": "MDQ6VXNlcjc3NzMx", "avatar_url": "https://avatars2.githubusercontent.com/u/77731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenewguy", "html_url": "https://github.com/thenewguy", "followers_url": "https://api.github.com/users/thenewguy/followers", "following_url": "https://api.github.com/users/thenewguy/following{/other_user}", "gists_url": "https://api.github.com/users/thenewguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenewguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenewguy/subscriptions", "organizations_url": "https://api.github.com/users/thenewguy/orgs", "repos_url": "https://api.github.com/users/thenewguy/repos", "events_url": "https://api.github.com/users/thenewguy/events{/privacy}", "received_events_url": "https://api.github.com/users/thenewguy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 629242863, "node_id": "MDU6TGFiZWw2MjkyNDI4NjM=", "url": "https://api.github.com/repos/mher/flower/labels/auth", "name": "auth", "color": "b60205", "default": false, "description": null}, {"id": 8754005, "node_id": "MDU6TGFiZWw4NzU0MDA1", "url": "https://api.github.com/repos/mher/flower/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-26T13:26:52Z", "updated_at": "2020-06-28T22:07:58Z", "closed_at": "2020-06-28T20:44:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be helpful to accept authentication against Gitlab.\r\n\r\nIt would also be helpful to allow the Gitlab to be a locally installed Gitlab.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/962", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/962/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/962/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/962/events", "html_url": "https://github.com/mher/flower/issues/962", "id": 578306506, "node_id": "MDU6SXNzdWU1NzgzMDY1MDY=", "number": 962, "title": "xAxis time format always be GMT on graphs in monitor page ", "user": {"login": "whusnoopy", "id": 590666, "node_id": "MDQ6VXNlcjU5MDY2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/590666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whusnoopy", "html_url": "https://github.com/whusnoopy", "followers_url": "https://api.github.com/users/whusnoopy/followers", "following_url": "https://api.github.com/users/whusnoopy/following{/other_user}", "gists_url": "https://api.github.com/users/whusnoopy/gists{/gist_id}", "starred_url": "https://api.github.com/users/whusnoopy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whusnoopy/subscriptions", "organizations_url": "https://api.github.com/users/whusnoopy/orgs", "repos_url": "https://api.github.com/users/whusnoopy/repos", "events_url": "https://api.github.com/users/whusnoopy/events{/privacy}", "received_events_url": "https://api.github.com/users/whusnoopy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-10T03:05:22Z", "updated_at": "2020-03-28T22:10:09Z", "closed_at": "2020-03-28T22:10:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi there,\r\n\r\nas the time in tasks or other page can set to show in local time, but the times on monitor page always displayed in GMT format, it always confused me to translate GMT to my local time.\r\n\r\nAs we use [Rickshaw](https://github.com/shutterstock/rickshaw) for the monitor graphs, it allows to use custom `xFormatter` on `hoverDetail` as we do the same thing on [`yFormatter`](https://github.com/mher/flower/blob/master/flower/static/js/flower.js#L440), if we add custom xFormatter settings to hoverDetail then we can get local time when hover on monitor graphs\r\n\r\n```js\r\n        hoverDetail = new Rickshaw.Graph.HoverDetail({\r\n            graph: graph,\r\n            yFormatter: function (y) {\r\n                if (y % 1 === 0) {\r\n                    return y + metric;\r\n                } else {\r\n                    return y.toFixed(2) + metric;\r\n                }\r\n            },\r\n            xFormatter: function (x) {\r\n                return moment(x * 1e3).format(\"YYYY-MM-DD HH:mm:ss\");\r\n            }\r\n        });\r\n```\r\n\r\nI will give a Pull Request if we accept this change.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/960", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/960/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/960/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/960/events", "html_url": "https://github.com/mher/flower/issues/960", "id": 573312770, "node_id": "MDU6SXNzdWU1NzMzMTI3NzA=", "number": 960, "title": "python3 only support", "user": {"login": "jheld", "id": 828813, "node_id": "MDQ6VXNlcjgyODgxMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/828813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jheld", "html_url": "https://github.com/jheld", "followers_url": "https://api.github.com/users/jheld/followers", "following_url": "https://api.github.com/users/jheld/following{/other_user}", "gists_url": "https://api.github.com/users/jheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/jheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jheld/subscriptions", "organizations_url": "https://api.github.com/users/jheld/orgs", "repos_url": "https://api.github.com/users/jheld/repos", "events_url": "https://api.github.com/users/jheld/events{/privacy}", "received_events_url": "https://api.github.com/users/jheld/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-29T15:14:17Z", "updated_at": "2020-04-17T03:23:28Z", "closed_at": "2020-04-17T03:23:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Although celery 5 is where py2.7 support will be removed, does flower have the same burden?\r\n\r\nsyntax wise so long as we don't use anything special that celery internally cannot, it should be compatible? and since we have a test suite perhaps that will keep us honest?\r\n\r\ni'm going to open a PR but not necessarily expecting it will get merged short term.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/959", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/959/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/959/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/959/events", "html_url": "https://github.com/mher/flower/issues/959", "id": 571228348, "node_id": "MDU6SXNzdWU1NzEyMjgzNDg=", "number": 959, "title": "Flower configured with redis broker with password enabled fails to display stats.", "user": {"login": "infa-pthimmap", "id": 58762864, "node_id": "MDQ6VXNlcjU4NzYyODY0", "avatar_url": "https://avatars1.githubusercontent.com/u/58762864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infa-pthimmap", "html_url": "https://github.com/infa-pthimmap", "followers_url": "https://api.github.com/users/infa-pthimmap/followers", "following_url": "https://api.github.com/users/infa-pthimmap/following{/other_user}", "gists_url": "https://api.github.com/users/infa-pthimmap/gists{/gist_id}", "starred_url": "https://api.github.com/users/infa-pthimmap/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infa-pthimmap/subscriptions", "organizations_url": "https://api.github.com/users/infa-pthimmap/orgs", "repos_url": "https://api.github.com/users/infa-pthimmap/repos", "events_url": "https://api.github.com/users/infa-pthimmap/events{/privacy}", "received_events_url": "https://api.github.com/users/infa-pthimmap/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-26T10:27:38Z", "updated_at": "2020-02-28T05:11:29Z", "closed_at": "2020-02-28T05:11:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have redis instance as a broker which is auth enabled.  When I try to run flower with broker that is not password enabled works fine. However when I enable the password for redis, it fails to display the monitoring stats. Could you please help me here?\r\n\r\ncmd>\r\nflower -A worker.celery_sendemail --broker=redis://:password@localhost:6379/0 --broker_api=redis://:password@localhost:6379/0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/958", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/958/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/958/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/958/events", "html_url": "https://github.com/mher/flower/issues/958", "id": 562519855, "node_id": "MDU6SXNzdWU1NjI1MTk4NTU=", "number": 958, "title": "Django static files - create subdirectory for flower", "user": {"login": "yuriescl", "id": 26092447, "node_id": "MDQ6VXNlcjI2MDkyNDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/26092447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuriescl", "html_url": "https://github.com/yuriescl", "followers_url": "https://api.github.com/users/yuriescl/followers", "following_url": "https://api.github.com/users/yuriescl/following{/other_user}", "gists_url": "https://api.github.com/users/yuriescl/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuriescl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuriescl/subscriptions", "organizations_url": "https://api.github.com/users/yuriescl/orgs", "repos_url": "https://api.github.com/users/yuriescl/repos", "events_url": "https://api.github.com/users/yuriescl/events{/privacy}", "received_events_url": "https://api.github.com/users/yuriescl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-10T12:10:42Z", "updated_at": "2020-04-17T11:09:39Z", "closed_at": "2020-04-17T01:45:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Flower has no subdirectory called `flower` in the `static` directory. This means it will place its static files directly into `STATIC_ROOT` instead of `STATIC_ROOT/flower`, which causes this app to override files in `STATIC_ROOT` when `collectstatic` is run.\r\nFor example, if I have a `STATIC_ROOT/css/bootstrap.css` it will get overwritten by Flower's `css/bootstrap.css`. This must not happen, as Flower's static files should go to `STATIC_ROOT/flower`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/954", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/954/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/954/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/954/events", "html_url": "https://github.com/mher/flower/issues/954", "id": 548391082, "node_id": "MDU6SXNzdWU1NDgzOTEwODI=", "number": 954, "title": "Fatal Python error: Cannot recover from stack overflow.", "user": {"login": "yeyuqiu", "id": 10056735, "node_id": "MDQ6VXNlcjEwMDU2NzM1", "avatar_url": "https://avatars3.githubusercontent.com/u/10056735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yeyuqiu", "html_url": "https://github.com/yeyuqiu", "followers_url": "https://api.github.com/users/yeyuqiu/followers", "following_url": "https://api.github.com/users/yeyuqiu/following{/other_user}", "gists_url": "https://api.github.com/users/yeyuqiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/yeyuqiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yeyuqiu/subscriptions", "organizations_url": "https://api.github.com/users/yeyuqiu/orgs", "repos_url": "https://api.github.com/users/yeyuqiu/repos", "events_url": "https://api.github.com/users/yeyuqiu/events{/privacy}", "received_events_url": "https://api.github.com/users/yeyuqiu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-11T06:50:35Z", "updated_at": "2020-04-17T03:24:24Z", "closed_at": "2020-04-17T03:24:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "python: 3.7.5\r\n\r\npackage version:\r\ncelery==4.4.0\r\nflower==0.9.3\r\nkombu==4.6.7\r\nredis==3.3.11\r\ntornado==5.1.1\r\n\r\n\r\nwhen I started flower like this: celery flower --broker=redis://10.200.161.50:6301/7\r\n\r\n[I 200111 14:42:07 command:136] Visit me at http://localhost:5555\r\n[I 200111 14:42:07 command:141] Broker: redis://10.200.161.50:6301/7\r\n[I 200111 14:42:07 command:144] Registered tasks:\r\n    ['celery.accumulate',\r\n     'celery.backend_cleanup',\r\n     'celery.chain',\r\n     'celery.chord',\r\n     'celery.chord_unlock',\r\n     'celery.chunks',\r\n     'celery.group',\r\n     'celery.map',\r\n     'celery.starmap']\r\nFatal Python error: Cannot recover from stack overflow.\r\n\r\nThread 0x00007000070ce000 (most recent call first):\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/lib/python3.7/socket.py\", line 414 in _real_close\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/lib/python3.7/socket.py\", line 420 in close\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 635 in disconnect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/kombu/transport/redis.py\", line 953 in disconnect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 711 in read_response\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 645 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  ...\r\n\r\nThread 0x0000700006bcb000 (most recent call first):\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 584 in _connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 539 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 650 in check_health\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 661 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 623 in on_connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 548 in connect\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 658 in send_packed_command\r\n  File \"/Users/yeyuqiu/.pyenv/versions/3.7.5/envs/schedule/lib/python3.7/site-packages/redis/connection.py\", line 687 in send_command", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/952", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/952/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/952/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/952/events", "html_url": "https://github.com/mher/flower/issues/952", "id": 541770084, "node_id": "MDU6SXNzdWU1NDE3NzAwODQ=", "number": 952, "title": "Apply task API doesn't wait for results as stated in documentation", "user": {"login": "pablotunon", "id": 59169598, "node_id": "MDQ6VXNlcjU5MTY5NTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/59169598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pablotunon", "html_url": "https://github.com/pablotunon", "followers_url": "https://api.github.com/users/pablotunon/followers", "following_url": "https://api.github.com/users/pablotunon/following{/other_user}", "gists_url": "https://api.github.com/users/pablotunon/gists{/gist_id}", "starred_url": "https://api.github.com/users/pablotunon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pablotunon/subscriptions", "organizations_url": "https://api.github.com/users/pablotunon/orgs", "repos_url": "https://api.github.com/users/pablotunon/repos", "events_url": "https://api.github.com/users/pablotunon/events{/privacy}", "received_events_url": "https://api.github.com/users/pablotunon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-23T14:08:00Z", "updated_at": "2019-12-29T18:38:20Z", "closed_at": "2019-12-29T18:38:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working in an application running celery through rabbitmq (which seem to be properly configured).\r\n\r\nAt some point, it looked convenient to enhace our celery workers using flower, so they expose a REST API that we can interact with synchronously to invoke tasks through http and obtain results.\r\n\r\nAfter several headaches, I achieved a point where flower returns something when the API call is made. But the result is \"null\" and the state is \"pending\". I'd like the call to stay blocked until the result is produced. It's worth saying that a call to \"info\" afterwards returns a runtime of \"0.0003560459990694653\", so I don't think it exceeded any timeout.\r\n\r\nI don't know whether it's a configuration issue on my side, the expected behaviour or a bug. But the documentation clearly states \"Execute a task by name and wait results\" with an example where the result is given.\r\n\r\nIn case it's of any help, what caused me most headaches was to configure a \"backend\", I had to do it explicitly for the task, like this:\r\n\r\n```\r\nfrom celery.backends.rpc import RPCBackend\r\nfrom myapp.workers.main import app as worker\r\n\r\n@worker.task(name='mytask', backend=RPCBackend(app=worker))\r\ndef mytask():\r\n    return \"OK\"\r\n```\r\n\r\nThanks in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/951", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/951/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/951/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/951/events", "html_url": "https://github.com/mher/flower/issues/951", "id": 538486985, "node_id": "MDU6SXNzdWU1Mzg0ODY5ODU=", "number": 951, "title": "Is Flower single threaded?", "user": {"login": "PasqualePuzio", "id": 7646303, "node_id": "MDQ6VXNlcjc2NDYzMDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7646303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PasqualePuzio", "html_url": "https://github.com/PasqualePuzio", "followers_url": "https://api.github.com/users/PasqualePuzio/followers", "following_url": "https://api.github.com/users/PasqualePuzio/following{/other_user}", "gists_url": "https://api.github.com/users/PasqualePuzio/gists{/gist_id}", "starred_url": "https://api.github.com/users/PasqualePuzio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PasqualePuzio/subscriptions", "organizations_url": "https://api.github.com/users/PasqualePuzio/orgs", "repos_url": "https://api.github.com/users/PasqualePuzio/repos", "events_url": "https://api.github.com/users/PasqualePuzio/events{/privacy}", "received_events_url": "https://api.github.com/users/PasqualePuzio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-16T15:35:03Z", "updated_at": "2019-12-17T09:37:20Z", "closed_at": "2019-12-17T09:37:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI was wondering whether Flower is single threaded or not and, if it is, how to make it multi threaded.\r\n\r\nThis is very important to us as we use Flower HTTP API to create tasks remotely and sometimes there might be tens or even hundreds of \"simultaneous\" requests which, if not processed in parallel, might slow down the system.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/950", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/950/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/950/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/950/events", "html_url": "https://github.com/mher/flower/issues/950", "id": 535716475, "node_id": "MDU6SXNzdWU1MzU3MTY0NzU=", "number": 950, "title": "No persistent data if launch with bash script", "user": {"login": "odgon", "id": 42606, "node_id": "MDQ6VXNlcjQyNjA2", "avatar_url": "https://avatars1.githubusercontent.com/u/42606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/odgon", "html_url": "https://github.com/odgon", "followers_url": "https://api.github.com/users/odgon/followers", "following_url": "https://api.github.com/users/odgon/following{/other_user}", "gists_url": "https://api.github.com/users/odgon/gists{/gist_id}", "starred_url": "https://api.github.com/users/odgon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/odgon/subscriptions", "organizations_url": "https://api.github.com/users/odgon/orgs", "repos_url": "https://api.github.com/users/odgon/repos", "events_url": "https://api.github.com/users/odgon/events{/privacy}", "received_events_url": "https://api.github.com/users/odgon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-10T13:03:05Z", "updated_at": "2019-12-10T17:46:03Z", "closed_at": "2019-12-10T17:46:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello guys, \r\nI got an issue with persistent mode while launching flower with a bash script.\r\n\r\nMy script looks like this. \r\n\r\n```bash\r\n#!/usr/bin/env bash\r\necho $(source venv/bin/activate) &\r\necho $(celery -E -A tom.tache worker --loglevel=info --logfile=logs/celery.log) &\r\necho $(celery flower -A tom.tache --port=5555 --basic_auth=dev:dev --broker=amqp://guest:guest@localhost:5672 --db=flower.db --persistent=true) &\r\n```\r\n\r\nAlready try: \r\n```bash\r\n#!/usr/bin/env bash\r\nsource venv/bin/activate\r\ncelery -E -A tom.tache worker --loglevel=info --logfile=logs/celery.log\r\ncelery flower -A tom.tache --port=5555 --basic_auth=dev:dev --broker=amqp://guest:guest@localhost:5672 --db=flower.db --persistent=true\r\n```\r\n\r\nNothing to do I cannot get tasks in persistent mode launching with bash.sh script.\r\nBut if i launch the same cmd from terminal I get my data persistent ON.\r\n\r\nRegards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/948", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/948/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/948/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/948/events", "html_url": "https://github.com/mher/flower/issues/948", "id": 533546924, "node_id": "MDU6SXNzdWU1MzM1NDY5MjQ=", "number": 948, "title": "ValueError: invalid literal for int() with base 10: 'tcp://172.20.76.251:5555'", "user": {"login": "nodesocket", "id": 523312, "node_id": "MDQ6VXNlcjUyMzMxMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/523312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nodesocket", "html_url": "https://github.com/nodesocket", "followers_url": "https://api.github.com/users/nodesocket/followers", "following_url": "https://api.github.com/users/nodesocket/following{/other_user}", "gists_url": "https://api.github.com/users/nodesocket/gists{/gist_id}", "starred_url": "https://api.github.com/users/nodesocket/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nodesocket/subscriptions", "organizations_url": "https://api.github.com/users/nodesocket/orgs", "repos_url": "https://api.github.com/users/nodesocket/repos", "events_url": "https://api.github.com/users/nodesocket/events{/privacy}", "received_events_url": "https://api.github.com/users/nodesocket/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-05T19:25:41Z", "updated_at": "2019-12-29T18:47:26Z", "closed_at": "2019-12-29T18:47:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running Flower via Docker container and it is crashing with:\r\n\r\n```\r\nflower   -> flower:0.9.2 tornado:5.1.1 babel:2.6.0\r\nsoftware -> celery:4.2.1 (windowlicker) kombu:4.2.2-post1 py:3.7.2\r\n            billiard:3.5.0.5 py-amqp:2.3.2\r\nplatform -> system:Linux arch:64bit imp:CPython\r\nloader   -> celery.loaders.default.Loader\r\nsettings -> transport:amqp results:amqp://userhere:**@rabbitmq.default.svc.cluster.local:5672/\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/flower\", line 11, in <module>\r\n    load_entry_point('flower==0.9.2', 'console_scripts', 'flower')()\r\n  File \"/usr/local/lib/python3.7/site-packages/flower/__main__.py\", line 11, in main\r\n    flower.execute_from_commandline()\r\n  File \"/usr/local/lib/python3.7/site-packages/celery/bin/base.py\", line 275, in execute_from_commandline\r\n    return self.handle_argv(self.prog_name, argv[1:])\r\n  File \"/usr/local/lib/python3.7/site-packages/flower/command.py\", line 59, in handle_argv\r\n    return self.run_from_argv(prog_name, argv)\r\n  File \"/usr/local/lib/python3.7/site-packages/flower/command.py\", line 36, in run_from_argv\r\n    self.apply_env_options()\r\n  File \"/usr/local/lib/python3.7/site-packages/flower/command.py\", line 74, in apply_env_options\r\n    value = option.type(value)\r\nValueError: invalid literal for int() with base 10: 'tcp://172.20.76.251:5555'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/947", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/947/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/947/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/947/events", "html_url": "https://github.com/mher/flower/issues/947", "id": 532698780, "node_id": "MDU6SXNzdWU1MzI2OTg3ODA=", "number": 947, "title": "CLI vs config options", "user": {"login": "jheld", "id": 828813, "node_id": "MDQ6VXNlcjgyODgxMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/828813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jheld", "html_url": "https://github.com/jheld", "followers_url": "https://api.github.com/users/jheld/followers", "following_url": "https://api.github.com/users/jheld/following{/other_user}", "gists_url": "https://api.github.com/users/jheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/jheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jheld/subscriptions", "organizations_url": "https://api.github.com/users/jheld/orgs", "repos_url": "https://api.github.com/users/jheld/repos", "events_url": "https://api.github.com/users/jheld/events{/privacy}", "received_events_url": "https://api.github.com/users/jheld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529099779, "node_id": "MDU6TGFiZWw1MjkwOTk3Nzk=", "url": "https://api.github.com/repos/mher/flower/labels/options", "name": "options", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-04T13:52:50Z", "updated_at": "2020-06-13T01:17:45Z", "closed_at": "2020-06-13T01:17:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For #818 to make it more pluggable, I'm trying to find a more consistent method of passing/using configuration arguments.\r\n\r\nThe `options` variable can take adjustments correctly, but, it seems that the `self.capp.conf` does not register these options unless they're present in the flowerconfig module.\r\n\r\nSo are we to understand that the `options` variable is the only one we should be looking at for flower-specific settings? The reason this is confusing is because the docs suggest that both the CLI and settings module are valid ways to set things up (with ENV and CLI taking precedence in the actual use).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/946", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/946/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/946/events", "html_url": "https://github.com/mher/flower/issues/946", "id": 532382156, "node_id": "MDU6SXNzdWU1MzIzODIxNTY=", "number": 946, "title": "Flower displaying a single task at a time.", "user": {"login": "alekhrycaiko", "id": 12000039, "node_id": "MDQ6VXNlcjEyMDAwMDM5", "avatar_url": "https://avatars1.githubusercontent.com/u/12000039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alekhrycaiko", "html_url": "https://github.com/alekhrycaiko", "followers_url": "https://api.github.com/users/alekhrycaiko/followers", "following_url": "https://api.github.com/users/alekhrycaiko/following{/other_user}", "gists_url": "https://api.github.com/users/alekhrycaiko/gists{/gist_id}", "starred_url": "https://api.github.com/users/alekhrycaiko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alekhrycaiko/subscriptions", "organizations_url": "https://api.github.com/users/alekhrycaiko/orgs", "repos_url": "https://api.github.com/users/alekhrycaiko/repos", "events_url": "https://api.github.com/users/alekhrycaiko/events{/privacy}", "received_events_url": "https://api.github.com/users/alekhrycaiko/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-04T01:31:29Z", "updated_at": "2020-04-17T03:21:35Z", "closed_at": "2020-04-17T03:21:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI've been noticing that Flower likes to show only a single task at a time (on the tasks tab). This occurs after running for some time. In my situation, I'm certain that there are many more tasks available then the single one displayed on this tab.\r\n\r\nI'm not too sure as to why this is happening; but would like a fix so I can see what tasks are running. The only sure way for me to see tasks running currently, would be to actually restart Flower and then see the list of tasks it's processing. \r\n\r\nI'm currently running the following versions of kombu and celery for my workers\r\n- celery 4.3.0 \r\n- kombu 4.6.6\r\n\r\nFlower is being run on the latest docker image provided by `mher`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/945", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/945/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/945/events", "html_url": "https://github.com/mher/flower/issues/945", "id": 531550480, "node_id": "MDU6SXNzdWU1MzE1NTA0ODA=", "number": 945, "title": "FEATURE: Add health check for web server", "user": {"login": "scarbeau", "id": 26334463, "node_id": "MDQ6VXNlcjI2MzM0NDYz", "avatar_url": "https://avatars2.githubusercontent.com/u/26334463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scarbeau", "html_url": "https://github.com/scarbeau", "followers_url": "https://api.github.com/users/scarbeau/followers", "following_url": "https://api.github.com/users/scarbeau/following{/other_user}", "gists_url": "https://api.github.com/users/scarbeau/gists{/gist_id}", "starred_url": "https://api.github.com/users/scarbeau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scarbeau/subscriptions", "organizations_url": "https://api.github.com/users/scarbeau/orgs", "repos_url": "https://api.github.com/users/scarbeau/repos", "events_url": "https://api.github.com/users/scarbeau/events{/privacy}", "received_events_url": "https://api.github.com/users/scarbeau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754005, "node_id": "MDU6TGFiZWw4NzU0MDA1", "url": "https://api.github.com/repos/mher/flower/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-02T21:28:22Z", "updated_at": "2020-07-01T01:39:26Z", "closed_at": "2020-06-25T20:21:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Use case\r\nRunning Flower behind ALB within AWS.\r\n\r\n\r\n## Implementation\r\n\r\n/flower/views/alive.py\r\n```python\r\nfrom __future__ import absolute_import\r\n\r\nfrom ..views import BaseHandler\r\n\r\n\r\nclass HealthCheckHandler(BaseHandler):\r\n    def get(self):\r\n        self.set_status(200)\r\n        self.write('OK')\r\n```\r\n\r\n/flower/urls.py\r\n```python\r\n(r\"/alive\", HealthCheckHandler),\r\n```\r\n\r\n\r\n/tests/views/test_alive.py\r\n```python\r\nfrom tests.unit import AsyncHTTPTestCase\r\n\r\n\r\nclass AliveTests(AsyncHTTPTestCase):\r\n    def test_health_check(self):\r\n        r = self.get('/alive')\r\n        self.assertEqual(200, r.code)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/944", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/944/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/944/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/944/events", "html_url": "https://github.com/mher/flower/issues/944", "id": 530856284, "node_id": "MDU6SXNzdWU1MzA4NTYyODQ=", "number": 944, "title": "Can flower tasks tab be shown in desc on `Started Column`", "user": {"login": "xiazhibin", "id": 11945009, "node_id": "MDQ6VXNlcjExOTQ1MDA5", "avatar_url": "https://avatars0.githubusercontent.com/u/11945009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiazhibin", "html_url": "https://github.com/xiazhibin", "followers_url": "https://api.github.com/users/xiazhibin/followers", "following_url": "https://api.github.com/users/xiazhibin/following{/other_user}", "gists_url": "https://api.github.com/users/xiazhibin/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiazhibin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiazhibin/subscriptions", "organizations_url": "https://api.github.com/users/xiazhibin/orgs", "repos_url": "https://api.github.com/users/xiazhibin/repos", "events_url": "https://api.github.com/users/xiazhibin/events{/privacy}", "received_events_url": "https://api.github.com/users/xiazhibin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-02T02:49:51Z", "updated_at": "2019-12-09T07:00:11Z", "closed_at": "2019-12-09T07:00:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am upgrade flower 0.9.2 to 0.9.3.\r\n\r\nIn 0.9.2, flower show tasks on `Started` Column in asc order. And the time is present the newest such as `2019-12-02`\r\n\r\nBut after upgrade to 0.9.3, nothing changes.But the time now is the oldest,such as `2018-01-01`.\r\nI must change the order on `Started` column in desc order to make it display right.\r\n\r\nMy flower command is `flower -A proj --persistent=True db=flower`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/943", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/943/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/943/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/943/events", "html_url": "https://github.com/mher/flower/issues/943", "id": 526959921, "node_id": "MDU6SXNzdWU1MjY5NTk5MjE=", "number": 943, "title": "Error in d3.layout.min.js", "user": {"login": "djbaldey", "id": 1411897, "node_id": "MDQ6VXNlcjE0MTE4OTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1411897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djbaldey", "html_url": "https://github.com/djbaldey", "followers_url": "https://api.github.com/users/djbaldey/followers", "following_url": "https://api.github.com/users/djbaldey/following{/other_user}", "gists_url": "https://api.github.com/users/djbaldey/gists{/gist_id}", "starred_url": "https://api.github.com/users/djbaldey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djbaldey/subscriptions", "organizations_url": "https://api.github.com/users/djbaldey/orgs", "repos_url": "https://api.github.com/users/djbaldey/repos", "events_url": "https://api.github.com/users/djbaldey/events{/privacy}", "received_events_url": "https://api.github.com/users/djbaldey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529091032, "node_id": "MDU6TGFiZWw1MjkwOTEwMzI=", "url": "https://api.github.com/repos/mher/flower/labels/monitor", "name": "monitor", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-22T03:05:44Z", "updated_at": "2020-07-05T18:26:15Z", "closed_at": "2020-07-05T18:26:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm install last flower form PyPI.\r\nVersions: flower-0.9.3 tornado-5.1.1\r\nError in the browser console:\r\n```\r\nd3.layout.min.js?v=4d73dea16077b0d7d128ecf7a4c20752:1 Uncaught TypeError: Cannot read property 'length' of undefined\r\n    at Function.zero (d3.layout.min.js?v=4d73dea16077b0d7d128ecf7a4c20752:1)\r\n    at g (d3.layout.min.js?v=4d73dea16077b0d7d128ecf7a4c20752:1)\r\n    at Rickshaw.Graph.stackData (rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1)\r\n    at klass.domain (rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:2)\r\n    at Rickshaw.Graph.discoverRange (rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1)\r\n    at Rickshaw.Graph.initialize (rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1)\r\n    at new Rickshaw.Graph (rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1)\r\n    at create_graph (flower.js?v=24b9764780721d1eed46fa6e344d7997:396)\r\n    at Object.success (flower.js?v=24b9764780721d1eed46fa6e344d7997:622)\r\n    at o (jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2)\r\nzero @ d3.layout.min.js?v=4d73dea16077b0d7d128ecf7a4c20752:1\r\ng @ d3.layout.min.js?v=4d73dea16077b0d7d128ecf7a4c20752:1\r\nstackData @ rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1\r\ndomain @ rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:2\r\ndiscoverRange @ rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1\r\ninitialize @ rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1\r\nRickshaw.Graph @ rickshaw.min.js?v=fc927b6dd64118caa563b711bcb2f130:1\r\ncreate_graph @ flower.js?v=24b9764780721d1eed46fa6e344d7997:396\r\nsuccess @ flower.js?v=24b9764780721d1eed46fa6e344d7997:622\r\no @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2\r\nfireWith @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2\r\nw @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:4\r\nd @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:4\r\nXMLHttpRequest.send (async)\r\nsend @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:4\r\najax @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:4\r\n(anonymous) @ flower.js?v=24b9764780721d1eed46fa6e344d7997:618\r\no @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2\r\nfireWith @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2\r\nready @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2\r\nB @ jquery-1.7.2.min.js?v=b8d64d0bc142b3f670cc0611b0aebcae:2\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/942", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/942/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/942/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/942/events", "html_url": "https://github.com/mher/flower/issues/942", "id": 526582377, "node_id": "MDU6SXNzdWU1MjY1ODIzNzc=", "number": 942, "title": "Flower in docker throws 500 on api request to /api/task/info/task_uuid", "user": {"login": "AndriiIsiuk", "id": 28352615, "node_id": "MDQ6VXNlcjI4MzUyNjE1", "avatar_url": "https://avatars0.githubusercontent.com/u/28352615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndriiIsiuk", "html_url": "https://github.com/AndriiIsiuk", "followers_url": "https://api.github.com/users/AndriiIsiuk/followers", "following_url": "https://api.github.com/users/AndriiIsiuk/following{/other_user}", "gists_url": "https://api.github.com/users/AndriiIsiuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndriiIsiuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndriiIsiuk/subscriptions", "organizations_url": "https://api.github.com/users/AndriiIsiuk/orgs", "repos_url": "https://api.github.com/users/AndriiIsiuk/repos", "events_url": "https://api.github.com/users/AndriiIsiuk/events{/privacy}", "received_events_url": "https://api.github.com/users/AndriiIsiuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-21T13:05:30Z", "updated_at": "2020-04-24T10:59:54Z", "closed_at": "2020-04-17T02:40:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have found several similar issues, but all of them seem to be fixed by now, but I am still getting the same error while calling Flower API from Docker `/api/task/info/<task_uuid>`.\r\nHere is Traceback:\r\n```\r\nflower_1   | [E 191121 12:56:23 web:1670] Uncaught exception GET /api/task/info/f64a595b-a065-424c-80cb-bf897c2b9e17 (172.29.0.6)\r\nflower_1   |     HTTPServerRequest(protocol='http', host='flower:8888', method='GET', uri='/api/task/info/f64a595b-a065-424c-80cb-bf897c2b9e17', version='HTTP/1.1', remote_ip='100.100.0.100')\r\nflower_1   |     Traceback (most recent call last):\r\nflower_1   |       File \"/usr/local/lib/python3.7/site-packages/tornado/web.py\", line 1590, in _execute\r\nflower_1   |         result = method(*self.path_args, **self.path_kwargs)\r\nflower_1   |       File \"/usr/local/lib/python3.7/site-packages/tornado/web.py\", line 3006, in wrapper\r\nflower_1   |         return method(self, *args, **kwargs)\r\nflower_1   |       File \"/usr/local/lib/python3.7/site-packages/flower/api/tasks.py\", line 604, in get\r\nflower_1   |         self.write(response)\r\nflower_1   |       File \"/usr/local/lib/python3.7/site-packages/tornado/web.py\", line 746, in write\r\nflower_1   |         chunk = escape.json_encode(chunk)\r\nflower_1   |       File \"/usr/local/lib/python3.7/site-packages/tornado/escape.py\", line 81, in json_encode\r\nflower_1   |         return json.dumps(value).replace(\"</\", \"<\\\\/\")\r\nflower_1   |       File \"/usr/local/lib/python3.7/json/__init__.py\", line 231, in dumps\r\nflower_1   |         return _default_encoder.encode(obj)\r\nflower_1   |       File \"/usr/local/lib/python3.7/json/encoder.py\", line 199, in encode\r\nflower_1   |         chunks = self.iterencode(o, _one_shot=True)\r\nflower_1   |       File \"/usr/local/lib/python3.7/json/encoder.py\", line 257, in iterencode\r\nflower_1   |         return _iterencode(o, 0)\r\nflower_1   |       File \"/usr/local/lib/python3.7/json/encoder.py\", line 179, in default\r\nflower_1   |         raise TypeError(f'Object of type {o.__class__.__name__} '\r\nflower_1   |     TypeError: Object of type Task is not JSON serializable\r\n```\r\nCan you please tell what am I doning wrong? The same error is for any of `api/task/SPECIFIC_URL/<task_uuid>` Task-specific urls. But it works ok for `api/tasks` url. Is Docker version outdated or something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/941", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/941/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/941/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/941/events", "html_url": "https://github.com/mher/flower/issues/941", "id": 519850729, "node_id": "MDU6SXNzdWU1MTk4NTA3Mjk=", "number": 941, "title": "mongodb supported? now? thanks", "user": {"login": "yxxhero", "id": 11087727, "node_id": "MDQ6VXNlcjExMDg3NzI3", "avatar_url": "https://avatars3.githubusercontent.com/u/11087727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yxxhero", "html_url": "https://github.com/yxxhero", "followers_url": "https://api.github.com/users/yxxhero/followers", "following_url": "https://api.github.com/users/yxxhero/following{/other_user}", "gists_url": "https://api.github.com/users/yxxhero/gists{/gist_id}", "starred_url": "https://api.github.com/users/yxxhero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yxxhero/subscriptions", "organizations_url": "https://api.github.com/users/yxxhero/orgs", "repos_url": "https://api.github.com/users/yxxhero/repos", "events_url": "https://api.github.com/users/yxxhero/events{/privacy}", "received_events_url": "https://api.github.com/users/yxxhero/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-08T07:08:45Z", "updated_at": "2019-12-25T14:09:08Z", "closed_at": "2019-12-25T14:09:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "mongodb is supported? now? thanks?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/940", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/940/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/940/events", "html_url": "https://github.com/mher/flower/issues/940", "id": 518430805, "node_id": "MDU6SXNzdWU1MTg0MzA4MDU=", "number": 940, "title": "Tasks Column Revoked  timestamp format", "user": {"login": "363568233", "id": 6778018, "node_id": "MDQ6VXNlcjY3NzgwMTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/6778018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/363568233", "html_url": "https://github.com/363568233", "followers_url": "https://api.github.com/users/363568233/followers", "following_url": "https://api.github.com/users/363568233/following{/other_user}", "gists_url": "https://api.github.com/users/363568233/gists{/gist_id}", "starred_url": "https://api.github.com/users/363568233/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/363568233/subscriptions", "organizations_url": "https://api.github.com/users/363568233/orgs", "repos_url": "https://api.github.com/users/363568233/repos", "events_url": "https://api.github.com/users/363568233/events{/privacy}", "received_events_url": "https://api.github.com/users/363568233/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529090947, "node_id": "MDU6TGFiZWw1MjkwOTA5NDc=", "url": "https://api.github.com/repos/mher/flower/labels/tasks", "name": "tasks", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-06T12:08:28Z", "updated_at": "2020-06-30T19:59:08Z", "closed_at": "2020-06-30T19:59:07Z", "author_association": "NONE", "active_lock_reason": null, "body": " Now it shows 1573039509.2188535\r\n I want to show human-readable time format, like columns Received and Started \r\n 2019-11-06 19:20:55.932", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/939", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/939/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/939/events", "html_url": "https://github.com/mher/flower/issues/939", "id": 513855521, "node_id": "MDU6SXNzdWU1MTM4NTU1MjE=", "number": 939, "title": "local browser can show tasks and visit worker, but browser on other machines can not ", "user": {"login": "363568233", "id": 6778018, "node_id": "MDQ6VXNlcjY3NzgwMTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/6778018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/363568233", "html_url": "https://github.com/363568233", "followers_url": "https://api.github.com/users/363568233/followers", "following_url": "https://api.github.com/users/363568233/following{/other_user}", "gists_url": "https://api.github.com/users/363568233/gists{/gist_id}", "starred_url": "https://api.github.com/users/363568233/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/363568233/subscriptions", "organizations_url": "https://api.github.com/users/363568233/orgs", "repos_url": "https://api.github.com/users/363568233/repos", "events_url": "https://api.github.com/users/363568233/events{/privacy}", "received_events_url": "https://api.github.com/users/363568233/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-29T11:32:57Z", "updated_at": "2019-10-30T06:47:39Z", "closed_at": "2019-10-30T06:45:15Z", "author_association": "NONE", "active_lock_reason": null, "body": " It has the same problem when use the IP specified on the local machine", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/937", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/937/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/937/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/937/events", "html_url": "https://github.com/mher/flower/issues/937", "id": 508499786, "node_id": "MDU6SXNzdWU1MDg0OTk3ODY=", "number": 937, "title": "Have an issue with running flower with rabbitmq", "user": {"login": "imomaliev", "id": 3041675, "node_id": "MDQ6VXNlcjMwNDE2NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3041675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imomaliev", "html_url": "https://github.com/imomaliev", "followers_url": "https://api.github.com/users/imomaliev/followers", "following_url": "https://api.github.com/users/imomaliev/following{/other_user}", "gists_url": "https://api.github.com/users/imomaliev/gists{/gist_id}", "starred_url": "https://api.github.com/users/imomaliev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imomaliev/subscriptions", "organizations_url": "https://api.github.com/users/imomaliev/orgs", "repos_url": "https://api.github.com/users/imomaliev/repos", "events_url": "https://api.github.com/users/imomaliev/events{/privacy}", "received_events_url": "https://api.github.com/users/imomaliev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-17T14:04:35Z", "updated_at": "2019-12-29T16:03:57Z", "closed_at": "2019-12-29T16:03:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "here is my flowerconfig.py\r\n```\r\ntasks_columns = \"name,uuid,state,args,kwargs,result,received,eta,started,runtime,worker\"\r\npersistent = True\r\nxhaeders = True\r\ndb = \"/project/flower/db\"\r\nbroker_api = \"http://guest:guest@rabbitmq:15672/api/\"\r\n```\r\n\r\n\r\n```\r\nAttaching to project_flower_1\r\nTerminated\r\nCelery workers not available\r\n-> celery@worker.project: OK\r\n        pong\r\nStarting flower\r\n[I 191017 13:57:24 command:136] Visit me at http://localhost:5555\r\n[I 191017 13:57:24 command:141] Broker: amqp://guest:**@rabbitmq:5672//\r\n[I 191017 13:57:24 command:144] Registered tasks: \r\n    ['action:contacts-sync',\r\n     'action:prospect',\r\n     'celery.accumulate',\r\n     'celery.backend_cleanup',\r\n     'celery.chain',\r\n     'celery.chord',\r\n     'celery.chord_unlock',\r\n     'celery.chunks',\r\n     'celery.group',\r\n     'celery.map',\r\n     'celery.starmap']\r\n[I 191017 13:57:24 mixins:229] Connected to amqp://guest:**@rabbitmq:5672//\r\n[E 191017 13:57:31 web:1670] Uncaught exception GET /login?code=4/sQH5pAvoA5y3fgg2g6u0tvQrFap-UjHe1k8uli1hSY7VDqovZoxmgdaiewzsOA5RkM0BH7M2S2FhExDTARuUnVs&scope=email%20profile%20https://www.googleapis.com/auth/userinfo.profile%20https://www.googleapis.com/auth/userinfo.email&authuser=0&hd=project&session_state=54e5e9b5ccca41ae12a39f18ad82e53cf2d665e9..872f&prompt=none (172.18.0.9)\r\n    HTTPServerRequest(protocol='http', host='project', method='GET', uri='/login?code=4/sQH5pAvoA5y3fgg2g6u0tvQrFap-UjHe1k8uli1hSY7VDqovZoxmgdaiewzsOA5RkM0BH7M2S2FhExDTARuUnVs&scope=email%20profile%20https://www.googleapis.com/auth/userinfo.profile%20https://www.googleapis.com/auth/userinfo.email&authuser=0&hd=project&session_state=54e5e9b5ccca41ae12a39f18ad82e53cf2d665e9..872f&prompt=none', version='HTTP/1.1', remote_ip='172.18.0.9')\r\n    Traceback (most recent call last):\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/web.py\", line 1592, in _execute\r\n        result = yield result\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/gen.py\", line 1133, in run\r\n        value = future.result()\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/gen.py\", line 1141, in run\r\n        yielded = self.gen.throw(*exc_info)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/flower/views/auth.py\", line 32, in get\r\n        yield self._on_auth(user)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/gen.py\", line 1133, in run\r\n        value = future.result()\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n        yielded = self.gen.send(value)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/flower/views/auth.py\", line 66, in _on_auth\r\n        if self.application.options.url_prefix and next[0] != '/':\r\n    TypeError: 'builtin_function_or_method' object is not subscriptable\r\n[E 191017 13:57:39 web:1670] Uncaught exception GET /task/7ad008a1-67ce-4605-9eef-3103f693c0aa (172.18.0.9)\r\n    HTTPServerRequest(protocol='http', host='project', method='GET', uri='/task/7ad008a1-67ce-4605-9eef-3103f693c0aa', version='HTTP/1.1', remote_ip='172.18.0.9')\r\n    Traceback (most recent call last):\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/kombu/utils/objects.py\", line 42, in __get__\r\n        return obj.__dict__[self.__name__]\r\n    KeyError: 'timezone'\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/kombu/utils/objects.py\", line 42, in __get__\r\n        return obj.__dict__[self.__name__]\r\n    KeyError: 'data'\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/web.py\", line 1590, in _execute\r\n        result = method(*self.path_args, **self.path_kwargs)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/web.py\", line 3006, in wrapper\r\n        return method(self, *args, **kwargs)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/flower/views/tasks.py\", line 28, in get\r\n        self.render(\"task.html\", task=task)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/flower/views/__init__.py\", line 21, in render\r\n        super(BaseHandler, self).render(*args, **kwargs)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/web.py\", line 766, in render\r\n        html = self.render_string(template_name, **kwargs)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/web.py\", line 907, in render_string\r\n        return t.generate(**namespace)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/tornado/template.py\", line 346, in generate\r\n        return execute()\r\n      File \"task_html.generated.py\", line 207, in _tt_execute\r\n        _tt_tmp = humanize(getattr(task, name, None), type='time')  # task.html:73 (via base.html:55)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/flower/utils/template.py\", line 38, in humanize\r\n        tz = timezone(tz) if tz else getattr(current_app, 'timezone', '') or utc\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/local.py\", line 146, in __getattr__\r\n        return getattr(self._get_current_object(), name)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/kombu/utils/objects.py\", line 44, in __get__\r\n        value = obj.__dict__[self.__name__] = self.__get(obj)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/app/base.py\", line 1271, in timezone\r\n        if not conf.timezone:\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/app/utils.py\", line 137, in timezone\r\n        return self.first('timezone', 'time_zone')\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/collections.py\", line 455, in first\r\n        return first(None, (self.get(key) for key in keys))\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/functional.py\", line 84, in first\r\n        None,\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/functional.py\", line 82, in <genexpr>\r\n        (v for v in evaluate_promises(it) if (\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/functional.py\", line 69, in evaluate_promises\r\n        for value in it:\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/collections.py\", line 455, in <genexpr>\r\n        return first(None, (self.get(key) for key in keys))\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/collections.py\", line 460, in get\r\n        return self[key]\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/collections.py\", line 437, in __getitem__\r\n        return getitem(k)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/collections.py\", line 286, in __getitem__\r\n        return mapping[_key]\r\n      File \"/project/backend/.venv/lib/python3.7/collections/__init__.py\", line 1023, in __getitem__\r\n        if key in self.data:\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/kombu/utils/objects.py\", line 44, in __get__\r\n        value = obj.__dict__[self.__name__] = self.__get(obj)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/app/base.py\", line 141, in data\r\n        return self.callback()\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/app/base.py\", line 935, in _finalize_pending_conf\r\n        conf = self._conf = self._load_config()\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/app/base.py\", line 948, in _load_config\r\n        self.prepare_config(self.loader.conf), self._preconf,\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/loaders/base.py\", line 238, in conf\r\n        self._conf = self.read_configuration()\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/loaders/base.py\", line 218, in read_configuration\r\n        usercfg = self._import_config_module(custom_config)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/loaders/base.py\", line 151, in _import_config_module\r\n        self.find_module(name)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/loaders/base.py\", line 162, in find_module\r\n        return find_module(module)\r\n      File \"/project/backend/.venv/lib/python3.7/site-packages/celery/utils/imports.py\", line 81, in find_module\r\n        return imp(module)\r\n      File \"/project/backend/.venv/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n        return _bootstrap._gcd_import(name[level:], package, level)\r\n      File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n      File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n      File \"<frozen importlib._bootstrap>\", line 953, in _find_and_load_unlocked\r\n      File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n      File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n      File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n      File \"<frozen importlib._bootstrap>\", line 965, in _find_and_load_unlocked\r\n    ModuleNotFoundError: No module named '/project/flowerconfig'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/936", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/936/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/936/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/936/events", "html_url": "https://github.com/mher/flower/issues/936", "id": 506497285, "node_id": "MDU6SXNzdWU1MDY0OTcyODU=", "number": 936, "title": "Unknown Celery version", "user": {"login": "sandudorogan", "id": 15573842, "node_id": "MDQ6VXNlcjE1NTczODQy", "avatar_url": "https://avatars2.githubusercontent.com/u/15573842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandudorogan", "html_url": "https://github.com/sandudorogan", "followers_url": "https://api.github.com/users/sandudorogan/followers", "following_url": "https://api.github.com/users/sandudorogan/following{/other_user}", "gists_url": "https://api.github.com/users/sandudorogan/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandudorogan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandudorogan/subscriptions", "organizations_url": "https://api.github.com/users/sandudorogan/orgs", "repos_url": "https://api.github.com/users/sandudorogan/repos", "events_url": "https://api.github.com/users/sandudorogan/events{/privacy}", "received_events_url": "https://api.github.com/users/sandudorogan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-14T07:53:48Z", "updated_at": "2019-12-29T18:59:34Z", "closed_at": "2019-12-29T18:59:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "When searching for a task, I got this trace:\r\n```\r\nUnknown Celery version\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 1413, in _execute\r\n    result = method(*self.path_args, **self.path_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 2721, in wrapper\r\n    return method(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/flower/views/tasks.py\", line 88, in get\r\n    search=search\r\n  File \"/usr/local/lib/python2.7/dist-packages/flower/views/__init__.py\", line 20, in render\r\n    super(BaseHandler, self).render(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 704, in render\r\n    html = self.render_string(template_name, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 811, in render_string\r\n    return t.generate(**namespace)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/template.py\", line 278, in generate\r\n    return execute()\r\n  File \"tasks_html.generated.py\", line 225, in _tt_execute\r\n    for uuid, task in tasks:  # tasks.html:151 (via base.html:49)\r\n  File \"/usr/local/lib/python2.7/dist-packages/flower/utils/tasks.py\", line 46, in iter_tasks\r\n    if not satisfies_search_terms(task, any_value_search_term, result_search_term, args_search_terms, kwargs_search_terms):\r\n  File \"/usr/local/lib/python2.7/dist-packages/flower/utils/search.py\", line 32, in satisfies_search_terms\r\n    any_value_search_term and any_value_search_term in '|'.join([task.args, task.kwargs, str(task.result)]),\r\nTypeError: sequence item 0: expected string, NoneType found\r\n```\r\n\r\nThese are the arguments that got me the error:\r\n![image](https://user-images.githubusercontent.com/15573842/66736023-c7f54a80-ee70-11e9-9e32-05eabb81a69a.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/935", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/935/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/935/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/935/events", "html_url": "https://github.com/mher/flower/issues/935", "id": 506031413, "node_id": "MDU6SXNzdWU1MDYwMzE0MTM=", "number": 935, "title": "0.9.3 fails to install", "user": {"login": "thenewguy", "id": 77731, "node_id": "MDQ6VXNlcjc3NzMx", "avatar_url": "https://avatars2.githubusercontent.com/u/77731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenewguy", "html_url": "https://github.com/thenewguy", "followers_url": "https://api.github.com/users/thenewguy/followers", "following_url": "https://api.github.com/users/thenewguy/following{/other_user}", "gists_url": "https://api.github.com/users/thenewguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenewguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenewguy/subscriptions", "organizations_url": "https://api.github.com/users/thenewguy/orgs", "repos_url": "https://api.github.com/users/thenewguy/repos", "events_url": "https://api.github.com/users/thenewguy/events{/privacy}", "received_events_url": "https://api.github.com/users/thenewguy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-11T19:54:43Z", "updated_at": "2019-12-29T19:01:13Z", "closed_at": "2019-12-29T19:01:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Collecting flower (from -r /path/to/requirements.txt (line 14))\r\n  Downloading https://files.pythonhosted.org/packages/36/15/ed670b1f1fe14727f1564c9d98d7a917352ce8a0d88e87256be3c1e1190e/flower-0.9.3.tar.gz (1.3MB)\r\n    Complete output from command python setup.py egg_info:\r\n    error in flower setup command: 'install_requires' must be a string or list of strings containing valid project/version requirement specifiers\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-BCUq8Q/flower/\r\nYou are using pip version 18.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/934", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/934/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/934/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/934/events", "html_url": "https://github.com/mher/flower/issues/934", "id": 499133552, "node_id": "MDU6SXNzdWU0OTkxMzM1NTI=", "number": 934, "title": "Breaks with tornado 6.x", "user": {"login": "robvdl", "id": 1018674, "node_id": "MDQ6VXNlcjEwMTg2NzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1018674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robvdl", "html_url": "https://github.com/robvdl", "followers_url": "https://api.github.com/users/robvdl/followers", "following_url": "https://api.github.com/users/robvdl/following{/other_user}", "gists_url": "https://api.github.com/users/robvdl/gists{/gist_id}", "starred_url": "https://api.github.com/users/robvdl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robvdl/subscriptions", "organizations_url": "https://api.github.com/users/robvdl/orgs", "repos_url": "https://api.github.com/users/robvdl/repos", "events_url": "https://api.github.com/users/robvdl/events{/privacy}", "received_events_url": "https://api.github.com/users/robvdl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-26T21:51:26Z", "updated_at": "2019-09-26T22:28:24Z", "closed_at": "2019-09-26T22:28:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using the PYTHON:3.6 docker image, running celery 4.3.0.\r\n\r\nIf I don't pin tornado at 5.1.1, celery breaks if flower is simply installed. Even if I am not launching flower itself, it seems celery is loading some flower related things as seen in my traceback. These break with tornado 6.x but it's fine if you pin torando to 5.1.1\r\n\r\nIt seems flower needs to adapt to the latest tornado 6.x releases.\r\n\r\n```\r\ncelery_1    | Traceback (most recent call last):\r\ncelery_1    |   File \"/virtualenv/bin/celery\", line 10, in <module>\r\ncelery_1    |     sys.exit(main())\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/__main__.py\", line 16, in main\r\ncelery_1    |     _main()\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/bin/celery.py\", line 322, in main\r\ncelery_1    |     cmd.execute_from_commandline(argv)\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/bin/celery.py\", line 496, in execute_from_commandline\r\ncelery_1    |     super(CeleryCommand, self).execute_from_commandline(argv)))\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/bin/base.py\", line 283, in execute_from_commandline\r\ncelery_1    |     self.on_concurrency_setup()\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/bin/celery.py\", line 539, in on_concurrency_setup\r\ncelery_1    |     self.load_extension_commands()\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/bin/celery.py\", line 543, in load_extension_commands\r\ncelery_1    |     self.register_command).load()\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/bin/base.py\", line 152, in load\r\ncelery_1    |     for name, cls in imports.load_extension_classes(self.namespace):\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/celery/utils/imports.py\", line 163, in load_extension_classes\r\ncelery_1    |     cls = symbol_by_name(class_name)\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/kombu/utils/imports.py\", line 57, in symbol_by_name\r\ncelery_1    |     module = imp(module_name, package=package, **kwargs)\r\ncelery_1    |   File \"/usr/local/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\ncelery_1    |     return _bootstrap._gcd_import(name[level:], package, level)\r\ncelery_1    |   File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\ncelery_1    |   File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\ncelery_1    |   File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\ncelery_1    |   File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\ncelery_1    |   File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\ncelery_1    |   File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/flower/command.py\", line 18, in <module>\r\ncelery_1    |     from .app import Flower\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/flower/app.py\", line 15, in <module>\r\ncelery_1    |     from .urls import handlers\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/flower/urls.py\", line 9, in <module>\r\ncelery_1    |     from .api import tasks\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/flower/api/tasks.py\", line 81, in <module>\r\ncelery_1    |     class TaskApply(BaseTaskHandler):\r\ncelery_1    |   File \"/virtualenv/lib/python3.6/site-packages/flower/api/tasks.py\", line 83, in TaskApply\r\ncelery_1    |     @web.asynchronous\r\ncelery_1    | AttributeError: module 'tornado.web' has no attribute 'asynchronous'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/932", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/932/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/932/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/932/events", "html_url": "https://github.com/mher/flower/issues/932", "id": 495131611, "node_id": "MDU6SXNzdWU0OTUxMzE2MTE=", "number": 932, "title": "Flower doesn't bring task's full result", "user": {"login": "fatihhcelik", "id": 38987013, "node_id": "MDQ6VXNlcjM4OTg3MDEz", "avatar_url": "https://avatars3.githubusercontent.com/u/38987013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatihhcelik", "html_url": "https://github.com/fatihhcelik", "followers_url": "https://api.github.com/users/fatihhcelik/followers", "following_url": "https://api.github.com/users/fatihhcelik/following{/other_user}", "gists_url": "https://api.github.com/users/fatihhcelik/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatihhcelik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatihhcelik/subscriptions", "organizations_url": "https://api.github.com/users/fatihhcelik/orgs", "repos_url": "https://api.github.com/users/fatihhcelik/repos", "events_url": "https://api.github.com/users/fatihhcelik/events{/privacy}", "received_events_url": "https://api.github.com/users/fatihhcelik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-18T10:20:13Z", "updated_at": "2019-12-29T19:03:58Z", "closed_at": "2019-12-29T19:03:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "The problem is if the task's result is long, flower doesn't bring all of them. To solve this, I set the \"resultrepr_maxsize\" value very high number in celery and celery gives me full string of task result. But flower doesn't display all of it. You can refer this stackoverflow post that I opened. https://stackoverflow.com/questions/57973649/flower-doesnt-display-complete-result-string?noredirect=1#comment102386210_57973649", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/928", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/928/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/928/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/928/events", "html_url": "https://github.com/mher/flower/issues/928", "id": 490311319, "node_id": "MDU6SXNzdWU0OTAzMTEzMTk=", "number": 928, "title": "Incorrect messages count displayed on Broker page when using priority queues with Redis", "user": {"login": "sgallen", "id": 3768409, "node_id": "MDQ6VXNlcjM3Njg0MDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3768409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgallen", "html_url": "https://github.com/sgallen", "followers_url": "https://api.github.com/users/sgallen/followers", "following_url": "https://api.github.com/users/sgallen/following{/other_user}", "gists_url": "https://api.github.com/users/sgallen/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgallen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgallen/subscriptions", "organizations_url": "https://api.github.com/users/sgallen/orgs", "repos_url": "https://api.github.com/users/sgallen/repos", "events_url": "https://api.github.com/users/sgallen/events{/privacy}", "received_events_url": "https://api.github.com/users/sgallen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-06T12:53:04Z", "updated_at": "2019-09-12T23:55:03Z", "closed_at": "2019-09-12T23:55:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the class `Redis`, `super` is called without passing `*args` and `**kwargs`, as a result `'priority_steps'` is not passed to the base and the `DEFAULT_PRIORITY_STEPS` are always used.  If messages are queued using priorities 0, 3, 6, or 9 the count is correct but if you configure the priorities to be, for example, 0 through 9, messages not in the default won't contribute to the count.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/927", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/927/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/927/events", "html_url": "https://github.com/mher/flower/issues/927", "id": 488023821, "node_id": "MDU6SXNzdWU0ODgwMjM4MjE=", "number": 927, "title": "Queued tasks show nothing in Python 2", "user": {"login": "yixikkjkj", "id": 15646020, "node_id": "MDQ6VXNlcjE1NjQ2MDIw", "avatar_url": "https://avatars2.githubusercontent.com/u/15646020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yixikkjkj", "html_url": "https://github.com/yixikkjkj", "followers_url": "https://api.github.com/users/yixikkjkj/followers", "following_url": "https://api.github.com/users/yixikkjkj/following{/other_user}", "gists_url": "https://api.github.com/users/yixikkjkj/gists{/gist_id}", "starred_url": "https://api.github.com/users/yixikkjkj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yixikkjkj/subscriptions", "organizations_url": "https://api.github.com/users/yixikkjkj/orgs", "repos_url": "https://api.github.com/users/yixikkjkj/repos", "events_url": "https://api.github.com/users/yixikkjkj/events{/privacy}", "received_events_url": "https://api.github.com/users/yixikkjkj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-02T06:40:52Z", "updated_at": "2019-10-16T07:49:38Z", "closed_at": "2019-10-16T07:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently, I find Queued tasks graph in Monitor Page show nothing, I try to figure it out.\r\nFlower has en error in browser when the request '/monitor/broker' come back, this request responses 'No properties' and the graph throw an exception.\r\n\r\nIn beginning, I thought it's a version problem after searching some similar issues, but tornado 5.1.1 is the latest version now.\r\n[#788](https://github.com/mher/flower/issues/788)\r\n\r\nMeanwhile, my project is upgrading from python2 to python3, so I launch in python3 without changing any versions, and find flower works fine, Queued tasks appear in expect.\r\n\r\nSo, I'm wondering that, Is this a tornado version problem? \r\n\r\nif the answer is yes, maybe I should upgrade tornado after my project is in python3?\r\nor if the answer is no, Is this a Python version problem? I cannot confirm where this problem happened exactly and I don't know what's the difference in flower between Python2 and Python3, I'm a little confused.\r\n\r\nrequirements:\r\n```\r\ncelery==4.2.2\r\nFlask==1.0.2\r\nflower==0.9.3\r\ntornado==5.1.1\r\n```\r\n\r\ncommand for running flower:\r\n```\r\ncelery flower -A celery_worker:celery -l info\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/924", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/924/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/924/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/924/events", "html_url": "https://github.com/mher/flower/issues/924", "id": 482428542, "node_id": "MDU6SXNzdWU0ODI0Mjg1NDI=", "number": 924, "title": "Kombu==4.6.4 breaks flower", "user": {"login": "FelipeEmerim", "id": 26713610, "node_id": "MDQ6VXNlcjI2NzEzNjEw", "avatar_url": "https://avatars2.githubusercontent.com/u/26713610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelipeEmerim", "html_url": "https://github.com/FelipeEmerim", "followers_url": "https://api.github.com/users/FelipeEmerim/followers", "following_url": "https://api.github.com/users/FelipeEmerim/following{/other_user}", "gists_url": "https://api.github.com/users/FelipeEmerim/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelipeEmerim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelipeEmerim/subscriptions", "organizations_url": "https://api.github.com/users/FelipeEmerim/orgs", "repos_url": "https://api.github.com/users/FelipeEmerim/repos", "events_url": "https://api.github.com/users/FelipeEmerim/events{/privacy}", "received_events_url": "https://api.github.com/users/FelipeEmerim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-19T17:12:22Z", "updated_at": "2019-08-19T17:24:31Z", "closed_at": "2019-08-19T17:24:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "After the kombu 4.6.4 release flower's inspect methods fail. As a result most worker info is lost.\r\nWhen downgrading kombu back to 4.6.3 flower works normally. This error happens on both flower 0.9.3 and the development version.\r\n\r\nSteps to reproduce:\r\n\r\nStart a celery worker:\r\n\r\n```\r\ncelery -A Flaskapp.celery worker --concurrency=2 -E -Q calculations --loglevel=info -n calculations\r\n```\r\n\r\nWAIT for celery to completely start and then start flower:\r\n\r\n```\r\ncelery flower -A Flaskapp.celery --address=127.0.0.1 --port=5555 --persistent=True --refresh=True\r\n```\r\n\r\nAfter that when accessing flower via localhost:5555 you can see the workers on the dashboard page. Clicking a worker raises an unknown worker error. In flower logs we can see: \r\n\r\n```\r\n[I 190819 13:56:27 mixins:229] Connected to redis://localhost:6379/0\r\n[W 190819 13:56:32 control:44] 'stats' inspect method failed\r\n[W 190819 13:56:32 control:44] 'active_queues' inspect method failed\r\n[W 190819 13:56:32 control:44] 'registered' inspect method failed\r\n[W 190819 13:56:32 control:44] 'scheduled' inspect method failed\r\n[W 190819 13:56:32 control:44] 'active' inspect method failed\r\n[W 190819 13:56:32 control:44] 'reserved' inspect method failed\r\n[W 190819 13:56:32 control:44] 'revoked' inspect method failed\r\n[W 190819 13:56:32 control:44] 'conf' inspect method failed\r\n```\r\nThese logs normally happen when there are no workers available. But after kombu update, even if celery is already started, the error above will happen.\r\n\r\nMy requirements:\r\n\r\n```\r\nalabaster==0.7.12\r\nalembic==1.0.11\r\namqp==2.5.1\r\nanytree==2.6.0\r\nappdirs==1.4.3\r\nassertpy==0.14\r\nastroid==2.2.5\r\nattrs==19.1.0\r\nBabel==2.7.0\r\nbilliard==3.6.1.0\r\nblinker==1.4\r\ncelery==4.3.0\r\ncertifi==2019.6.16\r\nchardet==3.0.4\r\nClick==7.0\r\ncolorama==0.4.1\r\ncoverage==4.5.4\r\ndocutils==0.15.2\r\nentrypoints==0.3\r\nenvirons==5.2.1\r\neradicate==1.0\r\nflake8==3.7.8\r\nflake8-polyfill==1.0.2\r\nFlask==1.1.1\r\nFlask-DebugToolbar==0.10.1\r\nFlask-Mail==0.9.1\r\nFlask-Migrate==2.5.2\r\nFlask-Principal==0.4.0\r\nFlask-Script==2.0.6\r\nFlask-SQLAlchemy==2.4.0\r\nFlask-WTF==0.14.2\r\nflower==0.9.3\r\nfuture==0.17.1\r\nidna==2.8\r\nimagesize==1.1.0\r\nimportlib-metadata==0.19\r\nisort==4.3.21\r\nitsdangerous==1.1.0\r\nJinja2==2.10.1\r\nkombu==4.6.4\r\nlazy-object-proxy==1.4.1\r\nMako==1.1.0\r\nmando==0.6.4\r\nMarkupSafe==1.1.1\r\nmarshmallow==3.0.0\r\nmccabe==0.6.1\r\nnose2==0.9.1\r\npackaging==19.1\r\npip-review==1.0\r\npsycopg2==2.8.3\r\npsycopg2-binary==2.8.3\r\npycodestyle==2.5.0\r\npydocstyle==4.0.1\r\npyflakes==2.1.1\r\nPygments==2.4.2\r\npylama==7.7.1\r\npylama-pylint==3.1.1\r\npylint==2.3.1\r\npyparsing==2.4.2\r\npython-dateutil==2.8.0\r\npython-dotenv==0.10.3\r\npython-editor==1.0.4\r\npython-magic==0.4.15\r\npytz==2019.2\r\nradon==3.0.3\r\nredis==3.3.7\r\nrequests==2.22.0\r\nrq==1.1.0\r\nsimplejson==3.16.0\r\nsimplekv==0.13.0\r\nsix==1.12.0\r\nsnowballstemmer==1.9.0\r\nSphinx==2.2.0\r\nsphinxcontrib-applehelp==1.0.1\r\nsphinxcontrib-devhelp==1.0.1\r\nsphinxcontrib-htmlhelp==1.0.2\r\nsphinxcontrib-jsmath==1.0.1\r\nsphinxcontrib-qthelp==1.0.2\r\nsphinxcontrib-serializinghtml==1.1.3\r\nsphinxcontrib-websupport==1.1.2\r\nSQLAlchemy==1.3.7\r\nSQLAlchemy-Utils==0.34.1\r\ntoml==0.10.0\r\ntornado==5.1.1\r\ntyped-ast==1.4.0\r\nurllib3==1.25.3\r\nuWSGI==2.0.18\r\nvine==1.3.0\r\nvirtualenv==16.7.3\r\nWerkzeug==0.15.5\r\nwrapt==1.11.2\r\nWTForms==2.2.1\r\nzipp==0.5.2\r\n```\r\n\r\nIf you need any more information feel free to ask.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/922", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/922/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/922/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/922/events", "html_url": "https://github.com/mher/flower/issues/922", "id": 481306097, "node_id": "MDU6SXNzdWU0ODEzMDYwOTc=", "number": 922, "title": "flower fails to load", "user": {"login": "sg85mang", "id": 54076792, "node_id": "MDQ6VXNlcjU0MDc2Nzky", "avatar_url": "https://avatars2.githubusercontent.com/u/54076792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sg85mang", "html_url": "https://github.com/sg85mang", "followers_url": "https://api.github.com/users/sg85mang/followers", "following_url": "https://api.github.com/users/sg85mang/following{/other_user}", "gists_url": "https://api.github.com/users/sg85mang/gists{/gist_id}", "starred_url": "https://api.github.com/users/sg85mang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sg85mang/subscriptions", "organizations_url": "https://api.github.com/users/sg85mang/orgs", "repos_url": "https://api.github.com/users/sg85mang/repos", "events_url": "https://api.github.com/users/sg85mang/events{/privacy}", "received_events_url": "https://api.github.com/users/sg85mang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-15T19:40:21Z", "updated_at": "2020-06-30T17:25:39Z", "closed_at": "2020-06-30T17:25:39Z", "author_association": "NONE", "active_lock_reason": null, "body": " flower -A celery_main --port=5555\r\nflower   -> flower:0.9.3 tornado:5.1.1 babel:2.7.0\r\nsoftware -> celery:4.3.0 (rhubarb) kombu:4.6.3 py:3.7.3\r\n            billiard:3.6.0.0 redis:3.3.7\r\nplatform -> system:Linux arch:64bit, ELF\r\n            kernel version:5.0.0-20-generic imp:CPython\r\nloader   -> celery.loaders.app.AppLoader\r\nsettings -> transport:redis results:rpc:///\r\n\r\nbroker_url: 'redis://localhost:6379/0'\r\nresult_backend: 'rpc:///'\r\ninclude: ['celery_main.task_receiver']\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/flower\", line 11, in <module>\r\n    load_entry_point('flower==0.9.3', 'console_scripts', 'flower')()\r\n  File \"/usr/local/lib/python3.7/dist-packages/flower/__main__.py\", line 11, in main\r\n    flower.execute_from_commandline()\r\n  File \"/home/w3pt/.local/lib/python3.7/site-packages/celery/bin/base.py\", line 298, in execute_from_commandline\r\n    return self.handle_argv(self.prog_name, argv[1:])\r\n  File \"/usr/local/lib/python3.7/dist-packages/flower/command.py\", line 56, in handle_argv\r\n    return self.run_from_argv(prog_name, argv)\r\n  File \"/usr/local/lib/python3.7/dist-packages/flower/command.py\", line 40, in run_from_argv\r\n    flower = Flower(capp=self.app, options=options, **settings)\r\n  File \"/usr/local/lib/python3.7/dist-packages/flower/app.py\", line 32, in __init__\r\n    self.io_loop = io_loop or ioloop.IOLoop.instance()\r\n  File \"/usr/local/lib/python3.7/dist-packages/tornado/ioloop.py\", line 221, in instance\r\n    return IOLoop.current()\r\n  File \"/usr/local/lib/python3.7/dist-packages/tornado/ioloop.py\", line 282, in current\r\n    loop = asyncio.get_event_loop()\r\n  File \"/usr/lib/python3.7/asyncio/events.py\", line 644, in get_event_loop\r\n    % threading.current_thread().name)\r\nRuntimeError: There is no current event loop in thread 'MainThread'.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/921", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/921/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/921/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/921/events", "html_url": "https://github.com/mher/flower/issues/921", "id": 479813801, "node_id": "MDU6SXNzdWU0Nzk4MTM4MDE=", "number": 921, "title": "flower having issues with tornado==6.0.3", "user": {"login": "milind-shakya-sp", "id": 43146933, "node_id": "MDQ6VXNlcjQzMTQ2OTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/43146933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/milind-shakya-sp", "html_url": "https://github.com/milind-shakya-sp", "followers_url": "https://api.github.com/users/milind-shakya-sp/followers", "following_url": "https://api.github.com/users/milind-shakya-sp/following{/other_user}", "gists_url": "https://api.github.com/users/milind-shakya-sp/gists{/gist_id}", "starred_url": "https://api.github.com/users/milind-shakya-sp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/milind-shakya-sp/subscriptions", "organizations_url": "https://api.github.com/users/milind-shakya-sp/orgs", "repos_url": "https://api.github.com/users/milind-shakya-sp/repos", "events_url": "https://api.github.com/users/milind-shakya-sp/events{/privacy}", "received_events_url": "https://api.github.com/users/milind-shakya-sp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-12T19:33:58Z", "updated_at": "2019-12-29T19:06:00Z", "closed_at": "2019-12-29T19:06:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nAttributeError: module 'tornado.web' has no attribute 'asynchronous'\r\n```\r\n\r\nIt was working fine for tornado==5.1.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/919", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/919/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/919/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/919/events", "html_url": "https://github.com/mher/flower/issues/919", "id": 474069402, "node_id": "MDU6SXNzdWU0NzQwNjk0MDI=", "number": 919, "title": "Setting soft and hard time_limit through Flower dashboard does not work", "user": {"login": "levary", "id": 5459837, "node_id": "MDQ6VXNlcjU0NTk4Mzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5459837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/levary", "html_url": "https://github.com/levary", "followers_url": "https://api.github.com/users/levary/followers", "following_url": "https://api.github.com/users/levary/following{/other_user}", "gists_url": "https://api.github.com/users/levary/gists{/gist_id}", "starred_url": "https://api.github.com/users/levary/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/levary/subscriptions", "organizations_url": "https://api.github.com/users/levary/orgs", "repos_url": "https://api.github.com/users/levary/repos", "events_url": "https://api.github.com/users/levary/events{/privacy}", "received_events_url": "https://api.github.com/users/levary/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-29T14:01:22Z", "updated_at": "2019-08-05T23:47:09Z", "closed_at": "2019-08-05T23:47:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "flower==0.9.3 (but also previous versions according to the code)\r\nIn POST request `/api/task/timeout/` body looks like:\r\n```\r\nworkername: worker1\r\ntype: 300\r\n```\r\nbut backend expected something like:\r\n```\r\nworkername: worker1\r\nsoft: 300\r\n```\r\nor\r\n```\r\nworkername: worker1\r\nhard: 300\r\n```\r\nSo backend always is setting \"soft=None, hard=None\"\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/918", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/918/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/918/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/918/events", "html_url": "https://github.com/mher/flower/issues/918", "id": 474011927, "node_id": "MDU6SXNzdWU0NzQwMTE5Mjc=", "number": 918, "title": "500 Errors / SSL Assertion Error", "user": {"login": "NickWoodhams", "id": 1296347, "node_id": "MDQ6VXNlcjEyOTYzNDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1296347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NickWoodhams", "html_url": "https://github.com/NickWoodhams", "followers_url": "https://api.github.com/users/NickWoodhams/followers", "following_url": "https://api.github.com/users/NickWoodhams/following{/other_user}", "gists_url": "https://api.github.com/users/NickWoodhams/gists{/gist_id}", "starred_url": "https://api.github.com/users/NickWoodhams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NickWoodhams/subscriptions", "organizations_url": "https://api.github.com/users/NickWoodhams/orgs", "repos_url": "https://api.github.com/users/NickWoodhams/repos", "events_url": "https://api.github.com/users/NickWoodhams/events{/privacy}", "received_events_url": "https://api.github.com/users/NickWoodhams/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-29T12:01:48Z", "updated_at": "2020-07-05T21:55:57Z", "closed_at": "2020-07-05T21:55:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "flower   -> flower:1.0.0-dev tornado:5.1.1 humanize:(0, 4)\r\nsoftware -> celery:4.3.0 (rhubarb) kombu:4.6.3 py:3.7.4\r\n            billiard:3.6.0.0 py-amqp:2.5.0\r\nplatform -> system:Linux arch:64bit\r\n            kernel version:4.15.0-55-generic imp:CPython\r\nloader   -> celery.loaders.app.AppLoader\r\nsettings -> transport:amqp results:disabled\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/web.py\", line 1592, in _execute\r\n    result = yield result\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1133, in run\r\n    value = future.result()\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1141, in run\r\n    yielded = self.gen.throw(*exc_info)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/flower/views/auth.py\", line 112, in get\r\n    code=self.get_argument('code'),\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1133, in run\r\n    value = future.result()\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1141, in run\r\n    yielded = self.gen.throw(*exc_info)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/flower/views/auth.py\", line 98, in get_authenticated_user\r\n    'Accept': 'application/json'}, body=body)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1133, in run\r\n    value = future.result()\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/simple_httpclient.py\", line 272, in run\r\n    max_buffer_size=self.max_buffer_size)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1133, in run\r\n    value = future.result()\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/tcpclient.py\", line 242, in connect\r\n    server_hostname=host)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/iostream.py\", line 1381, in start_tls\r\n    do_handshake_on_connect=False)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/netutil.py\", line 565, in ssl_wrap_socket\r\n    context = ssl_options_to_context(ssl_options)\r\n  File \"/home/nick/autoauctions.io/venv/lib/python3.7/site-packages/tornado/netutil.py\", line 533, in ssl_options_to_context\r\n    assert isinstance(ssl_options, dict)\r\nAssertionError\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/915", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/915/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/915/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/915/events", "html_url": "https://github.com/mher/flower/issues/915", "id": 465116650, "node_id": "MDU6SXNzdWU0NjUxMTY2NTA=", "number": 915, "title": "'CeleryCommand' object has no attribute 'preload_options'", "user": {"login": "SHIWWW", "id": 51745869, "node_id": "MDQ6VXNlcjUxNzQ1ODY5", "avatar_url": "https://avatars2.githubusercontent.com/u/51745869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SHIWWW", "html_url": "https://github.com/SHIWWW", "followers_url": "https://api.github.com/users/SHIWWW/followers", "following_url": "https://api.github.com/users/SHIWWW/following{/other_user}", "gists_url": "https://api.github.com/users/SHIWWW/gists{/gist_id}", "starred_url": "https://api.github.com/users/SHIWWW/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SHIWWW/subscriptions", "organizations_url": "https://api.github.com/users/SHIWWW/orgs", "repos_url": "https://api.github.com/users/SHIWWW/repos", "events_url": "https://api.github.com/users/SHIWWW/events{/privacy}", "received_events_url": "https://api.github.com/users/SHIWWW/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-08T08:15:41Z", "updated_at": "2019-12-29T19:09:32Z", "closed_at": "2019-12-29T19:09:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "AttributeError: 'CeleryCommand' object has no attribute 'preload_options'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/912", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/912/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/912/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/912/events", "html_url": "https://github.com/mher/flower/issues/912", "id": 463080155, "node_id": "MDU6SXNzdWU0NjMwODAxNTU=", "number": 912, "title": "celery backend configuration in flower", "user": {"login": "harsh2205", "id": 30771364, "node_id": "MDQ6VXNlcjMwNzcxMzY0", "avatar_url": "https://avatars2.githubusercontent.com/u/30771364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harsh2205", "html_url": "https://github.com/harsh2205", "followers_url": "https://api.github.com/users/harsh2205/followers", "following_url": "https://api.github.com/users/harsh2205/following{/other_user}", "gists_url": "https://api.github.com/users/harsh2205/gists{/gist_id}", "starred_url": "https://api.github.com/users/harsh2205/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harsh2205/subscriptions", "organizations_url": "https://api.github.com/users/harsh2205/orgs", "repos_url": "https://api.github.com/users/harsh2205/repos", "events_url": "https://api.github.com/users/harsh2205/events{/privacy}", "received_events_url": "https://api.github.com/users/harsh2205/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529099779, "node_id": "MDU6TGFiZWw1MjkwOTk3Nzk=", "url": "https://api.github.com/repos/mher/flower/labels/options", "name": "options", "color": "006b75", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-02T08:00:22Z", "updated_at": "2020-07-01T16:07:22Z", "closed_at": "2020-07-01T16:07:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using celery to monitor the queue . but I'm facing some issues related to the backend \r\ni am using flower , when celery is running , it works properly, but when restart celery it deletes the previous task history, I'm using mongo.\r\n\r\nin Mongo db all data is stored but it will not be fetched again on flower web app\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/911", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/911/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/911/events", "html_url": "https://github.com/mher/flower/issues/911", "id": 458707938, "node_id": "MDU6SXNzdWU0NTg3MDc5Mzg=", "number": 911, "title": "Docker image tags", "user": {"login": "benjamin-bergia", "id": 6614080, "node_id": "MDQ6VXNlcjY2MTQwODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6614080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjamin-bergia", "html_url": "https://github.com/benjamin-bergia", "followers_url": "https://api.github.com/users/benjamin-bergia/followers", "following_url": "https://api.github.com/users/benjamin-bergia/following{/other_user}", "gists_url": "https://api.github.com/users/benjamin-bergia/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjamin-bergia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjamin-bergia/subscriptions", "organizations_url": "https://api.github.com/users/benjamin-bergia/orgs", "repos_url": "https://api.github.com/users/benjamin-bergia/repos", "events_url": "https://api.github.com/users/benjamin-bergia/events{/privacy}", "received_events_url": "https://api.github.com/users/benjamin-bergia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1992176017, "node_id": "MDU6TGFiZWwxOTkyMTc2MDE3", "url": "https://api.github.com/repos/mher/flower/labels/docker", "name": "docker", "color": "a1ed6f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-20T14:55:57Z", "updated_at": "2020-07-02T22:39:29Z", "closed_at": "2020-07-02T22:39:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nwould it be possible to get tags with the release version on the official docker image?\r\nUsing latest on kubernetes is a bit annoying and have clear versions would be nicer.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/910", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/910/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/910/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/910/events", "html_url": "https://github.com/mher/flower/issues/910", "id": 456675119, "node_id": "MDU6SXNzdWU0NTY2NzUxMTk=", "number": 910, "title": "Celery with cloudamqp", "user": {"login": "general03", "id": 2324694, "node_id": "MDQ6VXNlcjIzMjQ2OTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2324694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/general03", "html_url": "https://github.com/general03", "followers_url": "https://api.github.com/users/general03/followers", "following_url": "https://api.github.com/users/general03/following{/other_user}", "gists_url": "https://api.github.com/users/general03/gists{/gist_id}", "starred_url": "https://api.github.com/users/general03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/general03/subscriptions", "organizations_url": "https://api.github.com/users/general03/orgs", "repos_url": "https://api.github.com/users/general03/repos", "events_url": "https://api.github.com/users/general03/events{/privacy}", "received_events_url": "https://api.github.com/users/general03/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529090904, "node_id": "MDU6TGFiZWw1MjkwOTA5MDQ=", "url": "https://api.github.com/repos/mher/flower/labels/broker", "name": "broker", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-16T19:45:19Z", "updated_at": "2020-06-28T21:28:49Z", "closed_at": "2020-06-28T21:28:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't lanch the Floor server since I update my `broker` variable with url of my Cloudamqp Little Lemur instance\r\nSo I add the `broker_api` option but without success\r\n\r\nI don't have any issue when I launch the server \r\n```\r\npipenv run celery flower \\\r\n    --app=project.taskapp \\\r\n    --broker=\"${CELERY_BROKER_URL}\" \\\r\n    --broker_api=\"https://user:pwd@bulldog.rmq.cloudamqp.com:443/api\" \\\r\n    --basic_auth=\"${CELERY_FLOWER_USER}:${CELERY_FLOWER_PASSWORD}\"\r\n```\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/909", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/909/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/909/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/909/events", "html_url": "https://github.com/mher/flower/issues/909", "id": 456181201, "node_id": "MDU6SXNzdWU0NTYxODEyMDE=", "number": 909, "title": "'Unknown worker' error with celery==4.3.0", "user": {"login": "volkerp", "id": 4256605, "node_id": "MDQ6VXNlcjQyNTY2MDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/4256605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volkerp", "html_url": "https://github.com/volkerp", "followers_url": "https://api.github.com/users/volkerp/followers", "following_url": "https://api.github.com/users/volkerp/following{/other_user}", "gists_url": "https://api.github.com/users/volkerp/gists{/gist_id}", "starred_url": "https://api.github.com/users/volkerp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volkerp/subscriptions", "organizations_url": "https://api.github.com/users/volkerp/orgs", "repos_url": "https://api.github.com/users/volkerp/repos", "events_url": "https://api.github.com/users/volkerp/events{/privacy}", "received_events_url": "https://api.github.com/users/volkerp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-06-14T10:41:07Z", "updated_at": "2019-12-29T10:59:53Z", "closed_at": "2019-12-29T10:59:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Flower shows the list of workers and their states in the dashboard, but clicking on one results in an _Unknown worker ..._ error.\r\n\r\ndependencies when the error occurs\r\n```\r\namqp==2.5.0\r\nbilliard==3.6.0.0\r\ncelery==4.3.0\r\nkombu==4.6.1\r\nredis==3.2.1\r\nvine==1.3.0\r\n```\r\n\r\ndependencies when working correctly\r\n```\r\namqp==2.2.2\r\nbilliard==3.5.0.3\r\ncelery==4.2.1\r\nkombu==4.2.0\r\nredis==3.2.1\r\nvine==1.1.4\r\n```\r\n\r\nRegards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/908", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/908/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/908/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/908/events", "html_url": "https://github.com/mher/flower/issues/908", "id": 455387698, "node_id": "MDU6SXNzdWU0NTUzODc2OTg=", "number": 908, "title": "setup.py error pip", "user": {"login": "yousifa", "id": 6870090, "node_id": "MDQ6VXNlcjY4NzAwOTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6870090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yousifa", "html_url": "https://github.com/yousifa", "followers_url": "https://api.github.com/users/yousifa/followers", "following_url": "https://api.github.com/users/yousifa/following{/other_user}", "gists_url": "https://api.github.com/users/yousifa/gists{/gist_id}", "starred_url": "https://api.github.com/users/yousifa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yousifa/subscriptions", "organizations_url": "https://api.github.com/users/yousifa/orgs", "repos_url": "https://api.github.com/users/yousifa/repos", "events_url": "https://api.github.com/users/yousifa/events{/privacy}", "received_events_url": "https://api.github.com/users/yousifa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-12T19:35:26Z", "updated_at": "2019-06-12T20:03:16Z", "closed_at": "2019-06-12T20:03:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting the following error when trying to install flower from pypi with python 3.6.3\r\n\r\n\r\nComplete output from command python setup.py egg_info:\r\n    error in flower setup command: 'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Expected version spec in futures; python_version==\"2.7\" at ; python_version==\"2.7\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/907", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/907/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/907/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/907/events", "html_url": "https://github.com/mher/flower/issues/907", "id": 454738465, "node_id": "MDU6SXNzdWU0NTQ3Mzg0NjU=", "number": 907, "title": "Flower API empty workers response", "user": {"login": "rombr", "id": 718779, "node_id": "MDQ6VXNlcjcxODc3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/718779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rombr", "html_url": "https://github.com/rombr", "followers_url": "https://api.github.com/users/rombr/followers", "following_url": "https://api.github.com/users/rombr/following{/other_user}", "gists_url": "https://api.github.com/users/rombr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rombr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rombr/subscriptions", "organizations_url": "https://api.github.com/users/rombr/orgs", "repos_url": "https://api.github.com/users/rombr/repos", "events_url": "https://api.github.com/users/rombr/events{/privacy}", "received_events_url": "https://api.github.com/users/rombr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-11T14:52:22Z", "updated_at": "2019-12-29T19:11:35Z", "closed_at": "2019-12-29T19:11:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nVersions:\r\n```\r\nflower==0.9.3\r\ntornado==5.1.1\r\ncelery==4.3.0\r\n```\r\nMy broker is Redis\r\n\r\nRun command:\r\n```\r\ncelery\r\n            -A rest.applications.celery_app.application\r\n            flower\r\n            --logging=error\r\n            --log-file-prefix=/code/var/log/celery-flower.log\r\n            --xheaders\r\n            --address=0.0.0.0\r\n            --port=8888\r\n            --basic_auth=secret:secret\r\n```\r\n\r\nI can not get workers list even with refresh\r\n```\r\n$ http -v -a secret:secret <ip>:8888/api/workers\r\nGET /api/workers HTTP/1.1\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate\r\nAuthorization: Basic dXRhaXI6dXRhaXI=\r\nConnection: keep-alive\r\nHost: <ip>:8888\r\nUser-Agent: HTTPie/1.0.2\r\n\r\n\r\n\r\nHTTP/1.1 200 OK\r\nContent-Length: 2\r\nContent-Type: application/json; charset=UTF-8\r\nDate: Tue, 11 Jun 2019 14:45:37 GMT\r\nEtag: \"bf21a9e8fbc5a3846fb05b4fa0859e0917b2202f\"\r\nServer: TornadoServer/5.1.1\r\n\r\n{}\r\n\r\n$ http -a secret:secret <ip>:8888/api/workers?refresh=True\r\nHTTP/1.1 200 OK\r\nContent-Length: 2\r\nContent-Type: application/json; charset=UTF-8\r\nDate: Tue, 11 Jun 2019 14:45:54 GMT\r\nEtag: \"bf21a9e8fbc5a3846fb05b4fa0859e0917b2202f\"\r\nServer: TornadoServer/5.1.1\r\n\r\n{}\r\n```\r\n\r\nHow can I fix it?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/906", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/906/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/906/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/906/events", "html_url": "https://github.com/mher/flower/issues/906", "id": 454319866, "node_id": "MDU6SXNzdWU0NTQzMTk4NjY=", "number": 906, "title": "Celery config options not passing through", "user": {"login": "jheld", "id": 828813, "node_id": "MDQ6VXNlcjgyODgxMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/828813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jheld", "html_url": "https://github.com/jheld", "followers_url": "https://api.github.com/users/jheld/followers", "following_url": "https://api.github.com/users/jheld/following{/other_user}", "gists_url": "https://api.github.com/users/jheld/gists{/gist_id}", "starred_url": "https://api.github.com/users/jheld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jheld/subscriptions", "organizations_url": "https://api.github.com/users/jheld/orgs", "repos_url": "https://api.github.com/users/jheld/repos", "events_url": "https://api.github.com/users/jheld/events{/privacy}", "received_events_url": "https://api.github.com/users/jheld/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-10T18:59:35Z", "updated_at": "2020-06-30T23:56:41Z", "closed_at": "2019-12-04T13:50:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Via the docs:  https://flower.readthedocs.io/en/stable/config.html#options\r\n\r\n```Standard Celery configuration settings can be overridden in the configuration file. See Celery Configuration reference for a complete listing of all the available settings, and their default values.```\r\n\r\nBut, I cannot pass `task_routes` because the options parser only looks for flower options, despite saying `celery`-based options will be passed through.\r\n\r\nI'm trying to do this on my end (I've already forked the repo), but not sure if I'll end up doing it right.\r\n\r\nThis seems like a bug to me. Can someone help? @mher maybe? I'm willing to update code paths, just not sure I'm going to attack it in a good way.\r\n\r\nThe reason I'm looking to do this is that we are planning to separate our flower deployment such that it doesn't read the same settings configuration as the workers, but we'd still like some of the settings (`task_routes` being one) to be passed through.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/905", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/905/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/905/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/905/events", "html_url": "https://github.com/mher/flower/issues/905", "id": 449854532, "node_id": "MDU6SXNzdWU0NDk4NTQ1MzI=", "number": 905, "title": "Broker's page is not able to show brokers when the broker is a REDIS over SSL", "user": {"login": "ebuttiero", "id": 17983340, "node_id": "MDQ6VXNlcjE3OTgzMzQw", "avatar_url": "https://avatars2.githubusercontent.com/u/17983340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebuttiero", "html_url": "https://github.com/ebuttiero", "followers_url": "https://api.github.com/users/ebuttiero/followers", "following_url": "https://api.github.com/users/ebuttiero/following{/other_user}", "gists_url": "https://api.github.com/users/ebuttiero/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebuttiero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebuttiero/subscriptions", "organizations_url": "https://api.github.com/users/ebuttiero/orgs", "repos_url": "https://api.github.com/users/ebuttiero/repos", "events_url": "https://api.github.com/users/ebuttiero/events{/privacy}", "received_events_url": "https://api.github.com/users/ebuttiero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-29T14:49:32Z", "updated_at": "2019-12-29T13:09:37Z", "closed_at": "2019-12-29T13:09:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I configured REDIS with SSL as **broker**, I'm not able to monitoring it:\r\n\r\n<img width=\"570\" alt=\"Screen Shot 2019-05-29 at 11 47 44\" src=\"https://user-images.githubusercontent.com/17983340/58566876-c0a60b00-8207-11e9-977e-8f7bfe849b22.png\">\r\n\r\nAlso, I tried both --broker and --broker_api parameters with the same result.\r\n\r\nSome logs:\r\n\r\n```\r\n2019-05-29T14:40:40.037 | INFO     | command.py:136 | Visit me at http://0.0.0.0:5555\r\n2019-05-29T14:40:40.065 | INFO     | command.py:141 | Broker: rediss://192.168.87.1:6379/10\r\n2019-05-29T14:40:40.066 | INFO     | command.py:144 | Registered tasks: \r\n['celery.accumulate',\r\n 'celery.backend_cleanup',\r\n 'celery.chain',\r\n 'celery.chord',\r\n 'celery.chord_unlock',\r\n 'celery.chunks',\r\n 'celery.group',\r\n 'celery.map',\r\n 'celery.starmap']\r\n2019-05-29T14:40:42.116 | INFO     | mixins.py:229 | Connected to rediss://192.168.87.1:6379/10\r\n2019-05-29T14:44:34.452 | WARNING  | web.py:1493 | 404 GET /broker (172.17.0.1): 'redis' broker is not supported\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/903", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/903/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/903/events", "html_url": "https://github.com/mher/flower/issues/903", "id": 447215402, "node_id": "MDU6SXNzdWU0NDcyMTU0MDI=", "number": 903, "title": "Add support for tornado 6 with python 3.5.2 or higher", "user": {"login": "devmonkey22", "id": 5084545, "node_id": "MDQ6VXNlcjUwODQ1NDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5084545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devmonkey22", "html_url": "https://github.com/devmonkey22", "followers_url": "https://api.github.com/users/devmonkey22/followers", "following_url": "https://api.github.com/users/devmonkey22/following{/other_user}", "gists_url": "https://api.github.com/users/devmonkey22/gists{/gist_id}", "starred_url": "https://api.github.com/users/devmonkey22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devmonkey22/subscriptions", "organizations_url": "https://api.github.com/users/devmonkey22/orgs", "repos_url": "https://api.github.com/users/devmonkey22/repos", "events_url": "https://api.github.com/users/devmonkey22/events{/privacy}", "received_events_url": "https://api.github.com/users/devmonkey22/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-22T15:51:04Z", "updated_at": "2019-05-24T02:43:26Z", "closed_at": "2019-05-23T22:35:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For python 3.5.2 or higher projects, need to add support for tornado >= 5.0.0 and < 7.0.0.\r\nCurrently,  after fixes for issues #878 and #886, `pip install flower` may actually downgrade tornado to 5.x which is not desirable.\r\n\r\nI'm going to submit a PR to add environment markers and tox tests to support a better combination of tornado+python with flower.\r\n\r\nI capped tornado at < 7.0.0 just to avoid a repeat of tornado breaking changes in the future without testing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/900", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/900/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/900/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/900/events", "html_url": "https://github.com/mher/flower/issues/900", "id": 440805087, "node_id": "MDU6SXNzdWU0NDA4MDUwODc=", "number": 900, "title": "Flower displaying offline workers", "user": {"login": "calebbredlow", "id": 28713002, "node_id": "MDQ6VXNlcjI4NzEzMDAy", "avatar_url": "https://avatars3.githubusercontent.com/u/28713002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebbredlow", "html_url": "https://github.com/calebbredlow", "followers_url": "https://api.github.com/users/calebbredlow/followers", "following_url": "https://api.github.com/users/calebbredlow/following{/other_user}", "gists_url": "https://api.github.com/users/calebbredlow/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebbredlow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebbredlow/subscriptions", "organizations_url": "https://api.github.com/users/calebbredlow/orgs", "repos_url": "https://api.github.com/users/calebbredlow/repos", "events_url": "https://api.github.com/users/calebbredlow/events{/privacy}", "received_events_url": "https://api.github.com/users/calebbredlow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529090875, "node_id": "MDU6TGFiZWw1MjkwOTA4NzU=", "url": "https://api.github.com/repos/mher/flower/labels/dashboard", "name": "dashboard", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-06T17:31:12Z", "updated_at": "2020-07-01T15:34:01Z", "closed_at": "2020-07-01T15:34:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm seeing an issue where I have 6 workers, three online and 3 offline, the 3 online is to be expected, but what isn't expected are the offline ones, and the weird behavior I'm seeing is that some off the offline workers disappear, then reappear a few seconds later.   I've tried clicking on them to get their status, but get back the error that they don't exist.  Is there something I'm missing for the configuration?  I have another service that has flower celery all set up the same way and I'm not seeing this issue there.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/898", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/898/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/898/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/898/events", "html_url": "https://github.com/mher/flower/issues/898", "id": 437546690, "node_id": "MDU6SXNzdWU0Mzc1NDY2OTA=", "number": 898, "title": "[Enhancement suggestion] Make a \"read only\" mode", "user": {"login": "TheBlusky", "id": 441709, "node_id": "MDQ6VXNlcjQ0MTcwOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/441709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheBlusky", "html_url": "https://github.com/TheBlusky", "followers_url": "https://api.github.com/users/TheBlusky/followers", "following_url": "https://api.github.com/users/TheBlusky/following{/other_user}", "gists_url": "https://api.github.com/users/TheBlusky/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheBlusky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheBlusky/subscriptions", "organizations_url": "https://api.github.com/users/TheBlusky/orgs", "repos_url": "https://api.github.com/users/TheBlusky/repos", "events_url": "https://api.github.com/users/TheBlusky/events{/privacy}", "received_events_url": "https://api.github.com/users/TheBlusky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754004, "node_id": "MDU6TGFiZWw4NzU0MDA0", "url": "https://api.github.com/repos/mher/flower/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 8754005, "node_id": "MDU6TGFiZWw4NzU0MDA1", "url": "https://api.github.com/repos/mher/flower/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-26T07:57:08Z", "updated_at": "2019-12-29T19:14:12Z", "closed_at": "2019-12-29T19:14:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I need to give access to flower to some users in order to investigate tasks (for bug and support). However, Flower would give too much control over the environement (ability to revoke tasks and remove workers).\r\n\r\nWould it be interesting to add a configuration option like \"read-only-mode\" that would prevent users from doing harmful operation ?\r\n\r\nIn order to do this, I found out two things to do:\r\n- For the backend, there is only the `ControlHandler` (https://github.com/mher/flower/blob/master/flower/api/control.py) to remove.\r\nThat might be easily done by adding a new decorator to all `@web.authenticated` within this file.\r\n- For the frontend, it might be faster, just to handle an \"unauthoized request\" response (better ask forgiveness than permission policy), however, a better UX would be to remove concerned forms from templates.\r\n\r\nWould a PR implementing this be acceptable ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/897", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/897/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/897/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/897/events", "html_url": "https://github.com/mher/flower/issues/897", "id": 436434796, "node_id": "MDU6SXNzdWU0MzY0MzQ3OTY=", "number": 897, "title": "Monitor page: Graphs for 'Succeeded tasks', 'Failed tasks' and 'Task times' are empty ", "user": {"login": "charleshan", "id": 3143154, "node_id": "MDQ6VXNlcjMxNDMxNTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/3143154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charleshan", "html_url": "https://github.com/charleshan", "followers_url": "https://api.github.com/users/charleshan/followers", "following_url": "https://api.github.com/users/charleshan/following{/other_user}", "gists_url": "https://api.github.com/users/charleshan/gists{/gist_id}", "starred_url": "https://api.github.com/users/charleshan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charleshan/subscriptions", "organizations_url": "https://api.github.com/users/charleshan/orgs", "repos_url": "https://api.github.com/users/charleshan/repos", "events_url": "https://api.github.com/users/charleshan/events{/privacy}", "received_events_url": "https://api.github.com/users/charleshan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529091032, "node_id": "MDU6TGFiZWw1MjkwOTEwMzI=", "url": "https://api.github.com/repos/mher/flower/labels/monitor", "name": "monitor", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-23T23:39:41Z", "updated_at": "2020-07-05T18:27:06Z", "closed_at": "2020-07-05T18:27:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reference: #257, #123\r\n\r\nIt looks like the Monitor page doesn't display the graphs for 'Succeeded tasks', 'Failed tasks' and 'Task times' if we use a timezone with celery and have flower on another machine.\r\n\r\n`flowerconfig.py` with the following didn't solve the issue as hinted in the other ticket.\r\n```\r\nCELERY_ENABLE_UTC  = True\r\nCELERY_TIMEZONE = 'Vancouver/America'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/893", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/893/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/893/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/893/events", "html_url": "https://github.com/mher/flower/issues/893", "id": 432815357, "node_id": "MDU6SXNzdWU0MzI4MTUzNTc=", "number": 893, "title": "Failed to capture events: 'Error while reading from socket: ", "user": {"login": "echoocking", "id": 19791215, "node_id": "MDQ6VXNlcjE5NzkxMjE1", "avatar_url": "https://avatars2.githubusercontent.com/u/19791215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/echoocking", "html_url": "https://github.com/echoocking", "followers_url": "https://api.github.com/users/echoocking/followers", "following_url": "https://api.github.com/users/echoocking/following{/other_user}", "gists_url": "https://api.github.com/users/echoocking/gists{/gist_id}", "starred_url": "https://api.github.com/users/echoocking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/echoocking/subscriptions", "organizations_url": "https://api.github.com/users/echoocking/orgs", "repos_url": "https://api.github.com/users/echoocking/repos", "events_url": "https://api.github.com/users/echoocking/events{/privacy}", "received_events_url": "https://api.github.com/users/echoocking/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-13T06:49:26Z", "updated_at": "2019-05-28T08:10:36Z", "closed_at": "2019-05-11T04:30:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "at python3.7, flower 0.9.3, celery 4.3.0 occur\r\nFailed to capture events: 'Error while reading from socket: ('Connection closed by server.',)', trying again in 1 seconds.\r\n```\r\n[E 190413 14:40:27 events:125] Failed to capture events: 'Error while reading from socket: ('Connection closed by server.',)', trying again in 1 seconds.\r\n[D 190413 14:40:27 events:126] Error while reading from socket: ('Connection closed by server.',)\r\n    Traceback (most recent call last):\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 185, in _read_from_socket\r\n        raise socket.error(SERVER_CLOSED_CONNECTION_ERROR)\r\n    OSError: Connection closed by server.\r\n\r\n    During handling of the above exception, another exception occurred:\r\n\r\n    Traceback (most recent call last):\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/flower/events.py\", line 114, in run\r\n        recv.capture(limit=None, timeout=None, wakeup=True)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/celery/events/receiver.py\", line 93, in capture\r\n        return list(self.consume(limit=limit, timeout=timeout, wakeup=wakeup))\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/mixins.py\", line 192, in consume\r\n        conn.drain_events(timeout=safety_interval)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/connection.py\", line 315, in drain_events\r\n        return self.transport.drain_events(self.connection, **kwargs)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/transport/virtual/base.py\", line 963, in drain_events\r\n        get(self._deliver, timeout=timeout)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/transport/redis.py\", line 370, in get\r\n        ret = self.handle_event(fileno, event)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/transport/redis.py\", line 352, in handle_event\r\n        return self.on_readable(fileno), self\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/transport/redis.py\", line 348, in on_readable\r\n        chan.handlers[type]()\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/transport/redis.py\", line 683, in _receive\r\n        ret.append(self._receive_one(c))\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/kombu/transport/redis.py\", line 689, in _receive_one\r\n        response = c.parse_response()\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/client.py\", line 3036, in parse_response\r\n        return self._execute(connection, connection.read_response)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/client.py\", line 3013, in _execute\r\n        return command(*args)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 637, in read_response\r\n        response = self._parser.read_response()\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 330, in read_response\r\n        response = [self.read_response() for i in xrange(length)]\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 330, in <listcomp>\r\n        response = [self.read_response() for i in xrange(length)]\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 324, in read_response\r\n        response = self._buffer.read(length)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 205, in read\r\n        self._read_from_socket(length - self.length)\r\n      File \"/root/.pyenv/versions/3.7.2/envs/py3.7/lib/python3.7/site-packages/redis/connection.py\", line 199, in _read_from_socket\r\n        (e.args,))\r\n    redis.exceptions.ConnectionError: Error while reading from socket: ('Connection closed by server.',)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/892", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/892/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/892/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/892/events", "html_url": "https://github.com/mher/flower/issues/892", "id": 424544250, "node_id": "MDU6SXNzdWU0MjQ1NDQyNTA=", "number": 892, "title": "All options are ignored if passing \"-l debug\" as first option to flower", "user": {"login": "asfaltboy", "id": 321520, "node_id": "MDQ6VXNlcjMyMTUyMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/321520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asfaltboy", "html_url": "https://github.com/asfaltboy", "followers_url": "https://api.github.com/users/asfaltboy/followers", "following_url": "https://api.github.com/users/asfaltboy/following{/other_user}", "gists_url": "https://api.github.com/users/asfaltboy/gists{/gist_id}", "starred_url": "https://api.github.com/users/asfaltboy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asfaltboy/subscriptions", "organizations_url": "https://api.github.com/users/asfaltboy/orgs", "repos_url": "https://api.github.com/users/asfaltboy/repos", "events_url": "https://api.github.com/users/asfaltboy/events{/privacy}", "received_events_url": "https://api.github.com/users/asfaltboy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-23T20:57:48Z", "updated_at": "2019-12-29T19:13:18Z", "closed_at": "2019-12-29T19:13:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This happened to me; and may happen easily to others who, like me, blindly copy pasted the options from another celery command... Here is a command that fails to set up on port 5556 (rather sets on port 5555)\r\n\r\n```bash\r\n$ celery -A myapp flower -l debug --port=5556 --basic_auth=user1:password 1\r\n\r\n# in another shell\r\n$ curl localhost:5556\r\ncurl: (7) Failed to connect to localhost port 5556: Connection refused\r\n```\r\n\r\nClearly assignment to port 5556 was not happening (flower was listening 5555 here). And when I remove the `-l debug`, all is well again:\r\n\r\n```bash\r\n$ celery -A myapp flower --port=5556 --basic_auth=user1:password1\r\n\r\n# in another shell\r\n$ curl localhost:5556\r\nAccess denied\r\n```\r\n\r\nInterestingly enough, changing `-l debug` to something like `-l info` doesn't break the other options. I'm not sure `-l` is a valid shorthand for flower or not, according to `--help` only long options are valid...\r\nUnfortunately I don't know enough about tornado.options, celery options or how flower users both of these to pass args. Luckily it is easy to reproduce.\r\n\r\nAnother thing I would fix while at this, is the ability to pass invalid options to flower, e.g:\r\n\r\n```bash\r\n$ celery -A myapp flower --foo=bar\r\n```\r\n\r\nThe above probably causes many people frustration, and leads to bugs like this \"-l debug\" issue... I have a gut feeling that some other \"this option doesn't work for me\" bugs in this repo might could be related to this, so this could be an easy \"combo\" fix for whoever squashes it \ud83d\udc1b\ud83d\udc1b\ud83d\udc1b!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/888", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/888/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/888/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/888/events", "html_url": "https://github.com/mher/flower/issues/888", "id": 418543956, "node_id": "MDU6SXNzdWU0MTg1NDM5NTY=", "number": 888, "title": "Is there a way to limit the number of redis connections", "user": {"login": "okomarov", "id": 3731173, "node_id": "MDQ6VXNlcjM3MzExNzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3731173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okomarov", "html_url": "https://github.com/okomarov", "followers_url": "https://api.github.com/users/okomarov/followers", "following_url": "https://api.github.com/users/okomarov/following{/other_user}", "gists_url": "https://api.github.com/users/okomarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/okomarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okomarov/subscriptions", "organizations_url": "https://api.github.com/users/okomarov/orgs", "repos_url": "https://api.github.com/users/okomarov/repos", "events_url": "https://api.github.com/users/okomarov/events{/privacy}", "received_events_url": "https://api.github.com/users/okomarov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-07T22:29:20Z", "updated_at": "2020-04-17T03:14:54Z", "closed_at": "2020-04-17T03:14:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to limit the number of redis connections?\r\n\r\nI am looking for an equivalent of celery's [redis_max_connections](http://docs.celeryproject.org/en/latest/userguide/configuration.html#redis-max-connections) or does flower inherit that when launched through celery?\r\n\r\nMy limits come from heroku which puts a max of 20 redis connections on the free redis instance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/887", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/887/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/887/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/887/events", "html_url": "https://github.com/mher/flower/issues/887", "id": 418422912, "node_id": "MDU6SXNzdWU0MTg0MjI5MTI=", "number": 887, "title": "Version check with celery 3.1.26.post2", "user": {"login": "arthurio", "id": 950449, "node_id": "MDQ6VXNlcjk1MDQ0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/950449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurio", "html_url": "https://github.com/arthurio", "followers_url": "https://api.github.com/users/arthurio/followers", "following_url": "https://api.github.com/users/arthurio/following{/other_user}", "gists_url": "https://api.github.com/users/arthurio/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurio/subscriptions", "organizations_url": "https://api.github.com/users/arthurio/orgs", "repos_url": "https://api.github.com/users/arthurio/repos", "events_url": "https://api.github.com/users/arthurio/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-07T17:15:47Z", "updated_at": "2019-04-14T15:36:18Z", "closed_at": "2019-04-14T15:36:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Versions\r\n\r\n```\r\ncelery==3.1.26.post2\r\nflower==0.9.2\r\n```\r\n\r\nTraceback\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/pyenv/versions/xxx/bin/celery\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/celery/__main__.py\", line 30, in main\r\n    main()\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/celery/bin/celery.py\", line 81, in main\r\n    cmd.execute_from_commandline(argv)\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/celery/bin/celery.py\", line 793, in execute_from_commandline\r\n    super(CeleryCommand, self).execute_from_commandline(argv)))\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/celery/bin/base.py\", line 311, in execute_from_commandline\r\n    return self.handle_argv(self.prog_name, argv[1:])\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/celery/bin/celery.py\", line 785, in handle_argv\r\n    return self.execute(command, argv)\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/celery/bin/celery.py\", line 717, in execute\r\n    ).run_from_argv(self.prog_name, argv[1:], command=argv[0])\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/flower/command.py\", line 43, in run_from_argv\r\n    flower = Flower(capp=self.app, options=options, **settings)\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/flower/app.py\", line 42, in __init__\r\n    max_tasks_in_memory=self.options.max_tasks)\r\n  File \"/opt/pyenv/versions/2.7.15/envs/xxx/lib/python2.7/site-packages/flower/events.py\", line 70, in __init__\r\n    if self.persistent and tuple(map(int, celery.__version__.split('.'))) < (3, 0, 15):\r\nValueError: invalid literal for int() with base 10: 'post2'\r\n```\r\n\r\nTo handle the case of `3.1.26.post2` we could replace `celery.__version__.split('.')` with `celery.__version__.split('.')[:3]`.\r\nHowever, I'm not sure if there are similar checks in other places of the code base?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/886", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/886/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/886/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/886/events", "html_url": "https://github.com/mher/flower/issues/886", "id": 418158818, "node_id": "MDU6SXNzdWU0MTgxNTg4MTg=", "number": 886, "title": "Installing from PYPI and setup installs tornado 6.0.1", "user": {"login": "manmohana", "id": 23018397, "node_id": "MDQ6VXNlcjIzMDE4Mzk3", "avatar_url": "https://avatars1.githubusercontent.com/u/23018397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manmohana", "html_url": "https://github.com/manmohana", "followers_url": "https://api.github.com/users/manmohana/followers", "following_url": "https://api.github.com/users/manmohana/following{/other_user}", "gists_url": "https://api.github.com/users/manmohana/gists{/gist_id}", "starred_url": "https://api.github.com/users/manmohana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manmohana/subscriptions", "organizations_url": "https://api.github.com/users/manmohana/orgs", "repos_url": "https://api.github.com/users/manmohana/repos", "events_url": "https://api.github.com/users/manmohana/events{/privacy}", "received_events_url": "https://api.github.com/users/manmohana/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-07T07:03:07Z", "updated_at": "2019-03-16T22:24:54Z", "closed_at": "2019-03-16T22:24:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When installing flower==0.9.2 from PYPI its installing tornado-6.0.1.\r\nI see in the code base we have the condition to install tornado version less than 6.0.0.\r\nWhen trying to install from git repo code base it seems to be fine.\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/884", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/884/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/884/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/884/events", "html_url": "https://github.com/mher/flower/issues/884", "id": 417501834, "node_id": "MDU6SXNzdWU0MTc1MDE4MzQ=", "number": 884, "title": "Deploying on heroku", "user": {"login": "okomarov", "id": 3731173, "node_id": "MDQ6VXNlcjM3MzExNzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3731173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/okomarov", "html_url": "https://github.com/okomarov", "followers_url": "https://api.github.com/users/okomarov/followers", "following_url": "https://api.github.com/users/okomarov/following{/other_user}", "gists_url": "https://api.github.com/users/okomarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/okomarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/okomarov/subscriptions", "organizations_url": "https://api.github.com/users/okomarov/orgs", "repos_url": "https://api.github.com/users/okomarov/repos", "events_url": "https://api.github.com/users/okomarov/events{/privacy}", "received_events_url": "https://api.github.com/users/okomarov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-05T21:07:54Z", "updated_at": "2019-04-15T13:57:20Z", "closed_at": "2019-04-15T13:57:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Has anyone managed to deploy flower to Heroku and is willing to share the procfile settings? \r\n\r\nI am using:\r\n```\r\nflower:  celery -A project.app:celery_app flower --PORT=$FLOWER_PORT --broker=$BROKER_URL --basic_auth=$FLOWER_BASIC_AUTH\r\n```\r\n\r\nthen try the `heroku.app.url:FLOWER_PORT` and it hangs there forever, as in not routed or firewalled. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/883", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/883/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/883/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/883/events", "html_url": "https://github.com/mher/flower/issues/883", "id": 417327290, "node_id": "MDU6SXNzdWU0MTczMjcyOTA=", "number": 883, "title": "Any plans for a new release? ", "user": {"login": "marmccor", "id": 29855998, "node_id": "MDQ6VXNlcjI5ODU1OTk4", "avatar_url": "https://avatars3.githubusercontent.com/u/29855998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marmccor", "html_url": "https://github.com/marmccor", "followers_url": "https://api.github.com/users/marmccor/followers", "following_url": "https://api.github.com/users/marmccor/following{/other_user}", "gists_url": "https://api.github.com/users/marmccor/gists{/gist_id}", "starred_url": "https://api.github.com/users/marmccor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marmccor/subscriptions", "organizations_url": "https://api.github.com/users/marmccor/orgs", "repos_url": "https://api.github.com/users/marmccor/repos", "events_url": "https://api.github.com/users/marmccor/events{/privacy}", "received_events_url": "https://api.github.com/users/marmccor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-05T14:31:44Z", "updated_at": "2019-03-16T22:25:09Z", "closed_at": "2019-03-16T22:25:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi folks, are there any plans for a new release of flower anytime soon? \r\n\r\nIn particular, i'm interested in the following changes:\r\n - https://github.com/mher/flower/pull/842\r\n\r\nWe are running into issues when flower is installing a later tornato version (6.x), so the fix above should resolve that. \r\n\r\nI'd rather not install from master on production environments :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/882", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/882/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/882/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/882/events", "html_url": "https://github.com/mher/flower/issues/882", "id": 417202009, "node_id": "MDU6SXNzdWU0MTcyMDIwMDk=", "number": 882, "title": "Installing the latest release version 0.9.2 fails with Python 2", "user": {"login": "pbasista", "id": 1535892, "node_id": "MDQ6VXNlcjE1MzU4OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1535892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbasista", "html_url": "https://github.com/pbasista", "followers_url": "https://api.github.com/users/pbasista/followers", "following_url": "https://api.github.com/users/pbasista/following{/other_user}", "gists_url": "https://api.github.com/users/pbasista/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbasista/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbasista/subscriptions", "organizations_url": "https://api.github.com/users/pbasista/orgs", "repos_url": "https://api.github.com/users/pbasista/repos", "events_url": "https://api.github.com/users/pbasista/events{/privacy}", "received_events_url": "https://api.github.com/users/pbasista/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-05T09:36:23Z", "updated_at": "2019-03-16T22:25:53Z", "closed_at": "2019-03-16T22:25:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installing `flower==0.9.2` in a Python 2 virtual environment fails because of unsatisfied dependencies:\r\n\r\n```shell\r\n$ pip install flower==0.9.2\r\n...\r\ntornado requires Python '>= 3.5' but the running Python is 2.7.15\r\n```\r\n\r\nThe reason is that Tornado 6, which drops support for Python 2, has recently been [released](https://github.com/tornadoweb/tornado/blob/master/docs/releases/v6.0.0.rst#backwards-incompatible-changes). At the same time, the currently latest release version of Flower, namely 0.9.2, does _not_ have an upper bound restriction on `tornado` version:\r\nhttps://github.com/mher/flower/blob/f44485ca57ef05380f4d4a4ee81183b339c29737/requirements/default.txt#L2\r\n\r\nI think that it would be reasonable to either release a bugfix version that addresses this or move on with the release of version 1.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/881", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/881/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/881/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/881/events", "html_url": "https://github.com/mher/flower/issues/881", "id": 414675705, "node_id": "MDU6SXNzdWU0MTQ2NzU3MDU=", "number": 881, "title": "Babel Required?", "user": {"login": "cjwright83", "id": 629799, "node_id": "MDQ6VXNlcjYyOTc5OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/629799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjwright83", "html_url": "https://github.com/cjwright83", "followers_url": "https://api.github.com/users/cjwright83/followers", "following_url": "https://api.github.com/users/cjwright83/following{/other_user}", "gists_url": "https://api.github.com/users/cjwright83/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjwright83/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjwright83/subscriptions", "organizations_url": "https://api.github.com/users/cjwright83/orgs", "repos_url": "https://api.github.com/users/cjwright83/repos", "events_url": "https://api.github.com/users/cjwright83/events{/privacy}", "received_events_url": "https://api.github.com/users/cjwright83/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-26T15:38:43Z", "updated_at": "2019-04-14T15:33:16Z", "closed_at": "2019-04-14T15:33:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Was just looking through the code and noticed that Babel only seems to be getting used once to format a time delta into the `us_EN` locale. Seems very little to be adding a weighty (26MB) i18n dependency. Is there any alternative?\r\n\r\nhttps://github.com/mher/flower/blob/master/flower/utils/template.py#L45", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/878", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/878/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/878/events", "html_url": "https://github.com/mher/flower/issues/878", "id": 412095134, "node_id": "MDU6SXNzdWU0MTIwOTUxMzQ=", "number": 878, "title": "Tornado no longer has asynchronous decorator", "user": {"login": "2stacks", "id": 15258140, "node_id": "MDQ6VXNlcjE1MjU4MTQw", "avatar_url": "https://avatars0.githubusercontent.com/u/15258140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2stacks", "html_url": "https://github.com/2stacks", "followers_url": "https://api.github.com/users/2stacks/followers", "following_url": "https://api.github.com/users/2stacks/following{/other_user}", "gists_url": "https://api.github.com/users/2stacks/gists{/gist_id}", "starred_url": "https://api.github.com/users/2stacks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2stacks/subscriptions", "organizations_url": "https://api.github.com/users/2stacks/orgs", "repos_url": "https://api.github.com/users/2stacks/repos", "events_url": "https://api.github.com/users/2stacks/events{/privacy}", "received_events_url": "https://api.github.com/users/2stacks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2019-02-19T19:49:47Z", "updated_at": "2019-04-02T13:01:46Z", "closed_at": "2019-03-16T22:26:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like Tornado dropped this decorator in the latest release v6.0.0b1.\r\n\r\nWhen trying to run 'celery flower' last message in stack trace is;\r\n\r\nAttributeError: module 'tornado.web' has no attribute 'asynchronous'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/876", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/876/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/876/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/876/events", "html_url": "https://github.com/mher/flower/issues/876", "id": 410755121, "node_id": "MDU6SXNzdWU0MTA3NTUxMjE=", "number": 876, "title": "Google+ deprecated: change urls", "user": {"login": "NotSqrt", "id": 1997005, "node_id": "MDQ6VXNlcjE5OTcwMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1997005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NotSqrt", "html_url": "https://github.com/NotSqrt", "followers_url": "https://api.github.com/users/NotSqrt/followers", "following_url": "https://api.github.com/users/NotSqrt/following{/other_user}", "gists_url": "https://api.github.com/users/NotSqrt/gists{/gist_id}", "starred_url": "https://api.github.com/users/NotSqrt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NotSqrt/subscriptions", "organizations_url": "https://api.github.com/users/NotSqrt/orgs", "repos_url": "https://api.github.com/users/NotSqrt/repos", "events_url": "https://api.github.com/users/NotSqrt/events{/privacy}", "received_events_url": "https://api.github.com/users/NotSqrt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-15T12:48:42Z", "updated_at": "2019-03-16T18:24:15Z", "closed_at": "2019-03-16T18:24:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello\r\n\r\nGoogle+ gets deprecated.\r\n\r\nChanges to do:\r\n* replace `https://www.googleapis.com/plus/v1/people/me` by `https://www.googleapis.com/userinfo/v2/me` https://github.com/mher/flower/blob/29c8e6f4481bdeb2189ac1ef4b1f8b712d3397af/flower/views/auth.py#L50\r\n* use tornado >=5.0 : https://github.com/tornadoweb/tornado/commit/f64d44197de0667754f3e3de5dd54709233a019d\r\n\r\nprobably other fixes are needed.\r\n\r\nThanks !\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/873", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/873/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/873/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/873/events", "html_url": "https://github.com/mher/flower/issues/873", "id": 408977425, "node_id": "MDU6SXNzdWU0MDg5Nzc0MjU=", "number": 873, "title": "when i deploy flower container \"mher/flower\" --persistent=True the container fails. my celery version-4.1.1", "user": {"login": "Lokcm", "id": 44408918, "node_id": "MDQ6VXNlcjQ0NDA4OTE4", "avatar_url": "https://avatars1.githubusercontent.com/u/44408918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lokcm", "html_url": "https://github.com/Lokcm", "followers_url": "https://api.github.com/users/Lokcm/followers", "following_url": "https://api.github.com/users/Lokcm/following{/other_user}", "gists_url": "https://api.github.com/users/Lokcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lokcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lokcm/subscriptions", "organizations_url": "https://api.github.com/users/Lokcm/orgs", "repos_url": "https://api.github.com/users/Lokcm/repos", "events_url": "https://api.github.com/users/Lokcm/events{/privacy}", "received_events_url": "https://api.github.com/users/Lokcm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1992176017, "node_id": "MDU6TGFiZWwxOTkyMTc2MDE3", "url": "https://api.github.com/repos/mher/flower/labels/docker", "name": "docker", "color": "a1ed6f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-11T21:09:57Z", "updated_at": "2020-07-02T22:40:09Z", "closed_at": "2020-07-02T22:40:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i deploy flower container \"mher/flower\" --persistent=True the container fails. my celery version-4.1.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/872", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/872/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/872/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/872/events", "html_url": "https://github.com/mher/flower/issues/872", "id": 407908395, "node_id": "MDU6SXNzdWU0MDc5MDgzOTU=", "number": 872, "title": "Got \"Unknown Celery version\" error running flower with celery 4", "user": {"login": "zachliu", "id": 14293802, "node_id": "MDQ6VXNlcjE0MjkzODAy", "avatar_url": "https://avatars3.githubusercontent.com/u/14293802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachliu", "html_url": "https://github.com/zachliu", "followers_url": "https://api.github.com/users/zachliu/followers", "following_url": "https://api.github.com/users/zachliu/following{/other_user}", "gists_url": "https://api.github.com/users/zachliu/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachliu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachliu/subscriptions", "organizations_url": "https://api.github.com/users/zachliu/orgs", "repos_url": "https://api.github.com/users/zachliu/repos", "events_url": "https://api.github.com/users/zachliu/events{/privacy}", "received_events_url": "https://api.github.com/users/zachliu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-02-07T21:37:01Z", "updated_at": "2019-12-30T09:50:52Z", "closed_at": "2019-12-30T09:50:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does flower support celery 4?\r\nI have `celery 4.2.1` and `flower 0.9.2`. I got this:\r\n\r\n```\r\nUnknown Celery version\r\nTraceback (most recent call last):\r\nFile \"/usr/local/bin/flower\", line 11, in <module>\r\nsys.exit(main())\r\nFile \"/usr/local/lib/python2.7/dist-packages/flower/__main__.py\", line 11, in main\r\nflower.execute_from_commandline()\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/bin/base.py\", line 275, in execute_from_commandline\r\nreturn self.handle_argv(self.prog_name, argv[1:])\r\nFile \"/usr/local/lib/python2.7/dist-packages/flower/command.py\", line 59, in handle_argv\r\nreturn self.run_from_argv(prog_name, argv)\r\nFile \"/usr/local/lib/python2.7/dist-packages/flower/command.py\", line 42, in run_from_argv\r\nself.app.loader.import_default_modules()\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 109, in import_default_modules\r\nreturn [self.import_task_module(m) for m in self.default_modules]\r\nFile \"/usr/local/lib/python2.7/dist-packages/kombu/utils/objects.py\", line 44, in __get__\r\nvalue = obj.__dict__[self.__name__] = self.__get(obj)\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 227, in default_modules\r\ntuple(maybe_list(self.app.conf.imports)) +\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/utils/collections.py\", line 126, in __getattr__\r\nreturn self[k]\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/utils/collections.py\", line 429, in __getitem__\r\nreturn getitem(k)\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/utils/collections.py\", line 278, in __getitem__\r\nreturn mapping[_key]\r\nFile \"/usr/lib/python2.7/UserDict.py\", line 36, in __getitem__\r\nif key in self.data:\r\nFile \"/usr/local/lib/python2.7/dist-packages/kombu/utils/objects.py\", line 44, in __get__\r\nvalue = obj.__dict__[self.__name__] = self.__get(obj)\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/app/base.py\", line 141, in data\r\nreturn self.callback()\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/app/base.py\", line 924, in _finalize_pending_conf\r\nconf = self._conf = self._load_config()\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/app/base.py\", line 937, in _load_config\r\nself.prepare_config(self.loader.conf), self._preconf,\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 235, in conf\r\nself._conf = self.read_configuration()\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 215, in read_configuration\r\nusercfg = self._import_config_module(custom_config)\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 151, in _import_config_module\r\nself.find_module(name)\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/loaders/base.py\", line 162, in find_module\r\nreturn find_module(module)\r\nFile \"/usr/local/lib/python2.7/dist-packages/celery/utils/imports.py\", line 85, in find_module\r\nmpart = imp('.'.join(parts[:i + 1]))\r\nFile \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n__import__(name)\r\nImportError: Import by filename is not supported.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/871", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/871/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/871/events", "html_url": "https://github.com/mher/flower/issues/871", "id": 404887008, "node_id": "MDU6SXNzdWU0MDQ4ODcwMDg=", "number": 871, "title": "Dependency issue with Futures and Python 3 using Poetry", "user": {"login": "chadsaun", "id": 381024, "node_id": "MDQ6VXNlcjM4MTAyNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/381024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chadsaun", "html_url": "https://github.com/chadsaun", "followers_url": "https://api.github.com/users/chadsaun/followers", "following_url": "https://api.github.com/users/chadsaun/following{/other_user}", "gists_url": "https://api.github.com/users/chadsaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/chadsaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chadsaun/subscriptions", "organizations_url": "https://api.github.com/users/chadsaun/orgs", "repos_url": "https://api.github.com/users/chadsaun/repos", "events_url": "https://api.github.com/users/chadsaun/events{/privacy}", "received_events_url": "https://api.github.com/users/chadsaun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-30T17:44:05Z", "updated_at": "2019-02-11T16:18:35Z", "closed_at": "2019-02-11T16:18:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Poetry to manage my projects dependencies. I just started using Python 3 and Poetry is giving this error regarding flower...\r\n\r\n```\r\n[SolverProblemError]\r\nThe current project must support the following Python versions: 3.7.2\r\nBecause no versions of flower match >=0.9,<0.9.2 || >0.9.2,<0.10\r\n and flower (0.9.2) depends on futures (*), flower (>=0.9,<0.10) requires futures (*).\r\nBecause futures (3.2.0) requires Python >=2.6, <3\r\n and no versions of futures match !=3.2.0, futures is forbidden.\r\nThus, flower is forbidden.\r\nSo, because my-project depends on flower (^0.9), version solving failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/870", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/870/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/870/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/870/events", "html_url": "https://github.com/mher/flower/issues/870", "id": 402706248, "node_id": "MDU6SXNzdWU0MDI3MDYyNDg=", "number": 870, "title": "Connectivity problems: \"missed heartbeats\" and \"Failed to capture events\"", "user": {"login": "robertour", "id": 1033512, "node_id": "MDQ6VXNlcjEwMzM1MTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1033512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertour", "html_url": "https://github.com/robertour", "followers_url": "https://api.github.com/users/robertour/followers", "following_url": "https://api.github.com/users/robertour/following{/other_user}", "gists_url": "https://api.github.com/users/robertour/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertour/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertour/subscriptions", "organizations_url": "https://api.github.com/users/robertour/orgs", "repos_url": "https://api.github.com/users/robertour/repos", "events_url": "https://api.github.com/users/robertour/events{/privacy}", "received_events_url": "https://api.github.com/users/robertour/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-01-24T13:26:47Z", "updated_at": "2019-12-30T09:27:24Z", "closed_at": "2019-12-30T09:27:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been chasing an error message for days thinking it was a problem in my tasks (using Celery with RabbitMQ). \r\n\r\nI am getting every 3~4 minutes the `missed heartbeats from client, timeout: 60s` message in the RabbitMQ logs:\r\n\r\n```\r\n=ERROR REPORT==== 24-Jan-2019::14:03:07 ===\r\nclosing AMQP connection <0.10540.0> (127.0.0.1:52352 -> 127.0.0.1:5672):\r\nmissed heartbeats from client, timeout: 60s\r\n\r\n=ERROR REPORT==== 24-Jan-2019::14:06:07 ===\r\nclosing AMQP connection <0.10524.0> (127.0.0.1:52348 -> 127.0.0.1:5672):\r\nmissed heartbeats from client, timeout: 60s\r\n\r\n=INFO REPORT==== 24-Jan-2019::14:06:08 ===\r\naccepting AMQP connection <0.15037.0> (127.0.0.1:58596 -> 127.0.0.1:5672)\r\n```\r\n`A few more INFO REPORT here ...`\r\n```\r\n=INFO REPORT==== 24-Jan-2019::14:06:09 ===\r\nconnection <0.15103.0> (127.0.0.1:58618 -> 127.0.0.1:5672): user 'guest' authenticated and granted access to vhost '/'\r\n\r\n=ERROR REPORT==== 24-Jan-2019::14:09:09 ===\r\nclosing AMQP connection <0.15076.0> (127.0.0.1:58614 -> 127.0.0.1:5672):\r\nmissed heartbeats from client, timeout: 60s\r\n\r\n=ERROR REPORT==== 24-Jan-2019::14:09:09 ===\r\nclosing AMQP connection <0.15103.0> (127.0.0.1:58618 -> 127.0.0.1:5672):\r\nmissed heartbeats from client, timeout: 60s\r\n```\r\n\r\nAt some point, I just decided to turn off Flower, and the error stopped appear. Turn it on, and appear it again. So I went to the Flower log (never really look at it before), and also found the error  `Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.`. Here is the log:\r\n\r\n```\r\n[E 190124 13:52:01 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 13:52:01 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 13:52:02 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 13:52:02 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 13:52:02 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 13:52:02 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 13:52:03 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 13:52:03 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 13:55:03 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 13:55:03 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 13:55:04 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 13:55:04 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 13:55:04 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 13:55:04 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 13:55:05 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 13:55:05 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 14:00:05 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 14:00:05 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 14:00:06 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 14:00:06 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 14:00:06 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 14:00:06 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 14:00:07 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 14:00:07 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 14:06:07 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 14:06:07 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 14:06:08 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 14:06:08 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[E 190124 14:06:08 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[E 190124 14:06:08 events:123] Failed to capture events: '[Errno 104] Connection reset by peer', trying again in 1 seconds.\r\n[I 190124 14:06:09 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[I 190124 14:06:09 mixins:224] Connected to amqp://guest:**@127.0.0.1:5672//\r\n```\r\n\r\nIt is also weird that it is consistently failing twice, and then succeding  twice (could it be a double report?). \r\nAny ideas what could this be?\r\n\r\nHere are some important packages in my environment:\r\n```\r\namqp==2.3.2\r\ncelery==4.2.1\r\nDjango==1.11.16\r\nflower==0.9.2\r\n```\r\n\r\nAlso the version of my RabbitMQ is 3.6.9.\r\n\r\nI would like to fix this or, at least, hide it so I don't get false alarms when I look into the logs.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/867", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/867/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/867/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/867/events", "html_url": "https://github.com/mher/flower/issues/867", "id": 394061170, "node_id": "MDU6SXNzdWUzOTQwNjExNzA=", "number": 867, "title": "--address=0.0.0.0 not working", "user": {"login": "yifeikong", "id": 1035487, "node_id": "MDQ6VXNlcjEwMzU0ODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1035487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yifeikong", "html_url": "https://github.com/yifeikong", "followers_url": "https://api.github.com/users/yifeikong/followers", "following_url": "https://api.github.com/users/yifeikong/following{/other_user}", "gists_url": "https://api.github.com/users/yifeikong/gists{/gist_id}", "starred_url": "https://api.github.com/users/yifeikong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yifeikong/subscriptions", "organizations_url": "https://api.github.com/users/yifeikong/orgs", "repos_url": "https://api.github.com/users/yifeikong/repos", "events_url": "https://api.github.com/users/yifeikong/events{/privacy}", "received_events_url": "https://api.github.com/users/yifeikong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-26T01:23:53Z", "updated_at": "2019-02-16T01:01:50Z", "closed_at": "2019-02-16T01:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using `flower --broker=redis://xxxxxx:6379/1 --address=0.0.0.0 --port=5555` on a remote machine, but can not connect to remote server to view celery", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/863", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/863/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/863/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/863/events", "html_url": "https://github.com/mher/flower/issues/863", "id": 391116969, "node_id": "MDU6SXNzdWUzOTExMTY5Njk=", "number": 863, "title": "Redis broker monitors events in other dbs than broker", "user": {"login": "arthurio", "id": 950449, "node_id": "MDQ6VXNlcjk1MDQ0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/950449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurio", "html_url": "https://github.com/arthurio", "followers_url": "https://api.github.com/users/arthurio/followers", "following_url": "https://api.github.com/users/arthurio/following{/other_user}", "gists_url": "https://api.github.com/users/arthurio/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurio/subscriptions", "organizations_url": "https://api.github.com/users/arthurio/orgs", "repos_url": "https://api.github.com/users/arthurio/repos", "events_url": "https://api.github.com/users/arthurio/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-14T13:45:06Z", "updated_at": "2020-04-17T03:19:50Z", "closed_at": "2020-04-17T03:19:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if I'm missing something, but for some reason our flower instance seems to be able to monitor tasks from workers using a shared redis instance but not using the same db.\r\n\r\nSetup\r\n====\r\n```\r\ncelery==3.1.17\r\nflower==0.9.2\r\nredis==2.9.1\r\n```\r\n\r\nWe have multiple environments using each a different db on the same redis instance. Flower's broker is  `redis://localhost:6379/2`. \r\n\r\nExpected:\r\n----------\r\n\r\nI can see only data about the db 2.\r\n\r\nActual:\r\n-------\r\n\r\nIn the dashboard tab, I can see workers not using that db.\r\nIn the tasks tab, I can see tasks that were enqueued in other dbs.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/862", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/862/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/862/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/862/events", "html_url": "https://github.com/mher/flower/issues/862", "id": 387354318, "node_id": "MDU6SXNzdWUzODczNTQzMTg=", "number": 862, "title": "Failed to capture events: '[Errno 111] Connection refused' with rabbitmq and docker-compose ", "user": {"login": "mattharrigan", "id": 10331018, "node_id": "MDQ6VXNlcjEwMzMxMDE4", "avatar_url": "https://avatars3.githubusercontent.com/u/10331018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattharrigan", "html_url": "https://github.com/mattharrigan", "followers_url": "https://api.github.com/users/mattharrigan/followers", "following_url": "https://api.github.com/users/mattharrigan/following{/other_user}", "gists_url": "https://api.github.com/users/mattharrigan/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattharrigan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattharrigan/subscriptions", "organizations_url": "https://api.github.com/users/mattharrigan/orgs", "repos_url": "https://api.github.com/users/mattharrigan/repos", "events_url": "https://api.github.com/users/mattharrigan/events{/privacy}", "received_events_url": "https://api.github.com/users/mattharrigan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-04T15:55:12Z", "updated_at": "2018-12-04T16:38:38Z", "closed_at": "2018-12-04T16:38:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am new to docker.  I am trying to start flower and rabbitmq using docker-compose, yml file below.  However I am getting an error from flower:\r\n\r\n> Failed to capture events: '[Errno 111] Connection refused'\r\n\r\nWhat should the docker-compose yml file contain to start a basic stack?  Also I think something like this would be great to add to the docs or examples.\r\n\r\nThank you\r\n\r\n```\r\nversion: \"3\"\r\n\r\nservices:\r\n\r\n    rabbitmq:\r\n        image: \"rabbitmq:3.6\"\r\n        ports:\r\n            - \"5672:5672\"\r\n    \r\n    flower:\r\n        image: \"mher/flower:0.9\"\r\n        environment:\r\n            - \"CELERY_BROKER_URL=amqp://guest:guest@localhost:5672//\"\r\n        ports:\r\n            - \"5555:5555\"\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/861", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/861/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/861/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/861/events", "html_url": "https://github.com/mher/flower/issues/861", "id": 387098867, "node_id": "MDU6SXNzdWUzODcwOTg4Njc=", "number": 861, "title": "Failed to capture events: ''list' object has no attribute 'get'', trying again in 1 seconds.", "user": {"login": "fyaretskiyso", "id": 29735943, "node_id": "MDQ6VXNlcjI5NzM1OTQz", "avatar_url": "https://avatars3.githubusercontent.com/u/29735943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fyaretskiyso", "html_url": "https://github.com/fyaretskiyso", "followers_url": "https://api.github.com/users/fyaretskiyso/followers", "following_url": "https://api.github.com/users/fyaretskiyso/following{/other_user}", "gists_url": "https://api.github.com/users/fyaretskiyso/gists{/gist_id}", "starred_url": "https://api.github.com/users/fyaretskiyso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fyaretskiyso/subscriptions", "organizations_url": "https://api.github.com/users/fyaretskiyso/orgs", "repos_url": "https://api.github.com/users/fyaretskiyso/repos", "events_url": "https://api.github.com/users/fyaretskiyso/events{/privacy}", "received_events_url": "https://api.github.com/users/fyaretskiyso/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-04T03:03:19Z", "updated_at": "2018-12-04T03:20:33Z", "closed_at": "2018-12-04T03:20:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "ERROR 2018-12-04 03:02:59,236 [events.run line:123] Failed to capture events: ''list' object has no attribute 'get'', trying again in 1 seconds.\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/flower/events.py\", line 112, in run\r\n    recv.capture(limit=None, timeout=None, wakeup=True)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/celery/events/__init__.py\", line 331, in capture\r\n    return list(self.consume(limit=limit, timeout=timeout, wakeup=wakeup))\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/kombu/mixins.py\", line 199, in consume\r\n    conn.drain_events(timeout=safety_interval)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/kombu/connection.py\", line 288, in drain_events\r\n    return self.transport.drain_events(self.connection, **kwargs)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/kombu/transport/pyamqp.py\", line 95, in drain_events\r\n    return connection.drain_events(**kwargs)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/amqp/connection.py\", line 326, in drain_events\r\n    return amqp_method(channel, args, content)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/amqp/channel.py\", line 1909, in _basic_deliver\r\n    fun(msg)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/kombu/messaging.py\", line 598, in _receive_callback\r\n    return on_m(message) if on_m else self.receive(decoded, message)\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/kombu/messaging.py\", line 564, in receive\r\n    [callback(body, message) for callback in callbacks]\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/celery/events/__init__.py\", line 356, in _receive\r\n    self.process(*self.event_from_message(body))\r\n  File \"/Users/feliksyaretskiy/.virtualenvs/spoton/lib/python2.7/site-packages/celery/events/__init__.py\", line 341, in event_from_message\r\n    type = body.get('type', '').lower()", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/860", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/860/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/860/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/860/events", "html_url": "https://github.com/mher/flower/issues/860", "id": 384581061, "node_id": "MDU6SXNzdWUzODQ1ODEwNjE=", "number": 860, "title": "No links to workers / no tasks", "user": {"login": "jmdacruz", "id": 1178370, "node_id": "MDQ6VXNlcjExNzgzNzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1178370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmdacruz", "html_url": "https://github.com/jmdacruz", "followers_url": "https://api.github.com/users/jmdacruz/followers", "following_url": "https://api.github.com/users/jmdacruz/following{/other_user}", "gists_url": "https://api.github.com/users/jmdacruz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmdacruz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmdacruz/subscriptions", "organizations_url": "https://api.github.com/users/jmdacruz/orgs", "repos_url": "https://api.github.com/users/jmdacruz/repos", "events_url": "https://api.github.com/users/jmdacruz/events{/privacy}", "received_events_url": "https://api.github.com/users/jmdacruz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-27T01:30:26Z", "updated_at": "2019-08-12T20:38:50Z", "closed_at": "2019-08-12T20:38:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Environment:\r\n* Celery 4.2.1\r\n* Flower 0.9.2 & [1.0.0-dev](https://github.com/mher/flower/commit/3bcce81fce53064cbd0ba2797eb7933c77690fdc) (same symptom in both versions)\r\n* Using `RabbitMQ` as broker and `memcached` as results backend\r\n* Running workers and flower on separate docker containers (Kubernetes)\r\n\r\nBehavior:\r\n* The `Dashboard` tab shows the active workers, but there are two weird issues: 1) The workers are not \"clickable\" (that is, they have no links to the worker detail page), and 2) The `Status` column shows a value of `True` instead of the typical `online` (green) / `offline` (red)\r\n  * I can manually build the URL for the worker's detail page (navigating to `/worker/{worker_name}` and the info is there, only the link is missing on the dashboard\r\n![image](https://user-images.githubusercontent.com/1178370/49052377-69fc3d80-f1a0-11e8-857c-78b5328fcd27.png)\r\n* The `Tasks` tab is empty, as if no tasks were executed. However, I can get the result of a task using the flower task API (if I know the task ID).\r\n\r\nI don't see anything that looks suspicious on the flower logs (using both `--debug` and `--logging=debug`), but I might be missing something. I'm sure this is related to my environment or configuration, since I'm able to get this to work using plain `docker-compose` (following a recipe loosely based on https://github.com/tonywangcn/docker-cluster-with-celery-and-rabbitmq, just adding `memcached`). Any suggestions/pointers are much appreciated.\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/858", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/858/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/858/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/858/events", "html_url": "https://github.com/mher/flower/issues/858", "id": 383481229, "node_id": "MDU6SXNzdWUzODM0ODEyMjk=", "number": 858, "title": "specify retry policy on async-apply api call", "user": {"login": "sloev", "id": 873297, "node_id": "MDQ6VXNlcjg3MzI5Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/873297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sloev", "html_url": "https://github.com/sloev", "followers_url": "https://api.github.com/users/sloev/followers", "following_url": "https://api.github.com/users/sloev/following{/other_user}", "gists_url": "https://api.github.com/users/sloev/gists{/gist_id}", "starred_url": "https://api.github.com/users/sloev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sloev/subscriptions", "organizations_url": "https://api.github.com/users/sloev/orgs", "repos_url": "https://api.github.com/users/sloev/repos", "events_url": "https://api.github.com/users/sloev/events{/privacy}", "received_events_url": "https://api.github.com/users/sloev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754007, "node_id": "MDU6TGFiZWw4NzU0MDA3", "url": "https://api.github.com/repos/mher/flower/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-22T10:53:35Z", "updated_at": "2020-04-17T01:49:48Z", "closed_at": "2020-04-17T01:49:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi i want to be able to specify retry policy like described [here](http://docs.celeryproject.org/en/latest/userguide/calling.html#calling-retry):\r\n\r\n```\r\nadd.apply_async((2, 2), retry=True, retry_policy={\r\n    'max_retries': 3,\r\n    'interval_start': 0,\r\n    'interval_step': 0.2,\r\n    'interval_max': 0.2,\r\n})\r\n```\r\n\r\nhow can i do this with flower api `async-apply` when calling the api? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/856", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/856/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/856/events", "html_url": "https://github.com/mher/flower/issues/856", "id": 379964202, "node_id": "MDU6SXNzdWUzNzk5NjQyMDI=", "number": 856, "title": "Refresh workers button not accessible", "user": {"login": "thenewguy", "id": 77731, "node_id": "MDQ6VXNlcjc3NzMx", "avatar_url": "https://avatars2.githubusercontent.com/u/77731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thenewguy", "html_url": "https://github.com/thenewguy", "followers_url": "https://api.github.com/users/thenewguy/followers", "following_url": "https://api.github.com/users/thenewguy/following{/other_user}", "gists_url": "https://api.github.com/users/thenewguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/thenewguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thenewguy/subscriptions", "organizations_url": "https://api.github.com/users/thenewguy/orgs", "repos_url": "https://api.github.com/users/thenewguy/repos", "events_url": "https://api.github.com/users/thenewguy/events{/privacy}", "received_events_url": "https://api.github.com/users/thenewguy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-12T21:44:00Z", "updated_at": "2020-04-17T01:50:27Z", "closed_at": "2020-04-17T01:50:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am observing \"unknown worker\" error when trying to view individual workers.  The worker list page works, but does not offer a refresh button.  If I pass ?refresh=True via the url, the page is reloaded and the links worked again.\r\n\r\nThis issue is related https://github.com/mher/flower/issues/546\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/854", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/854/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/854/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/854/events", "html_url": "https://github.com/mher/flower/issues/854", "id": 378850930, "node_id": "MDU6SXNzdWUzNzg4NTA5MzA=", "number": 854, "title": "Cannot get flower to work with Redis in Docker", "user": {"login": "parisk", "id": 1188592, "node_id": "MDQ6VXNlcjExODg1OTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1188592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parisk", "html_url": "https://github.com/parisk", "followers_url": "https://api.github.com/users/parisk/followers", "following_url": "https://api.github.com/users/parisk/following{/other_user}", "gists_url": "https://api.github.com/users/parisk/gists{/gist_id}", "starred_url": "https://api.github.com/users/parisk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parisk/subscriptions", "organizations_url": "https://api.github.com/users/parisk/orgs", "repos_url": "https://api.github.com/users/parisk/repos", "events_url": "https://api.github.com/users/parisk/events{/privacy}", "received_events_url": "https://api.github.com/users/parisk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-11-08T17:59:39Z", "updated_at": "2019-12-13T02:48:30Z", "closed_at": "2019-12-09T11:15:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone. I am trying to setup Flower in Docker to monitor my Celery workers and I can't seem to be able to get things working right.\r\n\r\nWhat I am trying to do is run Flower in its own container, without direct access to my application's code and Celery configuration and.\r\n\r\nI am able to run Flower successfully (without exceptions) and point it to the appropriate broker, using the following Docker Compose configuration:\r\n\r\n```yml\r\nflower:\r\n    image: mher/flower\r\n    command: [\"--app sl.celery \", \"--broker=redis://redis:6379/2\"]\r\n```\r\n\r\nThe problem is that although Flower connects successfully to the broker, it does not print out the actual tasks and workers registered for my Celery application:\r\n\r\n```\r\n[I 181108 17:56:27 command:139] Visit me at http://localhost:5555\r\n[I 181108 17:56:27 command:144] Broker: redis://redis:6379/2\r\n[I 181108 17:56:27 command:147] Registered tasks:\r\n    ['celery.accumulate',\r\n     'celery.backend_cleanup',\r\n     'celery.chain',\r\n     'celery.chord',\r\n     'celery.chord_unlock',\r\n     'celery.chunks',\r\n     'celery.group',\r\n     'celery.map',\r\n     'celery.starmap']\r\n[I 181108 17:56:27 mixins:224] Connected to redis://redis:6379/2\r\n```\r\n\r\nDespite that, when I connect to my Redis server, I can see the workers registered in the Broker:\r\n\r\n```\r\n# redis-cli\r\n127.0.0.1:6379> select 2\r\nOK\r\n127.0.0.1:6379[2]> keys *\r\n1) \"_kombu.binding.default\"\r\n2) \"_kombu.binding.celery.pidbox\"\r\n3) \"_kombu.binding.celery\"\r\n4) \"unacked_mutex\"\r\n5) \"_kombu.binding.processes\"\r\n6) \"_kombu.binding.celeryev\"\r\n```\r\n\r\nCan you please help me set up Flower in its own isolated container, or let me know if that is not possible and I have to bundle it with my applications code?\r\n\r\nThanks a lot for your time \ud83d\ude4f.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/853", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/853/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/853/events", "html_url": "https://github.com/mher/flower/issues/853", "id": 378453839, "node_id": "MDU6SXNzdWUzNzg0NTM4Mzk=", "number": 853, "title": "Clicking on any worker name in the dashboard throws error", "user": {"login": "dickensja", "id": 4502371, "node_id": "MDQ6VXNlcjQ1MDIzNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/4502371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dickensja", "html_url": "https://github.com/dickensja", "followers_url": "https://api.github.com/users/dickensja/followers", "following_url": "https://api.github.com/users/dickensja/following{/other_user}", "gists_url": "https://api.github.com/users/dickensja/gists{/gist_id}", "starred_url": "https://api.github.com/users/dickensja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dickensja/subscriptions", "organizations_url": "https://api.github.com/users/dickensja/orgs", "repos_url": "https://api.github.com/users/dickensja/repos", "events_url": "https://api.github.com/users/dickensja/events{/privacy}", "received_events_url": "https://api.github.com/users/dickensja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8754004, "node_id": "MDU6TGFiZWw4NzU0MDA0", "url": "https://api.github.com/repos/mher/flower/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-07T20:21:27Z", "updated_at": "2020-04-17T02:45:15Z", "closed_at": "2020-04-17T02:45:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Clicking on any worker name in the dashboard throws the following:\r\n```\r\nflower   -> flower:1.0.0-dev tornado:4.5.3 babel:2.6.0\r\nsoftware -> celery:4.2.1 (windowlicker) kombu:4.2.1 py:2.7.15rc1\r\n            billiard:3.5.0.4 py-amqp:2.3.2\r\nplatform -> system:Linux arch:64bit imp:CPython\r\nloader   -> celery.loaders.app.AppLoader\r\nsettings -> transport:amqp results:disabled\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 1512, in _execute\r\n    result = yield result\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/gen.py\", line 1055, in run\r\n    value = future.result()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/concurrent.py\", line 238, in result\r\n    raise_exc_info(self._exc_info)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/gen.py\", line 1069, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/usr/local/lib/python2.7/dist-packages/flower/views/workers.py\", line 34, in get\r\n    self.render(\"worker.html\", worker=dict(worker, name=name))\r\n  File \"/usr/local/lib/python2.7/dist-packages/flower/views/__init__.py\", line 21, in render\r\n    super(BaseHandler, self).render(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 724, in render\r\n    html = self.render_string(template_name, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/web.py\", line 865, in render_string\r\n    return t.generate(**namespace)\r\n  File \"/usr/local/lib/python2.7/dist-packages/tornado/template.py\", line 348, in generate\r\n    return execute()\r\n  File \"worker_html.generated.py\", line 264, in _tt_execute\r\n    _tt_tmp = task['name']  # worker.html:212 (via base.html:55)\r\nTypeError: string indices must be integers\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mher/flower/issues/851", "repository_url": "https://api.github.com/repos/mher/flower", "labels_url": "https://api.github.com/repos/mher/flower/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/mher/flower/issues/851/comments", "events_url": "https://api.github.com/repos/mher/flower/issues/851/events", "html_url": "https://github.com/mher/flower/issues/851", "id": 375758350, "node_id": "MDU6SXNzdWUzNzU3NTgzNTA=", "number": 851, "title": "WebPage Not Responding When Clicking the Worker name in WebUI", "user": {"login": "sshanmuga", "id": 26917626, "node_id": "MDQ6VXNlcjI2OTE3NjI2", "avatar_url": "https://avatars1.githubusercontent.com/u/26917626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sshanmuga", "html_url": "https://github.com/sshanmuga", "followers_url": "https://api.github.com/users/sshanmuga/followers", "following_url": "https://api.github.com/users/sshanmuga/following{/other_user}", "gists_url": "https://api.github.com/users/sshanmuga/gists{/gist_id}", "starred_url": "https://api.github.com/users/sshanmuga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sshanmuga/subscriptions", "organizations_url": "https://api.github.com/users/sshanmuga/orgs", "repos_url": "https://api.github.com/users/sshanmuga/repos", "events_url": "https://api.github.com/users/sshanmuga/events{/privacy}", "received_events_url": "https://api.github.com/users/sshanmuga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 529098014, "node_id": "MDU6TGFiZWw1MjkwOTgwMTQ=", "url": "https://api.github.com/repos/mher/flower/labels/worker", "name": "worker", "color": "f9d0c4", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-31T01:15:22Z", "updated_at": "2020-07-05T18:52:54Z", "closed_at": "2020-07-05T18:52:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the web UI, While Clicking one of the Worker Name, WebUI does not take to the respective page rather it is unresponsive.\r\n\r\n**Worker Name    | Status | Active | Processed | Failed | Succeeded | Retried | Load Average\r\ncelery@abc.com| online |    0      |        2        |     0     |      2           |      0     |  0.06, 0.1, 0.09\r\ncelery@bcd.com| online |    0      |        3        |     0     |      3           |      0     |  0.06, 0.1, 0.09**\r\n\r\n**Using below packages** \r\napache-airflow=1.10.0\r\nCelery=4.1.1\r\nlibrabbitmq=2.0.0\r\n\r\n\r\n**flower log:**\r\n```\r\n[2018-10-31 09:09:34,563] {settings.py:174} INFO - setting.configure_orm(): Using pool settings. pool_size=5, pool_recycle=3600\r\n[2018-10-31 09:09:34,983] {__init__.py:51} INFO - Using executor CeleryExecutor\r\n[I 181031 09:09:35 command:139] Visit me at http://my-flower-host:5555\r\n[I 181031 09:09:35 command:144] Broker: amqp://mquname:**@mqhost:5672/mqvhost\r\n[I 181031 09:09:35 command:147] Registered tasks:\r\n    [u'celery.accumulate',\r\n     u'celery.backend_cleanup',\r\n     u'celery.chain',\r\n     u'celery.chord',\r\n     u'celery.chord_unlock',\r\n     u'celery.chunks',\r\n     u'celery.group',\r\n     u'celery.map',\r\n     u'celery.starmap']\r\n[I 181031 09:09:35 mixins:224] Connected to amqp://mquname:**@mqhost:5672/mqvhost\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}]}