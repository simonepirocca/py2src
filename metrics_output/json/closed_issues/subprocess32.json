{"total_count": 35, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/google/python-subprocess32/issues/65", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/65/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/65/events", "html_url": "https://github.com/google/python-subprocess32/issues/65", "id": 517678194, "node_id": "MDU6SXNzdWU1MTc2NzgxOTQ=", "number": 65, "title": "universal_newlines=True behaves differently on 3.5 and 2.7", "user": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-05T10:18:43Z", "updated_at": "2019-11-05T20:07:17Z", "closed_at": "2019-11-05T20:07:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n$ pip install -U subprocess32\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nProcessing /home/graingert/.cache/pip/wheels/68/39/1a/5e402bdfdf004af1786c8b853fd92f8c4a04f22aad179654d1/subprocess32-3.5.4-cp27-cp27mu-linux_x86_64.whl\r\nInstalling collected packages: subprocess32\r\nSuccessfully installed subprocess32-3.5.4\r\n$ python2\r\nPython 2.7.16 (default, Oct  7 2019, 17:36:04) \r\n[GCC 8.3.0] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import subprocess32 as subprocess\r\n>>> isinstance(subprocess.run(\"ls\", universal_newlines=True, stdout=subprocess.PIPE).stdout, bytes)\r\nTrue\r\n```\r\n\r\n```\r\n$ python3.5\r\nPython 3.5.8 (default, Oct 31 2019, 00:57:08) \r\n[GCC 7.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import subprocess\r\n>>> isinstance(subprocess.run(\"ls\", universal_newlines=True, stdout=subprocess.PIPE).stdout, bytes)\r\nFalse\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/63", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/63/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/63/events", "html_url": "https://github.com/google/python-subprocess32/issues/63", "id": 477584150, "node_id": "MDU6SXNzdWU0Nzc1ODQxNTA=", "number": 63, "title": "build fails on archlinux", "user": {"login": "gerwang", "id": 25758401, "node_id": "MDQ6VXNlcjI1NzU4NDAx", "avatar_url": "https://avatars1.githubusercontent.com/u/25758401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerwang", "html_url": "https://github.com/gerwang", "followers_url": "https://api.github.com/users/gerwang/followers", "following_url": "https://api.github.com/users/gerwang/following{/other_user}", "gists_url": "https://api.github.com/users/gerwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerwang/subscriptions", "organizations_url": "https://api.github.com/users/gerwang/orgs", "repos_url": "https://api.github.com/users/gerwang/repos", "events_url": "https://api.github.com/users/gerwang/events{/privacy}", "received_events_url": "https://api.github.com/users/gerwang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-06T20:41:15Z", "updated_at": "2020-06-16T21:39:47Z", "closed_at": "2020-06-16T21:39:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n(coma) \u279c  coma git:(master) \u2717 pip install subprocess32\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.\r\nLooking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple\r\nCollecting subprocess32\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/32/c8/564be4d12629b912ea431f1a50eb8b3b9d00f1a0b1ceff17f266be190007/subprocess32-3.5.4.tar.gz\r\nBuilding wheels for collected packages: subprocess32\r\n  Building wheel for subprocess32 (setup.py) ... error\r\n  ERROR: Complete output from command ${HOME}/.conda/envs/coma/bin/python -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-6Mmw2Y/subprocess32/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-hJ231z --python-tag cp27:\r\n  ERROR: running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-2.7\r\n  copying subprocess32.py -> build/lib.linux-x86_64-2.7\r\n  running build_ext\r\n  running build_configure\r\n  checking for gcc... gcc\r\n  checking whether the C compiler works... yes\r\n  checking for C compiler default output file name... a.out\r\n  checking for suffix of executables...\r\n  checking whether we are cross compiling... no\r\n  checking for suffix of object files... o\r\n  checking whether we are using the GNU C compiler... yes\r\n  checking whether gcc accepts -g... yes\r\n  checking for gcc option to accept ISO C89... none needed\r\n  checking how to run the C preprocessor... gcc -E\r\n  checking for grep that handles long lines and -e... /usr/bin/grep\r\n  checking for egrep... /usr/bin/grep -E\r\n  checking for ANSI C header files... yes\r\n  checking for sys/types.h... yes\r\n  checking for sys/stat.h... yes\r\n  checking for stdlib.h... yes\r\n  checking for string.h... yes\r\n  checking for memory.h... yes\r\n  checking for strings.h... yes\r\n  checking for inttypes.h... yes\r\n  checking for stdint.h... yes\r\n  checking for unistd.h... yes\r\n  checking for unistd.h... (cached) yes\r\n  checking fcntl.h usability... yes\r\n  checking fcntl.h presence... yes\r\n  checking for fcntl.h... yes\r\n  checking signal.h usability... yes\r\n  checking signal.h presence... yes\r\n  checking for signal.h... yes\r\n  checking sys/cdefs.h usability... yes\r\n  checking sys/cdefs.h presence... yes\r\n  checking for sys/cdefs.h... yes\r\n  checking for sys/types.h... (cached) yes\r\n  checking for sys/stat.h... (cached) yes\r\n  checking sys/syscall.h usability... yes\r\n  checking sys/syscall.h presence... yes\r\n  checking for sys/syscall.h... yes\r\n  checking for dirent.h that defines DIR... yes\r\n  checking for library containing opendir... none required\r\n  checking for pipe2... yes\r\n  checking for setsid... yes\r\n  checking whether dirfd is declared... yes\r\n  configure: creating ./config.status\r\n  config.status: creating _posixsubprocess_config.h\r\n  building '_posixsubprocess32' extension\r\n  creating build/temp.linux-x86_64-2.7\r\n  gcc -pthread -B ${HOME}/.conda/envs/coma/compiler_compat -Wl,--sysroot=/ -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I${HOME}/.conda/envs/coma/include/python2.7 -c _posixsubprocess.c -o build/temp.linux-x86_64-2.7/_posixsubprocess.o\r\n  In file included from ${HOME}/.conda/envs/coma/include/python2.7/Python.h:8,\r\n                   from _posixsubprocess.c:16:\r\n  ${HOME}/.conda/envs/coma/include/python2.7/pyconfig.h:1220: warning: \"_POSIX_C_SOURCE\" redefined\r\n   1220 | #define _POSIX_C_SOURCE 200112L\r\n        |\r\n  In file included from /usr/include/sys/cdefs.h:23,\r\n                   from _posixsubprocess.c:12:\r\n  /usr/include/features.h:266: note: this is the location of the previous definition\r\n    266 | # define _POSIX_C_SOURCE 200809L\r\n        |\r\n  In file included from ${HOME}/.conda/envs/coma/include/python2.7/Python.h:8,\r\n                   from _posixsubprocess.c:16:\r\n  ${HOME}/.conda/envs/coma/include/python2.7/pyconfig.h:1242: warning: \"_XOPEN_SOURCE\" redefined\r\n   1242 | #define _XOPEN_SOURCE 600\r\n        |\r\n  In file included from /usr/include/sys/cdefs.h:23,\r\n                   from _posixsubprocess.c:12:\r\n  /usr/include/features.h:203: note: this is the location of the previous definition\r\n    203 | # define _XOPEN_SOURCE 700\r\n        |\r\n  gcc -pthread -shared -B ${HOME}/.conda/envs/coma/compiler_compat -L${HOME}/.conda/envs/coma/lib -Wl,-rpath=${HOME}/.conda/envs/coma/lib -Wl,--no-as-needed -Wl,--sysroot=/ build/temp.linux-x86_64-2.7/_posixsubprocess.o -L${HOME}/.conda/envs/coma/lib -lpython2.7 -o build/lib.linux-x86_64-2.7/_posixsubprocess32.so\r\n  ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n  ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n  ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n  ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n  build/temp.linux-x86_64-2.7/_posixsubprocess.o: file not recognized: file format not recognized\r\n  collect2: error: ld returned 1 exit status\r\n  error: command 'gcc' failed with exit status 1\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for subprocess32\r\n  Running setup.py clean for subprocess32\r\nFailed to build subprocess32\r\nInstalling collected packages: subprocess32\r\n  Running setup.py install for subprocess32 ... error\r\n    ERROR: Complete output from command ${HOME}/.conda/envs/coma/bin/python -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-6Mmw2Y/subprocess32/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-Zv3qW2/install-record.txt --single-version-externally-managed --compile:\r\n    ERROR: running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-2.7\r\n    copying subprocess32.py -> build/lib.linux-x86_64-2.7\r\n    running build_ext\r\n    running build_configure\r\n     _posixsubprocess_config.h is already up to date.\r\n    building '_posixsubprocess32' extension\r\n    creating build/temp.linux-x86_64-2.7\r\n    gcc -pthread -B ${HOME}/.conda/envs/coma/compiler_compat -Wl,--sysroot=/ -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I${HOME}/.conda/envs/coma/include/python2.7 -c _posixsubprocess.c -o build/temp.linux-x86_64-2.7/_posixsubprocess.o\r\n    In file included from ${HOME}/.conda/envs/coma/include/python2.7/Python.h:8,\r\n                     from _posixsubprocess.c:16:\r\n    ${HOME}/.conda/envs/coma/include/python2.7/pyconfig.h:1220: warning: \"_POSIX_C_SOURCE\" redefined\r\n     1220 | #define _POSIX_C_SOURCE 200112L\r\n          |\r\n    In file included from /usr/include/sys/cdefs.h:23,\r\n                     from _posixsubprocess.c:12:\r\n    /usr/include/features.h:266: note: this is the location of the previous definition\r\n      266 | # define _POSIX_C_SOURCE 200809L\r\n          |\r\n    In file included from ${HOME}/.conda/envs/coma/include/python2.7/Python.h:8,\r\n                     from _posixsubprocess.c:16:\r\n    ${HOME}/.conda/envs/coma/include/python2.7/pyconfig.h:1242: warning: \"_XOPEN_SOURCE\" redefined\r\n     1242 | #define _XOPEN_SOURCE 600\r\n          |\r\n    In file included from /usr/include/sys/cdefs.h:23,\r\n                     from _posixsubprocess.c:12:\r\n    /usr/include/features.h:203: note: this is the location of the previous definition\r\n      203 | # define _XOPEN_SOURCE 700\r\n          |\r\n    gcc -pthread -shared -B ${HOME}/.conda/envs/coma/compiler_compat -L${HOME}/.conda/envs/coma/lib -Wl,-rpath=${HOME}/.conda/envs/coma/lib -Wl,--no-as-needed -Wl,--sysroot=/ build/temp.linux-x86_64-2.7/_posixsubprocess.o -L${HOME}/.conda/envs/coma/lib -lpython2.7 -o build/lib.linux-x86_64-2.7/_posixsubprocess32.so\r\n    ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n    ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n    ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n    ${HOME}/.conda/envs/coma/compiler_compat/ld: build/temp.linux-x86_64-2.7/_posixsubprocess.o: unable to initialize decompress status for section .debug_info\r\n    build/temp.linux-x86_64-2.7/_posixsubprocess.o: file not recognized: file format not recognized\r\n    collect2: error: ld returned 1 exit status\r\n    error: command 'gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command \"${HOME}/.conda/envs/coma/bin/python -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-6Mmw2Y/subprocess32/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-Zv3qW2/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-6Mmw2Y/subprocess32/\r\n\r\n```\r\nHi, I encountered build error on archlinux, possibly because of my gcc and ld version.\r\n\r\n```\r\n(coma) \u279c  coma git:(master) \u2717 gcc --version\r\ngcc (GCC) 9.1.0\r\nCopyright (C) 2019 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n```\r\n```\r\n(coma) \u279c  coma git:(master) \u2717 ld --version\r\nGNU ld (GNU Binutils) 2.32\r\nCopyright (C) 2019 Free Software Foundation, Inc.\r\nThis program is free software; you may redistribute it under the terms of\r\nthe GNU General Public License version 3 or (at your option) a later version.\r\nThis program has absolutely no warranty.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/61", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/61/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/61/events", "html_url": "https://github.com/google/python-subprocess32/issues/61", "id": 442591018, "node_id": "MDU6SXNzdWU0NDI1OTEwMTg=", "number": 61, "title": "Not a full replacement for subprocess of Python 2.7", "user": {"login": "tlandschoff-scale", "id": 17047541, "node_id": "MDQ6VXNlcjE3MDQ3NTQx", "avatar_url": "https://avatars0.githubusercontent.com/u/17047541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlandschoff-scale", "html_url": "https://github.com/tlandschoff-scale", "followers_url": "https://api.github.com/users/tlandschoff-scale/followers", "following_url": "https://api.github.com/users/tlandschoff-scale/following{/other_user}", "gists_url": "https://api.github.com/users/tlandschoff-scale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlandschoff-scale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlandschoff-scale/subscriptions", "organizations_url": "https://api.github.com/users/tlandschoff-scale/orgs", "repos_url": "https://api.github.com/users/tlandschoff-scale/repos", "events_url": "https://api.github.com/users/tlandschoff-scale/events{/privacy}", "received_events_url": "https://api.github.com/users/tlandschoff-scale/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-10T08:05:53Z", "updated_at": "2019-05-10T17:23:52Z", "closed_at": "2019-05-10T17:23:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hey there,\r\n\r\nthanks for making subprocess32 available, it really helped us fighting random lock-ups in our application. I would not have dared to backport subprocess from Python 3 and resorted to workarounds.\r\n\r\nAfter issues with mixups between subprocess32 and subprocess (some libraries still use subprocess and know nothing about subprocess32) we decided to heed this advice:\r\n\r\n> Or if you fully control your POSIX Python 2.7 installation, this can serve as a replacement for its subprocess module. Users will thank you by not filing concurrency bugs.\r\n\r\nSo far this looked good. Out of curiousity I ran the Python 2.7 stdlib test suite against subprocess32 and was surprised that it failed.\r\n\r\nI offer this Dockerfile to reproduce this:\r\n\r\n```\r\n$ cat Dockerfile \r\nFROM debian:9\r\n\r\nRUN apt-get update\r\nRUN apt-get install -y python2.7 libpython2.7-testsuite python-pip\r\n\r\n# Install subprocess32, replace subprocess\r\nRUN pip install subprocess32\r\nRUN cp /usr/local/lib/python2.7/dist-packages/subprocess32.py /usr/lib/python2.7/subprocess.py\r\nRUN cp /usr/local/lib/python2.7/dist-packages/_posixsubprocess32.so /usr/lib/python2.7/lib-dynload/_posixsubprocess32.so\r\n\r\n# Run regrtest\r\nRUN python -m test.regrtest --verbose test_subprocess\r\n```\r\n\r\nThis results into these failures:\r\n\r\n```\r\n$ sudo docker build .\r\nSending build context to Docker daemon  2.048kB\r\nStep 1/7 : FROM debian:9\r\n ---> de8b49d4b0b3\r\nStep 2/7 : RUN apt-get update\r\n ---> Using cache\r\n ---> 21f3d4930519\r\n[...]\r\nStep 7/7 : RUN python -m test.regrtest --verbose test_subprocess\r\n ---> Running in 58064776ae73\r\n== CPython 2.7.13 (default, Sep 26 2018, 18:42:22) [GCC 6.3.0 20170516]\r\n==   Linux-4.15.0-47-generic-x86_64-with-debian-9.6 little-endian\r\n==   /tmp/test_python_7\r\nTesting with flags: sys.flags(debug=0, py3k_warning=0, division_warning=0, division_new=0, inspect=0, interactive=0, optimize=0, dont_write_bytecode=0, no_user_site=0, no_site=0, ignore_environment=0, tabcheck=0, verbose=0, unicode=0, bytes_warning=0, hash_randomization=0)\r\n[1/1] test_subprocess\r\ntest_call_kwargs (test.test_subprocess.ProcessTestCase) ... ok\r\n[...]\r\ntest test_subprocess failed -- multiple errors occurred\r\nskipped 'mswindows only'\r\n\r\n======================================================================\r\nERROR: test_communicate_epipe_only_stdin (test.test_subprocess.ProcessTestCase)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 714, in test_communicate_epipe_only_stdin\r\n    p.communicate(\"x\" * 2**20)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 712, in communicate\r\n    self.stdin.write(input)\r\nIOError: [Errno 32] Broken pipe\r\n\r\n======================================================================\r\nERROR: test_exceptions (test.test_subprocess.POSIXProcessTestCase)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 803, in test_exceptions\r\n    self.assertIn(\"os.chdir\", c.exception.child_traceback)\r\nAttributeError: 'exceptions.OSError' object has no attribute 'child_traceback'\r\n\r\n======================================================================\r\nERROR: test_preexec_errpipe_does_not_double_close_pipes (test.test_subprocess.POSIXProcessTestCase)\r\nIssue16140: Don't double close pipes on preexec error.\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 868, in test_preexec_errpipe_does_not_double_close_pipes\r\n    stderr=subprocess.PIPE, preexec_fn=raise_it)\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 827, in __init__\r\n    subprocess.Popen.__init__(self, *args, **kwargs)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 614, in __init__\r\n    restore_signals, start_new_session)\r\nTypeError: _execute_child() takes exactly 18 arguments (20 given)\r\n\r\n======================================================================\r\nERROR: test_communicate_epipe (test.test_subprocess.ProcessTestCaseNoPoll)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 706, in test_communicate_epipe\r\n    p.communicate(\"x\" * 2**20)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 724, in communicate\r\n    stdout, stderr = self._communicate(input, endtime, timeout)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 1538, in _communicate\r\n    orig_timeout)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 1684, in _communicate_with_select\r\n    bytes_written = os.write(self.stdin.fileno(), chunk)\r\nOSError: [Errno 32] Broken pipe\r\n\r\n======================================================================\r\nERROR: test_communicate_epipe_only_stdin (test.test_subprocess.ProcessTestCaseNoPoll)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 714, in test_communicate_epipe_only_stdin\r\n    p.communicate(\"x\" * 2**20)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 712, in communicate\r\n    self.stdin.write(input)\r\nIOError: [Errno 32] Broken pipe\r\n\r\n----------------------------------------------------------------------\r\nRan 146 tests in 16.424s\r\n```\r\n\r\nSome tests are bound to fail given that they access the internals of the Python 2.7 implementation. But these look relevant:\r\n\r\n```\r\n======================================================================\r\nERROR: test_communicate_epipe_only_stdin (test.test_subprocess.ProcessTestCase)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 714, in test_communicate_epipe_only_stdin\r\n    p.communicate(\"x\" * 2**20)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 712, in communicate\r\n    self.stdin.write(input)\r\nIOError: [Errno 32] Broken pipe\r\n\r\n======================================================================\r\nERROR: test_communicate_epipe (test.test_subprocess.ProcessTestCaseNoPoll)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 706, in test_communicate_epipe\r\n    p.communicate(\"x\" * 2**20)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 724, in communicate\r\n    stdout, stderr = self._communicate(input, endtime, timeout)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 1538, in _communicate\r\n    orig_timeout)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 1684, in _communicate_with_select\r\n    bytes_written = os.write(self.stdin.fileno(), chunk)\r\nOSError: [Errno 32] Broken pipe\r\n\r\n======================================================================\r\nERROR: test_communicate_epipe_only_stdin (test.test_subprocess.ProcessTestCaseNoPoll)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/test/test_subprocess.py\", line 714, in test_communicate_epipe_only_stdin\r\n    p.communicate(\"x\" * 2**20)\r\n  File \"/usr/lib/python2.7/subprocess.py\", line 712, in communicate\r\n    self.stdin.write(input)\r\nIOError: [Errno 32] Broken pipe\r\n```\r\n\r\nI intent to find out the cause and fix this, but for reference I'd like to have this issue public in the mean time.\r\n\r\nBTW: There is no mention of epipe in the test_subprocess32.py tests:\r\n\r\n```\r\n~/workspace/python-subprocess32$ grep -i epipe test_subprocess32.py \r\n```\r\n\r\nGreetings, Torsten\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/60", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/60/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/60/events", "html_url": "https://github.com/google/python-subprocess32/issues/60", "id": 394384849, "node_id": "MDU6SXNzdWUzOTQzODQ4NDk=", "number": 60, "title": "subprocess32 does not have a binary manylinux1 wheel", "user": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-27T12:41:17Z", "updated_at": "2019-07-08T14:39:29Z", "closed_at": "2018-12-27T19:53:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "subprocess32 does not have a binary manylinux1 wheel, something that could speedup installation on many systems and also lower the footprint by not requiring gcc for installation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/59", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/59/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/59/events", "html_url": "https://github.com/google/python-subprocess32/issues/59", "id": 391342540, "node_id": "MDU6SXNzdWUzOTEzNDI1NDA=", "number": 59, "title": "subprocess32 doesn't include updates from 3.7", "user": {"login": "Chazzz", "id": 270857, "node_id": "MDQ6VXNlcjI3MDg1Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/270857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chazzz", "html_url": "https://github.com/Chazzz", "followers_url": "https://api.github.com/users/Chazzz/followers", "following_url": "https://api.github.com/users/Chazzz/following{/other_user}", "gists_url": "https://api.github.com/users/Chazzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chazzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chazzz/subscriptions", "organizations_url": "https://api.github.com/users/Chazzz/orgs", "repos_url": "https://api.github.com/users/Chazzz/repos", "events_url": "https://api.github.com/users/Chazzz/events{/privacy}", "received_events_url": "https://api.github.com/users/Chazzz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-15T04:14:43Z", "updated_at": "2019-05-10T17:26:32Z", "closed_at": "2019-05-10T17:26:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "`>>> subprocess32.run([\"ls\", \"-l\"], capture_output=True)`\r\n`Traceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/vincent/.local/lib/python2.7/site-packages/subprocess32.py\", line 406, in run\r\n    process = Popen(*popenargs, **kwargs)\r\nTypeError: __init__() got an unexpected keyword argument 'capture_output'`\r\n\r\nThis is not surprising because that's what the code does. However, this behavior has been updated in Python 3.7 (https://docs.python.org/3/library/subprocess.html#subprocess.run, \"Changed in version 3.7: Added the text parameter, as a more understandable alias of universal_newlines. Added the capture_output parameter.\"). In the cpython repository, subprocess.py has been updated with additional parameters (see https://github.com/python/cpython/blob/master/Lib/subprocess.py#L433), that are not present in subprocess32.\r\n\r\nWhile subprocess32 only supporting subprocess up to 3.5 is well documented, there's some additional updates which would be valuable to backport. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/57", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/57/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/57/events", "html_url": "https://github.com/google/python-subprocess32/issues/57", "id": 357843458, "node_id": "MDU6SXNzdWUzNTc4NDM0NTg=", "number": 57, "title": "TimeoutExpired is not pickleable.", "user": {"login": "dragonpaw", "id": 74992, "node_id": "MDQ6VXNlcjc0OTky", "avatar_url": "https://avatars2.githubusercontent.com/u/74992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dragonpaw", "html_url": "https://github.com/dragonpaw", "followers_url": "https://api.github.com/users/dragonpaw/followers", "following_url": "https://api.github.com/users/dragonpaw/following{/other_user}", "gists_url": "https://api.github.com/users/dragonpaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/dragonpaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dragonpaw/subscriptions", "organizations_url": "https://api.github.com/users/dragonpaw/orgs", "repos_url": "https://api.github.com/users/dragonpaw/repos", "events_url": "https://api.github.com/users/dragonpaw/events{/privacy}", "received_events_url": "https://api.github.com/users/dragonpaw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-09-06T21:58:23Z", "updated_at": "2019-05-14T00:49:23Z", "closed_at": "2019-05-14T00:49:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Python 2.x, subclasses of Exception must either call `super(...).__init__(*args)` or set `self.args` in order to be successfully pickled/unpickled.\r\n\r\nExample:\r\n```pycon\r\n>>> import subprocess32, pickle\r\n>>> t = subprocess32.TimeoutExpired(['foo', 'bar'], 60)\r\n>>> pickle.loads(pickle.dumps(t))\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-6-c105e6dd98fb> in <module>()\r\n----> 1 pickle.loads(pickle.dumps(t))\r\n\r\n/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/pickle.pyc in loads(str)\r\n   1386 def loads(str):\r\n   1387     file = StringIO(str)\r\n-> 1388     return Unpickler(file).load()\r\n   1389\r\n   1390 # Doctest\r\n\r\n/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/pickle.pyc in load(self)\r\n    862             while 1:\r\n    863                 key = read(1)\r\n--> 864                 dispatch[key](self)\r\n    865         except _Stop, stopinst:\r\n    866             return stopinst.value\r\n\r\n/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/pickle.pyc in load_reduce(self)\r\n   1137         args = stack.pop()\r\n   1138         func = stack[-1]\r\n-> 1139         value = func(*args)\r\n   1140         stack[-1] = value\r\n   1141     dispatch[REDUCE] = load_reduce\r\n\r\nTypeError: __init__() takes at least 3 arguments (1 given)\r\n```\r\n\r\nPython bug: https://bugs.python.org/issue1692335\r\nExplanation: https://stackoverflow.com/questions/41808912/cannot-unpickle-exception-subclass\r\n\r\nExample Solution:\r\n```pycon\r\n>>> import subprocess32, pickle\r\n>>> t = subprocess32.TimeoutExpired(['foo', 'bar'], 60)\r\n>>> pickle.loads(pickle.dumps(t))\r\n>>> t.args = (t.cmd, t.timeout, t.stdout, t.stderr)  # Magic!\r\n>>> pickle.loads(pickle.dumps(t))\r\n# No exception now! \r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/54", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/54/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/54/events", "html_url": "https://github.com/google/python-subprocess32/issues/54", "id": 351702424, "node_id": "MDU6SXNzdWUzNTE3MDI0MjQ=", "number": 54, "title": "Heap Overflow in _PySequence_BytesToCharpArray", "user": {"login": "sgayou", "id": 20627117, "node_id": "MDQ6VXNlcjIwNjI3MTE3", "avatar_url": "https://avatars2.githubusercontent.com/u/20627117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgayou", "html_url": "https://github.com/sgayou", "followers_url": "https://api.github.com/users/sgayou/followers", "following_url": "https://api.github.com/users/sgayou/following{/other_user}", "gists_url": "https://api.github.com/users/sgayou/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgayou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgayou/subscriptions", "organizations_url": "https://api.github.com/users/sgayou/orgs", "repos_url": "https://api.github.com/users/sgayou/repos", "events_url": "https://api.github.com/users/sgayou/events{/privacy}", "received_events_url": "https://api.github.com/users/sgayou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-17T18:51:36Z", "updated_at": "2018-08-17T20:06:31Z", "closed_at": "2018-08-17T20:06:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "_PySequence_BytesToCharpArray contains a heap overflow after a integer wraparound occurs when large sequences are passed to subprocess_fork_exec.\r\n\r\nThis can be reproduced on a 32-bit system. It probably can be reproduced on 64bit systems with a few exabytes of RAM. (I don't have anything like that to test with unfortunately...)\r\n\r\n```python\r\nimport subprocess32 as subprocess\r\nsubprocess._posixsubprocess.fork_exec(\"a\",'a'*0x3FFFFFFF,\"a\",set(),\"a\",\"a\",1,1,1,1,1,1,1,3,1,1,\"a\")\r\n```\r\n```bash\r\n*** glibc detected *** /usr/bin/python: double free or corruption (!prev): 0x09464b38 ***\r\nSegmentation fault (core dumped)\r\n```\r\n\r\nIt can be seen in _posixsubprocess_helpers.c on line 119:\r\n\r\n```C\r\n    argc = PySequence_Size(self);\r\n    if (argc == -1)\r\n        return NULL;\r\n\r\narray = malloc((argc + 1) * sizeof(char *));\r\n```\r\n\r\nargc is the size of the sequence passed to the C library. Thus, if we can pass a value such that size + 1 * 4 > 0xFFFFFFFF (0x3fffffff), malloc should return a small value, and invalid heap writes will occur in the loop below.\r\n\r\nI was unable to trigger this through the actual unhidden API interface, so this flaw seems low priority, but it's always possible someone else could figure out a better way to trigger the overflow. Trying to generate a valid args list that large doesn't seem possible on my system. Guessing the list overhead is too much to make this work. Passing string sequences work, but the API converts them to a list before sending them to the C library I believe.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/53", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/53/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/53/events", "html_url": "https://github.com/google/python-subprocess32/issues/53", "id": 330553013, "node_id": "MDU6SXNzdWUzMzA1NTMwMTM=", "number": 53, "title": "subprocess.run is not backported to python 3.4", "user": {"login": "eight04", "id": 1324510, "node_id": "MDQ6VXNlcjEzMjQ1MTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eight04", "html_url": "https://github.com/eight04", "followers_url": "https://api.github.com/users/eight04/followers", "following_url": "https://api.github.com/users/eight04/following{/other_user}", "gists_url": "https://api.github.com/users/eight04/gists{/gist_id}", "starred_url": "https://api.github.com/users/eight04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eight04/subscriptions", "organizations_url": "https://api.github.com/users/eight04/orgs", "repos_url": "https://api.github.com/users/eight04/repos", "events_url": "https://api.github.com/users/eight04/events{/privacy}", "received_events_url": "https://api.github.com/users/eight04/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-08T07:43:08Z", "updated_at": "2018-06-11T04:12:03Z", "closed_at": "2018-06-11T04:12:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nPython 3.4.4 (v3.4.4:737efcadf5a6, Dec 20 2015, 19:28:18) [MSC v.1600 32 bit (In\r\ntel)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import subprocess32\r\n>>> subprocess32.run\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: 'module' object has no attribute 'run'\r\n>>> subprocess32.__file__\r\n'C:\\\\Program Files (x86)\\\\Python34\\\\lib\\\\subprocess.py'\r\n```\r\n*C:\\Users\\Owner\\AppData\\Roaming\\Python\\Python34\\site-packages\\subprocess32\\__init__.py*\r\n```py\r\n\"\"\"When installed as subprocess32, this sets up a redirect to subprocess.\"\"\"\r\n\r\nimport subprocess\r\nimport sys\r\nif sys.version_info[:2] < (3,3):\r\n    raise ImportError('Ancient Python 3 versions are not supported.')\r\n# Doing this could crash some older Python interpreters due to the module\r\n# reference going away before the import is complete?\r\nsys.modules['subprocess32'] = subprocess\r\n```\r\n\r\nPython 2 works fine. I guess something needs to be fixed in the build script?\r\nhttps://github.com/google/python-subprocess32/blob/035d02a242738fabfc0c4b866d3b186f981e9898/setup.py#L61-L65", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/49", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/49/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/49/events", "html_url": "https://github.com/google/python-subprocess32/issues/49", "id": 324824991, "node_id": "MDU6SXNzdWUzMjQ4MjQ5OTE=", "number": 49, "title": "AttributeError: 'module' object has no attribute 'Signals'", "user": {"login": "jwilk", "id": 141546, "node_id": "MDQ6VXNlcjE0MTU0Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/141546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwilk", "html_url": "https://github.com/jwilk", "followers_url": "https://api.github.com/users/jwilk/followers", "following_url": "https://api.github.com/users/jwilk/following{/other_user}", "gists_url": "https://api.github.com/users/jwilk/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwilk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwilk/subscriptions", "organizations_url": "https://api.github.com/users/jwilk/orgs", "repos_url": "https://api.github.com/users/jwilk/repos", "events_url": "https://api.github.com/users/jwilk/events{/privacy}", "received_events_url": "https://api.github.com/users/jwilk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 286331147, "node_id": "MDU6TGFiZWwyODYzMzExNDc=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 286331111, "node_id": "MDU6TGFiZWwyODYzMzExMTE=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-05-21T08:06:26Z", "updated_at": "2018-05-21T18:58:24Z", "closed_at": "2018-05-21T18:58:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "This happens with `subprocess32==3.5.0`:\n```pycon\n>>> import subprocess32 as s32\n>>> exc = s32.CalledProcessError(-1, \"eggs\")\n>>> raise exc\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nsubprocess32.CalledProcessError: <exception str() failed>\n>>> str(exc)\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/jwilk/.local/lib/python2.7/site-packages/subprocess32.py\", line 72, in __str__\n    self.cmd, signal.Signals(-self.returncode))\nAttributeError: 'module' object has no attribute 'Signals'\n```\n\nAside from bugginess, I wonder why this code is there in the first place.\nsubprocess uses `signal.Signals` only since Python 3.6, whereas subprocess32 is supposed to be 3.2 with some 3.3 and 3.5 backports.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/45", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/45/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/45/events", "html_url": "https://github.com/google/python-subprocess32/issues/45", "id": 318950063, "node_id": "MDU6SXNzdWUzMTg5NTAwNjM=", "number": 45, "title": "Missing local import: warnings", "user": {"login": "ybastide", "id": 2929444, "node_id": "MDQ6VXNlcjI5Mjk0NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2929444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ybastide", "html_url": "https://github.com/ybastide", "followers_url": "https://api.github.com/users/ybastide/followers", "following_url": "https://api.github.com/users/ybastide/following{/other_user}", "gists_url": "https://api.github.com/users/ybastide/gists{/gist_id}", "starred_url": "https://api.github.com/users/ybastide/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ybastide/subscriptions", "organizations_url": "https://api.github.com/users/ybastide/orgs", "repos_url": "https://api.github.com/users/ybastide/repos", "events_url": "https://api.github.com/users/ybastide/events{/privacy}", "received_events_url": "https://api.github.com/users/ybastide/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-30T16:21:36Z", "updated_at": "2018-05-05T18:24:32Z", "closed_at": "2018-05-05T18:24:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\n            if pass_fds and not close_fds:\r\n                warnings.warn(\"pass_fds overriding close_fds.\", RuntimeWarning)\r\n```\r\nResults in `NameError: global name 'warnings' is not defined`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/44", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/44/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/44/events", "html_url": "https://github.com/google/python-subprocess32/issues/44", "id": 315451170, "node_id": "MDU6SXNzdWUzMTU0NTExNzA=", "number": 44, "title": "error: package directory 'python3_redirect' does not exist", "user": {"login": "mr-c", "id": 1330696, "node_id": "MDQ6VXNlcjEzMzA2OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1330696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mr-c", "html_url": "https://github.com/mr-c", "followers_url": "https://api.github.com/users/mr-c/followers", "following_url": "https://api.github.com/users/mr-c/following{/other_user}", "gists_url": "https://api.github.com/users/mr-c/gists{/gist_id}", "starred_url": "https://api.github.com/users/mr-c/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mr-c/subscriptions", "organizations_url": "https://api.github.com/users/mr-c/orgs", "repos_url": "https://api.github.com/users/mr-c/repos", "events_url": "https://api.github.com/users/mr-c/events{/privacy}", "received_events_url": "https://api.github.com/users/mr-c/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-04-18T12:05:11Z", "updated_at": "2018-05-17T12:14:28Z", "closed_at": "2018-05-06T07:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When testing https://github.com/google/python-subprocess32/blob/master/setup.py#L20 promised ability to install under Python3.x\r\n\r\n```\r\n$ pip install subprocess32==3.5.0rc1\r\nCollecting subprocess32==3.5.0rc1\r\n  Downloading https://files.pythonhosted.org/packages/28/91/d1283618eba07c4e8e18c58b3fd8b5ff3a8992fb652a3720535ddf2f2916/subprocess32-3.5.0rc1.tar.gz (54kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 61kB 843kB/s \r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info/subprocess32.egg-info\r\n    writing top-level names to pip-egg-info/subprocess32.egg-info/top_level.txt\r\n    writing dependency_links to pip-egg-info/subprocess32.egg-info/dependency_links.txt\r\n    writing pip-egg-info/subprocess32.egg-info/PKG-INFO\r\n    writing manifest file 'pip-egg-info/subprocess32.egg-info/SOURCES.txt'\r\n    /home/michael/cwltool/env3/lib/python3.5/site-packages/setuptools/version.py:1: UserWarning: Module _posixsubprocess was already imported from None, but /tmp/pip-install-gk2ke0g4/subprocess32 is being added to sys.path\r\n      import pkg_resources\r\n    subprocess32 == subprocess on Python 3.\r\n    error: package directory 'python3_redirect' does not exist\r\n    \r\n    ----------------------------------------\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/43", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/43/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/43/events", "html_url": "https://github.com/google/python-subprocess32/issues/43", "id": 314333765, "node_id": "MDU6SXNzdWUzMTQzMzM3NjU=", "number": 43, "title": "build fails on FreeBSD 11.1", "user": {"login": "dimpase", "id": 1276956, "node_id": "MDQ6VXNlcjEyNzY5NTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1276956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimpase", "html_url": "https://github.com/dimpase", "followers_url": "https://api.github.com/users/dimpase/followers", "following_url": "https://api.github.com/users/dimpase/following{/other_user}", "gists_url": "https://api.github.com/users/dimpase/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimpase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimpase/subscriptions", "organizations_url": "https://api.github.com/users/dimpase/orgs", "repos_url": "https://api.github.com/users/dimpase/repos", "events_url": "https://api.github.com/users/dimpase/events{/privacy}", "received_events_url": "https://api.github.com/users/dimpase/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "dimpase", "id": 1276956, "node_id": "MDQ6VXNlcjEyNzY5NTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1276956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimpase", "html_url": "https://github.com/dimpase", "followers_url": "https://api.github.com/users/dimpase/followers", "following_url": "https://api.github.com/users/dimpase/following{/other_user}", "gists_url": "https://api.github.com/users/dimpase/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimpase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimpase/subscriptions", "organizations_url": "https://api.github.com/users/dimpase/orgs", "repos_url": "https://api.github.com/users/dimpase/repos", "events_url": "https://api.github.com/users/dimpase/events{/privacy}", "received_events_url": "https://api.github.com/users/dimpase/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dimpase", "id": 1276956, "node_id": "MDQ6VXNlcjEyNzY5NTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1276956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimpase", "html_url": "https://github.com/dimpase", "followers_url": "https://api.github.com/users/dimpase/followers", "following_url": "https://api.github.com/users/dimpase/following{/other_user}", "gists_url": "https://api.github.com/users/dimpase/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimpase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimpase/subscriptions", "organizations_url": "https://api.github.com/users/dimpase/orgs", "repos_url": "https://api.github.com/users/dimpase/repos", "events_url": "https://api.github.com/users/dimpase/events{/privacy}", "received_events_url": "https://api.github.com/users/dimpase/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-04-14T14:37:10Z", "updated_at": "2018-05-14T09:46:56Z", "closed_at": "2018-05-05T22:17:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "One gets \r\n```\r\n    _posixsubprocess.c:764:22: error: use of undeclared identifier 'O_CLOEXEC'\r\n        res = pipe2(fds, O_CLOEXEC);\r\n```\r\nwhile building the extension. The problem is that `O_CLOEXEC` defined in `fcntl.h` inside an `#if`, with the condition that does not hold true:\r\n```\r\n#if __POSIX_VISIBLE >= 200809\r\n/* Defined by POSIX 1003.1-2008; BSD default, but reserve for future use. */\r\n#define O_TTY_INIT      0x00080000      /* Restore default termios attributes */\r\n\r\n#define O_CLOEXEC       0x00100000\r\n#endif\r\n```\r\n\r\nTo fix the build I ended up adding `-DO_CLOEXEC=0x00100000` to `CFLAGS`, after trying without success to do this more properly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/42", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/42/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/42/events", "html_url": "https://github.com/google/python-subprocess32/issues/42", "id": 313642120, "node_id": "MDU6SXNzdWUzMTM2NDIxMjA=", "number": 42, "title": "Is it possible to pip install this package without compiling C-extension?", "user": {"login": "rogalski", "id": 9485217, "node_id": "MDQ6VXNlcjk0ODUyMTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/9485217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rogalski", "html_url": "https://github.com/rogalski", "followers_url": "https://api.github.com/users/rogalski/followers", "following_url": "https://api.github.com/users/rogalski/following{/other_user}", "gists_url": "https://api.github.com/users/rogalski/gists{/gist_id}", "starred_url": "https://api.github.com/users/rogalski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rogalski/subscriptions", "organizations_url": "https://api.github.com/users/rogalski/orgs", "repos_url": "https://api.github.com/users/rogalski/repos", "events_url": "https://api.github.com/users/rogalski/events{/privacy}", "received_events_url": "https://api.github.com/users/rogalski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-12T09:16:58Z", "updated_at": "2018-06-26T10:25:33Z", "closed_at": "2018-04-12T17:51:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/41", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/41/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/41/events", "html_url": "https://github.com/google/python-subprocess32/issues/41", "id": 312966946, "node_id": "MDU6SXNzdWUzMTI5NjY5NDY=", "number": 41, "title": "Next release? rc1 out since 6 months", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-04-10T15:09:17Z", "updated_at": "2018-05-13T17:31:09Z", "closed_at": "2018-05-13T17:31:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "subprocess32 3.5.0rc1 was released in October 2017.\r\n\r\nNow is April 2018.\r\n\r\nWhen do you plan to release the next version of subprocess32?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/40", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/40/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/40/events", "html_url": "https://github.com/google/python-subprocess32/issues/40", "id": 294123205, "node_id": "MDU6SXNzdWUyOTQxMjMyMDU=", "number": 40, "title": "build fails on Solaris 11", "user": {"login": "dimpase", "id": 1276956, "node_id": "MDQ6VXNlcjEyNzY5NTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1276956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimpase", "html_url": "https://github.com/dimpase", "followers_url": "https://api.github.com/users/dimpase/followers", "following_url": "https://api.github.com/users/dimpase/following{/other_user}", "gists_url": "https://api.github.com/users/dimpase/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimpase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimpase/subscriptions", "organizations_url": "https://api.github.com/users/dimpase/orgs", "repos_url": "https://api.github.com/users/dimpase/repos", "events_url": "https://api.github.com/users/dimpase/events{/privacy}", "received_events_url": "https://api.github.com/users/dimpase/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2018-02-03T16:16:57Z", "updated_at": "2020-06-16T21:38:51Z", "closed_at": "2020-06-16T21:38:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `dirfd()` workaround for older versions does not work here (as it's `d_fd`, rather than `dd_fd`), and is in fact not needed, as Solaris 11 provides `dirfd()`.\r\n```\r\n    building '_posixsubprocess' extension\r\n    creating build/temp.solaris-2.11-sun4v.64bit-2.7\r\n    gcc -DNDEBUG -g -O3 -Wall -D_XPG6 -fPIC -I/datapool/dima/Sage/sagetrac-mirror/local/include/python2.7 -c _posixsubprocess.c -o build/temp.solaris-2.11-sun4v.64bit-2.7/_posixsubprocess.o\r\n    _posixsubprocess.c: In function \u2018_close_open_fds_maybe_unsafe\u2019:\r\n    _posixsubprocess.c:334:50: error: \u2018DIR {aka struct <anonymous>}\u2019 has no member named \u2018dd_fd\u2019; did you mean \u2018d_fd\u2019?\r\n             int fd_used_by_opendir = dirfd(proc_fd_dir);\r\n                                                      ^~~\r\n                                                      d_fd\r\n    error: command 'gcc' failed with exit status 1\r\n```\r\n\r\nIf I export `CFLAGS` with `CFLAGS=\"$CFLAGS -DHAVE_DIRFD\"` then the build works.\r\n\r\nI am not sure what the correct way to fix this is. `HAVE_DIRFD` needs to be set somehow, I guess.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/38", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/38/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/38/events", "html_url": "https://github.com/google/python-subprocess32/issues/38", "id": 273971158, "node_id": "MDU6SXNzdWUyNzM5NzExNTg=", "number": 38, "title": "Error during pip install on ubuntu", "user": {"login": "nscals", "id": 6414739, "node_id": "MDQ6VXNlcjY0MTQ3Mzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6414739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nscals", "html_url": "https://github.com/nscals", "followers_url": "https://api.github.com/users/nscals/followers", "following_url": "https://api.github.com/users/nscals/following{/other_user}", "gists_url": "https://api.github.com/users/nscals/gists{/gist_id}", "starred_url": "https://api.github.com/users/nscals/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nscals/subscriptions", "organizations_url": "https://api.github.com/users/nscals/orgs", "repos_url": "https://api.github.com/users/nscals/repos", "events_url": "https://api.github.com/users/nscals/events{/privacy}", "received_events_url": "https://api.github.com/users/nscals/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-11-14T22:46:27Z", "updated_at": "2020-05-27T07:19:43Z", "closed_at": "2018-05-05T19:05:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Subprocess32 is a dependency for the fbprophet library.  \r\n\r\nWhile pip installing the fbprophet module I received the following error:\r\n\r\n`Command \"/home/ubuntu/anaconda3/envs/resfuture/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-DWKA4l/subprocess32/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-zcj5OE-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-DWKA4l/subprocess32/`\r\n\r\nWhen I tried to pip install just subprocess I encountered the same error: \r\n`Failed building wheel for subprocess32`\r\n`Command \"/home/ubuntu/anaconda3/envs/resfuture/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-paHlZS/subprocess32/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-mEbekx-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-paHlZS/subprocess32/`\r\n\r\nDoes anyone know how I can resolve this issue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/37", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/37/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/37/events", "html_url": "https://github.com/google/python-subprocess32/issues/37", "id": 271015836, "node_id": "MDU6SXNzdWUyNzEwMTU4MzY=", "number": 37, "title": "How to specify dependency to subprocess32?", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-03T15:22:01Z", "updated_at": "2017-11-10T13:57:54Z", "closed_at": "2017-11-10T13:57:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a library ([subx][1]) which depends on [subprocess32][2]. \r\n\r\nMy library needs the timeout kwarg.\r\n\r\nI need subprocess32 only if the target platform is Python2.x. \r\n\r\nHow should I define the dependency in my project?\r\n\r\nI get this error message, if I define a dependency to `subprocess32` via \"install_requires\" (setup.py) and I am inside a python3 virtualenv:\r\n\r\n    ===> pip install -e git+https://github.com/guettli/subx.git#egg=subx\r\n    Obtaining subx from git+https://github.com/guettli/subx.git#egg=subx\r\n      Cloning https://github.com/guettli/subx.git to ./src/subx\r\n    Collecting subprocess32 (from subx)\r\n      Using cached subprocess32-3.2.7.tar.gz\r\n        Complete output from command python setup.py egg_info:\r\n        This backport is for Python 2.x only.\r\n        \r\n        ----------------------------------------\r\n    Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-lju3nl1y/subprocess32/\r\n\r\n\r\n  [1]: https://github.com/guettli/subx\r\n  [2]: https://pypi.python.org/pypi/subprocess32\r\n\r\nSame question here: https://stackoverflow.com/questions/47098185/dependency-management-subprocess32-needed-for-python2-7", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/31", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/31/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/31/events", "html_url": "https://github.com/google/python-subprocess32/issues/31", "id": 256193341, "node_id": "MDU6SXNzdWUyNTYxOTMzNDE=", "number": 31, "title": "Issue with _posixsubprocess when importing subprocess32", "user": {"login": "TarAldarion", "id": 1926903, "node_id": "MDQ6VXNlcjE5MjY5MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1926903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TarAldarion", "html_url": "https://github.com/TarAldarion", "followers_url": "https://api.github.com/users/TarAldarion/followers", "following_url": "https://api.github.com/users/TarAldarion/following{/other_user}", "gists_url": "https://api.github.com/users/TarAldarion/gists{/gist_id}", "starred_url": "https://api.github.com/users/TarAldarion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TarAldarion/subscriptions", "organizations_url": "https://api.github.com/users/TarAldarion/orgs", "repos_url": "https://api.github.com/users/TarAldarion/repos", "events_url": "https://api.github.com/users/TarAldarion/events{/privacy}", "received_events_url": "https://api.github.com/users/TarAldarion/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-08T09:25:40Z", "updated_at": "2017-09-14T16:25:33Z", "closed_at": "2017-09-14T16:25:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I posted this issue here but as Gregory pointed out it is more suited to here, if at all. https://bugs.python.org/issue31383\r\n\r\nI am trying to install subprocess32 with my python 2.7 installation via buildroot. It appeared to install correctly but when I import it on the embedded system I get an error:\r\n\r\n```\r\n>>> import subprocess32\r\n/usr/lib/python2.7/site-packages/subprocess32.py:472: RuntimeWarning: The _posixsubprocess module is not being used. Child process reliability may suffer if your program uses threads. \r\n\"program uses threads.\", RuntimeWarning)\r\n```\r\nFollowing this path I tried to import _posixsubprocess\r\n\r\n```\r\nimport _posixsubprocess\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: dynamic module does not define init function (init_posixsubprocess)\r\n\r\n```\r\nI can use subprocess32 otherwise, tested out basic functionality like `subprocess32.Popen([\"ls\"]).communicate()`\r\n\r\nAs was pointed out on bugs.python.org init_posixsubprocess does exist in _posixsubprocess.c\r\n\r\nThis may be an issue with buildroot handling it, however I will post a solution if I find it here to help others. \r\n\r\nWhat I see when I build it seems innocuous:\r\n\r\n```\r\n^[[7m>>> python-subprocess32 3.2.7 Extracting^[[27m\r\n^[[7m>>> python-subprocess32 3.2.7 Patching package/python-subprocess32^[[27m\r\n^[[7m>>> python-subprocess32 3.2.7 Configuring^[[27m\r\n^[[7m>>> python-subprocess32 3.2.7 Building^[[27m\r\n(cd /media/vmpart/5.1.0_x86/buildroot/output/build/python-subprocess32-3.2.7; /media/vmpart/5.1.0_x86/buildroot/output/host/usr/bin/python setup.py build)\r\nrunning build\r\nrunning build_py\r\ncreating build\r\ncreating build/lib.linux-x86_64-2.7\r\ncopying subprocess32.py -> build/lib.linux-x86_64-2.7\r\nrunning build_ext\r\nbuilding '_posixsubprocess' extension\r\ncreating build/temp.linux-x86_64-2.7\r\ncopying subprocess32.py -> build/lib.linux-x86_64-2.7\r\nrunning build_ext\r\nbuilding '_posixsubprocess' extension\r\ncreating build/temp.linux-x86_64-2.7\r\n/media/vmpart/5.1.0_x86/buildroot/output/host/usr/bin/ccache /usr/bin/gcc -pthread -fno-strict-aliasing -O2 -I/media/vmpart/5.1.0_x86/buildroot/output/host/include -I/media/vmpart/5.1.0_x86/buildroot/output/host/usr/include -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -fPIC -I/media/vmpart/5.1.0_x86/buildroot/output/host/usr/include/python2.7 -c _posixsubprocess.c -o build/temp.linux-x86_64-2.7/_posixsubprocess.o\r\n/media/vmpart/5.1.0_x86/buildroot/output/host/usr/bin/ccache /usr/bin/gcc -pthread -shared -L/media/vmpart/5.1.0_x86/buildroot/output/host/lib -L/media/vmpart/5.1.0_x86/buildroot/output/host/usr/lib -Wl,-rpath,/media/vmpart/5.1.0_x86/buildroot/output/host/usr/lib build/temp.linux-x86_64-2.7/_posixsubprocess.o -L/media/vmpart/5.1.0_x86/buildroot/output/host/usr/lib -lpython2.7 -o build/lib.linux-x86_64-2.7/_posixsubprocess.so\r\n^[[7m>>> python-subprocess32 3.2.7 Installing to target^[[27m\r\n(cd /media/vmpart/5.1.0_x86/buildroot/output/build/python-subprocess32-3.2.7; /media/vmpart/5.1.0_x86/buildroot/output/host/usr/bin/python setup.py install --prefix=/media/vmpart/5.1.0_x86/buildroot/output/target/usr)\r\nrunning install\r\nrunning build\r\nrunning build_py\r\nrunning build_ext\r\nrunning install_lib\r\ncopying build/lib.linux-x86_64-2.7/_posixsubprocess.so -> /media/vmpart/5.1.0_x86/buildroot/output/target/usr/lib/python2.7/site-packages\r\nrunning install_egg_info\r\nRemoving /media/vmpart/5.1.0_x86/buildroot/output/target/usr/lib/python2.7/site-packages/subprocess32-3.2.7-py2.7.egg-info\r\nWriting /media/vmpart/5.1.0_x86/buildroot/output/target/usr/lib/python2.7/site-packages/subprocess32-3.2.7-py2.7.egg-info\r\n\r\n\r\n```\r\nMake file (buildroot version does not have python-package):\r\n\r\n```\r\n#############################################################\r\n#\r\n# Subprocess32 module for python\r\n#\r\n#############################################################\r\n\r\nPYTHON_SUBPROCESS32_VERSION = 3.2.7\r\nPYTHON_SUBPROCESS32_SOURCE = subprocess32-$(PYTHON_SUBPROCESS32_VERSION).tar.gz\r\nPYTHON_SUBPROCESS32_SITE = https://pypi.python.org/pypi/subprocess32\r\nPYTHON_SUBPROCESS32_DEPENDENCIES = python\r\n\r\ndefine PYTHON_SUBPROCESS32_BUILD_CMDS\r\n        (cd $(@D); $(HOST_DIR)/usr/bin/python setup.py build)\r\nendef\r\n\r\ndefine PYTHON_SUBPROCESS32_INSTALL_TARGET_CMDS\r\n        (cd $(@D); $(HOST_DIR)/usr/bin/python setup.py install --prefix=$(TARGET_DIR)/usr)\r\nendef\r\n\r\n$(eval $(call GENTARGETS,package,python-subprocess32))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/30", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/30/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/30/events", "html_url": "https://github.com/google/python-subprocess32/issues/30", "id": 248906492, "node_id": "MDU6SXNzdWUyNDg5MDY0OTI=", "number": 30, "title": "Cross-version compatibility for `subprocess.getstatusoutput`", "user": {"login": "ncoghlan", "id": 1026649, "node_id": "MDQ6VXNlcjEwMjY2NDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1026649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ncoghlan", "html_url": "https://github.com/ncoghlan", "followers_url": "https://api.github.com/users/ncoghlan/followers", "following_url": "https://api.github.com/users/ncoghlan/following{/other_user}", "gists_url": "https://api.github.com/users/ncoghlan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ncoghlan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ncoghlan/subscriptions", "organizations_url": "https://api.github.com/users/ncoghlan/orgs", "repos_url": "https://api.github.com/users/ncoghlan/repos", "events_url": "https://api.github.com/users/ncoghlan/events{/privacy}", "received_events_url": "https://api.github.com/users/ncoghlan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-09T03:25:45Z", "updated_at": "2017-08-09T05:36:00Z", "closed_at": "2017-08-09T05:36:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "When Windows support was added to `subprocess.getstatusoutput` we inadvertently made it backwards incompatible with the behaviour of the 2.7 version: https://bugs.python.org/issue22635\r\n\r\nNow, backwards compatibility *within* the 3.x series means we can't readily change it back to make it match the Python 2.7 behaviour (even though the only reason it changed in the first place was due to a gap in our test coverage).\r\n\r\nThis impacts subprocess32 in two ways:\r\n\r\n1. You likely want to make sure you *don't* backport that mistake (since it would break migrations from the 2.7 stdlib to `subprocess32`)\r\n2. If `subprocess32` were to support 3.x in addition to 2.7, it could provide a way for affected applications to readily work around the problem\r\n\r\nI'm not sure how difficult the latter would be, though.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/28", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/28/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/28/events", "html_url": "https://github.com/google/python-subprocess32/issues/28", "id": 247829737, "node_id": "MDU6SXNzdWUyNDc4Mjk3Mzc=", "number": 28, "title": "call() will only clean up it's opened process if TimeoutExpired thrown but not others", "user": {"login": "acannon828", "id": 4723669, "node_id": "MDQ6VXNlcjQ3MjM2Njk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4723669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acannon828", "html_url": "https://github.com/acannon828", "followers_url": "https://api.github.com/users/acannon828/followers", "following_url": "https://api.github.com/users/acannon828/following{/other_user}", "gists_url": "https://api.github.com/users/acannon828/gists{/gist_id}", "starred_url": "https://api.github.com/users/acannon828/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acannon828/subscriptions", "organizations_url": "https://api.github.com/users/acannon828/orgs", "repos_url": "https://api.github.com/users/acannon828/repos", "events_url": "https://api.github.com/users/acannon828/events{/privacy}", "received_events_url": "https://api.github.com/users/acannon828/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-03T20:43:30Z", "updated_at": "2018-05-13T17:34:25Z", "closed_at": "2018-05-13T17:34:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "e.g. custom Timeout exceptions thrown when entire jobs timeout.\r\n\r\nConsider [subprocess32's implementation](https://github.com/google/python-subprocess32/blob/master/subprocess32.py#L294) vs [that for the current Python](https://github.com/python/cpython/blob/master/Lib/subprocess.py#L261).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/27", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/27/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/27/events", "html_url": "https://github.com/google/python-subprocess32/issues/27", "id": 232876045, "node_id": "MDU6SXNzdWUyMzI4NzYwNDU=", "number": 27, "title": "Does not build on Windows with GCC on Cygwin", "user": {"login": "evandrocoan", "id": 5332158, "node_id": "MDQ6VXNlcjUzMzIxNTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/5332158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evandrocoan", "html_url": "https://github.com/evandrocoan", "followers_url": "https://api.github.com/users/evandrocoan/followers", "following_url": "https://api.github.com/users/evandrocoan/following{/other_user}", "gists_url": "https://api.github.com/users/evandrocoan/gists{/gist_id}", "starred_url": "https://api.github.com/users/evandrocoan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evandrocoan/subscriptions", "organizations_url": "https://api.github.com/users/evandrocoan/orgs", "repos_url": "https://api.github.com/users/evandrocoan/repos", "events_url": "https://api.github.com/users/evandrocoan/events{/privacy}", "received_events_url": "https://api.github.com/users/evandrocoan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-01T13:17:56Z", "updated_at": "2017-06-01T16:56:28Z", "closed_at": "2017-06-01T16:56:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to build it, but the compiler hang on this screen:\r\n```\r\npython setup.py --verbose build\r\nrunning build\r\nrunning build_py\r\nnot copying subprocess32.py (output up-to-date)\r\nrunning build_ext\r\nbuilding '_posixsubprocess' extension\r\ngcc -fno-strict-aliasing -ggdb -O2 -pipe -Wimplicit-function-declaration -fdebug-prefix-map=/usr/src/ports/python/python2-2.7.13-1.x86_64/build=/usr/src/debug/python2-2.7.13-1 -fdebug-prefix-map=/usr/src/ports/python/python2-2.7.13-1.x86_64/src/Python-2.7.13=/usr/src/debug/python2-2.7.13-1 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/usr/include/python2.7 -c _posixsubprocess.c -o build/temp.cygwin-2.8.0-x86_64-2.7/_posixsubprocess.o\r\n```\r\n\r\n```\r\n$ gcc --version\r\ngcc (GCC) 5.4.0\r\nCopyright (C) 2015 Free Software Foundation, Inc.\r\nThis is free software; see the source for copying conditions.  There is NO\r\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\r\n\r\n$ python --version\r\nPython 2.7.13\r\n```\r\n\r\nIt also hangs only using:\r\n```\r\n$ gcc -c _posixsubprocess.c -o build/temp.cygwin-2.8.0-x86_64-2.7/_posixsubprocess.o\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/23", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/23/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/23/events", "html_url": "https://github.com/google/python-subprocess32/issues/23", "id": 231795389, "node_id": "MDU6SXNzdWUyMzE3OTUzODk=", "number": 23, "title": "test_empty_env fails w/ Gentoo sandbox", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-27T11:27:29Z", "updated_at": "2017-05-31T06:58:45Z", "closed_at": "2017-05-30T21:44:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Gentoo sandbox enforces itself into child processes, and therefore the environment is not empty:\r\n\r\n```\r\n======================================================================\r\nFAIL: test_empty_env (__main__.ProcessTestCase)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test_subprocess32.py\", line 545, in test_empty_env\r\n    self.assertEqual(stdout.strip(), \"[]\")\r\nAssertionError: \"['LD_PRELOAD', 'SANDBOX_READ', 'SANDBOX_MESSAGE_P@TH', 'SANDBOX_ON', 'SANDBOX_DENY', 'SANDBOX_VERBOSE', 'SANDBOX_LOG', 'SANDBOX_PREDICT', 'SANDBOX_DEBUG_LOG', 'SANDBOX_ACTIVE', 'SANDBOX_WRITE']\" != '[]'\r\n\r\n======================================================================\r\nFAIL: test_empty_env (__main__.ProcessTestCasePOSIXPurePython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test_subprocess32.py\", line 545, in test_empty_env\r\n    self.assertEqual(stdout.strip(), \"[]\")\r\nAssertionError: \"['LD_PRELOAD', 'SANDBOX_READ', 'SANDBOX_MESSAGE_P@TH', 'SANDBOX_ON', 'SANDBOX_DENY', 'SANDBOX_VERBOSE', 'SANDBOX_LOG', 'SANDBOX_PREDICT', 'SANDBOX_DEBUG_LOG', 'SANDBOX_ACTIVE', 'SANDBOX_WRITE']\" != '[]'\r\n\r\n======================================================================\r\nFAIL: test_empty_env (__main__.ProcessTestCaseNoPoll)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test_subprocess32.py\", line 545, in test_empty_env\r\n    self.assertEqual(stdout.strip(), \"[]\")\r\nAssertionError: \"['LD_PRELOAD', 'SANDBOX_READ', 'SANDBOX_MESSAGE_P@TH', 'SANDBOX_ON', 'SANDBOX_DENY', 'SANDBOX_VERBOSE', 'SANDBOX_LOG', 'SANDBOX_PREDICT', 'SANDBOX_DEBUG_LOG', 'SANDBOX_ACTIVE', 'SANDBOX_WRITE']\" != '[]'\r\n\r\n----------------------------------------------------------------------\r\nRan 264 tests in 197.918s\r\n\r\nFAILED (failures=3)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/19", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/19/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/19/events", "html_url": "https://github.com/google/python-subprocess32/issues/19", "id": 222110143, "node_id": "MDU6SXNzdWUyMjIxMTAxNDM=", "number": 19, "title": "Release a 3.5.x build.", "user": {"login": "whummer", "id": 2807888, "node_id": "MDQ6VXNlcjI4MDc4ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/2807888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whummer", "html_url": "https://github.com/whummer", "followers_url": "https://api.github.com/users/whummer/followers", "following_url": "https://api.github.com/users/whummer/following{/other_user}", "gists_url": "https://api.github.com/users/whummer/gists{/gist_id}", "starred_url": "https://api.github.com/users/whummer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whummer/subscriptions", "organizations_url": "https://api.github.com/users/whummer/orgs", "repos_url": "https://api.github.com/users/whummer/repos", "events_url": "https://api.github.com/users/whummer/events{/privacy}", "received_events_url": "https://api.github.com/users/whummer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-17T10:52:23Z", "updated_at": "2017-10-19T16:43:13Z", "closed_at": "2017-10-19T16:43:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "There have been some important changes since release `3.2.7`, in particular PR https://github.com/google/python-subprocess32/pull/13 . Are there any plans to release an up-to-date version soon? Thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/18", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/18/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/18/events", "html_url": "https://github.com/google/python-subprocess32/issues/18", "id": 209079014, "node_id": "MDU6SXNzdWUyMDkwNzkwMTQ=", "number": 18, "title": "IO exception occurred", "user": {"login": "AlanJager", "id": 8843214, "node_id": "MDQ6VXNlcjg4NDMyMTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/8843214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlanJager", "html_url": "https://github.com/AlanJager", "followers_url": "https://api.github.com/users/AlanJager/followers", "following_url": "https://api.github.com/users/AlanJager/following{/other_user}", "gists_url": "https://api.github.com/users/AlanJager/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlanJager/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlanJager/subscriptions", "organizations_url": "https://api.github.com/users/AlanJager/orgs", "repos_url": "https://api.github.com/users/AlanJager/repos", "events_url": "https://api.github.com/users/AlanJager/events{/privacy}", "received_events_url": "https://api.github.com/users/AlanJager/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-21T08:56:41Z", "updated_at": "2017-02-23T07:08:44Z", "closed_at": "2017-02-23T07:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "return an error code as -11", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/17", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/17/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/17/events", "html_url": "https://github.com/google/python-subprocess32/issues/17", "id": 197681704, "node_id": "MDU6SXNzdWUxOTc2ODE3MDQ=", "number": 17, "title": "run() command", "user": {"login": "h5rdly", "id": 24714022, "node_id": "MDQ6VXNlcjI0NzE0MDIy", "avatar_url": "https://avatars2.githubusercontent.com/u/24714022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h5rdly", "html_url": "https://github.com/h5rdly", "followers_url": "https://api.github.com/users/h5rdly/followers", "following_url": "https://api.github.com/users/h5rdly/following{/other_user}", "gists_url": "https://api.github.com/users/h5rdly/gists{/gist_id}", "starred_url": "https://api.github.com/users/h5rdly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h5rdly/subscriptions", "organizations_url": "https://api.github.com/users/h5rdly/orgs", "repos_url": "https://api.github.com/users/h5rdly/repos", "events_url": "https://api.github.com/users/h5rdly/events{/privacy}", "received_events_url": "https://api.github.com/users/h5rdly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-27T10:25:52Z", "updated_at": "2017-05-28T05:07:35Z", "closed_at": "2017-05-28T05:07:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst, thank you for this port. \r\nI use subprocess32 quite alot, and recently discovered that Python 3.5 actually has a new function named run() which is somewhat more advanced. Would it be possible to add it to subprocess32?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/15", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/15/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/15/events", "html_url": "https://github.com/google/python-subprocess32/issues/15", "id": 179675647, "node_id": "MDU6SXNzdWUxNzk2NzU2NDc=", "number": 15, "title": "_args_from_interpreter_flags function not present causes an import error while importing multiprocessing module", "user": {"login": "vsnag", "id": 9147133, "node_id": "MDQ6VXNlcjkxNDcxMzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/9147133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vsnag", "html_url": "https://github.com/vsnag", "followers_url": "https://api.github.com/users/vsnag/followers", "following_url": "https://api.github.com/users/vsnag/following{/other_user}", "gists_url": "https://api.github.com/users/vsnag/gists{/gist_id}", "starred_url": "https://api.github.com/users/vsnag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vsnag/subscriptions", "organizations_url": "https://api.github.com/users/vsnag/orgs", "repos_url": "https://api.github.com/users/vsnag/repos", "events_url": "https://api.github.com/users/vsnag/events{/privacy}", "received_events_url": "https://api.github.com/users/vsnag/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-28T04:07:07Z", "updated_at": "2017-05-28T05:56:47Z", "closed_at": "2017-05-28T05:56:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did a drop in replacement of python system library subprocess with subprocess32 & renamed the subprocess32 to subprocess in the standard install location. When importing multiprocessing I get an import error\n\n``` python\n>>> import multiprocessing\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/vsnag/Python-2.7.12/Lib/multiprocessing/__init__.py\", line 65, in\n<module>\n    from multiprocessing.util import SUBDEBUG, SUBWARNING\n  File \"/home/vsnag/Python-2.7.12/Lib/multiprocessing/util.py\", line 41, in <mod\nule>\n    from subprocess import _args_from_interpreter_flags\nImportError: cannot import name _args_from_interpreter_flags\n```\n\nAdding this https://github.com/python/cpython/blob/master/Lib/subprocess.py#L536 could be a possible fix.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/14", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/14/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/14/events", "html_url": "https://github.com/google/python-subprocess32/issues/14", "id": 171282458, "node_id": "MDU6SXNzdWUxNzEyODI0NTg=", "number": 14, "title": "Consider uploading wheels for OSX / Linux?", "user": {"login": "matthew-brett", "id": 67612, "node_id": "MDQ6VXNlcjY3NjEy", "avatar_url": "https://avatars2.githubusercontent.com/u/67612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthew-brett", "html_url": "https://github.com/matthew-brett", "followers_url": "https://api.github.com/users/matthew-brett/followers", "following_url": "https://api.github.com/users/matthew-brett/following{/other_user}", "gists_url": "https://api.github.com/users/matthew-brett/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthew-brett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthew-brett/subscriptions", "organizations_url": "https://api.github.com/users/matthew-brett/orgs", "repos_url": "https://api.github.com/users/matthew-brett/repos", "events_url": "https://api.github.com/users/matthew-brett/events{/privacy}", "received_events_url": "https://api.github.com/users/matthew-brett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-08-15T23:06:10Z", "updated_at": "2018-10-26T20:19:05Z", "closed_at": "2018-05-13T17:32:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Over at https://github.com/matplotlib/matplotlib/issues/6945 a user found that they needed to install XCode only for subprocess32, in an install of the matplotlib plotting package.  All the other dependencies are either pure Python, or have wheels for OSX / Linux (e.g. numpy).\n\nWould you consider uploading wheels for subprocess32 ?   That would be very helpful.\n\nAs proof of concept, I made a wheel-building repo at:\n\nhttps://github.com/MacPython/subprocess32-wheels\n\nThis already builds a functional OSX wheel for 3.2.7:\n\nhttps://travis-ci.org/MacPython/subprocess32-wheels/jobs/152523378\n\nManylinux wheels get broken by #12 -  does https://github.com/google/python-subprocess32/commit/eae9e95f1167ee357b89d6e1823ddaeeaa373019 fix that problem for manylinux wheels?   Tests seem to pass on Ubuntu 14.04 and a wheel from current master:\n\nhttps://travis-ci.org/MacPython/subprocess32-wheels/jobs/152529549\n\nI'm very happy to add y'all as owners of the build repo.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/12", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/12/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/12/events", "html_url": "https://github.com/google/python-subprocess32/issues/12", "id": 168832949, "node_id": "MDU6SXNzdWUxNjg4MzI5NDk=", "number": 12, "title": "subprocess32 fails to compile on ancient RHEL/CentOS 5 & manylinux1 wheels - O_CLOEXEC and HAVE_PIPE2 related?", "user": {"login": "ldrljq", "id": 3894706, "node_id": "MDQ6VXNlcjM4OTQ3MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3894706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldrljq", "html_url": "https://github.com/ldrljq", "followers_url": "https://api.github.com/users/ldrljq/followers", "following_url": "https://api.github.com/users/ldrljq/following{/other_user}", "gists_url": "https://api.github.com/users/ldrljq/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldrljq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldrljq/subscriptions", "organizations_url": "https://api.github.com/users/ldrljq/orgs", "repos_url": "https://api.github.com/users/ldrljq/repos", "events_url": "https://api.github.com/users/ldrljq/events{/privacy}", "received_events_url": "https://api.github.com/users/ldrljq/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-08-02T08:57:18Z", "updated_at": "2017-10-19T06:17:31Z", "closed_at": "2017-10-19T06:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS:RHEL 5.11\nPYTHON:2.7.11/12\n\nWhen i use pip or python install to install this extension:\npip install subprocess32-3.2.7.tar.gz\n\nThe error messages:\n\nProcessing ./subprocess32-3.2.7.tar.gz\nInstalling collected packages: subprocess32\n  Running setup.py install for subprocess32 ... error\n    Complete output from command /usr/bin/python -u -c \"import setuptools, tokenize;**file**='/tmp/pip-ekkMER-build/setup.py';exec(compile(getattr(tokenize, 'open', open)(**file**).read().replace('\\r\\n', '\\n'), **file**, 'exec'))\" install --record /tmp/pip-EebZzY-record/install-record.txt --single-version-externally-managed --compile:\n    running install\n    running build\n    running build_py\n    creating build\n    creating build/lib.linux-x86_64-2.7\n    copying subprocess32.py -> build/lib.linux-x86_64-2.7\n    running build_ext\n    building '_posixsubprocess' extension\n    creating build/temp.linux-x86_64-2.7\n    gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/usr/local/python-2.7/include/python2.7 -c _posixsubprocess.c -o build/temp.linux-x86_64-2.7/_posixsubprocess.o\n    _posixsubprocess.c: In function 'subprocess_cloexec_pipe':\n    _posixsubprocess.c:764: warning: implicit declaration of function 'pipe2'\n    _posixsubprocess.c:764: error: 'O_CLOEXEC' undeclared (first use in this function)\n    _posixsubprocess.c:764: error: (Each undeclared identifier is reported only once\n    _posixsubprocess.c:764: error: for each function it appears in.)\n    error: command 'gcc' failed with exit status 1\n\n```\n----------------------------------------\n```\n\nCommand \"/usr/bin/python -u -c \"import setuptools, tokenize;**file**='/tmp/pip-ekkMER-build/setup.py';exec(compile(getattr(tokenize, 'open', open)(**file**).read().replace('\\r\\n', '\\n'), **file**, 'exec'))\" install --record /tmp/pip-EebZzY-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-ekkMER-build/\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/11", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/11/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/11/events", "html_url": "https://github.com/google/python-subprocess32/issues/11", "id": 165942791, "node_id": "MDU6SXNzdWUxNjU5NDI3OTE=", "number": 11, "title": "Can the setup routine please fail silently?", "user": {"login": "ri0t", "id": 1938065, "node_id": "MDQ6VXNlcjE5MzgwNjU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1938065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ri0t", "html_url": "https://github.com/ri0t", "followers_url": "https://api.github.com/users/ri0t/followers", "following_url": "https://api.github.com/users/ri0t/following{/other_user}", "gists_url": "https://api.github.com/users/ri0t/gists{/gist_id}", "starred_url": "https://api.github.com/users/ri0t/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ri0t/subscriptions", "organizations_url": "https://api.github.com/users/ri0t/orgs", "repos_url": "https://api.github.com/users/ri0t/repos", "events_url": "https://api.github.com/users/ri0t/events{/privacy}", "received_events_url": "https://api.github.com/users/ri0t/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-16T19:00:01Z", "updated_at": "2017-05-28T05:02:47Z", "closed_at": "2017-05-28T05:02:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Otherwise continuous integration with this thing included needs an unnecessary complex way of discerning 2.7 & 3.x dependencies - i.e. I don't want to have a seperate requirements.txt for 2.x.. Or is there something i missed?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/10", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/10/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/10/events", "html_url": "https://github.com/google/python-subprocess32/issues/10", "id": 160816003, "node_id": "MDU6SXNzdWUxNjA4MTYwMDM=", "number": 10, "title": "need subprocess32.DEVNULL in order to ignore stdout", "user": {"login": "codeskyblue", "id": 3281689, "node_id": "MDQ6VXNlcjMyODE2ODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3281689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codeskyblue", "html_url": "https://github.com/codeskyblue", "followers_url": "https://api.github.com/users/codeskyblue/followers", "following_url": "https://api.github.com/users/codeskyblue/following{/other_user}", "gists_url": "https://api.github.com/users/codeskyblue/gists{/gist_id}", "starred_url": "https://api.github.com/users/codeskyblue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codeskyblue/subscriptions", "organizations_url": "https://api.github.com/users/codeskyblue/orgs", "repos_url": "https://api.github.com/users/codeskyblue/repos", "events_url": "https://api.github.com/users/codeskyblue/events{/privacy}", "received_events_url": "https://api.github.com/users/codeskyblue/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-06-17T05:41:58Z", "updated_at": "2017-05-28T04:48:39Z", "closed_at": "2017-05-28T04:48:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "The usage is like\n\n```\nimport subprocess32 as subprocess\n\nsubprocess.Popen(['ls', '-l'], stdout=subprocess.DEVNULL)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/9", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/9/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/9/events", "html_url": "https://github.com/google/python-subprocess32/issues/9", "id": 150428972, "node_id": "MDU6SXNzdWUxNTA0Mjg5NzI=", "number": 9, "title": "Timeout in check_output throws TypeError due to missing argument", "user": {"login": "lcmcninch", "id": 5959019, "node_id": "MDQ6VXNlcjU5NTkwMTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5959019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcmcninch", "html_url": "https://github.com/lcmcninch", "followers_url": "https://api.github.com/users/lcmcninch/followers", "following_url": "https://api.github.com/users/lcmcninch/following{/other_user}", "gists_url": "https://api.github.com/users/lcmcninch/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcmcninch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcmcninch/subscriptions", "organizations_url": "https://api.github.com/users/lcmcninch/orgs", "repos_url": "https://api.github.com/users/lcmcninch/repos", "events_url": "https://api.github.com/users/lcmcninch/events{/privacy}", "received_events_url": "https://api.github.com/users/lcmcninch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-22T17:37:18Z", "updated_at": "2017-05-28T05:08:38Z", "closed_at": "2017-05-28T05:08:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Popen._communicate, when TimeoutExpired is called (lines 1190 and 1194) the second argument (timeout) is omitted, resulting in a TypeError.\n\n[subprocess32.zip](https://github.com/google/python-subprocess32/files/232302/subprocess32.zip)\n\nEDIT: I'm moving too quickly today, basically a dupliate of https://github.com/google/python-subprocess32/issues/7\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/7", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/7/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/7/events", "html_url": "https://github.com/google/python-subprocess32/issues/7", "id": 131796732, "node_id": "MDU6SXNzdWUxMzE3OTY3MzI=", "number": 7, "title": "on Windows 10, TimeoutExpired exception gets TypeError", "user": {"login": "DavidJea", "id": 14907903, "node_id": "MDQ6VXNlcjE0OTA3OTAz", "avatar_url": "https://avatars1.githubusercontent.com/u/14907903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidJea", "html_url": "https://github.com/DavidJea", "followers_url": "https://api.github.com/users/DavidJea/followers", "following_url": "https://api.github.com/users/DavidJea/following{/other_user}", "gists_url": "https://api.github.com/users/DavidJea/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidJea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidJea/subscriptions", "organizations_url": "https://api.github.com/users/DavidJea/orgs", "repos_url": "https://api.github.com/users/DavidJea/repos", "events_url": "https://api.github.com/users/DavidJea/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidJea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-02-06T00:29:52Z", "updated_at": "2018-05-10T02:26:19Z", "closed_at": "2017-10-19T16:44:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Run into an issue, see below, when using check_output and timeout.  This is on Windows 10, and understand that \"This code has not been tested on Windows or other non-POSIX platforms.\", but thought you might want to know.\n\n```\nC:\\Users\\djea>python -V\nPython 2.7.10\n\nC:\\Users\\djea>pip show subprocess32\n\n---\nMetadata-Version: 1.1\nName: subprocess32\nVersion: 3.2.7\nSummary: A backport of the subprocess module from Python 3.2/3.3 for use on 2.x.\nHome-page: https://github.com/google/python-subprocess32\nAuthor: Gregory P. Smith\nAuthor-email: greg@krypto.org\nLicense: PSF license\nLocation: c:\\python27\\lib\\site-packages\nRequires:\n```\n\nWhen running this code,\n\n```\nimport subprocess32\ntry:\n    p = subprocess32.check_output(\"timeout 5\",shell=True,timeout=3)\n    print p\nexcept subprocess32.TimeoutExpired:\n    print \"expired\"\n```\n\nWill get this Error\n\n```\nTraceback (most recent call last):\n  File \"C:\\Users\\djea\\timeout.py\", line 5, in <module>\n    p = subprocess32.check_output(\"timeout 5\",shell=True,timeout=3)\n  File \"C:\\Python27\\lib\\site-packages\\subprocess32.py\", line 631, in check_output\n    output, unused_err = process.communicate(timeout=timeout)\n  File \"C:\\Python27\\lib\\site-packages\\subprocess32.py\", line 927, in communicate\n    stdout, stderr = self._communicate(input, endtime, timeout)\n  File \"C:\\Python27\\lib\\site-packages\\subprocess32.py\", line 1190, in _communicate\n    raise TimeoutExpired(self.args)\nTypeError: __init__() takes at least 3 arguments (2 given)\n```\n\nSame code (except using 'sleep' instead of 'timeout') has no problem on Linux.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/4", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/4/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/4/events", "html_url": "https://github.com/google/python-subprocess32/issues/4", "id": 127845071, "node_id": "MDU6SXNzdWUxMjc4NDUwNzE=", "number": 4, "title": "File descriptors given to pass_fds should have close-on-exec flag unset", "user": {"login": "jstewmon", "id": 909418, "node_id": "MDQ6VXNlcjkwOTQxOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/909418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jstewmon", "html_url": "https://github.com/jstewmon", "followers_url": "https://api.github.com/users/jstewmon/followers", "following_url": "https://api.github.com/users/jstewmon/following{/other_user}", "gists_url": "https://api.github.com/users/jstewmon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jstewmon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jstewmon/subscriptions", "organizations_url": "https://api.github.com/users/jstewmon/orgs", "repos_url": "https://api.github.com/users/jstewmon/repos", "events_url": "https://api.github.com/users/jstewmon/events{/privacy}", "received_events_url": "https://api.github.com/users/jstewmon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gpshead", "id": 68491, "node_id": "MDQ6VXNlcjY4NDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/68491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gpshead", "html_url": "https://github.com/gpshead", "followers_url": "https://api.github.com/users/gpshead/followers", "following_url": "https://api.github.com/users/gpshead/following{/other_user}", "gists_url": "https://api.github.com/users/gpshead/gists{/gist_id}", "starred_url": "https://api.github.com/users/gpshead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gpshead/subscriptions", "organizations_url": "https://api.github.com/users/gpshead/orgs", "repos_url": "https://api.github.com/users/gpshead/repos", "events_url": "https://api.github.com/users/gpshead/events{/privacy}", "received_events_url": "https://api.github.com/users/gpshead/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2016-01-21T05:02:18Z", "updated_at": "2018-05-06T07:26:29Z", "closed_at": "2018-05-06T07:26:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's a script to reproduce the issue:\n\n``` python\nimport os\nimport sys\n\nif os.name == 'posix' and sys.version_info[0] < 3:\n    import subprocess32 as subprocess\nelse:\n    import subprocess\n\np1 = subprocess.Popen(['echo', 'hi'], stdout=subprocess.PIPE)\np2 = subprocess.Popen(['echo', 'bye'], stdout=subprocess.PIPE)\n\n# uncommenting these lines will produce expected result in python2.7\n# subprocess._set_cloexec(p1.stdout.fileno(), False)\n# subprocess._set_cloexec(p2.stdout.fileno(), False)\n\nsubs = [p1, p2]\n\nfds = [i.stdout.fileno() for i in subs]\nargs = ['/dev/fd/{}'.format(fd) for fd in fds]\n\np2 = subprocess.Popen(\n    ['cat'] + args,\n    pass_fds=fds\n)\n```\n\npython 3.5 output:\n\n```\nhi\nbye\n```\n\npython 2.7 output:\n\n```\ncat: /dev/fd/3: No such file or directory\ncat: /dev/fd/4: No such file or directory\n```\n\nMy C isn't very good, but I traced through the `_posixsubprocess.c` and `fileutils.c` source on the 2.7 tag of cpython sources on GitHub, and it looks like it should be calling [`ioctl(fd, FIONCLEX, NULL)`](https://github.com/python/cpython/blob/f6675706a10e66a8169db30548b7cbd9295f71af/Python/fileutils.c#L850) for each fd in `pass_fds`, so I haven't been able to figure out why this isn't working in python 2.7.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/1", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/1/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/1/events", "html_url": "https://github.com/google/python-subprocess32/issues/1", "id": 116791046, "node_id": "MDU6SXNzdWUxMTY3OTEwNDY=", "number": 1, "title": "imp_module not initialized on Python 2.6-2.6.2", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 286331136, "node_id": "MDU6TGFiZWwyODYzMzExMzY=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/Type-Patch", "name": "Type-Patch", "color": "ededed", "default": false, "description": null}, {"id": 286331137, "node_id": "MDU6TGFiZWwyODYzMzExMzc=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-13T15:32:10Z", "updated_at": "2015-11-13T15:32:10Z", "closed_at": "2015-11-13T15:32:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nThe PY_VERSION_HEX test should match in \"init_posixsubprocess\" as well.\n\nOn Python versions like 2.6.1, \"imp_module\" is not getting initialized, so \ncalls to \"_PyImport_AcquireLock\" fail because \"imp_module\" is NULL.\n```\n\nOriginal issue reported on code.google.com by `m...@matt-good.net` on 30 Nov 2012 at 2:31\n\nAttachments:\n- [_posixsubprocess.c.patch](https://storage.googleapis.com/google-code-attachments/python-subprocess32/issue-1/comment-0/_posixsubprocess.c.patch)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/python-subprocess32/issues/2", "repository_url": "https://api.github.com/repos/google/python-subprocess32", "labels_url": "https://api.github.com/repos/google/python-subprocess32/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/google/python-subprocess32/issues/2/comments", "events_url": "https://api.github.com/repos/google/python-subprocess32/issues/2/events", "html_url": "https://github.com/google/python-subprocess32/issues/2", "id": 116791047, "node_id": "MDU6SXNzdWUxMTY3OTEwNDc=", "number": 2, "title": "Use of subprocess32 on MS Windows", "user": {"login": "GoogleCodeExporter", "id": 9614759, "node_id": "MDQ6VXNlcjk2MTQ3NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9614759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoogleCodeExporter", "html_url": "https://github.com/GoogleCodeExporter", "followers_url": "https://api.github.com/users/GoogleCodeExporter/followers", "following_url": "https://api.github.com/users/GoogleCodeExporter/following{/other_user}", "gists_url": "https://api.github.com/users/GoogleCodeExporter/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoogleCodeExporter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoogleCodeExporter/subscriptions", "organizations_url": "https://api.github.com/users/GoogleCodeExporter/orgs", "repos_url": "https://api.github.com/users/GoogleCodeExporter/repos", "events_url": "https://api.github.com/users/GoogleCodeExporter/events{/privacy}", "received_events_url": "https://api.github.com/users/GoogleCodeExporter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 286331146, "node_id": "MDU6TGFiZWwyODYzMzExNDY=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/Priority-Medium", "name": "Priority-Medium", "color": "ededed", "default": false, "description": null}, {"id": 286331147, "node_id": "MDU6TGFiZWwyODYzMzExNDc=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/Type-Defect", "name": "Type-Defect", "color": "ededed", "default": false, "description": null}, {"id": 286331137, "node_id": "MDU6TGFiZWwyODYzMzExMzc=", "url": "https://api.github.com/repos/google/python-subprocess32/labels/auto-migrated", "name": "auto-migrated", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-13T15:32:10Z", "updated_at": "2015-11-15T07:33:44Z", "closed_at": "2015-11-15T07:33:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nI'm trying to use the latest version of subprocess32 (3.2.5) on a cross \nplatform project and have encountered some problems using the subprocess32 \nmodule on Windows.\n\nOS = Windows 7\nPython = 2.7.6\n\nIssue 1: Using the setup.py intsaller fails on Windows because of the posix \nextension modules. Removing the line \next_modules=[ext],\nfrom setup.py allows the installation to proceed for windows systems.\n\nIssue 2: The subprocess32 code assumes that _subprocess.c has an attribute \nWAIT_TIMEOUT which isn't the case for Python 2.7 (line 1137 of subprocess32.py)\n\n\n\nNick\n\n\n\n\n```\n\nOriginal issue reported on code.google.com by `TaeKwonD...@gmail.com` on 24 Mar 2014 at 3:40\n", "performed_via_github_app": null, "score": 1.0}]}