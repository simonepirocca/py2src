{"total_count": 213, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/google/pytype/issues/648", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/648/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/648/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/648/events", "html_url": "https://github.com/google/pytype/issues/648", "id": 681150750, "node_id": "MDU6SXNzdWU2ODExNTA3NTA=", "number": 648, "title": "How can I exclude a directory from pytype checking?", "user": {"login": "dclong", "id": 824507, "node_id": "MDQ6VXNlcjgyNDUwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/824507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dclong", "html_url": "https://github.com/dclong", "followers_url": "https://api.github.com/users/dclong/followers", "following_url": "https://api.github.com/users/dclong/following{/other_user}", "gists_url": "https://api.github.com/users/dclong/gists{/gist_id}", "starred_url": "https://api.github.com/users/dclong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dclong/subscriptions", "organizations_url": "https://api.github.com/users/dclong/orgs", "repos_url": "https://api.github.com/users/dclong/repos", "events_url": "https://api.github.com/users/dclong/events{/privacy}", "received_events_url": "https://api.github.com/users/dclong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-18T15:52:04Z", "updated_at": "2020-08-18T23:42:27Z", "closed_at": "2020-08-18T23:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't find any doc on this. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/644", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/644/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/644/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/644/events", "html_url": "https://github.com/google/pytype/issues/644", "id": 680205069, "node_id": "MDU6SXNzdWU2ODAyMDUwNjk=", "number": 644, "title": "type ignore comment after method aliasing doesn't work", "user": {"login": "Akuli", "id": 18505570, "node_id": "MDQ6VXNlcjE4NTA1NTcw", "avatar_url": "https://avatars1.githubusercontent.com/u/18505570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akuli", "html_url": "https://github.com/Akuli", "followers_url": "https://api.github.com/users/Akuli/followers", "following_url": "https://api.github.com/users/Akuli/following{/other_user}", "gists_url": "https://api.github.com/users/Akuli/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akuli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akuli/subscriptions", "organizations_url": "https://api.github.com/users/Akuli/orgs", "repos_url": "https://api.github.com/users/Akuli/repos", "events_url": "https://api.github.com/users/Akuli/events{/privacy}", "received_events_url": "https://api.github.com/users/Akuli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-17T12:40:57Z", "updated_at": "2020-08-17T22:09:18Z", "closed_at": "2020-08-17T22:09:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nclass Entry:\r\n    def configure(self): ...\r\n    config = configure  # type: ignore\r\n```\r\n\r\n```\r\n  File: \"foo.pyi\", line 3\r\n    config = configure  # type: ignore\r\n                        ^\r\nParseError: syntax error, unexpected TYPECOMMENT, expecting DEF\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/641", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/641/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/641/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/641/events", "html_url": "https://github.com/google/pytype/issues/641", "id": 674386665, "node_id": "MDU6SXNzdWU2NzQzODY2NjU=", "number": 641, "title": "`attribute-error` false positive on iteration", "user": {"login": "taliamax", "id": 23022343, "node_id": "MDQ6VXNlcjIzMDIyMzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/23022343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taliamax", "html_url": "https://github.com/taliamax", "followers_url": "https://api.github.com/users/taliamax/followers", "following_url": "https://api.github.com/users/taliamax/following{/other_user}", "gists_url": "https://api.github.com/users/taliamax/gists{/gist_id}", "starred_url": "https://api.github.com/users/taliamax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taliamax/subscriptions", "organizations_url": "https://api.github.com/users/taliamax/orgs", "repos_url": "https://api.github.com/users/taliamax/repos", "events_url": "https://api.github.com/users/taliamax/events{/privacy}", "received_events_url": "https://api.github.com/users/taliamax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T15:07:22Z", "updated_at": "2020-08-06T15:11:53Z", "closed_at": "2020-08-06T15:11:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using pytype version `2020.07.30` and Python version `3.6.10`.\r\n\r\nPytype error message:\r\n```\r\nninja: Entering directory `/Users/tali/projects/pydeepmerge/.pytype'\r\n[1/13] check pydeepmerge._deep_merge\r\nFAILED: /Users/tali/projects/pydeepmerge/.pytype/pyi/pydeepmerge/_deep_merge.pyi \r\n/Users/tali/.virtualenvs/deepmerge-3.6/bin/python -m pytype.single --imports_info /Users/tali/projects/pydeepmerge/.pytype/imports/pydeepmerge._deep_merge.imports --module-name pydeepmerge._deep_merge -V 3.6 -o /Users/tali/projects/pydeepmerge/.pytype/pyi/pydeepmerge/_deep_merge.pyi --analyze-annotated --check-attribute-types --check-container-types --check-parameter-types --check-variable-types --nofail --quick /Users/tali/projects/pydeepmerge/pydeepmerge/_deep_merge.py\r\nFile \"/Users/tali/projects/pydeepmerge/pydeepmerge/_deep_merge.py\", line 56, in deep_merge: No attribute 'items' on List[Mapping] [attribute-error]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#attribute-error.\r\nninja: build stopped: cannot make progress due to previous errors.\r\nComputing dependencies\r\nAnalyzing 15 sources with 0 local dependencies\r\n```\r\n\r\nThe `deep_merge` function:\r\n\r\n```python\r\ndef deep_merge(\r\n    *mappings: List[Mapping],\r\n    merge_strategy: MergeStrategy = prefer_right\r\n) -> Dict:\r\n    '''\r\n    Accepts a series of mappings and optionally a merge strategy\r\n    and produces a dictionary from applying the merge strategy to the values\r\n    The merge_strategy should be a function that accepts two values and returns\r\n    whatever the value of the merge between those two values are. If the current\r\n    dictionary does not have a key for the value in the merging dictionary,\r\n    the input value of the left_value function will be Key.KeyNotFound.\r\n    This type was used instead of None to allow for None to still be a\r\n    valid value in a dictionary.\r\n    '''\r\n    result = {}\r\n    for mapping in mappings:\r\n        for key, right_value in mapping.items():\r\n            logging.debug(\"deep_merge: key: %s\", key)\r\n            left_value = result.get(key, Key.KeyNotFound)\r\n            result[key] = merge_strategy(left_value, right_value)\r\n            logging.debug(\"result_dict: %s\", result)\r\n    return result\r\n```\r\nLink to code: https://github.com/taliamax/pydeepmerge/blob/master/pydeepmerge/_deep_merge.py\r\n\r\nFull-verbosity log: https://drive.google.com/file/d/1Y8ei3ZvuBlD2nMnTcTy-kq3gT77Kdp9m/view?usp=sharing", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/640", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/640/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/640/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/640/events", "html_url": "https://github.com/google/pytype/issues/640", "id": 673781049, "node_id": "MDU6SXNzdWU2NzM3ODEwNDk=", "number": 640, "title": "`annotation-type-mismatch` reports false positive", "user": {"login": "cihati", "id": 461998, "node_id": "MDQ6VXNlcjQ2MTk5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/461998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cihati", "html_url": "https://github.com/cihati", "followers_url": "https://api.github.com/users/cihati/followers", "following_url": "https://api.github.com/users/cihati/following{/other_user}", "gists_url": "https://api.github.com/users/cihati/gists{/gist_id}", "starred_url": "https://api.github.com/users/cihati/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cihati/subscriptions", "organizations_url": "https://api.github.com/users/cihati/orgs", "repos_url": "https://api.github.com/users/cihati/repos", "events_url": "https://api.github.com/users/cihati/events{/privacy}", "received_events_url": "https://api.github.com/users/cihati/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-05T19:09:20Z", "updated_at": "2020-08-16T10:26:57Z", "closed_at": "2020-08-11T18:47:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n..... pytype.single --disable pyi-error --imports_info MYFILENAME--module-name backend.tools.ml.service -V 3.7 -o MYFILENAME.pyi --analyze-annotated --check-attribute-types --check-container-types --check-parameter-types --nofail --quick MYFILENAME\r\n         File \"MYFILENAME\", line 61, in MLModelService: Type annotation for overwrite does not match type of assignment [annotation-type-mismatch]\r\n           Annotation: bool\r\n           Assignment: int\r\n```\r\n\r\n(redacted full path to `MYFILENAME`)\r\n\r\nI have `check_parameter_types=True`\r\n\r\nLine 61:\r\n\r\n```\r\n    def store(self, model_definition: ModelDefinition, model_object: Model, overwrite: bool = True) -> bool:\r\n```\r\n\r\nI think this is a bug by pytype (I'm using 2020.07.30 and Python 3.7.7)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/637", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/637/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/637/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/637/events", "html_url": "https://github.com/google/pytype/issues/637", "id": 669618167, "node_id": "MDU6SXNzdWU2Njk2MTgxNjc=", "number": 637, "title": "creating TypedDicts with TypedDict(...)", "user": {"login": "Akuli", "id": 18505570, "node_id": "MDQ6VXNlcjE4NTA1NTcw", "avatar_url": "https://avatars1.githubusercontent.com/u/18505570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akuli", "html_url": "https://github.com/Akuli", "followers_url": "https://api.github.com/users/Akuli/followers", "following_url": "https://api.github.com/users/Akuli/following{/other_user}", "gists_url": "https://api.github.com/users/Akuli/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akuli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akuli/subscriptions", "organizations_url": "https://api.github.com/users/Akuli/orgs", "repos_url": "https://api.github.com/users/Akuli/repos", "events_url": "https://api.github.com/users/Akuli/events{/privacy}", "received_events_url": "https://api.github.com/users/Akuli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-31T09:33:06Z", "updated_at": "2020-08-18T00:52:05Z", "closed_at": "2020-08-18T00:52:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nfrom typing_extensions import TypedDict\r\nFoo = TypedDict(\"Foo\", {\"a\": int})\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pyi/parser.py\", line 428, in parse\r\n    defs = parser_ext.parse(self, src)\r\npytype.pyi.parser.ParseError: ParseError: syntax error, unexpected '(', expecting DEF\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"runpytype.py\", line 24, in run_pytype\r\n    pytype_io.parse_pyi(options)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/io.py\", line 65, in wrapper\r\n    return f(*args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/io.py\", line 291, in parse_pyi\r\n    ast = loader.load_file(options.module_name, options.input)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/load_pytd.py\", line 240, in load_file\r\n    ast = parser.parse_file(filename=filename, name=module_name,\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pyi/parser.py\", line 1273, in parse_file\r\n    return _Parser(version=python_version, platform=platform).parse(\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pyi/parser.py\", line 437, in parse\r\n    raise ParseError(utils.message(e), line=line, filename=self._filename,\r\npytype.pyi.parser.ParseError:   File: \"foo.py\", line 2\r\n    Foo = TypedDict(\"Foo\", {\"a\": int})\r\n                   ^\r\nParseError: syntax error, unexpected '(', expecting DEF\r\n```\r\n\r\nI would like to use this syntax for creating a TypedDict that contains a key named `'in'`. I can't do\r\n\r\n```\r\nclass Foo(TypedDict):\r\n    in: Bar\r\n```\r\n\r\nbecause that's invalid syntax.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/634", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/634/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/634/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/634/events", "html_url": "https://github.com/google/pytype/issues/634", "id": 668242134, "node_id": "MDU6SXNzdWU2NjgyNDIxMzQ=", "number": 634, "title": "Machine readable output", "user": {"login": "Anthchirp", "id": 2102431, "node_id": "MDQ6VXNlcjIxMDI0MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2102431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Anthchirp", "html_url": "https://github.com/Anthchirp", "followers_url": "https://api.github.com/users/Anthchirp/followers", "following_url": "https://api.github.com/users/Anthchirp/following{/other_user}", "gists_url": "https://api.github.com/users/Anthchirp/gists{/gist_id}", "starred_url": "https://api.github.com/users/Anthchirp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Anthchirp/subscriptions", "organizations_url": "https://api.github.com/users/Anthchirp/orgs", "repos_url": "https://api.github.com/users/Anthchirp/repos", "events_url": "https://api.github.com/users/Anthchirp/events{/privacy}", "received_events_url": "https://api.github.com/users/Anthchirp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-29T23:51:32Z", "updated_at": "2020-07-30T08:18:21Z", "closed_at": "2020-07-30T00:56:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to look into introducing pytype to an existing code base gradually. For this I would like to keep a list of known errors and parse the pytype output to ignore those known errors (plus a bit of additional logic to cope with unparsed files due to those erros).\r\n\r\nWhile the output of pytype looks like it would not be too complex to scrape that wouldn't be very future proof.\r\nCould we have pytype produce explicitly machine-readable output? The [`xunit2` format used by pytest, Jenkins and Microsoft Azure](https://docs.pytest.org/en/stable/deprecations.html#junit-family-default-value-change-to-xunit2) could be a useful and established format to adopt.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/629", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/629/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/629/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/629/events", "html_url": "https://github.com/google/pytype/issues/629", "id": 665836698, "node_id": "MDU6SXNzdWU2NjU4MzY2OTg=", "number": 629, "title": "imports_map_loader_test relies on $TMPDIR = \"/tmp\"", "user": {"login": "delroth", "id": 202798, "node_id": "MDQ6VXNlcjIwMjc5OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/202798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delroth", "html_url": "https://github.com/delroth", "followers_url": "https://api.github.com/users/delroth/followers", "following_url": "https://api.github.com/users/delroth/following{/other_user}", "gists_url": "https://api.github.com/users/delroth/gists{/gist_id}", "starred_url": "https://api.github.com/users/delroth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delroth/subscriptions", "organizations_url": "https://api.github.com/users/delroth/orgs", "repos_url": "https://api.github.com/users/delroth/repos", "events_url": "https://api.github.com/users/delroth/events{/privacy}", "received_events_url": "https://api.github.com/users/delroth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-26T18:36:17Z", "updated_at": "2020-07-29T22:16:21Z", "closed_at": "2020-07-29T22:16:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to run `imports_map_loader_test` on a system with `TMPDIR=/run/user/1000` results in the test failing with the following error:\r\n\r\n```\r\nFAIL: pytype.imports_map_loader_test.ImportMapLoaderTest.test_imports_info_filter\r\nTraceback (most recent call last):\r\n  File \"/tmp/testpytype/source/out/pytype/imports_map_loader_test.py\", line 74, in test_imports_info_filter\r\n    (\"%s/a/__init__\" % d.path[1:], os.devnull),\r\n  File \"/nix/store/m2yz7829mzprnwmv7j3s9kwlwcv7yqil-python3.7-six-1.15.0/lib/python3.7/site-packages/six.py\", line 679, in assertCountEqual\r\n    return getattr(self, _assertCountEqual)(*args, **kwargs)\r\nAssertionError: Element counts were not equal:\r\nFirst has 1, Second has 0:  ('run/__init__', '/dev/null')\r\nFirst has 1, Second has 0:  ('run/user/__init__', '/dev/null')\r\nFirst has 1, Second has 0:  ('run/user/1000/__init__', '/dev/null')\r\nFirst has 0, Second has 1:  ('tmp/__init__', '/dev/null')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/626", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/626/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/626/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/626/events", "html_url": "https://github.com/google/pytype/issues/626", "id": 665417034, "node_id": "MDU6SXNzdWU2NjU0MTcwMzQ=", "number": 626, "title": "crash with two files importing each other: AttributeError: 'UnionType' object has no attribute 'cls'", "user": {"login": "Akuli", "id": 18505570, "node_id": "MDQ6VXNlcjE4NTA1NTcw", "avatar_url": "https://avatars1.githubusercontent.com/u/18505570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akuli", "html_url": "https://github.com/Akuli", "followers_url": "https://api.github.com/users/Akuli/followers", "following_url": "https://api.github.com/users/Akuli/following{/other_user}", "gists_url": "https://api.github.com/users/Akuli/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akuli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akuli/subscriptions", "organizations_url": "https://api.github.com/users/Akuli/orgs", "repos_url": "https://api.github.com/users/Akuli/repos", "events_url": "https://api.github.com/users/Akuli/events{/privacy}", "received_events_url": "https://api.github.com/users/Akuli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-07-24T21:04:24Z", "updated_at": "2020-07-31T00:24:08Z", "closed_at": "2020-07-31T00:24:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a \"minimal\" repro and unfortunately it doesn't seem to get much more minimal than this (still two files)\r\n\r\n`file1.pyi`:\r\n\r\n```\r\nfrom typing import List, Tuple, Union\r\nimport file2\r\nT = TypeVar(\"T\")\r\nFooSequence = Union[List[T], Tuple[T, ...]]\r\ndef foo(font: file2.Strings) -> None: ...\r\n```\r\n\r\n`file2.pyi`:\r\n\r\n```\r\nimport file1\r\nStrings = file1.FooSequence[str]\r\n```\r\n\r\npytype 2020.07.20 says:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/io.py\", line 65, in wrapper\r\n    return f(*args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/io.py\", line 292, in parse_pyi\r\n    ast = loader.finish_and_verify_ast(ast)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/load_pytd.py\", line 436, in finish_and_verify_ast\r\n    self._verify_pyi(ast)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/load_pytd.py\", line 363, in _verify_pyi\r\n    pyval.Visit(visitors.VerifyContainers())\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 213, in Visit\r\n    return _Visit(self, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 241, in _Visit\r\n    return _VisitNode(node, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 325, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 292, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 325, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 292, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 325, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 292, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 325, in _VisitNode\r\n    new_child = _VisitNode(child, visitor, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/parse/node.py\", line 314, in _VisitNode\r\n    status = visitor.Enter(node, *args, **kwargs)\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/pytd_visitors.py\", line 179, in Enter\r\n    return self.enter_functions[node.__class__.__name__](\r\n  File \"/home/akuli/typeshed/env/lib/python3.8/site-packages/pytype/pytd/visitors.py\", line 1409, in EnterGenericType\r\n    if not pytd.IsContainer(base_type.cls):\r\nAttributeError: 'UnionType' object has no attribute 'cls'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/623", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/623/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/623/events", "html_url": "https://github.com/google/pytype/issues/623", "id": 660606709, "node_id": "MDU6SXNzdWU2NjA2MDY3MDk=", "number": 623, "title": "Inference on metaclasses", "user": {"login": "colin-grapl", "id": 62314572, "node_id": "MDQ6VXNlcjYyMzE0NTcy", "avatar_url": "https://avatars0.githubusercontent.com/u/62314572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colin-grapl", "html_url": "https://github.com/colin-grapl", "followers_url": "https://api.github.com/users/colin-grapl/followers", "following_url": "https://api.github.com/users/colin-grapl/following{/other_user}", "gists_url": "https://api.github.com/users/colin-grapl/gists{/gist_id}", "starred_url": "https://api.github.com/users/colin-grapl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colin-grapl/subscriptions", "organizations_url": "https://api.github.com/users/colin-grapl/orgs", "repos_url": "https://api.github.com/users/colin-grapl/repos", "events_url": "https://api.github.com/users/colin-grapl/events{/privacy}", "received_events_url": "https://api.github.com/users/colin-grapl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-19T05:24:45Z", "updated_at": "2020-07-21T00:32:16Z", "closed_at": "2020-07-21T00:32:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Something I've noticed with pytype is that it can generate a type definition for a metaclass only if there is a static string passed into `type`.\r\n\r\nAs an example\r\n```\r\nclass A(object):\r\n  def foo(self):\r\n    print('foo')\r\n\r\nclass B(object):\r\n  def bar(self):\r\n    print('bar')\r\n\r\ndef combine_types(a: Type[A], b: Type[B]):  # Properly generates C and is inferred as return type\r\n    x = type('C', (a, b), {})\r\n    return x\r\n\r\nC = combine_types(A, B)\r\n```\r\nThis all type checks just fine.\r\n\r\nHowever, if we change it to this:\r\n\r\n```\r\ndef combine_types(type_name: str, a: Type[A], b: Type[B]):  # Infers return as Any\r\n    x = type(type_name, (a, b), {})\r\n    return x\r\n\r\nC = combine_types('C', A, B)\r\n```\r\nThe inferred type is Any\r\nWhat won't type check properly (the return type is Any).\r\n\r\nThe generated pyi for the latter looks like this:\r\n\r\n```\r\nclass A:\r\n    def foo(self) -> None: ...\r\n\r\nclass B:\r\n    def bar(self) -> None: ...\r\n\r\nclass C(A, B): ...\r\n\r\ndef combine_types(type_name: str, a: Type[A], b: Type[B]) -> Any: ...\r\n```\r\n\r\nClearly pytype can understand that C needs to exist, but it can't propagate that type 'out' of the combine_types.\r\n\r\nI'm not really an expert on metaclasses or anything, so I apologize if my terminology is off. Hopefully this is clear enough.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/615", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/615/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/615/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/615/events", "html_url": "https://github.com/google/pytype/issues/615", "id": 648772178, "node_id": "MDU6SXNzdWU2NDg3NzIxNzg=", "number": 615, "title": "Wrong handling of defaultdict since 2020.06.26", "user": {"login": "MatthiasThul", "id": 19561272, "node_id": "MDQ6VXNlcjE5NTYxMjcy", "avatar_url": "https://avatars3.githubusercontent.com/u/19561272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthiasThul", "html_url": "https://github.com/MatthiasThul", "followers_url": "https://api.github.com/users/MatthiasThul/followers", "following_url": "https://api.github.com/users/MatthiasThul/following{/other_user}", "gists_url": "https://api.github.com/users/MatthiasThul/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthiasThul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthiasThul/subscriptions", "organizations_url": "https://api.github.com/users/MatthiasThul/orgs", "repos_url": "https://api.github.com/users/MatthiasThul/repos", "events_url": "https://api.github.com/users/MatthiasThul/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthiasThul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-01T08:15:54Z", "updated_at": "2020-07-02T14:09:28Z", "closed_at": "2020-07-01T21:22:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nfrom collections import defaultdict\r\nfrom typing import Dict\r\n\r\n\r\ndef f(x: int) -> str:\r\n    return str(x)                                                                                                                                                                                             \r\n\r\nd: Dict[int, str] = defaultdict(default_factory=f)\r\n```\r\n\r\nWith pytype 2020.06.01 I get no errors. With 2020.06.26, I get\r\n\r\n```bash\r\nFile \"test.py\", line 8, in <module>: Type annotation for d does not match type of assignment [annotation-type-mismatch]\r\n  Annotation: Dict[int, str]\r\n  Assignment: collections.defaultdict[str, Callable[[int], str]]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#annotation-type-mismatch.\r\nninja: build stopped: subcommand failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/613", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/613/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/613/events", "html_url": "https://github.com/google/pytype/issues/613", "id": 646888744, "node_id": "MDU6SXNzdWU2NDY4ODg3NDQ=", "number": 613, "title": "TypedDict and total=false", "user": {"login": "srittau", "id": 52799, "node_id": "MDQ6VXNlcjUyNzk5", "avatar_url": "https://avatars3.githubusercontent.com/u/52799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srittau", "html_url": "https://github.com/srittau", "followers_url": "https://api.github.com/users/srittau/followers", "following_url": "https://api.github.com/users/srittau/following{/other_user}", "gists_url": "https://api.github.com/users/srittau/gists{/gist_id}", "starred_url": "https://api.github.com/users/srittau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srittau/subscriptions", "organizations_url": "https://api.github.com/users/srittau/orgs", "repos_url": "https://api.github.com/users/srittau/repos", "events_url": "https://api.github.com/users/srittau/events{/privacy}", "received_events_url": "https://api.github.com/users/srittau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-28T10:22:22Z", "updated_at": "2020-07-21T05:25:32Z", "closed_at": "2020-07-21T05:25:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "This came up in python/typeshed#4276: It seems that pytype doesn't allow `TypedDict`s that use `total=False`. It will complain \"Only 'metaclass' allowed as classdef kwarg\". We will work around this by adding nmap.nmap to the blacklist for now,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/612", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/612/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/612/events", "html_url": "https://github.com/google/pytype/issues/612", "id": 646497794, "node_id": "MDU6SXNzdWU2NDY0OTc3OTQ=", "number": 612, "title": "pytype hangs on alias from another module inside class", "user": {"login": "srittau", "id": 52799, "node_id": "MDQ6VXNlcjUyNzk5", "avatar_url": "https://avatars3.githubusercontent.com/u/52799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srittau", "html_url": "https://github.com/srittau", "followers_url": "https://api.github.com/users/srittau/followers", "following_url": "https://api.github.com/users/srittau/following{/other_user}", "gists_url": "https://api.github.com/users/srittau/gists{/gist_id}", "starred_url": "https://api.github.com/users/srittau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srittau/subscriptions", "organizations_url": "https://api.github.com/users/srittau/orgs", "repos_url": "https://api.github.com/users/srittau/repos", "events_url": "https://api.github.com/users/srittau/events{/privacy}", "received_events_url": "https://api.github.com/users/srittau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-06-26T20:34:52Z", "updated_at": "2020-07-24T23:18:01Z", "closed_at": "2020-07-24T23:18:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please consider the following stub file:\r\n\r\n```python\r\nimport unittest.mock\r\n\r\nclass MockFixture:\r\n    Mock = unittest.mock.Mock\r\n```\r\n\r\nWhen checking this with pytype (2020.06.01), pytype hangs indefinitely, while consuming 100% CPU time.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/608", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/608/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/608/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/608/events", "html_url": "https://github.com/google/pytype/issues/608", "id": 646318487, "node_id": "MDU6SXNzdWU2NDYzMTg0ODc=", "number": 608, "title": "New Release for fixes required for typeshed's Big Reformat?", "user": {"login": "srittau", "id": 52799, "node_id": "MDQ6VXNlcjUyNzk5", "avatar_url": "https://avatars3.githubusercontent.com/u/52799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srittau", "html_url": "https://github.com/srittau", "followers_url": "https://api.github.com/users/srittau/followers", "following_url": "https://api.github.com/users/srittau/following{/other_user}", "gists_url": "https://api.github.com/users/srittau/gists{/gist_id}", "starred_url": "https://api.github.com/users/srittau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srittau/subscriptions", "organizations_url": "https://api.github.com/users/srittau/orgs", "repos_url": "https://api.github.com/users/srittau/repos", "events_url": "https://api.github.com/users/srittau/events{/privacy}", "received_events_url": "https://api.github.com/users/srittau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-26T14:54:21Z", "updated_at": "2020-07-01T23:12:30Z", "closed_at": "2020-07-01T23:12:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to cut a new release that incorporates the fixes to pytype's parser required for typeshed's Big Reformat? See python/typeshed#4224 for details.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/606", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/606/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/606/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/606/events", "html_url": "https://github.com/google/pytype/issues/606", "id": 642551341, "node_id": "MDU6SXNzdWU2NDI1NTEzNDE=", "number": 606, "title": "pytype-all stops after first file with errors", "user": {"login": "CastixGitHub", "id": 21062669, "node_id": "MDQ6VXNlcjIxMDYyNjY5", "avatar_url": "https://avatars2.githubusercontent.com/u/21062669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CastixGitHub", "html_url": "https://github.com/CastixGitHub", "followers_url": "https://api.github.com/users/CastixGitHub/followers", "following_url": "https://api.github.com/users/CastixGitHub/following{/other_user}", "gists_url": "https://api.github.com/users/CastixGitHub/gists{/gist_id}", "starred_url": "https://api.github.com/users/CastixGitHub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CastixGitHub/subscriptions", "organizations_url": "https://api.github.com/users/CastixGitHub/orgs", "repos_url": "https://api.github.com/users/CastixGitHub/repos", "events_url": "https://api.github.com/users/CastixGitHub/events{/privacy}", "received_events_url": "https://api.github.com/users/CastixGitHub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-21T12:10:21Z", "updated_at": "2020-06-22T19:39:57Z", "closed_at": "2020-06-22T19:39:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "it should continue so with a complete report we can fix more than one issue without launching pytype again.\r\nis it possible?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/603", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/603/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/603/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/603/events", "html_url": "https://github.com/google/pytype/issues/603", "id": 642344449, "node_id": "MDU6SXNzdWU2NDIzNDQ0NDk=", "number": 603, "title": "Incorrect type if func name is same as module name", "user": {"login": "lorien", "id": 35171, "node_id": "MDQ6VXNlcjM1MTcx", "avatar_url": "https://avatars3.githubusercontent.com/u/35171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lorien", "html_url": "https://github.com/lorien", "followers_url": "https://api.github.com/users/lorien/followers", "following_url": "https://api.github.com/users/lorien/following{/other_user}", "gists_url": "https://api.github.com/users/lorien/gists{/gist_id}", "starred_url": "https://api.github.com/users/lorien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lorien/subscriptions", "organizations_url": "https://api.github.com/users/lorien/orgs", "repos_url": "https://api.github.com/users/lorien/repos", "events_url": "https://api.github.com/users/lorien/events{/privacy}", "received_events_url": "https://api.github.com/users/lorien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-20T09:34:42Z", "updated_at": "2020-06-22T19:47:56Z", "closed_at": "2020-06-22T19:47:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Repo to reproduce the problem: https://github.com/lorien/pytype-bug\r\n\r\nRun: `pytype test.py`\r\n\r\nYou get:\r\n```\r\n...\r\n/usr/bin/python3 -m pytype.single --imports_info /home/lorien/web/pytype-bug/.pytype/imports/test.imports --module-name test -V 3.7 -o /home/lorien/web/pytype-bug/.pytype/pyi/test.pyi --analyze-annotated --nofail --quick /home/lorien/web/pytype-bug/test.py\r\nFile \"/home/lorien/web/pytype-bug/test.py\", line 2, in <module>: module [reveal-type]\r\n...\r\n```\r\n\r\nBut `reuqest` is not a module. It is a function.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/602", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/602/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/602/events", "html_url": "https://github.com/google/pytype/issues/602", "id": 639681348, "node_id": "MDU6SXNzdWU2Mzk2ODEzNDg=", "number": 602, "title": "attribute-error on attributes inherited from multiprocessing.Process", "user": {"login": "Eugeny", "id": 161476, "node_id": "MDQ6VXNlcjE2MTQ3Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/161476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eugeny", "html_url": "https://github.com/Eugeny", "followers_url": "https://api.github.com/users/Eugeny/followers", "following_url": "https://api.github.com/users/Eugeny/following{/other_user}", "gists_url": "https://api.github.com/users/Eugeny/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eugeny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eugeny/subscriptions", "organizations_url": "https://api.github.com/users/Eugeny/orgs", "repos_url": "https://api.github.com/users/Eugeny/repos", "events_url": "https://api.github.com/users/Eugeny/events{/privacy}", "received_events_url": "https://api.github.com/users/Eugeny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T13:48:07Z", "updated_at": "2020-06-16T22:57:10Z", "closed_at": "2020-06-16T22:57:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Test case:\r\n```python\r\nimport multiprocessing\r\n\r\n\r\nclass Test(multiprocessing.Process):\r\n    def run_sync(self):\r\n        return self._target(*self._args, **self._kwargs)\r\n```\r\n\r\nOutput:\r\n```\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/xxx/.pytype'\r\n[1/1] check test\r\nFAILED: /xxx/.pytype/pyi/test.pyi \r\n/xxx/venv/bin/python3.7 -m pytype.single --imports_info /xxx/.pytype/imports/test.imports --module-name test -V 3.7 -o /xxx/.pytype/pyi/test.pyi --analyze-annotated --nofail --quick /xxx/test.py\r\nFile \"/xxx/test.py\", line 5, in run_sync: No attribute '_target' on Test [attribute-error]\r\nFile \"/xxx/test.py\", line 5, in run_sync: No attribute '_args' on Test [attribute-error]\r\nFile \"/xxx/test.py\", line 5, in run_sync: No attribute '_kwargs' on Test [attribute-error]\r\n```\r\n\r\n```\r\npytype --version\r\n2020.06.01\r\n```\r\n\r\n`Process` inherits from `process.BaseProcess` which explicitly sets all three attributes in its constructor.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/601", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/601/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/601/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/601/events", "html_url": "https://github.com/google/pytype/issues/601", "id": 639370910, "node_id": "MDU6SXNzdWU2MzkzNzA5MTA=", "number": 601, "title": "pytype ignores bad-return-type error for matplotlib class", "user": {"login": "tekumara", "id": 125105, "node_id": "MDQ6VXNlcjEyNTEwNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/125105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tekumara", "html_url": "https://github.com/tekumara", "followers_url": "https://api.github.com/users/tekumara/followers", "following_url": "https://api.github.com/users/tekumara/following{/other_user}", "gists_url": "https://api.github.com/users/tekumara/gists{/gist_id}", "starred_url": "https://api.github.com/users/tekumara/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tekumara/subscriptions", "organizations_url": "https://api.github.com/users/tekumara/orgs", "repos_url": "https://api.github.com/users/tekumara/repos", "events_url": "https://api.github.com/users/tekumara/events{/privacy}", "received_events_url": "https://api.github.com/users/tekumara/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-16T05:00:12Z", "updated_at": "2020-06-18T12:00:29Z", "closed_at": "2020-06-16T23:21:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following produces no errors in pytype:\r\n```\r\nfrom matplotlib.axes import SubplotBase\r\n\r\ndef bad_func(input: str) -> SubplotBase:\r\n    return input\r\n```\r\n\r\nI was expecting a `bad-return-type` error. PyCharm does recognise this as an error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/595", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/595/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/595/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/595/events", "html_url": "https://github.com/google/pytype/issues/595", "id": 625349137, "node_id": "MDU6SXNzdWU2MjUzNDkxMzc=", "number": 595, "title": "Update listing of Python magic numbers/bytes", "user": {"login": "evandrix", "id": 169669, "node_id": "MDQ6VXNlcjE2OTY2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/169669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evandrix", "html_url": "https://github.com/evandrix", "followers_url": "https://api.github.com/users/evandrix/followers", "following_url": "https://api.github.com/users/evandrix/following{/other_user}", "gists_url": "https://api.github.com/users/evandrix/gists{/gist_id}", "starred_url": "https://api.github.com/users/evandrix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evandrix/subscriptions", "organizations_url": "https://api.github.com/users/evandrix/orgs", "repos_url": "https://api.github.com/users/evandrix/repos", "events_url": "https://api.github.com/users/evandrix/events{/privacy}", "received_events_url": "https://api.github.com/users/evandrix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-27T03:31:13Z", "updated_at": "2020-05-27T05:06:34Z", "closed_at": "2020-05-27T05:06:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "sync listing https://github.com/google/pytype/blob/master/pytype/pyc/magic.py#L103 with https://github.com/python/cpython/blob/master/Lib/importlib/_bootstrap_external.py#L266", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/583", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/583/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/583/events", "html_url": "https://github.com/google/pytype/issues/583", "id": 616029639, "node_id": "MDU6SXNzdWU2MTYwMjk2Mzk=", "number": 583, "title": "Dumping inferred type annotations", "user": {"login": "sridhargopinath", "id": 8598560, "node_id": "MDQ6VXNlcjg1OTg1NjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/8598560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sridhargopinath", "html_url": "https://github.com/sridhargopinath", "followers_url": "https://api.github.com/users/sridhargopinath/followers", "following_url": "https://api.github.com/users/sridhargopinath/following{/other_user}", "gists_url": "https://api.github.com/users/sridhargopinath/gists{/gist_id}", "starred_url": "https://api.github.com/users/sridhargopinath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sridhargopinath/subscriptions", "organizations_url": "https://api.github.com/users/sridhargopinath/orgs", "repos_url": "https://api.github.com/users/sridhargopinath/repos", "events_url": "https://api.github.com/users/sridhargopinath/events{/privacy}", "received_events_url": "https://api.github.com/users/sridhargopinath/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-11T16:51:20Z", "updated_at": "2020-05-12T00:13:10Z", "closed_at": "2020-05-12T00:13:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am trying to use pytype to infer type annotations to an unannotated Python function. Is there a way to dump the inferred type into a readable file?\r\n\r\nExample of a simple function:\r\n```Python\r\ndef foo(l1, l2):\r\n    result = 0\r\n    a1, a2 = len(l1), len(l2)\r\n    for i in range(max(a1, a2)):\r\n        if i < a1:\r\n            result += l1[i]\r\n        if i < a2:\r\n            result += l2[i]\r\n    return result\r\n```\r\nIf pytyper infers the types of `l1` and `l2` as `List[Int]`, is there a way to extract this information?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/574", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/574/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/574/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/574/events", "html_url": "https://github.com/google/pytype/issues/574", "id": 607259270, "node_id": "MDU6SXNzdWU2MDcyNTkyNzA=", "number": 574, "title": "codecs.CodecInfo not type checked correctly due to a Callable not matching a callback protocol", "user": {"login": "komuw", "id": 5163857, "node_id": "MDQ6VXNlcjUxNjM4NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5163857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/komuw", "html_url": "https://github.com/komuw", "followers_url": "https://api.github.com/users/komuw/followers", "following_url": "https://api.github.com/users/komuw/following{/other_user}", "gists_url": "https://api.github.com/users/komuw/gists{/gist_id}", "starred_url": "https://api.github.com/users/komuw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/komuw/subscriptions", "organizations_url": "https://api.github.com/users/komuw/orgs", "repos_url": "https://api.github.com/users/komuw/repos", "events_url": "https://api.github.com/users/komuw/events{/privacy}", "received_events_url": "https://api.github.com/users/komuw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-27T05:58:38Z", "updated_at": "2020-05-19T00:36:43Z", "closed_at": "2020-05-19T00:36:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Take an example of the following code that is taken directly from: https://github.com/python/cpython/blob/3.7/Lib/encodings/base64_codec.py: \r\n\r\n```python\r\n# Taken from,\r\n# https://github.com/python/cpython/blob/3.7/Lib/encodings/base64_codec.py\r\n\r\nimport codecs\r\nimport base64\r\n\r\n\r\ndef base64_encode(input, errors=\"strict\"):\r\n    assert errors == \"strict\"\r\n    return (base64.encodebytes(input), len(input))\r\n\r\n\r\ndef base64_decode(input, errors=\"strict\"):\r\n    assert errors == \"strict\"\r\n    return (base64.decodebytes(input), len(input))\r\n\r\n\r\ndef getregentry():\r\n    return codecs.CodecInfo(name=\"base64\", encode=base64_encode, decode=base64_decode)\r\n```\r\n\r\nWhen you run pytype on it:\r\n```bash\r\npytype --verbosity 0 --python-version 3.7 --protocols --strict-import --keep-going cool.py\r\n```\r\n\r\nyou get the error: \r\n```python\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/home/example/.pytype'\r\n[1/1] check cool\r\nFAILED: /home/example/.pytype/pyi/cool.pyi \r\n/home/example/.venv/bin/python3.8 -m pytype.single --imports_info /home/example/.pytype/imports/cool.imports --module-name cool -V 3.7 -o /home/example/.pytype/pyi/cool.pyi --analyze-annotated --nofail --protocols --quick --strict-import /home/example/cool.py\r\nFile \"/home/example/cool.py\", line 19, in getregentry: Function CodecInfo.__init__ was called with the wrong arguments [wrong-arg-types]\r\n         Expected: (self, encode: codecs._Encoder, ...)\r\n  Actually passed: (self, encode: Callable[[Any, Any], Any], ...)\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#wrong-arg-types.\r\nninja: build stopped: cannot make progress due to previous errors.\r\n```\r\n\r\n```\r\npython --version\r\n  Python 3.7.0\r\n```\r\n\r\n```\r\npytype --version                                                                          \r\n   2020.02.06\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/572", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/572/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/572/events", "html_url": "https://github.com/google/pytype/issues/572", "id": 606400595, "node_id": "MDU6SXNzdWU2MDY0MDA1OTU=", "number": 572, "title": "Two inner dataclasses with same name not handled correctly", "user": {"login": "MatthiasThul", "id": 19561272, "node_id": "MDQ6VXNlcjE5NTYxMjcy", "avatar_url": "https://avatars3.githubusercontent.com/u/19561272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthiasThul", "html_url": "https://github.com/MatthiasThul", "followers_url": "https://api.github.com/users/MatthiasThul/followers", "following_url": "https://api.github.com/users/MatthiasThul/following{/other_user}", "gists_url": "https://api.github.com/users/MatthiasThul/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthiasThul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthiasThul/subscriptions", "organizations_url": "https://api.github.com/users/MatthiasThul/orgs", "repos_url": "https://api.github.com/users/MatthiasThul/repos", "events_url": "https://api.github.com/users/MatthiasThul/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthiasThul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-24T15:32:02Z", "updated_at": "2020-04-27T22:42:35Z", "closed_at": "2020-04-27T22:42:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following:\r\n\r\n```python\r\nfrom dataclasses import dataclass\r\n\r\nclass A:\r\n    @dataclass\r\n    class Inner:\r\n        a: int\r\n\r\nclass B:\r\n    @dataclass\r\n    class Inner:\r\n        b: str\r\n\r\nb_inner = B.Inner('hello')\r\n```\r\n\r\npytype gives\r\n\r\n```bash\r\nFile \"test.py\", line 13, in build: Missing parameter 'b' in call to function Inner.__init__ [missing\u2502~\r\n-parameter]                                                                                                                            \u2502~\r\n         Expected: (self, a, b)                                                                                                        \u2502~\r\n  Actually passed: (self, a)\r\n```\r\n\r\nIt seems to think that there is a single class `Inner` whose constructor takes two arguments `a` and `b`. When not making the inner classes dataclasses, everything passes, e.g.\r\n\r\n```python\r\nclass A:\r\n    class Inner:\r\n        def __init__(self, a: int):\r\n            pass\r\n\r\nclass B:\r\n    class Inner:\r\n        def __init__(self, b: str):\r\n            pass\r\n\r\nb_inner = B.Inner('hello')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/571", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/571/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/571/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/571/events", "html_url": "https://github.com/google/pytype/issues/571", "id": 606294197, "node_id": "MDU6SXNzdWU2MDYyOTQxOTc=", "number": 571, "title": "NumPy @ operator not handled correctly", "user": {"login": "MatthiasThul", "id": 19561272, "node_id": "MDQ6VXNlcjE5NTYxMjcy", "avatar_url": "https://avatars3.githubusercontent.com/u/19561272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthiasThul", "html_url": "https://github.com/MatthiasThul", "followers_url": "https://api.github.com/users/MatthiasThul/followers", "following_url": "https://api.github.com/users/MatthiasThul/following{/other_user}", "gists_url": "https://api.github.com/users/MatthiasThul/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthiasThul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthiasThul/subscriptions", "organizations_url": "https://api.github.com/users/MatthiasThul/orgs", "repos_url": "https://api.github.com/users/MatthiasThul/repos", "events_url": "https://api.github.com/users/MatthiasThul/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthiasThul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-24T12:58:12Z", "updated_at": "2020-04-27T22:42:34Z", "closed_at": "2020-04-27T22:42:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nimport numpy as np\r\nx = np.array([[1], [2]])\r\ny = np.array([[1, 2]])\r\nprint(x @ y)\r\n```\r\n\r\nexecutes successfully with output\r\n\r\n```bash\r\n[[1 2]\r\n [2 4]]\r\n```\r\n\r\nbut pytype fails with\r\n\r\n```bash\r\nFile \"test.py\", line 4, in <module>: unsupported operand type(s) for @: 'numpy.ndarray' and 'numpy.ndarray' [unsupported-operands]\r\n  No attribute '__matmul__' on numpy.ndarray or '__rmatmul__' on numpy.ndarray\r\n```\r\n\r\nSee https://numpy.org/doc/stable/reference/generated/numpy.matmul.html regarding the implementation of the @ operator for NumPy arrays. Modifying the code to directly call `np.matmul` instead of `@` does not generate an error in pytype.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/562", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/562/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/562/events", "html_url": "https://github.com/google/pytype/issues/562", "id": 600663137, "node_id": "MDU6SXNzdWU2MDA2NjMxMzc=", "number": 562, "title": "set up a build system for pytype binary wheels", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}, {"id": 189116342, "node_id": "MDU6TGFiZWwxODkxMTYzNDI=", "url": "https://api.github.com/repos/google/pytype/labels/help%20wanted", "name": "help wanted", "color": "0264e5", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-16T00:18:48Z", "updated_at": "2020-07-16T00:05:05Z", "closed_at": "2020-07-16T00:05:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "since pytype's source installation depends on a c compiler, it would be nice to have binary wheels uploaded to pypi. this requires building the wheel on the target machine. we need each of\r\n* manylinux (docker images available)\r\n* windows (need a vm with a c compiler and toolchain)\r\n* mac (???)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/561", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/561/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/561/events", "html_url": "https://github.com/google/pytype/issues/561", "id": 599900090, "node_id": "MDU6SXNzdWU1OTk5MDAwOTA=", "number": 561, "title": "Pytype does not understand inheritance from `typing` types, but understands aliasing", "user": {"login": "romanngg", "id": 44512421, "node_id": "MDQ6VXNlcjQ0NTEyNDIx", "avatar_url": "https://avatars3.githubusercontent.com/u/44512421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romanngg", "html_url": "https://github.com/romanngg", "followers_url": "https://api.github.com/users/romanngg/followers", "following_url": "https://api.github.com/users/romanngg/following{/other_user}", "gists_url": "https://api.github.com/users/romanngg/gists{/gist_id}", "starred_url": "https://api.github.com/users/romanngg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romanngg/subscriptions", "organizations_url": "https://api.github.com/users/romanngg/orgs", "repos_url": "https://api.github.com/users/romanngg/repos", "events_url": "https://api.github.com/users/romanngg/events{/privacy}", "received_events_url": "https://api.github.com/users/romanngg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-14T22:36:37Z", "updated_at": "2020-04-18T03:30:26Z", "closed_at": "2020-04-18T03:30:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the example below, `A` and `B` are denote the same types. However, pytype does not understand `B`.\r\n```\r\nfrom typing import Callable, Any\r\n\r\nA = Callable[[], int]\r\n\r\ndef f(x: A):\r\n    return x()  # OK\r\n\r\n\r\nclass B(Callable[[], int]):\r\n    pass\r\n\r\n\r\ndef g(x: B):\r\n  return x()\r\n\r\n\r\ndef get_zero():\r\n  return 0\r\n\r\n\r\nprint(f(get_zero))  # OK\r\nprint(g(get_zero))  # OK\r\n```\r\n\r\n```\r\n(test) romann-macbookpro2:~ romann$ pytype PycharmProjects/test_debug/main.py\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/Users/romann/.pytype'\r\n[1/1] check main\r\nFAILED: /Users/romann/.pytype/pyi/main.pyi \r\n/Users/romann/opt/anaconda3/envs/test/bin/python -m pytype.single --imports_info /Users/romann/.pytype/imports/main.imports --module-name main -V 3.6 -o /Users/romann/.pytype/pyi/main.pyi --analyze-annotated --nofail --quick /Users/romann/PycharmProjects/test_debug/main.py\r\nFile \"/Users/romann/PycharmProjects/test_debug/main.py\", line 21, in <module>: Function g was called with the wrong arguments [wrong-arg-types]\r\n         Expected: (x: B)\r\n  Actually passed: (x: Callable[[], Any])\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#wrong-arg-types.\r\nninja: build stopped: subcommand failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/557", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/557/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/557/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/557/events", "html_url": "https://github.com/google/pytype/issues/557", "id": 597225976, "node_id": "MDU6SXNzdWU1OTcyMjU5NzY=", "number": 557, "title": "Failure while running tests.", "user": {"login": "souravbadami", "id": 11073943, "node_id": "MDQ6VXNlcjExMDczOTQz", "avatar_url": "https://avatars0.githubusercontent.com/u/11073943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/souravbadami", "html_url": "https://github.com/souravbadami", "followers_url": "https://api.github.com/users/souravbadami/followers", "following_url": "https://api.github.com/users/souravbadami/following{/other_user}", "gists_url": "https://api.github.com/users/souravbadami/gists{/gist_id}", "starred_url": "https://api.github.com/users/souravbadami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/souravbadami/subscriptions", "organizations_url": "https://api.github.com/users/souravbadami/orgs", "repos_url": "https://api.github.com/users/souravbadami/repos", "events_url": "https://api.github.com/users/souravbadami/events{/privacy}", "received_events_url": "https://api.github.com/users/souravbadami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-09T11:47:32Z", "updated_at": "2020-04-09T18:14:31Z", "closed_at": "2020-04-09T18:14:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Test Stacktrace:\r\n\r\n```\r\nRunning tests in module pytype.abstract_test ...\r\nTraceback (most recent call last):\r\n  File \"/Users/dummy/google/pytype/build_scripts/test_module.py\", line 187, in run_tests_in_module\r\n    mod_object = __import__(options.fq_mod_name, fromlist=[fq_pkg_name])\r\n  File \"/Users/dummy/google/pytype/out/pytype/abstract_test.py\", line 5, in <module>\r\n    from pytype import config\r\n  File \"/Users/dummy/google/pytype/out/pytype/config.py\", line 15, in <module>\r\n    from pytype import load_pytd\r\n  File \"/Users/dummy/google/pytype/out/pytype/load_pytd.py\", line 10, in <module>\r\n    from pytype.pyi import parser\r\n  File \"/Users/dummy/google/pytype/out/pytype/pyi/parser.py\", line 9, in <module>\r\n    from pytype.pyi import parser_ext  # pytype: disable=import-error\r\nImportError: cannot import name 'parser_ext' from 'pytype.pyi' (/Users/dummy/google/pytype/out/pytype/pyi/__init__.py)\r\n```\r\n\r\nBuild Log:\r\n\r\n```\r\nPrevious build config was different; cleaning 'out' directory.\r\n\r\nRunning CMake ...\r\n\r\n-- The C compiler identification is AppleClang 11.0.0.11000033\r\n-- The CXX compiler identification is AppleClang 11.0.0.11000033\r\n-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc\r\n-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - works\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++\r\n-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - works\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Found BISON: /usr/local/opt/bison/bin/bison (found suitable version \"3.5.4\", minimum required is \"3.0.2\")\r\n-- Found FLEX: /usr/bin/flex (found suitable version \"2.5.35\", minimum required is \"2.5.35\")\r\n-- Found PythonInterp: /Users/dummy/google/pytype/venv3/bin/python3.7 (found version \"3.7.6\")\r\n-- Found PythonLibs: /usr/local/Frameworks/Python.framework/Versions/3.7/lib/libpython3.7m.dylib (found version \"3.7.6\")\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success\r\n-- Found Threads: TRUE\r\n-- Configuring done\r\nCMake Warning (dev):\r\n  Policy CMP0042 is not set: MACOSX_RPATH is enabled by default.  Run \"cmake\r\n  --help-policy CMP0042\" for policy details.  Use the cmake_policy command to\r\n  set the policy and suppress this warning.\r\n\r\n  MACOSX_RPATH is not specified for the following targets:\r\n\r\n   pytype.pyi.parser_ext\r\n   pytype.typegraph.cfg\r\n\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Generating done\r\n-- Build files have been written to: /Users/dummy/google/pytype/out\r\n\r\nBuilding all targets with Ninja ...\r\n\r\nPytype built successfully!\r\n```\r\n\r\n**OS**: macOS Mojave (10.14.6)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/551", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/551/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/551/events", "html_url": "https://github.com/google/pytype/issues/551", "id": 595492137, "node_id": "MDU6SXNzdWU1OTU0OTIxMzc=", "number": 551, "title": "Does pytype support deferred typing imports?", "user": {"login": "bsolomon1124", "id": 25164676, "node_id": "MDQ6VXNlcjI1MTY0Njc2", "avatar_url": "https://avatars1.githubusercontent.com/u/25164676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bsolomon1124", "html_url": "https://github.com/bsolomon1124", "followers_url": "https://api.github.com/users/bsolomon1124/followers", "following_url": "https://api.github.com/users/bsolomon1124/following{/other_user}", "gists_url": "https://api.github.com/users/bsolomon1124/gists{/gist_id}", "starred_url": "https://api.github.com/users/bsolomon1124/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bsolomon1124/subscriptions", "organizations_url": "https://api.github.com/users/bsolomon1124/orgs", "repos_url": "https://api.github.com/users/bsolomon1124/repos", "events_url": "https://api.github.com/users/bsolomon1124/events{/privacy}", "received_events_url": "https://api.github.com/users/bsolomon1124/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-06T23:35:06Z", "updated_at": "2020-04-07T22:50:17Z", "closed_at": "2020-04-07T22:50:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We have a Python 2 runtime environment where `typing` is not available at module runtime (only in CI/CD, if need be).\r\n\r\n`mypy` supports deferred typing imports which are ideal for this situation:\r\n\r\nExample:\r\n\r\n```python\r\nif False:\r\n    from typing import Dict\r\n\r\ndef foo():\r\n    # type: () -> Dict[str, int]\r\n    return {\"a\": 1}\r\n```\r\n\r\n`mypy` is OK with this and will type-check `foo`, and `flake` also supports it: https://github.com/PyCQA/pyflakes/issues/501.  (That is, flake8 will not give a NameError for Dict.)\r\n\r\nDoes pytype offer this same functionality or a workaround way to achieve it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/550", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/550/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/550/events", "html_url": "https://github.com/google/pytype/issues/550", "id": 594561775, "node_id": "MDU6SXNzdWU1OTQ1NjE3NzU=", "number": 550, "title": "merge-pyi feature request: do not annotate builtin functions", "user": {"login": "brunokim", "id": 693510, "node_id": "MDQ6VXNlcjY5MzUxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/693510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunokim", "html_url": "https://github.com/brunokim", "followers_url": "https://api.github.com/users/brunokim/followers", "following_url": "https://api.github.com/users/brunokim/following{/other_user}", "gists_url": "https://api.github.com/users/brunokim/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunokim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunokim/subscriptions", "organizations_url": "https://api.github.com/users/brunokim/orgs", "repos_url": "https://api.github.com/users/brunokim/repos", "events_url": "https://api.github.com/users/brunokim/events{/privacy}", "received_events_url": "https://api.github.com/users/brunokim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-05T17:13:33Z", "updated_at": "2020-04-11T19:32:22Z", "closed_at": "2020-04-11T19:32:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "After using merge-pyi, the code base is littered with new annotations to `__str__`, `__eq__`, `__hash__` etc., which I don't bother annotating because they have well known data types. Would it be possible to not annotate these methods, when they match the expected builtin types?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/549", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/549/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/549/events", "html_url": "https://github.com/google/pytype/issues/549", "id": 594558416, "node_id": "MDU6SXNzdWU1OTQ1NTg0MTY=", "number": 549, "title": "Stray 'nothing' type for empty tuple inference", "user": {"login": "brunokim", "id": 693510, "node_id": "MDQ6VXNlcjY5MzUxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/693510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunokim", "html_url": "https://github.com/brunokim", "followers_url": "https://api.github.com/users/brunokim/followers", "following_url": "https://api.github.com/users/brunokim/following{/other_user}", "gists_url": "https://api.github.com/users/brunokim/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunokim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunokim/subscriptions", "organizations_url": "https://api.github.com/users/brunokim/orgs", "repos_url": "https://api.github.com/users/brunokim/repos", "events_url": "https://api.github.com/users/brunokim/events{/privacy}", "received_events_url": "https://api.github.com/users/brunokim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-05T17:04:48Z", "updated_at": "2020-04-20T22:49:31Z", "closed_at": "2020-04-20T22:49:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using `merge-pyi -i`, an unannotated function that returns an empty tuple got as type `Tuple[nothing, ...]`. Since this type is not defined, a later pytype run fails. If the function is already annotated, nothing happens.\r\n\r\n### Input file:\r\n\r\n```\r\nfrom typing import Tuple\r\n\r\ndef empty_tuple1():\r\n  return ()\r\n\r\ndef empty_tuple2() -> Tuple:\r\n  return ()\r\n```\r\n\r\n### Output pyi\r\n```\r\n# (generated with --quick)\r\n\r\nfrom typing import Tuple\r\n\r\ndef empty_tuple1() -> Tuple[nothing, ...]: ...\r\ndef empty_tuple2() -> tuple: ...\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/547", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/547/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/547/events", "html_url": "https://github.com/google/pytype/issues/547", "id": 593881504, "node_id": "MDU6SXNzdWU1OTM4ODE1MDQ=", "number": 547, "title": "self-check: Graph contains a cycle or graph changed during iteration", "user": {"login": "sheerluck", "id": 5173768, "node_id": "MDQ6VXNlcjUxNzM3Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5173768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sheerluck", "html_url": "https://github.com/sheerluck", "followers_url": "https://api.github.com/users/sheerluck/followers", "following_url": "https://api.github.com/users/sheerluck/following{/other_user}", "gists_url": "https://api.github.com/users/sheerluck/gists{/gist_id}", "starred_url": "https://api.github.com/users/sheerluck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sheerluck/subscriptions", "organizations_url": "https://api.github.com/users/sheerluck/orgs", "repos_url": "https://api.github.com/users/sheerluck/repos", "events_url": "https://api.github.com/users/sheerluck/events{/privacy}", "received_events_url": "https://api.github.com/users/sheerluck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-04T14:09:08Z", "updated_at": "2020-04-06T18:19:43Z", "closed_at": "2020-04-06T18:19:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "`networkx.__version__`  == '2.4'\r\n```\r\n$ pytype /usr/lib/python3.8/site-packages/pytype\r\nComputing dependencies\r\n/usr/lib/python3.8/site-packages/IPython/kernel/__init__.py:12: ShimWarning: The `IPython.kernel` package has been deprecated since IPython 4.0.You should import from ipykernel or jupyter_client instead.\r\n  warn(\"The `IPython.kernel` package has been deprecated since IPython 4.0.\"\r\n/usr/lib/python3.8/site-packages/IPython/frontend.py:20: ShimWarning: The top-level `frontend` package has been deprecated since IPython 1.0. All its subpackages have been moved to the top `IPython` level.\r\n  warn(\"The top-level `frontend` package has been deprecated since IPython 1.0. \"\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python-exec/python3.8/pytype\", line 11, in <module>\r\n    load_entry_point('pytype==2020.4.1', 'console_scripts', 'pytype')()\r\n  File \"/usr/lib/python3.8/site-packages/pytype/tools/analyze_project/main.py\", line 93, in main\r\n    importlab.output.formatted_deps_list(import_graph))\r\n  File \"/usr/lib/python3.8/site-packages/importlab/output.py\", line 71, in formatted_deps_list\r\n    for node, deps in import_graph.deps_list():\r\n  File \"/usr/lib/python3.8/site-packages/importlab/graph.py\", line 189, in deps_list\r\n    for node in nx.topological_sort(self.graph):\r\n  File \"/usr/lib/python3.8/site-packages/networkx/algorithms/dag.py\", line 210, in topological_sort\r\n    raise nx.NetworkXUnfeasible(\"Graph contains a cycle or graph changed \"\r\nnetworkx.exception.NetworkXUnfeasible: Graph contains a cycle or graph changed during iteration\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/545", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/545/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/545/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/545/events", "html_url": "https://github.com/google/pytype/issues/545", "id": 593585901, "node_id": "MDU6SXNzdWU1OTM1ODU5MDE=", "number": 545, "title": "Dropping host Python 2 support", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-04-03T19:13:31Z", "updated_at": "2020-04-23T06:44:10Z", "closed_at": "2020-04-23T06:44:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "pytype release 2020.04.01 is the last one that supports running under Python 2. Going forward, pytype will still be able to analyze Python 2 but will only run under Python 3.5+.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/544", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/544/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/544/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/544/events", "html_url": "https://github.com/google/pytype/issues/544", "id": 592729661, "node_id": "MDU6SXNzdWU1OTI3Mjk2NjE=", "number": 544, "title": "Install fails with python3.6 on WSL, python3.7 on Ubuntu 18.0.4", "user": {"login": "kamahen", "id": 34629301, "node_id": "MDQ6VXNlcjM0NjI5MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/34629301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamahen", "html_url": "https://github.com/kamahen", "followers_url": "https://api.github.com/users/kamahen/followers", "following_url": "https://api.github.com/users/kamahen/following{/other_user}", "gists_url": "https://api.github.com/users/kamahen/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamahen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamahen/subscriptions", "organizations_url": "https://api.github.com/users/kamahen/orgs", "repos_url": "https://api.github.com/users/kamahen/repos", "events_url": "https://api.github.com/users/kamahen/events{/privacy}", "received_events_url": "https://api.github.com/users/kamahen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-02T15:40:28Z", "updated_at": "2020-04-06T18:02:03Z", "closed_at": "2020-04-06T18:02:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Install succeeds with python3.6 on Ubuntu, python2.7 on WSL.\r\n\r\nHere's the trace I get with python3.7 on Ubuntu (similar results for python3.6/3.7 on WSL):\r\n```\r\n~/src/pytype$ python3.7 -m pip install --upgrade --user .\r\nProcessing /home/peter/src/pytype\r\n    Complete output from command python setup.py egg_info:\r\n    Force-cleaning 'out' directory.\r\n    Running CMake ...\r\n\r\n    -- The C compiler identification is GNU 7.5.0\r\n    -- The CXX compiler identification is GNU 7.5.0\r\n    -- Check for working C compiler: /usr/bin/cc\r\n    -- Check for working C compiler: /usr/bin/cc -- works\r\n    -- Detecting C compiler ABI info\r\n    -- Detecting C compiler ABI info - done\r\n    -- Detecting C compile features\r\n    -- Detecting C compile features - done\r\n    -- Check for working CXX compiler: /usr/bin/c++\r\n    -- Check for working CXX compiler: /usr/bin/c++ -- works\r\n    -- Detecting CXX compiler ABI info\r\n    -- Detecting CXX compiler ABI info - done\r\n    -- Detecting CXX compile features\r\n    -- Detecting CXX compile features - done\r\n    -- Found BISON: /usr/bin/bison (found suitable version \"3.0.4\", minimum required is \"3.0.2\")\r\n    -- Found FLEX: /usr/bin/flex (found suitable version \"2.6.4\", minimum required is \"2.5.35\")\r\n    -- Found PythonInterp: /usr/bin/python3.7 (found version \"3.7.7\")\r\n    -- Found PythonLibs: /usr/lib/x86_64-linux-gnu/libpython3.7m.so (found version \"3.7.7\")\r\n    -- Looking for pthread.h\r\n    -- Looking for pthread.h - found\r\n    -- Looking for pthread_create\r\n    -- Looking for pthread_create - not found\r\n    -- Check if compiler accepts -pthread\r\n    -- Check if compiler accepts -pthread - yes\r\n    -- Found Threads: TRUE\r\n    -- Configuring done\r\n    -- Generating done\r\n    -- Build files have been written to: /tmp/pip-rpcrvp39-build/out\r\n\r\n    Building flex and bison outputs ...\r\n\r\n    Copying lexer.lex.cc to source tree ...\r\n\r\n    Copying location.hh to source tree ...\r\n\r\n    Copying parser.tab.cc to source tree ...\r\n\r\n    Copying parser.tab.hh to source tree ...\r\n\r\n    Copying position.hh to source tree ...\r\n\r\n    Copying stack.hh to source tree ...\r\n\r\n    running egg_info\r\n    creating pip-egg-info/pytype.egg-info\r\n    writing pip-egg-info/pytype.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pytype.egg-info/dependency_links.txt\r\n    writing entry points to pip-egg-info/pytype.egg-info/entry_points.txt\r\n    writing requirements to pip-egg-info/pytype.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pytype.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pytype.egg-info/SOURCES.txt'\r\n    error: package directory 'find:' does not exist\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-rpcrvp39-build/\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/538", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/538/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/538/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/538/events", "html_url": "https://github.com/google/pytype/issues/538", "id": 589394079, "node_id": "MDU6SXNzdWU1ODkzOTQwNzk=", "number": 538, "title": "Pip install failing (package directory 'find:' does not exist)", "user": {"login": "paw-lu", "id": 30049606, "node_id": "MDQ6VXNlcjMwMDQ5NjA2", "avatar_url": "https://avatars1.githubusercontent.com/u/30049606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paw-lu", "html_url": "https://github.com/paw-lu", "followers_url": "https://api.github.com/users/paw-lu/followers", "following_url": "https://api.github.com/users/paw-lu/following{/other_user}", "gists_url": "https://api.github.com/users/paw-lu/gists{/gist_id}", "starred_url": "https://api.github.com/users/paw-lu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paw-lu/subscriptions", "organizations_url": "https://api.github.com/users/paw-lu/orgs", "repos_url": "https://api.github.com/users/paw-lu/repos", "events_url": "https://api.github.com/users/paw-lu/events{/privacy}", "received_events_url": "https://api.github.com/users/paw-lu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-27T20:23:53Z", "updated_at": "2020-07-03T11:31:04Z", "closed_at": "2020-03-27T23:49:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## System info\r\n\r\n### OS\r\n\r\nmacOS 10.14.4\r\n\r\n### Tools\r\n\r\n```sh\r\n.venv \u276f python -V\r\nPython 3.6.5\r\n\r\n.venv \u276f /usr/bin/xcodebuild -version\r\nXcode 10.2.1\r\nBuild version 10E1001\r\n\r\n.venv \u276f /usr/bin/xcodebuild -version\r\nXcode 10.2.1\r\nBuild version 10E1001\r\n```\r\n\r\n## Issue\r\n\r\nAttempting to install pytype through pip fails\r\n\r\n```sh\r\n\u276f python -m venv --prompt pytype .venv\r\n\r\n\u276f source .venv/bin/activate\r\n\r\n.venv \u276f pip install pytype \r\n\r\nCollecting pytype\r\nDownloading https://files.pythonhosted.org/packages/72/70/84ab67813ed4eac79aea58d68790b19f7927adcf4ce00ceb01b00021947f/pytype-2020.3.19.tar.gz (1.1MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.1MB 574kB/s \r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info/pytype.egg-info\r\n    writing pip-egg-info/pytype.egg-info/PKG-INFO\r\n    writing dependency_links to pip-egg-info/pytype.egg-info/dependency_links.txt\r\n    writing entry points to pip-egg-info/pytype.egg-info/entry_points.txt\r\n    writing requirements to pip-egg-info/pytype.egg-info/requires.txt\r\n    writing top-level names to pip-egg-info/pytype.egg-info/top_level.txt\r\n    writing manifest file 'pip-egg-info/pytype.egg-info/SOURCES.txt'\r\n    error: package directory 'find:' does not exist\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/qw/dxs7mpk92_x8qkw978rrbg5czjqq4y/T/pip-build-vn4l_e6x/pytype/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/531", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/531/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/531/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/531/events", "html_url": "https://github.com/google/pytype/issues/531", "id": 580163725, "node_id": "MDU6SXNzdWU1ODAxNjM3MjU=", "number": 531, "title": "Any recommendations for running pytype with a linter?", "user": {"login": "LucasLLC", "id": 26254319, "node_id": "MDQ6VXNlcjI2MjU0MzE5", "avatar_url": "https://avatars1.githubusercontent.com/u/26254319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LucasLLC", "html_url": "https://github.com/LucasLLC", "followers_url": "https://api.github.com/users/LucasLLC/followers", "following_url": "https://api.github.com/users/LucasLLC/following{/other_user}", "gists_url": "https://api.github.com/users/LucasLLC/gists{/gist_id}", "starred_url": "https://api.github.com/users/LucasLLC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LucasLLC/subscriptions", "organizations_url": "https://api.github.com/users/LucasLLC/orgs", "repos_url": "https://api.github.com/users/LucasLLC/repos", "events_url": "https://api.github.com/users/LucasLLC/events{/privacy}", "received_events_url": "https://api.github.com/users/LucasLLC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-12T19:14:42Z", "updated_at": "2020-03-27T18:49:01Z", "closed_at": "2020-03-16T18:57:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been doing some research on pytype and I'm trying to understand the relationship between pytype with, say, pylint. \r\n\r\nAs far as I can tell, pytype is not a replacement for a linter, and most comments say to use both. With that being said, does pytype have any opinions or recommendations for running alongside a linter? Especially helpful would be any tips on including pytype in CICD.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/528", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/528/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/528/events", "html_url": "https://github.com/google/pytype/issues/528", "id": 577886798, "node_id": "MDU6SXNzdWU1Nzc4ODY3OTg=", "number": 528, "title": "static method returning an instance of its class gives typing errors; works fine in python itself and mypy", "user": {"login": "flok99", "id": 3216056, "node_id": "MDQ6VXNlcjMyMTYwNTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3216056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flok99", "html_url": "https://github.com/flok99", "followers_url": "https://api.github.com/users/flok99/followers", "following_url": "https://api.github.com/users/flok99/following{/other_user}", "gists_url": "https://api.github.com/users/flok99/gists{/gist_id}", "starred_url": "https://api.github.com/users/flok99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flok99/subscriptions", "organizations_url": "https://api.github.com/users/flok99/orgs", "repos_url": "https://api.github.com/users/flok99/repos", "events_url": "https://api.github.com/users/flok99/events{/privacy}", "received_events_url": "https://api.github.com/users/flok99/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-09T12:49:07Z", "updated_at": "2020-03-09T16:14:46Z", "closed_at": "2020-03-09T16:14:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport typing\r\n\r\n\r\nclass test:\r\n\r\n    def __init__(self):\r\n        self.version: int\r\n\r\n    @staticmethod\r\n    def decode(input_) -> test:\r\n        pass\r\n\r\n```\r\n\r\nResults in:\r\n    line 10, in test: Name 'test' is not defined [name-error]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/526", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/526/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/526/events", "html_url": "https://github.com/google/pytype/issues/526", "id": 577274452, "node_id": "MDU6SXNzdWU1NzcyNzQ0NTI=", "number": 526, "title": "No _SupportsIndex in module __builtin__", "user": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars2.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-07T04:13:37Z", "updated_at": "2020-03-09T20:43:10Z", "closed_at": "2020-03-09T20:43:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As in the title. Full error is:\r\n`pytype.load_pytd.BadDependencyError: No _SupportsIndex in module __builtin__, referenced from 'builtins'`\r\n\r\n\\_\\_builtin\\_\\_.pytd doesn't have a _SupportsIndex class, unlike typeshed's builtins.pyi", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/525", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/525/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/525/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/525/events", "html_url": "https://github.com/google/pytype/issues/525", "id": 577038891, "node_id": "MDU6SXNzdWU1NzcwMzg4OTE=", "number": 525, "title": "How to run pytype in WSL", "user": {"login": "Eshan-Agarwal", "id": 47007275, "node_id": "MDQ6VXNlcjQ3MDA3Mjc1", "avatar_url": "https://avatars0.githubusercontent.com/u/47007275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eshan-Agarwal", "html_url": "https://github.com/Eshan-Agarwal", "followers_url": "https://api.github.com/users/Eshan-Agarwal/followers", "following_url": "https://api.github.com/users/Eshan-Agarwal/following{/other_user}", "gists_url": "https://api.github.com/users/Eshan-Agarwal/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eshan-Agarwal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eshan-Agarwal/subscriptions", "organizations_url": "https://api.github.com/users/Eshan-Agarwal/orgs", "repos_url": "https://api.github.com/users/Eshan-Agarwal/repos", "events_url": "https://api.github.com/users/Eshan-Agarwal/events{/privacy}", "received_events_url": "https://api.github.com/users/Eshan-Agarwal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-06T16:25:27Z", "updated_at": "2020-03-06T19:42:50Z", "closed_at": "2020-03-06T16:57:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "After sucessfully install pytype, when I was running pytype kaggle.py it says :\r\n\r\n> Command 'pytype' not found, did you mean:\r\n  command 'pktype' from deb texlive-binaries\r\nTry: sudo apt install <deb name>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/522", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/522/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/522/events", "html_url": "https://github.com/google/pytype/issues/522", "id": 575639386, "node_id": "MDU6SXNzdWU1NzU2MzkzODY=", "number": 522, "title": "ninja: error: build.ninja:7: expected build command name", "user": {"login": "Eshan-Agarwal", "id": 47007275, "node_id": "MDQ6VXNlcjQ3MDA3Mjc1", "avatar_url": "https://avatars0.githubusercontent.com/u/47007275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eshan-Agarwal", "html_url": "https://github.com/Eshan-Agarwal", "followers_url": "https://api.github.com/users/Eshan-Agarwal/followers", "following_url": "https://api.github.com/users/Eshan-Agarwal/following{/other_user}", "gists_url": "https://api.github.com/users/Eshan-Agarwal/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eshan-Agarwal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eshan-Agarwal/subscriptions", "organizations_url": "https://api.github.com/users/Eshan-Agarwal/orgs", "repos_url": "https://api.github.com/users/Eshan-Agarwal/repos", "events_url": "https://api.github.com/users/Eshan-Agarwal/events{/privacy}", "received_events_url": "https://api.github.com/users/Eshan-Agarwal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-04T18:14:26Z", "updated_at": "2020-03-06T16:24:20Z", "closed_at": "2020-03-06T16:24:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got error when using` pytype kaggle.py` on windows\r\n\r\n> Computing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: error: build.ninja:7: expected build command name\r\nbuild C:\\Users\\eshan\\Desktop\\Tensoflow\\Tfds\\datasets\\tensorflow_datasets...\r\n        ^ near here\r\nninja: Entering directory `C:\\Users\\eshan\\Desktop\\Tensoflow\\Tfds\\datasets\\tensorflow_datasets\\core\\download\\.pytype'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/513", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/513/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/513/events", "html_url": "https://github.com/google/pytype/issues/513", "id": 565251225, "node_id": "MDU6SXNzdWU1NjUyNTEyMjU=", "number": 513, "title": "Pytype seems get wrong builtins range definition", "user": {"login": "bbtfr", "id": 1527544, "node_id": "MDQ6VXNlcjE1Mjc1NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1527544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bbtfr", "html_url": "https://github.com/bbtfr", "followers_url": "https://api.github.com/users/bbtfr/followers", "following_url": "https://api.github.com/users/bbtfr/following{/other_user}", "gists_url": "https://api.github.com/users/bbtfr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bbtfr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bbtfr/subscriptions", "organizations_url": "https://api.github.com/users/bbtfr/orgs", "repos_url": "https://api.github.com/users/bbtfr/repos", "events_url": "https://api.github.com/users/bbtfr/events{/privacy}", "received_events_url": "https://api.github.com/users/bbtfr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-02-14T10:53:59Z", "updated_at": "2020-02-19T17:32:08Z", "closed_at": "2020-02-18T17:39:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n# test.py\r\nr = range(100)\r\nr.start\r\nr[:]\r\n```\r\n\r\n```\r\n$ python3 --version\r\nPython 3.6.8\r\n$ pytype --version\r\n2020.02.06\r\n\r\n$ pytype test.py\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/home/[===]/.pytype'\r\n[1/1] check test\r\nFAILED: /home/[===]/.pytype/pyi/test.pyi\r\n/usr/bin/python3 -m pytype.single --imports_info /home/[===]/.pytype/imports/test.imports --module-name test -V 3.6 -o /home/[===]/.pytype/pyi/test.pyi --analyze-annotated --nofail --quick /home/[===]/test.py\r\nFile \"/home/[===]/test.py\", line 2, in <module>: No attribute 'start' on range [attribute-error]\r\nFile \"/home/[===]/test.py\", line 3, in <module>: unsupported operand type(s) for item retrieval: 'range' and 'slice' [unsupported-operands]\r\n  Function __getitem__ on range expects int\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nwhile I found\r\n\r\nhttps://github.com/python/typeshed/blob/d5851eca6f448b648e1a7b3f3010cc3dde498535/stdlib/2and3/builtins.pyi#L1084-L1102\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/505", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/505/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/505/events", "html_url": "https://github.com/google/pytype/issues/505", "id": 558108038, "node_id": "MDU6SXNzdWU1NTgxMDgwMzg=", "number": 505, "title": "module-attr errors on name collisions", "user": {"login": "orsinium", "id": 9638362, "node_id": "MDQ6VXNlcjk2MzgzNjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/9638362?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orsinium", "html_url": "https://github.com/orsinium", "followers_url": "https://api.github.com/users/orsinium/followers", "following_url": "https://api.github.com/users/orsinium/following{/other_user}", "gists_url": "https://api.github.com/users/orsinium/gists{/gist_id}", "starred_url": "https://api.github.com/users/orsinium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orsinium/subscriptions", "organizations_url": "https://api.github.com/users/orsinium/orgs", "repos_url": "https://api.github.com/users/orsinium/repos", "events_url": "https://api.github.com/users/orsinium/events{/privacy}", "received_events_url": "https://api.github.com/users/orsinium/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-31T12:38:30Z", "updated_at": "2020-05-15T12:29:57Z", "closed_at": "2020-05-15T12:29:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have `project/redis.py` module that has `import redis` directive. And pytype produces `module-attr error` for every symbol from `redis`:\r\n\r\n```\r\nFile \"/.../project/redis.py\", line 67, in do_something: No attribute 'Redis' on module 'redis' [module-attr]\r\n```\r\n\r\nSimilar on #198 but about name collision with third-party packages.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/503", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/503/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/503/events", "html_url": "https://github.com/google/pytype/issues/503", "id": 556962314, "node_id": "MDU6SXNzdWU1NTY5NjIzMTQ=", "number": 503, "title": "utcoffset error", "user": {"login": "minusf", "id": 3632883, "node_id": "MDQ6VXNlcjM2MzI4ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3632883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minusf", "html_url": "https://github.com/minusf", "followers_url": "https://api.github.com/users/minusf/followers", "following_url": "https://api.github.com/users/minusf/following{/other_user}", "gists_url": "https://api.github.com/users/minusf/gists{/gist_id}", "starred_url": "https://api.github.com/users/minusf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minusf/subscriptions", "organizations_url": "https://api.github.com/users/minusf/orgs", "repos_url": "https://api.github.com/users/minusf/repos", "events_url": "https://api.github.com/users/minusf/events{/privacy}", "received_events_url": "https://api.github.com/users/minusf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-29T16:07:59Z", "updated_at": "2020-01-29T18:52:40Z", "closed_at": "2020-01-29T18:52:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "i am very new to type annotation and just learning about it. if i understand the tool's purpose correctly, this should have passed?\r\n\r\n```\r\n$ python3 -V\r\nPython 3.7.6\r\n$ pytype --version\r\n2020.01.24\r\n$ cat t.py\r\nfrom datetime import datetime\r\nprint(datetime.now().astimezone().utcoffset().seconds)\r\n\r\n$ python3 t.py\r\n3600\r\n\r\n$ pytype t.py\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `src/.pytype'\r\n[1/1] check t\r\nFAILED: src/.pytype/pyi/t.pyi\r\npython3 -m pytype.single --imports_info src/.pytype/imports/t.imports\r\n--module-name t -V 3.7 -o src/.pytype/pyi/t.pyi --analyze-annotated\r\n--nofail --quick src/t.py\r\nFile \"src/t.py\", line 3, in <module>: No attribute 'seconds' on None [attribute-error]\r\n  In Optional[datetime.timedelta]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#attribute-error.\r\nninja: build stopped: subcommand failed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/501", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/501/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/501/events", "html_url": "https://github.com/google/pytype/issues/501", "id": 556212391, "node_id": "MDU6SXNzdWU1NTYyMTIzOTE=", "number": 501, "title": "Ubuntu: Trouble installing virtualenv; can't find skbuild.", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-28T13:33:15Z", "updated_at": "2020-01-28T19:18:22Z", "closed_at": "2020-01-28T19:18:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried installing with poetry, and also had the same issue with pip.\r\n\r\nWould it be possible to provide a manylinux .whl on pypi - this would make installation easier.\r\n\r\n```\r\npoetry add --dev pytype                                 \ue0c7 \uf00c \ue0c7 stu@computer \ue0c7 6370 \ue0c7 13:25:51 \r\nUsing version ^2020.1.24 for pytype\r\n\r\nUpdating dependencies\r\nResolving dependencies... (1.7s)\r\n\r\nWriting lock file\r\n\r\n\r\nPackage operations: 5 installs, 0 updates, 0 removals\r\n\r\n  - Installing decorator (4.4.1)\r\n  - Installing networkx (2.4)\r\n  - Installing importlab (0.5.1)\r\n  - Installing ninja (1.9.0.post1)\r\n\r\n[EnvCommandError]\r\nCommand ['/home/stu/.virtualenvs/toybot-scenegraph/bin/pip', 'install', '--no-deps', 'ninja==1.9.0.post1'] errored with the following return code 1, and output: \r\nCollecting ninja==1.9.0.post1\r\n  Using cached ninja-1.9.0.post1.tar.gz (25 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/stu/.virtualenvs/toybot-scenegraph/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-p_xdbiw9/ninja/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-p_xdbiw9/ninja/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-install-p_xdbiw9/ninja/pip-egg-info\r\n         cwd: /tmp/pip-install-p_xdbiw9/ninja/\r\n    Complete output (5 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-p_xdbiw9/ninja/setup.py\", line 7, in <module>\r\n        from skbuild import setup\r\n    ModuleNotFoundError: No module named 'skbuild'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n\r\n```\r\n\r\n```\r\npip install pytype                                      \ue0c7 \uf00c \ue0c7 stu@computer \ue0c7 6372 \ue0c7 13:27:33 \r\nProcessing /home/stu/.cache/pip/wheels/6c/be/07/2a82fa74fd71a8302e45a8914c50fe7ea3b4f6a7759902464f/pytype-2020.1.24-cp37-cp37m-linux_x86_64.whl\r\nRequirement already satisfied: attrs in /home/stu/.virtualenvs/toybot-scenegraph/lib/python3.7/site-packages (from pytype) (19.3.0)\r\nCollecting ninja\r\n  Using cached ninja-1.9.0.post1.tar.gz (25 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/stu/.virtualenvs/toybot-scenegraph/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-vwnul9pq/ninja/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-vwnul9pq/ninja/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-install-vwnul9pq/ninja/pip-egg-info\r\n         cwd: /tmp/pip-install-vwnul9pq/ninja/\r\n    Complete output (5 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-vwnul9pq/ninja/setup.py\", line 7, in <module>\r\n        from skbuild import setup\r\n    ModuleNotFoundError: No module named 'skbuild'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/495", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/495/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/495/events", "html_url": "https://github.com/google/pytype/issues/495", "id": 553016724, "node_id": "MDU6SXNzdWU1NTMwMTY3MjQ=", "number": 495, "title": "Can't install on Python 2.7 / 3.6+", "user": {"login": "tysonite", "id": 196535, "node_id": "MDQ6VXNlcjE5NjUzNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/196535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tysonite", "html_url": "https://github.com/tysonite", "followers_url": "https://api.github.com/users/tysonite/followers", "following_url": "https://api.github.com/users/tysonite/following{/other_user}", "gists_url": "https://api.github.com/users/tysonite/gists{/gist_id}", "starred_url": "https://api.github.com/users/tysonite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tysonite/subscriptions", "organizations_url": "https://api.github.com/users/tysonite/orgs", "repos_url": "https://api.github.com/users/tysonite/repos", "events_url": "https://api.github.com/users/tysonite/events{/privacy}", "received_events_url": "https://api.github.com/users/tysonite/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-01-21T17:16:31Z", "updated_at": "2020-06-04T00:01:17Z", "closed_at": "2020-01-24T17:40:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Steps to reproduce:\r\n1. Create virtual env.:\r\n```\r\nvirtualenv -p python2.7 ~/test_env\r\n```\r\n\r\n2. Try to install\r\n```\r\n$ pip install pytype\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nCollecting pytype\r\n  Using cached pytype-2020.1.8.tar.gz (1.1 MB)\r\nCollecting attrs\r\n  Using cached attrs-19.3.0-py2.py3-none-any.whl (39 kB)\r\nProcessing /home/tysonite/.cache/pip/wheels/23/78/a9/42cd33ab2c683e45bdac8e313f311f7ad44f9590d521b3c2ff/importlab-0.5.1-py2.py3-none-any.whl\r\nCollecting ninja\r\n  Using cached ninja-1.9.0.post1.tar.gz (25 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/tysonite/test_env/bin/python2.7 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-nRHVS5/ninja/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-nRHVS5/ninja/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-install-nRHVS5/ninja/pip-egg-info\r\n         cwd: /tmp/pip-install-nRHVS5/ninja/\r\n    Complete output (5 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-nRHVS5/ninja/setup.py\", line 7, in <module>\r\n        from skbuild import setup\r\n    ImportError: No module named skbuild\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/494", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/494/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/494/events", "html_url": "https://github.com/google/pytype/issues/494", "id": 552591784, "node_id": "MDU6SXNzdWU1NTI1OTE3ODQ=", "number": 494, "title": "pytype can't parse hex literals", "user": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars2.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-21T02:37:13Z", "updated_at": "2020-03-03T22:19:35Z", "closed_at": "2020-03-03T22:19:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code causes the error `ParseError: syntax error, unexpected NAME, expecting ']'`:\r\n\r\n```py\r\nfrom typing import Literal\r\n\r\na: Literal[0x00ff]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/492", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/492/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/492/events", "html_url": "https://github.com/google/pytype/issues/492", "id": 548456674, "node_id": "MDU6SXNzdWU1NDg0NTY2NzQ=", "number": 492, "title": "ClassVar doesn't passthrough to its underlying type.", "user": {"login": "dseomn", "id": 15314936, "node_id": "MDQ6VXNlcjE1MzE0OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/15314936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dseomn", "html_url": "https://github.com/dseomn", "followers_url": "https://api.github.com/users/dseomn/followers", "following_url": "https://api.github.com/users/dseomn/following{/other_user}", "gists_url": "https://api.github.com/users/dseomn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dseomn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dseomn/subscriptions", "organizations_url": "https://api.github.com/users/dseomn/orgs", "repos_url": "https://api.github.com/users/dseomn/repos", "events_url": "https://api.github.com/users/dseomn/events{/privacy}", "received_events_url": "https://api.github.com/users/dseomn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-11T17:26:05Z", "updated_at": "2020-04-21T22:25:41Z", "closed_at": "2020-04-21T22:25:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hi,\r\n\r\nThis is my first time trying to use ClassVar, so it's possible I'm using it wrong, but I think this should work:\r\n\r\n```python\r\nfrom typing import ClassVar\r\n\r\n\r\nclass Foo:\r\n    CONSTANT: ClassVar[str] = 'foo'\r\n\r\n\r\nprint('foobar'.startswith(Foo.CONSTANT))\r\n```\r\n\r\nHowever, it fails because pytype doesn't passthrough `str` where `Foo.CONSTANT` is used:\r\n\r\n```\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/home/dseomn/Code/pepper-music-player/.pytype'\r\n[1/1] check foo\r\nFAILED: /home/dseomn/Code/pepper-music-player/.pytype/pyi/foo.pyi \r\n/usr/bin/python3 -m pytype.single --imports_info /home/dseomn/Code/pepper-music-player/.pytype/imports/foo.imports --module-name foo -V 3.7 -o /home/dseomn/Code/pepper-music-player/.pytype/pyi/foo.pyi --analyze-annotated --nofail --quick /home/dseomn/Code/pepper-music-player/foo.py\r\nFile \"/home/dseomn/Code/pepper-music-player/foo.py\", line 8, in <module>: Function str.startswith was called with the wrong arguments [wrong-arg-types]\r\n  Expected: (self, prefix: Union[Tuple[str, ...], str], ...)\r\n  Actually passed: (self, prefix: ClassVar[str])\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#wrong-arg-types.\r\nninja: build stopped: subcommand failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/486", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/486/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/486/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/486/events", "html_url": "https://github.com/google/pytype/issues/486", "id": 546366588, "node_id": "MDU6SXNzdWU1NDYzNjY1ODg=", "number": 486, "title": "Confusing error for a correct python snippet", "user": {"login": "dumblob", "id": 2451044, "node_id": "MDQ6VXNlcjI0NTEwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2451044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumblob", "html_url": "https://github.com/dumblob", "followers_url": "https://api.github.com/users/dumblob/followers", "following_url": "https://api.github.com/users/dumblob/following{/other_user}", "gists_url": "https://api.github.com/users/dumblob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumblob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumblob/subscriptions", "organizations_url": "https://api.github.com/users/dumblob/orgs", "repos_url": "https://api.github.com/users/dumblob/repos", "events_url": "https://api.github.com/users/dumblob/events{/privacy}", "received_events_url": "https://api.github.com/users/dumblob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-07T16:03:56Z", "updated_at": "2020-01-07T22:41:59Z", "closed_at": "2020-01-07T22:41:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nninja: Entering directory `/home/x/.pytype'\r\n[1/1] check pytypebug00\r\nFAILED: /home/x/.pytype/pyi/pytypebug00.pyi \r\n/home/x/env00/bin/python3 -m pytype.single --imports_info /home/x/.pytype/imports/pytypebug00.imports --module-name pytypebug00 -V 3.7 -o /home/x/.pytype/pyi/pytypebug00.pyi --analyze-annotated --nofail --quick /home/x/pytypebug00.py\r\nFile \"/home/x/pytypebug00.py\", line 7, in <module>: Invalid type annotation '5' for z [invalid-annotation]\r\n  Not a type\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#invalid-annotation.\r\nninja: build stopped: subcommand failed.\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\n```\r\n(I'm running pytype from a virtual environment where I installed it using pip)\r\n\r\npytypebug00.py:\r\n```python\r\nclass K( dict ):\r\n  pass\r\nx = K()\r\nif True:\r\n  y: int = 9\r\n  # some comment\r\n  x['z'] = 5\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/485", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/485/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/485/events", "html_url": "https://github.com/google/pytype/issues/485", "id": 546045577, "node_id": "MDU6SXNzdWU1NDYwNDU1Nzc=", "number": 485, "title": "Don't fail on mypy-style '# type: ignore[code, ...]' comments", "user": {"login": "udim", "id": 127695, "node_id": "MDQ6VXNlcjEyNzY5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/127695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udim", "html_url": "https://github.com/udim", "followers_url": "https://api.github.com/users/udim/followers", "following_url": "https://api.github.com/users/udim/following{/other_user}", "gists_url": "https://api.github.com/users/udim/gists{/gist_id}", "starred_url": "https://api.github.com/users/udim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udim/subscriptions", "organizations_url": "https://api.github.com/users/udim/orgs", "repos_url": "https://api.github.com/users/udim/repos", "events_url": "https://api.github.com/users/udim/events{/privacy}", "received_events_url": "https://api.github.com/users/udim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-07T02:38:58Z", "updated_at": "2020-01-23T19:49:37Z", "closed_at": "2020-01-23T19:49:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently a comment like `# type: ignore[assignment]` generates the error:\r\n```\r\nInvalid type comment: ignore[assignment] [invalid-type-comment]\r\n  Name 'ignore' is not defined\r\n  Name 'assignment' is not defined\r\n```\r\n\r\nI would expect pytype to consider such a comment as a plain `# type: ignore`.\r\n\r\nref: https://mypy.readthedocs.io/en/latest/error_codes.html#silencing-errors-based-on-error-codes", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/480", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/480/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/480/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/480/events", "html_url": "https://github.com/google/pytype/issues/480", "id": 541230530, "node_id": "MDU6SXNzdWU1NDEyMzA1MzA=", "number": 480, "title": "Support alternate function argument comment syntax", "user": {"login": "udim", "id": 127695, "node_id": "MDQ6VXNlcjEyNzY5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/127695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/udim", "html_url": "https://github.com/udim", "followers_url": "https://api.github.com/users/udim/followers", "following_url": "https://api.github.com/users/udim/following{/other_user}", "gists_url": "https://api.github.com/users/udim/gists{/gist_id}", "starred_url": "https://api.github.com/users/udim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/udim/subscriptions", "organizations_url": "https://api.github.com/users/udim/orgs", "repos_url": "https://api.github.com/users/udim/repos", "events_url": "https://api.github.com/users/udim/events{/privacy}", "received_events_url": "https://api.github.com/users/udim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-20T22:35:55Z", "updated_at": "2019-12-31T06:01:59Z", "closed_at": "2019-12-31T06:01:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using the example from https://mypy.readthedocs.io/en/latest/cheat_sheet.html#functions\r\n```\r\nfrom typing import List, Optional, Union\r\n\r\ndef send_email(address,     # type: Union[str, List[str]]\r\n               sender,      # type: str\r\n               cc,          # type: Optional[List[str]]\r\n               bcc,         # type: Optional[List[str]]\r\n               subject='',\r\n               body=None    # type: List[str]\r\n               ):\r\n    # type: (...) -> bool\r\n    pass\r\n\r\nsend_email()\r\n```\r\n\r\nResult:\r\n```\r\nFile \"/usr/local/google/home/ehudm/src/beam/sdks/python/foo.py\", line 3: Stray type comment: Union[str, List[str]] [ignored-type-comment]\r\nFile \"/usr/local/google/home/ehudm/src/beam/sdks/python/foo.py\", line 4: Stray type comment: str [ignored-type-comment]\r\nFile \"/usr/local/google/home/ehudm/src/beam/sdks/python/foo.py\", line 5: Stray type comment: Optional[List[str]] [ignored-type-comment]\r\nFile \"/usr/local/google/home/ehudm/src/beam/sdks/python/foo.py\", line 6: Stray type comment: Optional[List[str]] [ignored-type-comment]\r\nFile \"/usr/local/google/home/ehudm/src/beam/sdks/python/foo.py\", line 13, in <module>: 'list' object is not callable [not-callable]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/470", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/470/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/470/events", "html_url": "https://github.com/google/pytype/issues/470", "id": 534433769, "node_id": "MDU6SXNzdWU1MzQ0MzM3Njk=", "number": 470, "title": "pyxref crash (KeyError with a dataclass field)", "user": {"login": "kamahen", "id": 34629301, "node_id": "MDQ6VXNlcjM0NjI5MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/34629301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamahen", "html_url": "https://github.com/kamahen", "followers_url": "https://api.github.com/users/kamahen/followers", "following_url": "https://api.github.com/users/kamahen/following{/other_user}", "gists_url": "https://api.github.com/users/kamahen/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamahen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamahen/subscriptions", "organizations_url": "https://api.github.com/users/kamahen/orgs", "repos_url": "https://api.github.com/users/kamahen/repos", "events_url": "https://api.github.com/users/kamahen/events{/privacy}", "received_events_url": "https://api.github.com/users/kamahen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-12-07T18:13:43Z", "updated_at": "2019-12-11T00:05:40Z", "closed_at": "2019-12-11T00:05:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Presumably this is caused by a line in the code that's being analyzed that has `self.as_name`; but it's non-trivial to give you a short reproduction. If you can't figure out the issue from the information below, I'll see what I can do to reproduce this for you.\r\n\r\nIt appears that pyxref is confused about what variable is being referenced -- I *think* the code that caused the error is (`.as_name` doesn't appear anywhere else in my code):\r\n```\r\n    def add_fqns(self, ctx: FqnCtx) -> Base:\r\n        dotted_name = xcast(DottedNameNode, self.dotted_name.add_fqns(ctx))\r\n        if self.as_name:\r\n            top_name = self.as_name.add_fqns(ctx)\r\n            ...\r\n```\r\n(where `xcast` is similar to `typing.cast`).\r\nIt appears that `self` is mistakenly tagged as type `DottedNameNode` (a dataclass with field `items`) instead of `ImportDottedAsNameNode` (a dataclass with fields `dotted_name`, `as_name`).\r\n\r\nI trapped the error in pytype/output.py at line 470 by adding this:\r\n`print(f\"get_parameter: p={p!r} kwonly={kwonly!r} exc={exc!r} sig.annotations={sig.annotations!r}\")`\r\nand got\r\n`get_parameter: p='as_name' kwonly=False exc=KeyError('as_name',) sig.annotations={'dotted_name': InterpreterClass(DottedNameNode), 'self': unsolveable}`\r\n\r\nHere's the traceback (invoked with `pyxref --debug --protocols --python_version=3.7`):\r\n```\r\nPytype error: KeyError: as_name\r\nTraceback (most recent call last):\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/io.py\", line 321, in wrap_pytype_exceptions\r\n    yield\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/tools/xref/indexer.py\", line 1220, in process_file\r\n    tracer_vm=vm)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/analyze.py\", line 654, in infer_types\r\n    ast = tracer.compute_types(defs)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/analyze.py\", line 563, in compute_types\r\n    self.pytd_for_types(defs),\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/analyze.py\", line 470, in pytd_for_types\r\n    d = option.to_pytd_def(self.exitpoint, name)  # Deep definition\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/abstract.py\", line 247, in to_pytd_def\r\n    return self.vm.convert.pytd_convert.value_to_pytd_def(node, self, name)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/output.py\", line 345, in value_to_pytd_def\r\n    return self._class_to_def(node, v, name)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/output.py\", line 588, in _class_to_def\r\n    methods[name] = self.value_to_pytd_def(node, value, name).Visit(\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/output.py\", line 332, in value_to_pytd_def\r\n    return self._simple_func_to_def(node, v, name)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/output.py\", line 472, in _simple_func_to_def\r\n    params = [get_parameter(p, False) for p in sig.param_names]\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/output.py\", line 472, in <listcomp>\r\n    params = [get_parameter(p, False) for p in sig.param_names]\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/output.py\", line 470, in get_parameter\r\n    return pytd.Parameter(p, sig.annotations[p].get_instance_type(node),\r\nKeyError: 'as_name'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/469", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/469/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/469/events", "html_url": "https://github.com/google/pytype/issues/469", "id": 534390072, "node_id": "MDU6SXNzdWU1MzQzOTAwNzI=", "number": 469, "title": "missing-parameter on a derived dataclass", "user": {"login": "OrBin", "id": 6897234, "node_id": "MDQ6VXNlcjY4OTcyMzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6897234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OrBin", "html_url": "https://github.com/OrBin", "followers_url": "https://api.github.com/users/OrBin/followers", "following_url": "https://api.github.com/users/OrBin/following{/other_user}", "gists_url": "https://api.github.com/users/OrBin/gists{/gist_id}", "starred_url": "https://api.github.com/users/OrBin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OrBin/subscriptions", "organizations_url": "https://api.github.com/users/OrBin/orgs", "repos_url": "https://api.github.com/users/OrBin/repos", "events_url": "https://api.github.com/users/OrBin/events{/privacy}", "received_events_url": "https://api.github.com/users/OrBin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-07T11:27:31Z", "updated_at": "2019-12-10T21:03:47Z", "closed_at": "2019-12-10T21:03:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running pytype and having this specific occasion of derived dataclasses, I'm getting a missing-parameter error.\r\n\r\nCode (`pytype_example.py`):\r\n```\r\nfrom dataclasses import dataclass\r\n\r\n\r\n@dataclass\r\nclass Parent:\r\n    name: str\r\n    count: int\r\n\r\n\r\n@dataclass\r\nclass ChildA(Parent):\r\n    def __init__(self, count: int):\r\n        super().__init__(name='A', count=count)\r\n\r\n\r\nchild_a = ChildA(count=3)\r\nprint(child_a.name)  # Prints 'A'\r\n```\r\n\r\nRunning `python pytype_example.py`, it prints `A`.\r\n\r\nRunning `pytype -V 3.7 pytype_example.py`:\r\n```\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/home/or/pytype-demo/.pytype'\r\n[1/1] check pytype_example\r\nFAILED: /home/or/pytype-demo/.pytype/pyi/pytype_example.pyi \r\npytype-single --imports_info /home/or/pytype-demo/.pytype/imports/pytype_example.imports --module-name pytype_example -V 3.7 -o /home/or/pytype-demo/.pytype/pyi/pytype_example.pyi --analyze-annotated --nofail --quick /home/or/pytype-demo/pytype_example.py\r\nFile \"/home/or/pytype-demo/pytype_example.py\", line 16, in <module>: Missing parameter 'name' in call to function ChildA.__init__ [missing-parameter]\r\n  Expected: (self, name, count)\r\n  Actually passed: (self, count)\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#missing-parameter.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nPlease note that the child class does provide the `name` parameter when calling the parent's constructor.\r\n\r\nPython version: 3.7.5\r\nPytype version: 2019.11.27\r\n\r\nThis issue is related to #234, but I'm filing this issue separately [as @rchen152 requested](https://github.com/google/pytype/issues/234#issuecomment-560344542).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/466", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/466/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/466/events", "html_url": "https://github.com/google/pytype/issues/466", "id": 533191738, "node_id": "MDU6SXNzdWU1MzMxOTE3Mzg=", "number": 466, "title": "\"AttributeError: module 'time' has no attribute 'clock'\" when running pytype in Python 3.8", "user": {"login": "OrBin", "id": 6897234, "node_id": "MDQ6VXNlcjY4OTcyMzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6897234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OrBin", "html_url": "https://github.com/OrBin", "followers_url": "https://api.github.com/users/OrBin/followers", "following_url": "https://api.github.com/users/OrBin/following{/other_user}", "gists_url": "https://api.github.com/users/OrBin/gists{/gist_id}", "starred_url": "https://api.github.com/users/OrBin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OrBin/subscriptions", "organizations_url": "https://api.github.com/users/OrBin/orgs", "repos_url": "https://api.github.com/users/OrBin/repos", "events_url": "https://api.github.com/users/OrBin/events{/privacy}", "received_events_url": "https://api.github.com/users/OrBin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-05T08:13:10Z", "updated_at": "2019-12-10T22:29:54Z", "closed_at": "2019-12-10T22:29:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to run pytype on Python 3.8, with Python 3.7 target code (`-V 3.7`), and encounter the following error:\r\n\r\n```\r\n$  pytype --config ./setup.cfg -V 3.7 ./*.py ./gramhopper ./tests\r\nComputing dependencies\r\nAnalyzing 44 sources with 0 local dependencies\r\nninja: Entering directory `/code/python/gramhopper/.pytype'\r\n[1/44] check gramhopper.gramhopper.responses.response_helper\r\nFAILED: /code/python/gramhopper/.pytype/pyi/gramhopper/gramhopper/responses/response_helper.pyi \r\npytype-single --disable wrong-keyword-args --imports_info /code/python/gramhopper/.pytype/imports/gramhopper.gramhopper.responses.response_helper.imports --module-name gramhopper.gramhopper.responses.response_helper -V 3.7 -o /code/python/gramhopper/.pytype/pyi/gramhopper/gramhopper/responses/response_helper.pyi --analyze-annotated --nofail --quick /code/python/gramhopper/gramhopper/responses/response_helper.py\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/envs/gh_2019_12_03-2/bin/pytype-single\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/anaconda3/envs/gh_2019_12_03-2/lib/python3.8/site-packages/pytype/main.py\", line 86, in main\r\n    with metrics.StopWatch(\"total_time\"):\r\n  File \"/opt/anaconda3/envs/gh_2019_12_03-2/lib/python3.8/site-packages/pytype/metrics.py\", line 154, in __enter__\r\n    self._start_time = time.clock()\r\nAttributeError: module 'time' has no attribute 'clock'\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nPython version: 3.8.0\r\nPytype version: 2019.11.27\r\n\r\nI'm aware to the fact that pytype does not yet support analyzing Python 3.8 code (#440), but not that this is an error when running pytype on Python 3.8, not analyzing Python 3.8 code.\r\n\r\nThis is caused by removing `time.clock()` function in Python 3.8, as warned [here](https://docs.python.org/3.7/library/time.html#time.clock): `Deprecated since version 3.3, will be removed in version 3.8: The behaviour of this function depends on the platform: use perf_counter() or process_time() instead, depending on your requirements, to have a well defined behaviour.`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/464", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/464/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/464/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/464/events", "html_url": "https://github.com/google/pytype/issues/464", "id": 532006010, "node_id": "MDU6SXNzdWU1MzIwMDYwMTA=", "number": 464, "title": "import errors with native namespace packages", "user": {"login": "wochinge", "id": 7667273, "node_id": "MDQ6VXNlcjc2NjcyNzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7667273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wochinge", "html_url": "https://github.com/wochinge", "followers_url": "https://api.github.com/users/wochinge/followers", "following_url": "https://api.github.com/users/wochinge/following{/other_user}", "gists_url": "https://api.github.com/users/wochinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/wochinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wochinge/subscriptions", "organizations_url": "https://api.github.com/users/wochinge/orgs", "repos_url": "https://api.github.com/users/wochinge/repos", "events_url": "https://api.github.com/users/wochinge/events{/privacy}", "received_events_url": "https://api.github.com/users/wochinge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-03T14:00:44Z", "updated_at": "2020-01-15T14:23:37Z", "closed_at": "2020-01-15T14:23:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nwe have a code base with [native namespace packages](https://packaging.python.org/guides/packaging-namespace-packages/). \r\nIt has the following structure:\r\n\r\n```\r\nsrc/\r\n    subpackage_a\r\n        namespace\r\n            # no __init__.py here!\r\n            subpackage_a\r\n    subpackage_b\r\n        namespace\r\n            # no __init__.py here!\r\n            subpackage_b\r\n```\r\n\r\nWhen I run `pytype --keep-going src/subpackage_a/namespace`, the type checking fails with a ton of import errors.\r\n\r\nAs soon as I add `__init__.py` files to the namespace packages (can be empty or `pkgutil ` style), and then run the same command, the pytype check succeeds. The same happens if I run `pytype -k src/subpackage_a/namespace/subpackage_a`.\r\n\r\nAfter adding the `__init__.py` files, I have the following structure:\r\n\r\n```\r\nsrc/\r\n    subpackage_a\r\n        namespace\r\n            __init__.py\r\n            subpackage_a\r\n    subpackage_b\r\n        namespace\r\n            __init__.py\r\n            subpackage_b\r\n```\r\n\r\n**pytype version**: 2019.11.27\r\n**python version**: 3.7.5\r\n**OS**: MacOS catalina\r\n\r\nI know this is probably hard to reproduce for you, but I'd really appreciate any hints on that. Thanks a lot for your help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/444", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/444/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/444/events", "html_url": "https://github.com/google/pytype/issues/444", "id": 516216177, "node_id": "MDU6SXNzdWU1MTYyMTYxNzc=", "number": 444, "title": "Issue with specialization of aliases", "user": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars2.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-01T16:27:40Z", "updated_at": "2019-12-10T21:03:46Z", "closed_at": "2019-12-10T21:03:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following example results in the bug `AttributeError: 'UnionType' object has no attribute 'name'` when run through pytd. This is from most recent pytype from pip\r\n\r\n```py\r\nfrom typing import Union, IO, AnyStr\r\nfrom typing_extensions import Literal\r\n\r\n_Data = Union[IO[AnyStr]]\r\n\r\ndef func(param: _Data[str]) -> None: ...\r\n```\r\n\r\nThis is a minimal case that doesn't use the TypeVar nature of _Data, but for example it could be declared as `(param: _Data[AnyStr]) -> AnyStr`, which at the very least shouldn't error, even if the types aren't fully inferred.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/437", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/437/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/437/events", "html_url": "https://github.com/google/pytype/issues/437", "id": 508028077, "node_id": "MDU6SXNzdWU1MDgwMjgwNzc=", "number": 437, "title": "Python exe can't handle space in path", "user": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars2.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-10-16T18:39:11Z", "updated_at": "2019-10-17T23:02:10Z", "closed_at": "2019-10-17T23:02:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On Windows, the way pytype calls subprocess in `get_python_exe_version` (In `utils.py`), isn't able to handle a space in the path. So Passing python_exe as `/Program Files/Python36/python.exe` results in an error. The argument to subprocess should be wrapped in double-quotes to handle this case on windows. Alternatively, using a list of arguments instead of a concatenated string means that subprocess will handle the correct escaping per-OS", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/434", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/434/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/434/events", "html_url": "https://github.com/google/pytype/issues/434", "id": 506355871, "node_id": "MDU6SXNzdWU1MDYzNTU4NzE=", "number": 434, "title": "Problem with dangling comma", "user": {"login": "srittau", "id": 52799, "node_id": "MDQ6VXNlcjUyNzk5", "avatar_url": "https://avatars3.githubusercontent.com/u/52799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srittau", "html_url": "https://github.com/srittau", "followers_url": "https://api.github.com/users/srittau/followers", "following_url": "https://api.github.com/users/srittau/following{/other_user}", "gists_url": "https://api.github.com/users/srittau/gists{/gist_id}", "starred_url": "https://api.github.com/users/srittau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srittau/subscriptions", "organizations_url": "https://api.github.com/users/srittau/orgs", "repos_url": "https://api.github.com/users/srittau/repos", "events_url": "https://api.github.com/users/srittau/events{/privacy}", "received_events_url": "https://api.github.com/users/srittau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-10-13T17:42:39Z", "updated_at": "2019-10-15T23:16:44Z", "closed_at": "2019-10-15T23:16:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "From python/typeshed#3358, CI: https://travis-ci.org/python/typeshed/jobs/597311318\r\n\r\nPlease consider the following file `foo.pyi`:\r\n\r\n```python\r\nExceptHookArgs = NamedTuple(\r\n    \"ExceptHookArgs\",\r\n    [\r\n        (\"exc_type\", Type[BaseException]),\r\n        (\"exc_value\", Optional[BaseException]),\r\n        (\"exc_traceback\", Optional[TracebackType]),\r\n        (\"thread\", Optional[Thread]),\r\n    ],\r\n)\r\n```\r\n\r\npytype 2019.09.17 (Python 3.7.3) complains:\r\n\r\n```\r\n$ pytype-single --parse-pyi --module-name=foo -V3.6 foo.pyi \r\nTraceback (most recent call last):\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/pyi/parser.py\", line 430, in parse\r\n    defs = parser_ext.parse(self, src)\r\npytype.pyi.parser.ParseError: ParseError: syntax error, unexpected ',', expecting ')'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"./.venv/bin/pytype-single\", line 11, in <module>\r\n    load_entry_point('pytype==2019.9.17', 'console_scripts', 'pytype-single')()\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/main.py\", line 88, in main\r\n    return _run_pytype(options)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/main.py\", line 96, in _run_pytype\r\n    unused_ast = io.parse_pyi(options)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/io.py\", line 263, in parse_pyi\r\n    ast = loader.load_file(options.module_name, options.input)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/load_pytd.py\", line 241, in load_file\r\n    python_version=self.python_version)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/pyi/parser.py\", line 1250, in parse_file\r\n    src, name, filename)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/pyi/parser.py\", line 440, in parse\r\n    column=self._error_location[1], text=text)\r\npytype.pyi.parser.ParseError:   File: \"foo.pyi\", line 8\r\n    ],\r\n     ^\r\nParseError: syntax error, unexpected ',', expecting ')'\r\n```\r\n\r\nI can work around this for now, but black will re-insert the comma, so that will cause us problems in the future.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/432", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/432/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/432/events", "html_url": "https://github.com/google/pytype/issues/432", "id": 506216712, "node_id": "MDU6SXNzdWU1MDYyMTY3MTI=", "number": 432, "title": "Empty tuple syntax", "user": {"login": "srittau", "id": 52799, "node_id": "MDQ6VXNlcjUyNzk5", "avatar_url": "https://avatars3.githubusercontent.com/u/52799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srittau", "html_url": "https://github.com/srittau", "followers_url": "https://api.github.com/users/srittau/followers", "following_url": "https://api.github.com/users/srittau/following{/other_user}", "gists_url": "https://api.github.com/users/srittau/gists{/gist_id}", "starred_url": "https://api.github.com/users/srittau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srittau/subscriptions", "organizations_url": "https://api.github.com/users/srittau/orgs", "repos_url": "https://api.github.com/users/srittau/repos", "events_url": "https://api.github.com/users/srittau/events{/privacy}", "received_events_url": "https://api.github.com/users/srittau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-10-12T17:47:44Z", "updated_at": "2019-10-15T23:16:44Z", "closed_at": "2019-10-15T23:16:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I seem to have a knack for uncovering pytype snags with my typeshed PRs. This time it's python/typeshed#3351. CI failure: https://travis-ci.org/python/typeshed/jobs/597038126\r\n\r\nRunning pytype manually I get the following output:\r\n\r\n```\r\n$ pytype-single --parse-pyi --module-name=multiprocessing.shared_memory -V3.6 stdlib/3/multiprocessing/shared_memory.pyi \r\nTraceback (most recent call last):\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/pyi/parser.py\", line 430, in parse\r\n    defs = parser_ext.parse(self, src)\r\npytype.pyi.parser.ParseError: ParseError: syntax error, unexpected ')'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"./.venv/bin/pytype-single\", line 11, in <module>\r\n    load_entry_point('pytype==2019.9.17', 'console_scripts', 'pytype-single')()\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/main.py\", line 88, in main\r\n    return _run_pytype(options)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/main.py\", line 96, in _run_pytype\r\n    unused_ast = io.parse_pyi(options)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/io.py\", line 263, in parse_pyi\r\n    ast = loader.load_file(options.module_name, options.input)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/load_pytd.py\", line 241, in load_file\r\n    python_version=self.python_version)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/pyi/parser.py\", line 1250, in parse_file\r\n    src, name, filename)\r\n  File \"/home/srittau/Projekte/typeshed/.venv/lib/python3.7/site-packages/pytype/pyi/parser.py\", line 440, in parse\r\n    column=self._error_location[1], text=text)\r\npytype.pyi.parser.ParseError:   File: \"stdlib/3/multiprocessing/shared_memory.pyi\", line 24\r\n    def __reduce__(self: _S) -> Tuple[_S, Tuple[()]]: ...\r\n                                                 ^\r\n```\r\n\r\nI assume, pytype does not support PEP 484's empty tuple syntax yet (`Tuple[()]`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/428", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/428/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/428/events", "html_url": "https://github.com/google/pytype/issues/428", "id": 501246620, "node_id": "MDU6SXNzdWU1MDEyNDY2MjA=", "number": 428, "title": "Pyi error when running on larger codebases -- can't import for ''", "user": {"login": "dmccrevan", "id": 7613689, "node_id": "MDQ6VXNlcjc2MTM2ODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7613689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmccrevan", "html_url": "https://github.com/dmccrevan", "followers_url": "https://api.github.com/users/dmccrevan/followers", "following_url": "https://api.github.com/users/dmccrevan/following{/other_user}", "gists_url": "https://api.github.com/users/dmccrevan/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmccrevan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmccrevan/subscriptions", "organizations_url": "https://api.github.com/users/dmccrevan/orgs", "repos_url": "https://api.github.com/users/dmccrevan/repos", "events_url": "https://api.github.com/users/dmccrevan/events{/privacy}", "received_events_url": "https://api.github.com/users/dmccrevan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-02T02:54:29Z", "updated_at": "2019-10-04T16:37:22Z", "closed_at": "2019-10-04T16:37:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description\r\nI am trying to run pytype on larger repositories such as scikit-learn. When I run pytype from either the root directory of the repository or any of the sub-directories, I run into an issue where pytype fails and stops because of the following message: `Couldn't import pyi for '' [pyi-error]`\r\n\r\n### Example\r\nAn example snippet of code where this breaks is here: \r\n```\r\nfrom .. import auc\r\nfrom .. import roc_curve\r\n```\r\nThis file is located here: scikit-learn/sklearn/metrics/_plot/roc_curve.py\r\n\r\nI have tried to run this within the same directory as the file as well as outside. \r\nI believe this is a circular dependency issue, but I don't have yet to figure out how to fix this. Is there any way for these issues to be ignored? Or is there some other workaround?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/423", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/423/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/423/events", "html_url": "https://github.com/google/pytype/issues/423", "id": 499578899, "node_id": "MDU6SXNzdWU0OTk1Nzg4OTk=", "number": 423, "title": "pytype not compatible with pylint 2.4.0+, astroid 2.3.0+", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-09-27T18:10:14Z", "updated_at": "2019-12-12T02:36:05Z", "closed_at": "2019-12-12T02:36:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With the September 24 release of pylint, it has started reporting many lint errors in pytype that it wasn't previously. Downgrading to pylint 2.3.1 causes the errors to go away.\r\n\r\nWith the September 24 release of astroid, pylint has started crashing with a recursion error at the end of analysis. Downgrading to astroid 2.2.5 causes the crash to go away. The recursion error looks like https://github.com/PyCQA/pylint/issues/3123.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/420", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/420/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/420/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/420/events", "html_url": "https://github.com/google/pytype/issues/420", "id": 496970274, "node_id": "MDU6SXNzdWU0OTY5NzAyNzQ=", "number": 420, "title": "3.7+: support `from __future__ import annotations`", "user": {"login": "eugenehuangsg", "id": 1311011, "node_id": "MDQ6VXNlcjEzMTEwMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1311011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eugenehuangsg", "html_url": "https://github.com/eugenehuangsg", "followers_url": "https://api.github.com/users/eugenehuangsg/followers", "following_url": "https://api.github.com/users/eugenehuangsg/following{/other_user}", "gists_url": "https://api.github.com/users/eugenehuangsg/gists{/gist_id}", "starred_url": "https://api.github.com/users/eugenehuangsg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eugenehuangsg/subscriptions", "organizations_url": "https://api.github.com/users/eugenehuangsg/orgs", "repos_url": "https://api.github.com/users/eugenehuangsg/repos", "events_url": "https://api.github.com/users/eugenehuangsg/events{/privacy}", "received_events_url": "https://api.github.com/users/eugenehuangsg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-23T08:53:42Z", "updated_at": "2019-12-10T21:03:47Z", "closed_at": "2019-12-10T21:03:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Environment versions:\r\npytype = 2019.9.17\r\npython = 3.7.3\r\npyenv = 1.2.11\r\nos = macOS 10.14.6 \r\n\r\n\r\n**It seems the likely explanation for the error is that pytype does not yet support `from __future__ import annotations`. Can anyone confirm this?**\r\n\r\nP.S Not sure if it is similar to #269\r\n\r\n\r\nGiven `test.py` code (note this is the minimal code needed to reproduce):\r\n```python\r\nfrom __future__ import annotations\r\n\r\nclass A:\r\n    some: int\r\n\r\n    def to_json(self) -> int:\r\n        return self.some\r\n```\r\n\r\nIt will produce `test.pyi` below\r\n```python\r\n\r\nfrom typing import Any\r\ndef __getattr__(name: Any) -> Any: ...\r\n# Caught error in pytype: 'LateAnnotation' object has no attribute 'Bindings'\r\n# Traceback (most recent call last):\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/io.py\", line 131, in check_or_generate_pyi\r\n#     input_filename=options.input, options=options, loader=loader)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/io.py\", line 89, in generate_pyi\r\n#     analyze.infer_types, input_filename, options, loader)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/io.py\", line 62, in _call\r\n#     deep=deep)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 668, in infer_types\r\n#     tracer.exitpoint = tracer.analyze(loc, defs, maximum_depth)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 407, in analyze\r\n#     return self.analyze_toplevel(node, defs)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 370, in analyze_toplevel\r\n#     new_node = self.analyze_class(node, value)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 352, in analyze_class\r\n#     node = self.analyze_method_var(node, name, b)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 202, in analyze_method_var\r\n#     node2 = self.maybe_analyze_method(node1, val)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 157, in maybe_analyze_method\r\n#     node, _ = self.call_function_with_args(node, val, args)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 121, in call_function_with_args\r\n#     new_node, ret = self.call_function_in_frame(node, fvar, *args)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/analyze.py\", line 132, in call_function_in_frame\r\n#     state, var, args, kwargs, starargs, starstarargs)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 917, in call_function_with_state\r\n#     starstarargs=starstarargs), fallback_to_unsolvable, allow_noreturn=True)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 953, in call_function\r\n#     new_node, one_result = func.call(node, funcv, args)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/abstract.py\", line 3247, in call\r\n#     alias_map=self.alias_map)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/abstract.py\", line 3051, in call\r\n#     node2, ret = self.vm.run_frame(frame, node)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 292, in run_frame\r\n#     state = self.run_instruction(op, state)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 253, in run_instruction\r\n#     state = bytecode_fn(state, op)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 1980, in byte_LOAD_ATTR\r\n#     state, val = self.load_attr(state, obj, name)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 1224, in load_attr\r\n#     node, result, errors = self._retrieve_attr(state.node, obj, attr)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/vm.py\", line 1195, in _retrieve_attr\r\n#     node, val.data, attr, val)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 65, in get_attribute\r\n#     return self._get_instance_attribute(node, obj, name, valself)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 234, in _get_instance_attribute\r\n#     return self._get_attribute(node, obj, obj.cls, name, valself)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 270, in _get_attribute\r\n#     node, attr = self.get_attribute(node, cls, name, valself)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 58, in get_attribute\r\n#     return self._get_class_attribute(node, obj, name, valself)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 229, in _get_class_attribute\r\n#     return self._get_attribute(node, cls, meta, name, valself)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 284, in _get_attribute\r\n#     attr = self._filter_var(node, attr)\r\n#   File \"/Users/name/.pyenv/versions/3.7.3/envs/venv/lib/python3.7/site-packages/pytype/attribute.py\", line 426, in _filter_var\r\n#     bindings = var.Bindings(node, strict=False)\r\n# AttributeError: 'LateAnnotation' object has no attribute 'Bindings'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/419", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/419/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/419/events", "html_url": "https://github.com/google/pytype/issues/419", "id": 496465308, "node_id": "MDU6SXNzdWU0OTY0NjUzMDg=", "number": 419, "title": "\"else\" causes error", "user": {"login": "mfojtak", "id": 13848117, "node_id": "MDQ6VXNlcjEzODQ4MTE3", "avatar_url": "https://avatars2.githubusercontent.com/u/13848117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mfojtak", "html_url": "https://github.com/mfojtak", "followers_url": "https://api.github.com/users/mfojtak/followers", "following_url": "https://api.github.com/users/mfojtak/following{/other_user}", "gists_url": "https://api.github.com/users/mfojtak/gists{/gist_id}", "starred_url": "https://api.github.com/users/mfojtak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mfojtak/subscriptions", "organizations_url": "https://api.github.com/users/mfojtak/orgs", "repos_url": "https://api.github.com/users/mfojtak/repos", "events_url": "https://api.github.com/users/mfojtak/events{/privacy}", "received_events_url": "https://api.github.com/users/mfojtak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-20T17:27:51Z", "updated_at": "2019-11-08T23:02:29Z", "closed_at": "2019-11-08T23:02:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to parse simple if-else using following code:\r\n```python\r\nfrom typed_ast import ast3\r\nfrom pytype.tools.annotate_ast import annotate_ast\r\nfrom pytype import config\r\n\r\nsource = \"\"\"\r\ndef f(arg: int):\r\n    if True:\r\n        a = 0\r\n    else:\r\n        a = 1\r\n    return arg\r\n\"\"\"\r\noptions = config.Options.create(python_version=(3,7))\r\nast_factory = lambda unused_options: ast3\r\nmodule = annotate_ast.annotate_source(source, ast_factory, options)\r\n```\r\n\r\nIt throws error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 93, in <module>\r\n    module = annotate_ast.annotate_source(source, ast_factory, options)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/annotate_ast/annotate_ast.py\", line 31, in annotate_source\r\n    visitor.visit(module)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 25, in visit\r\n    ret = self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 34, in visit\r\n    self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 25, in visit\r\n    ret = self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 34, in visit\r\n    self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 25, in visit\r\n    ret = self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 34, in visit\r\n    self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 25, in visit\r\n    ret = self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 34, in visit\r\n    self.visit(v)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 28, in visit\r\n    out = self._call_visitor(node)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/traces/visitor.py\", line 53, in _call_visitor\r\n    return visitor(node)\r\n  File \"/opt/conda/lib/python3.7/site-packages/pytype/tools/annotate_ast/annotate_ast.py\", line 63, in visit_Name\r\n    unused_loc, entry = next(iter(ops), None)\r\nTypeError: cannot unpack non-iterable NoneType object\r\n```\r\nThe code is parsed fine without the \"else\" branch.\r\nWhat is wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/413", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/413/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/413/events", "html_url": "https://github.com/google/pytype/issues/413", "id": 494127229, "node_id": "MDU6SXNzdWU0OTQxMjcyMjk=", "number": 413, "title": "No attribute 'from_bytes' on Type[int] [attribute-error]", "user": {"login": "pjz", "id": 11100, "node_id": "MDQ6VXNlcjExMTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/11100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjz", "html_url": "https://github.com/pjz", "followers_url": "https://api.github.com/users/pjz/followers", "following_url": "https://api.github.com/users/pjz/following{/other_user}", "gists_url": "https://api.github.com/users/pjz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjz/subscriptions", "organizations_url": "https://api.github.com/users/pjz/orgs", "repos_url": "https://api.github.com/users/pjz/repos", "events_url": "https://api.github.com/users/pjz/events{/privacy}", "received_events_url": "https://api.github.com/users/pjz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-16T15:37:03Z", "updated_at": "2019-09-18T06:16:08Z", "closed_at": "2019-09-18T06:16:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a call that looks like:\r\n```\r\ni = int.from_bytes(h.digest(), byteorder='big')\r\n```\r\nand it got flagged with\r\n```\r\nNo attribute 'from_bytes' on Type[int] [attribute-error]\r\n```\r\nwhich is clearly wrong since:\r\n```\r\nPython 3.7.4 (default, Sep  3 2019, 12:43:59) \r\n[GCC 7.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> help(int.from_bytes)\r\nHelp on built-in function from_bytes:\r\n\r\nfrom_bytes(bytes, byteorder, *, signed=False) method of builtins.type instance\r\n    Return the integer represented by the given array of bytes.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/409", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/409/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/409/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/409/events", "html_url": "https://github.com/google/pytype/issues/409", "id": 492481788, "node_id": "MDU6SXNzdWU0OTI0ODE3ODg=", "number": 409, "title": "Caught error in pytype: 'str' object has no attribute 'get_instance_type'", "user": {"login": "wiml", "id": 156891, "node_id": "MDQ6VXNlcjE1Njg5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/156891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wiml", "html_url": "https://github.com/wiml", "followers_url": "https://api.github.com/users/wiml/followers", "following_url": "https://api.github.com/users/wiml/following{/other_user}", "gists_url": "https://api.github.com/users/wiml/gists{/gist_id}", "starred_url": "https://api.github.com/users/wiml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wiml/subscriptions", "organizations_url": "https://api.github.com/users/wiml/orgs", "repos_url": "https://api.github.com/users/wiml/repos", "events_url": "https://api.github.com/users/wiml/events{/privacy}", "received_events_url": "https://api.github.com/users/wiml/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-11T21:43:43Z", "updated_at": "2020-01-07T23:05:02Z", "closed_at": "2020-01-07T23:05:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "When typechecking this file:\r\n\r\n```python\r\nfrom typing import Generic, TypeVar, List\r\n\r\nTi = TypeVar('Ti', 'ClassOne', int)\r\n\r\nclass StuffSource (Generic[Ti]):\r\n    def getSomeStuff(self) -> List[Ti]:\r\n        return []\r\n\r\nclass ClassOne:\r\n    pass\r\n```\r\n\r\nRunning Pytype 2019.09.06 on Python 3.7.4, this results in a false \"success\" report (see issue #285) but [the generated `.pyi` file](https://github.com/google/pytype/files/3602840/generated-pyi.txt) contains a traceback and the message `Caught error in pytype: 'str' object has no attribute 'get_instance_type'`.\r\n\r\nMaking `StuffSource` non-generic eliminates the crash, as does defining the type variable with an actual reference to `ClassOne` instead of using a string.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/408", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/408/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/408/events", "html_url": "https://github.com/google/pytype/issues/408", "id": 491885286, "node_id": "MDU6SXNzdWU0OTE4ODUyODY=", "number": 408, "title": "Does not handle @attr optional kw args", "user": {"login": "wiml", "id": 156891, "node_id": "MDQ6VXNlcjE1Njg5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/156891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wiml", "html_url": "https://github.com/wiml", "followers_url": "https://api.github.com/users/wiml/followers", "following_url": "https://api.github.com/users/wiml/following{/other_user}", "gists_url": "https://api.github.com/users/wiml/gists{/gist_id}", "starred_url": "https://api.github.com/users/wiml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wiml/subscriptions", "organizations_url": "https://api.github.com/users/wiml/orgs", "repos_url": "https://api.github.com/users/wiml/repos", "events_url": "https://api.github.com/users/wiml/events{/privacy}", "received_events_url": "https://api.github.com/users/wiml/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-10T20:38:15Z", "updated_at": "2019-12-17T21:35:42Z", "closed_at": "2019-12-17T21:35:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `default=...` specification in this attr class means that `arg_encoding` is an optional keyword parameter, but pytype still complains that it is required:\r\n\r\n```python\r\nimport attr\r\n\r\n@attr.s(kw_only=True)\r\nclass FooClass:\r\n    path: bytes = attr.ib()\r\n    arg_encoding: str = attr.ib(default='utf-8')\r\n    \r\ndef make_me_a_foo(path: bytes) -> FooClass:\r\n    return FooClass(path=path)\r\n```\r\n\r\nRunning pytype 2019.09.06 on Python 3.7.4 produces this output:\r\n\r\n```\r\npytype-single --imports_info /private/tmp/ptt/foo/bar/.pytype/imports/atty.imports --module-name atty -V 3.7 -o /private/tmp/ptt/foo/bar/.pytype/pyi/atty.pyi --analyze-annotated --nofail --quick /private/tmp/ptt/foo/bar/atty.py\r\nFile \"/private/tmp/ptt/foo/bar/atty.py\", line 9, in make_me_a_foo: Missing parameter 'arg_encoding' in call to function FooClass.__init__ [missing-parameter]\r\n  Expected: (self, *, arg_encoding, path)\r\n  Actually passed: (self, path)\r\n```\r\n\r\n(Likewise, the generated `.pyi` file has the declaration `def __init__(self, *, path: bytes, arg_encoding: str) -> None: ...` which is incorrect but matches pytype's behavior.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/401", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/401/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/401/events", "html_url": "https://github.com/google/pytype/issues/401", "id": 488071884, "node_id": "MDU6SXNzdWU0ODgwNzE4ODQ=", "number": 401, "title": "unexpected List type inference behavior", "user": {"login": "CX8", "id": 3854004, "node_id": "MDQ6VXNlcjM4NTQwMDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3854004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CX8", "html_url": "https://github.com/CX8", "followers_url": "https://api.github.com/users/CX8/followers", "following_url": "https://api.github.com/users/CX8/following{/other_user}", "gists_url": "https://api.github.com/users/CX8/gists{/gist_id}", "starred_url": "https://api.github.com/users/CX8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CX8/subscriptions", "organizations_url": "https://api.github.com/users/CX8/orgs", "repos_url": "https://api.github.com/users/CX8/repos", "events_url": "https://api.github.com/users/CX8/events{/privacy}", "received_events_url": "https://api.github.com/users/CX8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-02T08:43:43Z", "updated_at": "2019-09-05T08:06:44Z", "closed_at": "2019-09-04T18:09:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pytype 2019.08.09\r\n\r\nHello, I found the following behaviour not intuitive and, possibly, not working as intended.\r\nPytype inference \"tranforms\" the type of a `List[x]` to a `List[Union[x,y]]` when appending or extending a `List[x]` with item `y` or `List[y]`.\r\nWhen invoking a function `fun(a: List[x])` with `List[Union[x,y]]`, pytype will pass.\r\n\r\nI thought it was a case of:\r\n[https://github.com/google/pytype/blob/master/docs/faq.md#why-didnt-pytype-catch-that-my-program-might-pass-an-invalid-argument-to-a-function](url)\r\n\r\nbut I am not too sure of it. Any feedback is welcome.\r\n\r\n```\r\n#test.py\r\nfrom typing import List\r\n\r\ndef fun(a: List[str]):\r\n    pass\r\n\r\nb: int = 6\r\na: List[str] = []\r\na.append(b)\r\n# OK\r\nfun(a)\r\n\r\nc: List[str] = []\r\nc.extend([b])\r\n# OK\r\nfun(c)\r\n\r\nd: List[str] = []\r\ne: List[int] = [b]\r\nd.extend(e)\r\n# OK\r\nfun(d)\r\n\r\nf: List[str] = []\r\nf = [b]\r\n# pytype complains\r\nfun(f)\r\n\r\n# test.pyi:\r\n# a: List[Union[int, str]]\r\n# b: int\r\n# c: List[Union[int, str]]\r\n# d: List[Union[int, str]]\r\n# e: List[int]\r\n# f: List[int]\r\n\r\n# def fun(a: List[str]) -> None: ...\r\n```\r\n\r\nThere is a pretty good chance that I am missing something and this is not an actual issue. If that is the case, my apologies. Thanks :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/400", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/400/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/400/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/400/events", "html_url": "https://github.com/google/pytype/issues/400", "id": 487718530, "node_id": "MDU6SXNzdWU0ODc3MTg1MzA=", "number": 400, "title": "False error for @dataclass", "user": {"login": "laike9m", "id": 2592205, "node_id": "MDQ6VXNlcjI1OTIyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2592205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laike9m", "html_url": "https://github.com/laike9m", "followers_url": "https://api.github.com/users/laike9m/followers", "following_url": "https://api.github.com/users/laike9m/following{/other_user}", "gists_url": "https://api.github.com/users/laike9m/gists{/gist_id}", "starred_url": "https://api.github.com/users/laike9m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laike9m/subscriptions", "organizations_url": "https://api.github.com/users/laike9m/orgs", "repos_url": "https://api.github.com/users/laike9m/repos", "events_url": "https://api.github.com/users/laike9m/events{/privacy}", "received_events_url": "https://api.github.com/users/laike9m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-31T01:58:59Z", "updated_at": "2019-09-04T18:02:59Z", "closed_at": "2019-09-04T18:02:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python version : `3.7.3`, pytype version: `2019.08.29`\r\n\r\n```\r\nfrom dataclasses import dataclass\r\n\r\n@dataclass()\r\nclass VarAppearance:\r\n    id: str\r\n    value: str\r\n\r\na = VarAppearance(id=\"x\", value=\"y\")\r\n```\r\n\r\ngives:\r\n```\r\nInvalid keyword arguments (id, value) to function VarAppearance.__init__ [wrong-keyword-args]\r\n  Expected: (self)\r\n  Actually passed: (self, id, value)\r\n```\r\n\r\nIf called with `a = VarAppearance(\"x\", \"y\")`, it gives\r\n```\r\nFunction VarAppearance.__init__ expects 1 arg(s), got 3 [wrong-arg-count]\r\n  Expected: (self)\r\n  Actually passed: (self, _, _)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/393", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/393/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/393/events", "html_url": "https://github.com/google/pytype/issues/393", "id": 483667604, "node_id": "MDU6SXNzdWU0ODM2Njc2MDQ=", "number": 393, "title": "error when building wheel in WSL", "user": {"login": "caleb15", "id": 46505081, "node_id": "MDQ6VXNlcjQ2NTA1MDgx", "avatar_url": "https://avatars1.githubusercontent.com/u/46505081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caleb15", "html_url": "https://github.com/caleb15", "followers_url": "https://api.github.com/users/caleb15/followers", "following_url": "https://api.github.com/users/caleb15/following{/other_user}", "gists_url": "https://api.github.com/users/caleb15/gists{/gist_id}", "starred_url": "https://api.github.com/users/caleb15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caleb15/subscriptions", "organizations_url": "https://api.github.com/users/caleb15/orgs", "repos_url": "https://api.github.com/users/caleb15/repos", "events_url": "https://api.github.com/users/caleb15/events{/privacy}", "received_events_url": "https://api.github.com/users/caleb15/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-21T21:44:27Z", "updated_at": "2019-08-21T21:44:59Z", "closed_at": "2019-08-21T21:44:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Truncated output:\r\n\r\nPython 3.6.8\r\nOS: Windows 10 w/ WSL\r\n\r\n```\r\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include/python3.6m -c pytype/pyi/parser_ext.cc -o build/temp.linux-x86_64-3.6/pytype/pyi/parser_ext.o -std=c++11\r\n    unable to execute 'x86_64-linux-gnu-gcc': No such file or directory\r\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command \"/usr/bin/python3 -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-_9gvoumz/pytype/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-cjtkla61/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-_9gvoumz/pytype/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/391", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/391/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/391/events", "html_url": "https://github.com/google/pytype/issues/391", "id": 483518832, "node_id": "MDU6SXNzdWU0ODM1MTg4MzI=", "number": 391, "title": "isinstance() doesn't prevent type errors for some types", "user": {"login": "david-seiler", "id": 1927983, "node_id": "MDQ6VXNlcjE5Mjc5ODM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1927983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-seiler", "html_url": "https://github.com/david-seiler", "followers_url": "https://api.github.com/users/david-seiler/followers", "following_url": "https://api.github.com/users/david-seiler/following{/other_user}", "gists_url": "https://api.github.com/users/david-seiler/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-seiler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-seiler/subscriptions", "organizations_url": "https://api.github.com/users/david-seiler/orgs", "repos_url": "https://api.github.com/users/david-seiler/repos", "events_url": "https://api.github.com/users/david-seiler/events{/privacy}", "received_events_url": "https://api.github.com/users/david-seiler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-21T16:15:55Z", "updated_at": "2019-09-27T23:45:56Z", "closed_at": "2019-09-27T23:45:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd expect a block defined by `if isinstance(val, someType):` to generate no type errors in the case where `val` is known to not be `someType`, but for some types (or some modules?) that doesn't work:\r\n\r\n    import mxnet\r\n    import numpy\r\n    import datetime\r\n    \r\n    value = 3\r\n    \r\n    # raises \"No attribute 'asnumpy' on int\"\r\n    if isinstance(value, mxnet.nd.NDArray):\r\n        value.asnumpy()\r\n    \r\n    # raises \"No attribute 'frob' on int\".  numpy.ndarray has no frob() method, but that's ok.\r\n    if isinstance(value, numpy.ndarray):\r\n        value.frob()\r\n    \r\n    # type-checks successfully, as expected\r\n    if isinstance(value, datetime.datetime):\r\n        value = value.frob()\r\n\r\nAll the built-in libraries that I tried worked fine, and none of the modules I'd installed via pip did, but I didn't dig all that deeply so I don't know how generally that pattern holds.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/389", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/389/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/389/events", "html_url": "https://github.com/google/pytype/issues/389", "id": 481157592, "node_id": "MDU6SXNzdWU0ODExNTc1OTI=", "number": 389, "title": "sys.flags.utf8_mode not supported", "user": {"login": "dumblob", "id": 2451044, "node_id": "MDQ6VXNlcjI0NTEwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2451044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumblob", "html_url": "https://github.com/dumblob", "followers_url": "https://api.github.com/users/dumblob/followers", "following_url": "https://api.github.com/users/dumblob/following{/other_user}", "gists_url": "https://api.github.com/users/dumblob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumblob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumblob/subscriptions", "organizations_url": "https://api.github.com/users/dumblob/orgs", "repos_url": "https://api.github.com/users/dumblob/repos", "events_url": "https://api.github.com/users/dumblob/events{/privacy}", "received_events_url": "https://api.github.com/users/dumblob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-08-15T13:44:17Z", "updated_at": "2019-09-17T22:26:44Z", "closed_at": "2019-09-17T22:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport sys\r\nassert( sys.flags.utf8_mode == True )\r\n```\r\n```\r\nComputing dependencies\r\nAnalyzing 5 sources with 1 local dependencies\r\nninja: Entering directory `/home/user/app/.pytype'\r\n[1/2] check test00\r\nFAILED: /home/user/app/.pytype/pyi/test00.pyi \r\npytype-single --imports_info /home/user/app/.pytype/imports/test00.imports --module-name test00 -V 3.7 -o /home/user/app/.pytype/pyi/test00.pyi --analyze-annotated --nofail --quick /home/user/app/test00.py\r\nFile \"/home/user/app/test00.py\", line 2, in <module>: No attribute 'utf8_mode' on sys._flags [attribute-error]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#attribute-error.\r\n[2/2] check main\r\nninja: build stopped: subcommand failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/385", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/385/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/385/events", "html_url": "https://github.com/google/pytype/issues/385", "id": 480307226, "node_id": "MDU6SXNzdWU0ODAzMDcyMjY=", "number": 385, "title": "Question: usage as a library", "user": {"login": "bchurchill", "id": 640745, "node_id": "MDQ6VXNlcjY0MDc0NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/640745?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bchurchill", "html_url": "https://github.com/bchurchill", "followers_url": "https://api.github.com/users/bchurchill/followers", "following_url": "https://api.github.com/users/bchurchill/following{/other_user}", "gists_url": "https://api.github.com/users/bchurchill/gists{/gist_id}", "starred_url": "https://api.github.com/users/bchurchill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bchurchill/subscriptions", "organizations_url": "https://api.github.com/users/bchurchill/orgs", "repos_url": "https://api.github.com/users/bchurchill/repos", "events_url": "https://api.github.com/users/bchurchill/events{/privacy}", "received_events_url": "https://api.github.com/users/bchurchill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-13T18:39:59Z", "updated_at": "2019-08-14T09:02:45Z", "closed_at": "2019-08-14T06:04:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm developing a static analysis for python code that depends on type information.  I'd really like to use an existing type analysis instead of building my own!  Is it possible to use pytype as a library?\r\n\r\nThe best case scenario for me would be to annotate _every_ node of an AST with some kind of overapproximation of the type information (e.g. a list of possible types, a type with a hole in it, etc.).  For example, I would like to write code like this:\r\n\r\n```\r\nmy_ast = ast.parse(some_python_code)\r\ntyped_ast = pytype.analyze(my_ast)\r\n...\r\nclass MyVisitor(ast.NodeVisitor):\r\n\r\n  def generic_visit(self,node):\r\n      print(\"This node has type \" + str(node.type))\r\n```\r\n\r\nIs something like this possible?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/384", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/384/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/384/events", "html_url": "https://github.com/google/pytype/issues/384", "id": 480268880, "node_id": "MDU6SXNzdWU0ODAyNjg4ODA=", "number": 384, "title": "pytype crashed due to comparison between str and None", "user": {"login": "dumblob", "id": 2451044, "node_id": "MDQ6VXNlcjI0NTEwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2451044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumblob", "html_url": "https://github.com/dumblob", "followers_url": "https://api.github.com/users/dumblob/followers", "following_url": "https://api.github.com/users/dumblob/following{/other_user}", "gists_url": "https://api.github.com/users/dumblob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumblob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumblob/subscriptions", "organizations_url": "https://api.github.com/users/dumblob/orgs", "repos_url": "https://api.github.com/users/dumblob/repos", "events_url": "https://api.github.com/users/dumblob/events{/privacy}", "received_events_url": "https://api.github.com/users/dumblob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1167088784, "node_id": "MDU6TGFiZWwxMTY3MDg4Nzg0", "url": "https://api.github.com/repos/google/pytype/labels/Pytype%20Fixit", "name": "Pytype Fixit", "color": "f9d0c4", "default": false, "description": ""}, {"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-13T17:11:39Z", "updated_at": "2019-09-18T06:45:31Z", "closed_at": "2019-09-18T06:45:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is actually the root issue and while searching for the minimal reproducer I've encountered also https://github.com/google/pytype/issues/383 .\r\n```python\r\ndef f( t ):\r\n  return t.strftime( myfmt )\r\n\r\nclass C:\r\n  def m( x: str ):\r\n    return True\r\n```\r\n```\r\nComputing dependencies\r\nAnalyzing 4 sources with 0 local dependencies\r\nninja: Entering directory `/home/user/app/.pytype'\r\n[1/1] check main\r\nFAILED: /home/user/app/.pytype/pyi/main.pyi \r\npytype-single --imports_info /home/user/app/.pytype/imports/main.imports --module-name main -V 3.7 -o /home/user/app/.pytype/pyi/main.pyi --analyze-annotated --nofail --quick /home/user/app/main.py\r\nTraceback (most recent call last):\r\n  File \"/home/user/app/env00/bin/pytype-single\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/main.py\", line 88, in main\r\n    return _run_pytype(options)\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/main.py\", line 99, in _run_pytype\r\n    return io.process_one_file(options)\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/io.py\", line 199, in process_one_file\r\n    exit_status = handle_errors(errorlog, options)\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/io.py\", line 254, in handle_errors\r\n    errorlog.print_to_stderr()\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/errors.py\", line 442, in print_to_stderr\r\n    self.print_to_file(sys.stderr)\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/errors.py\", line 403, in print_to_file\r\n    for error in self.unique_sorted_errors():\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/errors.py\", line 409, in unique_sorted_errors\r\n    for error in self._sorted_errors():\r\n  File \"/home/user/app/env00/lib/python3.7/site-packages/pytype/errors.py\", line 439, in _sorted_errors\r\n    return sorted(self._errors, key=lambda x: (x.filename, x.lineno))\r\nTypeError: '<' not supported between instances of 'str' and 'NoneType'\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nIt would be also nice in such cases to maybe print at least line numbers where pytype was lastly doing its analysis as this would allow for significantly faster search for the culprit.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/374", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/374/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/374/events", "html_url": "https://github.com/google/pytype/issues/374", "id": 477727248, "node_id": "MDU6SXNzdWU0Nzc3MjcyNDg=", "number": 374, "title": "pytype does not recognize token.NL, token.COMMENT and token.ENCODING", "user": {"login": "laike9m", "id": 2592205, "node_id": "MDQ6VXNlcjI1OTIyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2592205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laike9m", "html_url": "https://github.com/laike9m", "followers_url": "https://api.github.com/users/laike9m/followers", "following_url": "https://api.github.com/users/laike9m/following{/other_user}", "gists_url": "https://api.github.com/users/laike9m/gists{/gist_id}", "starred_url": "https://api.github.com/users/laike9m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laike9m/subscriptions", "organizations_url": "https://api.github.com/users/laike9m/orgs", "repos_url": "https://api.github.com/users/laike9m/repos", "events_url": "https://api.github.com/users/laike9m/events{/privacy}", "received_events_url": "https://api.github.com/users/laike9m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-08-07T06:15:15Z", "updated_at": "2019-08-29T22:57:29Z", "closed_at": "2019-08-29T22:56:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "They were moved from `tokenize` to `token` in Python 3.7:\r\nhttps://docs.python.org/3.7/library/token.html#token.COMMENT\r\n\r\nReproduce\r\n1. Create a `test.py` with one line:\r\n```python\r\nfrom token import NL, COMMENT, ENCODING\r\n```\r\n2. run \r\n```bash\r\n$ pytype test.py\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/Users/laike9m/Dev/Python/Cyberbrain/.pytype'\r\n[1/1] check test\r\nFAILED: /Users/laike9m/Dev/Python/Cyberbrain/.pytype/pyi/test.pyi\r\npytype-single --imports_info /Users/laike9m/Dev/Python/Cyberbrain/.pytype/imports/test.imports --module-name test -V 3.7 -o /Users/laike9m/Dev/Python/Cyberbrain/.pytype/pyi/test.pyi --analyze-annotated --nofail --quick /Users/laike9m/Dev/Python/Cyberbrain/test.py\r\nFile \"/Users/laike9m/Dev/Python/Cyberbrain/test.py\", line 1, in <module>: Can't find module 'token.NL'. [import-error]\r\nFile \"/Users/laike9m/Dev/Python/Cyberbrain/test.py\", line 1, in <module>: Can't find module 'token.COMMENT'. [import-error]\r\nFile \"/Users/laike9m/Dev/Python/Cyberbrain/test.py\", line 1, in <module>: Can't find module 'token.ENCODING'. [import-error]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#import-error.\r\nninja: build stopped: subcommand failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/372", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/372/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/372/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/372/events", "html_url": "https://github.com/google/pytype/issues/372", "id": 477060034, "node_id": "MDU6SXNzdWU0NzcwNjAwMzQ=", "number": 372, "title": "pytype setup omits pytype.tools.traces", "user": {"login": "kamahen", "id": 34629301, "node_id": "MDQ6VXNlcjM0NjI5MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/34629301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamahen", "html_url": "https://github.com/kamahen", "followers_url": "https://api.github.com/users/kamahen/followers", "following_url": "https://api.github.com/users/kamahen/following{/other_user}", "gists_url": "https://api.github.com/users/kamahen/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamahen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamahen/subscriptions", "organizations_url": "https://api.github.com/users/kamahen/orgs", "repos_url": "https://api.github.com/users/kamahen/repos", "events_url": "https://api.github.com/users/kamahen/events{/privacy}", "received_events_url": "https://api.github.com/users/kamahen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-08-05T21:11:05Z", "updated_at": "2019-08-07T21:05:58Z", "closed_at": "2019-08-07T21:01:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is with the latest pull from github (2019.7.30). I fixed it by:\r\n```\r\ncp -pir ./pytype/tools/traces/ ~/.local/lib/python3.6/site-packages/pytype/tools/\r\n```\r\n\r\nHere's the error I got:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/peter/.local/bin/pyxref\", line 11, in <module>\r\n    load_entry_point('pytype==2019.7.30', 'console_scripts', 'pyxref')()\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 489, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2843, in load_entry_point\r\n    return ep.load()\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2434, in load\r\n    return self.resolve()\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2440, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/tools/xref/main.py\", line 15, in <module>\r\n    from pytype.tools.xref import indexer\r\n  File \"/home/peter/.local/lib/python3.6/site-packages/pytype/tools/xref/indexer.py\", line 18, in <module>\r\n    from pytype.tools.traces import source\r\nModuleNotFoundError: No module named 'pytype.tools.traces'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/371", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/371/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/371/events", "html_url": "https://github.com/google/pytype/issues/371", "id": 476494210, "node_id": "MDU6SXNzdWU0NzY0OTQyMTA=", "number": 371, "title": "posix.listdir is not found", "user": {"login": "magwas", "id": 756838, "node_id": "MDQ6VXNlcjc1NjgzOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/756838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magwas", "html_url": "https://github.com/magwas", "followers_url": "https://api.github.com/users/magwas/followers", "following_url": "https://api.github.com/users/magwas/following{/other_user}", "gists_url": "https://api.github.com/users/magwas/gists{/gist_id}", "starred_url": "https://api.github.com/users/magwas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magwas/subscriptions", "organizations_url": "https://api.github.com/users/magwas/orgs", "repos_url": "https://api.github.com/users/magwas/repos", "events_url": "https://api.github.com/users/magwas/events{/privacy}", "received_events_url": "https://api.github.com/users/magwas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-08-03T22:17:10Z", "updated_at": "2019-12-06T21:42:01Z", "closed_at": "2019-12-06T21:42:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I believe it is a bug.\r\nmypy output also included, as this hints to a bug in an underlying common library\r\n```\r\ndeveloper@efbaed8fbb53:/build/bar$ ls\r\nfoo.py\r\ndeveloper@efbaed8fbb53:/build/bar$ cat foo.py \r\nfrom posix import listdir\r\n\r\nprint(listdir(\".\"))\r\ndeveloper@efbaed8fbb53:/build/bar$ python3 foo.py \r\n['foo.py']\r\ndeveloper@efbaed8fbb53:/build/bar$ mypy foo.py \r\nfoo.py:1: error: Module 'posix' has no attribute 'listdir'\r\ndeveloper@efbaed8fbb53:/build/bar$ pytype foo.py \r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/build/bar/.pytype'\r\n[1/1] check foo\r\nFAILED: /build/bar/.pytype/pyi/foo.pyi \r\npytype-single --imports_info /build/bar/.pytype/imports/foo.imports --module-name foo -V 3.6 -o /build/bar/.pytype/pyi/foo.pyi --analyze-annotated --nofail --quick /build/bar/foo.py\r\nFile \"/build/bar/foo.py\", line 1, in <module>: Can't find module 'posix.listdir'. [import-error]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#import-error.\r\nninja: build stopped: subcommand failed.\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/367", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/367/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/367/events", "html_url": "https://github.com/google/pytype/issues/367", "id": 473127897, "node_id": "MDU6SXNzdWU0NzMxMjc4OTc=", "number": 367, "title": "__suppress_context__ not recognized", "user": {"login": "dumblob", "id": 2451044, "node_id": "MDQ6VXNlcjI0NTEwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2451044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumblob", "html_url": "https://github.com/dumblob", "followers_url": "https://api.github.com/users/dumblob/followers", "following_url": "https://api.github.com/users/dumblob/following{/other_user}", "gists_url": "https://api.github.com/users/dumblob/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumblob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumblob/subscriptions", "organizations_url": "https://api.github.com/users/dumblob/orgs", "repos_url": "https://api.github.com/users/dumblob/repos", "events_url": "https://api.github.com/users/dumblob/events{/privacy}", "received_events_url": "https://api.github.com/users/dumblob/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-26T00:50:18Z", "updated_at": "2019-08-15T01:49:57Z", "closed_at": "2019-08-15T01:49:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "`test_suppress_context.py`:\r\n```python\r\ne = BaseException( 'howk' )\r\nprint( e.__suppress_context__ )\r\n```\r\nBaseException shall probably not be instantiated, but it doesn't matter as `dir( BaseException( 'howk' ) )` shows the attribute `__suppress_context__` correctly and thus pytype shall do as well.\r\nresult:\r\n```\r\n[1/1] check test_suppress_context\r\nFAILED: /home/xxx/app/.pytype/pyi/test_suppress_context.pyi \r\npytype-single --imports_info /home/xxx/app/.pytype/imports/test_suppress_context.imports --module-name test_suppress_context -V 3.7 -o /home/xxx/app/.pytype/pyi/test_suppress_context.pyi --analyze-annotated --nofail --quick /home/xxx/app/test_suppress_context.py\r\nFile \"/home/xxx/app/test_suppress_context.py\", line 2, in <module>: No attribute '__suppress_context__' on BaseException [attribute-error]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#attribute-error.\r\nninja: build stopped: subcommand failed.\r\n```\r\nThis presumably shall not happen as it's a Python builtin feature...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/362", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/362/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/362/events", "html_url": "https://github.com/google/pytype/issues/362", "id": 469538091, "node_id": "MDU6SXNzdWU0Njk1MzgwOTE=", "number": 362, "title": "Comment syntax for varargs, kwargs incompatible with PEP-484, mypy", "user": {"login": "wiml", "id": 156891, "node_id": "MDQ6VXNlcjE1Njg5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/156891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wiml", "html_url": "https://github.com/wiml", "followers_url": "https://api.github.com/users/wiml/followers", "following_url": "https://api.github.com/users/wiml/following{/other_user}", "gists_url": "https://api.github.com/users/wiml/gists{/gist_id}", "starred_url": "https://api.github.com/users/wiml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wiml/subscriptions", "organizations_url": "https://api.github.com/users/wiml/orgs", "repos_url": "https://api.github.com/users/wiml/repos", "events_url": "https://api.github.com/users/wiml/events{/privacy}", "received_events_url": "https://api.github.com/users/wiml/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-18T02:14:24Z", "updated_at": "2020-04-27T22:00:35Z", "closed_at": "2020-04-27T22:00:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you're using comment syntax to annotate a function that takes variable arguments, [PEP-484](https://www.python.org/dev/peps/pep-0484/#suggested-syntax-for-python-2-7-and-straddling-code) and mypy want you to use this syntax:\r\n\r\n```python\r\ndef somefunc(a, b, *c, **kw):\r\n    # type: (int, bool, *str, **bytes) -> int\r\n    return something\r\n```\r\n\r\nHowever, pytype requires you to omit the `*` and `**` in the `type:` comment,  or else you get an `invalid-function-type-comment` error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/349", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/349/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/349/events", "html_url": "https://github.com/google/pytype/issues/349", "id": 459470078, "node_id": "MDU6SXNzdWU0NTk0NzAwNzg=", "number": 349, "title": "wrong-arg-types for UnicodeDecodeError exception", "user": {"login": "komuw", "id": 5163857, "node_id": "MDQ6VXNlcjUxNjM4NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5163857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/komuw", "html_url": "https://github.com/komuw", "followers_url": "https://api.github.com/users/komuw/followers", "following_url": "https://api.github.com/users/komuw/following{/other_user}", "gists_url": "https://api.github.com/users/komuw/gists{/gist_id}", "starred_url": "https://api.github.com/users/komuw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/komuw/subscriptions", "organizations_url": "https://api.github.com/users/komuw/orgs", "repos_url": "https://api.github.com/users/komuw/repos", "events_url": "https://api.github.com/users/komuw/events{/privacy}", "received_events_url": "https://api.github.com/users/komuw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-22T12:36:33Z", "updated_at": "2019-06-27T23:52:31Z", "closed_at": "2019-06-27T23:52:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\ntry:\r\n    position = 1\r\n    obj = \"A\"\r\n    raise UnicodeDecodeError(\"mycodec\", b\"ddd\", position, position + 1, repr(obj))\r\nexcept Exception as e:\r\n    print(\"error= \", str(e))\r\n```\r\n\r\n`pytype --verbosity 0 --python-version 3.6 --protocols --strict-import --keep-going cool.py`\r\n```bash\r\nFile \"/cool.py\", line 4, in <module>: Function UnicodeDecodeError.__init__ was called with the wrong arguments [wrong-arg-types]\r\n  Expected: (self, encoding, object: str, ...)\r\n  Actually passed: (self, encoding, object: bytes, ...)\r\n```\r\n\r\nmaybe `pytype` does not recognise I'm using python3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/348", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/348/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/348/events", "html_url": "https://github.com/google/pytype/issues/348", "id": 459456112, "node_id": "MDU6SXNzdWU0NTk0NTYxMTI=", "number": 348, "title": "pytype unable to find some codecs attributes", "user": {"login": "komuw", "id": 5163857, "node_id": "MDQ6VXNlcjUxNjM4NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5163857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/komuw", "html_url": "https://github.com/komuw", "followers_url": "https://api.github.com/users/komuw/followers", "following_url": "https://api.github.com/users/komuw/following{/other_user}", "gists_url": "https://api.github.com/users/komuw/gists{/gist_id}", "starred_url": "https://api.github.com/users/komuw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/komuw/subscriptions", "organizations_url": "https://api.github.com/users/komuw/orgs", "repos_url": "https://api.github.com/users/komuw/repos", "events_url": "https://api.github.com/users/komuw/events{/privacy}", "received_events_url": "https://api.github.com/users/komuw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-22T09:23:15Z", "updated_at": "2019-06-29T01:07:40Z", "closed_at": "2019-06-29T01:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "this file\r\n```python\r\nimport codecs\r\n\r\ndef encode(input, errors=\"strict\"):\r\n    return codecs.utf_16_be_encode(input, errors)\r\n\r\nprint(encode(\"name\"))\r\n```\r\nproduces;\r\n`pytype --verbosity 0 --python-version 3.6 --protocols --strict-import --keep-going cool.py`\r\n\r\n```sh\r\nComputing dependencies\r\nFile \"/Users/cool.py\", line 5, in encode: No attribute 'utf_16_be_encode' on module 'codecs' [module-attr]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/344", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/344/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/344/events", "html_url": "https://github.com/google/pytype/issues/344", "id": 457212727, "node_id": "MDU6SXNzdWU0NTcyMTI3Mjc=", "number": 344, "title": "--noquick option?", "user": {"login": "kamahen", "id": 34629301, "node_id": "MDQ6VXNlcjM0NjI5MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/34629301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamahen", "html_url": "https://github.com/kamahen", "followers_url": "https://api.github.com/users/kamahen/followers", "following_url": "https://api.github.com/users/kamahen/following{/other_user}", "gists_url": "https://api.github.com/users/kamahen/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamahen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamahen/subscriptions", "organizations_url": "https://api.github.com/users/kamahen/orgs", "repos_url": "https://api.github.com/users/kamahen/repos", "events_url": "https://api.github.com/users/kamahen/events{/privacy}", "received_events_url": "https://api.github.com/users/kamahen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-18T01:09:17Z", "updated_at": "2019-06-20T07:07:03Z", "closed_at": "2019-06-20T07:07:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The pyi output from pytype has `# (generated with --quick)` at the top.\r\nPresumably there's a slower version that gives deeper analysis, such as figuring out the types of parameters or of local variables. How can I invoke this? (When I tried `--noquick` I got an error)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/337", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/337/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/337/events", "html_url": "https://github.com/google/pytype/issues/337", "id": 453177460, "node_id": "MDU6SXNzdWU0NTMxNzc0NjA=", "number": 337, "title": "Pytype fails with caught ImportError", "user": {"login": "pganssle", "id": 1377457, "node_id": "MDQ6VXNlcjEzNzc0NTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1377457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pganssle", "html_url": "https://github.com/pganssle", "followers_url": "https://api.github.com/users/pganssle/followers", "following_url": "https://api.github.com/users/pganssle/following{/other_user}", "gists_url": "https://api.github.com/users/pganssle/gists{/gist_id}", "starred_url": "https://api.github.com/users/pganssle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pganssle/subscriptions", "organizations_url": "https://api.github.com/users/pganssle/orgs", "repos_url": "https://api.github.com/users/pganssle/repos", "events_url": "https://api.github.com/users/pganssle/events{/privacy}", "received_events_url": "https://api.github.com/users/pganssle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-06T18:30:54Z", "updated_at": "2019-06-06T22:09:44Z", "closed_at": "2019-06-06T22:04:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It is a fairly common Python idiom to attempt to import something from a given place, then fall through to some sort of backup definition if the import fails. For example, when writing Python 2/3 compatible code (without using `six.moves`), you might do this:\r\n\r\n```python\r\ntry:\r\n    from itertools import ifilterfalse as filterfalse\r\nexcept ImportError:\r\n    from itertools import filterfalse\r\n```\r\n\r\nHowever, `pytype` chokes on this in both Python 2 *and* Python 3, because in the Python 2 case, it raises `import-error`, and in Python 3 it raises `import-error` for the second line.\r\n\r\nFor now it can be \"fixed\" by adding `# pytype: disable=import-error`, but it would be better if `pytype` could be smarter about it and detect that `import-error` should not be raised in a `try` block that catches `ImportError`, and that `import-error` should not be raised from the `except` block of a `try` statement that catches `ImportError` and *isn't* raising `import-error`.\r\n\r\nI'll note that this isn't limited to Python 2/3 polyglot code (which is likely to get rarer as time goes on), but it's also a common idiom for optional \"opportunistic\" dependencies, and some other situations where you want to import something conditional on whether or not the thing exists.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/333", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/333/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/333/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/333/events", "html_url": "https://github.com/google/pytype/issues/333", "id": 452293281, "node_id": "MDU6SXNzdWU0NTIyOTMyODE=", "number": 333, "title": "merge-pyi prints too much logging output", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1167088784, "node_id": "MDU6TGFiZWwxMTY3MDg4Nzg0", "url": "https://api.github.com/repos/google/pytype/labels/Pytype%20Fixit", "name": "Pytype Fixit", "color": "f9d0c4", "default": false, "description": ""}, {"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-05T02:57:27Z", "updated_at": "2019-06-05T18:55:08Z", "closed_at": "2019-06-05T18:55:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Consider this simple example:\r\n```\r\n# foo.py\r\ndef f(x):\r\n  return x\r\ndef g(x) -> str:\r\n  return x\r\ndef h(x: str) -> str:\r\n  return x\r\n```\r\n```\r\n# foo.pyi\r\ndef f(x: str) -> str: ...\r\ndef g(x: str) -> str: ...\r\ndef h(x: str) -> str: ...\r\n```\r\n`merge-pyi foo.py foo.pyi` prints one debug line and two warning lines:\r\n```\r\nDEBUG:RefactoringTool:Refactoring None\r\nWARNING:FixMergePyi:already annotated, skipping g\r\nWARNING:FixMergePyi:already annotated, skipping h\r\n```\r\nIn typical cases, it shouldn't produce any logging output.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/332", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/332/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/332/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/332/events", "html_url": "https://github.com/google/pytype/issues/332", "id": 452292335, "node_id": "MDU6SXNzdWU0NTIyOTIzMzU=", "number": 332, "title": "merge-pyi chokes on variable annotation syntax in Python 2", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1167088784, "node_id": "MDU6TGFiZWwxMTY3MDg4Nzg0", "url": "https://api.github.com/repos/google/pytype/labels/Pytype%20Fixit", "name": "Pytype Fixit", "color": "f9d0c4", "default": false, "description": ""}, {"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-06-05T02:52:36Z", "updated_at": "2019-06-07T21:35:02Z", "closed_at": "2019-06-07T21:35:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Example:\r\n```\r\n# foo.py\r\nv = ''\r\n```\r\nRun pytype to produce:\r\n```\r\n# foo.pyi\r\nv: str\r\n```\r\nThe run `merge-pyi foo.py foo.pyi`. It crashes:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/google/home/rechen/.venv_py27/bin/merge-pyi\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/google/home/rechen/.venv_py27/local/lib/python2.7/site-packages/pytype/tools/merge_pyi/main.py\", line 87, in main\r\n    annotated_src = merge_pyi.annotate_string(args, py_src, pyi_src)\r\n  File \"/usr/local/google/home/rechen/.venv_py27/local/lib/python2.7/site-packages/pytype/tools/merge_pyi/merge_pyi.py\", line 901, in annotate_string\r\n    fixer.set_pyi_string(pyi_src)\r\n  File \"/usr/local/google/home/rechen/.venv_py27/local/lib/python2.7/site-packages/pytype/tools/merge_pyi/merge_pyi.py\", line 715, in set_pyi_string\r\n    self.parsed_pyi = self.parse_pyi_string(pyi_string)\r\n  File \"/usr/local/google/home/rechen/.venv_py27/local/lib/python2.7/site-packages/pytype/tools/merge_pyi/merge_pyi.py\", line 720, in parse_pyi_string\r\n    tree = Util.parse_string(text)\r\n  File \"/usr/local/google/home/rechen/.venv_py27/local/lib/python2.7/site-packages/pytype/tools/merge_pyi/merge_pyi.py\", line 146, in parse_string\r\n    return cls.driver.parse_string(text)\r\n  File \"/usr/lib/python2.7/lib2to3/pgen2/driver.py\", line 107, in parse_string\r\n    return self.parse_tokens(tokens, debug)\r\n  File \"/usr/lib/python2.7/lib2to3/pgen2/driver.py\", line 72, in parse_tokens\r\n    if p.addtoken(type, value, (prefix, start)):\r\n  File \"/usr/lib/python2.7/lib2to3/pgen2/parse.py\", line 159, in addtoken\r\n    raise ParseError(\"bad input\", type, value, context)\r\nlib2to3.pgen2.parse.ParseError: bad input: type=11, value=':', context=('', (3, 1))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/330", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/330/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/330/events", "html_url": "https://github.com/google/pytype/issues/330", "id": 451568901, "node_id": "MDU6SXNzdWU0NTE1Njg5MDE=", "number": 330, "title": "merge-pyi imports 1 type per line", "user": {"login": "mbarbier1995", "id": 7925451, "node_id": "MDQ6VXNlcjc5MjU0NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7925451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbarbier1995", "html_url": "https://github.com/mbarbier1995", "followers_url": "https://api.github.com/users/mbarbier1995/followers", "following_url": "https://api.github.com/users/mbarbier1995/following{/other_user}", "gists_url": "https://api.github.com/users/mbarbier1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbarbier1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbarbier1995/subscriptions", "organizations_url": "https://api.github.com/users/mbarbier1995/orgs", "repos_url": "https://api.github.com/users/mbarbier1995/repos", "events_url": "https://api.github.com/users/mbarbier1995/events{/privacy}", "received_events_url": "https://api.github.com/users/mbarbier1995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1167088784, "node_id": "MDU6TGFiZWwxMTY3MDg4Nzg0", "url": "https://api.github.com/repos/google/pytype/labels/Pytype%20Fixit", "name": "Pytype Fixit", "color": "f9d0c4", "default": false, "description": ""}, {"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-03T16:09:55Z", "updated_at": "2019-06-08T07:04:54Z", "closed_at": "2019-06-08T07:04:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a simple file: first_file.py with this function:\r\n```python\r\ndef h():\r\n    return {'la': [1, 2, 3]}\r\n```\r\nWhen I run pytype -V 3.7 first_file.py \r\nand then \r\nmerge-pyi -i ./first_file.py ./first_file.pyi\r\n\r\nIt gives me:\r\n``` python\r\nfrom typing import Dict\r\nfrom typing import List\r\ndef h() -> Dict[str, List[int]]:\r\n    return {'la': [1, 2, 3]}\r\n```\r\n\r\nBut I am expecting:\r\n``` python\r\nfrom typing import Dict, List\r\n```\r\nMy first_file.pyi seems correct though:\r\n```python\r\n# (generated with --quick)\r\n\r\nfrom typing import Dict, List\r\n\r\ndef h() -> Dict[str, List[int]]: ...\r\n```\r\n\r\nIs it a setting I should modify in my pytype.cfg ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/322", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/322/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/322/events", "html_url": "https://github.com/google/pytype/issues/322", "id": 447350953, "node_id": "MDU6SXNzdWU0NDczNTA5NTM=", "number": 322, "title": "using functools.partial as a class leads to spurious errors", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-22T21:27:04Z", "updated_at": "2019-07-03T23:24:34Z", "closed_at": "2019-07-03T23:24:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/python/typeshed/commit/e45f443d8530f0dd9f9022720a994f222da6f0fd changed the definition of functools.partial from a class to a function. Things like isinstance() now cause spurious errors.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/319", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/319/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/319/events", "html_url": "https://github.com/google/pytype/issues/319", "id": 445733518, "node_id": "MDU6SXNzdWU0NDU3MzM1MTg=", "number": 319, "title": "attribute-error for importlib.abc.Loader.exec_module", "user": {"login": "dseomn", "id": 15314936, "node_id": "MDQ6VXNlcjE1MzE0OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/15314936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dseomn", "html_url": "https://github.com/dseomn", "followers_url": "https://api.github.com/users/dseomn/followers", "following_url": "https://api.github.com/users/dseomn/following{/other_user}", "gists_url": "https://api.github.com/users/dseomn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dseomn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dseomn/subscriptions", "organizations_url": "https://api.github.com/users/dseomn/orgs", "repos_url": "https://api.github.com/users/dseomn/repos", "events_url": "https://api.github.com/users/dseomn/events{/privacy}", "received_events_url": "https://api.github.com/users/dseomn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-18T16:49:43Z", "updated_at": "2019-05-20T17:05:03Z", "closed_at": "2019-05-20T17:05:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://travis-ci.org/dseomn/dotfiles/jobs/534215443\r\n```\r\n...\r\nFile \"/home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/snipphthalate/plugin.py\", line 78, in __init__: No attribute 'exec_module' on _importlib_modulespec._Loader [attribute-error]\r\n  In Union[Any, _importlib_modulespec._Loader]\r\n...\r\n```\r\n\r\nThe code with the error is the last line of:\r\n```python\r\n    spec = importlib.util.spec_from_file_location('<snipphthalate_plugin>',\r\n                                                  filename)\r\n    module = importlib.util.module_from_spec(spec)\r\n    spec.loader.exec_module(module)\r\n```\r\n\r\nDocumentation for the function is at https://docs.python.org/3/library/importlib.html#importlib.abc.Loader.exec_module", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/318", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/318/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/318/events", "html_url": "https://github.com/google/pytype/issues/318", "id": 445732719, "node_id": "MDU6SXNzdWU0NDU3MzI3MTk=", "number": 318, "title": "import-error for jsonschema", "user": {"login": "dseomn", "id": 15314936, "node_id": "MDQ6VXNlcjE1MzE0OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/15314936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dseomn", "html_url": "https://github.com/dseomn", "followers_url": "https://api.github.com/users/dseomn/followers", "following_url": "https://api.github.com/users/dseomn/following{/other_user}", "gists_url": "https://api.github.com/users/dseomn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dseomn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dseomn/subscriptions", "organizations_url": "https://api.github.com/users/dseomn/orgs", "repos_url": "https://api.github.com/users/dseomn/repos", "events_url": "https://api.github.com/users/dseomn/events{/privacy}", "received_events_url": "https://api.github.com/users/dseomn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-05-18T16:40:06Z", "updated_at": "2019-05-24T18:29:34Z", "closed_at": "2019-05-24T18:29:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://travis-ci.org/dseomn/dotfiles/jobs/534215443\r\n```\r\n$ pytype .\r\nComputing dependencies\r\nAnalyzing 17 sources with 0 local dependencies\r\nninja: Entering directory `/home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype'\r\n[4/17] check snipphthalate.plugin\r\nFAILED: /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype/pyi/snipphthalate/plugin.pyi \r\npytype-single --imports_info /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype/imports/snipphthalate.plugin.imports --module-name snipphthalate.plugin -V 3.5 -o /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype/pyi/snipphthalate/plugin.pyi --analyze-annotated --nofail --quick /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/snipphthalate/plugin.py\r\nFile \"/home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/snipphthalate/plugin.py\", line 19, in <module>: Can't find module 'jsonschema'. [import-error]\r\nFile \"/home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/snipphthalate/plugin.py\", line 78, in __init__: No attribute 'exec_module' on _importlib_modulespec._Loader [attribute-error]\r\n  In Union[Any, _importlib_modulespec._Loader]\r\nFor more details, see https://google.github.io/pytype/errors.html.\r\n[6/17] check dconf_load_yaml.main\r\nFAILED: /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype/pyi/dconf_load_yaml/main.pyi \r\npytype-single --imports_info /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype/imports/dconf_load_yaml.main.imports --module-name dconf_load_yaml.main -V 3.5 -o /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/.pytype/pyi/dconf_load_yaml/main.pyi --analyze-annotated --nofail --quick /home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/dconf_load_yaml/main.py\r\nFile \"/home/travis/build/dseomn/dotfiles/.local/lib/python3/site-packages/dconf_load_yaml/main.py\", line 44, in <module>: Can't find module 'jsonschema'. [import-error]\r\nFor more details, see https://google.github.io/pytype/errors.html#import-error.\r\nninja: build stopped: subcommand failed.\r\nThe command \"pytype .\" exited with 1.\r\n```\r\n\r\njsonschema is installed, and there are passing unit tests that cover those `import jsonschema` lines.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/311", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/311/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/311/events", "html_url": "https://github.com/google/pytype/issues/311", "id": 443960206, "node_id": "MDU6SXNzdWU0NDM5NjAyMDY=", "number": 311, "title": "Add setuptools integration", "user": {"login": "grzesuav", "id": 9568421, "node_id": "MDQ6VXNlcjk1Njg0MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/9568421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grzesuav", "html_url": "https://github.com/grzesuav", "followers_url": "https://api.github.com/users/grzesuav/followers", "following_url": "https://api.github.com/users/grzesuav/following{/other_user}", "gists_url": "https://api.github.com/users/grzesuav/gists{/gist_id}", "starred_url": "https://api.github.com/users/grzesuav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grzesuav/subscriptions", "organizations_url": "https://api.github.com/users/grzesuav/orgs", "repos_url": "https://api.github.com/users/grzesuav/repos", "events_url": "https://api.github.com/users/grzesuav/events{/privacy}", "received_events_url": "https://api.github.com/users/grzesuav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-14T14:49:20Z", "updated_at": "2019-06-07T14:55:46Z", "closed_at": "2019-06-06T22:10:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Add integration with https://setuptools.readthedocs.io/, possibly in analog way as in https://github.com/johnnoone/setuptools-pylint\r\n\r\nPros : \r\n* simpler setup (I can add one build dependency in setup.py and I am able to invoke `python setup.py pytype` )\r\n\r\nCons:\r\n* would make sense to be in separate repository/ as separate python package", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/305", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/305/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/305/events", "html_url": "https://github.com/google/pytype/issues/305", "id": 440431134, "node_id": "MDU6SXNzdWU0NDA0MzExMzQ=", "number": 305, "title": "2019.04.26 installation fails with \"parser_ext.o: file not recognized\"", "user": {"login": "infokiller", "id": 10516814, "node_id": "MDQ6VXNlcjEwNTE2ODE0", "avatar_url": "https://avatars1.githubusercontent.com/u/10516814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infokiller", "html_url": "https://github.com/infokiller", "followers_url": "https://api.github.com/users/infokiller/followers", "following_url": "https://api.github.com/users/infokiller/following{/other_user}", "gists_url": "https://api.github.com/users/infokiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/infokiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infokiller/subscriptions", "organizations_url": "https://api.github.com/users/infokiller/orgs", "repos_url": "https://api.github.com/users/infokiller/repos", "events_url": "https://api.github.com/users/infokiller/events{/privacy}", "received_events_url": "https://api.github.com/users/infokiller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-05T10:57:14Z", "updated_at": "2019-06-27T01:01:51Z", "closed_at": "2019-06-27T01:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried installing it in a clean python 3.6 environment created with conda but it fails with [these logs](https://gist.github.com/infokiller/b730abb0b20b785b3324851b85e65103).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/300", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/300/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/300/events", "html_url": "https://github.com/google/pytype/issues/300", "id": 436579798, "node_id": "MDU6SXNzdWU0MzY1Nzk3OTg=", "number": 300, "title": "pytype seems to ignore logging.setLoggerClass()", "user": {"login": "dcermak", "id": 45594031, "node_id": "MDQ6VXNlcjQ1NTk0MDMx", "avatar_url": "https://avatars2.githubusercontent.com/u/45594031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcermak", "html_url": "https://github.com/dcermak", "followers_url": "https://api.github.com/users/dcermak/followers", "following_url": "https://api.github.com/users/dcermak/following{/other_user}", "gists_url": "https://api.github.com/users/dcermak/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcermak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcermak/subscriptions", "organizations_url": "https://api.github.com/users/dcermak/orgs", "repos_url": "https://api.github.com/users/dcermak/repos", "events_url": "https://api.github.com/users/dcermak/events{/privacy}", "received_events_url": "https://api.github.com/users/dcermak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-24T09:04:58Z", "updated_at": "2019-04-26T19:21:14Z", "closed_at": "2019-04-26T07:20:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "First and foremost, thanks for pytype!\r\n\r\nI've tried using pytype on [KIWI](https://github.com/SUSE/kiwi) and got the following errors from pytype:\r\n```\r\nFile \"kiwi/command_process.py\", line 126, in _init_progress: No attribute 'progress' on logging.Logger [attribute-error]\r\nFile \"kiwi/command_process.py\", line 131, in _stop_progress: No attribute 'progress' on logging.Logger [attribute-error]\r\nFile \"kiwi/command_process.py\", line 143, in _update_progress: No attribute 'progress' on logging.Logger [attribute-error]\r\n```\r\n\r\nThese are probably caused by the following issue: KIWI provides a custom logger class, that provides the attributes `_init_progress`, `_stop_progress` and `_update_progress`. This logging class is set in a module via `logging.setLoggerClass(Logger)`. It appears that pytype does not take this into account.\r\n\r\nCould this either be added or can I work around this issue by somehow redefining what `logging.getLogger` returns only for the current project?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/296", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/296/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/296/events", "html_url": "https://github.com/google/pytype/issues/296", "id": 433540820, "node_id": "MDU6SXNzdWU0MzM1NDA4MjA=", "number": 296, "title": "Invalid base class on Protocol (typing_extensions)", "user": {"login": "autumnjolitz", "id": 270476, "node_id": "MDQ6VXNlcjI3MDQ3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/270476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/autumnjolitz", "html_url": "https://github.com/autumnjolitz", "followers_url": "https://api.github.com/users/autumnjolitz/followers", "following_url": "https://api.github.com/users/autumnjolitz/following{/other_user}", "gists_url": "https://api.github.com/users/autumnjolitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/autumnjolitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/autumnjolitz/subscriptions", "organizations_url": "https://api.github.com/users/autumnjolitz/orgs", "repos_url": "https://api.github.com/users/autumnjolitz/repos", "events_url": "https://api.github.com/users/autumnjolitz/events{/privacy}", "received_events_url": "https://api.github.com/users/autumnjolitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-04-16T01:15:54Z", "updated_at": "2019-04-17T21:40:56Z", "closed_at": "2019-04-17T21:40:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following minimal program validates with `pytype` and `mypy`\r\n\r\n```\r\nfrom typing import List\r\n\r\ndef foo(fh) -> List[bytes]:\r\n    items = []\r\n    for line in iter(fh.readline, b''):\r\n        items.append(line)\r\n    return items\r\n\r\n\r\nif __name__ == '__main__':\r\n    import io\r\n    test_buffer = io.BytesIO(b'foo\\nbar')\r\n    assert foo(test_buffer) == [b'foo\\n', b'bar']\r\n```\r\n\r\nThe following test program validates with MyPy but faults on pytype with the following messages:\r\n```\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/Users/ben/software/horcrux/.pytype'\r\n[1/1] check sample\r\nFAILED: /Users/ben/software/horcrux/.pytype/pyi/sample.pyi\r\npytype-single --imports_info /Users/ben/software/horcrux/.pytype/imports/sample.imports --module-name sample -V 3.7 -o /Users/ben/software/horcrux/.pytype/pyi/sample.pyi --analyze-annotated --nofail --quick /Users/ben/software/horcrux/sample.py\r\nFile \"/Users/ben/software/horcrux/sample.py\", line 5, in <module>: Invalid base class: <instance of typing_extensions._SpecialForm> [base-class-error]\r\nFile \"/Users/ben/software/horcrux/sample.py\", line 7, in readline: bad option in return type [bad-return-type]\r\n  Expected: bytes\r\n  Actually returned: None\r\nFile \"/Users/ben/software/horcrux/sample.py\", line 20, in <module>: Function foo was called with the wrong arguments [wrong-arg-types]\r\n  Expected: (fh: IReadlineable)\r\n  Actually passed: (fh: io.BytesIO)\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n```\r\nfrom typing import List\r\nfrom typing_extensions import Protocol\r\n\r\n\r\nclass IReadlineable(Protocol):\r\n    def readline(self) -> bytes:\r\n        ...\r\n\r\n\r\ndef foo(fh: IReadlineable) -> List[bytes]:\r\n    items = []\r\n    for line in iter(fh.readline, b''):\r\n        items.append(line)\r\n    return items\r\n\r\n\r\nif __name__ == '__main__':\r\n    import io\r\n    test_buffer = io.BytesIO(b'foo\\nbar')\r\n    assert foo(test_buffer) == [b'foo\\n', b'bar']\r\n```\r\n\r\nExpected result:\r\n\r\n`pytype` correctly validates `Protocol`-derived structural subtyping.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/286", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/286/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/286/events", "html_url": "https://github.com/google/pytype/issues/286", "id": 429280615, "node_id": "MDU6SXNzdWU0MjkyODA2MTU=", "number": 286, "title": "Match and __getitem__ error?", "user": {"login": "geoffreywiseman", "id": 49935, "node_id": "MDQ6VXNlcjQ5OTM1", "avatar_url": "https://avatars0.githubusercontent.com/u/49935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffreywiseman", "html_url": "https://github.com/geoffreywiseman", "followers_url": "https://api.github.com/users/geoffreywiseman/followers", "following_url": "https://api.github.com/users/geoffreywiseman/following{/other_user}", "gists_url": "https://api.github.com/users/geoffreywiseman/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffreywiseman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffreywiseman/subscriptions", "organizations_url": "https://api.github.com/users/geoffreywiseman/orgs", "repos_url": "https://api.github.com/users/geoffreywiseman/repos", "events_url": "https://api.github.com/users/geoffreywiseman/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffreywiseman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-04T13:30:31Z", "updated_at": "2019-04-04T19:01:10Z", "closed_at": "2019-04-04T19:01:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey;\r\n\r\nI'm using re to parse some content out of a filename:\r\n\r\n```python\r\n    match = self.PN_PATTERN.search(file)\r\n    if match:\r\n       pn = match[0]\r\n       prefix = match[1]\r\n```\r\n\r\npytype says:\r\n\r\n`unsupported operand type(s) for item retrieval: 'Match[str]' and 'int' [unsupported-operands]\r\n  No attribute '__getitem__' on Match[str]`\r\n\r\nMatch definitely does have [__getitem__](https://docs.python.org/3/library/re.html#re.Match.__getitem__).... so what's the issue?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/278", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/278/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/278/events", "html_url": "https://github.com/google/pytype/issues/278", "id": 427227838, "node_id": "MDU6SXNzdWU0MjcyMjc4Mzg=", "number": 278, "title": "Use pylint", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-03-30T01:33:00Z", "updated_at": "2019-04-11T19:19:59Z", "closed_at": "2019-04-11T19:19:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It would be nice to be able to directly run pylint on PRs rather than importing them into Google and then finding out whether they contain lint errors. We can add a .pylintrc file and use options like\r\n```\r\n[FORMAT]\r\nindent-string='  '\r\n```\r\nto get the right configuration.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/277", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/277/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/277/events", "html_url": "https://github.com/google/pytype/issues/277", "id": 427224068, "node_id": "MDU6SXNzdWU0MjcyMjQwNjg=", "number": 277, "title": "Shorten intermediate output.", "user": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-30T00:51:56Z", "updated_at": "2019-04-02T11:21:50Z", "closed_at": "2019-04-01T22:42:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, as pytype runs, at every step it prints `pytype-single --analyze-annotated --module-name my_module {blah, blah, blah} /long/absolute/path/my_module.py` to the terminal. ninja rules have a `description` key that we can use to shorten the output to something like `infer my_module`. We can run ninja with the `--verbose` flag when pytype has verbosity=2 to get the full output.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/274", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/274/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/274/events", "html_url": "https://github.com/google/pytype/issues/274", "id": 427108576, "node_id": "MDU6SXNzdWU0MjcxMDg1NzY=", "number": 274, "title": "pytype fails analyzing module that imports requests", "user": {"login": "tbradley-sans", "id": 44274661, "node_id": "MDQ6VXNlcjQ0Mjc0NjYx", "avatar_url": "https://avatars0.githubusercontent.com/u/44274661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbradley-sans", "html_url": "https://github.com/tbradley-sans", "followers_url": "https://api.github.com/users/tbradley-sans/followers", "following_url": "https://api.github.com/users/tbradley-sans/following{/other_user}", "gists_url": "https://api.github.com/users/tbradley-sans/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbradley-sans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbradley-sans/subscriptions", "organizations_url": "https://api.github.com/users/tbradley-sans/orgs", "repos_url": "https://api.github.com/users/tbradley-sans/repos", "events_url": "https://api.github.com/users/tbradley-sans/events{/privacy}", "received_events_url": "https://api.github.com/users/tbradley-sans/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-03-29T17:55:44Z", "updated_at": "2019-05-06T22:29:34Z", "closed_at": "2019-05-06T22:29:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying out pytype for the first time, but it chokes on my project. In particular, it's unable to analyze any Python source that imports requests.\r\n\r\nHere is the error message, in context:\r\n```\r\n(venv) C02XV3JRJGH5:~ tbradley$ pytype example.py \r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/Users/tbradley/pytype_output'\r\n[1/1] pytype-single --imports_info /Users/tbradley/pytype_output/imports/example.imports --module-name exampl.../Users/tbradley/pytype_output/pyi/example.pyi --analyze-annotated --nofail --quick /Users/tbradley/example.p\r\nFAILED: /Users/tbradley/pytype_output/pyi/example.pyi \r\npytype-single --imports_info /Users/tbradley/pytype_output/imports/example.imports --module-name example -V 3.6 -o /Users/tbradley/pytype_output/pyi/example.pyi --analyze-annotated --nofail --quick /Users/tbradley/example.py\r\nFile \"/Users/tbradley/example.py\", line 1, in <module>: Couldn't import pyi for 'requests' [pyi-error]\r\n  Can't find pyi for 'urllib3_exceptions', referenced from 'requests.models'\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#pyi-error.\r\nninja: build stopped: subcommand failed.\r\n(venv) C02XV3JRJGH5:~ tbradley$ python example.py \r\nhello\r\n(venv) C02XV3JRJGH5:~ tbradley$ python --version\r\nPython 3.6.7\r\n```\r\n\r\nAnd here is example.py:\r\n```\r\nimport requests\r\n\r\nprint(\"hello\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/270", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/270/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/270/events", "html_url": "https://github.com/google/pytype/issues/270", "id": 425223357, "node_id": "MDU6SXNzdWU0MjUyMjMzNTc=", "number": 270, "title": "`python_version` in generated pytype.cfg is different from its python version", "user": {"login": "tamuhey", "id": 24998666, "node_id": "MDQ6VXNlcjI0OTk4NjY2", "avatar_url": "https://avatars2.githubusercontent.com/u/24998666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamuhey", "html_url": "https://github.com/tamuhey", "followers_url": "https://api.github.com/users/tamuhey/followers", "following_url": "https://api.github.com/users/tamuhey/following{/other_user}", "gists_url": "https://api.github.com/users/tamuhey/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamuhey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamuhey/subscriptions", "organizations_url": "https://api.github.com/users/tamuhey/orgs", "repos_url": "https://api.github.com/users/tamuhey/repos", "events_url": "https://api.github.com/users/tamuhey/events{/privacy}", "received_events_url": "https://api.github.com/users/tamuhey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116340, "node_id": "MDU6TGFiZWwxODkxMTYzNDA=", "url": "https://api.github.com/repos/google/pytype/labels/enhancement", "name": "enhancement", "color": "0e8a16", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-26T04:37:10Z", "updated_at": "2019-03-27T21:38:38Z", "closed_at": "2019-03-27T21:38:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for this great tool!\r\n\r\nI use pytype with virtualenv, and the python version is 3.7:\r\n```\r\n$ python --version\r\nPython 3.7.2\r\n```\r\nand install pytype with pip:\r\n```\r\n$ python -m pip install pytype\r\n```\r\nand generate pytype.cfg:\r\n```\r\n$ pytype --generate-config pytype.cfg\r\n```\r\nbut the `python_version` field of `pytype.cfg` is not 3.7, which is the version of venv Python:\r\n```pytest.cfg\r\npython_version = 3.6\r\n```\r\n\r\nIs it possible that make the  `python_version` field same as its venv Python version when `pytype.cfg` is generated?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/269", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/269/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/269/events", "html_url": "https://github.com/google/pytype/issues/269", "id": 424415225, "node_id": "MDU6SXNzdWU0MjQ0MTUyMjU=", "number": 269, "title": "xref crashes with AttributeError: 'LateAnnotation' object has no attribute 'Bindings'", "user": {"login": "kamahen", "id": 34629301, "node_id": "MDQ6VXNlcjM0NjI5MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/34629301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kamahen", "html_url": "https://github.com/kamahen", "followers_url": "https://api.github.com/users/kamahen/followers", "following_url": "https://api.github.com/users/kamahen/following{/other_user}", "gists_url": "https://api.github.com/users/kamahen/gists{/gist_id}", "starred_url": "https://api.github.com/users/kamahen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kamahen/subscriptions", "organizations_url": "https://api.github.com/users/kamahen/orgs", "repos_url": "https://api.github.com/users/kamahen/repos", "events_url": "https://api.github.com/users/kamahen/events{/privacy}", "received_events_url": "https://api.github.com/users/kamahen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1167088784, "node_id": "MDU6TGFiZWwxMTY3MDg4Nzg0", "url": "https://api.github.com/repos/google/pytype/labels/Pytype%20Fixit", "name": "Pytype Fixit", "color": "f9d0c4", "default": false, "description": ""}, {"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2019-03-22T21:59:37Z", "updated_at": "2019-10-11T20:18:21Z", "closed_at": "2019-10-11T20:18:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Clone https://github.com/kamahen/pykythe.git\r\nI don't think you need to install other the other pre-reqs to regenerate this bug; just run:\r\n```\r\nmake pytype\r\n```\r\nYou should see these lines in the output:\r\n```\r\npykythe/ast_cooked.py pytype_output/imports/pykythe.ast_cooked.imports /tmp/ast_cooked.xref.json\r\nPytype error: AttributeError: 'LateAnnotation' object has no attribute 'Bindings'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/266", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/266/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/266/events", "html_url": "https://github.com/google/pytype/issues/266", "id": 423891316, "node_id": "MDU6SXNzdWU0MjM4OTEzMTY=", "number": 266, "title": "attribute-error with metaclass", "user": {"login": "rectalogic", "id": 11581, "node_id": "MDQ6VXNlcjExNTgx", "avatar_url": "https://avatars1.githubusercontent.com/u/11581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rectalogic", "html_url": "https://github.com/rectalogic", "followers_url": "https://api.github.com/users/rectalogic/followers", "following_url": "https://api.github.com/users/rectalogic/following{/other_user}", "gists_url": "https://api.github.com/users/rectalogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/rectalogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rectalogic/subscriptions", "organizations_url": "https://api.github.com/users/rectalogic/orgs", "repos_url": "https://api.github.com/users/rectalogic/repos", "events_url": "https://api.github.com/users/rectalogic/events{/privacy}", "received_events_url": "https://api.github.com/users/rectalogic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-21T18:56:37Z", "updated_at": "2019-03-21T19:23:01Z", "closed_at": "2019-03-21T19:23:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "pytype doesn't handle metaclasses properly.\r\n\r\n```python\r\nclass ModelBase(type):\r\n    def __new__(mcs, name, bases, attrs):\r\n        new_class = super(ModelBase, mcs).__new__(mcs, name, bases, attrs)\r\n        new_class.foo()\r\n        return new_class\r\n\r\n    def foo(cls):\r\n        print(cls.someattr)\r\n\r\n\r\nclass Model(metaclass=ModelBase):\r\n    someattr = \"hello\"\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    m = Model()\r\n    Model.foo()\r\n```\r\n\r\n```sh-session\r\n$ pytype meta.py\r\nComputing dependencies\r\nAnalyzing 1 sources with 0 local dependencies\r\nninja: Entering directory `/home/cureatr/dev/cureatr/experiments/pytype_output'\r\n[1/1] pytype-single --imports_info /home/cur...home/cureatr/dev/cureatr/experiments/meta.py\r\nFAILED: /home/cureatr/dev/cureatr/experiments/pytype_output/pyi/meta.pyi\r\npytype-single --imports_info /home/cureatr/dev/cureatr/experiments/pytype_output/imports/meta.imports --module-name meta -V 3.7 -o /home/cureatr/dev/cureatr/experiments/pytype_output/pyi/meta.pyi --analyze-annotated --nofail --quick /home/cureatr/dev/cureatr/experiments/meta.py\r\nFile \"/home/cureatr/dev/cureatr/experiments/meta.py\", line 8, in foo: No attribute 'someattr' on ModelBase [attribute-error]\r\n\r\nFor more details, see https://google.github.io/pytype/errors.html#attribute-error.\r\nninja: build stopped: subcommand failed.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/265", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/265/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/265/events", "html_url": "https://github.com/google/pytype/issues/265", "id": 423818861, "node_id": "MDU6SXNzdWU0MjM4MTg4NjE=", "number": 265, "title": "Default ast library", "user": {"login": "andreinaku", "id": 13345836, "node_id": "MDQ6VXNlcjEzMzQ1ODM2", "avatar_url": "https://avatars0.githubusercontent.com/u/13345836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreinaku", "html_url": "https://github.com/andreinaku", "followers_url": "https://api.github.com/users/andreinaku/followers", "following_url": "https://api.github.com/users/andreinaku/following{/other_user}", "gists_url": "https://api.github.com/users/andreinaku/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreinaku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreinaku/subscriptions", "organizations_url": "https://api.github.com/users/andreinaku/orgs", "repos_url": "https://api.github.com/users/andreinaku/repos", "events_url": "https://api.github.com/users/andreinaku/events{/privacy}", "received_events_url": "https://api.github.com/users/andreinaku/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1284044293, "node_id": "MDU6TGFiZWwxMjg0MDQ0Mjkz", "url": "https://api.github.com/repos/google/pytype/labels/question", "name": "question", "color": "e29536", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-21T16:17:55Z", "updated_at": "2019-03-26T17:28:59Z", "closed_at": "2019-03-26T17:28:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! I was just browsing through the code and I was just wondering - is there a reason you don't use Python's **ast** library (i.e. https://docs.python.org/3/library/ast.html)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/256", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/256/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/256/events", "html_url": "https://github.com/google/pytype/issues/256", "id": 419017465, "node_id": "MDU6SXNzdWU0MTkwMTc0NjU=", "number": 256, "title": "Can't find module 'contextlib.AbstractContextManager'", "user": {"login": "NeilGirdhar", "id": 730137, "node_id": "MDQ6VXNlcjczMDEzNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/730137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NeilGirdhar", "html_url": "https://github.com/NeilGirdhar", "followers_url": "https://api.github.com/users/NeilGirdhar/followers", "following_url": "https://api.github.com/users/NeilGirdhar/following{/other_user}", "gists_url": "https://api.github.com/users/NeilGirdhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/NeilGirdhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NeilGirdhar/subscriptions", "organizations_url": "https://api.github.com/users/NeilGirdhar/orgs", "repos_url": "https://api.github.com/users/NeilGirdhar/repos", "events_url": "https://api.github.com/users/NeilGirdhar/events{/privacy}", "received_events_url": "https://api.github.com/users/NeilGirdhar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-03-09T01:27:59Z", "updated_at": "2019-03-13T01:31:01Z", "closed_at": "2019-03-13T01:16:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following line gives an error: `from contextlib import AbstractContextManager`.  `AbstractContextManager` has been in Python since version 3.6.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/246", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/246/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/246/events", "html_url": "https://github.com/google/pytype/issues/246", "id": 415043488, "node_id": "MDU6SXNzdWU0MTUwNDM0ODg=", "number": 246, "title": "Add license to sdist", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-27T10:10:16Z", "updated_at": "2019-03-01T23:40:39Z", "closed_at": "2019-03-01T23:40:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is a legal requirement that the LICENSE is included in any distribution of the code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/245", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/245/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/245/events", "html_url": "https://github.com/google/pytype/issues/245", "id": 415030508, "node_id": "MDU6SXNzdWU0MTUwMzA1MDg=", "number": 245, "title": "Add test data to sdist", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-02-27T09:41:26Z", "updated_at": "2019-03-06T18:18:30Z", "closed_at": "2019-03-06T18:18:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to run the tests in the sdist results in an error that `test_data` doesnt exist.\r\n\r\n`setup.py test` should work out of the box, or at least the docs should indicate how to get it working, e.g. where to fetch extra test data from.\r\n\r\nIm currently trying to package for openSUSE, and in rpmbuild can not use git submodules.\r\n\r\nAlmost working, building from the github archive, and will share it here when done.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/google/pytype/issues/244", "repository_url": "https://api.github.com/repos/google/pytype", "labels_url": "https://api.github.com/repos/google/pytype/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/google/pytype/issues/244/comments", "events_url": "https://api.github.com/repos/google/pytype/issues/244/events", "html_url": "https://github.com/google/pytype/issues/244", "id": 411717385, "node_id": "MDU6SXNzdWU0MTE3MTczODU=", "number": 244, "title": "Awaitable vs. Generator[Any, None, ResultType] in asyncio API's [bad-return-type]", "user": {"login": "byllyfish", "id": 105391, "node_id": "MDQ6VXNlcjEwNTM5MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/105391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/byllyfish", "html_url": "https://github.com/byllyfish", "followers_url": "https://api.github.com/users/byllyfish/followers", "following_url": "https://api.github.com/users/byllyfish/following{/other_user}", "gists_url": "https://api.github.com/users/byllyfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/byllyfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/byllyfish/subscriptions", "organizations_url": "https://api.github.com/users/byllyfish/orgs", "repos_url": "https://api.github.com/users/byllyfish/repos", "events_url": "https://api.github.com/users/byllyfish/events{/privacy}", "received_events_url": "https://api.github.com/users/byllyfish/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 189116338, "node_id": "MDU6TGFiZWwxODkxMTYzMzg=", "url": "https://api.github.com/repos/google/pytype/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rchen152", "id": 4142312, "node_id": "MDQ6VXNlcjQxNDIzMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4142312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchen152", "html_url": "https://github.com/rchen152", "followers_url": "https://api.github.com/users/rchen152/followers", "following_url": "https://api.github.com/users/rchen152/following{/other_user}", "gists_url": "https://api.github.com/users/rchen152/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchen152/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchen152/subscriptions", "organizations_url": "https://api.github.com/users/rchen152/orgs", "repos_url": "https://api.github.com/users/rchen152/repos", "events_url": "https://api.github.com/users/rchen152/events{/privacy}", "received_events_url": "https://api.github.com/users/rchen152/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-02-19T02:33:55Z", "updated_at": "2019-06-22T00:16:22Z", "closed_at": "2019-06-22T00:16:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using pytype 2019.02.13 with python 3.7.1 and 3.6.5, when I use an asyncio API, I receive a bad-return-type warning:\r\n\r\nHere's an example using the first few lines from the sample code (https://docs.python.org/3/library/asyncio-stream.html):\r\n\r\n```python\r\nimport asyncio\r\n\r\nasync def tcp_echo_client(message):\r\n    reader, writer = await asyncio.open_connection( '127.0.0.1', 8888)\r\n```\r\n\r\nHere are is the warning:\r\n\r\n```\r\nFile \"/test_awaitable1.py\", line 4, in tcp_echo_client: bad option in return type [bad-return-type]\r\n  Expected: Awaitable\r\n  Actually returned: Generator[Any, None, Tuple[asyncio.streams.StreamReader, asyncio.streams.StreamWriter]]\r\n```\r\n\r\nThe warnings seems to happen for all free async functions in asyncio. In typeshed, they are annotated to return the Generator type, but it's not coercing into an Awaitable.\r\n\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}]}