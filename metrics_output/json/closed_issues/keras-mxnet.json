{"total_count": 66, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/251", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/251/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/251/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/251", "id": 534358382, "node_id": "MDU6SXNzdWU1MzQzNTgzODI=", "number": 251, "title": "Issues with setting MXNet context", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-07T05:41:50Z", "updated_at": "2019-12-09T17:36:33Z", "closed_at": "2019-12-07T20:03:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I'm creating this issue based on conversation from a keras-mxnet user on changes in latest keras-mxnet:\r\n\r\n> Setting the context (number of GPUs or CPU) has changed due to the underlying changes in MXNet-1.5.x and this breaks for us.\r\nIf the context is provided in model.compile(), it is still using the older method, and fails:\r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/master/keras/backend/mxnet_backend.py#L5404\r\nRelated to context, there are a few other issues that are problematic:\r\n>- For some reason, model.set_mxnet_context() does not allow specifying a single GPU, and I don't see any reason why it should not be allowed. If we're training multiple models on a host with multiple GPUs, this will help us specify different GPUs for different training processes.\r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/master/keras/backend/mxnet_backend.py#L5696\r\n>- Another issue existed in the earlier version, as well, but would be good to fix, as we have to work around it currently. The context can be passed in while creating a new model, but \"context\" is not a supported keyword in the parent class and this results in an exception.\r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/master/keras/backend/mxnet_backend.py#L5348\r\n\r\n\r\n## Here are the reproducible steps.\r\nUsing examples/mnist_mlp.py\r\n\r\n### Test case 1: pass context during compile\r\nChange [line45](https://github.com/awslabs/keras-apache-mxnet/blob/master/examples/mnist_mlp.py#L45) to the following:\r\n```\r\nmodel.compile(loss='categorical_crossentropy',\r\n              optimizer=RMSprop(),\r\n              metrics=['accuracy'], context=\"gpu(1)\")\r\n```\r\nerror\r\n```\r\nTraceback (most recent call last):\r\n  File \"examples/cifar10_resnet.py\", line 338, in <module>\r\n    metrics=['accuracy'], context=\"gpu(0)\")\r\n  File \"/usr/local/lib/python2.7/dist-packages/keras/backend/mxnet_backend.py\", line 5404, in compile\r\n    self._context = self.get_mxnet_context(kwargs['context'])\r\nAttributeError: 'Model' object has no attribute 'get_mxnet_context'\r\n```\r\n\r\n### Test case 2: pass context during model initialization\r\nChange [line 36](https://github.com/awslabs/keras-apache-mxnet/blob/master/examples/mnist_mlp.py#L36) to\r\n```\r\nmodel = Sequential(context=\"gpu(1)\")\r\n```\r\nerror\r\n```\r\nTraceback (most recent call last):\r\n  File \"examples/mnist_mlp.py\", line 36, in <module>\r\n    model = Sequential(context=\"gpu(1)\")\r\n  File \"/usr/local/lib/python2.7/dist-packages/keras/backend/mxnet_backend.py\", line 5745, in __init__\r\n    engine.Model.__init__(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/keras/backend/mxnet_backend.py\", line 5348, in __init__\r\n    super(Model, self).__init__(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/keras/legacy/interfaces.py\", line 91, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/keras/engine/network.py\", line 96, in __init__\r\n    self._init_subclassed_network(**kwargs)\r\nTypeError: _init_subclassed_network() got an unexpected keyword argument 'context'\r\n```\r\n\r\n### Test case 3: change context using model.set_mxnet_context\r\n\r\nadd a line before [model.compile](https://github.com/awslabs/keras-apache-mxnet/blob/master/examples/mnist_mlp.py#L45)\r\n```\r\nmodel.set_mxnet_context(\"gpu(1)\")\r\n```\r\nerror\r\n```\r\nTraceback (most recent call last):\r\n  File \"examples/mnist_mlp.py\", line 44, in <module>\r\n    model.set_mxnet_context(\"gpu(1)\")\r\n  File \"/usr/local/lib/python2.7/dist-packages/keras/backend/mxnet_backend.py\", line 5710, in set_mxnet_context\r\n    raise ValueError('MXNet Backend: Invalid context provided - %s' % context)\r\nValueError: MXNet Backend: Invalid context provided - gpu(1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/247", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/247/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/247/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/247", "id": 517245003, "node_id": "MDU6SXNzdWU1MTcyNDUwMDM=", "number": 247, "title": "Keras switch (K.switch) with mxnet backend", "user": {"login": "kirimaru-jp", "id": 57362026, "node_id": "MDQ6VXNlcjU3MzYyMDI2", "avatar_url": "https://avatars0.githubusercontent.com/u/57362026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kirimaru-jp", "html_url": "https://github.com/kirimaru-jp", "followers_url": "https://api.github.com/users/kirimaru-jp/followers", "following_url": "https://api.github.com/users/kirimaru-jp/following{/other_user}", "gists_url": "https://api.github.com/users/kirimaru-jp/gists{/gist_id}", "starred_url": "https://api.github.com/users/kirimaru-jp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kirimaru-jp/subscriptions", "organizations_url": "https://api.github.com/users/kirimaru-jp/orgs", "repos_url": "https://api.github.com/users/kirimaru-jp/repos", "events_url": "https://api.github.com/users/kirimaru-jp/events{/privacy}", "received_events_url": "https://api.github.com/users/kirimaru-jp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-04T15:57:38Z", "updated_at": "2019-11-04T16:13:01Z", "closed_at": "2019-11-04T16:13:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\n\r\nI'd like to use Keras `switch` function (Keras-MXNet 2.2.4.2) with mxnet-cu101 on Windows 10 x64, so I'm trying to run the following code but it didn't work\r\n\r\n```\r\nfrom keras import backend as K\r\nfrom keras.layers import Dense\r\nfrom keras.models import Sequential\r\n\r\ndef customized_loss(y_true, y_pred):\r\n    loss = K.switch(K.equal(y_true, -1), 0, K.square(y_true-y_pred))\r\n    return K.sum(loss)\r\n\r\nmodel = Sequential([ Dense(3, input_shape=(4,)) ])\r\nmodel.compile(loss=customized_loss, optimizer='sgd')\r\n```\r\n\r\nThe code is from [here](https://stackoverflow.com/a/38738401), but I used Mxnet instead of Theano.\r\n\r\nIt showed\r\n```\r\nUsing MXNet backend\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-2-22cee122aac0>\", line 10, in <module>\r\n    model.compile(loss=customized_loss, optimizer='sgd')\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\keras\\backend\\mxnet_backend.py\", line 5392, in compile\r\n    sample_weight_mode, **kwargs)\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\keras\\engine\\training.py\", line 342, in compile\r\n    sample_weight, mask)\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\keras\\engine\\training_utils.py\", line 412, in weighted\r\n    score_array = fn(y_true, y_pred)\r\n\r\n  File \"<ipython-input-2-22cee122aac0>\", line 6, in customized_loss\r\n    loss = K.switch(K.equal(y_true, -1), 0, K.square(y_true-y_pred))\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\keras\\backend\\mxnet_backend.py\", line 94, in func_wrapper\r\n    train_symbol = func(*args, **kwargs)\r\n\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\keras\\backend\\mxnet_backend.py\", line 3162, in switch\r\n    else_expression, KerasSymbol))\r\n\r\nAssertionError\r\n```\r\n\r\nHow could I fix that?\r\nThank you in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/243", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/243/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/243/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/243", "id": 479197354, "node_id": "MDU6SXNzdWU0NzkxOTczNTQ=", "number": 243, "title": "Regression with MxNet 1.5.0: Cannot apply softmax to a tensor that is 1D. Received input: Symbol: broadcast_add30", "user": {"login": "iamthebot", "id": 8432571, "node_id": "MDQ6VXNlcjg0MzI1NzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/8432571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamthebot", "html_url": "https://github.com/iamthebot", "followers_url": "https://api.github.com/users/iamthebot/followers", "following_url": "https://api.github.com/users/iamthebot/following{/other_user}", "gists_url": "https://api.github.com/users/iamthebot/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamthebot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamthebot/subscriptions", "organizations_url": "https://api.github.com/users/iamthebot/orgs", "repos_url": "https://api.github.com/users/iamthebot/repos", "events_url": "https://api.github.com/users/iamthebot/events{/privacy}", "received_events_url": "https://api.github.com/users/iamthebot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-09T23:12:40Z", "updated_at": "2019-08-19T11:59:16Z", "closed_at": "2019-08-19T11:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] If running on MXNet, check that you are up-to-date with the latest version. The installation\r\ninstructions can be found [here](http://mxnet.incubator.apache.org/install/index.html?platform=Linux&language=Python&processor=CPU)\r\n\r\nCrossposting apache/incubator-mxnet#15833\r\n\r\nLoading VGG16 is now currently broken with MxNet 1.5.0 and Keras-MxNet 2.2.4.1\r\n\r\n```\r\nfrom keras.applications.vgg16 import VGG16\r\nm = VGG16(weights=None, classes=365)\r\n```\r\n\r\nProduces\r\n\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-bb997f6d4e3d> in <module>\r\n----> 1 m = VGG16(weights=None, classes=365)\r\n\r\n~/.conda/envs/user/lib/python3.6/site-packages/keras/applications/__init__.py in wrapper(*args, **kwargs)\r\n     26             kwargs['models'] = models\r\n     27             kwargs['utils'] = utils\r\n---> 28         return base_fun(*args, **kwargs)\r\n     29 \r\n     30     return wrapper\r\n\r\n~/.conda/envs/user/lib/python3.6/site-packages/keras/applications/vgg16.py in VGG16(*args, **kwargs)\r\n      9 @keras_modules_injection\r\n     10 def VGG16(*args, **kwargs):\r\n---> 11     return vgg16.VGG16(*args, **kwargs)\r\n     12 \r\n     13 \r\n\r\n~/.conda/envs/user/lib/python3.6/site-packages/keras_applications/vgg16.py in VGG16(include_top, weights, input_tensor, input_shape, pooling, classes, **kwargs)\r\n    178         x = layers.Dense(4096, activation='relu', name='fc1')(x)\r\n    179         x = layers.Dense(4096, activation='relu', name='fc2')(x)\r\n--> 180         x = layers.Dense(classes, activation='softmax', name='predictions')(x)\r\n    181     else:\r\n    182         if pooling == 'avg':\r\n\r\n~/.conda/envs/user/lib/python3.6/site-packages/keras/engine/base_layer.py in __call__(self, inputs, **kwargs)\r\n    468             # Actually call the layer,\r\n    469             # collecting output(s), mask(s), and shape(s).\r\n--> 470             output = self.call(inputs, **kwargs)\r\n    471             output_mask = self.compute_mask(inputs, previous_mask)\r\n    472 \r\n\r\n~/.conda/envs/user/lib/python3.6/site-packages/keras/layers/core.py in call(self, inputs)\r\n    893             output = K.bias_add(output, self.bias, data_format='channels_last')\r\n    894         if self.activation is not None:\r\n--> 895             output = self.activation(output)\r\n    896         return output\r\n    897 \r\n\r\n~/.conda/envs/user/lib/python3.6/site-packages/keras/activations.py in softmax(x, axis)\r\n     34     else:\r\n     35         raise ValueError('Cannot apply softmax to a tensor that is 1D. '\r\n---> 36                          'Received input: %s' % x)\r\n     37 \r\n     38 \r\n\r\nValueError: Cannot apply softmax to a tensor that is 1D. Received input: Symbol: broadcast_add30\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/242", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/242/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/242/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/242", "id": 469982859, "node_id": "MDU6SXNzdWU0Njk5ODI4NTk=", "number": 242, "title": "Accuracy not improving for MNIST example with MXnet backend", "user": {"login": "jackgle", "id": 21147291, "node_id": "MDQ6VXNlcjIxMTQ3Mjkx", "avatar_url": "https://avatars1.githubusercontent.com/u/21147291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackgle", "html_url": "https://github.com/jackgle", "followers_url": "https://api.github.com/users/jackgle/followers", "following_url": "https://api.github.com/users/jackgle/following{/other_user}", "gists_url": "https://api.github.com/users/jackgle/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackgle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackgle/subscriptions", "organizations_url": "https://api.github.com/users/jackgle/orgs", "repos_url": "https://api.github.com/users/jackgle/repos", "events_url": "https://api.github.com/users/jackgle/events{/privacy}", "received_events_url": "https://api.github.com/users/jackgle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-18T20:49:56Z", "updated_at": "2019-08-25T17:10:03Z", "closed_at": "2019-08-25T17:10:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an AWS EC2 c4.2xlarge instance with Deep Learning Ubuntu AMI. When using the built-in environment mxnet_p36 and running the MNIST example here (https://github.com/awslabs/keras-apache-mxnet/blob/master/examples/mnist_cnn.py), I see no improvement in accuracy beyond 10% after several epochs. Switching to the tensorflow_p36 environment and running the same script obtains 70%+ over an epoch. I also tried installing mxnet-mkl and upgrading keras-mxnet. Please let me know of any ideas for this issue.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/241", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/241/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/241/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/241", "id": 469793255, "node_id": "MDU6SXNzdWU0Njk3OTMyNTU=", "number": 241, "title": "MXBoard with keras-mxnet", "user": {"login": "sdbonte", "id": 52530380, "node_id": "MDQ6VXNlcjUyNTMwMzgw", "avatar_url": "https://avatars0.githubusercontent.com/u/52530380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdbonte", "html_url": "https://github.com/sdbonte", "followers_url": "https://api.github.com/users/sdbonte/followers", "following_url": "https://api.github.com/users/sdbonte/following{/other_user}", "gists_url": "https://api.github.com/users/sdbonte/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdbonte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdbonte/subscriptions", "organizations_url": "https://api.github.com/users/sdbonte/orgs", "repos_url": "https://api.github.com/users/sdbonte/repos", "events_url": "https://api.github.com/users/sdbonte/events{/privacy}", "received_events_url": "https://api.github.com/users/sdbonte/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-18T14:12:09Z", "updated_at": "2019-07-22T12:02:02Z", "closed_at": "2019-07-22T12:02:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] Check that you are up-to-date with the master branch of Keras. You can update with:\r\n`pip install git+git://github.com/keras-team/keras.git --upgrade --no-deps`\r\n\r\n- [x] Check that your version of TensorFlow is up-to-date. The installation instructions can be found [here](https://www.tensorflow.org/get_started/os_setup).\r\n\r\n- [x] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).\r\n\r\nIs MXBoard supported in Keras with MXNet backend? I managed to get my network (which I previously used with the TensorFlow backend) training with the MXNet backend, but now I want to monitor the performance as I was used to with TensorBoard. This is what I tried:\r\n```from mxboard import SummaryWriter\r\nfrom keras.losses import mean_squared_error\r\nsw = SummaryWriter(logdir=\"logs/test\", flush_secs=10)\r\nsw.add_scalar(tag='training_MSE', value=mean_squared_error)\r\n```\r\nbut this gives the following error:\r\n`TypeError: _make_numpy_array only accepts input types of numpy.ndarray, scalar, and MXNet NDArray, while received type <class 'function'>`\r\n\r\nHow can MXBoard be used in Keras?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/234", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/234/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/234/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/234", "id": 454347411, "node_id": "MDU6SXNzdWU0NTQzNDc0MTE=", "number": 234, "title": "update keras-mxnet pip packages", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-10T20:03:51Z", "updated_at": "2019-08-20T15:58:40Z", "closed_at": "2019-08-20T15:58:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "There has been 9 commits to master branch since keras-mxnet 2.2.4.1 release.\r\nWe need to include these changes in keras-mxnet --pre package or make a new 2.2.4.2 patch release.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/230", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/230/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/230/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/230", "id": 430594294, "node_id": "MDU6SXNzdWU0MzA1OTQyOTQ=", "number": 230, "title": "change how mxnet backend detect gpus", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-08T18:26:35Z", "updated_at": "2019-08-20T16:03:04Z", "closed_at": "2019-08-20T16:03:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently the way mxnet backend detect number of gpus does not work on some of the platforms, it relies on running `nvidia-smi` command line which is not available on all operating systems. \r\nref:\r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/master/keras/backend/mxnet_backend.py#L5578\r\nNeed a better way and warning message to automatically detect gpus.\r\n\r\nCurrent work arounds is to manually specify gpus through `context` on other platforms\r\n```\r\nmodel.compile( ... , context=[\"gpu(0)\", \"gpu(1)\"]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/227", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/227/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/227/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/227", "id": 417882701, "node_id": "MDU6SXNzdWU0MTc4ODI3MDE=", "number": 227, "title": "Unable to export to mxnet (unless immediately after training)", "user": {"login": "4sfaloth", "id": 8202087, "node_id": "MDQ6VXNlcjgyMDIwODc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8202087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/4sfaloth", "html_url": "https://github.com/4sfaloth", "followers_url": "https://api.github.com/users/4sfaloth/followers", "following_url": "https://api.github.com/users/4sfaloth/following{/other_user}", "gists_url": "https://api.github.com/users/4sfaloth/gists{/gist_id}", "starred_url": "https://api.github.com/users/4sfaloth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/4sfaloth/subscriptions", "organizations_url": "https://api.github.com/users/4sfaloth/orgs", "repos_url": "https://api.github.com/users/4sfaloth/repos", "events_url": "https://api.github.com/users/4sfaloth/events{/privacy}", "received_events_url": "https://api.github.com/users/4sfaloth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 736930000, "node_id": "MDU6TGFiZWw3MzY5MzAwMDA=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-06T16:03:24Z", "updated_at": "2019-03-07T09:48:54Z", "closed_at": "2019-03-07T09:48:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please make sure that the boxes below are checked before you submit your issue.\r\nIf your issue is an **implementation question**, please ask your question on [StackOverflow](http://stackoverflow.com/questions/tagged/keras) or [on the Keras Slack channel](https://keras-slack-autojoin.herokuapp.com/) instead of opening a GitHub issue.\r\n\r\nThank you!\r\n\r\n- [ X] Check that you are up-to-date with the master branch of Keras. You can update with:\r\n`pip install git+git://github.com/keras-team/keras.git --upgrade --no-deps`\r\n\r\n- [X ] Check that your version of TensorFlow is up-to-date. The installation instructions can be found [here](https://www.tensorflow.org/get_started/os_setup).\r\n\r\n- [ X] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).\r\n\r\nAs the title says, I am only able to export the model to mxnet format (via keras.models.save_mxnet_model) immediately after training. That is, if I run the save_mxnet_model at the end of my training script, I get the mxnet files alright. But if I tried to load the keras .h5 file from disk and then run the save_mxnet_model I get this weird error\r\n\r\n_...lib\\site-packages\\keras\\engine\\saving.py\", line 82, in save_mxnet_model\r\n    pred_module = module._buckets['pred']\r\nKeyError: 'pred'_\r\n\r\nAny ideas on what may be causing this?\r\n\r\nI am using keras-mxnet 2.2.4.1 and mxnet 1.4.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/204", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/204/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/204/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/204", "id": 374138244, "node_id": "MDU6SXNzdWUzNzQxMzgyNDQ=", "number": 204, "title": "sparse inference benchmark units", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 935671278, "node_id": "MDU6TGFiZWw5MzU2NzEyNzg=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/docs", "name": "docs", "color": "e52d9c", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-25T21:22:43Z", "updated_at": "2018-10-30T18:51:08Z", "closed_at": "2018-10-30T18:51:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "https://github.com/awslabs/keras-apache-mxnet/blob/master/benchmark/sparse/linear_regression/inference_benchmark.md\r\n\r\nThe units for inference should be images/secs instead of time/batch. it can be calculated from our current result", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/191", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/191/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/191/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/191", "id": 367311873, "node_id": "MDU6SXNzdWUzNjczMTE4NzM=", "number": 191, "title": "NotImplementedError: MXNet Backend: map_fn operator is not supported yet.", "user": {"login": "thomelane", "id": 4902813, "node_id": "MDQ6VXNlcjQ5MDI4MTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/4902813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomelane", "html_url": "https://github.com/thomelane", "followers_url": "https://api.github.com/users/thomelane/followers", "following_url": "https://api.github.com/users/thomelane/following{/other_user}", "gists_url": "https://api.github.com/users/thomelane/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomelane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomelane/subscriptions", "organizations_url": "https://api.github.com/users/thomelane/orgs", "repos_url": "https://api.github.com/users/thomelane/repos", "events_url": "https://api.github.com/users/thomelane/events{/privacy}", "received_events_url": "https://api.github.com/users/thomelane/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 931908288, "node_id": "MDU6TGFiZWw5MzE5MDgyODg=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/feature%20request", "name": "feature request", "color": "5319e7", "default": false, "description": ""}, {"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-05T18:01:53Z", "updated_at": "2018-10-13T01:26:28Z", "closed_at": "2018-10-13T01:26:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Custom metric for IOU is implemented using Keras backend functions, but the `map_fn` operator is not implemented for MXNet Backend.\r\n\r\n```\r\ns = K.map_fn(lambda thresh: iou > thresh, thresholds)\r\n```\r\n\r\nSee https://discuss.mxnet.io/t/keras-mxnet-custommetric/1952 for more details.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/180", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/180/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/180/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/180", "id": 363716035, "node_id": "MDU6SXNzdWUzNjM3MTYwMzU=", "number": 180, "title": "Disable test_multi_hot_sparse_categorical_crossentropy in Tensorflow backend", "user": {"login": "kalyc", "id": 8603626, "node_id": "MDQ6VXNlcjg2MDM2MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8603626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalyc", "html_url": "https://github.com/kalyc", "followers_url": "https://api.github.com/users/kalyc/followers", "following_url": "https://api.github.com/users/kalyc/following{/other_user}", "gists_url": "https://api.github.com/users/kalyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalyc/subscriptions", "organizations_url": "https://api.github.com/users/kalyc/orgs", "repos_url": "https://api.github.com/users/kalyc/repos", "events_url": "https://api.github.com/users/kalyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kalyc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971774706, "node_id": "MDU6TGFiZWw5NzE3NzQ3MDY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/CI", "name": "CI", "color": "b60205", "default": false, "description": "CI and testing"}, {"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-25T18:43:25Z", "updated_at": "2018-09-28T21:21:05Z", "closed_at": "2018-09-28T21:21:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Disable `test_multi_hot_sparse_categorical_crossentropy` for tensorflow backend - \r\n\r\n__________________________________________________________________ test_multi_hot_sparse_categorical_crossentropy ___________________________________________________________________\r\n[gw1] darwin -- Python 3.4.5 /anaconda2/envs/mxnet/bin/python\r\n\r\n    def test_multi_hot_sparse_categorical_crossentropy():\r\n        y_true_np = np.array([[0, 1, 1], [1, 0, 1], [1, 0, 0]])\r\n        y_pred_np = np.array([[0.1, 0.4, 0.5],\r\n                              [0.4, 0.2, 0.4],\r\n                              [0.7, 0.2, 0.1]])\r\n        y_true_np2 = np.array([[1, 2], [0, 2], [0]])\r\n        loss = K.eval(losses.categorical_crossentropy(K.variable(y_true_np), K.variable(y_pred_np)))\r\n    \r\n        # pad labels to have the same size, use -1 to differentiate from normal class labels\r\n        y_true_np2 = keras.preprocessing.sequence.pad_sequences(y_true_np2, value=-1)\r\n        y_pred2 = K.variable(y_pred_np)\r\n        y_true2 = K.variable(y_true_np2)\r\n>       loss2 = K.eval(losses.multi_hot_sparse_categorical_crossentropy(y_true2, y_pred2))\r\n\r\ntests/keras/losses_test.py:124: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ny_true = <tf.Variable 'Variable_30:0' shape=(3, 2) dtype=float32_ref>, y_pred = <tf.Variable 'Variable_29:0' shape=(3, 3) dtype=float32_ref>\r\n\r\n    def multi_hot_sparse_categorical_crossentropy(y_true, y_pred):\r\n        if K.backend() != 'mxnet':\r\n>           raise NotImplementedError('multi_hot_sparse_categorical_crossentropy '\r\n                                      'is only available in MXNet backend')\r\n`E  NotImplementedError: multi_hot_sparse_categorical_crossentropy is only available in MXNet backend`\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/179", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/179/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/179/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/179", "id": 363706540, "node_id": "MDU6SXNzdWUzNjM3MDY1NDA=", "number": 179, "title": "Enable sparse_concat test", "user": {"login": "kalyc", "id": 8603626, "node_id": "MDQ6VXNlcjg2MDM2MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8603626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalyc", "html_url": "https://github.com/kalyc", "followers_url": "https://api.github.com/users/kalyc/followers", "following_url": "https://api.github.com/users/kalyc/following{/other_user}", "gists_url": "https://api.github.com/users/kalyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalyc/subscriptions", "organizations_url": "https://api.github.com/users/kalyc/orgs", "repos_url": "https://api.github.com/users/kalyc/repos", "events_url": "https://api.github.com/users/kalyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kalyc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-25T18:17:30Z", "updated_at": "2018-09-27T22:45:32Z", "closed_at": "2018-09-27T22:45:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Enable sparse_concat test which was disabled in this PR - https://github.com/awslabs/keras-apache-mxnet/pull/177\r\n\r\nThis test was failing as there are no bind values in the KerasSymbol and because of this whenever this symbol was evaluated in forward pass, we cannot conclude if its sparse or not. \r\nWe need a way in which we can check if tensor is sparse by adding an attribute to it (such as stype). ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/176", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/176/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/176/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/176", "id": 362807114, "node_id": "MDU6SXNzdWUzNjI4MDcxMTQ=", "number": 176, "title": "CI is not reporting status correctly", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971774706, "node_id": "MDU6TGFiZWw5NzE3NzQ3MDY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/CI", "name": "CI", "color": "b60205", "default": false, "description": "CI and testing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-22T00:01:43Z", "updated_at": "2018-09-28T21:22:14Z", "closed_at": "2018-09-28T21:22:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "currently in CI we run unit tests and style tests [here](https://github.com/awslabs/keras-apache-mxnet/tree/master/keras_mxnet_ci)\r\nWhen unit tests failed but style test passes, it still shows status passed.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/175", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/175/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/175/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/175", "id": 362344730, "node_id": "MDU6SXNzdWUzNjIzNDQ3MzA=", "number": 175, "title": "remove version check in mxnet backend when using foreach operator", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971774706, "node_id": "MDU6TGFiZWw5NzE3NzQ3MDY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/CI", "name": "CI", "color": "b60205", "default": false, "description": "CI and testing"}], "state": "closed", "locked": false, "assignee": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-09-20T20:04:20Z", "updated_at": "2019-03-01T00:02:22Z", "closed_at": "2019-03-01T00:02:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "currently foreach operator is used in mxnet backend, but it requires mxnet 1.3.1(nightly build of latest master) so we are checking versions there. We will remove it once mxnet 1.3.1 stable version released.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/174", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/174/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/174/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/174", "id": 361946653, "node_id": "MDU6SXNzdWUzNjE5NDY2NTM=", "number": 174, "title": "Result from K.equal has wrong shape?", "user": {"login": "y-lu", "id": 20908254, "node_id": "MDQ6VXNlcjIwOTA4MjU0", "avatar_url": "https://avatars2.githubusercontent.com/u/20908254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y-lu", "html_url": "https://github.com/y-lu", "followers_url": "https://api.github.com/users/y-lu/followers", "following_url": "https://api.github.com/users/y-lu/following{/other_user}", "gists_url": "https://api.github.com/users/y-lu/gists{/gist_id}", "starred_url": "https://api.github.com/users/y-lu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y-lu/subscriptions", "organizations_url": "https://api.github.com/users/y-lu/orgs", "repos_url": "https://api.github.com/users/y-lu/repos", "events_url": "https://api.github.com/users/y-lu/events{/privacy}", "received_events_url": "https://api.github.com/users/y-lu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-19T22:09:29Z", "updated_at": "2018-09-27T23:05:42Z", "closed_at": "2018-09-27T23:05:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please make sure that the boxes below are checked before you submit your issue. If your issue is an implementation question, please ask your question on [StackOverflow](http://stackoverflow.com/questions/tagged/keras) or [join the Keras Slack channel](https://keras-slack-autojoin.herokuapp.com/) and ask there instead of filing a GitHub issue.\r\n\r\nThank you!\r\n\r\n- [X] Check that you are up-to-date with the master branch of Keras. You can update with:\r\npip install git+git://github.com/awslabs/keras-apache-mxnet.git --upgrade --no-deps\r\n\r\n- [X] If running on MXNet, check that you are up-to-date with the latest version. The installation\r\ninstructions can be found [here](http://mxnet.incubator.apache.org/install/index.html?platform=Linux&language=Python&processor=CPU)\r\n- [ ] If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found [here](https://www.tensorflow.org/get_started/os_setup).\r\n\r\n- [ ] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:\r\npip install git+git://github.com/Theano/Theano.git --upgrade --no-deps\r\n\r\n- [ ] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).\r\n\r\n\r\nHere's how to reproduce the problem:\r\n\r\nimport mxnet as mx, keras.backend as K\r\n\r\na = mx.nd.ones(3)\r\n\r\na.shape                            # return (3,) as expected\r\nmx.nd.equal(a,a).shape   # return (3,) as expected\r\n\r\nK.equal(a,a).shape  # returns (3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), which is wrong\r\n\r\nThe same problem happens with other comparison operators (greater, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/172", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/172/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/172/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/172", "id": 359289863, "node_id": "MDU6SXNzdWUzNTkyODk4NjM=", "number": 172, "title": "Selecting different GPUs to train different networks", "user": {"login": "NTNguyen13", "id": 39985901, "node_id": "MDQ6VXNlcjM5OTg1OTAx", "avatar_url": "https://avatars0.githubusercontent.com/u/39985901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NTNguyen13", "html_url": "https://github.com/NTNguyen13", "followers_url": "https://api.github.com/users/NTNguyen13/followers", "following_url": "https://api.github.com/users/NTNguyen13/following{/other_user}", "gists_url": "https://api.github.com/users/NTNguyen13/gists{/gist_id}", "starred_url": "https://api.github.com/users/NTNguyen13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NTNguyen13/subscriptions", "organizations_url": "https://api.github.com/users/NTNguyen13/orgs", "repos_url": "https://api.github.com/users/NTNguyen13/repos", "events_url": "https://api.github.com/users/NTNguyen13/events{/privacy}", "received_events_url": "https://api.github.com/users/NTNguyen13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-12T02:18:02Z", "updated_at": "2018-09-13T04:41:21Z", "closed_at": "2018-09-13T04:41:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I really like the low memory usage of MXNet, I have 4 GPUs on the same computer, I want to use each of them for a different network training, so I can train 4 networks simultaneously. How can I utilize this feature in Keras with MXNet backend? Currently, when I initiate another training, they will still train on the same GPU and that hinders the performance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/169", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/169/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/169/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/169", "id": 358890995, "node_id": "MDU6SXNzdWUzNTg4OTA5OTU=", "number": 169, "title": "Kernel size (3) exceeds input (1 padded to 1)", "user": {"login": "NTNguyen13", "id": 39985901, "node_id": "MDQ6VXNlcjM5OTg1OTAx", "avatar_url": "https://avatars0.githubusercontent.com/u/39985901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NTNguyen13", "html_url": "https://github.com/NTNguyen13", "followers_url": "https://api.github.com/users/NTNguyen13/followers", "following_url": "https://api.github.com/users/NTNguyen13/following{/other_user}", "gists_url": "https://api.github.com/users/NTNguyen13/gists{/gist_id}", "starred_url": "https://api.github.com/users/NTNguyen13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NTNguyen13/subscriptions", "organizations_url": "https://api.github.com/users/NTNguyen13/orgs", "repos_url": "https://api.github.com/users/NTNguyen13/repos", "events_url": "https://api.github.com/users/NTNguyen13/events{/privacy}", "received_events_url": "https://api.github.com/users/NTNguyen13/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-11T05:23:57Z", "updated_at": "2018-09-12T07:33:57Z", "closed_at": "2018-09-12T07:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just started using MXNet as Backend for Keras, I have followed the guide as follow:\r\n1, Edit the keras.json file:\r\n```\r\n{\r\n    \"image_data_format\": \"channels_first\",\r\n    \"epsilon\": 1e-07,\r\n    \"floatx\": \"float32\",\r\n    \"backend\": \"mxnet\"\r\n}\r\n```\r\n\r\n2, Change the input method of my model:\r\n`input = Input(shape=(img_channels, img_height, img_width))\r\n`\r\n\r\nBut when I tried to stack Conv2D, I still got the warning message:\r\n```\r\nUserWarning: MXNet Backend performs best with `channels_first` format. Using `channels_last` will significantly reduce performance due to the Transpose operations. For performance improvement, please use this API`keras.utils.to_channels_first(x_input)`to transform `channels_last` data to `channels_first` format and also please change the `image_data_format` in `keras.json` to `channels_first`.Note: `x_input` is a Numpy tensor or a list of Numpy tensorRefer to: https://github.com/awslabs/keras-apache-mxnet/tree/master/docs/mxnet_backend/performance_guide.md\r\n  train_symbol = func(*args, **kwargs)\r\n```\r\n\r\nAnd when I tried to stack more layers, I got this errror:\r\n```\r\n  File \"/home/cngc3/anaconda3/envs/mxnet-gpu/lib/python3.5/site-packages/mxnet/base.py\", line 149, in check_call\r\n    raise MXNetError(py_str(_LIB.MXGetLastError()))\r\nmxnet.base.MXNetError: Error in operator max_pooling2d_6/pool2d1: [14:16:41] src/operator/nn/pooling.cc:141: Check failed: param.kernel[0] <= dshape[2] + 2 * param.pad[0] kernel size (3) exceeds input (1 padded to 1)\r\n```\r\n\r\nIf I use this input method:\r\n`input = Input(shape=(img_height, img_width, img_channels))\r\n`\r\n\r\nI still got the UserWarning message, but the network can train without any problem, although it is much slower.\r\n\r\nThank you for your help\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/165", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/165/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/165/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/165", "id": 357880733, "node_id": "MDU6SXNzdWUzNTc4ODA3MzM=", "number": 165, "title": "bug in sparse_categorical_accuracy", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-07T00:51:58Z", "updated_at": "2018-09-11T04:56:42Z", "closed_at": "2018-09-11T04:56:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "sparse categorical acc should have the same result as categorical acc.\r\n\r\nFor example, with 3 classes, given `sparse_true_label = [0, 1, 1]`, it's equivalent in categorical labels is `dense_true_label = [[1, 0, 0], [0, 1, 0], [0, 1, 0]]`. With the same predictions \r\n```\r\npred = [[0.7, 0.2, 0.1], \r\n[0.1, 0.1, 0.8], \r\n[0.2, 0.6, 0.2]]\r\n```\r\nThey should produce the same acc which is `[1, 0 ,1]`\r\n\r\nThe current implementation use max operator and produce a wrong output `[0, 0, 1]`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/152", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/152/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/152/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/152", "id": 349200857, "node_id": "MDU6SXNzdWUzNDkyMDA4NTc=", "number": 152, "title": "module 'keras.models' has no attribute 'save_mxnet_model'", "user": {"login": "Robchio", "id": 35502509, "node_id": "MDQ6VXNlcjM1NTAyNTA5", "avatar_url": "https://avatars1.githubusercontent.com/u/35502509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Robchio", "html_url": "https://github.com/Robchio", "followers_url": "https://api.github.com/users/Robchio/followers", "following_url": "https://api.github.com/users/Robchio/following{/other_user}", "gists_url": "https://api.github.com/users/Robchio/gists{/gist_id}", "starred_url": "https://api.github.com/users/Robchio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Robchio/subscriptions", "organizations_url": "https://api.github.com/users/Robchio/orgs", "repos_url": "https://api.github.com/users/Robchio/repos", "events_url": "https://api.github.com/users/Robchio/events{/privacy}", "received_events_url": "https://api.github.com/users/Robchio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 946518700, "node_id": "MDU6TGFiZWw5NDY1MTg3MDA=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/Pending%20Requester%20Info", "name": "Pending Requester Info", "color": "e2a114", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-09T16:27:47Z", "updated_at": "2018-08-10T16:01:08Z", "closed_at": "2018-08-10T16:01:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey gang - I've carefully uninstalled Keras, installed keras-apache-mxnet v. 2.1.5, altered the keras.json, loaded Keras and gotten the message \"Using MXNet backend\"\r\n\r\nI've successfully trained my model, and model.save('test.h5') seems to work...\r\n\r\nHowever, the following code throws and error\r\nk.models.save_mxnet_model(model=model, prefix='1d_Convo_model_2018-0809')\r\n\r\nAttributeError: module 'keras.models' has no attribute 'save_mxnet_model'\r\n\r\n\r\nprint(k.__version__)\r\n2.1.5\r\nWhat am I missing? \r\n\r\nAm I somehow not actually using keras-apache-mxnet?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/149", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/149/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/149/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/149", "id": 345764876, "node_id": "MDU6SXNzdWUzNDU3NjQ4NzY=", "number": 149, "title": ".forward \"hangs\" in a flask app.", "user": {"login": "GSanchis", "id": 1153028, "node_id": "MDQ6VXNlcjExNTMwMjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1153028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GSanchis", "html_url": "https://github.com/GSanchis", "followers_url": "https://api.github.com/users/GSanchis/followers", "following_url": "https://api.github.com/users/GSanchis/following{/other_user}", "gists_url": "https://api.github.com/users/GSanchis/gists{/gist_id}", "starred_url": "https://api.github.com/users/GSanchis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GSanchis/subscriptions", "organizations_url": "https://api.github.com/users/GSanchis/orgs", "repos_url": "https://api.github.com/users/GSanchis/repos", "events_url": "https://api.github.com/users/GSanchis/events{/privacy}", "received_events_url": "https://api.github.com/users/GSanchis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1009554700, "node_id": "MDU6TGFiZWwxMDA5NTU0NzAw", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/inference", "name": "inference", "color": "006b75", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-07-30T13:46:27Z", "updated_at": "2018-08-20T21:07:39Z", "closed_at": "2018-08-20T21:07:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear all,\r\n\r\nI must admit I'm not too sure about how to help dig deeper into the issue I am facing. Here goes a quick description:\r\n- Running python3.5, keras-mxnet 2.2.0, keras 2.2.2, mxnet 1.0.0 (although I have tried also with mxnet 1.2.1)\r\n- I'm building a flask app for serving the model, written in Keras, which includes a convolutional network for classifying text. Inputs are chars/words/BPE tokens, in one-shot representation, output is a dense layer.\r\n- I have a model defined and loaded outside the predict endpoint, so that subsequent calls to the predict endpoint do not require to reload the model each time.\r\n- When querying the predict endpoint, the first time around everything works fine. The second time, it gets stuck in the predict code and never comes back. Delving deep into the code of keras-mxnet, I found out that it gets stuck in the predict function defined in `_make_predict_function`, in line\r\n```                self._module.forward(batch, is_train=False)```\r\n(line 4840 of the current code, so basically, in the `forward` step). \r\nContext: https://github.com/awslabs/keras-apache-mxnet/blob/332c62f7b521b109431c0ef91317b2ce00e4cfb7/keras/backend/mxnet_backend.py#L4840\r\n\r\nNow. The interesting part is that this problem arises when using the latest Flask (1.0.2). However, using Flask 0.12.4 does not lead to this problem, and the predict endpoint can be queried as often as required.\r\n\r\nWe had a similar problem in the past using Keras with a TensorFlow backend, although that seemed to be due to session problems, and that's why we switched to MXNet. \r\n\r\nI'm not providing a simple code to reproduce the problem because, this being included in a Flask app, I'm not too sure what a \"minimal code\" would be, aside from the full code base.\r\n\r\nAny clues regarding what might be going on?\r\n\r\nThank you very much in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/146", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/146/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/146/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/146", "id": 345087768, "node_id": "MDU6SXNzdWUzNDUwODc3Njg=", "number": 146, "title": "Bug in K.equal operator", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-27T04:35:55Z", "updated_at": "2018-08-20T17:22:34Z", "closed_at": "2018-08-20T17:22:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The current K.equal(x, y) operator can not handle the situation when x and y have different shape with MXNet backend.\r\n\r\nReproducible code:\r\n```\r\nimport numpy as np\r\nfrom keras import backend as K\r\n\r\nx = K.variable(np.array([[1,2],[2,3]]))\r\ny = K.variable(np.array([[1],[3]]))\r\nprint(K.eval(K.equal(x, y)))\r\n```\r\n\r\nwith TensorFlow backend output is:\r\n```\r\n[[ True False]\r\n [False  True]]\r\n```\r\n\r\nwith MXNet backend, error msg:\r\n```\r\nUsing MXNet backend\r\n/Users/lawei/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nTraceback (most recent call last):\r\n  File \"/Users/lawei/anaconda3/lib/python3.6/site-packages/mxnet/symbol/symbol.py\", line 1522, in simple_bind\r\n    ctypes.byref(exe_handle)))\r\n  File \"/Users/lawei/anaconda3/lib/python3.6/site-packages/mxnet/base.py\", line 235, in check_call\r\n    raise MXNetError(py_str(_LIB.MXGetLastError()))\r\nmxnet.base.MXNetError: Error in operator _equal0: [21:31:53] src/operator/contrib/../tensor/../elemwise_op_common.h:133: Check failed: assign(&dattr, (*vec)[i]) Incompatible attr in node _equal0 at 1-th input: expected [2,2], got [2,1]\r\n\r\nStack trace returned 10 entries:\r\n[bt] (0) 0   libmxnet.so                         0x000000010ed336b4 libmxnet.so + 18100\r\n[bt] (1) 1   libmxnet.so                         0x000000010ed3346f libmxnet.so + 17519\r\n[bt] (2) 2   libmxnet.so                         0x000000010ed330e9 libmxnet.so + 16617\r\n[bt] (3) 3   libmxnet.so                         0x000000010ee37245 libmxnet.so + 1081925\r\n[bt] (4) 4   libmxnet.so                         0x000000010ee36ee3 libmxnet.so + 1081059\r\n[bt] (5) 5   libmxnet.so                         0x000000010ef93a5b libmxnet.so + 2509403\r\n[bt] (6) 6   libmxnet.so                         0x000000010fe956da MXNDListFree + 326538\r\n[bt] (7) 7   libmxnet.so                         0x000000010fe8ddec MXNDListFree + 295580\r\n[bt] (8) 8   libmxnet.so                         0x000000010fe80836 MXNDListFree + 240870\r\n[bt] (9) 9   libmxnet.so                         0x000000010fe863aa MXNDListFree + 264282\r\n\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/lawei/Documents/Workspace/roywei/keras/examples/test.py\", line 6, in <module>\r\n    print(K.eval(K.equal(x, y)))\r\n  File \"/Users/lawei/Documents/Workspace/roywei/keras/keras/backend/mxnet_backend.py\", line 554, in eval\r\n    executor = x.symbol.simple_bind(mx.cpu(), grad_req='null')\r\n  File \"/Users/lawei/anaconda3/lib/python3.6/site-packages/mxnet/symbol/symbol.py\", line 1528, in simple_bind\r\n    raise RuntimeError(error_msg)\r\nRuntimeError: simple_bind error. Arguments:\r\nError in operator _equal0: [21:31:53] src/operator/contrib/../tensor/../elemwise_op_common.h:133: Check failed: assign(&dattr, (*vec)[i]) Incompatible attr in node _equal0 at 1-th input: expected [2,2], got [2,1]\r\n\r\nStack trace returned 10 entries:\r\n[bt] (0) 0   libmxnet.so                         0x000000010ed336b4 libmxnet.so + 18100\r\n[bt] (1) 1   libmxnet.so                         0x000000010ed3346f libmxnet.so + 17519\r\n[bt] (2) 2   libmxnet.so                         0x000000010ed330e9 libmxnet.so + 16617\r\n[bt] (3) 3   libmxnet.so                         0x000000010ee37245 libmxnet.so + 1081925\r\n[bt] (4) 4   libmxnet.so                         0x000000010ee36ee3 libmxnet.so + 1081059\r\n[bt] (5) 5   libmxnet.so                         0x000000010ef93a5b libmxnet.so + 2509403\r\n[bt] (6) 6   libmxnet.so                         0x000000010fe956da MXNDListFree + 326538\r\n[bt] (7) 7   libmxnet.so                         0x000000010fe8ddec MXNDListFree + 295580\r\n[bt] (8) 8   libmxnet.so                         0x000000010fe80836 MXNDListFree + 240870\r\n[bt] (9) 9   libmxnet.so                         0x000000010fe863aa MXNDListFree + 264282\r\n```\r\n\r\nhowever, pure mxnet ndarray and symbol works fine:\r\n\r\n```import mxnet as mx\r\nx = mx.sym.Variable('x')\r\ny = mx.sym.Variable('y')\r\nresult = mx.sym.broadcast_equal(x, y)\r\ne = result.bind(mx.cpu(), {'x': mx.nd.array([[1,2],[2,3]]), 'y':mx.nd.array([[1],[3]])})\r\nprint(e.forward())\r\n```\r\nproduce\r\n```\r\n[\r\n[[1. 0.]\r\n [0. 1.]]\r\n<NDArray 2x2 @cpu(0)>]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/140", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/140/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/140/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/140", "id": 342892235, "node_id": "MDU6SXNzdWUzNDI4OTIyMzU=", "number": 140, "title": "dev2 branch pytest failure", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971774706, "node_id": "MDU6TGFiZWw5NzE3NzQ3MDY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/CI", "name": "CI", "color": "b60205", "default": false, "description": "CI and testing"}, {"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-19T21:15:31Z", "updated_at": "2018-08-20T17:21:11Z", "closed_at": "2018-08-20T17:21:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "checking out our dev2 branch and running `pytest tests/`\r\nfound 3 tests cases failed.\r\n```\r\ntests/keras/preprocessing/image_test.py::TestImage::test_deterministic_transform \r\ntests/test_model_saving.py::test_model_saving_to_binary_stream \r\ntests/integration_tests/imagenet_utils_test.py::test_preprocess_input\r\n```\r\nNot sure when was this introduced, and we need the PR CI fixed to catch this in PR.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/139", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/139/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/139/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/139", "id": 342129428, "node_id": "MDU6SXNzdWUzNDIxMjk0Mjg=", "number": 139, "title": "Confusing warning for loss function", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736930002, "node_id": "MDU6TGFiZWw3MzY5MzAwMDI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-07-17T23:59:47Z", "updated_at": "2018-08-25T00:07:07Z", "closed_at": "2018-08-25T00:07:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Running a simple example under examples/mnist_cnn.py will produce the following warning:\r\n```\r\n/Users/lawei/Documents/Workspace/roywei/keras/keras/losses.py:128: UserWarning: MXNet Backend: If you are using a custom loss function and use slice operator in custom loss function, please set the **_keras_shape** attribute of the loss tensor explicitly.\r\n\r\nWithout this workaround, you may encounter shape mismatch errors in the broadcast operations.\r\n\r\nFor more details - https://github.com/awslabs/keras-apache-mxnet/issues/120\r\n\r\n\r\n  warnings.warn('MXNet Backend: If you are using a custom loss function and use slice operator in custom '\r\n```\r\n\r\nAlthough it does not use any custom loss nor slice.\r\n```\r\nmodel.compile(loss=keras.losses.categorical_crossentropy,\r\n              optimizer=keras.optimizers.Adadelta(),\r\n              metrics=['accuracy'])\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/138", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/138/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/138/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/138", "id": 342068026, "node_id": "MDU6SXNzdWUzNDIwNjgwMjY=", "number": 138, "title": "\"layer.get_weights()\" does not work properly after the first use of \"layer.set_weights()\"", "user": {"login": "MohammadSamragh", "id": 17733504, "node_id": "MDQ6VXNlcjE3NzMzNTA0", "avatar_url": "https://avatars0.githubusercontent.com/u/17733504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MohammadSamragh", "html_url": "https://github.com/MohammadSamragh", "followers_url": "https://api.github.com/users/MohammadSamragh/followers", "following_url": "https://api.github.com/users/MohammadSamragh/following{/other_user}", "gists_url": "https://api.github.com/users/MohammadSamragh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MohammadSamragh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MohammadSamragh/subscriptions", "organizations_url": "https://api.github.com/users/MohammadSamragh/orgs", "repos_url": "https://api.github.com/users/MohammadSamragh/repos", "events_url": "https://api.github.com/users/MohammadSamragh/events{/privacy}", "received_events_url": "https://api.github.com/users/MohammadSamragh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-17T20:15:08Z", "updated_at": "2018-10-06T00:49:41Z", "closed_at": "2018-10-06T00:49:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the following code, I am reading the weights of the first layer before and after training. I compute the  difference between the weights before and after training. The difference is non-zero as expected:\r\n```\r\n\r\nmodel=get_model()\r\nw_before,b=model.layers[0].get_weights()\r\n#w_before=np.random.rand(w_before.shape[0],w_before.shape[1],w_before.shape[2],w_before.shape[3])\r\n#model.layers[0].set_weights([w_before,b])\r\nopt = keras.optimizers.SGD(lr=0.001, decay=1e-6, momentum=0.9, nesterov=True)\r\nmodel.compile(loss='categorical_crossentropy',optimizer=opt,metrics=['accuracy'])\r\nmodel.fit(X_train,Y_train,...)\r\nw_after=model.layers[0].get_weights()[0]\r\ndifference=np.sum(np.absolute(w_before-w_after))\r\nprint difference\r\n```\r\n\r\n\r\nHowever, when I use the \"set_weights()\" function (by uncommenting line 3 and 4 of the above code), the \"get_weights()\" function does not work properly anymore and the difference becomes zero.\r\n\r\nI read the \"set_value()\" function in the \"mxnet_backend.py\" file. It uses \"mxnet.symbol.bind()\" to set the weights. Is it possible that \"bind\" is causing this? Is there any alternative way of setting values to variables?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/136", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/136/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/136/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/136", "id": 340755559, "node_id": "MDU6SXNzdWUzNDA3NTU1NTk=", "number": 136, "title": "MXNet backend does not support scale/center param in BatchNormalization equal to False", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-12T18:47:28Z", "updated_at": "2018-07-28T00:32:46Z", "closed_at": "2018-07-28T00:32:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Adding BatchNormalization layer with scale or center to False will fail:\r\n``` \r\nBatchNormalization(scale=False)\r\n```\r\nApplies to any model use BatchNorm.\r\n\r\nReproducible code:\r\nchange example cifar10_resnet.py, in resnet_layer function, change Batchnorm to use scale=False or center=False.\r\nChange line 149 or 154 here:\r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/332c62f7b521b109431c0ef91317b2ce00e4cfb7/examples/cifar10_resnet.py#L149\r\n\r\nto\r\n```\r\nx = BatchNormalization(scale=False)(x)\r\n```\r\nor \r\n```\r\nx = BatchNormalization(center=False)(x)\r\n```\r\n\r\nError Message:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/lawei/Documents/Workspace/roywei/keras/examples/cifar10_resnet.py\", line 338, in <module>\r\n    metrics=['accuracy'])\r\n  File \"/Users/lawei/Documents/Workspace/roywei/keras/keras/backend/mxnet_backend.py\", line 4715, in compile\r\n    fixed_param_names=self._fixed_weights)\r\n  File \"/Users/lawei/Documents/Workspace/roywei/incubator-mxnet/python/mxnet/module/bucketing_module.py\", line 84, in __init__\r\n    _check_input_names(symbol, fixed_param_names, \"fixed_param\", True)\r\n  File \"/Users/lawei/Documents/Workspace/roywei/incubator-mxnet/python/mxnet/module/base_module.py\", line 52, in _check_input_names\r\n    raise ValueError(msg)\r\nValueError: You created Module with Module(..., fixed_param_names=['batchnorm8_gamma', 'batchnorm6_gamma', 'batchnorm22_gamma', 'batchnorm16_gamma', 'batchnorm4_gamma', 'batchnorm0_gamma', 'batchnorm34_gamma', 'batchnorm26_gamma', 'batchnorm14_gamma', 'batchnorm24_gamma', 'batchnorm32_gamma', 'batchnorm36_gamma', 'batchnorm12_gamma', 'batchnorm18_gamma', 'batchnorm20_gamma', 'batchnorm2_gamma', 'batchnorm30_gamma', 'batchnorm28_gamma', 'batchnorm10_gamma']) but input with name 'batchnorm8_gamma' is not found in symbol.list_arguments(). Did you mean one of:\r\n\t/input_11\r\n\tconv2d_1/kernel1\r\n\tconv2d_1/bias1\r\n\tbatch_normalization_1/beta1\r\n\tconv2d_2/kernel1\r\n\tconv2d_2/bias1\r\n\tbatch_normalization_2/beta1\r\n\tconv2d_3/kernel1\r\n\tconv2d_3/bias1\r\n\tbatch_normalization_3/beta1\r\n\tconv2d_4/kernel1\r\n\tconv2d_4/bias1\r\n\tbatch_normalization_4/beta1\r\n\tconv2d_5/kernel1\r\n\tconv2d_5/bias1\r\n\tbatch_normalization_5/beta1\r\n\tconv2d_6/kernel1\r\n\tconv2d_6/bias1\r\n\tbatch_normalization_6/beta1\r\n\tconv2d_7/kernel1\r\n\tconv2d_7/bias1\r\n\tbatch_normalization_7/beta1\r\n\tconv2d_10/kernel1\r\n\tconv2d_10/bias1\r\n\tconv2d_8/kernel1\r\n\tconv2d_8/bias1\r\n\tbatch_normalization_8/beta1\r\n\tconv2d_9/kernel1\r\n\tconv2d_9/bias1\r\n\tbatch_normalization_9/beta1\r\n\tconv2d_11/kernel1\r\n\tconv2d_11/bias1\r\n\tbatch_normalization_10/beta1\r\n\tconv2d_12/kernel1\r\n\tconv2d_12/bias1\r\n\tbatch_normalization_11/beta1\r\n\tconv2d_13/kernel1\r\n\tconv2d_13/bias1\r\n\tbatch_normalization_12/beta1\r\n\tconv2d_14/kernel1\r\n\tconv2d_14/bias1\r\n\tbatch_normalization_13/beta1\r\n\tconv2d_17/kernel1\r\n\tconv2d_17/bias1\r\n\tconv2d_15/kernel1\r\n\tconv2d_15/bias1\r\n\tbatch_normalization_14/beta1\r\n\tconv2d_16/kernel1\r\n\tconv2d_16/bias1\r\n\tbatch_normalization_15/beta1\r\n\tconv2d_18/kernel1\r\n\tconv2d_18/bias1\r\n\tbatch_normalization_16/beta1\r\n\tconv2d_19/kernel1\r\n\tconv2d_19/bias1\r\n\tbatch_normalization_17/beta1\r\n\tconv2d_20/kernel1\r\n\tconv2d_20/bias1\r\n\tbatch_normalization_18/beta1\r\n\tconv2d_21/kernel1\r\n\tconv2d_21/bias1\r\n\tbatch_normalization_19/beta1\r\n\tdense_1/kernel1\r\n\tdense_1/bias1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/134", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/134/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/134/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/134", "id": 340347452, "node_id": "MDU6SXNzdWUzNDAzNDc0NTI=", "number": 134, "title": "Cannot train SmileCNN with Keras-MXNet", "user": {"login": "aaronmarkham", "id": 5974205, "node_id": "MDQ6VXNlcjU5NzQyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5974205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronmarkham", "html_url": "https://github.com/aaronmarkham", "followers_url": "https://api.github.com/users/aaronmarkham/followers", "following_url": "https://api.github.com/users/aaronmarkham/following{/other_user}", "gists_url": "https://api.github.com/users/aaronmarkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronmarkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronmarkham/subscriptions", "organizations_url": "https://api.github.com/users/aaronmarkham/orgs", "repos_url": "https://api.github.com/users/aaronmarkham/repos", "events_url": "https://api.github.com/users/aaronmarkham/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronmarkham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 946518700, "node_id": "MDU6TGFiZWw5NDY1MTg3MDA=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/Pending%20Requester%20Info", "name": "Pending Requester Info", "color": "e2a114", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-07-11T18:01:53Z", "updated_at": "2018-07-26T23:07:56Z", "closed_at": "2018-07-26T23:07:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nError during training of the SmileCNN demo using Keras-MXNet. (Error in operator conv2d_1/conv2d1)\r\n\r\nMoving this from https://github.com/apache/incubator-mxnet/issues/11645\r\n\r\n## Environment info (Required)\r\n\r\n```\r\n----------Python Info----------\r\n('Version      :', '2.7.15')\r\n('Compiler     :', 'GCC 7.2.0')\r\n('Build        :', ('default', 'May  1 2018 23:32:55'))\r\n('Arch         :', ('64bit', ''))\r\n------------Pip Info-----------\r\n('Version      :', '10.0.1')\r\n('Directory    :', '/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/pip')\r\n----------MXNet Info-----------\r\n('Version      :', '1.2.0')\r\n('Directory    :', '/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet')\r\n('Commit Hash   :', '297c64fd2ee404612aa3ecc880b940fb2538039c')\r\n----------System Info----------\r\n('Platform     :', 'Linux-4.4.0-1061-aws-x86_64-with-debian-stretch-sid')\r\n('system       :', 'Linux')\r\n('node         :', 'ip-172-31-80-156')\r\n('release      :', '4.4.0-1061-aws')\r\n('version      :', '#70-Ubuntu SMP Fri May 25 21:47:34 UTC 2018')\r\n----------Hardware Info----------\r\n('machine      :', 'x86_64')\r\n('processor    :', 'x86_64')\r\nArchitecture:          x86_64\r\nCPU op-mode(s):        32-bit, 64-bit\r\nByte Order:            Little Endian\r\nCPU(s):                32\r\nOn-line CPU(s) list:   0-31\r\nThread(s) per core:    2\r\nCore(s) per socket:    16\r\nSocket(s):             1\r\nNUMA node(s):          1\r\nVendor ID:             GenuineIntel\r\nCPU family:            6\r\nModel:                 79\r\nModel name:            Intel(R) Xeon(R) CPU E5-2686 v4 @ 2.30GHz\r\nStepping:              1\r\nCPU MHz:               1567.144\r\nCPU max MHz:           3000.0000\r\nCPU min MHz:           1200.0000\r\nBogoMIPS:              4600.13\r\nHypervisor vendor:     Xen\r\nVirtualization type:   full\r\nL1d cache:             32K\r\nL1i cache:             32K\r\nL2 cache:              256K\r\nL3 cache:              46080K\r\nNUMA node0 CPU(s):     0-31\r\nFlags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single kaiser fsgsbase bmi1 hle avx2 smep bmi2 erms invpcid rtm rdseed adx xsaveopt\r\n----------Network Test----------\r\nSetting timeout: 10\r\nTiming for MXNet: https://github.com/apache/incubator-mxnet, DNS: 0.0014 sec, LOAD: 0.5112 sec.\r\nTiming for PYPI: https://pypi.python.org/pypi/pip, DNS: 0.0026 sec, LOAD: 0.0928 sec.\r\nTiming for FashionMNIST: https://apache-mxnet.s3-accelerate.dualstack.amazonaws.com/gluon/dataset/fashion-mnist/train-labels-idx1-ubyte.gz, DNS: 0.0443 sec, LOAD: 0.1342 sec.\r\nTiming for Conda: https://repo.continuum.io/pkgs/free/, DNS: 0.0029 sec, LOAD: 0.0329 sec.\r\nTiming for Gluon Tutorial(en): http://gluon.mxnet.io, DNS: 0.2468 sec, LOAD: 0.3899 sec.\r\nTiming for Gluon Tutorial(cn): https://zh.gluon.ai, DNS: 0.1114 sec, LOAD: 0.4641 sec.\r\n```\r\n\r\n## Package used (Python/R/Scala/Julia):\r\npip install mxnet-cu90 (this installed 1.2.0)\r\npip install keras-mxnet\r\n\r\n## Error Message:\r\n/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py:89: UserWarning: MXNet Backend performs best with `channels_first` format. Using `channels_last` will significantly reduce performance due to the Transpose operations. For performance improvement, please use this API`keras.utils.to_channels_first(x_input)`to transform `channels_last` data to `channels_first` format and also please change the `image_data_format` in `keras.json` to `channels_first`.Note: `x_input` is a Numpy tensor or a list of Numpy tensorRefer to: https://github.com/awslabs/keras-apache-mxnet/tree/master/docs/mxnet_backend/performance_guide.md\r\n  train_symbol = func(*args, **kwargs)\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 39, in <module>\r\n    model.add(Conv2D(nb_filters, (nb_conv, nb_conv), activation='relu', input_shape=X.shape[1:]))\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/engine/sequential.py\", line 166, in add\r\n    layer(x)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/engine/base_layer.py\", line 460, in __call__\r\n    output = self.call(inputs, **kwargs)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/layers/convolutional.py\", line 172, in call\r\n    dilation_rate=self.dilation_rate)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 3136, in conv2d\r\n    padding_mode=padding, data_format=data_format)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 89, in func_wrapper\r\n    train_symbol = func(*args, **kwargs)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 4443, in _convnd\r\n    result = _postprocess_convnd_output(KerasSymbol(conv), data_format)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 81, in func_wrapper\r\n    train_symbol = func(*args, **kwargs)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 4180, in _postprocess_convnd_output\r\n    if data_format == 'channels_last' and ndim(x) > 3:\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 493, in ndim\r\n    shape = x.shape\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 3820, in shape\r\n    return self._get_shape()\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/keras/backend/mxnet_backend.py\", line 3829, in _get_shape\r\n    _, out_shape, _ = self.symbol.infer_shape_partial()\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/symbol/symbol.py\", line 1062, in infer_shape_partial\r\n    return self._infer_shape_impl(True, *args, **kwargs)\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/symbol/symbol.py\", line 1120, in _infer_shape_impl\r\n    ctypes.byref(complete)))\r\n  File \"/home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/base.py\", line 149, in check_call\r\n    raise MXNetError(py_str(_LIB.MXGetLastError()))\r\nmxnet.base.MXNetError: Error in operator conv2d_1/conv2d1: [15:49:12] src/operator/nn/convolution.cc:191: Check failed: dilated_ksize_y <= AddPad(dshape[2], param_.pad[0]) (3 vs. 1) kernel size exceed input\r\n\r\nStack trace returned 10 entries:\r\n[bt] (0) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(+0x30cbe2) [0x7f5d81054be2]\r\n[bt] (1) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(+0x30d1b8) [0x7f5d810551b8]\r\n[bt] (2) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(+0x561afd) [0x7f5d812a9afd]\r\n[bt] (3) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(+0x299b76f) [0x7f5d836e376f]\r\n[bt] (4) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(+0x299e25f) [0x7f5d836e625f]\r\n[bt] (5) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(MXSymbolInferShape+0x1549) [0x7f5d83664169]\r\n[bt] (6) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/site-packages/mxnet/libmxnet.so(MXSymbolInferShapePartial+0x82) [0x7f5d83665922]\r\n[bt] (7) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/lib-dynload/../../libffi.so.6(ffi_call_unix64+0x4c) [0x7f5db356eec0]\r\n[bt] (8) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/lib-dynload/../../libffi.so.6(ffi_call+0x22d) [0x7f5db356e87d]\r\n[bt] (9) /home/ubuntu/anaconda3/envs/python2/lib/python2.7/lib-dynload/_ctypes.so(_ctypes_callproc+0x4d6) [0x7f5db57848d6]\r\n\r\n## Minimum reproducible example\r\nFollowing https://github.com/kalyc/SmileCNN\r\n\r\n## Steps to reproduce\r\n\r\n1. Follow instructions using a Python 2 environment\r\n2. Will fail at `python train.py` step.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/130", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/130/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/130/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/130", "id": 338765422, "node_id": "MDU6SXNzdWUzMzg3NjU0MjI=", "number": 130, "title": "Allow saving MXNet model through ModelCheckpoint callback", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 931908288, "node_id": "MDU6TGFiZWw5MzE5MDgyODg=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/feature%20request", "name": "feature request", "color": "5319e7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-07-06T00:19:02Z", "updated_at": "2018-08-08T15:15:03Z", "closed_at": "2018-08-08T15:15:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "ModelCheckpoint callback is used to save the best model during the training.\r\nCurrently, saving the best model as MXNet model is not supported. We need to create a new callback for MXNetModelCheckpoint that extends ModelCheckpoint and saves the best model as MXNet model.\r\n\r\n@roywei @kalyc ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/129", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/129/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/129/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/129", "id": 338732151, "node_id": "MDU6SXNzdWUzMzg3MzIxNTE=", "number": 129, "title": "keras-mxnet pypi install keras-team/keras>=2.1.6", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 935672731, "node_id": "MDU6TGFiZWw5MzU2NzI3MzE=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/installation", "name": "installation", "color": "f9ed43", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-05T21:29:50Z", "updated_at": "2018-10-01T07:44:26Z", "closed_at": "2018-10-01T07:44:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "When you pypi install `keras-mxnet`, it install `keras`, this can create conflicts. \r\n\r\nReason: keras-preprocessing / keras-applications declares dependency on `keras` - https://github.com/keras-team/keras-preprocessing/blob/master/setup.py#L33\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/128", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/128/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/128/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/128", "id": 337490414, "node_id": "MDU6SXNzdWUzMzc0OTA0MTQ=", "number": 128, "title": "mxnet slower on MNIST with a GPU", "user": {"login": "roboserg", "id": 4758917, "node_id": "MDQ6VXNlcjQ3NTg5MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4758917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roboserg", "html_url": "https://github.com/roboserg", "followers_url": "https://api.github.com/users/roboserg/followers", "following_url": "https://api.github.com/users/roboserg/following{/other_user}", "gists_url": "https://api.github.com/users/roboserg/gists{/gist_id}", "starred_url": "https://api.github.com/users/roboserg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roboserg/subscriptions", "organizations_url": "https://api.github.com/users/roboserg/orgs", "repos_url": "https://api.github.com/users/roboserg/repos", "events_url": "https://api.github.com/users/roboserg/events{/privacy}", "received_events_url": "https://api.github.com/users/roboserg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 931911559, "node_id": "MDU6TGFiZWw5MzE5MTE1NTk=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/performance", "name": "performance", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-02T12:05:12Z", "updated_at": "2018-08-20T17:42:14Z", "closed_at": "2018-08-20T17:42:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did 5 runs with \"channels_first\" for both mxnet and \"normal\" keras with TF on MNIST and CIFAR examples from this repo. For both backends I used \"channels_first \". My results are the following:\r\n\r\n### MNIST:\r\n**MXnet**: 1min 19s \u00b1 1.17 s per loop (mean \u00b1 std. dev. of 5 runs, 1 loop each)\r\n**TF**: 1min \u00b1 1.84 s per loop (mean \u00b1 std. dev. of 5 runs, 1 loop each)\r\nmxnet 24% slower\r\n\r\n### CIFAR-10\r\n**MXnet**: 47 s \u00b1 643 ms per loop (mean \u00b1 std. dev. of 5 runs, 1 loop each)\r\n**TF**: 56.8 s \u00b1 527 ms per loop (mean \u00b1 std. dev. of 5 runs, 1 loop each)\r\nmxnet 17% faster\r\n\r\nIt is weird, since mxnet supposed to be 50%+ faster then TF. My specs are: CPU i7 6700K, GPU 1070GTX, 16GB RAM. Keras and mxnet 2.1.6. Windows 10 64 bit.\r\n\r\nWhy is mxnet slower on MNIST?\r\n\r\nCode:\r\n\r\n```\r\n# build model\r\ndef mnist_model():\r\n    model = Sequential()\r\n    model.add(Conv2D(32, kernel_size=(3, 3), activation='relu', input_shape=input_shape))\r\n    model.add(Conv2D(64, (3, 3), activation='relu'))\r\n    model.add(MaxPooling2D(pool_size=(2, 2)))\r\n    model.add(Dropout(0.25))\r\n    model.add(Flatten())\r\n    model.add(Dense(128, activation='relu'))\r\n    model.add(Dropout(0.5))\r\n    model.add(Dense(num_classes, activation='softmax'))\r\n\r\n    model.compile(\r\n        loss=keras.losses.categorical_crossentropy,\r\n        optimizer=keras.optimizers.Adadelta(),\r\n        metrics=['accuracy'],        context=[\"gpu(0)\"])\r\n\r\n    return model\r\n\r\n%%timeit -n 1 -r 5\r\nmodel = mnist_model()\r\nmodel.fit(x_train, y_train,\r\n          batch_size=batch_size,\r\n          epochs=12,\r\n          verbose=1,\r\n          validation_data=(x_test, y_test))\r\nscore = model.evaluate(x_test, y_test, verbose=0)\r\nprint('Test loss:', score[0])\r\nprint('Test accuracy:', score[1])\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/127", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/127/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/127/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/127", "id": 337216130, "node_id": "MDU6SXNzdWUzMzcyMTYxMzA=", "number": 127, "title": "Optimizer created manually outside Module but rescale_grad is not normalized to 1.0/batch_size/num_workers (1.0 vs. 0.00390625)", "user": {"login": "roboserg", "id": 4758917, "node_id": "MDQ6VXNlcjQ3NTg5MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4758917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roboserg", "html_url": "https://github.com/roboserg", "followers_url": "https://api.github.com/users/roboserg/followers", "following_url": "https://api.github.com/users/roboserg/following{/other_user}", "gists_url": "https://api.github.com/users/roboserg/gists{/gist_id}", "starred_url": "https://api.github.com/users/roboserg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roboserg/subscriptions", "organizations_url": "https://api.github.com/users/roboserg/orgs", "repos_url": "https://api.github.com/users/roboserg/repos", "events_url": "https://api.github.com/users/roboserg/events{/privacy}", "received_events_url": "https://api.github.com/users/roboserg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-30T13:47:13Z", "updated_at": "2018-07-02T03:37:42Z", "closed_at": "2018-07-02T03:37:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am a newbie keras user. After switching to mxnet I get following warning:\r\n\r\n> UserWarning: Optimizer created manually outside Module but rescale_grad is not normalized to 1.0/batch_size/num_workers (1.0 vs. 0.00390625). Is this intended?\r\n>   force_init=force_init)\r\n\r\nUsing mxnet 2.1.6.1\r\n\r\nCode:\r\n\r\n```\r\ndef simple_lstm_model(do,\r\n                      maxlen=MAX_LEN,\r\n                      max_words=NUM_WORDS,\r\n                      embed_size=EMBED_SIZE):\r\n    model = Sequential()\r\n    model.add(\r\n        Embedding(\r\n            NUM_WORDS,\r\n            EMBED_SIZE,\r\n            weights=[word2vec_matrix],\r\n            trainable=False,\r\n            input_length=MAX_LEN))\r\n    model.add(Dropout(do))\r\n    model.add(LSTM(64, return_sequences=False, name='lstm_layer', unroll=True))\r\n    model.add(Dense(1, activation='sigmoid'))\r\n\r\n    model.compile(\r\n        loss='binary_crossentropy',\r\n        optimizer='adam',\r\n        metrics=['accuracy'],\r\n        context=[\"gpu(0)\"])\r\n\r\n    return model\r\n\r\nhistory = model.fit(\r\n        x_text_train, (y_train),\r\n        batch_size=256,\r\n        epochs=5,\r\n        validation_split=0.1,\r\n        verbose=0)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/124", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/124/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/124/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/124", "id": 335520587, "node_id": "MDU6SXNzdWUzMzU1MjA1ODc=", "number": 124, "title": "Nightly build of keras-mxnet with python 3 is failing", "user": {"login": "kalyc", "id": 8603626, "node_id": "MDQ6VXNlcjg2MDM2MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8603626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalyc", "html_url": "https://github.com/kalyc", "followers_url": "https://api.github.com/users/kalyc/followers", "following_url": "https://api.github.com/users/kalyc/following{/other_user}", "gists_url": "https://api.github.com/users/kalyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalyc/subscriptions", "organizations_url": "https://api.github.com/users/kalyc/orgs", "repos_url": "https://api.github.com/users/kalyc/repos", "events_url": "https://api.github.com/users/kalyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kalyc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971774706, "node_id": "MDU6TGFiZWw5NzE3NzQ3MDY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/CI", "name": "CI", "color": "b60205", "default": false, "description": "CI and testing"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-25T18:36:47Z", "updated_at": "2018-06-25T21:25:38Z", "closed_at": "2018-06-25T21:25:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Build appears to be failing because of time out\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/123", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/123/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/123/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/123", "id": 334686530, "node_id": "MDU6SXNzdWUzMzQ2ODY1MzA=", "number": 123, "title": "change CI for PR to track dev branch", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971774706, "node_id": "MDU6TGFiZWw5NzE3NzQ3MDY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/CI", "name": "CI", "color": "b60205", "default": false, "description": "CI and testing"}, {"id": 736929998, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTg=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-21T22:54:39Z", "updated_at": "2018-08-20T20:41:55Z", "closed_at": "2018-08-20T20:41:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently CI job for PR track master branch, we should change it to dev branch.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/122", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/122/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/122/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/122", "id": 334595254, "node_id": "MDU6SXNzdWUzMzQ1OTUyNTQ=", "number": 122, "title": "imdb_cnn example throws incorrect warning message", "user": {"login": "kalyc", "id": 8603626, "node_id": "MDQ6VXNlcjg2MDM2MjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/8603626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalyc", "html_url": "https://github.com/kalyc", "followers_url": "https://api.github.com/users/kalyc/followers", "following_url": "https://api.github.com/users/kalyc/following{/other_user}", "gists_url": "https://api.github.com/users/kalyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalyc/subscriptions", "organizations_url": "https://api.github.com/users/kalyc/orgs", "repos_url": "https://api.github.com/users/kalyc/repos", "events_url": "https://api.github.com/users/kalyc/events{/privacy}", "received_events_url": "https://api.github.com/users/kalyc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-21T17:51:04Z", "updated_at": "2018-07-25T17:46:37Z", "closed_at": "2018-07-25T17:46:37Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Even when the Keras config in `$HOME/.keras/keras.json` is updated to be `channels_first` data format, this warning is thrown incorrectly while running `imdb_cnn` example - \r\n\r\n` 'MXNet Backend performs best with `channels_first` format. Using '\r\n            '`channels_last` will significantly reduce performance due to the '\r\n            'Transpose operations. '\r\n            'For performance improvement, please use this API'\r\n            '`keras.utils.to_channels_first(x_input)`'\r\n            'to transform `channels_last` data to `channels_first` format and '\r\n            'also please change the `image_data_format` in `keras.json` to '\r\n            '`channels_first`.'\r\n            'Note: `x_input` is a Numpy tensor or a list of Numpy tensor'\r\n            'Refer to: '\r\n            'https://github.com/awslabs/keras-apache-mxnet/tree/master/docs/mxnet_backend/performance_guide.md',`\r\n\r\n[This](https://github.com/awslabs/keras-apache-mxnet/blob/master/keras/backend/mxnet_backend.py#L4198) needs to be updated to use K.data_format instead of taking it from the parameter\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/121", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/121/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/121/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/121", "id": 334544828, "node_id": "MDU6SXNzdWUzMzQ1NDQ4Mjg=", "number": 121, "title": "Conv layers overrides data_format passed to the layer with keras config image_data_format", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-21T15:26:26Z", "updated_at": "2018-07-28T00:31:25Z", "closed_at": "2018-07-28T00:31:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Convolution layers with MXNet backend, uses keras config image_data_format for preparing the kernels. It ignores data_format passed to the layer explicitly.\r\n\r\nThis is a rare case from usage perspective where users use data_format parameter of the layer. Majority of the users use ~/.keras/keras.json config file to set the image_data_format.\r\n\r\nThis needs to be fixed. Few test cases in convolutional layer tests needs to be enabled after the fix.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/120", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/120/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/120/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/120", "id": 334543094, "node_id": "MDU6SXNzdWUzMzQ1NDMwOTQ=", "number": 120, "title": "Keras-MXNet custom loss with slice operation loses shape information", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-21T15:22:15Z", "updated_at": "2018-08-21T05:09:31Z", "closed_at": "2018-08-21T05:09:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you are using a Custom Loss function and if you use a slice operation in custom loss function, you need to explicitly set the shape of the loss tensor before returning from your custom loss function.\r\n\r\nExample:\r\n\r\n```\r\n# Your custom loss function.\r\ndef my_custom_loss(y, y_hat):\r\n    # Assume below shapes for demonstrating the issue\r\n    # y.shape -> (None, 10)\r\n    # y_hat.shape -> (None, 10) \r\n    \r\n    y = y[:, :8]\r\n    y_hat = y_hat[:, :8]\r\n   \r\n   # You used a slice operation. Shape information of y and y_hat is lost after this operation.\r\n   # y.shape -> ()\r\n   # y_hat.shape -> ()\r\n\r\n    loss = y - y_hat\r\n    \r\n    # loss.shape -> ()  => This causes custom loss calculation to fail with shape mismatch errors.\r\n\r\n    ##### This is a workaround required for MXNet backend due to issue in MXNet - https://github.com/apache/incubator-mxnet/issues/11349 #####\r\n   # Explicitly set the shape of loss tensor before returning. Since first dimension is batch_size you can leave it as 'None' i.e., unknown.\r\n    loss._keras_shape = (None, 8)  \r\n    return (loss)\r\n```\r\n\r\n# Reason\r\n\r\nAs described in this issue https://github.com/apache/incubator-mxnet/issues/11349 MXNet has a strange behavior for slice operator where infer_partial_shape() call returns pre-maturely even if one of the dimension of input is None (unknown). Since y, y_hat batch size is unknown in our case in Keras, after slicing, shape info is lost.\r\n\r\n# Solution\r\n\r\nWorking with MXNet team to resolve the issue and allow infer_shape_partial() to try to come up with shape information. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/119", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/119/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/119/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/119", "id": 333246089, "node_id": "MDU6SXNzdWUzMzMyNDYwODk=", "number": 119, "title": "model.compile is failing when using inceptionV3 (irrespective of weights settings)", "user": {"login": "rajendra2", "id": 15102803, "node_id": "MDQ6VXNlcjE1MTAyODAz", "avatar_url": "https://avatars1.githubusercontent.com/u/15102803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajendra2", "html_url": "https://github.com/rajendra2", "followers_url": "https://api.github.com/users/rajendra2/followers", "following_url": "https://api.github.com/users/rajendra2/following{/other_user}", "gists_url": "https://api.github.com/users/rajendra2/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajendra2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajendra2/subscriptions", "organizations_url": "https://api.github.com/users/rajendra2/orgs", "repos_url": "https://api.github.com/users/rajendra2/repos", "events_url": "https://api.github.com/users/rajendra2/events{/privacy}", "received_events_url": "https://api.github.com/users/rajendra2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-06-18T12:20:45Z", "updated_at": "2018-08-20T17:23:11Z", "closed_at": "2018-08-20T17:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying following code and it is failing during model.compile. I am using \r\n\r\nkeras-mxnet==2.1.6.1\r\nmxnet-cu92==1.2.0\r\n\r\n```\r\nimport keras\r\nfrom keras.applications.inception_v3 import InceptionV3\r\nfrom keras.layers.pooling import GlobalMaxPooling2D\r\nfrom keras.layers.core import Dense\r\nfrom keras.layers.core import Dropout\r\nfrom keras.layers import Input\r\nfrom keras.models import Model\r\nfrom keras.regularizers import *\r\nfrom keras.preprocessing.image import ImageDataGenerator\r\n\r\ndef get_model():\r\n\taliases = {}\r\n\tInput_1 = Input(shape=(3, 256, 256), name='Input_1')\r\n\tInceptionV3_1_model = InceptionV3(include_top= False, weights=None, input_tensor = Input_1)\r\n\tInceptionV3_1 = InceptionV3_1_model(Input_1)\r\n\tGlobalMaxPooling2D_1 = GlobalMaxPooling2D(name='GlobalMaxPooling2D_1')(InceptionV3_1)\r\n\tDense_1 = Dense(name='Dense_1',units= 512,activation= 'relu' )(GlobalMaxPooling2D_1)\r\n\tDropout_1 = Dropout(name='Dropout_1',rate= 0.5)(Dense_1)\r\n\tDense_2 = Dense(name='Dense_2',units= 2,activation= 'softmax' )(Dropout_1)\r\n\r\n\tmodel = Model([Input_1],[Dense_2])\r\n\treturn model\r\n\r\nmodel = get_model()\r\nmodel.compile(loss='categorical_crossentropy', optimizer='adadelta')\r\n```\r\n\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-7c2015375244> in <module>()\r\n----> 1 model.compile(loss='categorical_crossentropy', optimizer='adadelta')\r\n\r\n/usr/local/lib/python3.6/dist-packages/keras/backend/mxnet_backend.py in compile(self, optimizer, loss, metrics, loss_weights, sample_weight_mode, **kwargs)\r\n   4480                 default_bucket_key='pred',\r\n   4481                 context=self._context,\r\n-> 4482                 fixed_param_names=self._fixed_weights)\r\n   4483             set_model(self)\r\n   4484             self.compiled = True\r\n\r\n/usr/local/lib/python3.6/dist-packages/mxnet/module/bucketing_module.py in __init__(self, sym_gen, default_bucket_key, logger, context, work_load_list, fixed_param_names, state_names, group2ctxs, compression_params)\r\n     82         _check_input_names(symbol, label_names, \"label\", False)\r\n     83         _check_input_names(symbol, state_names, \"state\", True)\r\n---> 84         _check_input_names(symbol, fixed_param_names, \"fixed_param\", True)\r\n     85 \r\n     86         self._compression_params = compression_params\r\n\r\n/usr/local/lib/python3.6/dist-packages/mxnet/module/base_module.py in _check_input_names(symbol, names, typename, throw)\r\n     50                   typename, str(names), name, '\\n\\t'.join(candidates))\r\n     51         if throw:\r\n---> 52             raise ValueError(msg)\r\n     53         else:\r\n     54             warnings.warn(msg)\r\n\r\nValueError: You created Module with Module(..., fixed_param_names=['batchnorm248_gamma', 'batchnorm342_gamma', 'batchnorm212_gamma', 'batchnorm220_gamma', 'batchnorm252_gamma', 'batchnorm266_gamma', 'batchnorm232_gamma', 'batchnorm356_gamma', 'batchnorm192_gamma', 'batchnorm224_gamma', 'batchnorm204_gamma', 'batchnorm222_gamma', 'batchnorm250_gamma', 'batchnorm314_gamma', 'batchnorm270_gamma', 'batchnorm254_gamma', 'batchnorm304_gamma', 'batchnorm236_gamma', 'batchnorm272_gamma', 'batchnorm202_gamma', 'batchnorm298_gamma', 'batchnorm326_gamma', 'batchnorm216_gamma', 'batchnorm288_gamma', 'batchnorm346_gamma', 'batchnorm366_gamma', 'batchnorm300_gamma', 'batchnorm336_gamma', 'batchnorm260_gamma', 'batchnorm208_gamma', 'batchnorm350_gamma', 'batchnorm338_gamma', 'batchnorm258_gamma', 'batchnorm200_gamma', 'batchnorm296_gamma', 'batchnorm284_gamma', 'batchnorm280_gamma', 'batchnorm334_gamma', 'batchnorm322_gamma', 'batchnorm196_gamma', 'batchnorm262_gamma', 'batchnorm240_gamma', 'batchnorm308_gamma', 'batchnorm306_gamma', 'batchnorm206_gamma', 'batchnorm276_gamma', 'batchnorm190_gamma', 'batchnorm344_gamma', 'batchnorm234_gamma', 'batchnorm268_gamma', 'batchnorm242_gamma', 'batchnorm218_gamma', 'batchnorm274_gamma', 'batchnorm320_gamma', 'batchnorm290_gamma', 'batchnorm278_gamma', 'batchnorm286_gamma', 'batchnorm362_gamma', 'batchnorm256_gamma', 'batchnorm316_gamma', 'batchnorm244_gamma', 'batchnorm246_gamma', 'batchnorm340_gamma', 'batchnorm328_gamma', 'batchnorm374_gamma', 'batchnorm194_gamma', 'batchnorm368_gamma', 'batchnorm358_gamma', 'batchnorm302_gamma', 'batchnorm312_gamma', 'batchnorm332_gamma', 'batchnorm370_gamma', 'batchnorm364_gamma', 'batchnorm188_gamma', 'batchnorm324_gamma', 'batchnorm238_gamma', 'batchnorm292_gamma', 'batchnorm330_gamma', 'batchnorm294_gamma', 'batchnorm230_gamma', 'batchnorm354_gamma', 'batchnorm226_gamma', 'batchnorm228_gamma', 'batchnorm372_gamma', 'batchnorm348_gamma', 'batchnorm282_gamma', 'batchnorm214_gamma', 'batchnorm264_gamma', 'batchnorm198_gamma', 'batchnorm318_gamma', 'batchnorm352_gamma', 'batchnorm210_gamma', 'batchnorm360_gamma', 'batchnorm310_gamma']) but input with name 'batchnorm248_gamma' is not found in symbol.list_arguments(). Did you mean one of:\r\n\t/Input_11\r\n\tconv2d_1/kernel1\r\n\tbatch_normalization_1/beta1\r\n\tconv2d_2/kernel1\r\n\tbatch_normalization_2/beta1\r\n\tconv2d_3/kernel1\r\n\tbatch_normalization_3/beta1\r\n\tconv2d_4/kernel1\r\n\tbatch_normalization_4/beta1\r\n\tconv2d_5/kernel1\r\n\tbatch_normalization_5/beta1\r\n\tconv2d_6/kernel1\r\n\tbatch_normalization_6/beta1\r\n\tconv2d_7/kernel1\r\n\tbatch_normalization_7/beta1\r\n\tconv2d_8/kernel1\r\n\tbatch_normalization_8/beta1\r\n\tconv2d_9/kernel1\r\n\tbatch_normalization_9/beta1\r\n\tconv2d_10/kernel1\r\n\tbatch_normalization_10/beta1\r\n\tconv2d_11/kernel1\r\n\tbatch_normalization_11/beta1\r\n\tconv2d_12/kernel1\r\n\tbatch_normalization_12/beta1\r\n\tconv2d_13/kernel1\r\n\tbatch_normalization_13/beta1\r\n\tconv2d_14/kernel1\r\n\tbatch_normalization_14/beta1\r\n\tconv2d_15/kernel1\r\n\tbatch_normalization_15/beta1\r\n\tconv2d_16/kernel1\r\n\tbatch_normalization_16/beta1\r\n\tconv2d_17/kernel1\r\n\tbatch_normalization_17/beta1\r\n\tconv2d_18/kernel1\r\n\tbatch_normalization_18/beta1\r\n\tconv2d_19/kernel1\r\n\tbatch_normalization_19/beta1\r\n\tconv2d_20/kernel1\r\n\tbatch_normalization_20/beta1\r\n\tconv2d_21/kernel1\r\n\tbatch_normalization_21/beta1\r\n\tconv2d_22/kernel1\r\n\tbatch_normalization_22/beta1\r\n\tconv2d_23/kernel1\r\n\tbatch_normalization_23/beta1\r\n\tconv2d_24/kernel1\r\n\tbatch_normalization_24/beta1\r\n\tconv2d_25/kernel1\r\n\tbatch_normalization_25/beta1\r\n\tconv2d_26/kernel1\r\n\tbatch_normalization_26/beta1\r\n\tconv2d_27/kernel1\r\n\tbatch_normalization_27/beta1\r\n\tconv2d_28/kernel1\r\n\tbatch_normalization_28/beta1\r\n\tconv2d_29/kernel1\r\n\tbatch_normalization_29/beta1\r\n\tconv2d_30/kernel1\r\n\tbatch_normalization_30/beta1\r\n\tconv2d_31/kernel1\r\n\tbatch_normalization_31/beta1\r\n\tconv2d_32/kernel1\r\n\tbatch_normalization_32/beta1\r\n\tconv2d_33/kernel1\r\n\tbatch_normalization_33/beta1\r\n\tconv2d_34/kernel1\r\n\tbatch_normalization_34/beta1\r\n\tconv2d_35/kernel1\r\n\tbatch_normalization_35/beta1\r\n\tconv2d_36/kernel1\r\n\tbatch_normalization_36/beta1\r\n\tconv2d_37/kernel1\r\n\tbatch_normalization_37/beta1\r\n\tconv2d_38/kernel1\r\n\tbatch_normalization_38/beta1\r\n\tconv2d_39/kernel1\r\n\tbatch_normalization_39/beta1\r\n\tconv2d_40/kernel1\r\n\tbatch_normalization_40/beta1\r\n\tconv2d_41/kernel1\r\n\tbatch_normalization_41/beta1\r\n\tconv2d_42/kernel1\r\n\tbatch_normalization_42/beta1\r\n\tconv2d_43/kernel1\r\n\tbatch_normalization_43/beta1\r\n\tconv2d_44/kernel1\r\n\tbatch_normalization_44/beta1\r\n\tconv2d_45/kernel1\r\n\tbatch_normalization_45/beta1\r\n\tconv2d_46/kernel1\r\n\tbatch_normalization_46/beta1\r\n\tconv2d_47/kernel1\r\n\tbatch_normalization_47/beta1\r\n\tconv2d_48/kernel1\r\n\tbatch_normalization_48/beta1\r\n\tconv2d_49/kernel1\r\n\tbatch_normalization_49/beta1\r\n\tconv2d_50/kernel1\r\n\tbatch_normalization_50/beta1\r\n\tconv2d_51/kernel1\r\n\tbatch_normalization_51/beta1\r\n\tconv2d_52/kernel1\r\n\tbatch_normalization_52/beta1\r\n\tconv2d_53/kernel1\r\n\tbatch_normalization_53/beta1\r\n\tconv2d_54/kernel1\r\n\tbatch_normalization_54/beta1\r\n\tconv2d_55/kernel1\r\n\tbatch_normalization_55/beta1\r\n\tconv2d_56/kernel1\r\n\tbatch_normalization_56/beta1\r\n\tconv2d_57/kernel1\r\n\tbatch_normalization_57/beta1\r\n\tconv2d_58/kernel1\r\n\tbatch_normalization_58/beta1\r\n\tconv2d_59/kernel1\r\n\tbatch_normalization_59/beta1\r\n\tconv2d_60/kernel1\r\n\tbatch_normalization_60/beta1\r\n\tconv2d_61/kernel1\r\n\tbatch_normalization_61/beta1\r\n\tconv2d_62/kernel1\r\n\tbatch_normalization_62/beta1\r\n\tconv2d_63/kernel1\r\n\tbatch_normalization_63/beta1\r\n\tconv2d_64/kernel1\r\n\tbatch_normalization_64/beta1\r\n\tconv2d_65/kernel1\r\n\tbatch_normalization_65/beta1\r\n\tconv2d_66/kernel1\r\n\tbatch_normalization_66/beta1\r\n\tconv2d_67/kernel1\r\n\tbatch_normalization_67/beta1\r\n\tconv2d_68/kernel1\r\n\tbatch_normalization_68/beta1\r\n\tconv2d_69/kernel1\r\n\tbatch_normalization_69/beta1\r\n\tconv2d_70/kernel1\r\n\tbatch_normalization_70/beta1\r\n\tconv2d_71/kernel1\r\n\tbatch_normalization_71/beta1\r\n\tconv2d_72/kernel1\r\n\tbatch_normalization_72/beta1\r\n\tconv2d_73/kernel1\r\n\tbatch_normalization_73/beta1\r\n\tconv2d_74/kernel1\r\n\tbatch_normalization_74/beta1\r\n\tconv2d_75/kernel1\r\n\tbatch_normalization_75/beta1\r\n\tconv2d_76/kernel1\r\n\tbatch_normalization_76/beta1\r\n\tconv2d_77/kernel1\r\n\tbatch_normalization_77/beta1\r\n\tconv2d_78/kernel1\r\n\tbatch_normalization_78/beta1\r\n\tconv2d_79/kernel1\r\n\tbatch_normalization_79/beta1\r\n\tconv2d_80/kernel1\r\n\tbatch_normalization_80/beta1\r\n\tconv2d_81/kernel1\r\n\tbatch_normalization_81/beta1\r\n\tconv2d_82/kernel1\r\n\tbatch_normalization_82/beta1\r\n\tconv2d_83/kernel1\r\n\tbatch_normalization_83/beta1\r\n\tconv2d_84/kernel1\r\n\tbatch_normalization_84/beta1\r\n\tconv2d_85/kernel1\r\n\tbatch_normalization_85/beta1\r\n\tconv2d_86/kernel1\r\n\tbatch_normalization_86/beta1\r\n\tconv2d_87/kernel1\r\n\tbatch_normalization_87/beta1\r\n\tconv2d_88/kernel1\r\n\tbatch_normalization_88/beta1\r\n\tconv2d_89/kernel1\r\n\tbatch_normalization_89/beta1\r\n\tconv2d_90/kernel1\r\n\tbatch_normalization_90/beta1\r\n\tconv2d_91/kernel1\r\n\tbatch_normalization_91/beta1\r\n\tconv2d_92/kernel1\r\n\tbatch_normalization_92/beta1\r\n\tconv2d_93/kernel1\r\n\tbatch_normalization_93/beta1\r\n\tconv2d_94/kernel1\r\n\tbatch_normalization_94/beta1\r\n\tDense_1/kernel1\r\n\tDense_1/bias1\r\n\tDense_2/kernel1\r\n\tDense_2/bias1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/118", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/118/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/118/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/118", "id": 333189034, "node_id": "MDU6SXNzdWUzMzMxODkwMzQ=", "number": 118, "title": "Output missing from Module", "user": {"login": "TheCreativeMind", "id": 7559315, "node_id": "MDQ6VXNlcjc1NTkzMTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7559315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheCreativeMind", "html_url": "https://github.com/TheCreativeMind", "followers_url": "https://api.github.com/users/TheCreativeMind/followers", "following_url": "https://api.github.com/users/TheCreativeMind/following{/other_user}", "gists_url": "https://api.github.com/users/TheCreativeMind/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheCreativeMind/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheCreativeMind/subscriptions", "organizations_url": "https://api.github.com/users/TheCreativeMind/orgs", "repos_url": "https://api.github.com/users/TheCreativeMind/repos", "events_url": "https://api.github.com/users/TheCreativeMind/events{/privacy}", "received_events_url": "https://api.github.com/users/TheCreativeMind/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 946518700, "node_id": "MDU6TGFiZWw5NDY1MTg3MDA=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/Pending%20Requester%20Info", "name": "Pending Requester Info", "color": "e2a114", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-18T09:10:44Z", "updated_at": "2018-09-28T22:51:49Z", "closed_at": "2018-09-28T22:51:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am currently building a cnn model with keras and mxnet, but mxnet keeps complaining that there is no output with such a name...\r\n\r\nFirst I get a userWarning \r\n` You created Module with Module(..., label_names=['/xyz_pred_loss_target1', '/xyz_pred_loss_sample_weights1']) but input with name '/xyz_pred_loss_target1' is not found in symbol.list_arguments(). Did you mean one of:\r\n...`\r\n\r\nFollowed by an Error: \r\n`KeyError: 'xyz_pred_loss_target1'`\r\n\r\nThe 'xyz_pred_loss_sample_weights1' are listed in symbol_list_arguments... The target, as the keyError suggests is not.\r\n\r\nI am using a custom loss function calculated in a similar fashion like the ctc loss in the example [https://github.com/awslabs/keras-apache-mxnet/blob/master/examples/image_ocr.py](https://github.com/awslabs/keras-apache-mxnet/blob/master/examples/image_ocr.py)\r\n\r\nI have no Idea, why my model crashes at this point...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/113", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/113/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/113/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/113", "id": 329659880, "node_id": "MDU6SXNzdWUzMjk2NTk4ODA=", "number": 113, "title": "Cannot slice axis on tensor with MXNet backend", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-05T23:29:09Z", "updated_at": "2018-08-25T00:07:21Z", "closed_at": "2018-08-25T00:07:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Minimum reproducible code:\r\n\r\n```\r\nimport numpy as np\r\n\r\nimport keras\r\nfrom keras import backend as K\r\n\r\n# In Numpy\r\ndata = np.array([[[1,2,3], [4,5,6]]])\r\ndata.shape\r\n(1,2,3)\r\ndata[:,-1,:].shape\r\n(1,3)\r\n\r\n# In Keras with MXNet backend\r\nvar1 = K.variable(data)\r\nvar1.shape\r\n(1,2,3)\r\nK.eval(var1[:,-1,:])\r\n<<ERROR>>\r\n\r\nCheck failed: b < e (1 vs. 0) slicing with begin=[1]=1, end[1]=0, and step[1]=1 is invalid\r\n\r\n```\r\n\r\nReason:\r\n\r\nMXNet does not support slicing the axis with mx.sym.slice operator.\r\nIn KerasSymbol, __getitem__ method, we need to special case this kind of slicing and use mx.sym.slice_axis()\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/111", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/111/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/111/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/111", "id": 328329572, "node_id": "MDU6SXNzdWUzMjgzMjk1NzI=", "number": 111, "title": "Input is getting overwritten after for loop mxnet_backend.py:ones_like", "user": {"login": "eldr4d", "id": 754339, "node_id": "MDQ6VXNlcjc1NDMzOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/754339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eldr4d", "html_url": "https://github.com/eldr4d", "followers_url": "https://api.github.com/users/eldr4d/followers", "following_url": "https://api.github.com/users/eldr4d/following{/other_user}", "gists_url": "https://api.github.com/users/eldr4d/gists{/gist_id}", "starred_url": "https://api.github.com/users/eldr4d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eldr4d/subscriptions", "organizations_url": "https://api.github.com/users/eldr4d/orgs", "repos_url": "https://api.github.com/users/eldr4d/repos", "events_url": "https://api.github.com/users/eldr4d/events{/privacy}", "received_events_url": "https://api.github.com/users/eldr4d/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 736930000, "node_id": "MDU6TGFiZWw3MzY5MzAwMDA=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-31T23:20:52Z", "updated_at": "2018-10-01T07:43:59Z", "closed_at": "2018-10-01T07:43:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following code:\r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/546b50fdcb97a88ad26feedb6d2649df47deb824/keras/backend/mxnet_backend.py#L716\r\nproduces the following error under python2.7:\r\n> AttributeError: 'long' object has no attribute 'shape'\r\n\r\nThe problem is that the for loop overrides the variable x and makes it a float.\r\n\r\nA simple solution which worked for my case was to just rename the inner variable to y:\r\n`    mx_shape = tuple([0 if x is None else y for y in x.shape])`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/108", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/108/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/108/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/108", "id": 328174483, "node_id": "MDU6SXNzdWUzMjgxNzQ0ODM=", "number": 108, "title": "Can't converge when switching to MXnet backend", "user": {"login": "Pavel-Akapian", "id": 30433974, "node_id": "MDQ6VXNlcjMwNDMzOTc0", "avatar_url": "https://avatars3.githubusercontent.com/u/30433974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pavel-Akapian", "html_url": "https://github.com/Pavel-Akapian", "followers_url": "https://api.github.com/users/Pavel-Akapian/followers", "following_url": "https://api.github.com/users/Pavel-Akapian/following{/other_user}", "gists_url": "https://api.github.com/users/Pavel-Akapian/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pavel-Akapian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pavel-Akapian/subscriptions", "organizations_url": "https://api.github.com/users/Pavel-Akapian/orgs", "repos_url": "https://api.github.com/users/Pavel-Akapian/repos", "events_url": "https://api.github.com/users/Pavel-Akapian/events{/privacy}", "received_events_url": "https://api.github.com/users/Pavel-Akapian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 946518700, "node_id": "MDU6TGFiZWw5NDY1MTg3MDA=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/Pending%20Requester%20Info", "name": "Pending Requester Info", "color": "e2a114", "default": false, "description": ""}, {"id": 950814212, "node_id": "MDU6TGFiZWw5NTA4MTQyMTI=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/training", "name": "training", "color": "6bf416", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-31T14:58:09Z", "updated_at": "2018-09-28T22:52:04Z", "closed_at": "2018-09-28T22:52:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "My training keras-tensorflow pipeline works fine, but when switching to keras-mxnet got warning: \r\n`Optimizer created manually outside Module but rescale_grad is not normalized to 1.0/batch_size/num_workers (1.0 vs. 0.125). Is this intended?\r\n  force_init=force_init)`. \r\nCan it be the reason why my network can't converge? And what are possible mistakes that produce rescale_grad warning?\r\nI'm not using multi-gpu.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/88", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/88/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/88/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/88", "id": 323725051, "node_id": "MDU6SXNzdWUzMjM3MjUwNTE=", "number": 88, "title": "fix need in docs", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-16T17:56:21Z", "updated_at": "2018-05-17T02:14:51Z", "closed_at": "2018-05-17T02:14:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "benchmark script:\r\nhttps://github.com/awslabs/keras-apache-mxnet/tree/dev/benchmark\r\ndash missing for layers param\r\n/ missing for data path\r\nit should be:\r\n```\r\npython benchmark_resnet.py --dataset imagenet --version 1 --layers 56 --gpus 8 --epoch 20 --train_mode train_on_batch --data_path /home/ubuntu/imagenet/train\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/87", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/87/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/87/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/87", "id": 323436267, "node_id": "MDU6SXNzdWUzMjM0MzYyNjc=", "number": 87, "title": "errors when installing keras-mxnet in python 2.7 mxnet conda env", "user": {"login": "aaronmarkham", "id": 5974205, "node_id": "MDQ6VXNlcjU5NzQyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5974205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronmarkham", "html_url": "https://github.com/aaronmarkham", "followers_url": "https://api.github.com/users/aaronmarkham/followers", "following_url": "https://api.github.com/users/aaronmarkham/following{/other_user}", "gists_url": "https://api.github.com/users/aaronmarkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronmarkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronmarkham/subscriptions", "organizations_url": "https://api.github.com/users/aaronmarkham/orgs", "repos_url": "https://api.github.com/users/aaronmarkham/repos", "events_url": "https://api.github.com/users/aaronmarkham/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronmarkham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 935672731, "node_id": "MDU6TGFiZWw5MzU2NzI3MzE=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/installation", "name": "installation", "color": "f9ed43", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-16T01:17:48Z", "updated_at": "2018-09-19T17:29:20Z", "closed_at": "2018-09-19T17:29:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using a DLAMI Ubuntu v7 in the mxnet_p27 Conda environment I get the following errors after running `pip install --upgrade h5py numpy keras-mxnet`:\r\n\r\n```\r\nmkl-random 1.0.1 requires cython, which is not installed.\r\nmkl-fft 1.0.0 requires cython, which is not installed.\r\nbotocore 1.10.2 has requirement python-dateutil<2.7.0,>=2.1, but you'll have python-dateutil 2.7.2 which is incompatible.\r\nmxnet-cu90mkl 1.1.0 has requirement numpy<=1.13.3, but you'll have numpy 1.14.3 which is incompatible.\r\n```\r\n\r\nThe mxnet_p36 env works fine.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/86", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/86/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/86/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/86", "id": 323435956, "node_id": "MDU6SXNzdWUzMjM0MzU5NTY=", "number": 86, "title": "pip install keras-mxnet installs theano", "user": {"login": "aaronmarkham", "id": 5974205, "node_id": "MDQ6VXNlcjU5NzQyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5974205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronmarkham", "html_url": "https://github.com/aaronmarkham", "followers_url": "https://api.github.com/users/aaronmarkham/followers", "following_url": "https://api.github.com/users/aaronmarkham/following{/other_user}", "gists_url": "https://api.github.com/users/aaronmarkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronmarkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronmarkham/subscriptions", "organizations_url": "https://api.github.com/users/aaronmarkham/orgs", "repos_url": "https://api.github.com/users/aaronmarkham/repos", "events_url": "https://api.github.com/users/aaronmarkham/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronmarkham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 935672731, "node_id": "MDU6TGFiZWw5MzU2NzI3MzE=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/installation", "name": "installation", "color": "f9ed43", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-16T01:15:43Z", "updated_at": "2018-06-12T20:05:32Z", "closed_at": "2018-06-12T20:05:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "And that seems unintended... If not, please explain. And maybe it's an opportunity to compare backends.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/84", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/84/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/84/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/84", "id": 323335191, "node_id": "MDU6SXNzdWUzMjMzMzUxOTE=", "number": 84, "title": "New tutorial - Use pretrained Keras Model for inference in MXNet", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 935671278, "node_id": "MDU6TGFiZWw5MzU2NzEyNzg=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/docs", "name": "docs", "color": "e52d9c", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-15T18:37:15Z", "updated_at": "2018-08-20T20:39:15Z", "closed_at": "2018-08-20T20:39:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Load a pre-trained Keras model (h5py) file in Keras-MXNet, export as MXNet model using save_mxnet_model() API and then perform inference with native MXNet.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/75", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/75/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/75/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/75", "id": 320037555, "node_id": "MDU6SXNzdWUzMjAwMzc1NTU=", "number": 75, "title": "Training acc does not increase when using mxnet mkldnn", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-03T18:50:14Z", "updated_at": "2018-05-08T00:39:40Z", "closed_at": "2018-05-08T00:39:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I was doing performance profiling on CPU and found out if I use the latest mxnet-mkl (mxnet-mkl-1.2.0b20180507 `pip install mxnet-mkl --pre`) the accuracy does not go up. It's working fine when using mxnet-mkl 1.1.0 with `pip install mxnet-mkl`.\r\nHowever if I use pure mxnet implementation, both packages working fine. \r\n\r\nInstance type C5.18xlarge , ubuntu\r\n\r\n**Steps to reproduce:**\r\nScript from keras example: \r\nhttps://github.com/awslabs/keras-apache-mxnet/blob/master/examples/cifar10_cnn.py\r\n\r\nUsing latest mxnet-mkl from master\r\n```\r\npip install mxnet-mkl --pre\r\npip install keras-mxnet --pre\r\npython cifar10_cnn.py\r\n```\r\n\r\nBuilt from source from release branch v1.2.0 with mkl\r\n1. check out branch v1.2.0\r\n2. installed mkl following option 2 of the guide: https://software.intel.com/en-us/articles/installing-and-building-mxnet-with-intel-mkl \r\n3. $ make -j $(nproc) USE_OPENCV=1 USE_MKLDNN=1 USE_BLAS=atlas    \r\n\r\n\r\n\r\n**Training Logs:**\r\nusing keras mxnet-mkl 1.2.0b\r\n```\r\nUsing MXNet backend\r\n/usr/local/lib/python2.7/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\nx_train shape: (50000, 3, 32, 32)\r\n50000 train samples\r\n10000 test samples\r\nNot using data augmentation.\r\nTrain on 50000 samples, validate on 10000 samples\r\nEpoch 1/10\r\n/usr/local/lib/python2.7/dist-packages/mxnet/module/bucketing_module.py:408: UserWarning: Optimizer created manually outside Module but rescale_grad is not normalized to 1.0/batch_size/num_workers (1.0 vs. 0.0078125). Is this intended?\r\n  force_init=force_init)\r\n[18:29:26] src/operator/nn/mkldnn/mkldnn_base.cc:60: Allocate 3456 bytes with malloc directly\r\n[18:29:26] src/operator/nn/mkldnn/mkldnn_base.cc:60: Allocate 36864 bytes with malloc directly\r\n[18:29:26] src/operator/nn/mkldnn/mkldnn_base.cc:60: Allocate 3211264 bytes with malloc directly\r\n  128/50000 [..............................] - ETA: 24s - loss: 2.3026 - acc: 0.0859[18:29:26] src/operator/nn/mkldnn/mkldnn_base.cc:60: Allocate 14745600 bytes with malloc directly\r\n50000/50000 [==============================] - 18s 359us/step - loss: 2.3029 - acc: 0.0993 - val_loss: 2.3562 - val_acc: 0.1000\r\nEpoch 2/10\r\n50000/50000 [==============================] - 16s 312us/step - loss: 2.3077 - acc: 0.0994 - val_loss: 2.3122 - val_acc: 0.1003\r\nEpoch 3/10\r\n50000/50000 [==============================] - 17s 330us/step - loss: 2.3029 - acc: 0.0998 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 4/10\r\n50000/50000 [==============================] - 15s 306us/step - loss: 2.3028 - acc: 0.0973 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 5/10\r\n50000/50000 [==============================] - 17s 332us/step - loss: 2.3027 - acc: 0.0989 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 6/10\r\n50000/50000 [==============================] - 16s 315us/step - loss: 2.3027 - acc: 0.0987 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 7/10\r\n50000/50000 [==============================] - 16s 321us/step - loss: 2.3027 - acc: 0.0967 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 8/10\r\n50000/50000 [==============================] - 16s 330us/step - loss: 2.3027 - acc: 0.0978 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 9/10\r\n50000/50000 [==============================] - 16s 324us/step - loss: 2.3027 - acc: 0.0982 - val_loss: 2.3026 - val_acc: 0.1000\r\nEpoch 10/10\r\n50000/50000 [==============================] - 16s 326us/step - loss: 2.3027 - acc: 0.0970 - val_loss: 2.3026 - val_acc: 0.1000\r\nSaved trained model at /home/ubuntu/examples/saved_models/keras_cifar10_trained_model.h5 \r\n10000/10000 [==============================] - 1s 122us/step\r\nTest loss: 2.3025997383117676\r\n```\r\n\r\nusing keras mxnet-mkl 1.1.0\r\n\r\n```\r\nUsing MXNet backend\r\nx_train shape: (50000, 3, 32, 32)\r\n50000 train samples\r\n10000 test samples\r\nNot using data augmentation.\r\nTrain on 50000 samples, validate on 10000 samples\r\nEpoch 1/10\r\n/usr/local/lib/python2.7/dist-packages/mxnet/module/bucketing_module.py:403: UserWarning: Optimizer created manually outside Module but rescale_grad is not normalized to 1.0/batch_size/num_workers (1.0 vs. 0.0078125). Is this intended?\r\n  force_init=force_init)\r\nMKL Build:20171227\r\n50000/50000 [==============================] - 21s 414us/step - loss: 1.9739 - acc: 0.2748 - val_loss: 1.6251 - val_acc: 0.4083\r\nEpoch 2/10\r\n50000/50000 [==============================] - 18s 364us/step - loss: 1.6319 - acc: 0.4060 - val_loss: 1.4385 - val_acc: 0.4752\r\nEpoch 3/10\r\n50000/50000 [==============================] - 18s 356us/step - loss: 1.4564 - acc: 0.4748 - val_loss: 1.3948 - val_acc: 0.5152\r\nEpoch 4/10\r\n50000/50000 [==============================] - 18s 368us/step - loss: 1.3202 - acc: 0.5272 - val_loss: 1.2079 - val_acc: 0.5705\r\nEpoch 5/10\r\n50000/50000 [==============================] - 20s 390us/step - loss: 1.2088 - acc: 0.5703 - val_loss: 1.1262 - val_acc: 0.6073\r\nEpoch 6/10\r\n50000/50000 [==============================] - 20s 406us/step - loss: 1.1309 - acc: 0.5998 - val_loss: 1.0989 - val_acc: 0.6047\r\nEpoch 7/10\r\n50000/50000 [==============================] - 18s 370us/step - loss: 1.0664 - acc: 0.6226 - val_loss: 1.0102 - val_acc: 0.6443\r\nEpoch 8/10\r\n50000/50000 [==============================] - 20s 393us/step - loss: 1.0096 - acc: 0.6437 - val_loss: 0.8982 - val_acc: 0.6853\r\nEpoch 9/10\r\n50000/50000 [==============================] - 20s 395us/step - loss: 0.9638 - acc: 0.6629 - val_loss: 0.9069 - val_acc: 0.6795\r\nEpoch 10/10\r\n50000/50000 [==============================] - 18s 368us/step - loss: 0.9268 - acc: 0.6768 - val_loss: 0.8839 - val_acc: 0.6861\r\nSaved trained model at /home/ubuntu/examples/saved_models/keras_cifar10_trained_model.h5 \r\n10000/10000 [==============================] - 2s 202us/step\r\nTest loss: 0.883913392448\r\nTest accuracy: 0.6861\r\n\r\n```\r\n\r\nusing native mxnet-mkl 1.2.0b\r\n```\r\nINFO:root:Epoch[0] Batch [128]  Speed: 5276.20 samples/sec      accuracy=0.118883\r\nINFO:root:Epoch[0] Batch [256]  Speed: 6193.33 samples/sec      accuracy=0.194824\r\nINFO:root:Epoch[0] Batch [384]  Speed: 5896.97 samples/sec      accuracy=0.261047\r\nINFO:root:Epoch[0] Train-accuracy=0.290365\r\nINFO:root:Epoch[0] Time cost=8.733\r\nINFO:root:Epoch[0] Validation-accuracy=0.345827\r\nINFO:root:Epoch[1] Batch [128]  Speed: 6422.00 samples/sec      accuracy=0.314377\r\nINFO:root:Epoch[1] Batch [256]  Speed: 6050.25 samples/sec      accuracy=0.357117\r\nINFO:root:Epoch[1] Batch [384]  Speed: 6316.05 samples/sec      accuracy=0.381226\r\nINFO:root:Epoch[1] Train-accuracy=0.395833\r\nINFO:root:Epoch[1] Time cost=8.000\r\nINFO:root:Epoch[1] Validation-accuracy=0.435225\r\nINFO:root:Epoch[2] Batch [128]  Speed: 6226.67 samples/sec      accuracy=0.408127\r\nINFO:root:Epoch[2] Batch [256]  Speed: 5576.82 samples/sec      accuracy=0.429443\r\nINFO:root:Epoch[2] Batch [384]  Speed: 5928.68 samples/sec      accuracy=0.447205\r\nINFO:root:Epoch[2] Train-accuracy=0.451823\r\nINFO:root:Epoch[2] Time cost=8.462\r\nINFO:root:Epoch[2] Validation-accuracy=0.498418\r\nINFO:root:Epoch[3] Batch [128]  Speed: 6598.50 samples/sec      accuracy=0.475896\r\nINFO:root:Epoch[3] Batch [256]  Speed: 6662.20 samples/sec      accuracy=0.498230\r\nINFO:root:Epoch[3] Batch [384]  Speed: 7016.46 samples/sec      accuracy=0.502808\r\nINFO:root:Epoch[3] Train-accuracy=0.526042\r\nINFO:root:Epoch[3] Time cost=7.391\r\nINFO:root:Epoch[3] Validation-accuracy=0.561511\r\nINFO:root:Epoch[4] Batch [128]  Speed: 6485.46 samples/sec      accuracy=0.527132\r\nINFO:root:Epoch[4] Batch [256]  Speed: 6002.80 samples/sec      accuracy=0.541931\r\nINFO:root:Epoch[4] Batch [384]  Speed: 6302.73 samples/sec      accuracy=0.544739\r\nINFO:root:Epoch[4] Train-accuracy=0.540365\r\nINFO:root:Epoch[4] Time cost=7.992\r\nINFO:root:Epoch[4] Validation-accuracy=0.571796\r\nINFO:root:Epoch[5] Batch [128]  Speed: 7212.56 samples/sec      accuracy=0.560441\r\nINFO:root:Epoch[5] Batch [256]  Speed: 7343.56 samples/sec      accuracy=0.574829\r\nINFO:root:Epoch[5] Batch [384]  Speed: 7326.81 samples/sec      accuracy=0.580383\r\nINFO:root:Epoch[5] Train-accuracy=0.591146\r\nINFO:root:Epoch[5] Time cost=6.850\r\nINFO:root:Epoch[5] Validation-accuracy=0.627670\r\nINFO:root:Epoch[6] Batch [128]  Speed: 7072.83 samples/sec      accuracy=0.591206\r\nINFO:root:Epoch[6] Batch [256]  Speed: 6632.22 samples/sec      accuracy=0.600403\r\nINFO:root:Epoch[6] Batch [384]  Speed: 6356.41 samples/sec      accuracy=0.606262\r\nINFO:root:Epoch[6] Train-accuracy=0.579427\r\nINFO:root:Epoch[6] Time cost=7.475\r\nINFO:root:Epoch[6] Validation-accuracy=0.640032\r\nINFO:root:Epoch[7] Batch [128]  Speed: 6647.45 samples/sec      accuracy=0.613069\r\nINFO:root:Epoch[7] Batch [256]  Speed: 7264.74 samples/sec      accuracy=0.624451\r\nINFO:root:Epoch[7] Batch [384]  Speed: 7258.86 samples/sec      accuracy=0.626160\r\nINFO:root:Epoch[7] Train-accuracy=0.608073\r\nINFO:root:Epoch[7] Time cost=7.089\r\nINFO:root:Epoch[7] Validation-accuracy=0.652690\r\nINFO:root:Epoch[8] Batch [128]  Speed: 6471.52 samples/sec      accuracy=0.632510\r\nINFO:root:Epoch[8] Batch [256]  Speed: 7245.21 samples/sec      accuracy=0.638000\r\nINFO:root:Epoch[8] Batch [384]  Speed: 7245.78 samples/sec      accuracy=0.638794\r\nINFO:root:Epoch[8] Train-accuracy=0.643229\r\nINFO:root:Epoch[8] Time cost=7.166\r\nINFO:root:Epoch[8] Validation-accuracy=0.674644\r\nINFO:root:Epoch[9] Batch [128]  Speed: 6291.10 samples/sec      accuracy=0.652374\r\nINFO:root:Epoch[9] Batch [256]  Speed: 6623.54 samples/sec      accuracy=0.654236\r\nINFO:root:Epoch[9] Batch [384]  Speed: 6954.76 samples/sec      accuracy=0.651367\r\nINFO:root:Epoch[9] Train-accuracy=0.664062\r\nINFO:root:Epoch[9] Time cost=7.549\r\nINFO:root:Epoch[9] Validation-accuracy=0.681171\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/67", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/67/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/67/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/67", "id": 315171750, "node_id": "MDU6SXNzdWUzMTUxNzE3NTA=", "number": 67, "title": "Does not utilize all the GPUs on a multi-gpu machine", "user": {"login": "karan6181", "id": 12561286, "node_id": "MDQ6VXNlcjEyNTYxMjg2", "avatar_url": "https://avatars2.githubusercontent.com/u/12561286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karan6181", "html_url": "https://github.com/karan6181", "followers_url": "https://api.github.com/users/karan6181/followers", "following_url": "https://api.github.com/users/karan6181/following{/other_user}", "gists_url": "https://api.github.com/users/karan6181/gists{/gist_id}", "starred_url": "https://api.github.com/users/karan6181/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karan6181/subscriptions", "organizations_url": "https://api.github.com/users/karan6181/orgs", "repos_url": "https://api.github.com/users/karan6181/repos", "events_url": "https://api.github.com/users/karan6181/events{/privacy}", "received_events_url": "https://api.github.com/users/karan6181/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-17T18:07:40Z", "updated_at": "2018-04-23T22:56:59Z", "closed_at": "2018-04-23T22:56:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have noticed that while running `keras/example/cifar10_cnn.py`(uses Sequential API) and `keras/example/lstm_text_generation.py`(uses Sequential API)  on multi-gpu machine such as Amazon AWS P3.8xLarge instance, the code does not utilize all the GPUs. However, it just uses a single GPU.\r\n\r\nI have used `keras-apache-mxnet/benchmark` template scripts and modified `cifar10_cnn.py` and `lstm_text_generation.py` based on that template script.\r\n\r\n**Command:**\r\n\r\n```bash\r\nsh run_mxnet_backend.sh 4_gpu_config\r\n```\r\n\r\nHere, the test is only using 1 GPU instead of 4 GPUs.\r\n\r\nHowever, the when I ran the `benchmark_resnet.py(uses functional API) ` test with `4_gpu_config` option, it utilizes all the GPUs. \r\n\r\nI think the problem is with setting the model context when test uses keras `sequential()` API. \r\n\r\n**More information:**\r\n\r\n```bash\r\n(Pdb) self\r\n<keras.models.Sequential object at 0x7f3002ad9630>\r\n\r\n(Pdb) self._context\r\n[gpu(0), gpu(1), gpu(2), gpu(3)]\r\n\r\n(Pdb) self.model\r\n<keras.backend.mxnet_backend.get_model.<locals>.Model object at 0x7f2ffb4ec9b0>\r\n\r\n(Pdb) self.model._context\r\n[gpu(0)]\r\n```\r\n\r\nThank-You.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/63", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/63/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/63/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/63", "id": 311751528, "node_id": "MDU6SXNzdWUzMTE3NTE1Mjg=", "number": 63, "title": "K.gather not working for Embedding Layer using MXNet backend", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-05T20:08:21Z", "updated_at": "2018-05-13T22:31:54Z", "closed_at": "2018-05-13T22:31:54Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In Keras Embedding layer, K.gather operator is used (MXNet backend use mx.sym.take and TensorFlow backend use tf.gather for implementation). However, K.gather is giving error when using MXNet backend, and this issue only occurs in Embedding layer use case, not in other use cases.\r\n**Test Case**:\r\n tests/keras/layers/embeddings_test.py\r\n**Error Message**:\r\n`Error in operator broadcast_mul0: [13:05:25] src/operator/tensor/./elemwise_binary_broadcast_op.h:67: Check failed: l == 1 || r == 1 operands could not be broadcast together with shapes [3,2] [3]\r\n`\r\nThis [PR](https://github.com/awslabs/keras-apache-mxnet/pull/61) fixed it and is using directly mx.sym.Embedding instead of K.gather to implement the Keras Embedding Layer. Note this fix will break original Keras code and have conflict in future merge.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/60", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/60/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/60/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/60", "id": 311414145, "node_id": "MDU6SXNzdWUzMTE0MTQxNDU=", "number": 60, "title": "Dropout not working for LSTM layer", "user": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736929996, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTY=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-04T22:34:52Z", "updated_at": "2018-10-01T07:44:58Z", "closed_at": "2018-10-01T07:44:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "LSTM layer not working if dropout parameters are specified [here](https://github.com/awslabs/keras-apache-mxnet/blob/keras2_mxnet_backend/examples/imdb_lstm.py#L41):\r\n\r\nremoving the params from \r\n`model.add(LSTM(128, dropout=0.2, recurrent_dropout=0.2,  input_shape=input_shape))`\r\nto\r\n`model.add(LSTM(128, input_shape=input_shape)))`\r\nworks\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/58", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/58/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/58/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/58", "id": 311335164, "node_id": "MDU6SXNzdWUzMTEzMzUxNjQ=", "number": 58, "title": "Skipped conv3d backend test", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-04T18:10:02Z", "updated_at": "2018-05-13T22:21:07Z", "closed_at": "2018-05-13T22:21:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "in tests/keras/backend/backend_test.py, for test case `test_conv3d`, few test cases are skipped for MXNet backend.\r\n@roywei is working on the fix and enable these edge cases.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/57", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/57/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/57/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/57", "id": 311087419, "node_id": "MDU6SXNzdWUzMTEwODc0MTk=", "number": 57, "title": "Fail to install keras with Mxnet", "user": {"login": "harryprince", "id": 5362577, "node_id": "MDQ6VXNlcjUzNjI1Nzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5362577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harryprince", "html_url": "https://github.com/harryprince", "followers_url": "https://api.github.com/users/harryprince/followers", "following_url": "https://api.github.com/users/harryprince/following{/other_user}", "gists_url": "https://api.github.com/users/harryprince/gists{/gist_id}", "starred_url": "https://api.github.com/users/harryprince/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harryprince/subscriptions", "organizations_url": "https://api.github.com/users/harryprince/orgs", "repos_url": "https://api.github.com/users/harryprince/repos", "events_url": "https://api.github.com/users/harryprince/events{/privacy}", "received_events_url": "https://api.github.com/users/harryprince/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-04T05:10:27Z", "updated_at": "2020-01-23T04:42:22Z", "closed_at": "2018-04-09T23:16:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to install keras with mxnet,  howerver, it failed.\r\n\r\n```\r\npip install git+https://github.com/awslab\r\ns/keras-apache-mxnet\r\n\r\n  File \"/tmp/RtmpIpKgN0/chunk-code-26bb3d563203.txt\", line 1, in <module>\r\n    import keras\r\n  File \"/home/gpu-server-1/.virtualenvs/r-tensorflow/local/lib/python2.7/site-packages/keras/__init__.py\", line 3, in <module>\r\n    from . import utils\r\n  File \"/home/gpu-server-1/.virtualenvs/r-tensorflow/local/lib/python2.7/site-packages/keras/utils/__init__.py\", line 6, in <module>\r\n    from . import conv_utils\r\n  File \"/home/gpu-server-1/.virtualenvs/r-tensorflow/local/lib/python2.7/site-packages/keras/utils/conv_utils.py\", line 9, in <module>\r\n    from .. import backend as K\r\n  File \"/home/gpu-server-1/.virtualenvs/r-tensorflow/local/lib/python2.7/site-packages/keras/backend/__init__.py\", line 36, in <module>\r\n    assert _backend in {'theano', 'tensorflow', 'cntk'}\r\nAssertionError\r\n```\r\n\r\nMy environment:\r\n```\r\nUbuntu 16.04.4 LTS \\n \\l\r\npython 2.7.12\r\ncuda9.1\r\nmxnet-cu91\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/53", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/53/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/53/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/53", "id": 309463550, "node_id": "MDU6SXNzdWUzMDk0NjM1NTA=", "number": 53, "title": "Conv2d_transpose and conv3d_transpose test cases failing ", "user": {"login": "karan6181", "id": 12561286, "node_id": "MDQ6VXNlcjEyNTYxMjg2", "avatar_url": "https://avatars2.githubusercontent.com/u/12561286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karan6181", "html_url": "https://github.com/karan6181", "followers_url": "https://api.github.com/users/karan6181/followers", "following_url": "https://api.github.com/users/karan6181/following{/other_user}", "gists_url": "https://api.github.com/users/karan6181/gists{/gist_id}", "starred_url": "https://api.github.com/users/karan6181/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karan6181/subscriptions", "organizations_url": "https://api.github.com/users/karan6181/orgs", "repos_url": "https://api.github.com/users/karan6181/repos", "events_url": "https://api.github.com/users/karan6181/events{/privacy}", "received_events_url": "https://api.github.com/users/karan6181/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-28T17:39:27Z", "updated_at": "2018-04-02T21:20:13Z", "closed_at": "2018-03-29T23:29:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Changes in constant() operator causes failure in Conv2d_transpose() and conv3d_transpose() test cases with the following error:\r\n```\r\n    def _sync_weights(self):\r\n        if self._weights_dirty:\r\n            args, auxs = self._module.get_params()\r\n            for name in self._arg_names:\r\n>               self._args[name][:] = args[name]\r\nE               KeyError: 'conv2d_transpose_2/kernel1'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/43", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/43/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/43/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/43", "id": 297948459, "node_id": "MDU6SXNzdWUyOTc5NDg0NTk=", "number": 43, "title": "multi-gpu tutorial: model parameter (n and version)", "user": {"login": "aaronmarkham", "id": 5974205, "node_id": "MDQ6VXNlcjU5NzQyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5974205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronmarkham", "html_url": "https://github.com/aaronmarkham", "followers_url": "https://api.github.com/users/aaronmarkham/followers", "following_url": "https://api.github.com/users/aaronmarkham/following{/other_user}", "gists_url": "https://api.github.com/users/aaronmarkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronmarkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronmarkham/subscriptions", "organizations_url": "https://api.github.com/users/aaronmarkham/orgs", "repos_url": "https://api.github.com/users/aaronmarkham/repos", "events_url": "https://api.github.com/users/aaronmarkham/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronmarkham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-16T23:12:32Z", "updated_at": "2018-05-13T22:26:51Z", "closed_at": "2018-05-13T22:26:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "The comments say that if we're doing ResNet110 - which I think we are - then `n` should be set to 18 or 12, depending on what version we're running. We're still running `n=3` which is ResNet20.0 on version 1. Also, should be we be running version 2 instead of 1?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/42", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/42/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/42/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/42", "id": 297947229, "node_id": "MDU6SXNzdWUyOTc5NDcyMjk=", "number": 42, "title": "multi-gpu tutorial: batch size and optimization", "user": {"login": "aaronmarkham", "id": 5974205, "node_id": "MDQ6VXNlcjU5NzQyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5974205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronmarkham", "html_url": "https://github.com/aaronmarkham", "followers_url": "https://api.github.com/users/aaronmarkham/followers", "following_url": "https://api.github.com/users/aaronmarkham/following{/other_user}", "gists_url": "https://api.github.com/users/aaronmarkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronmarkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronmarkham/subscriptions", "organizations_url": "https://api.github.com/users/aaronmarkham/orgs", "repos_url": "https://api.github.com/users/aaronmarkham/repos", "events_url": "https://api.github.com/users/aaronmarkham/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronmarkham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-16T23:05:41Z", "updated_at": "2018-04-12T05:27:37Z", "closed_at": "2018-04-12T05:27:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running the tutorial with the default settings it doesn't seem like the batch size is optimized for the # of gpus (and learning rate should be modified too), so maybe that should be discussed and set. When I tried to tinker with it, I wasn't able to really increase gpu utilization much.\r\n\r\n```\r\nubuntu@ip-172-31-9-178:~$ watch -n0.1 nvidia-smi\r\n\r\nEvery 0.1s: nvidia-smi                                                                                       Fri Feb 16 23:00:41 2018\r\n\r\nFri Feb 16 23:00:41 2018\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 384.111                Driver Version: 384.111                   |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla V100-SXM2...  On   | 00000000:00:1B.0 Off |                    0 |\r\n| N/A   44C    P0    53W / 300W |    786MiB / 16152MiB |     15%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  Tesla V100-SXM2...  On   | 00000000:00:1C.0 Off |                    0 |\r\n| N/A   41C    P0    51W / 300W |    786MiB / 16152MiB |     17%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   2  Tesla V100-SXM2...  On   | 00000000:00:1D.0 Off |                    0 |\r\n| N/A   41C    P0    53W / 300W |    786MiB / 16152MiB |     18%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n|   3  Tesla V100-SXM2...  On   | 00000000:00:1E.0 Off |                    0 |\r\n| N/A   43C    P0    55W / 300W |    786MiB / 16152MiB |     19%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n\r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|    0      2774      C   python                                       776MiB |\r\n|    1      2774      C   python                                       776MiB |\r\n|    2      2774      C   python                                       776MiB |\r\n|    3      2774      C   python                                       776MiB |\r\n+-----------------------------------------------------------------------------+\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/41", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/41/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/41/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/41", "id": 297946355, "node_id": "MDU6SXNzdWUyOTc5NDYzNTU=", "number": 41, "title": "multi-gpu tutorial: warnings at the start of training", "user": {"login": "aaronmarkham", "id": 5974205, "node_id": "MDQ6VXNlcjU5NzQyMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5974205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaronmarkham", "html_url": "https://github.com/aaronmarkham", "followers_url": "https://api.github.com/users/aaronmarkham/followers", "following_url": "https://api.github.com/users/aaronmarkham/following{/other_user}", "gists_url": "https://api.github.com/users/aaronmarkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaronmarkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaronmarkham/subscriptions", "organizations_url": "https://api.github.com/users/aaronmarkham/orgs", "repos_url": "https://api.github.com/users/aaronmarkham/repos", "events_url": "https://api.github.com/users/aaronmarkham/events{/privacy}", "received_events_url": "https://api.github.com/users/aaronmarkham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-16T23:01:20Z", "updated_at": "2018-04-12T05:30:21Z", "closed_at": "2018-04-12T05:30:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n/home/ubuntu/.local/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.\r\n  from ._conv import register_converters as _register_converters\r\n```\r\nAnd six of these repeated:\r\n```\r\n/home/ubuntu/.local/lib/python3.6/site-packages/Keras-2.1.3-py3.6.egg/keras/backend/mxnet_backend.py:4194: SyntaxWarning: assertion is always true, perhaps remove parentheses?\r\n```\r\n\r\nAfter the layers are described, it then gives these warnings:\r\n```\r\n[22:54:01] src/operator/././cudnn_algoreg-inl.h:107: Running performance tests to find the best convolution algorithm, this can take a while... (setting env variable MXNET_CUDNN_AUTOTUNE_DEFAULT to 0 to disable)\r\n/home/ubuntu/anaconda3/envs/mxnet_p36/lib/python3.6/site-packages/mxnet/module/bucketing_module.py:402: UserWarning: Optimizer created manually outside Module but rescale_grad is not normalized to 1.0/batch_size/num_workers (1.0 vs. 0.03125). Is this intended?\r\n  force_init=force_init)\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/37", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/37/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/37/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/37", "id": 293794590, "node_id": "MDU6SXNzdWUyOTM3OTQ1OTA=", "number": 37, "title": "Modulo operator is not supported", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-02T07:15:49Z", "updated_at": "2018-05-13T22:28:09Z", "closed_at": "2018-05-13T22:28:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "See this issue for more details - https://github.com/dmlc/keras/issues/95", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/34", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/34/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/34/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/34", "id": 293005387, "node_id": "MDU6SXNzdWUyOTMwMDUzODc=", "number": 34, "title": "Performance Improvement - Keras with MXNet backend", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-31T02:00:51Z", "updated_at": "2018-04-02T21:20:12Z", "closed_at": "2018-01-31T03:40:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. [x] Avoid transpose operation.\r\nKeras passes conv kernel in channels_last format.\r\nWe can avoid the transpose of kernel, by making a change in Keras conv layer something like:\r\n```\r\n\r\n        if self.data_format == 'channels_first':\r\n            kernel_shape = (self.filters, input_dim) + self.kernel_size\r\n        else:\r\n            kernel_shape = self.kernel_size + (input_dim, self.filters)\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/32", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/32/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/32/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/32", "id": 291736639, "node_id": "MDU6SXNzdWUyOTE3MzY2Mzk=", "number": 32, "title": "Unable to save and load models", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-25T22:22:23Z", "updated_at": "2018-04-02T21:20:12Z", "closed_at": "2018-02-02T07:12:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/apache/incubator-mxnet/issues/8911", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/29", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/29/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/29/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/29", "id": 290971344, "node_id": "MDU6SXNzdWUyOTA5NzEzNDQ=", "number": 29, "title": "Keras with MxNet running only on CPU", "user": {"login": "mongoose54", "id": 277391, "node_id": "MDQ6VXNlcjI3NzM5MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/277391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mongoose54", "html_url": "https://github.com/mongoose54", "followers_url": "https://api.github.com/users/mongoose54/followers", "following_url": "https://api.github.com/users/mongoose54/following{/other_user}", "gists_url": "https://api.github.com/users/mongoose54/gists{/gist_id}", "starred_url": "https://api.github.com/users/mongoose54/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mongoose54/subscriptions", "organizations_url": "https://api.github.com/users/mongoose54/orgs", "repos_url": "https://api.github.com/users/mongoose54/repos", "events_url": "https://api.github.com/users/mongoose54/events{/privacy}", "received_events_url": "https://api.github.com/users/mongoose54/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-23T19:52:54Z", "updated_at": "2018-04-02T21:20:12Z", "closed_at": "2018-01-31T01:58:47Z", "author_association": "NONE", "active_lock_reason": null, "body": " @sandeep-krishnamurthy Great work! I have used Mxnet as backend for Keras 1.2 in your previous repository: https://github.com/dmlc/keras and I really loved it! Congratulations!\r\n\r\nI came across your new forked repository for keras 2.x but I am having trouble to use the GPU. More specifically I followed the instructions from https://github.com/deep-learning-tools/keras/wiki/Installation-Guide---Keras-with-MXNet-backend and I installed the `mxnet-cu80` since I have CUDA 8. MxNet loads/works fine but when I try to run a Keras example: https://github.com/deep-learning-tools/keras/blob/master/examples/cifar10_cnn.py the experiment runs on the CPU and not the GPU. What am I doing wrong? Thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/28", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/28/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/28/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/28", "id": 290970169, "node_id": "MDU6SXNzdWUyOTA5NzAxNjk=", "number": 28, "title": "Accuracy tests are failing with MXNet optimizers", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-23T19:48:56Z", "updated_at": "2018-04-02T21:20:12Z", "closed_at": "2018-03-29T18:08:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Accuracy with MXNet backend optimizers are not up to the tolerance with other backends in tests\r\ntests/keras/optimizers_test.py\r\n\r\nThe difference looks like 0.75 expected v/s with mxnet 0.73.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/27", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/27/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/27/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/27", "id": 290968607, "node_id": "MDU6SXNzdWUyOTA5Njg2MDc=", "number": 27, "title": "Optimizers missing with MXNet backend", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-01-23T19:43:47Z", "updated_at": "2018-07-04T17:14:18Z", "closed_at": "2018-07-04T17:14:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following optimizers are not implemented yet for MXNet backend.\r\n1. [x] Adamax\r\n2. [x] NAdam\r\n3. [ ] Adam_AMSGrad", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/25", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/25/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/25/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/25", "id": 290935139, "node_id": "MDU6SXNzdWUyOTA5MzUxMzk=", "number": 25, "title": "Unable to serialize model with custom loss", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 931908288, "node_id": "MDU6TGFiZWw5MzE5MDgyODg=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/feature%20request", "name": "feature request", "color": "5319e7", "default": false, "description": ""}, {"id": 736929999, "node_id": "MDU6TGFiZWw3MzY5Mjk5OTk=", "url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/labels/help%20wanted", "name": "help wanted", "color": "33aa3f", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-23T17:54:03Z", "updated_at": "2018-05-31T19:37:03Z", "closed_at": "2018-05-31T19:37:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Need to fix test case - tests/keras/losses_test.py-> test_serializing_model_with_loss_class", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/22", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/22/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/22/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/22", "id": 290670131, "node_id": "MDU6SXNzdWUyOTA2NzAxMzE=", "number": 22, "title": "MXNet backend - Cannot call Model.predict without Compile", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "roywei", "id": 8022184, "node_id": "MDQ6VXNlcjgwMjIxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8022184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roywei", "html_url": "https://github.com/roywei", "followers_url": "https://api.github.com/users/roywei/followers", "following_url": "https://api.github.com/users/roywei/following{/other_user}", "gists_url": "https://api.github.com/users/roywei/gists{/gist_id}", "starred_url": "https://api.github.com/users/roywei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roywei/subscriptions", "organizations_url": "https://api.github.com/users/roywei/orgs", "repos_url": "https://api.github.com/users/roywei/repos", "events_url": "https://api.github.com/users/roywei/events{/privacy}", "received_events_url": "https://api.github.com/users/roywei/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-01-23T00:50:20Z", "updated_at": "2018-03-02T19:32:02Z", "closed_at": "2018-03-02T19:32:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "With MXNet backend, we cannot call Model.predict() without calling Model.compile().\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/19", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/19/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/19/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/19", "id": 288658285, "node_id": "MDU6SXNzdWUyODg2NTgyODU=", "number": 19, "title": "Support multi-machine Distributed Training on Keras with MXNet backend", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-15T16:51:52Z", "updated_at": "2018-05-13T22:19:43Z", "closed_at": "2018-05-13T22:19:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "MXNet provides easy to use interface for running large-scale model training jobs across multiple machines - http://mxnet.incubator.apache.org/faq/multi_devices.html?highlight=distributed%20training\r\n\r\nWe should provide such functionality for Keras users. We can start with MXNet backend and extend it to other backends.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/13", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/13/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/13/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/13", "id": 286036414, "node_id": "MDU6SXNzdWUyODYwMzY0MTQ=", "number": 13, "title": "Convolution in MXNet backend only support \"valid\" padding mode", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-04T16:16:23Z", "updated_at": "2018-04-02T21:20:11Z", "closed_at": "2018-01-23T00:49:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Convolution operator with MXNet support supports only with \"valid\" padding mode.\r\nAdd support for \"full\"/\"same\" padding mode.\r\nEnable convolutional layer tests after it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/7", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/7/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/7/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/7", "id": 279523377, "node_id": "MDU6SXNzdWUyNzk1MjMzNzc=", "number": 7, "title": "[Checklist] Phase 1 - Support CNN on Keras with MXNet", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-05T20:42:02Z", "updated_at": "2018-04-04T05:39:46Z", "closed_at": "2018-04-04T05:39:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue is to track all the pending tasks to support CNN on Keras with MXNet backend.\r\n(Note this is a running list)\r\n\r\n- [X] bias_add\r\n- [x] batch_norm\r\n- [X] batch_dot\r\n- [X] Conv2D\r\n- [x] Conv2D_Transpose\r\n- [X] Pooling2D\r\n- [X] Able to create and stack layers sequentially\r\n- [X] Able to compile the model\r\n- [X] Able to fit\r\n- [X] Supports CPU\r\n- [X] Supports one GPU\r\n- [X] Supports multi-GPU\r\n- [X] Able to train Resnet50 on CIFAR10\r\n- [X] SGD Optimizer\r\n- [X] RMSProp Optimizer\r\n- [x] Adam Optimizer\r\n- [x] AdaDelta Optimizer\r\n- [x] Able to train VGGNet on CIFAR10\r\n- [x] Able to train InceptionV3 on CIFAR10\r\n- [x] Able to save the model\r\n- [x] Able to load the saved model (pre-trained with MXNet)\r\n- [x] Able to run inference from pre-trained model\r\n- [x] Keras tests are passing\r\n- [x] Keras lint checks are passing\r\n- [ ] Able to load the saved model (from other backend?)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/5", "repository_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet", "labels_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/5/comments", "events_url": "https://api.github.com/repos/awslabs/keras-apache-mxnet/issues/5/events", "html_url": "https://github.com/awslabs/keras-apache-mxnet/issues/5", "id": 278636114, "node_id": "MDU6SXNzdWUyNzg2MzYxMTQ=", "number": 5, "title": "Operators to be implemented/fixed in MXNet Backend", "user": {"login": "sandeep-krishnamurthy", "id": 3403674, "node_id": "MDQ6VXNlcjM0MDM2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3403674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sandeep-krishnamurthy", "html_url": "https://github.com/sandeep-krishnamurthy", "followers_url": "https://api.github.com/users/sandeep-krishnamurthy/followers", "following_url": "https://api.github.com/users/sandeep-krishnamurthy/following{/other_user}", "gists_url": "https://api.github.com/users/sandeep-krishnamurthy/gists{/gist_id}", "starred_url": "https://api.github.com/users/sandeep-krishnamurthy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sandeep-krishnamurthy/subscriptions", "organizations_url": "https://api.github.com/users/sandeep-krishnamurthy/orgs", "repos_url": "https://api.github.com/users/sandeep-krishnamurthy/repos", "events_url": "https://api.github.com/users/sandeep-krishnamurthy/events{/privacy}", "received_events_url": "https://api.github.com/users/sandeep-krishnamurthy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-02T00:32:16Z", "updated_at": "2018-04-02T21:20:10Z", "closed_at": "2018-01-15T16:33:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Below is the checklist of operators to be implemented or revisited for fixing issues in MXNet backend for Keras:\r\n- [ ] Batchnorm\r\n- [ ] BatchDot \r\n- [ ] Binary CrossEntropy\r\n- [ ] Categorical CrossEntropy\r\n- [ ] logsumexp\r\n- [ ] Sparse operators\r\n- [ ] bias_add\r\n- [ ] temporal_padding - MXNet do not support 3D Tensor padding\r\n- [ ] conv1d/2d/3d\r\n- [ ] rnn", "performed_via_github_app": null, "score": 1.0}]}