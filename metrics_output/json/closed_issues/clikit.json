{"total_count": 5, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/sdispater/clikit/issues/28", "repository_url": "https://api.github.com/repos/sdispater/clikit", "labels_url": "https://api.github.com/repos/sdispater/clikit/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/sdispater/clikit/issues/28/comments", "events_url": "https://api.github.com/repos/sdispater/clikit/issues/28/events", "html_url": "https://github.com/sdispater/clikit/issues/28", "id": 613940817, "node_id": "MDU6SXNzdWU2MTM5NDA4MTc=", "number": 28, "title": "Dependency crashtest repository not online?", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-07T10:18:55Z", "updated_at": "2020-07-12T08:15:29Z", "closed_at": "2020-07-12T08:15:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://pypi.org/project/crashtest/ says the repository is at https://github.com/sdispater/crashtest , but that is 404", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sdispater/clikit/issues/13", "repository_url": "https://api.github.com/repos/sdispater/clikit", "labels_url": "https://api.github.com/repos/sdispater/clikit/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/sdispater/clikit/issues/13/comments", "events_url": "https://api.github.com/repos/sdispater/clikit/issues/13/events", "html_url": "https://github.com/sdispater/clikit/issues/13", "id": 560146475, "node_id": "MDU6SXNzdWU1NjAxNDY0NzU=", "number": 13, "title": "CliKitException do not inherit from BaseException", "user": {"login": "finswimmer", "id": 2164565, "node_id": "MDQ6VXNlcjIxNjQ1NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2164565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finswimmer", "html_url": "https://github.com/finswimmer", "followers_url": "https://api.github.com/users/finswimmer/followers", "following_url": "https://api.github.com/users/finswimmer/following{/other_user}", "gists_url": "https://api.github.com/users/finswimmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/finswimmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finswimmer/subscriptions", "organizations_url": "https://api.github.com/users/finswimmer/orgs", "repos_url": "https://api.github.com/users/finswimmer/repos", "events_url": "https://api.github.com/users/finswimmer/events{/privacy}", "received_events_url": "https://api.github.com/users/finswimmer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-05T05:19:24Z", "updated_at": "2020-02-14T10:50:46Z", "closed_at": "2020-02-14T10:50:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nin https://github.com/python-poetry/poetry/issues/1974 @pscosta5 report a case where poetry tries to catch a `CliKitException`. This fails with:\r\n\r\n```\r\n[TypeError]\r\ncatching classes that do not inherit from BaseException is not allowed\r\n```\r\n\r\nThe issue is here:\r\n\r\nhttps://github.com/sdispater/clikit/blob/206198eb60d53c5daefa715f8a93e1fe85ffcf7e/src/clikit/api/exceptions.py#L1\r\n\r\n`CliKitException` should inherit from `BaseException` or `Exception`.\r\n\r\nfin swimmer\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sdispater/clikit/issues/11", "repository_url": "https://api.github.com/repos/sdispater/clikit", "labels_url": "https://api.github.com/repos/sdispater/clikit/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/sdispater/clikit/issues/11/comments", "events_url": "https://api.github.com/repos/sdispater/clikit/issues/11/events", "html_url": "https://github.com/sdispater/clikit/issues/11", "id": 544581658, "node_id": "MDU6SXNzdWU1NDQ1ODE2NTg=", "number": 11, "title": "Misnamed pastel option", "user": {"login": "Amossys-team", "id": 26742858, "node_id": "MDQ6VXNlcjI2NzQyODU4", "avatar_url": "https://avatars1.githubusercontent.com/u/26742858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amossys-team", "html_url": "https://github.com/Amossys-team", "followers_url": "https://api.github.com/users/Amossys-team/followers", "following_url": "https://api.github.com/users/Amossys-team/following{/other_user}", "gists_url": "https://api.github.com/users/Amossys-team/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amossys-team/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amossys-team/subscriptions", "organizations_url": "https://api.github.com/users/Amossys-team/orgs", "repos_url": "https://api.github.com/users/Amossys-team/repos", "events_url": "https://api.github.com/users/Amossys-team/events{/privacy}", "received_events_url": "https://api.github.com/users/Amossys-team/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-02T13:37:07Z", "updated_at": "2020-01-10T15:08:02Z", "closed_at": "2020-01-10T15:08:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I came to this issue while running poetry. My setup involves:\r\n* python 3.8.1\r\n* poetry-1.0.0\r\n* cleo-0.7.6\r\n* clikit-0.4.1\r\n* pastel-0.2.0\r\n\r\nIn `clikit-0.4.1`, option \"underscore\" is adapted from \"underline\". See the following snippet:\r\nhttps://github.com/sdispater/clikit/blob/0.4.1/src/clikit/adapter/style_converter.py#L19.\r\n\r\nThus, when running poetry, the following error occurs:\r\n```\r\n$ python -V\r\nPython 3.8.1\r\n$ poetry   \r\nTraceback (most recent call last):\r\n  File \"/usr/bin/poetry\", line 11, in <module>\r\n    load_entry_point('poetry==1.0.0', 'console_scripts', 'poetry')()\r\n  File \"/usr/lib/python3.8/site-packages/poetry/console/__init__.py\", line 5, in main\r\n    return Application().run()\r\n  File \"/usr/lib/python3.8/site-packages/poetry/console/application.py\", line 32, in __init__\r\n    super(Application, self).__init__(\r\n  File \"/usr/lib/python3.8/site-packages/cleo/application.py\", line 29, in __init__\r\n    super(Application, self).__init__(config)\r\n  File \"/usr/lib/python3.8/site-packages/clikit/console_application.py\", line 32, in __init__\r\n    self._preliminary_io = ConsoleIO()\r\n  File \"/usr/lib/python3.8/site-packages/clikit/io/console_io.py\", line 31, in __init__\r\n    formatter = AnsiFormatter()\r\n  File \"/usr/lib/python3.8/site-packages/clikit/formatter/ansi_formatter.py\", line 26, in __init__\r\n    pastel_style = StyleConverter.convert(style)\r\n  File \"/usr/lib/python3.8/site-packages/clikit/adapter/style_converter.py\", line 30, in convert\r\n    return PastelStyle(style.foreground_color, style.background_color, options)\r\n  File \"/usr/lib/python3.8/site-packages/pastel/style.py\", line 74, in __init__\r\n    self.set_options(options)\r\n  File \"/usr/lib/python3.8/site-packages/pastel/style.py\", line 133, in set_options\r\n    self.set_option(option)\r\n  File \"/usr/lib/python3.8/site-packages/pastel/style.py\", line 110, in set_option\r\n    raise ValueError(\r\nValueError: Invalid option specified: \"underscore\". Expected one of (bold, dark, italic, underline, blink, reverse, conceal)\r\n```\r\n\r\nApplying the patch given below resolves this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sdispater/clikit/issues/7", "repository_url": "https://api.github.com/repos/sdispater/clikit", "labels_url": "https://api.github.com/repos/sdispater/clikit/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/sdispater/clikit/issues/7/comments", "events_url": "https://api.github.com/repos/sdispater/clikit/issues/7/events", "html_url": "https://github.com/sdispater/clikit/issues/7", "id": 502735807, "node_id": "MDU6SXNzdWU1MDI3MzU4MDc=", "number": 7, "title": "clikit no longer seems to work on Python 3.5", "user": {"login": "reversefold", "id": 100180, "node_id": "MDQ6VXNlcjEwMDE4MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/100180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reversefold", "html_url": "https://github.com/reversefold", "followers_url": "https://api.github.com/users/reversefold/followers", "following_url": "https://api.github.com/users/reversefold/following{/other_user}", "gists_url": "https://api.github.com/users/reversefold/gists{/gist_id}", "starred_url": "https://api.github.com/users/reversefold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reversefold/subscriptions", "organizations_url": "https://api.github.com/users/reversefold/orgs", "repos_url": "https://api.github.com/users/reversefold/repos", "events_url": "https://api.github.com/users/reversefold/events{/privacy}", "received_events_url": "https://api.github.com/users/reversefold/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-04T16:39:42Z", "updated_at": "2020-02-28T10:41:18Z", "closed_at": "2020-02-28T10:41:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on a build for a project which must run on Python 3.5.2 and which uses poetry. It ran fine locally on Python 3.6 during development but when I sent the build out to our build machines it failed with this:\r\n```\r\n00:01:11.438 2019-10-04 15:35:36,841 INFO: > poetry install\r\n00:01:11.476 Traceback (most recent call last):\r\n00:01:11.476   File \"_venv/bin/poetry\", line 6, in <module>\r\n00:01:11.476     from poetry.console import main\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/poetry/console/__init__.py\", line 1, in <module>\r\n00:01:11.476     from .application import Application\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/poetry/console/application.py\", line 3, in <module>\r\n00:01:11.476     from cleo import Application as BaseApplication\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/cleo/__init__.py\", line 3, in <module>\r\n00:01:11.476     from .application import Application\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/cleo/application.py\", line 4, in <module>\r\n00:01:11.476     from clikit.console_application import ConsoleApplication\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/clikit/__init__.py\", line 1, in <module>\r\n00:01:11.476     from .api.config.application_config import ApplicationConfig\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/clikit/api/config/__init__.py\", line 1, in <module>\r\n00:01:11.476     from .application_config import ApplicationConfig\r\n00:01:11.476   File \"/shn/builder/workspace/build-ekg-trunk/_venv/lib/python3.5/site-packages/clikit/api/config/application_config.py\", line 6, in <module>\r\n00:01:11.476     from typing import ContextManager\r\n00:01:11.476 ImportError: cannot import name 'ContextManager'\r\n```\r\n\r\nI've been digging around and noticed that this line was added in 9b0e11e0863c9ed10bff743436ce405add0b6121. However, clikit's pyproject.tomp also has this dependency:\r\n```\r\ntyping = { version = \"^3.6\", python = \"~2.7 || ~3.4\" }\r\n```\r\nDespite that dependency there is no typing module installed on Python 3.5, and this seems correct since Python 3.5 has the typing module built-in.\r\n\r\nThe build is running on Ubuntu 16.04 (xenial) with Python 3.5.2.\r\n```\r\nroot@87176139d6bb:/# lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 16.04.6 LTS\r\nRelease:        16.04\r\nCodename:       xenial\r\nroot@87176139d6bb:/# apt-cache policy python3.5\r\npython3.5:\r\n  Installed: 3.5.2-2ubuntu0~16.04.8\r\n  Candidate: 3.5.2-2ubuntu0~16.04.8\r\n  Version table:\r\n *** 3.5.2-2ubuntu0~16.04.8 500\r\n        500 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages\r\n        500 http://security.ubuntu.com/ubuntu xenial-security/main amd64 Packages\r\n        100 /var/lib/dpkg/status\r\n     3.5.1-10 500\r\n        500 http://archive.ubuntu.com/ubuntu xenial/main amd64 Packages\r\n```\r\n\r\nIn trying things locally with `pyenv` I found out that while Python 3.5.2 doesn't have `typing.ContextManager` Python 3.5.7 does, which means that the Python docs are either incorrect or confusing as it says that this was introduced in Python 3.6.\r\n\r\nI've also tried installing the 'typing' package in a Python 3.5.2 virtualenv and `typing.ContextManager` is still not present.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sdispater/clikit/issues/3", "repository_url": "https://api.github.com/repos/sdispater/clikit", "labels_url": "https://api.github.com/repos/sdispater/clikit/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/sdispater/clikit/issues/3/comments", "events_url": "https://api.github.com/repos/sdispater/clikit/issues/3/events", "html_url": "https://github.com/sdispater/clikit/issues/3", "id": 469683573, "node_id": "MDU6SXNzdWU0Njk2ODM1NzM=", "number": 3, "title": "Error while use poetry in circleci", "user": {"login": "pbzweihander", "id": 15262528, "node_id": "MDQ6VXNlcjE1MjYyNTI4", "avatar_url": "https://avatars2.githubusercontent.com/u/15262528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbzweihander", "html_url": "https://github.com/pbzweihander", "followers_url": "https://api.github.com/users/pbzweihander/followers", "following_url": "https://api.github.com/users/pbzweihander/following{/other_user}", "gists_url": "https://api.github.com/users/pbzweihander/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbzweihander/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbzweihander/subscriptions", "organizations_url": "https://api.github.com/users/pbzweihander/orgs", "repos_url": "https://api.github.com/users/pbzweihander/repos", "events_url": "https://api.github.com/users/pbzweihander/events{/privacy}", "received_events_url": "https://api.github.com/users/pbzweihander/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-18T10:08:25Z", "updated_at": "2020-02-28T11:05:31Z", "closed_at": "2020-02-28T11:05:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error output:\r\n\r\n```\r\n#!/bin/bash -eo pipefail\r\npython -m venv venv\r\n. venv/bin/activate\r\npoetry -vvv --version\r\npoetry install\r\n\r\n\r\n[ValueError]\r\ninvalid width -1 (must be > 0)\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/console_application.py\", line 132, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/api/command/command.py\", line 119, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/api/command/command.py\", line 159, in _do_handle\r\n    self._dispatcher.dispatch(ConsoleEvents.PRE_HANDLE.value, event)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/api/event/event_dispatcher.py\", line 22, in dispatch\r\n    self._do_dispatch(listeners, event_name, event)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/api/event/event_dispatcher.py\", line 89, in _do_dispatch\r\n    listener(event, event_name, self)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/config/default_application_config.py\", line 161, in print_version\r\n    version.render(event.io)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/ui/components/name_version.py\", line 28, in render\r\n    paragraph.render(io, indentation)\r\n  File \"/home/circleci/.poetry/lib/poetry/_vendor/py3.7/clikit/ui/components/paragraph.py\", line 25, in render\r\n    '\r\n'\".join(textwrap.wrap(self._text, text_width)),\r\n  File \"/usr/local/lib/python3.7/textwrap.py\", line 379, in wrap\r\n    return w.wrap(text)\r\n  File \"/usr/local/lib/python3.7/textwrap.py\", line 354, in wrap\r\n    return self._wrap_chunks(chunks)\r\n  File \"/usr/local/lib/python3.7/textwrap.py\", line 248, in _wrap_chunks\r\n    raise ValueError('invalid width %r (must be > 0)' % self.width)\r\n\r\nExited with code 1\r\n```\r\n\r\nCircleCI setting:\r\n\r\n```\r\n...\r\n      - run:\r\n          name: Install dependencies\r\n          command: |\r\n            python -m venv venv\r\n            . venv/bin/activate\r\n            poetry -vvv --version\r\n            poetry install\r\n...\r\n```\r\n\r\nI think clikit evaluate terminal width as 0 when in the circleci", "performed_via_github_app": null, "score": 1.0}]}