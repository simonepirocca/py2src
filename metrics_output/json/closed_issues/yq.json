{"total_count": 67, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/kislyuk/yq/issues/101", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/101/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/101/events", "html_url": "https://github.com/kislyuk/yq/issues/101", "id": 678206144, "node_id": "MDU6SXNzdWU2NzgyMDYxNDQ=", "number": 101, "title": "Error running jq: UnicodeDecodeError", "user": {"login": "philipp-siegmantel", "id": 56186731, "node_id": "MDQ6VXNlcjU2MTg2NzMx", "avatar_url": "https://avatars2.githubusercontent.com/u/56186731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipp-siegmantel", "html_url": "https://github.com/philipp-siegmantel", "followers_url": "https://api.github.com/users/philipp-siegmantel/followers", "following_url": "https://api.github.com/users/philipp-siegmantel/following{/other_user}", "gists_url": "https://api.github.com/users/philipp-siegmantel/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipp-siegmantel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipp-siegmantel/subscriptions", "organizations_url": "https://api.github.com/users/philipp-siegmantel/orgs", "repos_url": "https://api.github.com/users/philipp-siegmantel/repos", "events_url": "https://api.github.com/users/philipp-siegmantel/events{/privacy}", "received_events_url": "https://api.github.com/users/philipp-siegmantel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-13T07:06:12Z", "updated_at": "2020-08-18T16:31:47Z", "closed_at": "2020-08-18T16:31:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running yq on our Linux CI machine, i get the following error:\r\n```\r\nyq: Error running jq: UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 71: ordinal not in range(128).\r\n```\r\nIt works just fine on locally my MacBook. yq version is 2.10.1.\r\n\r\nIt is called like this:\r\n```\r\nyq 'with_entries(.value = .value.en)' translations/translations.yml > en.json\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/100", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/100/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/100/events", "html_url": "https://github.com/kislyuk/yq/issues/100", "id": 676405241, "node_id": "MDU6SXNzdWU2NzY0MDUyNDE=", "number": 100, "title": "get key with dot in yaml file", "user": {"login": "l0n3star", "id": 46204783, "node_id": "MDQ6VXNlcjQ2MjA0Nzgz", "avatar_url": "https://avatars0.githubusercontent.com/u/46204783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l0n3star", "html_url": "https://github.com/l0n3star", "followers_url": "https://api.github.com/users/l0n3star/followers", "following_url": "https://api.github.com/users/l0n3star/following{/other_user}", "gists_url": "https://api.github.com/users/l0n3star/gists{/gist_id}", "starred_url": "https://api.github.com/users/l0n3star/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l0n3star/subscriptions", "organizations_url": "https://api.github.com/users/l0n3star/orgs", "repos_url": "https://api.github.com/users/l0n3star/repos", "events_url": "https://api.github.com/users/l0n3star/events{/privacy}", "received_events_url": "https://api.github.com/users/l0n3star/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-10T20:44:25Z", "updated_at": "2020-08-10T21:07:39Z", "closed_at": "2020-08-10T21:07:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using ```yq``` on OSX to try and get a key with contains a dot.  Specifically I'm looking to get ```tls.crt```.  I tried:\r\n\r\n```\r\nyq .data.\"tls.crt\" tls.yaml\r\n```\r\n\r\nbut it doesn't work.  I just get **null**.  \r\n\r\nHow can this be achieved?  The yaml file is below.\r\n\r\n \r\n```\r\ncat tls.yaml \r\n\r\napiVersion: v1\r\n\r\ndata:\r\n\r\ntls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNxRENDQVpBQ0NRQzJ3Q2xDd3I2RlV6QU5CZ2txaGtpRzl3MEJBUXNGQURBV01SUXdFZ1lEVlFRRERBdG0KYjI4dVltRnlMbU52YlRBZUZ3MHlNREE0TVRBeE9UTTJNRE5hRncweU1UQTRNVEF4T1RNMk1ETmFNQll4RkRBUwpCZ05WQkFNTUMyWnZieTVpWVhJdVkyOXRNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDCkFRRUF0ZTgrZXNvc2Voc0UvYXErNUpHWTBzVzJUQTN1ZXN5Zi9UL3hTcXdXc25wMm9yQmphSE5xUUpaRzJHNWwKS0NnVFVxY3JwNFhraVhmS1hXelEzRml5R2N0SHZPSDdyRWhDVnBrVkM1QWtqMDN6aW40Tkc1UEdBaDdReHdMWApxSGhVR09QTFVXQk5iWDdFZlRjTHllSmNpU3l2QmlQVFZDYWJhSjdFWUUxbjNKcDFPcEhuTlFjb2ZPdnRablFaClRRdG4xNEt1NUFsbXRFWWNkaEZNcWZtQW9jUGhYdkZhZWVCZlcrNTlNSjc1OFJMME4vOWZjaEF1TDNhTWxoOEQKVy94ZjJsMldrTjVkYUZJNmJHSE9GYUdsNDhaN1hkZUFzMDNPRUVxVkJPa09FdjI0MTdWdHRtb1Y2blhLUTljUgp3UWdyU05kSjFtSkdWd0tRMHBCcFR2YU9Kd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQUU2SjRqCkIwY0dHdXVGZ1BRY2w0RGVDcCtLcWxhNzNXTGoxdVQzWVVCajM2ZGVDSkZZdWFCQ0YvVXpOTm5CRFU1K2wvdEoKS2M4aUxFcTh6Mjd0QWZQNnRyUGFCY2lJTEJ6OUxuZG5ickIzR3pFUkR2WmszZ0VuRFBUZkdGMlZEMk9icU1tbgpuWXMxQ1BndkhINjBSSVBaOWpLWW1PVWVuT1VyaEF6dFNEVTdOR1ZmOTR0Y3NWTUQ0eFd4STUwL3QvQlZ1ay9QCkpBbHRzS3F2czZJOWxQTFk1SUkybDM5WFZGSDZ6ZVdXYVJjUm1SRW1zUnBMTVZMVHVtMTViS3Q5bkl0b0RWamMKdnNEa0ZjMFBoWE9tMGZzaWQxdWpaTWc4U3VaWVk2UVJIaVR4M3JFaG9mUVRZWEsxMWgvSU9TM3JDejBWSGJiTAovcmQ2Z3N5ekZCR0k2V0lHCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\r\n\r\ntls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRQzE3ejU2eWl4Nkd3VDkKcXI3a2taalN4YlpNRGU1NnpKLzlQL0ZLckJheWVuYWlzR05vYzJwQWxrYllibVVvS0JOU3B5dW5oZVNKZDhwZApiTkRjV0xJWnkwZTg0ZnVzU0VKV21SVUxrQ1NQVGZPS2ZnMGJrOFlDSHRESEF0ZW9lRlFZNDh0UllFMXRmc1I5Ck53dko0bHlKTEs4R0k5TlVKcHRvbnNSZ1RXZmNtblU2a2VjMUJ5aDg2KzFtZEJsTkMyZlhncTdrQ1dhMFJoeDIKRVV5cCtZQ2h3K0ZlOFZwNTRGOWI3bjB3bnZueEV2UTMvMTl5RUM0dmRveVdId05iL0YvYVhaYVEzbDFvVWpwcwpZYzRWb2FYanhudGQxNEN6VGM0UVNwVUU2UTRTL2JqWHRXMjJhaFhxZGNwRDF4SEJDQ3RJMTBuV1lrWlhBcERTCmtHbE85bzRuQWdNQkFBRUNnZ0VBV2hvL2ZqNXNZcGpKRXZ3aUNEOFhTYU9EVWcxQVEyN2QrV1ZXa2QzQ2ErZjgKb3p2cUw0dWhYcFZPUnRmOW56S2h4emhsaFZUcFJ5K2RlRUZ3K3YrdVROb0JFRWwzQSs3UmMrUGlxVlJjMXVBTApNbGFWRlVoTk16V2h2ajNwSWxWZGlPb2dBcEJJS0djMDFyS1JVdzJaT0pKNXAvZk1MSXZtUVowSHNvNERWeHdOCkRjQWFkbnFmN3FraVhoLzBTcGltSmpwUSs1Nzc1anVFNk53L0JRakN1cWRMMUtVYTc3YWt0VUtnUVlCeGpFU2wKWC8vUjYyTzNNQWl5clUxN3E4TEh2aTlEcC92NkRJbUVmcldLS1ZxVjFLWkdja2t2RHlMZ0diNllDdEVzMEkxZgo0b3l2c2ZMSVAzM1JZSXU1Q3NrbnNjKzRkZzZKV1F1UjRRam16MHRPSVFLQmdRRHVPVlNUcm04aCtyUitidFpZClRCdmI3dEtRTERlWUx0elFaVFFQa2J6QTA1VzBsQm1xMUU1YUI0OEV2UEJXUFQxaUpIaExYMWxMOGZ1OHRUb2MKMkU4dksyQlNGalc3dHlFMStiREFFQWJ4V0ZPdDBFQmpkMW9ZK3l0MHJ5eXlhaUt6d3hScVBlVC9mM1FjbmFnUwptcEp5Q01JSFBQL1lEVGlUbXVwTEFncU5Wd0tCZ1FERGdxVnVDZGpBOUtkWTAwemZxRkJYbWRlZVE5Z1d2blVRClh4RHU3OGJoNWpCMVgwNkpRS1dtTFdBTTArOGFPbVFkSUJVeGg5NUN3bjQ0dmEwQ3hka1FSbER1RWplYkFld0kKeHNFN2xvZFZHeGVaeEtXZnpJc21rWjQ1a2pybjNnL3F1c0dCN29MUWdKWDZPNGVwWnhwa1lmSzJISHo1K2daYQpCL0tvbElHenNRS0JnRy9id2FmNnJ6cEFVMEpPM3h6azErd0VqeUNkY3BsbDM4K0d4ZFJOdFZqQndUamlsYzdPCkUrQllUa0tHU1QvbFQ0NW0yNGxnd3poUzdzYWtQaDVQUDVkQmdkL3BoOStWMU9WWVVqTk5FMFYrR1FTemxaaGUKOFpKclZmTmJVZHlRMDZ5ZS9GWUtyQjJBaGsvdGczOEF6NlQyRWMxK1NnL3ozVTRKM3R2TG9KTFBBb0dCQUo5YgpXOC9uUXI5MEt2c2hyNlVWb2ZibE5IU1J4QTQxeTJFK3U2U2wyQ3ZFM25hczZtekJQc1BHZEdYQVVVSEZtbGlMCkQvdEJUWTZJelMwZW5XaUhMemd1dUVSMG9OSTlyTkF5Z01vN0ZhL3UxenZFcDJNcTY3alNORytrbTFMbkUzNDIKSHdmekNyazhOZ0t5aHc4ek5MWGhpRjJidHRwaVNzOFRiMXl0UDFMaEFvR0JBTjFibHdyTklKQW44UmFZeFZFVwpGa1hMZEF5b2t1WEdPcGVpaTJGckVHbnEyS3p3NUlva1MrQVVaVE83YWJIaGhFbDAxS3h3MXpLRDdZVGJVL01ECjVjYVFPWGtaZmFMYktDVk95MFVIekwzbXRtS3B1cW80UGhPK0NoRGRtcXFRTXRYWG5kR0tRUGVBWkMwNEYwYUcKSU1vSHZTT05DbDhYeEhUWXpvMWtWZFplCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K\r\n\r\nkind: Secret\r\n\r\nmetadata:\r\n\r\ncreationTimestamp: \"2020-08-10T19:37:06Z\"\r\n\r\nname: test-tls\r\n\r\nnamespace: default\r\n\r\nresourceVersion: \"853143\"\r\n\r\nselfLink: /api/v1/namespaces/default/secrets/test-tls\r\n\r\nuid: 6955a6ab-2cf9-4c91-8ed9-f28769102918\r\n\r\ntype: kubernetes.io/tls\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/98", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/98/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/98/events", "html_url": "https://github.com/kislyuk/yq/issues/98", "id": 665822410, "node_id": "MDU6SXNzdWU2NjU4MjI0MTA=", "number": 98, "title": "2 different yq?", "user": {"login": "woodcockjosh", "id": 3609160, "node_id": "MDQ6VXNlcjM2MDkxNjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/3609160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodcockjosh", "html_url": "https://github.com/woodcockjosh", "followers_url": "https://api.github.com/users/woodcockjosh/followers", "following_url": "https://api.github.com/users/woodcockjosh/following{/other_user}", "gists_url": "https://api.github.com/users/woodcockjosh/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodcockjosh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodcockjosh/subscriptions", "organizations_url": "https://api.github.com/users/woodcockjosh/orgs", "repos_url": "https://api.github.com/users/woodcockjosh/repos", "events_url": "https://api.github.com/users/woodcockjosh/events{/privacy}", "received_events_url": "https://api.github.com/users/woodcockjosh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-26T17:11:57Z", "updated_at": "2020-07-27T03:46:37Z", "closed_at": "2020-07-27T03:46:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think this project should be deprecated in favor of https://github.com/mikefarah/yq and those binaries pushed to pip. Pumping everything through jq is not ideal and creates problems. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/97", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/97/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/97/events", "html_url": "https://github.com/kislyuk/yq/issues/97", "id": 637166971, "node_id": "MDU6SXNzdWU2MzcxNjY5NzE=", "number": 97, "title": "Empty YAML file produces an empty JSON file", "user": {"login": "lpellegr", "id": 128898, "node_id": "MDQ6VXNlcjEyODg5OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/128898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lpellegr", "html_url": "https://github.com/lpellegr", "followers_url": "https://api.github.com/users/lpellegr/followers", "following_url": "https://api.github.com/users/lpellegr/following{/other_user}", "gists_url": "https://api.github.com/users/lpellegr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lpellegr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lpellegr/subscriptions", "organizations_url": "https://api.github.com/users/lpellegr/orgs", "repos_url": "https://api.github.com/users/lpellegr/repos", "events_url": "https://api.github.com/users/lpellegr/events{/privacy}", "received_events_url": "https://api.github.com/users/lpellegr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-11T16:38:20Z", "updated_at": "2020-06-11T20:26:14Z", "closed_at": "2020-06-11T20:26:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using yq (version `2.10.1`) to convert several files, I noticed that an empty YAML file produces an empty JSON file while I was expecting `{}` as JSON.\r\n\r\nThe command used is the following:\r\n\r\n```bash\r\n$ yq . empty.yaml\r\n``` \r\n\r\nI am not sure it can be considered as a bug since the JSON grammar allows an empty object or array as root. As a consequence, I was wondering if there an equivalent to an empty object (`{}`) in YAML so that once passed to `yq`, the output is `{}`?\r\n\r\nThe command `echo \"{}\" | yq -y .` returns `{}`, which does not seem to make sense.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/96", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/96/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/96/events", "html_url": "https://github.com/kislyuk/yq/issues/96", "id": 635385667, "node_id": "MDU6SXNzdWU2MzUzODU2Njc=", "number": 96, "title": "hyphens in yaml break", "user": {"login": "wgroenewald", "id": 39625045, "node_id": "MDQ6VXNlcjM5NjI1MDQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/39625045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wgroenewald", "html_url": "https://github.com/wgroenewald", "followers_url": "https://api.github.com/users/wgroenewald/followers", "following_url": "https://api.github.com/users/wgroenewald/following{/other_user}", "gists_url": "https://api.github.com/users/wgroenewald/gists{/gist_id}", "starred_url": "https://api.github.com/users/wgroenewald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wgroenewald/subscriptions", "organizations_url": "https://api.github.com/users/wgroenewald/orgs", "repos_url": "https://api.github.com/users/wgroenewald/repos", "events_url": "https://api.github.com/users/wgroenewald/events{/privacy}", "received_events_url": "https://api.github.com/users/wgroenewald/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-09T12:27:05Z", "updated_at": "2020-06-09T21:12:15Z", "closed_at": "2020-06-09T21:12:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to run yq on a yaml path that has a hyphen in it I get an error:\r\n`cat file.yml | yq .redis-ha.auth`\r\n\r\nerror:\r\n```\r\njq: error: ha/0 is not defined at <top-level>, line 1:\r\n.redis-ha.auth\r\njq: 1 compile error\r\nyq: Error running jq: IOError: [Errno 32] Broken pipe.\r\n```\r\n\r\nWhen trying to extract different values without hyphens I get the expected result", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/94", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/94/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/94/events", "html_url": "https://github.com/kislyuk/yq/issues/94", "id": 611469757, "node_id": "MDU6SXNzdWU2MTE0Njk3NTc=", "number": 94, "title": "Question - How can I replace an element of a list?", "user": {"login": "vikas027", "id": 6998650, "node_id": "MDQ6VXNlcjY5OTg2NTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6998650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vikas027", "html_url": "https://github.com/vikas027", "followers_url": "https://api.github.com/users/vikas027/followers", "following_url": "https://api.github.com/users/vikas027/following{/other_user}", "gists_url": "https://api.github.com/users/vikas027/gists{/gist_id}", "starred_url": "https://api.github.com/users/vikas027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vikas027/subscriptions", "organizations_url": "https://api.github.com/users/vikas027/orgs", "repos_url": "https://api.github.com/users/vikas027/repos", "events_url": "https://api.github.com/users/vikas027/events{/privacy}", "received_events_url": "https://api.github.com/users/vikas027/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-03T17:57:01Z", "updated_at": "2020-05-05T00:35:19Z", "closed_at": "2020-05-05T00:35:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to replace `rolearn` in the below yaml with a value, I've read the docs but could not figure out how to replace `rolearn` here.\r\n\r\n```yaml\r\napiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: aws-auth\r\n  namespace: kube-system\r\ndata:\r\n  mapRoles: |\r\n    - rolearn: <ARN of instance role (not instance profile)>\r\n      username: system:node:{{EC2PrivateDNSName}}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/93", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/93/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/93/events", "html_url": "https://github.com/kislyuk/yq/issues/93", "id": 604846507, "node_id": "MDU6SXNzdWU2MDQ4NDY1MDc=", "number": 93, "title": "--yaml-output breaks yaml file format", "user": {"login": "jean-christophe-manciot", "id": 13176858, "node_id": "MDQ6VXNlcjEzMTc2ODU4", "avatar_url": "https://avatars3.githubusercontent.com/u/13176858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jean-christophe-manciot", "html_url": "https://github.com/jean-christophe-manciot", "followers_url": "https://api.github.com/users/jean-christophe-manciot/followers", "following_url": "https://api.github.com/users/jean-christophe-manciot/following{/other_user}", "gists_url": "https://api.github.com/users/jean-christophe-manciot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jean-christophe-manciot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jean-christophe-manciot/subscriptions", "organizations_url": "https://api.github.com/users/jean-christophe-manciot/orgs", "repos_url": "https://api.github.com/users/jean-christophe-manciot/repos", "events_url": "https://api.github.com/users/jean-christophe-manciot/events{/privacy}", "received_events_url": "https://api.github.com/users/jean-christophe-manciot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-22T15:24:31Z", "updated_at": "2020-05-03T16:35:53Z", "closed_at": "2020-05-03T16:35:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "yq: 2.10.0\r\nWith the following input yaml file ```yaml_list_dict.yml```:\r\n```\r\n---\r\nyaml_struct:\r\n  - key_1: '$.*?/|\\^(){}+@[]&_-'\r\n    key_2:\r\n      - '$.*?/|\\^(){}+@[]&_-'\r\n      - \"{\\_}\"\r\n      - value23\r\n    key_3: value31\r\n    key_4:\r\n      - value41\r\n      - value42\r\n    key_5: value51\r\n  - key_1_: value12\r\n    _key_2:\r\n      - value24\r\n      - value25\r\n    _key__3: '$.*?/|\\^(){}+@[]&_-'\r\n...\r\n```\r\nThe following command breaks the original format:\r\n```\r\nyq --sort-keys --yaml-output . ./yaml_list_dict.yml\r\nyaml_struct:\r\n  - key_1: $.*?/|\\^(){}+@[]&_-\r\n    key_2:\r\n      - $.*?/|\\^(){}+@[]&_-\r\n      - '{\u00a0}'\r\n      - value23\r\n    key_3: value31\r\n    key_4:\r\n      - value41\r\n      - value42\r\n    key_5: value51\r\n  - _key_2:\r\n      - value24\r\n      - value25\r\n    _key__3: $.*?/|\\^(){}+@[]&_-\r\n    key_1_: value12\r\n```\r\nThe original ```---`` and ```...``` have been removed.\r\nAm I missing something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/92", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/92/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/92/events", "html_url": "https://github.com/kislyuk/yq/issues/92", "id": 599767218, "node_id": "MDU6SXNzdWU1OTk3NjcyMTg=", "number": 92, "title": "Output array to space seperated string ?", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-14T18:18:05Z", "updated_at": "2020-04-15T16:28:31Z", "closed_at": "2020-04-15T15:28:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to compare the some content in a yaml file with a list I already have in an environment variable, seperated by spaces.\r\n\r\nIs there a way I can get the list of item values output on a single line by yq ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/91", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/91/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/91/events", "html_url": "https://github.com/kislyuk/yq/issues/91", "id": 595366221, "node_id": "MDU6SXNzdWU1OTUzNjYyMjE=", "number": 91, "title": "Yaml output converts exponential strings to a number", "user": {"login": "MadVikingGod", "id": 3766680, "node_id": "MDQ6VXNlcjM3NjY2ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3766680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MadVikingGod", "html_url": "https://github.com/MadVikingGod", "followers_url": "https://api.github.com/users/MadVikingGod/followers", "following_url": "https://api.github.com/users/MadVikingGod/following{/other_user}", "gists_url": "https://api.github.com/users/MadVikingGod/gists{/gist_id}", "starred_url": "https://api.github.com/users/MadVikingGod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MadVikingGod/subscriptions", "organizations_url": "https://api.github.com/users/MadVikingGod/orgs", "repos_url": "https://api.github.com/users/MadVikingGod/repos", "events_url": "https://api.github.com/users/MadVikingGod/events{/privacy}", "received_events_url": "https://api.github.com/users/MadVikingGod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-06T19:22:56Z", "updated_at": "2020-04-08T16:40:18Z", "closed_at": "2020-04-08T16:40:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the yaml output, yq will convert strings containing exponential numbers to a number.\r\n\r\n```\r\necho 'key: \"1e+06\"' > test.yaml\r\nyq -y test.yaml\r\n>  key: 1e+06\r\n```\r\nExpected output\r\n```\r\nyq -y test.yaml\r\n>  key: \"1e+06\"\r\n```\r\n\r\n\r\nThis does not happen with the json output.\r\n```\r\nyq . test.yaml\r\n>  {\r\n>    \"key\": \"1e+06\"\r\n>  } \r\n```\r\nNor does this effect lists, eg. `echo '- \"1e+06\"' > test.yaml`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/87", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/87/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/87/events", "html_url": "https://github.com/kislyuk/yq/issues/87", "id": 568693135, "node_id": "MDU6SXNzdWU1Njg2OTMxMzU=", "number": 87, "title": "could you provide some samples for how to parse xml file with yq?", "user": {"login": "ozbillwang", "id": 8954908, "node_id": "MDQ6VXNlcjg5NTQ5MDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8954908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozbillwang", "html_url": "https://github.com/ozbillwang", "followers_url": "https://api.github.com/users/ozbillwang/followers", "following_url": "https://api.github.com/users/ozbillwang/following{/other_user}", "gists_url": "https://api.github.com/users/ozbillwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozbillwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozbillwang/subscriptions", "organizations_url": "https://api.github.com/users/ozbillwang/orgs", "repos_url": "https://api.github.com/users/ozbillwang/repos", "events_url": "https://api.github.com/users/ozbillwang/events{/privacy}", "received_events_url": "https://api.github.com/users/ozbillwang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-21T02:13:11Z", "updated_at": "2020-02-21T10:45:33Z", "closed_at": "2020-02-21T04:47:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "the README is not clear enough to deal with xml. \r\n\r\nFor example, I have a pom.xml (https://github.com/codecov/example-java/blob/master/pom.xml). and I would like to \r\n\r\n1. get the version\r\n\r\nthe result should be `1.0-SNAPSHOT`\r\n\r\nI tried several commands, but no output\r\n\r\n```\r\ncat pom.xml |yq '//project//version'\r\n\r\ncat pom.xml |yq .project.version\r\n```\r\n\r\n2. remove the version line out of pom.xml\r\n\r\nSo the output will have the most lines, except `<version>1.0-SNAPSHOT</version>`\r\n\r\nhow do I get the result with yq?\r\n\r\nBy the way, I found a bug in yq. If pom.xml has tag (\\t) in the xml file, it will report error\r\n\r\n```\r\nyq: Error running jq: ScannerError: while scanning for the next token\r\nfound character '\\t' that cannot start any token\r\n  in \"<stdin>\", line 31, column 1.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/86", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/86/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/86/events", "html_url": "https://github.com/kislyuk/yq/issues/86", "id": 565943006, "node_id": "MDU6SXNzdWU1NjU5NDMwMDY=", "number": 86, "title": "How to update file with values from stdin?", "user": {"login": "aodj", "id": 1374905, "node_id": "MDQ6VXNlcjEzNzQ5MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1374905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aodj", "html_url": "https://github.com/aodj", "followers_url": "https://api.github.com/users/aodj/followers", "following_url": "https://api.github.com/users/aodj/following{/other_user}", "gists_url": "https://api.github.com/users/aodj/gists{/gist_id}", "starred_url": "https://api.github.com/users/aodj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aodj/subscriptions", "organizations_url": "https://api.github.com/users/aodj/orgs", "repos_url": "https://api.github.com/users/aodj/repos", "events_url": "https://api.github.com/users/aodj/events{/privacy}", "received_events_url": "https://api.github.com/users/aodj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-16T17:56:09Z", "updated_at": "2020-02-18T15:42:26Z", "closed_at": "2020-02-18T15:42:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to work out how I might be able to update the value in a yaml file that is piped in. My use case is that I'm encrypting files using Ansible Vault. Here's a contrived example:\r\n\r\n```bash\r\n$ echo -n \"ham and eggs\" | ansible-vault encrypt_string --stdin-name=ham-and-eggs-encrypted\r\nNew Vault password:\r\nConfirm New Vault password:\r\nReading plaintext input from stdin. (ctrl-d to end input)\r\nham-and-eggs-encrypted: !vault |\r\n          $ANSIBLE_VAULT;1.1;AES256\r\n          64656436373464613765353536353135653062373861373732396461316136353333633766623639\r\n          6234663364346163396133386133643461643462616662330a653663366536326462316563663561\r\n          30633565353464626239633031623333333966366263376161623537373631383866386233633033\r\n          6631323736386332620a653335663462383334373836303334326461613236333862383766666165\r\n          3964\r\n```\r\n\r\nI want to then pipe this into `yq` to update the stored value for the relevant key (`ham-and-eggs-encrypted` in this case).\r\n\r\nI was hoping I could do something like this:\r\n\r\n```bash\r\n$ echo -n \"ham and eggs\" | ansible-vault encrypt_string --stdin-name=ham-and-eggs-encrypted | sed -E 's/^[ ]{8}//' | yq -yi $1 encrypted_vars.yml\r\nyq: -i/--in-place can only be used with filename arguments, not on standard input\r\n```\r\n\r\n... but as you can see I get the error `yq: -i/--in-place can only be used with filename arguments, not on standard input`. \r\n\r\nAm I missing some way to do this? or is it simply not possible with pipes?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/85", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/85/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/85/events", "html_url": "https://github.com/kislyuk/yq/issues/85", "id": 559543025, "node_id": "MDU6SXNzdWU1NTk1NDMwMjU=", "number": 85, "title": "yq r somefile.json returns json as it is.", "user": {"login": "vaibhavmehrotra94", "id": 31144001, "node_id": "MDQ6VXNlcjMxMTQ0MDAx", "avatar_url": "https://avatars0.githubusercontent.com/u/31144001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaibhavmehrotra94", "html_url": "https://github.com/vaibhavmehrotra94", "followers_url": "https://api.github.com/users/vaibhavmehrotra94/followers", "following_url": "https://api.github.com/users/vaibhavmehrotra94/following{/other_user}", "gists_url": "https://api.github.com/users/vaibhavmehrotra94/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaibhavmehrotra94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaibhavmehrotra94/subscriptions", "organizations_url": "https://api.github.com/users/vaibhavmehrotra94/orgs", "repos_url": "https://api.github.com/users/vaibhavmehrotra94/repos", "events_url": "https://api.github.com/users/vaibhavmehrotra94/events{/privacy}", "received_events_url": "https://api.github.com/users/vaibhavmehrotra94/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-04T07:46:07Z", "updated_at": "2020-02-04T15:50:39Z", "closed_at": "2020-02-04T15:50:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to convert a JSON file to YAML. but it doesn't work like it is supposed to.\r\n\r\nI tried using version yq version :- 2.4.0. it worked perfectly on that.\r\n\r\nBut on a different system when i used with version :- 3.0.1 it returns the same JSON as it is.\r\n\r\nI have attached a sample below\r\n![yq sample](https://user-images.githubusercontent.com/31144001/73723992-5bb89280-4750-11ea-8e30-37b19e43b7ef.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/83", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/83/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/83/events", "html_url": "https://github.com/kislyuk/yq/issues/83", "id": 549267042, "node_id": "MDU6SXNzdWU1NDkyNjcwNDI=", "number": 83, "title": "yq-2.10.0 breaks on python 2.7", "user": {"login": "sonnyvan", "id": 9056113, "node_id": "MDQ6VXNlcjkwNTYxMTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/9056113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sonnyvan", "html_url": "https://github.com/sonnyvan", "followers_url": "https://api.github.com/users/sonnyvan/followers", "following_url": "https://api.github.com/users/sonnyvan/following{/other_user}", "gists_url": "https://api.github.com/users/sonnyvan/gists{/gist_id}", "starred_url": "https://api.github.com/users/sonnyvan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sonnyvan/subscriptions", "organizations_url": "https://api.github.com/users/sonnyvan/orgs", "repos_url": "https://api.github.com/users/sonnyvan/repos", "events_url": "https://api.github.com/users/sonnyvan/events{/privacy}", "received_events_url": "https://api.github.com/users/sonnyvan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-01-14T00:51:24Z", "updated_at": "2020-01-17T01:06:10Z", "closed_at": "2020-01-15T21:18:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "argcomplete brings in more-itertools which broke for me\r\n```\r\nCollecting more-itertools (from zipp>=0.5->importlib-metadata<2,>=0.23; python_version == \"2.7\"->argcomplete>=1.8.1->yq==2.10.0)\r\n  Using cached https://files.pythonhosted.org/packages/df/8c/c278395367a46c00d28036143fdc6583db8f98622b83875403f16473509b/more-itertools-8.1.0.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-JO6UHk/more-itertools/setup.py\", line 5, in <module>\r\n        from more_itertools import __version__\r\n      File \"/tmp/pip-build-JO6UHk/more-itertools/more_itertools/__init__.py\", line 1, in <module>\r\n        from .more import *  # noqa\r\n      File \"/tmp/pip-build-JO6UHk/more-itertools/more_itertools/more.py\", line 480\r\n        yield from iterable\r\n                 ^\r\n    SyntaxError: invalid syntax\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/81", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/81/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/81/events", "html_url": "https://github.com/kislyuk/yq/issues/81", "id": 547467644, "node_id": "MDU6SXNzdWU1NDc0Njc2NDQ=", "number": 81, "title": "Running via \"python3 -m\" doesn't work", "user": {"login": "pfalcon", "id": 500451, "node_id": "MDQ6VXNlcjUwMDQ1MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/500451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfalcon", "html_url": "https://github.com/pfalcon", "followers_url": "https://api.github.com/users/pfalcon/followers", "following_url": "https://api.github.com/users/pfalcon/following{/other_user}", "gists_url": "https://api.github.com/users/pfalcon/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfalcon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfalcon/subscriptions", "organizations_url": "https://api.github.com/users/pfalcon/orgs", "repos_url": "https://api.github.com/users/pfalcon/repos", "events_url": "https://api.github.com/users/pfalcon/events{/privacy}", "received_events_url": "https://api.github.com/users/pfalcon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-09T13:09:23Z", "updated_at": "2020-05-20T03:09:21Z", "closed_at": "2020-05-20T03:09:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's not always comfortable to rely on running via \"yq\" wrapper. Python offers its own way to execute arbitrary modules/packages, which doesn't rely on the setup of the underlying system (PATH, shebang support, etc.), It's `-m` switch to the interpreter, e.g. `python3 -m tabnanny`.\r\n\r\nBut yq unfortunately doesn't work that way:\r\n~~~\r\n$ python3 -m yq\r\n/usr/bin/python3: No module named yq.__main__; 'yq' is a package and cannot be directly executed\r\n~~~\r\n\r\nShould be pretty easy to fix of course.\r\n\r\nAll that with:\r\n~~~\r\n$ python3\r\nPython 3.6.9 (default, Nov  7 2019, 10:44:02) \r\n[GCC 8.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import yq\r\n>>> yq.__version__\r\n'2.10.0'\r\n~~~\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/80", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/80/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/80/events", "html_url": "https://github.com/kislyuk/yq/issues/80", "id": 545766759, "node_id": "MDU6SXNzdWU1NDU3NjY3NTk=", "number": 80, "title": "Special XML chars", "user": {"login": "aborruso", "id": 30607, "node_id": "MDQ6VXNlcjMwNjA3", "avatar_url": "https://avatars1.githubusercontent.com/u/30607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aborruso", "html_url": "https://github.com/aborruso", "followers_url": "https://api.github.com/users/aborruso/followers", "following_url": "https://api.github.com/users/aborruso/following{/other_user}", "gists_url": "https://api.github.com/users/aborruso/gists{/gist_id}", "starred_url": "https://api.github.com/users/aborruso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aborruso/subscriptions", "organizations_url": "https://api.github.com/users/aborruso/orgs", "repos_url": "https://api.github.com/users/aborruso/repos", "events_url": "https://api.github.com/users/aborruso/events{/privacy}", "received_events_url": "https://api.github.com/users/aborruso/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T14:52:05Z", "updated_at": "2020-01-06T15:26:04Z", "closed_at": "2020-01-06T15:26:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nin [this XML file](https://gist.github.com/aborruso/89bb48c748cef6cc4262ff3500608c4d/raw/510997ff48301a25b70b648ff724f05404673054/input.xml) I have in example these strings: `&amp;` and `&quot;`.\r\n\r\nIf I run `<input.xml xq . >out.json` in the output I have: \r\n\r\n- `&amp;` > `&`;\r\n- `&quot;` > `&quot;`  (not `\"`)\r\n\r\nIs there a way using xq to have the conversion also of `&quot;` ?\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/78", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/78/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/78/events", "html_url": "https://github.com/kislyuk/yq/issues/78", "id": 533489216, "node_id": "MDU6SXNzdWU1MzM0ODkyMTY=", "number": 78, "title": "Key \"on\" mistakenly parsed", "user": {"login": "evertonfraga", "id": 47108, "node_id": "MDQ6VXNlcjQ3MTA4", "avatar_url": "https://avatars2.githubusercontent.com/u/47108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evertonfraga", "html_url": "https://github.com/evertonfraga", "followers_url": "https://api.github.com/users/evertonfraga/followers", "following_url": "https://api.github.com/users/evertonfraga/following{/other_user}", "gists_url": "https://api.github.com/users/evertonfraga/gists{/gist_id}", "starred_url": "https://api.github.com/users/evertonfraga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evertonfraga/subscriptions", "organizations_url": "https://api.github.com/users/evertonfraga/orgs", "repos_url": "https://api.github.com/users/evertonfraga/repos", "events_url": "https://api.github.com/users/evertonfraga/events{/privacy}", "received_events_url": "https://api.github.com/users/evertonfraga/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-05T17:23:54Z", "updated_at": "2019-12-09T14:57:19Z", "closed_at": "2019-12-09T14:57:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, kudos for the project. It is really useful to me.\r\n\r\nHowever, i just bumped into an issue. while converting a specific key. `on:` gets translated to `true`. \r\n\r\n\r\n#### Environment\r\n- Python versions I tested: 3.6.0, 2.7.15\r\n- yq version: 2.9.2\r\n- MacOS\r\n\r\n\r\nReproducible steps, using `yq` own test files:\r\n```\r\ncurl https://raw.githubusercontent.com/kislyuk/yq/master/.github/workflows/pythonpackage.yml | yq .\r\n```\r\n\r\nOutput:\r\n```\r\n{\r\n  \"name\": \"Python package\",\r\n  \"true\": [  <====== HERE\r\n    \"push\"\r\n  ],\r\n  \"jobs\": {\r\n    \"build\": {\r\n\u2026\r\n(the rest of the output is OK)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/73", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/73/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/73/events", "html_url": "https://github.com/kislyuk/yq/issues/73", "id": 506907615, "node_id": "MDU6SXNzdWU1MDY5MDc2MTU=", "number": 73, "title": "Need a way to take json input and output to another format", "user": {"login": "scr-oath", "id": 41922797, "node_id": "MDQ6VXNlcjQxOTIyNzk3", "avatar_url": "https://avatars0.githubusercontent.com/u/41922797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scr-oath", "html_url": "https://github.com/scr-oath", "followers_url": "https://api.github.com/users/scr-oath/followers", "following_url": "https://api.github.com/users/scr-oath/following{/other_user}", "gists_url": "https://api.github.com/users/scr-oath/gists{/gist_id}", "starred_url": "https://api.github.com/users/scr-oath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scr-oath/subscriptions", "organizations_url": "https://api.github.com/users/scr-oath/orgs", "repos_url": "https://api.github.com/users/scr-oath/repos", "events_url": "https://api.github.com/users/scr-oath/events{/privacy}", "received_events_url": "https://api.github.com/users/scr-oath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-14T22:38:49Z", "updated_at": "2019-11-13T18:41:14Z", "closed_at": "2019-10-16T17:03:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "As an example use-case, I'd like to split junit <testsuites> into individual <testsuite> files.  One natural way to go about this would be to start with `xq -c .testsuites.testsuite` and then for each line, read the name of the suite, create a file, and output back to xml.  However, xq can only do the reverse translation if run in the same process; not if starting from json.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/71", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/71/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/71/events", "html_url": "https://github.com/kislyuk/yq/issues/71", "id": 506219232, "node_id": "MDU6SXNzdWU1MDYyMTkyMzI=", "number": 71, "title": "Not compatible with jq colorizer (jq -C)", "user": {"login": "kislyuk", "id": 862013, "node_id": "MDQ6VXNlcjg2MjAxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/862013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kislyuk", "html_url": "https://github.com/kislyuk", "followers_url": "https://api.github.com/users/kislyuk/followers", "following_url": "https://api.github.com/users/kislyuk/following{/other_user}", "gists_url": "https://api.github.com/users/kislyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kislyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kislyuk/subscriptions", "organizations_url": "https://api.github.com/users/kislyuk/orgs", "repos_url": "https://api.github.com/users/kislyuk/repos", "events_url": "https://api.github.com/users/kislyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/kislyuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-12T18:10:58Z", "updated_at": "2019-10-28T15:35:44Z", "closed_at": "2019-10-28T15:35:44Z", "author_association": "OWNER", "active_lock_reason": null, "body": "We may need to strip jq color terminal ANSI escapes from the stream before feeding them to the parser.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/70", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/70/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/70/events", "html_url": "https://github.com/kislyuk/yq/issues/70", "id": 504521399, "node_id": "MDU6SXNzdWU1MDQ1MjEzOTk=", "number": 70, "title": "Support tags/custom data types", "user": {"login": "varac", "id": 488213, "node_id": "MDQ6VXNlcjQ4ODIxMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/488213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varac", "html_url": "https://github.com/varac", "followers_url": "https://api.github.com/users/varac/followers", "following_url": "https://api.github.com/users/varac/following{/other_user}", "gists_url": "https://api.github.com/users/varac/gists{/gist_id}", "starred_url": "https://api.github.com/users/varac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varac/subscriptions", "organizations_url": "https://api.github.com/users/varac/orgs", "repos_url": "https://api.github.com/users/varac/repos", "events_url": "https://api.github.com/users/varac/events{/privacy}", "received_events_url": "https://api.github.com/users/varac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-09T09:19:08Z", "updated_at": "2019-11-04T18:47:47Z", "closed_at": "2019-11-04T17:09:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "yq strips out custom data types (in this example the `!vault ` one:\r\n\r\n```\r\n\u276f cat ansible-vault-example.yml\r\nborgbackup_passphrase: !vault |\r\n          $ANSIBLE_VAULT;1.1;AES256\r\n          33656436623938303062646533303361383266653334343037306663353134393833313332386638\r\n          3430326439376531666339343231653536623236323930640a666466336462323139396334633638\r\n          37356336303633626537343133626436633134366562353564616632386463646131613533646462\r\n          3333666233373330370a313164353238383336616433386436383738303464366461636337636166\r\n          63633864373863373230623733613861623463306130343638353965306339326235\r\n\r\n\u276f yq . < ansible-vault-example.yml\r\n{\r\n  \"borgbackup_passphrase\": \"$ANSIBLE_VAULT;1.1;AES256\\n33656436623938303062646533303361383266653334343037306663353134393833313332386638\\n3430326439376531666339343231653536623236323930640a666466336462323139396334633638\\n37356336303633626537343133626436633134366562353564616632386463646131613533646462\\n3333666233373330370a313164353238383336616433386436383738303464366461636337636166\\n63633864373863373230623733613861623463306130343638353965306339326235\\n\"\r\n}\r\n\r\n\u276f yq -y . < ansible-vault-example.yml\r\nborgbackup_passphrase: '$ANSIBLE_VAULT;1.1;AES256\r\n\r\n  33656436623938303062646533303361383266653334343037306663353134393833313332386638\r\n\r\n  3430326439376531666339343231653536623236323930640a666466336462323139396334633638\r\n\r\n  37356336303633626537343133626436633134366562353564616632386463646131613533646462\r\n\r\n  3333666233373330370a313164353238383336616433386436383738303464366461636337636166\r\n\r\n  63633864373863373230623733613861623463306130343638353965306339326235\r\n```\r\n\r\nThis seems to be a common bug in many cli yaml parsers, see also\r\n\r\n* [shyaml](https://github.com/0k/shyaml/issues/40)\r\n* [yq-go](https://github.com/mikefarah/yq/issues/172) is using `go-yaml`, and the\r\n  bug is still open in [go-yaml](https://github.com/go-yaml/yaml/issues/191)\r\n* [yaml-cli](https://github.com/pandastrike/yaml-cli/issues/28)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/69", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/69/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/69/events", "html_url": "https://github.com/kislyuk/yq/issues/69", "id": 492564725, "node_id": "MDU6SXNzdWU0OTI1NjQ3MjU=", "number": 69, "title": "Complicated filters seem to get transformed incorrectly on the way to jq", "user": {"login": "scr-oath", "id": 41922797, "node_id": "MDQ6VXNlcjQxOTIyNzk3", "avatar_url": "https://avatars0.githubusercontent.com/u/41922797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scr-oath", "html_url": "https://github.com/scr-oath", "followers_url": "https://api.github.com/users/scr-oath/followers", "following_url": "https://api.github.com/users/scr-oath/following{/other_user}", "gists_url": "https://api.github.com/users/scr-oath/gists{/gist_id}", "starred_url": "https://api.github.com/users/scr-oath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scr-oath/subscriptions", "organizations_url": "https://api.github.com/users/scr-oath/orgs", "repos_url": "https://api.github.com/users/scr-oath/repos", "events_url": "https://api.github.com/users/scr-oath/events{/privacy}", "received_events_url": "https://api.github.com/users/scr-oath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-09-12T03:26:59Z", "updated_at": "2019-09-12T07:44:51Z", "closed_at": "2019-09-12T04:33:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nxq '.testsuites.testsuite | {errors: ([.[][\"@errors\"] // empty | tonumber] | add)}' TESTS-TestSuites.xml\r\njq: error (at <stdin>:1): errors is not a valid format\r\n```\r\n\r\nvs.\r\n\r\n```\r\nxq . TESTS-TestSuites.xml | jq '.testsuites.testsuite | {errors: ([.[][\"@errors\"] // empty | tonumber] | add)}'\r\n{\r\n  \"errors\": 0\r\n}\r\n```\r\n\r\nWith input file `TESTS-TestSuites.xml`:\r\n\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<testsuites>\r\n  <testsuite errors=\"0\" failures=\"0\" hostname=\"thehost\" id=\"0\" name=\"the-test\" package=\"the-package\" skipped=\"0\" tests=\"3\" time=\"0.006\" timestamp=\"2019-09-12T01:43:27\">\r\n    <properties />\r\n  </testsuite>\r\n  <testsuite errors=\"0\" failures=\"0\" hostname=\"thehost\" id=\"0\" name=\"the-other-test\" package=\"the-package\" skipped=\"0\" tests=\"3\" time=\"0.006\" timestamp=\"2019-09-12T01:43:27\">\r\n    <properties />\r\n  </testsuite>\r\n</testsuites>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/65", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/65/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/65/events", "html_url": "https://github.com/kislyuk/yq/issues/65", "id": 483263187, "node_id": "MDU6SXNzdWU0ODMyNjMxODc=", "number": 65, "title": "xq woes", "user": {"login": "pkoppstein", "id": 172847, "node_id": "MDQ6VXNlcjE3Mjg0Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/172847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkoppstein", "html_url": "https://github.com/pkoppstein", "followers_url": "https://api.github.com/users/pkoppstein/followers", "following_url": "https://api.github.com/users/pkoppstein/following{/other_user}", "gists_url": "https://api.github.com/users/pkoppstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkoppstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkoppstein/subscriptions", "organizations_url": "https://api.github.com/users/pkoppstein/orgs", "repos_url": "https://api.github.com/users/pkoppstein/repos", "events_url": "https://api.github.com/users/pkoppstein/events{/privacy}", "received_events_url": "https://api.github.com/users/pkoppstein/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-21T08:06:28Z", "updated_at": "2019-08-26T09:28:54Z", "closed_at": "2019-08-25T21:41:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installed via homebrew. Tried running `xq` only to be told that \r\n\r\nbash: /usr/local/bin/xq: /usr/local/opt/python/bin/python3.6: bad interpreter: No such file or directory\r\n\r\nMy system has python3.6, so I changed the first line of the xq file accordingly.\r\n\r\nNow I'm told:\r\n\r\n```\r\n  File \"/usr/local/bin/xq\", line 4, in <module>\r\n    from yq import main\r\nModuleNotFoundError: No module named 'yq'\r\n```\r\n\r\nOf course I'd appreciate any advice regarding how to achieve a successful installation, but I'm also curious as to why it seems to be so difficult to achieve a hassle-free distribution. Is it a python thing, or is it something to do with the joint behavior of python and homebrew?\r\n\r\nThanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/63", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/63/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/63/events", "html_url": "https://github.com/kislyuk/yq/issues/63", "id": 473777909, "node_id": "MDU6SXNzdWU0NzM3Nzc5MDk=", "number": 63, "title": "brew install python-yq does not install xq ? ", "user": {"login": "developedsoftware", "id": 19648131, "node_id": "MDQ6VXNlcjE5NjQ4MTMx", "avatar_url": "https://avatars2.githubusercontent.com/u/19648131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/developedsoftware", "html_url": "https://github.com/developedsoftware", "followers_url": "https://api.github.com/users/developedsoftware/followers", "following_url": "https://api.github.com/users/developedsoftware/following{/other_user}", "gists_url": "https://api.github.com/users/developedsoftware/gists{/gist_id}", "starred_url": "https://api.github.com/users/developedsoftware/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/developedsoftware/subscriptions", "organizations_url": "https://api.github.com/users/developedsoftware/orgs", "repos_url": "https://api.github.com/users/developedsoftware/repos", "events_url": "https://api.github.com/users/developedsoftware/events{/privacy}", "received_events_url": "https://api.github.com/users/developedsoftware/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-28T19:34:04Z", "updated_at": "2019-08-01T07:45:30Z", "closed_at": "2019-08-01T03:25:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "brew install python-yq does not install xq ?  \r\n\r\nHow do I install xq using Homebrew?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/62", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/62/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/62/events", "html_url": "https://github.com/kislyuk/yq/issues/62", "id": 461862460, "node_id": "MDU6SXNzdWU0NjE4NjI0NjA=", "number": 62, "title": "Tests fail: SyntaxError: unknown encoding: uft-8", "user": {"login": "yurivict", "id": 271906, "node_id": "MDQ6VXNlcjI3MTkwNg==", "avatar_url": "https://avatars2.githubusercontent.com/u/271906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurivict", "html_url": "https://github.com/yurivict", "followers_url": "https://api.github.com/users/yurivict/followers", "following_url": "https://api.github.com/users/yurivict/following{/other_user}", "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions", "organizations_url": "https://api.github.com/users/yurivict/orgs", "repos_url": "https://api.github.com/users/yurivict/repos", "events_url": "https://api.github.com/users/yurivict/events{/privacy}", "received_events_url": "https://api.github.com/users/yurivict/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-28T05:28:47Z", "updated_at": "2019-06-28T20:11:38Z", "closed_at": "2019-06-28T20:11:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "On FreeBSD with python-3.6:\r\n```\r\nInstalled /usr/ports/textproc/yq/work/yq-2.7.2/.eggs/wheel-0.33.4-py3.6.egg\r\nrunning egg_info\r\nwriting yq.egg-info/PKG-INFO\r\nwriting dependency_links to yq.egg-info/dependency_links.txt\r\nwriting entry points to yq.egg-info/entry_points.txt\r\nwriting requirements to yq.egg-info/requires.txt\r\nwriting top-level names to yq.egg-info/top_level.txt\r\nreading manifest file 'yq.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwriting manifest file 'yq.egg-info/SOURCES.txt'\r\nrunning build_ext\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"setup.py\", line 46, in <module>\r\n    \"Topic :: Software Development :: Libraries :: Python Modules\"\r\n  File \"/usr/local/lib/python3.6/site-packages/setuptools/__init__.py\", line 145, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/local/lib/python3.6/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/local/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/local/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"/usr/local/lib/python3.6/site-packages/setuptools/command/test.py\", line 228, in run\r\n    self.run_tests()\r\n  File \"/usr/local/lib/python3.6/site-packages/setuptools/command/test.py\", line 250, in run_tests\r\n    exit=False,\r\n  File \"/usr/local/lib/python3.6/unittest/main.py\", line 94, in __init__\r\n    self.parseArgs(argv)\r\n  File \"/usr/local/lib/python3.6/unittest/main.py\", line 141, in parseArgs\r\n    self.createTests()\r\n  File \"/usr/local/lib/python3.6/unittest/main.py\", line 148, in createTests\r\n    self.module)\r\n  File \"/usr/local/lib/python3.6/unittest/loader.py\", line 219, in loadTestsFromNames\r\n    suites = [self.loadTestsFromName(name, module) for name in names]\r\n  File \"/usr/local/lib/python3.6/unittest/loader.py\", line 219, in <listcomp>\r\n    suites = [self.loadTestsFromName(name, module) for name in names]\r\n  File \"/usr/local/lib/python3.6/unittest/loader.py\", line 190, in loadTestsFromName\r\n    return self.loadTestsFromModule(obj)\r\n  File \"/usr/local/lib/python3.6/site-packages/setuptools/command/test.py\", line 54, in loadTestsFromModule\r\n    tests.append(self.loadTestsFromName(submodule))\r\n  File \"/usr/local/lib/python3.6/unittest/loader.py\", line 153, in loadTestsFromName\r\n    module = __import__(module_name)\r\n  File \"/usr/local/lib/python3.6/test/bad_coding.py\", line 0\r\nSyntaxError: unknown encoding: uft-8\r\n*** Error code 1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/60", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/60/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/60/events", "html_url": "https://github.com/kislyuk/yq/issues/60", "id": 446541802, "node_id": "MDU6SXNzdWU0NDY1NDE4MDI=", "number": 60, "title": "Add output stream option for library usage", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-21T10:30:55Z", "updated_at": "2019-06-17T04:54:31Z", "closed_at": "2019-06-17T04:54:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "`yq` internals are not intended to be used as a library, as it dumps out to `sys.stdout`.\r\n\r\nIt would be useful to have the output stream of `jq` provided to the caller, so that another Python module can decide what to do with the data.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/59", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/59/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/59/events", "html_url": "https://github.com/kislyuk/yq/issues/59", "id": 443274068, "node_id": "MDU6SXNzdWU0NDMyNzQwNjg=", "number": 59, "title": "Don't print 'null' to stdout for no-match", "user": {"login": "stephen-dexda", "id": 46443882, "node_id": "MDQ6VXNlcjQ2NDQzODgy", "avatar_url": "https://avatars3.githubusercontent.com/u/46443882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephen-dexda", "html_url": "https://github.com/stephen-dexda", "followers_url": "https://api.github.com/users/stephen-dexda/followers", "following_url": "https://api.github.com/users/stephen-dexda/following{/other_user}", "gists_url": "https://api.github.com/users/stephen-dexda/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephen-dexda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephen-dexda/subscriptions", "organizations_url": "https://api.github.com/users/stephen-dexda/orgs", "repos_url": "https://api.github.com/users/stephen-dexda/repos", "events_url": "https://api.github.com/users/stephen-dexda/events{/privacy}", "received_events_url": "https://api.github.com/users/stephen-dexda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-13T08:41:57Z", "updated_at": "2019-08-02T21:37:54Z", "closed_at": "2019-05-13T15:25:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "For example, printing null to stdout breaks the following:\r\n\r\nmy_val=\"$(echo 'foo: bar' | yq -re '.someotherkey' || echo 'default_val')\"\r\n\r\nSince this will result in null instead of default_val.\r\n\r\nInstead, yq should output an error message to stderr on no match, at least in the case of -e.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/58", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/58/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/58/events", "html_url": "https://github.com/kislyuk/yq/issues/58", "id": 443272023, "node_id": "MDU6SXNzdWU0NDMyNzIwMjM=", "number": 58, "title": "Stop pretending input == output formats", "user": {"login": "alerque", "id": 173595, "node_id": "MDQ6VXNlcjE3MzU5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/173595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alerque", "html_url": "https://github.com/alerque", "followers_url": "https://api.github.com/users/alerque/followers", "following_url": "https://api.github.com/users/alerque/following{/other_user}", "gists_url": "https://api.github.com/users/alerque/gists{/gist_id}", "starred_url": "https://api.github.com/users/alerque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alerque/subscriptions", "organizations_url": "https://api.github.com/users/alerque/orgs", "repos_url": "https://api.github.com/users/alerque/repos", "events_url": "https://api.github.com/users/alerque/events{/privacy}", "received_events_url": "https://api.github.com/users/alerque/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-13T08:37:06Z", "updated_at": "2019-05-18T08:27:51Z", "closed_at": "2019-05-17T16:46:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current code makes the assumption that input and output formats are always the same.\r\n\r\nI think it would be much more useful if the input and output stages could be separated and options mixed or matched at will. This would turn the project into a general purpose transcoder as well as a query engine for each format. It already does all the transcoding anyway, It seems like an arbitrary restriction to force transcoding back to the same format it came from.\r\n\r\nMy fix for passthrough JSON input in #57 already introduces one specific scenario of mismatched formats being useful, but a more general purpose solution where input and output formats can be set independently would add a lot more flexibility.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/56", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/56/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/56/events", "html_url": "https://github.com/kislyuk/yq/issues/56", "id": 442977359, "node_id": "MDU6SXNzdWU0NDI5NzczNTk=", "number": 56, "title": "Slurp doesn't slurp", "user": {"login": "alerque", "id": 173595, "node_id": "MDQ6VXNlcjE3MzU5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/173595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alerque", "html_url": "https://github.com/alerque", "followers_url": "https://api.github.com/users/alerque/followers", "following_url": "https://api.github.com/users/alerque/following{/other_user}", "gists_url": "https://api.github.com/users/alerque/gists{/gist_id}", "starred_url": "https://api.github.com/users/alerque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alerque/subscriptions", "organizations_url": "https://api.github.com/users/alerque/orgs", "repos_url": "https://api.github.com/users/alerque/repos", "events_url": "https://api.github.com/users/alerque/events{/privacy}", "received_events_url": "https://api.github.com/users/alerque/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-11T10:13:26Z", "updated_at": "2019-11-04T19:18:36Z", "closed_at": "2019-11-04T19:18:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "It was my assumption that slurping multiple inputs should work the same as in `jq`, but it does not. For example this works:\r\n\r\n```\r\necho '{ \"one\": 1 }\\n{ \"two\": 2 }' | jq -s .\r\n```\r\nBut this fails to parse past the first object:\r\n```\r\necho '{ \"one\": 1 }\\n{ \"two\": 2 }' | yq -s .\r\n```\r\nYou can workaround using jq as an intermediary to slurp into array, then pass to yq and strip off the extra array:\r\n```\r\necho '{ \"one\": 1 }\\n{ \"two\": 2 }' | jq -s . | yq -s .[0]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/55", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/55/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/55/events", "html_url": "https://github.com/kislyuk/yq/issues/55", "id": 432653792, "node_id": "MDU6SXNzdWU0MzI2NTM3OTI=", "number": 55, "title": "Conversion between JSON & YAML is broken in some cases", "user": {"login": "antonosmond", "id": 6912740, "node_id": "MDQ6VXNlcjY5MTI3NDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6912740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antonosmond", "html_url": "https://github.com/antonosmond", "followers_url": "https://api.github.com/users/antonosmond/followers", "following_url": "https://api.github.com/users/antonosmond/following{/other_user}", "gists_url": "https://api.github.com/users/antonosmond/gists{/gist_id}", "starred_url": "https://api.github.com/users/antonosmond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antonosmond/subscriptions", "organizations_url": "https://api.github.com/users/antonosmond/orgs", "repos_url": "https://api.github.com/users/antonosmond/repos", "events_url": "https://api.github.com/users/antonosmond/events{/privacy}", "received_events_url": "https://api.github.com/users/antonosmond/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-12T16:44:21Z", "updated_at": "2019-04-14T21:56:09Z", "closed_at": "2019-04-14T21:56:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI've found strange bug where in some scenarios, valid JSON isn't converted back to valid YAML. My use case was to replace a yaml block in one file with a yaml block from another file.\r\nMy command was like this:\r\n```\r\nyq -y \".spec.jobTemplate.spec.template = $(yq '.spec.template' file_b.yaml)\" file_a.yaml\r\n```\r\n\r\nWithout the `-y` flag I get valid JSON but if I add the `-y` flag to output yaml, a new line is being inserted where it shouldn't be causing broken YAML. \r\n\r\nHere is a snippet of the outputted JSON:\r\n```\r\n\"args\": [\r\n  \"/bin/bash\",\r\n  \"-c\",\r\n  \"cp -v -r -L /etc/gitlab/.s3cfg $HOME/.s3cfg && while sleep 3600; do :; done\"\r\n],\r\n```\r\n\r\nAnd when I add the `-y` flag I get this YAML:\r\n```\r\nargs:\r\n- /bin/bash\r\n- -c\r\n- cp -v -r -L /etc/gitlab/.s3cfg $HOME/.s3cfg && while sleep 3600; do\r\n  :; done\r\n```\r\nIt's added a new line inside that last array element.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/54", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/54/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/54/events", "html_url": "https://github.com/kislyuk/yq/issues/54", "id": 432618944, "node_id": "MDU6SXNzdWU0MzI2MTg5NDQ=", "number": 54, "title": "Misleading documentation", "user": {"login": "lad", "id": 1081096, "node_id": "MDQ6VXNlcjEwODEwOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1081096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lad", "html_url": "https://github.com/lad", "followers_url": "https://api.github.com/users/lad/followers", "following_url": "https://api.github.com/users/lad/following{/other_user}", "gists_url": "https://api.github.com/users/lad/gists{/gist_id}", "starred_url": "https://api.github.com/users/lad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lad/subscriptions", "organizations_url": "https://api.github.com/users/lad/orgs", "repos_url": "https://api.github.com/users/lad/repos", "events_url": "https://api.github.com/users/lad/events{/privacy}", "received_events_url": "https://api.github.com/users/lad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-12T15:19:44Z", "updated_at": "2019-04-14T22:09:20Z", "closed_at": "2019-04-14T22:09:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Documentation in the main readme suggests using a similar syntax to JQ, but the basic example doesn't seem to work:\r\n\r\ncat input.yml | yq .foo.bar\r\n\r\nOn OSX:\r\n\r\n```\r\n$ brew install yq\r\n$ cat > input.yml\r\nfoo:\r\n - bar: \"text\"\r\n   value: 200\r\nbaz:\r\n - bar: \"blah\"\r\n   value: 100\r\n^D\r\n$ cat ./input.yml | yq .foo.bar\r\nError: unknown command \".foo.bar\" for \"yq\"\r\nRun 'yq --help' for usage.\r\n2019/04/12 16:18:29 unknown command \".foo.bar\" for \"yq\"\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/52", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/52/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/52/events", "html_url": "https://github.com/kislyuk/yq/issues/52", "id": 424380536, "node_id": "MDU6SXNzdWU0MjQzODA1MzY=", "number": 52, "title": "Enable configurable indentation", "user": {"login": "AnthonyWC", "id": 6215805, "node_id": "MDQ6VXNlcjYyMTU4MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6215805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnthonyWC", "html_url": "https://github.com/AnthonyWC", "followers_url": "https://api.github.com/users/AnthonyWC/followers", "following_url": "https://api.github.com/users/AnthonyWC/following{/other_user}", "gists_url": "https://api.github.com/users/AnthonyWC/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnthonyWC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnthonyWC/subscriptions", "organizations_url": "https://api.github.com/users/AnthonyWC/orgs", "repos_url": "https://api.github.com/users/AnthonyWC/repos", "events_url": "https://api.github.com/users/AnthonyWC/events{/privacy}", "received_events_url": "https://api.github.com/users/AnthonyWC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-03-22T20:08:42Z", "updated_at": "2019-10-26T14:04:03Z", "closed_at": "2019-10-25T17:10:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "e.g.\r\n\r\nfoo.json\r\n```\r\n{\r\n  \"test\": {\r\n    \"s1\": \"bar\",\r\n    \"s2\": [\r\n      \"snowflake\",\r\n      \"s3\",\r\n      \"gcloud\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n`yq -y . foo.json`\r\n\r\n```\r\ntest:\r\n  s1: bar\r\n  s2:\r\n  - snowflake\r\n  - s3\r\n  - gcloud\r\n```\r\n\r\nWhen valid yaml should be:\r\n```\r\n test:\r\n   s1: bar\r\n   s2:\r\n     - snowflake\r\n     - s3\r\n     - gcloud\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/51", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/51/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/51/events", "html_url": "https://github.com/kislyuk/yq/issues/51", "id": 407160034, "node_id": "MDU6SXNzdWU0MDcxNjAwMzQ=", "number": 51, "title": "Convert JSON to YAML", "user": {"login": "alerque", "id": 173595, "node_id": "MDQ6VXNlcjE3MzU5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/173595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alerque", "html_url": "https://github.com/alerque", "followers_url": "https://api.github.com/users/alerque/followers", "following_url": "https://api.github.com/users/alerque/following{/other_user}", "gists_url": "https://api.github.com/users/alerque/gists{/gist_id}", "starred_url": "https://api.github.com/users/alerque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alerque/subscriptions", "organizations_url": "https://api.github.com/users/alerque/orgs", "repos_url": "https://api.github.com/users/alerque/repos", "events_url": "https://api.github.com/users/alerque/events{/privacy}", "received_events_url": "https://api.github.com/users/alerque/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-06T10:07:21Z", "updated_at": "2019-02-07T05:52:58Z", "closed_at": "2019-02-07T05:51:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "JSON should be supported as an input format. My project(s) use YAML internally, but a lot of the external data they source comes in from JSON formats. Considering that it gets processed with `yq` anyway and `yq` is making a round trip to JSON, it seems kind of silly that there isn't an `--json-input` or similar flag to bypass the first half of the round trip. This would allow `yq` to work as a JSON\u2192YAML conversion tool, reducing my project dependencies.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/50", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/50/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/50/events", "html_url": "https://github.com/kislyuk/yq/issues/50", "id": 405027144, "node_id": "MDU6SXNzdWU0MDUwMjcxNDQ=", "number": 50, "title": "yq-2.7.2 is failing with \"jq: error: read/0 is not defined at <top-level>, line 1\"", "user": {"login": "gnawhleinad", "id": 674134, "node_id": "MDQ6VXNlcjY3NDEzNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/674134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnawhleinad", "html_url": "https://github.com/gnawhleinad", "followers_url": "https://api.github.com/users/gnawhleinad/followers", "following_url": "https://api.github.com/users/gnawhleinad/following{/other_user}", "gists_url": "https://api.github.com/users/gnawhleinad/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnawhleinad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnawhleinad/subscriptions", "organizations_url": "https://api.github.com/users/gnawhleinad/orgs", "repos_url": "https://api.github.com/users/gnawhleinad/repos", "events_url": "https://api.github.com/users/gnawhleinad/events{/privacy}", "received_events_url": "https://api.github.com/users/gnawhleinad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-31T00:28:39Z", "updated_at": "2019-01-31T20:40:51Z", "closed_at": "2019-01-31T20:40:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n$ yq --version\r\nyq 2.7.2\r\n$ jq --version\r\njq-1.6\r\n$ cat hodor.yml \r\n- hodor\r\n$ yq read hodor.yml \r\njq: error: read/0 is not defined at <top-level>, line 1:\r\nread\r\njq: 1 compile error\r\n```\r\n\r\nI installed `yq` and `jq` via `brew` (`python-yq` and `jq`, respectively).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/49", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/49/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/49/events", "html_url": "https://github.com/kislyuk/yq/issues/49", "id": 403263998, "node_id": "MDU6SXNzdWU0MDMyNjM5OTg=", "number": 49, "title": "yq does not install.  Does not show up on the file system after pip install yq", "user": {"login": "hectoralicea", "id": 12519400, "node_id": "MDQ6VXNlcjEyNTE5NDAw", "avatar_url": "https://avatars1.githubusercontent.com/u/12519400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hectoralicea", "html_url": "https://github.com/hectoralicea", "followers_url": "https://api.github.com/users/hectoralicea/followers", "following_url": "https://api.github.com/users/hectoralicea/following{/other_user}", "gists_url": "https://api.github.com/users/hectoralicea/gists{/gist_id}", "starred_url": "https://api.github.com/users/hectoralicea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hectoralicea/subscriptions", "organizations_url": "https://api.github.com/users/hectoralicea/orgs", "repos_url": "https://api.github.com/users/hectoralicea/repos", "events_url": "https://api.github.com/users/hectoralicea/events{/privacy}", "received_events_url": "https://api.github.com/users/hectoralicea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-25T17:51:12Z", "updated_at": "2019-01-27T01:16:24Z", "closed_at": "2019-01-27T01:16:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "yq will not install.  See below\r\n\r\n```\r\n[root@aks-bastion01-poc /]# pip install yq\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.\r\nCollecting yq\r\n  Using cached https://files.pythonhosted.org/packages/5c/2e/1df0a8163e19d3699fb745d56ff7d4c8fb0cbfe1d123609dc13dff6170b3/yq-2.7.2-py2.py3-none-any.whl\r\nRequirement already satisfied: xmltodict>=0.11.0 in /usr/lib/python2.7/site-packages (from yq) (0.11.0)\r\nRequirement already satisfied: setuptools in /usr/lib/python2.7/site-packages (from yq) (0.9.8)\r\nCollecting PyYAML>=3.11 (from yq)\r\n  Using cached https://files.pythonhosted.org/packages/9e/a3/1d13970c3f36777c583f136c136f804d70f500168edc1edea6daa7200769/PyYAML-3.13.tar.gz\r\nInstalling collected packages: PyYAML, yq\r\n  Found existing installation: PyYAML 3.10\r\nCannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.\r\n[root@aks-bastion01-poc /]# yq\r\n-bash: yq: command not found\r\n[root@aks-bastion01-poc /]# find . -name yq \r\n[root@aks-bastion01-poc /]# \r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/48", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/48/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/48/events", "html_url": "https://github.com/kislyuk/yq/issues/48", "id": 400893316, "node_id": "MDU6SXNzdWU0MDA4OTMzMTY=", "number": 48, "title": "Can't load a standard yaml file", "user": {"login": "rbosse", "id": 3311751, "node_id": "MDQ6VXNlcjMzMTE3NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/3311751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbosse", "html_url": "https://github.com/rbosse", "followers_url": "https://api.github.com/users/rbosse/followers", "following_url": "https://api.github.com/users/rbosse/following{/other_user}", "gists_url": "https://api.github.com/users/rbosse/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbosse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbosse/subscriptions", "organizations_url": "https://api.github.com/users/rbosse/orgs", "repos_url": "https://api.github.com/users/rbosse/repos", "events_url": "https://api.github.com/users/rbosse/events{/privacy}", "received_events_url": "https://api.github.com/users/rbosse/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-18T21:21:18Z", "updated_at": "2019-01-27T01:16:55Z", "closed_at": "2019-01-27T01:16:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I took just a simple yaml and got this error:\r\n\r\n$ cat application.yaml | yq .\r\nTraceback (most recent call last):\r\n  File \"c:\\python27\\lib\\runpy.py\", line 174, in _run_module_as_main\r\n    \"__main__\", fname, loader, pkg_name)\r\n  File \"c:\\python27\\lib\\runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"C:\\Python27\\Scripts\\yq.exe\\__main__.py\", line 9, in <module>\r\n  File \"c:\\python27\\lib\\site-packages\\yq\\__init__.py\", line 150, in main\r\n    parser.exit(msg.format(program_name, type(e).__name__, e))\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe9 in position 23: ordinal not in range(128)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/47", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/47/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/47/events", "html_url": "https://github.com/kislyuk/yq/issues/47", "id": 399686618, "node_id": "MDU6SXNzdWUzOTk2ODY2MTg=", "number": 47, "title": "unexpected keyword argument 'allow_abbrev'", "user": {"login": "gdmsl", "id": 6159838, "node_id": "MDQ6VXNlcjYxNTk4Mzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6159838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gdmsl", "html_url": "https://github.com/gdmsl", "followers_url": "https://api.github.com/users/gdmsl/followers", "following_url": "https://api.github.com/users/gdmsl/following{/other_user}", "gists_url": "https://api.github.com/users/gdmsl/gists{/gist_id}", "starred_url": "https://api.github.com/users/gdmsl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gdmsl/subscriptions", "organizations_url": "https://api.github.com/users/gdmsl/orgs", "repos_url": "https://api.github.com/users/gdmsl/repos", "events_url": "https://api.github.com/users/gdmsl/events{/privacy}", "received_events_url": "https://api.github.com/users/gdmsl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-16T07:52:49Z", "updated_at": "2019-01-27T01:17:21Z", "closed_at": "2019-01-27T01:17:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I get this error everytime I try to launch `yq` with or without arguments (also the examples in in  README.md don't work).\r\n\r\n~~~\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/yq\", line 11, in <module>\r\n    load_entry_point('yq==2.7.2', 'console_scripts', 'yq')()\r\n  File \"/usr/lib/python3.7/site-packages/yq/__init__.py\", line 119, in main\r\n    parser = get_parser(program_name)\r\n  File \"/usr/lib/python3.7/site-packages/yq/__init__.py\", line 96, in get_parser\r\n    parser = Parser(**parser_args)\r\nTypeError: __init__() got an unexpected keyword argument 'allow_abbrev'\r\n~~~", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/46", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/46/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/46/events", "html_url": "https://github.com/kislyuk/yq/issues/46", "id": 396255851, "node_id": "MDU6SXNzdWUzOTYyNTU4NTE=", "number": 46, "title": "Updates for jq 1.6 compatibility", "user": {"login": "alerque", "id": 173595, "node_id": "MDQ6VXNlcjE3MzU5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/173595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alerque", "html_url": "https://github.com/alerque", "followers_url": "https://api.github.com/users/alerque/followers", "following_url": "https://api.github.com/users/alerque/following{/other_user}", "gists_url": "https://api.github.com/users/alerque/gists{/gist_id}", "starred_url": "https://api.github.com/users/alerque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alerque/subscriptions", "organizations_url": "https://api.github.com/users/alerque/orgs", "repos_url": "https://api.github.com/users/alerque/repos", "events_url": "https://api.github.com/users/alerque/events{/privacy}", "received_events_url": "https://api.github.com/users/alerque/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-06T12:55:31Z", "updated_at": "2019-01-09T19:32:43Z", "closed_at": "2019-01-09T18:49:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given input files such as `file.txt`:\r\n```txt\r\nstring from file\r\n```\r\n`f.json`:\r\n```json\r\n{ \"foo\": \"bar\" }\r\n```\r\nand `f.yaml`:\r\n```yaml\r\nfoo: bar\r\n```\r\nThe following command works fine in `jq`:\r\n```sh\r\n\u276f jq -M -e -r --rawfile varname file.txt '[$varname, .foo]' -- f.json\r\n[\r\n  \"string from file\\n\",\r\n  \"bar\"\r\n]\r\n```\r\nBut the following fails in `yq`:\r\n```sh\r\n\u276f yq -M -e -r --rawfile varname file.txt '[$varname, .foo]' -- f.yaml\r\nusage: yq [-h] [--yaml-output] [--width WIDTH] [--version]\r\n          jq_filter [files [files ...]]\r\nyq: error: argument files: can't open '[$varname, .foo]': [Errno 2] No such file or directory: '[$varname, .foo]'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/45", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/45/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/45/events", "html_url": "https://github.com/kislyuk/yq/issues/45", "id": 395556790, "node_id": "MDU6SXNzdWUzOTU1NTY3OTA=", "number": 45, "title": "Unable to use yq in a makefile, no tty", "user": {"login": "alerque", "id": 173595, "node_id": "MDQ6VXNlcjE3MzU5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/173595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alerque", "html_url": "https://github.com/alerque", "followers_url": "https://api.github.com/users/alerque/followers", "following_url": "https://api.github.com/users/alerque/following{/other_user}", "gists_url": "https://api.github.com/users/alerque/gists{/gist_id}", "starred_url": "https://api.github.com/users/alerque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alerque/subscriptions", "organizations_url": "https://api.github.com/users/alerque/orgs", "repos_url": "https://api.github.com/users/alerque/repos", "events_url": "https://api.github.com/users/alerque/events{/privacy}", "received_events_url": "https://api.github.com/users/alerque/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-03T12:30:55Z", "updated_at": "2019-01-10T06:05:54Z", "closed_at": "2019-01-10T06:05:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using `yq` in a makefile (run with GNU Make 4+) produces a fatal error. For some reason in that case `sys.stdin` does not have a `isatty()` function:\r\n\r\n```\r\nAttributeError: 'NoneType' object has no attribute 'isatty'\r\nmake[1]: *** [makefile:18: tt] Error 1\r\nmake[1]: Leaving directory '<path>'\r\nmake[1]: Entering directory '<path>'\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/yq\", line 11, in <module>\r\n    load_entry_point('yq==2.7.0', 'console_scripts', 'yq')()\r\n  File \"/usr/lib/python3.7/site-packages/yq/__init__.py\", line 132, in main\r\n    if sys.stdin.isatty() and not args.files:\r\nAttributeError: 'NoneType' object has no attribute 'isatty'\r\n```\r\n\r\nThe same command run from a shell works fine.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/43", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/43/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/43/events", "html_url": "https://github.com/kislyuk/yq/issues/43", "id": 382402938, "node_id": "MDU6SXNzdWUzODI0MDI5Mzg=", "number": 43, "title": "Create a Debian package", "user": {"login": "dlresende", "id": 960984, "node_id": "MDQ6VXNlcjk2MDk4NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/960984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dlresende", "html_url": "https://github.com/dlresende", "followers_url": "https://api.github.com/users/dlresende/followers", "following_url": "https://api.github.com/users/dlresende/following{/other_user}", "gists_url": "https://api.github.com/users/dlresende/gists{/gist_id}", "starred_url": "https://api.github.com/users/dlresende/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dlresende/subscriptions", "organizations_url": "https://api.github.com/users/dlresende/orgs", "repos_url": "https://api.github.com/users/dlresende/repos", "events_url": "https://api.github.com/users/dlresende/events{/privacy}", "received_events_url": "https://api.github.com/users/dlresende/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-19T21:37:40Z", "updated_at": "2020-05-28T23:54:58Z", "closed_at": "2020-05-28T23:54:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "`yq` is currently distributed as a Homebrew formula (#11), and that's awesome!\r\n\r\nAs a suggestion, I think it would be great if `yq` was distributed as a [Debian package](https://askubuntu.com/a/1451/118393) as well. This would allow more folks to easily install it in Debian-compatible Linux distributions (like Ubuntu), doing something like:\r\n\r\n```sh\r\nsudo add-apt-repository ppa:kislyuk/yq\r\nsudo apt update\r\nsudo apt install yq -y\r\n```\r\n\r\nThis would also make a real case for using `yq` more broadly in server scripts, Linux-based developer workstations, etc.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/42", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/42/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/42/events", "html_url": "https://github.com/kislyuk/yq/issues/42", "id": 379914847, "node_id": "MDU6SXNzdWUzNzk5MTQ4NDc=", "number": 42, "title": "Can't convert sample.json with yq: yq r sample.json", "user": {"login": "marcellodesales", "id": 131457, "node_id": "MDQ6VXNlcjEzMTQ1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/131457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcellodesales", "html_url": "https://github.com/marcellodesales", "followers_url": "https://api.github.com/users/marcellodesales/followers", "following_url": "https://api.github.com/users/marcellodesales/following{/other_user}", "gists_url": "https://api.github.com/users/marcellodesales/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcellodesales/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcellodesales/subscriptions", "organizations_url": "https://api.github.com/users/marcellodesales/orgs", "repos_url": "https://api.github.com/users/marcellodesales/repos", "events_url": "https://api.github.com/users/marcellodesales/events{/privacy}", "received_events_url": "https://api.github.com/users/marcellodesales/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-12T19:13:28Z", "updated_at": "2018-11-13T00:21:11Z", "closed_at": "2018-11-13T00:20:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Convert fails with `jq: 1 compile error`...  Tried to convert and got the following\r\n\r\n```\r\n$ yq r sample.json\r\njq: error: r/0 is not defined at <top-level>, line 1:\r\nr\r\njq: 1 compile error\r\n```\r\n\r\n* Using `jq 1.5_3` \r\n\r\n```\r\n$ yq --version\r\nyq 2.4.1\r\n\r\n$ jq --version\r\njq-1.5\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/41", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/41/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/41/events", "html_url": "https://github.com/kislyuk/yq/issues/41", "id": 374507348, "node_id": "MDU6SXNzdWUzNzQ1MDczNDg=", "number": 41, "title": "naming conflict with golang implementation", "user": {"login": "anarcat", "id": 796623, "node_id": "MDQ6VXNlcjc5NjYyMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/796623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anarcat", "html_url": "https://github.com/anarcat", "followers_url": "https://api.github.com/users/anarcat/followers", "following_url": "https://api.github.com/users/anarcat/following{/other_user}", "gists_url": "https://api.github.com/users/anarcat/gists{/gist_id}", "starred_url": "https://api.github.com/users/anarcat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anarcat/subscriptions", "organizations_url": "https://api.github.com/users/anarcat/orgs", "repos_url": "https://api.github.com/users/anarcat/repos", "events_url": "https://api.github.com/users/anarcat/events{/privacy}", "received_events_url": "https://api.github.com/users/anarcat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-26T18:57:22Z", "updated_at": "2019-11-01T18:19:23Z", "closed_at": "2018-10-27T01:29:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "A similar project exists in golang, also called yq:\r\n\r\nhttps://github.com/mikefarah/yq\r\n\r\nIt only handles YAML, however. It would still be nice to resolve the naming conflict between the two programs. I would recommend renaming this one to `xq` or `xyq` because it also handles XML. :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/40", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/40/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/40/events", "html_url": "https://github.com/kislyuk/yq/issues/40", "id": 371229004, "node_id": "MDU6SXNzdWUzNzEyMjkwMDQ=", "number": 40, "title": "HTML parsing", "user": {"login": "maximbaz", "id": 1177900, "node_id": "MDQ6VXNlcjExNzc5MDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1177900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maximbaz", "html_url": "https://github.com/maximbaz", "followers_url": "https://api.github.com/users/maximbaz/followers", "following_url": "https://api.github.com/users/maximbaz/following{/other_user}", "gists_url": "https://api.github.com/users/maximbaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/maximbaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maximbaz/subscriptions", "organizations_url": "https://api.github.com/users/maximbaz/orgs", "repos_url": "https://api.github.com/users/maximbaz/repos", "events_url": "https://api.github.com/users/maximbaz/events{/privacy}", "received_events_url": "https://api.github.com/users/maximbaz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-17T19:18:08Z", "updated_at": "2018-10-21T22:54:05Z", "closed_at": "2018-10-21T22:54:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seeing `xq` and `tq`I was wondering if you would be interested in implementing `hq`, an HTML parser, as part of your tool.\r\n\r\nI did see https://github.com/jeffbr13/xq and https://github.com/rbwinslow/hq, but it looks they aren't being maintained anymore.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/39", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/39/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/39/events", "html_url": "https://github.com/kislyuk/yq/issues/39", "id": 350784073, "node_id": "MDU6SXNzdWUzNTA3ODQwNzM=", "number": 39, "title": "Allow streams of YAML documents as input", "user": {"login": "ssssam", "id": 6330, "node_id": "MDQ6VXNlcjYzMzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssssam", "html_url": "https://github.com/ssssam", "followers_url": "https://api.github.com/users/ssssam/followers", "following_url": "https://api.github.com/users/ssssam/following{/other_user}", "gists_url": "https://api.github.com/users/ssssam/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssssam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssssam/subscriptions", "organizations_url": "https://api.github.com/users/ssssam/orgs", "repos_url": "https://api.github.com/users/ssssam/repos", "events_url": "https://api.github.com/users/ssssam/events{/privacy}", "received_events_url": "https://api.github.com/users/ssssam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-15T12:01:00Z", "updated_at": "2018-08-21T16:32:11Z", "closed_at": "2018-08-21T16:32:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nI am finding yq very useful, but there is one thing that would make it better.\r\nYAML is a superset of JSON, so I imagined that yq's input format would be a superset of jq's input format. However, this turns out not to be true because yq only parses a single YAML object and raises an error if there are multiple objects as input.\r\n\r\nFor example, if I run this command:\r\n\r\n```echo \\\"Hi\\\" | jq '{ hey: . }, { ho: . }' | yq . -y```\r\n\r\nI get the following output:\r\n\r\n```\r\nyq: Error running jq: ParserError: expected '<document start>', but found '{'\r\n  in \"<stdin>\", line 4, column 1.\r\n```\r\n\r\nHowever, I'd expect to see the following output:\r\n\r\n```\r\n- hey: Hi\r\n- ho: Hi\r\n```\r\n\r\nIs this something you are interested in supporting?\r\n\r\n(edit: I realise that piping `jq` into `yq` is pointless. My actual use case is that I am developing a tool which outputs data as a JSON stream, and I would like to be able to pipe its output directly into `yq . -y` to convert it back to YAML and optionally run some jq filters on it. I can achieve this already by piping the ouptut to `jq -s '[ . ]' | yq .[] -y` but it would be nice if I could just use `yq . -y` in place of that)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/38", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/38/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/38/events", "html_url": "https://github.com/kislyuk/yq/issues/38", "id": 347456682, "node_id": "MDU6SXNzdWUzNDc0NTY2ODI=", "number": 38, "title": "--slurp doesn't work since 2.3.5", "user": {"login": "drigz", "id": 632207, "node_id": "MDQ6VXNlcjYzMjIwNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/632207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drigz", "html_url": "https://github.com/drigz", "followers_url": "https://api.github.com/users/drigz/followers", "following_url": "https://api.github.com/users/drigz/following{/other_user}", "gists_url": "https://api.github.com/users/drigz/gists{/gist_id}", "starred_url": "https://api.github.com/users/drigz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drigz/subscriptions", "organizations_url": "https://api.github.com/users/drigz/orgs", "repos_url": "https://api.github.com/users/drigz/repos", "events_url": "https://api.github.com/users/drigz/events{/privacy}", "received_events_url": "https://api.github.com/users/drigz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-03T16:15:16Z", "updated_at": "2018-08-04T02:57:32Z", "closed_at": "2018-08-04T02:55:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I try to use `--slurp` with yq, it gets incorrectly translated into `--slurpfile`. I am using Python 3.5.3.\r\n\r\n```\r\n> touch 2.yaml 3.yaml\r\n> sudo pip3 install yq==2.3.4\r\n> echo | yq -e --slurp '.[0] == .[1]' - 2.yaml 3.yaml\r\ntrue\r\n> sudo pip3 install yq==2.6.0\r\n> echo | yq -e --slurp '.[0] == .[1]' - 2.yaml 3.yaml\r\njq: Bad JSON in --slurpfile .[0] == .[1] -: Could not open -: No such file or directory\r\n```\r\n\r\nThis is linked to ArgumentParser's prefix matches as described in this [SO question](https://stackoverflow.com/questions/33900846/disable-unique-prefix-matches-for-argparse-and-optparse).\r\n\r\nWorkaround: use `-s` instead of `--slurp`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/37", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/37/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/37/events", "html_url": "https://github.com/kislyuk/yq/issues/37", "id": 344476112, "node_id": "MDU6SXNzdWUzNDQ0NzYxMTI=", "number": 37, "title": "xq --xml-output not preserving xml declaration", "user": {"login": "lyenliang", "id": 3468329, "node_id": "MDQ6VXNlcjM0NjgzMjk=", "avatar_url": "https://avatars0.githubusercontent.com/u/3468329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lyenliang", "html_url": "https://github.com/lyenliang", "followers_url": "https://api.github.com/users/lyenliang/followers", "following_url": "https://api.github.com/users/lyenliang/following{/other_user}", "gists_url": "https://api.github.com/users/lyenliang/gists{/gist_id}", "starred_url": "https://api.github.com/users/lyenliang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lyenliang/subscriptions", "organizations_url": "https://api.github.com/users/lyenliang/orgs", "repos_url": "https://api.github.com/users/lyenliang/repos", "events_url": "https://api.github.com/users/lyenliang/events{/privacy}", "received_events_url": "https://api.github.com/users/lyenliang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-25T14:46:48Z", "updated_at": "2018-11-05T22:20:41Z", "closed_at": "2018-11-05T22:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an `test.xml` file which contains `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>` at its first line.\r\n\r\nWhen I run `xq --xml-output '.' test.xml`, the generated xml doesn't contain `<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>`. \r\n\r\nIt is possible to modify `xq` so that it preserves the XML declaration?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/36", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/36/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/36/events", "html_url": "https://github.com/kislyuk/yq/issues/36", "id": 336608589, "node_id": "MDU6SXNzdWUzMzY2MDg1ODk=", "number": 36, "title": "Preserve a YAML 'literal block' (using |), or a 'folded block' (using '>')", "user": {"login": "arno01", "id": 3791945, "node_id": "MDQ6VXNlcjM3OTE5NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3791945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arno01", "html_url": "https://github.com/arno01", "followers_url": "https://api.github.com/users/arno01/followers", "following_url": "https://api.github.com/users/arno01/following{/other_user}", "gists_url": "https://api.github.com/users/arno01/gists{/gist_id}", "starred_url": "https://api.github.com/users/arno01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arno01/subscriptions", "organizations_url": "https://api.github.com/users/arno01/orgs", "repos_url": "https://api.github.com/users/arno01/repos", "events_url": "https://api.github.com/users/arno01/events{/privacy}", "received_events_url": "https://api.github.com/users/arno01/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-28T12:53:09Z", "updated_at": "2019-11-04T20:46:08Z", "closed_at": "2019-11-04T17:09:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "yq -y needs to preserve a 'literal block' (using |), or a 'folded block' (using '>')\r\n\r\n## Original YAML\r\n\r\n```\r\n$ cat y\r\nsome:\r\n  file: |\r\n    hello world\r\n    line1\r\n    line2\r\n```\r\n\r\n## yaml 2 yaml\r\n\r\nIt gives different output:\r\n\r\n```\r\n$ cat y | yq -y .\r\nsome:\r\n  file: 'hello world\r\n\r\n    line1\r\n\r\n    line2\r\n\r\n    '\r\n```\r\n\r\nWould it be possible to preserve the original YAML 1-1 when ``yq`` is instructed to output YAML ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/34", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/34/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/34/events", "html_url": "https://github.com/kislyuk/yq/issues/34", "id": 332836857, "node_id": "MDU6SXNzdWUzMzI4MzY4NTc=", "number": 34, "title": "converting json back to yaml strips all double quotes", "user": {"login": "NStewart85", "id": 34244230, "node_id": "MDQ6VXNlcjM0MjQ0MjMw", "avatar_url": "https://avatars2.githubusercontent.com/u/34244230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NStewart85", "html_url": "https://github.com/NStewart85", "followers_url": "https://api.github.com/users/NStewart85/followers", "following_url": "https://api.github.com/users/NStewart85/following{/other_user}", "gists_url": "https://api.github.com/users/NStewart85/gists{/gist_id}", "starred_url": "https://api.github.com/users/NStewart85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NStewart85/subscriptions", "organizations_url": "https://api.github.com/users/NStewart85/orgs", "repos_url": "https://api.github.com/users/NStewart85/repos", "events_url": "https://api.github.com/users/NStewart85/events{/privacy}", "received_events_url": "https://api.github.com/users/NStewart85/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-15T16:17:52Z", "updated_at": "2018-06-17T02:04:14Z", "closed_at": "2018-06-17T02:04:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Converting json back to yaml it strips all double quotes. For strings with special characters this behavior doesn't work. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/33", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/33/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/33/events", "html_url": "https://github.com/kislyuk/yq/issues/33", "id": 331343979, "node_id": "MDU6SXNzdWUzMzEzNDM5Nzk=", "number": 33, "title": "ExpatError: not well-formed", "user": {"login": "ademariag", "id": 32644550, "node_id": "MDQ6VXNlcjMyNjQ0NTUw", "avatar_url": "https://avatars0.githubusercontent.com/u/32644550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ademariag", "html_url": "https://github.com/ademariag", "followers_url": "https://api.github.com/users/ademariag/followers", "following_url": "https://api.github.com/users/ademariag/following{/other_user}", "gists_url": "https://api.github.com/users/ademariag/gists{/gist_id}", "starred_url": "https://api.github.com/users/ademariag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ademariag/subscriptions", "organizations_url": "https://api.github.com/users/ademariag/orgs", "repos_url": "https://api.github.com/users/ademariag/repos", "events_url": "https://api.github.com/users/ademariag/events{/privacy}", "received_events_url": "https://api.github.com/users/ademariag/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-11T20:47:16Z", "updated_at": "2019-11-06T04:53:10Z", "closed_at": "2018-06-14T05:25:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am receiving the following error when trying the XML output. What am I doing wrong?\r\n```\r\nyq: Error running jq: ExpatError: not well-formed (invalid token): line 1, column 0.\r\n```\r\n# Simple test to json\r\n```\r\necho '{\"example\": \"test\"}' | yq .\r\n{\r\n  \"example\": \"test\"\r\n}\r\n```\r\n# Simple test to xml \r\n```\r\necho '{\"example\": \"test\"}' | xq -x .\r\nyq: Error running jq: ExpatError: not well-formed (invalid token): line 1, column 0.\r\n```\r\n\r\nI have tried many different files but nothing compiles to xml.\r\n\r\n```\r\n# pip freeze yq\r\nasn1crypto==0.24.0\r\ncertifi==2018.4.16\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncryptography==2.2.2\r\nidna==2.6\r\nJinja2==2.10\r\njq==0.1.6\r\njsonnet==0.10.0\r\njsonschema==2.6.0\r\nkapitan==0.16.10\r\nMarkupSafe==1.0\r\npkg-resources==0.0.0\r\npycparser==2.18\r\npyparsing==2.2.0\r\npython-gnupg==0.4.2\r\nPyYAML==3.12\r\nreclass==1.5.2\r\nrequests==2.18.4\r\nsix==1.11.0\r\nujson==1.35\r\nurllib3==1.22\r\nxmltodict==0.11.0\r\nyq==2.6.0\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/32", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/32/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/32/events", "html_url": "https://github.com/kislyuk/yq/issues/32", "id": 330297329, "node_id": "MDU6SXNzdWUzMzAyOTczMjk=", "number": 32, "title": "How do I query for fields with dashes in them?", "user": {"login": "tomasaschan", "id": 1550920, "node_id": "MDQ6VXNlcjE1NTA5MjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1550920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomasaschan", "html_url": "https://github.com/tomasaschan", "followers_url": "https://api.github.com/users/tomasaschan/followers", "following_url": "https://api.github.com/users/tomasaschan/following{/other_user}", "gists_url": "https://api.github.com/users/tomasaschan/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomasaschan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomasaschan/subscriptions", "organizations_url": "https://api.github.com/users/tomasaschan/orgs", "repos_url": "https://api.github.com/users/tomasaschan/repos", "events_url": "https://api.github.com/users/tomasaschan/events{/privacy}", "received_events_url": "https://api.github.com/users/tomasaschan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-07T14:26:31Z", "updated_at": "2018-06-08T06:45:17Z", "closed_at": "2018-06-08T06:44:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the following yaml file `foo.yaml`:\r\n\r\n```\r\necho\r\n```\r\n\r\nNow, trying `yq .bar.some-data foo.yaml` or `yq .bar['some-data'] foo.yaml` doesn't give me `y`, but errors:\r\n\r\n```\r\n$ yq .bar.some-data foo.yaml\r\njq: error: data/0 is not defined at <top-level>, line 1:\r\n.bar.some-data\r\njq: 1 compile error\r\n\r\n$ yq .bar['some-data'] foo.yaml\r\njq: error: some/0 is not defined at <top-level>, line 1:\r\n.bar[some-data]\r\njq: error: data/0 is not defined at <top-level>, line 1:\r\n.bar[some-data]\r\njq: 2 compile errors\r\n```\r\n\r\nWhat is the correct way to query for those properties?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/31", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/31/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/31/events", "html_url": "https://github.com/kislyuk/yq/issues/31", "id": 327723884, "node_id": "MDU6SXNzdWUzMjc3MjM4ODQ=", "number": 31, "title": "Tilde character `~` wrong behavior", "user": {"login": "Toshik", "id": 170579, "node_id": "MDQ6VXNlcjE3MDU3OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/170579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Toshik", "html_url": "https://github.com/Toshik", "followers_url": "https://api.github.com/users/Toshik/followers", "following_url": "https://api.github.com/users/Toshik/following{/other_user}", "gists_url": "https://api.github.com/users/Toshik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Toshik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Toshik/subscriptions", "organizations_url": "https://api.github.com/users/Toshik/orgs", "repos_url": "https://api.github.com/users/Toshik/repos", "events_url": "https://api.github.com/users/Toshik/events{/privacy}", "received_events_url": "https://api.github.com/users/Toshik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-30T13:11:08Z", "updated_at": "2018-05-30T14:35:30Z", "closed_at": "2018-05-30T14:12:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "`echo \"aaa: 1\" | yq \".aaa=\\\"abc\\\"\" --yaml-output` outputs `aaa: abc` and it is correct.\r\n\r\nbut if we use `~`: \r\n`echo \"aaa: 1\" | yq \".aaa=\\\"~\\\"\" --yaml-output` outputs `aaa: '~'` which is incorrect. \r\nExpected output is `aaa: ~` - without quotation\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/30", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/30/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/30/events", "html_url": "https://github.com/kislyuk/yq/issues/30", "id": 326699341, "node_id": "MDU6SXNzdWUzMjY2OTkzNDE=", "number": 30, "title": "Test failure - AssertionError: 2 != 'yq: Error running jq: BrokenPipeError: [Errno 32] Broken pipe.'", "user": {"login": "mrueg", "id": 489370, "node_id": "MDQ6VXNlcjQ4OTM3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/489370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrueg", "html_url": "https://github.com/mrueg", "followers_url": "https://api.github.com/users/mrueg/followers", "following_url": "https://api.github.com/users/mrueg/following{/other_user}", "gists_url": "https://api.github.com/users/mrueg/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrueg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrueg/subscriptions", "organizations_url": "https://api.github.com/users/mrueg/orgs", "repos_url": "https://api.github.com/users/mrueg/repos", "events_url": "https://api.github.com/users/mrueg/events{/privacy}", "received_events_url": "https://api.github.com/users/mrueg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-26T01:25:04Z", "updated_at": "2018-05-31T21:26:32Z", "closed_at": "2018-05-31T21:26:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "```>>> Test phase: app-misc/yq-2.6.0\r\n * python3_4: running distutils-r1_run_phase python_test\r\n[\r\n  \"2016-12-20T22:07:36\"\r\n]\r\n\"2016-12-20\"\r\n..40333\r\nx\"bar\"\r\n.{\r\n  \"foo\": null\r\n}\r\n.{}\r\n3\r\n1\r\n.{}\r\njq: --indent takes a number between -1 and 7\r\nUse jq --help for help with command-line options,\r\nor see the jq manpage, or online docs  at https://stedolan.github.io/jq\r\nF.\r\n======================================================================\r\nFAIL: test_yq_arg_passthrough (__main__.TestYq)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"./test/test.py\", line 41, in run_yq\r\n    main(args, input_format=input_format)\r\n  File \"/var/tmp/portage/app-misc/yq-2.6.0/work/yq-2.6.0/yq/__init__.py\", line 155, in main\r\n    exit(jq.returncode)\r\nSystemExit: 2\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"./test/test.py\", line 72, in test_yq_arg_passthrough\r\n    self.run_yq(\"{}\", [\"--indent\", \"9\", \".\"], expect_exit_code=err)\r\n  File \"./test/test.py\", line 43, in run_yq\r\n    self.assertEqual(e.code, expect_exit_code)\r\nAssertionError: 2 != 'yq: Error running jq: BrokenPipeError: [Errno 32] Broken pipe.'\r\n\r\n----------------------------------------------------------------------\r\nRan 8 tests in 0.203s\r\n\r\nFAILED (failures=1, expected failures=1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/29", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/29/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/29/events", "html_url": "https://github.com/kislyuk/yq/issues/29", "id": 313898210, "node_id": "MDU6SXNzdWUzMTM4OTgyMTA=", "number": 29, "title": "preserve/restore indentation", "user": {"login": "drzraf", "id": 1169926, "node_id": "MDQ6VXNlcjExNjk5MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1169926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drzraf", "html_url": "https://github.com/drzraf", "followers_url": "https://api.github.com/users/drzraf/followers", "following_url": "https://api.github.com/users/drzraf/following{/other_user}", "gists_url": "https://api.github.com/users/drzraf/gists{/gist_id}", "starred_url": "https://api.github.com/users/drzraf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drzraf/subscriptions", "organizations_url": "https://api.github.com/users/drzraf/orgs", "repos_url": "https://api.github.com/users/drzraf/repos", "events_url": "https://api.github.com/users/drzraf/events{/privacy}", "received_events_url": "https://api.github.com/users/drzraf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-12T21:43:50Z", "updated_at": "2018-04-13T16:35:31Z", "closed_at": "2018-04-13T16:35:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "input.yml:\r\n```yaml\r\na: b\r\nc:\r\n  - d\r\n```\r\n\r\nCommand:\r\n`yq -y '.c += [\"e\"]' input.yml`\r\n\r\nOutput:\r\n```\r\na: b\r\nc:\r\n- d\r\n- e\r\n```\r\n\r\nExpect output:\r\n```\r\na: b\r\nc:\r\n  - d\r\n  - e\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/28", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/28/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/28/events", "html_url": "https://github.com/kislyuk/yq/issues/28", "id": 313734236, "node_id": "MDU6SXNzdWUzMTM3MzQyMzY=", "number": 28, "title": "Preserve comments", "user": {"login": "mkielar", "id": 2553638, "node_id": "MDQ6VXNlcjI1NTM2Mzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2553638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkielar", "html_url": "https://github.com/mkielar", "followers_url": "https://api.github.com/users/mkielar/followers", "following_url": "https://api.github.com/users/mkielar/following{/other_user}", "gists_url": "https://api.github.com/users/mkielar/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkielar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkielar/subscriptions", "organizations_url": "https://api.github.com/users/mkielar/orgs", "repos_url": "https://api.github.com/users/mkielar/repos", "events_url": "https://api.github.com/users/mkielar/events{/privacy}", "received_events_url": "https://api.github.com/users/mkielar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-12T13:46:02Z", "updated_at": "2018-04-12T20:57:06Z", "closed_at": "2018-04-12T20:55:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "This file:\r\n```\r\nfoo: bar\r\n# This is commented out - baz: bazzz\r\n```\r\nwhen passed through `yq w test.yaml foo newValue`, returns:\r\n```\r\nfoo: newValue\r\n```\r\n\r\nOne of the main advantages of using YAML over JSON is to be able to put comments into the file. This functionality is lost with current version of `yq`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/26", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/26/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/26/events", "html_url": "https://github.com/kislyuk/yq/issues/26", "id": 310832514, "node_id": "MDU6SXNzdWUzMTA4MzI1MTQ=", "number": 26, "title": "No man entry", "user": {"login": "aepod", "id": 124563, "node_id": "MDQ6VXNlcjEyNDU2Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/124563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aepod", "html_url": "https://github.com/aepod", "followers_url": "https://api.github.com/users/aepod/followers", "following_url": "https://api.github.com/users/aepod/following{/other_user}", "gists_url": "https://api.github.com/users/aepod/gists{/gist_id}", "starred_url": "https://api.github.com/users/aepod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aepod/subscriptions", "organizations_url": "https://api.github.com/users/aepod/orgs", "repos_url": "https://api.github.com/users/aepod/repos", "events_url": "https://api.github.com/users/aepod/events{/privacy}", "received_events_url": "https://api.github.com/users/aepod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-03T13:16:52Z", "updated_at": "2018-04-13T22:51:45Z", "closed_at": "2018-04-13T22:51:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "`man yq\r\nNo manual entry for yq\r\n`\r\n\r\nI would suggest a man entry.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/24", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/24/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/24/events", "html_url": "https://github.com/kislyuk/yq/issues/24", "id": 309930018, "node_id": "MDU6SXNzdWUzMDk5MzAwMTg=", "number": 24, "title": "LICENSE file is missing in source distribution", "user": {"login": "sodre", "id": 1043285, "node_id": "MDQ6VXNlcjEwNDMyODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1043285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sodre", "html_url": "https://github.com/sodre", "followers_url": "https://api.github.com/users/sodre/followers", "following_url": "https://api.github.com/users/sodre/following{/other_user}", "gists_url": "https://api.github.com/users/sodre/gists{/gist_id}", "starred_url": "https://api.github.com/users/sodre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sodre/subscriptions", "organizations_url": "https://api.github.com/users/sodre/orgs", "repos_url": "https://api.github.com/users/sodre/repos", "events_url": "https://api.github.com/users/sodre/events{/privacy}", "received_events_url": "https://api.github.com/users/sodre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-29T23:01:52Z", "updated_at": "2018-04-03T04:18:28Z", "closed_at": "2018-03-30T05:46:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am packaging yq for availability through [conda-forge](https://github.com/conda-forge) and I noticed that the LICENSE file is not being packed in the source distribution. \r\n\r\nCan you add the LICENSE in your next release of YQ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/23", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/23/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/23/events", "html_url": "https://github.com/kislyuk/yq/issues/23", "id": 309396272, "node_id": "MDU6SXNzdWUzMDkzOTYyNzI=", "number": 23, "title": "Values with custom tags are set to `null`", "user": {"login": "GroovyCarrot", "id": 5589906, "node_id": "MDQ6VXNlcjU1ODk5MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/5589906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GroovyCarrot", "html_url": "https://github.com/GroovyCarrot", "followers_url": "https://api.github.com/users/GroovyCarrot/followers", "following_url": "https://api.github.com/users/GroovyCarrot/following{/other_user}", "gists_url": "https://api.github.com/users/GroovyCarrot/gists{/gist_id}", "starred_url": "https://api.github.com/users/GroovyCarrot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GroovyCarrot/subscriptions", "organizations_url": "https://api.github.com/users/GroovyCarrot/orgs", "repos_url": "https://api.github.com/users/GroovyCarrot/repos", "events_url": "https://api.github.com/users/GroovyCarrot/events{/privacy}", "received_events_url": "https://api.github.com/users/GroovyCarrot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-28T14:39:22Z", "updated_at": "2018-04-03T11:33:41Z", "closed_at": "2018-03-30T15:28:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I have an ansible playbook which has tags like this:\r\n```\r\nsome_key: !vault |\r\n  $ANSIBLE_VAULT;1.1;AES256\r\n  37663434363236326231303035313330356563343734393664373764333962663539623031346531\r\n  6335383361386661613563386265326264613738353632310a633162393366636362633835633430\r\n  34313038633233646432646335643336643234613133643734303530616137366132313038343035\r\n  3039313262386130350a626364633935643562376366306631626530663037376630613565373164\r\n  6261\r\n```\r\n\r\nWhen trying to extract this, to pipe it into a decrypt:\r\n```\r\n$ yq '.some_key' file.yml\r\nnull\r\n```\r\n\r\nIt would be more useful to just ignore tags that aren't recognised and pull the value out as-is, rather than just `null`ing the value out entirely. It might be a trivial to expose tags separately if you need them?\r\n```\r\n$ yq --tags '.some_key' file.yml\r\n[\r\n  \"vault\"\r\n]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/22", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/22/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/22/events", "html_url": "https://github.com/kislyuk/yq/issues/22", "id": 300305145, "node_id": "MDU6SXNzdWUzMDAzMDUxNDU=", "number": 22, "title": "Not able to append to array", "user": {"login": "chrissound", "id": 1499652, "node_id": "MDQ6VXNlcjE0OTk2NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1499652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrissound", "html_url": "https://github.com/chrissound", "followers_url": "https://api.github.com/users/chrissound/followers", "following_url": "https://api.github.com/users/chrissound/following{/other_user}", "gists_url": "https://api.github.com/users/chrissound/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrissound/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrissound/subscriptions", "organizations_url": "https://api.github.com/users/chrissound/orgs", "repos_url": "https://api.github.com/users/chrissound/repos", "events_url": "https://api.github.com/users/chrissound/events{/privacy}", "received_events_url": "https://api.github.com/users/chrissound/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-26T16:28:17Z", "updated_at": "2018-02-26T20:23:22Z", "closed_at": "2018-02-26T19:31:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using ZSH - hence I need to escape the square brackets\r\n```\r\nyq w package.yaml dependencies\\[+\\] \"new thing\"\r\nusage: yq [-h] [--yaml-output] [--width WIDTH] [--version]\r\n          jq_filter [files [files ...]]\r\nyq: error: argument files: can't open 'dependencies[+]': [Errno 2] No such file or directory: 'dependencies[+]'\r\n\r\n```\r\n\r\n*package.yaml*\r\n```\r\nname:                app\r\nversion:             0.1.0.0\r\nlicense:             BSD3\r\nlicense-file:        LICENSE\r\nauthor:              CabalSaneDefault\r\nmaintainer:          nobody\r\nbuild-type:          Simple\r\nextra-source-files:  ChangeLog.md\r\n\r\ndependencies:\r\n  - base >=4.10 && <4.11\r\n  - optparse-applicative\r\n  - process\r\n\r\nexecutable:\r\n  main:             Main.hs\r\n  source-dirs: src\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/20", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/20/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/20/events", "html_url": "https://github.com/kislyuk/yq/issues/20", "id": 296362815, "node_id": "MDU6SXNzdWUyOTYzNjI4MTU=", "number": 20, "title": "Error when name contains a dash (-)", "user": {"login": "wadewegner", "id": 746259, "node_id": "MDQ6VXNlcjc0NjI1OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/746259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wadewegner", "html_url": "https://github.com/wadewegner", "followers_url": "https://api.github.com/users/wadewegner/followers", "following_url": "https://api.github.com/users/wadewegner/following{/other_user}", "gists_url": "https://api.github.com/users/wadewegner/gists{/gist_id}", "starred_url": "https://api.github.com/users/wadewegner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wadewegner/subscriptions", "organizations_url": "https://api.github.com/users/wadewegner/orgs", "repos_url": "https://api.github.com/users/wadewegner/repos", "events_url": "https://api.github.com/users/wadewegner/events{/privacy}", "received_events_url": "https://api.github.com/users/wadewegner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-12T12:44:39Z", "updated_at": "2020-02-28T15:09:30Z", "closed_at": "2018-02-12T18:08:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "`test.yaml` contents:\r\n\r\n```\r\ntest: \"test output\"\r\nmy-test: \"my-test output\"\r\n```\r\n\r\nError when trying to access `my-test`:\r\n\r\n```\r\n\u276f cat test.yml | yq .test\r\n\"test output\"\r\n\u276f cat test.yml |yq .my-test\r\njq: error: test/0 is not defined at <top-level>, line 1:\r\n.my-test\r\njq: 1 compile error\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/19", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/19/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/19/events", "html_url": "https://github.com/kislyuk/yq/issues/19", "id": 293931822, "node_id": "MDU6SXNzdWUyOTM5MzE4MjI=", "number": 19, "title": "--from-file positional parameter not passed to jq since 2.3.5", "user": {"login": "brydoncheyney", "id": 9702708, "node_id": "MDQ6VXNlcjk3MDI3MDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/9702708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brydoncheyney", "html_url": "https://github.com/brydoncheyney", "followers_url": "https://api.github.com/users/brydoncheyney/followers", "following_url": "https://api.github.com/users/brydoncheyney/following{/other_user}", "gists_url": "https://api.github.com/users/brydoncheyney/gists{/gist_id}", "starred_url": "https://api.github.com/users/brydoncheyney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brydoncheyney/subscriptions", "organizations_url": "https://api.github.com/users/brydoncheyney/orgs", "repos_url": "https://api.github.com/users/brydoncheyney/repos", "events_url": "https://api.github.com/users/brydoncheyney/events{/privacy}", "received_events_url": "https://api.github.com/users/brydoncheyney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-02T15:47:32Z", "updated_at": "2018-02-07T08:42:20Z", "closed_at": "2018-02-07T08:40:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "After changes made to passing positional parameters to jq, it looks like `--from-file filter` is broken and the filter for jq __must__ be defined as the `jq_filter` of `yq`. This means you can no longer define filters in a file, which is invaluable for more complex constructs.\r\n\r\n## Example Setup\r\n\r\nDefine a filter and some yaml data\r\n\r\n``` console\r\n[yq] cat filter\r\n.foo\r\n[yq] cat data\r\nfoo\r\n  a: 1\r\n```\r\n\r\n## 2.3.4\r\n\r\nPositional arguments are broken\r\n\r\n```console\r\n[yq] yq -y --arg a b . data\r\nusage: yq [-h] [--yaml-output] [--width WIDTH] [--version]\r\n          jq_filter [files [files ...]]\r\nyq: error: argument files: can't open 'b': [Errno 2] No such file or directory: 'b'\r\n```\r\n`--from-file` without `jq_filter` works\r\n\r\n```console\r\n[yq] yq -y --from-file filter data\r\na: 1\r\n```\r\n\r\n## 2.3.5\r\n\r\nAfter changes to positional parameters, the `--args` example now works\r\n\r\n```console\r\n[yq] yq -y --arg a b . data\r\nfoo:\r\n  a: 1\r\n```\r\n\r\n...but the `--from-file` example is broken, returning the `--help` text with a return code 0.\r\n\r\n```console\r\n[yq] yq -y --from-file filter data\r\nusage: yq [options] <jq filter> [YAML file...]\r\n          jq_filter [files [files ...]]\r\n\r\nyq: Command-line YAML processor - jq wrapper for YAML documents\r\n...\r\n[yq] echo $?\r\n0\r\n```\r\n\r\ntrying to define the call with the self identify filter still fails to work, returning no error message but a return code of 2.\r\n\r\n```console\r\n[yq] yq -y --from-file filter . data\r\n[yq] echo $?\r\n2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/16", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/16/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/16/events", "html_url": "https://github.com/kislyuk/yq/issues/16", "id": 291814356, "node_id": "MDU6SXNzdWUyOTE4MTQzNTY=", "number": 16, "title": "Does not seem to support --arg flag", "user": {"login": "duro", "id": 17632, "node_id": "MDQ6VXNlcjE3NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/17632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/duro", "html_url": "https://github.com/duro", "followers_url": "https://api.github.com/users/duro/followers", "following_url": "https://api.github.com/users/duro/following{/other_user}", "gists_url": "https://api.github.com/users/duro/gists{/gist_id}", "starred_url": "https://api.github.com/users/duro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/duro/subscriptions", "organizations_url": "https://api.github.com/users/duro/orgs", "repos_url": "https://api.github.com/users/duro/repos", "events_url": "https://api.github.com/users/duro/events{/privacy}", "received_events_url": "https://api.github.com/users/duro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-26T06:56:09Z", "updated_at": "2018-01-29T18:57:44Z", "closed_at": "2018-01-29T18:55:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Been trying the following:\r\n\r\n```\r\ncat file.yml | yq --arg foo bar '.metadata.name = $foo'\r\n```\r\n\r\nAnd I get the following error:\r\n\r\n```\r\nyq: error: argument files: can't open 'bar': [Errno 2] No such file or directory: 'bar'\r\n```\r\n\r\nIt would seem that jq's expected syntax for setting args with a space between key and value is tripping things up.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/15", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/15/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/15/events", "html_url": "https://github.com/kislyuk/yq/issues/15", "id": 291394471, "node_id": "MDU6SXNzdWUyOTEzOTQ0NzE=", "number": 15, "title": "Support ruamel.yaml as a yaml decoder/encoder", "user": {"login": "chancez", "id": 1400401, "node_id": "MDQ6VXNlcjE0MDA0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1400401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chancez", "html_url": "https://github.com/chancez", "followers_url": "https://api.github.com/users/chancez/followers", "following_url": "https://api.github.com/users/chancez/following{/other_user}", "gists_url": "https://api.github.com/users/chancez/gists{/gist_id}", "starred_url": "https://api.github.com/users/chancez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chancez/subscriptions", "organizations_url": "https://api.github.com/users/chancez/orgs", "repos_url": "https://api.github.com/users/chancez/repos", "events_url": "https://api.github.com/users/chancez/events{/privacy}", "received_events_url": "https://api.github.com/users/chancez/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-24T23:13:09Z", "updated_at": "2019-07-12T06:59:56Z", "closed_at": "2018-01-24T23:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://bitbucket.org/ruamel/yaml is the link to the package's source code repo, it's ruamel.yaml on pypi.\r\n\r\nruamel.yaml is really nice because it can preserve original formatting, meaning comments, and ordering of maps, etc is preserved. If `yq` could support this as an optional dependency and flag that allows controlling usage, that would be great. I'd even potentially look into implementing it if it doesn't seem too hard.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/12", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/12/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/12/events", "html_url": "https://github.com/kislyuk/yq/issues/12", "id": 288843207, "node_id": "MDU6SXNzdWUyODg4NDMyMDc=", "number": 12, "title": "Tests on non-yaml output (stdout=None) are false positives", "user": {"login": "rendaw", "id": 2284359, "node_id": "MDQ6VXNlcjIyODQzNTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2284359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rendaw", "html_url": "https://github.com/rendaw", "followers_url": "https://api.github.com/users/rendaw/followers", "following_url": "https://api.github.com/users/rendaw/following{/other_user}", "gists_url": "https://api.github.com/users/rendaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/rendaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rendaw/subscriptions", "organizations_url": "https://api.github.com/users/rendaw/orgs", "repos_url": "https://api.github.com/users/rendaw/repos", "events_url": "https://api.github.com/users/rendaw/events{/privacy}", "received_events_url": "https://api.github.com/users/rendaw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-16T09:47:50Z", "updated_at": "2018-01-16T18:10:55Z", "closed_at": "2018-01-16T17:56:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "They all test against `\"\"` and pass, but that's because stdout is not actually being captured in the BytesIO/StringIO - this test fails:\r\n```\r\nself.assertEqual(self.run_yq(\"foo\", [\".\"]), \"\\\"foo\\\"\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/11", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/11/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/11/events", "html_url": "https://github.com/kislyuk/yq/issues/11", "id": 281869036, "node_id": "MDU6SXNzdWUyODE4NjkwMzY=", "number": 11, "title": "make a brew package", "user": {"login": "ahmetb", "id": 159209, "node_id": "MDQ6VXNlcjE1OTIwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/159209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahmetb", "html_url": "https://github.com/ahmetb", "followers_url": "https://api.github.com/users/ahmetb/followers", "following_url": "https://api.github.com/users/ahmetb/following{/other_user}", "gists_url": "https://api.github.com/users/ahmetb/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahmetb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahmetb/subscriptions", "organizations_url": "https://api.github.com/users/ahmetb/orgs", "repos_url": "https://api.github.com/users/ahmetb/repos", "events_url": "https://api.github.com/users/ahmetb/events{/privacy}", "received_events_url": "https://api.github.com/users/ahmetb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-12-13T19:32:31Z", "updated_at": "2019-07-29T09:28:39Z", "closed_at": "2018-07-16T18:42:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "`jq` has a homebrew package. It would be good to have one for `yq` as well. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/9", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/9/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/9/events", "html_url": "https://github.com/kislyuk/yq/issues/9", "id": 275191975, "node_id": "MDU6SXNzdWUyNzUxOTE5NzU=", "number": 9, "title": "emulate -i support", "user": {"login": "rbtcollins", "id": 499678, "node_id": "MDQ6VXNlcjQ5OTY3OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/499678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbtcollins", "html_url": "https://github.com/rbtcollins", "followers_url": "https://api.github.com/users/rbtcollins/followers", "following_url": "https://api.github.com/users/rbtcollins/following{/other_user}", "gists_url": "https://api.github.com/users/rbtcollins/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbtcollins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbtcollins/subscriptions", "organizations_url": "https://api.github.com/users/rbtcollins/orgs", "repos_url": "https://api.github.com/users/rbtcollins/repos", "events_url": "https://api.github.com/users/rbtcollins/events{/privacy}", "received_events_url": "https://api.github.com/users/rbtcollins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-19T20:58:59Z", "updated_at": "2019-12-23T04:11:44Z", "closed_at": "2019-12-23T04:11:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "jq has a feature request open to support sed-like in-place editing of files. It would be lovely if yq were to support that in advance.\r\n\r\ne.g. `yq '(.foo.bar=3)' -i foo.yaml` would replace foo.yaml in-place, safely, with an implied -y. (write a temp file, close the source file, rename the temp file over the source file) [on windows, a delete or mv of the source file is also needed in there because \ud83d\udc4e but hey, close as we can get.\r\n\r\nI'd be happy to put a patch up if this feature request seems reasonable.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/6", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/6/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/6/events", "html_url": "https://github.com/kislyuk/yq/issues/6", "id": 252446009, "node_id": "MDU6SXNzdWUyNTI0NDYwMDk=", "number": 6, "title": "Support YAML with multiple docs", "user": {"login": "r4j4h", "id": 703007, "node_id": "MDQ6VXNlcjcwMzAwNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/703007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/r4j4h", "html_url": "https://github.com/r4j4h", "followers_url": "https://api.github.com/users/r4j4h/followers", "following_url": "https://api.github.com/users/r4j4h/following{/other_user}", "gists_url": "https://api.github.com/users/r4j4h/gists{/gist_id}", "starred_url": "https://api.github.com/users/r4j4h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/r4j4h/subscriptions", "organizations_url": "https://api.github.com/users/r4j4h/orgs", "repos_url": "https://api.github.com/users/r4j4h/repos", "events_url": "https://api.github.com/users/r4j4h/events{/privacy}", "received_events_url": "https://api.github.com/users/r4j4h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-23T23:33:16Z", "updated_at": "2018-01-10T09:43:13Z", "closed_at": "2017-08-27T19:40:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "The YAML standard allows embedding multiple YAML documents into one by separating them with `---` lines.\r\n\r\nWhen `yq` is given these as input, it errors out with:\r\n\r\n```\r\nyq: Error while running jq: ComposerError: expected a single document in the stream\r\n  in \"<stdin>\", line 2, column 1\r\n```\r\n\r\nI have a tool that can output yaml or json and when it outputs json it returns two objects concatenated, something like:\r\n\r\n```\r\n{\r\n   'thing': 1\r\n}\r\n{\r\n  'thing': 2\r\n}\r\n```\r\n\r\nInterestingly, if I pass these directly to `jq` it handles them cleanly. It runs the given command on each document.\r\n\r\nBecause `yq` wraps `jq` it seems like it should be able to handle this in a like manner.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/5", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/5/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/5/events", "html_url": "https://github.com/kislyuk/yq/issues/5", "id": 241039031, "node_id": "MDU6SXNzdWUyNDEwMzkwMzE=", "number": 5, "title": "yq throws TyperError datetime.datetime on ISOFormat strings in yaml file", "user": {"login": "jamesonjlee", "id": 698668, "node_id": "MDQ6VXNlcjY5ODY2OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/698668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesonjlee", "html_url": "https://github.com/jamesonjlee", "followers_url": "https://api.github.com/users/jamesonjlee/followers", "following_url": "https://api.github.com/users/jamesonjlee/following{/other_user}", "gists_url": "https://api.github.com/users/jamesonjlee/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesonjlee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesonjlee/subscriptions", "organizations_url": "https://api.github.com/users/jamesonjlee/orgs", "repos_url": "https://api.github.com/users/jamesonjlee/repos", "events_url": "https://api.github.com/users/jamesonjlee/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesonjlee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-06T18:03:56Z", "updated_at": "2017-07-17T23:04:25Z", "closed_at": "2017-07-07T04:18:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "the default yaml loader will parse ISOFormat strings and create datetime objects which doesn't jsonify well.\r\n\r\n---\r\n\r\nExample:\r\n```\r\n$ yq --version\r\nusage: yq [-h] [--yaml-output] [--width WIDTH] jq_filter [file [file ...]]\r\nyq: error: too few arguments\r\n$ pip freeze | grep yq\r\nyq==2.1.2\r\n$ yq . sec.yaml\r\nyq: Error while running jq: TypeError: datetime.datetime(2016, 12, 20, 22, 7, 36) is not JSON serializable.\r\nparse error: Unfinished JSON term\r\n$ cat sec.yaml\r\ndata:\r\n    thing: 1\r\n    thing2: \"stuff\"\r\n    datething: 2016-12-20T22:07:36Z\r\n    datethingstr: \"2016-12-20T22:07:36Z\"\r\n```\r\n\r\nthis needs to override the default encoder class.\r\n```\r\n# isoformat\r\nclass DateTimeEncoder(json.JSONEncoder):\r\n    def default(self, o):\r\n        if isinstance(o, datetime):\r\n            return o.isoformat()\r\n        return json.json.JSONEncoder.default(self, o)\r\n\r\n# usage\r\njson.dumps(..., cls=DateTimeEncoder)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/3", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/3/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/3/events", "html_url": "https://github.com/kislyuk/yq/issues/3", "id": 226054531, "node_id": "MDU6SXNzdWUyMjYwNTQ1MzE=", "number": 3, "title": "https://yq.readthedocs.io/", "user": {"login": "soulne4ny", "id": 1086596, "node_id": "MDQ6VXNlcjEwODY1OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1086596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soulne4ny", "html_url": "https://github.com/soulne4ny", "followers_url": "https://api.github.com/users/soulne4ny/followers", "following_url": "https://api.github.com/users/soulne4ny/following{/other_user}", "gists_url": "https://api.github.com/users/soulne4ny/gists{/gist_id}", "starred_url": "https://api.github.com/users/soulne4ny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soulne4ny/subscriptions", "organizations_url": "https://api.github.com/users/soulne4ny/orgs", "repos_url": "https://api.github.com/users/soulne4ny/repos", "events_url": "https://api.github.com/users/soulne4ny/events{/privacy}", "received_events_url": "https://api.github.com/users/soulne4ny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-03T17:11:43Z", "updated_at": "2017-05-04T08:11:49Z", "closed_at": "2017-05-04T08:11:49Z", "author_association": "NONE", "active_lock_reason": null, "body": " HTTP/1.1 404 Not Found", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/yq/issues/2", "repository_url": "https://api.github.com/repos/kislyuk/yq", "labels_url": "https://api.github.com/repos/kislyuk/yq/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/yq/issues/2/comments", "events_url": "https://api.github.com/repos/kislyuk/yq/issues/2/events", "html_url": "https://github.com/kislyuk/yq/issues/2", "id": 225021556, "node_id": "MDU6SXNzdWUyMjUwMjE1NTY=", "number": 2, "title": "Add option -y/--emit-yaml", "user": {"login": "kislyuk", "id": 862013, "node_id": "MDQ6VXNlcjg2MjAxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/862013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kislyuk", "html_url": "https://github.com/kislyuk", "followers_url": "https://api.github.com/users/kislyuk/followers", "following_url": "https://api.github.com/users/kislyuk/following{/other_user}", "gists_url": "https://api.github.com/users/kislyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kislyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kislyuk/subscriptions", "organizations_url": "https://api.github.com/users/kislyuk/orgs", "repos_url": "https://api.github.com/users/kislyuk/repos", "events_url": "https://api.github.com/users/kislyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/kislyuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-28T09:05:40Z", "updated_at": "2017-05-02T13:05:18Z", "closed_at": "2017-05-02T13:05:18Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}]}