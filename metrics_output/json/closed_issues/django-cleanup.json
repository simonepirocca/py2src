{"total_count": 36, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/un1t/django-cleanup/issues/70", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/70/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/70/events", "html_url": "https://github.com/un1t/django-cleanup/issues/70", "id": 629339405, "node_id": "MDU6SXNzdWU2MjkzMzk0MDU=", "number": 70, "title": "Make a Django 3.0 release", "user": {"login": "squio", "id": 169410, "node_id": "MDQ6VXNlcjE2OTQxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/169410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/squio", "html_url": "https://github.com/squio", "followers_url": "https://api.github.com/users/squio/followers", "following_url": "https://api.github.com/users/squio/following{/other_user}", "gists_url": "https://api.github.com/users/squio/gists{/gist_id}", "starred_url": "https://api.github.com/users/squio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/squio/subscriptions", "organizations_url": "https://api.github.com/users/squio/orgs", "repos_url": "https://api.github.com/users/squio/repos", "events_url": "https://api.github.com/users/squio/events{/privacy}", "received_events_url": "https://api.github.com/users/squio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-02T16:23:35Z", "updated_at": "2020-06-07T12:32:19Z", "closed_at": "2020-06-07T12:32:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nIt seems the most recent release (4.0.0) is not yet compatible with Django 3.0 while Master is.\r\n\r\nWould it be possible to create a stable release which can be installed from Pypi?  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/68", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/68/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/68/events", "html_url": "https://github.com/un1t/django-cleanup/issues/68", "id": 597865472, "node_id": "MDU6SXNzdWU1OTc4NjU0NzI=", "number": 68, "title": "Deletes unwanted files", "user": {"login": "harshraj22", "id": 46635452, "node_id": "MDQ6VXNlcjQ2NjM1NDUy", "avatar_url": "https://avatars2.githubusercontent.com/u/46635452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harshraj22", "html_url": "https://github.com/harshraj22", "followers_url": "https://api.github.com/users/harshraj22/followers", "following_url": "https://api.github.com/users/harshraj22/following{/other_user}", "gists_url": "https://api.github.com/users/harshraj22/gists{/gist_id}", "starred_url": "https://api.github.com/users/harshraj22/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harshraj22/subscriptions", "organizations_url": "https://api.github.com/users/harshraj22/orgs", "repos_url": "https://api.github.com/users/harshraj22/repos", "events_url": "https://api.github.com/users/harshraj22/events{/privacy}", "received_events_url": "https://api.github.com/users/harshraj22/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-10T12:33:22Z", "updated_at": "2020-04-11T16:06:26Z", "closed_at": "2020-04-11T16:06:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a model having ImageField (default to some image). When the ImageField is updated by any instance of the model, the default image is deleted. This causes problems when many instances of same model are linked with default image, and one of them updates.\r\n\r\nReference: \r\n[my project](https://github.com/harshraj22/CSE_HUB) Develop branch, Profile model.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/66", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/66/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/66/events", "html_url": "https://github.com/un1t/django-cleanup/issues/66", "id": 588068835, "node_id": "MDU6SXNzdWU1ODgwNjg4MzU=", "number": 66, "title": "django-cleanup remove default image in models when cleanup", "user": {"login": "Lifechess", "id": 43080240, "node_id": "MDQ6VXNlcjQzMDgwMjQw", "avatar_url": "https://avatars1.githubusercontent.com/u/43080240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lifechess", "html_url": "https://github.com/Lifechess", "followers_url": "https://api.github.com/users/Lifechess/followers", "following_url": "https://api.github.com/users/Lifechess/following{/other_user}", "gists_url": "https://api.github.com/users/Lifechess/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lifechess/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lifechess/subscriptions", "organizations_url": "https://api.github.com/users/Lifechess/orgs", "repos_url": "https://api.github.com/users/Lifechess/repos", "events_url": "https://api.github.com/users/Lifechess/events{/privacy}", "received_events_url": "https://api.github.com/users/Lifechess/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-26T00:17:38Z", "updated_at": "2020-03-30T14:19:30Z", "closed_at": "2020-03-30T14:19:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "i use python 3.6 and dango 2.0 , i got some default image i would like to ignore in my models, is there a way please?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/63", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/63/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/63/events", "html_url": "https://github.com/un1t/django-cleanup/issues/63", "id": 564021900, "node_id": "MDU6SXNzdWU1NjQwMjE5MDA=", "number": 63, "title": "Renaming file, causes deletion", "user": {"login": "papigers", "id": 5209100, "node_id": "MDQ6VXNlcjUyMDkxMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5209100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papigers", "html_url": "https://github.com/papigers", "followers_url": "https://api.github.com/users/papigers/followers", "following_url": "https://api.github.com/users/papigers/following{/other_user}", "gists_url": "https://api.github.com/users/papigers/gists{/gist_id}", "starred_url": "https://api.github.com/users/papigers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papigers/subscriptions", "organizations_url": "https://api.github.com/users/papigers/orgs", "repos_url": "https://api.github.com/users/papigers/repos", "events_url": "https://api.github.com/users/papigers/events{/privacy}", "received_events_url": "https://api.github.com/users/papigers/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-12T14:04:37Z", "updated_at": "2020-02-12T14:28:54Z", "closed_at": "2020-02-12T14:28:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I have a model with a file field and a char field representing the name of the file.\r\non model.save() im renaming the `file.name` attribute to match the `name` attribute of the instance.\r\nThis causes file deletion when using `django-cleanup`.\r\n\r\nAny way to prevent this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/54", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/54/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/54/events", "html_url": "https://github.com/un1t/django-cleanup/issues/54", "id": 497173230, "node_id": "MDU6SXNzdWU0OTcxNzMyMzA=", "number": 54, "title": "Suggestion: Add Travis CI", "user": {"login": "johnthagen", "id": 10340167, "node_id": "MDQ6VXNlcjEwMzQwMTY3", "avatar_url": "https://avatars1.githubusercontent.com/u/10340167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnthagen", "html_url": "https://github.com/johnthagen", "followers_url": "https://api.github.com/users/johnthagen/followers", "following_url": "https://api.github.com/users/johnthagen/following{/other_user}", "gists_url": "https://api.github.com/users/johnthagen/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnthagen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnthagen/subscriptions", "organizations_url": "https://api.github.com/users/johnthagen/orgs", "repos_url": "https://api.github.com/users/johnthagen/repos", "events_url": "https://api.github.com/users/johnthagen/events{/privacy}", "received_events_url": "https://api.github.com/users/johnthagen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-23T15:33:47Z", "updated_at": "2019-10-13T15:39:52Z", "closed_at": "2019-10-13T15:39:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[Travis CI](https://travis-ci.org/) could be added so that each commit (and every PR) is tested against all configurations.\r\n\r\nDRF has a pretty good example Travis config you could use as a reference: https://github.com/encode/django-rest-framework/blob/master/.travis.yml", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/52", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/52/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/52/events", "html_url": "https://github.com/un1t/django-cleanup/issues/52", "id": 495775729, "node_id": "MDU6SXNzdWU0OTU3NzU3Mjk=", "number": 52, "title": "Does this package support djangorestframework (drf)?", "user": {"login": "johnthagen", "id": 10340167, "node_id": "MDQ6VXNlcjEwMzQwMTY3", "avatar_url": "https://avatars1.githubusercontent.com/u/10340167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnthagen", "html_url": "https://github.com/johnthagen", "followers_url": "https://api.github.com/users/johnthagen/followers", "following_url": "https://api.github.com/users/johnthagen/following{/other_user}", "gists_url": "https://api.github.com/users/johnthagen/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnthagen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnthagen/subscriptions", "organizations_url": "https://api.github.com/users/johnthagen/orgs", "repos_url": "https://api.github.com/users/johnthagen/repos", "events_url": "https://api.github.com/users/johnthagen/events{/privacy}", "received_events_url": "https://api.github.com/users/johnthagen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-09-19T12:44:17Z", "updated_at": "2019-09-29T15:58:49Z", "closed_at": "2019-09-29T15:58:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using [DRF](https://www.django-rest-framework.org/) to provide a REST API on top of Django. I recently noticed that Django [does not automatically delete files on disk](https://docs.djangoproject.com/en/stable/releases/1.3/#deleting-a-model-doesn-t-delete-associated-files) when the `FileField` is deleted, so I was hoping `django-cleanup` could address this.\r\n\r\nsetup.py:\r\n\r\n```py\r\nINSTALLED_APPS = [\r\n    'grappelli',\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'rest_framework',\r\n    'myapp.apps.MyAppConfig',\r\n    'debug_toolbar',\r\n    'guardian',\r\n    'django_cleanup.apps.CleanupConfig',\r\n]\r\n```\r\n\r\nmodels.py:\r\n\r\n```py\r\nclass Project(models.Model):\r\n    pass\r\n\r\nclass MyModel(models.Model):\r\n    project = models.ForeignKey(Project, related_name='my_models', on_delete=models.CASCADE)\r\n    image = models.ImageField(upload_to='my_images')\r\n```\r\n\r\nBut when I do a RESTful DELETE of an instance of `Project`, the files still don't delete?\r\n\r\nThe DRF `ModelSerializer` for `Project` deletes all of the Project and `MyModel` instances correctly (the database is empty), but the files remain.\r\n\r\nIs there any configuration needed in `MyAppConfig` to associate the model? Is there a way to debug why `django-cleanup` doesn't seem to be getting called?\r\n\r\nWanted to check that this wasn't some kind of known limitation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/51", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/51/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/51/events", "html_url": "https://github.com/un1t/django-cleanup/issues/51", "id": 487194465, "node_id": "MDU6SXNzdWU0ODcxOTQ0NjU=", "number": 51, "title": "If two instances refer to the same file, deleting on of them causing file deletion", "user": {"login": "JediKnightChan", "id": 32651473, "node_id": "MDQ6VXNlcjMyNjUxNDcz", "avatar_url": "https://avatars0.githubusercontent.com/u/32651473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JediKnightChan", "html_url": "https://github.com/JediKnightChan", "followers_url": "https://api.github.com/users/JediKnightChan/followers", "following_url": "https://api.github.com/users/JediKnightChan/following{/other_user}", "gists_url": "https://api.github.com/users/JediKnightChan/gists{/gist_id}", "starred_url": "https://api.github.com/users/JediKnightChan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JediKnightChan/subscriptions", "organizations_url": "https://api.github.com/users/JediKnightChan/orgs", "repos_url": "https://api.github.com/users/JediKnightChan/repos", "events_url": "https://api.github.com/users/JediKnightChan/events{/privacy}", "received_events_url": "https://api.github.com/users/JediKnightChan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-29T21:58:01Z", "updated_at": "2019-09-29T14:06:22Z", "closed_at": "2019-09-29T14:06:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "If two instances have the same ImageField, deleting on of them causing file deletion.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/50", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/50/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/50/events", "html_url": "https://github.com/un1t/django-cleanup/issues/50", "id": 479391116, "node_id": "MDU6SXNzdWU0NzkzOTExMTY=", "number": 50, "title": "Suggestion: Add Disclaimer that django-cleanup doesn't work with python manage.py flush", "user": {"login": "kir12", "id": 11183158, "node_id": "MDQ6VXNlcjExMTgzMTU4", "avatar_url": "https://avatars0.githubusercontent.com/u/11183158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kir12", "html_url": "https://github.com/kir12", "followers_url": "https://api.github.com/users/kir12/followers", "following_url": "https://api.github.com/users/kir12/following{/other_user}", "gists_url": "https://api.github.com/users/kir12/gists{/gist_id}", "starred_url": "https://api.github.com/users/kir12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kir12/subscriptions", "organizations_url": "https://api.github.com/users/kir12/orgs", "repos_url": "https://api.github.com/users/kir12/repos", "events_url": "https://api.github.com/users/kir12/events{/privacy}", "received_events_url": "https://api.github.com/users/kir12/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-11T17:18:41Z", "updated_at": "2020-04-11T14:53:35Z", "closed_at": "2020-04-11T14:53:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I needed a solution to periodically clear out old database entries from my database, and that database also has attached files -- something django-cleanup is well suited for. The obvious practice is to write a script using `delete()` and attach a crontab job to it, but I initially tried `python manage.py flush` (which clears out the entire database anyways) figuring that would be a quicker solution. Interestingly `django-cleanup` didn't catch the database records being deleted and as a result didn't delete the old files. `manage.py flush` isn't likely to be part of a standard production routine (which is probably why it was overlooked) but it might be a good idea to add a small disclaimer to `README.md` warning that `manage.py flush` won't work with `django-cleanup`. Thanks for making `django-cleanup`!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/49", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/49/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/49/events", "html_url": "https://github.com/un1t/django-cleanup/issues/49", "id": 464947646, "node_id": "MDU6SXNzdWU0NjQ5NDc2NDY=", "number": 49, "title": "Test with Django 2.2", "user": {"login": "texnic", "id": 6185463, "node_id": "MDQ6VXNlcjYxODU0NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/6185463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/texnic", "html_url": "https://github.com/texnic", "followers_url": "https://api.github.com/users/texnic/followers", "following_url": "https://api.github.com/users/texnic/following{/other_user}", "gists_url": "https://api.github.com/users/texnic/gists{/gist_id}", "starred_url": "https://api.github.com/users/texnic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/texnic/subscriptions", "organizations_url": "https://api.github.com/users/texnic/orgs", "repos_url": "https://api.github.com/users/texnic/repos", "events_url": "https://api.github.com/users/texnic/events{/privacy}", "received_events_url": "https://api.github.com/users/texnic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-07T12:29:08Z", "updated_at": "2019-07-13T22:16:21Z", "closed_at": "2019-07-13T22:16:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Saw indications that it works with Django 2.2?  Is it approved for 2.2 and maintained?\r\n\r\nIt's a very useful tool, but it's dangerous (can be data-destructive), so I would only use it if it's maintained.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/48", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/48/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/48/events", "html_url": "https://github.com/un1t/django-cleanup/issues/48", "id": 436151614, "node_id": "MDU6SXNzdWU0MzYxNTE2MTQ=", "number": 48, "title": "getting `ModuleNotFoundError: No module named 'django_cleanup.apps.CleanupConfig'; 'django_cleanup.apps' is not a package`", "user": {"login": "singhravi1", "id": 20294674, "node_id": "MDQ6VXNlcjIwMjk0Njc0", "avatar_url": "https://avatars1.githubusercontent.com/u/20294674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/singhravi1", "html_url": "https://github.com/singhravi1", "followers_url": "https://api.github.com/users/singhravi1/followers", "following_url": "https://api.github.com/users/singhravi1/following{/other_user}", "gists_url": "https://api.github.com/users/singhravi1/gists{/gist_id}", "starred_url": "https://api.github.com/users/singhravi1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/singhravi1/subscriptions", "organizations_url": "https://api.github.com/users/singhravi1/orgs", "repos_url": "https://api.github.com/users/singhravi1/repos", "events_url": "https://api.github.com/users/singhravi1/events{/privacy}", "received_events_url": "https://api.github.com/users/singhravi1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561748, "node_id": "MDU6TGFiZWwxMTU2MTc0OA==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-23T12:06:49Z", "updated_at": "2019-04-23T13:04:44Z", "closed_at": "2019-04-23T13:03:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting this issue when using [django cassandra engine](https://github.com/r4fek/django-cassandra-engine/) and run sync_cassandra command.\r\n\r\nIt traces back to this line, https://github.com/r4fek/django-cassandra-engine/blob/b43f8fddd4bba143f03f73f8bbfc09e6b32c699b/django_cassandra_engine/management/commands/sync_cassandra.py#L33", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/44", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/44/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/44/events", "html_url": "https://github.com/un1t/django-cleanup/issues/44", "id": 404313455, "node_id": "MDU6SXNzdWU0MDQzMTM0NTU=", "number": 44, "title": "Data loss if same file is saved in multiple fields", "user": {"login": "singhravi1", "id": 20294674, "node_id": "MDQ6VXNlcjIwMjk0Njc0", "avatar_url": "https://avatars1.githubusercontent.com/u/20294674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/singhravi1", "html_url": "https://github.com/singhravi1", "followers_url": "https://api.github.com/users/singhravi1/followers", "following_url": "https://api.github.com/users/singhravi1/following{/other_user}", "gists_url": "https://api.github.com/users/singhravi1/gists{/gist_id}", "starred_url": "https://api.github.com/users/singhravi1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/singhravi1/subscriptions", "organizations_url": "https://api.github.com/users/singhravi1/orgs", "repos_url": "https://api.github.com/users/singhravi1/repos", "events_url": "https://api.github.com/users/singhravi1/events{/privacy}", "received_events_url": "https://api.github.com/users/singhravi1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-29T14:20:03Z", "updated_at": "2019-02-17T17:34:00Z", "closed_at": "2019-02-17T17:34:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a file is saved in multiple instances, then removing a single instance removes the file and cause 'file not found' error for every other instance.\r\n\r\nWe need to check if the file is referenced in any other object before deleting.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/43", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/43/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/43/events", "html_url": "https://github.com/un1t/django-cleanup/issues/43", "id": 371075004, "node_id": "MDU6SXNzdWUzNzEwNzUwMDQ=", "number": 43, "title": "transaction rollback handling", "user": {"login": "kukosk", "id": 519357, "node_id": "MDQ6VXNlcjUxOTM1Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/519357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kukosk", "html_url": "https://github.com/kukosk", "followers_url": "https://api.github.com/users/kukosk/followers", "following_url": "https://api.github.com/users/kukosk/following{/other_user}", "gists_url": "https://api.github.com/users/kukosk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kukosk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kukosk/subscriptions", "organizations_url": "https://api.github.com/users/kukosk/orgs", "repos_url": "https://api.github.com/users/kukosk/repos", "events_url": "https://api.github.com/users/kukosk/events{/privacy}", "received_events_url": "https://api.github.com/users/kukosk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561748, "node_id": "MDU6TGFiZWwxMTU2MTc0OA==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-17T13:28:09Z", "updated_at": "2018-10-27T13:27:32Z", "closed_at": "2018-10-27T13:27:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if it's possible to fix this, but I found an issue with a transaction rollback. Basically, when a a model with an image is created and saved inside a transaction, and the transaction then gets rollbacked, the data is not in the db table, but the image is still stored on disk.\r\n\r\nI found this issue while writing tests. When I use django.test.TestCase, and work with models, at the end of the test django rollbacks the changes, but the images created during instance.save() calls are still on the disk, which prevents me from running multiple tests in parallel, because I would have to manually delete the files at the end of each test, which would be concurrent. Also, It's not good in an app if you're using db transactions.\r\n\r\nDemo code:\r\n```\r\ntry:\r\n    with transaction.atomic():\r\n        self.create_model_with_image()\r\n        raise ValidationError('INVALID')\r\nexcept ValidationError as e:\r\n    print(e)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/42", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/42/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/42/events", "html_url": "https://github.com/un1t/django-cleanup/issues/42", "id": 329796880, "node_id": "MDU6SXNzdWUzMjk3OTY4ODA=", "number": 42, "title": "how it works with aws S3", "user": {"login": "Duonghailee", "id": 20248988, "node_id": "MDQ6VXNlcjIwMjQ4OTg4", "avatar_url": "https://avatars0.githubusercontent.com/u/20248988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Duonghailee", "html_url": "https://github.com/Duonghailee", "followers_url": "https://api.github.com/users/Duonghailee/followers", "following_url": "https://api.github.com/users/Duonghailee/following{/other_user}", "gists_url": "https://api.github.com/users/Duonghailee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Duonghailee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Duonghailee/subscriptions", "organizations_url": "https://api.github.com/users/Duonghailee/orgs", "repos_url": "https://api.github.com/users/Duonghailee/repos", "events_url": "https://api.github.com/users/Duonghailee/events{/privacy}", "received_events_url": "https://api.github.com/users/Duonghailee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-06T09:52:26Z", "updated_at": "2018-06-06T09:57:50Z", "closed_at": "2018-06-06T09:57:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am having trouble to understand the thumbnail example.\r\nMy case is that I have a class CV which has a file attribute - type : FileField.this file is stored in S3\r\n\r\nNow I would like to send signal pre_delete to the model before its instance is going to be deleted.\r\nMy issue is that I don't know how to import the CV model into the function.\r\nWhat i have tried.\r\nfrom django_cleanup.signals import cleanup_pre_delete, cleanup_post_delete\r\n\r\n\r\ndef CV(models.Model):\r\n   ...\r\n   file = models.FileFiles(path)\r\n\r\ndef cv_file_delete(**kwargs):\r\n     from CV import delete // this is raising error\r\n     delete(CV.file)\r\ncleanup_pre_delete.connect(cv_file_delete)\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/41", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/41/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/41/events", "html_url": "https://github.com/un1t/django-cleanup/issues/41", "id": 319647203, "node_id": "MDU6SXNzdWUzMTk2NDcyMDM=", "number": 41, "title": "Doesn't seem to work with replaced files under Django 2.0.3", "user": {"login": "rspeed", "id": 520459, "node_id": "MDQ6VXNlcjUyMDQ1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/520459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rspeed", "html_url": "https://github.com/rspeed", "followers_url": "https://api.github.com/users/rspeed/followers", "following_url": "https://api.github.com/users/rspeed/following{/other_user}", "gists_url": "https://api.github.com/users/rspeed/gists{/gist_id}", "starred_url": "https://api.github.com/users/rspeed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rspeed/subscriptions", "organizations_url": "https://api.github.com/users/rspeed/orgs", "repos_url": "https://api.github.com/users/rspeed/repos", "events_url": "https://api.github.com/users/rspeed/events{/privacy}", "received_events_url": "https://api.github.com/users/rspeed/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-02T17:39:36Z", "updated_at": "2018-05-02T22:07:31Z", "closed_at": "2018-05-02T22:07:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying it out for the first time, and noticed that while it does correctly delete the files when the model instance is deleted, it fails to delete files when they are replaced.\r\n\r\nHooking it up to a debugger and stepping through the code, it appears that in 'django_cleanup.handlers.delete_old_post_save`, fetching the cached `FileField` returns *the same object* as the \"new\" `FileField`. My suspicion is that in the past Django would create a new `File` object when a file is replaced, but the current version instead updates the existing object. I suspect that the solution is to have the cache system store a *copy* of the field.\r\n\r\nI'm going to run some experiments and report back.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/40", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/40/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/40/events", "html_url": "https://github.com/un1t/django-cleanup/issues/40", "id": 312598338, "node_id": "MDU6SXNzdWUzMTI1OTgzMzg=", "number": 40, "title": "Support for 1.10 why the drop?", "user": {"login": "fmakawa", "id": 19327220, "node_id": "MDQ6VXNlcjE5MzI3MjIw", "avatar_url": "https://avatars0.githubusercontent.com/u/19327220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fmakawa", "html_url": "https://github.com/fmakawa", "followers_url": "https://api.github.com/users/fmakawa/followers", "following_url": "https://api.github.com/users/fmakawa/following{/other_user}", "gists_url": "https://api.github.com/users/fmakawa/gists{/gist_id}", "starred_url": "https://api.github.com/users/fmakawa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fmakawa/subscriptions", "organizations_url": "https://api.github.com/users/fmakawa/orgs", "repos_url": "https://api.github.com/users/fmakawa/repos", "events_url": "https://api.github.com/users/fmakawa/events{/privacy}", "received_events_url": "https://api.github.com/users/fmakawa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-09T16:24:58Z", "updated_at": "2018-04-14T13:58:50Z", "closed_at": "2018-04-14T13:58:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Curious as to the drop in support for 1.10", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/39", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/39/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/39/events", "html_url": "https://github.com/un1t/django-cleanup/issues/39", "id": 300099267, "node_id": "MDU6SXNzdWUzMDAwOTkyNjc=", "number": 39, "title": "Does this work with S3 storage as well as local filesystem?", "user": {"login": "lanshark", "id": 1121027, "node_id": "MDQ6VXNlcjExMjEwMjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1121027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lanshark", "html_url": "https://github.com/lanshark", "followers_url": "https://api.github.com/users/lanshark/followers", "following_url": "https://api.github.com/users/lanshark/following{/other_user}", "gists_url": "https://api.github.com/users/lanshark/gists{/gist_id}", "starred_url": "https://api.github.com/users/lanshark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lanshark/subscriptions", "organizations_url": "https://api.github.com/users/lanshark/orgs", "repos_url": "https://api.github.com/users/lanshark/repos", "events_url": "https://api.github.com/users/lanshark/events{/privacy}", "received_events_url": "https://api.github.com/users/lanshark/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-26T03:36:39Z", "updated_at": "2018-04-14T13:59:02Z", "closed_at": "2018-04-14T13:59:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/38", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/38/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/38/events", "html_url": "https://github.com/un1t/django-cleanup/issues/38", "id": 290918399, "node_id": "MDU6SXNzdWUyOTA5MTgzOTk=", "number": 38, "title": "Add documentation regarding TestCase vs TransactionalTestCase", "user": {"login": "McPo", "id": 1295034, "node_id": "MDQ6VXNlcjEyOTUwMzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1295034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/McPo", "html_url": "https://github.com/McPo", "followers_url": "https://api.github.com/users/McPo/followers", "following_url": "https://api.github.com/users/McPo/following{/other_user}", "gists_url": "https://api.github.com/users/McPo/gists{/gist_id}", "starred_url": "https://api.github.com/users/McPo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/McPo/subscriptions", "organizations_url": "https://api.github.com/users/McPo/orgs", "repos_url": "https://api.github.com/users/McPo/repos", "events_url": "https://api.github.com/users/McPo/events{/privacy}", "received_events_url": "https://api.github.com/users/McPo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-23T17:06:24Z", "updated_at": "2018-11-18T17:39:56Z", "closed_at": "2018-11-18T17:39:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Discovered that TestCases must use TransactionalTestCase, in order for the library to work. Might be worth explicitly mentioning this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/37", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/37/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/37/events", "html_url": "https://github.com/un1t/django-cleanup/issues/37", "id": 285234302, "node_id": "MDU6SXNzdWUyODUyMzQzMDI=", "number": 37, "title": "Exception should be passed", "user": {"login": "jrkerns", "id": 4803336, "node_id": "MDQ6VXNlcjQ4MDMzMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/4803336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrkerns", "html_url": "https://github.com/jrkerns", "followers_url": "https://api.github.com/users/jrkerns/followers", "following_url": "https://api.github.com/users/jrkerns/following{/other_user}", "gists_url": "https://api.github.com/users/jrkerns/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrkerns/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrkerns/subscriptions", "organizations_url": "https://api.github.com/users/jrkerns/orgs", "repos_url": "https://api.github.com/users/jrkerns/repos", "events_url": "https://api.github.com/users/jrkerns/events{/privacy}", "received_events_url": "https://api.github.com/users/jrkerns/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561747, "node_id": "MDU6TGFiZWwxMTU2MTc0Nw==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-12-31T01:36:54Z", "updated_at": "2017-12-31T17:53:38Z", "closed_at": "2017-12-31T04:26:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/un1t/django-cleanup/blob/06b713da324dc9d89f75be757c33514a224cb049/django_cleanup/handlers.py#L105\r\n\r\nInstead of the generic message the exception should be passed so the user knows what exact error was thrown.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/36", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/36/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/36/events", "html_url": "https://github.com/un1t/django-cleanup/issues/36", "id": 220195014, "node_id": "MDU6SXNzdWUyMjAxOTUwMTQ=", "number": 36, "title": "Infinite recursion between django-modeltranslations and django-cleanup", "user": {"login": "Paul424", "id": 1399350, "node_id": "MDQ6VXNlcjEzOTkzNTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1399350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Paul424", "html_url": "https://github.com/Paul424", "followers_url": "https://api.github.com/users/Paul424/followers", "following_url": "https://api.github.com/users/Paul424/following{/other_user}", "gists_url": "https://api.github.com/users/Paul424/gists{/gist_id}", "starred_url": "https://api.github.com/users/Paul424/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Paul424/subscriptions", "organizations_url": "https://api.github.com/users/Paul424/orgs", "repos_url": "https://api.github.com/users/Paul424/repos", "events_url": "https://api.github.com/users/Paul424/events{/privacy}", "received_events_url": "https://api.github.com/users/Paul424/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561745, "node_id": "MDU6TGFiZWwxMTU2MTc0NQ==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/un1t/django-cleanup/milestones/1", "html_url": "https://github.com/un1t/django-cleanup/milestone/1", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/milestones/1/labels", "id": 2587227, "node_id": "MDk6TWlsZXN0b25lMjU4NzIyNw==", "number": 1, "title": "1.0.0", "description": null, "creator": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2017-06-16T12:25:41Z", "updated_at": "2017-12-31T04:26:40Z", "due_on": null, "closed_at": "2017-12-31T04:26:40Z"}, "comments": 6, "created_at": "2017-04-07T12:06:16Z", "updated_at": "2017-06-30T14:21:37Z", "closed_at": "2017-06-30T14:21:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if it's related to a recent upgrade to django 1.10 but there is an infinite recursion between django-cleanup and django modeltranslations.\r\n\r\ndjango-cleanup==0.4.2\r\ndjango-modeltranslation==0.12\r\nDjango==1.10\r\n\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/base.py\", line 557, in __init__\r\n    signals.post_init.send(sender=self.__class__, instance=self)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/dispatch/dispatcher.py\", line 191, in send\r\n    response = receiver(signal=self, sender=sender, **named)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django_cleanup/handlers.py\", line 44, in cache_original_post_init\r\n    cache.make_cleanup_cache(instance)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django_cleanup/cache.py\", line 165, in make_cleanup_cache\r\n    fields_for_model_instance(source, using=instance)))\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django_cleanup/cache.py\", line 108, in fields_for_model_instance\r\n    field = get_field_instance(instance, field_name, using=using)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django_cleanup/cache.py\", line 82, in get_field_instance\r\n    field = getattr(instance, field_name, None)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/fields/files.py\", line 173, in __get__\r\n    instance.refresh_from_db(fields=[self.field.name])\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/modeltranslation/translator.py\", line 304, in new_refresh_from_db\r\n    return old_refresh_from_db(self, using, fields)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/base.py\", line 685, in refresh_from_db\r\n    db_instance = db_instance_qs.get()\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/query.py\", line 379, in get\r\n    num = len(clone)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/query.py\", line 238, in __len__\r\n    self._fetch_all()\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/query.py\", line 1085, in _fetch_all\r\n    self._result_cache = list(self.iterator())\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/query.py\", line 66, in __iter__\r\n    obj = model_cls.from_db(db, init_list, row[model_fields_start:model_fields_end])\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/base.py\", line 565, in from_db\r\n    new = cls(*values)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/modeltranslation/translator.py\", line 245, in new_init\r\n    old_init(self, *args, **kwargs)\r\n  File \"/site/env/python/local/lib/python2.7/site-packages/django/db/models/base.py\", line 557, in __init__\r\n    signals.post_init.send(sender=self.__class__, instance=self)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/35", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/35/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/35/events", "html_url": "https://github.com/un1t/django-cleanup/issues/35", "id": 199848423, "node_id": "MDU6SXNzdWUxOTk4NDg0MjM=", "number": 35, "title": "cleanup_pre_delete is not called in production environment?", "user": {"login": "rightx2", "id": 10606994, "node_id": "MDQ6VXNlcjEwNjA2OTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/10606994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rightx2", "html_url": "https://github.com/rightx2", "followers_url": "https://api.github.com/users/rightx2/followers", "following_url": "https://api.github.com/users/rightx2/following{/other_user}", "gists_url": "https://api.github.com/users/rightx2/gists{/gist_id}", "starred_url": "https://api.github.com/users/rightx2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rightx2/subscriptions", "organizations_url": "https://api.github.com/users/rightx2/orgs", "repos_url": "https://api.github.com/users/rightx2/repos", "events_url": "https://api.github.com/users/rightx2/events{/privacy}", "received_events_url": "https://api.github.com/users/rightx2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 628049966, "node_id": "MDU6TGFiZWw2MjgwNDk5NjY=", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/needinfo", "name": "needinfo", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-01-10T15:17:50Z", "updated_at": "2017-09-28T14:45:34Z", "closed_at": "2017-09-28T14:45:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Production environment : Django1.9.7 / AWS S3, AWS Cloudfront (for managing static and media files) \r\n\r\n`cleanup_pre_delete` is not called in production environment.\r\n\r\nBut it called very well in local development environment.\r\n\r\nI have no idea why this happens.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/34", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/34/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/34/events", "html_url": "https://github.com/un1t/django-cleanup/issues/34", "id": 196300045, "node_id": "MDU6SXNzdWUxOTYzMDAwNDU=", "number": 34, "title": "Breaks django-admin-sortable2", "user": {"login": "kennell", "id": 2326287, "node_id": "MDQ6VXNlcjIzMjYyODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2326287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennell", "html_url": "https://github.com/kennell", "followers_url": "https://api.github.com/users/kennell/followers", "following_url": "https://api.github.com/users/kennell/following{/other_user}", "gists_url": "https://api.github.com/users/kennell/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennell/subscriptions", "organizations_url": "https://api.github.com/users/kennell/orgs", "repos_url": "https://api.github.com/users/kennell/repos", "events_url": "https://api.github.com/users/kennell/events{/privacy}", "received_events_url": "https://api.github.com/users/kennell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-18T21:20:56Z", "updated_at": "2017-01-25T16:01:38Z", "closed_at": "2016-12-20T00:37:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey. Django-cleanup seems to break [django-admin-sortable2](https://github.com/jrief/django-admin-sortable2) (or vice versa?)\r\n\r\nWhen reordering some models in the Admin, the AJAX request sent will fail with HTTP 500. I am not quite sure what is happening, but fallback_pre_save (part of django-cleanup) is called at some point, resulting in the following error: \r\n\r\n```\r\nTypeError at /admin/main/trailers/adminsortable2_update/\r\nfallback_pre_save() missing 2 required positional arguments: 'raw' and 'using'\r\n```\r\n\r\nNot sure what app actually needs its behaviour fixed, maybe @jrief can jump on the issue too.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/33", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/33/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/33/events", "html_url": "https://github.com/un1t/django-cleanup/issues/33", "id": 175742110, "node_id": "MDU6SXNzdWUxNzU3NDIxMTA=", "number": 33, "title": "Documentation needs improvement.", "user": {"login": "styvane", "id": 4968379, "node_id": "MDQ6VXNlcjQ5NjgzNzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4968379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/styvane", "html_url": "https://github.com/styvane", "followers_url": "https://api.github.com/users/styvane/followers", "following_url": "https://api.github.com/users/styvane/following{/other_user}", "gists_url": "https://api.github.com/users/styvane/gists{/gist_id}", "starred_url": "https://api.github.com/users/styvane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/styvane/subscriptions", "organizations_url": "https://api.github.com/users/styvane/orgs", "repos_url": "https://api.github.com/users/styvane/repos", "events_url": "https://api.github.com/users/styvane/events{/privacy}", "received_events_url": "https://api.github.com/users/styvane/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-09-08T12:35:12Z", "updated_at": "2019-05-01T11:13:07Z", "closed_at": "2017-03-17T10:11:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Ilya! \n\nFor example if I have a model that look like this:\n\n```\nclass Profile(models.Model):\n    name = models.CharField(max_length=40)\n    doc = models.FieldField(upload_to='folder')\n```\n\nThe documentation doesn't say how one should use the signals an not every projects need sorl-thumbnail\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/32", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/32/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/32/events", "html_url": "https://github.com/un1t/django-cleanup/issues/32", "id": 175724555, "node_id": "MDU6SXNzdWUxNzU3MjQ1NTU=", "number": 32, "title": "save() raises FileNotFoundError ", "user": {"login": "mnach", "id": 1246847, "node_id": "MDQ6VXNlcjEyNDY4NDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1246847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnach", "html_url": "https://github.com/mnach", "followers_url": "https://api.github.com/users/mnach/followers", "following_url": "https://api.github.com/users/mnach/following{/other_user}", "gists_url": "https://api.github.com/users/mnach/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnach/subscriptions", "organizations_url": "https://api.github.com/users/mnach/orgs", "repos_url": "https://api.github.com/users/mnach/repos", "events_url": "https://api.github.com/users/mnach/events{/privacy}", "received_events_url": "https://api.github.com/users/mnach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561747, "node_id": "MDU6TGFiZWwxMTU2MTc0Nw==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/un1t/django-cleanup/milestones/1", "html_url": "https://github.com/un1t/django-cleanup/milestone/1", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/milestones/1/labels", "id": 2587227, "node_id": "MDk6TWlsZXN0b25lMjU4NzIyNw==", "number": 1, "title": "1.0.0", "description": null, "creator": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2017-06-16T12:25:41Z", "updated_at": "2017-12-31T04:26:40Z", "due_on": null, "closed_at": "2017-12-31T04:26:40Z"}, "comments": 11, "created_at": "2016-09-08T10:58:41Z", "updated_at": "2017-08-11T05:45:56Z", "closed_at": "2017-06-30T14:21:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, Ilya!\n\nWe are using this lib in a while. In most cases it works perfect! Saves lots of space..\n\nResently my colleague found small issue with manual file removal.. If somewhere in code I already delete a file (or it is disappeared after django created an object) then `.save()` will `raise FileNotFoundError`\n\n``` python\n>>> obj = MyModel.object.all().first()\n>>> obj.data.delete()\n>>> obj.data = None\n>>> obj.save()  # raises FileNotFoundError\n```\n\nMay be it will be better to catch this exception inside this application? In case of, for example, using another library, which is know nothing about django_cleanup?\n\nI'm ready to create pull request if you don't mind\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/31", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/31/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/31/events", "html_url": "https://github.com/un1t/django-cleanup/issues/31", "id": 137264032, "node_id": "MDU6SXNzdWUxMzcyNjQwMzI=", "number": 31, "title": "Why don't automatically connect sorl_delete signal if sorl-thumbnail is used?", "user": {"login": "fabiocaccamo", "id": 1035294, "node_id": "MDQ6VXNlcjEwMzUyOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1035294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabiocaccamo", "html_url": "https://github.com/fabiocaccamo", "followers_url": "https://api.github.com/users/fabiocaccamo/followers", "following_url": "https://api.github.com/users/fabiocaccamo/following{/other_user}", "gists_url": "https://api.github.com/users/fabiocaccamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabiocaccamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabiocaccamo/subscriptions", "organizations_url": "https://api.github.com/users/fabiocaccamo/orgs", "repos_url": "https://api.github.com/users/fabiocaccamo/repos", "events_url": "https://api.github.com/users/fabiocaccamo/events{/privacy}", "received_events_url": "https://api.github.com/users/fabiocaccamo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561747, "node_id": "MDU6TGFiZWwxMTU2MTc0Nw==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2016-02-29T14:03:52Z", "updated_at": "2019-07-13T22:18:14Z", "closed_at": "2019-07-13T22:18:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/27", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/27/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/27/events", "html_url": "https://github.com/un1t/django-cleanup/issues/27", "id": 114706875, "node_id": "MDU6SXNzdWUxMTQ3MDY4NzU=", "number": 27, "title": "instance.field_name is not set anymore after updating the file", "user": {"login": "pchiquet", "id": 1631021, "node_id": "MDQ6VXNlcjE2MzEwMjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1631021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchiquet", "html_url": "https://github.com/pchiquet", "followers_url": "https://api.github.com/users/pchiquet/followers", "following_url": "https://api.github.com/users/pchiquet/following{/other_user}", "gists_url": "https://api.github.com/users/pchiquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchiquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchiquet/subscriptions", "organizations_url": "https://api.github.com/users/pchiquet/orgs", "repos_url": "https://api.github.com/users/pchiquet/repos", "events_url": "https://api.github.com/users/pchiquet/events{/privacy}", "received_events_url": "https://api.github.com/users/pchiquet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-11-02T23:19:40Z", "updated_at": "2015-12-02T18:52:01Z", "closed_at": "2015-12-02T18:52:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The post_save signal mess with instance.field_name value when deleting the old file:\n\n```\n>>> product = Product.objects.create(image=image1)\n>>> product.image = 'new.jpg'\n>>> product.save()\n>>> product.image\nNone\n```\n\nsince 0.4.0 release\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/26", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/26/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/26/events", "html_url": "https://github.com/un1t/django-cleanup/issues/26", "id": 111830322, "node_id": "MDU6SXNzdWUxMTE4MzAzMjI=", "number": 26, "title": "clean empty folders", "user": {"login": "shtalinberg", "id": 7803600, "node_id": "MDQ6VXNlcjc4MDM2MDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7803600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shtalinberg", "html_url": "https://github.com/shtalinberg", "followers_url": "https://api.github.com/users/shtalinberg/followers", "following_url": "https://api.github.com/users/shtalinberg/following{/other_user}", "gists_url": "https://api.github.com/users/shtalinberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/shtalinberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shtalinberg/subscriptions", "organizations_url": "https://api.github.com/users/shtalinberg/orgs", "repos_url": "https://api.github.com/users/shtalinberg/repos", "events_url": "https://api.github.com/users/shtalinberg/events{/privacy}", "received_events_url": "https://api.github.com/users/shtalinberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561747, "node_id": "MDU6TGFiZWwxMTU2MTc0Nw==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2015-10-16T13:19:52Z", "updated_at": "2019-07-13T22:18:24Z", "closed_at": "2019-07-13T22:18:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "clean empty parent folders if not equal media, maybe ? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/25", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/25/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/25/events", "html_url": "https://github.com/un1t/django-cleanup/issues/25", "id": 110939681, "node_id": "MDU6SXNzdWUxMTA5Mzk2ODE=", "number": 25, "title": "Django-cleanup seems not working anymore on Django 1.8", "user": {"login": "khamaileon", "id": 1322166, "node_id": "MDQ6VXNlcjEzMjIxNjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1322166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khamaileon", "html_url": "https://github.com/khamaileon", "followers_url": "https://api.github.com/users/khamaileon/followers", "following_url": "https://api.github.com/users/khamaileon/following{/other_user}", "gists_url": "https://api.github.com/users/khamaileon/gists{/gist_id}", "starred_url": "https://api.github.com/users/khamaileon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khamaileon/subscriptions", "organizations_url": "https://api.github.com/users/khamaileon/orgs", "repos_url": "https://api.github.com/users/khamaileon/repos", "events_url": "https://api.github.com/users/khamaileon/events{/privacy}", "received_events_url": "https://api.github.com/users/khamaileon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2015-10-12T09:28:28Z", "updated_at": "2015-12-02T21:20:33Z", "closed_at": "2015-12-02T18:52:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Django 1.8.5\nDjango-cleanup 0.4.0\n\n```\nFile \"/home/khamaileon/workspace/khamaileon/project/api/feed/models.py\", line 73, in fetch\n    self.save()\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django/db/models/base.py\", line 734, in save\n    force_update=force_update, update_fields=update_fields)\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django/db/models/base.py\", line 771, in save_base\n    update_fields=update_fields, raw=raw, using=using)\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django/dispatch/dispatcher.py\", line 201, in send\n    response = receiver(signal=self, sender=sender, **named)\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django_cleanup/models.py\", line 65, in delete_old_post_save\n    delete_file(old_file, using)\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django_cleanup/models.py\", line 87, in delete_file\n    on_commit(run_on_commit, using)\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django_cleanup/models.py\", line 17, in on_commit\n    func()\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django_cleanup/models.py\", line 84, in run_on_commit\n    file_.delete(save=False)\n  File \"/home/khamaileon/.virtualenvs/project-api/lib/python3.4/site-packages/django/db/models/fields/files.py\", line 124, in delete\n    self.storage.delete(self.name)\nAttributeError: 'FieldFile' object has no attribute 'storage'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/23", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/23/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/23/events", "html_url": "https://github.com/un1t/django-cleanup/issues/23", "id": 110224641, "node_id": "MDU6SXNzdWUxMTAyMjQ2NDE=", "number": 23, "title": "Add tagged releases.", "user": {"login": "vinnyrose", "id": 94764, "node_id": "MDQ6VXNlcjk0NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/94764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnyrose", "html_url": "https://github.com/vinnyrose", "followers_url": "https://api.github.com/users/vinnyrose/followers", "following_url": "https://api.github.com/users/vinnyrose/following{/other_user}", "gists_url": "https://api.github.com/users/vinnyrose/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnyrose/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnyrose/subscriptions", "organizations_url": "https://api.github.com/users/vinnyrose/orgs", "repos_url": "https://api.github.com/users/vinnyrose/repos", "events_url": "https://api.github.com/users/vinnyrose/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnyrose/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-07T13:21:28Z", "updated_at": "2015-10-07T13:48:32Z", "closed_at": "2015-10-07T13:48:32Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Please add tags to each version so we can better track them. (Only a repo committer can run these)\n\n```\ngit tag -a 0.1.0 0fada14463 -m ''\ngit tag -a 0.1.4 6440f588d4 -m ''\ngit tag -a 0.1.5 57ec98ae31 -m ''\ngit tag -a 0.1.6 69a5840949 -m ''\ngit tag -a 0.1.7 c8f6484153 -m ''\ngit tag -a 0.1.8 031262d702 -m ''\ngit tag -a 0.1.9 6adeedba94 -m ''\ngit tag -a 0.1.10 715d0fcdfb -m ''\ngit tag -a 0.1.11 40b2983f53 -m ''\ngit tag -a 0.1.12 d9989d3f30 -m ''\ngit tag -a 0.1.13 a0901e54b1 -m ''\ngit tag -a 0.2.0 1902f18ca9 -m ''\ngit tag -a 0.2.1 bc4925d487 -m ''\ngit tag -a 0.3.0 6fb0e518fe -m ''\ngit tag -a 0.3.1 9c4ed988a4 -m ''\ngit tag -a 0.4.0 2bb0ffe48a -m ''\ngit push --tags\n```\n\nIf you want to check, these should link to their commits:\n0.1.0: 0fada14463\n0.1.4: 6440f588d4\n0.1.5: 57ec98ae31\n0.1.6: 69a5840949\n0.1.7: c8f6484153\n0.1.8: 031262d702\n0.1.9: 6adeedba94\n0.1.10: 715d0fcdfb\n0.1.11: 40b2983f53\n0.1.12: d9989d3f30\n0.1.13: a0901e54b1\n0.2.0: 1902f18ca9\n0.2.1: bc4925d487\n0.3.0: 6fb0e518fe\n0.3.1: 9c4ed988a4\n0.4.0: 2bb0ffe48a\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/19", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/19/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/19/events", "html_url": "https://github.com/un1t/django-cleanup/issues/19", "id": 90947776, "node_id": "MDU6SXNzdWU5MDk0Nzc3Ng==", "number": 19, "title": "cleanup command", "user": {"login": "fabiocaccamo", "id": 1035294, "node_id": "MDQ6VXNlcjEwMzUyOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1035294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabiocaccamo", "html_url": "https://github.com/fabiocaccamo", "followers_url": "https://api.github.com/users/fabiocaccamo/followers", "following_url": "https://api.github.com/users/fabiocaccamo/following{/other_user}", "gists_url": "https://api.github.com/users/fabiocaccamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabiocaccamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabiocaccamo/subscriptions", "organizations_url": "https://api.github.com/users/fabiocaccamo/orgs", "repos_url": "https://api.github.com/users/fabiocaccamo/repos", "events_url": "https://api.github.com/users/fabiocaccamo/events{/privacy}", "received_events_url": "https://api.github.com/users/fabiocaccamo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 11561747, "node_id": "MDU6TGFiZWwxMTU2MTc0Nw==", "url": "https://api.github.com/repos/un1t/django-cleanup/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-06-25T12:23:27Z", "updated_at": "2019-07-13T22:18:32Z", "closed_at": "2019-07-13T22:18:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be very nice to have a command that iterate over all file fields an delete all media-files (under a path specified by a setting) that are not used by any model-field anymore. \nThis would be very useful for existing projects where django-cleanup was not installed since the beginning.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/18", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/18/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/18/events", "html_url": "https://github.com/un1t/django-cleanup/issues/18", "id": 90916742, "node_id": "MDU6SXNzdWU5MDkxNjc0Mg==", "number": 18, "title": "ImportError using django 1.6.5", "user": {"login": "fabiocaccamo", "id": 1035294, "node_id": "MDQ6VXNlcjEwMzUyOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1035294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabiocaccamo", "html_url": "https://github.com/fabiocaccamo", "followers_url": "https://api.github.com/users/fabiocaccamo/followers", "following_url": "https://api.github.com/users/fabiocaccamo/following{/other_user}", "gists_url": "https://api.github.com/users/fabiocaccamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabiocaccamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabiocaccamo/subscriptions", "organizations_url": "https://api.github.com/users/fabiocaccamo/orgs", "repos_url": "https://api.github.com/users/fabiocaccamo/repos", "events_url": "https://api.github.com/users/fabiocaccamo/events{/privacy}", "received_events_url": "https://api.github.com/users/fabiocaccamo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-25T10:02:30Z", "updated_at": "2015-06-25T11:14:26Z", "closed_at": "2015-06-25T11:08:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "[...]/lib/python2.7/site-packages/django_cleanup/models.py\", line 3, in <module>\nfrom django.apps import apps\nImportError: No module named apps\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/14", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/14/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/14/events", "html_url": "https://github.com/un1t/django-cleanup/issues/14", "id": 59963990, "node_id": "MDU6SXNzdWU1OTk2Mzk5MA==", "number": 14, "title": "Cleanup cached thumbnails", "user": {"login": "philippeluickx", "id": 836866, "node_id": "MDQ6VXNlcjgzNjg2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/836866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philippeluickx", "html_url": "https://github.com/philippeluickx", "followers_url": "https://api.github.com/users/philippeluickx/followers", "following_url": "https://api.github.com/users/philippeluickx/following{/other_user}", "gists_url": "https://api.github.com/users/philippeluickx/gists{/gist_id}", "starred_url": "https://api.github.com/users/philippeluickx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philippeluickx/subscriptions", "organizations_url": "https://api.github.com/users/philippeluickx/orgs", "repos_url": "https://api.github.com/users/philippeluickx/repos", "events_url": "https://api.github.com/users/philippeluickx/events{/privacy}", "received_events_url": "https://api.github.com/users/philippeluickx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2015-03-05T15:06:05Z", "updated_at": "2015-07-17T20:44:59Z", "closed_at": "2015-03-10T17:52:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this should be in scope, but what would be the best approach to order generated thumbnails?\nI am using https://github.com/SmileyChris/easy-thumbnails\n\nThanks for a nice library!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/13", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/13/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/13/events", "html_url": "https://github.com/un1t/django-cleanup/issues/13", "id": 56324842, "node_id": "MDU6SXNzdWU1NjMyNDg0Mg==", "number": 13, "title": "Exception raised in delete_file() method when previously no file exists", "user": {"login": "snig-b", "id": 2968510, "node_id": "MDQ6VXNlcjI5Njg1MTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2968510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snig-b", "html_url": "https://github.com/snig-b", "followers_url": "https://api.github.com/users/snig-b/followers", "following_url": "https://api.github.com/users/snig-b/following{/other_user}", "gists_url": "https://api.github.com/users/snig-b/gists{/gist_id}", "starred_url": "https://api.github.com/users/snig-b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snig-b/subscriptions", "organizations_url": "https://api.github.com/users/snig-b/orgs", "repos_url": "https://api.github.com/users/snig-b/repos", "events_url": "https://api.github.com/users/snig-b/events{/privacy}", "received_events_url": "https://api.github.com/users/snig-b/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-03T02:24:02Z", "updated_at": "2015-02-08T18:26:43Z", "closed_at": "2015-02-08T18:26:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Full traceback:\n\n```\nERROR Unexpected exception while attempting to delete file ''\nTraceback (most recent call last):\n  File \"/home/ubuntu/.virtualenvs/home/local/lib/python2.7/site-packages/django_cleanup/models.py\", line 62, in delete_file\n    storage.delete(file_.name)\n  File \"/home/ubuntu/.virtualenvs/home/local/lib/python2.7/site-    packages/django/core/files/storage.py\", line 231, in delete\n    assert name, \"The name argument is not allowed to be empty.\"\nAssertionError: The name argument is not allowed to be empty.\n```\n\nIf previously a file does not exist in the model instance, and a new one is being uploaded, the old_file gets the value None, and it is sent for deletion without checking whether that file actually exists or not. \n\n```\nif old_file != new_file:\n        delete_file(old_file)       # in L36 in models.py `\n```\n\nAnd storage.exists(file_.name) comes out to be true for empty name.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/9", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/9/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/9/events", "html_url": "https://github.com/un1t/django-cleanup/issues/9", "id": 44734987, "node_id": "MDU6SXNzdWU0NDczNDk4Nw==", "number": 9, "title": "Add License To Project", "user": {"login": "spoik", "id": 1857059, "node_id": "MDQ6VXNlcjE4NTcwNTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1857059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spoik", "html_url": "https://github.com/spoik", "followers_url": "https://api.github.com/users/spoik/followers", "following_url": "https://api.github.com/users/spoik/following{/other_user}", "gists_url": "https://api.github.com/users/spoik/gists{/gist_id}", "starred_url": "https://api.github.com/users/spoik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spoik/subscriptions", "organizations_url": "https://api.github.com/users/spoik/orgs", "repos_url": "https://api.github.com/users/spoik/repos", "events_url": "https://api.github.com/users/spoik/events{/privacy}", "received_events_url": "https://api.github.com/users/spoik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-02T20:29:10Z", "updated_at": "2014-10-03T06:27:16Z", "closed_at": "2014-10-03T06:27:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would you be willing to add a license to this project so users of this project know how they are allowed to us it?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/8", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/8/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/8/events", "html_url": "https://github.com/un1t/django-cleanup/issues/8", "id": 39615709, "node_id": "MDU6SXNzdWUzOTYxNTcwOQ==", "number": 8, "title": "Ignoring certain files", "user": {"login": "monovertex", "id": 1837605, "node_id": "MDQ6VXNlcjE4Mzc2MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1837605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monovertex", "html_url": "https://github.com/monovertex", "followers_url": "https://api.github.com/users/monovertex/followers", "following_url": "https://api.github.com/users/monovertex/following{/other_user}", "gists_url": "https://api.github.com/users/monovertex/gists{/gist_id}", "starred_url": "https://api.github.com/users/monovertex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monovertex/subscriptions", "organizations_url": "https://api.github.com/users/monovertex/orgs", "repos_url": "https://api.github.com/users/monovertex/repos", "events_url": "https://api.github.com/users/monovertex/events{/privacy}", "received_events_url": "https://api.github.com/users/monovertex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-06T12:24:11Z", "updated_at": "2014-12-29T21:04:30Z", "closed_at": "2014-12-29T21:04:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\n\nIt is possible to mark certain files to be ignored by this app? I am currently using it to cleanup an avatar gallery, but I wish to have some default avatars as well, that should not be deleted. However, when the User changes their avatar or the User is deleted, the default avatar is deleted as well.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/7", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/7/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/7/events", "html_url": "https://github.com/un1t/django-cleanup/issues/7", "id": 32393200, "node_id": "MDU6SXNzdWUzMjM5MzIwMA==", "number": 7, "title": "\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441 django 1.7", "user": {"login": "v-bornov", "id": 1932782, "node_id": "MDQ6VXNlcjE5MzI3ODI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1932782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-bornov", "html_url": "https://github.com/v-bornov", "followers_url": "https://api.github.com/users/v-bornov/followers", "following_url": "https://api.github.com/users/v-bornov/following{/other_user}", "gists_url": "https://api.github.com/users/v-bornov/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-bornov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-bornov/subscriptions", "organizations_url": "https://api.github.com/users/v-bornov/orgs", "repos_url": "https://api.github.com/users/v-bornov/repos", "events_url": "https://api.github.com/users/v-bornov/events{/privacy}", "received_events_url": "https://api.github.com/users/v-bornov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-04-28T19:59:43Z", "updated_at": "2014-04-29T11:44:53Z", "closed_at": "2014-04-29T11:44:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435!\n\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0412\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435.\n\u041d\u043e \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u043e django-1.7b2 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.\n\nraise RuntimeError(\"App registry isn't ready yet.\")\nRuntimeError: App registry isn't ready yet.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/un1t/django-cleanup/issues/4", "repository_url": "https://api.github.com/repos/un1t/django-cleanup", "labels_url": "https://api.github.com/repos/un1t/django-cleanup/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/un1t/django-cleanup/issues/4/comments", "events_url": "https://api.github.com/repos/un1t/django-cleanup/issues/4/events", "html_url": "https://github.com/un1t/django-cleanup/issues/4", "id": 13123594, "node_id": "MDU6SXNzdWUxMzEyMzU5NA==", "number": 4, "title": "files are deleted when model is invalid", "user": {"login": "don-mums", "id": 962085, "node_id": "MDQ6VXNlcjk2MjA4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/962085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/don-mums", "html_url": "https://github.com/don-mums", "followers_url": "https://api.github.com/users/don-mums/followers", "following_url": "https://api.github.com/users/don-mums/following{/other_user}", "gists_url": "https://api.github.com/users/don-mums/gists{/gist_id}", "starred_url": "https://api.github.com/users/don-mums/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/don-mums/subscriptions", "organizations_url": "https://api.github.com/users/don-mums/orgs", "repos_url": "https://api.github.com/users/don-mums/repos", "events_url": "https://api.github.com/users/don-mums/events{/privacy}", "received_events_url": "https://api.github.com/users/don-mums/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-04-12T14:56:28Z", "updated_at": "2014-10-03T06:28:16Z", "closed_at": "2014-10-03T06:28:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I use django admin I validate some models because of special requirements. But problem si that django_cleanup deletes files before model is validated. So valid files are removed but model is not saved.\nI use clean() method in model to do my validation.\n", "performed_via_github_app": null, "score": 1.0}]}