{"total_count": 24, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pycontribs/tendo/issues/49", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/49/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/49/events", "html_url": "https://github.com/pycontribs/tendo/issues/49", "id": 613969149, "node_id": "MDU6SXNzdWU2MTM5NjkxNDk=", "number": 49, "title": "Opening in U mode has been deprecated and will be removed in Python 3.10", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-07T11:06:25Z", "updated_at": "2020-05-23T09:05:20Z", "closed_at": "2020-05-23T09:05:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n96:            f = open(os.path.join(self.dir, \"tests/utf8.txt\"), \"rU\")\r\n107:            f = open(os.path.join(self.dir, \"tests/utf8-invalid.txt\"), \"rU\")\r\n```\r\n\r\nRef : https://bugs.python.org/issue39674", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/44", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/44/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/44/events", "html_url": "https://github.com/pycontribs/tendo/issues/44", "id": 600491096, "node_id": "MDU6SXNzdWU2MDA0OTEwOTY=", "number": 44, "title": "Compatibility with Python 3.7?", "user": {"login": "jehrenzweig", "id": 6299333, "node_id": "MDQ6VXNlcjYyOTkzMzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6299333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jehrenzweig", "html_url": "https://github.com/jehrenzweig", "followers_url": "https://api.github.com/users/jehrenzweig/followers", "following_url": "https://api.github.com/users/jehrenzweig/following{/other_user}", "gists_url": "https://api.github.com/users/jehrenzweig/gists{/gist_id}", "starred_url": "https://api.github.com/users/jehrenzweig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jehrenzweig/subscriptions", "organizations_url": "https://api.github.com/users/jehrenzweig/orgs", "repos_url": "https://api.github.com/users/jehrenzweig/repos", "events_url": "https://api.github.com/users/jehrenzweig/events{/privacy}", "received_events_url": "https://api.github.com/users/jehrenzweig/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-15T18:08:46Z", "updated_at": "2020-05-03T14:53:48Z", "closed_at": "2020-05-03T14:53:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The official documentation states that Tendo is compatible with Python 2.7 - 3.6.  Are there any known issues using it with Python 3.7?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/39", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/39/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/39/events", "html_url": "https://github.com/pycontribs/tendo/issues/39", "id": 430696552, "node_id": "MDU6SXNzdWU0MzA2OTY1NTI=", "number": 39, "title": "SingleInstance prints log messages twice", "user": {"login": "danielferber", "id": 1350472, "node_id": "MDQ6VXNlcjEzNTA0NzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1350472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielferber", "html_url": "https://github.com/danielferber", "followers_url": "https://api.github.com/users/danielferber/followers", "following_url": "https://api.github.com/users/danielferber/following{/other_user}", "gists_url": "https://api.github.com/users/danielferber/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielferber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielferber/subscriptions", "organizations_url": "https://api.github.com/users/danielferber/orgs", "repos_url": "https://api.github.com/users/danielferber/repos", "events_url": "https://api.github.com/users/danielferber/events{/privacy}", "received_events_url": "https://api.github.com/users/danielferber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-08T23:09:22Z", "updated_at": "2019-05-23T13:51:23Z", "closed_at": "2019-05-23T13:51:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "While testing the script that uses SingleInstance, I noticed that log messagaes from SingleInstance are printed twice. I think this behavior relates to the StreamHandler added at line\r\nhttps://github.com/pycontribs/tendo/blob/b1e08eb8e3e5f259ad75a4c0f3cfb2cac02aeac9/tendo/singleton.py#L144\r\n\r\nI would suggest moving this line into the 'if __name__ == \"__main__\":', so that the  StreamHandler  will be created and used only within the unit tests as I think it was expected.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/37", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/37/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/37/events", "html_url": "https://github.com/pycontribs/tendo/issues/37", "id": 406621247, "node_id": "MDU6SXNzdWU0MDY2MjEyNDc=", "number": 37, "title": "Window flashing when packaged with PyInstaller.", "user": {"login": "sobir-git", "id": 34193118, "node_id": "MDQ6VXNlcjM0MTkzMTE4", "avatar_url": "https://avatars0.githubusercontent.com/u/34193118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sobir-git", "html_url": "https://github.com/sobir-git", "followers_url": "https://api.github.com/users/sobir-git/followers", "following_url": "https://api.github.com/users/sobir-git/following{/other_user}", "gists_url": "https://api.github.com/users/sobir-git/gists{/gist_id}", "starred_url": "https://api.github.com/users/sobir-git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sobir-git/subscriptions", "organizations_url": "https://api.github.com/users/sobir-git/orgs", "repos_url": "https://api.github.com/users/sobir-git/repos", "events_url": "https://api.github.com/users/sobir-git/events{/privacy}", "received_events_url": "https://api.github.com/users/sobir-git/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-05T04:04:37Z", "updated_at": "2019-05-23T13:45:59Z", "closed_at": "2019-05-23T13:45:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I put the example code (from singleton module) at the top of my script and it worked as expected. But when I converted it to .exe with PyInstaller the .exe also works fine and prevents multiple instances of my program, except there are some windows flashing before the program starts. \r\nI guess this is the multiprocessing issue as always it flashes new windows in .exe files. So I removed the multiprocessing imports and usages from singleton.py and the window flashing was gone.\r\n\r\nI think someone should prevent unitTests from running multiprocessing in .exe mode.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/36", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/36/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/36/events", "html_url": "https://github.com/pycontribs/tendo/issues/36", "id": 374391607, "node_id": "MDU6SXNzdWUzNzQzOTE2MDc=", "number": 36, "title": "Is necessary to include 'quitting' in log message?", "user": {"login": "kentavv", "id": 6542480, "node_id": "MDQ6VXNlcjY1NDI0ODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6542480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kentavv", "html_url": "https://github.com/kentavv", "followers_url": "https://api.github.com/users/kentavv/followers", "following_url": "https://api.github.com/users/kentavv/following{/other_user}", "gists_url": "https://api.github.com/users/kentavv/gists{/gist_id}", "starred_url": "https://api.github.com/users/kentavv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kentavv/subscriptions", "organizations_url": "https://api.github.com/users/kentavv/orgs", "repos_url": "https://api.github.com/users/kentavv/repos", "events_url": "https://api.github.com/users/kentavv/events{/privacy}", "received_events_url": "https://api.github.com/users/kentavv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-26T13:46:45Z", "updated_at": "2019-05-25T13:55:06Z", "closed_at": "2019-05-23T13:48:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Some may want to catch the exception instead and not quit. Perhaps the logger message should not include 'quitting' in the message.\r\n\r\nhttps://github.com/pycontribs/tendo/blob/56c9a6f09339e61fac1e93e93fbdb3efd7cad54a/tendo/singleton.py#L54", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/35", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/35/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/35/events", "html_url": "https://github.com/pycontribs/tendo/issues/35", "id": 374390781, "node_id": "MDU6SXNzdWUzNzQzOTA3ODE=", "number": 35, "title": "logger.error vs logger.warning", "user": {"login": "kentavv", "id": 6542480, "node_id": "MDQ6VXNlcjY1NDI0ODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6542480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kentavv", "html_url": "https://github.com/kentavv", "followers_url": "https://api.github.com/users/kentavv/followers", "following_url": "https://api.github.com/users/kentavv/following{/other_user}", "gists_url": "https://api.github.com/users/kentavv/gists{/gist_id}", "starred_url": "https://api.github.com/users/kentavv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kentavv/subscriptions", "organizations_url": "https://api.github.com/users/kentavv/orgs", "repos_url": "https://api.github.com/users/kentavv/repos", "events_url": "https://api.github.com/users/kentavv/events{/privacy}", "received_events_url": "https://api.github.com/users/kentavv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-26T13:44:49Z", "updated_at": "2019-05-23T13:46:58Z", "closed_at": "2019-05-23T13:46:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "On win32 logger.error is used else logger.warning is used. Perhaps select the same for both platforms?\r\n\r\nhttps://github.com/pycontribs/tendo/blob/56c9a6f09339e61fac1e93e93fbdb3efd7cad54a/tendo/singleton.py#L54", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/33", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/33/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/33/events", "html_url": "https://github.com/pycontribs/tendo/issues/33", "id": 368649863, "node_id": "MDU6SXNzdWUzNjg2NDk4NjM=", "number": 33, "title": "Python 3.6.6, ModuleNotFoundError: import of os halted; None in sys.modules", "user": {"login": "vkatochka", "id": 13570590, "node_id": "MDQ6VXNlcjEzNTcwNTkw", "avatar_url": "https://avatars0.githubusercontent.com/u/13570590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vkatochka", "html_url": "https://github.com/vkatochka", "followers_url": "https://api.github.com/users/vkatochka/followers", "following_url": "https://api.github.com/users/vkatochka/following{/other_user}", "gists_url": "https://api.github.com/users/vkatochka/gists{/gist_id}", "starred_url": "https://api.github.com/users/vkatochka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vkatochka/subscriptions", "organizations_url": "https://api.github.com/users/vkatochka/orgs", "repos_url": "https://api.github.com/users/vkatochka/repos", "events_url": "https://api.github.com/users/vkatochka/events{/privacy}", "received_events_url": "https://api.github.com/users/vkatochka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-10T12:50:55Z", "updated_at": "2019-04-09T18:11:00Z", "closed_at": "2019-04-09T18:11:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI found an example \"single instance of program\" on https://stackoverflow.com/a/1265445\r\nI ran the script and got an error.\r\n\r\n> python3 test.py\r\n~~~\r\n#\r\nimport sys\r\nfrom tendo import singleton\r\n\r\ntry:\r\n    me = singleton.SingleInstance()\r\nexcept:\r\n    sys.exit()\r\n~~~\r\n\r\nException ignored in: <bound method SingleInstance.__del__ of <tendo.singleton.SingleInstance object at 0x7f4cb68f3f28>>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/tendo/singleton.py\", line 70, in __del__\r\nModuleNotFoundError: import of os halted; None in sys.modules\r\n\r\n\r\nUbuntu 18.04.1 LTS, Python 3.6.6", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/32", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/32/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/32/events", "html_url": "https://github.com/pycontribs/tendo/issues/32", "id": 353740974, "node_id": "MDU6SXNzdWUzNTM3NDA5NzQ=", "number": 32, "title": "New release?", "user": {"login": "BoboTiG", "id": 2033598, "node_id": "MDQ6VXNlcjIwMzM1OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2033598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BoboTiG", "html_url": "https://github.com/BoboTiG", "followers_url": "https://api.github.com/users/BoboTiG/followers", "following_url": "https://api.github.com/users/BoboTiG/following{/other_user}", "gists_url": "https://api.github.com/users/BoboTiG/gists{/gist_id}", "starred_url": "https://api.github.com/users/BoboTiG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BoboTiG/subscriptions", "organizations_url": "https://api.github.com/users/BoboTiG/orgs", "repos_url": "https://api.github.com/users/BoboTiG/repos", "events_url": "https://api.github.com/users/BoboTiG/events{/privacy}", "received_events_url": "https://api.github.com/users/BoboTiG/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-24T11:07:21Z", "updated_at": "2019-05-23T13:44:09Z", "closed_at": "2019-05-23T13:44:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nIt would be very cool to have a new release for the `SingleInstance(lockfile)` new feature :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/31", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/31/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/31/events", "html_url": "https://github.com/pycontribs/tendo/issues/31", "id": 343633685, "node_id": "MDU6SXNzdWUzNDM2MzM2ODU=", "number": 31, "title": "Wrong use of __del__ method.", "user": {"login": "lunemec", "id": 1670632, "node_id": "MDQ6VXNlcjE2NzA2MzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1670632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lunemec", "html_url": "https://github.com/lunemec", "followers_url": "https://api.github.com/users/lunemec/followers", "following_url": "https://api.github.com/users/lunemec/following{/other_user}", "gists_url": "https://api.github.com/users/lunemec/gists{/gist_id}", "starred_url": "https://api.github.com/users/lunemec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lunemec/subscriptions", "organizations_url": "https://api.github.com/users/lunemec/orgs", "repos_url": "https://api.github.com/users/lunemec/repos", "events_url": "https://api.github.com/users/lunemec/events{/privacy}", "received_events_url": "https://api.github.com/users/lunemec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-23T13:29:48Z", "updated_at": "2019-05-23T13:51:00Z", "closed_at": "2019-05-23T13:51:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran across this library [while searching for a library to provide me with fs locking mechanism to run program once](https://stackoverflow.com/questions/380870/python-single-instance-of-program).\r\n\r\nHowever, the script uses `__del__` method, which is incorrect: https://github.com/pycontribs/tendo/blob/master/tendo/singleton.py#L71 \r\n\r\nFrom [python docs](https://docs.python.org/3/reference/datamodel.html#object.__del__): \r\n\r\n> It is not guaranteed that __del__() methods are called for objects that still exist when the interpreter exits.\r\n\r\nWhich would cause it to be locked forever.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/29", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/29/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/29/events", "html_url": "https://github.com/pycontribs/tendo/issues/29", "id": 320700042, "node_id": "MDU6SXNzdWUzMjA3MDAwNDI=", "number": 29, "title": "versioning", "user": {"login": "picibucor", "id": 1676457, "node_id": "MDQ6VXNlcjE2NzY0NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1676457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/picibucor", "html_url": "https://github.com/picibucor", "followers_url": "https://api.github.com/users/picibucor/followers", "following_url": "https://api.github.com/users/picibucor/following{/other_user}", "gists_url": "https://api.github.com/users/picibucor/gists{/gist_id}", "starred_url": "https://api.github.com/users/picibucor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/picibucor/subscriptions", "organizations_url": "https://api.github.com/users/picibucor/orgs", "repos_url": "https://api.github.com/users/picibucor/repos", "events_url": "https://api.github.com/users/picibucor/events{/privacy}", "received_events_url": "https://api.github.com/users/picibucor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 979458473, "node_id": "MDU6TGFiZWw5Nzk0NTg0NzM=", "url": "https://api.github.com/repos/pycontribs/tendo/labels/external", "name": "external", "color": "a695e2", "default": false, "description": "bug in external product or dependency"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-07T07:22:47Z", "updated_at": "2020-06-18T09:35:08Z", "closed_at": "2018-06-29T18:39:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Windows 7\r\nPython 3.6\r\ntendo 0.2.12\r\nPyinstaller 3.4.dev0+b31794cf1\r\n\r\nHey all,\r\n\r\nafter updating tendo I created an .exe with Pyinstaller. \r\n\r\nTrying to run my .exe gives the following error-message:\r\n> [WARNING] stderr: Traceback (most recent call last):\r\n[WARNING] stderr:   File \"site-packages\\pbr\\version.py\", line 442, in _get_version_from_pkg_resources\r\n[WARNING] stderr:   File \"site-packages\\pkg_resources\\__init__.py\", line 344, in get_provider\r\n[WARNING] stderr:   File \"site-packages\\pkg_resources\\__init__.py\", line 892, in require\r\n[WARNING] stderr:   File \"site-packages\\pkg_resources\\__init__.py\", line 778, in resolve\r\n[WARNING] stderr: pkg_resources.DistributionNotFound: The 'tendo' distribution was not found and is required by the application\r\n[WARNING] stderr: \r\n[WARNING] stderr: During handling of the above exception, another exception occurred:\r\n[WARNING] stderr: \r\n[WARNING] stderr: Traceback (most recent call last):\r\n[WARNING] stderr:   File \"to_exe\\main.py\", line 79, in <module>\r\n[WARNING] stderr:     from tendo import singleton\r\n[WARNING] stderr:   File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n[WARNING] stderr:   File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n[WARNING] stderr:   File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n[WARNING] stderr:   File \"c:\\users\\mirk\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 628, in exec_module\r\n[WARNING] stderr:     exec(bytecode, module.__dict__)\r\n[WARNING] stderr:   File \"site-packages\\tendo\\__init__.py\", line 10, in <module>\r\n[WARNING] stderr:   File \"site-packages\\pbr\\version.py\", line 462, in semantic_version\r\n[WARNING] stderr:   File \"site-packages\\pbr\\version.py\", line 449, in _get_version_from_pkg_resources\r\n[WARNING] stderr:   File \"site-packages\\pbr\\packaging.py\", line 816, in get_version\r\n[WARNING] stderr: Exception: Versioning for this project requires either an sdist tarball, or access to an upstream git repository. It's also possible that there is a mismatch between the package name in setup.cfg and the argument given to pbr.version.VersionInfo. Project name tendo was given, but was not able to be found.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/26", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/26/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/26/events", "html_url": "https://github.com/pycontribs/tendo/issues/26", "id": 311678283, "node_id": "MDU6SXNzdWUzMTE2NzgyODM=", "number": 26, "title": "wstools dependency introduced, by not added to setup.py dependencies", "user": {"login": "joelbricker", "id": 27685212, "node_id": "MDQ6VXNlcjI3Njg1MjEy", "avatar_url": "https://avatars3.githubusercontent.com/u/27685212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelbricker", "html_url": "https://github.com/joelbricker", "followers_url": "https://api.github.com/users/joelbricker/followers", "following_url": "https://api.github.com/users/joelbricker/following{/other_user}", "gists_url": "https://api.github.com/users/joelbricker/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelbricker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelbricker/subscriptions", "organizations_url": "https://api.github.com/users/joelbricker/orgs", "repos_url": "https://api.github.com/users/joelbricker/repos", "events_url": "https://api.github.com/users/joelbricker/events{/privacy}", "received_events_url": "https://api.github.com/users/joelbricker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15565853, "node_id": "MDU6TGFiZWwxNTU2NTg1Mw==", "url": "https://api.github.com/repos/pycontribs/tendo/labels/bug", "name": "bug", "color": "fbca04", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-04-05T16:18:19Z", "updated_at": "2018-04-07T16:41:34Z", "closed_at": "2018-04-07T16:41:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest change to the build process introduced a dependency on wstools and it is not listed in the dependencies in the setup.py, so it caused our scripts to fail until we manually pip installed wstools.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/25", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/25/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/25/events", "html_url": "https://github.com/pycontribs/tendo/issues/25", "id": 304079030, "node_id": "MDU6SXNzdWUzMDQwNzkwMzA=", "number": 25, "title": "tee::system2 broken if echo empty line", "user": {"login": "jcubic", "id": 280241, "node_id": "MDQ6VXNlcjI4MDI0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/280241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcubic", "html_url": "https://github.com/jcubic", "followers_url": "https://api.github.com/users/jcubic/followers", "following_url": "https://api.github.com/users/jcubic/following{/other_user}", "gists_url": "https://api.github.com/users/jcubic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcubic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcubic/subscriptions", "organizations_url": "https://api.github.com/users/jcubic/orgs", "repos_url": "https://api.github.com/users/jcubic/repos", "events_url": "https://api.github.com/users/jcubic/events{/privacy}", "received_events_url": "https://api.github.com/users/jcubic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jcubic", "id": 280241, "node_id": "MDQ6VXNlcjI4MDI0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/280241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcubic", "html_url": "https://github.com/jcubic", "followers_url": "https://api.github.com/users/jcubic/followers", "following_url": "https://api.github.com/users/jcubic/following{/other_user}", "gists_url": "https://api.github.com/users/jcubic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcubic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcubic/subscriptions", "organizations_url": "https://api.github.com/users/jcubic/orgs", "repos_url": "https://api.github.com/users/jcubic/repos", "events_url": "https://api.github.com/users/jcubic/events{/privacy}", "received_events_url": "https://api.github.com/users/jcubic/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jcubic", "id": 280241, "node_id": "MDQ6VXNlcjI4MDI0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/280241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcubic", "html_url": "https://github.com/jcubic", "followers_url": "https://api.github.com/users/jcubic/followers", "following_url": "https://api.github.com/users/jcubic/following{/other_user}", "gists_url": "https://api.github.com/users/jcubic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcubic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcubic/subscriptions", "organizations_url": "https://api.github.com/users/jcubic/orgs", "repos_url": "https://api.github.com/users/jcubic/repos", "events_url": "https://api.github.com/users/jcubic/events{/privacy}", "received_events_url": "https://api.github.com/users/jcubic/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-03-10T15:31:19Z", "updated_at": "2018-04-04T18:28:02Z", "closed_at": "2018-04-04T18:16:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Executing this script display no output:\r\n\r\n```python\r\n#!/usr/bin/env python\r\nprint '''\r\nWaiting for verification...\r\nCleaning up challenges\r\nIMPORTANT NOTES:\r\n - Congratulations! Your certificate and chain have been saved at:\r\n   /etc/letsencrypt/live/www.domektkaczki.pl/fullchain.pem\r\n   Your key file has been saved at:\r\n   /etc/letsencrypt/live/www.domektkaczki.pl/privkey.pem\r\n   Your cert will expire on 2018-06-08. To obtain a new or tweaked\r\n   version of this certificate in the future, simply run certbot\r\n   again. To non-interactively renew *all* of your certificates, run\r\n   \"certbot renew\"\r\n - If you like Certbot, please consider supporting our work by:\r\n'''\r\n```\r\nbecause first line is empty.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/24", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/24/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/24/events", "html_url": "https://github.com/pycontribs/tendo/issues/24", "id": 304076572, "node_id": "MDU6SXNzdWUzMDQwNzY1NzI=", "number": 24, "title": "Redirect stderr in tee::system2", "user": {"login": "jcubic", "id": 280241, "node_id": "MDQ6VXNlcjI4MDI0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/280241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcubic", "html_url": "https://github.com/jcubic", "followers_url": "https://api.github.com/users/jcubic/followers", "following_url": "https://api.github.com/users/jcubic/following{/other_user}", "gists_url": "https://api.github.com/users/jcubic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcubic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcubic/subscriptions", "organizations_url": "https://api.github.com/users/jcubic/orgs", "repos_url": "https://api.github.com/users/jcubic/repos", "events_url": "https://api.github.com/users/jcubic/events{/privacy}", "received_events_url": "https://api.github.com/users/jcubic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15565855, "node_id": "MDU6TGFiZWwxNTU2NTg1NQ==", "url": "https://api.github.com/repos/pycontribs/tendo/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 15565858, "node_id": "MDU6TGFiZWwxNTU2NTg1OA==", "url": "https://api.github.com/repos/pycontribs/tendo/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-10T14:57:40Z", "updated_at": "2018-04-03T18:38:56Z", "closed_at": "2018-04-03T18:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I need to run the system2 function together with certbot on windows and I have command like this on GNU/Linux:\r\n\r\n```bash\r\nsudo certbot certonly --manual --expand --manual-public-ip-logging-ok \\\r\n     --preferred-challenges http -n \\\r\n     -d <LIST OF COMMA SEPARATED DOMAINS AND SUBDOMAINS>\\\r\n     --manual-auth-hook ./cert.py --agree-tos --email <EMAIL ADRESS> 2>&1 | tee $output\r\n```\r\n\r\nI'm using 2>&1 because certbot print some output to stderr but on windows I can use command with 2>&1.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/22", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/22/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/22/events", "html_url": "https://github.com/pycontribs/tendo/issues/22", "id": 263197230, "node_id": "MDU6SXNzdWUyNjMxOTcyMzA=", "number": 22, "title": "buildroot integration problem", "user": {"login": "Sjoerd82", "id": 15013786, "node_id": "MDQ6VXNlcjE1MDEzNzg2", "avatar_url": "https://avatars2.githubusercontent.com/u/15013786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sjoerd82", "html_url": "https://github.com/Sjoerd82", "followers_url": "https://api.github.com/users/Sjoerd82/followers", "following_url": "https://api.github.com/users/Sjoerd82/following{/other_user}", "gists_url": "https://api.github.com/users/Sjoerd82/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sjoerd82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sjoerd82/subscriptions", "organizations_url": "https://api.github.com/users/Sjoerd82/orgs", "repos_url": "https://api.github.com/users/Sjoerd82/repos", "events_url": "https://api.github.com/users/Sjoerd82/events{/privacy}", "received_events_url": "https://api.github.com/users/Sjoerd82/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-10-05T16:57:31Z", "updated_at": "2018-04-04T06:43:38Z", "closed_at": "2018-04-04T06:43:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've added tendo to buildroot, but I get an installation error, and I'm not sure whether or not the problem lies with the tendo installer or elsewhere.\r\n\r\nBuildroot gives me back (I think from tendo's setup.py) \"distutils.errors.DistutilsError: Could not find suitable distribution fro Requirement.parse('six').\r\n\r\nInitially I thought that perhaps the \"six\" package is a dependency, but after adding this to buildroot, I still get the error message. Even tried installing it locally, but no luck.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/20", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/20/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/20/events", "html_url": "https://github.com/pycontribs/tendo/issues/20", "id": 192854106, "node_id": "MDU6SXNzdWUxOTI4NTQxMDY=", "number": 20, "title": "Race condition in singleton.py", "user": {"login": "dirk-attraktor", "id": 1283167, "node_id": "MDQ6VXNlcjEyODMxNjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1283167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dirk-attraktor", "html_url": "https://github.com/dirk-attraktor", "followers_url": "https://api.github.com/users/dirk-attraktor/followers", "following_url": "https://api.github.com/users/dirk-attraktor/following{/other_user}", "gists_url": "https://api.github.com/users/dirk-attraktor/gists{/gist_id}", "starred_url": "https://api.github.com/users/dirk-attraktor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dirk-attraktor/subscriptions", "organizations_url": "https://api.github.com/users/dirk-attraktor/orgs", "repos_url": "https://api.github.com/users/dirk-attraktor/repos", "events_url": "https://api.github.com/users/dirk-attraktor/events{/privacy}", "received_events_url": "https://api.github.com/users/dirk-attraktor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15565853, "node_id": "MDU6TGFiZWwxNTU2NTg1Mw==", "url": "https://api.github.com/repos/pycontribs/tendo/labels/bug", "name": "bug", "color": "fbca04", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-12-01T13:58:58Z", "updated_at": "2018-04-03T19:01:11Z", "closed_at": "2018-04-03T19:01:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nthe singleton.py code contains a race condition:\r\n```python\r\nfcntl.lockf(self.fp, fcntl.LOCK_UN)\r\nif os.path.isfile(self.lockfile):\r\n    os.unlink(self.lockfile)\r\n```\r\n\r\nSo the lock is released, then the file is deleted, but at that moment the file may already belong to another process. \r\n\r\nI tried different methods of unlocking/deleting the file, but they all result in some race condition.\r\n\r\nThe only reliable way I found is to keep the lock file, and not delete it. \r\n\r\nRegards\r\nDirk\r\n\r\n\r\n\r\n\r\n\r\n#### Testcode test.py:\r\n```python\r\nimport threading \r\nimport os\r\nimport time\r\n\r\ndef fun():\r\n    os.system(\"python test2.py\")\r\n    \r\nfor x in range(0,10):\r\n    time.sleep(0.2)\r\n    for i in range(0,200):\r\n        t = threading.Thread(target=fun)\r\n        t.start()\r\n\r\n```\r\n\r\n#### Singelton protected code test2.py \r\n```python\r\nimport random\r\nfrom singleton import Singleton\r\n     \r\nsi = Singelton(\"test\",20)\r\n\r\nid = random.randint(1,100000)\r\n\r\nfor i in range(0,50):\r\n    f=open(\"/tmp/testlock\",\"a\" )    \r\n    f.write(\"%s\\n\" % id)\r\n    f.flush\r\n    f.close()\r\n```\r\n\r\n\r\n#### Short version of singleton.py with retry to faster demonstrate the issue  , singleton.py\r\n```python\r\nimport sys\r\nimport os\r\nimport time\r\nimport fcntl\r\n\r\nclass Singleton():\r\n    def __init__(self,name,timeout):\r\n        self.locked = False\r\n        self.lockfile = \"/tmp/lock_%s\" % name\r\n        self.fp = open(self.lockfile , 'w')\r\n        while timeout > 0:\r\n            try:\r\n                fcntl.lockf(self.fp, fcntl.LOCK_EX | fcntl.LOCK_NB)\r\n                self.locked = True\r\n                break\r\n            except:\r\n                time.sleep(0.2)\r\n                timeout = timeout - 0.2\r\n            \r\n        if self.locked == False:\r\n            raise Exception(\"Could not aquire lock %s within %s seconds\" % (name,timeout))    \r\n            \r\n    def __del__(self):\r\n        if self.locked == True:\r\n            import os\r\n            # all of these fail:\r\n            #os.unlink(self.lockfile)  \r\n            #os.remove(self.lockfile)\r\n            #os.system(\"rm %s\" % self.lockfile)\r\n            import fcntl  \r\n            fcntl.lockf(self.fp, fcntl.LOCK_UN) # the reliable way, dont  delete ! \r\n            #if os.path.isfile(self.lockfile):\r\n            #    os.unlink(self.lockfile)\r\n\r\n```\r\n\r\n\r\n#### check results:   \r\n\r\n\"cat /tmp/testlock |uniq -c|grep -v 50\" should show no lines if test2.py was actually run as a single instance. \r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/19", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/19/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/19/events", "html_url": "https://github.com/pycontribs/tendo/issues/19", "id": 179495424, "node_id": "MDU6SXNzdWUxNzk0OTU0MjQ=", "number": 19, "title": "quiet error message in singleton.py", "user": {"login": "raako71", "id": 1042343, "node_id": "MDQ6VXNlcjEwNDIzNDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1042343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raako71", "html_url": "https://github.com/raako71", "followers_url": "https://api.github.com/users/raako71/followers", "following_url": "https://api.github.com/users/raako71/following{/other_user}", "gists_url": "https://api.github.com/users/raako71/gists{/gist_id}", "starred_url": "https://api.github.com/users/raako71/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raako71/subscriptions", "organizations_url": "https://api.github.com/users/raako71/orgs", "repos_url": "https://api.github.com/users/raako71/repos", "events_url": "https://api.github.com/users/raako71/events{/privacy}", "received_events_url": "https://api.github.com/users/raako71/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-27T13:38:15Z", "updated_at": "2018-04-03T18:44:28Z", "closed_at": "2018-04-03T18:44:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "is it possible to quiet the error message for singleton.py in a python script without editing the source? just so I can still get error messages from a cronjob if required\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/15", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/15/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/15/events", "html_url": "https://github.com/pycontribs/tendo/issues/15", "id": 143029080, "node_id": "MDU6SXNzdWUxNDMwMjkwODA=", "number": 15, "title": "Throw an exception instead of exiting on singleton instantiation", "user": {"login": "nhooey", "id": 65458, "node_id": "MDQ6VXNlcjY1NDU4", "avatar_url": "https://avatars1.githubusercontent.com/u/65458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhooey", "html_url": "https://github.com/nhooey", "followers_url": "https://api.github.com/users/nhooey/followers", "following_url": "https://api.github.com/users/nhooey/following{/other_user}", "gists_url": "https://api.github.com/users/nhooey/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhooey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhooey/subscriptions", "organizations_url": "https://api.github.com/users/nhooey/orgs", "repos_url": "https://api.github.com/users/nhooey/repos", "events_url": "https://api.github.com/users/nhooey/events{/privacy}", "received_events_url": "https://api.github.com/users/nhooey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-23T17:35:10Z", "updated_at": "2016-03-29T16:51:37Z", "closed_at": "2016-03-29T16:51:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `tendo.singleton.SingletonInstance` class should throw an exception so the program can deal with the error instead of being forced to quit.\n\nThe user may want some additional logging to be done before exiting.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/14", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/14/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/14/events", "html_url": "https://github.com/pycontribs/tendo/issues/14", "id": 138338956, "node_id": "MDU6SXNzdWUxMzgzMzg5NTY=", "number": 14, "title": "Exception in SingleInstance.__del__", "user": {"login": "thorr18", "id": 3753521, "node_id": "MDQ6VXNlcjM3NTM1MjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3753521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thorr18", "html_url": "https://github.com/thorr18", "followers_url": "https://api.github.com/users/thorr18/followers", "following_url": "https://api.github.com/users/thorr18/following{/other_user}", "gists_url": "https://api.github.com/users/thorr18/gists{/gist_id}", "starred_url": "https://api.github.com/users/thorr18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thorr18/subscriptions", "organizations_url": "https://api.github.com/users/thorr18/orgs", "repos_url": "https://api.github.com/users/thorr18/repos", "events_url": "https://api.github.com/users/thorr18/events{/privacy}", "received_events_url": "https://api.github.com/users/thorr18/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-03-04T00:28:30Z", "updated_at": "2019-05-23T13:52:19Z", "closed_at": "2019-05-23T13:52:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Perhaps harmless.\n\n```\nmySystem:myappdir myuser$ nosetests-3.4\nSingleInstance lockfile: /var/folders/8m/6dsl12z52g7b_9f4kh1yb0s40000gn/T/-usr-local-bin-nosetests-3-.lock\n.\n----------------------------------------------------------------------\nRan 1 test in 0.008s\n\nOK\nException ignored in: <bound method SingleInstance.__del__ of <tendo.singleton.SingleInstance object at 0x104af9c18>>\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/site-packages/tendo/singleton.py\", line 63, in __del__\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 954, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 887, in _find_spec\nTypeError: 'NoneType' object is not iterable\nmySystem:myappdir myuser$ \n```\n\nOr when commenting out the two imports suggested by @efairon in #12 : \n\n```\nmySystem:myappdir myuser$ nosetests-3.4\nSingleInstance lockfile: /var/folders/8m/6dsl12z52g7b_9f4kh1yb0s40000gn/T/-usr-local-bin-nosetests-3-.lock\n.\n----------------------------------------------------------------------\nRan 1 test in 0.009s\n\nOK\n'NoneType' object is not iterable\nException ignored in: <bound method SingleInstance.__del__ of <tendo.singleton.SingleInstance object at 0x102f7cbe0>>\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/site-packages/tendo/singleton.py\", line 83, in __del__\nSystemExit: -1\nmySystem:myappdir myuser$ \n```\n\nRunning my app seems to work, with tendo keeping other instances from starting, but that ignored exception shows up again when I exit using ctrl-c\n\n```\nmySystem:myappdir myuser$ python3 myappdir/myapp.py\nSingleInstance lockfile: /var/folders/8m/6dsl12z52g7b_9f4kh1yb0s40000gn/T/-Users-myuser-factory-Py-myapp-myapp-myapp-.lock\nplease Control-C to exit myapp\nRUNNING myapp\n^CCLOSING myapp\nException ignored in: <bound method SingleInstance.__del__ of <tendo.singleton.SingleInstance object at 0x10ced8128>>\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/site-packages/tendo/singleton.py\", line 63, in __del__\nImportError: import of 'sys' halted; None in sys.modules\nmySystem:myappdir myuser$ \n```\n## <bountysource-plugin>\n\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/31821813-exception-in-singleinstance-__del__?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github).\n</bountysource-plugin>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/13", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/13/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/13/events", "html_url": "https://github.com/pycontribs/tendo/issues/13", "id": 129924295, "node_id": "MDU6SXNzdWUxMjk5MjQyOTU=", "number": 13, "title": "Exception ImportError: 'No module named sys' in <bound method SingleInstance.__del__...", "user": {"login": "nhooey", "id": 65458, "node_id": "MDQ6VXNlcjY1NDU4", "avatar_url": "https://avatars1.githubusercontent.com/u/65458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhooey", "html_url": "https://github.com/nhooey", "followers_url": "https://api.github.com/users/nhooey/followers", "following_url": "https://api.github.com/users/nhooey/following{/other_user}", "gists_url": "https://api.github.com/users/nhooey/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhooey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhooey/subscriptions", "organizations_url": "https://api.github.com/users/nhooey/orgs", "repos_url": "https://api.github.com/users/nhooey/repos", "events_url": "https://api.github.com/users/nhooey/events{/privacy}", "received_events_url": "https://api.github.com/users/nhooey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-01-30T01:19:33Z", "updated_at": "2018-04-03T18:59:48Z", "closed_at": "2018-04-03T18:59:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I make a Python package with `setuptools`, then install it in a virtualenv and run it, I get this error:\n\n```\nException ImportError: 'No module named sys' in <bound method SingleInstance.__del__ of \n<tendo.singleton.SingleInstance instance at 0x108618488>> ignored\n```\n\nHere are the project files:\n\n``` python\n#!/usr/bin/env python\n# setup.py\n\nfrom setuptools import setup\n\nsetup(\n    name='run-ansible-pull',\n    version='1.0',\n    description='Runs Ansible Pull and reports to Sensu',\n    author='Author',\n    author_email='author@somewhere.com',\n    packages=['singleton_test'],\n    entry_points = {\n        'console_scripts': [\n            'singleton-test = singleton_test:main',\n        ],\n    },\n    install_requires=[\n        'tendo==0.2.8',\n    ],\n )\n```\n\n``` python\n# singleton_test/__init__.py\nfrom tendo import singleton\n\nme = singleton.SingleInstance()\n\ndef main():\n    print \"Hello, World!\"\n```\n\nAnd here is the full transcript:\n\n```\n$ virtualenv .venv && source .venv/bin/activate\n$ python setup.py install && singleton-test\nrunning install\nrunning bdist_egg\nrunning egg_info\ncreating run_ansible_pull.egg-info\nwriting requirements to run_ansible_pull.egg-info/requires.txt\nwriting run_ansible_pull.egg-info/PKG-INFO\nwriting top-level names to run_ansible_pull.egg-info/top_level.txt\nwriting dependency_links to run_ansible_pull.egg-info/dependency_links.txt\nwriting entry points to run_ansible_pull.egg-info/entry_points.txt\nwriting manifest file 'run_ansible_pull.egg-info/SOURCES.txt'\nreading manifest file 'run_ansible_pull.egg-info/SOURCES.txt'\nwriting manifest file 'run_ansible_pull.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.macosx-10.10-x86_64/egg\nrunning install_lib\nrunning build_py\ncreating build\ncreating build/lib\ncreating build/lib/singleton_test\ncopying singleton_test/__init__.py -> build/lib/singleton_test\ncreating build/bdist.macosx-10.10-x86_64\ncreating build/bdist.macosx-10.10-x86_64/egg\ncreating build/bdist.macosx-10.10-x86_64/egg/singleton_test\ncopying build/lib/singleton_test/__init__.py -> build/bdist.macosx-10.10-x86_64/egg/singleton_test\nbyte-compiling build/bdist.macosx-10.10-x86_64/egg/singleton_test/__init__.py to __init__.pyc\ncreating build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\ncopying run_ansible_pull.egg-info/PKG-INFO -> build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\ncopying run_ansible_pull.egg-info/SOURCES.txt -> build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\ncopying run_ansible_pull.egg-info/dependency_links.txt -> build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\ncopying run_ansible_pull.egg-info/entry_points.txt -> build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\ncopying run_ansible_pull.egg-info/requires.txt -> build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\ncopying run_ansible_pull.egg-info/top_level.txt -> build/bdist.macosx-10.10-x86_64/egg/EGG-INFO\nzip_safe flag not set; analyzing archive contents...\ncreating dist\ncreating 'dist/run_ansible_pull-1.0-py2.7.egg' and adding 'build/bdist.macosx-10.10-x86_64/egg' to it\nremoving 'build/bdist.macosx-10.10-x86_64/egg' (and everything under it)\nProcessing run_ansible_pull-1.0-py2.7.egg\nRemoving /private/tmp/singleton-test/.venv/lib/python2.7/site-packages/run_ansible_pull-1.0-py2.7.egg\nCopying run_ansible_pull-1.0-py2.7.egg to /private/tmp/singleton-test/.venv/lib/python2.7/site-packages\nrun-ansible-pull 1.0 is already the active version in easy-install.pth\nInstalling singleton-test script to /private/tmp/singleton-test/.venv/bin\n\nInstalled /private/tmp/singleton-test/.venv/lib/python2.7/site-packages/run_ansible_pull-1.0-py2.7.egg\nProcessing dependencies for run-ansible-pull==1.0\nSearching for tendo==0.2.8\nBest match: tendo 0.2.8\nProcessing tendo-0.2.8-py2.7.egg\ntendo 0.2.8 is already the active version in easy-install.pth\n\nUsing /private/tmp/singleton-test/.venv/lib/python2.7/site-packages/tendo-0.2.8-py2.7.egg\nFinished processing dependencies for run-ansible-pull==1.0\nHello, World!\nException ImportError: 'No module named sys' in <bound method SingleInstance.__del__ of <tendo.singleton.SingleInstance instance at 0x108618488>> ignored\n```\n## <bountysource-plugin>\n\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/30352728-exception-importerror-no-module-named-sys-in-bound-method-singleinstance-__del__?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github).\n</bountysource-plugin>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/12", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/12/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/12/events", "html_url": "https://github.com/pycontribs/tendo/issues/12", "id": 119040690, "node_id": "MDU6SXNzdWUxMTkwNDA2OTA=", "number": 12, "title": "Error on python 3.4", "user": {"login": "efairon", "id": 5474286, "node_id": "MDQ6VXNlcjU0NzQyODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/5474286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efairon", "html_url": "https://github.com/efairon", "followers_url": "https://api.github.com/users/efairon/followers", "following_url": "https://api.github.com/users/efairon/following{/other_user}", "gists_url": "https://api.github.com/users/efairon/gists{/gist_id}", "starred_url": "https://api.github.com/users/efairon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efairon/subscriptions", "organizations_url": "https://api.github.com/users/efairon/orgs", "repos_url": "https://api.github.com/users/efairon/repos", "events_url": "https://api.github.com/users/efairon/events{/privacy}", "received_events_url": "https://api.github.com/users/efairon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-11-26T13:02:16Z", "updated_at": "2015-11-26T23:15:10Z", "closed_at": "2015-11-26T23:15:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using\n\n``` python\nfrom tendo import singleton\nsingleton.SingleInstance() # will sys.exit(-1) if other instance is running\n\n\n```\n\nWe get\n\n```\nException ignored in: <bound method SingleInstance.__del__ of <tendo.singleton.SingleInstance object at 0x7faf9af8bf60>>\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.4/dist-packages/tendo/singleton.py\", line 63, in __del__\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 2222, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 2155, in _find_spec\nTypeError: 'NoneType' object is not iterable\n2.26user 0.51system 1:31.64elapsed 3%CPU (0avgtext+0avgdata 27284maxresident)k\n18944inputs+936outputs (61major+9800minor)pagefaults 0swaps\n```\n\nProposed fix:\n\nRemove these 2 lines:\n\n~~import sys~~\n~~import os~~\n\nfrom\n\n``` python\n  def __del__(self):\n        import sys\n        import os\n        if not self.initialized:\n            return\n        try:\n            if sys.platform == 'win32':\n                if hasattr(self, 'fd'):\n                    os.close(self.fd)\n                    os.unlink(self.lockfile)\n            else:\n                import fcntl\n                fcntl.lockf(self.fp, fcntl.LOCK_UN)\n                # os.close(self.fp)\n                if os.path.isfile(self.lockfile):\n                    os.unlink(self.lockfile)\n        except Exception as e:\n            if logger:\n                logger.warning(e)\n            else:\n                print(\"Unloggable error: %s\" % e)\n            sys.exit(-1)\n\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/9", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/9/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/9/events", "html_url": "https://github.com/pycontribs/tendo/issues/9", "id": 64291454, "node_id": "MDU6SXNzdWU2NDI5MTQ1NA==", "number": 9, "title": "The singleton is not working as expected if the script is called from different paths", "user": {"login": "nanjiangshu", "id": 5833722, "node_id": "MDQ6VXNlcjU4MzM3MjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5833722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nanjiangshu", "html_url": "https://github.com/nanjiangshu", "followers_url": "https://api.github.com/users/nanjiangshu/followers", "following_url": "https://api.github.com/users/nanjiangshu/following{/other_user}", "gists_url": "https://api.github.com/users/nanjiangshu/gists{/gist_id}", "starred_url": "https://api.github.com/users/nanjiangshu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nanjiangshu/subscriptions", "organizations_url": "https://api.github.com/users/nanjiangshu/orgs", "repos_url": "https://api.github.com/users/nanjiangshu/repos", "events_url": "https://api.github.com/users/nanjiangshu/events{/privacy}", "received_events_url": "https://api.github.com/users/nanjiangshu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15565853, "node_id": "MDU6TGFiZWwxNTU2NTg1Mw==", "url": "https://api.github.com/repos/pycontribs/tendo/labels/bug", "name": "bug", "color": "fbca04", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-25T15:00:17Z", "updated_at": "2018-04-03T18:42:38Z", "closed_at": "2018-04-03T18:42:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \n\nIt seems the singleton is not blocking other instances if the script is called with different paths.\ne.g. \none instance is run by \n./script.py\nand another instance is run by\n/path/to/script/script.py\n## <bountysource-plugin>\n\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/10000601-the-singleton-is-not-working-as-expected-if-the-script-is-called-from-different-paths?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github).\n</bountysource-plugin>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/8", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/8/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/8/events", "html_url": "https://github.com/pycontribs/tendo/issues/8", "id": 56416596, "node_id": "MDU6SXNzdWU1NjQxNjU5Ng==", "number": 8, "title": "singleton.py misdesign", "user": {"login": "Ignalion", "id": 3126341, "node_id": "MDQ6VXNlcjMxMjYzNDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3126341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ignalion", "html_url": "https://github.com/Ignalion", "followers_url": "https://api.github.com/users/Ignalion/followers", "following_url": "https://api.github.com/users/Ignalion/following{/other_user}", "gists_url": "https://api.github.com/users/Ignalion/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ignalion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ignalion/subscriptions", "organizations_url": "https://api.github.com/users/Ignalion/orgs", "repos_url": "https://api.github.com/users/Ignalion/repos", "events_url": "https://api.github.com/users/Ignalion/events{/privacy}", "received_events_url": "https://api.github.com/users/Ignalion/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15565856, "node_id": "MDU6TGFiZWwxNTU2NTg1Ng==", "url": "https://api.github.com/repos/pycontribs/tendo/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2015-02-03T18:25:26Z", "updated_at": "2020-03-23T14:32:09Z", "closed_at": "2016-05-01T16:38:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\n\nI've just made the same issue to one project (PyBitMessage) that using your idea. The thing I want to talk aboue is file [singleton.py](https://github.com/pycontribs/tendo/blob/master/tendo/singleton.py) with singleinstance class especially.\n\nThe design of this class is incorrect because of two things as below:\n1. This class has to ensure that lock file is being deleted when app is closed (as far as I understand it). But it won't work. Well, it would, probably, but as it's stated in python doc, it's not guaranteed that `__del__` method will ever called. So it can easily lead to situation when lock file remains in system after app shutdown.\n2. There is `try..except` block in `__del__` method which would not work ever because, as stated in python doc, any exception that occurs while running `__del__` method will be ignored and just printed a warning in stderr instead.\n\nThus, I'd suggest to either make some other method like `release()` that should be called directly or redesign this class\\idea.\n\nThanks,\nConstantine\n## <bountysource-plugin>\n\nWant to back this issue? **[Post a bounty on it!](https://www.bountysource.com/issues/8257288-singleton-py-misdesign?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github)** We accept bounties via [Bountysource](https://www.bountysource.com/?utm_campaign=plugin&utm_content=tracker%2F446395&utm_medium=issues&utm_source=github).\n</bountysource-plugin>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/5", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/5/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/5/events", "html_url": "https://github.com/pycontribs/tendo/issues/5", "id": 34756833, "node_id": "MDU6SXNzdWUzNDc1NjgzMw==", "number": 5, "title": "tendo.colorer v0.2.4: global name 'e' is not defined", "user": {"login": "sphakka", "id": 7766137, "node_id": "MDQ6VXNlcjc3NjYxMzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/7766137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sphakka", "html_url": "https://github.com/sphakka", "followers_url": "https://api.github.com/users/sphakka/followers", "following_url": "https://api.github.com/users/sphakka/following{/other_user}", "gists_url": "https://api.github.com/users/sphakka/gists{/gist_id}", "starred_url": "https://api.github.com/users/sphakka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sphakka/subscriptions", "organizations_url": "https://api.github.com/users/sphakka/orgs", "repos_url": "https://api.github.com/users/sphakka/repos", "events_url": "https://api.github.com/users/sphakka/events{/privacy}", "received_events_url": "https://api.github.com/users/sphakka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-06-02T09:20:16Z", "updated_at": "2014-06-28T12:18:39Z", "closed_at": "2014-06-28T12:18:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "This was issued by an output from the 'tree' command, possibly because it outputs colorized text. The colorer's error was:\n\n```\nFile \"/usr/lib/python2.7/site-packages/tendo/colorer.py\", line 125, in new\n  except e:\n     NameError: global name 'e' is not defined\"\n```\n\nwhich should be instead:\n\n```\nFile \"/usr/lib/python2.7/site-packages/tendo/colorer.py\", line 127, in new\n  raise e\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 50: ordinal not in range(128)\"\n```\n\nFixed by this patch:\n\n```\ndiff --git a/usr/lib/python2.7/site-packages/tendo/colorer.py.orig b/usr/lib/python2.7/site-packages/tendo/colorer.py\nindex 91f53c4..13a2dcb 100644\n--- a/usr/lib/python2.7/site-packages/tendo/colorer.py.orig\n+++ b/usr/lib/python2.7/site-packages/tendo/colorer.py\n@@ -122,7 +122,7 @@ if (hasattr(sys.stderr, \"isatty\") and sys.stderr.isatty()) or \\\n                 color = '\\x1b[0m'  # normal\n             try:\n                 new_args[1].msg = color + unicode(new_args[1].msg) + '\\x1b[0m'  # normal\n-            except e:\n+            except Exception as e:\n                 print type(new_args[1].msg)\n                 raise e\n             # print \"after\"\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pycontribs/tendo/issues/1", "repository_url": "https://api.github.com/repos/pycontribs/tendo", "labels_url": "https://api.github.com/repos/pycontribs/tendo/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/pycontribs/tendo/issues/1/comments", "events_url": "https://api.github.com/repos/pycontribs/tendo/issues/1/events", "html_url": "https://github.com/pycontribs/tendo/issues/1", "id": 9155707, "node_id": "MDU6SXNzdWU5MTU1NzA3", "number": 1, "title": "syntax python3 in singleton.py line 67", "user": {"login": "farax4de", "id": 3010347, "node_id": "MDQ6VXNlcjMwMTAzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3010347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farax4de", "html_url": "https://github.com/farax4de", "followers_url": "https://api.github.com/users/farax4de/followers", "following_url": "https://api.github.com/users/farax4de/following{/other_user}", "gists_url": "https://api.github.com/users/farax4de/gists{/gist_id}", "starred_url": "https://api.github.com/users/farax4de/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farax4de/subscriptions", "organizations_url": "https://api.github.com/users/farax4de/orgs", "repos_url": "https://api.github.com/users/farax4de/repos", "events_url": "https://api.github.com/users/farax4de/events{/privacy}", "received_events_url": "https://api.github.com/users/farax4de/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pycontribs/tendo/milestones/1", "html_url": "https://github.com/pycontribs/tendo/milestone/1", "labels_url": "https://api.github.com/repos/pycontribs/tendo/milestones/1/labels", "id": 423559, "node_id": "MDk6TWlsZXN0b25lNDIzNTU5", "number": 1, "title": "0.2.4", "description": null, "creator": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2013-09-10T05:03:29Z", "updated_at": "2020-05-03T14:51:43Z", "due_on": null, "closed_at": "2020-05-03T14:51:43Z"}, "comments": 3, "created_at": "2012-12-10T19:31:59Z", "updated_at": "2013-09-10T05:04:13Z", "closed_at": "2013-09-10T05:03:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think\nline 67: \"except Exception, e:\"\nshould be \n\"except Exception as e:\"\n", "performed_via_github_app": null, "score": 1.0}]}