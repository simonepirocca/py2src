{"total_count": 39, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/alvations/sacremoses/issues/97", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/97/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/97/events", "html_url": "https://github.com/alvations/sacremoses/issues/97", "id": 612668508, "node_id": "MDU6SXNzdWU2MTI2Njg1MDg=", "number": 97, "title": "Non-breaking prefixes at the end of the sentence", "user": {"login": "ZJaume", "id": 11339330, "node_id": "MDQ6VXNlcjExMzM5MzMw", "avatar_url": "https://avatars1.githubusercontent.com/u/11339330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZJaume", "html_url": "https://github.com/ZJaume", "followers_url": "https://api.github.com/users/ZJaume/followers", "following_url": "https://api.github.com/users/ZJaume/following{/other_user}", "gists_url": "https://api.github.com/users/ZJaume/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZJaume/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZJaume/subscriptions", "organizations_url": "https://api.github.com/users/ZJaume/orgs", "repos_url": "https://api.github.com/users/ZJaume/repos", "events_url": "https://api.github.com/users/ZJaume/events{/privacy}", "received_events_url": "https://api.github.com/users/ZJaume/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981945, "node_id": "MDU6TGFiZWw5MDc5ODE5NDU=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}, {"id": 907981954, "node_id": "MDU6TGFiZWw5MDc5ODE5NTQ=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-05T14:56:17Z", "updated_at": "2020-06-04T08:18:33Z", "closed_at": "2020-06-04T08:18:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think Sacremoses tokenizer is not behaving like Moses tokenizer with the non-breaking prefixes when they end a sentence.\r\n\r\n```\r\n$ echo \"John vs. Doe, says vs.\" | tokenizer.perl -q -l en\r\nJohn vs. Doe , says vs .\r\n$ echo \"John vs. Doe, says vs.\" | sacremoses -l en tokenize\r\nJohn vs. Doe , says vs.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/95", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/95/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/95/events", "html_url": "https://github.com/alvations/sacremoses/issues/95", "id": 598704834, "node_id": "MDU6SXNzdWU1OTg3MDQ4MzQ=", "number": 95, "title": "Dropping Python 2.7 support. ", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1981885505, "node_id": "MDU6TGFiZWwxOTgxODg1NTA1", "url": "https://api.github.com/repos/alvations/sacremoses/labels/pythonic", "name": "pythonic", "color": "b3f99f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-13T06:32:56Z", "updated_at": "2020-04-14T02:24:20Z", "closed_at": "2020-04-14T02:24:19Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Version `0.0.40` will be last stable version for Python 2.7 users. This is to reduce additional dev work when supporting regexes on deprecated Python version, e.g. #84 and #94 \r\n\r\nWe encourage all users to use Python 3 with `sacremoses` from henchforth. If any Python 2.7 users faces any issues with `0.0.40`, please use this issue to track the problems and only critical issues will be fixed for Python 2.7 on `0.0.40`. \r\n\r\nNew features from `0.0.41` onwards will not be backported. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/91", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/91/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/91/events", "html_url": "https://github.com/alvations/sacremoses/issues/91", "id": 598349299, "node_id": "MDU6SXNzdWU1OTgzNDkyOTk=", "number": 91, "title": "PyPI tarball contains code with syntax errors", "user": {"login": "adamjstewart", "id": 12021217, "node_id": "MDQ6VXNlcjEyMDIxMjE3", "avatar_url": "https://avatars2.githubusercontent.com/u/12021217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamjstewart", "html_url": "https://github.com/adamjstewart", "followers_url": "https://api.github.com/users/adamjstewart/followers", "following_url": "https://api.github.com/users/adamjstewart/following{/other_user}", "gists_url": "https://api.github.com/users/adamjstewart/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamjstewart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamjstewart/subscriptions", "organizations_url": "https://api.github.com/users/adamjstewart/orgs", "repos_url": "https://api.github.com/users/adamjstewart/repos", "events_url": "https://api.github.com/users/adamjstewart/events{/privacy}", "received_events_url": "https://api.github.com/users/adamjstewart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-11T20:54:26Z", "updated_at": "2020-04-13T03:30:40Z", "closed_at": "2020-04-13T03:22:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest release on PyPI (0.0.38) contains code with syntax errors. In the `sacremoses/sent_tokenize.py` file, I see:\r\n```python\r\n...\r\n        for i, token in enumerate(iter(tokens[:-1])):                           \r\n            if re.search(IS_EOS, token)     \r\n```\r\nDuring installation, this leads to the following warning message:\r\n```\r\nrunning install_scripts\r\nInstalling sacremoses script to /Users/Adam/spack/opt/spack/darwin-catalina-x86_64/clang-11.0.3-apple/py-sacremoses-0.0.38-jrvwvizhy453s2pooq6udlw3b7my5v4e/bin\r\n  File \"Users/Adam/spack/opt/spack/darwin-catalina-x86_64/clang-11.0.3-apple/py-sacremoses-0.0.38-jrvwvizhy453s2pooq6udlw3b7my5v4e/lib/python3.7/site-packages/sacremoses/sent_tokenize.py\", line 69\r\n    if re.search(IS_EOS, token)\r\n                              ^\r\nSyntaxError: invalid syntax\r\n```\r\nI noticed that this file doesn't even exist in the GitHub repo. I also noticed that the GitHub repo does not have this 0.0.38 release. What's going on here?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/90", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/90/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/90/events", "html_url": "https://github.com/alvations/sacremoses/issues/90", "id": 593561649, "node_id": "MDU6SXNzdWU1OTM1NjE2NDk=", "number": 90, "title": "Escape option on command line", "user": {"login": "felipealco", "id": 5402309, "node_id": "MDQ6VXNlcjU0MDIzMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5402309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felipealco", "html_url": "https://github.com/felipealco", "followers_url": "https://api.github.com/users/felipealco/followers", "following_url": "https://api.github.com/users/felipealco/following{/other_user}", "gists_url": "https://api.github.com/users/felipealco/gists{/gist_id}", "starred_url": "https://api.github.com/users/felipealco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felipealco/subscriptions", "organizations_url": "https://api.github.com/users/felipealco/orgs", "repos_url": "https://api.github.com/users/felipealco/repos", "events_url": "https://api.github.com/users/felipealco/events{/privacy}", "received_events_url": "https://api.github.com/users/felipealco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-03T18:25:21Z", "updated_at": "2020-04-03T18:33:53Z", "closed_at": "2020-04-03T18:33:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know when using sacremoses tokenize on python I can set it off, but how can I do it through command line?\r\nAlso, why is that the default option?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/89", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/89/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/89/events", "html_url": "https://github.com/alvations/sacremoses/issues/89", "id": 591375997, "node_id": "MDU6SXNzdWU1OTEzNzU5OTc=", "number": 89, "title": "normalize broken", "user": {"login": "mjpost", "id": 455256, "node_id": "MDQ6VXNlcjQ1NTI1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/455256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjpost", "html_url": "https://github.com/mjpost", "followers_url": "https://api.github.com/users/mjpost/followers", "following_url": "https://api.github.com/users/mjpost/following{/other_user}", "gists_url": "https://api.github.com/users/mjpost/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjpost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjpost/subscriptions", "organizations_url": "https://api.github.com/users/mjpost/orgs", "repos_url": "https://api.github.com/users/mjpost/repos", "events_url": "https://api.github.com/users/mjpost/events{/privacy}", "received_events_url": "https://api.github.com/users/mjpost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-31T19:45:27Z", "updated_at": "2020-04-13T03:33:39Z", "closed_at": "2020-04-13T03:25:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running 0.38 installed via pip:\r\n\r\n```bash\r\n$ echo \"This is a test\" | sacremoses normalize\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/sacremoses\", line 10, in <module>\r\n    sys.exit(cli())\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/local/lib/python3.7/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/sacremoses/cli.py\", line 297, in normalize_file\r\n    pre_replace_unicode_punct=replace_unicode_punct,\r\nNameError: name 'replace_unicode_punct' is not defined\r\n```\r\n\r\nTested in two environments (Mac and Linux).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/87", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/87/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/87/events", "html_url": "https://github.com/alvations/sacremoses/issues/87", "id": 577590972, "node_id": "MDU6SXNzdWU1Nzc1OTA5NzI=", "number": 87, "title": "NameError: name 'words' is not defined in truecaser", "user": {"login": "butsugiri", "id": 6701836, "node_id": "MDQ6VXNlcjY3MDE4MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6701836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/butsugiri", "html_url": "https://github.com/butsugiri", "followers_url": "https://api.github.com/users/butsugiri/followers", "following_url": "https://api.github.com/users/butsugiri/following{/other_user}", "gists_url": "https://api.github.com/users/butsugiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/butsugiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/butsugiri/subscriptions", "organizations_url": "https://api.github.com/users/butsugiri/orgs", "repos_url": "https://api.github.com/users/butsugiri/repos", "events_url": "https://api.github.com/users/butsugiri/events{/privacy}", "received_events_url": "https://api.github.com/users/butsugiri/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-09T00:13:31Z", "updated_at": "2020-04-13T03:32:22Z", "closed_at": "2020-04-13T03:32:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thank you for your great work.\r\n\r\nI was using `sacremoses truecase` and encountered following error:\r\n\r\n```\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/bin/sacremoses\", line 11, in <module>\r\n    sys.exit(cli())\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/sacremoses/cli.py\", line 195, in truecase_file\r\n    print(moses.truecase(line, return_str=True), end=\"\\n\", file=fout)\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/sacremoses/truecase.py\", line 265, in truecase\r\n    tokens = self.split_xml(text)\r\n  File \"/home/kiyono/.pyenv/versions/miniconda-3.9.1/envs/chainer4/lib/python3.6/site-packages/sacremoses/truecase.py\", line 349, in split_xml\r\n    and len(words) > 0\r\nNameError: name 'words' is not defined\r\n```\r\n\r\nI have not looked into the details of the code, but it seems that the variable `words` is indeed not defined in the method.\r\nMaybe it should be `tokens` instead?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/86", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/86/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/86/events", "html_url": "https://github.com/alvations/sacremoses/issues/86", "id": 570778019, "node_id": "MDU6SXNzdWU1NzA3NzgwMTk=", "number": 86, "title": "pip3 install error: AttributeError: '_io.BufferedWriter' object has no attribute 'encoding'", "user": {"login": "youssefavx", "id": 56129524, "node_id": "MDQ6VXNlcjU2MTI5NTI0", "avatar_url": "https://avatars0.githubusercontent.com/u/56129524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youssefavx", "html_url": "https://github.com/youssefavx", "followers_url": "https://api.github.com/users/youssefavx/followers", "following_url": "https://api.github.com/users/youssefavx/following{/other_user}", "gists_url": "https://api.github.com/users/youssefavx/gists{/gist_id}", "starred_url": "https://api.github.com/users/youssefavx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youssefavx/subscriptions", "organizations_url": "https://api.github.com/users/youssefavx/orgs", "repos_url": "https://api.github.com/users/youssefavx/repos", "events_url": "https://api.github.com/users/youssefavx/events{/privacy}", "received_events_url": "https://api.github.com/users/youssefavx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-25T19:21:31Z", "updated_at": "2020-04-13T04:13:40Z", "closed_at": "2020-04-13T04:13:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/py_compile.py\", line 143, in compile\r\n    _optimize=optimize)\r\n  File \"<frozen importlib._bootstrap_external>\", line 791, in source_to_code\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/private/var/folders/g0/5zwy4mtx7579v5x6rxqb083r0000gn/T/pip-unpacked-wheel-l2i9ti3m/sacremoses/sent_tokenize.py\", line 69\r\n    if re.search(IS_EOS, token)\r\n                              ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/compileall.py\", line 159, in compile_file\r\n    invalidation_mode=invalidation_mode)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/py_compile.py\", line 147, in compile\r\n    raise py_exc\r\npy_compile.PyCompileError:   File \"/private/var/folders/g0/5zwy4mtx7579v5x6rxqb083r0000gn/T/pip-unpacked-wheel-l2i9ti3m/sacremoses/sent_tokenize.py\", line 69\r\n    if re.search(IS_EOS, token)\r\n                              ^\r\nSyntaxError: invalid syntax\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/cli/base_command.py\", line 186, in _main\r\n    status = self.run(options, args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/commands/install.py\", line 404, in run\r\n    use_user_site=options.use_user_site,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/req/__init__.py\", line 71, in install_given_reqs\r\n    **kwargs\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/req/req_install.py\", line 815, in install\r\n    warn_script_location=warn_script_location,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/operations/install/wheel.py\", line 614, in install_wheel\r\n    warn_script_location=warn_script_location,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/operations/install/wheel.py\", line 338, in install_unpacked_wheel\r\n    compileall.compile_dir(source, force=True, quiet=True)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/compileall.py\", line 97, in compile_dir\r\n    legacy, optimize, invalidation_mode):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/compileall.py\", line 169, in compile_file\r\n    msg = err.msg.encode(sys.stdout.encoding,\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pip/_internal/utils/misc.py\", line 554, in encoding\r\n    return self.orig_stream.encoding\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/codecs.py\", line 409, in __getattr__\r\n    return getattr(self.stream, name)\r\nAttributeError: '_io.BufferedWriter' object has no attribute 'encoding'\r\n```\r\n\r\nGetting this error when doing pip3 install -U sacremoses and also when installing other packages which rely on this package.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/84", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/84/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/84/events", "html_url": "https://github.com/alvations/sacremoses/issues/84", "id": 561979455, "node_id": "MDU6SXNzdWU1NjE5Nzk0NTU=", "number": 84, "title": "Deprecation warning due to invalid escape sequences in Python 3.8", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1981885505, "node_id": "MDU6TGFiZWwxOTgxODg1NTA1", "url": "https://api.github.com/repos/alvations/sacremoses/labels/pythonic", "name": "pythonic", "color": "b3f99f", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-08T06:38:35Z", "updated_at": "2020-04-14T02:25:12Z", "closed_at": "2020-04-14T02:25:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Deprecation warnings are raised due to invalid escape sequences in Python 3.8 . Below is a log of the warnings raised during compiling all the python files. Using raw strings or escaping them will fix this issue.\r\n\r\n```\r\nfind . -iname '*.py'  | xargs -P 4 -I{} python -Wall -m py_compile {}\r\n\r\n./sacremoses/tokenize.py:41: DeprecationWarning: invalid escape sequence \\s\r\n  PAD_NOT_ISALNUM = u\"([^{}\\s\\.'\\`\\,\\-])\".format(IsAlnum), r\" \\1 \"\r\n./sacremoses/tokenize.py:46: DeprecationWarning: invalid escape sequence \\-\r\n  u\"([{alphanum}])\\-(?=[{alphanum}])\".format(alphanum=IsAlnum),\r\n./sacremoses/tokenize.py:85: DeprecationWarning: invalid escape sequence \\$\r\n  SYMBOLS = u\"([;:@#\\$%&{}{}])\".format(IsSc, IsSo), r\" \\1 \"\r\n./sacremoses/tokenize.py:91: DeprecationWarning: invalid escape sequence \\/\r\n  u\"([{alphanum}])\\/([{alphanum}])\".format(alphanum=IsAlnum),\r\n./sacremoses/tokenize.py:193: DeprecationWarning: invalid escape sequence \\.\r\n  TRAILING_DOT_APOSTROPHE = \"\\.' ?$\", \" . ' \"\r\n./sacremoses/tokenize.py:196: DeprecationWarning: invalid escape sequence \\S\r\n  BASIC_PROTECTED_PATTERN_2 = '<\\S+( [a-zA-Z0-9]+\\=\"?[^\"]\")+ ?\\/?>'\r\n./sacremoses/tokenize.py:197: DeprecationWarning: invalid escape sequence \\S\r\n  BASIC_PROTECTED_PATTERN_3 = \"<\\S+( [a-zA-Z0-9]+\\='?[^']')+ ?\\/?>\"\r\n./sacremoses/tokenize.py:198: DeprecationWarning: invalid escape sequence \\w\r\n  BASIC_PROTECTED_PATTERN_4 = \"[\\w\\-\\_\\.]+\\@([\\w\\-\\_]+\\.)+[a-zA-Z]{2,}\"\r\n./sacremoses/tokenize.py:199: DeprecationWarning: invalid escape sequence \\/\r\n  BASIC_PROTECTED_PATTERN_5 = \"(http[s]?|ftp):\\/\\/[^:\\/\\s]+(\\/\\w+)*\\/[\\w\\-\\.]+\"\r\n./sacremoses/tokenize.py:325: DeprecationWarning: invalid escape sequence \\s\r\n  self.PAD_NOT_ISALNUM = u\"([^{}\\s\\.'\\`\\,\\-])\".format(self.IsAlnum), r\" \\1 \"\r\n./sacremoses/tokenize.py:327: DeprecationWarning: invalid escape sequence \\-\r\n  u\"([{alphanum}])\\-(?=[{alphanum}])\".format(alphanum=self.IsAlnum),\r\n./sacremoses/tokenize.py:331: DeprecationWarning: invalid escape sequence \\/\r\n  u\"([{alphanum}])\\/([{alphanum}])\".format(alphanum=self.IsAlnum),\r\n./sacremoses/tokenize.py:699: DeprecationWarning: invalid escape sequence \\(\r\n  elif re.search(u\"^[\" + self.IsSc + u\"\\(\\[\\{\\\u00bf\\\u00a1]+$\", token):\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/83", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/83/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/83/events", "html_url": "https://github.com/alvations/sacremoses/issues/83", "id": 560528280, "node_id": "MDU6SXNzdWU1NjA1MjgyODA=", "number": 83, "title": "LICENSE file", "user": {"login": "noqcks", "id": 4740147, "node_id": "MDQ6VXNlcjQ3NDAxNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4740147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noqcks", "html_url": "https://github.com/noqcks", "followers_url": "https://api.github.com/users/noqcks/followers", "following_url": "https://api.github.com/users/noqcks/following{/other_user}", "gists_url": "https://api.github.com/users/noqcks/gists{/gist_id}", "starred_url": "https://api.github.com/users/noqcks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noqcks/subscriptions", "organizations_url": "https://api.github.com/users/noqcks/orgs", "repos_url": "https://api.github.com/users/noqcks/repos", "events_url": "https://api.github.com/users/noqcks/events{/privacy}", "received_events_url": "https://api.github.com/users/noqcks/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1981683290, "node_id": "MDU6TGFiZWwxOTgxNjgzMjkw", "url": "https://api.github.com/repos/alvations/sacremoses/labels/license", "name": "license", "color": "f42749", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-05T17:42:38Z", "updated_at": "2020-05-04T01:12:38Z", "closed_at": "2020-05-04T01:12:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to have a LICENSE file, so automatic parsers can read it\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/75", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/75/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/75/events", "html_url": "https://github.com/alvations/sacremoses/issues/75", "id": 526307602, "node_id": "MDU6SXNzdWU1MjYzMDc2MDI=", "number": 75, "title": "Tag releases", "user": {"login": "ryandesign", "id": 429209, "node_id": "MDQ6VXNlcjQyOTIwOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/429209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryandesign", "html_url": "https://github.com/ryandesign", "followers_url": "https://api.github.com/users/ryandesign/followers", "following_url": "https://api.github.com/users/ryandesign/following{/other_user}", "gists_url": "https://api.github.com/users/ryandesign/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryandesign/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryandesign/subscriptions", "organizations_url": "https://api.github.com/users/ryandesign/orgs", "repos_url": "https://api.github.com/users/ryandesign/repos", "events_url": "https://api.github.com/users/ryandesign/events{/privacy}", "received_events_url": "https://api.github.com/users/ryandesign/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-21T01:20:49Z", "updated_at": "2019-11-22T11:56:57Z", "closed_at": "2019-11-22T11:56:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "setup.py says this is version 0.0.35, but there are no tags in this repository. Please create tags for your releases.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/71", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/71/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/71/events", "html_url": "https://github.com/alvations/sacremoses/issues/71", "id": 501789320, "node_id": "MDU6SXNzdWU1MDE3ODkzMjA=", "number": 71, "title": "detokenization does not add a space between Chinese/Japanese characters and non-CJK characters", "user": {"login": "brandonherzog", "id": 13034948, "node_id": "MDQ6VXNlcjEzMDM0OTQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/13034948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brandonherzog", "html_url": "https://github.com/brandonherzog", "followers_url": "https://api.github.com/users/brandonherzog/followers", "following_url": "https://api.github.com/users/brandonherzog/following{/other_user}", "gists_url": "https://api.github.com/users/brandonherzog/gists{/gist_id}", "starred_url": "https://api.github.com/users/brandonherzog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brandonherzog/subscriptions", "organizations_url": "https://api.github.com/users/brandonherzog/orgs", "repos_url": "https://api.github.com/users/brandonherzog/repos", "events_url": "https://api.github.com/users/brandonherzog/events{/privacy}", "received_events_url": "https://api.github.com/users/brandonherzog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-03T00:24:07Z", "updated_at": "2019-10-03T01:21:38Z", "closed_at": "2019-10-03T01:21:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The original Moses perl scripts add a space between tokens that do not end with a CJK character and tokens that do:\r\nhttps://github.com/moses-smt/mosesdecoder/blob/555829a771cd897bb807f495a95737953a7ca9a3/scripts/tokenizer/detokenizer.perl#L109-L115\r\n\r\nThe current Python port only adds a space if a token starts with a CJK character and does not end with a CJK character:\r\nhttps://github.com/alvations/sacremoses/blob/4d994b8781f6c10600d34413679e1a1acdb53cb5/sacremoses/tokenize.py#L692-L696\r\n\r\nThis seems like a mistake and I would expect the original behavior to be replicated.\r\n\r\n```\r\ndetokenizer = MosesDetokenizer()\r\ntext = detokenizer.detokenize(['Japan', 'is', '\u65e5', '\u672c', 'in', 'Japanese', '.'])\r\nassert text == 'Japan is \u65e5\u672c in Japanese.'\r\n# it actually will currently return 'Japan is\u65e5\u672c in Japanese.' with no space before \u65e5\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/69", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/69/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/69/events", "html_url": "https://github.com/alvations/sacremoses/issues/69", "id": 495348277, "node_id": "MDU6SXNzdWU0OTUzNDgyNzc=", "number": 69, "title": "Verbosity", "user": {"login": "mjpost", "id": 455256, "node_id": "MDQ6VXNlcjQ1NTI1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/455256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjpost", "html_url": "https://github.com/mjpost", "followers_url": "https://api.github.com/users/mjpost/followers", "following_url": "https://api.github.com/users/mjpost/following{/other_user}", "gists_url": "https://api.github.com/users/mjpost/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjpost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjpost/subscriptions", "organizations_url": "https://api.github.com/users/mjpost/orgs", "repos_url": "https://api.github.com/users/mjpost/repos", "events_url": "https://api.github.com/users/mjpost/events{/privacy}", "received_events_url": "https://api.github.com/users/mjpost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981947, "node_id": "MDU6TGFiZWw5MDc5ODE5NDc=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-18T17:04:35Z", "updated_at": "2019-09-24T02:53:05Z", "closed_at": "2019-09-24T02:53:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that the command line always prints a progress bar. I suggest one of the following options:\r\n\r\n1. (preferred) it only print if `--verbose|-v` is specified (silent by default); or\r\n2. that one could suppress this with `--quiet|-q`\r\n\r\nThanks for a great too, BTW", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/68", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/68/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/68/events", "html_url": "https://github.com/alvations/sacremoses/issues/68", "id": 488201336, "node_id": "MDU6SXNzdWU0ODgyMDEzMzY=", "number": 68, "title": "Truecaser for foreign languages!", "user": {"login": "gvskalyan", "id": 42022935, "node_id": "MDQ6VXNlcjQyMDIyOTM1", "avatar_url": "https://avatars0.githubusercontent.com/u/42022935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gvskalyan", "html_url": "https://github.com/gvskalyan", "followers_url": "https://api.github.com/users/gvskalyan/followers", "following_url": "https://api.github.com/users/gvskalyan/following{/other_user}", "gists_url": "https://api.github.com/users/gvskalyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gvskalyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gvskalyan/subscriptions", "organizations_url": "https://api.github.com/users/gvskalyan/orgs", "repos_url": "https://api.github.com/users/gvskalyan/repos", "events_url": "https://api.github.com/users/gvskalyan/events{/privacy}", "received_events_url": "https://api.github.com/users/gvskalyan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-02T13:52:09Z", "updated_at": "2019-09-03T13:03:57Z", "closed_at": "2019-09-03T09:55:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can the train-truecaser can be applied to any txt file containing foreign characters i.e., for foreign language truecasing such as german/spanish etc..\r\n`\r\n        # Some predefined words that will always be in lowercase.\r\n        self.ALWAYS_LOWER =\r\n`\r\n\r\nDue to such blocks in the code?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/61", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/61/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/61/events", "html_url": "https://github.com/alvations/sacremoses/issues/61", "id": 468742753, "node_id": "MDU6SXNzdWU0Njg3NDI3NTM=", "number": 61, "title": "first call to MosesTokenizer.tokenize is very slow", "user": {"login": "johnfarina", "id": 20345189, "node_id": "MDQ6VXNlcjIwMzQ1MTg5", "avatar_url": "https://avatars0.githubusercontent.com/u/20345189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnfarina", "html_url": "https://github.com/johnfarina", "followers_url": "https://api.github.com/users/johnfarina/followers", "following_url": "https://api.github.com/users/johnfarina/following{/other_user}", "gists_url": "https://api.github.com/users/johnfarina/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnfarina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnfarina/subscriptions", "organizations_url": "https://api.github.com/users/johnfarina/orgs", "repos_url": "https://api.github.com/users/johnfarina/repos", "events_url": "https://api.github.com/users/johnfarina/events{/privacy}", "received_events_url": "https://api.github.com/users/johnfarina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1981693179, "node_id": "MDU6TGFiZWwxOTgxNjkzMTc5", "url": "https://api.github.com/repos/alvations/sacremoses/labels/fixed", "name": "fixed", "color": "55eb34", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-07-16T16:09:18Z", "updated_at": "2020-04-13T04:11:42Z", "closed_at": "2020-04-13T04:11:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "As in, it takes several minutes. Seems to happen independent ot the specified `lang`.\r\n\r\n```\r\nIn [1]: from sacremoses import MosesTokenizer\r\n\r\nIn [2]: mt = MosesTokenizer(lang='ko')\r\n\r\nIn [3]: %time mt.tokenize(\"\uc138\uacc4 \uc5d0\uc11c \uac00\uc7a5 \uac15\ub825\ud55c\")\r\nCPU times: user 3min 3s, sys: 1.75 s, total: 3min 5s\r\nWall time: 3min 11s\r\nOut[3]: ['\uc138\uacc4', '\uc5d0\uc11c', '\uac00\uc7a5', '\uac15\ub825\ud55c']\r\n```\r\nSubsequent calls perform as expected:\r\n```\r\nIn [4]: %time mt.tokenize(\"\uc138\uacc4 \uc5d0\uc11c \uac00\uc7a5 \uac15\ub825\ud55c\")\r\nCPU times: user 819 \u00b5s, sys: 0 ns, total: 819 \u00b5s\r\nWall time: 823 \u00b5s\r\nOut[4]: ['\uc138\uacc4', '\uc5d0\uc11c', '\uac00\uc7a5', '\uac15\ub825\ud55c']\r\n```\r\n\r\nLatest version of sacremoses (0.0.22). Is this a problem for anyone else?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/58", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/58/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/58/events", "html_url": "https://github.com/alvations/sacremoses/issues/58", "id": 464335224, "node_id": "MDU6SXNzdWU0NjQzMzUyMjQ=", "number": 58, "title": "No such file or directory: nonbreaking_prefix.es", "user": {"login": "loretoparisi", "id": 163333, "node_id": "MDQ6VXNlcjE2MzMzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/163333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loretoparisi", "html_url": "https://github.com/loretoparisi", "followers_url": "https://api.github.com/users/loretoparisi/followers", "following_url": "https://api.github.com/users/loretoparisi/following{/other_user}", "gists_url": "https://api.github.com/users/loretoparisi/gists{/gist_id}", "starred_url": "https://api.github.com/users/loretoparisi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loretoparisi/subscriptions", "organizations_url": "https://api.github.com/users/loretoparisi/orgs", "repos_url": "https://api.github.com/users/loretoparisi/repos", "events_url": "https://api.github.com/users/loretoparisi/events{/privacy}", "received_events_url": "https://api.github.com/users/loretoparisi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-04T16:09:23Z", "updated_at": "2019-07-16T03:22:57Z", "closed_at": "2019-07-16T03:22:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n2019-07-04 16:06:14 - ERROR - No such file or directory: '/usr/local/lib/python3.6/dist-packages/sacremoses/data/nonbreaking_prefixes/nonbreaking_prefix.es'\r\n```\r\nShall I manually install these files?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/55", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/55/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/55/events", "html_url": "https://github.com/alvations/sacremoses/issues/55", "id": 455647042, "node_id": "MDU6SXNzdWU0NTU2NDcwNDI=", "number": 55, "title": "Truecaser crashes for large corpora (>8M segments)", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-13T09:57:42Z", "updated_at": "2019-07-16T03:23:07Z", "closed_at": "2019-07-16T03:23:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We used the truecaser for some of our corpora with >8M segments. There are some issues when training a truecaser for larger corpora:\r\n\r\n- Using `joblib.Parallel` causes a huge memory footprint even when used with a single process. i.e. >32GB of memory for our 8M corpus.\r\n- The training never seems to stop (cancelled after 24h). The progressbar finishes after about 20minutes. \r\n\r\nIn our particular case we fixed the problem by using `map` instead of `Parallel` for single processes in this function:\r\n\r\nhttps://github.com/alvations/sacremoses/blob/f3780b392368ba09106098354aca706f8476cdb6/sacremoses/util.py#L169-L171\r\n\r\n```python\r\n def parallelize_preprocess(func, iterator, processes, progress_bar=False): \r\n     iterator = tqdm(iterator) if progress_bar else iterator \r\n     if processes <= 1:\r\n          return map(func, iterator)\r\n     return Parallel(n_jobs=processes)(delayed(func)(line) for line in iterator) \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/53", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/53/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/53/events", "html_url": "https://github.com/alvations/sacremoses/issues/53", "id": 444978563, "node_id": "MDU6SXNzdWU0NDQ5Nzg1NjM=", "number": 53, "title": "Non-Breaking Prefixes are stripped ", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-16T14:09:32Z", "updated_at": "2019-07-16T03:22:47Z", "closed_at": "2019-07-16T03:22:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Just a note: In the original perl script, non-breaking prefixes are not stripped when loading them from the file.\r\n\r\nIn my opinion stripping non-breaking prefixes  is wanted, because there can be some unwanted spaces that are very hard to spot in the nbp-files.\r\n\r\nI actually found this issue because in `nonbreaking_prefix.it` on line `139` `es ` is followed by a space, causing dots following es to be split up (using the perl implementation but not using this implementation)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/52", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/52/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/52/events", "html_url": "https://github.com/alvations/sacremoses/issues/52", "id": 444907261, "node_id": "MDU6SXNzdWU0NDQ5MDcyNjE=", "number": 52, "title": "Comma after a number at the end of the sentence not split", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-16T11:40:54Z", "updated_at": "2019-05-17T03:32:20Z", "closed_at": "2019-05-17T03:31:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Commas after numbers at the end of a sentence are not split away, but they should be.\r\nFor example in `Sicherung dieser Daten erstellen ( wie unter Abschnitt 4.1.1,`  the last comma should be split away.\r\n\r\nThe third comma rule of the original perl script (Line `298`) is missing in this implementation.\r\n\r\n\r\nFix:\r\nOn line `60` in `tokenize.py`\r\n```python\r\n    COMMA_SEPARATE_3 = u'([{}])[,]$'.format(IsN), r'\\1 , '\r\n```\r\nOn line `349` add the rule: \r\n\r\n```python\r\n        for regexp, substitution in [self.COMMA_SEPARATE_1, self.COMMA_SEPARATE_2, self.COMMA_SEPARATE_3]:\r\n            text = re.sub(regexp, substitution, text)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/51", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/51/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/51/events", "html_url": "https://github.com/alvations/sacremoses/issues/51", "id": 444856831, "node_id": "MDU6SXNzdWU0NDQ4NTY4MzE=", "number": 51, "title": "Issue in handles_nonbreaking_prefixes", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-16T09:44:40Z", "updated_at": "2019-07-16T03:58:28Z", "closed_at": "2019-07-16T03:58:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is an issue in `handles_nonbreaking_prefixes`, more specifically on line `271`, where you check if the next token is all lowercase. \r\n\r\nThe original perl script just checks if the first character of the next token is lowercase. (as stated here: https://stackoverflow.com/questions/42126922/what-does-pre-pre-pisalpha-mean-in-the-moses-tokenizer)\r\n\r\nSo for example `4.5.1. dist-upgrade schl\u00e4gt fehl mit` is detokenized to `4.5.1 . dist-upgrade schl\u00e4gt fehl mit` because the hyphen is not in the list of lower case characters.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/50", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/50/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/50/events", "html_url": "https://github.com/alvations/sacremoses/issues/50", "id": 443370937, "node_id": "MDU6SXNzdWU0NDMzNzA5Mzc=", "number": 50, "title": "How to extend BASIC_PROTECTED_PATTERNS", "user": {"login": "loretoparisi", "id": 163333, "node_id": "MDQ6VXNlcjE2MzMzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/163333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loretoparisi", "html_url": "https://github.com/loretoparisi", "followers_url": "https://api.github.com/users/loretoparisi/followers", "following_url": "https://api.github.com/users/loretoparisi/following{/other_user}", "gists_url": "https://api.github.com/users/loretoparisi/gists{/gist_id}", "starred_url": "https://api.github.com/users/loretoparisi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loretoparisi/subscriptions", "organizations_url": "https://api.github.com/users/loretoparisi/orgs", "repos_url": "https://api.github.com/users/loretoparisi/repos", "events_url": "https://api.github.com/users/loretoparisi/events{/privacy}", "received_events_url": "https://api.github.com/users/loretoparisi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-13T12:27:45Z", "updated_at": "2019-05-15T08:24:29Z", "closed_at": "2019-05-15T08:24:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to use `BASIC_PROTECTED_PATTERNS` and to extend it adding custom patterns like:\r\n\r\n```python\r\ntext = \"Don't let me find that\"\r\nlang = \"en\"\r\n\r\nmpn = MosesPunctNormalizer(lang = lang)\r\nmtok = MosesTokenizer(lang = lang)\r\n\r\npatterns =  MosesTokenizer.BASIC_PROTECTED_PATTERNS\r\ncontractionRegex = re.compile(r\"^[a-zA-Z]+\\'t\", flags=re.I | re.X | re.UNICODE)\r\npatterns.append( contractionRegex )\r\n\r\n# normalize\r\ntext =  mpn.normalize(text.lower())\r\n# tokenize\r\ntokens = mtok.tokenize(text, escape=False, return_str=False, aggressive_dash_splits=False, protected_patterns = patterns)\r\n```\r\n\r\nI'm not sure I'm doing the right thing. Here I would like to protect the pattern for all english words that have contractions and accent like `ain't, don't`, etc, in order to avoid to tokenize in the TreeBank way\r\n\r\n```\r\n['don', '\u2019', 't', 'let', 'me', 'find', 'that']\r\n```\r\n\r\ninstead doing\r\n\r\n```\r\n['don't', 'let', 'me', 'find', 'that']\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/49", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/49/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/49/events", "html_url": "https://github.com/alvations/sacremoses/issues/49", "id": 435468521, "node_id": "MDU6SXNzdWU0MzU0Njg1MjE=", "number": 49, "title": "Truecaser Test dependency on norvig.com/big.txt", "user": {"login": "DavidHarrison", "id": 2935011, "node_id": "MDQ6VXNlcjI5MzUwMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2935011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidHarrison", "html_url": "https://github.com/DavidHarrison", "followers_url": "https://api.github.com/users/DavidHarrison/followers", "following_url": "https://api.github.com/users/DavidHarrison/following{/other_user}", "gists_url": "https://api.github.com/users/DavidHarrison/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidHarrison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidHarrison/subscriptions", "organizations_url": "https://api.github.com/users/DavidHarrison/orgs", "repos_url": "https://api.github.com/users/DavidHarrison/repos", "events_url": "https://api.github.com/users/DavidHarrison/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidHarrison/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-21T02:38:32Z", "updated_at": "2019-07-16T03:23:16Z", "closed_at": "2019-07-16T03:23:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "norvig.com is currently down which is causing the tests in `sacremoses/test/test_truecaser.py` to fail if `big.txt` has not already been downloaded. I'm wondering if there is another source of the file that might be more reliable or whether it could be included in the repository (e.g. with Git LFS).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/44", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/44/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/44/events", "html_url": "https://github.com/alvations/sacremoses/issues/44", "id": 428304798, "node_id": "MDU6SXNzdWU0MjgzMDQ3OTg=", "number": 44, "title": "Support of Moses tokenizer Perl scripts", "user": {"login": "loretoparisi", "id": 163333, "node_id": "MDQ6VXNlcjE2MzMzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/163333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loretoparisi", "html_url": "https://github.com/loretoparisi", "followers_url": "https://api.github.com/users/loretoparisi/followers", "following_url": "https://api.github.com/users/loretoparisi/following{/other_user}", "gists_url": "https://api.github.com/users/loretoparisi/gists{/gist_id}", "starred_url": "https://api.github.com/users/loretoparisi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loretoparisi/subscriptions", "organizations_url": "https://api.github.com/users/loretoparisi/orgs", "repos_url": "https://api.github.com/users/loretoparisi/repos", "events_url": "https://api.github.com/users/loretoparisi/events{/privacy}", "received_events_url": "https://api.github.com/users/loretoparisi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-02T15:45:10Z", "updated_at": "2019-04-12T07:54:52Z", "closed_at": "2019-04-12T07:45:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my tokenization pipeline I run several Moses `perl` scripts like\r\n\r\n```python\r\ndef TokenLine(line, lang='en', lower_case=True, romanize=False):\r\n    assert lower_case, 'lower case is needed by all the models'\r\n    roman = lang if romanize else 'none'\r\n    tok = check_output(\r\n            REM_NON_PRINT_CHAR\r\n            + '|' + NORM_PUNC + lang\r\n            + '|' + DESCAPE\r\n            + '|' + MOSES_TOKENIZER + lang\r\n            input=line,\r\n            encoding='UTF-8',\r\n            shell=True)\r\n    return tok.strip()\r\n```\r\n\r\nwhere I have\r\n\r\n```\r\nMOSES_BDIR = os.path.join( TOOL_BASE_DIR, 'moses-tokenizer/tokenizer/')\r\nMOSES_TOKENIZER = MOSES_BDIR + 'tokenizer.perl -q -no-escape -threads 20 -l '\r\nNORM_PUNC = MOSES_BDIR + 'normalize-punctuation.perl -l '\r\nDESCAPE = MOSES_BDIR + 'deescape-special-chars.perl'\r\nREM_NON_PRINT_CHAR = MOSES_BDIR + 'remove-non-printing-char.perl'\r\n```\r\n\r\nSo I run `normalize-punctuation.perl`, `remove-non-printing-char.perl` and `tokenizer.perl`. Are all these script supported by Sacremoses?\r\n\r\nIn my understanding I should do like\r\n\r\n```python\r\nfrom sacremoses import MosesTokenizer\r\n\r\nmtok = MosesTokenizer(lang='fr')\r\ntokenized_docs = [mtok.tokenize(line) for line text.splitlines() ]\r\n```\r\n\r\nwhile from the command line options I can see the `--xml-unescape` to   unescape special characters for XML, that should match the `deescape-special-chars.perl` script. Regarding the non printing chars from the `remove-non-printing-char.perl` my understanding is that are handled by the api without other options like\r\n\r\n```python\r\n>>> mtok.tokenize(\"This , is a sentence with weird \\xbb symbols \\u2026 appearing everywhere \\xbf\")\r\n['This', ',', 'is', 'a', 'sentence', 'with', 'weird', '\u00bb', 'symbols', '\u2026', 'appearing', 'everywhere', '\u00bf']\r\n>>> \r\n```\r\n\r\nSo what I did was having the signature of `tokenize`\r\n\r\n```python\r\ndef tokenize(self, text, aggressive_dash_splits=False, return_str=False, escape=True):\r\n```\r\n\r\nto use it like\r\n\r\n```python\r\nmtok.tokenize(string, escape=True, return_str=True, aggressive_dash_splits=False)\r\n```\r\n\r\nbecause I want a string output (`return_str=True`), to not handle hypens (`aggressive_dash_splits=False`). Regarding the escaping of HTML chars in the perl version I don't know if `escape=True` of the python version, will match it, since here it handles the `XML` escaping.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/35", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/35/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/35/events", "html_url": "https://github.com/alvations/sacremoses/issues/35", "id": 418370024, "node_id": "MDU6SXNzdWU0MTgzNzAwMjQ=", "number": 35, "title": "Flag --protected from original Moses tokenizer", "user": {"login": "noe", "id": 4972, "node_id": "MDQ6VXNlcjQ5NzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/4972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noe", "html_url": "https://github.com/noe", "followers_url": "https://api.github.com/users/noe/followers", "following_url": "https://api.github.com/users/noe/following{/other_user}", "gists_url": "https://api.github.com/users/noe/gists{/gist_id}", "starred_url": "https://api.github.com/users/noe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noe/subscriptions", "organizations_url": "https://api.github.com/users/noe/orgs", "repos_url": "https://api.github.com/users/noe/repos", "events_url": "https://api.github.com/users/noe/events{/privacy}", "received_events_url": "https://api.github.com/users/noe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981947, "node_id": "MDU6TGFiZWw5MDc5ODE5NDc=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-07T15:29:00Z", "updated_at": "2019-05-15T00:00:02Z", "closed_at": "2019-05-15T00:00:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [original Moses tokenizer](https://github.com/moses-smt/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl) supports the `--protected` flag. It's effect is to accept a file with a list of regular expression that should be _protected_ from tokenization.\r\n\r\nUnder the hoods, the tokenizer masks each match of the regexes, then tokenizes, then unmasks.\r\n\r\nIs this functionality in the roadmap of sacremoses?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/34", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/34/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/34/events", "html_url": "https://github.com/alvations/sacremoses/issues/34", "id": 418125015, "node_id": "MDU6SXNzdWU0MTgxMjUwMTU=", "number": 34, "title": "Is is_lower() a typo for islower() in truecase.py?", "user": {"login": "michaele4321", "id": 10459179, "node_id": "MDQ6VXNlcjEwNDU5MTc5", "avatar_url": "https://avatars0.githubusercontent.com/u/10459179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaele4321", "html_url": "https://github.com/michaele4321", "followers_url": "https://api.github.com/users/michaele4321/followers", "following_url": "https://api.github.com/users/michaele4321/following{/other_user}", "gists_url": "https://api.github.com/users/michaele4321/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaele4321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaele4321/subscriptions", "organizations_url": "https://api.github.com/users/michaele4321/orgs", "repos_url": "https://api.github.com/users/michaele4321/repos", "events_url": "https://api.github.com/users/michaele4321/events{/privacy}", "received_events_url": "https://api.github.com/users/michaele4321/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-07T04:34:57Z", "updated_at": "2019-03-07T06:11:37Z", "closed_at": "2019-03-07T06:11:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to call MosesTruecaser().train with possibly_use_first_token=True I get this error:\r\n`AttributeError: 'str' object has no attribute 'is_lower'`\r\nfor line 103 in truecase.py which is:\r\n`if token[0].is_lower():`\r\n\r\nEither token[0] is not intended to be of type str  - or `is_lower() `should be `islower()`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/28", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/28/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/28/events", "html_url": "https://github.com/alvations/sacremoses/issues/28", "id": 416932911, "node_id": "MDU6SXNzdWU0MTY5MzI5MTE=", "number": 28, "title": "Encoding problem when calling from python script in Windows", "user": {"login": "mlforcada", "id": 227679, "node_id": "MDQ6VXNlcjIyNzY3OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/227679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mlforcada", "html_url": "https://github.com/mlforcada", "followers_url": "https://api.github.com/users/mlforcada/followers", "following_url": "https://api.github.com/users/mlforcada/following{/other_user}", "gists_url": "https://api.github.com/users/mlforcada/gists{/gist_id}", "starred_url": "https://api.github.com/users/mlforcada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mlforcada/subscriptions", "organizations_url": "https://api.github.com/users/mlforcada/orgs", "repos_url": "https://api.github.com/users/mlforcada/repos", "events_url": "https://api.github.com/users/mlforcada/events{/privacy}", "received_events_url": "https://api.github.com/users/mlforcada/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981943, "node_id": "MDU6TGFiZWw5MDc5ODE5NDM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 928790437, "node_id": "MDU6TGFiZWw5Mjg3OTA0Mzc=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/windows", "name": "windows", "color": "7ff991", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-04T18:26:50Z", "updated_at": "2019-03-07T06:12:11Z", "closed_at": "2019-03-07T06:12:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, @alvations.\r\nA student of mine and I are using the truecaser from a Python 3 script in windows. The script makes sure that all files are opened in utf-8 by redefining open as follows:\r\n```\r\nopen = functools.partial(open, encoding='utf8') \r\n```\r\nHowever, when the script executes this excerpt of code:\r\n```\r\n\tfor suffix in [args.l1, args.l2] :\r\n\t\tmtc = MosesTruecaser()\r\n\t\tmtc.train([line.split() for line in open(\"train.\"+changes_applied+suffix)], save_to=\"truecasemodel.\"+suffix)\r\n\t\tfor prefix in [\"train.\", \"dev.\", \"test.\"] :\r\n\t\t\twith open(prefix+changes_applied+\"true.\"+suffix,\"w\") as outfile :\r\n\t\t\t\t[outfile.write(mtc.truecase(line, return_str=True)+\"\\n\") for line in open(prefix+changes_applied+suffix)]\r\n```\r\nThe error occurs in the line\r\n```\r\n[outfile.write(mtc.truecase(line, return_str=True)+\"\\n\") for line in open(prefix+changes_applied+suffix)]\r\n```\r\nAnd the traceback is\r\n```\r\n(prueba) C:\\Users\\Guest\\nmt-for-translators\\globalvoices\\data>python ../../code/prepare.py GlobalVoices.es-fr fr es 130000 1500 1500 10000 --tokenize --truecase --bpe\r\nFicheros 'tokenizados'\r\nTraceback (most recent call last):\r\n  File \"../../code/prepare.py\", line 132, in <module>\r\n    mtc.train([line.split() for line in open(\"train.\"+changes_applied+suffix)], save_to=\"truecasemodel.\"+suffix)\r\n  File \"C:\\Users\\Guest\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\sacremoses\\truecase.py\", line 142, in train\r\n    self.model = self._train(documents, save_to, possibly_use_first_token, processes, progress_bar=progress_bar)\r\n  File \"C:\\Users\\Guest\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\sacremoses\\truecase.py\", line 132, in _train\r\n    self._save_model_from_casing(casing, save_to)\r\n  File \"C:\\Users\\Guest\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\sacremoses\\truecase.py\", line 324, in _save_model_from_casing\r\n    c\r\n  File \"C:\\Users\\Guest\\prueba\\lib\\encodings\\cp1252.py\", line 19, in encode\r\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\r\nUnicodeEncodeError: 'charmap' codec can't encode character '\\u011f' in position 4: character maps to <undefined>\r\n```\r\n\r\nWe found that '\\u011f' is the character '\u011f' in 'Erdo\u011fan', position 4 in the word. Clearly, the error occurs when printing to a file\r\n```\r\nprint(' '.join(tokens_counts), end='\\n', file=fout)\r\n```\r\nThe file fout is opened as follows in `truecase.py`\r\n```\r\nwith open(filename, 'w') as fout:\r\n```\r\nWe have tried setting PYTHONIOENCODING before calling the script, to no avail. \r\n\r\nOur python is:\r\n```\r\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 17:00:18) [MSC v.1900 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n```\r\nand it was installed from [This page](https://www.python.org/downloads/windows/). It also fails with 3.6.3 on a different machine.\r\nWe are using it inside a virtualenv.\r\nWe don't seem to find a way to solve this without modifying your code. \r\nThanks a million for your help.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/27", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/27/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/27/events", "html_url": "https://github.com/alvations/sacremoses/issues/27", "id": 414984729, "node_id": "MDU6SXNzdWU0MTQ5ODQ3Mjk=", "number": 27, "title": "Escaped characters not converted back into special characters after tokenization", "user": {"login": "BLKSerene", "id": 23695743, "node_id": "MDQ6VXNlcjIzNjk1NzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/23695743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BLKSerene", "html_url": "https://github.com/BLKSerene", "followers_url": "https://api.github.com/users/BLKSerene/followers", "following_url": "https://api.github.com/users/BLKSerene/following{/other_user}", "gists_url": "https://api.github.com/users/BLKSerene/gists{/gist_id}", "starred_url": "https://api.github.com/users/BLKSerene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BLKSerene/subscriptions", "organizations_url": "https://api.github.com/users/BLKSerene/orgs", "repos_url": "https://api.github.com/users/BLKSerene/repos", "events_url": "https://api.github.com/users/BLKSerene/events{/privacy}", "received_events_url": "https://api.github.com/users/BLKSerene/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 907981953, "node_id": "MDU6TGFiZWw5MDc5ODE5NTM=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-27T07:38:48Z", "updated_at": "2019-03-04T08:35:14Z", "closed_at": "2019-03-04T01:24:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I'm using SacreMoses 0.0.7, special characters like `[` `]` `<` `>` are escaped when the text is being tokenized (using `MosesTokenizer.tokenize`), and are left as is in the results (the examples in the doc show the same behavior).\r\n\r\nIs this the expected behavior and is there any reason to do this? (For example, I would expect `&apos;s` to be converted back to `'s` in the results.)\r\n\r\nTo add, `MosesTokenizer.penn_tokenize` would convert square brackets to `-LSB-` and `-RSB-`.\r\n\r\n```\r\n>>> import sacremoses\r\n>>> text = 'English is a West Germanic language that was first spoken in early medieval England and eventually became a global lingua franca.[4][5]'\r\n>>> moses_tokenizer = sacremoses.MosesTokenizer(lang = 'en')\r\n>>> moses_tokenizer.tokenize(text)\r\n['English', 'is', 'a', 'West', 'Germanic', 'language', 'that', 'was', 'first', 'spoken', 'in', 'early', 'medieval', 'England', 'and', 'eventually', 'became', 'a', 'global', 'lingua', 'franca', '.', '&#91;', '4', '&#93;', '&#91;', '5', '&#93;']\r\n>>> moses_tokenizer.penn_tokenize(text)\r\n['English', 'is', 'a', 'West', 'Germanic', 'language', 'that', 'was', 'first', 'spoken', 'in', 'early', 'medieval', 'England', 'and', 'eventually', 'became', 'a', 'global', 'lingua', 'franca', '.', '-LSB-', '4', '-RSB-', '-LSB-', '5', '-RSB-']\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/26", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/26/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/26/events", "html_url": "https://github.com/alvations/sacremoses/issues/26", "id": 412617646, "node_id": "MDU6SXNzdWU0MTI2MTc2NDY=", "number": 26, "title": "Initial capitals never regenerated (truecaser)", "user": {"login": "mlforcada", "id": 227679, "node_id": "MDQ6VXNlcjIyNzY3OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/227679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mlforcada", "html_url": "https://github.com/mlforcada", "followers_url": "https://api.github.com/users/mlforcada/followers", "following_url": "https://api.github.com/users/mlforcada/following{/other_user}", "gists_url": "https://api.github.com/users/mlforcada/gists{/gist_id}", "starred_url": "https://api.github.com/users/mlforcada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mlforcada/subscriptions", "organizations_url": "https://api.github.com/users/mlforcada/orgs", "repos_url": "https://api.github.com/users/mlforcada/repos", "events_url": "https://api.github.com/users/mlforcada/events{/privacy}", "received_events_url": "https://api.github.com/users/mlforcada/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-20T20:39:06Z", "updated_at": "2019-02-21T17:35:42Z", "closed_at": "2019-02-21T17:35:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Do sentences have to be delimited in some way? I have trained the truecaser with a 3032679-word tokenized text in Spanish (1 sentence per line). It generates a model which has 102972 entries (is it a unigram-based truecaser?). Then I use it to truecase a similar text in Spanish which has all been lowercased. The case of many proper nouns, etc., is correctly recovered, but nothing occurs at the beginning of sentences. Am I doing something wrong? Thanks a million!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/25", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/25/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/25/events", "html_url": "https://github.com/alvations/sacremoses/issues/25", "id": 403032985, "node_id": "MDU6SXNzdWU0MDMwMzI5ODU=", "number": 25, "title": "Train truecaser CLI should have progress bar", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-25T07:12:58Z", "updated_at": "2019-03-06T07:53:33Z", "closed_at": "2019-03-06T07:53:33Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Currently all other CLI shows some sort of a progressbar except for `train-truecase`, it's not hard to add a progress bar for CLI. Lets do that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/23", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/23/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/23/events", "html_url": "https://github.com/alvations/sacremoses/issues/23", "id": 403031092, "node_id": "MDU6SXNzdWU0MDMwMzEwOTI=", "number": 23, "title": "Language option -l not available on CLI", "user": {"login": "alvations", "id": 1050316, "node_id": "MDQ6VXNlcjEwNTAzMTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1050316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvations", "html_url": "https://github.com/alvations", "followers_url": "https://api.github.com/users/alvations/followers", "following_url": "https://api.github.com/users/alvations/following{/other_user}", "gists_url": "https://api.github.com/users/alvations/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvations/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvations/subscriptions", "organizations_url": "https://api.github.com/users/alvations/orgs", "repos_url": "https://api.github.com/users/alvations/repos", "events_url": "https://api.github.com/users/alvations/events{/privacy}", "received_events_url": "https://api.github.com/users/alvations/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-25T07:04:33Z", "updated_at": "2019-03-06T08:09:23Z", "closed_at": "2019-03-06T08:09:23Z", "author_association": "OWNER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/19", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/19/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/19/events", "html_url": "https://github.com/alvations/sacremoses/issues/19", "id": 401892801, "node_id": "MDU6SXNzdWU0MDE4OTI4MDE=", "number": 19, "title": "Generic apostroph is not correctly tokenized ", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-22T18:20:55Z", "updated_at": "2019-03-19T07:37:09Z", "closed_at": "2019-03-19T07:37:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The apostroph is not correctly tokenized for other languages than english, french and italian.\r\n\r\nProblem is line 171 in `tokenize.py` \r\n```\r\nNON_SPECIFIC_APOSTROPHE = r\"\\'\", r\" \\' \"\r\n```\r\nThe second apostophe must not be escaped, because the backslash in the substitution is read as literal character and not as an escape character. The first backlash is not nessecary.\r\n\r\n```\r\nNON_SPECIFIC_APOSTROPHE = r\"'\", \" ' \"\r\n```\r\n\r\nshould work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/18", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/18/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/18/events", "html_url": "https://github.com/alvations/sacremoses/issues/18", "id": 401419080, "node_id": "MDU6SXNzdWU0MDE0MTkwODA=", "number": 18, "title": "Loading existing truecase models is broken", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-21T16:06:59Z", "updated_at": "2019-03-04T01:26:07Z", "closed_at": "2019-03-04T01:26:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "observed counts should be casted to int for the `_casing_to_model` method to work.\r\n\r\n```python\r\ncasing[token.lower()][token] = int(count)\r\n```\r\nElse, the counter sorting is done lexically, resulting in counts with less digits than the second highest count to be set as `best`, e.g. `\"400\"<\"40\"`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/16", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/16/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/16/events", "html_url": "https://github.com/alvations/sacremoses/issues/16", "id": 401389858, "node_id": "MDU6SXNzdWU0MDEzODk4NTg=", "number": 16, "title": "Truecaser Known Case Tokens", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-21T14:58:42Z", "updated_at": "2019-03-19T07:14:37Z", "closed_at": "2019-03-19T07:14:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If a word is not the first word of the sentence, and the word was seen with this exact casing in the training material, the original script does not recase the word.\r\n\r\ni.e.\r\n```bash\r\nperl train - truecaser.perl --model big.model --corpus big.txt\r\n```\r\n```bash\r\necho \"THE ADVENTURES OF SHERLOCK HOLMES\" | perl truecase.perl --model big.model\r\nthe ADVENTURES OF SHERLOCK HOLMES\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/15", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/15/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/15/events", "html_url": "https://github.com/alvations/sacremoses/issues/15", "id": 401303087, "node_id": "MDU6SXNzdWU0MDEzMDMwODc=", "number": 15, "title": "Truecaser Save to File", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-21T11:09:42Z", "updated_at": "2019-07-30T04:44:34Z", "closed_at": "2019-03-04T01:25:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Saving a previously trained model like shown in the readme does not work.\r\n```python\r\nmtr = MosesTruecaser()\r\nmtr.train('big.txt')  # should be mtr.train_from_file('big.txt')?\r\nmtr._save_model('big.truecasemodel')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/13", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/13/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/13/events", "html_url": "https://github.com/alvations/sacremoses/issues/13", "id": 393872816, "node_id": "MDU6SXNzdWUzOTM4NzI4MTY=", "number": 13, "title": "Update sacremoses.util.CJKChars and is_cjk", "user": {"login": "BLKSerene", "id": 23695743, "node_id": "MDQ6VXNlcjIzNjk1NzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/23695743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BLKSerene", "html_url": "https://github.com/BLKSerene", "followers_url": "https://api.github.com/users/BLKSerene/followers", "following_url": "https://api.github.com/users/BLKSerene/following{/other_user}", "gists_url": "https://api.github.com/users/BLKSerene/gists{/gist_id}", "starred_url": "https://api.github.com/users/BLKSerene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BLKSerene/subscriptions", "organizations_url": "https://api.github.com/users/BLKSerene/orgs", "repos_url": "https://api.github.com/users/BLKSerene/repos", "events_url": "https://api.github.com/users/BLKSerene/events{/privacy}", "received_events_url": "https://api.github.com/users/BLKSerene/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-24T12:27:12Z", "updated_at": "2019-01-03T06:00:03Z", "closed_at": "2019-01-03T06:00:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently `sacremoses.util.is_cjk` treats japanese kanas as CJK characters which I suppose should be excluded.\r\n\r\nMaybe it is better to use https://en.wikipedia.org/wiki/Unicode_block as the reference instead of https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane (given in the docstring) and enumerate unicode code points of all character under \"Hangul\" and \"Han\" scripts.\r\n\r\nAnd I'm not sure whether Tibetan characters and scripts like [Nushu (\u5973\u4e66)](https://en.wikipedia.org/wiki/Nushu_(Unicode_block)) should be treated as CJK characters (I'm not an expert in unicode).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/8", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/8/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/8/events", "html_url": "https://github.com/alvations/sacremoses/issues/8", "id": 381982184, "node_id": "MDU6SXNzdWUzODE5ODIxODQ=", "number": 8, "title": "Bug for opening brackets", "user": {"login": "pypae", "id": 1078105, "node_id": "MDQ6VXNlcjEwNzgxMDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1078105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypae", "html_url": "https://github.com/pypae", "followers_url": "https://api.github.com/users/pypae/followers", "following_url": "https://api.github.com/users/pypae/following{/other_user}", "gists_url": "https://api.github.com/users/pypae/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypae/subscriptions", "organizations_url": "https://api.github.com/users/pypae/orgs", "repos_url": "https://api.github.com/users/pypae/repos", "events_url": "https://api.github.com/users/pypae/events{/privacy}", "received_events_url": "https://api.github.com/users/pypae/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-18T17:39:58Z", "updated_at": "2018-12-17T10:24:58Z", "closed_at": "2018-12-17T10:24:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Opening brackets are not detokenized correctly.\r\n\r\nThe following testcase fails:\r\n\r\n```\r\ntokenizer = MosesTokenizer()\r\ndetokenizer = MosesDetokenizer()\r\n\r\ntext = \"By the mid 1990s a version of the game became a Latvian television series (with a parliamentary setting, and played by Latvian celebrities).\"\r\n\r\nassert detokenizer.detokenize(tokenizer.tokenize(text)) == text\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/7", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/7/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/7/events", "html_url": "https://github.com/alvations/sacremoses/issues/7", "id": 369879738, "node_id": "MDU6SXNzdWUzNjk4Nzk3Mzg=", "number": 7, "title": "Add a license file and copyright infomation to the repository", "user": {"login": "BLKSerene", "id": 23695743, "node_id": "MDQ6VXNlcjIzNjk1NzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/23695743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BLKSerene", "html_url": "https://github.com/BLKSerene", "followers_url": "https://api.github.com/users/BLKSerene/followers", "following_url": "https://api.github.com/users/BLKSerene/following{/other_user}", "gists_url": "https://api.github.com/users/BLKSerene/gists{/gist_id}", "starred_url": "https://api.github.com/users/BLKSerene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BLKSerene/subscriptions", "organizations_url": "https://api.github.com/users/BLKSerene/orgs", "repos_url": "https://api.github.com/users/BLKSerene/repos", "events_url": "https://api.github.com/users/BLKSerene/events{/privacy}", "received_events_url": "https://api.github.com/users/BLKSerene/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-14T08:21:00Z", "updated_at": "2018-12-24T14:12:05Z", "closed_at": "2018-12-24T14:12:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I'm using the python port of Moses Tokenizer in my project, I would appreciate it if you add a LICENSE file and copyright information to the repository.\r\n\r\nAnd what's the official name for this python port of Moses Tokenizer, `sacremoses` (the module name) or `mosestokenizer` (as in the title of the doc)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/4", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/4/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/4/events", "html_url": "https://github.com/alvations/sacremoses/issues/4", "id": 348175561, "node_id": "MDU6SXNzdWUzNDgxNzU1NjE=", "number": 4, "title": "Class issue for Python2", "user": {"login": "keon", "id": 10793962, "node_id": "MDQ6VXNlcjEwNzkzOTYy", "avatar_url": "https://avatars0.githubusercontent.com/u/10793962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keon", "html_url": "https://github.com/keon", "followers_url": "https://api.github.com/users/keon/followers", "following_url": "https://api.github.com/users/keon/following{/other_user}", "gists_url": "https://api.github.com/users/keon/gists{/gist_id}", "starred_url": "https://api.github.com/users/keon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keon/subscriptions", "organizations_url": "https://api.github.com/users/keon/orgs", "repos_url": "https://api.github.com/users/keon/repos", "events_url": "https://api.github.com/users/keon/events{/privacy}", "received_events_url": "https://api.github.com/users/keon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-07T05:46:36Z", "updated_at": "2018-09-20T04:58:26Z", "closed_at": "2018-09-20T04:58:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "@alvations \r\npytorch/text (torchtext) library is looking to migrate to sacremoses\r\nbut we are experiencing following error.\r\n\r\nhttps://travis-ci.org/pytorch/text/jobs/387871950", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/2", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/2/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/2/events", "html_url": "https://github.com/alvations/sacremoses/issues/2", "id": 335951228, "node_id": "MDU6SXNzdWUzMzU5NTEyMjg=", "number": 2, "title": "Unable to create MosesTokenizer object in Python 2.7", "user": {"login": "sidhiadkoli", "id": 5166552, "node_id": "MDQ6VXNlcjUxNjY1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5166552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sidhiadkoli", "html_url": "https://github.com/sidhiadkoli", "followers_url": "https://api.github.com/users/sidhiadkoli/followers", "following_url": "https://api.github.com/users/sidhiadkoli/following{/other_user}", "gists_url": "https://api.github.com/users/sidhiadkoli/gists{/gist_id}", "starred_url": "https://api.github.com/users/sidhiadkoli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sidhiadkoli/subscriptions", "organizations_url": "https://api.github.com/users/sidhiadkoli/orgs", "repos_url": "https://api.github.com/users/sidhiadkoli/repos", "events_url": "https://api.github.com/users/sidhiadkoli/events{/privacy}", "received_events_url": "https://api.github.com/users/sidhiadkoli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-26T19:01:12Z", "updated_at": "2018-08-07T07:12:22Z", "closed_at": "2018-08-07T07:12:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am unable to create MosesTokenizer or MosesDetokenizer objects in Python 2.7.\r\n\r\n```python\r\n>>> from sacremoses import MosesTokenizer        \r\n>>> mt = MosesTokenizer()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/sidhi/.local/lib/python2.7/site-packages/sacremoses/tokenize.py\", line 209, in __init__\r\n    super(MosesTokenizer, self).__init__()\r\nTypeError: super() argument 1 must be type, not classobj\r\n```\r\n\r\nIs this module supported for Python 2.7?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/alvations/sacremoses/issues/1", "repository_url": "https://api.github.com/repos/alvations/sacremoses", "labels_url": "https://api.github.com/repos/alvations/sacremoses/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/alvations/sacremoses/issues/1/comments", "events_url": "https://api.github.com/repos/alvations/sacremoses/issues/1/events", "html_url": "https://github.com/alvations/sacremoses/issues/1", "id": 321565695, "node_id": "MDU6SXNzdWUzMjE1NjU2OTU=", "number": 1, "title": "Error when trying to import Tokenizer", "user": {"login": "janwendt", "id": 9415779, "node_id": "MDQ6VXNlcjk0MTU3Nzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9415779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janwendt", "html_url": "https://github.com/janwendt", "followers_url": "https://api.github.com/users/janwendt/followers", "following_url": "https://api.github.com/users/janwendt/following{/other_user}", "gists_url": "https://api.github.com/users/janwendt/gists{/gist_id}", "starred_url": "https://api.github.com/users/janwendt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janwendt/subscriptions", "organizations_url": "https://api.github.com/users/janwendt/orgs", "repos_url": "https://api.github.com/users/janwendt/repos", "events_url": "https://api.github.com/users/janwendt/events{/privacy}", "received_events_url": "https://api.github.com/users/janwendt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 928790437, "node_id": "MDU6TGFiZWw5Mjg3OTA0Mzc=", "url": "https://api.github.com/repos/alvations/sacremoses/labels/windows", "name": "windows", "color": "7ff991", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-05-09T13:15:28Z", "updated_at": "2018-12-17T16:48:03Z", "closed_at": "2018-12-17T16:48:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "After the import \"from sacremoses import MosesTokenizer\" the following error occurs:\r\n ```\r\nTraceback (most recent call last):\r\n  File \"moses.py\", line 1, in <module>\r\n    from sacremoses import MosesTokenizer\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\sacremoses\\__init__.py\", line 3, in <module>\r\n    from sacremoses.tokenize import *\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\sacremoses\\tokenize.py\", line 16, in <module>\r\n    class MosesTokenizer:\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\sacremoses\\tokenize.py\", line 22, in MosesTokenizer\r\n    IsN = text_type(''.join(perluniprops.chars('IsN')))\r\n  File \"C:\\Anaconda3\\lib\\site-packages\\sacremoses\\corpus.py\", line 38, in chars\r\n    for ch in fin.read().strip():\r\n  File \"C:\\Anaconda3\\lib\\encodings\\cp1252.py\", line 23, in decode\r\n    return codecs.charmap_decode(input,self.errors,decoding_table)[0]\r\nUnicodeDecodeError: 'charmap' codec can't decode byte 0x81 in position 65: character maps to <undefined>\r\n```", "performed_via_github_app": null, "score": 1.0}]}