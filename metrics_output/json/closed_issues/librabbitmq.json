{"total_count": 68, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/celery/librabbitmq/issues/153", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/153/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/153/events", "html_url": "https://github.com/celery/librabbitmq/issues/153", "id": 617174043, "node_id": "MDU6SXNzdWU2MTcxNzQwNDM=", "number": 153, "title": "Librabbitmq fails to install in python 3.7 on debian buster when make is in path", "user": {"login": "potiuk", "id": 595491, "node_id": "MDQ6VXNlcjU5NTQ5MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/595491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/potiuk", "html_url": "https://github.com/potiuk", "followers_url": "https://api.github.com/users/potiuk/followers", "following_url": "https://api.github.com/users/potiuk/following{/other_user}", "gists_url": "https://api.github.com/users/potiuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/potiuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/potiuk/subscriptions", "organizations_url": "https://api.github.com/users/potiuk/orgs", "repos_url": "https://api.github.com/users/potiuk/repos", "events_url": "https://api.github.com/users/potiuk/events{/privacy}", "received_events_url": "https://api.github.com/users/potiuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-05-13T06:18:09Z", "updated_at": "2020-05-13T09:01:48Z", "closed_at": "2020-05-13T08:16:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "When make can be found in the path, librabbitmq fails to install in python3.7 variant on debian buster. It tries to recompile librabbitmq-c and fails. When make is not found in path, it installs correctly from wheels.\r\n\r\nEnvironment:\r\n\r\nDocker image python:3.7-slim-buster\r\n\r\nThis works fine:\r\n\r\n```\r\n3z [jarek:~] [airflow-3.6] 127 % docker run --entrypoint bash -it python:3.7-slim-buster\r\nroot@42dab7abf345:/# pip install librabbitmq\r\nCollecting librabbitmq\r\n  Downloading librabbitmq-2.0.0.tar.gz (42 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 42 kB 667 kB/s \r\nCollecting amqp>=1.4.6\r\n  Downloading amqp-2.5.2-py2.py3-none-any.whl (49 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 49 kB 4.0 MB/s \r\nCollecting six>=1.0.0\r\n  Downloading six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nCollecting vine<5.0.0a1,>=1.1.3\r\n  Downloading vine-1.3.0-py2.py3-none-any.whl (14 kB)\r\nBuilding wheels for collected packages: librabbitmq\r\n  Building wheel for librabbitmq (setup.py) ... done\r\n  Created wheel for librabbitmq: filename=librabbitmq-2.0.0-py3-none-any.whl size=18193 sha256=3aec6d28544fc550402562f48a4beb1905354754f16883c33ff60fdd515319a9\r\n  Stored in directory: /root/.cache/pip/wheels/da/77/bf/93ad3b74b6801c51fcd184fe6b330e842b7c73810140463c04\r\nSuccessfully built librabbitmq\r\nInstalling collected packages: vine, amqp, six, librabbitmq\r\nSuccessfully installed amqp-2.5.2 librabbitmq-2.0.0 six-1.14.0 vine-1.3.0\r\nroot@42dab7abf345:/# \r\n\r\n```\r\n\r\nThis doesn't:\r\n\r\n```\r\n3z [jarek:~] [airflow-3.6] 48s 1 % docker run --entrypoint bash -it python:3.7-slim-buster\r\nroot@a8edcaf9a7eb:/# apt update\r\nGet:1 http://security.debian.org/debian-security buster/updates InRelease [65.4 kB]\r\nGet:2 http://deb.debian.org/debian buster InRelease [121 kB]                               \r\nGet:3 http://deb.debian.org/debian buster-updates InRelease [49.3 kB]                      \r\nGet:4 http://security.debian.org/debian-security buster/updates/main amd64 Packages [197 kB]\r\nGet:5 http://deb.debian.org/debian buster/main amd64 Packages [7905 kB]\r\nGet:6 http://deb.debian.org/debian buster-updates/main amd64 Packages [7380 B]\r\nFetched 8345 kB in 2s (4329 kB/s)                        \r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\n4 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\n\r\nroot@a8edcaf9a7eb:/# apt install build-essential git\r\n\r\n..... lots of output .....\r\n\r\n\r\nroot@a8edcaf9a7eb:/# pip install librabbitmq\r\nCollecting librabbitmq\r\n  Downloading librabbitmq-2.0.0.tar.gz (42 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 42 kB 768 kB/s \r\nCollecting amqp>=1.4.6\r\n  Downloading amqp-2.5.2-py2.py3-none-any.whl (49 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 49 kB 3.6 MB/s \r\nCollecting six>=1.0.0\r\n  Downloading six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nCollecting vine<5.0.0a1,>=1.1.3\r\n  Downloading vine-1.3.0-py2.py3-none-any.whl (14 kB)\r\nBuilding wheels for collected packages: librabbitmq\r\n  Building wheel for librabbitmq (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /usr/local/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-511qt4su/librabbitmq/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-511qt4su/librabbitmq/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-utcex30b\r\n       cwd: /tmp/pip-install-511qt4su/librabbitmq/\r\n  Complete output (109 lines):\r\n  /tmp/pip-install-511qt4su/librabbitmq/setup.py:167: DeprecationWarning: 'U' mode is deprecated\r\n    long_description = open(os.path.join(BASE_PATH, 'README.rst'), 'U').read()\r\n  running build\r\n  - pull submodule rabbitmq-c...\r\n  Cloning into 'rabbitmq-c'...\r\n  Note: checking out 'caad0ef1533783729c7644a226c989c79b4c497b'.\r\n  \r\n  You are in 'detached HEAD' state. You can look around, make experimental\r\n  changes and commit them, and you can discard any commits you make in this\r\n  state without impacting any branches by performing another checkout.\r\n  \r\n  If you want to create a new branch to retain commits you create, you may\r\n  do so (now or later) by using -b with the checkout command again. Example:\r\n  \r\n    git checkout -b <new-branch-name>\r\n  \r\n  - autoreconf\r\n  sh: 1: autoreconf: not found\r\n  - configure rabbitmq-c...\r\n  /bin/sh: 0: Can't open configure\r\n  running bdist_wheel\r\n  installing to build/bdist.linux-x86_64/wheel\r\n  running install\r\n  running install_lib\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.7\r\n  creating build/lib.linux-x86_64-3.7/librabbitmq\r\n  copying librabbitmq/__init__.py -> build/lib.linux-x86_64-3.7/librabbitmq\r\n  creating build/lib.linux-x86_64-3.7/funtests\r\n  copying funtests/disabled_basic_get_leak.py -> build/lib.linux-x86_64-3.7/funtests\r\n  copying funtests/__init__.py -> build/lib.linux-x86_64-3.7/funtests\r\n  copying funtests/config.py -> build/lib.linux-x86_64-3.7/funtests\r\n  copying funtests/setup.py -> build/lib.linux-x86_64-3.7/funtests\r\n  creating build/lib.linux-x86_64-3.7/funtests/tests\r\n  copying funtests/tests/test_channel_errors.py -> build/lib.linux-x86_64-3.7/funtests/tests\r\n  copying funtests/tests/__init__.py -> build/lib.linux-x86_64-3.7/funtests/tests\r\n  running build_ext\r\n  building '_librabbitmq' extension\r\n  creating build/temp.linux-x86_64-3.7\r\n  creating build/temp.linux-x86_64-3.7/tmp\r\n  creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su\r\n  creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq\r\n  creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/Modules\r\n  creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq\r\n  creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c\r\n  creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.o\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyDict_ToAMQTable\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison of integer expressions of different signedness: \u2018uint64_t\u2019 {aka \u2018long unsigned int\u2019} and \u2018int\u2019 [-Wsign-compare]\r\n               if (clong_value == -1)\r\n                               ^~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyIter_ToAMQArray\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:365:12: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\r\n       while (item = PyIter_Next(iterator)) {\r\n              ^~~~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: label \u2018error\u2019 defined but not used [-Wunused-label]\r\n   error:\r\n   ^~~~~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_ConnectionType_init\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: returning \u2018PyObject *\u2019 {aka \u2018struct _object *\u2019} from a function with return type \u2018int\u2019 makes integer from pointer without a cast [-Wint-conversion]\r\n           return PyErr_NoMemory();\r\n                  ^~~~~~~~~~~~~~~~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_close\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1117:22: warning: variable \u2018reply\u2019 set but not used [-Wunused-but-set-variable]\r\n       amqp_rpc_reply_t reply;\r\n                        ^~~~~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_recv\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function \u2018amqp_simple_wait_frame_on_channel\u2019; did you mean \u2018amqp_simple_wait_frame_noblock\u2019? [-Wimplicit-function-declaration]\r\n               amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n               amqp_simple_wait_frame_noblock\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_cancel\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1949:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\r\n       amqp_basic_cancel_ok_t *ok;\r\n                               ^~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_flow\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:2074:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\r\n       amqp_channel_flow_ok_t *ok;\r\n                               ^~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_recover\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:2107:30: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\r\n       amqp_basic_recover_ok_t *ok;\r\n                                ^~\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: At top level:\r\n  /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:526:17: warning: \u2018AMQTable_toPyDict\u2019 is static but used in inline function \u2018basic_properties_to_PyDict\u2019 which is not static\r\n           value = AMQTable_toPyDict(&(props->headers));\r\n                   ^~~~~~~~~~~~~~~~~\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.o\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.o\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_poll\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n   # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n     ^~~~~\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_login_inner\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: \u2018AMQ_PLATFORM\u2019 undeclared (first use in this function)\r\n           amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n                                                       ^~~~~~~~~~~~\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_poll\u2019:\r\n  /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n   }\r\n   ^\r\n  error: command 'gcc' failed with exit status 1\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for librabbitmq\r\n  Running setup.py clean for librabbitmq\r\nFailed to build librabbitmq\r\nInstalling collected packages: vine, amqp, six, librabbitmq\r\n    Running setup.py install for librabbitmq ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/local/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-511qt4su/librabbitmq/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-511qt4su/librabbitmq/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-lsqagyp_/install-record.txt --single-version-externally-managed --compile --install-headers /usr/local/include/python3.7m/librabbitmq\r\n         cwd: /tmp/pip-install-511qt4su/librabbitmq/\r\n    Complete output (94 lines):\r\n    /tmp/pip-install-511qt4su/librabbitmq/setup.py:167: DeprecationWarning: 'U' mode is deprecated\r\n      long_description = open(os.path.join(BASE_PATH, 'README.rst'), 'U').read()\r\n    running build\r\n    - autoreconf\r\n    sh: 1: autoreconf: not found\r\n    - configure rabbitmq-c...\r\n    /bin/sh: 0: Can't open configure\r\n    running install\r\n    running install_lib\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.7\r\n    creating build/lib.linux-x86_64-3.7/librabbitmq\r\n    copying librabbitmq/__init__.py -> build/lib.linux-x86_64-3.7/librabbitmq\r\n    creating build/lib.linux-x86_64-3.7/funtests\r\n    copying funtests/disabled_basic_get_leak.py -> build/lib.linux-x86_64-3.7/funtests\r\n    copying funtests/__init__.py -> build/lib.linux-x86_64-3.7/funtests\r\n    copying funtests/config.py -> build/lib.linux-x86_64-3.7/funtests\r\n    copying funtests/setup.py -> build/lib.linux-x86_64-3.7/funtests\r\n    creating build/lib.linux-x86_64-3.7/funtests/tests\r\n    copying funtests/tests/test_channel_errors.py -> build/lib.linux-x86_64-3.7/funtests/tests\r\n    copying funtests/tests/__init__.py -> build/lib.linux-x86_64-3.7/funtests/tests\r\n    running build_ext\r\n    building '_librabbitmq' extension\r\n    creating build/temp.linux-x86_64-3.7\r\n    creating build/temp.linux-x86_64-3.7/tmp\r\n    creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su\r\n    creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq\r\n    creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/Modules\r\n    creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq\r\n    creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c\r\n    creating build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.o\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyDict_ToAMQTable\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison of integer expressions of different signedness: \u2018uint64_t\u2019 {aka \u2018long unsigned int\u2019} and \u2018int\u2019 [-Wsign-compare]\r\n                 if (clong_value == -1)\r\n                                 ^~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyIter_ToAMQArray\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:365:12: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\r\n         while (item = PyIter_Next(iterator)) {\r\n                ^~~~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: label \u2018error\u2019 defined but not used [-Wunused-label]\r\n     error:\r\n     ^~~~~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_ConnectionType_init\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: returning \u2018PyObject *\u2019 {aka \u2018struct _object *\u2019} from a function with return type \u2018int\u2019 makes integer from pointer without a cast [-Wint-conversion]\r\n             return PyErr_NoMemory();\r\n                    ^~~~~~~~~~~~~~~~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_close\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1117:22: warning: variable \u2018reply\u2019 set but not used [-Wunused-but-set-variable]\r\n         amqp_rpc_reply_t reply;\r\n                          ^~~~~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_recv\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function \u2018amqp_simple_wait_frame_on_channel\u2019; did you mean \u2018amqp_simple_wait_frame_noblock\u2019? [-Wimplicit-function-declaration]\r\n                 amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n                 amqp_simple_wait_frame_noblock\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_cancel\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:1949:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\r\n         amqp_basic_cancel_ok_t *ok;\r\n                                 ^~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_flow\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:2074:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\r\n         amqp_channel_flow_ok_t *ok;\r\n                                 ^~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_recover\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:2107:30: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\r\n         amqp_basic_recover_ok_t *ok;\r\n                                  ^~\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c: At top level:\r\n    /tmp/pip-install-511qt4su/librabbitmq/Modules/_librabbitmq/connection.c:526:17: warning: \u2018AMQTable_toPyDict\u2019 is static but used in inline function \u2018basic_properties_to_PyDict\u2019 which is not static\r\n             value = AMQTable_toPyDict(&(props->headers));\r\n                     ^~~~~~~~~~~~~~~~~\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.o\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.o\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c -I/usr/local/include/python3.7m -c /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-3.7/tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_poll\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n     # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n       ^~~~~\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_login_inner\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: \u2018AMQ_PLATFORM\u2019 undeclared (first use in this function)\r\n             amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n                                                         ^~~~~~~~~~~~\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_poll\u2019:\r\n    /tmp/pip-install-511qt4su/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n     }\r\n     ^\r\n    error: command 'gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/local/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-511qt4su/librabbitmq/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-511qt4su/librabbitmq/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-lsqagyp_/install-record.txt --single-version-externally-managed --compile --install-headers /usr/local/include/python3.7m/librabbitmq Check the logs for full command output.\r\nroot@a8edcaf9a7eb:/# \r\n\r\n```\r\n\r\nI found that I can still correctly install librabbitmq by renaming `/usr/bin/make` temporarily\r\n\r\n```\r\n\r\n```\r\n\r\n\r\nNote that in python:3.6-slim-buster image the same sequence of commands leads to successfully installing librabbitmq from wheels without recompiling it.\r\n\r\n```\r\nroot@488db7602d26:/# pip install librabbitmq\r\nCollecting librabbitmq\r\n  Downloading librabbitmq-2.0.0-cp36-cp36m-manylinux1_x86_64.whl (218 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 218 kB 1.2 MB/s \r\nCollecting six>=1.0.0\r\n  Downloading six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nCollecting amqp>=1.4.6\r\n  Downloading amqp-2.5.2-py2.py3-none-any.whl (49 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 49 kB 6.6 MB/s \r\nCollecting vine<5.0.0a1,>=1.1.3\r\n  Downloading vine-1.3.0-py2.py3-none-any.whl (14 kB)\r\nInstalling collected packages: six, vine, amqp, librabbitmq\r\nSuccessfully installed amqp-2.5.2 librabbitmq-2.0.0 six-1.14.0 vine-1.3.0\r\nroot@488db7602d26:/# \r\n```\r\n\r\nI presume the problem is that there are no pre-compiled py37 and above wheels for librabbitmq and then it tries to compile it on its own.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/146", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/146/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/146/events", "html_url": "https://github.com/celery/librabbitmq/issues/146", "id": 588436292, "node_id": "MDU6SXNzdWU1ODg0MzYyOTI=", "number": 146, "title": "manylinux1 fails", "user": {"login": "henryykt", "id": 64755, "node_id": "MDQ6VXNlcjY0NzU1", "avatar_url": "https://avatars3.githubusercontent.com/u/64755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henryykt", "html_url": "https://github.com/henryykt", "followers_url": "https://api.github.com/users/henryykt/followers", "following_url": "https://api.github.com/users/henryykt/following{/other_user}", "gists_url": "https://api.github.com/users/henryykt/gists{/gist_id}", "starred_url": "https://api.github.com/users/henryykt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henryykt/subscriptions", "organizations_url": "https://api.github.com/users/henryykt/orgs", "repos_url": "https://api.github.com/users/henryykt/repos", "events_url": "https://api.github.com/users/henryykt/events{/privacy}", "received_events_url": "https://api.github.com/users/henryykt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-26T13:50:27Z", "updated_at": "2020-03-27T13:26:06Z", "closed_at": "2020-03-27T13:26:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running `sh manylinux1` in the master branch fails:\r\n\r\n\t+ for PYBIN in '/opt/python/*/bin'\r\n\t+ /opt/python/cp27-cp27m/bin/pip wheel /workspace/ -w wheelhouse/\r\n\tDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7.\r\n\tProcessing /workspace\r\n\t\tERROR: Complete output from command python setup.py egg_info:\r\n\t\tERROR: Traceback (most recent call last):\r\n\t\t  File \"<string>\", line 1, in <module>\r\n\t\t  File \"/tmp/pip-req-build-Bgs1KT/setup.py\", line 167, in <module>\r\n\t\t\tif six.PY2:\r\n\t\tNameError: name 'six' is not defined\r\n\t\t----------------------------------------\r\n\tERROR: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-req-build-Bgs1KT/\r\n\tWARNING: You are using pip version 19.1.1, however version 20.0.2 is available.\r\n\tYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n\r\n\r\nAfter updated `if six.PY2:` to `if sys.version_info[0] < 3:` it still fails:\r\n\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_poll\u2019:\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n\t   # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n\t\t ^\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_login_inner\u2019:\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: \u2018AMQ_PLATFORM\u2019 undeclared (first use in this function)\r\n\t\t\t   amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t   ^\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c: In function \u2018amqp_poll\u2019:\r\n\t  /tmp/pip-req-build-rCf1ax/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n\t   }\r\n\t   ^\r\n\t  error: command 'gcc' failed with exit status 1\r\n\t  ----------------------------------------\r\n\t  ERROR: Failed building wheel for librabbitmq\r\n\t  Running setup.py clean for librabbitmq\r\n\tFailed to build librabbitmq\r\n\tERROR: Failed to build one or more wheels\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/143", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/143/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/143/events", "html_url": "https://github.com/celery/librabbitmq/issues/143", "id": 573493420, "node_id": "MDU6SXNzdWU1NzM0OTM0MjA=", "number": 143, "title": "\"U\" mode is no longer accepted from Python 3.9", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-01T06:21:34Z", "updated_at": "2020-03-16T08:08:26Z", "closed_at": "2020-03-16T08:08:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nlibrabbitmq/setup.py\r\n167:long_description = open(os.path.join(BASE_PATH, 'README.rst'), 'U').read()\r\n```\r\n\r\nhttps://github.com/python/cpython/pull/16959", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/141", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/141/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/141/events", "html_url": "https://github.com/celery/librabbitmq/issues/141", "id": 565857953, "node_id": "MDU6SXNzdWU1NjU4NTc5NTM=", "number": 141, "title": "Deprecation warning due to invalid escape sequences in Python 3.7", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-16T06:09:08Z", "updated_at": "2020-02-26T17:00:06Z", "closed_at": "2020-02-26T17:00:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Deprecation warning are raised due to invalid escape sequences. This can be fixed by using raw string or escaping them.\r\n\r\n```\r\nfind . -iname '*.py'  | xargs -P 4 -I{} python -Walways -m py_compile {}\r\n\r\n./tests/test_functional.py:41: DeprecationWarning: invalid escape sequence \\_\r\n  headers={'key': '\u00af\\_(\u30c4)_/\u00af'}))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/139", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/139/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/139/events", "html_url": "https://github.com/celery/librabbitmq/issues/139", "id": 559321000, "node_id": "MDU6SXNzdWU1NTkzMjEwMDA=", "number": 139, "title": "lang", "user": {"login": "nbuonin", "id": 6710696, "node_id": "MDQ6VXNlcjY3MTA2OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6710696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbuonin", "html_url": "https://github.com/nbuonin", "followers_url": "https://api.github.com/users/nbuonin/followers", "following_url": "https://api.github.com/users/nbuonin/following{/other_user}", "gists_url": "https://api.github.com/users/nbuonin/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbuonin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbuonin/subscriptions", "organizations_url": "https://api.github.com/users/nbuonin/orgs", "repos_url": "https://api.github.com/users/nbuonin/repos", "events_url": "https://api.github.com/users/nbuonin/events{/privacy}", "received_events_url": "https://api.github.com/users/nbuonin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-03T20:39:50Z", "updated_at": "2020-02-03T20:39:56Z", "closed_at": "2020-02-03T20:39:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/137", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/137/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/137/events", "html_url": "https://github.com/celery/librabbitmq/issues/137", "id": 532807920, "node_id": "MDU6SXNzdWU1MzI4MDc5MjA=", "number": 137, "title": "Support version Python >= 3.7", "user": {"login": "mushishi06", "id": 1659947, "node_id": "MDQ6VXNlcjE2NTk5NDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1659947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mushishi06", "html_url": "https://github.com/mushishi06", "followers_url": "https://api.github.com/users/mushishi06/followers", "following_url": "https://api.github.com/users/mushishi06/following{/other_user}", "gists_url": "https://api.github.com/users/mushishi06/gists{/gist_id}", "starred_url": "https://api.github.com/users/mushishi06/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mushishi06/subscriptions", "organizations_url": "https://api.github.com/users/mushishi06/orgs", "repos_url": "https://api.github.com/users/mushishi06/repos", "events_url": "https://api.github.com/users/mushishi06/events{/privacy}", "received_events_url": "https://api.github.com/users/mushishi06/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-04T16:49:09Z", "updated_at": "2020-05-03T09:41:17Z", "closed_at": "2020-05-03T09:41:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Fallowing multiple test / try and update to latest version (even dev Branch, `rabbitmq-c`), \r\nit appears to me to **NOT** be compatible with Python version superior to 3.6\r\n\r\n- tested with Python `**3.7.3**`, `**3.8.0**` => Failed\r\n\r\n- tested with Python `**3.6.9**` => success\r\n\r\nDid you schedule the support for the new version of Python?\r\n\r\nThank you in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/136", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/136/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/136/events", "html_url": "https://github.com/celery/librabbitmq/issues/136", "id": 528367721, "node_id": "MDU6SXNzdWU1MjgzNjc3MjE=", "number": 136, "title": "undefined symbol: basic_properties_to_PyDict", "user": {"login": "marco-c", "id": 1616846, "node_id": "MDQ6VXNlcjE2MTY4NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1616846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marco-c", "html_url": "https://github.com/marco-c", "followers_url": "https://api.github.com/users/marco-c/followers", "following_url": "https://api.github.com/users/marco-c/following{/other_user}", "gists_url": "https://api.github.com/users/marco-c/gists{/gist_id}", "starred_url": "https://api.github.com/users/marco-c/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marco-c/subscriptions", "organizations_url": "https://api.github.com/users/marco-c/orgs", "repos_url": "https://api.github.com/users/marco-c/repos", "events_url": "https://api.github.com/users/marco-c/events{/privacy}", "received_events_url": "https://api.github.com/users/marco-c/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-25T22:14:29Z", "updated_at": "2020-05-03T09:40:44Z", "closed_at": "2020-05-03T09:40:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nPython 3.7.5 (default, Oct 27 2019, 15:43:29) \r\n[GCC 9.2.1 20191022] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from librabbitmq import Connection\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/marco/.local/lib/python3.7/site-packages/librabbitmq/__init__.py\", line 7, in <module>\r\n    import _librabbitmq\r\nImportError: /home/marco/.local/lib/python3.7/site-packages/_librabbitmq.cpython-37m-x86_64-linux-gnu.so: undefined symbol: basic_properties_to_PyDict\r\n```\r\n\r\nThis sounds similar to #5.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/132", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/132/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/132/events", "html_url": "https://github.com/celery/librabbitmq/issues/132", "id": 430958305, "node_id": "MDU6SXNzdWU0MzA5NTgzMDU=", "number": 132, "title": "UnicodeEncodeError with non-ascii headers", "user": {"login": "davidszotten", "id": 412005, "node_id": "MDQ6VXNlcjQxMjAwNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/412005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidszotten", "html_url": "https://github.com/davidszotten", "followers_url": "https://api.github.com/users/davidszotten/followers", "following_url": "https://api.github.com/users/davidszotten/following{/other_user}", "gists_url": "https://api.github.com/users/davidszotten/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidszotten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidszotten/subscriptions", "organizations_url": "https://api.github.com/users/davidszotten/orgs", "repos_url": "https://api.github.com/users/davidszotten/repos", "events_url": "https://api.github.com/users/davidszotten/events{/privacy}", "received_events_url": "https://api.github.com/users/davidszotten/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-04-09T13:09:28Z", "updated_at": "2019-04-14T09:43:20Z", "closed_at": "2019-04-14T09:43:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi. \r\n\r\nI'm trying to upgrade to celery 4 which, in particular includes reprs of args and kwargs in headers. however, it seems librabbitmq fails to handle non-ascii headers\r\n\r\n```\r\n>>> import kombu\r\n>>> from kombu import Connection\r\n>>> conn = Connection(\"librabbitmq://rabbitmq\")\r\n>>> channel = conn.channel()\r\n>>> channel.basic_publish('', headers={'key': '\u00f6'})\r\n\r\nUnicodeEncodeError: 'ascii' codec can't encode character '\\xf6' in position 0: ordinal not in range(128)\r\n```\r\n\r\nam i doing something wrong? (We rely on this library for the performance compared to the pure python version)\r\n\r\nbest, and thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/131", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/131/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/131/events", "html_url": "https://github.com/celery/librabbitmq/issues/131", "id": 427823463, "node_id": "MDU6SXNzdWU0Mjc4MjM0NjM=", "number": 131, "title": "\"pip install librabbitmq\" failed with error code 1", "user": {"login": "khpeek", "id": 6617594, "node_id": "MDQ6VXNlcjY2MTc1OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6617594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khpeek", "html_url": "https://github.com/khpeek", "followers_url": "https://api.github.com/users/khpeek/followers", "following_url": "https://api.github.com/users/khpeek/following{/other_user}", "gists_url": "https://api.github.com/users/khpeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/khpeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khpeek/subscriptions", "organizations_url": "https://api.github.com/users/khpeek/orgs", "repos_url": "https://api.github.com/users/khpeek/repos", "events_url": "https://api.github.com/users/khpeek/events{/privacy}", "received_events_url": "https://api.github.com/users/khpeek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-04-01T17:24:09Z", "updated_at": "2020-07-21T14:08:59Z", "closed_at": "2019-04-21T09:51:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Upon creating a virtual environment in Python 3.7.1 and trying `pip install librabbitmq`, I get the following error message:\r\n\r\n```\r\n(venv) LM-SFP-21018636:Scratch kupeek$ pip install librabbitmq\r\nCollecting librabbitmq\r\n  Using cached https://files.pythonhosted.org/packages/f4/4e/8f8bf33d44f3441d6f6c29b299cc847570b2c864bd8d2f9871aa6c03b73e/librabbitmq-2.0.0.tar.gz\r\nCollecting amqp>=1.4.6 (from librabbitmq)\r\n  Using cached https://files.pythonhosted.org/packages/42/ec/cbbaa8f75be8cbd019afb9d63258e2bdc95242f8c46a54bb90db5fef03bd/amqp-2.4.2-py2.py3-none-any.whl\r\nCollecting six>=1.0.0 (from librabbitmq)\r\n  Using cached https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting vine>=1.1.3 (from amqp>=1.4.6->librabbitmq)\r\n  Using cached https://files.pythonhosted.org/packages/7f/60/82c03047396126c8331ceb64da1dc52d4f1317209f32e8fe286d0c07365a/vine-1.3.0-py2.py3-none-any.whl\r\nBuilding wheels for collected packages: librabbitmq\r\n  Building wheel for librabbitmq (setup.py) ... error\r\n  Complete output from command /Users/kupeek/Documents/Scratch/venv/bin/python3.7 -u -c \"import setuptools, tokenize;__file__='/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-wheel-0x62tr5q --python-tag cp37:\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/setup.py:167: DeprecationWarning: 'U' mode is deprecated\r\n    long_description = open(os.path.join(BASE_PATH, 'README.rst'), 'U').read()\r\n  running build\r\n  - pull submodule rabbitmq-c...\r\n  Cloning into 'rabbitmq-c'...\r\n  Note: checking out 'caad0ef1533783729c7644a226c989c79b4c497b'.\r\n  \r\n  You are in 'detached HEAD' state. You can look around, make experimental\r\n  changes and commit them, and you can discard any commits you make in this\r\n  state without impacting any branches by performing another checkout.\r\n  \r\n  If you want to create a new branch to retain commits you create, you may\r\n  do so (now or later) by using -b with the checkout command again. Example:\r\n  \r\n    git checkout -b <new-branch-name>\r\n  \r\n  - autoreconf\r\n  sh: autoreconf: command not found\r\n  - configure rabbitmq-c...\r\n  /bin/sh: configure: No such file or directory\r\n  running bdist_wheel\r\n  installing to build/bdist.macosx-10.13-x86_64/wheel\r\n  running install\r\n  running install_lib\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-10.13-x86_64-3.7\r\n  creating build/lib.macosx-10.13-x86_64-3.7/librabbitmq\r\n  copying librabbitmq/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/librabbitmq\r\n  creating build/lib.macosx-10.13-x86_64-3.7/funtests\r\n  copying funtests/config.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n  copying funtests/disabled_basic_get_leak.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n  copying funtests/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n  copying funtests/setup.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n  creating build/lib.macosx-10.13-x86_64-3.7/funtests/tests\r\n  copying funtests/tests/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/funtests/tests\r\n  copying funtests/tests/test_channel_errors.py -> build/lib.macosx-10.13-x86_64-3.7/funtests/tests\r\n  running build_ext\r\n  building '_librabbitmq' extension\r\n  creating build/temp.macosx-10.13-x86_64-3.7\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c\r\n  creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq\r\n  clang -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c -I/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c -o build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.o\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison of integers of different signs: 'uint64_t' (aka 'unsigned long long') and 'int' [-Wsign-compare]\r\n              if (clong_value == -1)\r\n                  ~~~~~~~~~~~ ^  ~~\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:365:17: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n      while (item = PyIter_Next(iterator)) {\r\n             ~~~~~^~~~~~~~~~~~~~~~~~~~~~~\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:365:17: note: place parentheses around the assignment to silence this warning\r\n      while (item = PyIter_Next(iterator)) {\r\n                  ^\r\n             (                           )\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:365:17: note: use '==' to turn this assignment into an equality comparison\r\n      while (item = PyIter_Next(iterator)) {\r\n                  ^\r\n                  ==\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: unused label 'error' [-Wunused-label]\r\n  error:\r\n  ^~~~~~\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: incompatible pointer to integer conversion returning 'PyObject *' (aka 'struct _object *') from a function with result type 'int' [-Wint-conversion]\r\n          return PyErr_NoMemory();\r\n                 ^~~~~~~~~~~~~~~~\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' is invalid in C99 [-Wimplicit-function-declaration]\r\n              amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n              ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:1385:22: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' is invalid in C99 [-Wimplicit-function-declaration]\r\n              retval = amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                       ^\r\n  6 warnings generated.\r\n  clang -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c -I/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n  In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:332:1: error: expected ')'\r\n  DECLARE_XTOXLL(hton)\r\n  ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n    static inline uint64_t func##ll(uint64_t val)     \\\r\n                           ^\r\n  <scratch space>:481:1: note: expanded from here\r\n  htonll\r\n  ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n  #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                          ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n      (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n                               ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:332:1: note: to match this '('\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n    static inline uint64_t func##ll(uint64_t val)     \\\r\n                           ^\r\n  <scratch space>:481:1: note: expanded from here\r\n  htonll\r\n  ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n  #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                          ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n      (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n      ^\r\n  In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:332:1: error: definition of builtin function '__builtin_constant_p'\r\n  DECLARE_XTOXLL(hton)\r\n  ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n    static inline uint64_t func##ll(uint64_t val)     \\\r\n                           ^\r\n  <scratch space>:481:1: note: expanded from here\r\n  htonll\r\n  ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n  #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                          ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n      (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n       ^\r\n  In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:333:1: error: expected ')'\r\n  DECLARE_XTOXLL(ntoh)\r\n  ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n    static inline uint64_t func##ll(uint64_t val)     \\\r\n                           ^\r\n  <scratch space>:484:1: note: expanded from here\r\n  ntohll\r\n  ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n  #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                          ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n      (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n                               ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:333:1: note: to match this '('\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n    static inline uint64_t func##ll(uint64_t val)     \\\r\n                           ^\r\n  <scratch space>:484:1: note: expanded from here\r\n  ntohll\r\n  ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n  #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                          ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n      (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n      ^\r\n  In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:333:1: error: definition of builtin function '__builtin_constant_p'\r\n  DECLARE_XTOXLL(ntoh)\r\n  ^\r\n  /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n    static inline uint64_t func##ll(uint64_t val)     \\\r\n                           ^\r\n  <scratch space>:484:1: note: expanded from here\r\n  ntohll\r\n  ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n  #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                          ^\r\n  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n      (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n       ^\r\n  4 errors generated.\r\n  error: command 'clang' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for librabbitmq\r\n  Running setup.py clean for librabbitmq\r\nFailed to build librabbitmq\r\nInstalling collected packages: vine, amqp, six, librabbitmq\r\n  Running setup.py install for librabbitmq ... error\r\n    Complete output from command /Users/kupeek/Documents/Scratch/venv/bin/python3.7 -u -c \"import setuptools, tokenize;__file__='/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-record-8uma_s33/install-record.txt --single-version-externally-managed --compile --install-headers /Users/kupeek/Documents/Scratch/venv/bin/../include/site/python3.7/librabbitmq:\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/setup.py:167: DeprecationWarning: 'U' mode is deprecated\r\n      long_description = open(os.path.join(BASE_PATH, 'README.rst'), 'U').read()\r\n    running build\r\n    - autoreconf\r\n    sh: autoreconf: command not found\r\n    - configure rabbitmq-c...\r\n    /bin/sh: configure: No such file or directory\r\n    running install\r\n    running install_lib\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.13-x86_64-3.7\r\n    creating build/lib.macosx-10.13-x86_64-3.7/librabbitmq\r\n    copying librabbitmq/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/librabbitmq\r\n    creating build/lib.macosx-10.13-x86_64-3.7/funtests\r\n    copying funtests/config.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n    copying funtests/disabled_basic_get_leak.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n    copying funtests/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n    copying funtests/setup.py -> build/lib.macosx-10.13-x86_64-3.7/funtests\r\n    creating build/lib.macosx-10.13-x86_64-3.7/funtests/tests\r\n    copying funtests/tests/__init__.py -> build/lib.macosx-10.13-x86_64-3.7/funtests/tests\r\n    copying funtests/tests/test_channel_errors.py -> build/lib.macosx-10.13-x86_64-3.7/funtests/tests\r\n    running build_ext\r\n    building '_librabbitmq' extension\r\n    creating build/temp.macosx-10.13-x86_64-3.7\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c\r\n    creating build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq\r\n    clang -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c -I/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c -o build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.o\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison of integers of different signs: 'uint64_t' (aka 'unsigned long long') and 'int' [-Wsign-compare]\r\n                if (clong_value == -1)\r\n                    ~~~~~~~~~~~ ^  ~~\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:365:17: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n        while (item = PyIter_Next(iterator)) {\r\n               ~~~~~^~~~~~~~~~~~~~~~~~~~~~~\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:365:17: note: place parentheses around the assignment to silence this warning\r\n        while (item = PyIter_Next(iterator)) {\r\n                    ^\r\n               (                           )\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:365:17: note: use '==' to turn this assignment into an equality comparison\r\n        while (item = PyIter_Next(iterator)) {\r\n                    ^\r\n                    ==\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: unused label 'error' [-Wunused-label]\r\n    error:\r\n    ^~~~~~\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: incompatible pointer to integer conversion returning 'PyObject *' (aka 'struct _object *') from a function with result type 'int' [-Wint-conversion]\r\n            return PyErr_NoMemory();\r\n                   ^~~~~~~~~~~~~~~~\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' is invalid in C99 [-Wimplicit-function-declaration]\r\n                amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/Modules/_librabbitmq/connection.c:1385:22: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' is invalid in C99 [-Wimplicit-function-declaration]\r\n                retval = amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                         ^\r\n    6 warnings generated.\r\n    clang -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq -I/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c -I/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.macosx-10.13-x86_64-3.7/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n    In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:332:1: error: expected ')'\r\n    DECLARE_XTOXLL(hton)\r\n    ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:481:1: note: expanded from here\r\n    htonll\r\n    ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n    #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n                                 ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:332:1: note: to match this '('\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:481:1: note: expanded from here\r\n    htonll\r\n    ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n    #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n        ^\r\n    In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:332:1: error: definition of builtin function '__builtin_constant_p'\r\n    DECLARE_XTOXLL(hton)\r\n    ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:481:1: note: expanded from here\r\n    htonll\r\n    ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n    #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n         ^\r\n    In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:333:1: error: expected ')'\r\n    DECLARE_XTOXLL(ntoh)\r\n    ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:484:1: note: expanded from here\r\n    ntohll\r\n    ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n    #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n                                 ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:333:1: note: to match this '('\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:484:1: note: expanded from here\r\n    ntohll\r\n    ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n    #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n        ^\r\n    In file included from /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:333:1: error: definition of builtin function '__builtin_constant_p'\r\n    DECLARE_XTOXLL(ntoh)\r\n    ^\r\n    /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:484:1: note: expanded from here\r\n    ntohll\r\n    ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n    #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n         ^\r\n    4 errors generated.\r\n    error: command 'clang' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/Users/kupeek/Documents/Scratch/venv/bin/python3.7 -u -c \"import setuptools, tokenize;__file__='/private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-record-8uma_s33/install-record.txt --single-version-externally-managed --compile --install-headers /Users/kupeek/Documents/Scratch/venv/bin/../include/site/python3.7/librabbitmq\" failed with error code 1 in /private/var/folders/mj/hrpg96fd1bx79ty98grp2d643kh7j1/T/pip-install-k5wnfkla/librabbitmq/\r\n```\r\n\r\nHere is the verification of the Python version:\r\n\r\n```\r\n(venv) LM-SFP-21018636:Scratch kupeek$ python --version\r\nPython 3.7.1\r\n```\r\n\r\nAny idea what is causing this?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/130", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/130/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/130/events", "html_url": "https://github.com/celery/librabbitmq/issues/130", "id": 404461482, "node_id": "MDU6SXNzdWU0MDQ0NjE0ODI=", "number": 130, "title": "Error installing on docker with python:alpine", "user": {"login": "ebertti", "id": 140394, "node_id": "MDQ6VXNlcjE0MDM5NA==", "avatar_url": "https://avatars0.githubusercontent.com/u/140394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebertti", "html_url": "https://github.com/ebertti", "followers_url": "https://api.github.com/users/ebertti/followers", "following_url": "https://api.github.com/users/ebertti/following{/other_user}", "gists_url": "https://api.github.com/users/ebertti/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebertti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebertti/subscriptions", "organizations_url": "https://api.github.com/users/ebertti/orgs", "repos_url": "https://api.github.com/users/ebertti/repos", "events_url": "https://api.github.com/users/ebertti/events{/privacy}", "received_events_url": "https://api.github.com/users/ebertti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-29T19:57:55Z", "updated_at": "2019-02-25T18:05:34Z", "closed_at": "2019-02-14T15:11:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nI'm getting this errors when I try to install librabbitmq on alpine linux \r\n\r\n```\r\n#error \"poll() or select() is needed to compile rabbitmq-c\"\r\nerror: 'AMQ_PLATFORM' undeclared (first use in this function)\r\n```\r\n\r\n\r\n\r\n/app # apk add rabbitmq-c rabbitmq-c-dev\r\n/app # pip install librabbitmq\r\n\r\n```\r\nCollecting librabbitmq\r\n  Using cached https://files.pythonhosted.org/packages/f4/4e/8f8bf33d44f3441d6f6c29b299cc847570b2c864bd8d2f9871aa6c03b73e/librabbitmq-2.0.0.tar.gz\r\nRequirement already satisfied: amqp>=1.4.6 in /usr/local/lib/python3.6/site-packages (from librabbitmq) (2.3.2)\r\nRequirement already satisfied: six>=1.0.0 in /usr/local/lib/python3.6/site-packages (from librabbitmq) (1.12.0)\r\nRequirement already satisfied: vine>=1.1.3 in /usr/local/lib/python3.6/site-packages (from amqp>=1.4.6->librabbitmq) (1.2.0)\r\nBuilding wheels for collected packages: librabbitmq\r\n  Running setup.py bdist_wheel for librabbitmq ... error\r\n  Complete output from command /usr/local/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-0m1mvong/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-4joizbus --pyth\r\non-tag cp36:\r\n  running build\r\n  - pull submodule rabbitmq-c...\r\n  Cloning into 'rabbitmq-c'...\r\n  Note: checking out 'caad0ef1533783729c7644a226c989c79b4c497b'.\r\n\r\n  You are in 'detached HEAD' state. You can look around, make experimental\r\n  changes and commit them, and you can discard any commits you make in this\r\n  state without impacting any branches by performing another checkout.\r\n\r\n  If you want to create a new branch to retain commits you create, you may\r\n  do so (now or later) by using -b with the checkout command again. Example:\r\n\r\n    git checkout -b <new-branch-name>\r\n\r\n  - autoreconf\r\n  sh: autoreconf: not found\r\n  - configure rabbitmq-c...\r\n  /bin/sh: can't open 'configure': No such file or directory\r\n  running bdist_wheel\r\n  installing to build/bdist.linux-x86_64/wheel\r\n  running install\r\n  running install_lib\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.6\r\n  creating build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/config.py -> build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/disabled_basic_get_leak.py -> build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/__init__.py -> build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/setup.py -> build/lib.linux-x86_64-3.6/funtests\r\n  creating build/lib.linux-x86_64-3.6/librabbitmq\r\n  copying librabbitmq/__init__.py -> build/lib.linux-x86_64-3.6/librabbitmq\r\n  creating build/lib.linux-x86_64-3.6/funtests/tests\r\n  copying funtests/tests/test_channel_errors.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n  copying funtests/tests/__init__.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n  warning: build_py: byte-compiling is disabled, skipping.\r\n\r\n  running build_ext\r\n  building '_librabbitmq' extension\r\n  creating build/temp.linux-x86_64-3.6\r\n  creating build/temp.linux-x86_64-3.6/tmp\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/Modules\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/Modules/_librabbitmq/connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.o\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyDict_ToAMQTable':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n               if (clong_value == -1)\r\n                               ^~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyIter_ToAMQArray':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:365:5: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\r\n       while (item = PyIter_Next(iterator)) {\r\n       ^~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: label 'error' defined but not used [-Wunused-label]\r\n   error:\r\n   ^~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_ConnectionType_init':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: return makes integer from pointer without a cast [-Wint-conversion]\r\n           return PyErr_NoMemory();\r\n                  ^~~~~~~~~~~~~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_close':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1117:22: warning: variable 'reply' set but not used [-Wunused-but-set-variable]\r\n       amqp_rpc_reply_t reply;\r\n                        ^~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_recv':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' [-Wimplicit-function-declaration]\r\n               amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_cancel':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1949:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n       amqp_basic_cancel_ok_t *ok;\r\n                               ^~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_flow':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:2074:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n       amqp_channel_flow_ok_t *ok;\r\n                               ^~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_recover':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:2107:30: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n       amqp_basic_recover_ok_t *ok;\r\n                                ^~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: At top level:\r\n  /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:526:17: warning: 'AMQTable_toPyDict' is static but used in inline function 'basic_properties_to_PyDict' which is not static\r\n           value = AMQTable_toPyDict(&(props->headers));\r\n                   ^~~~~~~~~~~~~~~~~\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_consumer.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_framing.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_hostcheck.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_mem.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n   # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n     ^~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_login_inner':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: 'AMQ_PLATFORM' undeclared (first use in this function)\r\n           amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n                                                       ^~~~~~~~~~~~\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n  /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n   }\r\n   ^\r\n  error: command 'gcc' failed with exit status 1\r\n\r\n  ----------------------------------------\r\n  Failed building wheel for librabbitmq\r\n  Running setup.py clean for librabbitmq\r\nFailed to build librabbitmq\r\nInstalling collected packages: librabbitmq\r\n  Running setup.py install for librabbitmq ... error\r\n    Complete output from command /usr/local/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-0m1mvong/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-lmsof8k2/i\r\nnstall-record.txt --single-version-externally-managed --compile:\r\n    running build\r\n    - autoreconf\r\n    sh: autoreconf: not found\r\n    - configure rabbitmq-c...\r\n    /bin/sh: can't open 'configure': No such file or directory\r\n    running install\r\n    running install_lib\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/config.py -> build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/disabled_basic_get_leak.py -> build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/__init__.py -> build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/setup.py -> build/lib.linux-x86_64-3.6/funtests\r\n    creating build/lib.linux-x86_64-3.6/librabbitmq\r\n    copying librabbitmq/__init__.py -> build/lib.linux-x86_64-3.6/librabbitmq\r\n    creating build/lib.linux-x86_64-3.6/funtests/tests\r\n    copying funtests/tests/test_channel_errors.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n    copying funtests/tests/__init__.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n    warning: build_py: byte-compiling is disabled, skipping.\r\n\r\n    running build_ext\r\n    building '_librabbitmq' extension\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/tmp\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/Modules\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/Modules/_librabbitmq/connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.o\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyDict_ToAMQTable':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n                 if (clong_value == -1)\r\n                                 ^~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyIter_ToAMQArray':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:365:5: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\r\n         while (item = PyIter_Next(iterator)) {\r\n         ^~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: label 'error' defined but not used [-Wunused-label]\r\n     error:\r\n     ^~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_ConnectionType_init':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: return makes integer from pointer without a cast [-Wint-conversion]\r\n             return PyErr_NoMemory();\r\n                    ^~~~~~~~~~~~~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_close':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1117:22: warning: variable 'reply' set but not used [-Wunused-but-set-variable]\r\n         amqp_rpc_reply_t reply;\r\n                          ^~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_recv':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' [-Wimplicit-function-declaration]\r\n                 amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_cancel':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:1949:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n         amqp_basic_cancel_ok_t *ok;\r\n                                 ^~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_flow':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:2074:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n         amqp_channel_flow_ok_t *ok;\r\n                                 ^~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_recover':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:2107:30: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n         amqp_basic_recover_ok_t *ok;\r\n                                  ^~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c: At top level:\r\n    /tmp/pip-install-0m1mvong/librabbitmq/Modules/_librabbitmq/connection.c:526:17: warning: 'AMQTable_toPyDict' is static but used in inline function 'basic_properties_to_PyDict' which is not static\r\n             value = AMQTable_toPyDict(&(props->headers));\r\n                     ^~~~~~~~~~~~~~~~~\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_consumer.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_framing.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_hostcheck.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_mem.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-0m1mvong/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n     # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n       ^~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_login_inner':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: 'AMQ_PLATFORM' undeclared (first use in this function)\r\n             amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n                                                         ^~~~~~~~~~~~\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n    /tmp/pip-install-0m1mvong/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n     }\r\n     ^\r\n    error: command 'gcc' failed with exit status 1\r\n\r\n    ----------------------------------------\r\nCommand \"/usr/local/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-0m1mvong/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-lmsof8k2/install-record.txt --sing\r\nle-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-0m1mvong/librabbitmq/\r\nYou are using pip version 18.1, however version 19.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n/app # python -m pip install pip\r\nRequirement already satisfied: pip in /usr/local/lib/python3.6/site-packages (18.1)\r\nYou are using pip version 18.1, however version 19.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n/app # python -m pip install pip -U\r\nCollecting pip\r\n  Using cached https://files.pythonhosted.org/packages/46/dc/7fd5df840efb3e56c8b4f768793a237ec4ee59891959d6a215d63f727023/pip-19.0.1-py2.py3-none-any.whl\r\nInstalling collected packages: pip\r\n  Found existing installation: pip 18.1\r\n    Uninstalling pip-18.1:\r\n      Successfully uninstalled pip-18.1\r\nSuccessfully installed pip-19.0.1\r\n/app # pip install librabbitmq\r\nCollecting librabbitmq\r\n  Using cached https://files.pythonhosted.org/packages/f4/4e/8f8bf33d44f3441d6f6c29b299cc847570b2c864bd8d2f9871aa6c03b73e/librabbitmq-2.0.0.tar.gz\r\nRequirement already satisfied: amqp>=1.4.6 in /usr/local/lib/python3.6/site-packages (from librabbitmq) (2.3.2)\r\nRequirement already satisfied: six>=1.0.0 in /usr/local/lib/python3.6/site-packages (from librabbitmq) (1.12.0)\r\nRequirement already satisfied: vine>=1.1.3 in /usr/local/lib/python3.6/site-packages (from amqp>=1.4.6->librabbitmq) (1.2.0)\r\nBuilding wheels for collected packages: librabbitmq\r\n  Building wheel for librabbitmq (setup.py) ... error\r\n  Complete output from command /usr/local/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8adeg4d4/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-4nxckg6h --pyth\r\non-tag cp36:\r\n  running build\r\n  - pull submodule rabbitmq-c...\r\n  Cloning into 'rabbitmq-c'...\r\n  Note: checking out 'caad0ef1533783729c7644a226c989c79b4c497b'.\r\n\r\n  You are in 'detached HEAD' state. You can look around, make experimental\r\n  changes and commit them, and you can discard any commits you make in this\r\n  state without impacting any branches by performing another checkout.\r\n\r\n  If you want to create a new branch to retain commits you create, you may\r\n  do so (now or later) by using -b with the checkout command again. Example:\r\n\r\n    git checkout -b <new-branch-name>\r\n\r\n  - autoreconf\r\n  sh: autoreconf: not found\r\n  - configure rabbitmq-c...\r\n  /bin/sh: can't open 'configure': No such file or directory\r\n  running bdist_wheel\r\n  installing to build/bdist.linux-x86_64/wheel\r\n  running install\r\n  running install_lib\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.6\r\n  creating build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/config.py -> build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/disabled_basic_get_leak.py -> build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/__init__.py -> build/lib.linux-x86_64-3.6/funtests\r\n  copying funtests/setup.py -> build/lib.linux-x86_64-3.6/funtests\r\n  creating build/lib.linux-x86_64-3.6/librabbitmq\r\n  copying librabbitmq/__init__.py -> build/lib.linux-x86_64-3.6/librabbitmq\r\n  creating build/lib.linux-x86_64-3.6/funtests/tests\r\n  copying funtests/tests/test_channel_errors.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n  copying funtests/tests/__init__.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n  warning: build_py: byte-compiling is disabled, skipping.\r\n\r\n  running build_ext\r\n  building '_librabbitmq' extension\r\n  creating build/temp.linux-x86_64-3.6\r\n  creating build/temp.linux-x86_64-3.6/tmp\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/Modules\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c\r\n  creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/Modules/_librabbitmq/connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.o\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyDict_ToAMQTable':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n               if (clong_value == -1)\r\n                               ^~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyIter_ToAMQArray':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:365:5: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\r\n       while (item = PyIter_Next(iterator)) {\r\n       ^~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: label 'error' defined but not used [-Wunused-label]\r\n   error:\r\n   ^~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_ConnectionType_init':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: return makes integer from pointer without a cast [-Wint-conversion]\r\n           return PyErr_NoMemory();\r\n                  ^~~~~~~~~~~~~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_close':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1117:22: warning: variable 'reply' set but not used [-Wunused-but-set-variable]\r\n       amqp_rpc_reply_t reply;\r\n                        ^~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_recv':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' [-Wimplicit-function-declaration]\r\n               amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n               ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_cancel':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1949:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n       amqp_basic_cancel_ok_t *ok;\r\n                               ^~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_flow':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:2074:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n       amqp_channel_flow_ok_t *ok;\r\n                               ^~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_recover':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:2107:30: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n       amqp_basic_recover_ok_t *ok;\r\n                                ^~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: At top level:\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:526:17: warning: 'AMQTable_toPyDict' is static but used in inline function 'basic_properties_to_PyDict' which is not static\r\n           value = AMQTable_toPyDict(&(props->headers));\r\n                   ^~~~~~~~~~~~~~~~~\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_consumer.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_framing.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_hostcheck.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_mem.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o\r\n  gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbitm\r\nq/rabbitmq-c/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n   # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n     ^~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_login_inner':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: 'AMQ_PLATFORM' undeclared (first use in this function)\r\n           amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n                                                       ^~~~~~~~~~~~\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n  /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n   }\r\n   ^\r\n  error: command 'gcc' failed with exit status 1\r\n\r\n  ----------------------------------------\r\n  Failed building wheel for librabbitmq\r\n  Running setup.py clean for librabbitmq\r\nFailed to build librabbitmq\r\nInstalling collected packages: librabbitmq\r\n  Running setup.py install for librabbitmq ... error\r\n    Complete output from command /usr/local/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8adeg4d4/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-22jnult7/i\r\nnstall-record.txt --single-version-externally-managed --compile:\r\n    running build\r\n    - autoreconf\r\n    sh: autoreconf: not found\r\n    - configure rabbitmq-c...\r\n    /bin/sh: can't open 'configure': No such file or directory\r\n    running install\r\n    running install_lib\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/config.py -> build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/disabled_basic_get_leak.py -> build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/__init__.py -> build/lib.linux-x86_64-3.6/funtests\r\n    copying funtests/setup.py -> build/lib.linux-x86_64-3.6/funtests\r\n    creating build/lib.linux-x86_64-3.6/librabbitmq\r\n    copying librabbitmq/__init__.py -> build/lib.linux-x86_64-3.6/librabbitmq\r\n    creating build/lib.linux-x86_64-3.6/funtests/tests\r\n    copying funtests/tests/test_channel_errors.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n    copying funtests/tests/__init__.py -> build/lib.linux-x86_64-3.6/funtests/tests\r\n    warning: build_py: byte-compiling is disabled, skipping.\r\n\r\n    running build_ext\r\n    building '_librabbitmq' extension\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/tmp\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/Modules\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c\r\n    creating build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/Modules/_librabbitmq/connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.o\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyDict_ToAMQTable':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:299:29: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]\r\n                 if (clong_value == -1)\r\n                                 ^~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyIter_ToAMQArray':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:365:5: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\r\n         while (item = PyIter_Next(iterator)) {\r\n         ^~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:410:1: warning: label 'error' defined but not used [-Wunused-label]\r\n     error:\r\n     ^~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_ConnectionType_init':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1003:16: warning: return makes integer from pointer without a cast [-Wint-conversion]\r\n             return PyErr_NoMemory();\r\n                    ^~~~~~~~~~~~~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_close':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1117:22: warning: variable 'reply' set but not used [-Wunused-but-set-variable]\r\n         amqp_rpc_reply_t reply;\r\n                          ^~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_recv':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' [-Wimplicit-function-declaration]\r\n                 amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_cancel':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:1949:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n         amqp_basic_cancel_ok_t *ok;\r\n                                 ^~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_flow':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:2074:29: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n         amqp_channel_flow_ok_t *ok;\r\n                                 ^~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: In function 'PyRabbitMQ_Connection_basic_recover':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:2107:30: warning: variable 'ok' set but not used [-Wunused-but-set-variable]\r\n         amqp_basic_recover_ok_t *ok;\r\n                                  ^~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c: At top level:\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/Modules/_librabbitmq/connection.c:526:17: warning: 'AMQTable_toPyDict' is static but used in inline function 'basic_properties_to_PyDict' which is not static\r\n             value = AMQTable_toPyDict(&(props->headers));\r\n                     ^~~~~~~~~~~~~~~~~\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_connection.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_consumer.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_consumer.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_framing.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_hostcheck.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_hostcheck.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_mem.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o\r\n    gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -DTHREAD_STACK_SIZE=0x100000 -fPIC -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq -I/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c -I/usr/local/include/python3.6m -c /tmp/pip-install-8adeg4d4/librabbi\r\ntmq/rabbitmq-c/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-3.6/tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:355:3: error: #error \"poll() or select() is needed to compile rabbitmq-c\"\r\n     # error \"poll() or select() is needed to compile rabbitmq-c\"\r\n       ^~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_login_inner':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: error: 'AMQ_PLATFORM' undeclared (first use in this function)\r\n             amqp_table_construct_utf8_entry(\"platform\", AMQ_PLATFORM);\r\n                                                         ^~~~~~~~~~~~\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:1334:53: note: each undeclared identifier is reported only once for each function it appears in\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c: In function 'amqp_poll':\r\n    /tmp/pip-install-8adeg4d4/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.c:357:1: warning: control reaches end of non-void function [-Wreturn-type]\r\n     }\r\n     ^\r\n    error: command 'gcc' failed with exit status 1\r\n\r\n    ----------------------------------------\r\nCommand \"/usr/local/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-8adeg4d4/librabbitmq/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-22jnult7/install-record.txt --sing\r\nle-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-8adeg4d4/librabbitmq/\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/129", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/129/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/129/events", "html_url": "https://github.com/celery/librabbitmq/issues/129", "id": 397003834, "node_id": "MDU6SXNzdWUzOTcwMDM4MzQ=", "number": 129, "title": "Can't install on python:3.6.6-alpine container ", "user": {"login": "arossert", "id": 7085494, "node_id": "MDQ6VXNlcjcwODU0OTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/7085494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arossert", "html_url": "https://github.com/arossert", "followers_url": "https://api.github.com/users/arossert/followers", "following_url": "https://api.github.com/users/arossert/following{/other_user}", "gists_url": "https://api.github.com/users/arossert/gists{/gist_id}", "starred_url": "https://api.github.com/users/arossert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arossert/subscriptions", "organizations_url": "https://api.github.com/users/arossert/orgs", "repos_url": "https://api.github.com/users/arossert/repos", "events_url": "https://api.github.com/users/arossert/events{/privacy}", "received_events_url": "https://api.github.com/users/arossert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-08T17:14:36Z", "updated_at": "2019-02-14T15:11:48Z", "closed_at": "2019-02-14T15:11:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I install librabbitmq on `python:3.6.6-alpine` container with pip it seems that the install successes but the module is not installed:\r\n\r\n`/ # pip install librabbitmq\r\nCollecting librabbitmq\r\n  Downloading https://files.pythonhosted.org/packages/f4/4e/8f8bf33d44f3441d6f6c29b299cc847570b2c864bd8d2f9871aa6c03b73e/librabbitmq-2.0.0.tar.gz (42kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 51kB 469kB/s\r\nCollecting amqp>=1.4.6 (from librabbitmq)\r\n  Downloading https://files.pythonhosted.org/packages/7f/cf/12d4611fc67babd4ae250c9e8249c5650ae1933395488e9e7e3562b4ff24/amqp-2.3.2-py2.py3-none-any.whl (48kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 51kB 5.0MB/s\r\nCollecting six>=1.0.0 (from librabbitmq)\r\n  Downloading https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting vine>=1.1.3 (from amqp>=1.4.6->librabbitmq)\r\n  Downloading https://files.pythonhosted.org/packages/62/dd/e30f828a39914626d67876b987d6fc47616b64de680cd0f746fc9c8aab47/vine-1.2.0-py2.py3-none-any.whl\r\nBuilding wheels for collected packages: librabbitmq\r\n  Running setup.py bdist_wheel for librabbitmq ... done\r\n  Stored in directory: /root/.cache/pip/wheels/46/99/72/9044c0db1616e4ad40f5c518041883b38896117cfe18016a1f\r\nSuccessfully built librabbitmq\r\nInstalling collected packages: vine, amqp, six, librabbitmq\r\nSuccessfully installed amqp-2.3.2 librabbitmq-2.0.0 six-1.12.0 vine-1.2.0`\r\n\r\nAnd when I try to use it I get\r\n`Python 3.6.6 (default, Sep 12 2018, 02:15:29)\r\n[GCC 6.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import librabbitmq\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'librabbitmq'`\r\n\r\nAfter looking at the `site-packages` it seems that only this directory was installed `librabbitmq-2.0.0.dist-info`\r\n\r\nDoing the same on `python:3.6.6` image which brings debian9 it is working.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/128", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/128/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/128/events", "html_url": "https://github.com/celery/librabbitmq/issues/128", "id": 396737250, "node_id": "MDU6SXNzdWUzOTY3MzcyNTA=", "number": 128, "title": "librabbitmq 2.0.0 doesn't work with BSON?", "user": {"login": "chanpl", "id": 20372268, "node_id": "MDQ6VXNlcjIwMzcyMjY4", "avatar_url": "https://avatars1.githubusercontent.com/u/20372268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanpl", "html_url": "https://github.com/chanpl", "followers_url": "https://api.github.com/users/chanpl/followers", "following_url": "https://api.github.com/users/chanpl/following{/other_user}", "gists_url": "https://api.github.com/users/chanpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanpl/subscriptions", "organizations_url": "https://api.github.com/users/chanpl/orgs", "repos_url": "https://api.github.com/users/chanpl/repos", "events_url": "https://api.github.com/users/chanpl/events{/privacy}", "received_events_url": "https://api.github.com/users/chanpl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-08T03:32:50Z", "updated_at": "2019-02-13T01:44:10Z", "closed_at": "2019-02-05T12:02:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "My message is encoded in BSON format, but it seems librabbitmq doesn't work with that.\r\n\r\n**Error message:**\r\n`  File \"python3.6/site-packages/librabbitmq/__init__.py\", line 122, in basic_publish\r\n    mandatory or False, immediate or False,\r\nTypeError: argument 2 must be read-only bytes-like object, not memoryview\r\n`\r\n\r\nAppreciate if someone can acknowledge this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/126", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/126/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/126/events", "html_url": "https://github.com/celery/librabbitmq/issues/126", "id": 373454802, "node_id": "MDU6SXNzdWUzNzM0NTQ4MDI=", "number": 126, "title": "Error building librabbitmq 2.0.0 on macOS Mojave 10.14", "user": {"login": "zhangjiajie023", "id": 14030724, "node_id": "MDQ6VXNlcjE0MDMwNzI0", "avatar_url": "https://avatars1.githubusercontent.com/u/14030724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangjiajie023", "html_url": "https://github.com/zhangjiajie023", "followers_url": "https://api.github.com/users/zhangjiajie023/followers", "following_url": "https://api.github.com/users/zhangjiajie023/following{/other_user}", "gists_url": "https://api.github.com/users/zhangjiajie023/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangjiajie023/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangjiajie023/subscriptions", "organizations_url": "https://api.github.com/users/zhangjiajie023/orgs", "repos_url": "https://api.github.com/users/zhangjiajie023/repos", "events_url": "https://api.github.com/users/zhangjiajie023/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangjiajie023/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-24T12:23:20Z", "updated_at": "2018-11-28T23:09:32Z", "closed_at": "2018-11-01T07:47:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "macOS Mojave 10.14\r\nxcode 10.0\r\npython 3.5.4\r\nthe error in config.log is:\r\n\r\nThis file contains any messages produced by compilers while\r\nrunning configure, to aid debugging if configure makes a mistake.\r\n\r\nIt was created by rabbitmq-c configure 0.8.0, which was\r\ngenerated by GNU Autoconf 2.69.  Invocation command line was\r\n\r\n  $ configure --disable-tools --disable-docs --disable-dependency-tracking\r\n\r\n## --------- ##\r\n## Platform. ##\r\n## --------- ##\r\n\r\nhostname = bogon\r\nuname -m = x86_64\r\nuname -r = 18.0.0\r\nuname -s = Darwin\r\nuname -v = Darwin Kernel Version 18.0.0: Wed Aug 22 20:13:40 PDT 2018; root:xnu-4903.201.2~1/RELEASE_X86_64\r\n\r\n/usr/bin/uname -p = i386\r\n/bin/uname -X     = unknown\r\n\r\n/bin/arch              = unknown\r\n/usr/bin/arch -k       = unknown\r\n/usr/convex/getsysinfo = unknown\r\n/usr/bin/hostinfo      = Mach kernel version:\r\n\t Darwin Kernel Version 18.0.0: Wed Aug 22 20:13:40 PDT 2018; root:xnu-4903.201.2~1/RELEASE_X86_64\r\nKernel configured for up to 4 processors.\r\n2 processors are physically available.\r\n4 processors are logically available.\r\nProcessor type: x86_64h (Intel x86-64h Haswell)\r\nProcessors active: 0 1 2 3\r\nPrimary memory available: 16.00 gigabytes\r\nDefault processor set: 333 tasks, 1546 threads, 4 processors\r\nLoad average: 1.58, Mach factor: 2.41\r\n/bin/machine           = unknown\r\n/usr/bin/oslevel       = unknown\r\n/bin/universe          = unknown\r\n\r\nPATH: /Users/zhangjiajie/PycharmProjects/walle/venv/bin\r\nPATH: /usr/local/opt/openssl/bin\r\nPATH: /usr/local/opt/mysql@5.7/bin\r\nPATH: /opt/local/sbin\r\nPATH: /opt/local/bin\r\nPATH: /usr/local/sbin\r\nPATH: /usr/local/bin\r\nPATH: /usr/bin\r\nPATH: /Users/dorayo/bin\r\nPATH: /usr/bin\r\nPATH: /bin\r\nPATH: /usr/sbin\r\nPATH: /sbin\r\nPATH: /usr/local/bin\r\nPATH: /opt/local/bin\r\nPATH: /usr/local/mysql/bin\r\nPATH: /Applications/ejabberd-14.07/bin\r\n\r\n\r\n## ----------- ##\r\n## Core tests. ##\r\n## ----------- ##\r\n\r\nconfigure:2301: checking for a BSD-compatible install\r\nconfigure:2369: result: /usr/bin/install -c\r\nconfigure:2380: checking whether build environment is sane\r\nconfigure:2435: result: yes\r\nconfigure:2586: checking for a thread-safe mkdir -p\r\nconfigure:2625: result: ./install-sh -c -d\r\nconfigure:2632: checking for gawk\r\nconfigure:2662: result: no\r\nconfigure:2632: checking for mawk\r\nconfigure:2662: result: no\r\nconfigure:2632: checking for nawk\r\nconfigure:2662: result: no\r\nconfigure:2632: checking for awk\r\nconfigure:2648: found /usr/bin/awk\r\nconfigure:2659: result: awk\r\nconfigure:2670: checking whether make sets $(MAKE)\r\nconfigure:2692: result: yes\r\nconfigure:2721: checking whether make supports nested variables\r\nconfigure:2738: result: yes\r\nconfigure:2875: checking whether make supports nested variables\r\nconfigure:2892: result: yes\r\nconfigure:2908: checking whether make supports the include directive\r\nconfigure:2923: make -f confmf.GNU && cat confinc.out\r\nthis is the am__doit target\r\nconfigure:2926: $? = 0\r\nconfigure:2945: result: yes (GNU style)\r\nconfigure:3015: checking for gcc\r\nconfigure:3031: found /usr/bin/gcc\r\nconfigure:3042: result: gcc\r\nconfigure:3271: checking for C compiler version\r\nconfigure:3280: gcc --version >&5\r\nApple LLVM version 10.0.0 (clang-1000.11.45.2)\r\nTarget: x86_64-apple-darwin18.0.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/c++/4.2.1\r\nconfigure:3291: $? = 0\r\nconfigure:3280: gcc -v >&5\r\nConfigured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include/c++/4.2.1\r\nApple LLVM version 10.0.0 (clang-1000.11.45.2)\r\nTarget: x86_64-apple-darwin18.0.0\r\nThread model: posix\r\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin\r\nconfigure:3291: $? = 0\r\nconfigure:3280: gcc -V >&5\r\nclang: error: argument to '-V' is missing (expected 1 value)\r\nclang: error: no input files\r\nconfigure:3291: $? = 1\r\nconfigure:3280: gcc -qversion >&5\r\nclang: error: unknown argument: '-qversion'\r\nclang: error: no input files\r\nconfigure:3291: $? = 1\r\n**configure:3311: checking whether the C compiler works\r\nconfigure:3333: gcc -fno-strict-aliasing -Wsign-compare -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -arch i386 -arch x86_64  -g -I/usr/local/opt/openssl/include -L/usr/local/opt/openssl/lib -arch i386 -arch x86_64  -g -L/usr/local/opt/openssl/lib conftest.c  >&5\r\nld: warning: The i386 architecture is deprecated for macOS (remove from the Xcode build setting: ARCHS)\r\nld: warning: ignoring file /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/lib/libSystem.tbd, missing required architecture i386 in file /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/lib/libSystem.tbd\r\nld: dynamic main executables must link with libSystem.dylib for architecture i386\r\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\r\nconfigure:3337: $? = 1\r\nconfigure:3375: result: no**\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME \"rabbitmq-c\"\r\n| #define PACKAGE_TARNAME \"rabbitmq-c\"\r\n| #define PACKAGE_VERSION \"0.8.0\"\r\n| #define PACKAGE_STRING \"rabbitmq-c 0.8.0\"\r\n| #define PACKAGE_BUGREPORT \"https://github.com/alanxz/rabbitmq-c/issues\"\r\n| #define PACKAGE_URL \"http://www.rabbitmq.com/\"\r\n| #define PACKAGE \"rabbitmq-c\"\r\n| #define VERSION \"0.8.0\"\r\n| /* end confdefs.h.  */\r\n|\r\n| int\r\n| main ()\r\n| {\r\n|\r\n|   ;\r\n|   return 0;\r\n| }\r\n**configure:3380: error: in `/Users/xxx/PycharmProjects/librabbitmq/rabbitmq-c':\r\nconfigure:3382: error: C compiler cannot create executables**\r\nSee `config.log' for more details\r\n\r\n## ---------------- ##\r\n## Cache variables. ##\r\n## ---------------- ##\r\n\r\n......\r\n\r\n## ----------------- ##\r\n## Output variables. ##\r\n## ----------------- ##\r\n......\r\n\r\n## ----------- ##\r\n## confdefs.h. ##\r\n## ----------- ##\r\n\r\n/* confdefs.h */\r\n#define PACKAGE_NAME \"rabbitmq-c\"\r\n#define PACKAGE_TARNAME \"rabbitmq-c\"\r\n#define PACKAGE_VERSION \"0.8.0\"\r\n#define PACKAGE_STRING \"rabbitmq-c 0.8.0\"\r\n#define PACKAGE_BUGREPORT \"https://github.com/alanxz/rabbitmq-c/issues\"\r\n#define PACKAGE_URL \"http://www.rabbitmq.com/\"\r\n#define PACKAGE \"rabbitmq-c\"\r\n#define VERSION \"0.8.0\"\r\n\r\nconfigure: exit 77", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/120", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/120/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/120/events", "html_url": "https://github.com/celery/librabbitmq/issues/120", "id": 322147531, "node_id": "MDU6SXNzdWUzMjIxNDc1MzE=", "number": 120, "title": "How do I build the development version?", "user": {"login": "vgoklani", "id": 180487, "node_id": "MDQ6VXNlcjE4MDQ4Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/180487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vgoklani", "html_url": "https://github.com/vgoklani", "followers_url": "https://api.github.com/users/vgoklani/followers", "following_url": "https://api.github.com/users/vgoklani/following{/other_user}", "gists_url": "https://api.github.com/users/vgoklani/gists{/gist_id}", "starred_url": "https://api.github.com/users/vgoklani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vgoklani/subscriptions", "organizations_url": "https://api.github.com/users/vgoklani/orgs", "repos_url": "https://api.github.com/users/vgoklani/repos", "events_url": "https://api.github.com/users/vgoklani/events{/privacy}", "received_events_url": "https://api.github.com/users/vgoklani/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-11T02:35:41Z", "updated_at": "2018-05-30T14:52:49Z", "closed_at": "2018-05-30T14:52:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried the instructions in the readme:\r\n\r\n``\r\n74bee45de169 root@~ $ git clone git://github.com/celery/librabbitmq.git\r\nCloning into 'librabbitmq'...\r\nremote: Counting objects: 1577, done.\r\nremote: Compressing objects: 100% (7/7), done.\r\nremote: Total 1577 (delta 1), reused 4 (delta 1), pack-reused 1569\r\nReceiving objects: 100% (1577/1577), 1.53 MiB | 0 bytes/s, done.\r\nResolving deltas: 100% (818/818), done.\r\nChecking connectivity... done.\r\n74bee45de169 root@~ $ cd librabbitmq/\r\n74bee45de169 root@~/librabbitmq [master] $ ls\r\nAUTHORS               Modules                     funtests      setup.py\r\nChangelog             README.rst                  librabbitmq   tests\r\nLICENSE-GPL-2.0       TODO                        manylinux1    wheelhouse\r\nLICENSE-MPL-RabbitMQ  benchmark.py                rabbitmq-c\r\nMANIFEST.in           build-manylinux1-wheels.sh  requirements\r\nMakefile              contrib                     setup.cfg\r\n74bee45de169 root@~/librabbitmq [master] $ make install\r\nrm -rf build\r\ngit submodule init\r\nSubmodule 'rabbitmq-c' (https://github.com/alanxz/rabbitmq-c.git) registered for path 'rabbitmq-c'\r\ngit submodule update\r\nCloning into 'rabbitmq-c'...\r\nremote: Counting objects: 6175, done.\r\nremote: Compressing objects: 100% (12/12), done.\r\nremote: Total 6175 (delta 6), reused 4 (delta 3), pack-reused 6160\r\nReceiving objects: 100% (6175/6175), 2.63 MiB | 0 bytes/s, done.\r\nResolving deltas: 100% (4286/4286), done.\r\nChecking connectivity... done.\r\nSubmodule path 'rabbitmq-c': checked out 'caad0ef1533783729c7644a226c989c79b4c497b'\r\n(cd rabbitmq-c; test -f configure || autoreconf -i)\r\n/bin/sh: 1: autoreconf: not found\r\nMakefile:18: recipe for target 'rabbitmq-c' failed\r\nmake: *** [rabbitmq-c] Error 127\r\n74bee45de169 root@~/librabbitmq [master] $\r\n```\r\n\r\nShouldn't it automatically build the C version?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/118", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/118/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/118/events", "html_url": "https://github.com/celery/librabbitmq/issues/118", "id": 318941556, "node_id": "MDU6SXNzdWUzMTg5NDE1NTY=", "number": 118, "title": "version 2 on pypi", "user": {"login": "mehdipourfar", "id": 13090047, "node_id": "MDQ6VXNlcjEzMDkwMDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/13090047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mehdipourfar", "html_url": "https://github.com/mehdipourfar", "followers_url": "https://api.github.com/users/mehdipourfar/followers", "following_url": "https://api.github.com/users/mehdipourfar/following{/other_user}", "gists_url": "https://api.github.com/users/mehdipourfar/gists{/gist_id}", "starred_url": "https://api.github.com/users/mehdipourfar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mehdipourfar/subscriptions", "organizations_url": "https://api.github.com/users/mehdipourfar/orgs", "repos_url": "https://api.github.com/users/mehdipourfar/repos", "events_url": "https://api.github.com/users/mehdipourfar/events{/privacy}", "received_events_url": "https://api.github.com/users/mehdipourfar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-04-30T15:56:17Z", "updated_at": "2020-03-05T12:29:34Z", "closed_at": "2018-05-30T14:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version 2 is unavailable at pypi. I cannot use it with python3.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/111", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/111/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/111/events", "html_url": "https://github.com/celery/librabbitmq/issues/111", "id": 292116157, "node_id": "MDU6SXNzdWUyOTIxMTYxNTc=", "number": 111, "title": "Error via `pip install` command", "user": {"login": "koddr", "id": 11155743, "node_id": "MDQ6VXNlcjExMTU1NzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/11155743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koddr", "html_url": "https://github.com/koddr", "followers_url": "https://api.github.com/users/koddr/followers", "following_url": "https://api.github.com/users/koddr/following{/other_user}", "gists_url": "https://api.github.com/users/koddr/gists{/gist_id}", "starred_url": "https://api.github.com/users/koddr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koddr/subscriptions", "organizations_url": "https://api.github.com/users/koddr/orgs", "repos_url": "https://api.github.com/users/koddr/repos", "events_url": "https://api.github.com/users/koddr/events{/privacy}", "received_events_url": "https://api.github.com/users/koddr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-01-27T12:17:48Z", "updated_at": "2018-02-27T19:08:51Z", "closed_at": "2018-02-27T08:31:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n\r\nI've error via `pip install` your library:\r\n\r\n```shell\r\n$ pip install librabbitmq\r\n\r\nCollecting librabbitmq\r\n  Using cached librabbitmq-1.6.1.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/sb/pctpc4n106j0gncbjwvg9p7m0000gn/T/pycharm-packaging/librabbitmq/setup.py\", line 191\r\n        except Exception, exc:\r\n                        ^\r\n    SyntaxError: invalid syntax\r\n    \r\n    ----------------------------------------\r\n\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/sb/pctpc4n106j0gncbjwvg9p7m0000gn/T/pycharm-packaging/librabbitmq/\r\n\r\n```\r\n\r\nHow to solve it? Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/110", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/110/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/110/events", "html_url": "https://github.com/celery/librabbitmq/issues/110", "id": 290724929, "node_id": "MDU6SXNzdWUyOTA3MjQ5Mjk=", "number": 110, "title": "compile error on Mac OS X use pip(python 3.6)", "user": {"login": "Neulana", "id": 27862542, "node_id": "MDQ6VXNlcjI3ODYyNTQy", "avatar_url": "https://avatars2.githubusercontent.com/u/27862542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Neulana", "html_url": "https://github.com/Neulana", "followers_url": "https://api.github.com/users/Neulana/followers", "following_url": "https://api.github.com/users/Neulana/following{/other_user}", "gists_url": "https://api.github.com/users/Neulana/gists{/gist_id}", "starred_url": "https://api.github.com/users/Neulana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Neulana/subscriptions", "organizations_url": "https://api.github.com/users/Neulana/orgs", "repos_url": "https://api.github.com/users/Neulana/repos", "events_url": "https://api.github.com/users/Neulana/events{/privacy}", "received_events_url": "https://api.github.com/users/Neulana/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-23T06:39:57Z", "updated_at": "2018-03-22T12:11:41Z", "closed_at": "2018-03-22T12:11:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running setup.py install for librabbitmq ... error\r\n    Complete output from command /usr/local/opt/python3/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/private/tmp/pip-okezcxcl-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-l_9g0rqb-record/install-record.txt --single-version-externally-managed --compile:\r\n    running build\r\n    - configure rabbitmq-c...\r\n    /bin/sh: configure: No such file or directory\r\n    running install\r\n    running install_lib\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.12-x86_64-3.6\r\n    creating build/lib.macosx-10.12-x86_64-3.6/librabbitmq\r\n    copying librabbitmq/__init__.py -> build/lib.macosx-10.12-x86_64-3.6/librabbitmq\r\n    creating build/lib.macosx-10.12-x86_64-3.6/funtests\r\n    copying funtests/config.py -> build/lib.macosx-10.12-x86_64-3.6/funtests\r\n    copying funtests/disabled_basic_get_leak.py -> build/lib.macosx-10.12-x86_64-3.6/funtests\r\n    copying funtests/__init__.py -> build/lib.macosx-10.12-x86_64-3.6/funtests\r\n    copying funtests/setup.py -> build/lib.macosx-10.12-x86_64-3.6/funtests\r\n    creating build/lib.macosx-10.12-x86_64-3.6/librabbitmq/tests\r\n    copying librabbitmq/tests/test_functional.py -> build/lib.macosx-10.12-x86_64-3.6/librabbitmq/tests\r\n    copying librabbitmq/tests/__init__.py -> build/lib.macosx-10.12-x86_64-3.6/librabbitmq/tests\r\n    creating build/lib.macosx-10.12-x86_64-3.6/funtests/tests\r\n    copying funtests/tests/__init__.py -> build/lib.macosx-10.12-x86_64-3.6/funtests/tests\r\n    copying funtests/tests/test_channel_errors.py -> build/lib.macosx-10.12-x86_64-3.6/funtests/tests\r\n    running build_ext\r\n    building '_librabbitmq' extension\r\n    creating build/temp.macosx-10.12-x86_64-3.6\r\n    creating build/temp.macosx-10.12-x86_64-3.6/Modules\r\n    creating build/temp.macosx-10.12-x86_64-3.6/Modules/_librabbitmq\r\n    creating build/temp.macosx-10.12-x86_64-3.6/rabbitmq-c\r\n    creating build/temp.macosx-10.12-x86_64-3.6/rabbitmq-c/librabbitmq\r\n    clang -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -Irabbitmq-c/librabbitmq -Irabbitmq-c -I/usr/local/include -I/usr/local/opt/openssl/include -I/usr/local/opt/sqlite/include -I/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/include/python3.6m -c Modules/_librabbitmq/connection.c -o build/temp.macosx-10.12-x86_64-3.6/Modules/_librabbitmq/connection.o\r\n    Modules/_librabbitmq/connection.c:299:29: warning: comparison of integers of different signs: 'uint64_t' (aka 'unsigned long long') and 'int' [-Wsign-compare]\r\n                if (clong_value == -1)\r\n                    ~~~~~~~~~~~ ^  ~~\r\n    Modules/_librabbitmq/connection.c:365:17: warning: using the result of an assignment as a condition without parentheses [-Wparentheses]\r\n        while (item = PyIter_Next(iterator)) {\r\n               ~~~~~^~~~~~~~~~~~~~~~~~~~~~~\r\n    Modules/_librabbitmq/connection.c:365:17: note: place parentheses around the assignment to silence this warning\r\n        while (item = PyIter_Next(iterator)) {\r\n                    ^\r\n               (                           )\r\n    Modules/_librabbitmq/connection.c:365:17: note: use '==' to turn this assignment into an equality comparison\r\n        while (item = PyIter_Next(iterator)) {\r\n                    ^\r\n                    ==\r\n    Modules/_librabbitmq/connection.c:410:1: warning: unused label 'error' [-Wunused-label]\r\n    error:\r\n    ^~~~~~\r\n    Modules/_librabbitmq/connection.c:1003:16: warning: incompatible pointer to integer conversion returning 'PyObject *' (aka 'struct _object *') from a function with result type 'int' [-Wint-conversion]\r\n            return PyErr_NoMemory();\r\n                   ^~~~~~~~~~~~~~~~\r\n    Modules/_librabbitmq/connection.c:1359:13: warning: implicit declaration of function 'amqp_simple_wait_frame_on_channel' is invalid in C99 [-Wimplicit-function-declaration]\r\n                amqp_simple_wait_frame_on_channel(conn, cur_channel, &frame);\r\n                ^\r\n    Modules/_librabbitmq/connection.c:1359:13: warning: this function declaration is not a prototype [-Wstrict-prototypes]\r\n    6 warnings generated.\r\n    clang -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -Irabbitmq-c/librabbitmq -Irabbitmq-c -I/usr/local/include -I/usr/local/opt/openssl/include -I/usr/local/opt/sqlite/include -I/usr/local/Cellar/python3/3.6.2/Frameworks/Python.framework/Versions/3.6/include/python3.6m -c rabbitmq-c/librabbitmq/amqp_api.c -o build/temp.macosx-10.12-x86_64-3.6/rabbitmq-c/librabbitmq/amqp_api.o\r\n    In file included from rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    rabbitmq-c/librabbitmq/amqp_private.h:332:1: error: expected ')'\r\n    DECLARE_XTOXLL(hton)\r\n    ^\r\n    rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:400:1: note: expanded from here\r\n    htonll\r\n    ^\r\n    /usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n    #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n                                 ^\r\n    rabbitmq-c/librabbitmq/amqp_private.h:332:1: note: to match this '('\r\n    rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:400:1: note: expanded from here\r\n    htonll\r\n    ^\r\n    /usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n    #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n        ^\r\n    In file included from rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    rabbitmq-c/librabbitmq/amqp_private.h:332:1: error: definition of builtin function '__builtin_constant_p'\r\n    DECLARE_XTOXLL(hton)\r\n    ^\r\n    rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:400:1: note: expanded from here\r\n    htonll\r\n    ^\r\n    /usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\r\n    #define htonll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n         ^\r\n    In file included from rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    rabbitmq-c/librabbitmq/amqp_private.h:333:1: error: expected ')'\r\n    DECLARE_XTOXLL(ntoh)\r\n    ^\r\n    rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:400:1: note: expanded from here\r\n    ntohll\r\n    ^\r\n    /usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n    #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n                                 ^\r\n    rabbitmq-c/librabbitmq/amqp_private.h:333:1: note: to match this '('\r\n    rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:400:1: note: expanded from here\r\n    ntohll\r\n    ^\r\n    /usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n    #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n        ^\r\n    In file included from rabbitmq-c/librabbitmq/amqp_api.c:48:\r\n    rabbitmq-c/librabbitmq/amqp_private.h:333:1: error: definition of builtin function '__builtin_constant_p'\r\n    DECLARE_XTOXLL(ntoh)\r\n    ^\r\n    rabbitmq-c/librabbitmq/amqp_private.h:298:26: note: expanded from macro 'DECLARE_XTOXLL'\r\n      static inline uint64_t func##ll(uint64_t val)     \\\r\n                             ^\r\n    <scratch space>:400:1: note: expanded from here\r\n    ntohll\r\n    ^\r\n    /usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\r\n    #define ntohll(x)       __DARWIN_OSSwapInt64(x)\r\n                            ^\r\n    /usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\r\n        (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\r\n         ^\r\n    4 errors generated.\r\n    error: command 'clang' failed with exit status 1\r\n\r\n\r\n\r\nI use command \"sudo pip3 install git+git://github.com/celery/librabbitmq.git@2.0.0\", the above error happened, but when I download the source code and execute \"sudo make install\" command, their is no any error happened, I don't know why\uff1f", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/101", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/101/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/101/events", "html_url": "https://github.com/celery/librabbitmq/issues/101", "id": 263278064, "node_id": "MDU6SXNzdWUyNjMyNzgwNjQ=", "number": 101, "title": "Can't Make Install", "user": {"login": "7h3kk1d", "id": 995429, "node_id": "MDQ6VXNlcjk5NTQyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/995429?v=4", "gravatar_id": "", "url": "https://api.github.com/users/7h3kk1d", "html_url": "https://github.com/7h3kk1d", "followers_url": "https://api.github.com/users/7h3kk1d/followers", "following_url": "https://api.github.com/users/7h3kk1d/following{/other_user}", "gists_url": "https://api.github.com/users/7h3kk1d/gists{/gist_id}", "starred_url": "https://api.github.com/users/7h3kk1d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/7h3kk1d/subscriptions", "organizations_url": "https://api.github.com/users/7h3kk1d/orgs", "repos_url": "https://api.github.com/users/7h3kk1d/repos", "events_url": "https://api.github.com/users/7h3kk1d/events{/privacy}", "received_events_url": "https://api.github.com/users/7h3kk1d/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-05T21:52:31Z", "updated_at": "2018-01-15T10:43:29Z", "closed_at": "2018-01-15T10:43:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ever since the merging of #99 I can't `make install`:\r\n```\r\nCCLD     examples/amqps_unbind\r\nmake[2]: Leaving directory `/home/thekkid/Projects/librabbitmq/rabbitmq-c'\r\nmake[1]: Leaving directory `/home/thekkid/Projects/librabbitmq/rabbitmq-c'\r\nmv \"rabbitmq-c/rabbitmq-c-0.8.0\" \"clib\"\r\nmv: cannot stat \u2018rabbitmq-c/rabbitmq-c-0.8.0\u2019: No such file or directory\r\nmake: *** [clib] Error 1\r\n```\r\n\r\nUsing Ubuntu 14.04. Assuming this is related to the submodule changes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/100", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/100/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/100/events", "html_url": "https://github.com/celery/librabbitmq/issues/100", "id": 258221347, "node_id": "MDU6SXNzdWUyNTgyMjEzNDc=", "number": 100, "title": "python3 -m pip install librabbitmq # raises a SyntaxError", "user": {"login": "cclauss", "id": 3709715, "node_id": "MDQ6VXNlcjM3MDk3MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3709715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cclauss", "html_url": "https://github.com/cclauss", "followers_url": "https://api.github.com/users/cclauss/followers", "following_url": "https://api.github.com/users/cclauss/following{/other_user}", "gists_url": "https://api.github.com/users/cclauss/gists{/gist_id}", "starred_url": "https://api.github.com/users/cclauss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cclauss/subscriptions", "organizations_url": "https://api.github.com/users/cclauss/orgs", "repos_url": "https://api.github.com/users/cclauss/repos", "events_url": "https://api.github.com/users/cclauss/events{/privacy}", "received_events_url": "https://api.github.com/users/cclauss/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-09-16T09:42:05Z", "updated_at": "2018-05-30T03:47:06Z", "closed_at": "2018-03-07T16:11:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "$ python3 -m pip install librabbitmq  # appears to be fixed in #99 \r\n```\r\nCollecting librabbitmq\r\n  Using cached librabbitmq-1.6.1.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/0n/hps2hvvd765bt55ydqqdhf4m0000gn/T/pip-build-h50ra2mh/librabbitmq/setup.py\", line 191\r\n        except Exception, exc:\r\n                        ^\r\n    SyntaxError: invalid syntax\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/0n/hps2hvvd765bt55ydqqdhf4m0000gn/T/pip-build-h50ra2mh/librabbitmq/\r\n```\r\n\r\nWorkaround: `python3 -m pip install git+https://github.com/celery/librabbitmq`\r\n* However #99 appears to be a safer way to go until there is [release > 1.6.1](https://github.com/celery/librabbitmq/releases) _Nov 2014_.  @auvipy ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/97", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/97/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/97/events", "html_url": "https://github.com/celery/librabbitmq/issues/97", "id": 251061591, "node_id": "MDU6SXNzdWUyNTEwNjE1OTE=", "number": 97, "title": "interleaving between channels not supported?", "user": {"login": "merutak", "id": 6146071, "node_id": "MDQ6VXNlcjYxNDYwNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6146071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/merutak", "html_url": "https://github.com/merutak", "followers_url": "https://api.github.com/users/merutak/followers", "following_url": "https://api.github.com/users/merutak/following{/other_user}", "gists_url": "https://api.github.com/users/merutak/gists{/gist_id}", "starred_url": "https://api.github.com/users/merutak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/merutak/subscriptions", "organizations_url": "https://api.github.com/users/merutak/orgs", "repos_url": "https://api.github.com/users/merutak/repos", "events_url": "https://api.github.com/users/merutak/events{/privacy}", "received_events_url": "https://api.github.com/users/merutak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-17T20:24:42Z", "updated_at": "2018-01-15T10:55:16Z", "closed_at": "2018-01-15T10:55:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "`PyRabbitMQ_recv` receives a method-frame, then a header-frame, and then body-frames. If inside the body it receives another method-frame, it returns an error (\"ConnectionError: Bad frame read\").\r\n\r\nThe thing is, frames might come from different channels. So that 'erroneous' method-frame might actually be a legitimate start in a different channel. This isn't checked or handled in `PyRabbitMQ_recv` - maybe `amqp_simple_wait_frame_on_channel` is supposed to be called instead of `amqp_simple_wait_frame` for the subsequent frames (after the method)?\r\n\r\nNaturally this mostly affects messages with large bodies, since they're split across more frames.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/96", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/96/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/96/events", "html_url": "https://github.com/celery/librabbitmq/issues/96", "id": 246527704, "node_id": "MDU6SXNzdWUyNDY1Mjc3MDQ=", "number": 96, "title": "Memory leak on SmartOS when connection unavailable", "user": {"login": "secult", "id": 4550814, "node_id": "MDQ6VXNlcjQ1NTA4MTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4550814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/secult", "html_url": "https://github.com/secult", "followers_url": "https://api.github.com/users/secult/followers", "following_url": "https://api.github.com/users/secult/following{/other_user}", "gists_url": "https://api.github.com/users/secult/gists{/gist_id}", "starred_url": "https://api.github.com/users/secult/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/secult/subscriptions", "organizations_url": "https://api.github.com/users/secult/orgs", "repos_url": "https://api.github.com/users/secult/repos", "events_url": "https://api.github.com/users/secult/events{/privacy}", "received_events_url": "https://api.github.com/users/secult/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-29T15:26:56Z", "updated_at": "2018-05-30T14:52:06Z", "closed_at": "2018-05-30T14:52:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI have an issue with using this library with celery on SmartOS. The memory usage is gradually building up when connection to amqp server is unavailable. The solution for my project was to not use librabbitmq library and use the amqp library. \r\n\r\nI tried version downloaded from pypi, the same version built manually, and also the latest librabbitmq version from here. I understand that the forked rabbitmq-c version is quite outdated, although I didn't manage to build this library with any newer rabbitmq-c version.\r\nDetails:\r\nlibrabbitmq version 1.6.1 and the latest master\r\nCelery version 3.1.25\r\nSmartOS build 20170624T192838Z\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/94", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/94/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/94/events", "html_url": "https://github.com/celery/librabbitmq/issues/94", "id": 216633641, "node_id": "MDU6SXNzdWUyMTY2MzM2NDE=", "number": 94, "title": "Guidance on which rabbit lib to use with celery/celery?", "user": {"login": "MaerF0x0", "id": 247846, "node_id": "MDQ6VXNlcjI0Nzg0Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/247846?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaerF0x0", "html_url": "https://github.com/MaerF0x0", "followers_url": "https://api.github.com/users/MaerF0x0/followers", "following_url": "https://api.github.com/users/MaerF0x0/following{/other_user}", "gists_url": "https://api.github.com/users/MaerF0x0/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaerF0x0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaerF0x0/subscriptions", "organizations_url": "https://api.github.com/users/MaerF0x0/orgs", "repos_url": "https://api.github.com/users/MaerF0x0/repos", "events_url": "https://api.github.com/users/MaerF0x0/events{/privacy}", "received_events_url": "https://api.github.com/users/MaerF0x0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-24T03:18:39Z", "updated_at": "2017-03-24T04:14:52Z", "closed_at": "2017-03-24T04:14:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @ask  I am newer to celery and its unclear to me if we should be aiming to use librabbitmq (last tagged release Nov 2014)  vs celery/py-amqp  (Dec 2016 release) . Could you provide direction of which is the better choice? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/93", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/93/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/93/events", "html_url": "https://github.com/celery/librabbitmq/issues/93", "id": 208448785, "node_id": "MDU6SXNzdWUyMDg0NDg3ODU=", "number": 93, "title": "librabbitmq 1.6.1 doesn't work with Celery4.0.2", "user": {"login": "acidjunk", "id": 685002, "node_id": "MDQ6VXNlcjY4NTAwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/685002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acidjunk", "html_url": "https://github.com/acidjunk", "followers_url": "https://api.github.com/users/acidjunk/followers", "following_url": "https://api.github.com/users/acidjunk/following{/other_user}", "gists_url": "https://api.github.com/users/acidjunk/gists{/gist_id}", "starred_url": "https://api.github.com/users/acidjunk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acidjunk/subscriptions", "organizations_url": "https://api.github.com/users/acidjunk/orgs", "repos_url": "https://api.github.com/users/acidjunk/repos", "events_url": "https://api.github.com/users/acidjunk/events{/privacy}", "received_events_url": "https://api.github.com/users/acidjunk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-17T13:55:55Z", "updated_at": "2018-01-15T11:11:11Z", "closed_at": "2018-01-15T11:11:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to use Celery4.0.2 with librabbitmq; celery refuses to accept messages with:\r\n\r\n`[2017-02-17 08:51:59,251: WARNING/MainProcess] Received and deleted unknown message.  Wrong destination?!?`\r\n\r\nThe problem is also describe here: https://github.com/celery/celery/issues/3675\r\n\r\nWill there be an update or are we better of by using amqp?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/88", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/88/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/88/events", "html_url": "https://github.com/celery/librabbitmq/issues/88", "id": 174922985, "node_id": "MDU6SXNzdWUxNzQ5MjI5ODU=", "number": 88, "title": "Publishing manylinux1 wheels to PyPi", "user": {"login": "amitsaha", "id": 512598, "node_id": "MDQ6VXNlcjUxMjU5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/512598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amitsaha", "html_url": "https://github.com/amitsaha", "followers_url": "https://api.github.com/users/amitsaha/followers", "following_url": "https://api.github.com/users/amitsaha/following{/other_user}", "gists_url": "https://api.github.com/users/amitsaha/gists{/gist_id}", "starred_url": "https://api.github.com/users/amitsaha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amitsaha/subscriptions", "organizations_url": "https://api.github.com/users/amitsaha/orgs", "repos_url": "https://api.github.com/users/amitsaha/repos", "events_url": "https://api.github.com/users/amitsaha/events{/privacy}", "received_events_url": "https://api.github.com/users/amitsaha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-03T23:34:34Z", "updated_at": "2018-05-30T14:49:23Z", "closed_at": "2018-05-30T14:49:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Now that PR #87 has been merged, can we start publishing `manylinux1` wheels to PyPi? This will follow other packages such as [gevent](https://pypi.python.org/pypi/gevent) - happy to help with this.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/85", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/85/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/85/events", "html_url": "https://github.com/celery/librabbitmq/issues/85", "id": 163154264, "node_id": "MDU6SXNzdWUxNjMxNTQyNjQ=", "number": 85, "title": "ImproperlyConfigured: Unknown result backend: 'librabbitmq'", "user": {"login": "kharazi", "id": 1734380, "node_id": "MDQ6VXNlcjE3MzQzODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1734380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kharazi", "html_url": "https://github.com/kharazi", "followers_url": "https://api.github.com/users/kharazi/followers", "following_url": "https://api.github.com/users/kharazi/following{/other_user}", "gists_url": "https://api.github.com/users/kharazi/gists{/gist_id}", "starred_url": "https://api.github.com/users/kharazi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kharazi/subscriptions", "organizations_url": "https://api.github.com/users/kharazi/orgs", "repos_url": "https://api.github.com/users/kharazi/repos", "events_url": "https://api.github.com/users/kharazi/events{/privacy}", "received_events_url": "https://api.github.com/users/kharazi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-30T12:33:39Z", "updated_at": "2016-08-06T14:33:44Z", "closed_at": "2016-08-06T14:33:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to [document of celery](http://docs.celeryproject.org/en/latest/userguide/optimizing.html#librabbitmq-python-2-only), when i set `librabbitmq` before my broker of celery, i got this error:\n\n`ImproperlyConfigured: Unknown result backend: 'librabbitmq'.  Did you spell that correctly? ('is a Python module, not a backend class.')\n`\nlibrabbitmq, was installed in virtualenv correctly:\n\n```\n[GCC 4.9.2 20150212 (Red Hat 4.9.2-6)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import librabbitmq\n>>> \n\n```\n\nHow can I ensure it use librabbitmq?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/84", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/84/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/84/events", "html_url": "https://github.com/celery/librabbitmq/issues/84", "id": 162298330, "node_id": "MDU6SXNzdWUxNjIyOTgzMzA=", "number": 84, "title": "Benchmark against py-amqp", "user": {"login": "caulagi", "id": 222507, "node_id": "MDQ6VXNlcjIyMjUwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/222507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caulagi", "html_url": "https://github.com/caulagi", "followers_url": "https://api.github.com/users/caulagi/followers", "following_url": "https://api.github.com/users/caulagi/following{/other_user}", "gists_url": "https://api.github.com/users/caulagi/gists{/gist_id}", "starred_url": "https://api.github.com/users/caulagi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caulagi/subscriptions", "organizations_url": "https://api.github.com/users/caulagi/orgs", "repos_url": "https://api.github.com/users/caulagi/repos", "events_url": "https://api.github.com/users/caulagi/events{/privacy}", "received_events_url": "https://api.github.com/users/caulagi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-06-25T20:30:31Z", "updated_at": "2019-06-12T09:36:07Z", "closed_at": "2019-06-12T09:35:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "The project description in this repo and celery docs recommend using librabbitmq.  I was wondering if there are benchmarks against py-amqp (https://github.com/celery/py-amqp).  I see a benchmark.py in the repo but that seems to compare amqplib and not py-amqp.  \n\nWill there be a difference in a project that is already using py-amqp to use librabbitmq?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/83", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/83/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/83/events", "html_url": "https://github.com/celery/librabbitmq/issues/83", "id": 157225432, "node_id": "MDU6SXNzdWUxNTcyMjU0MzI=", "number": 83, "title": "Setup.cfg installs the newest amqp which is still not released", "user": {"login": "yardensachs", "id": 2768400, "node_id": "MDQ6VXNlcjI3Njg0MDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2768400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yardensachs", "html_url": "https://github.com/yardensachs", "followers_url": "https://api.github.com/users/yardensachs/followers", "following_url": "https://api.github.com/users/yardensachs/following{/other_user}", "gists_url": "https://api.github.com/users/yardensachs/gists{/gist_id}", "starred_url": "https://api.github.com/users/yardensachs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yardensachs/subscriptions", "organizations_url": "https://api.github.com/users/yardensachs/orgs", "repos_url": "https://api.github.com/users/yardensachs/repos", "events_url": "https://api.github.com/users/yardensachs/events{/privacy}", "received_events_url": "https://api.github.com/users/yardensachs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-27T14:57:54Z", "updated_at": "2016-08-06T14:43:13Z", "closed_at": "2016-08-06T14:43:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/celery/librabbitmq/blob/master/setup.cfg:\n\"requires = amqp >= 1.4.6\"\nThis installs 2.0.0rc#\n\nWhich in turn, makes celery useless:\n\n```\nAfter updating to python-amqp 2.0.0-1 celery cannot be used anymore.\nTraceback extract:\n\nFile \"/home/till/devel/evocount/evocount_core/evocount_tasks/celery.py\", line 9, in <module>\nfrom celery import Celery\nFile \"/usr/lib/python3.5/site-packages/celery/five.py\", line 306, in __getattr__\nmodule = __import__(self._object_origins[name], None, None, [name])\nFile \"/usr/lib/python3.5/site-packages/celery/app/__init__.py\", line 22, in <module>\nfrom .base import Celery, AppPickler\nFile \"/usr/lib/python3.5/site-packages/celery/app/base.py\", line 19, in <module>\nfrom amqp import promise\nImportError: cannot import name 'promise'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/81", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/81/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/81/events", "html_url": "https://github.com/celery/librabbitmq/issues/81", "id": 141885783, "node_id": "MDU6SXNzdWUxNDE4ODU3ODM=", "number": 81, "title": "Any plans for librabbitmq-2.0.0 release?", "user": {"login": "mrueg", "id": 489370, "node_id": "MDQ6VXNlcjQ4OTM3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/489370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrueg", "html_url": "https://github.com/mrueg", "followers_url": "https://api.github.com/users/mrueg/followers", "following_url": "https://api.github.com/users/mrueg/following{/other_user}", "gists_url": "https://api.github.com/users/mrueg/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrueg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrueg/subscriptions", "organizations_url": "https://api.github.com/users/mrueg/orgs", "repos_url": "https://api.github.com/users/mrueg/repos", "events_url": "https://api.github.com/users/mrueg/events{/privacy}", "received_events_url": "https://api.github.com/users/mrueg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-03-18T14:42:23Z", "updated_at": "2018-05-30T14:50:04Z", "closed_at": "2018-05-30T14:50:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \n\nI see the last version was released about 1 year ago. Therfore, I'd like to know if there are any plans to release another versions in the 1.6 branch?\n\nThanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/79", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/79/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/79/events", "html_url": "https://github.com/celery/librabbitmq/issues/79", "id": 121247960, "node_id": "MDU6SXNzdWUxMjEyNDc5NjA=", "number": 79, "title": "Wrong sending timestamp", "user": {"login": "starinad", "id": 958647, "node_id": "MDQ6VXNlcjk1ODY0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/958647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/starinad", "html_url": "https://github.com/starinad", "followers_url": "https://api.github.com/users/starinad/followers", "following_url": "https://api.github.com/users/starinad/following{/other_user}", "gists_url": "https://api.github.com/users/starinad/gists{/gist_id}", "starred_url": "https://api.github.com/users/starinad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/starinad/subscriptions", "organizations_url": "https://api.github.com/users/starinad/orgs", "repos_url": "https://api.github.com/users/starinad/repos", "events_url": "https://api.github.com/users/starinad/events{/privacy}", "received_events_url": "https://api.github.com/users/starinad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-09T14:11:47Z", "updated_at": "2018-07-27T19:12:48Z", "closed_at": "2018-01-15T11:07:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to send timestamp value with message but it is rounded to 255. If i sent 256 I'll receive 0, 257 - 1, 258 - 2 etc.\nin librabbitmq/Modules/_librabbitmq/connection.c\nI see setting timestamp as long:\n\n``` c++\n    if (props->_flags & AMQP_BASIC_TIMESTAMP_FLAG) {\n        value = PyInt_FromLong(props->timestamp);\n        PyDICT_SETSTR_DECREF(p, \"timestamp\", value);\n    }\n```\n\nand getting it with casting to uint8_t type:\n\n``` c++\n    if ((value = PyDict_GetItemString(p, \"timestamp\")) != NULL) {\n        props->timestamp = (uint8_t)PyInt_AS_LONG(value);\n        props->_flags |= AMQP_BASIC_TIMESTAMP_FLAG;\n    }\n```\n\nI suppose this casting to uint8_t is a reason of my issue. Is it right behavior for timestamp property in message?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/78", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/78/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/78/events", "html_url": "https://github.com/celery/librabbitmq/issues/78", "id": 109010144, "node_id": "MDU6SXNzdWUxMDkwMTAxNDQ=", "number": 78, "title": "calling message.decode() in a comprehension throws a DecodeError exception", "user": {"login": "pbecotte", "id": 4016328, "node_id": "MDQ6VXNlcjQwMTYzMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4016328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbecotte", "html_url": "https://github.com/pbecotte", "followers_url": "https://api.github.com/users/pbecotte/followers", "following_url": "https://api.github.com/users/pbecotte/following{/other_user}", "gists_url": "https://api.github.com/users/pbecotte/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbecotte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbecotte/subscriptions", "organizations_url": "https://api.github.com/users/pbecotte/orgs", "repos_url": "https://api.github.com/users/pbecotte/repos", "events_url": "https://api.github.com/users/pbecotte/events{/privacy}", "received_events_url": "https://api.github.com/users/pbecotte/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-30T04:01:47Z", "updated_at": "2018-01-15T11:07:09Z", "closed_at": "2018-01-15T11:07:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Had a weird issue today.  I have a method that empties a rabbitmq Queue and processes all the messages (for batch processing).  I installed librabbitmq and the method started failing.\n\nException:\n\n File \"/usr/lib/python2.7/contextlib.py\", line 35, in **exit**\n   self.gen.throw(type, value, traceback)\n File \"/usr/local/lib/python2.7/dist-packages/kombu/serialization.py\", line 59, in _reraise_errors\n   reraise(wrapper, wrapper(exc), sys.exc_info()[2])\n File \"/usr/local/lib/python2.7/dist-packages/kombu/serialization.py\", line 55, in _reraise_errors\n   yield\n File \"/usr/local/lib/python2.7/dist-packages/kombu/serialization.py\", line 184, in loads\n   return decode(data)\n File \"/usr/local/lib/python2.7/dist-packages/kombu/serialization.py\", line 64, in pickle_loads\n   return load(BytesIO(s))\nDecodeError\n\nI was able to trim it down pretty far so just the following code snippet threw the exception...\n\n``` python\nfor i in xrange(100):\n    messages.append(q.get(timeout=.1))\n'\\n'.join([message.decode()['args'][0] for message in messages])\n```\n\nWhile doing it this way does not...\n\n``` python\nfor i in xrange(100):\n    message = q.get(timeout=.1)\n    messages.append(message)\n    contents.append(message.decode()['args'][0])\n'\\n'.join(contents)\n```\n\nNot sure if I am missing something obvious, but wanted to report it here just in case.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/77", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/77/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/77/events", "html_url": "https://github.com/celery/librabbitmq/issues/77", "id": 108581865, "node_id": "MDU6SXNzdWUxMDg1ODE4NjU=", "number": 77, "title": "Old version of rabbitmq-c", "user": {"login": "czpython", "id": 994951, "node_id": "MDQ6VXNlcjk5NDk1MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/994951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czpython", "html_url": "https://github.com/czpython", "followers_url": "https://api.github.com/users/czpython/followers", "following_url": "https://api.github.com/users/czpython/following{/other_user}", "gists_url": "https://api.github.com/users/czpython/gists{/gist_id}", "starred_url": "https://api.github.com/users/czpython/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czpython/subscriptions", "organizations_url": "https://api.github.com/users/czpython/orgs", "repos_url": "https://api.github.com/users/czpython/repos", "events_url": "https://api.github.com/users/czpython/events{/privacy}", "received_events_url": "https://api.github.com/users/czpython/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-09-28T03:17:53Z", "updated_at": "2018-01-15T11:06:44Z", "closed_at": "2018-01-15T11:06:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\nI've noticed the git submodule references a fork which has not been updated with latest code from rabbitmq-c, is this intentional? meaning is this library not compatible with the last code in rabbitmq-c?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/72", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/72/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/72/events", "html_url": "https://github.com/celery/librabbitmq/issues/72", "id": 104160612, "node_id": "MDU6SXNzdWUxMDQxNjA2MTI=", "number": 72, "title": "_librabbitmq.ConnectionError: Couldn't create channel: server connection error 505, message: UNEXPECTED_FRAME - expected content body, got non content body frame instead", "user": {"login": "mverrilli", "id": 816450, "node_id": "MDQ6VXNlcjgxNjQ1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/816450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mverrilli", "html_url": "https://github.com/mverrilli", "followers_url": "https://api.github.com/users/mverrilli/followers", "following_url": "https://api.github.com/users/mverrilli/following{/other_user}", "gists_url": "https://api.github.com/users/mverrilli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mverrilli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mverrilli/subscriptions", "organizations_url": "https://api.github.com/users/mverrilli/orgs", "repos_url": "https://api.github.com/users/mverrilli/repos", "events_url": "https://api.github.com/users/mverrilli/events{/privacy}", "received_events_url": "https://api.github.com/users/mverrilli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-09-01T00:43:28Z", "updated_at": "2015-11-13T20:08:06Z", "closed_at": "2015-11-13T20:08:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I compiled 1.6.1 on Solaris using a gcc 4.8.3 toolchain.  I'm running RabbitMQ 3.5.4 on Erlang 18.0. I get the error above even trying to execute the simple `disabled_basic_get_leak.py` test.  I first discovered the problem when trying to run Celery 3.1.18 for the first time since compiling it and had a hanging beat process.  It works fine with `py-ampq`. Below is the traceback on the test and the compilation below.  \n\n``` python\nbash-3.2$ python disabled_basic_get_leak.py\nTraceback (most recent call last):\n  File \"disabled_basic_get_leak.py\", line 14, in <module>\n    c.basic_publish('foo', exchange='getmem', routing_key='getmem')\n  File \"/opt/app/myapp/software-ng/python/lib/python2.7/site-packages/librabbitmq-1.6.1-py2.7-solaris-2.10-sun4v.64bit.egg/librabbitmq/__init__.py\", line 117, in basic_publish\n    mandatory or False, immediate or False,\n_librabbitmq.ConnectionError: Couldn't create channel: server connection error 505, message: UNEXPECTED_FRAME - expected content body, got non content body frame instead\n```\n\n``` make\nrunning build\n- generating 'clib/librabbitmq/amqp_framing.h'\n/opt/app/myapp/software-ng/python/bin/python clib/librabbitmq/codegen.py header rabbitmq-codegen/amqp-rabbitmq-0.9.1.json clib/librabbitmq/amqp_framing.h\n- generating 'clib/librabbitmq/amqp_framing.c'\n/opt/app/myapp/software-ng/python/bin/python clib/librabbitmq/codegen.py body rabbitmq-codegen/amqp-rabbitmq-0.9.1.json clib/librabbitmq/amqp_framing.c\nrunning build_py\nrunning build_ext\nbuilding '_librabbitmq' extension\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c Modules/_librabbitmq/connection.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/Modules/_librabbitmq/connection.o\nModules/_librabbitmq/connection.c: In function \u2018PyIter_ToAMQArray\u2019:\nModules/_librabbitmq/connection.c:335:5: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\n     while (item = PyIter_Next(iterator)) {\n     ^\nModules/_librabbitmq/connection.c:380:1: warning: label \u2018error\u2019 defined but not used [-Wunused-label]\n error:\n ^\nModules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_close\u2019:\nModules/_librabbitmq/connection.c:1043:22: warning: variable \u2018reply\u2019 set but not used [-Wunused-but-set-variable]\n     amqp_rpc_reply_t reply;\n                      ^\nModules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_cancel\u2019:\nModules/_librabbitmq/connection.c:1863:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\n     amqp_basic_cancel_ok_t *ok;\n                             ^\nModules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_flow\u2019:\nModules/_librabbitmq/connection.c:1988:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\n     amqp_channel_flow_ok_t *ok;\n                             ^\nModules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_recover\u2019:\nModules/_librabbitmq/connection.c:2021:30: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\n     amqp_basic_recover_ok_t *ok;\n                              ^\nModules/_librabbitmq/connection.c: At top level:\nModules/_librabbitmq/connection.c:719:26: warning: \u2018PyDict_ToAMQTable\u2019 is static but used in inline function \u2018PyDict_to_basic_properties\u2019 which is not static [enabled by default]\n         props->headers = PyDict_ToAMQTable(conn, value, pool);\n                          ^\nModules/_librabbitmq/connection.c:496:17: warning: \u2018AMQTable_toPyDict\u2019 is static but used in inline function \u2018basic_properties_to_PyDict\u2019 which is not static [enabled by default]\n         value = AMQTable_toPyDict(&(props->headers));\n                 ^\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_api.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_api.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_connection.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_connection.o\nclib/librabbitmq/amqp_connection.c: In function \u2018amqp_send_frame\u2019:\nclib/librabbitmq/amqp_connection.c:466:21: warning: pointer targets in assignment differ in signedness [-Wpointer-sign]\n     iov[2].iov_base = &frame_end_byte;\n                     ^\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_consumer.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_consumer.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_framing.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_framing.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_hostcheck.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_hostcheck.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_mem.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_mem.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_socket.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_socket.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_table.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_table.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_tcp_socket.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_tcp_socket.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_timer.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_timer.o\ngcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include -fPIC -Iclib/librabbitmq -Iclib -I/opt/app/myapp/software-ng/python/include/python2.7 -c clib/librabbitmq/amqp_url.c -o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_url.o\ngcc -shared -L/opt/app/myapp/software-ng/common/lib -L/opt/app/myapp/software-ng/common/lib/sparcv9 -R/opt/app/myapp/software-ng/common/lib -R/opt/app/myapp/software-ng/common/lib/sparcv9 -L/opt/app/myapp/software-ng/common/lib -L/opt/app/myapp/software-ng/common/lib/sparcv9 -R/opt/app/myapp/software-ng/common/lib -R/opt/app/myapp/software-ng/common/lib/sparcv9 -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -I/opt/app/myapp/software-ng/common/include build/temp.solaris-2.10-sun4v.64bit-2.7/Modules/_librabbitmq/connection.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_api.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_connection.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_consumer.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_framing.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_hostcheck.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_mem.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_socket.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_table.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_tcp_socket.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_timer.o build/temp.solaris-2.10-sun4v.64bit-2.7/clib/librabbitmq/amqp_url.o -o build/lib.solaris-2.10-sun4v.64bit-2.7/_librabbitmq.so\nrunning install\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/71", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/71/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/71/events", "html_url": "https://github.com/celery/librabbitmq/issues/71", "id": 97624857, "node_id": "MDU6SXNzdWU5NzYyNDg1Nw==", "number": 71, "title": "pip install fails on Fedora ", "user": {"login": "amitsaha", "id": 512598, "node_id": "MDQ6VXNlcjUxMjU5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/512598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amitsaha", "html_url": "https://github.com/amitsaha", "followers_url": "https://api.github.com/users/amitsaha/followers", "following_url": "https://api.github.com/users/amitsaha/following{/other_user}", "gists_url": "https://api.github.com/users/amitsaha/gists{/gist_id}", "starred_url": "https://api.github.com/users/amitsaha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amitsaha/subscriptions", "organizations_url": "https://api.github.com/users/amitsaha/orgs", "repos_url": "https://api.github.com/users/amitsaha/repos", "events_url": "https://api.github.com/users/amitsaha/events{/privacy}", "received_events_url": "https://api.github.com/users/amitsaha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-07-28T06:12:27Z", "updated_at": "2018-01-15T11:06:13Z", "closed_at": "2018-01-15T11:06:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\n\nAttempting to install on F22 results in:\n\n```\ngcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fno-strict-aliasing -O2 -g -pipe -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -Iclib/librabbitmq -Iclib -I/usr/include/python2.7 -c clib/librabbitmq/amqp_socket.c -o build/temp.linux-x86_64-2.7/clib/librabbitmq/amqp_socket.o\n\n    clib/librabbitmq/amqp_socket.c: In function 'amqp_login_inner':\n\n    clib/librabbitmq/amqp_socket.c:1195:28: error: 'AMQ_PLATFORM' undeclared (first use in this function)\n\n             amqp_cstring_bytes(AMQ_PLATFORM);\n\n                                ^\n\n    clib/librabbitmq/amqp_socket.c:1195:28: note: each undeclared identifier is reported only once for each function it appears in\n\n    error: command 'gcc' failed with exit status 1\n\n\n```\n\nAny idea how I can fix this please?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/68", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/68/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/68/events", "html_url": "https://github.com/celery/librabbitmq/issues/68", "id": 92479643, "node_id": "MDU6SXNzdWU5MjQ3OTY0Mw==", "number": 68, "title": "pip install librabbitmq fails because of removing -Wall", "user": {"login": "agriffis", "id": 50637, "node_id": "MDQ6VXNlcjUwNjM3", "avatar_url": "https://avatars1.githubusercontent.com/u/50637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agriffis", "html_url": "https://github.com/agriffis", "followers_url": "https://api.github.com/users/agriffis/followers", "following_url": "https://api.github.com/users/agriffis/following{/other_user}", "gists_url": "https://api.github.com/users/agriffis/gists{/gist_id}", "starred_url": "https://api.github.com/users/agriffis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agriffis/subscriptions", "organizations_url": "https://api.github.com/users/agriffis/orgs", "repos_url": "https://api.github.com/users/agriffis/repos", "events_url": "https://api.github.com/users/agriffis/events{/privacy}", "received_events_url": "https://api.github.com/users/agriffis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-07-01T20:35:13Z", "updated_at": "2015-10-30T19:09:10Z", "closed_at": "2015-10-30T19:09:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here's the pip install log. This is on Fedora 21 with gcc 4.9.2\n\n```\n$ pip install librabbitmq\nCollecting librabbitmq\n  Using cached librabbitmq-1.6.1.tar.gz\nRequirement already satisfied (use --upgrade to upgrade): amqp>=1.4.6 in /home/aron/.virtualenvs/pp/lib/python2.7/site-packages (from librabbitmq)\nInstalling collected packages: librabbitmq\n  Running setup.py install for librabbitmq\n    Complete output from command /home/aron/.virtualenvs/pp/bin/python2 -c \"import setuptools, tokenize;__file__='/tmp/pip-build-EmpTYQ/librabbitmq/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-tb1kGg-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/aron/.virtualenvs/pp/include/site/python2.7/librabbitmq:\n    running build\n    checking for a BSD-compatible install... /usr/bin/install -c\n    checking whether build environment is sane... yes\n    checking for a thread-safe mkdir -p... /usr/bin/mkdir -p\n    checking for gawk... gawk\n    checking whether make sets $(MAKE)... yes\n    checking whether make supports nested variables... yes\n    checking whether make supports nested variables... (cached) yes\n    checking for style of include used by make... GNU\n    checking for gcc... gcc\n    checking whether the C compiler works... no\n    configure: error: in `/tmp/pip-build-EmpTYQ/librabbitmq/clib':\n    configure: error: C compiler cannot create executables\n    See `config.log' for more details\n...\n```\n\nHere is what we see in `config.log`\n\n```\nconfigure:3333: checking whether the C compiler works\nconfigure:3355: gcc -fno-strict-aliasing -O2 -g -pipe  -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches  -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv  -DNDEBUG -O2 -g -pipe  -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches  -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv  -Wl,-z,relro conftest.c  >&5\ncc1: error: -Wformat-security ignored without -Wformat [-Werror=format-security]\n```\n\nI found that this can be avoided by dropping the line in `setup.py` that removes `-Wall` from the command-line.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/65", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/65/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/65/events", "html_url": "https://github.com/celery/librabbitmq/issues/65", "id": 61083029, "node_id": "MDU6SXNzdWU2MTA4MzAyOQ==", "number": 65, "title": "Error opening socket: a socket error occurred <class '_librabbitmq.ConnectionError'>", "user": {"login": "BodhiSukha", "id": 4272281, "node_id": "MDQ6VXNlcjQyNzIyODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4272281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BodhiSukha", "html_url": "https://github.com/BodhiSukha", "followers_url": "https://api.github.com/users/BodhiSukha/followers", "following_url": "https://api.github.com/users/BodhiSukha/following{/other_user}", "gists_url": "https://api.github.com/users/BodhiSukha/gists{/gist_id}", "starred_url": "https://api.github.com/users/BodhiSukha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BodhiSukha/subscriptions", "organizations_url": "https://api.github.com/users/BodhiSukha/orgs", "repos_url": "https://api.github.com/users/BodhiSukha/repos", "events_url": "https://api.github.com/users/BodhiSukha/events{/privacy}", "received_events_url": "https://api.github.com/users/BodhiSukha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-13T14:53:05Z", "updated_at": "2015-03-16T06:44:24Z", "closed_at": "2015-03-16T06:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm experiencing a socket error and traceback points to librabbitmq. Any ideas will be greatly appreciated. \n\n```\nFile \"/home/user/.virtualenvs/avofis/lib/python2.7/site-packages/celery/app/task.py\", line 453, in delay\n return self.apply_async(args, kwargs)\n...\nFile \"/home/user/.virtualenvs/avofis/lib/python2.7/site-packages/librabbitmq/__init__.py\", line 199, in __init__\n  self.connect()\nConnectionError: Error opening socket: a socket error occurred\n```\n\nInstalled the librabbitmq via pip. Version I'm using is 1.6.1\n\nI can confirm that RabbitMQ is running, celery is running, erlang is running. Celery, RabbitMq looks like connected, no connection errors in logs. However when I call some_task.delay() in a django view I get the error above exception within a django view.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/64", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/64/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/64/events", "html_url": "https://github.com/celery/librabbitmq/issues/64", "id": 53877254, "node_id": "MDU6SXNzdWU1Mzg3NzI1NA==", "number": 64, "title": "invalid (python 3) syntax in setup.py", "user": {"login": "amg84", "id": 4619110, "node_id": "MDQ6VXNlcjQ2MTkxMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4619110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amg84", "html_url": "https://github.com/amg84", "followers_url": "https://api.github.com/users/amg84/followers", "following_url": "https://api.github.com/users/amg84/following{/other_user}", "gists_url": "https://api.github.com/users/amg84/gists{/gist_id}", "starred_url": "https://api.github.com/users/amg84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amg84/subscriptions", "organizations_url": "https://api.github.com/users/amg84/orgs", "repos_url": "https://api.github.com/users/amg84/repos", "events_url": "https://api.github.com/users/amg84/events{/privacy}", "received_events_url": "https://api.github.com/users/amg84/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-09T15:13:08Z", "updated_at": "2016-08-06T14:47:25Z", "closed_at": "2016-08-06T14:47:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "line 191 reads:\nexcept Exception, exc:\n\nand should read:\nexcept Exception as exc:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/61", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/61/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/61/events", "html_url": "https://github.com/celery/librabbitmq/issues/61", "id": 51899087, "node_id": "MDU6SXNzdWU1MTg5OTA4Nw==", "number": 61, "title": "Buildout fails for 1.6.1", "user": {"login": "serj-p", "id": 2565455, "node_id": "MDQ6VXNlcjI1NjU0NTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2565455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/serj-p", "html_url": "https://github.com/serj-p", "followers_url": "https://api.github.com/users/serj-p/followers", "following_url": "https://api.github.com/users/serj-p/following{/other_user}", "gists_url": "https://api.github.com/users/serj-p/gists{/gist_id}", "starred_url": "https://api.github.com/users/serj-p/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/serj-p/subscriptions", "organizations_url": "https://api.github.com/users/serj-p/orgs", "repos_url": "https://api.github.com/users/serj-p/repos", "events_url": "https://api.github.com/users/serj-p/events{/privacy}", "received_events_url": "https://api.github.com/users/serj-p/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-12-13T20:45:15Z", "updated_at": "2018-01-15T11:04:48Z", "closed_at": "2018-01-15T11:04:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to install librabbitmq==1.6.1 using egg recipe of bootstrap buildout.\nIt's installing it using this command:\n\n```\n    librabbitmq-1.6.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-G0KrCc/librabbitmq-1.6.1/egg-dist-tmp-IbHAd3\n```\n\nAnd fails this way:\n\n```\n    warning: no files found matching '*' under directory 'tests'\n    no previously-included directories found matching '*.pyc'\n    no previously-included directories found matching '*.o'\n    no previously-included directories found matching '*.la'\n    no previously-included directories found matching '*.so'\n    no previously-included directories found matching '*.dylib'\n    In file included from /usr/include/python2.7/pyconfig.h:6:0,\n                     from /usr/include/python2.7/Python.h:8,\n                     from Modules/_librabbitmq/connection.h:4,\n                     from Modules/_librabbitmq/connection.c:11:\n    /usr/include/python2.7/pyconfig-64.h:1170:0: warning: \"_POSIX_C_SOURCE\" redefined [enabled by default]\n    /usr/include/features.h:168:0: note: this is the location of the previous definition\n    /usr/include/python2.7/pyconfig-64.h:1192:0: warning: \"_XOPEN_SOURCE\" redefined [enabled by default]\n    /usr/include/features.h:170:0: note: this is the location of the previous definition\n    Modules/_librabbitmq/connection.c: In function \u2018PyIter_ToAMQArray\u2019:\n    Modules/_librabbitmq/connection.c:335:5: warning: suggest parentheses around assignment used as truth value [-Wparentheses]\n    Modules/_librabbitmq/connection.c:380:1: warning: label \u2018error\u2019 defined but not used [-Wunused-label]\n    Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_close\u2019:\n    Modules/_librabbitmq/connection.c:1043:22: warning: variable \u2018reply\u2019 set but not used [-Wunused-but-set-variable]\n    Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_cancel\u2019:\n    Modules/_librabbitmq/connection.c:1863:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\n    Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_flow\u2019:\n    Modules/_librabbitmq/connection.c:1988:29: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\n    Modules/_librabbitmq/connection.c: In function \u2018PyRabbitMQ_Connection_basic_recover\u2019:\n    Modules/_librabbitmq/connection.c:2021:30: warning: variable \u2018ok\u2019 set but not used [-Wunused-but-set-variable]\n    Modules/_librabbitmq/connection.c: At top level:\n    Modules/_librabbitmq/connection.c:719:26: warning: \u2018PyDict_ToAMQTable\u2019 is static but used in inline function \u2018PyDict_to_basic_properties\u2019 which is not static [enabled by default]\n    Modules/_librabbitmq/connection.c:496:17: warning: \u2018AMQTable_toPyDict\u2019 is static but used in inline function \u2018basic_properties_to_PyDict\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_socket.c: In function \u2018amqp_login_inner\u2019:\n    clib/librabbitmq/amqp_socket.c:1195:28: error: \u2018AMQ_PLATFORM\u2019 undeclared (first use in this function)\n    clib/librabbitmq/amqp_socket.c:1195:28: note: each undeclared identifier is reported only once for each function it appears in\n    clib/librabbitmq/amqp_socket.c: At top level:\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_d32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:345:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018amqp_e32\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:340:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018ntohll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    clib/librabbitmq/amqp_private.h:339:1: warning: \u2018__bswap_32\u2019 is static but used in inline function \u2018htonll\u2019 which is not static [enabled by default]\n    error: command 'gcc' failed with exit status 1\n```\n\nIt seems like configure hasn't been run.\nThe same ocurrs if I run \n\n```\n    python27 setup.py -q bdist_egg\n```\n\nBut if I run \n\n```\n    python27 setup.py\n```\n\nIt installs properly.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/58", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/58/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/58/events", "html_url": "https://github.com/celery/librabbitmq/issues/58", "id": 40223409, "node_id": "MDU6SXNzdWU0MDIyMzQwOQ==", "number": 58, "title": "Fails to build on OS X 10.10", "user": {"login": "dcousineau", "id": 30331, "node_id": "MDQ6VXNlcjMwMzMx", "avatar_url": "https://avatars0.githubusercontent.com/u/30331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcousineau", "html_url": "https://github.com/dcousineau", "followers_url": "https://api.github.com/users/dcousineau/followers", "following_url": "https://api.github.com/users/dcousineau/following{/other_user}", "gists_url": "https://api.github.com/users/dcousineau/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcousineau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcousineau/subscriptions", "organizations_url": "https://api.github.com/users/dcousineau/orgs", "repos_url": "https://api.github.com/users/dcousineau/repos", "events_url": "https://api.github.com/users/dcousineau/events{/privacy}", "received_events_url": "https://api.github.com/users/dcousineau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2014-08-14T05:10:51Z", "updated_at": "2014-11-11T18:33:25Z", "closed_at": "2014-10-24T11:42:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Cannot build on OS X 10.10 (public preview 1). See alanxz/rabbitmq-c#206 for relevant issue.\n\n```\n$ make\nrm -rf build\ngit submodule init\ngit submodule update\n(cd rabbitmq-c; rm -rf codegen; ln -sf ../rabbitmq-codegen ./codegen)\n(cd rabbitmq-c; test -f configure || autoreconf -i)\n(cd rabbitmq-c; test -f Makefile  || automake --add-missing)\npython setup.py build\nrunning build\n- generating 'clib/librabbitmq/amqp_framing.h'\n/usr/local/opt/python/bin/python2.7 clib/librabbitmq/codegen.py header rabbitmq-codegen/amqp-rabbitmq-0.9.1.json clib/librabbitmq/amqp_framing.h\n- generating 'clib/librabbitmq/amqp_framing.c'\n/usr/local/opt/python/bin/python2.7 clib/librabbitmq/codegen.py body rabbitmq-codegen/amqp-rabbitmq-0.9.1.json clib/librabbitmq/amqp_framing.c\nrunning build_py\ncreating build\ncreating build/lib.macosx-10.10-x86_64-2.7\ncreating build/lib.macosx-10.10-x86_64-2.7/funtests\ncopying funtests/__init__.py -> build/lib.macosx-10.10-x86_64-2.7/funtests\ncopying funtests/config.py -> build/lib.macosx-10.10-x86_64-2.7/funtests\ncopying funtests/disabled_basic_get_leak.py -> build/lib.macosx-10.10-x86_64-2.7/funtests\ncopying funtests/setup.py -> build/lib.macosx-10.10-x86_64-2.7/funtests\ncreating build/lib.macosx-10.10-x86_64-2.7/librabbitmq\ncopying librabbitmq/__init__.py -> build/lib.macosx-10.10-x86_64-2.7/librabbitmq\ncreating build/lib.macosx-10.10-x86_64-2.7/funtests/tests\ncopying funtests/tests/__init__.py -> build/lib.macosx-10.10-x86_64-2.7/funtests/tests\ncopying funtests/tests/test_channel_errors.py -> build/lib.macosx-10.10-x86_64-2.7/funtests/tests\nrunning build_ext\nbuilding '_librabbitmq' extension\ncreating build/temp.macosx-10.10-x86_64-2.7\ncreating build/temp.macosx-10.10-x86_64-2.7/Modules\ncreating build/temp.macosx-10.10-x86_64-2.7/Modules/_librabbitmq\ncreating build/temp.macosx-10.10-x86_64-2.7/clib\ncreating build/temp.macosx-10.10-x86_64-2.7/clib/librabbitmq\nclang -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -fno-common -dynamic -I/usr/local/include -I/usr/local/opt/sqlite/include -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -Iclib/librabbitmq -Iclib -I/usr/local/Cellar/python/2.7.8/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c Modules/_librabbitmq/connection.c -o build/temp.macosx-10.10-x86_64-2.7/Modules/_librabbitmq/connection.o\nModules/_librabbitmq/connection.c:335:17: warning: using the result of an assignment as a condition without\n      parentheses [-Wparentheses]\n    while (item = PyIter_Next(iterator)) {\n           ~~~~~^~~~~~~~~~~~~~~~~~~~~~~\nModules/_librabbitmq/connection.c:335:17: note: place parentheses around the assignment to silence this\n      warning\n    while (item = PyIter_Next(iterator)) {\n                ^\n           (                           )\nModules/_librabbitmq/connection.c:335:17: note: use '==' to turn this assignment into an equality comparison\n    while (item = PyIter_Next(iterator)) {\n                ^\n                ==\nModules/_librabbitmq/connection.c:380:1: warning: unused label 'error' [-Wunused-label]\nerror:\n^~~~~~\n2 warnings generated.\nclang -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -fno-common -dynamic -I/usr/local/include -I/usr/local/opt/sqlite/include -DNDEBUG -g -fwrapv -O3 -Wstrict-prototypes -DHAVE_CONFIG_H -Iclib/librabbitmq -Iclib -I/usr/local/Cellar/python/2.7.8/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c clib/librabbitmq/amqp_api.c -o build/temp.macosx-10.10-x86_64-2.7/clib/librabbitmq/amqp_api.o\nIn file included from clib/librabbitmq/amqp_api.c:41:\nclib/librabbitmq/amqp_private.h:335:1: error: expected ')'\nDECLARE_XTOXLL(hton)\n^\nclib/librabbitmq/amqp_private.h:301:25: note: expanded from macro 'DECLARE_XTOXLL'\n  _AMQP_INLINE uint64_t func##ll(uint64_t val)      \\\n                        ^\n<scratch space>:141:1: note: expanded from here\nhtonll\n^\n/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\n#define htonll(x)       __DARWIN_OSSwapInt64(x)\n                        ^\n/usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\n    (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\n                             ^\nclib/librabbitmq/amqp_private.h:335:1: note: to match this '('\nclib/librabbitmq/amqp_private.h:301:25: note: expanded from macro 'DECLARE_XTOXLL'\n  _AMQP_INLINE uint64_t func##ll(uint64_t val)      \\\n                        ^\n<scratch space>:141:1: note: expanded from here\nhtonll\n^\n/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\n#define htonll(x)       __DARWIN_OSSwapInt64(x)\n                        ^\n/usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\n    (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\n    ^\nIn file included from clib/librabbitmq/amqp_api.c:41:\nclib/librabbitmq/amqp_private.h:335:1: error: definition of builtin function '__builtin_constant_p'\nDECLARE_XTOXLL(hton)\n^\nclib/librabbitmq/amqp_private.h:301:25: note: expanded from macro 'DECLARE_XTOXLL'\n  _AMQP_INLINE uint64_t func##ll(uint64_t val)      \\\n                        ^\n<scratch space>:141:1: note: expanded from here\nhtonll\n^\n/usr/include/sys/_endian.h:141:25: note: expanded from macro 'htonll'\n#define htonll(x)       __DARWIN_OSSwapInt64(x)\n                        ^\n/usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\n    (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\n     ^\nIn file included from clib/librabbitmq/amqp_api.c:41:\nclib/librabbitmq/amqp_private.h:336:1: error: expected ')'\nDECLARE_XTOXLL(ntoh)\n^\nclib/librabbitmq/amqp_private.h:301:25: note: expanded from macro 'DECLARE_XTOXLL'\n  _AMQP_INLINE uint64_t func##ll(uint64_t val)      \\\n                        ^\n<scratch space>:141:1: note: expanded from here\nntohll\n^\n/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\n#define ntohll(x)       __DARWIN_OSSwapInt64(x)\n                        ^\n/usr/include/libkern/_OSByteOrder.h:78:30: note: expanded from macro '__DARWIN_OSSwapInt64'\n    (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\n                             ^\nclib/librabbitmq/amqp_private.h:336:1: note: to match this '('\nclib/librabbitmq/amqp_private.h:301:25: note: expanded from macro 'DECLARE_XTOXLL'\n  _AMQP_INLINE uint64_t func##ll(uint64_t val)      \\\n                        ^\n<scratch space>:141:1: note: expanded from here\nntohll\n^\n/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\n#define ntohll(x)       __DARWIN_OSSwapInt64(x)\n                        ^\n/usr/include/libkern/_OSByteOrder.h:78:5: note: expanded from macro '__DARWIN_OSSwapInt64'\n    (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\n    ^\nIn file included from clib/librabbitmq/amqp_api.c:41:\nclib/librabbitmq/amqp_private.h:336:1: error: definition of builtin function '__builtin_constant_p'\nDECLARE_XTOXLL(ntoh)\n^\nclib/librabbitmq/amqp_private.h:301:25: note: expanded from macro 'DECLARE_XTOXLL'\n  _AMQP_INLINE uint64_t func##ll(uint64_t val)      \\\n                        ^\n<scratch space>:141:1: note: expanded from here\nntohll\n^\n/usr/include/sys/_endian.h:140:25: note: expanded from macro 'ntohll'\n#define ntohll(x)       __DARWIN_OSSwapInt64(x)\n                        ^\n/usr/include/libkern/_OSByteOrder.h:78:6: note: expanded from macro '__DARWIN_OSSwapInt64'\n    (__builtin_constant_p(x) ? __DARWIN_OSSwapConstInt64(x) : _OSSwapInt64(x))\n     ^\n4 errors generated.\nerror: command 'clang' failed with exit status 1\nmake: *** [build] Error 1\n```\n\nI updated the git submodule for rabbitmq-c to use the parent alanxz/rabbitmq-c instead of the ask/rabbitmq-c and merged after a git pull just to be absolutely sure and it still failed.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/57", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/57/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/57/events", "html_url": "https://github.com/celery/librabbitmq/issues/57", "id": 39929151, "node_id": "MDU6SXNzdWUzOTkyOTE1MQ==", "number": 57, "title": "uses private amqp_get_or_create_channel_pool symbol from librabbitmq", "user": {"login": "brianmay", "id": 112729, "node_id": "MDQ6VXNlcjExMjcyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/112729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianmay", "html_url": "https://github.com/brianmay", "followers_url": "https://api.github.com/users/brianmay/followers", "following_url": "https://api.github.com/users/brianmay/following{/other_user}", "gists_url": "https://api.github.com/users/brianmay/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianmay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianmay/subscriptions", "organizations_url": "https://api.github.com/users/brianmay/orgs", "repos_url": "https://api.github.com/users/brianmay/repos", "events_url": "https://api.github.com/users/brianmay/events{/privacy}", "received_events_url": "https://api.github.com/users/brianmay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-11T05:29:01Z", "updated_at": "2018-01-15T11:03:28Z", "closed_at": "2018-01-15T11:03:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nTo me it looks like you use the amqp_get_or_create_channel_pool symbol, however that symbol is private to rabbitmq-c (it is defined in amqp_private.h), and it is not exported.\n\nThis basically means this package cannot be used with an already installed version of rabbitmq-c.\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/56", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/56/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/56/events", "html_url": "https://github.com/celery/librabbitmq/issues/56", "id": 39889453, "node_id": "MDU6SXNzdWUzOTg4OTQ1Mw==", "number": 56, "title": "setup causes: \"warning: no files found matching '*' under directory 'tests'\"", "user": {"login": "liv42da", "id": 8403531, "node_id": "MDQ6VXNlcjg0MDM1MzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8403531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liv42da", "html_url": "https://github.com/liv42da", "followers_url": "https://api.github.com/users/liv42da/followers", "following_url": "https://api.github.com/users/liv42da/following{/other_user}", "gists_url": "https://api.github.com/users/liv42da/gists{/gist_id}", "starred_url": "https://api.github.com/users/liv42da/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liv42da/subscriptions", "organizations_url": "https://api.github.com/users/liv42da/orgs", "repos_url": "https://api.github.com/users/liv42da/repos", "events_url": "https://api.github.com/users/liv42da/events{/privacy}", "received_events_url": "https://api.github.com/users/liv42da/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-08-09T16:58:54Z", "updated_at": "2018-01-15T11:03:04Z", "closed_at": "2018-01-15T11:03:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Other warnings/errors include:\n  no previously-included directories found matching '_.pyc' {:level=>:error}\n  no previously-included directories found matching '_.o' {:level=>:error}\n  no previously-included directories found matching '_.la' {:level=>:error}\n  no previously-included directories found matching '_.so' {:level=>:error}\n  no previously-included directories found matching '*.dylib' {:level=>:error}\n\nPossible fix #1: MANIFEST.in prune *.xyz lines should be converted to recursive-exclude [dir] *.xyz  (prune is for directories and recursive-exclude is for files.\n\nPossible fix #2: Since the 'tests' folder is under librabbitmq/tests, can we just remove the following line from MANIFEST.in?\n\n```\nrecursive-include tests *\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/55", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/55/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/55/events", "html_url": "https://github.com/celery/librabbitmq/issues/55", "id": 39885543, "node_id": "MDU6SXNzdWUzOTg4NTU0Mw==", "number": 55, "title": "rabbitmq-codegen/amqp_codegen.pyc in pypi tarball", "user": {"login": "fladi", "id": 234220, "node_id": "MDQ6VXNlcjIzNDIyMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/234220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fladi", "html_url": "https://github.com/fladi", "followers_url": "https://api.github.com/users/fladi/followers", "following_url": "https://api.github.com/users/fladi/following{/other_user}", "gists_url": "https://api.github.com/users/fladi/gists{/gist_id}", "starred_url": "https://api.github.com/users/fladi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fladi/subscriptions", "organizations_url": "https://api.github.com/users/fladi/orgs", "repos_url": "https://api.github.com/users/fladi/repos", "events_url": "https://api.github.com/users/fladi/events{/privacy}", "received_events_url": "https://api.github.com/users/fladi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-09T13:36:13Z", "updated_at": "2014-08-11T14:35:48Z", "closed_at": "2014-08-11T14:35:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The tarball on PyPi includes a byte code file in rabbitmq-codegen/amqp_codegen.pyc. This was most likely included by mistake. Could you remove it with the next release?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/54", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/54/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/54/events", "html_url": "https://github.com/celery/librabbitmq/issues/54", "id": 39818993, "node_id": "MDU6SXNzdWUzOTgxODk5Mw==", "number": 54, "title": "\"Bad frame read\" when message with empty body received", "user": {"login": "zstyblik", "id": 6183869, "node_id": "MDQ6VXNlcjYxODM4Njk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6183869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zstyblik", "html_url": "https://github.com/zstyblik", "followers_url": "https://api.github.com/users/zstyblik/followers", "following_url": "https://api.github.com/users/zstyblik/following{/other_user}", "gists_url": "https://api.github.com/users/zstyblik/gists{/gist_id}", "starred_url": "https://api.github.com/users/zstyblik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zstyblik/subscriptions", "organizations_url": "https://api.github.com/users/zstyblik/orgs", "repos_url": "https://api.github.com/users/zstyblik/repos", "events_url": "https://api.github.com/users/zstyblik/events{/privacy}", "received_events_url": "https://api.github.com/users/zstyblik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-08-08T12:52:54Z", "updated_at": "2018-01-15T11:02:48Z", "closed_at": "2018-01-15T11:02:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tested this with the latest version of https://github.com/celery/librabbitmq from pip and https://github.com/alanxz/rabbitmq-c and it seems to be current.\n\nHow to replicate:\n- create consumer and bind to any type of exchange(I've noticed it with headers, but it happends with any type of exchange)\n- send one or more message with an empty body\n- traceback should appear\n\nThis does happen only when message body is \"\". Even single white space prevents it from happening.\n\n``` Traceback\n2014-08-07 11:40:42,742 ERROR      Thread-1    Traceback (most recent call last):\n  File \"/scratch/icflix-monitoring-robots/lib/amqp_consumer.py\", line 120, in run\n    self._connection.drain_events(0.01)\n  File \"/usr/lib/python2.7/dist-packages/librabbitmq/__init__.py\", line 198, in drain_events\n    self._basic_recv(timeout)\nChannelError: Bad frame read\n```\n\nRabbitMQ log\n\n```\n=WARNING REPORT==== 7-Aug-2014::11:28:44 ===\nclosing AMQP connection <0.5547.0> (192.168.253.9:56556 -> 192.168.253.11:5672):\nconnection_closed_abruptly\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/53", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/53/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/53/events", "html_url": "https://github.com/celery/librabbitmq/issues/53", "id": 39219649, "node_id": "MDU6SXNzdWUzOTIxOTY0OQ==", "number": 53, "title": "Segfault SIGSEGV on running Celery worker and/or Flower", "user": {"login": "inexion", "id": 1871125, "node_id": "MDQ6VXNlcjE4NzExMjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1871125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inexion", "html_url": "https://github.com/inexion", "followers_url": "https://api.github.com/users/inexion/followers", "following_url": "https://api.github.com/users/inexion/following{/other_user}", "gists_url": "https://api.github.com/users/inexion/gists{/gist_id}", "starred_url": "https://api.github.com/users/inexion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inexion/subscriptions", "organizations_url": "https://api.github.com/users/inexion/orgs", "repos_url": "https://api.github.com/users/inexion/repos", "events_url": "https://api.github.com/users/inexion/events{/privacy}", "received_events_url": "https://api.github.com/users/inexion/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-31T17:52:37Z", "updated_at": "2014-08-01T15:47:29Z", "closed_at": "2014-08-01T15:47:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "While running a celery worker from the command line:\n\npython manage.py celery worker -E --loglevel=DEBUG --purge --logfile=celery1.log -n celery1 -Ofair --autoscale=10,12\n\n(also happens when running flower:\npython manage.py celery flower)\n\nActual segfault error, obtained using gdb:\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00007fffebb926ab in amqp_pool_alloc () from /usr/lib/x86_64-linux-gnu/librabbitmq.so.1\n\nbasic stack:\n\nUbuntu 14 LTS (AWS EC2)\nnginx\ngunicorn\npostgres (backend)\nrabbitmq\ncelery\n\npip freeze:\n\n```\nCheetah==2.4.4\nDjango==1.6.5\nFormEncode==1.2.6\nLandscape-Client==14.01\nMySQL-python==1.2.3\nPAM==0.4.2\nPaste==1.7.5.1\nPasteDeploy==1.5.2\nPasteScript==1.7.5\nPyYAML==3.10\nSouth==1.0\nTempita==0.5.2\nTwisted-Core==13.2.0\nTwisted-Names==13.2.0\nTwisted-Web==13.2.0\namqp==1.4.5\nanyjson==0.3.3\napt-xapian-index==0.45\nargparse==1.2.1\nbackports.ssl-match-hostname==3.4.0.2\nbilliard==3.3.0.18\ncelery==3.1.13\ncertifi==14.05.14\nchardet==2.0.1\ncl==0.0.3\ncloud-init==0.7.5\ncolorama==0.2.5\nconfigobj==4.7.2\ndjango-appconf==0.6\ndjango-celery==3.1.10\ndjango-compressor==1.4\ndjango-cors-headers==0.12\nfaulthandler==2.3\nflower==0.7.2\ngevent==1.0\ngreenlet==0.4.2\ngunicorn==17.5\nhtml5lib==0.999\njsonpatch==1.3\njsonpointer==1.0\nkombu==3.0.21\nmailer==0.7\nnumpy==1.8.1\noauth==1.0.1\nprettytable==0.7.2\npsycopg2==2.5.3\npyOpenSSL==0.13\npycurl==7.19.3\npydns==2.3.6\npyparsing==2.0.1\npyserial==2.6\npython-apt==0.9.3.5\npython-dateutil==1.5\npython-debian==0.1.21-nmu2ubuntu2\npython-memcached==1.53\npython-openid==2.2.5\npytz==2012c\nrequests==2.2.1\nscgi==1.13\nsetproctitle==1.0.1\nsix==1.5.2\nssh-import-id==3.21\ntornado==4.0\nurllib3==1.7.1\nwsgiref==0.1.2\nzope.interface==4.0.5\n```\n\nThe solution I found was to install python-amqp, and remove python-librabbitmq\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/52", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/52/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/52/events", "html_url": "https://github.com/celery/librabbitmq/issues/52", "id": 38282725, "node_id": "MDU6SXNzdWUzODI4MjcyNQ==", "number": 52, "title": "Enormous time taken in channel closing", "user": {"login": "ek-nath", "id": 1240693, "node_id": "MDQ6VXNlcjEyNDA2OTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1240693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ek-nath", "html_url": "https://github.com/ek-nath", "followers_url": "https://api.github.com/users/ek-nath/followers", "following_url": "https://api.github.com/users/ek-nath/following{/other_user}", "gists_url": "https://api.github.com/users/ek-nath/gists{/gist_id}", "starred_url": "https://api.github.com/users/ek-nath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ek-nath/subscriptions", "organizations_url": "https://api.github.com/users/ek-nath/orgs", "repos_url": "https://api.github.com/users/ek-nath/repos", "events_url": "https://api.github.com/users/ek-nath/events{/privacy}", "received_events_url": "https://api.github.com/users/ek-nath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-07-21T08:02:06Z", "updated_at": "2018-01-15T11:02:07Z", "closed_at": "2018-01-15T11:02:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://gist.github.com/5ee3b7a980784089b4ff.git\n\nI am publishing 200,000 of size 32 bytes.\n\nI was originally getting a time of ~1.4 seconds for `connection._basic_publish()` to finish but `channel.close()` was taking a bit of time. So I set `mandatory=False`, yet the time difference is significant. Can someone please explain this time diff.\n\n`mandatory = True` takes `1.41` sec to finish `connection._basic_publish`, while `channel.close` takes `11.9` seconds\n\nwhen set to `False`, the numbers change to `1.3997` and `11.8177` seconds respectively.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/42", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/42/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/42/events", "html_url": "https://github.com/celery/librabbitmq/issues/42", "id": 31782204, "node_id": "MDU6SXNzdWUzMTc4MjIwNA==", "number": 42, "title": "Installing via pip, undefined symbol: clock_gettime", "user": {"login": "bialecki", "id": 131007, "node_id": "MDQ6VXNlcjEzMTAwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/131007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bialecki", "html_url": "https://github.com/bialecki", "followers_url": "https://api.github.com/users/bialecki/followers", "following_url": "https://api.github.com/users/bialecki/following{/other_user}", "gists_url": "https://api.github.com/users/bialecki/gists{/gist_id}", "starred_url": "https://api.github.com/users/bialecki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bialecki/subscriptions", "organizations_url": "https://api.github.com/users/bialecki/orgs", "repos_url": "https://api.github.com/users/bialecki/repos", "events_url": "https://api.github.com/users/bialecki/events{/privacy}", "received_events_url": "https://api.github.com/users/bialecki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-04-18T05:28:13Z", "updated_at": "2014-05-06T14:38:59Z", "closed_at": "2014-05-06T14:38:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installs cleanly. When I `import librabbitmq`, I get the following:\n\n```\n>>> import librabbitmq\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/librabbitmq/__init__.py\", line 4, in <module>\n    import _librabbitmq\nImportError: /usr/local/lib/python2.7/dist-packages/_librabbitmq.so: undefined symbol: clock_gettime\n```\n\nListing linked shared objects doesn't contain `librt.so`:\n\n```\n$ ldd /usr/local/lib/python2.7/dist-packages/_librabbitmq.so\n        linux-gate.so.1 =>  (0xb78bc000)\n        libpthread.so.0 => /lib/i386-linux-gnu/tls/i686/nosegneg/libpthread.so.0 (0xb7880000)\n        libc.so.6 => /lib/i386-linux-gnu/tls/i686/nosegneg/libc.so.6 (0xb7718000)\n        /lib/ld-linux.so.2 (0xb78bd000)\n```\n\nApologies if missing something obvious.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/41", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/41/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/41/events", "html_url": "https://github.com/celery/librabbitmq/issues/41", "id": 31574582, "node_id": "MDU6SXNzdWUzMTU3NDU4Mg==", "number": 41, "title": "Confusing branches", "user": {"login": "ijl", "id": 1977222, "node_id": "MDQ6VXNlcjE5NzcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1977222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ijl", "html_url": "https://github.com/ijl", "followers_url": "https://api.github.com/users/ijl/followers", "following_url": "https://api.github.com/users/ijl/following{/other_user}", "gists_url": "https://api.github.com/users/ijl/gists{/gist_id}", "starred_url": "https://api.github.com/users/ijl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ijl/subscriptions", "organizations_url": "https://api.github.com/users/ijl/orgs", "repos_url": "https://api.github.com/users/ijl/repos", "events_url": "https://api.github.com/users/ijl/events{/privacy}", "received_events_url": "https://api.github.com/users/ijl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-15T17:42:43Z", "updated_at": "2014-05-28T14:42:11Z", "closed_at": "2014-05-28T14:42:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's rather confusing that master is 1.0.1, there is another 1.0 branch, and the current version is branch 1.5. I think documentation is necessary on the master readme, at least. For context, I came here to find the changelog while considering an upgrade.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/40", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/40/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/40/events", "html_url": "https://github.com/celery/librabbitmq/issues/40", "id": 31546883, "node_id": "MDU6SXNzdWUzMTU0Njg4Mw==", "number": 40, "title": "error return without exception set in 1.5", "user": {"login": "eandersson", "id": 3922797, "node_id": "MDQ6VXNlcjM5MjI3OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3922797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eandersson", "html_url": "https://github.com/eandersson", "followers_url": "https://api.github.com/users/eandersson/followers", "following_url": "https://api.github.com/users/eandersson/following{/other_user}", "gists_url": "https://api.github.com/users/eandersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/eandersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eandersson/subscriptions", "organizations_url": "https://api.github.com/users/eandersson/orgs", "repos_url": "https://api.github.com/users/eandersson/repos", "events_url": "https://api.github.com/users/eandersson/events{/privacy}", "received_events_url": "https://api.github.com/users/eandersson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-15T11:55:41Z", "updated_at": "2014-04-22T06:42:27Z", "closed_at": "2014-04-22T06:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey,\n\nI ran my test suit on the new library, and I am getting SystemError exception when for example providing an invalid DNS entry or a bad ip/port.\n\n```\n  File \"/usr/local/lib/python2.7/dist-packages/librabbitmq/__init__.py\", line 184, in __init__\n    self.connect()\nSystemError: error return without exception set\n```\n\nThese are the tests that are failing with invalid exceptions\n\n```\nself.assertRaises(AMQPConnectionError,\n                          self.adapter.Connection, '127.0.0.0')\nself.assertRaises(AMQPConnectionError,\n                          self.adapter.Connection, HOSTNAME,\n                          port=1337)\nself.assertRaises(AMQPConnectionError,\n                          self.adapter.Connection, '127.0.0.0')\n```\n\nI have my own API wrapped around librabbitmq, but I am making very simple calls.\n\n```\nconnection = librabbitmq.Connection\nself._connection = connection(hostname,\n                              port=port,\n                              userid=username,\n                              password=password,\n                              virtual_host=virtual_host,\n                              confirm_publish=confirm_publish)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/39", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/39/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/39/events", "html_url": "https://github.com/celery/librabbitmq/issues/39", "id": 24921884, "node_id": "MDU6SXNzdWUyNDkyMTg4NA==", "number": 39, "title": "fileno not raising exception after connection.close is called", "user": {"login": "eandersson", "id": 3922797, "node_id": "MDQ6VXNlcjM5MjI3OTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3922797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eandersson", "html_url": "https://github.com/eandersson", "followers_url": "https://api.github.com/users/eandersson/followers", "following_url": "https://api.github.com/users/eandersson/following{/other_user}", "gists_url": "https://api.github.com/users/eandersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/eandersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eandersson/subscriptions", "organizations_url": "https://api.github.com/users/eandersson/orgs", "repos_url": "https://api.github.com/users/eandersson/repos", "events_url": "https://api.github.com/users/eandersson/events{/privacy}", "received_events_url": "https://api.github.com/users/eandersson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-31T14:56:14Z", "updated_at": "2014-04-22T06:43:00Z", "closed_at": "2014-04-22T06:43:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unlike with for example py-amqp after calling connection.close() and then accessing the value of connection.fileno() it does not throw an AttributeError.\n\nIs this intended?\n\ne.g.\n\n```\nprint connection.fileno()\nconnection.close()\nprint connection.fileno() # Shouldn't this throw an exception?\n```\n\nI don't have much experience with sockets on C library, but does this mean that the socket is still opened, or is the fileno value cached?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/38", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/38/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/38/events", "html_url": "https://github.com/celery/librabbitmq/issues/38", "id": 24588212, "node_id": "MDU6SXNzdWUyNDU4ODIxMg==", "number": 38, "title": "Memory leak when publishing with same channel, librabbitmq 1.0.3", "user": {"login": "jve", "id": 611237, "node_id": "MDQ6VXNlcjYxMTIzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/611237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jve", "html_url": "https://github.com/jve", "followers_url": "https://api.github.com/users/jve/followers", "following_url": "https://api.github.com/users/jve/following{/other_user}", "gists_url": "https://api.github.com/users/jve/gists{/gist_id}", "starred_url": "https://api.github.com/users/jve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jve/subscriptions", "organizations_url": "https://api.github.com/users/jve/orgs", "repos_url": "https://api.github.com/users/jve/repos", "events_url": "https://api.github.com/users/jve/events{/privacy}", "received_events_url": "https://api.github.com/users/jve/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-19T21:13:55Z", "updated_at": "2014-06-02T09:58:45Z", "closed_at": "2014-04-14T18:11:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI ran into an issue when I use channels again and again to publish. I know a similar issue was fixed in 1.0.1 but I am still seeing a memory leak even with that version.\n\nI attached some code to reproduce the problem:\n\n``` python\nimport librabbitmq\nconn = librabbitmq.Connection(host='localhost', port=5673, userid='guest', password='guest', virtual_host='/')\nchannel = conn.channel()\n# using headers seems to amplify the problem.\nproperties = {'headers': {'someHeader': 'someValue', 'someHeader1': 'someValue', 'someHeader2': 'someValue', 'someHeader3': 'someValue', 'someHeader4': 'someValue'}}\nfor _ in xrange(100000):\n  channel.basic_publish('123', **properties)\n```\n\nRunning the xrange loop a couple of times should show you the memory increasing.\n\nI had a bit of a dig inside the bindings and googling for potential memory leaks inside rabbitmq-c and came across the following link: \nhttp://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-July/028212.html\n\nWhere they mention calling:\n`amqp_maybe_release_buffers` after `amqp_tx_commit`. I had a look around the `basic_publish method` in the bindings but didn't come across any `amqp_tx_commits` but adding in `amqp_maybe_release_buffers` in the connection.c (https://github.com/celery/librabbitmq/blob/master/Modules/_librabbitmq/connection.c) file seems to solve the issue.\n\n```\nret = amqp_basic_publish(self->conn, channel,\n                             PyString_AS_AMQBYTES(exchange),\n                             PyString_AS_AMQBYTES(routing_key),\n                             (amqp_boolean_t)mandatory,\n                             (amqp_boolean_t)immediate,\n                             &props,\n                             bytes);\n    amqp_maybe_release_buffers(self->conn);\n    Py_END_ALLOW_THREADS;\n```\n\nI didn't submit a pull request as I am not 100% sure this is the right approach for this problem as I am not too familiar with rabbitmq-c but thought I'd flag this and submit a potential fix.\n\nThanks,\nJozef\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/33", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/33/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/33/events", "html_url": "https://github.com/celery/librabbitmq/issues/33", "id": 24189192, "node_id": "MDU6SXNzdWUyNDE4OTE5Mg==", "number": 33, "title": "Bump version to 1.0.3?", "user": {"login": "rogerhu", "id": 326857, "node_id": "MDQ6VXNlcjMyNjg1Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/326857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rogerhu", "html_url": "https://github.com/rogerhu", "followers_url": "https://api.github.com/users/rogerhu/followers", "following_url": "https://api.github.com/users/rogerhu/following{/other_user}", "gists_url": "https://api.github.com/users/rogerhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rogerhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rogerhu/subscriptions", "organizations_url": "https://api.github.com/users/rogerhu/orgs", "repos_url": "https://api.github.com/users/rogerhu/repos", "events_url": "https://api.github.com/users/rogerhu/events{/privacy}", "received_events_url": "https://api.github.com/users/rogerhu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-12T16:18:53Z", "updated_at": "2013-12-18T15:43:33Z", "closed_at": "2013-12-18T15:43:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I noticed on that ChangeLog that the files don't seem to match on PyPi https://pypi.python.org/packages/source/l/librabbitmq/librabbitmq-1.0.3.tar.gz)\n\n```\ndiff Changelog ../librabbitmq-src/librabbitmq-1.0.3/Changelog \n\n9a10,29\n> .. _version-1.0.3:\n> \n> 1.0.3\n> =====\n> :release-date: 2013-11-15 11:00 P.M UTC\n> \n> - Fixed installation problem on OS X 10.9\n> \n> .. _version-1.0.2:\n> \n> 1.0.2\n> =====\n> :release-date: 2013-10-25 11:00 P.M UTC\n> \n> - \"Bad Frame Read\" is now ConnectionError, not ChannelError.\n> \n> - Fixed problem with basic_cancel when disconnected.\n> \n> - Fixed typo Channel.recover -> Channel.basic_recover\n> \n10a31,34\n> \n> 1.0.1\n> =====\n> :release-date: 2013-01-14 02:10 P.M UTC\n\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/32", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/32/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/32/events", "html_url": "https://github.com/celery/librabbitmq/issues/32", "id": 21204928, "node_id": "MDU6SXNzdWUyMTIwNDkyOA==", "number": 32, "title": "Installing as install_requires via setup.py fails.", "user": {"login": "yoloseem", "id": 249795, "node_id": "MDQ6VXNlcjI0OTc5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/249795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoloseem", "html_url": "https://github.com/yoloseem", "followers_url": "https://api.github.com/users/yoloseem/followers", "following_url": "https://api.github.com/users/yoloseem/following{/other_user}", "gists_url": "https://api.github.com/users/yoloseem/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoloseem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoloseem/subscriptions", "organizations_url": "https://api.github.com/users/yoloseem/orgs", "repos_url": "https://api.github.com/users/yoloseem/repos", "events_url": "https://api.github.com/users/yoloseem/events{/privacy}", "received_events_url": "https://api.github.com/users/yoloseem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-10-18T07:49:03Z", "updated_at": "2015-10-13T22:50:05Z", "closed_at": "2014-05-28T16:33:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Environment: OS X 10.8.5, Python 2.7.2\n\ninstalling directly via pip command works well as expected, but installing via `setup.py develop` as specifying `librabbitmq` as `install_requires` causes an error. the last part of error is:\n\n```\nclang: warning: argument unused during compilation: '-mno-fused-madd'\nclib/librabbitmq/amqp_mem.c:46:10: error: use of undeclared identifier 'VERSION'\n  return VERSION; /* defined in config.h */\n         ^\n1 error generated.\nerror: Setup script exited with error: command 'clang' failed with exit status 1\n```\n\ni've tried specifying _librabbitmq_ in _setup_requires_, but it generated same result. how can i fix this situation? i want to get rid of calling `pip install -r requirements.txt` from my application.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/31", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/31/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/31/events", "html_url": "https://github.com/celery/librabbitmq/issues/31", "id": 17962332, "node_id": "MDU6SXNzdWUxNzk2MjMzMg==", "number": 31, "title": "Make error messages more clear", "user": {"login": "nhooey", "id": 65458, "node_id": "MDQ6VXNlcjY1NDU4", "avatar_url": "https://avatars1.githubusercontent.com/u/65458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhooey", "html_url": "https://github.com/nhooey", "followers_url": "https://api.github.com/users/nhooey/followers", "following_url": "https://api.github.com/users/nhooey/following{/other_user}", "gists_url": "https://api.github.com/users/nhooey/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhooey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhooey/subscriptions", "organizations_url": "https://api.github.com/users/nhooey/orgs", "repos_url": "https://api.github.com/users/nhooey/repos", "events_url": "https://api.github.com/users/nhooey/events{/privacy}", "received_events_url": "https://api.github.com/users/nhooey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-12T20:16:30Z", "updated_at": "2013-08-14T11:53:31Z", "closed_at": "2013-08-12T20:23:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently `librabbitmq` prints error messages like this:\n\n```\nConnectionError: Error opening socket: Unknown error: 536870973\n```\n\nWhich are compound error messages created by bit-masking. This makes them impossible to search for in a search engine.\n\nIt would be much more clear if the error messages were printed as a string, or if the library at least provided a way to decode these messages.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/30", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/30/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/30/events", "html_url": "https://github.com/celery/librabbitmq/issues/30", "id": 16905946, "node_id": "MDU6SXNzdWUxNjkwNTk0Ng==", "number": 30, "title": "Consumer occur  Bad frame read", "user": {"login": "linbo", "id": 1374391, "node_id": "MDQ6VXNlcjEzNzQzOTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1374391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linbo", "html_url": "https://github.com/linbo", "followers_url": "https://api.github.com/users/linbo/followers", "following_url": "https://api.github.com/users/linbo/following{/other_user}", "gists_url": "https://api.github.com/users/linbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/linbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linbo/subscriptions", "organizations_url": "https://api.github.com/users/linbo/orgs", "repos_url": "https://api.github.com/users/linbo/repos", "events_url": "https://api.github.com/users/linbo/events{/privacy}", "received_events_url": "https://api.github.com/users/linbo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-07-18T06:49:47Z", "updated_at": "2014-11-04T03:11:42Z", "closed_at": "2014-05-28T16:23:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use librabbitmq for consumer data from rabbitmq, but got Bad frame read exception\n\n``` python\nTraceback (most recent call last):\n  File \"consumer.py\", line 119, in consume\n    connection.drain_events()\n  File \"/home/push/python/lib/python2.6/site-packages/librabbitmq/__init__.py\", line 198, in drain_events\n    self._basic_recv(timeout)\nChannelError: Bad frame read\n```\n\nPython: 2.6\nRabbitMQ: 3.1.3,\u00a0Erlang R14B04\nlibrabbitmq==1.0.1\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/27", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/27/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/27/events", "html_url": "https://github.com/celery/librabbitmq/issues/27", "id": 14146100, "node_id": "MDU6SXNzdWUxNDE0NjEwMA==", "number": 27, "title": "Memory Leaks from 'Maybe_Unicode'", "user": {"login": "leth", "id": 52370, "node_id": "MDQ6VXNlcjUyMzcw", "avatar_url": "https://avatars1.githubusercontent.com/u/52370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leth", "html_url": "https://github.com/leth", "followers_url": "https://api.github.com/users/leth/followers", "following_url": "https://api.github.com/users/leth/following{/other_user}", "gists_url": "https://api.github.com/users/leth/gists{/gist_id}", "starred_url": "https://api.github.com/users/leth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leth/subscriptions", "organizations_url": "https://api.github.com/users/leth/orgs", "repos_url": "https://api.github.com/users/leth/repos", "events_url": "https://api.github.com/users/leth/events{/privacy}", "received_events_url": "https://api.github.com/users/leth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-05-09T13:31:05Z", "updated_at": "2020-03-28T12:52:52Z", "closed_at": "2020-03-28T12:52:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've been looking into a memory leak by running [a static analysis tool](https://gcc-python-plugin.readthedocs.org/)  over the librabbitmq module. It looks like the way `Maybe_Unicode` is being used may leak object references.\n\n``` c\n_PYRMQ_INLINE PyObject*\nMaybe_Unicode(PyObject *s)\n{\n    if (PyUnicode_Check(s))\n        return PyUnicode_AsASCIIString(s);\n    return s;\n}\n```\n\nI see it called often after a call to `PyArg_ParseTuple`\n\nThe docs for `PyArg_ParseTuple` say:\n\n> Note that any Python object references which are provided to the caller are borrowed references; do not decrement their reference count!\n\nThe docs for `PyUnicode_AsASCIIString` say:\n\n> `PyObject* PyUnicode_AsASCIIString(PyObject *unicode)`\n> Return value: New reference.\n\nIf `Maybe_Unicode` is intended to make new objects, the caller needs to be responsible for cleaning them up.\nIf the caller calls `Maybe_Unicode` with a borrowed reference, but gets back a new reference, it should decrement the refcount once it's done, but I haven't seen any evidence of that.\n\nIt may be cleaner to increment the refcount before calling, and decrement it when you're done, so that `Maybe_Unicode` can safely decrement the ref to a passed unicode object. e.g:\n\n``` c\n_PYRMQ_INLINE PyObject*\nMaybe_Unicode(PyObject *s)\n{\n    if (PyUnicode_Check(s))\n    {\n        PyObject* ascii = PyUnicode_AsASCIIString(s);\n        DECREF(s);\n        s = ascii;\n    }\n    return s;\n}\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/25", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/25/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/25/events", "html_url": "https://github.com/celery/librabbitmq/issues/25", "id": 11170904, "node_id": "MDU6SXNzdWUxMTE3MDkwNA==", "number": 25, "title": "Channel does not support events", "user": {"login": "mayfield", "id": 139316, "node_id": "MDQ6VXNlcjEzOTMxNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/139316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayfield", "html_url": "https://github.com/mayfield", "followers_url": "https://api.github.com/users/mayfield/followers", "following_url": "https://api.github.com/users/mayfield/following{/other_user}", "gists_url": "https://api.github.com/users/mayfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayfield/subscriptions", "organizations_url": "https://api.github.com/users/mayfield/orgs", "repos_url": "https://api.github.com/users/mayfield/repos", "events_url": "https://api.github.com/users/mayfield/events{/privacy}", "received_events_url": "https://api.github.com/users/mayfield/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-02-19T20:36:26Z", "updated_at": "2016-06-10T16:26:24Z", "closed_at": "2016-06-10T16:26:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The kombu Producer code expects the librabbitmq.Channel class to have an events attribute used to listen for events such as NO_ROUTE (on_return) when a message is sent with immediate=True.  The amqp module implements this correctly but librabbitmq does not have an events dict and thus produces the following exception with kombu.Producer(on_return=lambda *foo).  As I understand it the APIs should be the same and so I figure this is a librabbitmq issue and not kombu.\n\n``` python\n  File \"/local/home/mayfield/project/wpc/mayfield-rome/packages_venv/lib/python2.7/site-packages/kombu/messaging.py\", line 83, in __init__\n    self.revive(self._channel)\n  File \"/local/home/mayfield/project/wpc/mayfield-rome/packages_venv/lib/python2.7/site-packages/kombu/messaging.py\", line 208, in revive\n    self._channel.events['basic_return'].add(self.on_return)\nAttributeError: 'Channel' object has no attribute 'events'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/23", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/23/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/23/events", "html_url": "https://github.com/celery/librabbitmq/issues/23", "id": 10885437, "node_id": "MDU6SXNzdWUxMDg4NTQzNw==", "number": 23, "title": "librabbitmq use of select() breaks support for large fds", "user": {"login": "mayfield", "id": 139316, "node_id": "MDQ6VXNlcjEzOTMxNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/139316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayfield", "html_url": "https://github.com/mayfield", "followers_url": "https://api.github.com/users/mayfield/followers", "following_url": "https://api.github.com/users/mayfield/following{/other_user}", "gists_url": "https://api.github.com/users/mayfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayfield/subscriptions", "organizations_url": "https://api.github.com/users/mayfield/orgs", "repos_url": "https://api.github.com/users/mayfield/repos", "events_url": "https://api.github.com/users/mayfield/events{/privacy}", "received_events_url": "https://api.github.com/users/mayfield/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-02-11T22:00:53Z", "updated_at": "2013-03-19T16:06:32Z", "closed_at": "2013-03-19T16:06:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI've run into an issue when using rabbitmq in a service that has large numbers of file descriptors;  Specifically our servers use async IO loops to handle many thousands of concurrent sockets.  If in our life cycle we attempt to use librabbitmq (which we do a lot) we can easily crash our python interpreter because of unbound calls to select's FD_SET macro in RabbitMQ_wait_timeout().  Here is a piece of code that will crash python.\n\n```\nimport unittest\nimport socket\nfrom librabbitmq import Connection\n\nclass LargeFileDesc(unittest.TestCase):\n\n    def test_large_fd(self):\n         sockets = [ socket.socket() for x in range(10000) ]\n         c = Connection()\n         c.drain_events(timeout=0.001)\n\nif __name__ == '__main__':\n    unittest.main()\n```\n\nNote that you'll need to bump your max number of open files allowed with `ulimit -n 100000` which requires root privileges.  On OSX you have to tweak some sysctl values too I think.  I'm currently working on a GNU/Linux distro.\n\nAs for possible fixes, I can't think of anything elegant other than doing feature detection for poll() during the build and relegating non-POSIX systems to the inherit limits of select();  Unless librabbitmq is only designed for POSIX systems and then i'd be willing to submit a patch that just replaces select() with poll().\n\nPlease advise if the poll() replacement would be acceptable to librabbitmq's platform requirements.\n\nJM\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/17", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/17/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/17/events", "html_url": "https://github.com/celery/librabbitmq/issues/17", "id": 9649744, "node_id": "MDU6SXNzdWU5NjQ5NzQ0", "number": 17, "title": "snprintf now part of ansi-c", "user": {"login": "toddrjen", "id": 2272878, "node_id": "MDQ6VXNlcjIyNzI4Nzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2272878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toddrjen", "html_url": "https://github.com/toddrjen", "followers_url": "https://api.github.com/users/toddrjen/followers", "following_url": "https://api.github.com/users/toddrjen/following{/other_user}", "gists_url": "https://api.github.com/users/toddrjen/gists{/gist_id}", "starred_url": "https://api.github.com/users/toddrjen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toddrjen/subscriptions", "organizations_url": "https://api.github.com/users/toddrjen/orgs", "repos_url": "https://api.github.com/users/toddrjen/repos", "events_url": "https://api.github.com/users/toddrjen/events{/privacy}", "received_events_url": "https://api.github.com/users/toddrjen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-01-03T17:25:31Z", "updated_at": "2013-01-14T13:18:46Z", "closed_at": "2013-01-14T13:18:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Modules/_librabbitmq/connection.c makes use of snprintf.  However, librabbitmq is built with the -ansi flag.  The -ansi version of c does not have snprintf.  It may still build using some compilers if you enable implicit declarations.  Post-build checks for implicit declarations reject it.  \n\nEither using something other than snprintf or building with something other than -ansi will fix this problem.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/16", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/16/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/16/events", "html_url": "https://github.com/celery/librabbitmq/issues/16", "id": 9598992, "node_id": "MDU6SXNzdWU5NTk4OTky", "number": 16, "title": "queue_unbind signature does not match py-amqp", "user": {"login": "mayfield", "id": 139316, "node_id": "MDQ6VXNlcjEzOTMxNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/139316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayfield", "html_url": "https://github.com/mayfield", "followers_url": "https://api.github.com/users/mayfield/followers", "following_url": "https://api.github.com/users/mayfield/following{/other_user}", "gists_url": "https://api.github.com/users/mayfield/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayfield/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayfield/subscriptions", "organizations_url": "https://api.github.com/users/mayfield/orgs", "repos_url": "https://api.github.com/users/mayfield/repos", "events_url": "https://api.github.com/users/mayfield/events{/privacy}", "received_events_url": "https://api.github.com/users/mayfield/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-12-31T23:17:17Z", "updated_at": "2016-06-10T16:25:25Z", "closed_at": "2016-06-10T16:25:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use the kombu Queue.unbind_from method which calls either py-amqp or librabbitmq's Channel.queue_unbind method.  In the case of librabbitmq I get a TypeError because the expected signature does not match the calling form or that of py-amqp;  Namely librabbitmq is expecting the kwarg 'binding_key' instead of 'routing_key'.\n\nHere is py-ampq:\n\n   def queue_unbind(self, queue, exchange, routing_key='', nowait=False, arguments=None):\n\nvs librabbitmq:\n\n```\ndef queue_unbind(self, queue='', exchange='', binding_key='', arguments=None, nowait=False):\n```\n\nFrom what I can tell these interfaces are expected to be the same(ish), so perhaps this is a bug?  If I'm mistaken about the intent to match these interfaces then this is probably a bug for kombu and it will need an abstraction to cope with the varied Channel interfaces.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/15", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/15/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/15/events", "html_url": "https://github.com/celery/librabbitmq/issues/15", "id": 9531786, "node_id": "MDU6SXNzdWU5NTMxNzg2", "number": 15, "title": "memory leak?", "user": {"login": "simon-liu", "id": 1657519, "node_id": "MDQ6VXNlcjE2NTc1MTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1657519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simon-liu", "html_url": "https://github.com/simon-liu", "followers_url": "https://api.github.com/users/simon-liu/followers", "following_url": "https://api.github.com/users/simon-liu/following{/other_user}", "gists_url": "https://api.github.com/users/simon-liu/gists{/gist_id}", "starred_url": "https://api.github.com/users/simon-liu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simon-liu/subscriptions", "organizations_url": "https://api.github.com/users/simon-liu/orgs", "repos_url": "https://api.github.com/users/simon-liu/repos", "events_url": "https://api.github.com/users/simon-liu/events{/privacy}", "received_events_url": "https://api.github.com/users/simon-liu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2012-12-27T04:23:37Z", "updated_at": "2013-10-17T13:19:41Z", "closed_at": "2013-01-14T14:16:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The piece of code(I means consumer) below eat 30M memory when consumer started, after 10 minutes, the memory usage is 970M.\n\ncan someone help me? thanks\n\n``` python\n# producer\nfrom librabbitmq import Connection\n\nconn = Connection('192.168.20.41')\n\nchannel = conn.channel()\nchannel.exchange_declare(exchange='x', type='direct', durable=True)\nchannel.queue_declare(queue='q', durable=True)\nchannel.queue_bind(queue='q', exchange='x', routing_key='rk')\n\nwhile True:\n    channel.basic_publish(('hello moto', {'delivery_mode' : 2}), 'x', 'rk')\n```\n\n``` python\n# consumer\nfrom librabbitmq import Connection\n\nconn = Connection('192.168.20.41')\n\nchannel = conn.channel()\nchannel.exchange_declare(exchange='x', type='direct', durable=True)\nchannel.queue_declare(queue='q', durable=True)\nchannel.queue_bind(queue='q', exchange='x', routing_key='rk')\n\ndef dump_message(message):\n    print(\"Body:'%s', Proeprties:'%s', DeliveryInfo:'%s'\" % (\n        message.body, message.properties, message.delivery_info))\n    message.ack()\n\nwith channel:\n    channel.basic_consume(callback=dump_message)\n    while True:\n        channel.connection.drain_events()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/13", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/13/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/13/events", "html_url": "https://github.com/celery/librabbitmq/issues/13", "id": 9259088, "node_id": "MDU6SXNzdWU5MjU5MDg4", "number": 13, "title": "Support for Python 3", "user": {"login": "thijstriemstra", "id": 305679, "node_id": "MDQ6VXNlcjMwNTY3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/305679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thijstriemstra", "html_url": "https://github.com/thijstriemstra", "followers_url": "https://api.github.com/users/thijstriemstra/followers", "following_url": "https://api.github.com/users/thijstriemstra/following{/other_user}", "gists_url": "https://api.github.com/users/thijstriemstra/gists{/gist_id}", "starred_url": "https://api.github.com/users/thijstriemstra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thijstriemstra/subscriptions", "organizations_url": "https://api.github.com/users/thijstriemstra/orgs", "repos_url": "https://api.github.com/users/thijstriemstra/repos", "events_url": "https://api.github.com/users/thijstriemstra/events{/privacy}", "received_events_url": "https://api.github.com/users/thijstriemstra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 46, "created_at": "2012-12-13T17:21:25Z", "updated_at": "2018-05-30T14:50:29Z", "closed_at": "2018-05-30T14:50:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to support Python 3 at some point. Getting this error at the moment when running `python3.3 setup.py build`:\n\n```\nFile \"setup.py\", line 185\n    except Exception, exc:\n                ^\nSyntaxError: invalid syntax\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/10", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/10/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/10/events", "html_url": "https://github.com/celery/librabbitmq/issues/10", "id": 7525292, "node_id": "MDU6SXNzdWU3NTI1Mjky", "number": 10, "title": "`PyDict_ToAMQTable` does not support nested tables", "user": {"login": "anthonyrisinger", "id": 202141, "node_id": "MDQ6VXNlcjIwMjE0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/202141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthonyrisinger", "html_url": "https://github.com/anthonyrisinger", "followers_url": "https://api.github.com/users/anthonyrisinger/followers", "following_url": "https://api.github.com/users/anthonyrisinger/following{/other_user}", "gists_url": "https://api.github.com/users/anthonyrisinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthonyrisinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthonyrisinger/subscriptions", "organizations_url": "https://api.github.com/users/anthonyrisinger/orgs", "repos_url": "https://api.github.com/users/anthonyrisinger/repos", "events_url": "https://api.github.com/users/anthonyrisinger/events{/privacy}", "received_events_url": "https://api.github.com/users/anthonyrisinger/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-10-11T20:15:49Z", "updated_at": "2012-10-12T07:23:40Z", "closed_at": "2012-10-12T07:14:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`PyDict_ToAMQTable` (`Modules/_librabbitmq/connection.c`) only processes Int, Long, String, Unicode, but AFAICT (confirmed) AMQP also supports nested tables ... which is useful :-)\n\nfor the record, `pyamqp` transport in Kombu seems to be capable of marshaling the nested structures ... my C is still pretty green but it seems like you could just call `PyDict_ToAMQTable` recursively?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/8", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/8/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/8/events", "html_url": "https://github.com/celery/librabbitmq/issues/8", "id": 6882541, "node_id": "MDU6SXNzdWU2ODgyNTQx", "number": 8, "title": "Accept a Connection socket_timeout", "user": {"login": "dtran320", "id": 177059, "node_id": "MDQ6VXNlcjE3NzA1OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/177059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtran320", "html_url": "https://github.com/dtran320", "followers_url": "https://api.github.com/users/dtran320/followers", "following_url": "https://api.github.com/users/dtran320/following{/other_user}", "gists_url": "https://api.github.com/users/dtran320/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtran320/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtran320/subscriptions", "organizations_url": "https://api.github.com/users/dtran320/orgs", "repos_url": "https://api.github.com/users/dtran320/repos", "events_url": "https://api.github.com/users/dtran320/events{/privacy}", "received_events_url": "https://api.github.com/users/dtran320/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-09-14T17:53:41Z", "updated_at": "2016-08-06T15:13:57Z", "closed_at": "2016-08-06T15:13:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "pylibrabbitmq does not appear to accept a socket_timeout like amqplib and other transports do, resulting in the following unexpected `ConnectionError`.\n## With librabbitmq:\n\nlibrabbitmq/**init**.pyc in **init**(self, host, userid, password, virtual_host, port, channel_max, frame_max, heartbeat, lazy, **kwargs)\n    166         self._avail_channel_ids = array('H', xrange(self.channel_max, 0, -1))\n    167         if not lazy:\n--> 168             self.connect()\n    169 \n    170     def reconnect(self):\n\nConnectionError: Error opening socket: Unknown error: 536870972\n## With amqplib:\n\namqplib/client_0_8/transport.pyc in **init**(self, host, connect_timeout)\n     83         if not self.sock:\n     84             # Didn't connect, return the most recent error message\n\n---> 85             raise socket.error, msg\n     86 \n     87         self.sock.settimeout(None)\n\ntimeout: timed out\n\nRunning kombu 2.4.6 with librabbitmq: calls to `.delay()` and `.apply_async()`\nthat time out no longer timeout in the amount of time set with `BROKER_CONNECTION_TIMEOUT`\nas they did with amqplib.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/7", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/7/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/7/events", "html_url": "https://github.com/celery/librabbitmq/issues/7", "id": 6173257, "node_id": "MDU6SXNzdWU2MTczMjU3", "number": 7, "title": "Connection error message is misleading", "user": {"login": "dgouldin", "id": 55577, "node_id": "MDQ6VXNlcjU1NTc3", "avatar_url": "https://avatars2.githubusercontent.com/u/55577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgouldin", "html_url": "https://github.com/dgouldin", "followers_url": "https://api.github.com/users/dgouldin/followers", "following_url": "https://api.github.com/users/dgouldin/following{/other_user}", "gists_url": "https://api.github.com/users/dgouldin/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgouldin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgouldin/subscriptions", "organizations_url": "https://api.github.com/users/dgouldin/orgs", "repos_url": "https://api.github.com/users/dgouldin/repos", "events_url": "https://api.github.com/users/dgouldin/events{/privacy}", "received_events_url": "https://api.github.com/users/dgouldin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-08-11T22:19:06Z", "updated_at": "2012-08-17T14:19:30Z", "closed_at": "2012-08-17T14:19:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "When providing bad auth to librabbitmq.Connection, the ConnectionError raised contains the message \"Couldn't log in: Argument list too long\" which is misleading. See shell output:\n\nhttps://gist.github.com/3327545\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/6", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/6/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/6/events", "html_url": "https://github.com/celery/librabbitmq/issues/6", "id": 5799684, "node_id": "MDU6SXNzdWU1Nzk5Njg0", "number": 6, "title": "librabbitmq build fails on OS X Lion", "user": {"login": "fredrik", "id": 12793, "node_id": "MDQ6VXNlcjEyNzkz", "avatar_url": "https://avatars2.githubusercontent.com/u/12793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredrik", "html_url": "https://github.com/fredrik", "followers_url": "https://api.github.com/users/fredrik/followers", "following_url": "https://api.github.com/users/fredrik/following{/other_user}", "gists_url": "https://api.github.com/users/fredrik/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredrik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredrik/subscriptions", "organizations_url": "https://api.github.com/users/fredrik/orgs", "repos_url": "https://api.github.com/users/fredrik/repos", "events_url": "https://api.github.com/users/fredrik/events{/privacy}", "received_events_url": "https://api.github.com/users/fredrik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2012-07-24T10:42:26Z", "updated_at": "2018-09-14T18:08:01Z", "closed_at": "2018-09-14T18:08:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installation of librabbitmq fails with the message below. This happens when installing using pip (`pip install librabbitmq==0.9.9`) and when using the development version (ref f29317eb4d).\n\n```\n/usr/bin/clang -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fno-strict-aliasing -fno-common -dynamic -Os -w -pipe -march=native -Qunused-arguments -mmacosx-version-min=10.7 -fwrapv -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -W -Wall -ansi -Iclib/librabbitmq -Iclib -Iclib/librabbitmq/unix -I/usr/local/Cellar/python/2.7.3/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c clib/librabbitmq/amqp_api.c -o build/temp.macosx-10.7-x86_64-2.7/clib/librabbitmq/amqp_api.o\nclib/librabbitmq/amqp_api.c:33:10: fatal error: 'config.h' file not found\n#include \"config.h\"\n         ^\n1 error generated.\nerror: command '/usr/bin/clang' failed with exit status 1\nmake: *** [build] Error 1\n```\n\n([Full log](https://gist.github.com/3169324#file_gistfile1.txt))\n\nI propose adding `(cd clib; test -f clib/config.h || ./configure)` to [the Makefile's dist target](https://raw.github.com/gist/3169324/b4040d4c2452f9044002d12a420ee870c49d1a03/Makefile.diff). This will generate the needed config.h file and the build will succeed.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/5", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/5/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/5/events", "html_url": "https://github.com/celery/librabbitmq/issues/5", "id": 5130040, "node_id": "MDU6SXNzdWU1MTMwMDQw", "number": 5, "title": "_librabbitmq.so problem on OS X Lion with versions greater than 0.9.2", "user": {"login": "datfinesoul", "id": 613305, "node_id": "MDQ6VXNlcjYxMzMwNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/613305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datfinesoul", "html_url": "https://github.com/datfinesoul", "followers_url": "https://api.github.com/users/datfinesoul/followers", "following_url": "https://api.github.com/users/datfinesoul/following{/other_user}", "gists_url": "https://api.github.com/users/datfinesoul/gists{/gist_id}", "starred_url": "https://api.github.com/users/datfinesoul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datfinesoul/subscriptions", "organizations_url": "https://api.github.com/users/datfinesoul/orgs", "repos_url": "https://api.github.com/users/datfinesoul/repos", "events_url": "https://api.github.com/users/datfinesoul/events{/privacy}", "received_events_url": "https://api.github.com/users/datfinesoul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2012-06-18T18:09:41Z", "updated_at": "2012-06-23T22:51:50Z", "closed_at": "2012-06-23T18:27:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to install a version of librabbitmq greater than 0.9.2 on my Mac (OS X 10.7.4) using PIP, the library installs fine, but when I try to import it in a python program or the interpreter, I get the following error.\n\nprogram:\n\nTraceback (most recent call last):\n  File \"test.py\", line 4, in <module>\n    import rabbit\n  File \"/Users/phadviger/code/librabbitmq/rabbit.py\", line 2, in <module>\n    import librabbitmq\n  File \"/Library/Python/2.7/site-packages/librabbitmq/**init**.py\", line 4, in <module>\n    import _librabbitmq\nImportError: dlopen(/Library/Python/2.7/site-packages/_librabbitmq.so, 2): Symbol not found: _PyDict_ToAMQTable\n  Referenced from: /Library/Python/2.7/site-packages/_librabbitmq.so\n  Expected in: flat namespace\n in /Library/Python/2.7/site-packages/_librabbitmq.so\n\ninterpreter:\n$ python\nPython 2.7.1 (r271:86832, Jul 31 2011, 19:30:53) \n[GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n> > > import librabbitmq\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > >   File \"/Library/Python/2.7/site-packages/librabbitmq/**init**.py\", line 4, in <module>\n> > >     import _librabbitmq\n> > > ImportError: dlopen(/Library/Python/2.7/site-packages/_librabbitmq.so, 2): Symbol not found: _PyDict_ToAMQTable\n> > >   Referenced from: /Library/Python/2.7/site-packages/_librabbitmq.so\n> > >   Expected in: flat namespace\n> > >  in /Library/Python/2.7/site-packages/_librabbitmq.so\n\nVersion 0.9.2 installs and works flawlessly though, but I would really like to use some of the changes in the newer versions.\n\nLet me know if you need additional info.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/4", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/4/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/4/events", "html_url": "https://github.com/celery/librabbitmq/issues/4", "id": 4779310, "node_id": "MDU6SXNzdWU0Nzc5MzEw", "number": 4, "title": "librabbitmq build fails on Debian 6.0.3", "user": {"login": "gugu", "id": 75169, "node_id": "MDQ6VXNlcjc1MTY5", "avatar_url": "https://avatars3.githubusercontent.com/u/75169?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gugu", "html_url": "https://github.com/gugu", "followers_url": "https://api.github.com/users/gugu/followers", "following_url": "https://api.github.com/users/gugu/following{/other_user}", "gists_url": "https://api.github.com/users/gugu/gists{/gist_id}", "starred_url": "https://api.github.com/users/gugu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gugu/subscriptions", "organizations_url": "https://api.github.com/users/gugu/orgs", "repos_url": "https://api.github.com/users/gugu/repos", "events_url": "https://api.github.com/users/gugu/events{/privacy}", "received_events_url": "https://api.github.com/users/gugu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-05-28T12:08:09Z", "updated_at": "2012-07-10T17:09:50Z", "closed_at": "2012-07-10T17:09:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installation of kombu fails with this message:\n\n<pre>\n[...] out:   Running setup.py install for librabbitmq\n[...] out:     /usr/bin/make  all-am\n[...] out:     make[1]: Entering directory `/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq'\n[...] out:     make[1]: Nothing to be done for `all-am'.\n[...] out:     make[1]: Leaving directory `/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq'\n[...] out:     - make rabbitmq-c...\n[...] out:     building '_librabbitmq' extension\n[...] out:     gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq -I/usr/include/python2.7 -c librabbitmq/_rabbitmqmodule.c -o build/temp.linux-x86_64-2.7/librabbitmq/_rabbitmqmodule.o\n[...] out:     In file included from /usr/include/python2.7/Python.h:8:0,\n[...] out:                      from librabbitmq/_rabbitmqmodule.h:16,\n[...] out:                      from librabbitmq/_rabbitmqmodule.c:7:\n[...] out:     /usr/include/python2.7/pyconfig.h:1161:0: warning: \"_POSIX_C_SOURCE\" redefined [enabled by default]\n[...] out:     /usr/include/features.h:214:0: note: this is the location of the previous definition\n[...] out:     librabbitmq/_rabbitmqmodule.c: In function \u2018PyRabbitMQ_Connection_basic_qos\u2019:\n[...] out:     librabbitmq/_rabbitmqmodule.c:1121:13: warning: assignment makes integer from pointer without a cast [enabled by default]\n[...] out:     gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_table.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/socket.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_url.o -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes build/temp.linux-x86_64-2.7/librabbitmq/_rabbitmqmodule.o -L/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/.libs -o build/lib.linux-x86_64-2.7/_librabbitmq.so\n[...] out:     /usr/bin/ld: /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC\n[...] out:     /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o: could not read symbols: Bad value\n[...] out:     collect2: ld returned 1 exit status\n[...] out:     error: command 'gcc' failed with exit status 1\n[...] out:     Complete output from command /home/eksmo/virtualenv/eksmo/bin/python -c \"import setuptools;__file__='/home/eksmo/virtualenv/eksmo/build/librabbitmq/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --single-version-externally-managed --record /tmp/pip-7ycder-record/install-record.txt --install-headers /home/eksmo/virtualenv/eksmo/include/site/python2.7:\n[...] out:     running install\n\n[...] out: running build\n\n[...] out: /usr/bin/make  all-am\n\n[...] out: make[1]: Entering directory `/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq'\n\n[...] out: make[1]: Nothing to be done for `all-am'.\n\n[...] out: make[1]: Leaving directory `/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq'\n\n[...] out: - make rabbitmq-c...\n\n[...] out: running build_py\n\n[...] out: running build_ext\n\n[...] out: building '_librabbitmq' extension\n\n[...] out: gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq -I/usr/include/python2.7 -c librabbitmq/_rabbitmqmodule.c -o build/temp.linux-x86_64-2.7/librabbitmq/_rabbitmqmodule.o\n\n[...] out: In file included from /usr/include/python2.7/Python.h:8:0,\n\n[...] out:                  from librabbitmq/_rabbitmqmodule.h:16,\n\n[...] out:                  from librabbitmq/_rabbitmqmodule.c:7:\n\n[...] out: /usr/include/python2.7/pyconfig.h:1161:0: warning: \"_POSIX_C_SOURCE\" redefined [enabled by default]\n\n[...] out: /usr/include/features.h:214:0: note: this is the location of the previous definition\n\n[...] out: librabbitmq/_rabbitmqmodule.c: In function \u2018PyRabbitMQ_Connection_basic_qos\u2019:\n\n[...] out: librabbitmq/_rabbitmqmodule.c:1121:13: warning: assignment makes integer from pointer without a cast [enabled by default]\n\n[...] out: gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_table.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_mem.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_connection.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/socket.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_socket.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_framing.o /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_url.o -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes build/temp.linux-x86_64-2.7/librabbitmq/_rabbitmqmodule.o -L/home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/.libs -o build/lib.linux-x86_64-2.7/_librabbitmq.so\n\n[...] out: /usr/bin/ld: /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o: relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC\n\n[...] out: /home/eksmo/virtualenv/eksmo/build/librabbitmq/rabbitmq-c/librabbitmq/amqp_api.o: could not read symbols: Bad value\n\n[...] out: collect2: ld returned 1 exit status\n\n[...] out: error: command 'gcc' failed with exit status 1\n\n[...] out: ----------------------------------------\n[...] out: Command /home/eksmo/virtualenv/eksmo/bin/python -c \"import setuptools;__file__='/home/eksmo/virtualenv/eksmo/build/librabbitmq/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --single-version-externally-managed --record /tmp/pip-7ycder-record/install-record.txt --install-headers /home/eksmo/virtualenv/eksmo/include/site/python2.7 failed with error code 1 in /home/eksmo/virtualenv/eksmo/build/librabbitmq\n[...] out: Storing complete log in /home/eksmo/.pip/pip.log\n\n</pre>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/3", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/3/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/3/events", "html_url": "https://github.com/celery/librabbitmq/issues/3", "id": 4718785, "node_id": "MDU6SXNzdWU0NzE4Nzg1", "number": 3, "title": "Fix \"Defining and executing tasks\" Example", "user": {"login": "user996015", "id": 1156566, "node_id": "MDQ6VXNlcjExNTY1NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1156566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/user996015", "html_url": "https://github.com/user996015", "followers_url": "https://api.github.com/users/user996015/followers", "following_url": "https://api.github.com/users/user996015/following{/other_user}", "gists_url": "https://api.github.com/users/user996015/gists{/gist_id}", "starred_url": "https://api.github.com/users/user996015/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/user996015/subscriptions", "organizations_url": "https://api.github.com/users/user996015/orgs", "repos_url": "https://api.github.com/users/user996015/repos", "events_url": "https://api.github.com/users/user996015/events{/privacy}", "received_events_url": "https://api.github.com/users/user996015/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-05-23T19:19:43Z", "updated_at": "2012-05-24T15:45:19Z", "closed_at": "2012-05-24T11:58:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "This\n\n```\n# Error: TypeError: 'module' object is not callable\nfrom celery import task\n\n@task\ndef add(x, y):\n    return x + y\n```\n\nShould be\n\n```\nfrom celery.task import task\n\n@task\ndef add(x, y):\n    return x + y\n```\n\nhttp://ask.github.com/celery/django/first-steps-with-django.html#defining-and-executing-tasks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/librabbitmq/issues/2", "repository_url": "https://api.github.com/repos/celery/librabbitmq", "labels_url": "https://api.github.com/repos/celery/librabbitmq/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/celery/librabbitmq/issues/2/comments", "events_url": "https://api.github.com/repos/celery/librabbitmq/issues/2/events", "html_url": "https://github.com/celery/librabbitmq/issues/2", "id": 1704052, "node_id": "MDU6SXNzdWUxNzA0MDUy", "number": 2, "title": "Unexpected keyword 'no_ack' when running with Kombu basic_get", "user": {"login": "kwloafman", "id": 158032, "node_id": "MDQ6VXNlcjE1ODAzMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/158032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwloafman", "html_url": "https://github.com/kwloafman", "followers_url": "https://api.github.com/users/kwloafman/followers", "following_url": "https://api.github.com/users/kwloafman/following{/other_user}", "gists_url": "https://api.github.com/users/kwloafman/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwloafman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwloafman/subscriptions", "organizations_url": "https://api.github.com/users/kwloafman/orgs", "repos_url": "https://api.github.com/users/kwloafman/repos", "events_url": "https://api.github.com/users/kwloafman/events{/privacy}", "received_events_url": "https://api.github.com/users/kwloafman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-09-21T19:37:17Z", "updated_at": "2014-08-09T17:44:32Z", "closed_at": "2012-05-21T17:00:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running in kombu.compat mode with librabbitmq as the transport, fetch fails with unexpected keyword 'no_ack'.  The patch at git://gist.github.com/1233068.git fixes pylibrabbitmq to expect 'no_ack' instead of 'noack' and makes the calling sequence consistent with the rest of the code.\n", "performed_via_github_app": null, "score": 1.0}]}