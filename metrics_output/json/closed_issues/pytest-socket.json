{"total_count": 11, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/33", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/33/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/33/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/33", "id": 514367715, "node_id": "MDU6SXNzdWU1MTQzNjc3MTU=", "number": 33, "title": "Combination with --disable-socket option and enable_socket marker is not working", "user": {"login": "atugushev", "id": 7377671, "node_id": "MDQ6VXNlcjczNzc2NzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/7377671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atugushev", "html_url": "https://github.com/atugushev", "followers_url": "https://api.github.com/users/atugushev/followers", "following_url": "https://api.github.com/users/atugushev/following{/other_user}", "gists_url": "https://api.github.com/users/atugushev/gists{/gist_id}", "starred_url": "https://api.github.com/users/atugushev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atugushev/subscriptions", "organizations_url": "https://api.github.com/users/atugushev/orgs", "repos_url": "https://api.github.com/users/atugushev/repos", "events_url": "https://api.github.com/users/atugushev/events{/privacy}", "received_events_url": "https://api.github.com/users/atugushev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-30T03:11:53Z", "updated_at": "2019-10-30T03:20:06Z", "closed_at": "2019-10-30T03:20:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Describe the issue briefly here. -->\r\n\r\n#### Environment Versions\r\n\r\n1. OS Type: MacOS 10.14.5\r\n1. Python version: Python 3.7.3\r\n1. Pytest version:\r\n```\r\nThis is pytest version 5.2.2, imported from /v/lib/python3.7/site-packages/pytest.py\r\nsetuptools registered plugins:\r\n  pytest-socket-0.3.3 at /v/lib/python3.7/site-packages/pytest_socket.py\r\n```\r\n\r\n#### Steps to replicate\r\n\r\n1. Copy the following code to t.py:\r\n```python\r\nimport pytest, socket\r\n\r\n@pytest.mark.enable_socket\r\ndef test_explicitly_enable_socket():\r\n    assert socket.socket(socket.AF_INET, socket.SOCK_STREAM\r\n```\r\n2. Run pytest: `pytest --disable-socket t.py`\r\n\r\n#### Expected result\r\n\r\nThe test passes:\r\n\r\n```\r\n============================= test session starts ==============================\r\nplatform darwin -- Python 3.7.3, pytest-5.2.2, py-1.8.0, pluggy-0.13.0\r\nrootdir: /tmp\r\nplugins: socket-0.3.3\r\ncollected 1 item                                                               \r\n\r\nt.py .                                                                   [100%]\r\n\r\n============================== 1 passed in 0.01s ===============================\r\n```\r\n\r\n#### Actual result\r\n\r\nThe test fails with a traceback:\r\n\r\n```\r\n============================= test session starts ==============================\r\nplatform darwin -- Python 3.7.3, pytest-5.2.2, py-1.8.0, pluggy-0.13.0\r\nrootdir: /tmp\r\nplugins: socket-0.3.3\r\ncollected 1 item                                                               \r\n\r\nt.py F                                                                   [100%]\r\n\r\n=================================== FAILURES ===================================\r\n________________________ test_explicitly_enable_socket _________________________\r\n\r\n    @pytest.mark.enable_socket\r\n    def test_explicitly_enable_socket():\r\n>       assert socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n\r\nt.py:5: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nargs = (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>), kwargs = {}\r\n\r\n    def guarded(*args, **kwargs):\r\n>       raise SocketBlockedError()\r\nE       pytest_socket.SocketBlockedError: A test tried to use socket.socket.\r\n\r\n/v/lib/python3.7/site-packages/pytest_socket.py:73: SocketBlockedError\r\n============================== 1 failed in 0.04s ===============================\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/32", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/32/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/32/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/32", "id": 501114012, "node_id": "MDU6SXNzdWU1MDExMTQwMTI=", "number": 32, "title": "Appveyor testing has gone awry", "user": {"login": "miketheman", "id": 529516, "node_id": "MDQ6VXNlcjUyOTUxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/529516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miketheman", "html_url": "https://github.com/miketheman", "followers_url": "https://api.github.com/users/miketheman/followers", "following_url": "https://api.github.com/users/miketheman/following{/other_user}", "gists_url": "https://api.github.com/users/miketheman/gists{/gist_id}", "starred_url": "https://api.github.com/users/miketheman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miketheman/subscriptions", "organizations_url": "https://api.github.com/users/miketheman/orgs", "repos_url": "https://api.github.com/users/miketheman/repos", "events_url": "https://api.github.com/users/miketheman/events{/privacy}", "received_events_url": "https://api.github.com/users/miketheman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281480, "node_id": "MDU6TGFiZWw2MTcyODE0ODA=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-01T19:59:44Z", "updated_at": "2019-11-02T11:44:52Z", "closed_at": "2019-11-02T11:44:52Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Something is amiss with Appveyor testing - it's no longer executing correctly. Likely a mismatch of Python/pip versions.\r\n\r\nRestore semblance of sanity by reading test output, evaluate Python version support, upgrade pip where relevant, any other actions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/29", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/29/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/29/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/29", "id": 476431296, "node_id": "MDU6SXNzdWU0NzY0MzEyOTY=", "number": 29, "title": "Is there a \"disable_socket\" mark?", "user": {"login": "SHxKM", "id": 6573474, "node_id": "MDQ6VXNlcjY1NzM0NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6573474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SHxKM", "html_url": "https://github.com/SHxKM", "followers_url": "https://api.github.com/users/SHxKM/followers", "following_url": "https://api.github.com/users/SHxKM/following{/other_user}", "gists_url": "https://api.github.com/users/SHxKM/gists{/gist_id}", "starred_url": "https://api.github.com/users/SHxKM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SHxKM/subscriptions", "organizations_url": "https://api.github.com/users/SHxKM/orgs", "repos_url": "https://api.github.com/users/SHxKM/repos", "events_url": "https://api.github.com/users/SHxKM/events{/privacy}", "received_events_url": "https://api.github.com/users/SHxKM/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-03T08:53:05Z", "updated_at": "2019-10-30T21:35:47Z", "closed_at": "2019-10-30T21:35:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThanks for your hard work and useful plugin.\r\n\r\nWhat if there's a _minority_ X tests out of Y tests that I want to _disable_ connections for? Is there a `@pytest.mark.disable_socket` so we can selectively disable sockets on specific tests? I couldn't find anything for that in the docs. It would be much more useful in my case than adding `@pytest.mark.enable_socket` to my Y-X tests (which are the majority of my tests).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/23", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/23/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/23/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/23", "id": 408457081, "node_id": "MDU6SXNzdWU0MDg0NTcwODE=", "number": 23, "title": "Python 2.7/3.4 Support", "user": {"login": "miketheman", "id": 529516, "node_id": "MDQ6VXNlcjUyOTUxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/529516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miketheman", "html_url": "https://github.com/miketheman", "followers_url": "https://api.github.com/users/miketheman/followers", "following_url": "https://api.github.com/users/miketheman/following{/other_user}", "gists_url": "https://api.github.com/users/miketheman/gists{/gist_id}", "starred_url": "https://api.github.com/users/miketheman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miketheman/subscriptions", "organizations_url": "https://api.github.com/users/miketheman/orgs", "repos_url": "https://api.github.com/users/miketheman/repos", "events_url": "https://api.github.com/users/miketheman/events{/privacy}", "received_events_url": "https://api.github.com/users/miketheman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281482, "node_id": "MDU6TGFiZWw2MTcyODE0ODI=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-09T18:26:58Z", "updated_at": "2020-04-10T23:00:54Z", "closed_at": "2020-04-10T23:00:54Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Following #21 and associated fix in #22 to accommodate a Python 2.7 behavior, I started thinking about when this plugin should stop supporting Python 2.7 / 3.4\r\n\r\nAccording to the https://pythonclock.org/ , support ends at the end of 2019.\r\n\r\npytest has started warning about deprecation:\r\n```\r\nYou are using Python 2.7.15, which will no longer be supported in pytest 5.0\r\n```\r\npytest 5.0 is [scheduled for sometime mid-2019](https://docs.pytest.org/en/latest/py27-py34-deprecation.html) - after which the pytest 4.x branch will continue to be supported until mid-2020.\r\n\r\nPlease use this issue to discuss your use cases and expectations for longer-term support if you're looking for those versions to be supported beyond the runtime and test framework's lifetime.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/21", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/21/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/21/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/21", "id": 401323673, "node_id": "MDU6SXNzdWU0MDEzMjM2NzM=", "number": 21, "title": "py27 unicode hostname fails allowed-hosts check", "user": {"login": "sadams", "id": 339671, "node_id": "MDQ6VXNlcjMzOTY3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/339671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadams", "html_url": "https://github.com/sadams", "followers_url": "https://api.github.com/users/sadams/followers", "following_url": "https://api.github.com/users/sadams/following{/other_user}", "gists_url": "https://api.github.com/users/sadams/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadams/subscriptions", "organizations_url": "https://api.github.com/users/sadams/orgs", "repos_url": "https://api.github.com/users/sadams/repos", "events_url": "https://api.github.com/users/sadams/events{/privacy}", "received_events_url": "https://api.github.com/users/sadams/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281477, "node_id": "MDU6TGFiZWw2MTcyODE0Nzc=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-21T12:06:04Z", "updated_at": "2019-02-09T18:17:43Z", "closed_at": "2019-02-09T18:17:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you try and connect with a unicode hostname in python 2:\r\n```\r\nsocket.connect((u'127.0.0.1', 51999))\r\n```\r\n you get:\r\n```\r\nSocketConnectBlockedError: A test tried to use socket.socket.connect() with host \"None\" (allowed: \"127.0.0.1,::1\").\r\n```\r\neven if it's in the allowed hosts whitelist", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/19", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/19/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/19/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/19", "id": 396678883, "node_id": "MDU6SXNzdWUzOTY2Nzg4ODM=", "number": 19, "title": "plugin broken by pytest 4.1", "user": {"login": "wimglenn", "id": 6615374, "node_id": "MDQ6VXNlcjY2MTUzNzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6615374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wimglenn", "html_url": "https://github.com/wimglenn", "followers_url": "https://api.github.com/users/wimglenn/followers", "following_url": "https://api.github.com/users/wimglenn/following{/other_user}", "gists_url": "https://api.github.com/users/wimglenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/wimglenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wimglenn/subscriptions", "organizations_url": "https://api.github.com/users/wimglenn/orgs", "repos_url": "https://api.github.com/users/wimglenn/repos", "events_url": "https://api.github.com/users/wimglenn/events{/privacy}", "received_events_url": "https://api.github.com/users/wimglenn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281478, "node_id": "MDU6TGFiZWw2MTcyODE0Nzg=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-07T22:41:26Z", "updated_at": "2019-01-07T22:50:43Z", "closed_at": "2019-01-07T22:49:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n    @pytest.fixture(autouse=True)\r\n    def _socket_marker(request):\r\n>       if request.node.get_marker('disable_socket'):\r\nE       AttributeError: 'TestCaseFunction' object has no attribute 'get_marker'\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/16", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/16/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/16/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/16", "id": 396276404, "node_id": "MDU6SXNzdWUzOTYyNzY0MDQ=", "number": 16, "title": "Fatal: get_marker is gone as of pytest 4.0", "user": {"login": "RockHoward", "id": 33059, "node_id": "MDQ6VXNlcjMzMDU5", "avatar_url": "https://avatars2.githubusercontent.com/u/33059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RockHoward", "html_url": "https://github.com/RockHoward", "followers_url": "https://api.github.com/users/RockHoward/followers", "following_url": "https://api.github.com/users/RockHoward/following{/other_user}", "gists_url": "https://api.github.com/users/RockHoward/gists{/gist_id}", "starred_url": "https://api.github.com/users/RockHoward/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RockHoward/subscriptions", "organizations_url": "https://api.github.com/users/RockHoward/orgs", "repos_url": "https://api.github.com/users/RockHoward/repos", "events_url": "https://api.github.com/users/RockHoward/events{/privacy}", "received_events_url": "https://api.github.com/users/RockHoward/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281477, "node_id": "MDU6TGFiZWw2MTcyODE0Nzc=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-06T17:15:06Z", "updated_at": "2019-01-08T00:57:07Z", "closed_at": "2019-01-06T20:53:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "All my tests started failing when pytest 4.1.0 was released.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/15", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/15/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/15/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/15", "id": 378038968, "node_id": "MDU6SXNzdWUzNzgwMzg5Njg=", "number": 15, "title": "@pytest.mark.enable_socket doesn't work", "user": {"login": "wimglenn", "id": 6615374, "node_id": "MDQ6VXNlcjY2MTUzNzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6615374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wimglenn", "html_url": "https://github.com/wimglenn", "followers_url": "https://api.github.com/users/wimglenn/followers", "following_url": "https://api.github.com/users/wimglenn/following{/other_user}", "gists_url": "https://api.github.com/users/wimglenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/wimglenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wimglenn/subscriptions", "organizations_url": "https://api.github.com/users/wimglenn/orgs", "repos_url": "https://api.github.com/users/wimglenn/repos", "events_url": "https://api.github.com/users/wimglenn/events{/privacy}", "received_events_url": "https://api.github.com/users/wimglenn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281477, "node_id": "MDU6TGFiZWw2MTcyODE0Nzc=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-06T21:23:39Z", "updated_at": "2020-05-31T14:54:27Z", "closed_at": "2020-05-31T14:54:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "The mark to `enable_socket` doesn't seem to work.  The fixture `socket_enabled` still works.\r\n\r\n```\r\npytest-socket==0.3.1\r\npytest==3.10.0\r\n```\r\n\r\nTried also on `pytest==3.6.3` (earliest version supported according to pytest-socket metadata), same result.\r\n\r\nMCVE `test_something.py`:\r\n\r\n```\r\nimport socket\r\nimport pytest\r\n\r\ndef f():\r\n    socket.socket()\r\n\r\n@pytest.mark.enable_socket\r\ndef test_1():\r\n    f()\r\n\r\ndef test_2(socket_enabled):\r\n    f()\r\n```\r\n\r\nDemo:\r\n\r\n```\r\n$ pytest --disable-socket -v\r\n======================================= test session starts =======================================\r\nplatform linux -- Python 3.7.0, pytest-3.10.0, py-1.7.0, pluggy-0.8.0 -- /tmp/example/.venv/bin/python3\r\ncachedir: .pytest_cache\r\nrootdir: /tmp/example, inifile:\r\nplugins: socket-0.3.1\r\ncollected 2 items                                                                                 \r\n\r\ntest_something.py::test_1 FAILED                                                            [ 50%]\r\ntest_something.py::test_2 PASSED                                                            [100%]\r\n\r\n============================================ FAILURES =============================================\r\n_____________________________________________ test_1 ______________________________________________\r\n\r\n    @pytest.mark.enable_socket\r\n    def test_1():\r\n>       f()\r\n\r\ntest_something.py:9: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\ntest_something.py:5: in f\r\n    socket.socket()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nargs = (), kwargs = {}\r\n\r\n    def guarded(*args, **kwargs):\r\n>       raise SocketBlockedError()\r\nE       pytest_socket.SocketBlockedError: A test tried to use socket.socket.\r\n\r\n.venv/lib/python3.7/site-packages/pytest_socket.py:72: SocketBlockedError\r\n=============================== 1 failed, 1 passed in 0.04 seconds ================================```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/14", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/14/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/14/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/14", "id": 347421447, "node_id": "MDU6SXNzdWUzNDc0MjE0NDc=", "number": 14, "title": "--allow-hosts with no argument should error", "user": {"login": "sloria", "id": 2379650, "node_id": "MDQ6VXNlcjIzNzk2NTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2379650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sloria", "html_url": "https://github.com/sloria", "followers_url": "https://api.github.com/users/sloria/followers", "following_url": "https://api.github.com/users/sloria/following{/other_user}", "gists_url": "https://api.github.com/users/sloria/gists{/gist_id}", "starred_url": "https://api.github.com/users/sloria/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sloria/subscriptions", "organizations_url": "https://api.github.com/users/sloria/orgs", "repos_url": "https://api.github.com/users/sloria/repos", "events_url": "https://api.github.com/users/sloria/events{/privacy}", "received_events_url": "https://api.github.com/users/sloria/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-03T14:36:18Z", "updated_at": "2018-08-03T19:38:23Z", "closed_at": "2018-08-03T19:38:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "`--allow-hosts` should probably error if no arguments are passed to let the user know that they probably made a mistake.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/11", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/11/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/11/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/11", "id": 341326235, "node_id": "MDU6SXNzdWUzNDEzMjYyMzU=", "number": 11, "title": "0.3.0: 'TestCaseFunction' object has no attribute 'get_closest_marker'", "user": {"login": "kevinkjt2000", "id": 4098674, "node_id": "MDQ6VXNlcjQwOTg2NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4098674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinkjt2000", "html_url": "https://github.com/kevinkjt2000", "followers_url": "https://api.github.com/users/kevinkjt2000/followers", "following_url": "https://api.github.com/users/kevinkjt2000/following{/other_user}", "gists_url": "https://api.github.com/users/kevinkjt2000/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinkjt2000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinkjt2000/subscriptions", "organizations_url": "https://api.github.com/users/kevinkjt2000/orgs", "repos_url": "https://api.github.com/users/kevinkjt2000/repos", "events_url": "https://api.github.com/users/kevinkjt2000/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinkjt2000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 617281479, "node_id": "MDU6TGFiZWw2MTcyODE0Nzk=", "url": "https://api.github.com/repos/miketheman/pytest-socket/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-15T14:44:41Z", "updated_at": "2018-07-16T11:47:36Z", "closed_at": "2018-07-16T11:47:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed an error from the 0.3.0 update on one of my CI jobs:\r\n```\r\n    def pytest_runtest_setup(item):\r\n>       mark_restrictions = item.get_closest_marker('allow_hosts')\r\nE       AttributeError: 'TestCaseFunction' object has no attribute 'get_closest_marker'\r\n../../../virtualenv/python3.6.3/lib/python3.6/site-packages/pytest_socket.py:90: AttributeError\r\n```\r\nhttps://github.com/kevinkjt2000/bowser/pull/165\r\nhttps://travis-ci.org/kevinkjt2000/bowser/builds/404137945\r\n\r\nAre there breaking changes that would cause this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/miketheman/pytest-socket/issues/5", "repository_url": "https://api.github.com/repos/miketheman/pytest-socket", "labels_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/5/comments", "events_url": "https://api.github.com/repos/miketheman/pytest-socket/issues/5/events", "html_url": "https://github.com/miketheman/pytest-socket/issues/5", "id": 267687272, "node_id": "MDU6SXNzdWUyNjc2ODcyNzI=", "number": 5, "title": "Initial Update", "user": {"login": "pyup-bot", "id": 16239342, "node_id": "MDQ6VXNlcjE2MjM5MzQy", "avatar_url": "https://avatars0.githubusercontent.com/u/16239342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyup-bot", "html_url": "https://github.com/pyup-bot", "followers_url": "https://api.github.com/users/pyup-bot/followers", "following_url": "https://api.github.com/users/pyup-bot/following{/other_user}", "gists_url": "https://api.github.com/users/pyup-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyup-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyup-bot/subscriptions", "organizations_url": "https://api.github.com/users/pyup-bot/orgs", "repos_url": "https://api.github.com/users/pyup-bot/repos", "events_url": "https://api.github.com/users/pyup-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/pyup-bot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-23T14:21:16Z", "updated_at": "2017-10-23T22:46:09Z", "closed_at": "2017-10-23T22:46:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \ud83d\udc4a\n\nThis is my first visit to this fine repo, but it seems you have been working hard to keep all dependencies updated so far.\n\nOnce you have closed this issue, I'll create separate pull requests for every update as soon as I find one.\n\nThat's it for now!\n\nHappy merging! \ud83e\udd16\n", "performed_via_github_app": null, "score": 1.0}]}