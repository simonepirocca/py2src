{"total_count": 518, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/606", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/606/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/606/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/606/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/606", "id": 683335631, "node_id": "MDU6SXNzdWU2ODMzMzU2MzE=", "number": 606, "title": "Question / Comment: How can I silence pymupdf?", "user": {"login": "MartinThoma", "id": 1658117, "node_id": "MDQ6VXNlcjE2NTgxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1658117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MartinThoma", "html_url": "https://github.com/MartinThoma", "followers_url": "https://api.github.com/users/MartinThoma/followers", "following_url": "https://api.github.com/users/MartinThoma/following{/other_user}", "gists_url": "https://api.github.com/users/MartinThoma/gists{/gist_id}", "starred_url": "https://api.github.com/users/MartinThoma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MartinThoma/subscriptions", "organizations_url": "https://api.github.com/users/MartinThoma/orgs", "repos_url": "https://api.github.com/users/MartinThoma/repos", "events_url": "https://api.github.com/users/MartinThoma/events{/privacy}", "received_events_url": "https://api.github.com/users/MartinThoma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-21T06:35:52Z", "updated_at": "2020-08-21T08:21:04Z", "closed_at": "2020-08-21T08:21:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I receive way to many logging messages from pymupdf, e.g.:\r\n\r\n> mupdf: cannot find XObject resource 'Im4'\r\n> mupdf: cannot find XObject resource 'Im1'\r\n\r\nThose are not useful to me, because I don't understand what they mean and what I could / should do about them.\r\n\r\nThe problem is that they seem not to use `logging`. How can I turn them off? Is it even pymupdf or directly mupdf which creates them?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/604", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/604/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/604/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/604/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/604", "id": 683094985, "node_id": "MDU6SXNzdWU2ODMwOTQ5ODU=", "number": 604, "title": "Question / Comment: Wrong annotation colors on the PDF file ", "user": {"login": "gustavocidornelas", "id": 18015306, "node_id": "MDQ6VXNlcjE4MDE1MzA2", "avatar_url": "https://avatars0.githubusercontent.com/u/18015306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gustavocidornelas", "html_url": "https://github.com/gustavocidornelas", "followers_url": "https://api.github.com/users/gustavocidornelas/followers", "following_url": "https://api.github.com/users/gustavocidornelas/following{/other_user}", "gists_url": "https://api.github.com/users/gustavocidornelas/gists{/gist_id}", "starred_url": "https://api.github.com/users/gustavocidornelas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gustavocidornelas/subscriptions", "organizations_url": "https://api.github.com/users/gustavocidornelas/orgs", "repos_url": "https://api.github.com/users/gustavocidornelas/repos", "events_url": "https://api.github.com/users/gustavocidornelas/events{/privacy}", "received_events_url": "https://api.github.com/users/gustavocidornelas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-20T21:03:29Z", "updated_at": "2020-08-20T23:57:22Z", "closed_at": "2020-08-20T23:57:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm developing a web application where the user uploads a PDF document, I add some annotations to it and then the user downloads the annotated version.  I add basically 2 types of annotations to the PDF text:\r\n\r\n1) Regular highlights \r\n2) Underline annotations with an external link\r\n\r\nI'm using the page.searchFor() method to get the rects containing the text, then, I check in which of the 2 previous categories the text belongs to and add the corresponding annotation. My code for this part is essentially the following:\r\n\r\n```\r\nrects_list = page.searchFor(text)\r\n    for rect in rects_list:\r\n        if category == 1:\r\n            annot = page.addUnderlineAnnot(rect)\r\n            annot.setColors({\"stroke\": [0, 0, 0.7]})\r\n            page.insertLink(\r\n                {\r\n                    \"kind\": 2,\r\n                    \"from\": rect,\r\n                    \"uri\": 'insert_text_external_url_here',\r\n                }\r\n            )\r\n        else:\r\n            annot = page.addHighlightAnnot(rect)\r\n            annot.setColors({\"stroke\": [1, 1, 0.867]})\r\n```\r\nEverything seems to be working fine except for the annotation colors in the final PDF, depending on where I open the resulting PDF file.\r\n\r\nThe colors are correct if I open the PDF on Preview (Mac) or Safari, but if I open it on Adobe Acrobat or Google Chrome, the annotation colors are wrong (one of them is a strong yellow and one is green). \r\n\r\nIt is really important to me that the colors in the final PDF are correct. I'm not sure what's going on here, if it is something with PyMuPDF or with the rest of my code, as this is part of a web app and the issue is with the downloaded PDF file.\r\n\r\nDo you have some thoughts about what might be the problem?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/602", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/602/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/602/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/602", "id": 681863805, "node_id": "MDU6SXNzdWU2ODE4NjM4MDU=", "number": 602, "title": "getPageImageList lists all images in the PDF document", "user": {"login": "alono88", "id": 12322959, "node_id": "MDQ6VXNlcjEyMzIyOTU5", "avatar_url": "https://avatars3.githubusercontent.com/u/12322959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alono88", "html_url": "https://github.com/alono88", "followers_url": "https://api.github.com/users/alono88/followers", "following_url": "https://api.github.com/users/alono88/following{/other_user}", "gists_url": "https://api.github.com/users/alono88/gists{/gist_id}", "starred_url": "https://api.github.com/users/alono88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alono88/subscriptions", "organizations_url": "https://api.github.com/users/alono88/orgs", "repos_url": "https://api.github.com/users/alono88/repos", "events_url": "https://api.github.com/users/alono88/events{/privacy}", "received_events_url": "https://api.github.com/users/alono88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-19T13:59:06Z", "updated_at": "2020-08-22T12:27:18Z", "closed_at": "2020-08-22T12:27:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nWhen using `doc.getPageImageList(pno)`, all images in the PDF document are listed, instead of only the images in that specific page. Additionally, `fitz.open(pdf_file)` correctly lists the number of pages in the PDF file. \r\n\r\nThis happens only using some of the PDF files I've tested this on. I have used this package without issues on many files. Is there a way to check properties of the PDF file to understand why this happens?\r\n\r\n## Your configuration\r\nMacOS\r\nPyMuPDF 1.17.0: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-05-13 20:05:13.\r\nBuilt for Python 3.7 on darwin (64-bit).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/599", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/599/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/599/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/599/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/599", "id": 681696883, "node_id": "MDU6SXNzdWU2ODE2OTY4ODM=", "number": 599, "title": "Question / Comment: Is it possible to check if a PDF is a valid PDF/A-1 or PDF/A-2?", "user": {"login": "MartinThoma", "id": 1658117, "node_id": "MDQ6VXNlcjE2NTgxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1658117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MartinThoma", "html_url": "https://github.com/MartinThoma", "followers_url": "https://api.github.com/users/MartinThoma/followers", "following_url": "https://api.github.com/users/MartinThoma/following{/other_user}", "gists_url": "https://api.github.com/users/MartinThoma/gists{/gist_id}", "starred_url": "https://api.github.com/users/MartinThoma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MartinThoma/subscriptions", "organizations_url": "https://api.github.com/users/MartinThoma/orgs", "repos_url": "https://api.github.com/users/MartinThoma/repos", "events_url": "https://api.github.com/users/MartinThoma/events{/privacy}", "received_events_url": "https://api.github.com/users/MartinThoma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-19T09:38:38Z", "updated_at": "2020-08-22T12:27:46Z", "closed_at": "2020-08-22T12:27:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "A part of this question: Can I check if there is active content within the PDF?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/598", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/598/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/598/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/598/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/598", "id": 681200247, "node_id": "MDU6SXNzdWU2ODEyMDAyNDc=", "number": 598, "title": "[Packaging] Make your application available as flatpak on FlatHub", "user": {"login": "Nokia808", "id": 25375330, "node_id": "MDQ6VXNlcjI1Mzc1MzMw", "avatar_url": "https://avatars0.githubusercontent.com/u/25375330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nokia808", "html_url": "https://github.com/Nokia808", "followers_url": "https://api.github.com/users/Nokia808/followers", "following_url": "https://api.github.com/users/Nokia808/following{/other_user}", "gists_url": "https://api.github.com/users/Nokia808/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nokia808/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nokia808/subscriptions", "organizations_url": "https://api.github.com/users/Nokia808/orgs", "repos_url": "https://api.github.com/users/Nokia808/repos", "events_url": "https://api.github.com/users/Nokia808/events{/privacy}", "received_events_url": "https://api.github.com/users/Nokia808/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-08-18T17:09:53Z", "updated_at": "2020-08-19T12:23:19Z", "closed_at": "2020-08-19T08:52:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nInstead of building so many binaries - a time wasted process - you can build flatpak (a universal Linux package that working on almost all Linux distros) & add it to FlatHub .....\r\n\r\n1. home page of FlatHub is:\r\n    https://www.flathub.org/home\r\n2. FlatHub repositories are at:\r\n    https://github.com/flathub\r\n3. when some one like to add package to FlatHub, she/he need to open PR at:\r\n    https://github.com/flathub/flathub/pulls\r\n4. FlatHub differ from snap by being allow any one to package not only developers of packages. So packages on FlatHub are of 2 kinds regarding this point: some are packaged by their developers like PDF Mix Tool, while other are packaged by person other than their developers. So, you can package your program by yourself. This will be ideal.\r\n5. all packages on FlatHub are signed .....\r\n6. even if person other than the original developer(s) maintain the package on FlatHub, FlatHub team try as much as possible to make developer(s) authorized to repositories at least to monitor & follow up the packaging ......\r\n7. FlatHub allow both open & closed source packages. But regarding open source packages, the FlatHub team insisting on packager to make them deterministic (reproducible).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/597", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/597/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/597/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/597/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/597", "id": 681195119, "node_id": "MDU6SXNzdWU2ODExOTUxMTk=", "number": 597, "title": "Utilize pikepdf to support create/edit/delete PDF outlines", "user": {"login": "Nokia808", "id": 25375330, "node_id": "MDQ6VXNlcjI1Mzc1MzMw", "avatar_url": "https://avatars0.githubusercontent.com/u/25375330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nokia808", "html_url": "https://github.com/Nokia808", "followers_url": "https://api.github.com/users/Nokia808/followers", "following_url": "https://api.github.com/users/Nokia808/following{/other_user}", "gists_url": "https://api.github.com/users/Nokia808/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nokia808/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nokia808/subscriptions", "organizations_url": "https://api.github.com/users/Nokia808/orgs", "repos_url": "https://api.github.com/users/Nokia808/repos", "events_url": "https://api.github.com/users/Nokia808/events{/privacy}", "received_events_url": "https://api.github.com/users/Nokia808/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-18T17:01:17Z", "updated_at": "2020-08-18T18:03:10Z", "closed_at": "2020-08-18T18:03:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\nSince your program is in Python, I would like to suggest on you to utilize pikepdf as a backend to add abilities to create/edit/delete PDF outlines (TOC).\r\n\r\nThis certainly only valid if you like to make your program an editor for PDF not only viewer .....", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/596", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/596/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/596/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/596/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/596", "id": 681047992, "node_id": "MDU6SXNzdWU2ODEwNDc5OTI=", "number": 596, "title": "general query for usage of PyMuPDF/fitz", "user": {"login": "harveyspecter09", "id": 69147605, "node_id": "MDQ6VXNlcjY5MTQ3NjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/69147605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harveyspecter09", "html_url": "https://github.com/harveyspecter09", "followers_url": "https://api.github.com/users/harveyspecter09/followers", "following_url": "https://api.github.com/users/harveyspecter09/following{/other_user}", "gists_url": "https://api.github.com/users/harveyspecter09/gists{/gist_id}", "starred_url": "https://api.github.com/users/harveyspecter09/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harveyspecter09/subscriptions", "organizations_url": "https://api.github.com/users/harveyspecter09/orgs", "repos_url": "https://api.github.com/users/harveyspecter09/repos", "events_url": "https://api.github.com/users/harveyspecter09/events{/privacy}", "received_events_url": "https://api.github.com/users/harveyspecter09/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762663, "node_id": "MDU6TGFiZWwxNTc2MjY2Mw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-18T13:35:55Z", "updated_at": "2020-08-18T18:04:38Z", "closed_at": "2020-08-18T18:04:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nbelow are my concerns appreciate your solution at your earliest convenience.\r\n\r\nWill send realtime PDF file as my input which have embedded & unembedded fonts.\r\nExpected Output PDF :  Can we have all fonts embedded\r\nExpected Output PDF : PDF Suppose if there is Arial Narrow-Bold type 1 can we change it to Arial Narrow-Bold truetype font\r\nExpected Output PDF : PDF Change a specific paragraph from one font to another\r\n\r\ncan you specify on how can we achieve using PyMuPDF/fitz", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/595", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/595/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/595/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/595/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/595", "id": 680814910, "node_id": "MDU6SXNzdWU2ODA4MTQ5MTA=", "number": 595, "title": "misc", "user": {"login": "harveyspecter09", "id": 69147605, "node_id": "MDQ6VXNlcjY5MTQ3NjA1", "avatar_url": "https://avatars0.githubusercontent.com/u/69147605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harveyspecter09", "html_url": "https://github.com/harveyspecter09", "followers_url": "https://api.github.com/users/harveyspecter09/followers", "following_url": "https://api.github.com/users/harveyspecter09/following{/other_user}", "gists_url": "https://api.github.com/users/harveyspecter09/gists{/gist_id}", "starred_url": "https://api.github.com/users/harveyspecter09/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harveyspecter09/subscriptions", "organizations_url": "https://api.github.com/users/harveyspecter09/orgs", "repos_url": "https://api.github.com/users/harveyspecter09/repos", "events_url": "https://api.github.com/users/harveyspecter09/events{/privacy}", "received_events_url": "https://api.github.com/users/harveyspecter09/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-08-18T08:46:19Z", "updated_at": "2020-08-19T08:53:15Z", "closed_at": "2020-08-19T08:53:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "can we embed new fonts for an existing pdf using this package?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/594", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/594/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/594/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/594/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/594", "id": 680493779, "node_id": "MDU6SXNzdWU2ODA0OTM3Nzk=", "number": 594, "title": "Question / Comment: How to test code?", "user": {"login": "divchowbey", "id": 36338962, "node_id": "MDQ6VXNlcjM2MzM4OTYy", "avatar_url": "https://avatars2.githubusercontent.com/u/36338962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divchowbey", "html_url": "https://github.com/divchowbey", "followers_url": "https://api.github.com/users/divchowbey/followers", "following_url": "https://api.github.com/users/divchowbey/following{/other_user}", "gists_url": "https://api.github.com/users/divchowbey/gists{/gist_id}", "starred_url": "https://api.github.com/users/divchowbey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divchowbey/subscriptions", "organizations_url": "https://api.github.com/users/divchowbey/orgs", "repos_url": "https://api.github.com/users/divchowbey/repos", "events_url": "https://api.github.com/users/divchowbey/events{/privacy}", "received_events_url": "https://api.github.com/users/divchowbey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-17T20:05:09Z", "updated_at": "2020-08-22T12:29:35Z", "closed_at": "2020-08-22T12:29:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! I am using PyMuPDF to extract fillable PDFs with text and checkbox inputs. I am having great success with the software, and my next step is to validate the code's accuracy. I am wondering if there is a better way of testing than picking some PDFs and manually confirming the outputs with expected inputs on the form.\r\n\r\nFrom your experiences of working on this library, would you have any recommendations or best practices on how to test the extraction code?\r\n\r\nKind regards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/593", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/593/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/593/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/593/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/593", "id": 679701782, "node_id": "MDU6SXNzdWU2Nzk3MDE3ODI=", "number": 593, "title": "Question / Comment:Crop an area of pdf around annotated text using Fitz", "user": {"login": "JacobAtExp4531", "id": 55494490, "node_id": "MDQ6VXNlcjU1NDk0NDkw", "avatar_url": "https://avatars2.githubusercontent.com/u/55494490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JacobAtExp4531", "html_url": "https://github.com/JacobAtExp4531", "followers_url": "https://api.github.com/users/JacobAtExp4531/followers", "following_url": "https://api.github.com/users/JacobAtExp4531/following{/other_user}", "gists_url": "https://api.github.com/users/JacobAtExp4531/gists{/gist_id}", "starred_url": "https://api.github.com/users/JacobAtExp4531/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JacobAtExp4531/subscriptions", "organizations_url": "https://api.github.com/users/JacobAtExp4531/orgs", "repos_url": "https://api.github.com/users/JacobAtExp4531/repos", "events_url": "https://api.github.com/users/JacobAtExp4531/events{/privacy}", "received_events_url": "https://api.github.com/users/JacobAtExp4531/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-08-16T06:51:12Z", "updated_at": "2020-08-16T19:09:07Z", "closed_at": "2020-08-16T19:09:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Problem Statement**\r\n\r\n1. Reading pdf and search for a word.\r\n2. If word found, annotate the word and get an area cropped around the annotated text from the pdf file.\r\n3. Each cropped image should only have one annotation.\r\n\r\n**Libraries and Versions**\r\n- python-3.6\r\n- fitz-0.0.1.dev2\r\n- pymupdf-1.17.5\r\n\r\n**Issue facing**\r\nFor the first two iterations the annotation is perfect and cropping also works perfectly as expected. But by iterating for next occurence of search word from text instances then crop around that area as well as annotation of search word gets failed. Can't Find a solution for this problem.\r\n\r\n\r\n\r\n\r\n   ` \r\n\r\n    import fitz\r\n    \r\n    def cropPdf( pdfName,word):\r\n        c=0\r\n        fitz_doc=fitz.open(pdfName)\r\n        fitz_page=fitz_doc[0]\r\n        text_instances=fitz_page.searchFor(word)\r\n        for text_cord in text_instances:\r\n            c=c+1\r\n           # x0,y0,x1,y1=text_cord[0],text_cord[1],text_cord[2],text_cord[3]\r\n           # cropPdf(x0,y1,searchWord,c,pdfName,text_instances,page,fitz_doc)\r\n           #setting the cordinates of the window to crop\r\n           pdfPath = \"./\" + pdfName + \".pdf\"\r\n           highlight = fitz_page.addRectAnnot(text_cord)\r\n           x0,y0,x1,y1=highlight.rect\r\n           print(\"fitz page rect\",fitz_page.rect)\r\n           print(\"fitz page  cropbox\",fitz_page.CropBox)\r\n           fitz_page.setCropBox(fitz.Rect(x0+600,y0+600,x0-600,y0-600))\r\n           print(\"fitz page after set cropBox\",fitz_page.rect)\r\n           pix=fitz_page.getPixmap()\r\n           print(fitz_page.number)\r\n           base_name_highlight=\"output\"+str(c)+\".png\"\r\n           # fitz_doc.save(\"./highlight_folder/\"+base_name_highlight)\r\n           fitz_page.deleteAnnot(highlight)\r\n           pix.writeImage(\"./highlight_folder/\"+base_name_highlight)`\r\n\r\n**Expected Result**\r\n\r\n![screen1](https://user-images.githubusercontent.com/55494490/90328521-954d3e80-dfba-11ea-9c1e-332a9e88468b.png)\r\n\r\n**False Case while Cropping**\r\n\r\n\r\n![screen2](https://user-images.githubusercontent.com/55494490/90328563-e2311500-dfba-11ea-9d35-c0585f28647c.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/592", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/592/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/592/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/592", "id": 679325351, "node_id": "MDU6SXNzdWU2NzkzMjUzNTE=", "number": 592, "title": "Formula for zooming", "user": {"login": "Zain-Bin-Arshad", "id": 49767636, "node_id": "MDQ6VXNlcjQ5NzY3NjM2", "avatar_url": "https://avatars0.githubusercontent.com/u/49767636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zain-Bin-Arshad", "html_url": "https://github.com/Zain-Bin-Arshad", "followers_url": "https://api.github.com/users/Zain-Bin-Arshad/followers", "following_url": "https://api.github.com/users/Zain-Bin-Arshad/following{/other_user}", "gists_url": "https://api.github.com/users/Zain-Bin-Arshad/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zain-Bin-Arshad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zain-Bin-Arshad/subscriptions", "organizations_url": "https://api.github.com/users/Zain-Bin-Arshad/orgs", "repos_url": "https://api.github.com/users/Zain-Bin-Arshad/repos", "events_url": "https://api.github.com/users/Zain-Bin-Arshad/events{/privacy}", "received_events_url": "https://api.github.com/users/Zain-Bin-Arshad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-08-14T18:14:52Z", "updated_at": "2020-08-16T04:44:35Z", "closed_at": "2020-08-16T04:44:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all THANKS for this package, without this I wouldn't be able to complete my project.\r\n\r\nI am creating a PDF Viewer in pure python. As you can search on web there are no feature rich PDF Viewers that are written in Python. I am done with various features like:\r\n\r\n- Searching through PDF\r\n- Taking notes\r\n- Table of content tree etc\r\n\r\nNow, I am implementing **Zooming feature**, I know that `fitz.Matrix()` is the function that is going to help me. But, I can't find a generic way of how zooming calculations works. For example:\r\n\r\n- The \"Fit to page\" feature, that zoom the page in the given area. I found out that `Matrix(1.5, 1.5)` zooms page to exactly fit my area, but when I used same Matrix for some other PDF file it didn't work quite as well. So surely we can't hard code the value. \r\n- When user says zoom it to 50%, how will we calculate the Matrix ?\r\n\r\nI am stuck here, kindly help me out. If you want to see the PDF viewer, have a look:\r\n![G3fQZFE74s](https://user-images.githubusercontent.com/49767636/90280167-e7d80f00-de83-11ea-96bf-6db659b88dc3.gif)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/590", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/590/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/590/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/590/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/590", "id": 679161896, "node_id": "MDU6SXNzdWU2NzkxNjE4OTY=", "number": 590, "title": "Question / Comment:", "user": {"login": "sarath0993", "id": 47630821, "node_id": "MDQ6VXNlcjQ3NjMwODIx", "avatar_url": "https://avatars2.githubusercontent.com/u/47630821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sarath0993", "html_url": "https://github.com/sarath0993", "followers_url": "https://api.github.com/users/sarath0993/followers", "following_url": "https://api.github.com/users/sarath0993/following{/other_user}", "gists_url": "https://api.github.com/users/sarath0993/gists{/gist_id}", "starred_url": "https://api.github.com/users/sarath0993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sarath0993/subscriptions", "organizations_url": "https://api.github.com/users/sarath0993/orgs", "repos_url": "https://api.github.com/users/sarath0993/repos", "events_url": "https://api.github.com/users/sarath0993/events{/privacy}", "received_events_url": "https://api.github.com/users/sarath0993/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 15762667, "node_id": "MDU6TGFiZWwxNTc2MjY2Nw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/wontfix", "name": "wontfix", "color": "000000", "default": true, "description": "no intention to resolve"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-08-14T13:35:39Z", "updated_at": "2020-08-19T11:58:53Z", "closed_at": "2020-08-19T08:54:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I extract data as blocks, font name gets trimmed after 32 characters. How to get full font name same as given in PDF?\r\n\r\n**Example:**\r\nFont name `HXWOFA+AkzidenzGroteskBE-Regular` extracted as `HXWOFA+AkzidenzGroteskBE-Regula`\r\nFont name `RMWBPG+MonsterFonts-HouseofDeath` extracted as `RMWBPG+MonsterFonts-HouseofDeat`\r\n\r\n**Sample code:**\r\n`    blocks = page.getText(\"dict\", flags=11)[\"blocks\"]`\r\n   `for b in blocks:  # iterate through the text blocks`\r\n        `for l in b[\"lines\"]:  # iterate through the text lines`\r\n            `for s in l[\"spans\"]:  # iterate through the text spans`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/589", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/589/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/589/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/589/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/589", "id": 677373527, "node_id": "MDU6SXNzdWU2NzczNzM1Mjc=", "number": 589, "title": "How to create a pdf from text ?", "user": {"login": "a22349", "id": 2256621, "node_id": "MDQ6VXNlcjIyNTY2MjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2256621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a22349", "html_url": "https://github.com/a22349", "followers_url": "https://api.github.com/users/a22349/followers", "following_url": "https://api.github.com/users/a22349/following{/other_user}", "gists_url": "https://api.github.com/users/a22349/gists{/gist_id}", "starred_url": "https://api.github.com/users/a22349/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a22349/subscriptions", "organizations_url": "https://api.github.com/users/a22349/orgs", "repos_url": "https://api.github.com/users/a22349/repos", "events_url": "https://api.github.com/users/a22349/events{/privacy}", "received_events_url": "https://api.github.com/users/a22349/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-12T04:29:20Z", "updated_at": "2020-08-14T14:42:31Z", "closed_at": "2020-08-13T01:23:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi , \r\ni want to convert a text file to a proper pdf file using pymupdf , could you help to list some apis that may be useful ? \r\nfor eg , how to determine how many characters  a page can hold (given the size and text area of the page and the font of the text )? \r\n\r\nor could you supply one utility function like \"convertTextToPdf\" api ? (convert html or word to pdf may complex but convert pure text to pdf possible ? )\r\n\r\nthanks .", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/588", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/588/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/588/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/588/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/588", "id": 675720330, "node_id": "MDU6SXNzdWU2NzU3MjAzMzA=", "number": 588, "title": "undefined symbol: jm_valid_chars", "user": {"login": "cges30901", "id": 19516286, "node_id": "MDQ6VXNlcjE5NTE2Mjg2", "avatar_url": "https://avatars2.githubusercontent.com/u/19516286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cges30901", "html_url": "https://github.com/cges30901", "followers_url": "https://api.github.com/users/cges30901/followers", "following_url": "https://api.github.com/users/cges30901/following{/other_user}", "gists_url": "https://api.github.com/users/cges30901/gists{/gist_id}", "starred_url": "https://api.github.com/users/cges30901/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cges30901/subscriptions", "organizations_url": "https://api.github.com/users/cges30901/orgs", "repos_url": "https://api.github.com/users/cges30901/repos", "events_url": "https://api.github.com/users/cges30901/events{/privacy}", "received_events_url": "https://api.github.com/users/cges30901/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-09T15:34:14Z", "updated_at": "2020-08-09T15:49:28Z", "closed_at": "2020-08-09T15:49:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nAfter I built PyMuPDF 1.17.5 from source on Arch Linux and tried to import, I get error:\r\n\r\n    Traceback (most recent call last):\r\n      File \"<stdin>\", line 1, in <module>\r\n      File \"/usr/lib/python3.8/site-packages/fitz/__init__.py\", line 3, in <module>\r\n        from fitz.fitz `import` *\r\n      File \"/usr/lib/python3.8/site-packages/fitz/fitz.py\", line 18, in <module>\r\n        from . import _fitz\r\n    ImportError: /usr/lib/python3.8/site-packages/fitz/_fitz.cpython-38-x86_64-linux-gnu.so: undefined symbol: jm_valid_chars\r\nIf I build PyMuPDF 1.17.4 from source or use wheel to install, this error does not occur.\r\n\r\n## To Reproduce (mandatory)\r\n    $ pip install --no-binary :all: PyMuPDF\r\n    $ python\r\n    >>> import fitz\r\n\r\n## Expected behavior (optional)\r\nNo error\r\n\r\n## Your configuration (mandatory)\r\n - Tried on Arch Linux and openSUSE\r\n - Python 3.8.5 on Arch Linux and 3.6.10 on openSUSE\r\n - PyMuPDF 1.17.5, generated from source.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/587", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/587/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/587/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/587/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/587", "id": 675159664, "node_id": "MDU6SXNzdWU2NzUxNTk2NjQ=", "number": 587, "title": "Question / Comment: Transparency conversion", "user": {"login": "pvyuri", "id": 29060237, "node_id": "MDQ6VXNlcjI5MDYwMjM3", "avatar_url": "https://avatars3.githubusercontent.com/u/29060237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvyuri", "html_url": "https://github.com/pvyuri", "followers_url": "https://api.github.com/users/pvyuri/followers", "following_url": "https://api.github.com/users/pvyuri/following{/other_user}", "gists_url": "https://api.github.com/users/pvyuri/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvyuri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvyuri/subscriptions", "organizations_url": "https://api.github.com/users/pvyuri/orgs", "repos_url": "https://api.github.com/users/pvyuri/repos", "events_url": "https://api.github.com/users/pvyuri/events{/privacy}", "received_events_url": "https://api.github.com/users/pvyuri/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-08-07T17:20:10Z", "updated_at": "2020-08-12T19:08:49Z", "closed_at": "2020-08-12T19:08:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!  When converting from XPS to PDF, some vector objects and text become semi-transparent to PDF (see image below), although they are not transparent in XPS.  Is it possible to adjust the transparency (turn off) of vector objects and text when converting from XPS format to PDF and how to do it?![image](https://user-images.githubusercontent.com/29060237/89671148-24879180-d8eb-11ea-9cf6-206fe3012c69.jpeg)\n Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/586", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/586/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/586/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/586", "id": 674922113, "node_id": "MDU6SXNzdWU2NzQ5MjIxMTM=", "number": 586, "title": "ico name still wrong", "user": {"login": "bgermann", "id": 9329107, "node_id": "MDQ6VXNlcjkzMjkxMDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/9329107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bgermann", "html_url": "https://github.com/bgermann", "followers_url": "https://api.github.com/users/bgermann/followers", "following_url": "https://api.github.com/users/bgermann/following{/other_user}", "gists_url": "https://api.github.com/users/bgermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/bgermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bgermann/subscriptions", "organizations_url": "https://api.github.com/users/bgermann/orgs", "repos_url": "https://api.github.com/users/bgermann/repos", "events_url": "https://api.github.com/users/bgermann/events{/privacy}", "received_events_url": "https://api.github.com/users/bgermann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-07T10:28:13Z", "updated_at": "2020-08-09T15:50:10Z", "closed_at": "2020-08-09T15:50:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pymupdf/PyMuPDF/blob/d66c6aee4d540dca33d5b6f55c235a37df70f21e/docs/conf.py#L127\r\nstill has the wrong capitalization. The file is named PyMuPDF.ico, not Pymupdf.ico", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/585", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/585/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/585/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/585", "id": 674870138, "node_id": "MDU6SXNzdWU2NzQ4NzAxMzg=", "number": 585, "title": "General Question: Changing origin co-ordinates of a PDF", "user": {"login": "krnblni", "id": 29383381, "node_id": "MDQ6VXNlcjI5MzgzMzgx", "avatar_url": "https://avatars2.githubusercontent.com/u/29383381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krnblni", "html_url": "https://github.com/krnblni", "followers_url": "https://api.github.com/users/krnblni/followers", "following_url": "https://api.github.com/users/krnblni/following{/other_user}", "gists_url": "https://api.github.com/users/krnblni/gists{/gist_id}", "starred_url": "https://api.github.com/users/krnblni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krnblni/subscriptions", "organizations_url": "https://api.github.com/users/krnblni/orgs", "repos_url": "https://api.github.com/users/krnblni/repos", "events_url": "https://api.github.com/users/krnblni/events{/privacy}", "received_events_url": "https://api.github.com/users/krnblni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-08-07T08:56:32Z", "updated_at": "2020-08-12T19:10:08Z", "closed_at": "2020-08-12T19:10:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey,\r\n\r\nIf a PDF has its origin (0, 0) at the top right corner, is it possible to just move the origin from the top right to top left, like it generally is?\r\n\r\nI don't want to rotate the text or page, just want to move the co-ordinates of the pages, so that I can query/search text from a generic template which defines specific bounding boxes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/584", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/584/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/584/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/584/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/584", "id": 672881547, "node_id": "MDU6SXNzdWU2NzI4ODE1NDc=", "number": 584, "title": "Compare 2 pdf files pixel by pixel to find all the differences", "user": {"login": "jiezhoujenny", "id": 17275074, "node_id": "MDQ6VXNlcjE3Mjc1MDc0", "avatar_url": "https://avatars0.githubusercontent.com/u/17275074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiezhoujenny", "html_url": "https://github.com/jiezhoujenny", "followers_url": "https://api.github.com/users/jiezhoujenny/followers", "following_url": "https://api.github.com/users/jiezhoujenny/following{/other_user}", "gists_url": "https://api.github.com/users/jiezhoujenny/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiezhoujenny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiezhoujenny/subscriptions", "organizations_url": "https://api.github.com/users/jiezhoujenny/orgs", "repos_url": "https://api.github.com/users/jiezhoujenny/repos", "events_url": "https://api.github.com/users/jiezhoujenny/events{/privacy}", "received_events_url": "https://api.github.com/users/jiezhoujenny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-08-04T15:28:09Z", "updated_at": "2020-08-18T19:47:07Z", "closed_at": "2020-08-18T06:43:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, is it possible using pymupdf to compare 2 pdf files by pixel and highlight if there is difference?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/583", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/583/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/583/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/583", "id": 672576798, "node_id": "MDU6SXNzdWU2NzI1NzY3OTg=", "number": 583, "title": "pix.pillowWrite and pix.pillowData throw AttributeError", "user": {"login": "shekargoud26", "id": 16861024, "node_id": "MDQ6VXNlcjE2ODYxMDI0", "avatar_url": "https://avatars3.githubusercontent.com/u/16861024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shekargoud26", "html_url": "https://github.com/shekargoud26", "followers_url": "https://api.github.com/users/shekargoud26/followers", "following_url": "https://api.github.com/users/shekargoud26/following{/other_user}", "gists_url": "https://api.github.com/users/shekargoud26/gists{/gist_id}", "starred_url": "https://api.github.com/users/shekargoud26/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shekargoud26/subscriptions", "organizations_url": "https://api.github.com/users/shekargoud26/orgs", "repos_url": "https://api.github.com/users/shekargoud26/repos", "events_url": "https://api.github.com/users/shekargoud26/events{/privacy}", "received_events_url": "https://api.github.com/users/shekargoud26/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 15762665, "node_id": "MDU6TGFiZWwxNTc2MjY2NQ==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "not a bug / user error / unable to reproduce"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-04T07:36:55Z", "updated_at": "2020-08-04T07:41:29Z", "closed_at": "2020-08-04T07:41:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\npix.writePNG() works but pix.pillowWrite and pix.pillowData throw attribute error\r\n\r\n## To Reproduce (mandatory)\r\nExplain the steps to reproduce the behavior, For example, include a minimal code snippet, example files, etc.\r\n\r\n## Expected behavior (optional)\r\n pix.pillowWrite should save image in specified format and pix.pillowData should return a PIL image object\r\n\r\n## Screenshots (optional)\r\n![image](https://user-images.githubusercontent.com/16861024/89265673-7661ba80-d652-11ea-9b3a-25d18d0a2718.png)\r\n\r\n\r\n## Your configuration (mandatory)\r\n - Ubuntu 18.04\r\n - Python version: 3.7\r\n - PyMuPDF version: PyMuPDF-1.17.1-cp37-cp37m-linux_x86_64.whl\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/582", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/582/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/582/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/582/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/582", "id": 672494670, "node_id": "MDU6SXNzdWU2NzI0OTQ2NzA=", "number": 582, "title": "Question / Comment: by default pdf to image will generate images with 72 dpi resolution, how to specify a certain dpi say 150/300?  ", "user": {"login": "alexucb", "id": 29640620, "node_id": "MDQ6VXNlcjI5NjQwNjIw", "avatar_url": "https://avatars0.githubusercontent.com/u/29640620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexucb", "html_url": "https://github.com/alexucb", "followers_url": "https://api.github.com/users/alexucb/followers", "following_url": "https://api.github.com/users/alexucb/following{/other_user}", "gists_url": "https://api.github.com/users/alexucb/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexucb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexucb/subscriptions", "organizations_url": "https://api.github.com/users/alexucb/orgs", "repos_url": "https://api.github.com/users/alexucb/repos", "events_url": "https://api.github.com/users/alexucb/events{/privacy}", "received_events_url": "https://api.github.com/users/alexucb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-04T04:22:44Z", "updated_at": "2020-08-09T15:53:10Z", "closed_at": "2020-08-09T15:52:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "in previous question, people are suggesting to apply \"fitz.Matrix\" to convert 72 dpi image to 150, but would it be possible to specify a certain dpi value in the first step (fitz.open)?\r\n\r\n```\r\npdf_doc = fitz.open(pdf_path)\r\npage = pdf_doc.loadPage(0)\r\nzoom = 150. / 72.\r\nmat = fitz.Matrix(zoom, zoom)\r\npix = page.getPixmap(matrix = mat)\r\n```\r\n\r\napplying zoom factor won't recover all the detailed pixel information those have been destroyed in the first step.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/581", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/581/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/581/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/581", "id": 672125926, "node_id": "MDU6SXNzdWU2NzIxMjU5MjY=", "number": 581, "title": "Question / Comment: How to access stream attributes from pdf image object ", "user": {"login": "BotquinThomas", "id": 62969174, "node_id": "MDQ6VXNlcjYyOTY5MTc0", "avatar_url": "https://avatars2.githubusercontent.com/u/62969174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BotquinThomas", "html_url": "https://github.com/BotquinThomas", "followers_url": "https://api.github.com/users/BotquinThomas/followers", "following_url": "https://api.github.com/users/BotquinThomas/following{/other_user}", "gists_url": "https://api.github.com/users/BotquinThomas/gists{/gist_id}", "starred_url": "https://api.github.com/users/BotquinThomas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BotquinThomas/subscriptions", "organizations_url": "https://api.github.com/users/BotquinThomas/orgs", "repos_url": "https://api.github.com/users/BotquinThomas/repos", "events_url": "https://api.github.com/users/BotquinThomas/events{/privacy}", "received_events_url": "https://api.github.com/users/BotquinThomas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-03T14:41:19Z", "updated_at": "2020-08-09T19:40:41Z", "closed_at": "2020-08-03T14:54:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have been looking for a way to check the filter attribute of an image object stream using the fitz librarie but I can't seem to find a way,\r\nThe filter attribute can take the following values: '/DCTDecode' , '/JPXDecode', ... or a list : ['/FlateDecode','/DTCDecode']\r\nI can't find a solution on stackoverflow and I struggle finding it in the documentation,\r\n\r\nFor the moment I use Pypdf2  in order to get those values, but it would be nice if I can work from one single library, so that I don't need to open the pdf file for each library\r\n\r\nAlso, I had another question regarding the fact that images sometimes need to be reassembled after being extracted from a pdf,\r\nIs there a simple way to do it? Is it also available on fitz or do you recommend other libraries for this task !\r\n\r\nThank you for your help! \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/580", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/580/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/580/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/580", "id": 671897980, "node_id": "MDU6SXNzdWU2NzE4OTc5ODA=", "number": 580, "title": "Export text as text in page.getSVGimage()", "user": {"login": "cipri-tom", "id": 2991890, "node_id": "MDQ6VXNlcjI5OTE4OTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2991890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cipri-tom", "html_url": "https://github.com/cipri-tom", "followers_url": "https://api.github.com/users/cipri-tom/followers", "following_url": "https://api.github.com/users/cipri-tom/following{/other_user}", "gists_url": "https://api.github.com/users/cipri-tom/gists{/gist_id}", "starred_url": "https://api.github.com/users/cipri-tom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cipri-tom/subscriptions", "organizations_url": "https://api.github.com/users/cipri-tom/orgs", "repos_url": "https://api.github.com/users/cipri-tom/repos", "events_url": "https://api.github.com/users/cipri-tom/events{/privacy}", "received_events_url": "https://api.github.com/users/cipri-tom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-08-03T08:26:17Z", "updated_at": "2020-08-03T13:23:12Z", "closed_at": "2020-08-03T13:10:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nSometimes I want to get the SVG of a page, as it allows me to analyse the contents a bit better than the PDF. I currently have a method of doing it, but I noticed that all glyphs of a font are done as a `<path>`, which is then referenced multiple times. This makes it a bit difficult to disambiguate between paths that correspond to text, and those which do not.\r\n\r\n**Describe the solution you'd like**\r\nI noticed that there is a possibility to export to SVG while keeping the text as text by passing a flag to `fz_new_svg_device()`, which is currently hardcoded \r\n\r\nhttps://github.com/pymupdf/PyMuPDF/blob/12d0201fdcea6854d04dc40ca52ebd9c0724723f/fitz/fitz.i#L3198-L3201\r\n\r\n**Describe alternatives you've considered**\r\nCompile PyMuPDF from source and do the modification on my side. But I'm not sure which file to modify on PyMuPDF, as the source seems to be in a huge `fitz.i` file, which seems to be the output of the compiler ?\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/578", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/578/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/578/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/578/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/578", "id": 671204264, "node_id": "MDU6SXNzdWU2NzEyMDQyNjQ=", "number": 578, "title": "Question / Comment: inserting images via an image field", "user": {"login": "iWHOswald", "id": 19439677, "node_id": "MDQ6VXNlcjE5NDM5Njc3", "avatar_url": "https://avatars0.githubusercontent.com/u/19439677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iWHOswald", "html_url": "https://github.com/iWHOswald", "followers_url": "https://api.github.com/users/iWHOswald/followers", "following_url": "https://api.github.com/users/iWHOswald/following{/other_user}", "gists_url": "https://api.github.com/users/iWHOswald/gists{/gist_id}", "starred_url": "https://api.github.com/users/iWHOswald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iWHOswald/subscriptions", "organizations_url": "https://api.github.com/users/iWHOswald/orgs", "repos_url": "https://api.github.com/users/iWHOswald/repos", "events_url": "https://api.github.com/users/iWHOswald/events{/privacy}", "received_events_url": "https://api.github.com/users/iWHOswald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-08-01T21:14:22Z", "updated_at": "2020-08-17T08:16:40Z", "closed_at": "2020-08-09T15:59:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am aware of using the pixmap method of adding images to PDFs. However it can be somewhat time consuming to get the images perfectly aligned. Is there a way to input images into an image field  (similar time how one can fill text fields) as an alternative way of inserting images? I have looked through the documentation but don't see any specific details on doing this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/576", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/576/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/576/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/576/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/576", "id": 669397801, "node_id": "MDU6SXNzdWU2NjkzOTc4MDE=", "number": 576, "title": "Questiion: Is there a way to change the character printed in check boxes?", "user": {"login": "dcd271b2", "id": 27313676, "node_id": "MDQ6VXNlcjI3MzEzNjc2", "avatar_url": "https://avatars1.githubusercontent.com/u/27313676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcd271b2", "html_url": "https://github.com/dcd271b2", "followers_url": "https://api.github.com/users/dcd271b2/followers", "following_url": "https://api.github.com/users/dcd271b2/following{/other_user}", "gists_url": "https://api.github.com/users/dcd271b2/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcd271b2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcd271b2/subscriptions", "organizations_url": "https://api.github.com/users/dcd271b2/orgs", "repos_url": "https://api.github.com/users/dcd271b2/repos", "events_url": "https://api.github.com/users/dcd271b2/events{/privacy}", "received_events_url": "https://api.github.com/users/dcd271b2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-31T04:27:19Z", "updated_at": "2020-08-06T15:52:27Z", "closed_at": "2020-08-06T15:52:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using pyMuPDF v. 1.17.1.  I am reading an existing PDF and checking/un-checking check boxes.  The check boxes have a check mark (\u2713) when checked.  I would like to change the character to an X or other character with pyMuPDF.  Is this possible?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/574", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/574/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/574/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/574/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/574", "id": 669245940, "node_id": "MDU6SXNzdWU2NjkyNDU5NDA=", "number": 574, "title": "Please fix the linking for openSUSE", "user": {"login": "jloehel", "id": 2422012, "node_id": "MDQ6VXNlcjI0MjIwMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2422012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jloehel", "html_url": "https://github.com/jloehel", "followers_url": "https://api.github.com/users/jloehel/followers", "following_url": "https://api.github.com/users/jloehel/following{/other_user}", "gists_url": "https://api.github.com/users/jloehel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jloehel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jloehel/subscriptions", "organizations_url": "https://api.github.com/users/jloehel/orgs", "repos_url": "https://api.github.com/users/jloehel/repos", "events_url": "https://api.github.com/users/jloehel/events{/privacy}", "received_events_url": "https://api.github.com/users/jloehel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-30T22:20:40Z", "updated_at": "2020-08-02T18:04:28Z", "closed_at": "2020-07-31T20:57:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nThe linking does not really work for openSUSE.\r\n\r\n## To Reproduce (mandatory)\r\n```\r\n\u256d\u2500jloehel@workmachine /tmp/test_pymupdf   \r\n\u2570\u2500\u27a4  python3 -m venv .venv && source .venv/bin/activate                                                                                        \r\n\u256d\u2500jloehel@workmachine /tmp/test_pymupdf  (.venv) \r\n\u2570\u2500\u27a4  pip install pymupdf \r\nCollecting pymupdf\r\nInstalling collected packages: pymupdf\r\nSuccessfully installed pymupdf-1.17.4\r\nYou are using pip version 18.1, however version 20.2 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\u256d\u2500jloehel@workmachine /tmp/test_pymupdf  (.venv) \r\n\u2570\u2500\u27a4  python\r\nPython 3.6.10 (default, Jan 16 2020, 09:12:04) [GCC] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import fitz\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/tmp/test_pymupdf/.venv/lib64/python3.6/site-packages/fitz/__init__.py\", line 3, in <module>\r\n    from fitz.fitz import *\r\n  File \"/tmp/test_pymupdf/.venv/lib64/python3.6/site-packages/fitz/fitz.py\", line 18, in <module>\r\n    from . import _fitz\r\nImportError: /tmp/test_pymupdf/.venv/lib64/python3.6/site-packages/fitz/_fitz.cpython-36m-x86_64-linux-gnu.so: undefined symbol: jpeg_resync_to_restart\r\n>>> exit()\r\n```\r\n\r\n## Expected behavior (optional)\r\nThe installation from pip works without patching. (https://github.com/jloehel/PyMuPDF/commit/22e525391be67fd98ae72db87f33b03d70535296)\r\n\r\n## Your configuration (mandatory)\r\n```\r\n\u256d\u2500jloehel@workmachine /tmp/test_pymupdf  (.venv) \r\n\u2570\u2500\u27a4  cat /etc/os-release \r\nNAME=\"openSUSE Leap\"\r\nVERSION=\"15.1\"\r\nID=\"opensuse-leap\"\r\nID_LIKE=\"suse opensuse\"\r\nVERSION_ID=\"15.1\"\r\nPRETTY_NAME=\"openSUSE Leap 15.1\"\r\nANSI_COLOR=\"0;32\"\r\nCPE_NAME=\"cpe:/o:opensuse:leap:15.1\"\r\nBUG_REPORT_URL=\"https://bugs.opensuse.org\"\r\nHOME_URL=\"https://www.opensuse.org/\"\r\n\u256d\u2500jloehel@workmachine /tmp/test_pymupdf  (.venv) \r\n\u2570\u2500\u27a4  uname -a\r\nLinux workmachine 4.12.14-lp151.28.52-default #1 SMP Wed Jun 10 15:32:08 UTC 2020 (464fb5f) x86_64 x86_64 x86_64 GNU/Linux\r\n\u256d\u2500jloehel@workmachine /tmp/test_pymupdf  (.venv) \r\n\u2570\u2500\u27a4  python --version\r\nPython 3.6.10\r\n```\r\n\r\nLet me know if you need anything else.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/573", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/573/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/573/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/573/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/573", "id": 668193711, "node_id": "MDU6SXNzdWU2NjgxOTM3MTE=", "number": 573, "title": "Error with saving pdf docuemnt ", "user": {"login": "vladcube", "id": 13377383, "node_id": "MDQ6VXNlcjEzMzc3Mzgz", "avatar_url": "https://avatars1.githubusercontent.com/u/13377383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladcube", "html_url": "https://github.com/vladcube", "followers_url": "https://api.github.com/users/vladcube/followers", "following_url": "https://api.github.com/users/vladcube/following{/other_user}", "gists_url": "https://api.github.com/users/vladcube/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladcube/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladcube/subscriptions", "organizations_url": "https://api.github.com/users/vladcube/orgs", "repos_url": "https://api.github.com/users/vladcube/repos", "events_url": "https://api.github.com/users/vladcube/events{/privacy}", "received_events_url": "https://api.github.com/users/vladcube/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-07-29T21:57:43Z", "updated_at": "2020-07-30T10:41:30Z", "closed_at": "2020-07-30T10:15:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, i can't save my pdf document, but can save all ducuments except one.\r\nMy code:\r\n```python\r\ndoc = fitz.open(fname)\r\nfor page in doc:\r\n   text_instances = page.searchFor(value)\r\n   for inst in text_instances:\r\n            highlight = page.addHighlightAnnot(inst)\r\n            highlight.setColors({\"stroke\":(0, 0, 1), \"fill\":(0.75, 0.8, 0.95)})\r\n            highlight.update()\r\n\r\n\r\ndoc.save(\"output.pdf\")\r\n```\r\nBut i have following:\r\n![image](https://user-images.githubusercontent.com/13377383/88857760-88c99780-d1ff-11ea-8f6a-6bc5826f9d08.png)\r\n\r\nAnd also i have wanings:\r\n![image](https://user-images.githubusercontent.com/13377383/88857814-9d0d9480-d1ff-11ea-9cf1-630035da1cbb.png)\r\nHelp me please how to i can load my file and avoid warnings. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/572", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/572/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/572/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/572", "id": 667988853, "node_id": "MDU6SXNzdWU2Njc5ODg4NTM=", "number": 572, "title": "Annotate unsearchable pdfs", "user": {"login": "Atiqul-Islam", "id": 37704681, "node_id": "MDQ6VXNlcjM3NzA0Njgx", "avatar_url": "https://avatars3.githubusercontent.com/u/37704681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Atiqul-Islam", "html_url": "https://github.com/Atiqul-Islam", "followers_url": "https://api.github.com/users/Atiqul-Islam/followers", "following_url": "https://api.github.com/users/Atiqul-Islam/following{/other_user}", "gists_url": "https://api.github.com/users/Atiqul-Islam/gists{/gist_id}", "starred_url": "https://api.github.com/users/Atiqul-Islam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Atiqul-Islam/subscriptions", "organizations_url": "https://api.github.com/users/Atiqul-Islam/orgs", "repos_url": "https://api.github.com/users/Atiqul-Islam/repos", "events_url": "https://api.github.com/users/Atiqul-Islam/events{/privacy}", "received_events_url": "https://api.github.com/users/Atiqul-Islam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-29T16:49:25Z", "updated_at": "2020-08-03T13:24:37Z", "closed_at": "2020-08-03T13:24:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to add data and annotate stuff on an unsearchable PDF.\r\n\r\nI used Tesseract to convert the unsearchable PDF to searchable PDFs.\r\n\r\nThe goal after is to use pymupdf to draw lines based on specific `Points`.\r\n\r\n    `pdfDoc` = fitz.open(self.__path)\r\n    `for` page in self.__pdfDoc:\r\n        `self.__page` = page\r\n    `page.drawLine(fitz.Point(coords[0],` coords[1] + 4), fitz.Point(coords[3], coords[4] + 4), overlay=False,` color=(1, 0, 0))\r\n\r\nwhere coords is a list:\r\n \r\n\r\n 1. coords[0] = x0\r\n 2. coords[1] = y0\r\n 3. coords[2] = x1\r\n 4. coords[3] = y1\r\n\r\nApplying the logic to a searchable pdf returns expected result. However on the converted PDF using tesseract there is nothing added to the PDF.\r\n\r\nAny suggestions would be greatly appreciated. \r\n\r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/570", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/570/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/570/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/570", "id": 666520438, "node_id": "MDU6SXNzdWU2NjY1MjA0Mzg=", "number": 570, "title": "Question / Comment: Search in a pdf page returns nothing. What can be the cause?", "user": {"login": "kuharan", "id": 22185333, "node_id": "MDQ6VXNlcjIyMTg1MzMz", "avatar_url": "https://avatars3.githubusercontent.com/u/22185333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuharan", "html_url": "https://github.com/kuharan", "followers_url": "https://api.github.com/users/kuharan/followers", "following_url": "https://api.github.com/users/kuharan/following{/other_user}", "gists_url": "https://api.github.com/users/kuharan/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuharan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuharan/subscriptions", "organizations_url": "https://api.github.com/users/kuharan/orgs", "repos_url": "https://api.github.com/users/kuharan/repos", "events_url": "https://api.github.com/users/kuharan/events{/privacy}", "received_events_url": "https://api.github.com/users/kuharan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-27T19:09:57Z", "updated_at": "2020-07-29T11:51:34Z", "closed_at": "2020-07-29T11:51:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a pdf where the search for a specific text returns Null. The page when printing in the terminal outputs boxes - similar to this \u2610. However, when I open the pdf with pdf applications like adobe reader and search manually it successfully finds the text. What are the possible causes of this issue?\r\n\r\n```\r\nimport fitz\r\n\r\npdf_document = \"xxx.pdf\"\r\ndoc = fitz.open(pdf_document):\r\npage1 = doc.loadPage(0)\r\npage1text = page1.getText(\"text\")\r\nprint(page1text)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/569", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/569/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/569/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/569", "id": 666138350, "node_id": "MDU6SXNzdWU2NjYxMzgzNTA=", "number": 569, "title": "Proper use of page.derotationMatrix", "user": {"login": "papafelice", "id": 20222908, "node_id": "MDQ6VXNlcjIwMjIyOTA4", "avatar_url": "https://avatars3.githubusercontent.com/u/20222908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papafelice", "html_url": "https://github.com/papafelice", "followers_url": "https://api.github.com/users/papafelice/followers", "following_url": "https://api.github.com/users/papafelice/following{/other_user}", "gists_url": "https://api.github.com/users/papafelice/gists{/gist_id}", "starred_url": "https://api.github.com/users/papafelice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papafelice/subscriptions", "organizations_url": "https://api.github.com/users/papafelice/orgs", "repos_url": "https://api.github.com/users/papafelice/repos", "events_url": "https://api.github.com/users/papafelice/events{/privacy}", "received_events_url": "https://api.github.com/users/papafelice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-07-27T09:35:08Z", "updated_at": "2020-07-29T11:51:04Z", "closed_at": "2020-07-29T11:51:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have received test PDF file (created with the \"print to pdf\" function of a non-Unix system) that resists in properly adding a TextBox.\r\nThe following code should create TextBox in the upper left corner of the page, however it is vertically flipped, shifted and scaled down.\r\nInserting a new page creates the right output, so there must be someting in the page coordinate system of the document that is not properly handled by my code. Is there anything more to do to the rect before calling insertTextbox?\r\n\r\n    import fitz         \r\n    doc = fitz.open(\"testflip.pdf\")  \r\n\r\n    page = doc[0]                         \r\n    rect = fitz.Rect(10, 10, 100, 50) * page.derotationMatrix\r\n    page.insertTextbox(rect, \"My Text\", fontsize=24, color=(0, 0, 0))\r\n\r\n    doc.insertPage(-1)\r\n    page = doc[1]                         \r\n    rect = fitz.Rect(10, 10, 100, 50) * page.derotationMatrix\r\n    page.insertTextbox(rect, \"My Text\", fontsize=24, color=(0, 0, 0))\r\n\r\n    doc.save(\"out.pdf\")\r\n    doc.close()\r\n \r\n[testflip.pdf](https://github.com/pymupdf/PyMuPDF/files/4981149/testflip.pdf)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/568", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/568/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/568/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/568", "id": 666080194, "node_id": "MDU6SXNzdWU2NjYwODAxOTQ=", "number": 568, "title": "Typo: retturn instead of return", "user": {"login": "papafelice", "id": 20222908, "node_id": "MDQ6VXNlcjIwMjIyOTA4", "avatar_url": "https://avatars3.githubusercontent.com/u/20222908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papafelice", "html_url": "https://github.com/papafelice", "followers_url": "https://api.github.com/users/papafelice/followers", "following_url": "https://api.github.com/users/papafelice/following{/other_user}", "gists_url": "https://api.github.com/users/papafelice/gists{/gist_id}", "starred_url": "https://api.github.com/users/papafelice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papafelice/subscriptions", "organizations_url": "https://api.github.com/users/papafelice/orgs", "repos_url": "https://api.github.com/users/papafelice/repos", "events_url": "https://api.github.com/users/papafelice/events{/privacy}", "received_events_url": "https://api.github.com/users/papafelice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-27T08:06:51Z", "updated_at": "2020-08-06T15:41:52Z", "closed_at": "2020-08-06T15:41:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug\r\nException ignored in: <function Annot.__del__ at 0x7f46274be1f0>\r\nTraceback (most recent call last):\r\nFile \".../python3.8/site-packages/fitz/fitz.py\", line 6180, in __del__\r\nNameError: name 'retturn' is not defined\r\n\r\n## To Reproduce\r\ncreate an annotation and let go out of scope\r\n\r\n## Your configuration\r\n - PyMuPDF 1.17.3, 1.17.4, wheel\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/567", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/567/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/567/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/567", "id": 665518695, "node_id": "MDU6SXNzdWU2NjU1MTg2OTU=", "number": 567, "title": "No text extractable from scanned pages", "user": {"login": "DhruvAwasthi", "id": 66522260, "node_id": "MDQ6VXNlcjY2NTIyMjYw", "avatar_url": "https://avatars0.githubusercontent.com/u/66522260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DhruvAwasthi", "html_url": "https://github.com/DhruvAwasthi", "followers_url": "https://api.github.com/users/DhruvAwasthi/followers", "following_url": "https://api.github.com/users/DhruvAwasthi/following{/other_user}", "gists_url": "https://api.github.com/users/DhruvAwasthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/DhruvAwasthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DhruvAwasthi/subscriptions", "organizations_url": "https://api.github.com/users/DhruvAwasthi/orgs", "repos_url": "https://api.github.com/users/DhruvAwasthi/repos", "events_url": "https://api.github.com/users/DhruvAwasthi/events{/privacy}", "received_events_url": "https://api.github.com/users/DhruvAwasthi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-07-25T05:26:56Z", "updated_at": "2020-07-26T17:21:44Z", "closed_at": "2020-07-25T10:03:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n[unixbook.pdf](https://github.com/pymupdf/PyMuPDF/files/4974969/unixbook.pdf)\r\nI've a PDF book.  What I'm trying to do is extract its content. The code I'm using is this:\r\n\r\n`document = \"unixbook.pdf\"`\r\n`doc = fitz.open(document)`\r\n`page = doc[4]`\r\n`print(page.getText()`\r\n\r\nThe code works on all PDFs but fails on some. For those few, it just returns an empty string. \r\nThe PDF is not password encrypted, it's the same as others.\r\nPlease help if it can be resolved. \r\n\r\nPFA", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/566", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/566/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/566/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/566/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/566", "id": 665082438, "node_id": "MDU6SXNzdWU2NjUwODI0Mzg=", "number": 566, "title": "getSigFlags incorrect return (int conversion)", "user": {"login": "cipri-tom", "id": 2991890, "node_id": "MDQ6VXNlcjI5OTE4OTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2991890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cipri-tom", "html_url": "https://github.com/cipri-tom", "followers_url": "https://api.github.com/users/cipri-tom/followers", "following_url": "https://api.github.com/users/cipri-tom/following{/other_user}", "gists_url": "https://api.github.com/users/cipri-tom/gists{/gist_id}", "starred_url": "https://api.github.com/users/cipri-tom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cipri-tom/subscriptions", "organizations_url": "https://api.github.com/users/cipri-tom/orgs", "repos_url": "https://api.github.com/users/cipri-tom/repos", "events_url": "https://api.github.com/users/cipri-tom/events{/privacy}", "received_events_url": "https://api.github.com/users/cipri-tom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-24T10:40:29Z", "updated_at": "2020-08-06T15:45:19Z", "closed_at": "2020-08-06T15:44:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nWhen using `p.getSigFlags()` (with a PDF file), it returns `4294967295` on versions `('1.17.3', '1.17.0', '20200706150704')` and `('1.17.4', '1.17.0', '20200720180940')`. The same call returns `0` on version `('1.16.17', '1.16.0', '20200331085333')`. None of these is among the possible values of `-1`, `1` or `3`, but the latest version is, in fact, a `-1` represented as an `uint32`, so I suspect a conversion problem.\r\n\r\n## To Reproduce (mandatory)\r\n```python\r\n>>> import fitz\r\n>>> f = open('../sample_data/test.pdf', 'rb').read()\r\n>>> p = fitz.open(stream=f, filetype='pdf')\r\n>>> p.getSigFlags()\r\n4294967295\r\n>>> fitz.version\r\n('1.17.4', '1.17.0', '20200720180940')\r\n```\r\n\r\n## Your configuration (mandatory)\r\n - MacOS 10.15.4\r\n - Python 3.7.0 | packaged by conda-forge | (default, Nov 12 2018, 12:34:36) \\n[Clang 4.0.1 (tags/RELEASE_401/final)]\r\n - PyMuPDF version: see above. Installed via `pip install`\r\n\r\nLet me know if you need the test file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/565", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/565/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/565/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/565/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/565", "id": 664239342, "node_id": "MDU6SXNzdWU2NjQyMzkzNDI=", "number": 565, "title": "Unable to install version 1.17 on ubuntu 18.04", "user": {"login": "Vibha111094", "id": 16645902, "node_id": "MDQ6VXNlcjE2NjQ1OTAy", "avatar_url": "https://avatars0.githubusercontent.com/u/16645902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vibha111094", "html_url": "https://github.com/Vibha111094", "followers_url": "https://api.github.com/users/Vibha111094/followers", "following_url": "https://api.github.com/users/Vibha111094/following{/other_user}", "gists_url": "https://api.github.com/users/Vibha111094/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vibha111094/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vibha111094/subscriptions", "organizations_url": "https://api.github.com/users/Vibha111094/orgs", "repos_url": "https://api.github.com/users/Vibha111094/repos", "events_url": "https://api.github.com/users/Vibha111094/events{/privacy}", "received_events_url": "https://api.github.com/users/Vibha111094/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-23T06:44:07Z", "updated_at": "2020-07-25T10:21:39Z", "closed_at": "2020-07-23T10:59:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI am able to install 1.16 version with just a pip3 install PyMuPDF.\r\nHowever, I am not able to install 1.17 the same way.\r\n\r\nError is :\r\nfitz/fitz_wrap.c no such file or directory exists.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/564", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/564/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/564/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/564/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/564", "id": 664014578, "node_id": "MDU6SXNzdWU2NjQwMTQ1Nzg=", "number": 564, "title": "Question: how to resize pdfs that have been rotated? ", "user": {"login": "catherineweiss", "id": 16820296, "node_id": "MDQ6VXNlcjE2ODIwMjk2", "avatar_url": "https://avatars3.githubusercontent.com/u/16820296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catherineweiss", "html_url": "https://github.com/catherineweiss", "followers_url": "https://api.github.com/users/catherineweiss/followers", "following_url": "https://api.github.com/users/catherineweiss/following{/other_user}", "gists_url": "https://api.github.com/users/catherineweiss/gists{/gist_id}", "starred_url": "https://api.github.com/users/catherineweiss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catherineweiss/subscriptions", "organizations_url": "https://api.github.com/users/catherineweiss/orgs", "repos_url": "https://api.github.com/users/catherineweiss/repos", "events_url": "https://api.github.com/users/catherineweiss/events{/privacy}", "received_events_url": "https://api.github.com/users/catherineweiss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-07-22T20:01:21Z", "updated_at": "2020-07-23T11:27:29Z", "closed_at": "2020-07-23T11:27:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a multi-page pdf and the pages have different rotation values (180 and 270). I want to resize the pages, but the rotation is giving me difficulty. \r\n\r\n1. I'm currently using PyPDF2's method, .getPage(n).get('/Rotate'). Is there a method in PyMuPDF that returns the correct rotation? page.rotation returns 0 degrees for all.\r\n\r\n2. Do you know from prior experience how to resize the pdf page while dealing with rotation? I've been trying to create a new page using Document.newPage() with a newWidth and newHeight. And then I've been experimenting with Page.setMediaBox() and also just creating a Rect with coordinates before calling Page.showPDFpage(). All of the results crop the image before placing it on the page. (I'm trying to place the entire image on the new/smaller page.) Thanks for your help!  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/563", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/563/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/563/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/563", "id": 662306908, "node_id": "MDU6SXNzdWU2NjIzMDY5MDg=", "number": 563, "title": "Textfield Widget not displaying value after updating.", "user": {"login": "boukeas", "id": 11033117, "node_id": "MDQ6VXNlcjExMDMzMTE3", "avatar_url": "https://avatars0.githubusercontent.com/u/11033117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boukeas", "html_url": "https://github.com/boukeas", "followers_url": "https://api.github.com/users/boukeas/followers", "following_url": "https://api.github.com/users/boukeas/following{/other_user}", "gists_url": "https://api.github.com/users/boukeas/gists{/gist_id}", "starred_url": "https://api.github.com/users/boukeas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boukeas/subscriptions", "organizations_url": "https://api.github.com/users/boukeas/orgs", "repos_url": "https://api.github.com/users/boukeas/repos", "events_url": "https://api.github.com/users/boukeas/events{/privacy}", "received_events_url": "https://api.github.com/users/boukeas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-07-20T21:59:03Z", "updated_at": "2020-07-21T18:20:58Z", "closed_at": "2020-07-21T18:20:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nA TextField widget can be added to a pdf programmatically. However, when a user loads the pdf into a viewer and manually updates the text in the field, the new value is not displayed.\r\n\r\n## To Reproduce (mandatory)\r\n```\r\nimport fitz\r\ndoc = fitz.Document()\r\npage = doc.newPage()\r\npage.insertTextbox(fitz.Rect(10, 10, 200, 30), \"Some text\")\r\n\r\nwidget = fitz.Widget()\r\nwidget.rect = fitz.Rect(10, 40, 200, 60)\r\nwidget.field_type = fitz.ANNOT_WG_TEXT\r\nwidget.text_fontsize = 16\r\nwidget.fill_color = (0.8, 0.8, 0.8)\r\nwidget.field_name = \"textfield-1\"\r\nwidget.field_value = \"form text\"\r\nannot = doc[0].addWidget(widget)\r\n\r\ndoc.save(\"test.pdf\", clean=True)\r\ndoc.close()\r\n```\r\n## Screenshots (optional)\r\nThis is how the text field is displayed originally. \r\n![Screenshot from 2020-07-20 22-56-41](https://user-images.githubusercontent.com/11033117/87990754-8454fe80-cadc-11ea-8cd1-384eb6d7210f.png)\r\n\r\nThe user manually enters new text in the field:\r\n![Screenshot from 2020-07-20 22-57-02](https://user-images.githubusercontent.com/11033117/87990825-afd7e900-cadc-11ea-9f6f-e4a38ca61ee0.png)\r\n\r\nThe new value is not displayed:\r\n![Screenshot from 2020-07-20 22-57-13](https://user-images.githubusercontent.com/11033117/87990845-be260500-cadc-11ea-97fc-6cd1a697e5fd.png)\r\n\r\n## Your configuration (mandatory)\r\n - Ubuntu 18.04\r\n - Python 3.6.9\r\n - PyMuPDF version 1.16.17\r\n\r\n## Additional context (optional)\r\nIn the past, I have used `pdfrw` to fill in the forms in a pdf and I had encountered a similar problem. It was solved using the `NeedAppearances` flag: \r\n```\r\n# bug fix from https://github.com/pmaupin/pdfrw/issues/84\r\nPdfReader(input_pdf).Root.AcroForm.update(PdfDict(NeedAppearances=PdfObject('true')))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/562", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/562/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/562/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/562", "id": 662199842, "node_id": "MDU6SXNzdWU2NjIxOTk4NDI=", "number": 562, "title": "Question / Comment: Intended behavior? Annotation.getPixmap with alpha=True returns with background from the page", "user": {"login": "PowerSnail", "id": 7428673, "node_id": "MDQ6VXNlcjc0Mjg2NzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7428673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PowerSnail", "html_url": "https://github.com/PowerSnail", "followers_url": "https://api.github.com/users/PowerSnail/followers", "following_url": "https://api.github.com/users/PowerSnail/following{/other_user}", "gists_url": "https://api.github.com/users/PowerSnail/gists{/gist_id}", "starred_url": "https://api.github.com/users/PowerSnail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PowerSnail/subscriptions", "organizations_url": "https://api.github.com/users/PowerSnail/orgs", "repos_url": "https://api.github.com/users/PowerSnail/repos", "events_url": "https://api.github.com/users/PowerSnail/events{/privacy}", "received_events_url": "https://api.github.com/users/PowerSnail/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-20T19:52:11Z", "updated_at": "2020-07-23T22:45:33Z", "closed_at": "2020-07-23T22:45:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "``Annotation.getPixmap`` with ``alpha=True`` still returns the background from page (and other annotations if its in the area).\r\n\r\nI'm not sure whether this is a bug, or have I misunderstood the purpose of ``alpha=True``. I would have thought that it returns the annotation rendered in isolation with a transparent background.\r\n\r\nFurthermore, if this is intended, is there a way to render the annotation by itself?\r\n\r\nPS: Thanks for the work on pymupdf. It's quite pleasant to work with.\r\n\r\nA script to reproduce:\r\n\r\n```python\r\nimport fitz\r\nimport sys\r\n\r\ndoc = fitz.Document(sys.argv[1])\r\npage = doc.loadPage(0)\r\npage.addInkAnnot([[\r\n    (200, 200), (300, 300), (250, 400)\r\n]])\r\npixmap_page = page.getPixmap(annots=True)\r\npixmap_page.writeImage(\"page.png\")\r\n\r\nannot = next(page.annots())\r\npixmap_annot = annot.getPixmap(alpha=False)\r\npixmap_annot.writeImage(\"annot.png\")\r\n```\r\n\r\npage.png\r\n\r\n![page](https://user-images.githubusercontent.com/7428673/87979851-37fcc500-cac2-11ea-876e-47f813d4d497.jpg)\r\n\r\nannot.png\r\n\r\n![photo_2020-07-20_12-47-37](https://user-images.githubusercontent.com/7428673/87979893-48ad3b00-cac2-11ea-8b71-37c73aef27a3.jpg)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/561", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/561/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/561/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/561", "id": 660239547, "node_id": "MDU6SXNzdWU2NjAyMzk1NDc=", "number": 561, "title": "TextWriter - wrong font being used", "user": {"login": "jotaf98", "id": 8715778, "node_id": "MDQ6VXNlcjg3MTU3Nzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8715778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jotaf98", "html_url": "https://github.com/jotaf98", "followers_url": "https://api.github.com/users/jotaf98/followers", "following_url": "https://api.github.com/users/jotaf98/following{/other_user}", "gists_url": "https://api.github.com/users/jotaf98/gists{/gist_id}", "starred_url": "https://api.github.com/users/jotaf98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jotaf98/subscriptions", "organizations_url": "https://api.github.com/users/jotaf98/orgs", "repos_url": "https://api.github.com/users/jotaf98/repos", "events_url": "https://api.github.com/users/jotaf98/events{/privacy}", "received_events_url": "https://api.github.com/users/jotaf98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2020-07-18T16:21:36Z", "updated_at": "2020-08-06T15:38:59Z", "closed_at": "2020-08-06T15:09:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\n`TextWriter`, when used repeatedly with 3 or more fonts, sometimes uses the wrong font, and prints out of bounds.\r\n\r\n## To Reproduce (mandatory)\r\nHere's a script that prints the same text with 3 fonts, in multiple panels:\r\n\r\n```\r\nimport fitz\r\n\r\nfont1 = fitz.Font('tiro')\r\nfont2 = fitz.Font('cour')\r\nfont3 = fitz.Font('helv')\r\n\r\n(b, s) = (10, 150)  # border and panel size\r\ntext = 'abcde fghij klmno pqrst uvwxyz'\r\n\r\ndoc = fitz.open()\r\npage = doc.newPage()\r\n\r\npanel = fitz.Rect((b, b), (s, s))\r\n\r\nfor _ in range(15):\r\n  wr = fitz.TextWriter(page.rect)\r\n  rect = fitz.Rect(panel)\r\n\r\n  for font in [font1, font2, font3]:\r\n    wr.fillTextbox(rect=rect, text=text, fontsize=12, font=font)\r\n    rect.y0 = wr.lastPoint.y\r\n\r\n  wr.writeText(page)\r\n\r\n  panel.x0 += s + b\r\n  panel.x1 += s + b\r\n  if panel.x1 >= page.rect.x1:\r\n    panel.x0 = b\r\n    panel.x1 = s + b\r\n    panel.y0 += s + b\r\n    panel.y1 += s + b\r\n\r\ndoc.save('test.pdf')\r\n```\r\n\r\n## Expected behavior (optional)\r\nThe passed in fonts should be used in the specified order, and no text would be out of the specified rect.\r\n\r\n## Screenshots (optional)\r\nSee screenshot and attached PDF (tested with SumatraPDF and Foxit Reader).\r\nCompare the first group of text (top-left), with the group below it; according to the code they should look the same but don't.\r\n![screen](https://user-images.githubusercontent.com/8715778/87856933-7a839d80-c91a-11ea-9476-84c0cbee4796.png)\r\n[test.pdf](https://github.com/pymupdf/PyMuPDF/files/4941966/test.pdf)\r\n\r\n## Your configuration (mandatory)\r\n - Windows 10, 64 bits\r\n - Python 3.7.3, 64 bits\r\n - PyMuPDF 1.17.3, installed with pip (wheel)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/560", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/560/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/560/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/560", "id": 656580564, "node_id": "MDU6SXNzdWU2NTY1ODA1NjQ=", "number": 560, "title": "Documentation update: Annot.getPixmap note", "user": {"login": "cipri-tom", "id": 2991890, "node_id": "MDQ6VXNlcjI5OTE4OTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2991890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cipri-tom", "html_url": "https://github.com/cipri-tom", "followers_url": "https://api.github.com/users/cipri-tom/followers", "following_url": "https://api.github.com/users/cipri-tom/following{/other_user}", "gists_url": "https://api.github.com/users/cipri-tom/gists{/gist_id}", "starred_url": "https://api.github.com/users/cipri-tom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cipri-tom/subscriptions", "organizations_url": "https://api.github.com/users/cipri-tom/orgs", "repos_url": "https://api.github.com/users/cipri-tom/repos", "events_url": "https://api.github.com/users/cipri-tom/events{/privacy}", "received_events_url": "https://api.github.com/users/cipri-tom/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118596273, "node_id": "MDU6TGFiZWwxMTE4NTk2Mjcz", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/documentation%20bug", "name": "documentation bug", "color": "ce7650", "default": false, "description": ""}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-07-14T12:38:57Z", "updated_at": "2020-07-21T17:26:35Z", "closed_at": "2020-07-15T13:04:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThank you for this great binding. I've just started dipping my toes in using the library and I'm truly impressed by its power.\r\n\r\nI've noticed a small suspense in the documentation of [`Annot.getPixmap`](https://pymupdf.readthedocs.io/en/latest/annot.html#Annot.getPixmap):\r\n\r\n> **Note:** If the annotation has just been created or modified\r\n\r\nAnd that's it. So, what happens if it has just been created or modified ? Are there some limitations ? I supposed we need to call `.update()` to ensure that the modifications are displayed in the pixmap.\r\n\r\nMany thanks !", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/559", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/559/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/559/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/559/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/559", "id": 655598440, "node_id": "MDU6SXNzdWU2NTU1OTg0NDA=", "number": 559, "title": "Issue with inserting image with transparency into PF", "user": {"login": "iWHOswald", "id": 19439677, "node_id": "MDQ6VXNlcjE5NDM5Njc3", "avatar_url": "https://avatars0.githubusercontent.com/u/19439677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iWHOswald", "html_url": "https://github.com/iWHOswald", "followers_url": "https://api.github.com/users/iWHOswald/followers", "following_url": "https://api.github.com/users/iWHOswald/following{/other_user}", "gists_url": "https://api.github.com/users/iWHOswald/gists{/gist_id}", "starred_url": "https://api.github.com/users/iWHOswald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iWHOswald/subscriptions", "organizations_url": "https://api.github.com/users/iWHOswald/orgs", "repos_url": "https://api.github.com/users/iWHOswald/repos", "events_url": "https://api.github.com/users/iWHOswald/events{/privacy}", "received_events_url": "https://api.github.com/users/iWHOswald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}, {"id": 1338052772, "node_id": "MDU6TGFiZWwxMzM4MDUyNzcy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/upstream%20bug", "name": "upstream bug", "color": "fc2929", "default": false, "description": "bug outside this package"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-07-13T05:46:17Z", "updated_at": "2020-07-23T22:57:21Z", "closed_at": "2020-07-23T22:57:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nI have found a bug while using the fitz module to insert images into a PDF in V. 1.17.2. I think it is specific to an image with transparency, as when I hard code inserting an image with no transparency it works fine. However, attempting to insert one with transparency results in no image showing in the saved PDF and adobe reader prompting the message stating an error was found in the PDF. I found that reverting to V. 1.16.18 does not have this bug, so it must be related to the new versions.\r\n\r\n## To Reproduce (mandatory)\r\nThe following snippet of code resulted in the erroneous PDF:\r\n\r\n`                x_terp_first = 29\r\n                y_terp = 300\r\n                scaler = 48\r\n                for i in range(5):\r\n                    if i == 0:\r\n                        x_terp1 = x_terp_first\r\n                    else:\r\n                        x_terp1 = x_terp1 + 45\r\n                    img2 = fitz.Rect(x_terp1, y_terp, x_terp1 + 24, y_terp + scaler)  # where we want to put the image\r\n                    pix_terp = fitz.Pixmap(terp_plots[i])  # any supported image file\r\n                    page.insertImage(img2, pixmap=pix_terp, overlay=True)  # insert image\r\n`\r\nterp_plots[i] is an array of 5 image files. When this is replaced with an image that has no transparency, it works. With transparency results in the error.\r\n\r\n## Expected behavior (optional)\r\nIdeally want image to appear in PDF; as said above, V. 1.16.18 fixes this issue.\r\n\r\n## Your configuration (mandatory)\r\n - Windows 10 64-bit\r\n - Python 3.8.2 64-bit\r\n - PyMuPDF version 1.17.2, pip installed\r\n\r\n## Additional context (optional)\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/558", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/558/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/558/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/558/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/558", "id": 653805958, "node_id": "MDU6SXNzdWU2NTM4MDU5NTg=", "number": 558, "title": "How to make addRedactAnnot support fontfile?", "user": {"login": "malizheng", "id": 14052596, "node_id": "MDQ6VXNlcjE0MDUyNTk2", "avatar_url": "https://avatars0.githubusercontent.com/u/14052596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malizheng", "html_url": "https://github.com/malizheng", "followers_url": "https://api.github.com/users/malizheng/followers", "following_url": "https://api.github.com/users/malizheng/following{/other_user}", "gists_url": "https://api.github.com/users/malizheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/malizheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malizheng/subscriptions", "organizations_url": "https://api.github.com/users/malizheng/orgs", "repos_url": "https://api.github.com/users/malizheng/repos", "events_url": "https://api.github.com/users/malizheng/events{/privacy}", "received_events_url": "https://api.github.com/users/malizheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118596273, "node_id": "MDU6TGFiZWwxMTE4NTk2Mjcz", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/documentation%20bug", "name": "documentation bug", "color": "ce7650", "default": false, "description": ""}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-07-09T06:40:49Z", "updated_at": "2020-07-21T17:27:21Z", "closed_at": "2020-07-14T07:53:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thank you very much for your contribution.\r\nAfter addRedactAnnot uses the default font, there is a problem with the layout. How to make addRedactAnnot support fontfile\uff1f", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/557", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/557/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/557/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/557/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/557", "id": 653735716, "node_id": "MDU6SXNzdWU2NTM3MzU3MTY=", "number": 557, "title": "An error occurred when a page in the middle of the same PDF file was converted to a picture", "user": {"login": "firstelfin", "id": 36871890, "node_id": "MDQ6VXNlcjM2ODcxODkw", "avatar_url": "https://avatars3.githubusercontent.com/u/36871890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/firstelfin", "html_url": "https://github.com/firstelfin", "followers_url": "https://api.github.com/users/firstelfin/followers", "following_url": "https://api.github.com/users/firstelfin/following{/other_user}", "gists_url": "https://api.github.com/users/firstelfin/gists{/gist_id}", "starred_url": "https://api.github.com/users/firstelfin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/firstelfin/subscriptions", "organizations_url": "https://api.github.com/users/firstelfin/orgs", "repos_url": "https://api.github.com/users/firstelfin/repos", "events_url": "https://api.github.com/users/firstelfin/events{/privacy}", "received_events_url": "https://api.github.com/users/firstelfin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762663, "node_id": "MDU6TGFiZWwxNTc2MjY2Mw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1338052772, "node_id": "MDU6TGFiZWwxMzM4MDUyNzcy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/upstream%20bug", "name": "upstream bug", "color": "fc2929", "default": false, "description": "bug outside this package"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-09T03:32:38Z", "updated_at": "2020-07-18T12:09:41Z", "closed_at": "2020-07-18T12:09:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nWhen I convert a PDF file to an image, I encounter a PDF file. The fourth page of the PDF file can't be converted. The python program ends and exits directly. Try doesn't work either!\r\n\r\n------------------------------------------------------------------------------------------------------------------------\r\nerror\uff1a\r\n```python\r\nmupdf: cmsCreateTransform(ICCBased(RGB,sRGB IEC61966-2.1),p\ufffd\ufffd\u007f\ufffd\u0001) failed\r\nmupdf: cannot find color converter\r\nmupdf: recursion in colorspace definition\r\n\r\nProcess finished with exit code -1073741819 (0xC0000005)\r\n```\r\n-----------------------------------------------------------------------------------------------------------------------\r\n## code\r\n```python\r\n    pdfDoc = fitz.open(pdfPath)\r\n    for pg in range(pdfDoc.pageCount):\r\n        page = pdfDoc[pg]\r\n        rotate = int(0)\r\n        zoom_x = 2 \r\n        zoom_y = 2\r\n        mat = fitz.Matrix(zoom_x, zoom_y).preRotate(rotate)\r\n        try:\r\n            pix = page.getPixmap(matrix=mat, alpha=False)\r\n        except Exception as e:\r\n            print(e)\r\n            pix = page.getPixmap(matrix=mat, colorspace=\"rgb\", alpha=False)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/556", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/556/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/556/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/556", "id": 653146412, "node_id": "MDU6SXNzdWU2NTMxNDY0MTI=", "number": 556, "title": "Fatal crash following page.getPixmap()", "user": {"login": "gueugaie", "id": 15906268, "node_id": "MDQ6VXNlcjE1OTA2MjY4", "avatar_url": "https://avatars1.githubusercontent.com/u/15906268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gueugaie", "html_url": "https://github.com/gueugaie", "followers_url": "https://api.github.com/users/gueugaie/followers", "following_url": "https://api.github.com/users/gueugaie/following{/other_user}", "gists_url": "https://api.github.com/users/gueugaie/gists{/gist_id}", "starred_url": "https://api.github.com/users/gueugaie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gueugaie/subscriptions", "organizations_url": "https://api.github.com/users/gueugaie/orgs", "repos_url": "https://api.github.com/users/gueugaie/repos", "events_url": "https://api.github.com/users/gueugaie/events{/privacy}", "received_events_url": "https://api.github.com/users/gueugaie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 15762667, "node_id": "MDU6TGFiZWwxNTc2MjY2Nw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/wontfix", "name": "wontfix", "color": "000000", "default": true, "description": "no intention to resolve"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-07-08T09:38:14Z", "updated_at": "2020-07-23T16:13:14Z", "closed_at": "2020-07-23T16:13:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nThe usage of `page.getPixmap()\u0300` on certain documents lead to SIGSEGV on SIGABRT, crashing the process.\r\n\r\nConsole output on a SIGSEGV : \r\n`Process finished with exit code 139 (interrupted by signal 11: SIGSEGV)`\r\n\r\nOn a SIGABRT : \r\n```\r\n*** Error in `/home/x/Documents/workspaces/python-sandbox/.venv/bin/python3.5': corrupted double-linked list: 0x0000000001b79bc0 ***\r\n======= Backtrace: =========\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x777e5)[0x7faebe3c07e5]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x7e7c3)[0x7faebe3c77c3]\r\n/lib/x86_64-linux-gnu/libc.so.6(+0x80678)[0x7faebe3c9678]\r\n/lib/x86_64-linux-gnu/libc.so.6(cfree+0x4c)[0x7faebe3cd53c]\r\n/home/x/Documents/workspaces/python-sandbox/.venv/lib/python3.5/site-packages/fitz/_fitz.cpython-35m-x86_64-linux-gnu.so(fz_free+0x24)[0x7faebc9594b4]\r\n/home/x/Documents/workspaces/python-sandbox/.venv/lib/python3.5/site-packages/fitz/_fitz.cpython-35m-x86_64-linux-gnu.so(+0x9c195)[0x7faebc8df195]\r\n/home/x/Documents/workspaces/python-sandbox/.venv/bin/python3.5(PyEval_EvalFrameEx+0x4d26)[0x5407c6]\r\n...\r\n/home/x/Documents/workspaces/python-sandbox/.venv/bin/python3.5(main+0xe1)[0x4d1761]\r\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xf0)[0x7faebe369830]\r\n/home/x/Documents/workspaces/python-sandbox/.venv/bin/python3.5(_start+0x29)[0x5d57c9]\r\n======= Memory map: ========\r\n00400000-007a8000 r-xp 00000000 08:16 8299853                            /home/x/Documents/workspaces/python-sandbox/.venv/bin/python3\r\n009a7000-009a9000 r--p 003a7000 08:16 8299853                            /home/x/Documents/workspaces/python-sandbox/.venv/bin/python3\r\n009a9000-00a40000 rw-p 003a9000 08:16 8299853                            /home/x/Documents/workspaces/python-sandbox/.venv/bin/python3\r\n00a40000-00a71000 rw-p 00000000 00:00 0 \r\n01a2a000-024e0000 rw-p 00000000 00:00 0                                  [heap]\r\n7faeb8000000-7faeb8021000 rw-p 00000000 00:00 0 \r\n...\r\n7ffc3136a000-7ffc3136c000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\n## To Reproduce\r\nThe simplest code will do the trick : \r\n\r\n```\r\nif __name__ == '__main__':\r\n    for i in range(10):\r\n        file = os.path.join(\"../\", \"some_given_normal.pdf\")\r\n        with open(file, \"rb\") as filep:\r\n            content = filep.read()\r\n            with fitz.open(stream=content, filetype=\"pdf\") as doc:\r\n                for page in doc:\r\n                    pix = page.getPixmap(alpha=False, colorspace=\"rgb\")\r\n                    print(pix)\r\n```\r\n\r\nOn certain given PDFs, I have 100% crash before the 10th iteration (sometimes at the first). Manually calling gc.collect() will trigger the crash earlier sometimes. They are not heavyweight and not particularly malformed (I have no problem viewing them on any platform, reader, browser).\r\nI'm using one created by InDesign (macOS version), so it's not an exotic implementation either.\r\n\r\nUnfortunately, I can not share the sample file because it contains personal information that I am not allowed to disclose.\r\n\r\nBut I would be happy to hand it if there was a way to remove them permanently from the document (i do not know of any PDF editor that does this fail-proofly, e.g. not just masking the text by a solid box).\r\n\r\n## Expected behavior\r\nNo crash, of course.\r\n\r\n## Your configuration (mandatory)\r\n```\r\n3.5.2 (default, Apr 16 2020, 17:47:17) \r\n[GCC 5.4.0 20160609] \r\n linux \r\n \r\nPyMuPDF 1.17.2: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-06-20 07:00:22.\r\nBuilt for Python 3.5 on linux (64-bit).\r\n```\r\nInstalled from built package (setuptools' install_requires).\r\n\r\n## Additional information\r\nI encounter no issue when using other APIs on the same file, e.g. text extraction, image by image extraction (eg page.getImageList() / doc.getPixmap(xref)).\r\n\r\nSorry to report here if this is a bug from MuPDF itself, i'm not able to setup a test to check on that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/555", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/555/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/555/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/555/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/555", "id": 652462093, "node_id": "MDU6SXNzdWU2NTI0NjIwOTM=", "number": 555, "title": "split page ranges based on annotation info", "user": {"login": "ousia", "id": 203767, "node_id": "MDQ6VXNlcjIwMzc2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/203767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ousia", "html_url": "https://github.com/ousia", "followers_url": "https://api.github.com/users/ousia/followers", "following_url": "https://api.github.com/users/ousia/following{/other_user}", "gists_url": "https://api.github.com/users/ousia/gists{/gist_id}", "starred_url": "https://api.github.com/users/ousia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ousia/subscriptions", "organizations_url": "https://api.github.com/users/ousia/orgs", "repos_url": "https://api.github.com/users/ousia/repos", "events_url": "https://api.github.com/users/ousia/events{/privacy}", "received_events_url": "https://api.github.com/users/ousia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-07T16:33:50Z", "updated_at": "2020-07-21T17:47:56Z", "closed_at": "2020-07-15T14:37:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@JorjMcKie,\r\n\r\nI wonder whether it would be possible to write a script such as the one I\u2019m describing in PyMuPDF.\r\n\r\nRationale: I have a huge document (> 1100 pages [and growing]), that I need to be able to split in chapters and sections. (A sample document is attached [[ssample.pdf](https://github.com/pymupdf/PyMuPDF/files/4886127/ssample.pdf)].)\r\n\r\nI take for granted that PyMuPDF can read annotations. I mean, it can read all annotations in the whole document.\r\n\r\nI\u2019m attaching a PDF document that has a similar structure to the one I have to deal with.\r\n\r\n1. The relevant annotations are with subject `whatever`. There may be other annotations, but they should be ignored.\r\n\r\n1. Each annotation has the title with a key, such as `1.1-start` or `1.1-synopsis-stop`.\r\n\r\n1. There should be matching titles (in different annotations), such as `xxxx-start` and `xxxx-stop`.\r\n\r\n1. For these ones, I would like to have a new document `xxxx.pdf`, which contains the pages from `xxxx-start` to `xxxx-stop`.\r\n\r\n1. I would like that the new documents include the `/ViewerPreferences` dictionary from the original document.\r\n\r\n1. There may be unmatched annotations, such as an `abcde-start` that lacks the corresponding `abcde-stop`. These ones are to be ignored.\r\n\r\nWould it be possible to have a script that generates all required documents automatically?\r\n\r\nMany thanks for your help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/554", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/554/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/554/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/554/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/554", "id": 652273771, "node_id": "MDU6SXNzdWU2NTIyNzM3NzE=", "number": 554, "title": "save() API of \"Document\" is not giving error and file is also not saved", "user": {"login": "RajeshSeervi", "id": 49449022, "node_id": "MDQ6VXNlcjQ5NDQ5MDIy", "avatar_url": "https://avatars0.githubusercontent.com/u/49449022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RajeshSeervi", "html_url": "https://github.com/RajeshSeervi", "followers_url": "https://api.github.com/users/RajeshSeervi/followers", "following_url": "https://api.github.com/users/RajeshSeervi/following{/other_user}", "gists_url": "https://api.github.com/users/RajeshSeervi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RajeshSeervi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RajeshSeervi/subscriptions", "organizations_url": "https://api.github.com/users/RajeshSeervi/orgs", "repos_url": "https://api.github.com/users/RajeshSeervi/repos", "events_url": "https://api.github.com/users/RajeshSeervi/events{/privacy}", "received_events_url": "https://api.github.com/users/RajeshSeervi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2020-07-07T12:15:23Z", "updated_at": "2020-07-21T17:45:02Z", "closed_at": "2020-07-08T18:28:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI was checking example program to create a PDF.\r\nBut, program is not creating file and no error is returned.\r\nSeems like something is missing in my system or file is created on some other path (I searched and not found on my system).\r\n\r\nPlease help.\r\n\r\nSystem : Windows 10\r\n\r\nprogram : \r\n\r\n```python\r\nimport fitz\r\nimport calendar\r\nimport sys\r\nassert len(sys.argv) == 2, \"need start year as the one and only parameter\"\r\n\r\nstartyear = sys.argv[1]\r\nassert startyear.isdigit(), \"year must be positive numeric\"\r\nstartyear = int(startyear)\r\nassert startyear > 0, \"year must be positive numeric\"\r\n\r\ndoc = fitz.open()\r\ncal = calendar.LocaleTextCalendar(locale = \"en\")   # choose your locale\r\nw, h = fitz.PaperSize(\"a4-l\")                      # get sizes for A4 landscape paper\r\n\r\ntxt = cal.formatyear(startyear, m = 4)\r\ndoc.insertPage(-1, txt, fontsize = 12, fontname = \"Courier\", width = w, height = h)\r\n\r\ntxt = cal.formatyear(startyear + 1, m = 4)\r\ndoc.insertPage(-1, txt, fontsize = 12, fontname = \"Courier\", width = w, height = h)\r\n\r\ntxt = cal.formatyear(startyear + 2, m = 4)\r\ndoc.insertPage(-1, txt, fontsize = 12, fontname = \"Courier\", width = w, height = h)\r\n\r\ndoc.save(\"ZCalender.pdf\",garbage = 4, deflate = True)\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/553", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/553/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/553/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/553", "id": 651422182, "node_id": "MDU6SXNzdWU2NTE0MjIxODI=", "number": 553, "title": "What is the proper way to update the widget list in a page of the current document?", "user": {"login": "papafelice", "id": 20222908, "node_id": "MDQ6VXNlcjIwMjIyOTA4", "avatar_url": "https://avatars3.githubusercontent.com/u/20222908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papafelice", "html_url": "https://github.com/papafelice", "followers_url": "https://api.github.com/users/papafelice/followers", "following_url": "https://api.github.com/users/papafelice/following{/other_user}", "gists_url": "https://api.github.com/users/papafelice/gists{/gist_id}", "starred_url": "https://api.github.com/users/papafelice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papafelice/subscriptions", "organizations_url": "https://api.github.com/users/papafelice/orgs", "repos_url": "https://api.github.com/users/papafelice/repos", "events_url": "https://api.github.com/users/papafelice/events{/privacy}", "received_events_url": "https://api.github.com/users/papafelice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-07-06T10:17:39Z", "updated_at": "2020-07-21T17:46:12Z", "closed_at": "2020-07-06T11:23:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "When adding a new widget, it is not shown when iterating through all widgets. \r\n\r\n    import fitz         \r\n    doc = fitz.open()  \r\n    doc.insertPage(0)\r\n    page = doc[0]                         \r\n    rect = fitz.Rect(10, 10, 45, 20)\r\n\r\n    widget = fitz.Widget()\r\n    widget.rect = rect\r\n    widget.field_type = fitz.PDF_WIDGET_TYPE_TEXT\r\n    widget.field_name = \"Text1\"\r\n    widget.field_value = \"My Text\"\r\n    page.addWidget(widget)\r\n    print(\"Current Page Widgets:\")\r\n    for field in page.widgets():\r\n        print( field.xref)\r\n    doc.save(\"text.pdf\")\r\n    doc.close()\r\n    \r\n    doc = fitz.open(\"text.pdf\")  \r\n    page = doc[0]                         \r\n    print(\"Reloaded Page Widgets:\")\r\n    for field in page.widgets():\r\n        print( field.xref)\r\n    doc.close()\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/552", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/552/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/552/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/552/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/552", "id": 651290655, "node_id": "MDU6SXNzdWU2NTEyOTA2NTU=", "number": 552, "title": "page.getText for \"dict\" or \"rawdict\" with any flags returns only text blocks.", "user": {"login": "tanaskumar", "id": 17435445, "node_id": "MDQ6VXNlcjE3NDM1NDQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/17435445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tanaskumar", "html_url": "https://github.com/tanaskumar", "followers_url": "https://api.github.com/users/tanaskumar/followers", "following_url": "https://api.github.com/users/tanaskumar/following{/other_user}", "gists_url": "https://api.github.com/users/tanaskumar/gists{/gist_id}", "starred_url": "https://api.github.com/users/tanaskumar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tanaskumar/subscriptions", "organizations_url": "https://api.github.com/users/tanaskumar/orgs", "repos_url": "https://api.github.com/users/tanaskumar/repos", "events_url": "https://api.github.com/users/tanaskumar/events{/privacy}", "received_events_url": "https://api.github.com/users/tanaskumar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-06T06:42:42Z", "updated_at": "2020-07-21T17:47:17Z", "closed_at": "2020-07-06T08:00:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nPage 0 of pct_481288.pdf contain one embedded image, however page.getText(\"dict\",flags = fitz.TEXT_INHIBITS_SPACES) returns only the text blocks.\r\n\r\n## To Reproduce (mandatory)\r\n[pct_481288.pdf](https://github.com/pymupdf/PyMuPDF/files/4877113/pct_481288.pdf)\r\n\r\n```    \r\n    path   = './pct_481288.pdf'\r\n    doc    = fitz.open(path)\r\n    pg_0  = doc[0] \r\n\r\n    pg_dc = page.getText(\"dict\",flags = fitz.TEXT_INHIBIT_SPACES) # could be any flags\r\n\r\n    for blk in pg_dc[\"blocks\"]:\r\n         if blk[\"type\"] == 1:\r\n              print(blk)\r\n\r\n```\r\n\r\n## Expected behavior (optional)\r\n1 image block should be printed.\r\n\r\n## Your configuration (mandatory)\r\n[GCC 8.3.0] linux \r\nPyMuPDF 1.16.10: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2019-12-21 07:31:32.\r\nBuilt for Python 3.7 on linux (64-bit).\r\n\r\n## Additional context (optional)\r\nPossible indentation issue at line 465 and 466, causing the TEXT_PRESERVE_IMAGES line skipped when flags is not None.\r\nhttps://github.com/pymupdf/PyMuPDF/blob/4546862accd82f3b746578c2d8bab227229f6327/fitz/utils.py#L463-L466\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/551", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/551/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/551/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/551", "id": 651266133, "node_id": "MDU6SXNzdWU2NTEyNjYxMzM=", "number": 551, "title": "Conversion of .docx and .pptx to PyMuPDF object", "user": {"login": "imayachita", "id": 3615586, "node_id": "MDQ6VXNlcjM2MTU1ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3615586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imayachita", "html_url": "https://github.com/imayachita", "followers_url": "https://api.github.com/users/imayachita/followers", "following_url": "https://api.github.com/users/imayachita/following{/other_user}", "gists_url": "https://api.github.com/users/imayachita/gists{/gist_id}", "starred_url": "https://api.github.com/users/imayachita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imayachita/subscriptions", "organizations_url": "https://api.github.com/users/imayachita/orgs", "repos_url": "https://api.github.com/users/imayachita/repos", "events_url": "https://api.github.com/users/imayachita/events{/privacy}", "received_events_url": "https://api.github.com/users/imayachita/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-06T05:49:59Z", "updated_at": "2020-07-21T17:49:09Z", "closed_at": "2020-07-06T07:58:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\nThis might not be directly related to PyMuPDF itself, but I wonder if there is any other library or any way to convert .docx and .pptx files into PyMuPDF object (instead of saving them out to .pdf files) on Linux?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/550", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/550/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/550/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/550/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/550", "id": 651172088, "node_id": "MDU6SXNzdWU2NTExNzIwODg=", "number": 550, "title": "How to change the color of all links in one PDF", "user": {"login": "jiezhoujenny", "id": 17275074, "node_id": "MDQ6VXNlcjE3Mjc1MDc0", "avatar_url": "https://avatars0.githubusercontent.com/u/17275074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiezhoujenny", "html_url": "https://github.com/jiezhoujenny", "followers_url": "https://api.github.com/users/jiezhoujenny/followers", "following_url": "https://api.github.com/users/jiezhoujenny/following{/other_user}", "gists_url": "https://api.github.com/users/jiezhoujenny/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiezhoujenny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiezhoujenny/subscriptions", "organizations_url": "https://api.github.com/users/jiezhoujenny/orgs", "repos_url": "https://api.github.com/users/jiezhoujenny/repos", "events_url": "https://api.github.com/users/jiezhoujenny/events{/privacy}", "received_events_url": "https://api.github.com/users/jiezhoujenny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-06T00:03:47Z", "updated_at": "2020-07-21T17:50:29Z", "closed_at": "2020-07-07T20:59:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a PDF file that I need to change all the links' color from black to blue.\r\nTried link.setColors, seems doesn't work, can you please provide some sample code on this?\r\nI have code like:\r\n\r\n\r\nimport fitz\r\n\r\nred = (1, 0, 0)\r\nblue = (0, 0, 1)\r\ngold = (1, 1, 0)\r\ngreen = (0, 1, 0)\r\n\r\ndef setLinkColors():\r\n    doc = fitz.open(\"test.pdf\")\r\n    page = doc[0]  \r\n    ln = page.firstLink\r\n................ how to change color here?\r\n\r\nMany thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/549", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/549/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/549/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/549", "id": 651136693, "node_id": "MDU6SXNzdWU2NTExMzY2OTM=", "number": 549, "title": "TextWriter.fillTextBox: continuing with different font", "user": {"login": "jotaf98", "id": 8715778, "node_id": "MDQ6VXNlcjg3MTU3Nzg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8715778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jotaf98", "html_url": "https://github.com/jotaf98", "followers_url": "https://api.github.com/users/jotaf98/followers", "following_url": "https://api.github.com/users/jotaf98/following{/other_user}", "gists_url": "https://api.github.com/users/jotaf98/gists{/gist_id}", "starred_url": "https://api.github.com/users/jotaf98/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jotaf98/subscriptions", "organizations_url": "https://api.github.com/users/jotaf98/orgs", "repos_url": "https://api.github.com/users/jotaf98/repos", "events_url": "https://api.github.com/users/jotaf98/events{/privacy}", "received_events_url": "https://api.github.com/users/jotaf98/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-07-05T20:07:11Z", "updated_at": "2020-07-21T17:51:05Z", "closed_at": "2020-07-06T17:40:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nI'd like to use `TextWriter.fillTextBox` for its word-wrapping and aligning capabilities, but with different fonts (e.g. a bold word in the middle of the text).\r\n\r\n**Describe the solution you'd like**\r\nProbably the simplest would be to supply a start position to `TextWriter.fillTextBox` to allow chaining calls with different fonts, just like `TextWriter.append` supports a `pos` argument for the same reason.\r\n\r\n**Describe alternatives you've considered**\r\nSupplying multiple fonts to this function might work too, but it's not as flexible (e.g. for mixing graphics with text).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/548", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/548/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/548/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/548/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/548", "id": 650835427, "node_id": "MDU6SXNzdWU2NTA4MzU0Mjc=", "number": 548, "title": "API document missing the value for kind = LINK_NAMED", "user": {"login": "mozbugbox", "id": 1501849, "node_id": "MDQ6VXNlcjE1MDE4NDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1501849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mozbugbox", "html_url": "https://github.com/mozbugbox", "followers_url": "https://api.github.com/users/mozbugbox/followers", "following_url": "https://api.github.com/users/mozbugbox/following{/other_user}", "gists_url": "https://api.github.com/users/mozbugbox/gists{/gist_id}", "starred_url": "https://api.github.com/users/mozbugbox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mozbugbox/subscriptions", "organizations_url": "https://api.github.com/users/mozbugbox/orgs", "repos_url": "https://api.github.com/users/mozbugbox/repos", "events_url": "https://api.github.com/users/mozbugbox/events{/privacy}", "received_events_url": "https://api.github.com/users/mozbugbox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118596273, "node_id": "MDU6TGFiZWwxMTE4NTk2Mjcz", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/documentation%20bug", "name": "documentation bug", "color": "ce7650", "default": false, "description": ""}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-04T06:12:14Z", "updated_at": "2020-07-21T17:51:49Z", "closed_at": "2020-07-07T14:07:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The enum for `LINK_NAMED` was missing from the `dest.kind`:\r\n\r\nhttps://pymupdf.readthedocs.io/en/latest/vars/#linkdest-kinds\r\n\r\nIt seems that EPUB documents use `LINK_NAMED` in their ToC.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/547", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/547/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/547/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/547", "id": 650593467, "node_id": "MDU6SXNzdWU2NTA1OTM0Njc=", "number": 547, "title": "Extract all the pages as images ", "user": {"login": "RayFromUiS", "id": 33092188, "node_id": "MDQ6VXNlcjMzMDkyMTg4", "avatar_url": "https://avatars3.githubusercontent.com/u/33092188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RayFromUiS", "html_url": "https://github.com/RayFromUiS", "followers_url": "https://api.github.com/users/RayFromUiS/followers", "following_url": "https://api.github.com/users/RayFromUiS/following{/other_user}", "gists_url": "https://api.github.com/users/RayFromUiS/gists{/gist_id}", "starred_url": "https://api.github.com/users/RayFromUiS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RayFromUiS/subscriptions", "organizations_url": "https://api.github.com/users/RayFromUiS/orgs", "repos_url": "https://api.github.com/users/RayFromUiS/repos", "events_url": "https://api.github.com/users/RayFromUiS/events{/privacy}", "received_events_url": "https://api.github.com/users/RayFromUiS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-03T13:20:11Z", "updated_at": "2020-07-21T17:52:28Z", "closed_at": "2020-07-08T18:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have run pympudf on windows10 and macos, with python 3.6  aiming to extract images embeded with files.  The pdf file is  a OCR file scanned from a hard copy. Text is clearly selectedable and editable and also can be extract as pure text data. while i try to extract the images embeded within the pdf file, all the pages are returned from the running code as images.\r\n`doc = fitz.open(filename)\r\nprint(len(doc))  ##return pages\r\n\r\nfor i in range(len(doc)):\r\n    for img in doc.getPageImageList(i): \r\n        xref = img[0]\r\n        pix = fitz.Pixmap(doc,xref)\r\n        if pix.n < 5:\r\n            pix.writePNG(f'p{i}-{xref}.png')\r\n        else:\r\n            pix1 = fitz.Pixmap(doc,xref)\r\n            pix1.writePNG(f'p{i}-{xref}.png')\r\n            pix = None\r\n        pix = None\r\n`\r\ntotaly, there are 90 png files,basically, those are all the pages.\r\nMaybe i doing the wrong way to extract the images, or these pages all has xref, has anyone run into same problem and figured out.\r\nFinally, thanks for such great toolkit.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/546", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/546/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/546/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/546/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/546", "id": 650146107, "node_id": "MDU6SXNzdWU2NTAxNDYxMDc=", "number": 546, "title": "Size of pdf grows enourmously", "user": {"login": "kavin-1098", "id": 64865540, "node_id": "MDQ6VXNlcjY0ODY1NTQw", "avatar_url": "https://avatars1.githubusercontent.com/u/64865540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kavin-1098", "html_url": "https://github.com/kavin-1098", "followers_url": "https://api.github.com/users/kavin-1098/followers", "following_url": "https://api.github.com/users/kavin-1098/following{/other_user}", "gists_url": "https://api.github.com/users/kavin-1098/gists{/gist_id}", "starred_url": "https://api.github.com/users/kavin-1098/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kavin-1098/subscriptions", "organizations_url": "https://api.github.com/users/kavin-1098/orgs", "repos_url": "https://api.github.com/users/kavin-1098/repos", "events_url": "https://api.github.com/users/kavin-1098/events{/privacy}", "received_events_url": "https://api.github.com/users/kavin-1098/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 86, "created_at": "2020-07-02T19:05:27Z", "updated_at": "2020-07-21T17:53:27Z", "closed_at": "2020-07-18T12:11:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have requirement of creating a pdf from other pdf with specific pages alone\r\n\r\nThis is windows 10 . I am using python 3.7 and latest pymupdf version\r\n\r\nThe source pdf size is 51 MB .The output which i create from it is 700 Mb\r\n\r\ncluster_page_numbers is a list which has all the page numbers to be present in the output\r\n\r\nfor cluster_page_number in cluster_page_numbers:\r\n                    if cluster_page_number <= source_file_handle.pageCount:\r\n                        cluster_file_handle.insertPDF(source_file_handle, from_page=cluster_page_number - 1,\r\n                                                      to_page=cluster_page_number - 1)\r\n\r\nFinally save cluster_file_handle\r\n\r\nPlease assist on this", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/545", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/545/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/545/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/545/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/545", "id": 649794156, "node_id": "MDU6SXNzdWU2NDk3OTQxNTY=", "number": 545, "title": "Cannot set checkbox value to Yes", "user": {"login": "papafelice", "id": 20222908, "node_id": "MDQ6VXNlcjIwMjIyOTA4", "avatar_url": "https://avatars3.githubusercontent.com/u/20222908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papafelice", "html_url": "https://github.com/papafelice", "followers_url": "https://api.github.com/users/papafelice/followers", "following_url": "https://api.github.com/users/papafelice/following{/other_user}", "gists_url": "https://api.github.com/users/papafelice/gists{/gist_id}", "starred_url": "https://api.github.com/users/papafelice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papafelice/subscriptions", "organizations_url": "https://api.github.com/users/papafelice/orgs", "repos_url": "https://api.github.com/users/papafelice/repos", "events_url": "https://api.github.com/users/papafelice/events{/privacy}", "received_events_url": "https://api.github.com/users/papafelice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-02T09:46:56Z", "updated_at": "2020-07-21T17:53:53Z", "closed_at": "2020-07-15T15:06:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description of the bug\r\nGenerating or updating a checkbox widget always sets the value field to Off\r\n\r\n## Steps To Reproduce\r\nCode snippet:\r\n\r\n    import fitz         \r\n    doc = fitz.open()  \r\n    doc.insertPage(0)\r\n    page = doc[0]                         \r\n    \r\n    rect = fitz.Rect(10,  10, 15, 15)\r\n    \r\n    widget = fitz.Widget()\r\n    widget.rect = rect\r\n    widget.field_type = fitz.PDF_WIDGET_TYPE_CHECKBOX\r\n    widget.field_name = \"Check1\"\r\n    widget.field_value = \"Yes\"\r\n    widget.text_font = \"ZaDb\"\r\n    widget.text_fontsize = 0\r\n    page.addWidget(widget)\r\n    doc.save(\"check.pdf\")\r\n    doc.close() \r\n\r\nOpen the file with a PDF viewer of look at the generated PDF code, the /V tag is allways set to Off. Manually changing it to Yes, checks the box, however, the check mark is displayed as \"3\", i.e not with the Zapf Dingbats font.\r\n\r\n## Expected behavior\r\nThis should create a checked checkbox with the field value set to Yes\r\n\r\n## Configuration\r\n OS: Suse Tumblewheed Linux 5.7.5-1-default 64bit\r\n Python 3.8.3 64bit\r\n PyMuPDF version 1.17.2, installed with pip\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/544", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/544/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/544/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/544/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/544", "id": 648598312, "node_id": "MDU6SXNzdWU2NDg1OTgzMTI=", "number": 544, "title": "Termux build and install from source. ", "user": {"login": "sunshinewithmoonlight", "id": 30280439, "node_id": "MDQ6VXNlcjMwMjgwNDM5", "avatar_url": "https://avatars1.githubusercontent.com/u/30280439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunshinewithmoonlight", "html_url": "https://github.com/sunshinewithmoonlight", "followers_url": "https://api.github.com/users/sunshinewithmoonlight/followers", "following_url": "https://api.github.com/users/sunshinewithmoonlight/following{/other_user}", "gists_url": "https://api.github.com/users/sunshinewithmoonlight/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunshinewithmoonlight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunshinewithmoonlight/subscriptions", "organizations_url": "https://api.github.com/users/sunshinewithmoonlight/orgs", "repos_url": "https://api.github.com/users/sunshinewithmoonlight/repos", "events_url": "https://api.github.com/users/sunshinewithmoonlight/events{/privacy}", "received_events_url": "https://api.github.com/users/sunshinewithmoonlight/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-01T01:11:56Z", "updated_at": "2020-07-08T18:33:15Z", "closed_at": "2020-07-08T18:33:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Im trying to build it on my Android phone in the Termux  environment. Here is what I get:\r\n```\r\n$ ls   \r\nPKG-INFO  fitz  setup.py\r\n$ tree\r\n.\r\n\u251c\u2500\u2500 PKG-INFO\r\n\u251c\u2500\u2500 fitz\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __main__.py\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.cpython-38.pyc\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 fitz.cpython-38.pyc\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 fitz\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 archive.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 band-writer.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bidi.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 bitmap.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 buffer.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 color.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 compress.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 compressed-buffer.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 config.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 context.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 crypt.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 device.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 display-list.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 document.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 filter.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 font.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 geometry.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 getopt.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 glyph-cache.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 glyph.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 hash.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 image.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 link.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 log.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 outline.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 output-svg.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 output.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 path.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 pixmap.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 pool.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 separation.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 shade.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 store.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 stream.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 string-util.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 structured-text.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 system.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 text.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 track-usage.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 transition.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 tree.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 util.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 version.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 write-pixmap.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 writer.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 xml.h\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 fitz.h\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 fitz.py\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 fitz_wrap.c\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 memento.h\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pdf\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 annot.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 clean.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 cmap.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 crypt.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 document.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 event.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 font.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 form.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 interpret.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 javascript.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 name-table.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 object.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 output-pdf.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 page.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 parse.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 resource.h\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 xref.h\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 pdf.h\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ucdn.h\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils.py\r\n\u2514\u2500\u2500 setup.py\r\n```\r\nWhen I execute \"python setup.py install\" and try \"import fitz\" in python, the error occurs:\r\n```\r\nPython 3.8.3 (default, Jun 27 2020, 11:28:29) \r\n[Clang 8.0.7 (https://android.googlesource.com/toolchain/clang b55f2d4ebfd35bf6 on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import fitz\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/data/data/com.termux/files/usr/lib/python3.8/site-packages/fitz/__init__.py\", line 3, in <module>\r\n    from fitz.fitz import *\r\n  File \"/data/data/com.termux/files/usr/lib/python3.8/site-packages/fitz/fitz.py\", line 18, in <module>\r\n    from . import _fitz\r\nImportError: dlopen failed: \"/data/data/com.termux/files/usr/lib/python3.8/site-packages/fitz/_fitz.cpython-38.so\" has text relocations (https://android.googlesource.com/platform/bionic/+/master/android-changes-for-ndk-developers.md#Text-Relocations-Enforced-for-API-level-23)\r\n```\r\nWhat can I do during the build process?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/543", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/543/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/543/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/543/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/543", "id": 647969324, "node_id": "MDU6SXNzdWU2NDc5NjkzMjQ=", "number": 543, "title": "page.searchFor fails to find all words of sentence!", "user": {"login": "IbrahimGerbiqi", "id": 34714009, "node_id": "MDQ6VXNlcjM0NzE0MDA5", "avatar_url": "https://avatars3.githubusercontent.com/u/34714009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IbrahimGerbiqi", "html_url": "https://github.com/IbrahimGerbiqi", "followers_url": "https://api.github.com/users/IbrahimGerbiqi/followers", "following_url": "https://api.github.com/users/IbrahimGerbiqi/following{/other_user}", "gists_url": "https://api.github.com/users/IbrahimGerbiqi/gists{/gist_id}", "starred_url": "https://api.github.com/users/IbrahimGerbiqi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IbrahimGerbiqi/subscriptions", "organizations_url": "https://api.github.com/users/IbrahimGerbiqi/orgs", "repos_url": "https://api.github.com/users/IbrahimGerbiqi/repos", "events_url": "https://api.github.com/users/IbrahimGerbiqi/events{/privacy}", "received_events_url": "https://api.github.com/users/IbrahimGerbiqi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 15762665, "node_id": "MDU6TGFiZWwxNTc2MjY2NQ==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "not a bug / user error / unable to reproduce"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-30T08:18:10Z", "updated_at": "2020-06-30T10:01:39Z", "closed_at": "2020-06-30T09:07:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Describe the bug\r\nI'm using PyMuPdf for a while now and today while doing test cases with different pdf's I come to a cross something interesting \r\n\r\n## To Reproduce\r\nThe part where is search method looks like this\r\n\r\n`text_instances = page.searchFor(arrayToSearch[\"sentence\"])`\r\n\r\nOn searchFor I send sentences from a pile of the array which I need to search on pdf and when its found to add annotation but in some case, it fails to find the complete sentence and returns me incorrect co-ordinates \r\n\r\nsearchFor returns\r\n\r\n```\r\n[Rect(73.7998046875, 408.6886291503906, 149.90048217773438, 421.5201110839844),\r\n Rect(59.45964813232422, 419.12872314453125, 95.0076675415039, 431.4079284667969),\r\n Rect(97.38618469238281, 419.12872314453125, 123.79291534423828, 431.4079284667969),\r\n Rect(126.17143249511719, 419.12872314453125, 150.9746856689453, 431.4079284667969),\r\n Rect(153.35321044921875, 419.12872314453125, 161.76364135742188, 431.4079284667969),\r\n Rect(164.1421661376953, 419.12872314453125, 183.37557983398438, 431.4079284667969),\r\n Rect(185.7541046142578, 419.12872314453125, 198.752197265625, 431.4079284667969),\r\n Rect(201.13072204589844, 419.12872314453125, 230.04942321777344, 431.4079284667969),\r\n Rect(232.42794799804688, 419.12872314453125, 281.7758483886719, 431.4079284667969),\r\n Rect(284.15435791015625, 419.12872314453125, 293.6408386230469, 431.24071607969),\r\n Rect(296.0193481445P3125, 419.12872314453125, 309.560250468075,431.4079284667969),\r\n Rect(311.9390563964844, 419.12872314453125, 354.1900939941406, 431.4079284667969),\r\n Rect(356.5087585449219, 419.12872314453125, 387.9532775878906, 431.4079284667969),\r\n Rect(390.331787109375, 419.12872314453125, 403.3897705078125, 431.4079284667969),\r\n Rect(405.828125, 419.12872314453125, 441.9183349609375, 431.4079284667969),\r\n Rect(59.45964813232422, 429.748291015625, 92.99181365966797, 442.0274963378906)]\r\n```\r\nwhich is 16 in total and supposed to return 24\r\n\r\n## Screenshot\r\nHere is a screenshot from generated pdf with annotation with co-ordinates given from **searchFor**\r\n\r\n![image](https://user-images.githubusercontent.com/34714009/86099544-e7440e80-bab7-11ea-98a7-9c952ee2869f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/34714009/86100273-e95a9d00-bab8-11ea-9f2d-c8088fea2d8d.png)\r\n\r\n\r\n\r\n## Expected behavior\r\nOn both screenshots, the searchFor should find a sentence till the end and return co-ordinates for annotation.\r\n\r\n\r\n## Your configuration (mandatory)\r\n - **Operating system**: Windows 10 (64-bit)\r\n - **Python version**: Python 2.7 (32 bit)\r\n - **PyMuPDF version**: 1.16.18\r\n- **installation method**: wheel.\r\n\r\n## Additional context \r\nI tried adding hit_max=100 and it works but I'm not sure if it is the correct to fix.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/542", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/542/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/542/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/542/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/542", "id": 646769699, "node_id": "MDU6SXNzdWU2NDY3Njk2OTk=", "number": 542, "title": "Write Pixmap resolution to image files", "user": {"login": "allefeld", "id": 1738353, "node_id": "MDQ6VXNlcjE3MzgzNTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1738353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allefeld", "html_url": "https://github.com/allefeld", "followers_url": "https://api.github.com/users/allefeld/followers", "following_url": "https://api.github.com/users/allefeld/following{/other_user}", "gists_url": "https://api.github.com/users/allefeld/gists{/gist_id}", "starred_url": "https://api.github.com/users/allefeld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allefeld/subscriptions", "organizations_url": "https://api.github.com/users/allefeld/orgs", "repos_url": "https://api.github.com/users/allefeld/repos", "events_url": "https://api.github.com/users/allefeld/events{/privacy}", "received_events_url": "https://api.github.com/users/allefeld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 15762667, "node_id": "MDU6TGFiZWwxNTc2MjY2Nw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/wontfix", "name": "wontfix", "color": "000000", "default": true, "description": "no intention to resolve"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-27T21:30:19Z", "updated_at": "2020-06-28T21:28:23Z", "closed_at": "2020-06-27T22:15:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please provide a way to write the resolution of a `Pixmap` object to image files created from it.\r\n\r\n`Pixmap` has a method `setResolution`, albeit with the comment \r\n\r\n> This is just documentary information. In MuPDF, this will not have other implications and will not be written to images created from the pixmap.\r\n\r\nI request to change this behavior, so that the resolution is written to image files (which support it). As far as I can tell, this mainly applies to PNG files, i.e. `writeImage(filename, output='png')`, and `writePNG`.\r\n\r\nThis should also hold for data that is not written to a file, i.e. `getImageData('png')` and `getPNGData`.\r\n\r\nThis is important because generated images may be automatically included in documents, e.g. via LaTeX or in a Jupyter notebook, and this way the display size of the image can be controlled programmatically.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/541", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/541/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/541/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/541", "id": 646639856, "node_id": "MDU6SXNzdWU2NDY2Mzk4NTY=", "number": 541, "title": "Question / Comment: Size of generated images.", "user": {"login": "Gabriellavoura", "id": 15681084, "node_id": "MDQ6VXNlcjE1NjgxMDg0", "avatar_url": "https://avatars1.githubusercontent.com/u/15681084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gabriellavoura", "html_url": "https://github.com/Gabriellavoura", "followers_url": "https://api.github.com/users/Gabriellavoura/followers", "following_url": "https://api.github.com/users/Gabriellavoura/following{/other_user}", "gists_url": "https://api.github.com/users/Gabriellavoura/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gabriellavoura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gabriellavoura/subscriptions", "organizations_url": "https://api.github.com/users/Gabriellavoura/orgs", "repos_url": "https://api.github.com/users/Gabriellavoura/repos", "events_url": "https://api.github.com/users/Gabriellavoura/events{/privacy}", "received_events_url": "https://api.github.com/users/Gabriellavoura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-27T08:44:35Z", "updated_at": "2020-07-21T18:00:04Z", "closed_at": "2020-06-28T08:44:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I would like to know if it is expected when converting an A4 size PDF to PNG, the image is being generated as **596**x842, as the A4 standard is **595**x842.\r\n\r\nFor all tested resolutions, the width is 1 pixel larger.\r\n\r\n72 dpi = **596**x842\r\n96 dpi = **795** x 1123\r\n150 dpi = **1241** x 1754\r\n300 dpi = **2481** x 3508\r\n\r\nCode:\r\n\r\n``` Python\r\n# For creating 300 DPI resolution images using PyMuPDF\r\nDESIRED_INCREASE = 300/ 72\r\nmat = fitz.Matrix(DESIRED_INCREASE, DESIRED_INCREASE)\r\n\r\ndoc = fitz.open(pdf_path)\r\n    for page in doc:\r\n      pix = page.getPixmap(matrix=mat)\r\n      pix.writePNG(\"page-%i.png\" % page.number)\r\n```\r\n\r\nMy settings:\r\nWin10\r\nPython 3.8", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/540", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/540/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/540/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/540", "id": 646088376, "node_id": "MDU6SXNzdWU2NDYwODgzNzY=", "number": 540, "title": "RuntimeError when extracting text from EPUB", "user": {"login": "mush42", "id": 9974914, "node_id": "MDQ6VXNlcjk5NzQ5MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9974914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mush42", "html_url": "https://github.com/mush42", "followers_url": "https://api.github.com/users/mush42/followers", "following_url": "https://api.github.com/users/mush42/following{/other_user}", "gists_url": "https://api.github.com/users/mush42/gists{/gist_id}", "starred_url": "https://api.github.com/users/mush42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mush42/subscriptions", "organizations_url": "https://api.github.com/users/mush42/orgs", "repos_url": "https://api.github.com/users/mush42/repos", "events_url": "https://api.github.com/users/mush42/events{/privacy}", "received_events_url": "https://api.github.com/users/mush42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-26T08:06:48Z", "updated_at": "2020-07-21T18:00:35Z", "closed_at": "2020-07-07T14:08:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug\r\nWhen openning an EPUB document, PyMuPDF raises RuntimeError('Not a PDF') when attempting to extract text using any of the provided text extraction methods: document[n].getText and document.getPageText.\r\n\r\n## To Reproduce\r\n```python\r\nimport fitz\r\n\r\ndoc = fitz.open(\".\\\\foo.epub\")\r\ndoc[1].getText()\r\n```\r\n\r\nPyMuPDF raises RuntimeError with the following traceback:\r\n\r\n```python\r\nmupdf: not a PDF\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\DELL\\bookworm\\.venv64\\lib\\site-packages\\fitz\\utils.py\", line 468, in getText\r\n    tp = page.getTextPage(flags)  # TextPage with or without images\r\n  File \"C:\\Users\\DELL\\bookworm\\.venv64\\lib\\site-packages\\fitz\\fitz.py\", line 3716, in getTextPage\r\n    self.setRotation(0)\r\n  File \"C:\\Users\\DELL\\bookworm\\.venv64\\lib\\site-packages\\fitz\\fitz.py\", line 4274, in setRotation\r\n    return _fitz.Page_setRotation(self, rotation)\r\nRuntimeError: not a PDF\r\n```\r\n\r\n## Expected behavior\r\n`doc[n].getText()` should return the page's text.\r\n\r\n## Your configuration\r\n - Operating system: Windows 10Ver1903 (64-bit)\r\n - Python version: Python 3.8.3 (64-bit)\r\n - PyMuPDF version: latest version from PyPI (PyMuPDF v1.17.2).\r\n \r\n ```python\r\n >>> print(fitz.version)\r\n ('1.17.2', '1.17.0', '20200620070022')\r\n ```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/539", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/539/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/539/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/539/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/539", "id": 645809849, "node_id": "MDU6SXNzdWU2NDU4MDk4NDk=", "number": 539, "title": "Some links and images are broken in the Wiki", "user": {"login": "gabefair", "id": 2096785, "node_id": "MDQ6VXNlcjIwOTY3ODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2096785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gabefair", "html_url": "https://github.com/gabefair", "followers_url": "https://api.github.com/users/gabefair/followers", "following_url": "https://api.github.com/users/gabefair/following{/other_user}", "gists_url": "https://api.github.com/users/gabefair/gists{/gist_id}", "starred_url": "https://api.github.com/users/gabefair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gabefair/subscriptions", "organizations_url": "https://api.github.com/users/gabefair/orgs", "repos_url": "https://api.github.com/users/gabefair/repos", "events_url": "https://api.github.com/users/gabefair/events{/privacy}", "received_events_url": "https://api.github.com/users/gabefair/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118596273, "node_id": "MDU6TGFiZWwxMTE4NTk2Mjcz", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/documentation%20bug", "name": "documentation bug", "color": "ce7650", "default": false, "description": ""}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-25T19:48:32Z", "updated_at": "2020-07-21T18:01:04Z", "closed_at": "2020-06-25T20:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nOn this wiki page: https://github.com/pymupdf/PyMuPDF/wiki/GUI-scripts-to-display-a-PDF-using-wxPython-or-Tkinter\r\nThe first link goes to a repo that no longer exists. Also there is a broken image link near the bottom of the page.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/538", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/538/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/538/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/538/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/538", "id": 644816753, "node_id": "MDU6SXNzdWU2NDQ4MTY3NTM=", "number": 538, "title": "Python script stops while iterating over widgets  for multi-page pdf. Also update for widgets does not work. ", "user": {"login": "mgoliyad", "id": 55071054, "node_id": "MDQ6VXNlcjU1MDcxMDU0", "avatar_url": "https://avatars2.githubusercontent.com/u/55071054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgoliyad", "html_url": "https://github.com/mgoliyad", "followers_url": "https://api.github.com/users/mgoliyad/followers", "following_url": "https://api.github.com/users/mgoliyad/following{/other_user}", "gists_url": "https://api.github.com/users/mgoliyad/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgoliyad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgoliyad/subscriptions", "organizations_url": "https://api.github.com/users/mgoliyad/orgs", "repos_url": "https://api.github.com/users/mgoliyad/repos", "events_url": "https://api.github.com/users/mgoliyad/events{/privacy}", "received_events_url": "https://api.github.com/users/mgoliyad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-06-24T18:15:33Z", "updated_at": "2020-07-21T18:01:19Z", "closed_at": "2020-06-25T15:58:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am probably doing something wrong. I have 12 page pdf with many fields which I need to fill. \r\n\r\nIf I have this code then after processing first page with widgets script terminates.\r\n              for pageNum, page in enumerate(doc):\r\n                    for w in page.widgets():\r\n                        print(w.field_type_string, w.field_type, w.field_name)\r\n                        print(w.rect)\r\n                        print('val: ', w.field_value)\r\n\r\nIf I try to update \ud83d\udc4d \r\n\r\n                    for f in f_data.itertuples():\r\n                        try:\r\n                            d = data.loc[data['id'].str.contains(f.id, case=False,regex=False)].reset_index(drop=True)\r\n                        except:\r\n                            continue\r\n                        if len(d) > 0:\r\n                            print(d.loc[0,'value'])\r\n                                annot.value = d.loc[0,'value']\r\n                                annot.update()\r\n                   doc.save(new_file)\r\n\r\nNo changes are being saved to new_file.\r\n\r\nI am using PyMuPDF 17.1. on Windows with Py 3.7\r\nPlease let me know how to fix my code to be able to iterate over many widgets and save updates to new file.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/537", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/537/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/537/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/537", "id": 644656953, "node_id": "MDU6SXNzdWU2NDQ2NTY5NTM=", "number": 537, "title": "mupdf: exception stack overflow", "user": {"login": "dodoslav", "id": 1234787, "node_id": "MDQ6VXNlcjEyMzQ3ODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1234787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dodoslav", "html_url": "https://github.com/dodoslav", "followers_url": "https://api.github.com/users/dodoslav/followers", "following_url": "https://api.github.com/users/dodoslav/following{/other_user}", "gists_url": "https://api.github.com/users/dodoslav/gists{/gist_id}", "starred_url": "https://api.github.com/users/dodoslav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dodoslav/subscriptions", "organizations_url": "https://api.github.com/users/dodoslav/orgs", "repos_url": "https://api.github.com/users/dodoslav/repos", "events_url": "https://api.github.com/users/dodoslav/events{/privacy}", "received_events_url": "https://api.github.com/users/dodoslav/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-24T14:22:58Z", "updated_at": "2020-07-02T12:45:58Z", "closed_at": "2020-07-02T12:45:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nHi,\r\n\r\nI'm getting exception stack overflow issue. I think that issue is in some way same as this one: [352](https://github.com/pymupdf/PyMuPDF/issues/352)\r\n\r\nPlease could somebody take a look ?\r\n\r\n```\r\n import fitz\r\n pdf = fitz.open(file)\r\n new_doc = fitz.open()\r\n for pno in range(pdf.pageCount):\r\n   page = pdf.loadPage(pno)\r\n   page_pdf = fitz.open()\r\n   print(pno)\r\n   page_pdf.insertPDF(pdf, from_page=pno, to_page=pno)\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n0\r\nmupdf: exception stack overflow!\r\nmupdf: exception stack overflow!\r\nmupdf: exception stack overflow!\r\nmupdf: exception stack overflow!\r\nmupdf: exception stack overflow!\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 5, in <module>\r\n  File \"C:\\Us...rvice\\lib\\site-packages\\fitz\\fitz.py\"\r\n , line 3026, in insertPDF\r\n    val = _fitz.Document_insertPDF(self, docsrc, from_page, to_page, start_at, rotate, links, annots)\r\nRuntimeError: exception stack overflow!`\r\n```\r\n\r\nI read previously mentioned issue and I will at least provide output you wanted for that issue.\r\n\r\n``` \r\nprint(fitz.TOOLS.mupdf_warnings())\r\n```\r\nOutput: \r\n```\r\nexception stack overflow!\r\ncannot load object (998 0 R) into cache\r\nexception stack overflow!\r\nexception stack overflow!\r\ncannot load object (1000 0 R) into cache\r\nexception stack overflow!\r\nexception stack overflow!\r\n\r\n\r\nxrefcount = b._getXrefLength()\r\nfor xref in range(1, xrefcount):\r\n     s = doc._getXrefString(xref)\r\n     if \"/Type /Pages\" in s:\r\n         print(\"xref %i:\" % xref, s)\r\n```\r\nOutput:\r\n\r\n```\r\nxref 7793: <<\r\n  /Count 92\r\n  /Kids [ 7794 0 R 7800 0 R 7806 0 R ]\r\n  /Type /Pages\r\n>>\r\nxref 7794: <<\r\n  /Count 25\r\n  /Kids [ 7795 0 R 7796 0 R 7797 0 R 7798 0 R 7799 0 R ]\r\n  /Parent 7793 0 R\r\n  /Type /Pages\r\n>>\r\nxref 7795: <<\r\n  /Count 5\r\n  /Kids [ 7826 0 R 1 0 R 7 0 R 13 0 R 19 0 R ]\r\n  /Parent 7794 0 R\r\n  /Type /Pages\r\n>>\r\nxref 7796: <<\r\n  /Count 5\r\n  /Kids [ 25 0 R 31 0 R 37 0 R 43 0 R 49 0 R ]\r\n  /Parent 7794 0 R\r\n  /Type /Pages\r\n>>\r\nxref 7797: <<\r\n  /Count 5\r\n  /Kids [ 55 0 R 61 0 R 67 0 R 73 0 R 79 0 R ]\r\n  /Parent 7794 0 R\r\n  /Type /Pages\r\n>>\r\nxref 7798: <<\r\n  /Count 5\r\n  /Kids [ 85 0 R 96 0 R 102 0 R 108 0 R 114 0 R ]\r\n  /Parent 7794 0 R\r\n  /Type /Pages\r\n>>\r\nxref 7799: <<\r\n  /Count 5\r\n  /Kids [ 120 0 R 126 0 R 132 0 R 138 0 R 144 0 R ]\r\n  /Parent 7794 0 R\r\n  /Type /Pages\r\n>>\r\nxref 7800: <<\r\n  /Count 25\r\n  /Kids [ 7801 0 R 7802 0 R 7803 0 R 7804 0 R 7805 0 R ]\r\n  /Parent 7793 0 R\r\n  /Type /Pages\r\n>>\r\n```\r\n\r\nSeems to me like problem on the first page. So i'm providing xrefs for first 5 pages:\r\n```\r\nb = fitz.open()\r\nfor i in range (0, 5):\r\n     xref = doc[i].xref\r\n     print(\"page %i xref %i:\" % (i, xref))\r\n     print(b._getXrefString(xref))\r\n```\r\n```\r\npage 0 xref 7826:\r\nmupdf: xref out of range\r\n\r\npage 1 xref 1:\r\n<<\r\n  /Type /Catalog\r\n  /Pages 2 0 R\r\n>>\r\npage 2 xref 7:\r\nmupdf: xref out of range\r\n\r\npage 3 xref 13:\r\nmupdf: xref out of range\r\n\r\npage 4 xref 19:\r\nmupdf: xref out of range\r\n\r\n>>>\r\n```\r\n\r\n\r\n## To Reproduce (mandatory)\r\nI'm sorry, I cannot provide PDF which causing this issue. \r\n\r\n## Your configuration (mandatory)\r\n3.6.10 |Anaconda, Inc.| (default, Jan  7 2020, 15:18:16) [MSC v.1916 64 bit (AMD64)] \r\n win32 \r\nPyMuPDF 1.17.1: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-06-13 07:54:31.\r\nBuilt for Python 3.6 on win32 (64-bit).\r\n\r\n **- tried also with PyMuPDF version 1.16.1 and 1.16.10**\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/536", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/536/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/536/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/536/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/536", "id": 643899326, "node_id": "MDU6SXNzdWU2NDM4OTkzMjY=", "number": 536, "title": "Inserting text in wrong place over rotated pages", "user": {"login": "ricardonr", "id": 10520828, "node_id": "MDQ6VXNlcjEwNTIwODI4", "avatar_url": "https://avatars0.githubusercontent.com/u/10520828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ricardonr", "html_url": "https://github.com/ricardonr", "followers_url": "https://api.github.com/users/ricardonr/followers", "following_url": "https://api.github.com/users/ricardonr/following{/other_user}", "gists_url": "https://api.github.com/users/ricardonr/gists{/gist_id}", "starred_url": "https://api.github.com/users/ricardonr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ricardonr/subscriptions", "organizations_url": "https://api.github.com/users/ricardonr/orgs", "repos_url": "https://api.github.com/users/ricardonr/repos", "events_url": "https://api.github.com/users/ricardonr/events{/privacy}", "received_events_url": "https://api.github.com/users/ricardonr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-23T14:39:40Z", "updated_at": "2020-07-21T18:02:58Z", "closed_at": "2020-06-23T20:42:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Describe the bug:\r\nText is showing in wrong place and size when inserted over rotated pages using insertText() function.\r\n\r\n## To Reproduce\r\n[document.pdf](https://github.com/pymupdf/PyMuPDF/files/4820063/document.pdf)\r\n\r\n```\r\ndoc = fitz.open(\"document.pdf\")\r\ndoc_page = doc.loadPage(0)  #rotation = 270\r\ndoc_page.insertText((100,100) ,'test_100', fontsize=50)\r\ndoc_page.insertText((200,200) ,'test_200', fontsize=50)\r\ndoc_page.insertText((300,300) ,'test_300', fontsize=50)\r\ndoc.save('document_output.pdf')\r\n``` \r\n\r\n## Screenshots (optional)\r\n![image](https://user-images.githubusercontent.com/10520828/85417103-a3945680-b545-11ea-93ed-147a43096310.png)\r\n\r\n## My configuration: \r\nWin10, python 3.8.2_64, pyMuPdf 1.17.1\r\n\r\n3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)] \r\n win32\r\n\r\nPyMuPDF 1.17.1: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-06-13 07:54:31.\r\nBuilt for Python 3.8 on win32 (64-bit).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/535", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/535/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/535/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/535/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/535", "id": 643834146, "node_id": "MDU6SXNzdWU2NDM4MzQxNDY=", "number": 535, "title": "Change appearance of redaction annotation", "user": {"login": "martinevanschouwenburg", "id": 50655331, "node_id": "MDQ6VXNlcjUwNjU1MzMx", "avatar_url": "https://avatars3.githubusercontent.com/u/50655331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinevanschouwenburg", "html_url": "https://github.com/martinevanschouwenburg", "followers_url": "https://api.github.com/users/martinevanschouwenburg/followers", "following_url": "https://api.github.com/users/martinevanschouwenburg/following{/other_user}", "gists_url": "https://api.github.com/users/martinevanschouwenburg/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinevanschouwenburg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinevanschouwenburg/subscriptions", "organizations_url": "https://api.github.com/users/martinevanschouwenburg/orgs", "repos_url": "https://api.github.com/users/martinevanschouwenburg/repos", "events_url": "https://api.github.com/users/martinevanschouwenburg/events{/privacy}", "received_events_url": "https://api.github.com/users/martinevanschouwenburg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-06-23T13:17:24Z", "updated_at": "2020-07-21T18:03:19Z", "closed_at": "2020-06-24T11:15:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI have a question regarding the redaction annotations. \r\n\r\nIn current version the appearance of the redaction is hard coded such that it appears as a crossed-out transparent rectangle with red lines.\r\n\r\nWould it be possible to change the addRedactAnnot function such that you can include parameters that define the appearance of the markup. I was thinking for example 'stroke' to indicate the color of the border, 'width'  to indicate line width, and a parameter that indicates if would like the cross-out or not. I understand that this goes beyond the standard PDF features that are implemented for a redaction annotation. \r\n\r\nAlso, we would be happy to make the changes to the code ourselves and submit as a pull request if you are open to that. \r\n\r\nBest, \r\nMartine \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/534", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/534/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/534/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/534/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/534", "id": 642413845, "node_id": "MDU6SXNzdWU2NDI0MTM4NDU=", "number": 534, "title": "Cannot detect signature field? ", "user": {"login": "Arbitrage0", "id": 24595000, "node_id": "MDQ6VXNlcjI0NTk1MDAw", "avatar_url": "https://avatars2.githubusercontent.com/u/24595000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Arbitrage0", "html_url": "https://github.com/Arbitrage0", "followers_url": "https://api.github.com/users/Arbitrage0/followers", "following_url": "https://api.github.com/users/Arbitrage0/following{/other_user}", "gists_url": "https://api.github.com/users/Arbitrage0/gists{/gist_id}", "starred_url": "https://api.github.com/users/Arbitrage0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Arbitrage0/subscriptions", "organizations_url": "https://api.github.com/users/Arbitrage0/orgs", "repos_url": "https://api.github.com/users/Arbitrage0/repos", "events_url": "https://api.github.com/users/Arbitrage0/events{/privacy}", "received_events_url": "https://api.github.com/users/Arbitrage0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118596273, "node_id": "MDU6TGFiZWwxMTE4NTk2Mjcz", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/documentation%20bug", "name": "documentation bug", "color": "ce7650", "default": false, "description": ""}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-20T17:21:26Z", "updated_at": "2020-07-21T18:03:41Z", "closed_at": "2020-06-21T02:58:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a PDF which contains an unsigned signature field, but when I run `getSigFlags()` on the file it returns 0. The signature field was added via an API, and the sample PDF is available [here](https://docdro.id/5h5TOs4) (with signature field on the last page). \r\n\r\nOn another note, can images be added to PDFs with signature fields and be saved incrementally without losing the fields? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/533", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/533/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/533/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/533", "id": 642334453, "node_id": "MDU6SXNzdWU2NDIzMzQ0NTM=", "number": 533, "title": "keeping page ref after close leads to crashes in 1.17.1 (but not in 1.16.xx)", "user": {"login": "cbm755", "id": 818622, "node_id": "MDQ6VXNlcjgxODYyMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/818622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbm755", "html_url": "https://github.com/cbm755", "followers_url": "https://api.github.com/users/cbm755/followers", "following_url": "https://api.github.com/users/cbm755/following{/other_user}", "gists_url": "https://api.github.com/users/cbm755/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbm755/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbm755/subscriptions", "organizations_url": "https://api.github.com/users/cbm755/orgs", "repos_url": "https://api.github.com/users/cbm755/repos", "events_url": "https://api.github.com/users/cbm755/events{/privacy}", "received_events_url": "https://api.github.com/users/cbm755/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2020-06-20T08:19:52Z", "updated_at": "2020-07-21T18:04:56Z", "closed_at": "2020-06-24T16:38:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I take a page ref, then close the doc, I eventually (after repeating a couple times) I get:\r\n  * a zero-len doc\r\n  * crashes\r\nThis look related to #16.\r\n\r\n## To Reproduce\r\n\r\nConsider this code to crawls a directory of pdf files (their content seems unimportant).\r\n```\r\nfrom glob import glob\r\nimport fitz\r\n\r\nfor i, f in enumerate(glob(\"*.pdf\")):\r\n    print(\"i={}, file={}\".format(i, f))\r\n\r\n    doc = fitz.open(f)\r\n\r\n    print(\"  {} pages\".format(len(doc)))\r\n\r\n    front_page = doc[0]   # remove this line and no crash\r\n\r\n    doc.close()\r\n```\r\nI'm not sure if that is supposed to work or not but it reliably did work in 1.16.xx.  Even if its invalid it probably shouldn't be segfaulting!\r\n\r\n## \r\nSometimes I get crashes:\r\n```\r\ni=0, file=more4.pdf\r\n  20 pages\r\ni=1, file=more0.pdf\r\n  0 pages\r\nTraceback (most recent call last):\r\n  File \"foo.py\", line 12, in <module>\r\n    front_page = doc[0]   # remove this line and no crash\r\n  File \"/home/cbm/.local/lib/python3.8/site-packages/fitz/fitz.py\", line 3577, in __getitem__\r\n    raise IndexError(\"page not in document\")\r\nIndexError: page not in document\r\nfish: Job 2, \u201cpython foo.py\u201d terminated by signal SIGSEGV (Address boundary error)\r\n```\r\nother times just the IndexError (note: I'm using multiple copies of the same PDF file for this MWE).\r\n\r\n## Expected behavior\r\n\r\nI'm not sure but the MWE runs without error on 1.16.18.\r\n\r\n## configuration\r\n - Fedora 32\r\n```\r\n3.8.3 (default, May 15 2020, 00:00:00) \r\n[GCC 10.1.1 20200507 (Red Hat 10.1.1-1)] \r\n linux \r\n \r\nPyMuPDF 1.17.1: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-06-13 07:54:31.\r\nBuilt for Python 3.8 on linux (64-bit).\r\n```\r\n\r\n## other info\r\n\r\nDownstream issue: https://gitlab.com/plom/plom/-/issues/919", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/532", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/532/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/532/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/532", "id": 641988838, "node_id": "MDU6SXNzdWU2NDE5ODg4Mzg=", "number": 532, "title": "Different results in page.searchFor when upgrading from 1.16.18 to 1.17.1", "user": {"login": "xobed", "id": 8048197, "node_id": "MDQ6VXNlcjgwNDgxOTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8048197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xobed", "html_url": "https://github.com/xobed", "followers_url": "https://api.github.com/users/xobed/followers", "following_url": "https://api.github.com/users/xobed/following{/other_user}", "gists_url": "https://api.github.com/users/xobed/gists{/gist_id}", "starred_url": "https://api.github.com/users/xobed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xobed/subscriptions", "organizations_url": "https://api.github.com/users/xobed/orgs", "repos_url": "https://api.github.com/users/xobed/repos", "events_url": "https://api.github.com/users/xobed/events{/privacy}", "received_events_url": "https://api.github.com/users/xobed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-19T13:56:09Z", "updated_at": "2020-07-21T18:05:31Z", "closed_at": "2020-06-23T08:50:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug\r\npage.searchFor is returning different results when upgrading from `1.16.18` to `1.17.1`\r\n\r\n## To Reproduce\r\nUse [test.pdf](https://github.com/pymupdf/PyMuPDF/files/4804934/test.pdf) file\r\n\r\nCode to reproduce:\r\n```python\r\nfrom os.path import expanduser\r\n\r\nimport fitz\r\n\r\ndocument = fitz.Document(expanduser('~/Downloads/test1.pdf'))\r\npage: fitz.Page = document[0]\r\n\r\nrect = page.searchFor('BILLED QTY')\r\nprint(rect)\r\n```\r\n\r\nResult with `1.16.18`\r\n`[Rect(463.2997741699219, 157.32423400878906, 506.90350341796875, 164.17398071289062)]`\r\nThese coordinates are expected and match what I am seeing when I open the PDF in GIMP, switch to point coordinates and navigate to the 'BILLED QTY' part manually.\r\n\r\nSame code running with `1.17.1`\r\n`[Rect(157.32423400878906, 335.09649658203125, 164.17398071289062, 378.7002258300781)]`\r\n\r\n## Your configuration\r\n- OS X 10.14.6\r\n- python 3.7.7 (default, Mar 17 2020, 09:44:48) [Clang 11.0.0 (clang-1100.0.33.17)] \r\n- PyMuPDF 1.16.18: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2020-04-22 14:00:00.\r\nBuilt for Python 3.7 on darwin (64-bit).\r\n - PyMuPDF installed to virtual environment with `pip install PyMuPDF`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/531", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/531/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/531/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/531/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/531", "id": 641423673, "node_id": "MDU6SXNzdWU2NDE0MjM2NzM=", "number": 531, "title": "How would you determine a zoom factor for PDF files?", "user": {"login": "liamsuma", "id": 61469229, "node_id": "MDQ6VXNlcjYxNDY5MjI5", "avatar_url": "https://avatars0.githubusercontent.com/u/61469229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liamsuma", "html_url": "https://github.com/liamsuma", "followers_url": "https://api.github.com/users/liamsuma/followers", "following_url": "https://api.github.com/users/liamsuma/following{/other_user}", "gists_url": "https://api.github.com/users/liamsuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/liamsuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liamsuma/subscriptions", "organizations_url": "https://api.github.com/users/liamsuma/orgs", "repos_url": "https://api.github.com/users/liamsuma/repos", "events_url": "https://api.github.com/users/liamsuma/events{/privacy}", "received_events_url": "https://api.github.com/users/liamsuma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-06-18T17:28:13Z", "updated_at": "2020-07-21T18:06:30Z", "closed_at": "2020-06-18T19:46:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am currently working on an OCR project for bank statements and came across your package which surprisingly very handy. However, I read the documentation and couldn't figure out how you determine zoom factor. Is this randomly assigned to or is this something could be returned with an accurate number from the package? For example, \r\n\r\nzoom = 2 # zoom factor\r\nmat = fitz.Matrix(zoom, zoom) # x and y direction could be zoomed independently\r\npix = page.getPixmap(matrix = mat, alpha = False)\r\nThe resulting png in this case has 4 times more pixels per area\r\n\r\nThank you for your help", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/530", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/530/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/530/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/530", "id": 640390219, "node_id": "MDU6SXNzdWU2NDAzOTAyMTk=", "number": 530, "title": "Editing CMap / ToUnicode to achieve correct character mapping when extracting text", "user": {"login": "cakemaker7", "id": 67055227, "node_id": "MDQ6VXNlcjY3MDU1MjI3", "avatar_url": "https://avatars2.githubusercontent.com/u/67055227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cakemaker7", "html_url": "https://github.com/cakemaker7", "followers_url": "https://api.github.com/users/cakemaker7/followers", "following_url": "https://api.github.com/users/cakemaker7/following{/other_user}", "gists_url": "https://api.github.com/users/cakemaker7/gists{/gist_id}", "starred_url": "https://api.github.com/users/cakemaker7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cakemaker7/subscriptions", "organizations_url": "https://api.github.com/users/cakemaker7/orgs", "repos_url": "https://api.github.com/users/cakemaker7/repos", "events_url": "https://api.github.com/users/cakemaker7/events{/privacy}", "received_events_url": "https://api.github.com/users/cakemaker7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-06-17T12:08:34Z", "updated_at": "2020-07-23T16:12:24Z", "closed_at": "2020-07-23T16:12:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all thanks for developing and maintaining PyMuPDF. This is very helpful.\r\nI have the following problem: For some fonts in some PDFs some characters cannot be extracted correctly, because their CMap / ToUnicode doesn't make sense or is incomplete (see also https://github.com/pymupdf/PyMuPDF/issues/365).\r\n\r\nUsing the process shown in https://github.com/pymupdf/PyMuPDF/issues/365 I can extract the Mapping, but here comes the question: Assuming, I know the correct character mapping: Is there a way to edit the Character Mapping for the specific font in the PDF / Page object to correctly extract the text?\r\n\r\nFor some situations, this would be a much better solution than using OCR.\r\nAn alternative idea would be to somehow replace the respective characters (in the bytecode of the PDF?) before they are processed by MuPDF, which seems much more difficult.\r\n\r\nAny help is appreciated. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/529", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/529/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/529/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/529", "id": 638067743, "node_id": "MDU6SXNzdWU2MzgwNjc3NDM=", "number": 529, "title": "Segmentation fault :11 envoked processing big pdf file", "user": {"login": "jackie87", "id": 5192885, "node_id": "MDQ6VXNlcjUxOTI4ODU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5192885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackie87", "html_url": "https://github.com/jackie87", "followers_url": "https://api.github.com/users/jackie87/followers", "following_url": "https://api.github.com/users/jackie87/following{/other_user}", "gists_url": "https://api.github.com/users/jackie87/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackie87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackie87/subscriptions", "organizations_url": "https://api.github.com/users/jackie87/orgs", "repos_url": "https://api.github.com/users/jackie87/repos", "events_url": "https://api.github.com/users/jackie87/events{/privacy}", "received_events_url": "https://api.github.com/users/jackie87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762663, "node_id": "MDU6TGFiZWwxNTc2MjY2Mw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 2220500406, "node_id": "MDU6TGFiZWwyMjIwNTAwNDA2", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/resolved", "name": "resolved", "color": "00ff00", "default": false, "description": "fixed the bug / implemented the enhancement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-13T01:02:14Z", "updated_at": "2020-07-21T18:11:11Z", "closed_at": "2020-06-13T01:05:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nThanks for all the work, really useful package!\r\n\r\nI got a question:\r\nI keep getting segmentation fault 11 as I was trying to iterate through widgets on all pages of a file; and it also happens the the segmentation error always happens on the 5th (index 4) page. May I ask why is that? Here is my code:\r\n```\r\ndef function():\r\n    doc = fitz.open('something.pdf')\r\n    pageCount = doc.pageCount\r\n    for i in range(pageCount):\r\n        page = doc[i]\r\n        for field in page.widgets():\r\n            print(field.field_name)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/528", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/528/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/528/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/528/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/528", "id": 637789526, "node_id": "MDU6SXNzdWU2Mzc3ODk1MjY=", "number": 528, "title": "Annot.rect attribute in 1.17", "user": {"login": "farhan9545", "id": 33592452, "node_id": "MDQ6VXNlcjMzNTkyNDUy", "avatar_url": "https://avatars3.githubusercontent.com/u/33592452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farhan9545", "html_url": "https://github.com/farhan9545", "followers_url": "https://api.github.com/users/farhan9545/followers", "following_url": "https://api.github.com/users/farhan9545/following{/other_user}", "gists_url": "https://api.github.com/users/farhan9545/gists{/gist_id}", "starred_url": "https://api.github.com/users/farhan9545/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farhan9545/subscriptions", "organizations_url": "https://api.github.com/users/farhan9545/orgs", "repos_url": "https://api.github.com/users/farhan9545/repos", "events_url": "https://api.github.com/users/farhan9545/events{/privacy}", "received_events_url": "https://api.github.com/users/farhan9545/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-12T14:26:02Z", "updated_at": "2020-06-18T17:09:57Z", "closed_at": "2020-06-18T17:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "The rect attribute of annot class is giving wrong values. The values do not match with rect values of version 1.16.18. The values of 1.16.18 seems correct as they match with the values provided by pdf viewers such as foxit. \r\n\r\nThe implementation of annot class or atleast the method that calculates the rect should be reverted back to 1.16.18. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/527", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/527/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/527/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/527/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/527", "id": 637525141, "node_id": "MDU6SXNzdWU2Mzc1MjUxNDE=", "number": 527, "title": "Question / Comment: Any function that could return a text in given coordinates?", "user": {"login": "farhan9545", "id": 33592452, "node_id": "MDQ6VXNlcjMzNTkyNDUy", "avatar_url": "https://avatars3.githubusercontent.com/u/33592452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/farhan9545", "html_url": "https://github.com/farhan9545", "followers_url": "https://api.github.com/users/farhan9545/followers", "following_url": "https://api.github.com/users/farhan9545/following{/other_user}", "gists_url": "https://api.github.com/users/farhan9545/gists{/gist_id}", "starred_url": "https://api.github.com/users/farhan9545/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/farhan9545/subscriptions", "organizations_url": "https://api.github.com/users/farhan9545/orgs", "repos_url": "https://api.github.com/users/farhan9545/repos", "events_url": "https://api.github.com/users/farhan9545/events{/privacy}", "received_events_url": "https://api.github.com/users/farhan9545/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-12T06:45:40Z", "updated_at": "2020-06-18T17:10:20Z", "closed_at": "2020-06-18T17:10:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I have a block and I want to extract the text from that block, any function that returns the text, if I provide the coordinates?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/526", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/526/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/526/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/526", "id": 635519925, "node_id": "MDU6SXNzdWU2MzU1MTk5MjU=", "number": 526, "title": "Redaction selects to-be-deleted text differently in v1.17", "user": {"login": "FredIngwersen", "id": 18593710, "node_id": "MDQ6VXNlcjE4NTkzNzEw", "avatar_url": "https://avatars1.githubusercontent.com/u/18593710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FredIngwersen", "html_url": "https://github.com/FredIngwersen", "followers_url": "https://api.github.com/users/FredIngwersen/followers", "following_url": "https://api.github.com/users/FredIngwersen/following{/other_user}", "gists_url": "https://api.github.com/users/FredIngwersen/gists{/gist_id}", "starred_url": "https://api.github.com/users/FredIngwersen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FredIngwersen/subscriptions", "organizations_url": "https://api.github.com/users/FredIngwersen/orgs", "repos_url": "https://api.github.com/users/FredIngwersen/repos", "events_url": "https://api.github.com/users/FredIngwersen/events{/privacy}", "received_events_url": "https://api.github.com/users/FredIngwersen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762667, "node_id": "MDU6TGFiZWwxNTc2MjY2Nw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/wontfix", "name": "wontfix", "color": "000000", "default": true, "description": "no intention to resolve"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-09T15:07:35Z", "updated_at": "2020-06-11T10:24:48Z", "closed_at": "2020-06-11T07:56:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug\r\nWhen redacting a line with bold in a PDF file with docker, PyMuPDF removes the surrounding bold lines. This does not happen locally.\r\n\r\n**NOTE**\r\nWhile writing up this bug report, we found that the version 1.17 is the difference, which causes the problem.\r\n\r\n## To Reproduce\r\nI have made a script to replace the bold text in a given PDF file.\r\nThe file can be found at: https://sonderborgkommune.dk/sites/all/files/Forvaltninger/hoeringer/files/landzonetilladelse_til_etablering_af_soe_og_dispensation_til_oprensning_af_soe.pdf\r\n\r\n```python\r\nimport fitz\r\n\r\nfilepath = \"original.pdf\"\r\ndoc = fitz.open(filepath)\r\npage = doc[0]\r\n\r\nrect = fitz.Rect(\r\n    (63.86399841308594, 292.0328063964844, 403.9803466796875, 305.7477111816406)\r\n)\r\npage.addRedactAnnot(rect, text=\"test\")\r\ndoc.save(\"temp.pdf\")\r\npage.apply_redactions()\r\ndoc.save(\"test.pdf\")\r\n```\r\n\r\nWhen this code in run on our local machine it is processed as expected, but when the pdf is processed in our docker container (python:3.7) it removes all the bold lines. The addRedactAnnot identifies the correct rect which can be found in the temp.pdf file that is produced by the above script. \r\n\r\n## Screenshots (optional)\r\nTemporary pdf with annotation without them being applied\r\n![](https://i.ibb.co/F5RPVJz/Screenshot-2020-06-09-at-16-56-28.pnghttps://i.ibb.co/F5RPVJz/Screenshot-2020-06-09-at-16-56-28.png)\r\nProcessed pdf.\r\n![](https://i.ibb.co/RvLLk22/Screenshot-2020-06-09-at-16-56-21.png)\r\n\r\n## Your configuration (mandatory)\r\n**Local Machine**\r\n```\r\n3.7.7 (default, Mar 10 2020, 15:43:33)\r\n[Clang 11.0.0 (clang-1100.0.33.17)]\r\n darwin\r\n\r\nPyMuPDF 1.16.18: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2020-04-22 14:00:00.\r\nBuilt for Python 3.7 on darwin (64-bit).\r\n```\r\n**Docker**\r\n```\r\n3.7.7 (default, Apr 23 2020, 14:43:26)\r\n[GCC 8.3.0]\r\n linux\r\n\r\nPyMuPDF 1.17.0: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-05-13 20:05:13.\r\nBuilt for Python 3.7 on linux (64-bit).\r\n```\r\n\r\nBoth installed with pypi", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/525", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/525/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/525/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/525/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/525", "id": 632720199, "node_id": "MDU6SXNzdWU2MzI3MjAxOTk=", "number": 525, "title": "Ink Annotation vertices does not return vertices", "user": {"login": "PowerSnail", "id": 7428673, "node_id": "MDQ6VXNlcjc0Mjg2NzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7428673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PowerSnail", "html_url": "https://github.com/PowerSnail", "followers_url": "https://api.github.com/users/PowerSnail/followers", "following_url": "https://api.github.com/users/PowerSnail/following{/other_user}", "gists_url": "https://api.github.com/users/PowerSnail/gists{/gist_id}", "starred_url": "https://api.github.com/users/PowerSnail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PowerSnail/subscriptions", "organizations_url": "https://api.github.com/users/PowerSnail/orgs", "repos_url": "https://api.github.com/users/PowerSnail/repos", "events_url": "https://api.github.com/users/PowerSnail/events{/privacy}", "received_events_url": "https://api.github.com/users/PowerSnail/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-06T20:44:33Z", "updated_at": "2020-06-18T17:11:03Z", "closed_at": "2020-06-18T17:11:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\n\r\nWhen annotation type is `Ink`, `.vertices` return `[(0.0, 842.0)]`.\r\n\r\n## To Reproduce (mandatory)\r\n\r\n```python\r\nimport fitz\r\n\r\npdf = fitz.Document(filetype=\"pdf\")\r\npage = pdf.newPage()\r\npage.addInkAnnot([[(300,300), (400, 380), (350, 350)]])\r\nfor a in page.annots():\r\n    print(a.vertices)\r\npdf.save(\"test.pdf\")  # Check the output PDF that the annotation is correctly drawn\r\n```\r\n\r\nThe output is always `[(0.0, 842.0)]` regardless of what the input is.\r\n\r\n## Expected behavior (optional)\r\n\r\nPer description on the [documentation](https://pymupdf.readthedocs.io/en/latest/annot/#Annot.vertices), the vertices should be a list of list of points.\r\n\r\n## Your configuration (mandatory)\r\n\r\n```\r\n>>> print(sys.version, \"\\n\", sys.platform, \"\\n\", fitz.__doc__)\r\n\r\n3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:37:02) [MSC v.1924 64 bit (AMD64)] \r\n win32\r\n\r\nPyMuPDF 1.17.0: Python bindings for the MuPDF 1.17.0 library.\r\nVersion date: 2020-05-13 20:05:13.\r\nBuilt for Python 3.8 on win32 (64-bit).\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/524", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/524/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/524/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/524/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/524", "id": 630778171, "node_id": "MDU6SXNzdWU2MzA3NzgxNzE=", "number": 524, "title": "How to enable rotation of annotations", "user": {"login": "bjhowie", "id": 45848617, "node_id": "MDQ6VXNlcjQ1ODQ4NjE3", "avatar_url": "https://avatars3.githubusercontent.com/u/45848617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjhowie", "html_url": "https://github.com/bjhowie", "followers_url": "https://api.github.com/users/bjhowie/followers", "following_url": "https://api.github.com/users/bjhowie/following{/other_user}", "gists_url": "https://api.github.com/users/bjhowie/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjhowie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjhowie/subscriptions", "organizations_url": "https://api.github.com/users/bjhowie/orgs", "repos_url": "https://api.github.com/users/bjhowie/repos", "events_url": "https://api.github.com/users/bjhowie/events{/privacy}", "received_events_url": "https://api.github.com/users/bjhowie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-06-04T12:27:03Z", "updated_at": "2020-06-18T17:11:52Z", "closed_at": "2020-06-18T17:11:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a loop that iterates through each annotation on a page and calls a function which modifies both the object dictionary and appearance stream, as per the below example.\r\n```\r\nfor annot in page.annots():\r\n    if annot.type[0]==4:\r\n        annot.update()\r\n        rotate_rect_annot(annot,angle)\r\n```\r\nThe result is that the code gets stuck in an infinite loop, looping over the same annotations over and over. Modifying the object or appearance stream obviously messes with the page.annots() generator. Is there a way to avoid this?\r\n\r\nAnother thing that is unexpected is that unless i call annot.update() before calling my function, i get a MuPDF error when attempting to update the appearance stream \"xref not a stream object\".\r\n\r\nI'm using v1.16.18\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/523", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/523/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/523/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/523/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/523", "id": 629948801, "node_id": "MDU6SXNzdWU2Mjk5NDg4MDE=", "number": 523, "title": "Unable to use fitz with python 3.8", "user": {"login": "akjanik", "id": 8645948, "node_id": "MDQ6VXNlcjg2NDU5NDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8645948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akjanik", "html_url": "https://github.com/akjanik", "followers_url": "https://api.github.com/users/akjanik/followers", "following_url": "https://api.github.com/users/akjanik/following{/other_user}", "gists_url": "https://api.github.com/users/akjanik/gists{/gist_id}", "starred_url": "https://api.github.com/users/akjanik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akjanik/subscriptions", "organizations_url": "https://api.github.com/users/akjanik/orgs", "repos_url": "https://api.github.com/users/akjanik/repos", "events_url": "https://api.github.com/users/akjanik/events{/privacy}", "received_events_url": "https://api.github.com/users/akjanik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762665, "node_id": "MDU6TGFiZWwxNTc2MjY2NQ==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": "not a bug / user error / unable to reproduce"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-03T12:19:34Z", "updated_at": "2020-07-25T16:38:04Z", "closed_at": "2020-06-03T15:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nTrying to run python script that have `import fitz` cause an error if used with virtualenv with python 3.8.\r\n\r\n## To Reproduce (mandatory)\r\nCreate virtualenv using python 3.8.\r\n`pip install pymupdf`\r\nadd `import fitz` at the beginning of the file\r\nobserve stacktrace\r\n```\r\nTraceback (most recent call last):\r\n  File \"process.py\", line 80, in <module>\r\n    main()\r\n  File \"process.py\", line 56, in main\r\n    import fitz\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/fitz/__init__.py\", line 1, in <module>\r\n    from frontend import *\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/frontend/__init__.py\", line 1, in <module>\r\n    from .events import *\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/frontend/events/__init__.py\", line 1, in <module>\r\n    from .clipboard import *\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/frontend/events/clipboard.py\", line 2, in <module>\r\n    from ..dom import Event\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/frontend/dom.py\", line 439, in <module>\r\n    from . import dispatcher\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/frontend/dispatcher.py\", line 15, in <module>\r\n    from . import config, server\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/frontend/server.py\", line 24, in <module>\r\n    app.mount(config.STATIC_ROUTE, StaticFiles(directory=config.STATIC_DIRECTORY), name=config.STATIC_NAME)\r\n  File \"/home/adam/venvs/p3/lib/python3.8/site-packages/starlette/staticfiles.py\", line 55, in __init__\r\n    raise RuntimeError(f\"Directory '{directory}' does not exist\")\r\n```\r\n\r\n## Expected behavior (optional)\r\nIt should import library\r\n\r\n## Your configuration (mandatory)\r\n```\r\nprint(sys.version, \"\\n\", sys.platform, \"\\n\")                                                                                                                                               \r\n3.8.3 (default, May 17 2020, 18:15:42) \r\n[GCC 10.1.0] \r\n linux \r\n```\r\nI can't provide `fitz.__doc__` because importing does not work :)\r\n - PyMuPDF installed from pip\r\n\r\nFor example, the output of `print(sys.version, \"\\n\", sys.platform, \"\\n\", fitz.__doc__)` would be sufficient (for the first two bullets).\r\n\r\n## Additional context (optional)\r\nIt works with python 3.6 venv.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/522", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/522/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/522/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/522", "id": 629819109, "node_id": "MDU6SXNzdWU2Mjk4MTkxMDk=", "number": 522, "title": "Unable to install PyMuPDF 1.17 with MuPDF 1.17 (RHEL)", "user": {"login": "tao-pr", "id": 2756089, "node_id": "MDQ6VXNlcjI3NTYwODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2756089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tao-pr", "html_url": "https://github.com/tao-pr", "followers_url": "https://api.github.com/users/tao-pr/followers", "following_url": "https://api.github.com/users/tao-pr/following{/other_user}", "gists_url": "https://api.github.com/users/tao-pr/gists{/gist_id}", "starred_url": "https://api.github.com/users/tao-pr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tao-pr/subscriptions", "organizations_url": "https://api.github.com/users/tao-pr/orgs", "repos_url": "https://api.github.com/users/tao-pr/repos", "events_url": "https://api.github.com/users/tao-pr/events{/privacy}", "received_events_url": "https://api.github.com/users/tao-pr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-03T08:55:36Z", "updated_at": "2020-06-11T00:47:22Z", "closed_at": "2020-06-11T00:47:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nInstalling PyMuPDF 1.17 via PyPI on a RHEL which has MuPDF 1.17 properly installed fails with gcc link error.\r\n\r\n## To Reproduce (mandatory)\r\nSteps are\r\n- Install MuPDF 1.17 on RHEL from source\r\n\r\n```bash\r\nexport CFLAGS=\"-fPIC -std=gnu99\"\r\nmake HAVE_X11=no HAVE_GLUT=no prefix=/usr/local install\r\n```\r\n\r\n- Install PyMuPDF 1.17 via PyPI `pip3 install pymupdf`\r\n- Then it fails\r\n- NOTE: When switch to MuPDF 1.16 and install `pip3 install pymupdf==1.16.8`, everything works perfectly\r\n\r\n## Some excerpt of installation error\r\n```\r\nBuilding wheels for collected packages: pymupdf\r\n  Running setup.py bdist_wheel for pymupdf: started\r\n  Running setup.py bdist_wheel for pymupdf: finished with status 'error'\r\n  Complete output from command /usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-w0_obw\r\nxh/pymupdf/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exe\r\nc(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/tmp28e17d6_pip-wheel- --python-tag cp36:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.6\r\n  creating build/lib.linux-x86_64-3.6/fitz\r\n  copying fitz/__init__.py -> build/lib.linux-x86_64-3.6/fitz\r\n  copying fitz/fitz.py -> build/lib.linux-x86_64-3.6/fitz\r\n  copying fitz/utils.py -> build/lib.linux-x86_64-3.6/fitz\r\n  copying fitz/__main__.py -> build/lib.linux-x86_64-3.6/fitz\r\n  running build_ext\r\n  building 'fitz._fitz' extension\r\n  creating build/temp.linux-x86_64-3.6\r\n  creating build/temp.linux-x86_64-3.6/fitz\r\n  gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/usr/include/mupdf -I/usr/local/include/mupdf -I/usr/include/python3.6m -c fitz/fitz_wrap.c -o build/temp.linux-x86_64-3.6/fitz/fitz_wrap.o\r\n  fitz/fitz_wrap.c: In function 'JM_get_fontbuffer':\r\n  fitz/fitz_wrap.c:4026:11: warning: variable 'ext' set but not used [-Wunused-but-set-variable]\r\n       char *ext = NULL;\r\n             ^\r\n  fitz/fitz_wrap.c: In function 'JM_invert_pixmap_rect':\r\n  fitz/fitz_wrap.c:4437:19: warning: operation on 's' may be undefined [-Wsequence-point]\r\n                   *s++ = 255 - *s;\r\n                     ^\r\n  fitz/fitz_wrap.c:4438:30: warning: value computed is not used [-Wunused-value]\r\n               if (dest->alpha) *s++;\r\n\r\n\r\n...\r\n...\r\n...\r\n\r\ngcc -pthread -shared -Wl,-z,relro -g build/temp.linux-x86_64-3.6/fitz/fitz_wrap.o -L/usr/lib64 -lmupdf -lmupdf-third -lpython3.6m -o build/lib.linux-x86_64-3.6/fitz/_fitz.cpython-36m-x86_64-linux-gnu.so\r\n  /usr/bin/ld: //usr/local/lib/libmupdf.a(buffer.o): relocation R_X86_64_32 against `.rodata.str1.8' can not be used when making a shared object; recompile with -fPIC\r\n\r\n...\r\n...\r\n...\r\n\r\n/usr/bin/ld: //usr/local/lib/libmupdf-third.a(mqc.o): relocation R_X86_64_32S against `.rodata.mqc_states' can not be used when making a shared object; recompile with -fPIC\r\n    /usr/bin/ld: //usr/local/lib/libmupdf.a(pdf-stream.o): relocation R_X86_64_PC32 against symbol `pdf_xref_len' can not be used when making a shared object; recompile with -fPIC\r\n    /usr/bin/ld: final link failed: Bad value\r\n    collect2: error: ld returned 1 exit status\r\n    error: command 'gcc' failed with exit status 1\r\n\r\n    ----------------------------------------\r\n```\r\n\r\n## Your configuration (mandatory)\r\n - Red Hat Enterprise Linux Server release 7.8 (Maipo)\r\n - Python 3.6.8\r\n - MuPDF 1.17\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/521", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/521/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/521/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/521", "id": 629757568, "node_id": "MDU6SXNzdWU2Mjk3NTc1Njg=", "number": 521, "title": "commercial use of pymupdf", "user": {"login": "canedha", "id": 66054127, "node_id": "MDQ6VXNlcjY2MDU0MTI3", "avatar_url": "https://avatars1.githubusercontent.com/u/66054127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/canedha", "html_url": "https://github.com/canedha", "followers_url": "https://api.github.com/users/canedha/followers", "following_url": "https://api.github.com/users/canedha/following{/other_user}", "gists_url": "https://api.github.com/users/canedha/gists{/gist_id}", "starred_url": "https://api.github.com/users/canedha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/canedha/subscriptions", "organizations_url": "https://api.github.com/users/canedha/orgs", "repos_url": "https://api.github.com/users/canedha/repos", "events_url": "https://api.github.com/users/canedha/events{/privacy}", "received_events_url": "https://api.github.com/users/canedha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-06-03T07:22:30Z", "updated_at": "2020-06-03T08:39:53Z", "closed_at": "2020-06-03T08:39:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "pymupdf is licensed under gpl_v3, doesn't this mean if one uses your library in a commercial product this would automatically be under gpl_v3 as well (and the source code would need to be made available for customers)?\r\nor can your library be used !unmodified! in a commercial product with a gpl-incompatible license type? \r\nfor mupdf a commercial license would be necessary for sure. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/520", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/520/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/520/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/520", "id": 626560756, "node_id": "MDU6SXNzdWU2MjY1NjA3NTY=", "number": 520, "title": "page.widgets() generator SegFault 11", "user": {"login": "dgallitelli", "id": 9881522, "node_id": "MDQ6VXNlcjk4ODE1MjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/9881522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgallitelli", "html_url": "https://github.com/dgallitelli", "followers_url": "https://api.github.com/users/dgallitelli/followers", "following_url": "https://api.github.com/users/dgallitelli/following{/other_user}", "gists_url": "https://api.github.com/users/dgallitelli/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgallitelli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgallitelli/subscriptions", "organizations_url": "https://api.github.com/users/dgallitelli/orgs", "repos_url": "https://api.github.com/users/dgallitelli/repos", "events_url": "https://api.github.com/users/dgallitelli/events{/privacy}", "received_events_url": "https://api.github.com/users/dgallitelli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-05-28T14:31:28Z", "updated_at": "2020-06-18T17:13:17Z", "closed_at": "2020-06-18T17:13:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nWhile iterating on the widgets, obtained via the `page.widgets()` generator, a Segmentation Fault error is generated. When trying to access the second widget, after doing whatever operation is expected on the widget, it generates a SegFault.\r\n\r\n## To Reproduce (mandatory)\r\n```python\r\nimport fitz\r\ndoc = fitz.Document(<anypdf>)\r\nfor page in doc:\r\n    for w in page.widgets():\r\n        print(w.field_value)\r\n        # Note if using (break) here, no Seg Fault is caused. \r\n```\r\n\r\n## Expected behavior (optional)\r\nNo Seg Fault\r\n\r\n## Screenshots (optional)\r\nN/A\r\n\r\n## Your configuration (mandatory)\r\n - MacOS 10.14.6\r\n - Python 3.7.3, same thing on Python 3.8 and on AWS Lambda (using a Layer on both p37 and p38)\r\n - PyMuPDF version: 1.17 from `pip`\r\n\r\nFor example, the output of `print(sys.version, \"\\n\", sys.platform, \"\\n\", fitz.__doc__)` would be sufficient (for the first two bullets).\r\n\r\n## Additional context (optional)\r\nThis behaviour does not happen on PyMuPDF 1.16.9, while still happens on 1.16.8\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/518", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/518/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/518/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/518", "id": 625051213, "node_id": "MDU6SXNzdWU2MjUwNTEyMTM=", "number": 518, "title": "Wheels missing for 1.17 release", "user": {"login": "wohali", "id": 112292, "node_id": "MDQ6VXNlcjExMjI5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/112292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wohali", "html_url": "https://github.com/wohali", "followers_url": "https://api.github.com/users/wohali/followers", "following_url": "https://api.github.com/users/wohali/following{/other_user}", "gists_url": "https://api.github.com/users/wohali/gists{/gist_id}", "starred_url": "https://api.github.com/users/wohali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wohali/subscriptions", "organizations_url": "https://api.github.com/users/wohali/orgs", "repos_url": "https://api.github.com/users/wohali/repos", "events_url": "https://api.github.com/users/wohali/events{/privacy}", "received_events_url": "https://api.github.com/users/wohali/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-05-26T17:21:41Z", "updated_at": "2020-05-26T19:52:15Z", "closed_at": "2020-05-26T19:00:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nThere's published wheels for 1.16.18, but not for 1.17. The release has been out for 7 days without binaries.\r\n\r\n## To Reproduce (mandatory)\r\n`pip install pymupdf` on a system without C/C++compliation support.\r\n\r\n## Your configuration (mandatory)\r\n - All OSes I tried\r\n - Python 3.6-3.8\r\n - Only 1.17, 1.16.18 has wheels\r\n\r\n## Additional context (optional)\r\nOccasionally I've had problems getting the wheels in the past. This is compounded by tools like GitHub dependabot, which generate PRs to bump dependencies as soon as new versions are detected.\r\n\r\nIs it possible to gate pushing the new version to pypi until the wheels are available?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/517", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/517/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/517/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/517/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/517", "id": 624265623, "node_id": "MDU6SXNzdWU2MjQyNjU2MjM=", "number": 517, "title": "Missing info (neither image nor text) for some PDFs", "user": {"login": "cyga", "id": 410988, "node_id": "MDQ6VXNlcjQxMDk4OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/410988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyga", "html_url": "https://github.com/cyga", "followers_url": "https://api.github.com/users/cyga/followers", "following_url": "https://api.github.com/users/cyga/following{/other_user}", "gists_url": "https://api.github.com/users/cyga/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyga/subscriptions", "organizations_url": "https://api.github.com/users/cyga/orgs", "repos_url": "https://api.github.com/users/cyga/repos", "events_url": "https://api.github.com/users/cyga/events{/privacy}", "received_events_url": "https://api.github.com/users/cyga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-25T12:20:25Z", "updated_at": "2020-05-25T15:31:00Z", "closed_at": "2020-05-25T12:48:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\n\r\nWhen I try to read text of some PDFs I can't find information I can clearly see in PDF viewer programs.\r\n\r\nI tried to check both text and images related functionality.\r\n\r\n## To Reproduce (mandatory)\r\n\r\nI use following code to check text / images:\r\n\r\n```python\r\nimport fitz\r\nfrom IPython.display import Image\r\n\r\npdf = fitz.open('../tmp/missing-info.pdf')\r\npage = pdf[0]\r\nd = page.getText('dict')\r\ntl = []\r\nfor block in d['blocks']:\r\n    if 0 == block['type']:\r\n        for line in block['lines']:\r\n            for span in line['spans']:\r\n                tl.append(span['text'])\r\n    else:\r\n        Image(data=block['image']) \r\nprint(tl)\r\n```\r\n\r\nIt works well for the most of my files, but not for some. For instance following one gives nothing: \r\nhttps://www.dropbox.com/s/scqmcwhhfivi9gn/missing-info.pdf?dl=0\r\n\r\nAnd following shows only one text chunk:\r\nhttps://www.dropbox.com/s/b7nx0g6m37uex1b/missing-info2.pdf?dl=0\r\n\r\nI also tried following methods:\r\n* `Document.getPageImageList()`\r\n* `Document.getPageXObjectList()`\r\n* iterate over `page.widgets()`\r\n* iterate over `page.annots()`\r\n\r\nAll return nothing.\r\n\r\nInterestingly, `Document.getPagePixmap()` returns proper image with information.\r\n\r\nLooks like some info hasn't been parsed.\r\n\r\n## Expected behavior (optional)\r\n\r\nEither text or images were returned for the document. Though, I suspect it can be some other type of data. Anyway, I'd like to have a way to check it.\r\n\r\n## Your configuration (mandatory)\r\n\r\n```\r\n3.5.2 (default, Nov 23 2017, 16:37:01) \r\n[GCC 5.4.0 20160609] \r\n linux \r\n \r\nPyMuPDF 1.16.18: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2020-04-22 14:00:00.\r\nBuilt for Python 3.5 on linux (64-bit).\r\n```\r\n\r\nInstalled using wheel:\r\nPyMuPDF-1.16.18-cp35-cp35m-manylinux2010_x86_64.whl", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/516", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/516/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/516/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/516/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/516", "id": 623773127, "node_id": "MDU6SXNzdWU2MjM3NzMxMjc=", "number": 516, "title": "Excessive paragraph marks in one line", "user": {"login": "fredshu", "id": 30198767, "node_id": "MDQ6VXNlcjMwMTk4NzY3", "avatar_url": "https://avatars3.githubusercontent.com/u/30198767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredshu", "html_url": "https://github.com/fredshu", "followers_url": "https://api.github.com/users/fredshu/followers", "following_url": "https://api.github.com/users/fredshu/following{/other_user}", "gists_url": "https://api.github.com/users/fredshu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredshu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredshu/subscriptions", "organizations_url": "https://api.github.com/users/fredshu/orgs", "repos_url": "https://api.github.com/users/fredshu/repos", "events_url": "https://api.github.com/users/fredshu/events{/privacy}", "received_events_url": "https://api.github.com/users/fredshu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-24T01:21:47Z", "updated_at": "2020-05-24T16:15:05Z", "closed_at": "2020-05-24T16:15:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am getting lots of paragraph marks after doing page.getText() on the 1st page of the attachment. The issue happens in 7th, 8th and 9th lines of the text (after 6 lines of tiles/subtitles):\r\n\r\nDE\\nR$\\n170.000.000,00\\nPARA\\nR$\\n196.832.000,00,\\nMEDIANTE\\nSUBSCRI\u00c7\u00c3O\\nPARTICULAR\\nDO\\nMONTANTE\\nTOTAL\\nDE\\nR$\\n26.832.000,00,\\nCORRESPONDENTE\\nA\\n1.200.100\\nNOVAS\\nA\u00c7\u00d5ES\\nORDIN\u00c1RIAS\\nNOMINATIVAS,\\nNAS\\nSEGUINTES\\nCONDI\u00c7\u00d5ES:\\nA)\\nO\\nVALOR\\nDE\\n\r\n\r\nAs you can see, there is a paragraph mark after nearly every word. I am trying to use PyMuPDF to segment sentences and identify titles/subtitles.\r\nFirst time writing at GitHub, sorry for any missing information.\r\n[0000940426945.pdf](https://github.com/pymupdf/PyMuPDF/files/4672783/0000940426945.pdf)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/515", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/515/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/515/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/515/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/515", "id": 623468964, "node_id": "MDU6SXNzdWU2MjM0Njg5NjQ=", "number": 515, "title": "Question / Comment: underline, strike-out and highlights that are not annotations", "user": {"login": "joctaTorres", "id": 27794356, "node_id": "MDQ6VXNlcjI3Nzk0MzU2", "avatar_url": "https://avatars2.githubusercontent.com/u/27794356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joctaTorres", "html_url": "https://github.com/joctaTorres", "followers_url": "https://api.github.com/users/joctaTorres/followers", "following_url": "https://api.github.com/users/joctaTorres/following{/other_user}", "gists_url": "https://api.github.com/users/joctaTorres/gists{/gist_id}", "starred_url": "https://api.github.com/users/joctaTorres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joctaTorres/subscriptions", "organizations_url": "https://api.github.com/users/joctaTorres/orgs", "repos_url": "https://api.github.com/users/joctaTorres/repos", "events_url": "https://api.github.com/users/joctaTorres/events{/privacy}", "received_events_url": "https://api.github.com/users/joctaTorres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-05-22T20:50:06Z", "updated_at": "2020-06-03T09:10:40Z", "closed_at": "2020-06-03T09:10:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\n[In this pdf](https://github.com/pymupdf/PyMuPDF/files/4670275/styled_text.pdf) is it possible to identify the texts that are underlined, strikethrough, and highlight?\r\n\r\n![image](https://user-images.githubusercontent.com/27794356/82707919-6b9ea880-9c53-11ea-9b61-2aa1add6adfd.png)\r\n\r\nUsing `page.annots()` doesn't work, because they are not annotations, the PDF was saved with theses.\r\nIs there a way to get those texts?\r\n\r\n(I am using `PyMuPDF 1.17.0`)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/514", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/514/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/514/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/514/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/514", "id": 622593358, "node_id": "MDU6SXNzdWU2MjI1OTMzNTg=", "number": 514, "title": "fit.Rect.contains does not work properly on line-degenerated rect", "user": {"login": "maffei2443", "id": 19755960, "node_id": "MDQ6VXNlcjE5NzU1OTYw", "avatar_url": "https://avatars2.githubusercontent.com/u/19755960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maffei2443", "html_url": "https://github.com/maffei2443", "followers_url": "https://api.github.com/users/maffei2443/followers", "following_url": "https://api.github.com/users/maffei2443/following{/other_user}", "gists_url": "https://api.github.com/users/maffei2443/gists{/gist_id}", "starred_url": "https://api.github.com/users/maffei2443/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maffei2443/subscriptions", "organizations_url": "https://api.github.com/users/maffei2443/orgs", "repos_url": "https://api.github.com/users/maffei2443/repos", "events_url": "https://api.github.com/users/maffei2443/events{/privacy}", "received_events_url": "https://api.github.com/users/maffei2443/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-05-21T15:41:49Z", "updated_at": "2020-05-21T20:36:24Z", "closed_at": "2020-05-21T20:36:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nThe bug: when a rect is degenerated to a line, **fitz.Rect.contains** seems to always return **True**. I was expecting to get a _True_ ony if the whole line was inside the rec.\r\n\r\n\r\n## To Reproduce (mandatory)\r\n```python\r\nimport fitz\r\nr = fitz.Rect(0,0, 605, 810)         \r\n# False is expected\r\nprint(r.contains((0, 0, 0, 100000)))\r\n# False is expected\r\nprint(r.contains((10000, 0, 0, 0)))\r\n# False is expected\r\nprint(r.contains((5, 5, 5, 10000)) )\r\n```\r\n\r\n## Your configuration (mandatory)\r\n - Xubuntu 18.04 LTS, potentially version and bitness\r\n - Python 3.8.1 \r\n - PyMuPDF version: 1.16.18, wheel\r\n\r\n## Additional context (optional)\r\nI checked the **fitz.py** file and identified why that happens. It is caused by line **1437**:\r\n\r\n```python\r\nif xr.isEmpty: return True\r\n```\r\n\r\nThe __contain__ method which is called under the hood:\r\n```python\r\n    def __contains__(self, x):\r\n        if hasattr(x, \"__float__\"):\r\n            return x in tuple(self)\r\n        l = len(x)\r\n        r = Rect(self).normalize()\r\n        if l == 4:\r\n            if r.isEmpty: return False\r\n            xr = Rect(x).normalize()\r\n            if xr.isEmpty: return True\r\n            if r.x0 <= xr.x0 and r.y0 <= xr.y0 and \\\r\n               r.x1 >= xr.x1 and r.y1 >= xr.y1:\r\n               return True\r\n            return False\r\n        if l == 2:\r\n            if r.x0 <= x[0] <= r.x1 and \\\r\n               r.y0 <= x[1] <= r.y1:\r\n               return True\r\n            return False\r\n        return False\r\n\r\n```\r\n\r\nThe point is: shouldn't this behavior be documented? The **fitz.Rect.contains** method is:\r\n\r\n```python\r\n    def contains(self, x):\r\n        \"\"\"Check if containing a point-like or rect-like x.\"\"\"\r\n        return self.__contains__(x)\r\n```\r\nMaybe this is a documentation bug or a corner case?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/513", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/513/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/513/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/513", "id": 622128094, "node_id": "MDU6SXNzdWU2MjIxMjgwOTQ=", "number": 513, "title": "Question / Comment: ImageBlock not detected", "user": {"login": "joctaTorres", "id": 27794356, "node_id": "MDQ6VXNlcjI3Nzk0MzU2", "avatar_url": "https://avatars2.githubusercontent.com/u/27794356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joctaTorres", "html_url": "https://github.com/joctaTorres", "followers_url": "https://api.github.com/users/joctaTorres/followers", "following_url": "https://api.github.com/users/joctaTorres/following{/other_user}", "gists_url": "https://api.github.com/users/joctaTorres/gists{/gist_id}", "starred_url": "https://api.github.com/users/joctaTorres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joctaTorres/subscriptions", "organizations_url": "https://api.github.com/users/joctaTorres/orgs", "repos_url": "https://api.github.com/users/joctaTorres/repos", "events_url": "https://api.github.com/users/joctaTorres/events{/privacy}", "received_events_url": "https://api.github.com/users/joctaTorres/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-20T22:41:48Z", "updated_at": "2020-05-21T17:35:14Z", "closed_at": "2020-05-21T17:20:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello :)\r\n\r\nOn [this pdf page](https://github.com/pymupdf/PyMuPDF/files/4659536/tj_sp_inteiro_teor_sample-1.pdf), `extractDICT` doesn't extract an `ImageBlock` for the `wpt1` image XObject (check the image below).\r\n\r\nAlthough from looking at the pdf content, (it seems to me that) this should have been extracted correctly as an `ImageBlock`:\r\n\r\n![image](https://user-images.githubusercontent.com/27794356/82502310-37997b00-9acd-11ea-81c1-8e38b1df1971.png)\r\n***\r\n\r\nThe image is present on `Page.getImageList()`:\r\n```\r\n(Pdb) type(page)\r\n<class 'fitz.fitz.Page'>\r\n\r\n(Pdb) page.getImageList() \r\n[(18, 0, 176, 100, 8, 'DeviceRGB', '', 'wpt1', 'FlateDecode')]\r\n```\r\n\r\nBut no blocks with `\"type\": 1` are detected:\r\n```\r\n(Pdb) [block for block in page.getTextPage().extractDICT()[\"blocks\"] if block[\"type\"] == 1]\r\n[]\r\n\r\n```\r\nAm I doing something wrong?\r\nI'm using version `1.17.0`.\r\nThx for the support.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/512", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/512/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/512/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/512/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/512", "id": 621906345, "node_id": "MDU6SXNzdWU2MjE5MDYzNDU=", "number": 512, "title": "Segmentation fault (core dumped)", "user": {"login": "gvnramu", "id": 22232148, "node_id": "MDQ6VXNlcjIyMjMyMTQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/22232148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gvnramu", "html_url": "https://github.com/gvnramu", "followers_url": "https://api.github.com/users/gvnramu/followers", "following_url": "https://api.github.com/users/gvnramu/following{/other_user}", "gists_url": "https://api.github.com/users/gvnramu/gists{/gist_id}", "starred_url": "https://api.github.com/users/gvnramu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gvnramu/subscriptions", "organizations_url": "https://api.github.com/users/gvnramu/orgs", "repos_url": "https://api.github.com/users/gvnramu/repos", "events_url": "https://api.github.com/users/gvnramu/events{/privacy}", "received_events_url": "https://api.github.com/users/gvnramu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1338052772, "node_id": "MDU6TGFiZWwxMzM4MDUyNzcy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/upstream%20bug", "name": "upstream bug", "color": "fc2929", "default": false, "description": "bug outside this package"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2020-05-20T16:29:55Z", "updated_at": "2020-05-26T08:26:42Z", "closed_at": "2020-05-26T08:12:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Describe the bug (mandatory)\r\nWhen applying `page.apply_redactions()` memory error occured\r\n\r\n## To Reproduce (mandatory)\r\n```\r\n>>>import fitz\r\n>>> doc=fitz.open('fail.pdf')\r\n>>> imglist = doc.getPageImageList(0, True)\r\n>>> page = doc[0]\r\n>>> rect = page.getImageBbox(imglist[0])\r\n>>> page.addRedactAnnot(rect)\r\n'Redact' annotation on page 0 of fail.pdf\r\n>>> page.apply_redactions()\r\n```\r\n\r\n\r\n\r\n## Expected behavior (optional)\r\nApply redactions successfully\r\n\r\n## Screenshots (optional)\r\n![core_dumped](https://user-images.githubusercontent.com/22232148/82471298-25770700-9ae4-11ea-8202-54a85500c775.png)\r\n\r\n\r\n## Your configuration (mandatory)\r\nUbuntu 18.04 LTS - Architecture: x86-64\r\n\r\nPython 3.7.4 (default, Aug 13 2019, 20:35:49)\r\n[GCC 7.3.0]\r\nlinux\r\n\r\nPyMuPDF 1.17.0\r\nInstalled via .whl file", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/511", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/511/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/511/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/511/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/511", "id": 621795468, "node_id": "MDU6SXNzdWU2MjE3OTU0Njg=", "number": 511, "title": "Missing py27 Linux wheel for 1.17.0 release", "user": {"login": "stephenfin", "id": 1690835, "node_id": "MDQ6VXNlcjE2OTA4MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1690835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephenfin", "html_url": "https://github.com/stephenfin", "followers_url": "https://api.github.com/users/stephenfin/followers", "following_url": "https://api.github.com/users/stephenfin/following{/other_user}", "gists_url": "https://api.github.com/users/stephenfin/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephenfin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephenfin/subscriptions", "organizations_url": "https://api.github.com/users/stephenfin/orgs", "repos_url": "https://api.github.com/users/stephenfin/repos", "events_url": "https://api.github.com/users/stephenfin/events{/privacy}", "received_events_url": "https://api.github.com/users/stephenfin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1338052772, "node_id": "MDU6TGFiZWwxMzM4MDUyNzcy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/upstream%20bug", "name": "upstream bug", "color": "fc2929", "default": false, "description": "bug outside this package"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-05-20T14:11:52Z", "updated_at": "2020-05-25T15:48:23Z", "closed_at": "2020-05-25T13:16:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per title, there does not appear to be a `PyMuPDF-1.17.0-cp27-cp27m-manylinux2010_x86_64.whl` wheel [published to PyPI](https://pypi.org/project/PyMuPDF/#files). This necessitates building from source. I tried to figure out where these are built, so I could determine if there was a build failure or this was intentional, but I was unable to do so :disappointed: ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/510", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/510/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/510/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/510/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/510", "id": 621670253, "node_id": "MDU6SXNzdWU2MjE2NzAyNTM=", "number": 510, "title": "Custom Annotation", "user": {"login": "user123-source", "id": 65656614, "node_id": "MDQ6VXNlcjY1NjU2NjE0", "avatar_url": "https://avatars2.githubusercontent.com/u/65656614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/user123-source", "html_url": "https://github.com/user123-source", "followers_url": "https://api.github.com/users/user123-source/followers", "following_url": "https://api.github.com/users/user123-source/following{/other_user}", "gists_url": "https://api.github.com/users/user123-source/gists{/gist_id}", "starred_url": "https://api.github.com/users/user123-source/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/user123-source/subscriptions", "organizations_url": "https://api.github.com/users/user123-source/orgs", "repos_url": "https://api.github.com/users/user123-source/repos", "events_url": "https://api.github.com/users/user123-source/events{/privacy}", "received_events_url": "https://api.github.com/users/user123-source/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}, {"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-20T11:02:33Z", "updated_at": "2020-05-20T11:26:45Z", "closed_at": "2020-05-20T11:26:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\n\r\nI would like to create a custom annotation based on quads. The problem is that drawing quads where the text is in a shaded cell the shape goes behind the shaded part of the cell. \r\n\r\nIs there a way i could achieve this ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/509", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/509/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/509/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/509/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/509", "id": 620807792, "node_id": "MDU6SXNzdWU2MjA4MDc3OTI=", "number": 509, "title": "How to copy text/code from PDF with indentation(using pymupdf)?", "user": {"login": "tisttsf", "id": 4705133, "node_id": "MDQ6VXNlcjQ3MDUxMzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4705133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tisttsf", "html_url": "https://github.com/tisttsf", "followers_url": "https://api.github.com/users/tisttsf/followers", "following_url": "https://api.github.com/users/tisttsf/following{/other_user}", "gists_url": "https://api.github.com/users/tisttsf/gists{/gist_id}", "starred_url": "https://api.github.com/users/tisttsf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tisttsf/subscriptions", "organizations_url": "https://api.github.com/users/tisttsf/orgs", "repos_url": "https://api.github.com/users/tisttsf/repos", "events_url": "https://api.github.com/users/tisttsf/events{/privacy}", "received_events_url": "https://api.github.com/users/tisttsf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-19T09:04:36Z", "updated_at": "2020-05-23T10:50:47Z", "closed_at": "2020-05-23T10:50:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to copy some code from PDF and paste into text editor,but lost code indentation.Is that possible to generate a PDF with code that can copy and paste with correct indentation so we don't need to type indentation by hand again.\r\nHere is an example that can not copy/paste with indentation:\r\n![copy_instance](https://user-images.githubusercontent.com/4705133/82306649-e6688900-99f1-11ea-97b1-4dcb2bf755ac.JPG)\r\n![copy](https://user-images.githubusercontent.com/4705133/82306658-e9637980-99f1-11ea-8db3-8550d979e13d.JPG)\r\n![exxxx](https://user-images.githubusercontent.com/4705133/82307328-cb4a4900-99f2-11ea-8cbc-8045ba9c4564.JPG)\r\n![lss](https://user-images.githubusercontent.com/4705133/82307171-8e7e5200-99f2-11ea-9df5-32058a846b65.JPG)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/508", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/508/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/508/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/508", "id": 619689065, "node_id": "MDU6SXNzdWU2MTk2ODkwNjU=", "number": 508, "title": " ValueError(\"rect must be finite and not empty\")", "user": {"login": "gvnramu", "id": 22232148, "node_id": "MDQ6VXNlcjIyMjMyMTQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/22232148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gvnramu", "html_url": "https://github.com/gvnramu", "followers_url": "https://api.github.com/users/gvnramu/followers", "following_url": "https://api.github.com/users/gvnramu/following{/other_user}", "gists_url": "https://api.github.com/users/gvnramu/gists{/gist_id}", "starred_url": "https://api.github.com/users/gvnramu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gvnramu/subscriptions", "organizations_url": "https://api.github.com/users/gvnramu/orgs", "repos_url": "https://api.github.com/users/gvnramu/repos", "events_url": "https://api.github.com/users/gvnramu/events{/privacy}", "received_events_url": "https://api.github.com/users/gvnramu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2020-05-17T12:22:20Z", "updated_at": "2020-05-20T16:45:46Z", "closed_at": "2020-05-20T16:11:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I'm new to PyMuPDF\r\nMy intention is to read the image from pdf page and process it and replace the processed image back to pdf file\r\nGetting Image coordinates like this \r\n\r\n`rect = get_image_bbox(page, pdf_document.getPageImageList(current_page)[i])` \r\n\r\nI got `Rect(0.0, -7578.0, 3969.60009765625, -1966.800048828125)`\r\n                    \r\nwhen trying to insert an image using `page.insertImage(rect, pixmap=pix, overlay=True)` method I'm getting `ValueError(\"rect must be finite and not empty\")` but\r\n`rect.isEmpty` is returning **False** and\r\n`rect.isInfinite` is returning **False** \r\nWhat I'm doing wrong. Please help me", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/506", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/506/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/506/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/506", "id": 619521090, "node_id": "MDU6SXNzdWU2MTk1MjEwOTA=", "number": 506, "title": "Would not apply redactions over texts", "user": {"login": "lcy2", "id": 15602561, "node_id": "MDQ6VXNlcjE1NjAyNTYx", "avatar_url": "https://avatars1.githubusercontent.com/u/15602561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcy2", "html_url": "https://github.com/lcy2", "followers_url": "https://api.github.com/users/lcy2/followers", "following_url": "https://api.github.com/users/lcy2/following{/other_user}", "gists_url": "https://api.github.com/users/lcy2/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcy2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcy2/subscriptions", "organizations_url": "https://api.github.com/users/lcy2/orgs", "repos_url": "https://api.github.com/users/lcy2/repos", "events_url": "https://api.github.com/users/lcy2/events{/privacy}", "received_events_url": "https://api.github.com/users/lcy2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-05-16T17:33:01Z", "updated_at": "2020-05-19T13:19:01Z", "closed_at": "2020-05-19T13:19:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nI tried to remove all texts from the whole page with Redaction Annotation but didn't work.\r\n\r\n## To Reproduce (mandatory)\r\n```\r\nfor block in old_page.getText('blocks'):\r\n    old_page.addRedactAnnot(block[:4]);\r\n\r\n#old_page.addRedactAnnot(old_page.rect)\r\n\r\nold_page.apply_redactions();\r\nshow_image(old_page)\r\n```\r\nI tried both ways (with rect encompassing the whole page, or picking up individual \"blocks\") but the end result is always no redaction. When I do fill = 1 however, the rects are indeed filled in and blanked out, but it's not as accurate as I'd like it to be.\r\n\r\nI can extract the texts no problem however, so PyMuPDF does see the texts as characters.\r\n\r\n## Expected behavior (optional)\r\nAll texts are removed leaving behind the graphics that I cannot extract alone with XObjects methods.\r\n\r\n## Your configuration (mandatory)\r\n3.7.4 (default, Aug 13 2019, 15:17:50) \r\n[Clang 4.0.1 (tags/RELEASE_401/final)] \r\n darwin \r\n \r\nPyMuPDF 1.16.18: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2020-04-22 14:00:00.\r\nBuilt for Python 3.7 on darwin (64-bit).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/505", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/505/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/505/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/505", "id": 616492214, "node_id": "MDU6SXNzdWU2MTY0OTIyMTQ=", "number": 505, "title": "Question / Comment: Is it possible to actual censor pdf", "user": {"login": "elben10", "id": 23096679, "node_id": "MDQ6VXNlcjIzMDk2Njc5", "avatar_url": "https://avatars1.githubusercontent.com/u/23096679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elben10", "html_url": "https://github.com/elben10", "followers_url": "https://api.github.com/users/elben10/followers", "following_url": "https://api.github.com/users/elben10/following{/other_user}", "gists_url": "https://api.github.com/users/elben10/gists{/gist_id}", "starred_url": "https://api.github.com/users/elben10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elben10/subscriptions", "organizations_url": "https://api.github.com/users/elben10/orgs", "repos_url": "https://api.github.com/users/elben10/repos", "events_url": "https://api.github.com/users/elben10/events{/privacy}", "received_events_url": "https://api.github.com/users/elben10/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-12T09:10:24Z", "updated_at": "2020-05-12T12:11:47Z", "closed_at": "2020-05-12T12:11:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the [censor example](https://github.com/pymupdf/PyMuPDF/wiki/How-to-Insert-new-PDF-Pages,-Images-and-Text#how-to-censor-a-pdf) it is shown how one can overlay some specific words with an image. Is it possible to actual replace the text, so the format of the pdf is kept but the text is replaced?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/504", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/504/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/504/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/504/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/504", "id": 616402875, "node_id": "MDU6SXNzdWU2MTY0MDI4NzU=", "number": 504, "title": "Graphical elements not redacted", "user": {"login": "handsomeyang", "id": 1124230, "node_id": "MDQ6VXNlcjExMjQyMzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1124230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/handsomeyang", "html_url": "https://github.com/handsomeyang", "followers_url": "https://api.github.com/users/handsomeyang/followers", "following_url": "https://api.github.com/users/handsomeyang/following{/other_user}", "gists_url": "https://api.github.com/users/handsomeyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/handsomeyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/handsomeyang/subscriptions", "organizations_url": "https://api.github.com/users/handsomeyang/orgs", "repos_url": "https://api.github.com/users/handsomeyang/repos", "events_url": "https://api.github.com/users/handsomeyang/events{/privacy}", "received_events_url": "https://api.github.com/users/handsomeyang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-12T06:42:11Z", "updated_at": "2020-05-17T15:32:30Z", "closed_at": "2020-05-17T15:32:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for this wonderful library.\r\n\r\nWhen trying the redaction function, I found that graphical elements were not redacted and only texts were removed. Is it possible to fix this? Thanks.\r\n\r\nInput file: \r\n[redaction.pdf](https://github.com/pymupdf/PyMuPDF/files/4613811/redaction.pdf)\r\n\r\nTest code:\r\n```\r\ndoc = fitz.open(\"redaction.pdf\")\r\npage=doc[0]\r\nrect = fitz.Rect(100,250,450,400)\r\npage.addRedactAnnot(rect)\r\npage.apply_redactions()\r\ndoc.save('tmp.pdf')\r\n```\r\n\r\nRedaction annotation:\r\n![Screenshot_2020-05-12_16-40-32](https://user-images.githubusercontent.com/1124230/81646895-667d7480-946f-11ea-8765-2696abce77b2.png)\r\n\r\nRedaction result:\r\n![Screenshot_2020-05-12_16-40-51](https://user-images.githubusercontent.com/1124230/81646928-77c68100-946f-11ea-97a9-d30f22eacb44.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/503", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/503/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/503/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/503", "id": 614977993, "node_id": "MDU6SXNzdWU2MTQ5Nzc5OTM=", "number": 503, "title": "Update for muPDF 1.17.0", "user": {"login": "wamserma", "id": 60148, "node_id": "MDQ6VXNlcjYwMTQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/60148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wamserma", "html_url": "https://github.com/wamserma", "followers_url": "https://api.github.com/users/wamserma/followers", "following_url": "https://api.github.com/users/wamserma/following{/other_user}", "gists_url": "https://api.github.com/users/wamserma/gists{/gist_id}", "starred_url": "https://api.github.com/users/wamserma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wamserma/subscriptions", "organizations_url": "https://api.github.com/users/wamserma/orgs", "repos_url": "https://api.github.com/users/wamserma/repos", "events_url": "https://api.github.com/users/wamserma/events{/privacy}", "received_events_url": "https://api.github.com/users/wamserma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-08T20:46:02Z", "updated_at": "2020-05-19T13:18:31Z", "closed_at": "2020-05-19T13:18:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nPyMuPDF does not compile against mupdf-1.17.0 as structs in fitz have been renamed.\r\n\r\n## To Reproduce (mandatory)\r\n```\r\nnix-build -A python37Packages.pymupdf https://github.com/r-ryantm/nixpkgs/archive/f51b59383bdb13d70cc564e904baeacb75dc95c3.tar.gz\r\n```\r\n\r\n```\r\nIn file included from /nix/store/ir2fvcbsvmskdzv6c6y98cx1hbzdyzx7-mupdf-1.17.0-dev/include/mupdf/pdf.h:11,\r\n                 from fitz/fitz_wrap.c:2732:\r\n/nix/store/ir2fvcbsvmskdzv6c6y98cx1hbzdyzx7-mupdf-1.17.0-dev/include/mupdf/pdf/document.h:91:15: note: expected \u2018fz_document *\u2019 {aka \u2018struct fz_document *\u2019} but argument is of type \u2018struct fz_document_s *\u2019\r\n   91 | pdf_document *pdf_specifics(fz_context *ctx, fz_document *doc);\r\n      |               ^~~~~~~~~~~~~\r\nfitz/fitz_wrap.c:11835:20: warning: returning \u2018pdf_graft_map *\u2019 {aka \u2018struct pdf_graft_map *\u2019} from a function with incompatible return type \u2018struct pdf_graft_map_s *\u2019 [-Wincompatible-pointer-types]\r\n11835 |             return map;\r\n      |                    ^~~\r\nfitz/fitz_wrap.c: In function \u2018Tools_store_shrink\u2019:\r\nfitz/fitz_wrap.c:11870:56: error: dereferencing pointer to incomplete type \u2018fz_store\u2019 {aka \u2018struct fz_store\u2019}\r\n11870 |             return Py_BuildValue(\"i\", (int) gctx->store->size);\r\n      |                                                        ^~\r\n```\r\n\r\n## Expected behavior (optional)\r\nPyMuPDF compiles. :)\r\n\r\n## Your configuration (mandatory)\r\n - NixOS, x64_64\r\n - tested with Python 3.7\r\n - PyMuPDF 1.17.0, from source\r\n\r\n## Additional context (optional)\r\n\r\nI am fully aware that PyMuPDF is explicitly advertised as being compatible to 1.16.*, nevertheless, this issue is for keeping track and cross-referencing for downstream packaging.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/502", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/502/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/502/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/502/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/502", "id": 614398613, "node_id": "MDU6SXNzdWU2MTQzOTg2MTM=", "number": 502, "title": "Issue in getPDFnow function with timezones < 0", "user": {"login": "alSeveR", "id": 5750163, "node_id": "MDQ6VXNlcjU3NTAxNjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5750163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alSeveR", "html_url": "https://github.com/alSeveR", "followers_url": "https://api.github.com/users/alSeveR/followers", "following_url": "https://api.github.com/users/alSeveR/following{/other_user}", "gists_url": "https://api.github.com/users/alSeveR/gists{/gist_id}", "starred_url": "https://api.github.com/users/alSeveR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alSeveR/subscriptions", "organizations_url": "https://api.github.com/users/alSeveR/orgs", "repos_url": "https://api.github.com/users/alSeveR/repos", "events_url": "https://api.github.com/users/alSeveR/events{/privacy}", "received_events_url": "https://api.github.com/users/alSeveR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-07T23:08:44Z", "updated_at": "2020-05-19T13:19:34Z", "closed_at": "2020-05-19T13:19:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "- Where it says `tstamp = \"+\" + tz` should put `tstamp += \"+\" + tz`.\r\n- Still it wouldn't be enough because tz in that case is negative and in the string you would have -+.To solve this, you can make the result of the division always positive and that also serves to make `rjust` work.\r\n- Finally, using `timezone` does not take into account daylight saving time. Therefore I think it is better to use `altzone`.\r\n```\r\n\r\n    import time\r\n    tz = \"%s'%s'\" % (str(abs(time.altzone // 3600)).rjust(2, \"0\"),\r\n                 str((abs(time.altzone // 60)%60)).rjust(2, \"0\"))\r\n    tstamp = time.strftime(\"D:%Y%m%d%H%M%S\", time.localtime())\r\n    if time.altzone > 0:\r\n        tstamp += \"-\" + tz\r\n    elif time.altzone < 0:\r\n        tstamp += \"+\" + tz\r\n    else:\r\n        pass\r\n    return tstamp\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/501", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/501/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/501/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/501", "id": 613934120, "node_id": "MDU6SXNzdWU2MTM5MzQxMjA=", "number": 501, "title": "unexpected output from getText()", "user": {"login": "zoj613", "id": 44142765, "node_id": "MDQ6VXNlcjQ0MTQyNzY1", "avatar_url": "https://avatars1.githubusercontent.com/u/44142765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoj613", "html_url": "https://github.com/zoj613", "followers_url": "https://api.github.com/users/zoj613/followers", "following_url": "https://api.github.com/users/zoj613/following{/other_user}", "gists_url": "https://api.github.com/users/zoj613/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoj613/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoj613/subscriptions", "organizations_url": "https://api.github.com/users/zoj613/orgs", "repos_url": "https://api.github.com/users/zoj613/repos", "events_url": "https://api.github.com/users/zoj613/events{/privacy}", "received_events_url": "https://api.github.com/users/zoj613/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-05-07T10:08:00Z", "updated_at": "2020-05-19T09:19:09Z", "closed_at": "2020-05-14T15:20:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\n## Describe the bug (mandatory)\r\nGet a string of unrecognisable characters when calling `getText()` on a page of a pdf.\r\nthis is the string I get:\r\n`\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\\n\\n\\n\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd \ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd \ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n\\n\\n\ufffd \ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd \ufffd\ufffd \ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\n`\r\n\r\n## To Reproduce (mandatory)\r\n```python\r\n        for i, page in enumerate(doc):\r\n            txt = page.getText()\r\n```\r\n\r\n## Expected behavior (optional)\r\nNormal human readable text\r\n.\r\n\r\n## Your configuration (mandatory)\r\n3.7.3 (default, Apr  8 2020, 16:07:18) \r\n[GCC 6.5.0 20181026] \r\n linux \r\n \r\nPyMuPDF 1.16.18: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2020-04-22 14:00:00.\r\nBuilt for Python 3.7 on linux (64-bit).\r\n\r\n## Additional context (optional)\r\ntrying to extract text from pdf document pages. Most work as expected except when I get this kind of output\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/500", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/500/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/500/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/500/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/500", "id": 612837236, "node_id": "MDU6SXNzdWU2MTI4MzcyMzY=", "number": 500, "title": "convertToPDF() has memory leak", "user": {"login": "kavin-1098", "id": 64865540, "node_id": "MDQ6VXNlcjY0ODY1NTQw", "avatar_url": "https://avatars1.githubusercontent.com/u/64865540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kavin-1098", "html_url": "https://github.com/kavin-1098", "followers_url": "https://api.github.com/users/kavin-1098/followers", "following_url": "https://api.github.com/users/kavin-1098/following{/other_user}", "gists_url": "https://api.github.com/users/kavin-1098/gists{/gist_id}", "starred_url": "https://api.github.com/users/kavin-1098/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kavin-1098/subscriptions", "organizations_url": "https://api.github.com/users/kavin-1098/orgs", "repos_url": "https://api.github.com/users/kavin-1098/repos", "events_url": "https://api.github.com/users/kavin-1098/events{/privacy}", "received_events_url": "https://api.github.com/users/kavin-1098/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 47, "created_at": "2020-05-05T19:22:44Z", "updated_at": "2020-05-19T13:20:20Z", "closed_at": "2020-05-19T13:20:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "_**Please provide all mandatory information!**_\r\n\r\nfor img in os.listdir(\"C:\\pil\"):\r\n     imgdoc=fitz.open(os.path.join(\"C:\\pil\",img))\r\n     imgdoc.convertToPDF()\r\n     imgdoc.close()\r\n\r\nI executed the above line of code my RAM bumped up to 2gb to 3 gb and did not come down at all\r\n\r\n## Describe the bug (mandatory)\r\nA clear and concise description of what the bug is.\r\nMemory leak in convertToPDF()\r\n\r\n## To Reproduce (mandatory)\r\nExplain the steps to reproduce the behavior, For example, include a minimal code snippet, example files, etc.\r\n\r\nexecute the following lines of code with images in any folder:\r\n\r\nI executed with 420 images -> 1 GB ram occupied\r\n\r\nfor img in os.listdir(\"C:\\pil\"):\r\n     imgdoc=fitz.open(os.path.join(\"C:\\pil\",img))\r\n     imgdoc.convertToPDF()\r\n     imgdoc.close()\r\n\r\n## Expected behavior (optional)\r\nDescribe what you expected to happen (if not obvious).\r\n\r\nMemory usage should come down\r\n\r\n## Screenshots (optional)\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n## Your configuration (mandatory)\r\n - Operating system, potentially version and bitness\r\n - Python version, bitness\r\n - PyMuPDF version, installation method (**wheel** or **generated** from source).\r\n\r\nWindows 10 4 gb RAM\r\n\r\nFor example, the output of `print(sys.version, \"\\n\", sys.platform, \"\\n\", fitz.__doc__)` would be sufficient (for the first two bullets).\r\n\r\n## Additional context (optional)\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/499", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/499/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/499/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/499", "id": 610896751, "node_id": "MDU6SXNzdWU2MTA4OTY3NTE=", "number": 499, "title": "Question / Comment: redaction tool", "user": {"login": "martinevanschouwenburg", "id": 50655331, "node_id": "MDQ6VXNlcjUwNjU1MzMx", "avatar_url": "https://avatars3.githubusercontent.com/u/50655331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinevanschouwenburg", "html_url": "https://github.com/martinevanschouwenburg", "followers_url": "https://api.github.com/users/martinevanschouwenburg/followers", "following_url": "https://api.github.com/users/martinevanschouwenburg/following{/other_user}", "gists_url": "https://api.github.com/users/martinevanschouwenburg/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinevanschouwenburg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinevanschouwenburg/subscriptions", "organizations_url": "https://api.github.com/users/martinevanschouwenburg/orgs", "repos_url": "https://api.github.com/users/martinevanschouwenburg/repos", "events_url": "https://api.github.com/users/martinevanschouwenburg/events{/privacy}", "received_events_url": "https://api.github.com/users/martinevanschouwenburg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-05-01T18:26:50Z", "updated_at": "2020-05-23T09:37:42Z", "closed_at": "2020-05-06T19:05:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been playing around with the redaction options which are great! (as is the package in general!) \r\n\r\nI have a couple of questions regarding the colour of the redaction though (the final redaction, not the markup/annotation)\r\n\r\n1) Is it possible to redact a word using a white box surrounded by a black line? I've tried \r\nannot.setColors(stroke=(0, 0, 0), fill=(1, 1, 1)), but I get a warning \"warning: annot type has no fill color\". \r\n\r\n2) which brings me to my next question, how come you can set the 'fill' but not the 'stroke' with the function addRedactAnnot, if this particular annot type has no fill color? \r\n\r\n3) I've added an annotation like this: page.addRedactAnnot(areas[0], fill=(1, 0, 1)) When I redact in python (page.apply_redactions()) the redaction works like expected and the resulting pdf shows a purple redaction. If I don't redact, and I open the pdf in MuPDF, I see the markup, and when I press 'Redact', the redaction turns black. If I don't redact,  and I open the pdf in AdobePDF, I see the markup, and when I press 'Redact', the redaction turns white. \r\n\r\nAny thoughts on this? Could it be that different programs handle the features (color in this case) of the redact annotation differently? \r\n\r\nThank you for your time, \r\n\r\nMartine \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/498", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/498/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/498/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/498/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/498", "id": 610806309, "node_id": "MDU6SXNzdWU2MTA4MDYzMDk=", "number": 498, "title": "Detect background changes which are not images", "user": {"login": "maffei2443", "id": 19755960, "node_id": "MDQ6VXNlcjE5NzU1OTYw", "avatar_url": "https://avatars2.githubusercontent.com/u/19755960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maffei2443", "html_url": "https://github.com/maffei2443", "followers_url": "https://api.github.com/users/maffei2443/followers", "following_url": "https://api.github.com/users/maffei2443/following{/other_user}", "gists_url": "https://api.github.com/users/maffei2443/gists{/gist_id}", "starred_url": "https://api.github.com/users/maffei2443/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maffei2443/subscriptions", "organizations_url": "https://api.github.com/users/maffei2443/orgs", "repos_url": "https://api.github.com/users/maffei2443/repos", "events_url": "https://api.github.com/users/maffei2443/events{/privacy}", "received_events_url": "https://api.github.com/users/maffei2443/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762664, "node_id": "MDU6TGFiZWwxNTc2MjY2NA==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 15762667, "node_id": "MDU6TGFiZWwxNTc2MjY2Nw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/wontfix", "name": "wontfix", "color": "000000", "default": true, "description": "no intention to resolve"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-05-01T15:22:51Z", "updated_at": "2020-05-06T19:06:24Z", "closed_at": "2020-05-06T19:06:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nThe problem is to detect that the text \"PODER LEGISLATIVO\" is contained in a sort of \"box\", maybe a \"backgroundbox\", and get the bounding boxes of these box (along or not with its color).   \r\n\r\n![black-back](https://user-images.githubusercontent.com/19755960/80814954-2d0d5500-8ba3-11ea-933a-c7609c94a202.png)\r\n\r\nSince it is not even noticed by _pymupdf_ extraction methods, it becomes very hard to handle this. For example the HTML generated from **fitz.TextPage.extractHTML** w.r.t the page containing the figure above does not show the black background:\r\n\r\n![white-white](https://user-images.githubusercontent.com/19755960/80816541-15839b80-8ba6-11ea-8a93-3000bfe00772.png)\r\n\r\nThe text however is present, since it can be selected:\r\n![white-blue](https://user-images.githubusercontent.com/19755960/80816650-42d04980-8ba6-11ea-93ac-c7879cade4d5.png)\r\n\r\n\r\n**Describe the solution you'd like**\r\nA way to extract, or at least detect, the bounding boxes of those problematic PDF regions.\r\nI suggest something like **fitz.TextPage.extractBACKGROUNDREGIONS**.\r\nI've also thought that an alternative would be extracting them as images through\r\nthe already existent **fitz.Page.getImageList**\r\n[novo-2020.pdf](https://github.com/pymupdf/PyMuPDF/files/4564854/novo-2020.pdf)\r\n\r\nThe full PDF whose that image was extracted from is \r\n[that](https://github.com/pymupdf/PyMuPDF/files/4564906/novo-2020.pdf).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/497", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/497/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/497/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/497/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/497", "id": 609725739, "node_id": "MDU6SXNzdWU2MDk3MjU3Mzk=", "number": 497, "title": "Question / Comment:Issue with LIGATURES", "user": {"login": "moka1309", "id": 24780748, "node_id": "MDQ6VXNlcjI0NzgwNzQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/24780748?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moka1309", "html_url": "https://github.com/moka1309", "followers_url": "https://api.github.com/users/moka1309/followers", "following_url": "https://api.github.com/users/moka1309/following{/other_user}", "gists_url": "https://api.github.com/users/moka1309/gists{/gist_id}", "starred_url": "https://api.github.com/users/moka1309/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moka1309/subscriptions", "organizations_url": "https://api.github.com/users/moka1309/orgs", "repos_url": "https://api.github.com/users/moka1309/repos", "events_url": "https://api.github.com/users/moka1309/events{/privacy}", "received_events_url": "https://api.github.com/users/moka1309/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1266664712, "node_id": "MDU6TGFiZWwxMjY2NjY0NzEy", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/example%20required", "name": "example required", "color": "fbca04", "default": false, "description": ""}, {"id": 15762666, "node_id": "MDU6TGFiZWwxNTc2MjY2Ng==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 15762667, "node_id": "MDU6TGFiZWwxNTc2MjY2Nw==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/wontfix", "name": "wontfix", "color": "000000", "default": true, "description": "no intention to resolve"}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-30T08:50:01Z", "updated_at": "2020-05-02T08:46:11Z", "closed_at": "2020-05-02T08:45:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi again,\r\nI am facing another issue, while extracting text, words contains chars ff, fi, etc,. are having space and if there are both ff's then one f is missing.\r\nExamples:\r\n\r\n- \"Pfizer\" turns into ---> \"P\ufb01 zer\"\r\n- \"affect\" turns as ----> \"af ect\"\r\n- \"effective\" turns ----> \"ef ective\"\r\n- \"different\" ----> \"dif erent\".\r\n\r\nI read about prevent ligatures, and written code like below\r\n`blocks = page.getText(\"blocks\", flags=1+2+8)`\r\nBut not successful.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/496", "repository_url": "https://api.github.com/repos/pymupdf/PyMuPDF", "labels_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/496/comments", "events_url": "https://api.github.com/repos/pymupdf/PyMuPDF/issues/496/events", "html_url": "https://github.com/pymupdf/PyMuPDF/issues/496", "id": 607649064, "node_id": "MDU6SXNzdWU2MDc2NDkwNjQ=", "number": 496, "title": "Orientation of text fields and widgets differ when page rotation is 90\u00b0", "user": {"login": "papafelice", "id": 20222908, "node_id": "MDQ6VXNlcjIwMjIyOTA4", "avatar_url": "https://avatars3.githubusercontent.com/u/20222908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papafelice", "html_url": "https://github.com/papafelice", "followers_url": "https://api.github.com/users/papafelice/followers", "following_url": "https://api.github.com/users/papafelice/following{/other_user}", "gists_url": "https://api.github.com/users/papafelice/gists{/gist_id}", "starred_url": "https://api.github.com/users/papafelice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papafelice/subscriptions", "organizations_url": "https://api.github.com/users/papafelice/orgs", "repos_url": "https://api.github.com/users/papafelice/repos", "events_url": "https://api.github.com/users/papafelice/events{/privacy}", "received_events_url": "https://api.github.com/users/papafelice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 15762662, "node_id": "MDU6TGFiZWwxNTc2MjY2Mg==", "url": "https://api.github.com/repos/pymupdf/PyMuPDF/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "JorjMcKie", "id": 8290722, "node_id": "MDQ6VXNlcjgyOTA3MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8290722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JorjMcKie", "html_url": "https://github.com/JorjMcKie", "followers_url": "https://api.github.com/users/JorjMcKie/followers", "following_url": "https://api.github.com/users/JorjMcKie/following{/other_user}", "gists_url": "https://api.github.com/users/JorjMcKie/gists{/gist_id}", "starred_url": "https://api.github.com/users/JorjMcKie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JorjMcKie/subscriptions", "organizations_url": "https://api.github.com/users/JorjMcKie/orgs", "repos_url": "https://api.github.com/users/JorjMcKie/repos", "events_url": "https://api.github.com/users/JorjMcKie/events{/privacy}", "received_events_url": "https://api.github.com/users/JorjMcKie/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-04-27T15:39:10Z", "updated_at": "2020-05-19T13:22:55Z", "closed_at": "2020-05-19T13:22:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description of the bug\r\nWhen inserting a text box, the bouding rectangle remains in document coordinates when rotation = 90. However, when inserting a text widget, the bounding box is as seen on the screen but the text flow remains in document coordinates. It would be convenient, if the bounding box and textflow is as seen on the screen or at least both text items should behave the same.\r\n\r\n## Steps to reproduce\r\nCode snippet:\r\n```\r\nimport fitz         \r\ndoc = fitz.open()  \r\ndoc.insertPage(0)\r\npage = doc[0]                         \r\n\r\nrect1 = fitz.Rect(50,  50, 300, 100)\r\nrect2 = fitz.Rect(50, 100, 300, 150)\r\nrect3 = fitz.Rect(50, 150, 300, 200)\r\nrect4 = fitz.Rect(50, 200, 300, 350)\r\n\r\ntext = \"\"\"The quick brown fox jumps over the lazy dog.\\nSeveral times...\"\"\"\r\npage.insertTextbox(rect1, text, align = 0)\r\nwidget = fitz.Widget()\r\nwidget.rect = rect2\r\nwidget.field_type = fitz.PDF_WIDGET_TYPE_TEXT\r\nwidget.field_name = \"Text1\"\r\nwidget.field_value = text\r\npage.addWidget(widget)\r\npage.setRotation(90)\r\npage.insertTextbox(rect3, text, align = 0)\r\nwidget.rect = rect4\r\npage.addWidget(widget)\r\ndoc.save(\"out.pdf\")\r\ndoc.close()\r\n```\r\nOpen the file with a PDF Viewer that can edit fields.\r\n\r\n## Expected behavior\r\nEither both elements should remain in page coordinates or (better) they should adopt to the screen view such that when you have a graphical display of a page and you select a rectangle with the mouse, the text is inserted as seen on the screen\r\n\r\n## Configuration\r\nOS: Suse Tumblewheed Linux 5.6.4-1-default 64bit\r\nPython: 3.8.2 64bit\r\nPyMuPDF 1.16.18: Python bindings for the MuPDF 1.16.0 library.\r\nVersion date: 2020-04-22 14:00:00. Built for Python 3.8 on linux (64-bit). Installed with pip\r\n", "performed_via_github_app": null, "score": 1.0}]}