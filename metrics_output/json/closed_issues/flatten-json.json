{"total_count": 12, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/amirziai/flatten/issues/51", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/51/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/51/events", "html_url": "https://github.com/amirziai/flatten/issues/51", "id": 469872801, "node_id": "MDU6SXNzdWU0Njk4NzI4MDE=", "number": 51, "title": "Data is lost when a root key contains another root key", "user": {"login": "getaarond", "id": 8782176, "node_id": "MDQ6VXNlcjg3ODIxNzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8782176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/getaarond", "html_url": "https://github.com/getaarond", "followers_url": "https://api.github.com/users/getaarond/followers", "following_url": "https://api.github.com/users/getaarond/following{/other_user}", "gists_url": "https://api.github.com/users/getaarond/gists{/gist_id}", "starred_url": "https://api.github.com/users/getaarond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/getaarond/subscriptions", "organizations_url": "https://api.github.com/users/getaarond/orgs", "repos_url": "https://api.github.com/users/getaarond/repos", "events_url": "https://api.github.com/users/getaarond/events{/privacy}", "received_events_url": "https://api.github.com/users/getaarond/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-18T16:37:36Z", "updated_at": "2020-01-23T22:14:15Z", "closed_at": "2020-01-23T22:14:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related to https://github.com/amirziai/flatten/issues/48 but the solution to this issue is different.\r\n\r\nInput\r\n```\r\n{\r\n    'a': 1,\r\n    'a_b': 2,\r\n    'a_c.d': 3,\r\n    'a_c.e': 4\r\n}\r\n```\r\n\r\nExpected\r\n```\r\n{\r\n    'a': 1,\r\n    'a_b': 2,\r\n    'a_c': {'d': 3, 'e': 4}\r\n}\r\n```\r\n\r\nActual ('a' key is missing)\r\n```\r\n{\r\n    'a_b': 2,\r\n    'a_c': {'d': 3, 'e': 4}\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/46", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/46/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/46/events", "html_url": "https://github.com/amirziai/flatten/issues/46", "id": 444466653, "node_id": "MDU6SXNzdWU0NDQ0NjY2NTM=", "number": 46, "title": "New Release to PyPi?", "user": {"login": "aneuway2", "id": 23339146, "node_id": "MDQ6VXNlcjIzMzM5MTQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/23339146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aneuway2", "html_url": "https://github.com/aneuway2", "followers_url": "https://api.github.com/users/aneuway2/followers", "following_url": "https://api.github.com/users/aneuway2/following{/other_user}", "gists_url": "https://api.github.com/users/aneuway2/gists{/gist_id}", "starred_url": "https://api.github.com/users/aneuway2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aneuway2/subscriptions", "organizations_url": "https://api.github.com/users/aneuway2/orgs", "repos_url": "https://api.github.com/users/aneuway2/repos", "events_url": "https://api.github.com/users/aneuway2/events{/privacy}", "received_events_url": "https://api.github.com/users/aneuway2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-15T14:19:25Z", "updated_at": "2019-05-15T16:48:34Z", "closed_at": "2019-05-15T16:48:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! Are there any plans to make a new release to PyPi with the new updates (since 2017 is the last published update)\r\n\r\nBTW this is a great project that has saved me and others countless hours! Props to this project!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/43", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/43/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/43/events", "html_url": "https://github.com/amirziai/flatten/issues/43", "id": 416812791, "node_id": "MDU6SXNzdWU0MTY4MTI3OTE=", "number": 43, "title": "new function flatten_preserve_lists to limit flattening and preserve list structure", "user": {"login": "kaiaeberli", "id": 5165565, "node_id": "MDQ6VXNlcjUxNjU1NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5165565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaiaeberli", "html_url": "https://github.com/kaiaeberli", "followers_url": "https://api.github.com/users/kaiaeberli/followers", "following_url": "https://api.github.com/users/kaiaeberli/following{/other_user}", "gists_url": "https://api.github.com/users/kaiaeberli/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaiaeberli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaiaeberli/subscriptions", "organizations_url": "https://api.github.com/users/kaiaeberli/orgs", "repos_url": "https://api.github.com/users/kaiaeberli/repos", "events_url": "https://api.github.com/users/kaiaeberli/events{/privacy}", "received_events_url": "https://api.github.com/users/kaiaeberli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-04T13:56:11Z", "updated_at": "2019-05-09T20:01:27Z", "closed_at": "2019-05-09T20:01:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I propose to add a new function called flatten_preserve_list.\r\n\r\nIt would create a new record for every element in a list, akin to a left join between two tables in sql. It adds options max_list_index, which controls how many list indices are processed, and max_depth, which controls how many recursions are permitted. Given that the result of this function may be very large, these options help reduce output size and can be used for quick data investigation.\r\n\r\nThis function requires import of copy, re, and math libraries.\r\n\r\nSee below for the pull request. It works, but still contains some debug statement which I will remove if it is accepted.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/40", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/40/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/40/events", "html_url": "https://github.com/amirziai/flatten/issues/40", "id": 416284265, "node_id": "MDU6SXNzdWU0MTYyODQyNjU=", "number": 40, "title": "unflatten from pandas dataframe", "user": {"login": "kaiaeberli", "id": 5165565, "node_id": "MDQ6VXNlcjUxNjU1NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5165565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaiaeberli", "html_url": "https://github.com/kaiaeberli", "followers_url": "https://api.github.com/users/kaiaeberli/followers", "following_url": "https://api.github.com/users/kaiaeberli/following{/other_user}", "gists_url": "https://api.github.com/users/kaiaeberli/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaiaeberli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaiaeberli/subscriptions", "organizations_url": "https://api.github.com/users/kaiaeberli/orgs", "repos_url": "https://api.github.com/users/kaiaeberli/repos", "events_url": "https://api.github.com/users/kaiaeberli/events{/privacy}", "received_events_url": "https://api.github.com/users/kaiaeberli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-01T21:21:50Z", "updated_at": "2019-05-09T20:01:27Z", "closed_at": "2019-05-09T20:01:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "My use case is the following: I convert a json string in below form to a pandas dataframe. Pandas will automatically fill columns with NaN's if they are not defined for a particular record (as in below example). \r\n\r\n```\r\nimport pandas as pd, json\r\nfrom flatten_json import flatten, unflatten\r\n\r\ninput = json.loads(\"\"\" \r\n\r\n[{\r\n    \"cola\": {\"colb\": null, \"colc\": 10},          \r\n    \"cold\": \"hi\"    \r\n},\r\n{\r\n    \"cola\": null, \r\n    \"cold\": \"hi\"    \r\n}]\r\n\"\"\")\r\n\r\n\r\nflat_json = [flatten(record, '.') for record in input]\r\ndf_flat = pd.DataFrame(flat_json)\r\n```\r\n\r\nwhen I try to unflatten the dataframe records, unflatten throws an error.\r\n\r\n```\r\n[unflatten(record, '.') for record in df_flat.to_dict('records')]\r\n```\r\n\r\nTypeError: 'float' object does not support item assignment\r\n\r\nHope you would agree that this is a fairly common use case, so would warrant a fix.\r\n\r\nMy proposal:\r\n\r\nin flatten_json.py, function unflatten, I would change:\r\n```\r\nfor item in flat_dict:\r\n       _unflatten(unflattened_dict, item.split(separator), flat_dict[item])\r\n```\r\nwith\r\n```\r\nlist_keys = sorted(flat_dict.keys())\r\nfor i, item in enumerate(list_keys):\r\n\tif i != len(list_keys)-1:\r\n\t\tif not list_keys[i+1].startswith(list_keys[i]):\r\n\t\t\t_unflatten(unflattened_dict, item.split(separator), flat_dict[item])\r\n\t\telse:\r\n\t\t\tpass  # if key contained in next key, json will be invalid.\r\n\telse:\r\n\t\t#  last element\r\n\t\t_unflatten(unflattened_dict, item.split(separator), flat_dict[item])\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/39", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/39/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/39/events", "html_url": "https://github.com/amirziai/flatten/issues/39", "id": 415254266, "node_id": "MDU6SXNzdWU0MTUyNTQyNjY=", "number": 39, "title": "Nested lists throwing error", "user": {"login": "collinarnett", "id": 38230482, "node_id": "MDQ6VXNlcjM4MjMwNDgy", "avatar_url": "https://avatars3.githubusercontent.com/u/38230482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/collinarnett", "html_url": "https://github.com/collinarnett", "followers_url": "https://api.github.com/users/collinarnett/followers", "following_url": "https://api.github.com/users/collinarnett/following{/other_user}", "gists_url": "https://api.github.com/users/collinarnett/gists{/gist_id}", "starred_url": "https://api.github.com/users/collinarnett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/collinarnett/subscriptions", "organizations_url": "https://api.github.com/users/collinarnett/orgs", "repos_url": "https://api.github.com/users/collinarnett/repos", "events_url": "https://api.github.com/users/collinarnett/events{/privacy}", "received_events_url": "https://api.github.com/users/collinarnett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-27T18:00:13Z", "updated_at": "2019-03-08T21:56:25Z", "closed_at": "2019-03-08T21:56:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently I have the code:\r\n```python\r\n# Data is a list with dictionary elements which in turn have nested lists, so we turn the first list layer into a dictionary.\r\njira_data = { i : jira_data[i] for i in range(0, len(jira_data) ) }\r\njira_flatten = (flatten(d) for d in jira_data)\r\njira_df = pd.DataFrame(jira_flatten)\r\n```\r\nthe last line errors with the following:\r\n```python\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<ipython-input-17-75a3a8fe964c> in <module>()\r\n----> 1 jira_df = pd.DataFrame(jira_flatten)\r\n\r\n~/anaconda3/envs/python3/lib/python3.6/site-packages/pandas/core/frame.py in __init__(self, data, index, columns, dtype, copy)\r\n    362         elif isinstance(data, (list, types.GeneratorType)):\r\n    363             if isinstance(data, types.GeneratorType):\r\n--> 364                 data = list(data)\r\n    365             if len(data) > 0:\r\n    366                 if is_list_like(data[0]) and getattr(data[0], 'ndim', 1) == 1:\r\n\r\n<ipython-input-16-1cf0d677c973> in <genexpr>(.0)\r\n----> 1 flatten_jira = (flatten(d) for d in jira_data)\r\n\r\n~/anaconda3/envs/python3/lib/python3.6/site-packages/flatten_json.py in flatten(nested_dict, separator, root_keys_to_ignore)\r\n     32     :return: flattened dictionary\r\n     33     \"\"\"\r\n---> 34     assert isinstance(nested_dict, dict), \"flatten requires a dictionary input\"\r\n     35     assert isinstance(separator, str), \"separator must be a string\"\r\n     36 \r\n\r\nAssertionError: flatten requires a dictionary input\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/33", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/33/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/33/events", "html_url": "https://github.com/amirziai/flatten/issues/33", "id": 345832773, "node_id": "MDU6SXNzdWUzNDU4MzI3NzM=", "number": 33, "title": "no output, tests pass", "user": {"login": "lynxlynxlynx", "id": 121515, "node_id": "MDQ6VXNlcjEyMTUxNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/121515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lynxlynxlynx", "html_url": "https://github.com/lynxlynxlynx", "followers_url": "https://api.github.com/users/lynxlynxlynx/followers", "following_url": "https://api.github.com/users/lynxlynxlynx/following{/other_user}", "gists_url": "https://api.github.com/users/lynxlynxlynx/gists{/gist_id}", "starred_url": "https://api.github.com/users/lynxlynxlynx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lynxlynxlynx/subscriptions", "organizations_url": "https://api.github.com/users/lynxlynxlynx/orgs", "repos_url": "https://api.github.com/users/lynxlynxlynx/repos", "events_url": "https://api.github.com/users/lynxlynxlynx/events{/privacy}", "received_events_url": "https://api.github.com/users/lynxlynxlynx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-30T16:25:04Z", "updated_at": "2019-05-23T20:04:43Z", "closed_at": "2019-05-23T20:04:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying this for the first time, installed via pip for python3. Does not seem to work, without giving any errors.\r\n\r\nRunning example from the docs:\r\n```\r\n0 $ echo '{\"a\": {\"b\": 1}}' | python3 -m flatten_json\r\n0 $ \r\n```\r\nThe 0 is the exit status.\r\n\r\nRunning the test suite also passes:\r\n```\r\n0 $ python3 /home/zuzuzu/.local/lib/python3.6/site-packages/test_flatten.py \r\n............\r\n----------------------------------------------------------------------\r\nRan 12 tests in 0.001s\r\n\r\nOK\r\n0 $\r\n```\r\n\r\nAny ideas?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/30", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/30/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/30/events", "html_url": "https://github.com/amirziai/flatten/issues/30", "id": 320419777, "node_id": "MDU6SXNzdWUzMjA0MTk3Nzc=", "number": 30, "title": "Python None becomes string \"None\" not JSON literal null", "user": {"login": "arutledge-xactly", "id": 38961932, "node_id": "MDQ6VXNlcjM4OTYxOTMy", "avatar_url": "https://avatars2.githubusercontent.com/u/38961932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arutledge-xactly", "html_url": "https://github.com/arutledge-xactly", "followers_url": "https://api.github.com/users/arutledge-xactly/followers", "following_url": "https://api.github.com/users/arutledge-xactly/following{/other_user}", "gists_url": "https://api.github.com/users/arutledge-xactly/gists{/gist_id}", "starred_url": "https://api.github.com/users/arutledge-xactly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arutledge-xactly/subscriptions", "organizations_url": "https://api.github.com/users/arutledge-xactly/orgs", "repos_url": "https://api.github.com/users/arutledge-xactly/repos", "events_url": "https://api.github.com/users/arutledge-xactly/events{/privacy}", "received_events_url": "https://api.github.com/users/arutledge-xactly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-04T20:30:00Z", "updated_at": "2018-05-04T21:16:58Z", "closed_at": "2018-05-04T21:16:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello!\r\n\r\nI am using `unflatten_list()` and I am running into a case where the Python `None` object is being serialized into the string `\"None\"` rather than the JSON literal `null`.  I am using this in a script that extracts data from etcd3 to generate a JSON file for internal processes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/19", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/19/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/19/events", "html_url": "https://github.com/amirziai/flatten/issues/19", "id": 236157965, "node_id": "MDU6SXNzdWUyMzYxNTc5NjU=", "number": 19, "title": "Thank you", "user": {"login": "teleyinex", "id": 131838, "node_id": "MDQ6VXNlcjEzMTgzOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/131838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teleyinex", "html_url": "https://github.com/teleyinex", "followers_url": "https://api.github.com/users/teleyinex/followers", "following_url": "https://api.github.com/users/teleyinex/following{/other_user}", "gists_url": "https://api.github.com/users/teleyinex/gists{/gist_id}", "starred_url": "https://api.github.com/users/teleyinex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teleyinex/subscriptions", "organizations_url": "https://api.github.com/users/teleyinex/orgs", "repos_url": "https://api.github.com/users/teleyinex/repos", "events_url": "https://api.github.com/users/teleyinex/events{/privacy}", "received_events_url": "https://api.github.com/users/teleyinex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-15T11:24:52Z", "updated_at": "2017-06-16T07:49:17Z", "closed_at": "2017-06-15T11:24:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is not a bug or anything, it's just to say thank you. Your library is really GREAT. We're now using it in our open source [PYBOSSA software](http://pybossa.com) for improving our CSV exporters with Pandas.\r\n\r\nAgain, thanks for sharing this work!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/16", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/16/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/16/events", "html_url": "https://github.com/amirziai/flatten/issues/16", "id": 226416647, "node_id": "MDU6SXNzdWUyMjY0MTY2NDc=", "number": 16, "title": "cannot flatten arrays of numbers", "user": {"login": "noblige", "id": 252976, "node_id": "MDQ6VXNlcjI1Mjk3Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/252976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noblige", "html_url": "https://github.com/noblige", "followers_url": "https://api.github.com/users/noblige/followers", "following_url": "https://api.github.com/users/noblige/following{/other_user}", "gists_url": "https://api.github.com/users/noblige/gists{/gist_id}", "starred_url": "https://api.github.com/users/noblige/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noblige/subscriptions", "organizations_url": "https://api.github.com/users/noblige/orgs", "repos_url": "https://api.github.com/users/noblige/repos", "events_url": "https://api.github.com/users/noblige/events{/privacy}", "received_events_url": "https://api.github.com/users/noblige/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-05-04T21:40:20Z", "updated_at": "2017-06-20T23:30:53Z", "closed_at": "2017-06-20T23:30:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "`print flatten_json.unflatten(flatten_json.flatten({'data' : [2]}))` :\r\n`{'data': {'0': 2}}`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/15", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/15/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/15/events", "html_url": "https://github.com/amirziai/flatten/issues/15", "id": 223016063, "node_id": "MDU6SXNzdWUyMjMwMTYwNjM=", "number": 15, "title": "unable to convert back", "user": {"login": "AinuX", "id": 2582974, "node_id": "MDQ6VXNlcjI1ODI5NzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2582974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AinuX", "html_url": "https://github.com/AinuX", "followers_url": "https://api.github.com/users/AinuX/followers", "following_url": "https://api.github.com/users/AinuX/following{/other_user}", "gists_url": "https://api.github.com/users/AinuX/gists{/gist_id}", "starred_url": "https://api.github.com/users/AinuX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AinuX/subscriptions", "organizations_url": "https://api.github.com/users/AinuX/orgs", "repos_url": "https://api.github.com/users/AinuX/repos", "events_url": "https://api.github.com/users/AinuX/events{/privacy}", "received_events_url": "https://api.github.com/users/AinuX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 353207447, "node_id": "MDU6TGFiZWwzNTMyMDc0NDc=", "url": "https://api.github.com/repos/amirziai/flatten/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-04-20T10:11:04Z", "updated_at": "2017-12-20T07:53:47Z", "closed_at": "2017-12-20T07:53:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "d = { \"Required\": { \"a\": \"1\", \"b\": [ \"1\", \"2\", \"3\" ], \"c\": { \"d\": { \"e\": [ [{ \"s1\": 1 }, { \"s2\": 2 } ],[{ \"s3\": 1 }, { \"s4\": 2 } ]] } }, \"f\": [ \"1\", \"2\" ] }, \"Optional\": { \"x\": \"1\", \"y\": [ \"1\", \"2\", \"3\" ] } }\r\n\r\nIn [14]: fd = flatten(d, separator=\".\")\r\nIn [15]: fd\r\nOut[15]:\r\n{'Optional.x': '1',\r\n 'Optional.y.0': '1',\r\n 'Optional.y.1': '2',\r\n 'Optional.y.2': '3',\r\n 'Required.a': '1',\r\n 'Required.b.0': '1',\r\n 'Required.b.1': '2',\r\n 'Required.b.2': '3',\r\n 'Required.c.d.e.0.0.s1': 1,\r\n 'Required.c.d.e.0.1.s2': 2,\r\n 'Required.c.d.e.1.0.s3': 1,\r\n 'Required.c.d.e.1.1.s4': 2,\r\n 'Required.f.0': '1',\r\n 'Required.f.1': '2'}\r\n\r\nIn [21]: unflatten_list(fd, separator=\".\")\r\nOut[21]:\r\n{'Optional.x': '1',\r\n 'Optional.y.0': '1',\r\n 'Optional.y.1': '2',\r\n 'Optional.y.2': '3',\r\n 'Required.a': '1',\r\n 'Required.b.0': '1',\r\n 'Required.b.1': '2',\r\n 'Required.b.2': '3',\r\n 'Required.c.d.e.0.0.s1': 1,\r\n 'Required.c.d.e.0.1.s2': 2,\r\n 'Required.c.d.e.1.0.s3': 1,\r\n 'Required.c.d.e.1.1.s4': 2,\r\n 'Required.f.0': '1',\r\n 'Required.f.1': '2'}\r\n\r\nsee the unflatten output, it's not the original json data.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/8", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/8/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/8/events", "html_url": "https://github.com/amirziai/flatten/issues/8", "id": 212955662, "node_id": "MDU6SXNzdWUyMTI5NTU2NjI=", "number": 8, "title": "unflatten_list does not work with more complex cases", "user": {"login": "aquilax", "id": 328067, "node_id": "MDQ6VXNlcjMyODA2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/328067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aquilax", "html_url": "https://github.com/aquilax", "followers_url": "https://api.github.com/users/aquilax/followers", "following_url": "https://api.github.com/users/aquilax/following{/other_user}", "gists_url": "https://api.github.com/users/aquilax/gists{/gist_id}", "starred_url": "https://api.github.com/users/aquilax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aquilax/subscriptions", "organizations_url": "https://api.github.com/users/aquilax/orgs", "repos_url": "https://api.github.com/users/aquilax/repos", "events_url": "https://api.github.com/users/aquilax/events{/privacy}", "received_events_url": "https://api.github.com/users/aquilax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 353207447, "node_id": "MDU6TGFiZWwzNTMyMDc0NDc=", "url": "https://api.github.com/repos/amirziai/flatten/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-03-09T07:24:12Z", "updated_at": "2017-03-10T04:14:25Z", "closed_at": "2017-03-10T04:14:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I am running the following test case on python 3.5.2:\r\n```python\r\n    def test_unflatten_with_list_custom_separator(self):\r\n        \"\"\"Dictionary with lists\"\"\"\r\n        self.maxDiff = None\r\n        dic = {\r\n            'a:b': 'str0',\r\n            'c:0:d:0:e': 'str1',\r\n            'c:0:f': 'str2',\r\n            'c:0:g': 'str3',\r\n            'c:1:d:0:e': 'str4',\r\n            'c:1:f': 'str5',\r\n            'c:1:g': 'str6',\r\n            'h:d:0:e': 'str7',\r\n            'h:i:0:f': 'str8',\r\n            'h:i:0:g': 'str9'\r\n        }\r\n        expected = {\r\n            'a': {'b': 'str0'},\r\n            'c': [\r\n                {\r\n                    'd': [{'e': 'str1'}],\r\n                    'f': 'str2',\r\n                    'g': 'str3'\r\n                }, {\r\n                    'd': [{'e': 'str4'}],\r\n                    'f': 'str5',\r\n                    'g': 'str6'\r\n                }\r\n            ],\r\n            'h': {\r\n                'd': [{'e': 'str7'}],\r\n                'i': [{'f': 'str8', 'g': 'str9'}]\r\n            }\r\n        }\r\n        actual = unflatten_list(dic, ':')\r\n        self.assertEqual(actual, expected)\r\n```\r\n\r\nFirst it fails because the separator is not passed to `unflatten` (fixed in https://github.com/amirziai/flatten/pull/7)\r\n\r\nWhen this is fixed, I get the following error:\r\n```\r\nflatten_json.py:119: in unflatten_list\r\n    _convert_dict_to_list(unflattened_dict, None, None)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nobject_ = {'a': {'b': 'str0'}, 'c': {'0': {'d': {'0': {'e': 'str1'}}, 'f': 'str2', 'g': 'str3'}, '1': {'d': {'0': {'e': 'str4'}}, 'f': 'str5', 'g': 'str6'}}, 'h': {'d': {'0': {'e': 'str7'}}, 'i': {'0': {'f': 'str8', 'g': 'str9'}}}}, parent_object = None\r\nparent_object_key = None\r\n\r\n    def _convert_dict_to_list(object_, parent_object, parent_object_key):\r\n        if isinstance(object_, dict):\r\n            try:\r\n                keys = [int(key) for key in sorted(object_) if\r\n                        not isinstance(object_[key], Iterable) or isinstance(object_[key], str)]\r\n                keys_len = len(keys)\r\n>               if (sum(keys) == int(((keys_len - 1) * keys_len) / 2) and keys[0] == 0 and keys[-1] == keys_len - 1 and\r\n                        check_if_numbers_are_consecutive(keys)):\r\nE                       IndexError: list index out of range\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/amirziai/flatten/issues/4", "repository_url": "https://api.github.com/repos/amirziai/flatten", "labels_url": "https://api.github.com/repos/amirziai/flatten/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/amirziai/flatten/issues/4/comments", "events_url": "https://api.github.com/repos/amirziai/flatten/issues/4/events", "html_url": "https://github.com/amirziai/flatten/issues/4", "id": 208388261, "node_id": "MDU6SXNzdWUyMDgzODgyNjE=", "number": 4, "title": "Maybe unflatten as option?", "user": {"login": "nmaas87", "id": 1331457, "node_id": "MDQ6VXNlcjEzMzE0NTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1331457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmaas87", "html_url": "https://github.com/nmaas87", "followers_url": "https://api.github.com/users/nmaas87/followers", "following_url": "https://api.github.com/users/nmaas87/following{/other_user}", "gists_url": "https://api.github.com/users/nmaas87/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmaas87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmaas87/subscriptions", "organizations_url": "https://api.github.com/users/nmaas87/orgs", "repos_url": "https://api.github.com/users/nmaas87/repos", "events_url": "https://api.github.com/users/nmaas87/events{/privacy}", "received_events_url": "https://api.github.com/users/nmaas87/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 353207449, "node_id": "MDU6TGFiZWwzNTMyMDc0NDk=", "url": "https://api.github.com/repos/amirziai/flatten/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "amirziai", "id": 8961464, "node_id": "MDQ6VXNlcjg5NjE0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8961464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirziai", "html_url": "https://github.com/amirziai", "followers_url": "https://api.github.com/users/amirziai/followers", "following_url": "https://api.github.com/users/amirziai/following{/other_user}", "gists_url": "https://api.github.com/users/amirziai/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirziai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirziai/subscriptions", "organizations_url": "https://api.github.com/users/amirziai/orgs", "repos_url": "https://api.github.com/users/amirziai/repos", "events_url": "https://api.github.com/users/amirziai/events{/privacy}", "received_events_url": "https://api.github.com/users/amirziai/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-02-17T09:46:02Z", "updated_at": "2017-03-08T09:05:02Z", "closed_at": "2017-03-08T09:05:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "First things first: Great module :)!\r\nBut I got a question, could you maybe make an also recursively working unflatten function, so that we could get the old datastructure back? (Yes, one needs to use an seperator which is not used in the keynames, that should be checked as an error while doing that, but other than that it should work :))\r\n\r\nThanks a lot!", "performed_via_github_app": null, "score": 1.0}]}