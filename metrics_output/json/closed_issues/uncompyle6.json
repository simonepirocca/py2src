{"total_count": 13, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/rocky/python-decompile3/issues/43", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/43/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/43/events", "html_url": "https://github.com/rocky/python-decompile3/issues/43", "id": 678952840, "node_id": "MDU6SXNzdWU2Nzg5NTI4NDA=", "number": 43, "title": "Parse error at or near `POP_TOP' instruction (Python 3.8)", "user": {"login": "yuan824", "id": 56957105, "node_id": "MDQ6VXNlcjU2OTU3MTA1", "avatar_url": "https://avatars3.githubusercontent.com/u/56957105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuan824", "html_url": "https://github.com/yuan824", "followers_url": "https://api.github.com/users/yuan824/followers", "following_url": "https://api.github.com/users/yuan824/following{/other_user}", "gists_url": "https://api.github.com/users/yuan824/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuan824/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuan824/subscriptions", "organizations_url": "https://api.github.com/users/yuan824/orgs", "repos_url": "https://api.github.com/users/yuan824/repos", "events_url": "https://api.github.com/users/yuan824/events{/privacy}", "received_events_url": "https://api.github.com/users/yuan824/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2179445033, "node_id": "MDU6TGFiZWwyMTc5NDQ1MDMz", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/Python%203.8", "name": "Python 3.8", "color": "bfdadc", "default": false, "description": ""}, {"id": 2232199119, "node_id": "MDU6TGFiZWwyMjMyMTk5MTE5", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/control%20flow", "name": "control flow", "color": "f9d0c4", "default": false, "description": ""}, {"id": 2277721576, "node_id": "MDU6TGFiZWwyMjc3NzIxNTc2", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/port%20to%20uncompyle6", "name": "port to uncompyle6", "color": "1d76db", "default": false, "description": "Requesting a volunteer to port to uncompyle6"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-14T07:11:23Z", "updated_at": "2020-08-15T11:52:41Z", "closed_at": "2020-08-15T11:52:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I decompiled the pyc, got the following error messages. I had the source code & the script was quite short.\r\nCould you please help to check the issue.\r\nThanks.\r\n\r\n**Environment:**\r\nWin10 with Python 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:20:19) [MSC v.1925 32 bit (Intel)] on win32\r\n\r\n**Reproduce the error:**\r\nD:\\__pycache__>c:Scripts\\decompyle3.exe t38.cpython-38.pyc\r\n\\# decompyle3 version 3.3.2\r\n\\# Python bytecode 3.8 (3413)\r\n\\# Decompiled from: Python 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:20:19) [MSC v.1925 32 bit (Intel)]\r\n\\# Embedded file name: d:/t38.py\r\n\\# Compiled at: 2020-08-14 14:49:04\r\n\\\r\n[t38.py.txt](https://github.com/rocky/python-decompile3/files/5073103/t38.py.txt)\r\n[t38.zip](https://github.com/rocky/python-decompile3/files/5073109/t38.zip)\r\n[t38.zip](https://github.com/rocky/python-decompile3/files/5073116/t38.zip)\r\n\r\n# Size of source mod 2**32: 197 bytes\r\nInstruction context:\r\n\r\n L.  12        36  POP_TOP\r\n->                38  POP_TOP\r\n                  40  LOAD_CONST               0\r\n                  42  RETURN_VALUE\r\n                  44  JUMP_BACK            24  'to 24'\r\n                46_0  COME_FROM            24  '24'\r\n                  46  JUMP_BACK            16  'to 16'\r\n                48_0  COME_FROM            16  '16'\r\ngnb = False\r\nli = [1, 2, 4]\r\n\r\ndef aa--- This code section failed: ---\r\n\r\n L.   5         0  LOAD_GLOBAL              gnb\r\n                2  POP_JUMP_IF_FALSE     8  'to 8'\r\n\r\n L.   6         4  LOAD_CONST               0\r\n                6  RETURN_VALUE\r\n              8_0  COME_FROM             2  '2'\r\n\r\n L.   8         8  LOAD_STR                 'abc'\r\n               10  STORE_FAST               'str'\r\n\r\n L.   9        12  LOAD_FAST                'str'\r\n               14  GET_ITER\r\n             16_0  COME_FROM            46  '46'\r\n               16  FOR_ITER             48  'to 48'\r\n               18  STORE_FAST               'c'\r\n\r\n L.  10        20  LOAD_GLOBAL              li\r\n               22  GET_ITER\r\n             24_0  COME_FROM            44  '44'\r\n             24_1  COME_FROM            34  '34'\r\n               24  FOR_ITER             46  'to 46'\r\n               26  STORE_FAST               'n'\r\n\r\n L.  11        28  LOAD_FAST                'n'\r\n               30  LOAD_CONST               1\r\n               32  COMPARE_OP               ==\r\n               34  POP_JUMP_IF_FALSE_BACK    24  'to 24'\r\n\r\n L.  12        36  POP_TOP\r\n               38  POP_TOP\r\n               40  LOAD_CONST               0\r\n               42  RETURN_VALUE\r\n               44  JUMP_BACK            24  'to 24'\r\n             46_0  COME_FROM            24  '24'\r\n               46  JUMP_BACK            16  'to 16'\r\n             48_0  COME_FROM            16  '16'\r\n\r\n L.  13        48  LOAD_CONST               1\r\n               50  RETURN_VALUE\r\n               -1  RETURN_LAST\r\n\r\nParse error at or near `POP_TOP' instruction at offset 38\r\n\r\n\r\naa()\r\n\r\n\\# file t38.cpython-38.pyc\r\n\\# Deparsing stopped due to parse error\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/42", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/42/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/42/events", "html_url": "https://github.com/rocky/python-decompile3/issues/42", "id": 675529009, "node_id": "MDU6SXNzdWU2NzU1MjkwMDk=", "number": 42, "title": "It didn't work when there is a `return` in an `except` block with an `as`", "user": {"login": "Unnamed-py", "id": 68333826, "node_id": "MDQ6VXNlcjY4MzMzODI2", "avatar_url": "https://avatars0.githubusercontent.com/u/68333826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Unnamed-py", "html_url": "https://github.com/Unnamed-py", "followers_url": "https://api.github.com/users/Unnamed-py/followers", "following_url": "https://api.github.com/users/Unnamed-py/following{/other_user}", "gists_url": "https://api.github.com/users/Unnamed-py/gists{/gist_id}", "starred_url": "https://api.github.com/users/Unnamed-py/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Unnamed-py/subscriptions", "organizations_url": "https://api.github.com/users/Unnamed-py/orgs", "repos_url": "https://api.github.com/users/Unnamed-py/repos", "events_url": "https://api.github.com/users/Unnamed-py/events{/privacy}", "received_events_url": "https://api.github.com/users/Unnamed-py/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2179445033, "node_id": "MDU6TGFiZWwyMTc5NDQ1MDMz", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/Python%203.8", "name": "Python 3.8", "color": "bfdadc", "default": false, "description": ""}, {"id": 2232199119, "node_id": "MDU6TGFiZWwyMjMyMTk5MTE5", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/control%20flow", "name": "control flow", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-08T13:54:05Z", "updated_at": "2020-08-08T17:11:03Z", "closed_at": "2020-08-08T17:10:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\n\r\n<!-- Add a clear and concise description of the bug. -->\r\nThis module does not seem to be able to decompile when there is a `return` in an `except` block with an `as`.\r\n\r\n\r\n## How to Reproduce\r\n\r\n<!-- Please show both the *input* you gave and the\r\noutput you got in describing how to reproduce the bug:\r\n\r\nor give a complete console log with input and output\r\n\r\n```console\r\n$ decompyle3 <command-line-options>\r\n...\r\n$\r\n```\r\n\r\n\r\n\r\nProvide links to the Python bytecode. For example you can create a\r\ngist with the information. If you have the correct source code, you\r\ncan add that too.\r\n\r\n-->\r\n\r\nMy code:\r\n```python\r\nimport decompyle3\r\n\r\n\r\ndef bug():\r\n    try:\r\n        pass\r\n    except ValueError as exc:\r\n        return\r\n\r\n\r\ndecompyle3.deparse_code2str(bug.__code__)\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nInstruction context:\r\n   \r\n L.   8        22  POP_BLOCK        \r\n                  24  POP_EXCEPT       \r\n->                26  CALL_FINALLY         32  'to 32'\r\n                  28  LOAD_CONST               None\r\n                  30  RETURN_VALUE     \r\n                32_0  COME_FROM            26  '26'\r\n                32_1  COME_FROM_FINALLY    20  '20'\r\n                  32  LOAD_CONST               None\r\n                  34  STORE_FAST               'exc'\r\n                  36  DELETE_FAST              'exc'\r\n                  38  END_FINALLY      \r\n                  40  POP_EXCEPT       \r\n                  42  JUMP_FORWARD         46  'to 46'\r\n                44_0  COME_FROM            12  '12'\r\n                  44  END_FINALLY      \r\n                46_0  COME_FROM            42  '42'\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\decompyle3\\semantics\\pysource.py\", line 2127, in build_ast\r\n    ast = python_parser.parse(self.p, tokens, customize, is_lambda=is_lambda)\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\decompyle3\\parsers\\main.py\", line 364, in parse\r\n    ast = p.parse(tokens)\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\spark_parser\\spark.py\", line 501, in parse\r\n    self.error(tokens, i-1)\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\decompyle3\\parsers\\main.py\", line 208, in error\r\n    raise ParserError(err_token, err_token.offset, self.debug[\"reduce\"])\r\ndecompyle3.parsers.main.ParserError: Parse error at or near `CALL_FINALLY' instruction at offset 26\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<my code>\", line 11, in <module>\r\n    decompyle3.deparse_code2str(bug.__code__)\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\decompyle3\\semantics\\pysource.py\", line 2254, in deparse_code2str\r\n    return code_deparse(\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\decompyle3\\semantics\\pysource.py\", line 2199, in code_deparse\r\n    deparsed.ast = deparsed.build_ast(tokens, customize, co, isTopLevel=isTopLevel)\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\decompyle3\\semantics\\pysource.py\", line 2130, in build_ast\r\n    raise ParserError(e, tokens, self.p.debug[\"reduce\"])\r\ndecompyle3.semantics.parser_error.ParserError: --- This code section failed: ---\r\n\r\n L.   5         0  SETUP_FINALLY         6  'to 6'\r\n\r\n L.   6         2  POP_BLOCK        \r\n                4  JUMP_FORWARD         46  'to 46'\r\n              6_0  COME_FROM_FINALLY     0  '0'\r\n\r\n L.   7         6  DUP_TOP          \r\n                8  LOAD_GLOBAL              ValueError\r\n               10  COMPARE_OP               exception-match\r\n               12  POP_JUMP_IF_FALSE    44  'to 44'\r\n               14  POP_TOP          \r\n               16  STORE_FAST               'exc'\r\n               18  POP_TOP          \r\n               20  SETUP_FINALLY        32  'to 32'\r\n\r\n L.   8        22  POP_BLOCK        \r\n               24  POP_EXCEPT       \r\n               26  CALL_FINALLY         32  'to 32'\r\n               28  LOAD_CONST               None\r\n               30  RETURN_VALUE     \r\n             32_0  COME_FROM            26  '26'\r\n             32_1  COME_FROM_FINALLY    20  '20'\r\n               32  LOAD_CONST               None\r\n               34  STORE_FAST               'exc'\r\n               36  DELETE_FAST              'exc'\r\n               38  END_FINALLY      \r\n               40  POP_EXCEPT       \r\n               42  JUMP_FORWARD         46  'to 46'\r\n             44_0  COME_FROM            12  '12'\r\n               44  END_FINALLY      \r\n             46_0  COME_FROM            42  '42'\r\n             46_1  COME_FROM             4  '4'\r\n\r\nParse error at or near `CALL_FINALLY' instruction at offset 26\r\n\r\n```\r\n\r\n## Expected behavior\r\n\r\nI want it to print my raw code in the function `bug`.\r\n<!-- Add a clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\nOS: Windows10 64-bit\r\nPython: 3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)] on win32\r\ndecompyle3.version.VERSION: 3.3.2\r\n\r\n<!-- _This section sometimes is optional but helpful to us._\r\n\r\nPlease modify for your setup\r\n\r\n- Decompyle3 version: output from  `decompyle3 --version` or `pip show decompyle3`\r\n- Python version for the version of Python the byte-compiled the file: `python -c \"import sys; print(sys.version)\"` where `python` is the correct Cpython or Pypy binary.\r\n- OS and Version: [e.g. Ubuntu bionic]\r\n\r\n-->\r\n\r\n## Additional Environment or Context\r\n\r\n<!-- _This section is optional._\r\n\r\nAdd any other context about the problem here or special environment setup.\r\n\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/41", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/41/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/41/events", "html_url": "https://github.com/rocky/python-decompile3/issues/41", "id": 659362124, "node_id": "MDU6SXNzdWU2NTkzNjIxMjQ=", "number": 41, "title": "Decompiling a while loop with multiple conditions is wrong", "user": {"login": "Ninjaclasher", "id": 29607503, "node_id": "MDQ6VXNlcjI5NjA3NTAz", "avatar_url": "https://avatars3.githubusercontent.com/u/29607503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ninjaclasher", "html_url": "https://github.com/Ninjaclasher", "followers_url": "https://api.github.com/users/Ninjaclasher/followers", "following_url": "https://api.github.com/users/Ninjaclasher/following{/other_user}", "gists_url": "https://api.github.com/users/Ninjaclasher/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ninjaclasher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ninjaclasher/subscriptions", "organizations_url": "https://api.github.com/users/Ninjaclasher/orgs", "repos_url": "https://api.github.com/users/Ninjaclasher/repos", "events_url": "https://api.github.com/users/Ninjaclasher/events{/privacy}", "received_events_url": "https://api.github.com/users/Ninjaclasher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2179445033, "node_id": "MDU6TGFiZWwyMTc5NDQ1MDMz", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/Python%203.8", "name": "Python 3.8", "color": "bfdadc", "default": false, "description": ""}, {"id": 2232199119, "node_id": "MDU6TGFiZWwyMjMyMTk5MTE5", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/control%20flow", "name": "control flow", "color": "f9d0c4", "default": false, "description": ""}, {"id": 2179446686, "node_id": "MDU6TGFiZWwyMTc5NDQ2Njg2", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/volunteer%20wanted%20to%20fix", "name": "volunteer wanted to fix", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-17T15:43:36Z", "updated_at": "2020-07-26T19:13:37Z", "closed_at": "2020-07-26T19:08:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\n\r\nThe following Python 3.8.3 code was compiled into bytecode:\r\n**test.py**\r\n```py\r\nb = 'a'\r\nc = 'b'\r\na = 1\r\nwhile a == 1 or b != c:\r\n    a += 1\r\n    if a == 1000000:\r\n        b = 'b'\r\n```\r\n**[test.cpython-38.pyc](https://srv-file7.gofile.io/download/ZZfN38/test.cpython-38.pyc)**\r\n\r\nDecompiling the bytecode results in:\r\n```\r\n$ decompyle3 test.cpython-38.pyc \r\n# decompyle3 version 3.3.2\r\n# Python bytecode 3.8 (3413)\r\n# Decompiled from: Python 3.8.3 (default, May 17 2020, 18:15:42) \r\n# [GCC 10.1.0]\r\n# Embedded file name: test.py\r\n# Compiled at: 2020-07-17 11:25:24\r\n# Size of source mod 2**32: 95 bytes\r\nb = 'a'\r\nc = 'b'\r\na = 1\r\nwhile True:\r\n    if a == 1 or b != c:\r\n        a += 1\r\n        if a == 10000000:\r\n            b = 'b'\r\n# okay decompiling test.cpython-38.pyc\r\n```\r\n\r\nThe original code would break out of the while loop when `a` hit `10000000`, while the decompiled code is wrapped in a `while True`.\r\n\r\nWe can check that the bytecode is correct since running both `python test.py` and `python test.cpython-38.pyc` finishes within 10s, while running the decompiled code does not finish.\r\n\r\n## Environment\r\n```\r\n$ decompyle3 --version\r\ndecompyle3 3.3.2\r\n$ python --version\r\nPython 3.8.3\r\n```\r\nThis code was compiled and decompiled on Arch Linux (x86-64, kernel 5.7.8).\r\n\r\n## Note\r\nI was brought here from [python-uncompyle6](https://github.com/rocky/python-uncompyle6), since my version of Python is 3.7+. However, the decompiled code by `python-uncompyle6` is also incorrect. Instead of being an infinite loop, the while loop is never run. I've included the decompiled code by `python-uncompyle6` in case it may help:\r\n```\r\n$ uncompyle6 test.cpython-38.pyc \r\n# uncompyle6 version 3.7.2\r\n# Python bytecode 3.8 (3413)\r\n# Decompiled from: Python 3.8.3 (default, May 17 2020, 18:15:42) \r\n# [GCC 10.1.0]\r\n# Embedded file name: test.py\r\n# Compiled at: 2020-07-17 11:25:24\r\n# Size of source mod 2**32: 95 bytes\r\nb = 'a'\r\nc = 'b'\r\na = 1\r\nwhile not a == 1:\r\n    if b != c:\r\n        a += 1\r\n        if a == 10000000:\r\n            b = 'b'\r\n# okay decompiling test.cpython-38.pyc\r\n```\r\n`not a == 1` is never true, since `a = 1` is assigned directly above.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/40", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/40/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/40/events", "html_url": "https://github.com/rocky/python-decompile3/issues/40", "id": 650392383, "node_id": "MDU6SXNzdWU2NTAzOTIzODM=", "number": 40, "title": "Another Parse error at or near `RETURN_VALUE' instruction (Python 3.8)", "user": {"login": "yuan824", "id": 56957105, "node_id": "MDQ6VXNlcjU2OTU3MTA1", "avatar_url": "https://avatars3.githubusercontent.com/u/56957105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuan824", "html_url": "https://github.com/yuan824", "followers_url": "https://api.github.com/users/yuan824/followers", "following_url": "https://api.github.com/users/yuan824/following{/other_user}", "gists_url": "https://api.github.com/users/yuan824/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuan824/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuan824/subscriptions", "organizations_url": "https://api.github.com/users/yuan824/orgs", "repos_url": "https://api.github.com/users/yuan824/repos", "events_url": "https://api.github.com/users/yuan824/events{/privacy}", "received_events_url": "https://api.github.com/users/yuan824/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2179445033, "node_id": "MDU6TGFiZWwyMTc5NDQ1MDMz", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/Python%203.8", "name": "Python 3.8", "color": "bfdadc", "default": false, "description": ""}, {"id": 2179446686, "node_id": "MDU6TGFiZWwyMTc5NDQ2Njg2", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/volunteer%20wanted%20to%20fix", "name": "volunteer wanted to fix", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-03T07:08:56Z", "updated_at": "2020-07-05T01:27:13Z", "closed_at": "2020-07-05T01:27:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I decompiled the pyc, got the same error messages as last issue. I had the source code & the script was quite short.\r\nCould you please help to check the issue. \r\nThanks.\r\n\r\n**Environment:**\r\nWin10 with Python 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:20:19) [MSC v.1925 32 bit (Intel)] on win32\r\n\r\n**Reproduce the error:**\r\n_D:\\TEST000\\__pycache__>c:Scripts\\decompyle3.exe ip.cpython-38.pyc\r\n_# decompyle3 version 3.3.2_\r\n_# Python bytecode 3.8 (3413)_\r\n_# Decompiled from: Python 3.8.3 (tags/v3.8.3:6f8c832, May 13 2020, 22:20:19) [MSC v.1925 32 bit (Intel)]_\r\n_# Embedded file name: ip.py_\r\n_# Compiled at: 2020-07-03 14:30:06_\r\n_# Size of source mod 2**32: 267 bytes_\r\nInstruction context:\r\n\r\n L.   5        12  POP_BLOCK\r\n                  14  LOAD_CONST               True\r\n->                16  RETURN_VALUE\r\n                18_0  COME_FROM_FINALLY     0  '0'\r\nimport ipaddress\r\n\r\ndef is_ip_Valid--- This code section failed: ---\r\n\r\n L.   3         0  SETUP_FINALLY        18  'to 18'\r\n\r\n L.   4         2  LOAD_GLOBAL              ipaddress\r\n                4  LOAD_METHOD              ip_address\r\n                6  LOAD_FAST                'ipaddr'\r\n                8  CALL_METHOD_1         1  ''\r\n               10  POP_TOP\r\n\r\n L.   5        12  POP_BLOCK\r\n               14  LOAD_CONST               True\r\n               16  RETURN_VALUE\r\n             18_0  COME_FROM_FINALLY     0  '0'\r\n\r\n L.   6        18  POP_TOP\r\n               20  POP_TOP\r\n               22  POP_TOP\r\n\r\n L.   7        24  POP_EXCEPT\r\n               26  LOAD_CONST               False\r\n               28  RETURN_VALUE\r\n               30  END_FINALLY\r\n\r\nParse error at or near `RETURN_VALUE' instruction at offset 16\r\n\r\n\r\n_if __name__ == '__main__':_\r\n    print(is_ip_Valid('2001:db8::'))\r\n    print(is_ip_Valid('192.168.168.1'))\r\n\r\n_# file ip.cpython-38.pyc_\r\n_# Deparsing stopped due to parse error_\r\n\r\n**Source code:**\r\n[ip.py.txt](https://github.com/rocky/python-decompile3/files/4868191/ip.py.txt)\r\n**Zipped compiled code:**\r\n[ip.cpython-38.pyc.zip](https://github.com/rocky/python-decompile3/files/4868193/ip.cpython-38.pyc.zip)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/39", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/39/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/39/events", "html_url": "https://github.com/rocky/python-decompile3/issues/39", "id": 609583759, "node_id": "MDU6SXNzdWU2MDk1ODM3NTk=", "number": 39, "title": "This package is not supported for Python version", "user": {"login": "dima-online", "id": 35094556, "node_id": "MDQ6VXNlcjM1MDk0NTU2", "avatar_url": "https://avatars3.githubusercontent.com/u/35094556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dima-online", "html_url": "https://github.com/dima-online", "followers_url": "https://api.github.com/users/dima-online/followers", "following_url": "https://api.github.com/users/dima-online/following{/other_user}", "gists_url": "https://api.github.com/users/dima-online/gists{/gist_id}", "starred_url": "https://api.github.com/users/dima-online/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dima-online/subscriptions", "organizations_url": "https://api.github.com/users/dima-online/orgs", "repos_url": "https://api.github.com/users/dima-online/repos", "events_url": "https://api.github.com/users/dima-online/events{/privacy}", "received_events_url": "https://api.github.com/users/dima-online/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1367980271, "node_id": "MDU6TGFiZWwxMzY3OTgwMjcx", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-30T05:09:04Z", "updated_at": "2020-04-30T05:24:59Z", "closed_at": "2020-04-30T05:24:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Distributor ID: Ubuntu\r\nDescription:    Ubuntu 18.04.4 LTS\r\nRelease:        18.04\r\nCodename:       bionic\r\nPython 3.6.9\r\n\r\nroot@ubuntu:/opt/python-decompile3# pip install -e .\r\nObtaining file:///opt/python-decompile3\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/opt/python-decompile3/setup.py\", line 8\r\n        mess = f\"\\nThis package is not supported for Python version {sys.version[0:3]}.\"\r\n                                                                                       ^\r\n    SyntaxError: invalid syntax\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /opt/python-decompile3/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/38", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/38/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/38/events", "html_url": "https://github.com/rocky/python-decompile3/issues/38", "id": 608700101, "node_id": "MDU6SXNzdWU2MDg3MDAxMDE=", "number": 38, "title": "Syntax error in linenumbers.py", "user": {"login": "ckuethe", "id": 1131751, "node_id": "MDQ6VXNlcjExMzE3NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1131751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ckuethe", "html_url": "https://github.com/ckuethe", "followers_url": "https://api.github.com/users/ckuethe/followers", "following_url": "https://api.github.com/users/ckuethe/following{/other_user}", "gists_url": "https://api.github.com/users/ckuethe/gists{/gist_id}", "starred_url": "https://api.github.com/users/ckuethe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ckuethe/subscriptions", "organizations_url": "https://api.github.com/users/ckuethe/orgs", "repos_url": "https://api.github.com/users/ckuethe/repos", "events_url": "https://api.github.com/users/ckuethe/events{/privacy}", "received_events_url": "https://api.github.com/users/ckuethe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-29T00:35:04Z", "updated_at": "2020-05-11T21:06:55Z", "closed_at": "2020-05-11T21:06:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/rocky/python-decompile3/blob/2d579e9d6dc9fafef00d7544300b197f5818adf0/decompyle3/linenumbers.py#L18", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/35", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/35/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/35/events", "html_url": "https://github.com/rocky/python-decompile3/issues/35", "id": 592724719, "node_id": "MDU6SXNzdWU1OTI3MjQ3MTk=", "number": 35, "title": "Parse error at or near `RETURN_VALUE' instruction (Python 3.8)", "user": {"login": "abmyii", "id": 52673001, "node_id": "MDQ6VXNlcjUyNjczMDAx", "avatar_url": "https://avatars0.githubusercontent.com/u/52673001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abmyii", "html_url": "https://github.com/abmyii", "followers_url": "https://api.github.com/users/abmyii/followers", "following_url": "https://api.github.com/users/abmyii/following{/other_user}", "gists_url": "https://api.github.com/users/abmyii/gists{/gist_id}", "starred_url": "https://api.github.com/users/abmyii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abmyii/subscriptions", "organizations_url": "https://api.github.com/users/abmyii/orgs", "repos_url": "https://api.github.com/users/abmyii/repos", "events_url": "https://api.github.com/users/abmyii/events{/privacy}", "received_events_url": "https://api.github.com/users/abmyii/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2179445033, "node_id": "MDU6TGFiZWwyMTc5NDQ1MDMz", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/Python%203.8", "name": "Python 3.8", "color": "bfdadc", "default": false, "description": ""}, {"id": 1708874199, "node_id": "MDU6TGFiZWwxNzA4ODc0MTk5", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/insufficient%20bug%20report", "name": "insufficient bug report", "color": "b73361", "default": false, "description": ""}, {"id": 2179446686, "node_id": "MDU6TGFiZWwyMTc5NDQ2Njg2", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/volunteer%20wanted%20to%20fix", "name": "volunteer wanted to fix", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-02T15:33:25Z", "updated_at": "2020-07-27T10:35:52Z", "closed_at": "2020-07-27T10:28:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Note, to reproduce this, the patch mentioned in https://github.com/rocky/python-uncompyle6/issues/310 has to be applied.\r\n\r\nThe parsing error given (inline - in the file attached below):\r\n```\r\n L. 572       318  POP_TOP\r\n              320  LOAD_STR                 '0'\r\n              322  RETURN_VALUE\r\n            324_0  COME_FROM           306  '306'\r\n\r\nParse error at or near `RETURN_VALUE' instruction at offset 322\r\n```\r\n\r\nLink to the output file: https://gofile.io/?c=36HCJy\r\nLink to the `pyc` file: https://gofile.io/?c=MV8jCW", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/26", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/26/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/26/events", "html_url": "https://github.com/rocky/python-decompile3/issues/26", "id": 530797330, "node_id": "MDU6SXNzdWU1MzA3OTczMzA=", "number": 26, "title": "ImportError: Ill-formed bytecode file", "user": {"login": "DjarDjar", "id": 47333952, "node_id": "MDQ6VXNlcjQ3MzMzOTUy", "avatar_url": "https://avatars1.githubusercontent.com/u/47333952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DjarDjar", "html_url": "https://github.com/DjarDjar", "followers_url": "https://api.github.com/users/DjarDjar/followers", "following_url": "https://api.github.com/users/DjarDjar/following{/other_user}", "gists_url": "https://api.github.com/users/DjarDjar/gists{/gist_id}", "starred_url": "https://api.github.com/users/DjarDjar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DjarDjar/subscriptions", "organizations_url": "https://api.github.com/users/DjarDjar/orgs", "repos_url": "https://api.github.com/users/DjarDjar/repos", "events_url": "https://api.github.com/users/DjarDjar/events{/privacy}", "received_events_url": "https://api.github.com/users/DjarDjar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1708874199, "node_id": "MDU6TGFiZWwxNzA4ODc0MTk5", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/insufficient%20bug%20report", "name": "insufficient bug report", "color": "b73361", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-01T21:17:52Z", "updated_at": "2019-12-02T11:28:28Z", "closed_at": "2019-12-02T01:36:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have problem with decompiling an exe. I kinda deleted the wrong folder and now Im left with the exe, made by pyinstaller and nothing else. So basically I googled how to decompile pyinstaller exes and I found that first I use this: https://github.com/countercept/python-exe-unpacker/blob/master/pyinstxtractor.py to convert to .pyc files and then:\r\n\r\n`uncompyle6: (It turns out that this one isn't supported, so then I found decompyle3, though a stackoverflow question.)`\r\nto get the source. The problem is that pyinstxtractor doesn't return the source code in .pyc format so I basically had to convert it myself and then add the \"magic numbers\" to it so that decompyle3 sees it as .pyc. So then I write\r\n\r\n`decompyle3 name_of_pyc.pyc`\r\nand i get this error: https://prnt.sc/q4r0my. I know that has something to do with the python version but please help, I don't wanna lose my work lmao.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/25", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/25/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/25/events", "html_url": "https://github.com/rocky/python-decompile3/issues/25", "id": 529065896, "node_id": "MDU6SXNzdWU1MjkwNjU4OTY=", "number": 25, "title": "3.8 \"breaks\" are broken ", "user": {"login": "treatmesubj", "id": 39680353, "node_id": "MDQ6VXNlcjM5NjgwMzUz", "avatar_url": "https://avatars0.githubusercontent.com/u/39680353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/treatmesubj", "html_url": "https://github.com/treatmesubj", "followers_url": "https://api.github.com/users/treatmesubj/followers", "following_url": "https://api.github.com/users/treatmesubj/following{/other_user}", "gists_url": "https://api.github.com/users/treatmesubj/gists{/gist_id}", "starred_url": "https://api.github.com/users/treatmesubj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/treatmesubj/subscriptions", "organizations_url": "https://api.github.com/users/treatmesubj/orgs", "repos_url": "https://api.github.com/users/treatmesubj/repos", "events_url": "https://api.github.com/users/treatmesubj/events{/privacy}", "received_events_url": "https://api.github.com/users/treatmesubj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-27T01:47:18Z", "updated_at": "2019-12-02T16:35:16Z", "closed_at": "2019-12-02T16:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Used honest-come-froms branch\r\n## Expected Script\r\n```\r\nx = 3\r\nwhile True:\r\n    try:\r\n        print(4 / x)\r\n        x -= 1\r\n    except Exception:\r\n        break\r\n```\r\n## Bytecode\r\n```\r\n550d 0d0a 0000 0000 dcd2 dd5d 6a00 0000\r\ne300 0000 0000 0000 0000 0000 0000 0000\r\n0008 0000 0040 0000 0073 3c00 0000 6400\r\n5a00 7a18 6501 6401 6500 1b00 8301 0100\r\n6500 6402 3800 5a00 5700 7104 0400 6502\r\n6b0a 7234 0100 0100 0100 5900 7138 5900\r\n7104 5800 7104 6403 5300 2904 e903 0000\r\n00e9 0400 0000 e901 0000 004e 2903 da01\r\n78da 0570 7269 6e74 da09 4578 6365 7074\r\n696f 6ea9 0072 0700 0000 7207 0000 007a\r\n0774 6573 742e 7079 da08 3c6d 6f64 756c\r\n653e 0100 0000 730a 0000 0004 0202 010c\r\n010c 010e 01\r\n```\r\n## Console Output\r\n```\r\nC:\\Users\\JohnHupperts\\Desktop\\Python Projects\\Experiments\\testdecompiles\\dist\\test\\test.exe_extracted>decompyle3 test.pyc\r\n# decompyle3 version 3.3.2\r\n# Python bytecode 3.8 (3413)\r\n# Decompiled from: Python 3.8.0 (tags/v3.8.0:fa919fd, Oct 14 2019, 19:21:23) [MSC v.1916 32 bit (Intel)]\r\n# Embedded file name: test.py\r\n# Size of source mod 2**32: 106 bytes\r\nInstruction context:\r\n\r\n   7      44  POP_EXCEPT\r\n             46  JUMP_ABSOLUTE        56  'to 56'\r\n->           48  POP_EXCEPT\r\n             50  JUMP_BACK             4  'to 4'\r\n           52_0  COME_FROM            36  '36'\r\n             52  END_FINALLY\r\n             54  JUMP_BACK             4  'to 4'\r\n\r\n\r\n# file test.pyc\r\n# --- This code section failed: ---\r\n\r\n   1       0  LOAD_CONST               3\r\n           2  STORE_NAME               x\r\n\r\n   3       4  SETUP_FINALLY        30  'to 30'\r\n\r\n   4       6  LOAD_NAME                print\r\n           8  LOAD_CONST               4\r\n          10  LOAD_NAME                x\r\n          12  BINARY_TRUE_DIVIDE\r\n          14  CALL_FUNCTION_1       1  ''\r\n          16  POP_TOP\r\n\r\n   5      18  LOAD_NAME                x\r\n          20  LOAD_CONST               1\r\n          22  INPLACE_SUBTRACT\r\n          24  STORE_NAME               x\r\n          26  POP_BLOCK\r\n          28  JUMP_BACK             4  'to 4'\r\n        30_0  COME_FROM_FINALLY     4  '4'\r\n\r\n   6      30  DUP_TOP\r\n          32  LOAD_NAME                Exception\r\n          34  COMPARE_OP               exception-match\r\n          36  POP_JUMP_IF_FALSE    52  'to 52'\r\n          38  POP_TOP\r\n          40  POP_TOP\r\n          42  POP_TOP\r\n\r\n   7      44  POP_EXCEPT\r\n          46  JUMP_ABSOLUTE        56  'to 56'\r\n          48  POP_EXCEPT\r\n          50  JUMP_BACK             4  'to 4'\r\n        52_0  COME_FROM            36  '36'\r\n          52  END_FINALLY\r\n          54  JUMP_BACK             4  'to 4'\r\n        56_0  COME_FROM_EXCEPT_CLAUSE    46  '46'\r\n\r\nParse error at or near `POP_EXCEPT' instruction at offset 48\r\n```\r\n## Environment\r\nWindows 10, Python 3.8, decompyle3 - latest version", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/22", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/22/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/22/events", "html_url": "https://github.com/rocky/python-decompile3/issues/22", "id": 469876962, "node_id": "MDU6SXNzdWU0Njk4NzY5NjI=", "number": 22, "title": "Tree transformation phase is not adding semantic function customization rules.", "user": {"login": "rocky", "id": 8851, "node_id": "MDQ6VXNlcjg4NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/8851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rocky", "html_url": "https://github.com/rocky", "followers_url": "https://api.github.com/users/rocky/followers", "following_url": "https://api.github.com/users/rocky/following{/other_user}", "gists_url": "https://api.github.com/users/rocky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rocky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rocky/subscriptions", "organizations_url": "https://api.github.com/users/rocky/orgs", "repos_url": "https://api.github.com/users/rocky/repos", "events_url": "https://api.github.com/users/rocky/events{/privacy}", "received_events_url": "https://api.github.com/users/rocky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "x0ret", "id": 50447007, "node_id": "MDQ6VXNlcjUwNDQ3MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/50447007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/x0ret", "html_url": "https://github.com/x0ret", "followers_url": "https://api.github.com/users/x0ret/followers", "following_url": "https://api.github.com/users/x0ret/following{/other_user}", "gists_url": "https://api.github.com/users/x0ret/gists{/gist_id}", "starred_url": "https://api.github.com/users/x0ret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/x0ret/subscriptions", "organizations_url": "https://api.github.com/users/x0ret/orgs", "repos_url": "https://api.github.com/users/x0ret/repos", "events_url": "https://api.github.com/users/x0ret/events{/privacy}", "received_events_url": "https://api.github.com/users/x0ret/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "x0ret", "id": 50447007, "node_id": "MDQ6VXNlcjUwNDQ3MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/50447007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/x0ret", "html_url": "https://github.com/x0ret", "followers_url": "https://api.github.com/users/x0ret/followers", "following_url": "https://api.github.com/users/x0ret/following{/other_user}", "gists_url": "https://api.github.com/users/x0ret/gists{/gist_id}", "starred_url": "https://api.github.com/users/x0ret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/x0ret/subscriptions", "organizations_url": "https://api.github.com/users/x0ret/orgs", "repos_url": "https://api.github.com/users/x0ret/repos", "events_url": "https://api.github.com/users/x0ret/events{/privacy}", "received_events_url": "https://api.github.com/users/x0ret/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-07-18T16:46:58Z", "updated_at": "2019-07-30T12:21:13Z", "closed_at": "2019-07-30T12:21:13Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Consider this program taken for `01_fstring.py`:\r\n\r\n```python\r\ndef _repr_fn(fields):\r\n    return testit('__repr__',\r\n                  ('self',),\r\n                  ['return xx + f\"(' +\r\n                   ', '.join([f\"{f}={{self.{f}!r}}\"\r\n                              for f in fields]) +\r\n                   ')\"'])\r\n```\r\n\r\nPre commmit 1aa6f00 this was not decompiing properly because there was no semantic rule for `CALL_METHOD_1`  so the `testit` call `(`, ')`  and `,` disappear. \r\n\r\nIf you uncomment out https://github.com/rocky/python-decompile3/commit/1aa6f008c40f98edd64a0e42c74ae9f549eca98a#diff-1d363324084c476e417a8c8da17df69cR410 you will see `CALL_METHOD_1` appearing in `customize` the set of semantic action rules that need to be customized. \r\n\r\nHowever if you now uncomment the code that starts at https://github.com/rocky/python-decompile3/commit/1aa6f008c40f98edd64a0e42c74ae9f549eca98a#diff-02b4d783e57c0af1f6663933c6f45599R2321 you will see that all of this disappears. \r\n\r\nSo something in doing the tree transformation is not adding the customization and/or prevents the non transform pass from adding it. \r\n\r\nConceptually, I understand why this might be: the first filter pass might not fully traverse the ast tree and follow all code that gets generated. However it might also a problem of removing as well as not adding. There are places like https://github.com/rocky/python-decompile3/commit/1aa6f008c40f98edd64a0e42c74ae9f549eca98a#diff-1d363324084c476e417a8c8da17df69cR413 which do remove customization items. \r\n\r\n@x0ret  Would you look at this? If you don't have time or don't want to let me know and I will fix when I get a chance. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/10", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/10/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/10/events", "html_url": "https://github.com/rocky/python-decompile3/issues/10", "id": 453870443, "node_id": "MDU6SXNzdWU0NTM4NzA0NDM=", "number": 10, "title": "function signature bug with star_arg", "user": {"login": "rocky", "id": 8851, "node_id": "MDQ6VXNlcjg4NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/8851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rocky", "html_url": "https://github.com/rocky", "followers_url": "https://api.github.com/users/rocky/followers", "following_url": "https://api.github.com/users/rocky/following{/other_user}", "gists_url": "https://api.github.com/users/rocky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rocky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rocky/subscriptions", "organizations_url": "https://api.github.com/users/rocky/orgs", "repos_url": "https://api.github.com/users/rocky/repos", "events_url": "https://api.github.com/users/rocky/events{/privacy}", "received_events_url": "https://api.github.com/users/rocky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "x0ret", "id": 50447007, "node_id": "MDQ6VXNlcjUwNDQ3MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/50447007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/x0ret", "html_url": "https://github.com/x0ret", "followers_url": "https://api.github.com/users/x0ret/followers", "following_url": "https://api.github.com/users/x0ret/following{/other_user}", "gists_url": "https://api.github.com/users/x0ret/gists{/gist_id}", "starred_url": "https://api.github.com/users/x0ret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/x0ret/subscriptions", "organizations_url": "https://api.github.com/users/x0ret/orgs", "repos_url": "https://api.github.com/users/x0ret/repos", "events_url": "https://api.github.com/users/x0ret/events{/privacy}", "received_events_url": "https://api.github.com/users/x0ret/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "x0ret", "id": 50447007, "node_id": "MDQ6VXNlcjUwNDQ3MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/50447007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/x0ret", "html_url": "https://github.com/x0ret", "followers_url": "https://api.github.com/users/x0ret/followers", "following_url": "https://api.github.com/users/x0ret/following{/other_user}", "gists_url": "https://api.github.com/users/x0ret/gists{/gist_id}", "starred_url": "https://api.github.com/users/x0ret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/x0ret/subscriptions", "organizations_url": "https://api.github.com/users/x0ret/orgs", "repos_url": "https://api.github.com/users/x0ret/repos", "events_url": "https://api.github.com/users/x0ret/events{/privacy}", "received_events_url": "https://api.github.com/users/x0ret/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-06-09T07:07:59Z", "updated_at": "2019-06-15T10:05:05Z", "closed_at": "2019-06-15T10:05:05Z", "author_association": "OWNER", "active_lock_reason": null, "body": "```\r\ndef test9(x=55, *varargs: int, y=5, **kwargs):\r\n    pass \r\n```\r\ndeparses as:\r\n\r\n```\r\ndef test9(x=55, *y: int, y=5, **kwargs):\r\n    pass \r\n```\r\n\r\nThe bug is somewhere in [make_function.py](https://github.com/rocky/python-decompile3/blob/master/decompyle3/semantics/make_function.py#L659-L666)\r\n\r\nWe most likely have the same bug in uncompyle6.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/4", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/4/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/4/events", "html_url": "https://github.com/rocky/python-decompile3/issues/4", "id": 451366406, "node_id": "MDU6SXNzdWU0NTEzNjY0MDY=", "number": 4, "title": "Add annotation types from ANNOTATION opcode", "user": {"login": "rocky", "id": 8851, "node_id": "MDQ6VXNlcjg4NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/8851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rocky", "html_url": "https://github.com/rocky", "followers_url": "https://api.github.com/users/rocky/followers", "following_url": "https://api.github.com/users/rocky/following{/other_user}", "gists_url": "https://api.github.com/users/rocky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rocky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rocky/subscriptions", "organizations_url": "https://api.github.com/users/rocky/orgs", "repos_url": "https://api.github.com/users/rocky/repos", "events_url": "https://api.github.com/users/rocky/events{/privacy}", "received_events_url": "https://api.github.com/users/rocky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1367980262, "node_id": "MDU6TGFiZWwxMzY3OTgwMjYy", "url": "https://api.github.com/repos/rocky/python-decompile3/labels/help%20wanted", "name": "help wanted", "color": "008672", "default": true, "description": "Extra attention is needed"}], "state": "closed", "locked": false, "assignee": {"login": "x0ret", "id": 50447007, "node_id": "MDQ6VXNlcjUwNDQ3MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/50447007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/x0ret", "html_url": "https://github.com/x0ret", "followers_url": "https://api.github.com/users/x0ret/followers", "following_url": "https://api.github.com/users/x0ret/following{/other_user}", "gists_url": "https://api.github.com/users/x0ret/gists{/gist_id}", "starred_url": "https://api.github.com/users/x0ret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/x0ret/subscriptions", "organizations_url": "https://api.github.com/users/x0ret/orgs", "repos_url": "https://api.github.com/users/x0ret/repos", "events_url": "https://api.github.com/users/x0ret/events{/privacy}", "received_events_url": "https://api.github.com/users/x0ret/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "x0ret", "id": 50447007, "node_id": "MDQ6VXNlcjUwNDQ3MDA3", "avatar_url": "https://avatars3.githubusercontent.com/u/50447007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/x0ret", "html_url": "https://github.com/x0ret", "followers_url": "https://api.github.com/users/x0ret/followers", "following_url": "https://api.github.com/users/x0ret/following{/other_user}", "gists_url": "https://api.github.com/users/x0ret/gists{/gist_id}", "starred_url": "https://api.github.com/users/x0ret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/x0ret/subscriptions", "organizations_url": "https://api.github.com/users/x0ret/orgs", "repos_url": "https://api.github.com/users/x0ret/repos", "events_url": "https://api.github.com/users/x0ret/events{/privacy}", "received_events_url": "https://api.github.com/users/x0ret/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-03T08:56:17Z", "updated_at": "2019-06-06T10:12:15Z", "closed_at": "2019-06-06T10:12:15Z", "author_association": "OWNER", "active_lock_reason": null, "body": "## Description\r\n\r\nShow annotation types in function signatures\r\n\r\n## Background\r\n\r\nRight now we only show annotation types for return values of functions. Showing them for the parameters is straight-forward. Changes should only be needed in the `semantics` directory. \r\n\r\nWe have code to handle earlier (3.3 or so) annotations.See the annotation parameter in [`MAKE_FUNCTION`](https://docs.python.org/3/library/dis.html?highlight=annotation#opcode-MAKE_FUNCTION).  [unpy37](ttps://github.com/andrew-tavera/unpyc37/) I believe handles this correctly too. \r\n\r\n## Tests\r\nDecomping a compiled version of: \r\n\r\n```\r\ndef foo(a, b: 'annotating b', c: int) -> float:\r\n    print(a + b + c)\r\n```\r\n\r\nshould show parameters `b`, and `c` annotated with their types.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/rocky/python-decompile3/issues/2", "repository_url": "https://api.github.com/repos/rocky/python-decompile3", "labels_url": "https://api.github.com/repos/rocky/python-decompile3/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/rocky/python-decompile3/issues/2/comments", "events_url": "https://api.github.com/repos/rocky/python-decompile3/issues/2/events", "html_url": "https://github.com/rocky/python-decompile3/issues/2", "id": 448251163, "node_id": "MDU6SXNzdWU0NDgyNTExNjM=", "number": 2, "title": "Unicode docstrings", "user": {"login": "rocky", "id": 8851, "node_id": "MDQ6VXNlcjg4NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/8851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rocky", "html_url": "https://github.com/rocky", "followers_url": "https://api.github.com/users/rocky/followers", "following_url": "https://api.github.com/users/rocky/following{/other_user}", "gists_url": "https://api.github.com/users/rocky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rocky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rocky/subscriptions", "organizations_url": "https://api.github.com/users/rocky/orgs", "repos_url": "https://api.github.com/users/rocky/repos", "events_url": "https://api.github.com/users/rocky/events{/privacy}", "received_events_url": "https://api.github.com/users/rocky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-24T16:18:20Z", "updated_at": "2019-05-29T02:03:02Z", "closed_at": "2019-05-29T02:03:02Z", "author_association": "OWNER", "active_lock_reason": null, "body": "See https://github.com/rocky/python-uncompyle6/issues/241", "performed_via_github_app": null, "score": 1.0}]}