{"total_count": 3, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/9", "repository_url": "https://api.github.com/repos/jklukas/sqlalchemy-views", "labels_url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/9/comments", "events_url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/9/events", "html_url": "https://github.com/jklukas/sqlalchemy-views/issues/9", "id": 644174700, "node_id": "MDU6SXNzdWU2NDQxNzQ3MDA=", "number": 9, "title": "test_basic_view fails", "user": {"login": "wadetregaskis-linkedin", "id": 53880436, "node_id": "MDQ6VXNlcjUzODgwNDM2", "avatar_url": "https://avatars0.githubusercontent.com/u/53880436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wadetregaskis-linkedin", "html_url": "https://github.com/wadetregaskis-linkedin", "followers_url": "https://api.github.com/users/wadetregaskis-linkedin/followers", "following_url": "https://api.github.com/users/wadetregaskis-linkedin/following{/other_user}", "gists_url": "https://api.github.com/users/wadetregaskis-linkedin/gists{/gist_id}", "starred_url": "https://api.github.com/users/wadetregaskis-linkedin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wadetregaskis-linkedin/subscriptions", "organizations_url": "https://api.github.com/users/wadetregaskis-linkedin/orgs", "repos_url": "https://api.github.com/users/wadetregaskis-linkedin/repos", "events_url": "https://api.github.com/users/wadetregaskis-linkedin/events{/privacy}", "received_events_url": "https://api.github.com/users/wadetregaskis-linkedin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-23T22:01:04Z", "updated_at": "2020-06-24T13:41:40Z", "closed_at": "2020-06-24T13:41:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n============================================================================================================================ test session starts =============================================================================================================================\r\nplatform darwin -- Python 3.7.6, pytest-5.4.3, py-1.8.2, pluggy-0.13.1\r\nrootdir: /Users/wtregask/Documents/GitHub/sqlalchemy-views\r\ncollected 13 items                                                                                                                                                                                                                                                           \r\n\r\ntests/test_views.py ..F.........                                                                                                                                                                                                                                       [ 92%]\r\nREADME.rst .                                                                                                                                                                                                                                                           [100%]\r\n\r\n================================================================================================================================== FAILURES ==================================================================================================================================\r\n________________________________________________________________________________________ test_basic_view[myschema-schema_map2-CREATE VIEW myview AS SELECT t1.col1, t1.col2 FROM t1] _________________________________________________________________________________________\r\n\r\nschema = 'myschema', schema_map = {'myschema': None}, expected_result = 'CREATE VIEW myview AS SELECT t1.col1, t1.col2 FROM t1'\r\n\r\n    @pytest.mark.parametrize(\"schema,schema_map,expected_result\", [\r\n        (None, None, \"CREATE VIEW myview AS SELECT t1.col1, t1.col2 FROM t1\"),\r\n        ('myschema', None, \"CREATE VIEW myschema.myview AS SELECT myschema.t1.col1, myschema.t1.col2 FROM myschema.t1\"),\r\n        ('myschema', {'myschema': None}, \"CREATE VIEW myview AS SELECT t1.col1, t1.col2 FROM t1\"),\r\n        ])\r\n    def test_basic_view(schema, schema_map, expected_result):\r\n        t1 = Table('t1', sa.MetaData(schema=schema),\r\n                   sa.Column('col1', sa.Integer(), primary_key=True),\r\n                   sa.Column('col2', sa.Integer()))\r\n        selectable = sa.sql.select([t1])\r\n        view = Table('myview', sa.MetaData(schema=schema))\r\n        create_view = CreateView(view, selectable)\r\n        actual = compile_query(create_view, schema_translate_map=schema_map)\r\n>       assert clean(expected_result) == clean(actual)\r\nE       AssertionError: assert 'CREATE VIEW ....col2 FROM t1' == 'CREATE VIEW ...M myschema.t1'\r\nE         - CREATE VIEW myview AS SELECT myschema.t1.col1, myschema.t1.col2 FROM myschema.t1\r\nE         ?                              ---------         ---------             ---------\r\nE         + CREATE VIEW myview AS SELECT t1.col1, t1.col2 FROM t1\r\n\r\ntests/test_views.py:38: AssertionError\r\n========================================================================================================================== short test summary info ===========================================================================================================================\r\nFAILED tests/test_views.py::test_basic_view[myschema-schema_map2-CREATE VIEW myview AS SELECT t1.col1, t1.col2 FROM t1] - AssertionError: assert 'CREATE VIEW ....col2 FROM t1' == 'CREATE VIEW ...M myschema.t1'\r\n======================================================================================================================== 1 failed, 12 passed in 0.27s ========================================================================================================================\r\n```\r\n\r\n```\r\nPackage            Version\r\n------------------ -------\r\nattrs              19.3.0 \r\nflake8             3.8.3  \r\nimportlib-metadata 1.6.1  \r\nmccabe             0.6.1  \r\nmore-itertools     8.4.0  \r\npackaging          20.4   \r\nPaver              1.3.4  \r\npip                19.2.3 \r\npluggy             0.13.1 \r\npy                 1.8.2  \r\npycodestyle        2.6.0  \r\npyflakes           2.2.0  \r\npyparsing          2.4.7  \r\npytest             5.4.3  \r\nsetuptools         41.2.0 \r\nsix                1.15.0 \r\nSQLAlchemy         1.3.17 \r\nwcwidth            0.2.5  \r\nzipp               3.1.0 \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/3", "repository_url": "https://api.github.com/repos/jklukas/sqlalchemy-views", "labels_url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/3/comments", "events_url": "https://api.github.com/repos/jklukas/sqlalchemy-views/issues/3/events", "html_url": "https://github.com/jklukas/sqlalchemy-views/issues/3", "id": 311468185, "node_id": "MDU6SXNzdWUzMTE0NjgxODU=", "number": 3, "title": "Version compatibility", "user": {"login": "ryanermita", "id": 4478433, "node_id": "MDQ6VXNlcjQ0Nzg0MzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4478433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanermita", "html_url": "https://github.com/ryanermita", "followers_url": "https://api.github.com/users/ryanermita/followers", "following_url": "https://api.github.com/users/ryanermita/following{/other_user}", "gists_url": "https://api.github.com/users/ryanermita/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanermita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanermita/subscriptions", "organizations_url": "https://api.github.com/users/ryanermita/orgs", "repos_url": "https://api.github.com/users/ryanermita/repos", "events_url": "https://api.github.com/users/ryanermita/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanermita/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-05T04:22:25Z", "updated_at": "2018-04-06T00:05:13Z", "closed_at": "2018-04-05T12:16:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The codebase was updated last 3 years ago.\r\nis this still compatible with `SQLAlchemy version 1.2.0b3` ?", "performed_via_github_app": null, "score": 1.0}]}