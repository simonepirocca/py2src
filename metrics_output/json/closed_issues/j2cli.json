{"total_count": 23, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/kolypto/j2cli/issues/46", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/46/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/46/events", "html_url": "https://github.com/kolypto/j2cli/issues/46", "id": 502973404, "node_id": "MDU6SXNzdWU1MDI5NzM0MDQ=", "number": 46, "title": "The--import-env/-e option is broken", "user": {"login": "sean8223", "id": 227927, "node_id": "MDQ6VXNlcjIyNzkyNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/227927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sean8223", "html_url": "https://github.com/sean8223", "followers_url": "https://api.github.com/users/sean8223/followers", "following_url": "https://api.github.com/users/sean8223/following{/other_user}", "gists_url": "https://api.github.com/users/sean8223/gists{/gist_id}", "starred_url": "https://api.github.com/users/sean8223/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sean8223/subscriptions", "organizations_url": "https://api.github.com/users/sean8223/orgs", "repos_url": "https://api.github.com/users/sean8223/repos", "events_url": "https://api.github.com/users/sean8223/events{/privacy}", "received_events_url": "https://api.github.com/users/sean8223/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-05T14:56:13Z", "updated_at": "2019-10-05T17:35:09Z", "closed_at": "2019-10-05T17:35:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Setting a value for the --import-env/-e option causes the program to crash with the following error:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/sean/Source/gcp-proto/venv/bin/j2\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/sean/Source/gcp-proto/venv/lib/python3.7/site-packages/j2cli/cli.py\", line 206, in main\r\n    sys.argv[1:]\r\n  File \"/Users/sean/Source/gcp-proto/venv/lib/python3.7/site-packages/j2cli/cli.py\", line 163, in render_command\r\n    args.import_env\r\n  File \"/Users/sean/Source/gcp-proto/venv/lib/python3.7/site-packages/j2cli/context.py\", line 207, in read_context_data\r\n    context[import_env] = environ\r\nTypeError: 'filter' object does not support item assignment\r\n\r\nThis happens for all input formats.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/40", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/40/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/40/events", "html_url": "https://github.com/kolypto/j2cli/issues/40", "id": 453165539, "node_id": "MDU6SXNzdWU0NTMxNjU1Mzk=", "number": 40, "title": "env filter not working as expected", "user": {"login": "rcbop", "id": 14116059, "node_id": "MDQ6VXNlcjE0MTE2MDU5", "avatar_url": "https://avatars1.githubusercontent.com/u/14116059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcbop", "html_url": "https://github.com/rcbop", "followers_url": "https://api.github.com/users/rcbop/followers", "following_url": "https://api.github.com/users/rcbop/following{/other_user}", "gists_url": "https://api.github.com/users/rcbop/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcbop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcbop/subscriptions", "organizations_url": "https://api.github.com/users/rcbop/orgs", "repos_url": "https://api.github.com/users/rcbop/repos", "events_url": "https://api.github.com/users/rcbop/events{/privacy}", "received_events_url": "https://api.github.com/users/rcbop/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-06T18:01:55Z", "updated_at": "2019-06-07T12:22:16Z", "closed_at": "2019-06-07T12:19:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to do this on my template:\r\n\r\nsecrets.yml.j2\r\n```jinja2\r\n---\r\nsecrets:\r\n  - var: {{ LDAP_CREDENTIAL_VAR_NAME|env(\"ldapPassword\") }}\r\n    key: token\r\n```\r\n\r\nThen on my Jenkins pipeline I have something like this:\r\n```groovy\r\n    sh \"\"\"\r\n    pip install j2cli\r\n    j2 --version\r\n    python -c 'import os; print(os.environ)'\r\n    j2 -f json ${template ?: './secrets.yml.j2'} ${varDump} -o ${secretsFile}\r\n    \"\"\"\r\n```\r\n\r\nbut on my Jenkins job I'm having this error:\r\n```\r\n[jenkins-slave] + j2 --version\r\n[jenkins-slave] j2cli 0.3.9, Jinja2 2.7.2\r\n[jenkins-slave] + python -c 'import os; print(os.environ)'\r\n[jenkins-slave] { //etc... 'LDAP_CREDENTIAL_VAR_NAME': 'ldapPassword', 'BUILD_DISPLAY_NAME': '#23', //etc }\r\n[jenkins-slave] + j2 -f json ./secrets.yml.j2 cluster-config/cluster-vardump.json -o secrets.yml\r\n[jenkins-slave] Traceback (most recent call last):\r\n[jenkins-slave]   File \"/usr/bin/j2\", line 11, in <module>\r\n[jenkins-slave]     sys.exit(main())\r\n[jenkins-slave]   File \"/usr/lib/python2.7/site-packages/j2cli/cli.py\", line 202, in main\r\n[jenkins-slave]     sys.argv[1:]\r\n[jenkins-slave]   File \"/usr/lib/python2.7/site-packages/j2cli/cli.py\", line 182, in render_command\r\n[jenkins-slave]     result = renderer.render(args.template, context)\r\n[jenkins-slave]   File \"/usr/lib/python2.7/site-packages/j2cli/cli.py\", line 84, in render\r\n[jenkins-slave]     .render(context) \\\r\n[jenkins-slave]   File \"/usr/lib/python2.7/site-packages/jinja2/environment.py\", line 969, in render\r\n[jenkins-slave]     return self.environment.handle_exception(exc_info, True)\r\n[jenkins-slave]   File \"/usr/lib/python2.7/site-packages/jinja2/environment.py\", line 742, in handle_exception\r\n[jenkins-slave]     reraise(exc_type, exc_value, tb)\r\n[jenkins-slave]   File \"/home/jenkins/workspace/jenkins-slave/./secrets.yml.j2\", line 9, in top-level template code\r\n[jenkins-slave]     - var: {{ LDAP_CREDENTIAL_VAR_NAME|env(\"ldapPassword\") }}\r\n[jenkins-slave]   File \"/usr/lib/python2.7/site-packages/j2cli/extras/filters.py\", line 67, in env\r\n[jenkins-slave]     return os.getenv(varname, default)\r\n[jenkins-slave]   File \"/usr/lib64/python2.7/os.py\", line 513, in getenv\r\n[jenkins-slave]     return environ.get(key, default)\r\n[jenkins-slave]   File \"/usr/lib64/python2.7/UserDict.py\", line 59, in get\r\n[jenkins-slave]     if key not in self:\r\n[jenkins-slave]   File \"/usr/lib64/python2.7/UserDict.py\", line 71, in __contains__\r\n[jenkins-slave]     return key in self.data\r\n[jenkins-slave] jinja2.exceptions.UndefinedError: 'LDAP_CREDENTIAL_VAR_NAME' is undefined\r\n```\r\n\r\nBut I know the env var is present because of my debug `python -c 'import os; print(os.environ)'` right above. So what am I doing wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/39", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/39/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/39/events", "html_url": "https://github.com/kolypto/j2cli/issues/39", "id": 451042226, "node_id": "MDU6SXNzdWU0NTEwNDIyMjY=", "number": 39, "title": "error: command 'clang' failed with exit status 1", "user": {"login": "pouledodue", "id": 745437, "node_id": "MDQ6VXNlcjc0NTQzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/745437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pouledodue", "html_url": "https://github.com/pouledodue", "followers_url": "https://api.github.com/users/pouledodue/followers", "following_url": "https://api.github.com/users/pouledodue/following{/other_user}", "gists_url": "https://api.github.com/users/pouledodue/gists{/gist_id}", "starred_url": "https://api.github.com/users/pouledodue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pouledodue/subscriptions", "organizations_url": "https://api.github.com/users/pouledodue/orgs", "repos_url": "https://api.github.com/users/pouledodue/repos", "events_url": "https://api.github.com/users/pouledodue/events{/privacy}", "received_events_url": "https://api.github.com/users/pouledodue/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-01T04:15:30Z", "updated_at": "2019-06-04T09:58:34Z", "closed_at": "2019-06-04T09:58:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n`pip install j2cli[yaml]`\r\n\r\ngives \r\n\r\n```\r\n    building '_yaml' extension\r\n    creating build/temp.macosx-10.14-x86_64-3.7/ext\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/usr/include -I/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers -I/usr/local/include -I/usr/local/opt/openssl/include -I/usr/local/opt/sqlite/include -I/usr/local/Cellar/python/3.7.3/Frameworks/Python.framework/Versions/3.7/include/python3.7m -c ext/_yaml.c -o build/temp.macosx-10.14-x86_64-3.7/ext/_yaml.o\r\n    In file included from ext/_yaml.c:343:\r\n    ext/_yaml.h:10:9: warning: 'PyString_CheckExact' macro redefined [-Wmacro-redefined]\r\n    #define PyString_CheckExact PyBytes_CheckExact\r\n            ^\r\n    ext/_yaml.c:184:11: note: previous definition is here\r\n      #define PyString_CheckExact          PyUnicode_CheckExact\r\n              ^\r\n    ext/_yaml.c:1346:17: warning: assigning to 'char *' from 'const char *' discards qualifiers [-Wincompatible-pointer-types-discards-qualifiers]\r\n      __pyx_v_value = yaml_get_version_string();\r\n                    ^ ~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\n\r\nPython 3.7.3, Mojave", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/36", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/36/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/36/events", "html_url": "https://github.com/kolypto/j2cli/issues/36", "id": 436915473, "node_id": "MDU6SXNzdWU0MzY5MTU0NzM=", "number": 36, "title": "Support for Jinja2 Environment Extensions", "user": {"login": "ovanes", "id": 1437692, "node_id": "MDQ6VXNlcjE0Mzc2OTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1437692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ovanes", "html_url": "https://github.com/ovanes", "followers_url": "https://api.github.com/users/ovanes/followers", "following_url": "https://api.github.com/users/ovanes/following{/other_user}", "gists_url": "https://api.github.com/users/ovanes/gists{/gist_id}", "starred_url": "https://api.github.com/users/ovanes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ovanes/subscriptions", "organizations_url": "https://api.github.com/users/ovanes/orgs", "repos_url": "https://api.github.com/users/ovanes/repos", "events_url": "https://api.github.com/users/ovanes/events{/privacy}", "received_events_url": "https://api.github.com/users/ovanes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-24T21:28:33Z", "updated_at": "2019-04-30T02:47:21Z", "closed_at": "2019-04-28T21:00:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am currently running into a problem to use a `do` tag in the template which is going to be processed by j2cli. Please refer to: http://jinja.pocoo.org/docs/2.10/extensions/#expression-statement.\r\n\r\nAs far as I see these extensions are not supported. I think it'd be a nice feature to support them.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/35", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/35/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/35/events", "html_url": "https://github.com/kolypto/j2cli/issues/35", "id": 435866603, "node_id": "MDU6SXNzdWU0MzU4NjY2MDM=", "number": 35, "title": "Is there an easy way to merge environment variables from different sources?", "user": {"login": "paulcdejean", "id": 1987879, "node_id": "MDQ6VXNlcjE5ODc4Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1987879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulcdejean", "html_url": "https://github.com/paulcdejean", "followers_url": "https://api.github.com/users/paulcdejean/followers", "following_url": "https://api.github.com/users/paulcdejean/following{/other_user}", "gists_url": "https://api.github.com/users/paulcdejean/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulcdejean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulcdejean/subscriptions", "organizations_url": "https://api.github.com/users/paulcdejean/orgs", "repos_url": "https://api.github.com/users/paulcdejean/repos", "events_url": "https://api.github.com/users/paulcdejean/events{/privacy}", "received_events_url": "https://api.github.com/users/paulcdejean/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-22T19:56:33Z", "updated_at": "2019-04-23T00:16:24Z", "closed_at": "2019-04-23T00:16:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to use a combination of environment variables and data from a yml file when compiling a j2 file. Is there any easy way to do this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/34", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/34/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/34/events", "html_url": "https://github.com/kolypto/j2cli/issues/34", "id": 423857647, "node_id": "MDU6SXNzdWU0MjM4NTc2NDc=", "number": 34, "title": "PyYAML Deprecation of Full Loader method", "user": {"login": "burncycl", "id": 5506882, "node_id": "MDQ6VXNlcjU1MDY4ODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5506882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burncycl", "html_url": "https://github.com/burncycl", "followers_url": "https://api.github.com/users/burncycl/followers", "following_url": "https://api.github.com/users/burncycl/following{/other_user}", "gists_url": "https://api.github.com/users/burncycl/gists{/gist_id}", "starred_url": "https://api.github.com/users/burncycl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burncycl/subscriptions", "organizations_url": "https://api.github.com/users/burncycl/orgs", "repos_url": "https://api.github.com/users/burncycl/repos", "events_url": "https://api.github.com/users/burncycl/events{/privacy}", "received_events_url": "https://api.github.com/users/burncycl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-21T17:37:20Z", "updated_at": "2019-03-22T16:07:49Z", "closed_at": "2019-03-21T21:29:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThe j2cli 0.3.5.post1, Jinja2 2.10 is broken, as it calls a deprecated and vulnerable method (FullLoader) in PyYAML.\r\n\r\nPlease reference: \r\n- https://github.com/yaml/pyyaml/wiki/PyYAML-yaml.load(input)-Deprecation\r\n- https://github.com/yaml/pyyaml/issues/207\r\n\r\n\r\n> Traceback (most recent call last):\r\n>   File \"./venv/bin/j2\", line 10, in <module>\r\n>     sys.exit(main())\r\n>   File \"/builds/ansible/venv/lib/python3.6/site-packages/j2cli/cli.py\", line 175, in main\r\n>     sys.argv[1:]\r\n>   File \"/builds/ansible/venv/lib/python3.6/site-packages/j2cli/cli.py\", line 141, in render_command\r\n>     args.import_env\r\n>   File \"/builds/ansible/venv/lib/python3.6/site-packages/j2cli/context.py\", line 192, in read_context_data\r\n>     context = FORMATS[format](data_string)\r\n>   File \"/builds/ansible/venv/lib/python3.6/site-packages/j2cli/context.py\", line 88, in _parse_yaml\r\n>     return yaml.load(data_string, Loader=yaml.FullLoader)\r\n> AttributeError: module 'yaml' has no attribute 'FullLoader'\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/33", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/33/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/33/events", "html_url": "https://github.com/kolypto/j2cli/issues/33", "id": 422788357, "node_id": "MDU6SXNzdWU0MjI3ODgzNTc=", "number": 33, "title": "yaml.load() without Loader is deprecated", "user": {"login": "murmelade", "id": 16826449, "node_id": "MDQ6VXNlcjE2ODI2NDQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/16826449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/murmelade", "html_url": "https://github.com/murmelade", "followers_url": "https://api.github.com/users/murmelade/followers", "following_url": "https://api.github.com/users/murmelade/following{/other_user}", "gists_url": "https://api.github.com/users/murmelade/gists{/gist_id}", "starred_url": "https://api.github.com/users/murmelade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/murmelade/subscriptions", "organizations_url": "https://api.github.com/users/murmelade/orgs", "repos_url": "https://api.github.com/users/murmelade/repos", "events_url": "https://api.github.com/users/murmelade/events{/privacy}", "received_events_url": "https://api.github.com/users/murmelade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-19T15:11:15Z", "updated_at": "2019-03-21T21:30:07Z", "closed_at": "2019-03-21T20:42:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nafter upgrade to pyyaml-5.1 some python deprecation warnings are shown.\r\n\r\n**Message**\r\n> /usr/local/lib/python3.6/site-packages/j2cli/context.py:88: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.\r\n> return yaml.load(data_string)\r\n\r\n**Environment**\r\nOS: Centos7 \r\nPython3: v3.6.6 (via EPEL)\r\nj2cli: v0.3.5.post1 (via pip3)\r\nJinja2: v2.10 (via pip3)\r\nPyYAML: v5.1 (via pip3)\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/31", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/31/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/31/events", "html_url": "https://github.com/kolypto/j2cli/issues/31", "id": 373070562, "node_id": "MDU6SXNzdWUzNzMwNzA1NjI=", "number": 31, "title": "An option to ignore unknown variables", "user": {"login": "3fr61n", "id": 6707509, "node_id": "MDQ6VXNlcjY3MDc1MDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6707509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/3fr61n", "html_url": "https://github.com/3fr61n", "followers_url": "https://api.github.com/users/3fr61n/followers", "following_url": "https://api.github.com/users/3fr61n/following{/other_user}", "gists_url": "https://api.github.com/users/3fr61n/gists{/gist_id}", "starred_url": "https://api.github.com/users/3fr61n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/3fr61n/subscriptions", "organizations_url": "https://api.github.com/users/3fr61n/orgs", "repos_url": "https://api.github.com/users/3fr61n/repos", "events_url": "https://api.github.com/users/3fr61n/events{/privacy}", "received_events_url": "https://api.github.com/users/3fr61n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 109504585, "node_id": "MDU6TGFiZWwxMDk1MDQ1ODU=", "url": "https://api.github.com/repos/kolypto/j2cli/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-23T15:46:49Z", "updated_at": "2019-01-14T08:22:19Z", "closed_at": "2019-01-03T18:55:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nNice project BTW...\r\n\r\nI suggest to add an option in the command line to ignore when there is a undefined variable on the template, so this type of error won't occurs\r\n\r\njinja2.exceptions.UndefinedError: 'MY_UNKNOWN_VAR' is undefined\r\n\r\nI think this will be helpful when you have multiple variable inputs for the same template, so I can execute things like.\r\n\r\nj2 --ignore_unknown my_template.j2 input1.yaml | j2 --ignore_unknown my_template.j2 input2.yaml | j2 my_template.j2 input3.yaml\r\n\r\nRegards\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/30", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/30/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/30/events", "html_url": "https://github.com/kolypto/j2cli/issues/30", "id": 358532065, "node_id": "MDU6SXNzdWUzNTg1MzIwNjU=", "number": 30, "title": "Support an output file option", "user": {"login": "zoobab", "id": 60872, "node_id": "MDQ6VXNlcjYwODcy", "avatar_url": "https://avatars3.githubusercontent.com/u/60872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoobab", "html_url": "https://github.com/zoobab", "followers_url": "https://api.github.com/users/zoobab/followers", "following_url": "https://api.github.com/users/zoobab/following{/other_user}", "gists_url": "https://api.github.com/users/zoobab/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoobab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoobab/subscriptions", "organizations_url": "https://api.github.com/users/zoobab/orgs", "repos_url": "https://api.github.com/users/zoobab/repos", "events_url": "https://api.github.com/users/zoobab/events{/privacy}", "received_events_url": "https://api.github.com/users/zoobab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-10T09:06:22Z", "updated_at": "2018-12-26T13:11:01Z", "closed_at": "2018-12-26T13:10:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have the following issue:\r\n\r\n```\r\n$ export myenv\r\n$ j2 Variables.tf.j2 > Variables.tf\r\n```\r\n\r\nWhen j2 fails, it still writes an empty file Variables.tf.\r\n\r\nOtherwise, would it be possible to add support to an output file directly in j2? Like -o outfile.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/29", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/29/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/29/events", "html_url": "https://github.com/kolypto/j2cli/issues/29", "id": 353262701, "node_id": "MDU6SXNzdWUzNTMyNjI3MDE=", "number": 29, "title": "[Feature Request] Allow defining variables on command line", "user": {"login": "hubertgrzeskowiak", "id": 278624, "node_id": "MDQ6VXNlcjI3ODYyNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/278624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hubertgrzeskowiak", "html_url": "https://github.com/hubertgrzeskowiak", "followers_url": "https://api.github.com/users/hubertgrzeskowiak/followers", "following_url": "https://api.github.com/users/hubertgrzeskowiak/following{/other_user}", "gists_url": "https://api.github.com/users/hubertgrzeskowiak/gists{/gist_id}", "starred_url": "https://api.github.com/users/hubertgrzeskowiak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hubertgrzeskowiak/subscriptions", "organizations_url": "https://api.github.com/users/hubertgrzeskowiak/orgs", "repos_url": "https://api.github.com/users/hubertgrzeskowiak/repos", "events_url": "https://api.github.com/users/hubertgrzeskowiak/events{/privacy}", "received_events_url": "https://api.github.com/users/hubertgrzeskowiak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-23T07:45:24Z", "updated_at": "2018-12-26T12:46:53Z", "closed_at": "2018-12-26T12:46:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "In many cases you'll have templates with just one or two variables. It's quite a hassle to create a data file each time.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/28", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/28/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/28/events", "html_url": "https://github.com/kolypto/j2cli/issues/28", "id": 335311167, "node_id": "MDU6SXNzdWUzMzUzMTExNjc=", "number": 28, "title": "not work on python 3", "user": {"login": "hackrole", "id": 2100811, "node_id": "MDQ6VXNlcjIxMDA4MTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2100811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hackrole", "html_url": "https://github.com/hackrole", "followers_url": "https://api.github.com/users/hackrole/followers", "following_url": "https://api.github.com/users/hackrole/following{/other_user}", "gists_url": "https://api.github.com/users/hackrole/gists{/gist_id}", "starred_url": "https://api.github.com/users/hackrole/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hackrole/subscriptions", "organizations_url": "https://api.github.com/users/hackrole/orgs", "repos_url": "https://api.github.com/users/hackrole/repos", "events_url": "https://api.github.com/users/hackrole/events{/privacy}", "received_events_url": "https://api.github.com/users/hackrole/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-25T08:40:24Z", "updated_at": "2018-12-26T12:39:48Z", "closed_at": "2018-12-26T12:39:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "```bash\r\n$ python --version\r\nPython 3.6.5\r\n$ j2 --version\r\nj2cli 0.3.1.post0, Jinja2 2.10\r\n```\r\nthe errors message:\r\n```bash\r\n$ j2 docker-compose.yml.tmpl \r\nTraceback (most recent call last):\r\n  File \"/home/hackrole/.virtualenvs/wechat_server-cCaBo391/bin/j2\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/hackrole/.virtualenvs/wechat_server-cCaBo391/lib/python3.6/site-packages/j2cli/cli.py\", line 124, in main\r\n    sys.argv[1:]\r\n  File \"/home/hackrole/.virtualenvs/wechat_server-cCaBo391/lib/python3.6/site-packages/j2cli/cli.py\", line 107, in render_command\r\n    environ\r\n  File \"/home/hackrole/.virtualenvs/wechat_server-cCaBo391/lib/python3.6/site-packages/j2cli/context.py\", line 173, in read_context_data\r\n    return _parse_env(environ)\r\n  File \"/home/hackrole/.virtualenvs/wechat_server-cCaBo391/lib/python3.6/site-packages/j2cli/context.py\", line 107, in _parse_env\r\n    if isinstance(data_string, basestring):\r\nNameError: name 'basestring' is not defined\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/27", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/27/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/27/events", "html_url": "https://github.com/kolypto/j2cli/issues/27", "id": 328707843, "node_id": "MDU6SXNzdWUzMjg3MDc4NDM=", "number": 27, "title": "it doesn't loop correctly an environment variable list", "user": {"login": "marquicus", "id": 196892, "node_id": "MDQ6VXNlcjE5Njg5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/196892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marquicus", "html_url": "https://github.com/marquicus", "followers_url": "https://api.github.com/users/marquicus/followers", "following_url": "https://api.github.com/users/marquicus/following{/other_user}", "gists_url": "https://api.github.com/users/marquicus/gists{/gist_id}", "starred_url": "https://api.github.com/users/marquicus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marquicus/subscriptions", "organizations_url": "https://api.github.com/users/marquicus/orgs", "repos_url": "https://api.github.com/users/marquicus/repos", "events_url": "https://api.github.com/users/marquicus/events{/privacy}", "received_events_url": "https://api.github.com/users/marquicus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-02T03:07:41Z", "updated_at": "2018-12-26T12:45:06Z", "closed_at": "2018-12-26T12:45:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "printing the variable with a list works well:\r\n\r\n> {{ MODEMS }}\r\n\r\n\r\n...\r\n/dev/ttyUSB12\r\n/dev/ttyUSB8\r\n/dev/ttyUSB4\r\n/dev/ttyUSB1\r\n\r\nbut looping the variable doesn't work well, it loops each character:\r\n\r\n> {% for modem in MODEMS: %}\r\n> [{{ modem[:-3] }}]\r\n> device = {{ modem }}\r\n...\r\n[]\r\ndevice = **/**\r\nincoming = yes\r\n...\r\n[]\r\ndevice = **d**\r\n...\r\n[]\r\ndevice = **e**\r\nincoming = yes\r\n...\r\n[]\r\ndevice = **v**\r\nincoming = yes\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/26", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/26/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/26/events", "html_url": "https://github.com/kolypto/j2cli/issues/26", "id": 321480082, "node_id": "MDU6SXNzdWUzMjE0ODAwODI=", "number": 26, "title": "Another convert issue", "user": {"login": "ozbillwang", "id": 8954908, "node_id": "MDQ6VXNlcjg5NTQ5MDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8954908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozbillwang", "html_url": "https://github.com/ozbillwang", "followers_url": "https://api.github.com/users/ozbillwang/followers", "following_url": "https://api.github.com/users/ozbillwang/following{/other_user}", "gists_url": "https://api.github.com/users/ozbillwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozbillwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozbillwang/subscriptions", "organizations_url": "https://api.github.com/users/ozbillwang/orgs", "repos_url": "https://api.github.com/users/ozbillwang/repos", "events_url": "https://api.github.com/users/ozbillwang/events{/privacy}", "received_events_url": "https://api.github.com/users/ozbillwang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-09T08:37:11Z", "updated_at": "2018-12-26T12:42:42Z", "closed_at": "2018-12-26T12:42:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to keep all characters as `\\\"abc\\\"`?\r\n\r\n```\r\n# cat a.j2\r\n{\r\n  \"key\": {\r\n    \"ca\": \"{{ app.ca }}\"\r\n  }\r\n}\r\n# cat a.json\r\n{\r\n  \"app\": {\r\n    \"ca\": \"\\\"abc\\\"\"\r\n  }\r\n}\r\n\r\n# j2 a.j2 a.json\r\n{\r\n  \"key\": {\r\n    \"ca\": \"\"abc\"\"\r\n  }\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/25", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/25/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/25/events", "html_url": "https://github.com/kolypto/j2cli/issues/25", "id": 321477739, "node_id": "MDU6SXNzdWUzMjE0Nzc3Mzk=", "number": 25, "title": "character is changed, when converting", "user": {"login": "ozbillwang", "id": 8954908, "node_id": "MDQ6VXNlcjg5NTQ5MDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8954908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ozbillwang", "html_url": "https://github.com/ozbillwang", "followers_url": "https://api.github.com/users/ozbillwang/followers", "following_url": "https://api.github.com/users/ozbillwang/following{/other_user}", "gists_url": "https://api.github.com/users/ozbillwang/gists{/gist_id}", "starred_url": "https://api.github.com/users/ozbillwang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ozbillwang/subscriptions", "organizations_url": "https://api.github.com/users/ozbillwang/orgs", "repos_url": "https://api.github.com/users/ozbillwang/repos", "events_url": "https://api.github.com/users/ozbillwang/events{/privacy}", "received_events_url": "https://api.github.com/users/ozbillwang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-09T08:29:55Z", "updated_at": "2018-12-26T12:41:28Z", "closed_at": "2018-12-26T12:41:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "When converting, why it changed the value `false` to `False`? (capital letter)\r\n\r\n```\r\n# cat a.j2\r\n{\r\n  \"key\": {\r\n    \"enabled\": {{ app.enabled }}\r\n}\r\n\r\n# cat a.json\r\n{\r\n  \"app\": {\r\n    \"enabled\": false\r\n  }\r\n}\r\n\r\n# j2 a.j2 a.json\r\n{\r\n  \"key\": {\r\n    \"enabled\": False\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/24", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/24/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/24/events", "html_url": "https://github.com/kolypto/j2cli/issues/24", "id": 317962957, "node_id": "MDU6SXNzdWUzMTc5NjI5NTc=", "number": 24, "title": "python3 : AttributeError: 'str' object has no attribute 'decode'", "user": {"login": "renaudguerin", "id": 1047312, "node_id": "MDQ6VXNlcjEwNDczMTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1047312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/renaudguerin", "html_url": "https://github.com/renaudguerin", "followers_url": "https://api.github.com/users/renaudguerin/followers", "following_url": "https://api.github.com/users/renaudguerin/following{/other_user}", "gists_url": "https://api.github.com/users/renaudguerin/gists{/gist_id}", "starred_url": "https://api.github.com/users/renaudguerin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/renaudguerin/subscriptions", "organizations_url": "https://api.github.com/users/renaudguerin/orgs", "repos_url": "https://api.github.com/users/renaudguerin/repos", "events_url": "https://api.github.com/users/renaudguerin/events{/privacy}", "received_events_url": "https://api.github.com/users/renaudguerin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-26T10:11:14Z", "updated_at": "2018-12-26T12:39:26Z", "closed_at": "2018-12-26T12:39:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installed python3 using Homebrew and j2cli with `pip install j2cli[yaml]`\r\n\r\nAll attempts of using it fail with :\r\n\r\n`Traceback (most recent call last):\r\n  File \"/usr/local/bin/j2\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/site-packages/j2cli/cli.py\", line 124, in main\r\n    sys.argv[1:]\r\n  File \"/usr/local/lib/python3.6/site-packages/j2cli/cli.py\", line 114, in render_command\r\n    context\r\n  File \"/usr/local/lib/python3.6/site-packages/j2cli/cli.py\", line 53, in render_template\r\n    .get_template(template_path) \\\r\n  File \"/usr/local/lib/python3.6/site-packages/jinja2/environment.py\", line 830, in get_template\r\n    return self._load_template(name, self.make_globals(globals))\r\n  File \"/usr/local/lib/python3.6/site-packages/jinja2/environment.py\", line 804, in _load_template\r\n    template = self.loader.load(self, name, globals)\r\n  File \"/usr/local/lib/python3.6/site-packages/jinja2/loaders.py\", line 113, in load\r\n    source, filename, uptodate = self.get_source(environment, name)\r\n  File \"/usr/local/lib/python3.6/site-packages/j2cli/cli.py\", line 26, in get_source\r\n    contents = f.read().decode(self.encoding)\r\nAttributeError: 'str' object has no attribute 'decode'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/22", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/22/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/22/events", "html_url": "https://github.com/kolypto/j2cli/issues/22", "id": 231246489, "node_id": "MDU6SXNzdWUyMzEyNDY0ODk=", "number": 22, "title": "JSON array as argument throws ValueError", "user": {"login": "slisznia", "id": 1666246, "node_id": "MDQ6VXNlcjE2NjYyNDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1666246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slisznia", "html_url": "https://github.com/slisznia", "followers_url": "https://api.github.com/users/slisznia/followers", "following_url": "https://api.github.com/users/slisznia/following{/other_user}", "gists_url": "https://api.github.com/users/slisznia/gists{/gist_id}", "starred_url": "https://api.github.com/users/slisznia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slisznia/subscriptions", "organizations_url": "https://api.github.com/users/slisznia/orgs", "repos_url": "https://api.github.com/users/slisznia/repos", "events_url": "https://api.github.com/users/slisznia/events{/privacy}", "received_events_url": "https://api.github.com/users/slisznia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-25T05:43:59Z", "updated_at": "2018-12-26T12:39:12Z", "closed_at": "2018-12-26T12:39:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a JSON array of objects that I'm trying to pass to the template. I'm getting\r\nValueError: dictionary update sequence element #0 has length 7; 2 is required\r\n\r\nTo make it work, I have to wrap the array into another JSON object of single element:\r\n{ \"data\": [..] }\r\n\r\nthen pass that to the j2. I should be able to work directly with the array?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/19", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/19/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/19/events", "html_url": "https://github.com/kolypto/j2cli/issues/19", "id": 183351089, "node_id": "MDU6SXNzdWUxODMzNTEwODk=", "number": 19, "title": "Project abandoned?", "user": {"login": "mafrosis", "id": 243851, "node_id": "MDQ6VXNlcjI0Mzg1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/243851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mafrosis", "html_url": "https://github.com/mafrosis", "followers_url": "https://api.github.com/users/mafrosis/followers", "following_url": "https://api.github.com/users/mafrosis/following{/other_user}", "gists_url": "https://api.github.com/users/mafrosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/mafrosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mafrosis/subscriptions", "organizations_url": "https://api.github.com/users/mafrosis/orgs", "repos_url": "https://api.github.com/users/mafrosis/repos", "events_url": "https://api.github.com/users/mafrosis/events{/privacy}", "received_events_url": "https://api.github.com/users/mafrosis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-17T08:09:36Z", "updated_at": "2018-12-26T12:34:33Z", "closed_at": "2018-12-26T12:34:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Should we fork and merge all these pull requests?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/18", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/18/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/18/events", "html_url": "https://github.com/kolypto/j2cli/issues/18", "id": 182533462, "node_id": "MDU6SXNzdWUxODI1MzM0NjI=", "number": 18, "title": "with undefined=debug dictionary items: undefined??", "user": {"login": "ReSearchITEng", "id": 7223091, "node_id": "MDQ6VXNlcjcyMjMwOTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7223091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ReSearchITEng", "html_url": "https://github.com/ReSearchITEng", "followers_url": "https://api.github.com/users/ReSearchITEng/followers", "following_url": "https://api.github.com/users/ReSearchITEng/following{/other_user}", "gists_url": "https://api.github.com/users/ReSearchITEng/gists{/gist_id}", "starred_url": "https://api.github.com/users/ReSearchITEng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ReSearchITEng/subscriptions", "organizations_url": "https://api.github.com/users/ReSearchITEng/orgs", "repos_url": "https://api.github.com/users/ReSearchITEng/repos", "events_url": "https://api.github.com/users/ReSearchITEng/events{/privacy}", "received_events_url": "https://api.github.com/users/ReSearchITEng/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-12T14:00:11Z", "updated_at": "2018-12-26T12:38:41Z", "closed_at": "2018-12-26T12:38:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Settings used:** `j2 --undefined debug`\n\n**File example:**  `{{ proxy_env.http_proxy }}`\n_Note_: neither proxy_env nor proxy_env.http_proxy are defined.\n\n**Expected behavior:**\n{{ proxy_env.http_proxy }} -> should remain untranslated and j2 should not return any error.\n\n**Actual behavior:**\n`Traceback (most recent call last):\n  File \"/usr/bin/j2\", line 9, in <module>\n    load_entry_point('j2cli==0.3.1-0', 'console_scripts', 'j2')()\n  File \"/usr/lib/python2.7/site-packages/j2cli/cli.py\", line 156, in main\n    sys.argv[1:]\n  File \"/usr/lib/python2.7/site-packages/j2cli/cli.py\", line 146, in render_command\n    args.custom_filters,\n  File \"/usr/lib/python2.7/site-packages/j2cli/cli.py\", line 82, in render_template\n    .render(context) \\\n  File \"/usr/lib/python2.7/site-packages/jinja2/environment.py\", line 989, in render\n    return self.environment.handle_exception(exc_info, True)\n  File \"/usr/lib/python2.7/site-packages/jinja2/environment.py\", line 754, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/1.tmp\", line 62, in top-level template code\n    - lineinfile: dest=\"/filexx\" line=\"http_proxy={{proxy_env.http_proxy}}\"\n  File \"/usr/lib/python2.7/site-packages/jinja2/environment.py\", line 408, in getattr\n    return getattr(obj, attribute)\njinja2.exceptions.UndefinedError: 'proxy_env' is undefined`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/12", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/12/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/12/events", "html_url": "https://github.com/kolypto/j2cli/issues/12", "id": 120903230, "node_id": "MDU6SXNzdWUxMjA5MDMyMzA=", "number": 12, "title": "Variable precedence", "user": {"login": "nikhilo", "id": 8762194, "node_id": "MDQ6VXNlcjg3NjIxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8762194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikhilo", "html_url": "https://github.com/nikhilo", "followers_url": "https://api.github.com/users/nikhilo/followers", "following_url": "https://api.github.com/users/nikhilo/following{/other_user}", "gists_url": "https://api.github.com/users/nikhilo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikhilo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikhilo/subscriptions", "organizations_url": "https://api.github.com/users/nikhilo/orgs", "repos_url": "https://api.github.com/users/nikhilo/repos", "events_url": "https://api.github.com/users/nikhilo/events{/privacy}", "received_events_url": "https://api.github.com/users/nikhilo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-08T00:43:29Z", "updated_at": "2018-12-26T12:37:11Z", "closed_at": "2018-12-26T12:37:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to define a few variables in say `json` and then override some of them using some other data input method, say environment variable. I don't think it's possible to do this (overriding) right now. It accepts only one data input method at a time.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/8", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/8/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/8/events", "html_url": "https://github.com/kolypto/j2cli/issues/8", "id": 109809120, "node_id": "MDU6SXNzdWUxMDk4MDkxMjA=", "number": 8, "title": "Problem with variable while using system env variables ", "user": {"login": "ewilmanski", "id": 4604874, "node_id": "MDQ6VXNlcjQ2MDQ4NzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4604874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ewilmanski", "html_url": "https://github.com/ewilmanski", "followers_url": "https://api.github.com/users/ewilmanski/followers", "following_url": "https://api.github.com/users/ewilmanski/following{/other_user}", "gists_url": "https://api.github.com/users/ewilmanski/gists{/gist_id}", "starred_url": "https://api.github.com/users/ewilmanski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ewilmanski/subscriptions", "organizations_url": "https://api.github.com/users/ewilmanski/orgs", "repos_url": "https://api.github.com/users/ewilmanski/repos", "events_url": "https://api.github.com/users/ewilmanski/events{/privacy}", "received_events_url": "https://api.github.com/users/ewilmanski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-05T14:33:08Z", "updated_at": "2018-12-26T12:33:49Z", "closed_at": "2018-12-26T12:33:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \nI try to use your script with docker and there is a little problem while parsing my jinja templates (prepared for ansible)\n\n```\n$ export PORT=2\n$ j2 server.xml\nTraceback (most recent call last):\n  File \"/usr/local/bin/j2\", line 11, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/dist-packages/j2cli/cli.py\", line 124, in main\n    sys.argv[1:]\n  File \"/usr/local/lib/python2.7/dist-packages/j2cli/cli.py\", line 114, in render_command\n    context\n  File \"/usr/local/lib/python2.7/dist-packages/j2cli/cli.py\", line 54, in render_template\n    .render(context) \\\n  File \"/usr/lib/python2.7/dist-packages/jinja2/environment.py\", line 969, in render\n    return self.environment.handle_exception(exc_info, True)\n  File \"/usr/lib/python2.7/dist-packages/jinja2/environment.py\", line 742, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/emilus/bnp/bnp/conf/docker-recipe/AppNode01/OmniBPMN/ansible-files/server.xml.test\", line 22, in top-level template code\n    <Server port=\"{{ PORT + 5}}\" shutdown=\"SHUTDOWN\">\nTypeError: unsupported operand type(s) for -: 'str' and 'int'\n```\n\nAnsible process template without problems.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/5", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/5/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/5/events", "html_url": "https://github.com/kolypto/j2cli/issues/5", "id": 88695592, "node_id": "MDU6SXNzdWU4ODY5NTU5Mg==", "number": 5, "title": "FIXED IN PR #6 - Support Python 3.x", "user": {"login": "posita", "id": 222581, "node_id": "MDQ6VXNlcjIyMjU4MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/222581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posita", "html_url": "https://github.com/posita", "followers_url": "https://api.github.com/users/posita/followers", "following_url": "https://api.github.com/users/posita/following{/other_user}", "gists_url": "https://api.github.com/users/posita/gists{/gist_id}", "starred_url": "https://api.github.com/users/posita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posita/subscriptions", "organizations_url": "https://api.github.com/users/posita/orgs", "repos_url": "https://api.github.com/users/posita/repos", "events_url": "https://api.github.com/users/posita/events{/privacy}", "received_events_url": "https://api.github.com/users/posita/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-06-16T11:12:18Z", "updated_at": "2018-12-26T12:30:39Z", "closed_at": "2018-12-26T12:30:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "It appears that j2cli uses Python 2.x-only constructs in places (e.g., use of `basestring`, use of non-unicode strings, etc.):\n\n``` sh\n% virtualenv --python=python3.4 venv\n...\n% ./venv/bin/pip install j2cli\n...\n% ./venv/bin/j2cli /dev/null\n  File \".../venv/bin/j2\", line 9, in <module>\n    load_entry_point('j2cli==0.3.1.post0', 'console_scripts', 'j2')()\n  File \".../venv/lib/python3.4/site-packages/j2cli/cli.py\", line 124, in main\n    sys.argv[1:]\n  File \".../venv/lib/python3.4/site-packages/j2cli/cli.py\", line 107, in render_command\n    environ\n  File \".../venv/lib/python3.4/site-packages/j2cli/context.py\", line 173, in read_context_data\n    return _parse_env(environ)\n  File \".../venv/lib/python3.4/site-packages/j2cli/context.py\", line 107, in _parse_env\n    if isinstance(data_string, basestring):\nNameError: name 'basestring' is not defined\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/4", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/4/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/4/events", "html_url": "https://github.com/kolypto/j2cli/issues/4", "id": 81730072, "node_id": "MDU6SXNzdWU4MTczMDA3Mg==", "number": 4, "title": "Only handle the first \"=\" when import env file", "user": {"login": "liuhewei", "id": 4601961, "node_id": "MDQ6VXNlcjQ2MDE5NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4601961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liuhewei", "html_url": "https://github.com/liuhewei", "followers_url": "https://api.github.com/users/liuhewei/followers", "following_url": "https://api.github.com/users/liuhewei/following{/other_user}", "gists_url": "https://api.github.com/users/liuhewei/gists{/gist_id}", "starred_url": "https://api.github.com/users/liuhewei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liuhewei/subscriptions", "organizations_url": "https://api.github.com/users/liuhewei/orgs", "repos_url": "https://api.github.com/users/liuhewei/repos", "events_url": "https://api.github.com/users/liuhewei/events{/privacy}", "received_events_url": "https://api.github.com/users/liuhewei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-28T02:58:48Z", "updated_at": "2018-12-26T12:30:19Z", "closed_at": "2018-12-26T12:30:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "If an environment variable's value include \"=\", j2cli can't handle it correctly. \n\nThis line: \nhttps://github.com/kolypto/j2cli/blob/master/j2cli/context.py#L113\n\nbetter be changed to:\n\n``` python\nline.split('=', 1)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kolypto/j2cli/issues/1", "repository_url": "https://api.github.com/repos/kolypto/j2cli", "labels_url": "https://api.github.com/repos/kolypto/j2cli/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/kolypto/j2cli/issues/1/comments", "events_url": "https://api.github.com/repos/kolypto/j2cli/issues/1/events", "html_url": "https://github.com/kolypto/j2cli/issues/1", "id": 62558453, "node_id": "MDU6SXNzdWU2MjU1ODQ1Mw==", "number": 1, "title": "Watch for template changes", "user": {"login": "jtmoulia", "id": 1057862, "node_id": "MDQ6VXNlcjEwNTc4NjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1057862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtmoulia", "html_url": "https://github.com/jtmoulia", "followers_url": "https://api.github.com/users/jtmoulia/followers", "following_url": "https://api.github.com/users/jtmoulia/following{/other_user}", "gists_url": "https://api.github.com/users/jtmoulia/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtmoulia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtmoulia/subscriptions", "organizations_url": "https://api.github.com/users/jtmoulia/orgs", "repos_url": "https://api.github.com/users/jtmoulia/repos", "events_url": "https://api.github.com/users/jtmoulia/events{/privacy}", "received_events_url": "https://api.github.com/users/jtmoulia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-18T01:35:00Z", "updated_at": "2018-12-26T12:29:58Z", "closed_at": "2018-12-26T12:29:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be great to be able to watch a template file for changes, rerunning on changes. This is similar to [docker-gen](https://github.com/jwilder/docker-gen)'s `-watch` flag.\n\nThe file watching could be backed by an optional dependency on [watchdog](https://pythonhosted.org/watchdog/), erroring out if attempting to watch without the dep.\n\nI imagine the interface could be a command line flag:\n\n``` shell\n--watch, -w\n```\n\nI could try to implement this if you think it fits!\n", "performed_via_github_app": null, "score": 1.0}]}