{"total_count": 87, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/osmcode/pyosmium/issues/140", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/140/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/140/events", "html_url": "https://github.com/osmcode/pyosmium/issues/140", "id": 658268389, "node_id": "MDU6SXNzdWU2NTgyNjgzODk=", "number": 140, "title": "uid not showing up in exported features", "user": {"login": "l-r", "id": 1378612, "node_id": "MDQ6VXNlcjEzNzg2MTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1378612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l-r", "html_url": "https://github.com/l-r", "followers_url": "https://api.github.com/users/l-r/followers", "following_url": "https://api.github.com/users/l-r/following{/other_user}", "gists_url": "https://api.github.com/users/l-r/gists{/gist_id}", "starred_url": "https://api.github.com/users/l-r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l-r/subscriptions", "organizations_url": "https://api.github.com/users/l-r/orgs", "repos_url": "https://api.github.com/users/l-r/repos", "events_url": "https://api.github.com/users/l-r/events{/privacy}", "received_events_url": "https://api.github.com/users/l-r/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-16T14:46:27Z", "updated_at": "2020-08-10T19:22:06Z", "closed_at": "2020-08-10T19:22:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was testing osmium (`3.0.0`) objects and had 2 questions about this case:\r\n\r\n```python\r\nimport osmium\r\n\r\nfields = osmium.osm.mutable.OSMObject(\r\n    id=123, version=2, visible=True, uid=123, changeset=3212312, timestamp=\"2015-03-16T04:45:49Z\", tags={\"maxspeed\": \"50\"}\r\n)\r\n\r\nway = osmium.osm.mutable.Way(fields, [])\r\nwriter = osmium.SimpleWriter('./output.pbf')\r\nwriter.add_way(way)\r\nwriter.close()\r\n```\r\n\r\nConverting the PBF file back into OPL yields\r\n```xml\r\n<?xml version='1.0' encoding='UTF-8'?>\r\n<osm version=\"0.6\" generator=\"osmconvert 0.8.10\">\r\n\t<way id=\"123\" version=\"2\" timestamp=\"2015-03-16T04:45:49Z\" changeset=\"3212312\">\r\n\t\t<tag k=\"maxspeed\" v=\"50\"/>\r\n\t</way>\r\n</osm>\r\n```\r\n\r\n- Why is the `uid` not showing up in the way feature?\r\n- [The constructor for mutable objects](https://github.com/osmcode/pyosmium/blob/master/src/osmium/osm/mutable.py#L12-L13) doesn't take the `user`, is that because this can be changed easily (but uid doesn't)? Is there a way to get the `user` passed in the OSMObject? (I did notice it exists in the `osmium.osm.OSMObject`)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/139", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/139/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/139/events", "html_url": "https://github.com/osmcode/pyosmium/issues/139", "id": 655687641, "node_id": "MDU6SXNzdWU2NTU2ODc2NDE=", "number": 139, "title": "Memory leak when using osmobject.timestamp", "user": {"login": "Pseverin", "id": 10232836, "node_id": "MDQ6VXNlcjEwMjMyODM2", "avatar_url": "https://avatars3.githubusercontent.com/u/10232836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pseverin", "html_url": "https://github.com/Pseverin", "followers_url": "https://api.github.com/users/Pseverin/followers", "following_url": "https://api.github.com/users/Pseverin/following{/other_user}", "gists_url": "https://api.github.com/users/Pseverin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pseverin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pseverin/subscriptions", "organizations_url": "https://api.github.com/users/Pseverin/orgs", "repos_url": "https://api.github.com/users/Pseverin/repos", "events_url": "https://api.github.com/users/Pseverin/events{/privacy}", "received_events_url": "https://api.github.com/users/Pseverin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-13T09:15:50Z", "updated_at": "2020-07-14T19:47:05Z", "closed_at": "2020-07-14T19:11:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to parse OSM Planet file and export it into the BigQuery dataset.\r\nAfter several tries, I've realized that memory usage is increasing for every processed object when I'm using the `timestamp` field of the OSMObject.\r\nHere is sample code to reproduce this problem:\r\n```\r\nimport sys\r\nimport osmium\r\nimport logging\r\nimport psutil\r\n\r\n\r\ndef bytes_to_mb(size_in_bytes):\r\n    return size_in_bytes / (1024 ** 2)\r\n\r\n\r\nclass OsmHandler(osmium.SimpleHandler):\r\n\r\n    def __init__(self):\r\n        osmium.SimpleHandler.__init__(self)\r\n        self.processing_counter = 0\r\n\r\n    def node(self, node):\r\n        self.processing_counter = self.processing_counter + 1\r\n        node_timestamp = node.timestamp\r\n        if self.processing_counter % 10000000 == 0:\r\n            used_memory = \"{:.3f}\".format(bytes_to_mb(psutil.virtual_memory().used))\r\n            free_memory = \"{:.3f}\".format(bytes_to_mb(psutil.virtual_memory().free))\r\n            logging.info(\"Processed: {}. Memory: used - {} MB, free {} MB\".format(self.processing_counter,\r\n                                                                                  used_memory, free_memory))\r\n\r\n    def way(self, way):\r\n        pass\r\n\r\n    def relation(self, relation):\r\n        pass\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    logging.getLogger().setLevel(logging.INFO)\r\n\r\n    simple_handler = OsmHandler()\r\n    simple_handler.apply_file(sys.argv[1])\r\n```\r\nRunning with:\r\n`python3 main.py planet-latest.pbf`\r\n\r\nLink to the latest Planet file: [download](https://planet.openstreetmap.org/pbf/planet-latest.osm.pbf)\r\n\r\nOutput:\r\n```\r\nINFO:root:Processed: 10000000. Memory: used - 7234.180 MB, free 3765.926 MB\r\nINFO:root:Processed: 20000000. Memory: used - 8102.402 MB, free 2885.051 MB\r\nINFO:root:Processed: 30000000. Memory: used - 8475.586 MB, free 2507.949 MB\r\nINFO:root:Processed: 40000000. Memory: used - 8957.559 MB, free 1938.234 MB\r\nINFO:root:Processed: 50000000. Memory: used - 9407.355 MB, free 1427.562 MB\r\nINFO:root:Processed: 60000000. Memory: used - 9884.508 MB, free 874.156 MB\r\nINFO:root:Processed: 70000000. Memory: used - 10322.539 MB, free 375.598 MB\r\n```\r\n\r\nIs there any way to access `node.timestamp` without increasing of used memory?\r\n\r\nPython 3.8\r\nosmium 3.0.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/138", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/138/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/138/events", "html_url": "https://github.com/osmcode/pyosmium/issues/138", "id": 652354078, "node_id": "MDU6SXNzdWU2NTIzNTQwNzg=", "number": 138, "title": "simplehandler history problems", "user": {"login": "cmikovits", "id": 45256992, "node_id": "MDQ6VXNlcjQ1MjU2OTky", "avatar_url": "https://avatars3.githubusercontent.com/u/45256992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmikovits", "html_url": "https://github.com/cmikovits", "followers_url": "https://api.github.com/users/cmikovits/followers", "following_url": "https://api.github.com/users/cmikovits/following{/other_user}", "gists_url": "https://api.github.com/users/cmikovits/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmikovits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmikovits/subscriptions", "organizations_url": "https://api.github.com/users/cmikovits/orgs", "repos_url": "https://api.github.com/users/cmikovits/repos", "events_url": "https://api.github.com/users/cmikovits/events{/privacy}", "received_events_url": "https://api.github.com/users/cmikovits/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-07T14:06:49Z", "updated_at": "2020-07-14T19:14:44Z", "closed_at": "2020-07-14T19:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n\r\nI'm trying read a history file.\r\n\r\nWhile processing nodes works very fine to get a timeline, it is not possible with ways, relations or area:\r\n\r\n`RuntimeError: Way ID twice in input. Maybe you are using a history or change file?`\r\n\r\nIs there any way around this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/137", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/137/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/137/events", "html_url": "https://github.com/osmcode/pyosmium/issues/137", "id": 634880935, "node_id": "MDU6SXNzdWU2MzQ4ODA5MzU=", "number": 137, "title": "multiprocessing + .osm.pbf file = deadlock", "user": {"login": "ltog", "id": 4726277, "node_id": "MDQ6VXNlcjQ3MjYyNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4726277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltog", "html_url": "https://github.com/ltog", "followers_url": "https://api.github.com/users/ltog/followers", "following_url": "https://api.github.com/users/ltog/following{/other_user}", "gists_url": "https://api.github.com/users/ltog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltog/subscriptions", "organizations_url": "https://api.github.com/users/ltog/orgs", "repos_url": "https://api.github.com/users/ltog/repos", "events_url": "https://api.github.com/users/ltog/events{/privacy}", "received_events_url": "https://api.github.com/users/ltog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-08T19:34:14Z", "updated_at": "2020-08-10T19:23:40Z", "closed_at": "2020-08-10T19:23:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "For a side project of mine ( https://gitlab.com/ltog/gwr-filter ) I did some experimenting using subprocesses to speed up the processing of OSM files by pyosmium. In general, this worked well. However, when trying to implement a two-pass read for evaluating [associatedStreet relations](https://wiki.openstreetmap.org/wiki/Relation:associatedStreet) , I have encountered some strange behaviour that looks like a bug in osmium/pyosmium to me.\r\n\r\nCall the script below like this:\r\n\r\n    python3 ./gwr-mini.py liechtenstein-latest.osm liechtenstein-latest.osm.pbf\r\n\r\n(You can use the extracty provided by http://download.geofabrik.de/europe/liechtenstein.html but I guess any `.osm.pbf` will do...)\r\n\r\nYou will see that the script hangs at the line marked A. Interestingly, this is true if and only if both following conditions are met:\r\n\r\n1. The second argument is of type `.osm.pbf`. (`.osm` files work fine)\r\n2. The seemingly unrelated line B is active.\r\n\r\nI tested with versions 3.0.0 and 2.15.4.\r\n\r\n```python\r\n#!/usr/bin/env python3\r\n\r\nimport osmium\r\nimport sys\r\nfrom multiprocessing import Pool\r\n\r\nclass FirstOsmReader(osmium.SimpleHandler):\r\n    def __init__(self):\r\n        super(FirstOsmReader, self).__init__()\r\n        print(f'Initializing {self.__class__}')\r\n        self.count=0\r\n\r\n    def relation(self, r):\r\n        if self.count<4:\r\n            print(f'FirstOsmReader.way(): r={r}')\r\n            self.count += 1\r\n        pass\r\n\r\n    def work1(self, filename: str):\r\n        self.apply_file(filename=filename, locations=False)\r\n        return\r\n\r\nclass SecondOsmReader(osmium.SimpleHandler):\r\n    def __init__(self, worker_id: int, num_workers: int):\r\n        super(SecondOsmReader, self).__init__()\r\n        print(f'Initializing {self.__class__}')\r\n        self.num_workers = num_workers\r\n        self.worker_id = worker_id\r\n        self.count=0\r\n\r\n    def node(self, n):\r\n        if not n.id % self._num_workers == self._worker_id:\r\n            return\r\n        if self.count<4:\r\n            print(f'SecondOsmReader.node(): n={n}')\r\n            self.count += 1\r\n\r\n    def work2(self, worker_id: int, num_workers: int, filename: str):\r\n        self._worker_id = worker_id\r\n        self._num_workers = num_workers\r\n        print('work2: before apply')\r\n        self.apply_file(filename=filename, locations=True) # A: this line hangs\r\n        print('work2: after apply')\r\n        return\r\n\r\ndef work(worker_id: int, num_workers: int, filename: str):\r\n    second_osm_reader = SecondOsmReader(worker_id, num_workers)\r\n    return second_osm_reader.work2(worker_id, num_workers, filename)\r\n\r\nif __name__ == '__main__':\r\n    num_workers = 2\r\n    f1=sys.argv[1]\r\n    f2=sys.argv[2]\r\n    print(f'f1={f1}')\r\n    print(f'f2={f2}')\r\n\r\n    first_osm_reader = FirstOsmReader()\r\n    first_osm_reader.work1(f1) # B: if this line is active, it triggers a hang in line A\r\n\r\n    with Pool(processes=num_workers) as pool:\r\n        w = num_workers\r\n        myargs = zip([x for x in range(w)], [w]*w, [f2]*w)\r\n        print(f'myargs={[x for x in range(w)], [w]*w, [f2]*w}')\r\n        for result in pool.starmap(work, myargs):\r\n            pass\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/136", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/136/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/136/events", "html_url": "https://github.com/osmcode/pyosmium/issues/136", "id": 605291386, "node_id": "MDU6SXNzdWU2MDUyOTEzODY=", "number": 136, "title": "Support python3.8 on Windows", "user": {"login": "shotoyoo", "id": 30399873, "node_id": "MDQ6VXNlcjMwMzk5ODcz", "avatar_url": "https://avatars0.githubusercontent.com/u/30399873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shotoyoo", "html_url": "https://github.com/shotoyoo", "followers_url": "https://api.github.com/users/shotoyoo/followers", "following_url": "https://api.github.com/users/shotoyoo/following{/other_user}", "gists_url": "https://api.github.com/users/shotoyoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/shotoyoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shotoyoo/subscriptions", "organizations_url": "https://api.github.com/users/shotoyoo/orgs", "repos_url": "https://api.github.com/users/shotoyoo/repos", "events_url": "https://api.github.com/users/shotoyoo/events{/privacy}", "received_events_url": "https://api.github.com/users/shotoyoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-23T07:01:49Z", "updated_at": "2020-05-01T03:59:42Z", "closed_at": "2020-05-01T03:59:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Do you support v2.15.4 python3.8 on Windows 10?\r\n \r\nThere seems to be no wheel for v2.15.4, python3.8 for windows\r\nhttps://pypi.org/project/osmium/#files\r\n\r\nActually, I managed to build osmium from source on Windows10 but it occurs error when import\r\n> import osmium\r\n>  File \"C:\\cygwin64\\home\\toyooka\\work\\trunk\\venv\\V3-64\\debug\\Lib\\site-packages\\osmium\\__init__.py\", line 1, in <module>\r\n    from osmium._osmium import *\r\nImportError: DLL load failed while importing _osmium\r\n\r\nIf you are planning to provide windows support, that would be great help.\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/135", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/135/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/135/events", "html_url": "https://github.com/osmcode/pyosmium/issues/135", "id": 603094970, "node_id": "MDU6SXNzdWU2MDMwOTQ5NzA=", "number": 135, "title": "Cannot create geometry", "user": {"login": "nikolatr", "id": 57954970, "node_id": "MDQ6VXNlcjU3OTU0OTcw", "avatar_url": "https://avatars3.githubusercontent.com/u/57954970?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikolatr", "html_url": "https://github.com/nikolatr", "followers_url": "https://api.github.com/users/nikolatr/followers", "following_url": "https://api.github.com/users/nikolatr/following{/other_user}", "gists_url": "https://api.github.com/users/nikolatr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikolatr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikolatr/subscriptions", "organizations_url": "https://api.github.com/users/nikolatr/orgs", "repos_url": "https://api.github.com/users/nikolatr/repos", "events_url": "https://api.github.com/users/nikolatr/events{/privacy}", "received_events_url": "https://api.github.com/users/nikolatr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-20T09:41:43Z", "updated_at": "2020-04-20T10:17:34Z", "closed_at": "2020-04-20T10:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nCould you please help me resolve the following error when trying to extract Node geometry? It is interesting that the expected type is osmium.osm.**_osm**.Node.\r\n\r\nTraceback (most recent call last):\r\n  File \"/workspaces/Nearby/ExtractDataOSM/extract.py\", line 32, in <module>\r\n    h.apply_file(input_path, locations=True, idx='flex_mem')\r\n  File \"/workspaces/Nearby/ExtractDataOSM/handlers.py\", line 65, in node\r\n    self.create_extraction(n)\r\n  File \"/workspaces/Nearby/ExtractDataOSM/handlers.py\", line 57, in create_extraction\r\n    extraction = ExtractedData(osm_object, self.wkt_factory)\r\n  File \"/workspaces/Nearby/ExtractDataOSM/extracted_data.py\", line 10, in __init__\r\n    self.set_location(osm_object, wkt_factory)\r\n  File \"/workspaces/Nearby/ExtractDataOSM/extracted_data.py\", line 24, in set_location\r\n    test = wkt_factory.create_point(node=osm_object)\r\nTypeError: create_point(): incompatible function arguments. The following argument types are supported:\r\n    1. (self: osmium.geom.WKTFactory, location: osmium.osm._osm.Location) -> str\r\n    2. (self: osmium.geom.WKTFactory, node: osmium.osm._osm.Node) -> str\r\n    3. (self: osmium.geom.WKTFactory, ref: osmium.osm._osm.NodeRef) -> str\r\n\r\nInvoked with: kwargs: node=Node(id=417543508, deleted=False, visible=True, version=4, changeset=0, uid=0, timestamp=datetime.datetime(2012, 4, 21, 12, 41, 21, tzinfo=datetime.timezone.utc), user='', tags=osmium.osm.TagList({'name'='\u0408\u043e\u0432\u0430\u043d \u0408\u043e\u0432\u0430\u043d\u043e\u0432\u0438\u045b \u0417\u043c\u0430\u0458','amenity'='school','name:sr'='\u0408\u043e\u0432\u0430\u043d \u0408\u043e\u0432\u0430\u043d\u043e\u0432\u0438\u045b \u0417\u043c\u0430\u0458','name:sr-Latn'='Jovan Jovanovi\u0107 Zmaj'}), location=osmium.osm.Location(x=223211899, y=441126803))\r\n\r\nThanks,\r\nNikola", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/132", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/132/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/132/events", "html_url": "https://github.com/osmcode/pyosmium/issues/132", "id": 591430740, "node_id": "MDU6SXNzdWU1OTE0MzA3NDA=", "number": 132, "title": "High memory usage", "user": {"login": "freundTech", "id": 9515067, "node_id": "MDQ6VXNlcjk1MTUwNjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/9515067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freundTech", "html_url": "https://github.com/freundTech", "followers_url": "https://api.github.com/users/freundTech/followers", "following_url": "https://api.github.com/users/freundTech/following{/other_user}", "gists_url": "https://api.github.com/users/freundTech/gists{/gist_id}", "starred_url": "https://api.github.com/users/freundTech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freundTech/subscriptions", "organizations_url": "https://api.github.com/users/freundTech/orgs", "repos_url": "https://api.github.com/users/freundTech/repos", "events_url": "https://api.github.com/users/freundTech/events{/privacy}", "received_events_url": "https://api.github.com/users/freundTech/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-31T21:11:28Z", "updated_at": "2020-04-01T13:49:42Z", "closed_at": "2020-04-01T13:49:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to find nodes with specific tags and am running into a problem, where pyosmium uses up all my memory (16GB. 10+ GB taken by python), despite not keeping any data from the handler functions (only calling print from there)\r\n\r\nFor comparison I tried the amenity_list.py from the examples directory and ran into the same problem.\r\n\r\nCould there maybe be a memory leak somewhere or is pyosmium supposed to use that much memory?\r\n\r\nI'm using pyosmium 2.15.4 and am running the amenity_list.py script against planet-200323.osm.pbf\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/131", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/131/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/131/events", "html_url": "https://github.com/osmcode/pyosmium/issues/131", "id": 584071902, "node_id": "MDU6SXNzdWU1ODQwNzE5MDI=", "number": 131, "title": "pyosmium-up-to-date: disable pbf compression", "user": {"login": "Komzpa", "id": 810638, "node_id": "MDQ6VXNlcjgxMDYzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/810638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Komzpa", "html_url": "https://github.com/Komzpa", "followers_url": "https://api.github.com/users/Komzpa/followers", "following_url": "https://api.github.com/users/Komzpa/following{/other_user}", "gists_url": "https://api.github.com/users/Komzpa/gists{/gist_id}", "starred_url": "https://api.github.com/users/Komzpa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Komzpa/subscriptions", "organizations_url": "https://api.github.com/users/Komzpa/orgs", "repos_url": "https://api.github.com/users/Komzpa/repos", "events_url": "https://api.github.com/users/Komzpa/events{/privacy}", "received_events_url": "https://api.github.com/users/Komzpa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-18T23:58:10Z", "updated_at": "2020-03-24T20:28:24Z", "closed_at": "2020-03-24T20:28:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to flamegraph most time in pyosmium can be spent in zlib.\r\n\r\nhttps://docs.osmcode.org/osmium/latest/osmium-file-formats.html lists a way to avoid that:\r\nto set output format option pbf_compression=false.\r\n\r\nHowever, there's no obvious way to pass such option into pyosmium. How should this be handled?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/130", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/130/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/130/events", "html_url": "https://github.com/osmcode/pyosmium/issues/130", "id": 580743809, "node_id": "MDU6SXNzdWU1ODA3NDM4MDk=", "number": 130, "title": "How to load a history file?", "user": {"login": "linuxluigi", "id": 8136842, "node_id": "MDQ6VXNlcjgxMzY4NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8136842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linuxluigi", "html_url": "https://github.com/linuxluigi", "followers_url": "https://api.github.com/users/linuxluigi/followers", "following_url": "https://api.github.com/users/linuxluigi/following{/other_user}", "gists_url": "https://api.github.com/users/linuxluigi/gists{/gist_id}", "starred_url": "https://api.github.com/users/linuxluigi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linuxluigi/subscriptions", "organizations_url": "https://api.github.com/users/linuxluigi/orgs", "repos_url": "https://api.github.com/users/linuxluigi/repos", "events_url": "https://api.github.com/users/linuxluigi/events{/privacy}", "received_events_url": "https://api.github.com/users/linuxluigi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-13T17:29:14Z", "updated_at": "2020-03-19T11:42:09Z", "closed_at": "2020-03-19T11:42:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to load a history file with `SimpleHandler`?\r\n\r\nWhen I use  a history file from https://geofabrik.de/ with `SimpleHandler` than I get the following error:\r\n`RuntimeError: Way ID twice in input. Maybe you are using a history or change file?`\r\n\r\n[Osmium-tool](https://osmcode.org/osmium-tool/manual.html#working-with-history-files) can handle history file, could it pyosmium too?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/126", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/126/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/126/events", "html_url": "https://github.com/osmcode/pyosmium/issues/126", "id": 561513585, "node_id": "MDU6SXNzdWU1NjE1MTM1ODU=", "number": 126, "title": "Replication should protect itself against partial state files", "user": {"login": "lonvia", "id": 1447941, "node_id": "MDQ6VXNlcjE0NDc5NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1447941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lonvia", "html_url": "https://github.com/lonvia", "followers_url": "https://api.github.com/users/lonvia/followers", "following_url": "https://api.github.com/users/lonvia/following{/other_user}", "gists_url": "https://api.github.com/users/lonvia/gists{/gist_id}", "starred_url": "https://api.github.com/users/lonvia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lonvia/subscriptions", "organizations_url": "https://api.github.com/users/lonvia/orgs", "repos_url": "https://api.github.com/users/lonvia/repos", "events_url": "https://api.github.com/users/lonvia/events{/privacy}", "received_events_url": "https://api.github.com/users/lonvia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-07T09:17:45Z", "updated_at": "2020-02-12T20:54:50Z", "closed_at": "2020-02-12T20:54:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The server serves occasionally partial state files. Pyosmium should check the integrety of the file and repeat the download a couple of times if it looks like the file was cut.\r\n\r\nExample of a state file cut in the middle of the timestamp:\r\n\r\n```\r\nFri 07 Feb 2020 07:15:02 AM CET === Updating base data\r\nTraceback (most recent call last):\r\n  File \"osgende-import\", line 373, in <module>\r\n    importer.readfile()\r\n  File \"osgende-import\", line 219, in readfile\r\n    seq = self.repserver.apply_diffs(self, seq + 1, self.change_size)\r\n  File \"/usr/lib/python3/dist-packages/osmium/replication/server.py\", line 125, in apply_diffs\r\n    diffs = self.collect_diffs(start_id, max_size)\r\n  File \"/usr/lib/python3/dist-packages/osmium/replication/server.py\", line 76, in collect_diffs\r\n    newest = self.get_state_info()\r\n  File \"/usr/lib/python3/dist-packages/osmium/replication/server.py\", line 297, in get_state_info\r\n    ts = dt.datetime.strptime(kv[1], \"%Y-%m-%dT%H\\\\:%M\\\\:%SZ\")\r\n  File \"/usr/lib/python3.7/_strptime.py\", line 577, in _strptime_datetime\r\n    tt, fraction, gmtoff_fraction = _strptime(data_string, format)\r\n  File \"/usr/lib/python3.7/_strptime.py\", line 359, in _strptime\r\n    (data_string, format))\r\nValueError: time data '2020-02-07T06' does not match format '%Y-%m-%dT%H\\\\:%M\\\\:%SZ'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/125", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/125/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/125/events", "html_url": "https://github.com/osmcode/pyosmium/issues/125", "id": 558613792, "node_id": "MDU6SXNzdWU1NTg2MTM3OTI=", "number": 125, "title": "TypeError: can't pickle osmium.osm._osm.Node objects", "user": {"login": "shindere", "id": 5877758, "node_id": "MDQ6VXNlcjU4Nzc3NTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5877758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shindere", "html_url": "https://github.com/shindere", "followers_url": "https://api.github.com/users/shindere/followers", "following_url": "https://api.github.com/users/shindere/following{/other_user}", "gists_url": "https://api.github.com/users/shindere/gists{/gist_id}", "starred_url": "https://api.github.com/users/shindere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shindere/subscriptions", "organizations_url": "https://api.github.com/users/shindere/orgs", "repos_url": "https://api.github.com/users/shindere/repos", "events_url": "https://api.github.com/users/shindere/events{/privacy}", "received_events_url": "https://api.github.com/users/shindere/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-01T23:19:04Z", "updated_at": "2020-08-10T19:25:38Z", "closed_at": "2020-08-10T19:25:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "While loading a `.osm.pbf`, I am trying to collect objects (nodes etc.)\nin a Python list to process them later.\n\nSimply appending them to the list gives a segfault. As I understand it\nthis is an expected behaviour because the objects are destroyed after\nthe handler they are passed to ends.\n\nI hoped to resolve the problem by using the deep_copy module to add to\nthe lists not the objects themselves but rather a deep copy of them.\n\nThis is what gave rise to the message above.\n\nI am kind of a newbie in Python so not able to know what should be done\nto make the `osmium.osm._osm.Node` picklable.\n\nAny help highly appreciated.\n\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/123", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/123/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/123/events", "html_url": "https://github.com/osmcode/pyosmium/issues/123", "id": 551491883, "node_id": "MDU6SXNzdWU1NTE0OTE4ODM=", "number": 123, "title": "Segmentation fault when importing osmium and torch", "user": {"login": "SBCV", "id": 19491335, "node_id": "MDQ6VXNlcjE5NDkxMzM1", "avatar_url": "https://avatars2.githubusercontent.com/u/19491335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SBCV", "html_url": "https://github.com/SBCV", "followers_url": "https://api.github.com/users/SBCV/followers", "following_url": "https://api.github.com/users/SBCV/following{/other_user}", "gists_url": "https://api.github.com/users/SBCV/gists{/gist_id}", "starred_url": "https://api.github.com/users/SBCV/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SBCV/subscriptions", "organizations_url": "https://api.github.com/users/SBCV/orgs", "repos_url": "https://api.github.com/users/SBCV/repos", "events_url": "https://api.github.com/users/SBCV/events{/privacy}", "received_events_url": "https://api.github.com/users/SBCV/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-17T15:51:48Z", "updated_at": "2020-03-05T19:56:01Z", "closed_at": "2020-03-05T19:56:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running\r\n```\r\nimport torch\r\nimport osmium\r\n```\r\ncauses \r\n\r\n```\r\nProcess finished with exit code 139 (interrupted by signal 11: SIGSEGV)\r\n```\r\nI'm running Ubuntu 18.04 with miniconda. \r\n`pip list` shows me that I'm using osmium 2.15.3 and torch 1.3.1.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/121", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/121/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/121/events", "html_url": "https://github.com/osmcode/pyosmium/issues/121", "id": 534464374, "node_id": "MDU6SXNzdWU1MzQ0NjQzNzQ=", "number": 121, "title": "Get file info using Python", "user": {"login": "ssszyszkowicz", "id": 44309689, "node_id": "MDQ6VXNlcjQ0MzA5Njg5", "avatar_url": "https://avatars3.githubusercontent.com/u/44309689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssszyszkowicz", "html_url": "https://github.com/ssszyszkowicz", "followers_url": "https://api.github.com/users/ssszyszkowicz/followers", "following_url": "https://api.github.com/users/ssszyszkowicz/following{/other_user}", "gists_url": "https://api.github.com/users/ssszyszkowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssszyszkowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssszyszkowicz/subscriptions", "organizations_url": "https://api.github.com/users/ssszyszkowicz/orgs", "repos_url": "https://api.github.com/users/ssszyszkowicz/repos", "events_url": "https://api.github.com/users/ssszyszkowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/ssszyszkowicz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-07T23:05:41Z", "updated_at": "2020-02-02T20:07:17Z", "closed_at": "2020-02-02T20:07:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been using pyosmium with much success (thank you for a very fine tool!). \r\n\r\nCan I access metadata information?\r\n- Timestamp for the whole file\r\n- File type (osm/pbf)\r\n- Bounds\r\n- etc.\r\n\r\nThe osmium console tool can give you these things, but I failed to find a way to obtain these through the Python bindings. Is it implemented?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/120", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/120/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/120/events", "html_url": "https://github.com/osmcode/pyosmium/issues/120", "id": 527380350, "node_id": "MDU6SXNzdWU1MjczODAzNTA=", "number": 120, "title": "replication tools should set a custom HTTP user agent", "user": {"login": "lonvia", "id": 1447941, "node_id": "MDQ6VXNlcjE0NDc5NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1447941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lonvia", "html_url": "https://github.com/lonvia", "followers_url": "https://api.github.com/users/lonvia/followers", "following_url": "https://api.github.com/users/lonvia/following{/other_user}", "gists_url": "https://api.github.com/users/lonvia/gists{/gist_id}", "starred_url": "https://api.github.com/users/lonvia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lonvia/subscriptions", "organizations_url": "https://api.github.com/users/lonvia/orgs", "repos_url": "https://api.github.com/users/lonvia/repos", "events_url": "https://api.github.com/users/lonvia/events{/privacy}", "received_events_url": "https://api.github.com/users/lonvia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-22T19:41:30Z", "updated_at": "2020-02-13T22:50:48Z", "closed_at": "2020-02-13T22:50:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This would help upstream replication services to tell us when the library does something bad.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/118", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/118/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/118/events", "html_url": "https://github.com/osmcode/pyosmium/issues/118", "id": 503568019, "node_id": "MDU6SXNzdWU1MDM1NjgwMTk=", "number": 118, "title": "Pyosmium-get-changes output to stdout", "user": {"login": "nextstopsun", "id": 966321, "node_id": "MDQ6VXNlcjk2NjMyMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/966321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nextstopsun", "html_url": "https://github.com/nextstopsun", "followers_url": "https://api.github.com/users/nextstopsun/followers", "following_url": "https://api.github.com/users/nextstopsun/following{/other_user}", "gists_url": "https://api.github.com/users/nextstopsun/gists{/gist_id}", "starred_url": "https://api.github.com/users/nextstopsun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nextstopsun/subscriptions", "organizations_url": "https://api.github.com/users/nextstopsun/orgs", "repos_url": "https://api.github.com/users/nextstopsun/repos", "events_url": "https://api.github.com/users/nextstopsun/events{/privacy}", "received_events_url": "https://api.github.com/users/nextstopsun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-07T16:45:22Z", "updated_at": "2020-02-02T22:09:34Z", "closed_at": "2020-02-02T22:09:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pyosmium-get-changes output might be used in a pipe, but currently can\u2019t due to unknown file type of stdout. Named pipe doesn\u2019t do it as a workaround, because it doesn\u2019t have an option to write to existing file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/117", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/117/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/117/events", "html_url": "https://github.com/osmcode/pyosmium/issues/117", "id": 503044689, "node_id": "MDU6SXNzdWU1MDMwNDQ2ODk=", "number": 117, "title": "How to break up a way into segments", "user": {"login": "jmarca", "id": 70304, "node_id": "MDQ6VXNlcjcwMzA0", "avatar_url": "https://avatars2.githubusercontent.com/u/70304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmarca", "html_url": "https://github.com/jmarca", "followers_url": "https://api.github.com/users/jmarca/followers", "following_url": "https://api.github.com/users/jmarca/following{/other_user}", "gists_url": "https://api.github.com/users/jmarca/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmarca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmarca/subscriptions", "organizations_url": "https://api.github.com/users/jmarca/orgs", "repos_url": "https://api.github.com/users/jmarca/repos", "events_url": "https://api.github.com/users/jmarca/events{/privacy}", "received_events_url": "https://api.github.com/users/jmarca/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-06T03:02:38Z", "updated_at": "2019-10-14T17:41:01Z", "closed_at": "2019-10-14T17:41:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to break up ways into short segments.\r\n\r\nThe brute force way is to just grab the list of nodes and manually create linestrings between each pair of nodes from beginning to end.\r\n\r\nBut I'd like to stay in the idiom of pyosmium.  Trying to do something like the following for my way handler:\r\n\r\n```python\r\ndef way(self, w):\r\n    def edgeway(a,b):\r\n        return osmium.osm.WayNodeList([a,b])\r\n    highway = w.tags.get('highway')\r\n    if highway is not None and highway in keep_ways:\r\n        nodes = w.nodes\r\n        edges = [{'start':nodes[a].ref,\r\n                  'end':nodes[b].ref,\r\n                  'edgeway':edgeway(nodes[a],nodes[b]),\r\n                  'way':w.id}\r\n                 for (a,b) in zip(range(0,len(nodes)-1),\r\n                                  range(1,len(nodes)))]\r\n        self.edge_list[w.id] = edges\r\n```\r\n\r\nbut the interpreter complains that there is no constructor for `osmium.osm.WayNodeList([a,b])`\r\n\r\nI was looking at https://github.com/osmcode/pyosmium/blob/master/test/test_geom.py and it seems that code creates ways by calling handlers on data.  That doesn't seem right here, as the nodes are already loaded into the parser and all I want to do is create a bunch of \"mini ways\" between each node pair in the way.\r\n\r\nForgot to say, the reason I want to do this is to be able to spit out linestrings for each edge segment.  So really just pumping the nodes' location pairs into shapely will probably do the trick.  I just wanted to try to stay inside of osmium.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/116", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/116/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/116/events", "html_url": "https://github.com/osmcode/pyosmium/issues/116", "id": 502822550, "node_id": "MDU6SXNzdWU1MDI4MjI1NTA=", "number": 116, "title": "strange segfault when using pyproj", "user": {"login": "jmarca", "id": 70304, "node_id": "MDQ6VXNlcjcwMzA0", "avatar_url": "https://avatars2.githubusercontent.com/u/70304?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmarca", "html_url": "https://github.com/jmarca", "followers_url": "https://api.github.com/users/jmarca/followers", "following_url": "https://api.github.com/users/jmarca/following{/other_user}", "gists_url": "https://api.github.com/users/jmarca/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmarca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmarca/subscriptions", "organizations_url": "https://api.github.com/users/jmarca/orgs", "repos_url": "https://api.github.com/users/jmarca/repos", "events_url": "https://api.github.com/users/jmarca/events{/privacy}", "received_events_url": "https://api.github.com/users/jmarca/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-10-04T20:08:20Z", "updated_at": "2020-03-05T19:57:13Z", "closed_at": "2020-03-05T19:57:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure what I'm doing wrong here, but it seems importing both pyproj and pyosmium leads to a segfault.\r\n\r\nEnvironment:\r\n```\r\npython --version\r\nPython 3.7.4\r\n pip list\r\nPackage            Version    \r\n------------------ -----------\r\n...\r\nosmium             2.15.3     \r\n...\r\npyproj             2.4.0      \r\n```\r\n\r\nCode that segfaults\r\n\r\n```python\r\nimport osmium\r\nimport pyproj\r\n\r\ncrs = pyproj.CRS.from_epsg(4326)\r\nprint(crs)\r\n```\r\n```bash\r\npython pyproj_test.py\r\nSegmentation fault\r\n```\r\n\r\nBut if I switch the order of imports, no problem.\r\n\r\n```python\r\nimport pyproj\r\nimport osmium\r\n\r\ncrs = pyproj.CRS.from_epsg(4326)\r\nprint(crs)\r\n```\r\n\r\nObviously, the simple answer is to import osmium last!  But segfaults are bad, and I can't figure out why the order might matter.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/115", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/115/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/115/events", "html_url": "https://github.com/osmcode/pyosmium/issues/115", "id": 502680846, "node_id": "MDU6SXNzdWU1MDI2ODA4NDY=", "number": 115, "title": "Enable Handler Class Methods to Yield Instance Attributes ", "user": {"login": "manesioz", "id": 38442944, "node_id": "MDQ6VXNlcjM4NDQyOTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/38442944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manesioz", "html_url": "https://github.com/manesioz", "followers_url": "https://api.github.com/users/manesioz/followers", "following_url": "https://api.github.com/users/manesioz/following{/other_user}", "gists_url": "https://api.github.com/users/manesioz/gists{/gist_id}", "starred_url": "https://api.github.com/users/manesioz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manesioz/subscriptions", "organizations_url": "https://api.github.com/users/manesioz/orgs", "repos_url": "https://api.github.com/users/manesioz/repos", "events_url": "https://api.github.com/users/manesioz/events{/privacy}", "received_events_url": "https://api.github.com/users/manesioz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-04T14:49:13Z", "updated_at": "2019-10-12T00:20:57Z", "closed_at": "2019-10-12T00:20:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! Wonderful package. I was just wondering if the following functionality is possible, and if not how it could be implemented. \r\n\r\nI want to stream/yield certain instance attributes instead of updating them in-memory. \r\n\r\nCurrently we can do the following: \r\n```python\r\nclass CounterHandler(osmium.SimpleHandler):\r\n    def __init__(self):\r\n        osmium.SimpleHandler.__init__(self)\r\n        self.edge_and_nodes = [] \r\n    def way(self, w): \r\n        self.edge_and_nodes.append({'edge_id': w.id, \r\n                                        'nodes': [w.nodes[i].ref for i in range(len(w.nodes))]})\r\nh = CounterHandler()\r\nh.apply_file(\"test.osm.pbf\")\r\nprint(\"Edges and their connected nodes: {}\".format(h.edge_and_nodes))\r\n```\r\n\r\nHowever, when dealing with large regions this is not scalable. \r\n\r\nI would like a way of yielding a dictionary object that includes WayIds and related NodeIds (as well as tags, etc) for every WayObject. Is this possible? \r\n\r\n\r\nI am looking for something like this: \r\n\r\n```python\r\nclass StreamHandler(osmium.SimpleHandler):\r\n    def __init__(self):\r\n        osmium.SimpleHandler.__init__(self)\r\n        self.edge_and_nodes = [] \r\n    def way(self, w): \r\n        yield {'edge_id': w.id, \r\n               'nodes': [w.nodes[i].ref for i in range(len(w.nodes))]}\r\nh = StreamHandler()\r\nh.apply_file(\"test.osm.pbf\")\r\nfor row in h.way(w): \r\n    print(row) \r\n```\r\n\r\nBut I am not sure how to pass the `w` parameter (WayObject) since that seems to be dealt with internally using the `apply_file()` method (and I can't seem to find the source code for that method). \r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/113", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/113/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/113/events", "html_url": "https://github.com/osmcode/pyosmium/issues/113", "id": 491697140, "node_id": "MDU6SXNzdWU0OTE2OTcxNDA=", "number": 113, "title": "Process finishes with 0xC0000005", "user": {"login": "pingurus", "id": 36167579, "node_id": "MDQ6VXNlcjM2MTY3NTc5", "avatar_url": "https://avatars0.githubusercontent.com/u/36167579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pingurus", "html_url": "https://github.com/pingurus", "followers_url": "https://api.github.com/users/pingurus/followers", "following_url": "https://api.github.com/users/pingurus/following{/other_user}", "gists_url": "https://api.github.com/users/pingurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/pingurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pingurus/subscriptions", "organizations_url": "https://api.github.com/users/pingurus/orgs", "repos_url": "https://api.github.com/users/pingurus/repos", "events_url": "https://api.github.com/users/pingurus/events{/privacy}", "received_events_url": "https://api.github.com/users/pingurus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-10T14:08:33Z", "updated_at": "2019-09-11T05:28:44Z", "closed_at": "2019-09-11T05:28:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI'm new to pyosmium and wanted to filter a file .osm.pbf file. However when I execute my script it terminates with exit code 0xC0000005 when executing line 43 (writer.add_node(n)). I'm using python 3.7.3 on win32 with a 64bit machine.\r\nI hope you can help, thanks in advance!\r\n\r\nFilterData.py:\r\n```\r\n'''\r\nFilters the .osm.pbf files for necessary tags and makes analysis on public transport stops, buildings and trees\r\n'''\r\nimport os\r\n\r\nimport osmium as osm\r\nimport sys\r\nimport re\r\nfrom sortedcontainers import SortedSet\r\nimport TagFilter\r\n\r\n\r\ndef get_used_tags():\r\n    tags = SortedSet()\r\n    with open(\"./styles/Wanderkarte/lines\") as lines:\r\n        tags.update(re.findall('([A-z]+)\\=', lines.read()))\r\n\r\n    with open(\"./styles/Wanderkarte/points\") as points:\r\n        tags.update(re.findall('([A-z]+)\\=', points.read()))\r\n\r\n    with open(\"./styles/Wanderkarte/polygons\") as polygons:\r\n        tags.update(re.findall('([A-z]+)\\=', polygons.read()))\r\n    return tags\r\n\r\n\r\nif __name__ == '__main__':\r\n\r\n    used_tags = get_used_tags()\r\n\r\n    relation_handler = TagFilter.RelationFilter(used_tags)\r\n    relation_handler.apply_file('./data/Tiles/N48E8/Temp/00080000.osm.pbf')\r\n    print(\"done with relations\")\r\n    way_handler = TagFilter.WayFilter(used_tags)\r\n    way_handler.apply_file('./data/Tiles/N48E8/Temp/00080000.osm.pbf')\r\n    print(\"done with ways\")\r\n    node_handler = TagFilter.NodeFilter(used_tags)\r\n    node_handler.apply_file('./data/Tiles/N48E8/Temp/00080000.osm.pbf')\r\n    print(\"done with nodes\")\r\n\r\n    # os.remove('./test.osm.pbf')\r\n    writer=osm.SimpleWriter('./test.osm.pbf')\r\n    for n in TagFilter.tree_nodes:\r\n        writer.add_node(n)\r\n    for w in TagFilter.final_ways:\r\n        writer.add_way(w)\r\n    for r in TagFilter.final_relations:\r\n        writer.add_relation(r)\r\n    writer.close()\r\n\r\n    print('dropped nodes: ' + str(TagFilter.dropped_nodes))\r\n    print('dropped ways: ' + str(TagFilter.dropped_ways))\r\n    print('dropped relations: ' + str(TagFilter.dropped_relations))\r\n```\r\nTagFilter.py:\r\n```\r\n'''\r\nDoes the filtering\r\n'''\r\n\r\nimport osmium as osm\r\nimport sys\r\nimport re\r\nfrom sortedcontainers import SortedSet\r\n\r\ndropped_nodes = 0\r\ndropped_relations = 0\r\ndropped_ways = 0\r\n\r\ntree_nodes = set()\r\ntransport_nodes = set()\r\nfinal_nodes = set()\r\nneeded_nodes_ids = SortedSet()\r\n\r\nbuilding_ways = set()\r\nfinal_ways = set()\r\nneeded_ways_ids = SortedSet()\r\n\r\nfinal_relations = set()\r\nneeded_relations_ids = SortedSet()\r\n\r\n\r\ndef check_if_needed(used_tags, present_tags):\r\n    for t in present_tags:\r\n        if t.k in used_tags:\r\n            return True\r\n    return False\r\n\r\n\r\nclass NodeFilter(osm.SimpleHandler):\r\n    def __init__(self, used_tags):\r\n        super(NodeFilter, self).__init__()\r\n        self.used_tags = used_tags\r\n\r\n    def categorize_nodes(self, n):\r\n        if 'natural' in n.tags and n.tags['natural'] == 'tree':\r\n            tree_nodes.add(n)\r\n        elif ('public_transport' in n.tags and (\r\n                n.tags['public_transport'] == 'station' or n.tags['public_transport'] == 'platform')) or (\r\n                'highway' in n.tags and n.tags['highway'] == 'bus_stop'):\r\n            transport_nodes.add(n)\r\n        else:\r\n            final_nodes.add(n)\r\n\r\n    def node(self, n):\r\n        if n.id in needed_nodes_ids:\r\n            self.categorize_nodes(n)\r\n        elif check_if_needed(self.used_tags, n.tags):\r\n            self.categorize_nodes(n)\r\n        else:\r\n            # drop unneeded nodes\r\n            global dropped_nodes\r\n            dropped_nodes += 1\r\n\r\n\r\nclass WayFilter(osm.SimpleHandler):\r\n    def __init__(self, used_tags):\r\n        super(WayFilter, self).__init__()\r\n        self.used_tags = used_tags\r\n\r\n    def categorize_ways(self, w):\r\n        if 'building' in w.tags:\r\n            building_ways.add(w)\r\n        else:\r\n            final_ways.add(w)\r\n\r\n        needed_nodes_ids.update([n.ref for n in w.nodes])\r\n\r\n    def way(self, w):\r\n        if w.id in needed_ways_ids:\r\n            self.categorize_ways(w)\r\n        elif check_if_needed(self.used_tags, w.tags):\r\n            self.categorize_ways(w)\r\n        else:\r\n            # drop unneeded nodes\r\n            global dropped_ways\r\n            dropped_ways += 1\r\n\r\n\r\nclass RelationFilter(osm.SimpleHandler):\r\n    def __init__(self, used_tags):\r\n        super(RelationFilter, self).__init__()\r\n        self.used_tags = used_tags\r\n\r\n    def categorize_relations(self, r):\r\n        final_relations.add(r)\r\n        for m in r.members:\r\n            if m.type is 'node':\r\n                needed_nodes_ids.update(m.id)\r\n            elif m.type is 'way':\r\n                needed_ways_ids.update(m.id)\r\n            elif m.type is 'relation':\r\n                needed_relations_ids\r\n\r\n    def relation(self, r):\r\n        if r.id in needed_relations_ids:\r\n            self.categorize_relations(r)\r\n        elif check_if_needed(self.used_tags, r.tags):\r\n            self.categorize_relations(r)\r\n        else:\r\n            # drop unneeded nodes\r\n            global dropped_relations\r\n            dropped_relations += 1\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/112", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/112/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/112/events", "html_url": "https://github.com/osmcode/pyosmium/issues/112", "id": 453571967, "node_id": "MDU6SXNzdWU0NTM1NzE5Njc=", "number": 112, "title": "Segfault on apply_file", "user": {"login": "mattwigway", "id": 566958, "node_id": "MDQ6VXNlcjU2Njk1OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/566958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattwigway", "html_url": "https://github.com/mattwigway", "followers_url": "https://api.github.com/users/mattwigway/followers", "following_url": "https://api.github.com/users/mattwigway/following{/other_user}", "gists_url": "https://api.github.com/users/mattwigway/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattwigway/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattwigway/subscriptions", "organizations_url": "https://api.github.com/users/mattwigway/orgs", "repos_url": "https://api.github.com/users/mattwigway/repos", "events_url": "https://api.github.com/users/mattwigway/events{/privacy}", "received_events_url": "https://api.github.com/users/mattwigway/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-07T15:29:01Z", "updated_at": "2019-06-07T17:44:54Z", "closed_at": "2019-06-07T17:44:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I `pip install osmium` into a fresh Python 3.7 or Python 2.7 conda environment on Mac OS X 10.14.5, I get a segfault when I run this code:\r\n\r\n```python\r\nimport osmium\r\nclass Handler(osmium.SimpleHandler):\r\n     def __init__ (self):\r\n             pass\r\n \r\nh = Handler()\r\nh.apply_file('/Users/matthewc/Dropbox (ASU)/shopping/data/california-latest.osm.pbf')\r\n``` \r\n=> `Segmentation fault: 11`\r\n\r\nI tried to dump a core to get a stack trace, but I ran out of disk space before it finished (at about 100GB). I also tried with a much smaller PBF and had the same problem.\r\n\r\nInterestingly, the segfault happens even if I pass in a filename that does not exist. So it's happening before it even tries to parse the file. It segfaults on the h.apply_file line; if I take that out the program completes.\r\n\r\nEven if I install with `--no-binary osmium` I still get the segfault, but maybe the libosmium binary is still used?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/111", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/111/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/111/events", "html_url": "https://github.com/osmcode/pyosmium/issues/111", "id": 452669864, "node_id": "MDU6SXNzdWU0NTI2Njk4NjQ=", "number": 111, "title": "Error with create_linestring", "user": {"login": "lucadelu", "id": 178741, "node_id": "MDQ6VXNlcjE3ODc0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/178741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucadelu", "html_url": "https://github.com/lucadelu", "followers_url": "https://api.github.com/users/lucadelu/followers", "following_url": "https://api.github.com/users/lucadelu/following{/other_user}", "gists_url": "https://api.github.com/users/lucadelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucadelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucadelu/subscriptions", "organizations_url": "https://api.github.com/users/lucadelu/orgs", "repos_url": "https://api.github.com/users/lucadelu/repos", "events_url": "https://api.github.com/users/lucadelu/events{/privacy}", "received_events_url": "https://api.github.com/users/lucadelu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-06-05T19:12:09Z", "updated_at": "2019-07-26T06:07:38Z", "closed_at": "2019-07-26T06:07:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\n\r\nI have a problem creating linestring from ways, my code was working until few days ago and now return error for each way during the create_linestring call, the error is \"need at least two points for linestring\" but I don't understand why since my osm file seems to be correct.\r\n\r\nThe code is the following\r\n\r\n```python\r\nclass CaiRoutesHandler(osmium.SimpleHandler):\r\n    \"\"\"Class to parse CAI routes from OSM file and return them in different\r\n    format\"\"\"\r\n    def __init__(self, separator=\",\"):\r\n        super(CaiRoutesHandler, self).__init__()\r\n        self.ways = {}\r\n        self.sep = separator\r\n\r\n    def way(self, way):\r\n        \"\"\"Function to parse ways\"\"\"\r\n        print(way)\r\n        self.ways[way.id] = {}\r\n        try:\r\n            self.ways[way.id]['geom'] = WKTFAB.create_linestring(way)\r\n        except Exception:\r\n            print(\"Error creating geometry for way {}\".format(way.id))\r\n            pass\r\n        self.ways[way.id]['tags'] = way.tags\r\n```\r\n\r\nAny idea about what could be wrong? How can I debug it?\r\n\r\nThanks\r\nLuca", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/110", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/110/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/110/events", "html_url": "https://github.com/osmcode/pyosmium/issues/110", "id": 452304237, "node_id": "MDU6SXNzdWU0NTIzMDQyMzc=", "number": 110, "title": "How to add or change tag of a part of way.", "user": {"login": "hxm841946123", "id": 50775802, "node_id": "MDQ6VXNlcjUwNzc1ODAy", "avatar_url": "https://avatars3.githubusercontent.com/u/50775802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hxm841946123", "html_url": "https://github.com/hxm841946123", "followers_url": "https://api.github.com/users/hxm841946123/followers", "following_url": "https://api.github.com/users/hxm841946123/following{/other_user}", "gists_url": "https://api.github.com/users/hxm841946123/gists{/gist_id}", "starred_url": "https://api.github.com/users/hxm841946123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hxm841946123/subscriptions", "organizations_url": "https://api.github.com/users/hxm841946123/orgs", "repos_url": "https://api.github.com/users/hxm841946123/repos", "events_url": "https://api.github.com/users/hxm841946123/events{/privacy}", "received_events_url": "https://api.github.com/users/hxm841946123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-05T03:56:01Z", "updated_at": "2019-06-05T16:01:00Z", "closed_at": "2019-06-05T07:31:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm trying to finish my course project. Because some part of way are truck prohibited. But the OSM file does contain the information for that. So I have to add them. Is it possible that for a part of way, change access from yes to no by using coordinates and keep the others yes?  Please help me. Thank you. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/108", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/108/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/108/events", "html_url": "https://github.com/osmcode/pyosmium/issues/108", "id": 448132865, "node_id": "MDU6SXNzdWU0NDgxMzI4NjU=", "number": 108, "title": "Convert to GeoJSON", "user": {"login": "lhorus", "id": 7058142, "node_id": "MDQ6VXNlcjcwNTgxNDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/7058142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lhorus", "html_url": "https://github.com/lhorus", "followers_url": "https://api.github.com/users/lhorus/followers", "following_url": "https://api.github.com/users/lhorus/following{/other_user}", "gists_url": "https://api.github.com/users/lhorus/gists{/gist_id}", "starred_url": "https://api.github.com/users/lhorus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lhorus/subscriptions", "organizations_url": "https://api.github.com/users/lhorus/orgs", "repos_url": "https://api.github.com/users/lhorus/repos", "events_url": "https://api.github.com/users/lhorus/events{/privacy}", "received_events_url": "https://api.github.com/users/lhorus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-24T11:59:31Z", "updated_at": "2019-08-09T19:44:18Z", "closed_at": "2019-08-09T19:44:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "The examples folder contains an example of [converting](https://github.com/osmcode/pyosmium/blob/master/examples/convert.py) the file format, I would say that it allows conversion to traditional formats - .osm, .osm.pbf and so on. How does one apply the example to GeoJSON? I noticed that PyOsmium includes a GeoJSON factory.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/106", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/106/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/106/events", "html_url": "https://github.com/osmcode/pyosmium/issues/106", "id": 435768683, "node_id": "MDU6SXNzdWU0MzU3Njg2ODM=", "number": 106, "title": "Dictionary-like types should (implicitly?) convert to Python dicts", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-22T15:27:43Z", "updated_at": "2019-08-10T11:54:18Z", "closed_at": "2019-08-10T11:54:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Suppose I have a key-value `TagList` and I want to turn it into a proper Python dict.\r\n\r\nAt the moment I can not convert via `dict(tags)`:\r\n\r\n```Python\r\n   props = dict(n.tags)\r\nTypeError: cannot convert dictionary update sequence element #0 to a sequence\r\n```\r\n\r\nthe workaround is to be explicit\r\n\r\n```Python\r\nprops = {tag.k: tag.v for tag in n.tags}\r\n```\r\n\r\nLooking at the implementation\r\n\r\nhttps://github.com/osmcode/pyosmium/blob/f857b196aa201443e907684a85a9fdf205b26f5b/lib/osm.cc#L101-L127\r\n\r\nI see no reason why pyosmium's custom dictionary-like objects should not convert to dicts. Am I missing something? The keys should be unique, no?\r\n\r\nHappy Easter :rabbit: hacking!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/105", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/105/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/105/events", "html_url": "https://github.com/osmcode/pyosmium/issues/105", "id": 430140217, "node_id": "MDU6SXNzdWU0MzAxNDAyMTc=", "number": 105, "title": "Segfault when processing many node", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-04-07T12:30:59Z", "updated_at": "2019-04-08T15:58:48Z", "closed_at": "2019-04-08T15:58:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following minimal test case crashes with a segfault when processing [nodes.osm](https://linuxminded.nl/tmp/nodes.osm)\r\n```python\r\n#!/usr/bin/python3\r\n\r\nimport os\r\nimport pprint\r\n\r\nimport osmium\r\n\r\n\r\nclass DataHandler(osmium.SimpleHandler):\r\n    nodes = []\r\n\r\n    def __init__(self):\r\n        osmium.SimpleHandler.__init__(self)\r\n\r\n    def node(self, n):\r\n        print(\"Adding node: %s\" % pprint.pformat(n))\r\n\r\n        self.nodes.append(n)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    os.environ['PYTHONUNBUFFERED'] = '1'\r\n\r\n    file = '/tmp/nodes.osm'\r\n\r\n    dh = DataHandler()\r\n    dh.apply_file(file)\r\n\r\n    if len(dh.nodes) > 0:\r\n        print(\"Processing nodes\")\r\n\r\n        for n in dh.nodes:\r\n             print(\"n: %s\" % pprint.pformat(n))\r\n```\r\n\r\nWhen not using pprint, but processing the tags the code hangs.\r\n\r\nThis happens on both Debian stretch & unstable:\r\n```\r\n$ lsb_release -sd\r\nDebian GNU/Linux 9.8 (stretch)\r\n$ python3 --version\r\nPython 3.5.3\r\n$ dpkg -l python3-pyosmium | grep ^ii\r\nii  python3-pyosmium 2.15.1-1~bpo9+1 amd64        Osmium library bindings for Python 3\r\n```\r\n```\r\n$ lsb_release -sd\r\nDebian GNU/Linux buster/sid\r\n$ python3 --version\r\nPython 3.7.3\r\n$ dpkg -l python3-pyosmium | grep ^ii\r\nii  python3-pyosmium 2.15.2-1~exp1 amd64        Osmium library bindings for Python 3\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/104", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/104/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/104/events", "html_url": "https://github.com/osmcode/pyosmium/issues/104", "id": 429500573, "node_id": "MDU6SXNzdWU0Mjk1MDA1NzM=", "number": 104, "title": "ImportError: No module named osmium.replication", "user": {"login": "eastclintw00d", "id": 7422098, "node_id": "MDQ6VXNlcjc0MjIwOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7422098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eastclintw00d", "html_url": "https://github.com/eastclintw00d", "followers_url": "https://api.github.com/users/eastclintw00d/followers", "following_url": "https://api.github.com/users/eastclintw00d/following{/other_user}", "gists_url": "https://api.github.com/users/eastclintw00d/gists{/gist_id}", "starred_url": "https://api.github.com/users/eastclintw00d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eastclintw00d/subscriptions", "organizations_url": "https://api.github.com/users/eastclintw00d/orgs", "repos_url": "https://api.github.com/users/eastclintw00d/repos", "events_url": "https://api.github.com/users/eastclintw00d/events{/privacy}", "received_events_url": "https://api.github.com/users/eastclintw00d/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-04T21:56:38Z", "updated_at": "2019-04-05T10:41:02Z", "closed_at": "2019-04-05T10:41:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI closely followed the installation instructions for Nominatim 3.2.0. Early I have set up another server with Nominatim 3.1.0 and the updates where working fine. On the new server - on trying to get updates for a europe file with pyosmium started - I get the following error:\r\n\r\nxxx@xxx:~$ sudo -u nominatim /srv/nominatim/Nominatim-3.2.0/build/utils/update.php --import-osmosis-all\r\nCurrently at sequence 2204 (31/03/2019 20:14:35) - t indexed\r\n/srv/nominatim/.local/bin/pyosmium-get-changes --server https://download.geofabrik.de/europe-updates -o /srv/nominatim/Nominatim-3.2.0/build/osmosischange.osc -s 30 -I 2204\r\nTraceback (most recent call last):\r\n  File \"/srv/nominatim/.local/bin/pyosmium-get-changes\", line 27, in <module>\r\n    from osmium.replication import server as rserv\r\nImportError: No module named osmium.replication\r\nERROR: updates failed.\r\n\r\nThe --init-updates executed under the nominatim user returns:\r\n\r\nnominatim@xxx:~/Nominatim-3.2.0/build$ ./utils/update.php --init-updates\r\n2019-04-04 21:52:49 == module path: /srv/nominatim/Nominatim-3.2.0/build/module\r\n2019-04-04 21:52:49 == Create Functions\r\nSummary of warnings:\r\n\r\n\r\n2019-04-04 21:52:49 == Setup finished.\r\nERROR: HTTP Error 404: Not Found\r\nERROR: HTTP Error 404: Not Found\r\nERROR: HTTP Error 404: Not Found\r\nERROR: HTTP Error 404: Not Found\r\nERROR: HTTP Error 404: Not Found\r\nDone. Database updates will start at sequence 2204 (2019-03-31T17:14:35Z)\r\n\r\nI haven't found a solution to this particular problem, yet. Any help would be greatly appreciated.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/103", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/103/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/103/events", "html_url": "https://github.com/osmcode/pyosmium/issues/103", "id": 422970961, "node_id": "MDU6SXNzdWU0MjI5NzA5NjE=", "number": 103, "title": "pyosmium-up-to-date objects in output seem to heavily depend on replication server", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-03-19T21:52:27Z", "updated_at": "2019-04-23T08:17:44Z", "closed_at": "2019-03-21T00:44:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Let's say I downloaded the latest Berlin snapshot from Geofabrik. It's about 53 MB.\r\n\r\nBy default the Geofabrik snapshot includes its own replication server in the osmosis metadata.\r\n\r\n```bash\r\nosmium fileinfo --get header.option.osmosis_replication_base_url berlin-latest.osm.pbf \r\nhttp://download.geofabrik.de/europe/germany/berlin-updates\r\n```\r\n\r\nI want to overwrite this replication server to always update the Geofabrk snapshot with the latest minutely diffs.\r\n\r\n```bash\r\npyosmium-up-to-date berlin-latest.osm.pbf -o berlin-latest-uptodate.osm.pbf --server 'https://planet.osm.org/replication/minute/' --ignore-osmosis-headers\r\n```\r\n\r\nThe resulting `.osm.pbf` now is about 118 MB in size.\r\n\r\nIn contrast if I call `pyosmium-up-to-date` without the `--ignore-osmosis-headers` to fetch diffs from the Geofabrik replication server baked into the `.osm.pbf` I get a new file which is only a couple of kilobytes bigger than the original one (which makes more sense to me).\r\n\r\nHere are the object diffs for\r\n- using the minutely diff replication server\r\n- using the baked in Geofabrik replication server\r\n\r\n```\r\nosmium diff berlin-latest.osm.pbf berlin-latest-uptodate-minutely.osm.pbf -s -q\r\n[======================================================================] 100% \r\nSummary: left=1311 right=6189443 same=5999552 different=6\r\n\r\nosmium diff berlin-latest.osm.pbf berlin-latest-uptodate-osmosis.osm.pbf -s -q\r\n[======================================================================] 100% \r\nSummary: left=683 right=1449 same=6000186 different=0\r\n```\r\n\r\nThis behavior is a bit unexpected. Why does using the minutely replication server result in a file roughly twice the original size, compared to only a few kilobytes when using the Geofabrik replication server?\r\n\r\nAm I doing something wrong here? :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/102", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/102/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/102/events", "html_url": "https://github.com/osmcode/pyosmium/issues/102", "id": 422427547, "node_id": "MDU6SXNzdWU0MjI0Mjc1NDc=", "number": 102, "title": "Option `--ignore-osmosis-headers` changes replication tool behavior", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-03-18T20:48:26Z", "updated_at": "2019-03-19T20:56:16Z", "closed_at": "2019-03-19T20:56:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was just playing around with the new tools for replication handling and stumbled upon this: it looks like using the flag `--ignore-osmosis-headers` on a Geofabrik extract (with osmosis headers in them) completely changes the way the tool behaves:\r\n- using the flag downloads ~23 MB of changes\r\n- not using the flag downloads not a single change\r\n\r\nI was expecting the flag to not have any effect since the different ways of determining timestamp/sequence numbers where to continue from should in the end result in the same changes to be downloaded - or is my mental model wrong here?\r\n\r\nSmall snippet for replication (heh):\r\n\r\n```bash\r\nwget http://download.geofabrik.de/europe/germany/berlin-latest.osm.pbf\r\n\r\npyosmium-get-changes -O berlin-latest.osm.pbf --ignore-osmosis-headers \r\nERROR: HTTP Error 404: Not Found\r\n3411437\r\n\r\npyosmium-get-changes -O berlin-latest.osm.pbf\r\n2187\r\n```\r\n\r\nThen using the `-o` option writes different outfiles:\r\n- in the case of providing the flag I'm seeing the 404 error and a 23 MB change file\r\n- in the case of not providing the flag I get an empty change file", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/98", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/98/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/98/events", "html_url": "https://github.com/osmcode/pyosmium/issues/98", "id": 418806199, "node_id": "MDU6SXNzdWU0MTg4MDYxOTk=", "number": 98, "title": "DLL load failed", "user": {"login": "JohannCR", "id": 7448079, "node_id": "MDQ6VXNlcjc0NDgwNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7448079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannCR", "html_url": "https://github.com/JohannCR", "followers_url": "https://api.github.com/users/JohannCR/followers", "following_url": "https://api.github.com/users/JohannCR/following{/other_user}", "gists_url": "https://api.github.com/users/JohannCR/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannCR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannCR/subscriptions", "organizations_url": "https://api.github.com/users/JohannCR/orgs", "repos_url": "https://api.github.com/users/JohannCR/repos", "events_url": "https://api.github.com/users/JohannCR/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannCR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-03-08T14:20:29Z", "updated_at": "2020-05-26T12:33:32Z", "closed_at": "2019-03-10T10:39:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm having problems with an install on conda3 on win10 with Python 3.6.5\r\npip install went ok but when importing (either in a py notebook or py module in /lib) I have this DLL load failed because of \r\nfrom osmium._osmium import *\r\n\r\nI don't know if I'm missing dependencies or what... The page https://github.com/osmcode/pyosmium/blob/master/README.md is really unclear about windows.\r\nSo I checked, cmake, Boost, setuptools are  installed but\r\nbuild-essential, libboost-dev, libexpat1-dev, zlib1g-dev, libbz2-dev don't want to install via pip, it says \"Could not find a version that satisfies the requirement/no matching distribution found)\r\n\r\nWhat can I try ? Thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/97", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/97/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/97/events", "html_url": "https://github.com/osmcode/pyosmium/issues/97", "id": 416580917, "node_id": "MDU6SXNzdWU0MTY1ODA5MTc=", "number": 97, "title": "Problem with changeset callback", "user": {"login": "lucadelu", "id": 178741, "node_id": "MDQ6VXNlcjE3ODc0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/178741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucadelu", "html_url": "https://github.com/lucadelu", "followers_url": "https://api.github.com/users/lucadelu/followers", "following_url": "https://api.github.com/users/lucadelu/following{/other_user}", "gists_url": "https://api.github.com/users/lucadelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucadelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucadelu/subscriptions", "organizations_url": "https://api.github.com/users/lucadelu/orgs", "repos_url": "https://api.github.com/users/lucadelu/repos", "events_url": "https://api.github.com/users/lucadelu/events{/privacy}", "received_events_url": "https://api.github.com/users/lucadelu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-03T23:36:06Z", "updated_at": "2020-02-02T20:48:56Z", "closed_at": "2020-02-02T20:48:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm trying to read changeset values from an history file cutted with osmium, from documentation it seems possible to use the changeset callback but with my simple code and a osh.pbf file it read nothing\r\n\r\n```python\r\nclass CaiStatsHandler(osmium.SimpleHandler):\r\n    \"\"\"Class to parse CAI routes from OSM file\"\"\"\r\n    def __init__(self):\r\n        self.changes = []\r\n\r\n    def changeset(self, c):\r\n        self.changes.append(c)\r\n\r\ncsh = CaiStatsHandler()\r\ncsh.apply_file('sicilia.osh.pbf')\r\ncsh.changes\r\n[]\r\n```\r\n\r\nI'm doing something wrong? Or is not possible to use osh file?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/96", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/96/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/96/events", "html_url": "https://github.com/osmcode/pyosmium/issues/96", "id": 415466837, "node_id": "MDU6SXNzdWU0MTU0NjY4Mzc=", "number": 96, "title": "Unclear implications of using osmium.osm.Location.lat_without_check", "user": {"login": "ltog", "id": 4726277, "node_id": "MDQ6VXNlcjQ3MjYyNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4726277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltog", "html_url": "https://github.com/ltog", "followers_url": "https://api.github.com/users/ltog/followers", "following_url": "https://api.github.com/users/ltog/following{/other_user}", "gists_url": "https://api.github.com/users/ltog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltog/subscriptions", "organizations_url": "https://api.github.com/users/ltog/orgs", "repos_url": "https://api.github.com/users/ltog/repos", "events_url": "https://api.github.com/users/ltog/events{/privacy}", "received_events_url": "https://api.github.com/users/ltog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-28T06:25:40Z", "updated_at": "2019-03-02T21:46:53Z", "closed_at": "2019-03-02T21:46:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @lonvia \r\n\r\nCould you add some explanations in the documentation about the difference in `osmium.osm.Location` between lat/lon with and without check at https://docs.osmcode.org/pyosmium/master/ref_osm.html#osmium.osm.Location ?\r\n\r\nWhat happens in the variant with check if there is an invalid location? (Throwing of an exception maybe? Of what type then?) Can I hope for a performance gain when using the variant without check? How much would that approximately be? What are possible reasons for invalid locations and how common are they?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/94", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/94/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/94/events", "html_url": "https://github.com/osmcode/pyosmium/issues/94", "id": 415328780, "node_id": "MDU6SXNzdWU0MTUzMjg3ODA=", "number": 94, "title": "Piping tag into another program gives \"UnicodeEncodeError: 'ascii' codec can't encode characters in position 14-20: ordinal not in range(128)\" on python2", "user": {"login": "ltog", "id": 4726277, "node_id": "MDQ6VXNlcjQ3MjYyNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4726277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltog", "html_url": "https://github.com/ltog", "followers_url": "https://api.github.com/users/ltog/followers", "following_url": "https://api.github.com/users/ltog/following{/other_user}", "gists_url": "https://api.github.com/users/ltog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltog/subscriptions", "organizations_url": "https://api.github.com/users/ltog/orgs", "repos_url": "https://api.github.com/users/ltog/repos", "events_url": "https://api.github.com/users/ltog/events{/privacy}", "received_events_url": "https://api.github.com/users/ltog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-27T21:11:37Z", "updated_at": "2019-03-02T21:09:03Z", "closed_at": "2019-03-02T21:09:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I do the following call\r\n\r\n    python encoding_issue2.py some-file.osm.pbf | grep foo\r\n\r\nwith the following source code:\r\n\r\n```python\r\nimport osmium\r\nimport sys \r\n\r\nclass DetailInfoHandler(osmium.SimpleHandler):\r\n\r\n    def __init__(self):\r\n        super(DetailInfoHandler, self).__init__()\r\n\r\n    def print_obj_info(self, o): \r\n        for tag in o.tags:\r\n            print(tag.k + \" = \" + tag.v)\r\n\r\n    def node(self, n): \r\n        self.print_obj_info(n)\r\n\r\nif __name__ == '__main__':\r\n    if len(sys.argv) != 2:\r\n        print(\"Usage: python encoding_issue2.py <osmfile>\")\r\n        sys.exit(-1)\r\n\r\n    DetailInfoHandler().apply_file(sys.argv[1])\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"encoding_issue2.py\", line 21, in <module>\r\n    DetailInfoHandler().apply_file(sys.argv[1])\r\n  File \"encoding_issue2.py\", line 14, in node\r\n    self.print_obj_info(n)\r\n  File \"encoding_issue2.py\", line 11, in print_obj_info\r\n    print(tag.k + \" = \" + tag.v)\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 10-16: ordinal not in range(128)\r\n```\r\n\r\nThe error happens only if I pipe the output into another program, otherwise the script works fine.\r\n\r\nThe issue might be related to #92 .", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/93", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/93/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/93/events", "html_url": "https://github.com/osmcode/pyosmium/issues/93", "id": 415307683, "node_id": "MDU6SXNzdWU0MTUzMDc2ODM=", "number": 93, "title": "osmium.osm.Way.ends_have_same_location() returns wrong value", "user": {"login": "ltog", "id": 4726277, "node_id": "MDQ6VXNlcjQ3MjYyNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4726277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltog", "html_url": "https://github.com/ltog", "followers_url": "https://api.github.com/users/ltog/followers", "following_url": "https://api.github.com/users/ltog/following{/other_user}", "gists_url": "https://api.github.com/users/ltog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltog/subscriptions", "organizations_url": "https://api.github.com/users/ltog/orgs", "repos_url": "https://api.github.com/users/ltog/repos", "events_url": "https://api.github.com/users/ltog/events{/privacy}", "received_events_url": "https://api.github.com/users/ltog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-27T20:16:40Z", "updated_at": "2019-03-02T21:31:46Z", "closed_at": "2019-03-02T21:30:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think I have discovered a bug in `osmium.osm.Way.ends_have_same_location()`:\r\n\r\nI run the following program (with either python2 or python3):\r\n\r\n```python\r\nimport osmium\r\nimport sys \r\n\r\nclass DetailInfoHandler(osmium.SimpleHandler):\r\n\r\n    def __init__(self):\r\n        super(DetailInfoHandler, self).__init__()\r\n        self._way_showed = False\r\n\r\n    def way(self, w): \r\n        if self._way_showed == False:\r\n            self._way_showed = True\r\n            print(\"id: OSM id of the object (read-only): \" + str(w.id))\r\n            print(\"ends_have_same_location(): True if the start and end node of the way are at the same location: \" + str(w.ends_have_same_location()))\r\n\r\nif __name__ == '__main__':\r\n    if len(sys.argv) != 2:\r\n        print(\"Usage: python same_location_issue.py <osmfile>\")\r\n        sys.exit(-1)\r\n\r\n    DetailInfoHandler().apply_file(sys.argv[1])\r\n```\r\n\r\nThe first way in the attached file [liechtenstein-latest.osm.pbf.zip](https://github.com/osmcode/pyosmium/files/2912124/liechtenstein-latest.osm.pbf.zip) is https://www.openstreetmap.org/way/4781367 . For this way `ends_have_same_location()` returns `True` whereas I believe it should return `False` (or throw an exception?).\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/92", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/92/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/92/events", "html_url": "https://github.com/osmcode/pyosmium/issues/92", "id": 414981418, "node_id": "MDU6SXNzdWU0MTQ5ODE0MTg=", "number": 92, "title": "Printing tag list gives \"UnicodeEncodeError: 'ascii' codec can't encode character u'\\xc4' in position 12: ordinal not in range(128)\" on python2", "user": {"login": "ltog", "id": 4726277, "node_id": "MDQ6VXNlcjQ3MjYyNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4726277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltog", "html_url": "https://github.com/ltog", "followers_url": "https://api.github.com/users/ltog/followers", "following_url": "https://api.github.com/users/ltog/following{/other_user}", "gists_url": "https://api.github.com/users/ltog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltog/subscriptions", "organizations_url": "https://api.github.com/users/ltog/orgs", "repos_url": "https://api.github.com/users/ltog/repos", "events_url": "https://api.github.com/users/ltog/events{/privacy}", "received_events_url": "https://api.github.com/users/ltog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-27T07:27:55Z", "updated_at": "2019-03-02T21:07:58Z", "closed_at": "2019-03-02T21:07:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did some work for writing another pyosmium example and stumbled upon the following issue.\r\n\r\nThe following program\r\n\r\n```python\r\nimport osmium\r\nimport sys \r\n\r\nclass DetailInfoHandler(osmium.SimpleHandler):\r\n\r\n    def __init__(self):\r\n        super(DetailInfoHandler, self).__init__()\r\n        self._way_showed = False\r\n\r\n    def way(self, w): \r\n        if self._way_showed == False:\r\n            self._way_showed = True\r\n            print(\"tags: \" + str(w.tags)) # TODO: doesn't work with python2 if keys/values contain non-ASCII characters\r\n\r\nif __name__ == '__main__':\r\n    if len(sys.argv) != 2:\r\n        print(\"Usage: python encoding_issue.py <osmfile>\")\r\n        sys.exit(-1)\r\n\r\n    DetailInfoHandler().apply_file(sys.argv[1])\r\n\r\n```\r\n\r\nthrows the error message\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"encoding_issue.py\", line 20, in <module>\r\n    DetailInfoHandler().apply_file(sys.argv[1])\r\n  File \"encoding_issue.py\", line 13, in way\r\n    print(\"tags: \" + str(w.tags)) # TODO: doesn't work with python2 if keys/values contain non-ASCII characters\r\n  File \"/home/bozo/.local/lib/python2.7/site-packages/osmium/osm/__init__.py\", line 44, in <lambda>\r\n    TagList.__str__ = lambda t : \"{%s}\" % \",\".join([str(i) for i in t])\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xc4' in position 12: ordinal not in range(128)\r\n```\r\n\r\nwhen a value in a tag contains non-ASCII characters when run with python2. Is this an error in pyosmium?\r\n\r\nAttached you'll find a file where the first way has the characteristics to trigger an eror.\r\n\r\nNote that the given program above only prints the first occuring tag list (in order not to overflow the console).\r\n\r\n[liechtenstein-latest.osm.pbf.zip](https://github.com/osmcode/pyosmium/files/2908970/liechtenstein-latest.osm.pbf.zip)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/91", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/91/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/91/events", "html_url": "https://github.com/osmcode/pyosmium/issues/91", "id": 412814341, "node_id": "MDU6SXNzdWU0MTI4MTQzNDE=", "number": 91, "title": "How to 'get-changes' for a specific set of tags?", "user": {"login": "themmes", "id": 12343995, "node_id": "MDQ6VXNlcjEyMzQzOTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/12343995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/themmes", "html_url": "https://github.com/themmes", "followers_url": "https://api.github.com/users/themmes/followers", "following_url": "https://api.github.com/users/themmes/following{/other_user}", "gists_url": "https://api.github.com/users/themmes/gists{/gist_id}", "starred_url": "https://api.github.com/users/themmes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/themmes/subscriptions", "organizations_url": "https://api.github.com/users/themmes/orgs", "repos_url": "https://api.github.com/users/themmes/repos", "events_url": "https://api.github.com/users/themmes/events{/privacy}", "received_events_url": "https://api.github.com/users/themmes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-21T08:58:42Z", "updated_at": "2019-03-05T21:31:29Z", "closed_at": "2019-03-05T21:31:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Action**\r\nThe use case is keeping up to date a set of nodes that have the same tags. If I implement a filter in my Handler to only process nodes with specific tags, modifications to nodes changing the tags from relevant to non-relevant would not be processed.\r\n\r\n**Attempts**\r\nI know there exists the AugmentedDiff API (https://wiki.openstreetmap.org/wiki/Overpass_API/Augmented_Diffs) however, I tried the ReplicationServer class with this API and it does not work. Which is expected I guess because the XML structure is somewhat different.\r\n\r\n**Question**\r\nIs there a different/better solution to my use case? Or is using the AugmentedDiffs the right approach but am I simply doing something wrong with the handler/replicationserver?\r\n\r\nThanks in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/90", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/90/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/90/events", "html_url": "https://github.com/osmcode/pyosmium/issues/90", "id": 402323694, "node_id": "MDU6SXNzdWU0MDIzMjM2OTQ=", "number": 90, "title": "parsing fails when running in a thread", "user": {"login": "mjmottram", "id": 1228586, "node_id": "MDQ6VXNlcjEyMjg1ODY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1228586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjmottram", "html_url": "https://github.com/mjmottram", "followers_url": "https://api.github.com/users/mjmottram/followers", "following_url": "https://api.github.com/users/mjmottram/following{/other_user}", "gists_url": "https://api.github.com/users/mjmottram/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjmottram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjmottram/subscriptions", "organizations_url": "https://api.github.com/users/mjmottram/orgs", "repos_url": "https://api.github.com/users/mjmottram/repos", "events_url": "https://api.github.com/users/mjmottram/events{/privacy}", "received_events_url": "https://api.github.com/users/mjmottram/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-01-23T16:30:46Z", "updated_at": "2019-02-10T21:31:45Z", "closed_at": "2019-02-10T21:31:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm not sure whether this is a known issue, but if I run pyosmium parsing in a thread then the process hangs indefinitely. For example:\r\n\r\n```\r\nimport sys\r\nimport threading\r\n\r\nimport osmium\r\n\r\nfunction_complete = threading.Event()\r\n\r\n\r\ndef run_parsing(filename):\r\n    print(\"Parsing %s ...\" % filename)\r\n    h = osmium.SimpleHandler()\r\n    h.apply_file(filename)\r\n    print(\"Parsed %s\" % filename)\r\n    function_complete.set()\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    test_file = sys.argv[1]\r\n\r\n    run_parsing(test_file)\r\n\r\n    function_complete.clear()\r\n    threading.Thread(target=run_parsing, args=(test_file,))\r\n    function_complete.wait(timeout=10)\r\n\r\n    if not function_complete.is_set():\r\n        raise RuntimeError(\"parsing did not complete\")\r\n```\r\nwill parse when in the main thread, then raise as the threaded parsing never completes. Is this behaviour understood?\r\n\r\nI'm running this on macOS in python 2.7.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/89", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/89/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/89/events", "html_url": "https://github.com/osmcode/pyosmium/issues/89", "id": 401659067, "node_id": "MDU6SXNzdWU0MDE2NTkwNjc=", "number": 89, "title": "how to use get_replication_header for planet-latest", "user": {"login": "themmes", "id": 12343995, "node_id": "MDQ6VXNlcjEyMzQzOTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/12343995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/themmes", "html_url": "https://github.com/themmes", "followers_url": "https://api.github.com/users/themmes/followers", "following_url": "https://api.github.com/users/themmes/following{/other_user}", "gists_url": "https://api.github.com/users/themmes/gists{/gist_id}", "starred_url": "https://api.github.com/users/themmes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/themmes/subscriptions", "organizations_url": "https://api.github.com/users/themmes/orgs", "repos_url": "https://api.github.com/users/themmes/repos", "events_url": "https://api.github.com/users/themmes/events{/privacy}", "received_events_url": "https://api.github.com/users/themmes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-22T08:56:41Z", "updated_at": "2019-01-23T09:06:37Z", "closed_at": "2019-01-23T08:43:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thank you so much for providing these handy bindings over the powerful osmium library, very useful so far.\r\n\r\nI am trying to put a `'https://planet.openstreetmap.org/pbf/planet-latest.osm.pbf'` through my custom handler and then continue from there with the `ReplicationServer`. However, \"continue from there\" is where I get stuck, I would like to retrieve the (latest) sequence id from this latest planet file.\r\n\r\nSo I explored the package, and found:\r\nin `pyosmium/tools/pyosmium-up-to-date` there is the `compute_start_point()` function, which in my case (for a file) calls `get_replication_header`.\r\n\r\nProblem is this will run through the entire file to find headers with (or from which can be derived) sequence ids. Even if (not sure if this is always true) the first header found is correct.\r\n\r\nTwo questions:\r\n- Is there a better way to get the sequence id from the latest planet file?\r\n- Shouldn't the `get_replication_header` be like a generator for which the user can choose whether it wants one or more headers to be parsed?\r\n\r\nThanks in advance for your time!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/88", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/88/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/88/events", "html_url": "https://github.com/osmcode/pyosmium/issues/88", "id": 396076685, "node_id": "MDU6SXNzdWUzOTYwNzY2ODU=", "number": 88, "title": "find relation, way, node by id", "user": {"login": "camdeardorff", "id": 8228440, "node_id": "MDQ6VXNlcjgyMjg0NDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/8228440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camdeardorff", "html_url": "https://github.com/camdeardorff", "followers_url": "https://api.github.com/users/camdeardorff/followers", "following_url": "https://api.github.com/users/camdeardorff/following{/other_user}", "gists_url": "https://api.github.com/users/camdeardorff/gists{/gist_id}", "starred_url": "https://api.github.com/users/camdeardorff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camdeardorff/subscriptions", "organizations_url": "https://api.github.com/users/camdeardorff/orgs", "repos_url": "https://api.github.com/users/camdeardorff/repos", "events_url": "https://api.github.com/users/camdeardorff/events{/privacy}", "received_events_url": "https://api.github.com/users/camdeardorff/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-04T21:40:00Z", "updated_at": "2019-01-06T23:30:18Z", "closed_at": "2019-01-06T23:30:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "This seems like something that would be easy to find but I'm having trouble finding any method to get a relation, way or node by their id or reference. Is this provided in the library?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/87", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/87/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/87/events", "html_url": "https://github.com/osmcode/pyosmium/issues/87", "id": 393510671, "node_id": "MDU6SXNzdWUzOTM1MTA2NzE=", "number": 87, "title": "Segmentation fault on unrelated Python exceptions", "user": {"login": "ltog", "id": 4726277, "node_id": "MDQ6VXNlcjQ3MjYyNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4726277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltog", "html_url": "https://github.com/ltog", "followers_url": "https://api.github.com/users/ltog/followers", "following_url": "https://api.github.com/users/ltog/following{/other_user}", "gists_url": "https://api.github.com/users/ltog/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltog/subscriptions", "organizations_url": "https://api.github.com/users/ltog/orgs", "repos_url": "https://api.github.com/users/ltog/repos", "events_url": "https://api.github.com/users/ltog/events{/privacy}", "received_events_url": "https://api.github.com/users/ltog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-12-21T16:08:25Z", "updated_at": "2020-03-05T19:54:41Z", "closed_at": "2020-03-05T19:54:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to use pyosmium using Python 3.6.2. When running the following example code (based on https://github.com/osmcode/pyosmium/blob/master/examples/osm_file_stats.py ) using Python 3, I get a `Segmentation fault (core dumped)` message (caused by the last line of code) with no additional info. However, running the same code using Python 2.7.15+, gives me a proper error message.\r\n\r\nMy question is not about this specific example, but about the combination of python3 and pyosmium in general: How would I debug such errors (and why aren't any proper error messages displayed)?\r\n\r\n```python3\r\nimport osmium as o\r\nimport sys\r\n\r\nclass FileStatsHandler(o.SimpleHandler):\r\n\r\n    def __init__(self):\r\n        super(FileStatsHandler, self).__init__()\r\n        self.nodes = 0\r\n\r\n    def node(self, n):\r\n        self.nodes += 1\r\n\r\nif __name__ == '__main__':\r\n    if len(sys.argv) != 2:\r\n        print(\"Usage: python osm_file_stats.py <osmfile>\")\r\n        sys.exit(-1)\r\n\r\n    h = FileStatsHandler()\r\n\r\n    h.apply_file(sys.argv[1])\r\n\r\n    print(\"Nodes: %d\" % h.nodes)\r\n    print(\"Nodes: \" + h.nodes) # XXX: h.nodes should be str(h.nodes)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/86", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/86/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/86/events", "html_url": "https://github.com/osmcode/pyosmium/issues/86", "id": 391626163, "node_id": "MDU6SXNzdWUzOTE2MjYxNjM=", "number": 86, "title": "Also support pybind11 2.0", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-17T09:35:19Z", "updated_at": "2018-12-17T21:08:09Z", "closed_at": "2018-12-17T21:08:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The backport for Debian stretch cannot be updated because that has pybind11 2.0.1, and pyosmium currently fails to build with that version (after patching the version requirement in `CMakeLists.txt`):\r\n```\r\n/build/pyosmium-2.15.0/lib/geom.cc:25:16: error: expected constructor, destructor, or type conversion before '(' token\r\n PYBIND11_MODULE(geom, m)\r\n                ^\r\nCMakeFiles/geom.dir/build.make:62: recipe for target 'CMakeFiles/geom.dir/lib/geom.cc.o' failed\r\n```\r\n\r\nWould it be possible to also support building with pybind11 2.0?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/84", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/84/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/84/events", "html_url": "https://github.com/osmcode/pyosmium/issues/84", "id": 385165284, "node_id": "MDU6SXNzdWUzODUxNjUyODQ=", "number": 84, "title": "Probleme with installing osmium", "user": {"login": "bidabil", "id": 35241452, "node_id": "MDQ6VXNlcjM1MjQxNDUy", "avatar_url": "https://avatars1.githubusercontent.com/u/35241452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bidabil", "html_url": "https://github.com/bidabil", "followers_url": "https://api.github.com/users/bidabil/followers", "following_url": "https://api.github.com/users/bidabil/following{/other_user}", "gists_url": "https://api.github.com/users/bidabil/gists{/gist_id}", "starred_url": "https://api.github.com/users/bidabil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bidabil/subscriptions", "organizations_url": "https://api.github.com/users/bidabil/orgs", "repos_url": "https://api.github.com/users/bidabil/repos", "events_url": "https://api.github.com/users/bidabil/events{/privacy}", "received_events_url": "https://api.github.com/users/bidabil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-28T09:02:43Z", "updated_at": "2018-12-10T20:47:52Z", "closed_at": "2018-12-10T20:47:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to install osmium by using the command pip install osmium\r\nCollecting osmium\r\n  Using cached https://files.pythonhosted.org/packages/f1/74/4b06a023c19006133309bfbc5460bede50f451089c01ca7fa9caa1d06bf4/osmium-2.14.3.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-ZvtHId/osmium/setup.py\", line 115, in <module>\r\n        raise Exception(\"Cannot find boost_python library\")\r\n    Exception: Cannot find boost_python library\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-ZvtHId/osmium/\r\nYou are using pip version 8.1.1, however version 18.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/83", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/83/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/83/events", "html_url": "https://github.com/osmcode/pyosmium/issues/83", "id": 384400111, "node_id": "MDU6SXNzdWUzODQ0MDAxMTE=", "number": 83, "title": "Wrong coordinates written by SimpleWriter", "user": {"login": "ruzhytskyi", "id": 2143579, "node_id": "MDQ6VXNlcjIxNDM1Nzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/2143579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruzhytskyi", "html_url": "https://github.com/ruzhytskyi", "followers_url": "https://api.github.com/users/ruzhytskyi/followers", "following_url": "https://api.github.com/users/ruzhytskyi/following{/other_user}", "gists_url": "https://api.github.com/users/ruzhytskyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruzhytskyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruzhytskyi/subscriptions", "organizations_url": "https://api.github.com/users/ruzhytskyi/orgs", "repos_url": "https://api.github.com/users/ruzhytskyi/repos", "events_url": "https://api.github.com/users/ruzhytskyi/events{/privacy}", "received_events_url": "https://api.github.com/users/ruzhytskyi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-26T16:07:26Z", "updated_at": "2018-11-27T10:11:24Z", "closed_at": "2018-11-26T19:41:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Node coordinates written to file by SimpleWriter() differ from location I've passed when creating Node() instance.\r\n```\r\nfrom osmium import SimpleWriter\r\nfrom osmium.osm.mutable import Node\r\n\r\nn = Node(location=(30.46, 50.37), id=1)\r\nwriter = SimpleWriter('osm.xml')\r\nwriter = SimpleWriter('osm.xml')\r\nwriter.add_node(n)\r\nwriter.close()\r\n```\r\nResult:\r\n```\r\n$ cat osm.xml \r\n<?xml version='1.0' encoding='UTF-8'?>\r\n<osm version=\"0.6\" generator=\"libosmium/2.14.2\">\r\n  <node id=\"1\" lat=\"50.3699989\" lon=\"30.4599991\"/>\r\n</osm>\r\n```\r\nOsmium version: osmium==2.14.3\r\nPython: 3.5.2\r\nOS: Ubuntu 16.04.5", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/80", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/80/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/80/events", "html_url": "https://github.com/osmcode/pyosmium/issues/80", "id": 374666564, "node_id": "MDU6SXNzdWUzNzQ2NjY1NjQ=", "number": 80, "title": "How to create geometry from relation?", "user": {"login": "njanakiev", "id": 9904103, "node_id": "MDQ6VXNlcjk5MDQxMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/9904103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njanakiev", "html_url": "https://github.com/njanakiev", "followers_url": "https://api.github.com/users/njanakiev/followers", "following_url": "https://api.github.com/users/njanakiev/following{/other_user}", "gists_url": "https://api.github.com/users/njanakiev/gists{/gist_id}", "starred_url": "https://api.github.com/users/njanakiev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njanakiev/subscriptions", "organizations_url": "https://api.github.com/users/njanakiev/orgs", "repos_url": "https://api.github.com/users/njanakiev/repos", "events_url": "https://api.github.com/users/njanakiev/events{/privacy}", "received_events_url": "https://api.github.com/users/njanakiev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-27T17:06:56Z", "updated_at": "2020-06-01T18:59:59Z", "closed_at": "2018-10-30T11:44:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to get geometries from relations but I was getting `ArgumentError` for both `.create_linestring()` and `.create_multipolygon()`. I also tried both methods for each `r.member`element but with the same error. Both `area` and `way` geometries are working. Here is a snippet of my code:\r\n\r\n```python\r\nimport osmium as osm\r\nimport shapely.wkb\r\n\r\nwkb_factory = osm.geom.WKBFactory()\r\n\r\nclass OSMHandler(osm.SimpleHandler):\r\n    def __init__(self):\r\n        osm.SimpleHandler.__init__(self)\r\n        self.amenities = []\r\n\r\n    def relation(self, r):        \r\n        if 'amenity' in r.tags:\r\n            wkb = wkb_factory.create_linestring(r)\r\n            multipolygon = shapely.wkb.loads(wkb, hex=True)\r\n            lon, lat = line.centroid.x, line.centroid.y\r\n            \r\n            self.amenities.append([r.id, r.tags['amenity'], lon, lat])\r\n                \r\nhandler = OSMHandler()\r\nhandler.apply_file('liechtenstein-latest.osm.pbf', locations=True)\r\n```\r\n    ArgumentError: Python argument types in\r\n    WKBFactory.create_multipolygon(WKBFactory, Relation)\r\n    did not match C++ signature:\r\n    create_multipolygon(WKBFactory {lvalue} self, osmium::Area area)\r\n\r\nIs there a proper way to get the geometry from a relation in pyosmium? Thank you in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/76", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/76/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/76/events", "html_url": "https://github.com/osmcode/pyosmium/issues/76", "id": 370790442, "node_id": "MDU6SXNzdWUzNzA3OTA0NDI=", "number": 76, "title": "pyosmium-up-to-date; NameError: name 'extra_headers' is not defined", "user": {"login": "d3netxer", "id": 2665840, "node_id": "MDQ6VXNlcjI2NjU4NDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2665840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d3netxer", "html_url": "https://github.com/d3netxer", "followers_url": "https://api.github.com/users/d3netxer/followers", "following_url": "https://api.github.com/users/d3netxer/following{/other_user}", "gists_url": "https://api.github.com/users/d3netxer/gists{/gist_id}", "starred_url": "https://api.github.com/users/d3netxer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d3netxer/subscriptions", "organizations_url": "https://api.github.com/users/d3netxer/orgs", "repos_url": "https://api.github.com/users/d3netxer/repos", "events_url": "https://api.github.com/users/d3netxer/events{/privacy}", "received_events_url": "https://api.github.com/users/d3netxer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-16T20:40:49Z", "updated_at": "2018-11-03T10:24:55Z", "closed_at": "2018-11-03T10:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "(Also gave me a similar error using Python 2)\r\n```\r\n:~/osm_history_planet/pyosmium/tools$ python3 pyosmium-up-to-date -v ../../history-180806.osm.pbf\r\n2018-10-16 20:44:50,870 INFO: Using replication service at https://planet.osm.org/replication/hour/\r\n2018-10-16 20:44:50,870 INFO: Using timestamp 2018-08-06 00:59:56+00:00 as starting point.\r\n2018-10-16 20:44:52,769 INFO: Starting download at ID 51689 (max 1024 MB)\r\nTraceback (most recent call last):\r\n  File \"pyosmium-up-to-date\", line 226, in <module>\r\n    ret = update_from_osm_server(ts, options)\r\n  File \"pyosmium-up-to-date\", line 64, in update_from_osm_server\r\n    None, ts, options)\r\n  File \"pyosmium-up-to-date\", line 121, in update_from_custom_server\r\n    extra_headers=extra_headers)\r\nTypeError: apply_diffs_to_file() got an unexpected keyword argument 'extra_headers'\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/74", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/74/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/74/events", "html_url": "https://github.com/osmcode/pyosmium/issues/74", "id": 361013681, "node_id": "MDU6SXNzdWUzNjEwMTM2ODE=", "number": 74, "title": "Can't create a geometry from a multipolygon relations", "user": {"login": "ldalzovo", "id": 7950929, "node_id": "MDQ6VXNlcjc5NTA5Mjk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7950929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldalzovo", "html_url": "https://github.com/ldalzovo", "followers_url": "https://api.github.com/users/ldalzovo/followers", "following_url": "https://api.github.com/users/ldalzovo/following{/other_user}", "gists_url": "https://api.github.com/users/ldalzovo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldalzovo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldalzovo/subscriptions", "organizations_url": "https://api.github.com/users/ldalzovo/orgs", "repos_url": "https://api.github.com/users/ldalzovo/repos", "events_url": "https://api.github.com/users/ldalzovo/events{/privacy}", "received_events_url": "https://api.github.com/users/ldalzovo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-17T19:41:01Z", "updated_at": "2019-01-21T13:20:35Z", "closed_at": "2018-11-03T10:26:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that I can correctly access objects of type 'area' extending osmium.SimpleHandler and create the geometry object using create_multipolygon(). In this case is then possible to know if the area comes from 'way' or 'relation' using from_way() and both work using a specific pbf extraction of the city of Rome.\r\nNevertheless, not all the multipolygon relations are available as area unfortunatelly, and I can access them as relation, but I can't create a geometry, as in the case of https://www.openstreetmap.org/relation/11153 or https://www.openstreetmap.org/relation/8655602: it looks valid and therefore it should be possible to get a geometry. I am also sure that all the nodes and ways are in the pbf, so this cannot be the issue here.\r\nDo you have any idea how I can create a valid geometry in these cases? Thank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/73", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/73/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/73/events", "html_url": "https://github.com/osmcode/pyosmium/issues/73", "id": 359142857, "node_id": "MDU6SXNzdWUzNTkxNDI4NTc=", "number": 73, "title": "Invalid area when using create_multipolygon()", "user": {"login": "ldalzovo", "id": 7950929, "node_id": "MDQ6VXNlcjc5NTA5Mjk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7950929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldalzovo", "html_url": "https://github.com/ldalzovo", "followers_url": "https://api.github.com/users/ldalzovo/followers", "following_url": "https://api.github.com/users/ldalzovo/following{/other_user}", "gists_url": "https://api.github.com/users/ldalzovo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldalzovo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldalzovo/subscriptions", "organizations_url": "https://api.github.com/users/ldalzovo/orgs", "repos_url": "https://api.github.com/users/ldalzovo/repos", "events_url": "https://api.github.com/users/ldalzovo/events{/privacy}", "received_events_url": "https://api.github.com/users/ldalzovo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-11T17:20:13Z", "updated_at": "2018-09-17T19:22:38Z", "closed_at": "2018-09-17T19:22:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nI have downloaded the latest pbf from http://osm-estratti.wmflabs.org/estratti/Lazio/Roma_Capitale/Roma and I am trying to convert leisure features in geojson format.\r\nAfter geojsonfab = osmium.geom.GeoJSONFactory() and geojsonfab.create_multipolygon(feat) it works for almost all the node and way but with polygon id 2984683 I get the following message: \"invalid area (area_id=5969367)\". But if I visit http://polygons.openstreetmap.fr/?id=2984683 it can generate an apparently correct geoJson, and the place is the same.\r\nI loaded the pbf using geojsonHandler.apply_file(sys.argv[1], locations=True, idx='sparse_mem_array').\r\nI also noticed it is apparently not possible to create a geojson for relations, isn't it?\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/72", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/72/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/72/events", "html_url": "https://github.com/osmcode/pyosmium/issues/72", "id": 358421949, "node_id": "MDU6SXNzdWUzNTg0MjE5NDk=", "number": 72, "title": "[installation] protozero compilation error", "user": {"login": "mvexel", "id": 120452, "node_id": "MDQ6VXNlcjEyMDQ1Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/120452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvexel", "html_url": "https://github.com/mvexel", "followers_url": "https://api.github.com/users/mvexel/followers", "following_url": "https://api.github.com/users/mvexel/following{/other_user}", "gists_url": "https://api.github.com/users/mvexel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvexel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvexel/subscriptions", "organizations_url": "https://api.github.com/users/mvexel/orgs", "repos_url": "https://api.github.com/users/mvexel/repos", "events_url": "https://api.github.com/users/mvexel/events{/privacy}", "received_events_url": "https://api.github.com/users/mvexel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-09T23:07:05Z", "updated_at": "2018-09-10T06:47:28Z", "closed_at": "2018-09-10T06:47:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "This may be better reported upstream..Not sure. Sorry if this is not the right place.\r\nInstalling pyosmium I run into a compiler error when compiling `protozero`:\r\n\r\n```\r\nprotozero found in 'protozero-1.6.3'.\r\nx86_64-linux-gnu-g++: internal compiler error: Killed (program cc1plus)\r\nPlease submit a full bug report,\r\nwith preprocessed source if appropriate.\r\nSee <file:///usr/share/doc/gcc-5/README.Bugs> for instructions.\r\nerror: Setup script exited with error: command 'x86_64-linux-gnu-g++' failed with exit status 4\r\n```\r\nMy best guess is this is a memory constraint related error.. This is on a Linode 2G with (you guessed it) 2GB of RAM.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/70", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/70/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/70/events", "html_url": "https://github.com/osmcode/pyosmium/issues/70", "id": 352309646, "node_id": "MDU6SXNzdWUzNTIzMDk2NDY=", "number": 70, "title": "Fail to install on MacOS High Sierra", "user": {"login": "mvexel", "id": 120452, "node_id": "MDQ6VXNlcjEyMDQ1Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/120452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvexel", "html_url": "https://github.com/mvexel", "followers_url": "https://api.github.com/users/mvexel/followers", "following_url": "https://api.github.com/users/mvexel/following{/other_user}", "gists_url": "https://api.github.com/users/mvexel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvexel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvexel/subscriptions", "organizations_url": "https://api.github.com/users/mvexel/orgs", "repos_url": "https://api.github.com/users/mvexel/repos", "events_url": "https://api.github.com/users/mvexel/events{/privacy}", "received_events_url": "https://api.github.com/users/mvexel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-20T21:52:14Z", "updated_at": "2018-12-07T00:13:47Z", "closed_at": "2018-08-21T21:15:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "[This](https://gist.github.com/mvexel/3e49cd2c98381bcad759ab4e5a0163db) happens.\r\n\r\nI don't think this is a pyosmium issue per se because very similar issues have been [reported upstream](https://github.com/Homebrew/homebrew-core/issues/18388).\r\n\r\nHowever, I would like to know if anyone using PyOsmium on MacOS High Sierra with XCode 9 found a workaround for this.\r\n\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/69", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/69/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/69/events", "html_url": "https://github.com/osmcode/pyosmium/issues/69", "id": 349115966, "node_id": "MDU6SXNzdWUzNDkxMTU5NjY=", "number": 69, "title": "Set  generator in update-planet", "user": {"login": "joto", "id": 113756, "node_id": "MDQ6VXNlcjExMzc1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/113756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joto", "html_url": "https://github.com/joto", "followers_url": "https://api.github.com/users/joto/followers", "following_url": "https://api.github.com/users/joto/following{/other_user}", "gists_url": "https://api.github.com/users/joto/gists{/gist_id}", "starred_url": "https://api.github.com/users/joto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joto/subscriptions", "organizations_url": "https://api.github.com/users/joto/orgs", "repos_url": "https://api.github.com/users/joto/repos", "events_url": "https://api.github.com/users/joto/events{/privacy}", "received_events_url": "https://api.github.com/users/joto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-09T12:57:13Z", "updated_at": "2018-08-11T07:12:11Z", "closed_at": "2018-08-11T07:12:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `update-planet` command doesn't set the `generator` in the OSM file header specifically, so it shows `libosmium/some_version`. Maybe this should be set to `update-planet/version`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/68", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/68/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/68/events", "html_url": "https://github.com/osmcode/pyosmium/issues/68", "id": 348189455, "node_id": "MDU6SXNzdWUzNDgxODk0NTU=", "number": 68, "title": "test_mercator_lonlat (test_geom.TestCoordinateConversion) fails on i386", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-07T06:50:26Z", "updated_at": "2018-08-08T20:03:34Z", "closed_at": "2018-08-08T20:03:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The Debian package build for pyosmium 2.14.2 failed on i386 due to a test failure:\r\n```\r\n======================================================================\r\nFAIL: test_mercator_lonlat (test_geom.TestCoordinateConversion)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/<<PKGBUILDDIR>>/test/test_geom.py\", line 65, in test_mercator_lonlat\r\n    assert_equals(c.y, 0)\r\nAssertionError: 3.5097917871618886e-15 != 0\r\n\r\n----------------------------------------------------------------------\r\n```\r\n\r\nFull buildlog: [i386](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=i386&ver=2.14.2-1&stamp=1533623121&file=log)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/64", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/64/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/64/events", "html_url": "https://github.com/osmcode/pyosmium/issues/64", "id": 331479919, "node_id": "MDU6SXNzdWUzMzE0Nzk5MTk=", "number": 64, "title": "How to add a tag for way or node", "user": {"login": "DavidLiuGitHub", "id": 18396143, "node_id": "MDQ6VXNlcjE4Mzk2MTQz", "avatar_url": "https://avatars3.githubusercontent.com/u/18396143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidLiuGitHub", "html_url": "https://github.com/DavidLiuGitHub", "followers_url": "https://api.github.com/users/DavidLiuGitHub/followers", "following_url": "https://api.github.com/users/DavidLiuGitHub/following{/other_user}", "gists_url": "https://api.github.com/users/DavidLiuGitHub/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidLiuGitHub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidLiuGitHub/subscriptions", "organizations_url": "https://api.github.com/users/DavidLiuGitHub/orgs", "repos_url": "https://api.github.com/users/DavidLiuGitHub/repos", "events_url": "https://api.github.com/users/DavidLiuGitHub/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidLiuGitHub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-12T08:04:34Z", "updated_at": "2018-06-12T09:08:50Z", "closed_at": "2018-06-12T09:08:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just saw the replace value of tag in examples, Is there any example to explain how to add(or remove) a tag for the way or node?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/62", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/62/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/62/events", "html_url": "https://github.com/osmcode/pyosmium/issues/62", "id": 325014645, "node_id": "MDU6SXNzdWUzMjUwMTQ2NDU=", "number": 62, "title": "Cannot find boost_python library in python:alpine", "user": {"login": "mehdisadeghi", "id": 3101557, "node_id": "MDQ6VXNlcjMxMDE1NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3101557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mehdisadeghi", "html_url": "https://github.com/mehdisadeghi", "followers_url": "https://api.github.com/users/mehdisadeghi/followers", "following_url": "https://api.github.com/users/mehdisadeghi/following{/other_user}", "gists_url": "https://api.github.com/users/mehdisadeghi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mehdisadeghi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mehdisadeghi/subscriptions", "organizations_url": "https://api.github.com/users/mehdisadeghi/orgs", "repos_url": "https://api.github.com/users/mehdisadeghi/repos", "events_url": "https://api.github.com/users/mehdisadeghi/events{/privacy}", "received_events_url": "https://api.github.com/users/mehdisadeghi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-21T18:30:33Z", "updated_at": "2018-05-22T20:26:19Z", "closed_at": "2018-05-22T20:26:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running `pip install osmium` fails with the above command in python:alpine docker image:\r\n\r\n```\r\n$ docker run -it python:alpine sh\r\n\r\n/ # pip -V\r\npip 9.0.1 from /usr/local/lib/python3.6/site-packages (python 3.6)\r\n/ # python --version\r\nPython 3.6.4\r\n\r\n/ # pip install osmium\r\nCollecting osmium\r\n  Downloading https://files.pythonhosted.org/packages/7a/eb/63d7af416ee6126c96a3e5c057750e266da5d1eecc108a6fe87cad9e98c9/osmium-2.14.1.tar.gz (1.6MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.6MB 229kB/s \r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-eyl31081/osmium/setup.py\", line 81, in <module>\r\n        raise Exception(\"Cannot find boost_python library\")\r\n    Exception: Cannot find boost_python library\r\n```\r\n\r\nInstalling `boost-python` or `boost-python3` did not help:\r\n\r\n```\r\n/ # apk add boost-python3\r\n(1/3) Installing python3 (3.5.2-r2)\r\n(2/3) Installing libgcc (5.3.0-r0)\r\n(3/3) Installing boost-python3 (1.60.0-r2)\r\n\r\n/ # ls /usr/lib/libboost*\r\n/usr/lib/libboost_python3-mt.so.1.60.0  /usr/lib/libboost_python3.so.1.60.0\r\n```\r\n\r\nI also tried linking the `.so` files to `libboost_python.s` but it didn't help.\r\n\r\nI appreciate any comments on this.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/60", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/60/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/60/events", "html_url": "https://github.com/osmcode/pyosmium/issues/60", "id": 321671292, "node_id": "MDU6SXNzdWUzMjE2NzEyOTI=", "number": 60, "title": "fatal error: boost/crc.hpp: No such file or directory, MacOS High Sierra", "user": {"login": "dion26", "id": 22816679, "node_id": "MDQ6VXNlcjIyODE2Njc5", "avatar_url": "https://avatars1.githubusercontent.com/u/22816679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dion26", "html_url": "https://github.com/dion26", "followers_url": "https://api.github.com/users/dion26/followers", "following_url": "https://api.github.com/users/dion26/following{/other_user}", "gists_url": "https://api.github.com/users/dion26/gists{/gist_id}", "starred_url": "https://api.github.com/users/dion26/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dion26/subscriptions", "organizations_url": "https://api.github.com/users/dion26/orgs", "repos_url": "https://api.github.com/users/dion26/repos", "events_url": "https://api.github.com/users/dion26/events{/privacy}", "received_events_url": "https://api.github.com/users/dion26/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-09T18:09:46Z", "updated_at": "2018-05-24T18:40:44Z", "closed_at": "2018-05-24T18:40:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hallo,\r\n\r\nI've been looking for a solution of this error while installing pyosmium in my macos high sierra with python 3.6.\r\n\r\nI've tried following solution:\r\n`BOOST_ROOT=/usr/local/Cellar/boost/1.67.0_1`\r\n\r\nI couldn't find any solution. I've installed boost and boost-python. But than when i tried to install osmium, following error occur:\r\n\r\n```\r\nCollecting osmium\r\n  Using cached https://files.pythonhosted.org/packages/7a/eb/63d7af416ee6126c96a3e5c057750e266da5d1eecc108a6fe87cad9e98c9/osmium-2.14.1.tar.gz\r\nBuilding wheels for collected packages: osmium\r\n  Running setup.py bdist_wheel for osmium ... error\r\n  Complete output from command /Users/dion/anaconda3/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-install-n_hzn4rt/osmium/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-wheel-vvsqd6y4 --python-tag cp36:\r\n  libosmium found in 'libosmium-2.14.0'\r\n  protozero found in 'protozero-1.6.2'\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-10.7-x86_64-3.6\r\n  creating build/lib.macosx-10.7-x86_64-3.6/osmium\r\n  copying src/osmium/version.py -> build/lib.macosx-10.7-x86_64-3.6/osmium\r\n  copying src/osmium/__init__.py -> build/lib.macosx-10.7-x86_64-3.6/osmium\r\n  creating build/lib.macosx-10.7-x86_64-3.6/osmium/osm\r\n  copying src/osmium/osm/__init__.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/osm\r\n  copying src/osmium/osm/mutable.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/osm\r\n  creating build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n  copying src/osmium/replication/server.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n  copying src/osmium/replication/__init__.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n  copying src/osmium/replication/utils.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n  running build_ext\r\n  building 'osmium._osmium' extension\r\n  creating build/temp.macosx-10.7-x86_64-3.6\r\n  creating build/temp.macosx-10.7-x86_64-3.6/lib\r\n  g++ -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Users/dion/anaconda3/include -arch x86_64 -I/Users/dion/anaconda3/include -arch x86_64 -Iprotozero-1.6.2/include -Ilibosmium-2.14.0/include -I/usr/include -I/Users/dion/anaconda3/include/python3.6m -c lib/osmium.cc -o build/temp.macosx-10.7-x86_64-3.6/lib/osmium.o -std=c++11 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D__STDC_FORMAT_MACROS\r\n  In file included from libosmium-2.14.0/include/osmium/io/debug_output.hpp:36:0,\r\n                   from libosmium-2.14.0/include/osmium/io/any_output.hpp:48,\r\n                   from lib/generic_writer.hpp:6,\r\n                   from lib/osmium.cc:7:\r\n  libosmium-2.14.0/include/osmium/io/detail/debug_output_format.hpp:62:25: fatal error: boost/crc.hpp: No such file or directory\r\n   #include <boost/crc.hpp>\r\n                           ^\r\n  compilation terminated.\r\n  error: command 'g++' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for osmium\r\n  Running setup.py clean for osmium\r\nFailed to build osmium\r\nInstalling collected packages: osmium\r\n  Running setup.py install for osmium ... error\r\n    Complete output from command /Users/dion/anaconda3/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-install-n_hzn4rt/osmium/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-record-8giy7z68/install-record.txt --single-version-externally-managed --compile:\r\n    libosmium found in 'libosmium-2.14.0'\r\n    protozero found in 'protozero-1.6.2'\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.7-x86_64-3.6\r\n    creating build/lib.macosx-10.7-x86_64-3.6/osmium\r\n    copying src/osmium/version.py -> build/lib.macosx-10.7-x86_64-3.6/osmium\r\n    copying src/osmium/__init__.py -> build/lib.macosx-10.7-x86_64-3.6/osmium\r\n    creating build/lib.macosx-10.7-x86_64-3.6/osmium/osm\r\n    copying src/osmium/osm/__init__.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/osm\r\n    copying src/osmium/osm/mutable.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/osm\r\n    creating build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n    copying src/osmium/replication/server.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n    copying src/osmium/replication/__init__.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n    copying src/osmium/replication/utils.py -> build/lib.macosx-10.7-x86_64-3.6/osmium/replication\r\n    running build_ext\r\n    building 'osmium._osmium' extension\r\n    creating build/temp.macosx-10.7-x86_64-3.6\r\n    creating build/temp.macosx-10.7-x86_64-3.6/lib\r\n    g++ -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Users/dion/anaconda3/include -arch x86_64 -I/Users/dion/anaconda3/include -arch x86_64 -Iprotozero-1.6.2/include -Ilibosmium-2.14.0/include -I/usr/include -I/Users/dion/anaconda3/include/python3.6m -c lib/osmium.cc -o build/temp.macosx-10.7-x86_64-3.6/lib/osmium.o -std=c++11 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D__STDC_FORMAT_MACROS\r\n    In file included from libosmium-2.14.0/include/osmium/io/debug_output.hpp:36:0,\r\n                     from libosmium-2.14.0/include/osmium/io/any_output.hpp:48,\r\n                     from lib/generic_writer.hpp:6,\r\n                     from lib/osmium.cc:7:\r\n    libosmium-2.14.0/include/osmium/io/detail/debug_output_format.hpp:62:25: fatal error: boost/crc.hpp: No such file or directory\r\n     #include <boost/crc.hpp>\r\n                             ^\r\n    compilation terminated.\r\n    error: command 'g++' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/Users/dion/anaconda3/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-install-n_hzn4rt/osmium/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-record-8giy7z68/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/pj/16kz9mz94hq8_0_00dv0_0sc0000gn/T/pip-install-n_hzn4rt/osmium/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/57", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/57/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/57/events", "html_url": "https://github.com/osmcode/pyosmium/issues/57", "id": 315352066, "node_id": "MDU6SXNzdWUzMTUzNTIwNjY=", "number": 57, "title": "Cannot find boost_python library (boost(-python) 1.67 on macOS)", "user": {"login": "kkdd", "id": 5372642, "node_id": "MDQ6VXNlcjUzNzI2NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5372642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkdd", "html_url": "https://github.com/kkdd", "followers_url": "https://api.github.com/users/kkdd/followers", "following_url": "https://api.github.com/users/kkdd/following{/other_user}", "gists_url": "https://api.github.com/users/kkdd/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkdd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkdd/subscriptions", "organizations_url": "https://api.github.com/users/kkdd/orgs", "repos_url": "https://api.github.com/users/kkdd/repos", "events_url": "https://api.github.com/users/kkdd/events{/privacy}", "received_events_url": "https://api.github.com/users/kkdd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-18T06:51:28Z", "updated_at": "2018-04-27T14:32:57Z", "closed_at": "2018-04-25T20:19:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n```pip3 install osmium``` fails with printing an error ```Cannot find boost_python library```.\r\nIt worked when using boost(-python) 1.66.\r\n\r\n```\r\n$ uname\r\nDarwin\r\n$ sw_vers\r\nProductName:\tMac OS X\r\nProductVersion:\t10.13.4\r\nBuildVersion:\t17E199\r\n$ python3\r\nPython 3.6.5 (default, Mar 30 2018, 06:41:53) \r\n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.39.2)] on darwin\r\n$ brew update boost-python3\r\n$ brew info boost-python3\r\nboost-python3: stable 1.67.0 (bottled), HEAD\r\nC++ library for C++/Python3 interoperability\r\nhttps://www.boost.org/\r\n/usr/local/Cellar/boost-python3/1.67.0 (459 files, 17.5MB) *\r\n  Poured from bottle on 2018-04-17 at 20:50:33\r\nFrom: https://github.com/Homebrew/homebrew-core/blob/master/Formula/boost-python3.rb\r\n==> Dependencies\r\nRequired: boost \u2714, python \u2714\r\n==> Options\r\n--HEAD\r\n\tInstall HEAD version\r\n$ \r\n$ pip3 install osmium\r\nCollecting osmium\r\n  Downloading https://files.pythonhosted.org/packages/72/41/a583e62ef20bbc1e5cd2afdf73c5af45de68e9e3914c9b5df927073bcf8c/osmium-2.14.0.tar.gz (1.6MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.6MB 1.1MB/s \r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/q9/8661tgm10011b47nz9r52r180000gn/T/pip-install-c1mlbh1c/osmium/setup.py\", line 78, in <module>\r\n        raise Exception(\"Cannot find boost_python library\")\r\n    Exception: Cannot find boost_python library\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/q9/8661tgm10011b47nz9r52r180000gn/T/pip-install-c1mlbh1c/osmium/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/56", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/56/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/56/events", "html_url": "https://github.com/osmcode/pyosmium/issues/56", "id": 304327615, "node_id": "MDU6SXNzdWUzMDQzMjc2MTU=", "number": 56, "title": "osmium package in python 3.6 links to libboost for 2.7", "user": {"login": "culebron", "id": 119675, "node_id": "MDQ6VXNlcjExOTY3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/119675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/culebron", "html_url": "https://github.com/culebron", "followers_url": "https://api.github.com/users/culebron/followers", "following_url": "https://api.github.com/users/culebron/following{/other_user}", "gists_url": "https://api.github.com/users/culebron/gists{/gist_id}", "starred_url": "https://api.github.com/users/culebron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/culebron/subscriptions", "organizations_url": "https://api.github.com/users/culebron/orgs", "repos_url": "https://api.github.com/users/culebron/repos", "events_url": "https://api.github.com/users/culebron/events{/privacy}", "received_events_url": "https://api.github.com/users/culebron/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-12T11:07:06Z", "updated_at": "2018-03-12T12:34:29Z", "closed_at": "2018-03-12T12:34:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's my traceback of failed import. The python script is executed in 3.6, just as osmium package. But osmium opens `libbost_python-py27` and fails:\r\n\r\n        import osmium as osm\r\n      File \"/usr/local/lib/python3.6/dist-packages/osmium/__init__.py\", line 1, in <module>\r\n        from osmium._osmium import *\r\n    ImportError: /usr/lib/x86_64-linux-gnu/libboost_python-py27.so.1.58.0: undefined symbol: PyClass_Type\r\n\r\nThere is `/usr/lib/x86_64-linux-gnu/libboost_python-py35.so.1.58.0` file in the same directory (`/usr/lib/x...gnu/`), which probably should work with 3.6.\r\n\r\nLibboost was installed with pip3:\r\n\r\n    sudo pip3 install libboost\r\n\r\n(when installed locally, the issue is the same)\r\n\r\nHow to fix this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/55", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/55/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/55/events", "html_url": "https://github.com/osmcode/pyosmium/issues/55", "id": 299910112, "node_id": "MDU6SXNzdWUyOTk5MTAxMTI=", "number": 55, "title": "FreeBSD build", "user": {"login": "sporkman", "id": 510750, "node_id": "MDQ6VXNlcjUxMDc1MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/510750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sporkman", "html_url": "https://github.com/sporkman", "followers_url": "https://api.github.com/users/sporkman/followers", "following_url": "https://api.github.com/users/sporkman/following{/other_user}", "gists_url": "https://api.github.com/users/sporkman/gists{/gist_id}", "starred_url": "https://api.github.com/users/sporkman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sporkman/subscriptions", "organizations_url": "https://api.github.com/users/sporkman/orgs", "repos_url": "https://api.github.com/users/sporkman/repos", "events_url": "https://api.github.com/users/sporkman/events{/privacy}", "received_events_url": "https://api.github.com/users/sporkman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-02-24T04:18:16Z", "updated_at": "2018-05-11T08:54:54Z", "closed_at": "2018-05-03T10:43:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using either pip or building from source fails.  It looks like the way the boost libs or searched for is very linux-specific, so it doesn't find the installed boost libs.  Errors for each type of build below.  On installing the python boost libs, I'm given this message with instructions for linking:\r\n\r\n```\r\nYou have built the Boost.Python library. You have to add the following\r\noptions when building your own code:\r\n\r\nCompiler options:\r\n   -I/usr/local/include/python2.7 -I/usr/local/include\r\n\r\nLinker options:\r\n   -L/usr/local/lib/python2.7 -L/usr/local/lib -lboost_python -lpython2.7\r\n```\r\nNot sure how to fiddle with setup.py to get pyosmium looking in the right place.  Any tips?\r\n\r\nPip and source build attempts below:\r\n\r\n```\r\n[root@nominatim ~]# pip install osmium\r\nCollecting osmium\r\n  Using cached osmium-2.13.0.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-oVEgyO/osmium/setup.py\", line 74, in <module>\r\n        raise Exception(\"Cannot find boost_python library\")\r\n    Exception: Cannot find boost_python library\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-oVEgyO/osmium/\r\n```\r\n\r\n```\r\n[spork@nominatim ~/osmium-2.13.0]$ python setup.py build\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 74, in <module>\r\n    raise Exception(\"Cannot find boost_python library\")\r\nException: Cannot find boost_python library\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/54", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/54/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/54/events", "html_url": "https://github.com/osmcode/pyosmium/issues/54", "id": 298949177, "node_id": "MDU6SXNzdWUyOTg5NDkxNzc=", "number": 54, "title": "Segmentation fault: 11", "user": {"login": "kkdd", "id": 5372642, "node_id": "MDQ6VXNlcjUzNzI2NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5372642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kkdd", "html_url": "https://github.com/kkdd", "followers_url": "https://api.github.com/users/kkdd/followers", "following_url": "https://api.github.com/users/kkdd/following{/other_user}", "gists_url": "https://api.github.com/users/kkdd/gists{/gist_id}", "starred_url": "https://api.github.com/users/kkdd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kkdd/subscriptions", "organizations_url": "https://api.github.com/users/kkdd/orgs", "repos_url": "https://api.github.com/users/kkdd/repos", "events_url": "https://api.github.com/users/kkdd/events{/privacy}", "received_events_url": "https://api.github.com/users/kkdd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-21T12:21:12Z", "updated_at": "2018-04-25T20:27:54Z", "closed_at": "2018-04-25T20:27:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello.\r\nI have encountered Segmentation fault: 11 when running the following code:\r\nDoes this arise from the conflict of versions?\r\nCan't I save data beyond callback functions by using pyosmium?\r\n\r\n```\r\n$ sw_vers\r\nProductName:\tMac OS X\r\nProductVersion:\t10.11.6\r\nBuildVersion:\t15G19009\r\n$ brew info boost-python3\r\nboost-python3: stable 1.66.0 (bottled)\r\n  Poured from bottle on 2018-02-13 at 13:03:20\r\n$ brew info libosmium\r\nlibosmium: stable 2.13.1 (bottled)\r\n  Built from source on 2018-02-13 at 12:54:40 with: --with-google-sparsehash\r\n$ pip3 search osmium\r\nosmium (2.13.0)  - Python bindings for libosmium, the data processing library for OSM data\r\n  INSTALLED: 2.13.0 (latest)\r\n$ curl http://api.openstreetmap.org/api/0.6/map?bbox=139.618,35.569,139.645,35.593 >  test.osm\r\n$ python3 osmium_test.py test.osm \r\nSegmentation fault: 11\r\n$\r\n$ cat osmium_test.py\r\nimport osmium as o\r\n\r\nclass OsmHandler(o.SimpleHandler):\r\n    def __init__(self):\r\n        super(OsmHandler, self).__init__()\r\n        self.ways = {}\r\n        self.nodes = {}\r\n\r\n    def node(self, n):\r\n        self.nodes[n.id] = n\r\n    \r\n    def way(self, w):\r\n        if 'highway' not in w.tags:\r\n            self.ways[w.id] = w.nodes\r\n\r\n    def nodeHistogram(self):\r\n        hist = dict.fromkeys(self.nodes.keys(), 0)\r\n        for _, nodes in self.ways.items():\r\n            for node in nodes:\r\n                if node.ref in hist:\r\n                    hist[node.ref] += 1\r\n\r\nif __name__ == '__main__':\r\n    import sys\r\n    file = sys.argv[1]\r\n    h = OsmHandler()\r\n    h.apply_file(file, locations=False)\r\n    h.nodeHistogram()\r\n    exit(0)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/52", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/52/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/52/events", "html_url": "https://github.com/osmcode/pyosmium/issues/52", "id": 284176400, "node_id": "MDU6SXNzdWUyODQxNzY0MDA=", "number": 52, "title": "Building with Python3 links against Boost Python2 library", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-22T14:29:53Z", "updated_at": "2018-07-02T16:35:22Z", "closed_at": "2018-01-02T12:09:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On a Ubuntu 16.04 box where I have both Python2 as well as Python3:\r\n\r\n```\r\n$ ls /usr/lib/x86_64-linux-gnu/libboost_python*.so\r\n/usr/lib/x86_64-linux-gnu/libboost_python-py27.so\r\n/usr/lib/x86_64-linux-gnu/libboost_python-py35.so\r\n/usr/lib/x86_64-linux-gnu/libboost_python.so\r\n\r\n$ ll /usr/lib/x86_64-linux-gnu/libboost_python.so\r\nlrwxrwxrwx 1 root root 49 Dec 22 14:16 /usr/lib/x86_64-linux-gnu/libboost_python.so -> /usr/lib/x86_64-linux-gnu/libboost_python-py27.so\r\n```\r\n\r\nWhen I install the osmium Python bindings with Python3 and compile osmium from source\r\n\r\n```\r\npython3 -m pip install osmium\r\n```\r\n\r\nthe resulting shared object links against Python2:\r\n\r\n```\r\nldd /usr/local/lib/python3.6/dist-packages/osmium/_osmium.cpython-36m-x86_64-linux-gnu.so | grep python\r\n        libboost_python-py27.so.1.58.0 => /usr/lib/x86_64-linux-gnu/libboost_python-py27.so.1.58.0 (0x00007f91eeff3000)\r\n```\r\n\r\nwhich results in undefined symbol errors when trying to use osmium from a Python3 script:\r\n\r\n```\r\nImportError: /usr/lib/x86_64-linux-gnu/libboost_python-py27.so.1.58.0: undefined symbol: PyClass_Type\r\n```\r\n\r\nIs there a way for pyosmium to check if the build process is meant for Python2 or Python3 and then link against 2.x or 3.x Boost.Python shared libraries, respectively?\r\n\r\n---\r\n\r\nWorkaround is a bit ugly but does the job:\r\n\r\n```\r\npython3 -m pip uninstall osmium\r\nrm -rf ~/.cache/pip/wheels/\r\n\r\nrm /usr/lib/x86_64-linux-gnu/libboost_python.so\r\nln -s /usr/lib/x86_64-linux-gnu/libboost_python-py35.so /usr/lib/x86_64-linux-gnu/libboost_python.so\r\n\r\npython3 -m pip install osmium\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/49", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/49/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/49/events", "html_url": "https://github.com/osmcode/pyosmium/issues/49", "id": 256659022, "node_id": "MDU6SXNzdWUyNTY2NTkwMjI=", "number": 49, "title": "Build and distribute pyosmium wheel", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131655454, "node_id": "MDU6TGFiZWwxMzE2NTU0NTQ=", "url": "https://api.github.com/repos/osmcode/pyosmium/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-09-11T10:45:39Z", "updated_at": "2018-12-10T20:47:07Z", "closed_at": "2018-12-10T20:47:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Do you think it makes sense to build and distribute a Python Wheel for PyOsmium? At the moment users need to install build-essentials, all libosmium native deps, and boost-python-dev.\r\n\r\nWould it make sense to build a wheel and ship it, so that users can simply\r\n\r\n    pip install osmium\r\n\r\nand don't have to worry about dependency management?\r\n\r\n\r\n\r\n(FYI: this is food for thought, not urgent or blocking - I noticed this while bundling a pyosmium program with Docker and was a bit surprised how much I have to pull in to get pyosmium to compile)\r\n\r\nHere are some notes with refs to get started:\r\n- https://github.com/scanse/sweep-sdk/issues/54\r\n- https://github.com/scanse/sweep-sdk/pull/51\r\n\r\nand it's a bit tricky with native deps as usual :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/48", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/48/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/48/events", "html_url": "https://github.com/osmcode/pyosmium/issues/48", "id": 255199838, "node_id": "MDU6SXNzdWUyNTUxOTk4Mzg=", "number": 48, "title": "fatal error: protozero/types.hpp: No such file or directory", "user": {"login": "baditaflorin", "id": 2330999, "node_id": "MDQ6VXNlcjIzMzA5OTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2330999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baditaflorin", "html_url": "https://github.com/baditaflorin", "followers_url": "https://api.github.com/users/baditaflorin/followers", "following_url": "https://api.github.com/users/baditaflorin/following{/other_user}", "gists_url": "https://api.github.com/users/baditaflorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/baditaflorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baditaflorin/subscriptions", "organizations_url": "https://api.github.com/users/baditaflorin/orgs", "repos_url": "https://api.github.com/users/baditaflorin/repos", "events_url": "https://api.github.com/users/baditaflorin/events{/privacy}", "received_events_url": "https://api.github.com/users/baditaflorin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-05T08:35:11Z", "updated_at": "2017-09-05T20:03:57Z", "closed_at": "2017-09-05T20:03:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using ubuntu 16.04\r\n\r\npython setup.py build\r\nUsing global libosmium.\r\nrunning build\r\nrunning build_py\r\ncreating build\r\ncreating build/lib.linux-x86_64-2.7\r\ncreating build/lib.linux-x86_64-2.7/osmium\r\ncopying src/osmium/version.py -> build/lib.linux-x86_64-2.7/osmium\r\ncopying src/osmium/__init__.py -> build/lib.linux-x86_64-2.7/osmium\r\ncreating build/lib.linux-x86_64-2.7/osmium/osm\r\ncopying src/osmium/osm/__init__.py -> build/lib.linux-x86_64-2.7/osmium/osm\r\ncopying src/osmium/osm/mutable.py -> build/lib.linux-x86_64-2.7/osmium/osm\r\ncreating build/lib.linux-x86_64-2.7/osmium/replication\r\ncopying src/osmium/replication/utils.py -> build/lib.linux-x86_64-2.7/osmium/replication\r\ncopying src/osmium/replication/server.py -> build/lib.linux-x86_64-2.7/osmium/replication\r\ncopying src/osmium/replication/__init__.py -> build/lib.linux-x86_64-2.7/osmium/replication\r\nrunning build_ext\r\nbuilding 'osmium._osmium' extension\r\ncreating build/temp.linux-x86_64-2.7\r\ncreating build/temp.linux-x86_64-2.7/lib\r\nc++ -pthread -DNDEBUG -g -fwrapv -O2 -Wall -fno-strict-aliasing -Wdate-time -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -I/usr/include -I/usr/include/python2.7 -c lib/osmium.cc -o build/temp.linux-x86_64-2.7/lib/osmium.o -std=c++11 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D__STDC_FORMAT_MACROS\r\nIn file included from /usr/local/include/osmium/io/pbf_output.hpp:46:0,\r\n                 from /usr/local/include/osmium/io/any_output.hpp:50,\r\n                 from lib/generic_writer.hpp:6,\r\n                 from lib/osmium.cc:7:\r\n/usr/local/include/osmium/io/detail/pbf_output_format.hpp:47:31: fatal error: protozero/types.hpp: No such file or directory\r\ncompilation terminated.\r\nerror: command 'c++' failed with exit status 1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/47", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/47/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/47/events", "html_url": "https://github.com/osmcode/pyosmium/issues/47", "id": 251777813, "node_id": "MDU6SXNzdWUyNTE3Nzc4MTM=", "number": 47, "title": "apply_diff() needs to use and update node cache file", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-21T21:35:40Z", "updated_at": "2017-08-26T13:46:19Z", "closed_at": "2017-08-26T13:46:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Per [email thread](https://lists.openstreetmap.org/pipermail/talk/2017-August/078465.html), the diff processing is missing two key features in order to process way geometries:\r\n* Ability to use a node cache file that was initially created with `apply_file(..., idx='dense_file_array,node.cache')` when the diff file contains ways without relevant nodes\r\n* Ability to update that node cache file with the new node location", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/46", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/46/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/46/events", "html_url": "https://github.com/osmcode/pyosmium/issues/46", "id": 250274975, "node_id": "MDU6SXNzdWUyNTAyNzQ5NzU=", "number": 46, "title": "Should the subscript operator mimic Python's list in wraparounds", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131655453, "node_id": "MDU6TGFiZWwxMzE2NTU0NTM=", "url": "https://api.github.com/repos/osmcode/pyosmium/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-15T10:12:20Z", "updated_at": "2017-08-20T15:50:48Z", "closed_at": "2017-08-20T15:50:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related: https://github.com/osmcode/pyosmium/issues/44\r\n\r\nUse-case: accessing the last item in a node ref list:\r\n\r\n```python\r\ndef way(self, w):\r\n    print(w.nodes[-1])\r\n```\r\n\r\nwill result in\r\n\r\n> OverflowError: can't convert negative value to unsigned int\r\n\r\nExpected: the default Python list behavior\r\n\r\n```python\r\n>>> [1,2,3][-1]\r\n3\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/45", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/45/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/45/events", "html_url": "https://github.com/osmcode/pyosmium/issues/45", "id": 250267958, "node_id": "MDU6SXNzdWUyNTAyNjc5NTg=", "number": 45, "title": "Should types implement a human readable representation", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131655453, "node_id": "MDU6TGFiZWwxMzE2NTU0NTM=", "url": "https://api.github.com/repos/osmcode/pyosmium/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-15T09:38:29Z", "updated_at": "2017-09-15T08:43:58Z", "closed_at": "2017-08-25T20:33:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "At the moment the types exposed through Boost.Python have the default `__repr__` such as:\r\n\r\n```python\r\n<osmium.osm._osm.RelationMember object at 0x7f67a69e19a0>\r\n```\r\n\r\nwhich is not really helpful.\r\n\r\nIt would be great if types could expose a reasonable human readable representation e.g. the `RelationMember` type could format itself as\r\n\r\n```python\r\n<RelationMember ref=X, role=Y, type=Z>\r\n```\r\n\r\nmaybe abbreviating the values if they're too long (`ref[:n]`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/44", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/44/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/44/events", "html_url": "https://github.com/osmcode/pyosmium/issues/44", "id": 250266045, "node_id": "MDU6SXNzdWUyNTAyNjYwNDU=", "number": 44, "title": "Should list types support the subscript operator", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-15T09:29:34Z", "updated_at": "2017-08-16T09:36:37Z", "closed_at": "2017-08-16T08:49:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like the custom `*List` types do not support the subscript operator e.g.\r\n\r\n```python\r\ndef relation(_, r):\r\n    if len(r.members) != 3:\r\n        return\r\n\r\n    print(r.members[1])\r\n```\r\n\r\ndoes not work since the `RelationMemberList` does not support indexing.\r\n\r\nIs there a reason for leaving out this feature or is it just an oversight?\r\n\r\ncc @lonvia ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/42", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/42/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/42/events", "html_url": "https://github.com/osmcode/pyosmium/issues/42", "id": 248913494, "node_id": "MDU6SXNzdWUyNDg5MTM0OTQ=", "number": 42, "title": "Unexpected no-error crash with invalid idx parameter", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-09T04:28:07Z", "updated_at": "2017-08-12T20:38:12Z", "closed_at": "2017-08-12T20:38:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Setting `idx` to `dense_mmap_array` with a filename causes a fatal crash after a long delay, without any error messages or stacktraces.  Took me a while to figure it out, as I wasn't even sure where the crash takes place.\r\n\r\n`ttlFile.apply_file(pbfFile, locations=True, idx='dense_mmap_array,test.nodecache')`\r\n\r\nExample code -- run it with a small OSM PBF file as the first parameter.\r\n\r\n```python\r\nimport sys\r\nimport osmium\r\n\r\nclass RdfHandler(osmium.SimpleHandler):\r\n    def __init__(self):\r\n        osmium.SimpleHandler.__init__(self)\r\n    def __enter__(self):\r\n        return self\r\n    def __exit__(self, exc_type, exc_value, traceback):\r\n        pass\r\n\r\nif __name__ == '__main__':\r\n    pbfFile = sys.argv[1]\r\n    with RdfHandler() as ttlFile:\r\n        ttlFile.apply_file(pbfFile, locations=True, idx='dense_mmap_array,test.nodecache')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/40", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/40/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/40/events", "html_url": "https://github.com/osmcode/pyosmium/issues/40", "id": 241704621, "node_id": "MDU6SXNzdWUyNDE3MDQ2MjE=", "number": 40, "title": "Use nodecache with areas", "user": {"login": "fredericbonifas", "id": 1278216, "node_id": "MDQ6VXNlcjEyNzgyMTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1278216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredericbonifas", "html_url": "https://github.com/fredericbonifas", "followers_url": "https://api.github.com/users/fredericbonifas/followers", "following_url": "https://api.github.com/users/fredericbonifas/following{/other_user}", "gists_url": "https://api.github.com/users/fredericbonifas/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredericbonifas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredericbonifas/subscriptions", "organizations_url": "https://api.github.com/users/fredericbonifas/orgs", "repos_url": "https://api.github.com/users/fredericbonifas/repos", "events_url": "https://api.github.com/users/fredericbonifas/events{/privacy}", "received_events_url": "https://api.github.com/users/fredericbonifas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-10T13:03:14Z", "updated_at": "2017-07-11T07:30:04Z", "closed_at": "2017-07-11T07:30:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to cache nodes in order to use them when parsing an area. I have tried to adapt the example given: https://github.com/osmcode/pyosmium/blob/master/examples/use_nodecache.py\r\n\r\nWhile this works fine with `way` objects, I don't manage to get it working to parse an `area` object. My guess is that it fails because the `area` is not a native OSM object but I am unsure. The code I am trying to get working is below:\r\n\r\n``` python\r\nimport osmium as o\r\nimport sys\r\n\r\nclass WayHandler(o.SimpleHandler):\r\n\r\n    def __init__(self, idx):\r\n        super(WayHandler, self).__init__()\r\n        self.idx = idx\r\n\r\n    def area(self, a):\r\n        print('area parsing')\r\n        for outer_ring in a.outer_rings():\r\n            for n in outer_ring.nodes:\r\n                n.lat, n.lon # throws an exception if the coordinates are missing\r\n                loc = idx.get(n.ref)\r\n                print(loc)\r\n\r\nif len(sys.argv) != 3:\r\n    print(\"Usage: python create_nodecache.py <osm file> <node cache>\")\r\n    exit()\r\n\r\nreader = o.io.Reader(sys.argv[1])\r\n\r\nidx = o.index.create_map(\"sparse_file_array,\" + sys.argv[2])\r\nlh = o.NodeLocationsForWays(idx)\r\nlh.ignore_errors()\r\n\r\no.apply(reader, lh, WayHandler(idx))\r\n\r\nreader.close()\r\n```\r\n\r\nWhat would be the best way to use nodecache when parsing an `area`? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/38", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/38/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/38/events", "html_url": "https://github.com/osmcode/pyosmium/issues/38", "id": 231207194, "node_id": "MDU6SXNzdWUyMzEyMDcxOTQ=", "number": 38, "title": "None of the callbacks are called from apply_diff()", "user": {"login": "nyurik", "id": 1641515, "node_id": "MDQ6VXNlcjE2NDE1MTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1641515?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyurik", "html_url": "https://github.com/nyurik", "followers_url": "https://api.github.com/users/nyurik/followers", "following_url": "https://api.github.com/users/nyurik/following{/other_user}", "gists_url": "https://api.github.com/users/nyurik/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyurik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyurik/subscriptions", "organizations_url": "https://api.github.com/users/nyurik/orgs", "repos_url": "https://api.github.com/users/nyurik/repos", "events_url": "https://api.github.com/users/nyurik/events{/privacy}", "received_events_url": "https://api.github.com/users/nyurik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-25T00:21:30Z", "updated_at": "2017-05-25T10:49:29Z", "closed_at": "2017-05-25T09:17:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See the issue and sample code at https://stackoverflow.com/questions/44170360/callbacks-not-called-in-pyosmiums-diff-downloader\r\n\r\nNote that the exact same handler works fine when used from `handler.apply_file()`\r\n\r\nCCing: For some reason, this code does not print any nodes, ways, or relations, even though it clearly does download the minute updates from OpenStreetMap:\r\n\r\n\r\n    import logging\r\n    import osmium\r\n    from osmium.replication.server import ReplicationServer\r\n\r\n    logging.basicConfig(level=logging.DEBUG)\r\n\r\n    class Handler(osmium.SimpleHandler):\r\n        def __init__(self):\r\n            super(Handler, self).__init__()\r\n\r\n        def node(self, n):\r\n            print('n', n.id)\r\n\r\n        def way(self, w):\r\n            print('w', w.id)\r\n\r\n        def relation(self, r):\r\n            print('r', r.id)\r\n\r\n    h = Handler()\r\n    rs = ReplicationServer('http://planet.openstreetmap.org/replication/minute')\r\n    rs.apply_diffs(h, 2112110, 0.4*1024)\r\n\r\n\r\nResult:\r\n\r\n    /usr/bin/python3 /home/yurik/dev/osm2rdf/osm2rdf.py\r\n    DEBUG:pyosmium:Downloaded change 2112110. (86 kB available in download buffer)\r\n    DEBUG:pyosmium:Downloaded change 2112111. (36 kB available in download buffer)\r\n    DEBUG:pyosmium:Downloaded change 2112112. (4 kB available in download buffer)\r\n    DEBUG:pyosmium:Downloaded change 2112113. (-139 kB available in download buffer)\r\n    \r\n    Process finished with exit code 0\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/37", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/37/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/37/events", "html_url": "https://github.com/osmcode/pyosmium/issues/37", "id": 225800989, "node_id": "MDU6SXNzdWUyMjU4MDA5ODk=", "number": 37, "title": "SimpleWriter add_way encountered MemoryError", "user": {"login": "chrisail", "id": 18008107, "node_id": "MDQ6VXNlcjE4MDA4MTA3", "avatar_url": "https://avatars3.githubusercontent.com/u/18008107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisail", "html_url": "https://github.com/chrisail", "followers_url": "https://api.github.com/users/chrisail/followers", "following_url": "https://api.github.com/users/chrisail/following{/other_user}", "gists_url": "https://api.github.com/users/chrisail/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisail/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisail/subscriptions", "organizations_url": "https://api.github.com/users/chrisail/orgs", "repos_url": "https://api.github.com/users/chrisail/repos", "events_url": "https://api.github.com/users/chrisail/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisail/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-02T19:47:04Z", "updated_at": "2017-05-09T13:02:55Z", "closed_at": "2017-05-09T13:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI actually use `SimpleWriter` class in order to persist isolines generated by GDAL contour function.\r\n\r\nI use \"OsmObject\" class like in example\r\n```\r\nclass OsmObject(object):\r\n    def __init__(self, **params):\r\n        for k,v in params.items():\r\n            setattr(self, k, v)\r\n```\r\nAnd than for each isoline, add way like below. `nodes_ids` is the array that contains ids of previously written nodes.\r\n```\r\ntags = {attr_name: str(int(altitude)), \"contour\": \"elevation\", \"contour_ext\": contour_ext, \"id\": str(ways_counter), \"nodesnm\": str(len(nodes_ids))}\r\npbf_writer.add_way(OsmObject(id=ways_counter, nodes=nodes_ids, tags=tags, version=1))\r\n```\r\nMy problem is when I generate a huge amount of ways (3 739 825 when last error occurs), I've got a memory error, always when writing ways. I made several tests with more available memory. It shows that more memory I have, later the problem occurs. I use Python 3.5 on Ubuntu.\r\n\r\n> Traceback (most recent call last):\r\n>   File \"generatesrtmosm.py\", line 395, in <module>\r\n>     create_isolines(hgtfile, base_filename, args.i)\r\n>   File \"generatesrtmosm.py\", line 82, in create_isolines\r\n>     add_way(gen_feat, bbox, pbf_writer)\r\n>   File \"generatesrtmosm.py\", line 122, in add_way\r\n>     process_points(final_linestring.GetPoints(), altitude, contour_ext)\r\n>   File \"generatesrtmosm.py\", line 146, in process_points\r\n>     pbf_writer.add_way(OsmObject(id=ways_counter, nodes=nodes_ids, tags=tags, version=1))\r\n> MemoryError\r\n\r\nIn attachement, a line chart that shows memory consumption during my processing.\r\nIn this example, I want to generate isolines for Mexico: 260 HGT files to process.\r\nFor each HGT file, I call GDAL contour function, then I use the result to add nodes and associated ways.\r\nI close the writer only at the end of the processing.\r\nWe can see memory consumption behavior on next chart.\r\n![srtmosm](https://cloud.githubusercontent.com/assets/18008107/25635327/063d58e6-2f7e-11e7-917a-97a2a96638c2.png)\r\n\r\nIt seems that this behavior change when PBF file size is more than 1 Gb. 1.8 Gb when last error occurs.\r\n\r\nDoes I misunderstand something? Does the amount of nodes and ways is too huge for pyosmium ?\r\n\r\nI would appreciate to have an explanation about my current problem.\r\n\r\nThank you.\r\n\r\n\r\n \r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/34", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/34/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/34/events", "html_url": "https://github.com/osmcode/pyosmium/issues/34", "id": 223299650, "node_id": "MDU6SXNzdWUyMjMyOTk2NTA=", "number": 34, "title": "PyOsmium on Windows", "user": {"login": "joto", "id": 113756, "node_id": "MDQ6VXNlcjExMzc1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/113756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joto", "html_url": "https://github.com/joto", "followers_url": "https://api.github.com/users/joto/followers", "following_url": "https://api.github.com/users/joto/following{/other_user}", "gists_url": "https://api.github.com/users/joto/gists{/gist_id}", "starred_url": "https://api.github.com/users/joto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joto/subscriptions", "organizations_url": "https://api.github.com/users/joto/orgs", "repos_url": "https://api.github.com/users/joto/repos", "events_url": "https://api.github.com/users/joto/events{/privacy}", "received_events_url": "https://api.github.com/users/joto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-21T07:22:49Z", "updated_at": "2017-04-26T20:00:43Z", "closed_at": "2017-04-26T20:00:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In theory PyOsmium should work on Windows, but I don't think anybody ever tried.\r\n\r\n@alex85k Do you want to try this out and maybe get an Appveyor config going?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/33", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/33/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/33/events", "html_url": "https://github.com/osmcode/pyosmium/issues/33", "id": 221616217, "node_id": "MDU6SXNzdWUyMjE2MTYyMTc=", "number": 33, "title": "Python 3.5 import error", "user": {"login": "Xevib", "id": 2422305, "node_id": "MDQ6VXNlcjI0MjIzMDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2422305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xevib", "html_url": "https://github.com/Xevib", "followers_url": "https://api.github.com/users/Xevib/followers", "following_url": "https://api.github.com/users/Xevib/following{/other_user}", "gists_url": "https://api.github.com/users/Xevib/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xevib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xevib/subscriptions", "organizations_url": "https://api.github.com/users/Xevib/orgs", "repos_url": "https://api.github.com/users/Xevib/repos", "events_url": "https://api.github.com/users/Xevib/events{/privacy}", "received_events_url": "https://api.github.com/users/Xevib/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-13T16:29:23Z", "updated_at": "2017-04-14T17:34:00Z", "closed_at": "2017-04-14T17:34:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I setup a travis to test a library that uses pyosmium and I'm geting this error:\r\nImportError: /usr/lib/x86_64-linux-gnu/libboost_python-py27.so.1.54.0: undefined symbol: PyClass_Type\r\n\r\nYou can see it here:\r\nhttps://travis-ci.org/Xevib/changewithin/jobs/221791372\r\n\r\nThe travis configuratio is this:\r\nhttps://github.com/Xevib/changewithin/blob/8abbaa49ae720111fca9b54e153e196e04c14187/.travis.yml\r\n\r\nI also tested it with a docker and I hav the same error", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/32", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/32/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/32/events", "html_url": "https://github.com/osmcode/pyosmium/issues/32", "id": 217362594, "node_id": "MDU6SXNzdWUyMTczNjI1OTQ=", "number": 32, "title": "Segmentation fault reading a osc fie", "user": {"login": "Xevib", "id": 2422305, "node_id": "MDQ6VXNlcjI0MjIzMDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2422305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xevib", "html_url": "https://github.com/Xevib", "followers_url": "https://api.github.com/users/Xevib/followers", "following_url": "https://api.github.com/users/Xevib/following{/other_user}", "gists_url": "https://api.github.com/users/Xevib/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xevib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xevib/subscriptions", "organizations_url": "https://api.github.com/users/Xevib/orgs", "repos_url": "https://api.github.com/users/Xevib/repos", "events_url": "https://api.github.com/users/Xevib/events{/privacy}", "received_events_url": "https://api.github.com/users/Xevib/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-27T20:17:47Z", "updated_at": "2017-03-31T21:03:47Z", "closed_at": "2017-03-31T20:54:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Withi this code:\r\n```py\r\nimport osmium\r\n\r\n\r\nclass CounterHandler(osmium.SimpleHandler):\r\n    def __init__(self):\r\n        osmium.SimpleHandler.__init__(self)\r\n        self.num_nodes = 0\r\n        self.num_ways = 0\r\n        self.num_rel = 0\r\n\r\n    def changeset(self, c):\r\n        print \"change\"\r\n        self.count_hotel(c)\r\n\r\n    def node(self, n):\r\n        print 'node:{}'.format(self.num_nodes)\r\n        self.num_nodes += 1\r\n\r\n    def way(self, w):\r\n        print 'way:{}'.format(self.num_ways)\r\n        print w.id\r\n        self.num_ways += 1\r\n\r\n    def relation(self, r):\r\n        print 'rel:{}'.format(self.num_rel)\r\n        self.num_rel += 1\r\n\r\nif __name__ == '__main__':\r\n    h = CounterHandler()\r\n    h.apply_file(\"781.osc.gz\",osmium.osm.osm_entity_bits.CHANGESET)\r\n\r\n    print(\"Number of nodes: %d\" % h.num_nodes)\r\n    print(\"Number of ways: %d\" % h.num_ways)\r\n    print(\"Number of rel: %d\" % h.num_rel)\r\n\r\n```\r\nWhere 781.osc.gz is:\r\nhttp://planet.openstreetmap.org/replication/hour/000/039/781.osc.gz\r\n\r\nI'm geting a segmentation fault,with a minute file it works.I also tried wiith the decompressed file and happens the same.\r\n\r\nThere is any way to know what is failing? There is no log with the segmentation fault", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/31", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/31/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/31/events", "html_url": "https://github.com/osmcode/pyosmium/issues/31", "id": 217073878, "node_id": "MDU6SXNzdWUyMTcwNzM4Nzg=", "number": 31, "title": "No module named _osmium", "user": {"login": "Xevib", "id": 2422305, "node_id": "MDQ6VXNlcjI0MjIzMDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2422305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xevib", "html_url": "https://github.com/Xevib", "followers_url": "https://api.github.com/users/Xevib/followers", "following_url": "https://api.github.com/users/Xevib/following{/other_user}", "gists_url": "https://api.github.com/users/Xevib/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xevib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xevib/subscriptions", "organizations_url": "https://api.github.com/users/Xevib/orgs", "repos_url": "https://api.github.com/users/Xevib/repos", "events_url": "https://api.github.com/users/Xevib/events{/privacy}", "received_events_url": "https://api.github.com/users/Xevib/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-26T18:13:57Z", "updated_at": "2017-03-26T18:29:05Z", "closed_at": "2017-03-26T18:29:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed pyosmium on Opensuse 42.2 and i'm geting this error:\r\n>>> import osmium\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"osmium/__init__.py\", line 1, in <module>\r\n    from osmium._osmium import *\r\nImportError: No module named _osmium\r\n\r\nWhen I do `pip freeze|grep osmium` I get:\r\n`osmium==2.12.0`\r\n\r\nThe python version is:\r\npython --version\r\nPython 2.7.12\r\n\r\nThe boost verion is 1.61", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/29", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/29/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/29/events", "html_url": "https://github.com/osmcode/pyosmium/issues/29", "id": 215529473, "node_id": "MDU6SXNzdWUyMTU1Mjk0NzM=", "number": 29, "title": "Add man pages for tools", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-20T19:26:51Z", "updated_at": "2017-04-06T22:03:00Z", "closed_at": "2017-04-06T20:14:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The new `pyosmium-get-changes` & `pyosmium-up-to-date` tools don't have man pages to document them.\r\n\r\nHaving them be self-documenting like `osmium` would be great.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/27", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/27/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/27/events", "html_url": "https://github.com/osmcode/pyosmium/issues/27", "id": 212405852, "node_id": "MDU6SXNzdWUyMTI0MDU4NTI=", "number": 27, "title": "Build calls $CC instead of $CXX", "user": {"login": "joto", "id": 113756, "node_id": "MDQ6VXNlcjExMzc1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/113756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joto", "html_url": "https://github.com/joto", "followers_url": "https://api.github.com/users/joto/followers", "following_url": "https://api.github.com/users/joto/following{/other_user}", "gists_url": "https://api.github.com/users/joto/gists{/gist_id}", "starred_url": "https://api.github.com/users/joto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joto/subscriptions", "organizations_url": "https://api.github.com/users/joto/orgs", "repos_url": "https://api.github.com/users/joto/repos", "events_url": "https://api.github.com/users/joto/events{/privacy}", "received_events_url": "https://api.github.com/users/joto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-07T11:31:52Z", "updated_at": "2017-04-17T20:45:37Z", "closed_at": "2017-04-17T20:45:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The build using `setup.py` uses `$CC` for compiling instead of `$CXX`, so it calls the C compiler instead of the C++ compiler. Is this correct?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/24", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/24/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/24/events", "html_url": "https://github.com/osmcode/pyosmium/issues/24", "id": 200805083, "node_id": "MDU6SXNzdWUyMDA4MDUwODM=", "number": 24, "title": "Fails to build with libosmium 2.11.0", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-01-14T13:57:50Z", "updated_at": "2017-01-15T12:16:07Z", "closed_at": "2017-01-15T12:16:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "pyosmium 2.10.2 fails to build with libosmium 2.11.0:\r\n```\r\nbuilding 'osmium.io' extension\r\nx86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -g -O2 -fdebug-prefix-map=/build/pyosmium-2.10.2=. -specs=/usr/share/dpkg/no-pie-compile.specs -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include -I/usr/include/python2.7 -c lib/io.cc -o build/temp.linux-x86_64-2.7/lib/io.o -std=c++11 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64\r\ncc1plus: warning: command line option '-Wstrict-prototypes' is valid for C/ObjC but not for C++\r\nIn file included from lib/io.cc:5:0:\r\nlib/osm.cc: In function 'void init_module__osm()':\r\nlib/osm.cc:173:111: error: no matching function for call to 'boost::python::class_<osmium::NodeRefList, boost::noncopyable_::noncopyable>::def(const char [12], <unresolved overloaded function type>, boost::python::return_value_policy<boost::python::reference_existing_object>)'\r\n         .def(\"__getitem__\", &osmium::NodeRefList::operator[], return_value_policy<reference_existing_object>())\r\n                                                                                                               ^\r\nIn file included from /usr/include/boost/python.hpp:18:0,\r\n                 from lib/io.cc:1:\r\n/usr/include/boost/python/class.hpp:223:11: note: candidate: template<class Derived> boost::python::class_<T, X1, X2, X3>::self& boost::python::class_<T, X1, X2, X3>::def(const boost::python::def_visitor<Derived>&) [with Derived = Derived; W = osmium::NodeRefList; X1 = boost::noncopyable_::noncopyable; X2 = boost::python::detail::not_specified; X3 = boost::python::detail::not_specified]\r\n     self& def(def_visitor<Derived> const& visitor)\r\n           ^~~\r\n/usr/include/boost/python/class.hpp:223:11: note:   template argument deduction/substitution failed:\r\nIn file included from lib/io.cc:5:0:\r\nlib/osm.cc:173:111: note:   mismatched types 'const boost::python::def_visitor<U>' and 'const char [12]'\r\n         .def(\"__getitem__\", &osmium::NodeRefList::operator[], return_value_policy<reference_existing_object>())\r\n                                                                                                               ^\r\nIn file included from /usr/include/boost/python.hpp:18:0,\r\n                 from lib/io.cc:1:\r\n/usr/include/boost/python/class.hpp:233:11: note: candidate: template<class F> boost::python::class_<T, X1, X2, X3>::self& boost::python::class_<T, X1, X2, X3>::def(const char*, F) [with F = F; W = osmium::NodeRefList; X1 = boost::noncopyable_::noncopyable; X2 = boost::python::detail::not_specified; X3 = boost::python::detail::not_specified]\r\n     self& def(char const* name, F f)\r\n           ^~~\r\n/usr/include/boost/python/class.hpp:233:11: note:   template argument deduction/substitution failed:\r\nIn file included from lib/io.cc:5:0:\r\nlib/osm.cc:173:111: note:   candidate expects 2 arguments, 3 provided\r\n         .def(\"__getitem__\", &osmium::NodeRefList::operator[], return_value_policy<reference_existing_object>())\r\n                                                                                                               ^\r\nIn file included from /usr/include/boost/python.hpp:18:0,\r\n                 from lib/io.cc:1:\r\n/usr/include/boost/python/class.hpp:242:11: note: candidate: template<class A1, class A2> boost::python::class_<T, X1, X2, X3>::self& boost::python::class_<T, X1, X2, X3>::def(const char*, A1, const A2&) [with A1 = A1; A2 = A2; W = osmium::NodeRefList; X1 = boost::noncopyable_::noncopyable; X2 = boost::python::detail::not_specified; X3 = boost::python::detail::not_specified]\r\n     self& def(char const* name, A1 a1, A2 const& a2)\r\n           ^~~\r\n/usr/include/boost/python/class.hpp:242:11: note:   template argument deduction/substitution failed:\r\nIn file included from lib/io.cc:5:0:\r\nlib/osm.cc:173:111: note:   couldn't deduce template parameter 'A1'\r\n         .def(\"__getitem__\", &osmium::NodeRefList::operator[], return_value_policy<reference_existing_object>())\r\n                                                                                                               ^\r\nIn file included from /usr/include/boost/python.hpp:18:0,\r\n                 from lib/io.cc:1:\r\n/usr/include/boost/python/class.hpp:249:11: note: candidate: template<class Fn, class A1, class A2> boost::python::class_<T, X1, X2, X3>::self& boost::python::class_<T, X1, X2, X3>::def(const char*, Fn, const A1&, const A2&) [with Fn = Fn; A1 = A1; A2 = A2; W = osmium::NodeRefList; X1 = boost::noncopyable_::noncopyable; X2 = boost::python::detail::not_specified; X3 = boost::python::detail::not_specified]\r\n     self& def(char const* name, Fn fn, A1 const& a1, A2 const& a2)\r\n           ^~~\r\n/usr/include/boost/python/class.hpp:249:11: note:   template argument deduction/substitution failed:\r\nIn file included from lib/io.cc:5:0:\r\nlib/osm.cc:173:111: note:   candidate expects 4 arguments, 3 provided\r\n         .def(\"__getitem__\", &osmium::NodeRefList::operator[], return_value_policy<reference_existing_object>())\r\n                                                                                                               ^\r\nIn file included from /usr/include/boost/python.hpp:18:0,\r\n                 from lib/io.cc:1:\r\n/usr/include/boost/python/class.hpp:265:11: note: candidate: template<class Fn, class A1, class A2, class A3> boost::python::class_<T, X1, X2, X3>::self& boost::python::class_<T, X1, X2, X3>::def(const char*, Fn, const A1&, const A2&, const A3&) [with Fn = Fn; A1 = A1; A2 = A2; A3 = A3; W = osmium::NodeRefList; X1 = boost::noncopyable_::noncopyable; X2 = boost::python::detail::not_specified; X3 = boost::python::detail::not_specified]\r\n     self& def(char const* name, Fn fn, A1 const& a1, A2 const& a2, A3 const& a3)\r\n           ^~~\r\n/usr/include/boost/python/class.hpp:265:11: note:   template argument deduction/substitution failed:\r\nIn file included from lib/io.cc:5:0:\r\nlib/osm.cc:173:111: note:   candidate expects 5 arguments, 3 provided\r\n         .def(\"__getitem__\", &osmium::NodeRefList::operator[], return_value_policy<reference_existing_object>())\r\n                                                                                                               ^\r\nerror: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\nE: pybuild pybuild:276: build: plugin distutils failed with: exit code=1: /usr/bin/python setup.py build \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/20", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/20/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/20/events", "html_url": "https://github.com/osmcode/pyosmium/issues/20", "id": 184760637, "node_id": "MDU6SXNzdWUxODQ3NjA2Mzc=", "number": 20, "title": "Replication download fails on partial states", "user": {"login": "lonvia", "id": 1447941, "node_id": "MDQ6VXNlcjE0NDc5NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1447941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lonvia", "html_url": "https://github.com/lonvia", "followers_url": "https://api.github.com/users/lonvia/followers", "following_url": "https://api.github.com/users/lonvia/following{/other_user}", "gists_url": "https://api.github.com/users/lonvia/gists{/gist_id}", "starred_url": "https://api.github.com/users/lonvia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lonvia/subscriptions", "organizations_url": "https://api.github.com/users/lonvia/orgs", "repos_url": "https://api.github.com/users/lonvia/repos", "events_url": "https://api.github.com/users/lonvia/events{/privacy}", "received_events_url": "https://api.github.com/users/lonvia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-10-24T06:41:54Z", "updated_at": "2016-10-24T21:10:19Z", "closed_at": "2016-10-24T21:10:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Error message:\n\n```\nTraceback (most recent call last):\n  File \"/srv/waymarkedtrails.org/.local/bin/osgende-import\", line 387, in <module>\n    importer.readfile()\n  File \"/srv/waymarkedtrails.org/.local/bin/osgende-import\", line 221, in readfile\n    seq = self.repserver.apply_diffs(self, seq + 1, self.change_size)\n  File \"/srv/waymarkedtrails.org/.local/lib/python3.4/site-packages/osmium/replication/server.py\", line 45, in apply_diffs\n    newest = self.get_state_info()\n  File \"/srv/waymarkedtrails.org/.local/lib/python3.4/site-packages/osmium/replication/server.py\", line 172, in get_state_info\n    key, val = line.split('=', 2)\nValueError: need more than 1 value to unpack\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/19", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/19/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/19/events", "html_url": "https://github.com/osmcode/pyosmium/issues/19", "id": 178106502, "node_id": "MDU6SXNzdWUxNzgxMDY1MDI=", "number": 19, "title": "Getting header info", "user": {"login": "batFINGER", "id": 13170407, "node_id": "MDQ6VXNlcjEzMTcwNDA3", "avatar_url": "https://avatars2.githubusercontent.com/u/13170407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/batFINGER", "html_url": "https://github.com/batFINGER", "followers_url": "https://api.github.com/users/batFINGER/followers", "following_url": "https://api.github.com/users/batFINGER/following{/other_user}", "gists_url": "https://api.github.com/users/batFINGER/gists{/gist_id}", "starred_url": "https://api.github.com/users/batFINGER/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/batFINGER/subscriptions", "organizations_url": "https://api.github.com/users/batFINGER/orgs", "repos_url": "https://api.github.com/users/batFINGER/repos", "events_url": "https://api.github.com/users/batFINGER/events{/privacy}", "received_events_url": "https://api.github.com/users/batFINGER/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-20T16:15:06Z", "updated_at": "2016-09-21T19:34:11Z", "closed_at": "2016-09-21T19:34:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nHaving trouble in determining how to get header info akin to https://github.com/osmcode/node-osmium/blob/master/doc/tutorial.md#getting-the-file-header using pyosmium.  \n\nA small example to point me in the right direction would be greatly appreciated.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/18", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/18/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/18/events", "html_url": "https://github.com/osmcode/pyosmium/issues/18", "id": 173823945, "node_id": "MDU6SXNzdWUxNzM4MjM5NDU=", "number": 18, "title": "[improvement] Multithreading support ? ", "user": {"login": "Fkawala", "id": 1567274, "node_id": "MDQ6VXNlcjE1NjcyNzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1567274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fkawala", "html_url": "https://github.com/Fkawala", "followers_url": "https://api.github.com/users/Fkawala/followers", "following_url": "https://api.github.com/users/Fkawala/following{/other_user}", "gists_url": "https://api.github.com/users/Fkawala/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fkawala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fkawala/subscriptions", "organizations_url": "https://api.github.com/users/Fkawala/orgs", "repos_url": "https://api.github.com/users/Fkawala/repos", "events_url": "https://api.github.com/users/Fkawala/events{/privacy}", "received_events_url": "https://api.github.com/users/Fkawala/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-08-29T17:13:44Z", "updated_at": "2016-08-30T12:41:03Z", "closed_at": "2016-08-29T18:56:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \n\nI wonder what would it take to enable multi-threaded reading for PBF files ?\n\nFrom what I get from [source](http://docs.osmcode.org/libosmium/latest/reader_8hpp_source.html), the reader support multi-threading.    \n\nIf the modifications are straight forward I'm ready to do it, but my cpp skills are quite limited.\n\nBests,\nF.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/17", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/17/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/17/events", "html_url": "https://github.com/osmcode/pyosmium/issues/17", "id": 171101147, "node_id": "MDU6SXNzdWUxNzExMDExNDc=", "number": 17, "title": "Add pyosmium to PyPi", "user": {"login": "pnorman", "id": 1190866, "node_id": "MDQ6VXNlcjExOTA4NjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1190866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnorman", "html_url": "https://github.com/pnorman", "followers_url": "https://api.github.com/users/pnorman/followers", "following_url": "https://api.github.com/users/pnorman/following{/other_user}", "gists_url": "https://api.github.com/users/pnorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnorman/subscriptions", "organizations_url": "https://api.github.com/users/pnorman/orgs", "repos_url": "https://api.github.com/users/pnorman/repos", "events_url": "https://api.github.com/users/pnorman/events{/privacy}", "received_events_url": "https://api.github.com/users/pnorman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-08-15T03:13:08Z", "updated_at": "2016-10-24T20:04:06Z", "closed_at": "2016-10-24T20:04:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [osmium](https://pypi.org/project/osmium/) listed on pypi is for the old osmium, not the new libosmium. It would be useful to be able to install pyosmium via pip without specifying a git repo\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/15", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/15/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/15/events", "html_url": "https://github.com/osmcode/pyosmium/issues/15", "id": 162959648, "node_id": "MDU6SXNzdWUxNjI5NTk2NDg=", "number": 15, "title": "test_location_tuple fails (AssertionError: 'n0 v0 dV c0 t i0 u T x1 y2' != 'n0 v0 dV c0 t i0 u T x1.0000000 y2.0000000')", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-29T15:44:18Z", "updated_at": "2016-07-11T19:05:57Z", "closed_at": "2016-07-11T19:05:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As reported by Santiago Vila in [Debian Bug #828979](https://bugs.debian.org/828979):\n\n> Dear maintainer:\n> \n> This package currently fails to build in stretch:\n> \n> ```\n> [...]\n> FAIL: test_location_tuple (test_writer.TestWriteNode)\n> ----------------------------------------------------------------------\n> Traceback (most recent call last):\n>   File \"/build/pyosmium-2.7.1/test/test_writer.py\", line 112, in test_location_tuple\n>     w.add_node(O(location=(1, 2)))\n>   File \"/usr/lib/python2.7/contextlib.py\", line 24, in __exit__\n>     self.gen.next()\n>   File \"/build/pyosmium-2.7.1/test/test_writer.py\", line 35, in WriteExpect\n>     assert_equals(line, expected)\n> AssertionError: 'n0 v0 dV c0 t i0 u T x1 y2' != 'n0 v0 dV c0 t i0 u T x1.0000000 y2.0000000'\n> ```\n> \n> A full build log is available here:\n> \n> https://tests.reproducible-builds.org/debian/rbuild/testing/amd64/pyosmium_2.7.1-2.rbuild.log\n> \n> Thanks.\n\nSeveral of the pyosmium dependencies have been changed in the mean time, but I suspect changes in Python 2.7.12-rc1 are the cause of this issue (Python 2.7.11 was used before).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/13", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/13/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/13/events", "html_url": "https://github.com/osmcode/pyosmium/issues/13", "id": 158061279, "node_id": "MDU6SXNzdWUxNTgwNjEyNzk=", "number": 13, "title": "test_osm.TestAreaFromWayAttributes fails on several architectures", "user": {"login": "sebastic", "id": 4605306, "node_id": "MDQ6VXNlcjQ2MDUzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4605306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastic", "html_url": "https://github.com/sebastic", "followers_url": "https://api.github.com/users/sebastic/followers", "following_url": "https://api.github.com/users/sebastic/following{/other_user}", "gists_url": "https://api.github.com/users/sebastic/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastic/subscriptions", "organizations_url": "https://api.github.com/users/sebastic/orgs", "repos_url": "https://api.github.com/users/sebastic/repos", "events_url": "https://api.github.com/users/sebastic/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-02T05:19:15Z", "updated_at": "2016-06-02T13:32:26Z", "closed_at": "2016-06-02T09:23:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The Debian package build for pyosmium 2.7.1 failed on several architectures due to this test failure:\n\n```\nI: pybuild base:184: cd test && python2.7 run_tests.py\n...........E...................\n======================================================================\nERROR: test_func (test_osm.TestAreaFromWayAttributes)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/\u00abPKGBUILDDIR\u00bb/test/helpers.py\", line 104, in test_func\n    self.Handler().apply_file(fn, self.apply_locations, self.apply_idx)\n  File \"/\u00abPKGBUILDDIR\u00bb/test/test_osm.py\", line 129, in area\n    assert_equals(n.num_rings(), (1, 0))\nTypeError: No to_python (by-value) converter found for C++ type: std::pair<unsigned int, unsigned int>\n\n----------------------------------------------------------------------\nRan 31 tests in 0.340s\n\nFAILED (errors=1)\n```\n\nBased on the list of architectures, it looks specific to 32-bit systems.\n\nFull buildlogs: [armhf](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=armhf&ver=2.7.1-1&stamp=1464829191), [i386](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=i386&ver=2.7.1-1&stamp=1464819558), [powerpc](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=powerpc&ver=2.7.1-1&stamp=1464822308), [hppa](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=hppa&ver=2.7.1-1&stamp=1464823265), [hurd-i386](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=hurd-i386&ver=2.7.1-1&stamp=1464827379), [kfreebsd-i386](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=kfreebsd-i386&ver=2.7.1-1&stamp=1464822721), [x32](https://buildd.debian.org/status/fetch.php?pkg=pyosmium&arch=x32&ver=2.7.1-1&stamp=1464828825)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/10", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/10/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/10/events", "html_url": "https://github.com/osmcode/pyosmium/issues/10", "id": 127368811, "node_id": "MDU6SXNzdWUxMjczNjg4MTE=", "number": 10, "title": "object.datetime causes a segfault on OSX with Python 2.7.11", "user": {"login": "mvexel", "id": 120452, "node_id": "MDQ6VXNlcjEyMDQ1Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/120452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvexel", "html_url": "https://github.com/mvexel", "followers_url": "https://api.github.com/users/mvexel/followers", "following_url": "https://api.github.com/users/mvexel/following{/other_user}", "gists_url": "https://api.github.com/users/mvexel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvexel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvexel/subscriptions", "organizations_url": "https://api.github.com/users/mvexel/orgs", "repos_url": "https://api.github.com/users/mvexel/repos", "events_url": "https://api.github.com/users/mvexel/events{/privacy}", "received_events_url": "https://api.github.com/users/mvexel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 131655454, "node_id": "MDU6TGFiZWwxMzE2NTU0NTQ=", "url": "https://api.github.com/repos/osmcode/pyosmium/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-01-19T05:25:08Z", "updated_at": "2018-11-03T11:02:44Z", "closed_at": "2018-11-03T11:02:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "repro:\n\n``` python\nimport osmium\n\nclass TestHandler(osmium.SimpleHandler):\n\n    def __init__(self):\n        osmium.SimpleHandler.__init__(self)\n\n    def node(self, n):\n        mod_date = n.timestamp\n        print(mod_date)\n\n\nif __name__ == '__main__':\n    h = TestHandler()\n    h.apply_file(\"/Users/martijnv/osm/planet/district-of-columbia-latest.osm.pbf\")\n    print(\"done\")\n```\n\nwith DC pbf file from geofabrik, downloaded just now.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/9", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/9/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/9/events", "html_url": "https://github.com/osmcode/pyosmium/issues/9", "id": 125243523, "node_id": "MDU6SXNzdWUxMjUyNDM1MjM=", "number": 9, "title": "ImportError: No module named _osmium", "user": {"login": "agude", "id": 4562016, "node_id": "MDQ6VXNlcjQ1NjIwMTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4562016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agude", "html_url": "https://github.com/agude", "followers_url": "https://api.github.com/users/agude/followers", "following_url": "https://api.github.com/users/agude/following{/other_user}", "gists_url": "https://api.github.com/users/agude/gists{/gist_id}", "starred_url": "https://api.github.com/users/agude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agude/subscriptions", "organizations_url": "https://api.github.com/users/agude/orgs", "repos_url": "https://api.github.com/users/agude/repos", "events_url": "https://api.github.com/users/agude/events{/privacy}", "received_events_url": "https://api.github.com/users/agude/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-06T19:24:42Z", "updated_at": "2016-01-06T22:02:20Z", "closed_at": "2016-01-06T22:02:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I compiled libosmium-2.5.4 and pyosmium-2.5.4 on Ubuntu 15.10 from scratch. After installing pyosmium, Python fails to import osmium with the error:\n\n```\nPython 2.7.10 |Anaconda 2.4.0 (64-bit)| (default, Oct 19 2015, 18:04:42) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://anaconda.org\n>>> import osmium\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"osmium/__init__.py\", line 1, in <module>\n    from ._osmium import *\nImportError: No module named _osmium\n```\n\nMy `gcc` version is 5.2.1 (so violating the \"You have to compile with the same compiler version python is compiled with on your system, otherwise it might not work.\"). I attempted to compile pyosmium with 4.4.7 to match my Python version but it fails.\n\nIs this the \"it might not work\" failure mode for when the `gcc` versions are not matched, or is it a new issue?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/6", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/6/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/6/events", "html_url": "https://github.com/osmcode/pyosmium/issues/6", "id": 117174857, "node_id": "MDU6SXNzdWUxMTcxNzQ4NTc=", "number": 6, "title": "no matches converting function \u2018create_point\u2019", "user": {"login": "qwiglydee", "id": 285128, "node_id": "MDQ6VXNlcjI4NTEyOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/285128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qwiglydee", "html_url": "https://github.com/qwiglydee", "followers_url": "https://api.github.com/users/qwiglydee/followers", "following_url": "https://api.github.com/users/qwiglydee/following{/other_user}", "gists_url": "https://api.github.com/users/qwiglydee/gists{/gist_id}", "starred_url": "https://api.github.com/users/qwiglydee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qwiglydee/subscriptions", "organizations_url": "https://api.github.com/users/qwiglydee/orgs", "repos_url": "https://api.github.com/users/qwiglydee/repos", "events_url": "https://api.github.com/users/qwiglydee/events{/privacy}", "received_events_url": "https://api.github.com/users/qwiglydee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-16T17:21:00Z", "updated_at": "2015-11-16T23:17:25Z", "closed_at": "2015-11-16T23:17:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have built and installed libosmium-2.5.2 from sources.\n(with all the tests and they all passed)\n\nBuilding pyosmium-2.4.1 fails:\n\n```\nlib/geom.cc:42:126: error: no matches converting function \u2018create_point\u2019 to type \u2018std::string (class WKBFactory::*)(class osmium::Location)const {aka class std::basic_string<char> (class WKBFactory::*)(class osmium::Location)const}\u2019\n         .def(\"create_point\", static_cast<std::string (WKBFactory::*)(const osmium::Location) const>(&WKBFactory::create_point),\n                                                                                                                              ^\nIn file included from lib/geom.cc:4:0:\n/usr/local/include/osmium/geom/factory.hpp:215:24: note: candidates are: osmium::geom::GeometryFactory<TGeomImpl, TProjection>::point_type osmium::geom::GeometryFactory<TGeomImpl, TProjection>::create_point(const osmium::NodeRef&) [with TGeomImpl = osmium::geom::detail::WKBFactoryImpl; TProjection = osmium::geom::IdentityProjection; osmium::geom::GeometryFactory<TGeomImpl, TProjection>::point_type = std::basic_string<char>]\n             point_type create_point(const osmium::NodeRef& node_ref) {\n                        ^\n/usr/local/include/osmium/geom/factory.hpp:206:24: note:                 osmium::geom::GeometryFactory<TGeomImpl, TProjection>::point_type osmium::geom::GeometryFactory<TGeomImpl, TProjection>::create_point(const osmium::Node&) [with TGeomImpl = osmium::geom::detail::WKBFactoryImpl; TProjection = osmium::geom::IdentityProjection; osmium::geom::GeometryFactory<TGeomImpl, TProjection>::point_type = std::basic_string<char>]\n             point_type create_point(const osmium::Node& node) {\n                        ^\n/usr/local/include/osmium/geom/factory.hpp:202:24: note:                 osmium::geom::GeometryFactory<TGeomImpl, TProjection>::point_type osmium::geom::GeometryFactory<TGeomImpl, TProjection>::create_point(const osmium::Location&) const [with TGeomImpl = osmium::geom::detail::WKBFactoryImpl; TProjection = osmium::geom::IdentityProjection; osmium::geom::GeometryFactory<TGeomImpl, TProjection>::point_type = std::basic_string<char>]\n             point_type create_point(const osmium::Location& location) const {\n                        ^\nerror: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/5", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/5/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/5/events", "html_url": "https://github.com/osmcode/pyosmium/issues/5", "id": 90896014, "node_id": "MDU6SXNzdWU5MDg5NjAxNA==", "number": 5, "title": "32bit compile error", "user": {"login": "joto", "id": 113756, "node_id": "MDQ6VXNlcjExMzc1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/113756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joto", "html_url": "https://github.com/joto", "followers_url": "https://api.github.com/users/joto/followers", "following_url": "https://api.github.com/users/joto/following{/other_user}", "gists_url": "https://api.github.com/users/joto/gists{/gist_id}", "starred_url": "https://api.github.com/users/joto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joto/subscriptions", "organizations_url": "https://api.github.com/users/joto/orgs", "repos_url": "https://api.github.com/users/joto/repos", "events_url": "https://api.github.com/users/joto/events{/privacy}", "received_events_url": "https://api.github.com/users/joto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-06-25T08:38:53Z", "updated_at": "2015-06-25T20:12:57Z", "closed_at": "2015-06-25T20:12:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=789865\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/4", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/4/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/4/events", "html_url": "https://github.com/osmcode/pyosmium/issues/4", "id": 67305408, "node_id": "MDU6SXNzdWU2NzMwNTQwOA==", "number": 4, "title": "Example use of create_linestring", "user": {"login": "snorfalorpagus", "id": 3883947, "node_id": "MDQ6VXNlcjM4ODM5NDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/3883947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snorfalorpagus", "html_url": "https://github.com/snorfalorpagus", "followers_url": "https://api.github.com/users/snorfalorpagus/followers", "following_url": "https://api.github.com/users/snorfalorpagus/following{/other_user}", "gists_url": "https://api.github.com/users/snorfalorpagus/gists{/gist_id}", "starred_url": "https://api.github.com/users/snorfalorpagus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snorfalorpagus/subscriptions", "organizations_url": "https://api.github.com/users/snorfalorpagus/orgs", "repos_url": "https://api.github.com/users/snorfalorpagus/repos", "events_url": "https://api.github.com/users/snorfalorpagus/events{/privacy}", "received_events_url": "https://api.github.com/users/snorfalorpagus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-09T08:14:44Z", "updated_at": "2015-04-09T19:44:06Z", "closed_at": "2015-04-09T19:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [amenity_list.py](https://github.com/osmcode/pyosmium/blob/master/examples/amenity_list.py) example only demonstrates how to create shapely geometries from areas. I've managed to get it working for points also, but trying to use `create_linestring` to create a linestring from a way raises an error:\n\n```\nTraceback (most recent call last):\n  File \"s_osm.py\", line 30, in <module>\n    h.apply_file(sys.argv[1], locations=True)\n  File \"s_osm.py\", line 20, in way\n    wkb = wkbfab.create_linestring(way)\nBoost.Python.ArgumentError: Python argument types in\n    WKBFactory.create_linestring(WKBFactory, Way)\ndid not match C++ signature:\n    create_linestring(WKBFactory {lvalue} self, osmium::Way way, osmium::geom::use_nodes use_nodes='unique', osmium::geom::direction direction='forward')\n    create_linestring(WKBFactory {lvalue} self, osmium::WayNodeList list, osmium::geom::use_nodes use_nodes='unique', osmium::geom::direction direction='forward')\n```\n\nI'm not familiar with python.boost, so I'm not sure if I'm calling this incorrectly, or if this is a bug.\n\nExample code below:\n\n```\nimport sys\nimport osmium\nimport shapely.speedups\nif shapely.speedups.available:\n    shapely.speedups.enable()\nfrom shapely.wkb import loads\n\nwkbfab = osmium.geom.WKBFactory()\n\nclass SHandler(osmium.SimpleHandler):\n    def node(self, node):\n        wkb = wkbfab.create_point(node)\n        point = loads(wkb, hex=True)\n\n    def way(self, way):\n        wkb = wkbfab.create_linestring(way)\n\n    def area(self, area):\n        wkb = wkbfab.create_multipolygon(area)\n        poly = loads(wkb, hex=True)\n        centroid = poly.representative_point()\n\nh = SHandler()\nh.apply_file(sys.argv[1], locations=True)\n\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/osmcode/pyosmium/issues/3", "repository_url": "https://api.github.com/repos/osmcode/pyosmium", "labels_url": "https://api.github.com/repos/osmcode/pyosmium/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/osmcode/pyosmium/issues/3/comments", "events_url": "https://api.github.com/repos/osmcode/pyosmium/issues/3/events", "html_url": "https://github.com/osmcode/pyosmium/issues/3", "id": 66143287, "node_id": "MDU6SXNzdWU2NjE0MzI4Nw==", "number": 3, "title": "Check command line args in examples", "user": {"login": "joto", "id": 113756, "node_id": "MDQ6VXNlcjExMzc1Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/113756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joto", "html_url": "https://github.com/joto", "followers_url": "https://api.github.com/users/joto/followers", "following_url": "https://api.github.com/users/joto/following{/other_user}", "gists_url": "https://api.github.com/users/joto/gists{/gist_id}", "starred_url": "https://api.github.com/users/joto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joto/subscriptions", "organizations_url": "https://api.github.com/users/joto/orgs", "repos_url": "https://api.github.com/users/joto/repos", "events_url": "https://api.github.com/users/joto/events{/privacy}", "received_events_url": "https://api.github.com/users/joto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-03T13:07:04Z", "updated_at": "2015-04-09T20:04:43Z", "closed_at": "2015-04-09T20:04:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Examples should check whether command line arguments are there and fail gracefully.\n", "performed_via_github_app": null, "score": 1.0}]}