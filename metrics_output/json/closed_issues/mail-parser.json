{"total_count": 40, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/71", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/71/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/71/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/71", "id": 640606612, "node_id": "MDU6SXNzdWU2NDA2MDY2MTI=", "number": 71, "title": "Unparsable Received: header", "user": {"login": "brianjmurrell", "id": 559317, "node_id": "MDQ6VXNlcjU1OTMxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/559317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianjmurrell", "html_url": "https://github.com/brianjmurrell", "followers_url": "https://api.github.com/users/brianjmurrell/followers", "following_url": "https://api.github.com/users/brianjmurrell/following{/other_user}", "gists_url": "https://api.github.com/users/brianjmurrell/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianjmurrell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianjmurrell/subscriptions", "organizations_url": "https://api.github.com/users/brianjmurrell/orgs", "repos_url": "https://api.github.com/users/brianjmurrell/repos", "events_url": "https://api.github.com/users/brianjmurrell/events{/privacy}", "received_events_url": "https://api.github.com/users/brianjmurrell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-17T17:09:02Z", "updated_at": "2020-08-09T16:50:19Z", "closed_at": "2020-08-09T16:50:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n`Received:` header that doesn't parse:\r\n\r\n```\r\nReceived: by filter0948p1iad2.sendgrid.net with SMTP id\r\n filter0948p1iad2-19514-5EEA473C-34 2020-06-17 16:39:24.757045452 +0000 UTC\r\n m=+349867.495769315\r\n```\r\n`date` was not found/parsed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/65", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/65/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/65/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/65", "id": 553127955, "node_id": "MDU6SXNzdWU1NTMxMjc5NTU=", "number": 65, "title": "six is fixed at v1.13.0", "user": {"login": "sjcurtinibm", "id": 43242847, "node_id": "MDQ6VXNlcjQzMjQyODQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/43242847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sjcurtinibm", "html_url": "https://github.com/sjcurtinibm", "followers_url": "https://api.github.com/users/sjcurtinibm/followers", "following_url": "https://api.github.com/users/sjcurtinibm/following{/other_user}", "gists_url": "https://api.github.com/users/sjcurtinibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/sjcurtinibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sjcurtinibm/subscriptions", "organizations_url": "https://api.github.com/users/sjcurtinibm/orgs", "repos_url": "https://api.github.com/users/sjcurtinibm/repos", "events_url": "https://api.github.com/users/sjcurtinibm/events{/privacy}", "received_events_url": "https://api.github.com/users/sjcurtinibm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-01-21T21:03:24Z", "updated_at": "2020-05-17T20:37:15Z", "closed_at": "2020-05-17T20:37:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n* six have released version 1.14.0\r\n* requirements.txt file has six fixed at v1.13.0 https://github.com/SpamScope/mail-parser/blob/develop/requirements.txt#L3\r\n* This is giving dependency issues as some libraries download the latest, but this is fixed to 1.13.0\r\n* We could bump it or change sign to >= ?\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n* Have 2 python modules that use six\r\n* One is dependant >= 1.13.0\r\n* One is == 1.13.0\r\n\r\n**Expected behavior**\r\nBoth Python Modules install fine\r\n\r\n**Actual behavior**\r\nWe get a dependency confilct :(\r\n\r\n\r\n**Environment:**\r\n - any\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/62", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/62/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/62/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/62", "id": 544824728, "node_id": "MDU6SXNzdWU1NDQ4MjQ3Mjg=", "number": 62, "title": "Custom Header only takes first occurence", "user": {"login": "Hopyoprop", "id": 19301611, "node_id": "MDQ6VXNlcjE5MzAxNjEx", "avatar_url": "https://avatars0.githubusercontent.com/u/19301611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hopyoprop", "html_url": "https://github.com/Hopyoprop", "followers_url": "https://api.github.com/users/Hopyoprop/followers", "following_url": "https://api.github.com/users/Hopyoprop/following{/other_user}", "gists_url": "https://api.github.com/users/Hopyoprop/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hopyoprop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hopyoprop/subscriptions", "organizations_url": "https://api.github.com/users/Hopyoprop/orgs", "repos_url": "https://api.github.com/users/Hopyoprop/repos", "events_url": "https://api.github.com/users/Hopyoprop/events{/privacy}", "received_events_url": "https://api.github.com/users/Hopyoprop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-03T02:17:52Z", "updated_at": "2020-01-19T17:32:53Z", "closed_at": "2020-01-19T17:32:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Utilisation of Custom headers**\r\nWhen utilising calling custom headers from a mailparser object, the return value is only 1 and does not return a list when there is more than one of that email header. EG: \"Received-SPF\".\r\n\r\n**To Reproduce**\r\nHave a .MSG file with email headers with more than one of the same attribute such as \"Received-SPF\" and when calling mail.Received_SPF only gives you the first occurrence instead of a list with all of them\r\n\r\n**Environment**\r\nPython 3.8.0 using latest release of Pypi3 Mailparser.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/61", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/61/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/61/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/61", "id": 528413802, "node_id": "MDU6SXNzdWU1Mjg0MTM4MDI=", "number": 61, "title": "Error in timezone parsing", "user": {"login": "saeed-abdullah", "id": 1020248, "node_id": "MDQ6VXNlcjEwMjAyNDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1020248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saeed-abdullah", "html_url": "https://github.com/saeed-abdullah", "followers_url": "https://api.github.com/users/saeed-abdullah/followers", "following_url": "https://api.github.com/users/saeed-abdullah/following{/other_user}", "gists_url": "https://api.github.com/users/saeed-abdullah/gists{/gist_id}", "starred_url": "https://api.github.com/users/saeed-abdullah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saeed-abdullah/subscriptions", "organizations_url": "https://api.github.com/users/saeed-abdullah/orgs", "repos_url": "https://api.github.com/users/saeed-abdullah/repos", "events_url": "https://api.github.com/users/saeed-abdullah/events{/privacy}", "received_events_url": "https://api.github.com/users/saeed-abdullah/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-26T00:23:24Z", "updated_at": "2020-01-06T19:01:24Z", "closed_at": "2020-01-06T19:01:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nThe timezone parsing only works for offsets with full hours. For example, parsing a date with +05:30 returns \"+6\", which is incorrect. This bug potentially impacts a number of significant regions (e.g., India with offset +05:30, Austalia \u2014 ACST with offset +09:30).\r\n\r\n**To Reproduce**\r\n```\r\nfrom email.utils import parsedate_tz\r\nimport mailparser\r\nd = \"Mon, 11 Dec 2017 15:27:44 +0530\"\r\nprint(parsedate_tz(d)[9]/3600)  # 5.5\r\nprint(mailparser.utils.convert_mail_date(d)[1])  # +6 -- should be 5.5\r\n```\r\n\r\n**Raw mail**\r\nRaw mail is not necessary to produce the error\r\n\r\n**Environment:**\r\n - OS: [macOS Mojave (10.14)]\r\n - Docker: no\r\n - mail-parser version 3.9.3\r\n\r\n**Additional context**\r\nThe bug results from using 0 decimal precision while formatting the [timezone string](https://github.com/SpamScope/mail-parser/blob/c90cb1cd72fcf986fa013acbbc1277b7b6fa2e84/mailparser/utils.py#L348). I recommend using 2 decimal precision to address this bug (please see the [patch](https://gist.github.com/saeed-abdullah/7b45dcb4de61fa55411399ba542134ce)). Or, we can keep the offset as returned by `email.utils.parsedate_tz` (in seconds).\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/60", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/60/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/60/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/60", "id": 521574719, "node_id": "MDU6SXNzdWU1MjE1NzQ3MTk=", "number": 60, "title": "New  release on pypi?", "user": {"login": "dice89", "id": 1232919, "node_id": "MDQ6VXNlcjEyMzI5MTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1232919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dice89", "html_url": "https://github.com/dice89", "followers_url": "https://api.github.com/users/dice89/followers", "following_url": "https://api.github.com/users/dice89/following{/other_user}", "gists_url": "https://api.github.com/users/dice89/gists{/gist_id}", "starred_url": "https://api.github.com/users/dice89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dice89/subscriptions", "organizations_url": "https://api.github.com/users/dice89/orgs", "repos_url": "https://api.github.com/users/dice89/repos", "events_url": "https://api.github.com/users/dice89/events{/privacy}", "received_events_url": "https://api.github.com/users/dice89/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-12T14:11:11Z", "updated_at": "2020-01-12T11:54:32Z", "closed_at": "2020-01-12T11:54:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Is your feature request related to a problem? Please describe.**\r\nCan you update the release on pypi? Would help me a lot thx!\r\n\r\n**Describe the solution you'd like**\r\nA new release i.e. with the content-disposition header for attachments.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/59", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/59/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/59/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/59", "id": 489448995, "node_id": "MDU6SXNzdWU0ODk0NDg5OTU=", "number": 59, "title": "Is there a method for downloading attachments if using mail-parser as module in project?", "user": {"login": "aa-dank", "id": 4827545, "node_id": "MDQ6VXNlcjQ4Mjc1NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/4827545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aa-dank", "html_url": "https://github.com/aa-dank", "followers_url": "https://api.github.com/users/aa-dank/followers", "following_url": "https://api.github.com/users/aa-dank/following{/other_user}", "gists_url": "https://api.github.com/users/aa-dank/gists{/gist_id}", "starred_url": "https://api.github.com/users/aa-dank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aa-dank/subscriptions", "organizations_url": "https://api.github.com/users/aa-dank/orgs", "repos_url": "https://api.github.com/users/aa-dank/repos", "events_url": "https://api.github.com/users/aa-dank/events{/privacy}", "received_events_url": "https://api.github.com/users/aa-dank/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-09-04T23:19:28Z", "updated_at": "2020-01-28T02:36:02Z", "closed_at": "2020-01-26T23:59:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nMaybe I am missing something or is there nothing in the readme about retrieving the actual email attachments. \r\nThere are methods for getting the attachment names but not the actual files? (mail.attachments)\r\n\r\nThanks in advance.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/54", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/54/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/54/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/54", "id": 457818764, "node_id": "MDU6SXNzdWU0NTc4MTg3NjQ=", "number": 54, "title": "How should I make this work for .MSG files ?", "user": {"login": "ameyn21", "id": 8626077, "node_id": "MDQ6VXNlcjg2MjYwNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8626077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ameyn21", "html_url": "https://github.com/ameyn21", "followers_url": "https://api.github.com/users/ameyn21/followers", "following_url": "https://api.github.com/users/ameyn21/following{/other_user}", "gists_url": "https://api.github.com/users/ameyn21/gists{/gist_id}", "starred_url": "https://api.github.com/users/ameyn21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ameyn21/subscriptions", "organizations_url": "https://api.github.com/users/ameyn21/orgs", "repos_url": "https://api.github.com/users/ameyn21/repos", "events_url": "https://api.github.com/users/ameyn21/events{/privacy}", "received_events_url": "https://api.github.com/users/ameyn21/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-19T05:51:14Z", "updated_at": "2019-06-19T06:47:42Z", "closed_at": "2019-06-19T06:46:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have used mailparser for extracting attachments from .EML files. But I am not able to use it for .MSG files. I read about the installation of 'libemail-outlook-message-perl' for parsing .MSG files. But I am not sure how to install it for windows.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/53", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/53/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/53/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/53", "id": 454273306, "node_id": "MDU6SXNzdWU0NTQyNzMzMDY=", "number": 53, "title": "`Content-Disposition` info for attachments missed", "user": {"login": "byaka", "id": 1580811, "node_id": "MDQ6VXNlcjE1ODA4MTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1580811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/byaka", "html_url": "https://github.com/byaka", "followers_url": "https://api.github.com/users/byaka/followers", "following_url": "https://api.github.com/users/byaka/following{/other_user}", "gists_url": "https://api.github.com/users/byaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/byaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/byaka/subscriptions", "organizations_url": "https://api.github.com/users/byaka/orgs", "repos_url": "https://api.github.com/users/byaka/repos", "events_url": "https://api.github.com/users/byaka/events{/privacy}", "received_events_url": "https://api.github.com/users/byaka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-10T17:12:21Z", "updated_at": "2019-06-14T07:35:45Z", "closed_at": "2019-06-13T22:11:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Without this we can't determinate is attachment really *attachment* or it must be inlined. Ofc we have `Content-Id` but it may be availible also for not-inline attachments.\r\n\r\nanyway thank you guys for awesome parser!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/52", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/52/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/52/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/52", "id": 436649783, "node_id": "MDU6SXNzdWU0MzY2NDk3ODM=", "number": 52, "title": "text_plain returns all parts that are not text/html", "user": {"login": "phoerious", "id": 911270, "node_id": "MDQ6VXNlcjkxMTI3MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/911270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phoerious", "html_url": "https://github.com/phoerious", "followers_url": "https://api.github.com/users/phoerious/followers", "following_url": "https://api.github.com/users/phoerious/following{/other_user}", "gists_url": "https://api.github.com/users/phoerious/gists{/gist_id}", "starred_url": "https://api.github.com/users/phoerious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phoerious/subscriptions", "organizations_url": "https://api.github.com/users/phoerious/orgs", "repos_url": "https://api.github.com/users/phoerious/repos", "events_url": "https://api.github.com/users/phoerious/events{/privacy}", "received_events_url": "https://api.github.com/users/phoerious/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-04-24T11:45:19Z", "updated_at": "2020-01-12T14:41:35Z", "closed_at": "2020-01-12T14:41:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n`MailParser.text_plain` returns all parts that are not `text/html`.\r\n\r\n**To Reproduce**\r\n```\r\n>>> import mailparser\r\n\r\n>>> mail = mailparser.parse_from_bytes(b'''From: example@example.com\r\nSubject: Test\r\nDate: Wed, 24 Apr 2019 10:05:02 +0200 (CEST)\r\nMime-Version: 1.0\r\nContent-Type: multipart/mixed; boundary=\"===============8544575414772382491==\"\r\nTo: rcpt@example.com\r\n\r\n--===============8544575414772382491==\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\n\r\n<!doctype html>\r\n<title>Foo</title>\r\n<meta charset=\"utf-8\">\r\n\r\nHTML here\r\n\r\n--===============8544575414772382491==\r\nContent-Type: image/png\r\nContent-Transfer-Encoding: base64\r\nContent-Disposition: inline\r\n\r\nUE5HIGhlcmU=\r\n--===============8544575414772382491==\r\nContent-Type: text/plain; charset=\"us-ascii\"\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\n\r\nPlaintext here.\r\n--===============8544575414772382491==--\r\n''')\r\n\r\n>>> mail.text_html\r\n['<!doctype html>\\n<title>Foo</title>\\n<meta charset=\"utf-8\">\\n\\nHTML here']\r\n\r\n>>> mail.text_plain\r\n['PNG here', 'Plaintext here.']\r\n```\r\n\r\n**Expected behavior**\r\n`text_plain` should only return parts with Content-Type `text/plain`.\r\n\r\n**Raw mail**\r\n\r\n```\r\nFrom: example@example.com\r\nSubject: Test\r\nDate: Wed, 24 Apr 2019 10:05:02 +0200 (CEST)\r\nMime-Version: 1.0\r\nContent-Type: multipart/mixed; boundary=\"===============8544575414772382491==\"\r\nTo: rcpt@example.com\r\n\r\n--===============8544575414772382491==\r\nContent-Type: text/html; charset=UTF-8\r\nContent-Transfer-Encoding: 7bit\r\n\r\n<!doctype html>\r\n<title>Foo</title>\r\n<meta charset=\"utf-8\">\r\n\r\nHTML here\r\n\r\n--===============8544575414772382491==\r\nContent-Type: image/png\r\nContent-Transfer-Encoding: base64\r\nContent-Disposition: inline\r\n\r\nUE5HIGhlcmU=\r\n--===============8544575414772382491==\r\nContent-Type: text/plain; charset=\"us-ascii\"\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: inline\r\n\r\nPlaintext here.\r\n--===============8544575414772382491==--\r\n```\r\n\r\n**Environment:**\r\n - OS: Linux\r\n - Docker: no\r\n - mail-parser version 3.9.3\r\n\r\n**Additional context**\r\nIt is impossible to sort out non-text parts (without heuristics), because everything is parsed into a list of strings and Content-Type information is thrown away.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/51", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/51/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/51/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/51", "id": 422912330, "node_id": "MDU6SXNzdWU0MjI5MTIzMzA=", "number": 51, "title": "Can not save attachments for emails with Content-Type: text/calendar", "user": {"login": "josephtingiris", "id": 1857176, "node_id": "MDQ6VXNlcjE4NTcxNzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1857176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josephtingiris", "html_url": "https://github.com/josephtingiris", "followers_url": "https://api.github.com/users/josephtingiris/followers", "following_url": "https://api.github.com/users/josephtingiris/following{/other_user}", "gists_url": "https://api.github.com/users/josephtingiris/gists{/gist_id}", "starred_url": "https://api.github.com/users/josephtingiris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josephtingiris/subscriptions", "organizations_url": "https://api.github.com/users/josephtingiris/orgs", "repos_url": "https://api.github.com/users/josephtingiris/repos", "events_url": "https://api.github.com/users/josephtingiris/events{/privacy}", "received_events_url": "https://api.github.com/users/josephtingiris/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-03-19T19:26:49Z", "updated_at": "2019-03-22T21:56:30Z", "closed_at": "2019-03-22T21:56:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\nUsing mailparser from the cli fails fatally on Content-Type: text/calendar\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `mailparser -f mail.txt -ap /var/tmp --store-attachments`\r\n3. '....'\r\n4. See error\r\n\r\n\r\n\r\n**Expected behavior**\r\nThe meeting attachment is written to disk as other (base64) attachments are.\r\n\r\n**Raw mail**\r\nAny raw mail containing a meeting request attachment, i.e.\r\n\r\n```Return-Path: me@me.com\r\nReceived: from mail.me.com (LHLO mail.me.com) (10.0.1.80) by\r\n mail.me.com with LMTP; Fri, 8 Feb 2019 10:21:37 -0500 (EST)\r\nReceived: from localhost (localhost [127.0.0.1])\r\n        by mail.me.com (Postfix) with ESMTP id 82E49C900985;\r\n        Fri,  8 Feb 2019 10:21:37 -0500 (EST)\r\nReceived: from mail.me.com ([127.0.0.1])\r\n        by localhost (mail.me.com [127.0.0.1]) (amavisd-new, port 10032)\r\n        with ESMTP id Or1feO1BbrkB; Fri,  8 Feb 2019 10:21:36 -0500 (EST)\r\nReceived: from localhost (localhost [127.0.0.1])\r\n        by mail.me.com (Postfix) with ESMTP id 875A1C90070B;\r\n        Fri,  8 Feb 2019 10:21:36 -0500 (EST)\r\nX-Quarantine-ID: <OUFU1ymuNiJU>\r\nX-Virus-Scanned: amavisd-new at mail.me.com\r\nReceived: from mail.me.com ([127.0.0.1])\r\n        by localhost (mail.me.com [127.0.0.1]) (amavisd-new, port 10026)\r\n        with ESMTP id OUFU1ymuNiJU; Fri,  8 Feb 2019 10:21:36 -0500 (EST)\r\nReceived: from mail.me.com (mail.me.com [10.0.1.80])\r\n        by mail.me.com (Postfix) with ESMTP id 5C626C9000C9;\r\n        Fri,  8 Feb 2019 10:21:36 -0500 (EST)\r\nDate: Fri, 8 Feb 2019 10:21:36 -0500 (EST)\r\nFrom: me@me.com\r\nTo: Me Too <metoo@me.com>\r\nMessage-ID: <1587851191.6960234.1549639296328.JavaMail.zimbra@me.com>\r\nSubject: Project Meeting\r\nMIME-Version: 1.0\r\nContent-Type: multipart/alternative; \r\n        boundary=\"----=_Part_6960233_303396869.1549639296326\"\r\nX-Originating-IP: [10.0.2.1]\r\nX-Mailer: Zimbra 8.6.0_GA_1194 (ZimbraWebClient - GC72 (Win)/8.6.0_GA_1194)\r\n\r\n------=_Part_6960233_303396869.1549639296326\r\nContent-Type: text/plain; charset=utf-8\r\nContent-Transfer-Encoding: 7bit\r\n\r\nA single instance of the following meeting has been modified:\r\n\r\nSubject: Project Meeting \r\nOrganizer: \"Me Me\" <me@me.com> \r\n\r\nLocation: \"Conference Room\" <conferenceroom@me.com> \r\nResources: \"Conference Room\" <conferenceroom@me.com> (Conference Room) \r\nTime: Friday, February 8, 2019, 11:00:00 AM - 12:00:00 PM GMT -05:00 US/Canada Eastern\r\n \r\nInvitees: metoo@me.com ... \r\n\r\n\r\n*~*~*~*~*~*~*~*~*~*\r\n\r\nThe following meeting has been modified:\r\n\r\nSubject: Project Meeting \r\nOrganizer: \"Me Me\" <me@me.com> \r\n\r\nLocation: \"Conference Room\" <conferenceroom@me.com> \r\nResources: \"Conference Room\" <conferenceroom@me.com> (Conference Room) \r\nTime: 11:00:00 AM - 12:00:00 PM GMT -05:00 US/Canada Eastern [MODIFIED]\r\n Recurrence : Every Friday.   End by Jun 28, 2019.   Effective Oct 26, 2018\r\n\r\nInvitees: metoo@me.com ... \r\n\r\n\r\n*~*~*~*~*~*~*~*~*~*\r\n\r\nCreating new series to fix conference room issue \r\n\r\n------=_Part_6960233_303396869.1549639296326\r\nContent-Type: text/html; charset=utf-8\r\nContent-Transfer-Encoding: 7bit\r\n\r\n<html><body id='htmlmode'><h3>A single instance of the following meeting has been modified:</h3>\r\n\r\n<p>\r\n<table border='0'>\r\n<tr><th align=left>Subject:</th><td>Project Meeting </td></tr>\r\n<tr><th align=left>Organizer:</th><td>\"Me Me\" &lt;me@me.com&gt; </td></tr>\r\n</table>\r\n<p>\r\n<table border='0'>\r\n<tr><th align=left>Location:</th><td>\"Conference Room\" &lt;conferenceroom@me.com&gt; </td></tr>\r\n<tr><th align=left>Resources:</th><td>\"Conference Room\" &lt;conferenceroom@me.com&gt; (Conference Room) </td></tr>\r\n<tr><th align=left>Time:</th><td>Friday, February 8, 2019, 11:00:00 AM - 12:00:00 PM GMT -05:00 US/Canada Eastern\r\n </td></tr></table>\r\n<p>\r\n<table border='0'>\r\n<tr><th align=left>Invitees:</th><td>metoo@me.com ... </td></tr>\r\n</table>\r\n<div>*~*~*~*~*~*~*~*~*~*</div><br><div style=\"font-family: tahoma,new york,times,serif; font-size: 12pt; color: #000000\"><div style=\"font-family: tahoma,new york,times,serif; font-size: 12pt; color: #000000\"><div>Creating new series to fix conference room issue</div></div></div></body></html>\r\n------=_Part_6960233_303396869.1549639296326\r\nContent-Type: text/calendar; charset=utf-8; method=CANCEL; name=meeting.ics\r\nContent-Transfer-Encoding: 7bit\r\n\r\nBEGIN:VCALENDAR\r\nPRODID:Zimbra-Calendar-Provider\r\nVERSION:2.0\r\nMETHOD:CANCEL\r\nBEGIN:VTIMEZONE\r\nTZID:America/New_York\r\nBEGIN:STANDARD\r\nDTSTART:16010101T020000\r\nTZOFFSETTO:-0500\r\nTZOFFSETFROM:-0400\r\nRRULE:FREQ=YEARLY;WKST=MO;INTERVAL=1;BYMONTH=11;BYDAY=1SU\r\nTZNAME:EST\r\nEND:STANDARD\r\nBEGIN:DAYLIGHT\r\nDTSTART:16010101T020000\r\nTZOFFSETTO:-0400\r\nTZOFFSETFROM:-0500\r\nRRULE:FREQ=YEARLY;WKST=MO;INTERVAL=1;BYMONTH=3;BYDAY=2SU\r\nTZNAME:EDT\r\nEND:DAYLIGHT\r\nEND:VTIMEZONE\r\nBEGIN:VEVENT\r\nUID:77b6c34a-ec9c-4d34-8552-2896f3ab5996\r\nSUMMARY:Project Meeting\r\nCOMMENT:A single instance of a recurring meeting has been modified.\r\nLOCATION:\"Conference Room\" <conferenceroom@me\r\n .com>\r\nATTENDEE;CN=Me Too;ROLE=REQ-PARTICIPANT;PARTSTAT=ACCEPTED:mailto:m\r\n etoo@me.com\r\nATTENDEE;CN=Conference Room;CUTYPE=RESOURCE;ROLE=NON-PARTI\r\n CIPANT;PARTSTAT=ACCEPTED:mailto:conferenceroom@me.com\r\nORGANIZER;CN=Me Me:mailto:me@me.com\r\nDTSTART;TZID=\"America/New_York\":20190208T110000\r\nDTEND;TZID=\"America/New_York\":20190208T120000\r\nSTATUS:CANCELLED\r\nCLASS:PUBLIC\r\nX-MICROSOFT-CDO-INTENDEDSTATUS:BUSY\r\nTRANSP:OPAQUE\r\nRECURRENCE-ID;TZID=\"America/New_York\":20190208T110000\r\nLAST-MODIFIED:20190208T152136Z\r\nDTSTAMP:20190208T152136Z\r\nSEQUENCE:2\r\nDESCRIPTION:A single instance of the following meeting has been modified:\\n\r\n \\nSubject: Project Meeting \\nOrganizer: \"Me Me\" <me@me\r\n .com> \\n\\nLocation: \"Conference Room\" <confer\r\n enceroom@me.com> \\nResources: \"Conference Room\" <\r\n conferenceroom@me.com> (Conference Room) \\nT\r\n ime: Friday\\, February 8\\, 2019\\, 11:00:00 AM - 12:00:00 PM GMT -05:00 US/Ca\r\n nada Eastern\\n \\nInvitees: metoo@me.com ... \\n\\n\\n*~*~*~*~*~*~*~*\r\n ~*~*\\n\\nThe following meeting has been modified:\\n\\nSubject: Projec\r\n t Meeting \\nOrganizer: \"Me Me\" <me@me.com> \\n\\nLocation: \"IT - \r\n Earl's Court Conference Room\" <conferenceroom@me.com> \\nRe\r\n sources: \"Conference Room\" <conferenceroom@me\r\n me.com> (Conference Room) \\nTime: 11:00:00 AM - 12:00:0\r\n 0 PM GMT -05:00 US/Canada Eastern [MODIFIED]\\n Recurrence : Every Friday.   \r\n End by Jun 28\\, 2019.   Effective Oct 26\\, 2018\\n\\nInvitees: metoo@me\r\n .com ... \\n\\n\\n*~*~*~*~*~*~*~*~*~*\\n\\nCreating new series to fix confere\r\n nce room issue \\n\r\nX-ALT-DESC;FMTTYPE=text/html:<html><body id='htmlmode'><h3>A single instance\r\n  of the following meeting has been modified:</h3>\\n\\n<p>\\n<table border='0'\r\n >\\n<tr><th align=left>Subject:</th><td>Project Meeting </td></tr>\\n\r\n <tr><th align=left>Organizer:</th><td>\"Me Me\" &lt\\;me@me.com&gt\r\n \\; </td></tr>\\n</table>\\n<p>\\n<table border='0'>\\n<tr><th align=left>Locatio\r\n n:</th><td>\"Conference Room\" &lt\\;conferencer\r\n oom@me.com&gt\\; </td></tr>\\n<tr><th align=left>Resources:</th><td>\"IT -\r\n  Earl's Court Conference Room\" &lt\\;conferenceroom@me.com&\r\n gt\\; (Conference Room) </td></tr>\\n<tr><th align=left>Time\r\n :</th><td>Friday\\, February 8\\, 2019\\, 11:00:00 AM - 12:00:00 PM GMT -05:00 \r\n US/Canada Eastern\\n </td></tr></table>\\n<p>\\n<table border='0'>\\n<tr><th ali\r\n gn=left>Invitees:</th><td>metoo@me.com ... </td></tr>\\n</table>\\n\r\n <div>*~*~*~*~*~*~*~*~*~*</div><br><div style=\"font-family: tahoma\\,new york\\\r\n ,times\\,serif\\; font-size: 12pt\\; color: #000000\"><div style=\"font-family: t\r\n ahoma\\,new york\\,times\\,serif\\; font-size: 12pt\\; color: #000000\"><div>Creat\r\n ing new series to fix conference room issue</div></div></div></body></html>\r\nEND:VEVENT\r\nEND:VCALENDAR\r\n------=_Part_6960233_303396869.1549639296326--\r\n```\r\n\r\n**Environment:**\r\n - OS: Linux\r\n - Docker: no\r\n - mail-parser version 3.9.2\r\n\r\n**Additional context**\r\nAdd any other context about the problem here (e.g. stack traceback error).\r\n\r\n```Traceback (most recent call last):\r\n  File \"/usr/bin/mailparser\", line 9, in <module>\r\n    load_entry_point('mail-parser==3.9.2', 'console_scripts', 'mailparser')()\r\n  File \"/usr/lib/python3.4/site-packages/mail_parser-3.9.2-py3.4.egg/mailparser/__main__.py\", line 260, in main\r\n    write_attachments(parser.attachments, args.attachments_path)\r\n  File \"/usr/lib/python3.4/site-packages/mail_parser-3.9.2-py3.4.egg/mailparser/utils.py\", line 527, in write_attachments\r\n    filename=a[\"filename\"],\r\n  File \"/usr/lib/python3.4/site-packages/mail_parser-3.9.2-py3.4.egg/mailparser/utils.py\", line 552, in write_sample\r\n    f.write(payload.encode(\"utf-8\"))\r\nTypeError: must be str, not bytes\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/50", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/50/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/50/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/50", "id": 413516568, "node_id": "MDU6SXNzdWU0MTM1MTY1Njg=", "number": 50, "title": "ipaddress requirements in Python 3.3+", "user": {"login": "slavkoja", "id": 5506544, "node_id": "MDQ6VXNlcjU1MDY1NDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5506544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slavkoja", "html_url": "https://github.com/slavkoja", "followers_url": "https://api.github.com/users/slavkoja/followers", "following_url": "https://api.github.com/users/slavkoja/following{/other_user}", "gists_url": "https://api.github.com/users/slavkoja/gists{/gist_id}", "starred_url": "https://api.github.com/users/slavkoja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slavkoja/subscriptions", "organizations_url": "https://api.github.com/users/slavkoja/orgs", "repos_url": "https://api.github.com/users/slavkoja/repos", "events_url": "https://api.github.com/users/slavkoja/events{/privacy}", "received_events_url": "https://api.github.com/users/slavkoja/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-22T18:05:50Z", "updated_at": "2019-02-23T09:10:13Z", "closed_at": "2019-02-23T09:10:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am building own Debian's package, then mailparser is not installed via pip and i am using it with Python 3.7.\r\n\r\nIn the requirements.txt is a ipaddress module, which is part of Python3 standard lib from 3.3 version. I didn't inspect the source in depth, but it seems to work, when i use mailparser module from a script, but when i try to run it as command, it complains about missing distribution under python 3.7:\r\n```python\r\npkg_resources.DistributionNotFound: The 'ipaddress' distribution was not found and is required by the application\r\n```\r\nAs i can see in ipaddress package description, it is port of built-in module to older versions of Python without it, then it is (have to be) useless in Python 3.3+. Please, consider make this requirement conditional, depending on used Python version.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/49", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/49/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/49/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/49", "id": 405492854, "node_id": "MDU6SXNzdWU0MDU0OTI4NTQ=", "number": 49, "title": "KeyError: 'content-transfer-encoding'", "user": {"login": "Marenostrum81", "id": 4191154, "node_id": "MDQ6VXNlcjQxOTExNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4191154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Marenostrum81", "html_url": "https://github.com/Marenostrum81", "followers_url": "https://api.github.com/users/Marenostrum81/followers", "following_url": "https://api.github.com/users/Marenostrum81/following{/other_user}", "gists_url": "https://api.github.com/users/Marenostrum81/gists{/gist_id}", "starred_url": "https://api.github.com/users/Marenostrum81/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Marenostrum81/subscriptions", "organizations_url": "https://api.github.com/users/Marenostrum81/orgs", "repos_url": "https://api.github.com/users/Marenostrum81/repos", "events_url": "https://api.github.com/users/Marenostrum81/events{/privacy}", "received_events_url": "https://api.github.com/users/Marenostrum81/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-01-31T23:55:10Z", "updated_at": "2019-02-05T00:03:15Z", "closed_at": "2019-02-05T00:03:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have some issue with an email from Paypal, as it hasn't any _'content-transfer-encoding'_ in the header.\r\nDue to this I have an exception, originated by _replace_header function_ inside message.py\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `import mailparser`\r\n2. (stuff for connection and retrieve the last unread email)\r\n3. `mail = mailparser.parse_from_bytes(data[0][1])`\r\n\r\nThis is working good for the rest of the emails, but when I read the one who hasn't this header, then I have this exception:\r\n``` \r\nexception=KeyError('content-transfer-encoding',)>\r\nTraceback (most recent call last):\r\n  File \"C:/Users/BOHEM/imapbot/beta/imapbot.py\", line 47, in connectMail\r\n    body = await searchMail(imap4ssl)\r\n  File \"C:/Users/BOHEM/imapbot/beta/imapbot.py\", line 26, in searchMail\r\n    mail = mailparser.parse_from_bytes(data[0][1])\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mailparser\\mailparser.py\", line 115, in parse_from_bytes\r\n    return MailParser.from_bytes(bt)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mailparser\\mailparser.py\", line 238, in from_bytes\r\n    return cls(message)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mailparser\\mailparser.py\", line 135, in __init__\r\n    self.parse()\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\mailparser\\mailparser.py\", line 338, in parse\r\n    p_string = ported_string(p.as_string())[:100] + \"...\"\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\message.py\", line 158, in as_string\r\n    g.flatten(self, unixfrom=unixfrom)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\generator.py\", line 116, in flatten\r\n    self._write(msg)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\generator.py\", line 181, in _write\r\n    self._dispatch(msg)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\generator.py\", line 214, in _dispatch\r\n    meth(msg)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\generator.py\", line 272, in _handle_multipart\r\n    g.flatten(part, unixfrom=False, linesep=self._NL)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\generator.py\", line 116, in flatten\r\n    self._write(msg)\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\generator.py\", line 189, in _write\r\n    **msg.replace_header('content-transfer-encoding', munge_cte[0])**\r\n  File \"C:\\Users\\BOHEM\\AppData\\Local\\Programs\\Python\\Python36\\lib\\email\\message.py\", line 559, in replace_header\r\n    **raise KeyError(_name)\r\nKeyError: 'content-transfer-encoding'**\r\n```\r\n\r\n**Raw mail**\r\nThe raw mail to reproduce the behavior.\r\nedited: (https://gist.github.com/Marenostrum81/dae5ce430687060832a9aa4b47d4d328).\r\n\r\n\r\n**Environment:**\r\n - OS: [Windows]\r\n - Docker: [no]\r\n - mail-parser version [e.g. 3.8.1]\r\n\r\n**Additional context**\r\nFor testing purposes, I modified **replace_header** _function_ in message.py, from this:\r\n\r\n```\r\ndef replace_header(self, _name, _value):\r\n        _name = _name.lower()\r\n        for i, (k, v) in zip(range(len(self._headers)), self._headers):\r\n            if k.lower() == _name:\r\n                self._headers[i] = self.policy.header_store_parse(k, _value)\r\n                break\r\n        else:\r\n            raise KeyError(_name)\r\n```\r\nTo this:\r\n```\r\ndef replace_header(self, _name, _value):\r\n        _name = _name.lower()\r\n        for i, (k, v) in zip(range(len(self._headers)), self._headers):\r\n            if k.lower() == _name:\r\n                self._headers[i] = self.policy.header_store_parse(k, _value)\r\n                break\r\n        else:\r\n            pass\r\n```\r\n\r\nWith this modification, the mailparser was parsing good the email, being able to read data from header, like mail.subject, mail.from_, mail.body, etc.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/48", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/48/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/48/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/48", "id": 401123960, "node_id": "MDU6SXNzdWU0MDExMjM5NjA=", "number": 48, "title": "can't make the difference between --- mail_boundary --- from the library and those from the actual message", "user": {"login": "allan-simon", "id": 213167, "node_id": "MDQ6VXNlcjIxMzE2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/213167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allan-simon", "html_url": "https://github.com/allan-simon", "followers_url": "https://api.github.com/users/allan-simon/followers", "following_url": "https://api.github.com/users/allan-simon/following{/other_user}", "gists_url": "https://api.github.com/users/allan-simon/gists{/gist_id}", "starred_url": "https://api.github.com/users/allan-simon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allan-simon/subscriptions", "organizations_url": "https://api.github.com/users/allan-simon/orgs", "repos_url": "https://api.github.com/users/allan-simon/repos", "events_url": "https://api.github.com/users/allan-simon/events{/privacy}", "received_events_url": "https://api.github.com/users/allan-simon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-20T18:12:08Z", "updated_at": "2019-01-20T18:25:56Z", "closed_at": "2019-01-20T18:25:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIn the `mail.body` attributes, the library often includes `--- mail_boundary ---` in the string,  however if your email's body actually contains a `--- mail_boundary ---` written by the sender, you got no way to differentiate the one included by the lib from the one written by the actual use.  \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. write an email from your favorite mailer with the text \"hello  i've written myself --- mail_boundary --- what will happen blablabla\" \r\n2. parse that email\r\n3. print the email.body attributes\r\n=> you have no way to differentiate your `--- mail_boundary ---` from the one added by `mail-parser`\r\n\r\n**Expected behavior**\r\nI'm not an expert in email, so I'm wondering why the library makes it appears to the \"end user\" that they were some mail boundaries in it ? What is the use case for it ?\r\n\r\n**Raw mail**\r\nhttps://gist.github.com/allan-simon/55326f4b63f8d9d74d9b887f96753de6.\r\n\r\n**Environment:**\r\n - OS: Linux\r\n - Docker: no\r\n - mail-parser version 3.8.1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/47", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/47/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/47/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/47", "id": 399370587, "node_id": "MDU6SXNzdWUzOTkzNzA1ODc=", "number": 47, "title": "base64 decode error on new save-attachments code", "user": {"login": "PeterWagenaarNW", "id": 44571193, "node_id": "MDQ6VXNlcjQ0NTcxMTkz", "avatar_url": "https://avatars2.githubusercontent.com/u/44571193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PeterWagenaarNW", "html_url": "https://github.com/PeterWagenaarNW", "followers_url": "https://api.github.com/users/PeterWagenaarNW/followers", "following_url": "https://api.github.com/users/PeterWagenaarNW/following{/other_user}", "gists_url": "https://api.github.com/users/PeterWagenaarNW/gists{/gist_id}", "starred_url": "https://api.github.com/users/PeterWagenaarNW/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PeterWagenaarNW/subscriptions", "organizations_url": "https://api.github.com/users/PeterWagenaarNW/orgs", "repos_url": "https://api.github.com/users/PeterWagenaarNW/repos", "events_url": "https://api.github.com/users/PeterWagenaarNW/events{/privacy}", "received_events_url": "https://api.github.com/users/PeterWagenaarNW/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-01-15T14:30:46Z", "updated_at": "2019-05-27T21:45:03Z", "closed_at": "2019-05-27T21:45:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nIf I use the new \"save attachments\" functionality of the command-line tool, I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/mailparser\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.7/site-packages/mailparser/__main__.py\", line 260, in main\r\n    write_attachments(parser.attachments, args.attachments_path)\r\n  File \"/usr/local/lib/python3.7/site-packages/mailparser/utils.py\", line 518, in write_attachments\r\n    filename=a[\"filename\"],\r\n  File \"/usr/local/lib/python3.7/site-packages/mailparser/utils.py\", line 540, in write_sample\r\n    f.write(payload.decode(\"base64\"))\r\nAttributeError: 'str' object has no attribute 'decode'\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n$ mkdir test\r\n$ mailparser -sa -ap test -f test_email.MSG -o\r\n\r\n**Expected behavior**\r\nTool puts attachments into \"test\" directory\r\n\r\n**Raw mail**\r\nTest email that reproduces the bug can be found at https://github.com/mattgwwalker/msg-extractor/blob/master/example-msg-files/unicode.msg\r\n\r\n**Environment:**\r\n - OS: OSX\r\n - Docker: no\r\n - mail-parser version 3.8.0\r\n\r\n**Additional context**\r\nBecause it's new code I figured it's probably easier for you to make a quick fix than for me to go through the trouble of making a pull request.\r\n\r\nThe problem can be fixed by changing \r\nhttps://github.com/SpamScope/mail-parser/blob/develop/mailparser/utils.py#L540\r\n\r\ninto:\r\n\r\n```\r\n            f.write(base64.b64decode(payload))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/46", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/46/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/46/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/46", "id": 380731618, "node_id": "MDU6SXNzdWUzODA3MzE2MTg=", "number": 46, "title": "Error: remove_email_envelope() function", "user": {"login": "K0dical", "id": 45007672, "node_id": "MDQ6VXNlcjQ1MDA3Njcy", "avatar_url": "https://avatars2.githubusercontent.com/u/45007672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/K0dical", "html_url": "https://github.com/K0dical", "followers_url": "https://api.github.com/users/K0dical/followers", "following_url": "https://api.github.com/users/K0dical/following{/other_user}", "gists_url": "https://api.github.com/users/K0dical/gists{/gist_id}", "starred_url": "https://api.github.com/users/K0dical/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/K0dical/subscriptions", "organizations_url": "https://api.github.com/users/K0dical/orgs", "repos_url": "https://api.github.com/users/K0dical/repos", "events_url": "https://api.github.com/users/K0dical/events{/privacy}", "received_events_url": "https://api.github.com/users/K0dical/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2018-11-14T14:46:40Z", "updated_at": "2020-01-27T00:02:34Z", "closed_at": "2020-01-27T00:02:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe method `mailparser.parse_from_bytes(bt)` cannot create a Mailparser object, because the `remove_email_envelope(message)` function called inside fails. The function tries to use a string pattern on a bytes-like object.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `import mailparser`\r\n2. `mail_obj = open('TEST_Mail.eml', 'rb')`\r\n3. `test_mail = mail_obj.read()`\r\n4. `mail = mailparser.parse_from_bytes(test_mail)`\r\n5. See error\r\n\r\n**Expected behavior**\r\nGetting a Mailparser object.\r\n\r\n**Raw mail**\r\nDelivered-To: raasdnil@gmail.com\r\nReceived: by 10.140.178.13 with SMTP id a13cs354079rvf;\r\n        Fri, 21 Nov 2008 20:05:05 -0800 (PST)\r\nReceived: by 10.151.44.15 with SMTP id w15mr2254748ybj.98.1227326704711;\r\n        Fri, 21 Nov 2008 20:05:04 -0800 (PST)\r\nReturn-Path: test@lindsaar.net\r\nReceived: from mail11.tpgi.com.au (mail11.tpgi.com.au [203.12.160.161])\r\n        by mx.google.com with ESMTP id 10si5117885gxk.81.2008.11.21.20.05.03;\r\n        Fri, 21 Nov 2008 20:05:04 -0800 (PST)\r\nReceived-SPF: neutral (google.com: 203.12.160.161 is neither permitted nor denied by domain of test@lindsaar.net) client-ip=203.12.160.161;\r\nAuthentication-Results: mx.google.com; spf=neutral (google.com: 203.12.160.161 is neither permitted nor denied by domain of test@lindsaar.net) smtp.mail=test@lindsaar.net\r\nX-TPG-Junk-Status: Message not scanned\r\nX-TPG-Antivirus: Passed\r\nReceived: from [192.0.0.253] (60-241-138-146.static.tpgi.com.au [60.0.0.146])\r\n\tby mail11.tpgi.com.au (envelope-from test@lindsaar.net) (8.14.3/8.14.3) with ESMTP id mAM44xew022221\r\n\tfor <raasdnil@gmail.com>; Sat, 22 Nov 2008 15:05:01 +1100\r\nMessage-Id: <6B7EC235-5B17-4CA8-B2B8-39290DEB43A3@test.lindsaar.net>\r\nFrom: Mikel Lindsaar <test@lindsaar.net>\r\nTo: Mikel Lindsaar <raasdnil@gmail.com>\r\nContent-Type: text/plain; charset=US-ASCII; format=flowed\r\nContent-Transfer-Encoding: 7bit\r\nMime-Version: 1.0 (Apple Message framework v929.2)\r\nSubject: Testing 123\r\nDate: Sat, 22 Nov 2008 15:04:59 +1100\r\nX-Mailer: Apple Mail (2.929.2)\r\n\r\nPlain email.\r\n\r\nHope it works well!\r\n\r\nMikel\r\n\r\n**Environment:**\r\n - OS: Linux\r\n - Docker: yes\r\n - mail-parser version 3.7.0\r\n\r\n**Additional context**\r\n- Error:\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/mailparser/mailparser.py\", line 116, in parse_from_bytes\r\n    return MailParser.from_bytes(bt)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mailparser/mailparser.py\", line 243, in from_bytes\r\n    envelope_present, bt = remove_email_envelope(bt)\r\n  File \"/usr/local/lib/python3.6/dist-packages/mailparser/utils.py\", line 526, in remove_email_envelope\r\n    True if EMAIL_ENVELOPE_PATTERN.search(message) else False\r\nTypeError: cannot use a string pattern on a bytes-like object\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/45", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/45/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/45/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/45", "id": 377125406, "node_id": "MDU6SXNzdWUzNzcxMjU0MDY=", "number": 45, "title": "Read the charset of the attachment if given in the raw MIME", "user": {"login": "haggag", "id": 114218, "node_id": "MDQ6VXNlcjExNDIxOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/114218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haggag", "html_url": "https://github.com/haggag", "followers_url": "https://api.github.com/users/haggag/followers", "following_url": "https://api.github.com/users/haggag/following{/other_user}", "gists_url": "https://api.github.com/users/haggag/gists{/gist_id}", "starred_url": "https://api.github.com/users/haggag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haggag/subscriptions", "organizations_url": "https://api.github.com/users/haggag/orgs", "repos_url": "https://api.github.com/users/haggag/repos", "events_url": "https://api.github.com/users/haggag/events{/privacy}", "received_events_url": "https://api.github.com/users/haggag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-11-04T06:20:27Z", "updated_at": "2018-11-07T00:13:59Z", "closed_at": "2018-11-07T00:13:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**The problem**\r\nThe charset property isn't read upon parsing MIME like the following snippet:\r\n```\r\nContent-Type: text/plain; charset=\"US-ASCII\"; name=\"attachment1.txt\"\r\nContent-Disposition: attachment; filename=\"attachment1.txt\"\r\nContent-Transfer-Encoding: base64\r\nContent-ID: <f_jnt7un642>\r\nX-Attachment-Id: f_jnt7un642\r\n\r\nMQ==\r\n--000000000000d551e4057998ef2b\r\nContent-Type: text/plain; charset=\"US-ASCII\"; name=\"attachement2.txt\"\r\nContent-Disposition: attachment; filename=\"attachement2.txt\"\r\nContent-Transfer-Encoding: base64\r\nContent-ID: <f_jnt7un5p1>\r\nX-Attachment-Id: f_jnt7un5p1\r\n\r\nMg==\r\n```\r\nNote that the charset=\"US-ASCII\" is set for both attachments above!\r\n\r\nbut mail-parser doesn't parse charset. For example the following is the output of parsing the above attachments without charset:\r\n\r\n```json\r\n[\r\n    {\r\n        \"filename\": \"attachment1.txt\",\r\n        \"payload\": \"MQ==\",\r\n        \"binary\": true,\r\n        \"mail_content_type\": \"text/plain\",\r\n        \"content-id\": \"<f_jnt7un642>\",\r\n        \"content_transfer_encoding\": \"base64\"\r\n    },\r\n    {\r\n        \"filename\": \"attachement2.txt\",\r\n        \"payload\": \"Mg==\",\r\n        \"binary\": true,\r\n        \"mail_content_type\": \"text/plain\",\r\n        \"content-id\": \"<f_jnt7un5p1>\",\r\n        \"content_transfer_encoding\": \"base64\"\r\n    }\r\n]\r\n```\r\n\r\n**The proposed solution**\r\nThe parsed attachments objects should contain the 'charset' field if given in the MIME data.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/44", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/44/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/44/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/44", "id": 375930970, "node_id": "MDU6SXNzdWUzNzU5MzA5NzA=", "number": 44, "title": "Attactment is truncated!", "user": {"login": "davidhscope", "id": 42427245, "node_id": "MDQ6VXNlcjQyNDI3MjQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/42427245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidhscope", "html_url": "https://github.com/davidhscope", "followers_url": "https://api.github.com/users/davidhscope/followers", "following_url": "https://api.github.com/users/davidhscope/following{/other_user}", "gists_url": "https://api.github.com/users/davidhscope/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidhscope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidhscope/subscriptions", "organizations_url": "https://api.github.com/users/davidhscope/orgs", "repos_url": "https://api.github.com/users/davidhscope/repos", "events_url": "https://api.github.com/users/davidhscope/events{/privacy}", "received_events_url": "https://api.github.com/users/davidhscope/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-31T12:07:24Z", "updated_at": "2018-11-01T13:08:20Z", "closed_at": "2018-11-01T13:08:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a problem with big attachment and the truncate email using", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/42", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/42/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/42/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/42", "id": 373191819, "node_id": "MDU6SXNzdWUzNzMxOTE4MTk=", "number": 42, "title": "Parsing of receiveds doesn't support via or id", "user": {"login": "dfeinzeig", "id": 1474946, "node_id": "MDQ6VXNlcjE0NzQ5NDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1474946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfeinzeig", "html_url": "https://github.com/dfeinzeig", "followers_url": "https://api.github.com/users/dfeinzeig/followers", "following_url": "https://api.github.com/users/dfeinzeig/following{/other_user}", "gists_url": "https://api.github.com/users/dfeinzeig/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfeinzeig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfeinzeig/subscriptions", "organizations_url": "https://api.github.com/users/dfeinzeig/orgs", "repos_url": "https://api.github.com/users/dfeinzeig/repos", "events_url": "https://api.github.com/users/dfeinzeig/events{/privacy}", "received_events_url": "https://api.github.com/users/dfeinzeig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2018-10-23T20:40:48Z", "updated_at": "2020-08-09T16:46:57Z", "closed_at": "2018-10-26T21:29:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "for example:\r\n\r\n```\r\nReceived: from XXX.namprd06.prod.outlook.com (2603:10b6:207:3d::31) by XXX.namprd06.prod.outlook.com with HTTPS id 12345 via XXX.NAMPRD02.PROD.OUTLOOK.COM; Mon, 1 Oct 2018 09:49:22 +0000\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/41", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/41/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/41/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/41", "id": 369522414, "node_id": "MDU6SXNzdWUzNjk1MjI0MTQ=", "number": 41, "title": "Too many files open error", "user": {"login": "AndreasHolm", "id": 16119756, "node_id": "MDQ6VXNlcjE2MTE5NzU2", "avatar_url": "https://avatars3.githubusercontent.com/u/16119756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreasHolm", "html_url": "https://github.com/AndreasHolm", "followers_url": "https://api.github.com/users/AndreasHolm/followers", "following_url": "https://api.github.com/users/AndreasHolm/following{/other_user}", "gists_url": "https://api.github.com/users/AndreasHolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreasHolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreasHolm/subscriptions", "organizations_url": "https://api.github.com/users/AndreasHolm/orgs", "repos_url": "https://api.github.com/users/AndreasHolm/repos", "events_url": "https://api.github.com/users/AndreasHolm/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreasHolm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2018-10-12T12:03:47Z", "updated_at": "2018-10-19T08:22:07Z", "closed_at": "2018-10-19T08:22:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have encountered the error \"Too many files open\", when working on datasets greater than 1000. I believe the error occur in the [following line](https://github.com/SpamScope/mail-parser/blob/develop/mailparser/utils.py#L216)\r\n\r\nI cannot see the needs for creating multiple different files, why not instead create a single file, which you can keep reading/writing (and afterwards delete it).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/40", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/40/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/40/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/40", "id": 358011431, "node_id": "MDU6SXNzdWUzNTgwMTE0MzE=", "number": 40, "title": "PST files", "user": {"login": "naarkhoo", "id": 224059, "node_id": "MDQ6VXNlcjIyNDA1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/224059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naarkhoo", "html_url": "https://github.com/naarkhoo", "followers_url": "https://api.github.com/users/naarkhoo/followers", "following_url": "https://api.github.com/users/naarkhoo/following{/other_user}", "gists_url": "https://api.github.com/users/naarkhoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/naarkhoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naarkhoo/subscriptions", "organizations_url": "https://api.github.com/users/naarkhoo/orgs", "repos_url": "https://api.github.com/users/naarkhoo/repos", "events_url": "https://api.github.com/users/naarkhoo/events{/privacy}", "received_events_url": "https://api.github.com/users/naarkhoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729243, "node_id": "MDU6TGFiZWw0MzM3MjkyNDM=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-09-07T10:28:04Z", "updated_at": "2018-09-10T12:06:47Z", "closed_at": "2018-09-10T12:06:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wonder if there is a possibility to add functionalities to read PST (outlook) format ? Probably this could be relevant https://github.com/libyal/libpff", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/39", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/39/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/39/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/39", "id": 356230401, "node_id": "MDU6SXNzdWUzNTYyMzA0MDE=", "number": 39, "title": "should self.mail be self._mail at line 279", "user": {"login": "kenvenner", "id": 40737866, "node_id": "MDQ6VXNlcjQwNzM3ODY2", "avatar_url": "https://avatars0.githubusercontent.com/u/40737866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kenvenner", "html_url": "https://github.com/kenvenner", "followers_url": "https://api.github.com/users/kenvenner/followers", "following_url": "https://api.github.com/users/kenvenner/following{/other_user}", "gists_url": "https://api.github.com/users/kenvenner/gists{/gist_id}", "starred_url": "https://api.github.com/users/kenvenner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kenvenner/subscriptions", "organizations_url": "https://api.github.com/users/kenvenner/orgs", "repos_url": "https://api.github.com/users/kenvenner/repos", "events_url": "https://api.github.com/users/kenvenner/events{/privacy}", "received_events_url": "https://api.github.com/users/kenvenner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-01T20:26:34Z", "updated_at": "2018-09-01T23:40:06Z", "closed_at": "2018-09-01T23:40:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reviewing the code I was wondering if i stumbled on a typo in the code in the dev branch\r\n\r\nself.mail[\"has_defects\"] = self.has_defects\r\n\r\nshould it be?\r\n\r\nself._mail[\"has_defects\"] = self.has_defects", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/35", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/35/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/35/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/35", "id": 347665056, "node_id": "MDU6SXNzdWUzNDc2NjUwNTY=", "number": 35, "title": "mail.date does not return timezone information", "user": {"login": "Sunny-Engineer", "id": 36799802, "node_id": "MDQ6VXNlcjM2Nzk5ODAy", "avatar_url": "https://avatars1.githubusercontent.com/u/36799802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sunny-Engineer", "html_url": "https://github.com/Sunny-Engineer", "followers_url": "https://api.github.com/users/Sunny-Engineer/followers", "following_url": "https://api.github.com/users/Sunny-Engineer/following{/other_user}", "gists_url": "https://api.github.com/users/Sunny-Engineer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sunny-Engineer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sunny-Engineer/subscriptions", "organizations_url": "https://api.github.com/users/Sunny-Engineer/orgs", "repos_url": "https://api.github.com/users/Sunny-Engineer/repos", "events_url": "https://api.github.com/users/Sunny-Engineer/events{/privacy}", "received_events_url": "https://api.github.com/users/Sunny-Engineer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729244, "node_id": "MDU6TGFiZWw0MzM3MjkyNDQ=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-08-05T03:14:16Z", "updated_at": "2018-10-06T02:44:53Z", "closed_at": "2018-10-03T21:41:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "The routine should return the dates with timezone offset information.  Prefered would be iso 8601 ex: 2013-10-29T09:38:41.341Z", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/34", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/34/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/34/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/34", "id": 338097496, "node_id": "MDU6SXNzdWUzMzgwOTc0OTY=", "number": 34, "title": "to_json returns []", "user": {"login": "ryanharnwell", "id": 84367, "node_id": "MDQ6VXNlcjg0MzY3", "avatar_url": "https://avatars0.githubusercontent.com/u/84367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanharnwell", "html_url": "https://github.com/ryanharnwell", "followers_url": "https://api.github.com/users/ryanharnwell/followers", "following_url": "https://api.github.com/users/ryanharnwell/following{/other_user}", "gists_url": "https://api.github.com/users/ryanharnwell/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanharnwell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanharnwell/subscriptions", "organizations_url": "https://api.github.com/users/ryanharnwell/orgs", "repos_url": "https://api.github.com/users/ryanharnwell/repos", "events_url": "https://api.github.com/users/ryanharnwell/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanharnwell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729243, "node_id": "MDU6TGFiZWw0MzM3MjkyNDM=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-07-04T00:57:53Z", "updated_at": "2018-07-04T20:21:19Z", "closed_at": "2018-07-04T20:21:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "`import mailparser`\r\n`mail = mailparser.parse_from_file('samples/eml_file')`\r\n`print(mail.to_json)`\r\n\r\nreturns []\r\n\r\n(other functions like mail.body work as expected)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/33", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/33/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/33/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/33", "id": 336445248, "node_id": "MDU6SXNzdWUzMzY0NDUyNDg=", "number": 33, "title": "Missing Content-ID in msg.attachments", "user": {"login": "phith0n", "id": 5711185, "node_id": "MDQ6VXNlcjU3MTExODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5711185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phith0n", "html_url": "https://github.com/phith0n", "followers_url": "https://api.github.com/users/phith0n/followers", "following_url": "https://api.github.com/users/phith0n/following{/other_user}", "gists_url": "https://api.github.com/users/phith0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/phith0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phith0n/subscriptions", "organizations_url": "https://api.github.com/users/phith0n/orgs", "repos_url": "https://api.github.com/users/phith0n/repos", "events_url": "https://api.github.com/users/phith0n/events{/privacy}", "received_events_url": "https://api.github.com/users/phith0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-06-28T01:54:17Z", "updated_at": "2018-07-06T03:09:58Z", "closed_at": "2018-07-06T03:09:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Missing Content-ID in msg.attachments, so contents and attachments cannot be connected.\r\n\r\nhttps://tools.ietf.org/html/rfc2392", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/30", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/30/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/30/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/30", "id": 333017287, "node_id": "MDU6SXNzdWUzMzMwMTcyODc=", "number": 30, "title": "mail-parser fails to install depending on locale", "user": {"login": "rudymatela", "id": 3999598, "node_id": "MDQ6VXNlcjM5OTk1OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3999598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rudymatela", "html_url": "https://github.com/rudymatela", "followers_url": "https://api.github.com/users/rudymatela/followers", "following_url": "https://api.github.com/users/rudymatela/following{/other_user}", "gists_url": "https://api.github.com/users/rudymatela/gists{/gist_id}", "starred_url": "https://api.github.com/users/rudymatela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rudymatela/subscriptions", "organizations_url": "https://api.github.com/users/rudymatela/orgs", "repos_url": "https://api.github.com/users/rudymatela/repos", "events_url": "https://api.github.com/users/rudymatela/events{/privacy}", "received_events_url": "https://api.github.com/users/rudymatela/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-16T21:46:17Z", "updated_at": "2018-06-17T18:21:57Z", "closed_at": "2018-06-17T18:21:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "mail-parser currently fails to install depending on system locale (`LC_CTYPE`), like so:\r\n\r\n```\r\n$ LC_CTYPE=C pip install mail-parser --user\r\nCollecting mail-parser\r\n  Using cached https://files.pythonhosted.org/packages/10/fa/988a3fe204d7cca689d75e623adf45a2f57c43e55603b73b7ffaf092a7e0/mail-parser-3.3.2.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-k3_u6ooo/mail-parser/setup.py\", line 28, in <module>\r\n        long_description = f.read()\r\n      File \"/usr/lib/python3.6/encodings/ascii.py\", line 26, in decode\r\n        return codecs.ascii_decode(input, self.errors)[0]\r\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 6050: ordinal not in range(128)\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-k3_u6ooo/mail-parser/\r\n```\r\n\r\nIf an UTF-8 locale is provided, it installs ok:\r\n\r\n```\r\n$ LC_CTYPE=en_US.utf8 pip install mail-parser --user\r\nCollecting mail-parser\r\n  Using cached https://files.pythonhosted.org/packages/10/fa/988a3fe204d7cca689d75e623adf45a2f57c43e55603b73b7ffaf092a7e0/mail-parser-3.3.2.tar.gz\r\nRequirement already satisfied: ipaddress in ./.local/lib/python3.6/site-packages (from mail-parser) (1.0.22)\r\nRequirement already satisfied: simplejson in ./.local/lib/python3.6/site-packages (from mail-parser) (3.15.0)\r\nRequirement already satisfied: six in /usr/lib/python3.6/site-packages (from mail-parser) (1.11.0)\r\nInstalling collected packages: mail-parser\r\n  Running setup.py install for mail-parser ... done\r\nSuccessfully installed mail-parser-3.3.2\r\n```\r\n\r\nThis means that mail-parser will fail to install on a fresh [docker ubuntu 18.04 image](https://hub.docker.com/r/_/ubuntu) as no locale is set by default.  (This was how I discovered this bug.)\r\n\r\n```\r\n$ docker run --rm -ti ubuntu\r\n...\r\n$ apt-get update\r\n$ apt-get install -y python3 python3-pip\r\n$ pip3 install mail-parser --user\r\nCollecting mail-parser\r\n  Downloading https://files.pythonhosted.org/packages/10/fa/988a3fe204d7cca689d75e623adf45a2f57c43e55603b73b7ffaf092a7e0/mail-parser-3.3.2.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-o3petv5z/mail-parser/setup.py\", line 28, in <module>\r\n        long_description = f.read()\r\n      File \"/usr/lib/python3.6/encodings/ascii.py\", line 26, in decode\r\n        return codecs.ascii_decode(input, self.errors)[0]\r\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 6050: ordinal not in range(128)\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-o3petv5z/mail-parser/\r\n```\r\n\r\nAgain, setting a locale (e.g.: C.UTF-8) will fix the issue:\r\n\r\n```\r\n$ LC_CTYPE=C.UTF-8 pip3 install mail-parser --user\r\nCollecting mail-parser\r\n  Using cached https://files.pythonhosted.org/packages/10/fa/988a3fe204d7cca689d75e623adf45a2f57c43e55603b73b7ffaf092a7e0/mail-parser-3.3.2.tar.gz\r\nCollecting ipaddress (from mail-parser)\r\n  Downloading https://files.pythonhosted.org/packages/fc/d0/7fc3a811e011d4b388be48a0e381db8d990042df54aa4ef4599a31d39853/ipaddress-1.0.22-py2.py3-none-any.whl\r\nCollecting simplejson (from mail-parser)\r\n  Downloading https://files.pythonhosted.org/packages/8b/6c/c512c32124d1d2d67a32ff867bb3cdd5bfa6432660975f7ee753ed7ad886/simplejson-3.15.0.tar.gz (80kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 81kB 1.1MB/s \r\nRequirement already satisfied: six in /usr/lib/python3/dist-packages (from mail-parser)\r\nBuilding wheels for collected packages: mail-parser, simplejson\r\n  Running setup.py bdist_wheel for mail-parser ... done\r\n  Stored in directory: /root/.cache/pip/wheels/b2/bf/36/983bad64964927fa0377c2a0d2b8265bb8e38514c49b025dbb\r\n  Running setup.py bdist_wheel for simplejson ... done\r\n  Stored in directory: /root/.cache/pip/wheels/2c/96/fb/b63af7400da79753dcd2a3f9bf5e7a3010e8d0233844445c2c\r\nSuccessfully built mail-parser simplejson\r\nInstalling collected packages: ipaddress, simplejson, mail-parser\r\nSuccessfully installed ipaddress-1.0.22 mail-parser-3.3.2 simplejson-3.15.0\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/28", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/28/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/28/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/28", "id": 307013486, "node_id": "MDU6SXNzdWUzMDcwMTM0ODY=", "number": 28, "title": "Issue parsing MSG file", "user": {"login": "luskbo", "id": 3824412, "node_id": "MDQ6VXNlcjM4MjQ0MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3824412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luskbo", "html_url": "https://github.com/luskbo", "followers_url": "https://api.github.com/users/luskbo/followers", "following_url": "https://api.github.com/users/luskbo/following{/other_user}", "gists_url": "https://api.github.com/users/luskbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/luskbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luskbo/subscriptions", "organizations_url": "https://api.github.com/users/luskbo/orgs", "repos_url": "https://api.github.com/users/luskbo/repos", "events_url": "https://api.github.com/users/luskbo/events{/privacy}", "received_events_url": "https://api.github.com/users/luskbo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-20T19:49:13Z", "updated_at": "2018-03-20T21:20:39Z", "closed_at": "2018-03-20T21:20:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Having issues parsing a .msg files. \r\nDid install the dependencies, and using python3.5\r\n\r\nRan simple test:\r\n```\r\nimport mailparser\r\nimport json\r\n\r\nfp = open(\"messagefile.msg\", \"r\")\r\n\r\n# tried to read in file directly with file in same directory. \r\n#mail = mailparser.parse_from_file('messagefile.msg')\r\n\r\n# tried to read in file as a file object\r\nmail = mailparser.parse_from_file_obj(fp)\r\n\r\nprint(mail.body)\r\n\r\n```\r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"mail.py\", line 12, in <module>\r\n    print(mail.body)\r\n  File \"/opt/testenv/lib/python3.5/site-packages/mail_parser-3.3.1-py3.5.egg/mailparser/mailparser.py\", line 491, in body\r\n    return \"\\n--- mail_boundary ---\\n\".join(self.text_plain)\r\nTypeError: can only join an iterable\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/27", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/27/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/27/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/27", "id": 302495560, "node_id": "MDU6SXNzdWUzMDI0OTU1NjA=", "number": 27, "title": "Decoding of payload of attachment", "user": {"login": "ad-m", "id": 3618479, "node_id": "MDQ6VXNlcjM2MTg0Nzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3618479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ad-m", "html_url": "https://github.com/ad-m", "followers_url": "https://api.github.com/users/ad-m/followers", "following_url": "https://api.github.com/users/ad-m/following{/other_user}", "gists_url": "https://api.github.com/users/ad-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/ad-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ad-m/subscriptions", "organizations_url": "https://api.github.com/users/ad-m/orgs", "repos_url": "https://api.github.com/users/ad-m/repos", "events_url": "https://api.github.com/users/ad-m/events{/privacy}", "received_events_url": "https://api.github.com/users/ad-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 433729244, "node_id": "MDU6TGFiZWw0MzM3MjkyNDQ=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-03-05T22:49:42Z", "updated_at": "2019-01-13T14:33:35Z", "closed_at": "2019-01-13T14:33:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am have following code in my project:\r\n\r\n```python\r\n\r\ndecoder_map = {'base64': lambda payload: base64.b64decode(payload),\r\n               '': lambda payload: payload.encode('utf-8'),\r\n               '7bit': lambda payload: payload.encode('utf-8'),\r\n               'quoted-printable': lambda payload: quopri.decodestring(payload)}\r\nfor msg_id in data[0].decode('utf-8').split():\r\n    result_fetch, data = client.fetch(msg_id, \"(RFC822)\")\r\n\r\n    if result_fetch != 'OK':\r\n        raise Exception(\"Fetch failed!\")\r\n\r\n    raw_mail = data[0][1]\r\n    mail = mailparser.parse_from_bytes(raw_mail)\r\n    for attachment in mail.attachments:\r\n        if attachment['content_transfer_encoding'] not in decoder_map:\r\n            msg = \"Unsupported Content-Transfer Encoding ({}) in msg {}.\".format(attachment['content_transfer_encoding'], msg_id)\r\n            raise RuntimeError(msg)\r\n\r\n        decoder = decoder_map[attachment['content_transfer_encoding']]\r\n        try:\r\n            fp, fname = find_filename(attachment['filename'], args.attachment_dir)\r\n            fp.write(decoder(attachment['payload']))\r\n        except binascii.Error as e:\r\n            print(\"Unable to parse attachment '{}'\".format(attachment['filename']))\r\n        finally:\r\n            fp.close()\r\n```\r\n\r\nI think that this is not a fully-handled case of use. I had to introduce quite a lot of logic to save attachments that can be coded in a variety of ways.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/26", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/26/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/26/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/26", "id": 302117462, "node_id": "MDU6SXNzdWUzMDIxMTc0NjI=", "number": 26, "title": "Filename of attachments are not decoded", "user": {"login": "ad-m", "id": 3618479, "node_id": "MDQ6VXNlcjM2MTg0Nzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3618479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ad-m", "html_url": "https://github.com/ad-m", "followers_url": "https://api.github.com/users/ad-m/followers", "following_url": "https://api.github.com/users/ad-m/following{/other_user}", "gists_url": "https://api.github.com/users/ad-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/ad-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ad-m/subscriptions", "organizations_url": "https://api.github.com/users/ad-m/orgs", "repos_url": "https://api.github.com/users/ad-m/repos", "events_url": "https://api.github.com/users/ad-m/events{/privacy}", "received_events_url": "https://api.github.com/users/ad-m/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729239, "node_id": "MDU6TGFiZWw0MzM3MjkyMzk=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-03-04T20:13:55Z", "updated_at": "2018-03-05T22:51:07Z", "closed_at": "2018-03-05T22:43:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nHello,\r\n\r\nI am have following e-mail with following content:\r\n```\r\n...\r\n/span></a></span></p></div></div></div></div></div></div></div></div></div>\r\n</div></div>\r\n</div><br></div>\r\n\r\n--f4030435bb14695e4d05669b618a--\r\n--f4030435bb14695e5105669b618c\r\nContent-Type: application/pdf; \r\n        name=\"=?UTF-8?Q?Prokuratura_Rejonowa_Warszawa=2D=C5=9Ar=C3=B3dmie=C5=9Bcie_p=C3=B3=C5=82noc_sygn?=\r\n        =?UTF-8?Q?=2E_2Ds=2E_137414_=2D_RSK_pracownik=C3=B3w_Skarbowych_NSZZ_Solidarno=C5=9B?=\r\n        =?UTF-8?Q?=C4=87_=2D_Zarz=C4=85dzenie_o_odmowie_dopuszczenia_SOWP_do_udzia=C5=82u_w_?=\r\n        =?UTF-8?Q?postepowaniu=2Epdf?=\"\r\nContent-Disposition: attachment; \r\n        filename=\"=?UTF-8?Q?Prokuratura_Rejonowa_Warszawa=2D=C5=9Ar=C3=B3dmie=C5=9Bcie_p=C3=B3=C5=82noc_sygn?=\r\n        =?UTF-8?Q?=2E_2Ds=2E_137414_=2D_RSK_pracownik=C3=B3w_Skarbowych_NSZZ_Solidarno=C5=9B?=\r\n        =?UTF-8?Q?=C4=87_=2D_Zarz=C4=85dzenie_o_odmowie_dopuszczenia_SOWP_do_udzia=C5=82u_w_?=\r\n        =?UTF-8?Q?postepowaniu=2Epdf?=\"\r\nContent-Transfer-Encoding: base64\r\nX-Attachment-Id: f_i53uo58b0\r\n\r\nJVBERi0xLjIKJcjH0MRGCjQgMCBvYmoKPDwKL1R5cGUgL091dGxpbmVzCi9Db3VudCAwCj4+CmVu\r\nZG9iago1IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9TdWJ0eXBlIC9UeXBlMQovTmFtZSAvRjAKL0Jh\r\nc2VGb250IC9IZWx2ZXRpY2EKL0VuY29kaW5nIC9NYWNSb21hbkVuY29kaW5nCj4+CmVuZG9iago2\r\nIDAgb2JqCjw8Ci9UeXBlIC9QYWdlCi9QYXJlbnQgMyAwIFIKL1Jlc291cmNlcyA4IDAgUgovTWVk\r\naWFCb3ggWyAwIDAgNTc2IDgyOS40NCBdCi9Db250ZW50cyA3IDAgUgo+PgplbmRvYmoKOSAwIG9i\r\nago8PAovVHlwZSAvWE9iamVjdAovU3VidHlwZSAvSW1hZ2UKL05hbWUgL0ltMAovV2lkdGggMTYw\r\nMAovSGVpZ2h0IDIzMDQKL0JpdHNQZXJDb21wb25lbnQgMQovQ29sb3JTcGFjZSAvRGV2aWNlR3Jh\r\neQovRmlsdGVyIC9DQ0lUVEZheERlY29kZQovRGVjb2RlUGFybXMgPDwgL0sgLTEgL0NvbHVtbnMg\r\n...\r\n```\r\n\r\nThe decoded filename are useless:\r\n\r\n```\r\n=?UTF-8?Q?Prokuratura_Rejonowa_Warszawa=2D=C5=9Ar=C3=B3dmie=C5=9Bcie_p=C3=B3=C5=82noc_sygn?=\\n\\t=?UTF-8?Q?=2E_2Ds=2E_137414_=2D_RSK_pracownik=C3=B3w_Skarbowych_NSZZ_Solidarno=C5=9B?=\\n\\t=?UTF-8?Q?=C4=87_=2D_Zarz=C4=85dzenie_o_odmowie_dopuszczenia_SOWP_do_udzia=C5=82u_w_?=\\n\\t=?UTF-8?Q?postepowaniu=2Epdf?=\r\n```\r\n\r\nI suggest add something like:\r\n```python\r\nimport email\r\n\r\nfrom mailparser import mailparser\r\nimport sys\r\n\r\nfilename = sys.argv[1]\r\n\r\nmail = mailparser.parse_from_file_obj(open(filename, 'r'))\r\n\r\nfor attachment in mail.attachments:\r\n    bin_text, encoding = email.header.decode_header(attachment['filename'])[0]\r\n    print(bin_text.decode(encoding))\r\n```\r\n\r\nI think that the text of the file name should be returned, not the text of the raw header containing the file name.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/25", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/25/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/25/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/25", "id": 295854727, "node_id": "MDU6SXNzdWUyOTU4NTQ3Mjc=", "number": 25, "title": "Question: Can mail-parser recover nested messages?", "user": {"login": "silentsnooc", "id": 1429426, "node_id": "MDQ6VXNlcjE0Mjk0MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1429426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silentsnooc", "html_url": "https://github.com/silentsnooc", "followers_url": "https://api.github.com/users/silentsnooc/followers", "following_url": "https://api.github.com/users/silentsnooc/following{/other_user}", "gists_url": "https://api.github.com/users/silentsnooc/gists{/gist_id}", "starred_url": "https://api.github.com/users/silentsnooc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silentsnooc/subscriptions", "organizations_url": "https://api.github.com/users/silentsnooc/orgs", "repos_url": "https://api.github.com/users/silentsnooc/repos", "events_url": "https://api.github.com/users/silentsnooc/events{/privacy}", "received_events_url": "https://api.github.com/users/silentsnooc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729244, "node_id": "MDU6TGFiZWw0MzM3MjkyNDQ=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-09T12:27:13Z", "updated_at": "2018-03-11T13:34:10Z", "closed_at": "2018-03-11T13:34:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I hope it's okay if I'm asking this here.\r\n\r\nA lot of data sets (e.g. Enron) contain only plain text messages or no explicit information whether an email has been forwarded or replied. \r\n\r\nIn order to reconstruct this information I was thinking about trying to recover nested messages e.g. (just an example)\r\n\r\n```\r\nMessage-ID: <10792109.1075856435465.JavaMail.evans@thyme>\r\nDate: Fri, 4 May 2001 10:39:00 -0700 (PDT)\r\nFrom: vince.kaminski@enron.com\r\nTo: loleary@riskwaters.com\r\nSubject: Lunch\r\n\r\nHey, when do you want to have lunch today?\r\n```\r\n\r\nand \r\n\r\n```\r\nMessage-ID: <12168444.1075856436014.JavaMail.evans@thyme>\r\nFrom: loleary@riskwaters.com\r\nTo: vince.kaminski@enron.com\r\nSubject: Re: Lunch\r\n\r\nHow about 12:30 pm ?\r\n\r\n -----Original Message-----\r\nvince.kaminski@enron.com\r\n05/04/2001 10:39 PM\r\nTo: loleary@riskwaters.com\r\nSubject: Lunch\r\n\r\nHey, when do you want to have lunch today?\r\n```\r\n\r\nWhere the first message \"*Hey, when do you..*\" would be labelled for example as `HAS_ANSWERED`.\r\n\r\nCan this be done with `mail-parser` or are there any libraries which could do something like that?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/23", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/23/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/23/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/23", "id": 288124470, "node_id": "MDU6SXNzdWUyODgxMjQ0NzA=", "number": 23, "title": "mail.attachment", "user": {"login": "vmalguy", "id": 10976404, "node_id": "MDQ6VXNlcjEwOTc2NDA0", "avatar_url": "https://avatars0.githubusercontent.com/u/10976404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmalguy", "html_url": "https://github.com/vmalguy", "followers_url": "https://api.github.com/users/vmalguy/followers", "following_url": "https://api.github.com/users/vmalguy/following{/other_user}", "gists_url": "https://api.github.com/users/vmalguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmalguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmalguy/subscriptions", "organizations_url": "https://api.github.com/users/vmalguy/orgs", "repos_url": "https://api.github.com/users/vmalguy/repos", "events_url": "https://api.github.com/users/vmalguy/events{/privacy}", "received_events_url": "https://api.github.com/users/vmalguy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729244, "node_id": "MDU6TGFiZWw0MzM3MjkyNDQ=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-12T13:48:58Z", "updated_at": "2020-06-30T08:41:19Z", "closed_at": "2018-01-12T16:48:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I thing their is an issue with mail.attachments.\r\nIt dont return any attachement.\r\n\r\nThis is my test case in ipython3\r\n\r\n```\r\nimport mailparser\r\n\r\na=\"\"\"Received: from EX3.local (172.16.2.3) by EX3.local (172.16.2.3) with\r\n Microsoft SMTP Server (version=TLS1_2,\r\n cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1415.2 via Mailbox\r\n Transport; Fri, 12 Jan 2018 12:48:13 +0100\r\nReceived: from [10.42.106.119] (10.10.254.33) by EX3.local (172.16.2.3)\r\n with Microsoft SMTP Server (version=TLS1_2,\r\n cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1415.2; Fri, 12\r\n Jan 2018 12:48:13 +0100\r\nTo: Vincent  <vincent@corp.com>\r\nFrom: Simon  <simon@corp.com>\r\nSubject: test eml attachment\r\nMessage-ID: <59d7aec3-408a-9a14-8bfe-187c9525dbb3@corp.com>\r\nDate: Fri, 12 Jan 2018 12:46:42 +0100\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101\r\n Thunderbird/52.4.0\r\nContent-Type: multipart/mixed;\r\n    boundary=\"------------55D5C868D71CE57DC948563F\"\r\nContent-Language: en-US\r\nReturn-Path: simon@corp.com\r\nX-MS-Exchange-Organization-Network-Message-Id: 6a810f66-4b65-4a5f-da82-08d559b25c95\r\nX-MS-Exchange-Organization-AuthSource: EX3.local\r\nX-MS-Exchange-Organization-AuthAs: Internal\r\nX-MS-Exchange-Organization-AuthMechanism: 07\r\nX-Originating-IP: [10.10.254.33]\r\nX-ClientProxiedBy: ex2.local (172.16.2.2) To EX3.local (172.16.2.3)\r\nX-MS-Exchange-Transport-EndToEndLatency: 00:00:00.2112587\r\nX-MS-Exchange-Processed-By-BccFoldering: 15.01.1415.002\r\nMIME-Version: 1.0\r\n\r\n--------------55D5C868D71CE57DC948563F\r\nContent-Type: text/plain; charset=\"utf-8\"\r\nContent-Transfer-Encoding: 7bit\r\n\r\ntest\r\n\r\n\r\n--------------55D5C868D71CE57DC948563F\r\nContent-Type: message/rfc822; name=\"Attached Message\"\r\nContent-Transfer-Encoding: 7bit\r\nContent-Disposition: attachment; filename=\"Attached Message\"\r\n\r\nReceived: from ex2.local (172.16.2.2) by EX3.local (172.16.2.3) with\r\n Microsoft SMTP Server (version=TLS1_2,\r\n cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1415.2 via Mailbox\r\n Transport; Fri, 12 Jan 2018 12:47:07 +0100\r\nReceived: from EX3.local (172.16.2.3) by EX2.local (172.16.2.2) with\r\n Microsoft SMTP Server (version=TLS1_2,\r\n cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id 15.1.1415.2; Fri, 12\r\n Jan 2018 12:47:07 +0100\r\nReceived: from EX3.local ([fe80::7806:9f98:c0b4:db47]) by EX3.local\r\n ([fe80::7806:9f98:c0b4:db47%13]) with mapi id 15.01.1415.002; Fri, 12 Jan\r\n 2018 12:47:07 +0100\r\nFrom: Vincent  <vincent@corp.com>\r\nTo: Simon  <simon@corp.com>\r\nSubject: testing attachement\r\nThread-Topic: testing attachement\r\nThread-Index: AQHTi5sSajMVfq8xMUuQxsxmTSCh5A==\r\nDate: Fri, 12 Jan 2018 12:47:07 +0100\r\nMessage-ID: <2A5A42E2-3703-4106-B333-F7BE6BE52BE7@corp.com>\r\nAccept-Language: fr-FR, en-US\r\nContent-Language: en-US\r\nX-MS-Exchange-Organization-AuthAs: Internal\r\nX-MS-Exchange-Organization-AuthMechanism: 04\r\nX-MS-Exchange-Organization-AuthSource: EX3.local\r\nX-MS-Has-Attach:\r\nX-MS-Exchange-Organization-Network-Message-Id: 77b61742-2589-475b-1765-08d559b2355c\r\nX-MS-Exchange-Organization-SCL: -1\r\nX-MS-TNEF-Correlator:\r\nX-MS-Exchange-Organization-RecordReviewCfmType: 0\r\nx-mailer: Apple Mail (2.3445.5.20)\r\nContent-Type: text/plain; charset=\"us-ascii\"\r\nContent-ID: <C1D546C88A6BC84FAF03EE9B754608FB@corp.com>\r\nMIME-Version: 1.0\r\n\r\ntesting attachement\r\n\r\n--------------55D5C868D71CE57DC948563F--\r\n\"\"\"\r\nmail = mailparser.parse_from_string(a)\r\nmail.message_as_string\r\nmail.attachments\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/22", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/22/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/22/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/22", "id": 283015256, "node_id": "MDU6SXNzdWUyODMwMTUyNTY=", "number": 22, "title": "Suggestion print only mail headers ", "user": {"login": "Maijin", "id": 1408600, "node_id": "MDQ6VXNlcjE0MDg2MDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1408600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maijin", "html_url": "https://github.com/Maijin", "followers_url": "https://api.github.com/users/Maijin/followers", "following_url": "https://api.github.com/users/Maijin/following{/other_user}", "gists_url": "https://api.github.com/users/Maijin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maijin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maijin/subscriptions", "organizations_url": "https://api.github.com/users/Maijin/orgs", "repos_url": "https://api.github.com/users/Maijin/repos", "events_url": "https://api.github.com/users/Maijin/events{/privacy}", "received_events_url": "https://api.github.com/users/Maijin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-18T20:48:45Z", "updated_at": "2017-12-18T22:31:15Z", "closed_at": "2017-12-18T22:30:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently you can print all mail headers, but some of them can already be retrieved for example mail.retrieved get only the retrieved header, From, To etc.\r\n\r\nSuggestion to add a command that print only the mail headers remaining (not available from the other command)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/21", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/21/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/21/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/21", "id": 282711451, "node_id": "MDU6SXNzdWUyODI3MTE0NTE=", "number": 21, "title": "Suggestion better parsing of the received field", "user": {"login": "Maijin", "id": 1408600, "node_id": "MDQ6VXNlcjE0MDg2MDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1408600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maijin", "html_url": "https://github.com/Maijin", "followers_url": "https://api.github.com/users/Maijin/followers", "following_url": "https://api.github.com/users/Maijin/following{/other_user}", "gists_url": "https://api.github.com/users/Maijin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maijin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maijin/subscriptions", "organizations_url": "https://api.github.com/users/Maijin/orgs", "repos_url": "https://api.github.com/users/Maijin/repos", "events_url": "https://api.github.com/users/Maijin/events{/privacy}", "received_events_url": "https://api.github.com/users/Maijin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2017-12-17T18:04:18Z", "updated_at": "2018-10-23T20:39:49Z", "closed_at": "2017-12-30T08:36:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would be great to have a dict which contains From / By / With / Time for each received element.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/20", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/20/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/20/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/20", "id": 276301202, "node_id": "MDU6SXNzdWUyNzYzMDEyMDI=", "number": 20, "title": "Add: Option to output 'to' and 'headers' as JSON objects in addition to arrays", "user": {"login": "pataquets", "id": 1286254, "node_id": "MDQ6VXNlcjEyODYyNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1286254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pataquets", "html_url": "https://github.com/pataquets", "followers_url": "https://api.github.com/users/pataquets/followers", "following_url": "https://api.github.com/users/pataquets/following{/other_user}", "gists_url": "https://api.github.com/users/pataquets/gists{/gist_id}", "starred_url": "https://api.github.com/users/pataquets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pataquets/subscriptions", "organizations_url": "https://api.github.com/users/pataquets/orgs", "repos_url": "https://api.github.com/users/pataquets/repos", "events_url": "https://api.github.com/users/pataquets/events{/privacy}", "received_events_url": "https://api.github.com/users/pataquets/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729244, "node_id": "MDU6TGFiZWw0MzM3MjkyNDQ=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-11-23T08:57:40Z", "updated_at": "2017-11-25T07:36:32Z", "closed_at": "2017-11-25T07:36:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I need it for another use case and would like to get feedback before working on it.\r\nNot sure how to implement it. Things coming to mind:\r\n* A separate set of ```_obj()``` terminated properties?\r\n* How to choose from command line?\r\n* Replace the array thingy? I don't think so/not sure, unless...\r\n* ...it's useful for adding additional fields, for diagnostic or other infos on each individual element.\r\n* Other thoughts?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/19", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/19/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/19/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/19", "id": 275333867, "node_id": "MDU6SXNzdWUyNzUzMzM4Njc=", "number": 19, "title": "Duplicate anomalies.mail_without_date?", "user": {"login": "pataquets", "id": 1286254, "node_id": "MDQ6VXNlcjEyODYyNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1286254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pataquets", "html_url": "https://github.com/pataquets", "followers_url": "https://api.github.com/users/pataquets/followers", "following_url": "https://api.github.com/users/pataquets/following{/other_user}", "gists_url": "https://api.github.com/users/pataquets/gists{/gist_id}", "starred_url": "https://api.github.com/users/pataquets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pataquets/subscriptions", "organizations_url": "https://api.github.com/users/pataquets/orgs", "repos_url": "https://api.github.com/users/pataquets/repos", "events_url": "https://api.github.com/users/pataquets/events{/privacy}", "received_events_url": "https://api.github.com/users/pataquets/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-20T12:08:57Z", "updated_at": "2017-11-23T23:10:38Z", "closed_at": "2017-11-23T23:10:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Warning: I don't understand fully if this is expected.\r\nWhen running mp on ```test_mail_1``` I get this:\r\n```\r\nmailparser_1  |     \"has_defects\": true,\r\nmailparser_1  |     \"has_anomalies\": true,\r\nmailparser_1  |     \"defects\": [\r\nmailparser_1  |         {\r\nmailparser_1  |             \"multipart/mixed\": [\r\nmailparser_1  |                 \"CloseBoundaryNotFoundDefect: A start boundary was found, but not the corresponding close boundary.\"\r\nmailparser_1  |             ]\r\nmailparser_1  |         }\r\nmailparser_1  |     ],\r\nmailparser_1  |     \"defects_category\": [\r\nmailparser_1  |         \"CloseBoundaryNotFoundDefect\"\r\nmailparser_1  |     ],\r\nmailparser_1  |     \"anomalies\": [\r\nmailparser_1  |         \"mail_without_date\",\r\nmailparser_1  |         \"mail_without_message-id\",\r\nmailparser_1  |         \"mail_without_date\"\r\nmailparser_1  |     ]\r\nmailparser_1  | }\r\n```\r\n\r\nThe defect ```mail_without_date``` appears twice, not sure if should be that way.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/17", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/17/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/17/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/17", "id": 275331786, "node_id": "MDU6SXNzdWUyNzUzMzE3ODY=", "number": 17, "title": "Deal with 'cc' and 'bcc' as multi-recipient address email fields as done on 'to'", "user": {"login": "pataquets", "id": 1286254, "node_id": "MDQ6VXNlcjEyODYyNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1286254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pataquets", "html_url": "https://github.com/pataquets", "followers_url": "https://api.github.com/users/pataquets/followers", "following_url": "https://api.github.com/users/pataquets/following{/other_user}", "gists_url": "https://api.github.com/users/pataquets/gists{/gist_id}", "starred_url": "https://api.github.com/users/pataquets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pataquets/subscriptions", "organizations_url": "https://api.github.com/users/pataquets/orgs", "repos_url": "https://api.github.com/users/pataquets/repos", "events_url": "https://api.github.com/users/pataquets/events{/privacy}", "received_events_url": "https://api.github.com/users/pataquets/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-20T12:01:14Z", "updated_at": "2017-11-23T23:08:48Z", "closed_at": "2017-11-23T23:08:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This issue tracks followup to #16 and serves as discussion.\r\nThe 'bcc' field might appear is some cases, such as email proxies like [emailrelay](http://emailrelay.sourceforge.net/).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/15", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/15/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/15/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/15", "id": 274486577, "node_id": "MDU6SXNzdWUyNzQ0ODY1Nzc=", "number": 15, "title": "Create an official, Automated Build image on Docker Hub", "user": {"login": "pataquets", "id": 1286254, "node_id": "MDQ6VXNlcjEyODYyNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1286254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pataquets", "html_url": "https://github.com/pataquets", "followers_url": "https://api.github.com/users/pataquets/followers", "following_url": "https://api.github.com/users/pataquets/following{/other_user}", "gists_url": "https://api.github.com/users/pataquets/gists{/gist_id}", "starred_url": "https://api.github.com/users/pataquets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pataquets/subscriptions", "organizations_url": "https://api.github.com/users/pataquets/orgs", "repos_url": "https://api.github.com/users/pataquets/repos", "events_url": "https://api.github.com/users/pataquets/events{/privacy}", "received_events_url": "https://api.github.com/users/pataquets/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-11-16T11:41:16Z", "updated_at": "2017-11-25T07:34:24Z", "closed_at": "2017-11-25T07:34:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Docker Hub allows you to create Automated Builds from source: https://docs.docker.com/docker-hub/builds/\r\nIt would add another packaging/distribution/installation method, whose buildings would be triggered automatically on each commit. It also allows to create different image tags from git tags & branches (thus allowing to test ```:develop``` right away, [as shown](https://hub.docker.com/r/pataquets/mail-parser-src/builds/)).\r\nAlso, documentation could easily include a canonical `docker run` statement to quickly try the tool with just a single command.\r\n\r\nBy making the image build via an AB, you give the resulting image verifiability and auditability. Also, the build is fully automatic. You can have the latest image tag build from HEAD and individual image tags from git's release tags.\r\nSome people avoid non-verifiable (manually uploaded) images due to security & traceability reasons. Docker search command clearly displays AB when listing images.\r\n\r\nJust a free Docker Hub account and a quick setup would do. Ping me if you need help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/10", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/10/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/10/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/10", "id": 271091582, "node_id": "MDU6SXNzdWUyNzEwOTE1ODI=", "number": 10, "title": "Feature request: Add Avro as an output [file] format", "user": {"login": "pataquets", "id": 1286254, "node_id": "MDQ6VXNlcjEyODYyNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1286254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pataquets", "html_url": "https://github.com/pataquets", "followers_url": "https://api.github.com/users/pataquets/followers", "following_url": "https://api.github.com/users/pataquets/following{/other_user}", "gists_url": "https://api.github.com/users/pataquets/gists{/gist_id}", "starred_url": "https://api.github.com/users/pataquets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pataquets/subscriptions", "organizations_url": "https://api.github.com/users/pataquets/orgs", "repos_url": "https://api.github.com/users/pataquets/repos", "events_url": "https://api.github.com/users/pataquets/events{/privacy}", "received_events_url": "https://api.github.com/users/pataquets/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 433729241, "node_id": "MDU6TGFiZWw0MzM3MjkyNDE=", "url": "https://api.github.com/repos/SpamScope/mail-parser/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "fedelemantuano", "id": 2412951, "node_id": "MDQ6VXNlcjI0MTI5NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2412951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fedelemantuano", "html_url": "https://github.com/fedelemantuano", "followers_url": "https://api.github.com/users/fedelemantuano/followers", "following_url": "https://api.github.com/users/fedelemantuano/following{/other_user}", "gists_url": "https://api.github.com/users/fedelemantuano/gists{/gist_id}", "starred_url": "https://api.github.com/users/fedelemantuano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fedelemantuano/subscriptions", "organizations_url": "https://api.github.com/users/fedelemantuano/orgs", "repos_url": "https://api.github.com/users/fedelemantuano/repos", "events_url": "https://api.github.com/users/fedelemantuano/events{/privacy}", "received_events_url": "https://api.github.com/users/fedelemantuano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-11-03T19:21:00Z", "updated_at": "2017-11-23T23:14:36Z", "closed_at": "2017-11-23T23:14:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Thanks for this great piece of software.\r\n\r\nHaving Avro as an output file format to the command line tool would be awesome to use it with all sorts of big data tools. Looks like there is an official Avro lib for Python:\r\nhttps://avro.apache.org/docs/current/gettingstartedpython.html\r\n\r\nUsable via an ```--avro``` command line switch as is currently done with ```--json``` would be the way, IMHO.\r\n\r\nI'm not sure of how much coupling between the actual parsing code and the JSON file writer there is. Will try to figure out from code, but I'm not very deep with Python. I'm currently just using the command line tool and and consuming it as JSON files.\r\n\r\nTIA.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/9", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/9/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/9/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/9", "id": 246301882, "node_id": "MDU6SXNzdWUyNDYzMDE4ODI=", "number": 9, "title": "TypeError: expected string or bytes-like object", "user": {"login": "ajurna", "id": 883764, "node_id": "MDQ6VXNlcjg4Mzc2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/883764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajurna", "html_url": "https://github.com/ajurna", "followers_url": "https://api.github.com/users/ajurna/followers", "following_url": "https://api.github.com/users/ajurna/following{/other_user}", "gists_url": "https://api.github.com/users/ajurna/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajurna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajurna/subscriptions", "organizations_url": "https://api.github.com/users/ajurna/orgs", "repos_url": "https://api.github.com/users/ajurna/repos", "events_url": "https://api.github.com/users/ajurna/events{/privacy}", "received_events_url": "https://api.github.com/users/ajurna/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-07-28T09:57:03Z", "updated_at": "2017-07-31T21:13:50Z", "closed_at": "2017-07-31T21:13:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n\r\nI have found an error with the parser when it tries to find who it was delivered to and the field is missing.\r\n\r\n      File \"C:\\project\\dashboard\\management\\commands\\mail_service.py\", line 90, in check_mail_by_id\r\n        headers = mailparser.parse_from_bytes(response_part[1])\r\n      File \"C:\\project\\venv\\lib\\site-packages\\mailparser\\mailparser.py\", line 73, in parse_from_bytes\r\n        return MailParser.from_bytes(bt).parse()\r\n      File \"C:\\project\\venv\\lib\\site-packages\\mailparser\\mailparser.py\", line 297, in parse\r\n        self._make_mail()\r\n      File \"C:\\project\\venv\\lib\\site-packages\\mailparser\\mailparser.py\", line 217, in _make_mail\r\n        \"to\": self.to_,\r\n      File \"C:\\project\\venv\\lib\\site-packages\\mailparser\\mailparser.py\", line 383, in to_\r\n        self.message.get('to', self.message.get('delivered-to')))\r\n      File \"C:\\project\\venv\\lib\\site-packages\\mailparser\\utils.py\", line 80, in decode_header_part\r\n        for d, c in decode_header(header):\r\n      File \"C:\\Python36\\Lib\\email\\header.py\", line 80, in decode_header\r\n        if not ecre.search(header):\r\n    TypeError: expected string or bytes-like object", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/7", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/7/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/7/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/7", "id": 240605401, "node_id": "MDU6SXNzdWUyNDA2MDU0MDE=", "number": 7, "title": "TypeError: expected string or bytes-like object", "user": {"login": "kojibhy", "id": 17928928, "node_id": "MDQ6VXNlcjE3OTI4OTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/17928928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kojibhy", "html_url": "https://github.com/kojibhy", "followers_url": "https://api.github.com/users/kojibhy/followers", "following_url": "https://api.github.com/users/kojibhy/following{/other_user}", "gists_url": "https://api.github.com/users/kojibhy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kojibhy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kojibhy/subscriptions", "organizations_url": "https://api.github.com/users/kojibhy/orgs", "repos_url": "https://api.github.com/users/kojibhy/repos", "events_url": "https://api.github.com/users/kojibhy/events{/privacy}", "received_events_url": "https://api.github.com/users/kojibhy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-07-05T10:22:54Z", "updated_at": "2017-07-15T07:57:18Z", "closed_at": "2017-07-15T07:57:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "  File \"/root/PythonProjects/venv/lib/python3.5/site-packages/mailparser/mailparser.py\", line 59, in parse_from_string\r\n    self._parse()\r\n  File \"/root/PythonProjects/venv/lib/python3.5/site-packages/mailparser/mailparser.py\", line 169, in _parse\r\n    self._make_mail()\r\n  File \"/root/PythonProjects/venv/lib/python3.5/site-packages/mailparser/mailparser.py\", line 95, in _make_mail\r\n    \"to\": self.to_,\r\n  File \"/root/PythonProjects/venv/lib/python3.5/site-packages/mailparser/mailparser.py\", line 237, in to_\r\n    self._message.get('to', self._message.get('delivered-to')))\r\n  File \"/root/PythonProjects/venv/lib/python3.5/site-packages/mailparser/utils.py\", line 80, in decode_header_part\r\n    for d, c in decode_header(header):\r\n  File \"/usr/lib/python3.5/email/header.py\", line 80, in decode_header\r\n    if not ecre.search(header):\r\nTypeError: expected string or bytes-like object\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/SpamScope/mail-parser/issues/5", "repository_url": "https://api.github.com/repos/SpamScope/mail-parser", "labels_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/5/comments", "events_url": "https://api.github.com/repos/SpamScope/mail-parser/issues/5/events", "html_url": "https://github.com/SpamScope/mail-parser/issues/5", "id": 199995198, "node_id": "MDU6SXNzdWUxOTk5OTUxOTg=", "number": 5, "title": "Support for Python 3?", "user": {"login": "opsdisk", "id": 8660252, "node_id": "MDQ6VXNlcjg2NjAyNTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8660252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/opsdisk", "html_url": "https://github.com/opsdisk", "followers_url": "https://api.github.com/users/opsdisk/followers", "following_url": "https://api.github.com/users/opsdisk/following{/other_user}", "gists_url": "https://api.github.com/users/opsdisk/gists{/gist_id}", "starred_url": "https://api.github.com/users/opsdisk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/opsdisk/subscriptions", "organizations_url": "https://api.github.com/users/opsdisk/orgs", "repos_url": "https://api.github.com/users/opsdisk/repos", "events_url": "https://api.github.com/users/opsdisk/events{/privacy}", "received_events_url": "https://api.github.com/users/opsdisk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-11T03:31:46Z", "updated_at": "2017-01-11T08:35:52Z", "closed_at": "2017-01-11T08:35:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Edit: Just saw the developer branch you're working on.\r\n---\r\nGreat library!  Byte, string, unicode issues introduced with Python 3\r\n\r\n```\r\n# mailparser -f test3.email -j                                                                                                   \r\nTraceback (most recent call last):\r\n  File \"/home/test/.venv/bin/mailparser\", line 11, in <module>\r\n    load_entry_point('mail-parser==0.5.0', 'console_scripts', 'mailparser')()\r\n  File \"/home/test/.venv/lib/python3.5/site-packages/mailparser/__main__.py\", line 140, in main\r\n    parser.parse_from_file(args.file)\r\n  File \"/home/test/.venv/lib/python3.5/site-packages/mailparser/__init__.py\", line 52, in parse_from_file\r\n    self._parse()\r\n  File \"/home/test/.venv/lib/python3.5/site-packages/mailparser/__init__.py\", line 192, in _parse\r\n    encoding=charset)\r\n  File \"/home/test/.venv/lib/python3.5/site-packages/mailparser/__init__.py\", line 86, in _force_unicode\r\n    if not isinstance(u, unicode):\r\nNameError: name 'unicode' is not defined\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}]}