{"total_count": 171, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/ncclient/ncclient/issues/423", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/423/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/423/events", "html_url": "https://github.com/ncclient/ncclient/issues/423", "id": 680524618, "node_id": "MDU6SXNzdWU2ODA1MjQ2MTg=", "number": 423, "title": "Cannot parse received xml. Invalid tag name.", "user": {"login": "HalfInner", "id": 20933478, "node_id": "MDQ6VXNlcjIwOTMzNDc4", "avatar_url": "https://avatars1.githubusercontent.com/u/20933478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HalfInner", "html_url": "https://github.com/HalfInner", "followers_url": "https://api.github.com/users/HalfInner/followers", "following_url": "https://api.github.com/users/HalfInner/following{/other_user}", "gists_url": "https://api.github.com/users/HalfInner/gists{/gist_id}", "starred_url": "https://api.github.com/users/HalfInner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HalfInner/subscriptions", "organizations_url": "https://api.github.com/users/HalfInner/orgs", "repos_url": "https://api.github.com/users/HalfInner/repos", "events_url": "https://api.github.com/users/HalfInner/events{/privacy}", "received_events_url": "https://api.github.com/users/HalfInner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-17T21:03:50Z", "updated_at": "2020-08-18T11:28:37Z", "closed_at": "2020-08-18T11:28:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nDuring conducting test on the Cisco environment I receive error that the tag is invalid. \r\n\r\nCould you verify if this behaviour is correct?\r\n\r\nThanks in advance,\r\nHalfInner\r\n\r\n```bash\r\nConnected to pydev debugger (build 192.7142.79)\r\nTraceback (most recent call last):\r\n  File \"<ProjecPath>/basics/netconf.py\", line 22, in <module>\r\n    replay = m.get_confg(source='running', filter=netconf_filter)\r\n  File \"<ProjecPath\\venv>\\lib\\site-packages\\ncclient\\manager.py\", line 269, in _missing\r\n    r = self.rpc(root)\r\n  File \"<ProjecPath\\venv>\\lib\\site-packages\\ncclient\\manager.py\", line 268, in _missing\r\n    sub_ele(root, arg)\r\n  File \"<ProjecPath\\venv>\\lib\\site-packages\\ncclient\\xml_.py\", line 237, in <lambda>\r\n    sub_ele = lambda parent, tag, attrs={}, **extra: etree.SubElement(parent, qualify(tag, parent_ns(parent)), attrs, **extra)\r\n  File \"src\\lxml\\etree.pyx\", line 3136, in lxml.etree.SubElement\r\n  File \"src\\lxml\\apihelpers.pxi\", line 179, in lxml.etree._makeSubElement\r\n  File \"src\\lxml\\apihelpers.pxi\", line 1734, in lxml.etree._tagValidOrRaise\r\nValueError: Invalid tag name '<Element {urn:ietf:params:xml:ns:netconf:base:1.0}get-confg at 0x20c4ee64e08>'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/422", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/422/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/422/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/422/events", "html_url": "https://github.com/ncclient/ncclient/issues/422", "id": 680082429, "node_id": "MDU6SXNzdWU2ODAwODI0Mjk=", "number": 422, "title": "Latest release?", "user": {"login": "badguy99", "id": 61918526, "node_id": "MDQ6VXNlcjYxOTE4NTI2", "avatar_url": "https://avatars0.githubusercontent.com/u/61918526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badguy99", "html_url": "https://github.com/badguy99", "followers_url": "https://api.github.com/users/badguy99/followers", "following_url": "https://api.github.com/users/badguy99/following{/other_user}", "gists_url": "https://api.github.com/users/badguy99/gists{/gist_id}", "starred_url": "https://api.github.com/users/badguy99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badguy99/subscriptions", "organizations_url": "https://api.github.com/users/badguy99/orgs", "repos_url": "https://api.github.com/users/badguy99/repos", "events_url": "https://api.github.com/users/badguy99/events{/privacy}", "received_events_url": "https://api.github.com/users/badguy99/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-17T09:21:05Z", "updated_at": "2020-08-17T09:57:36Z", "closed_at": "2020-08-17T09:57:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nWhich is the latest release we should be using? \r\nLooking at https://github.com/ncclient/ncclient/releases/tag/v0.6.8 it has the \"latest release\" tag, however it also says \"pulled due to accidental breaking API change\" even though it is still downloadable.\r\nSo I'm confused as to what to use at the moment...\r\n\r\nThanks,\r\nGuy", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/413", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/413/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/413/events", "html_url": "https://github.com/ncclient/ncclient/issues/413", "id": 670457209, "node_id": "MDU6SXNzdWU2NzA0NTcyMDk=", "number": 413, "title": "How about developing feature that make ncclient support CLI ", "user": {"login": "fredgan", "id": 3415532, "node_id": "MDQ6VXNlcjM0MTU1MzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/3415532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredgan", "html_url": "https://github.com/fredgan", "followers_url": "https://api.github.com/users/fredgan/followers", "following_url": "https://api.github.com/users/fredgan/following{/other_user}", "gists_url": "https://api.github.com/users/fredgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredgan/subscriptions", "organizations_url": "https://api.github.com/users/fredgan/orgs", "repos_url": "https://api.github.com/users/fredgan/repos", "events_url": "https://api.github.com/users/fredgan/events{/privacy}", "received_events_url": "https://api.github.com/users/fredgan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-01T02:55:23Z", "updated_at": "2020-08-03T01:45:02Z", "closed_at": "2020-08-03T01:45:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi Einar @einarnn  I have an idea that if we can make ncclient a command line tool, which can send some simple request on command line. How do you think about it? I would like to do it.\r\n\r\nBTW, I have send you two emails, but not replied, so I am not sure whether you received or not.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/411", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/411/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/411/events", "html_url": "https://github.com/ncclient/ncclient/issues/411", "id": 668447900, "node_id": "MDU6SXNzdWU2Njg0NDc5MDA=", "number": 411, "title": "Need some improvements in class EditConfig", "user": {"login": "fredgan", "id": 3415532, "node_id": "MDQ6VXNlcjM0MTU1MzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/3415532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredgan", "html_url": "https://github.com/fredgan", "followers_url": "https://api.github.com/users/fredgan/followers", "following_url": "https://api.github.com/users/fredgan/following{/other_user}", "gists_url": "https://api.github.com/users/fredgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredgan/subscriptions", "organizations_url": "https://api.github.com/users/fredgan/orgs", "repos_url": "https://api.github.com/users/fredgan/repos", "events_url": "https://api.github.com/users/fredgan/events{/privacy}", "received_events_url": "https://api.github.com/users/fredgan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-30T07:33:50Z", "updated_at": "2020-08-01T01:56:14Z", "closed_at": "2020-08-01T01:56:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi @einarnn,\r\nLately, I've been digging into the code, and found some improvements in class `EditConfig` .\r\n1). the args in the method `request()` don't check their validity before use.\r\n2). the parameter `test_option` is different between [RFC 4741](https://tools.ietf.org/html/rfc4741#section-7.2) and [RFC 6241](https://tools.ietf.org/html/rfc6241#section-7.2), a new value 'test-only',  which is only supported by `:validate:1.1` capability, is added in  [RFC 6241](https://tools.ietf.org/html/rfc6241#section-7.2)\r\n\r\nThe source code:\r\nhttps://github.com/ncclient/ncclient/blob/3255200588c27efbd12e30a5d0ab4f7ad003dd3f/ncclient/operations/edit.py#L29-L65\r\n\r\nThe parameter `test_option` in  [RFC 4741](https://tools.ietf.org/html/rfc4741#section-7.2):\r\n```\r\ntest-option:\r\n\r\n         The test-option element may be specified only if the device\r\n         advertises the :validate capability (Section 8.6).\r\n\r\n         The test-option element has one of the following values:\r\n\r\n         test-then-set: Perform a validation test before attempting to\r\n            set.  If validation errors occur, do not perform the\r\n            <edit-config> operation.  This is the default test-option.\r\n\r\n         set: Perform a set without a validation test first.\r\n```\r\nThe parameter `test_option` in [RFC 6241](https://tools.ietf.org/html/rfc6241#section-7.2):\r\n```\r\ntest-option:  The <test-option> element MAY be specified only if\r\n         the device advertises the :validate:1.1 capability\r\n         (Section 8.6).\r\n\r\n         The <test-option> element has one of the following values:\r\n\r\n         test-then-set:  Perform a validation test before attempting to\r\n            set.  If validation errors occur, do not perform the\r\n            <edit-config> operation.  This is the default test-option.\r\n\r\n         set:  Perform a set without a validation test first.\r\n\r\n         test-only:  Perform only the validation test, without\r\n            attempting to set.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/408", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/408/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/408/events", "html_url": "https://github.com/ncclient/ncclient/issues/408", "id": 657225383, "node_id": "MDU6SXNzdWU2NTcyMjUzODM=", "number": 408, "title": "RPCError: add support for app-tag and accessing multiple errors", "user": {"login": "wivory", "id": 19471731, "node_id": "MDQ6VXNlcjE5NDcxNzMx", "avatar_url": "https://avatars3.githubusercontent.com/u/19471731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wivory", "html_url": "https://github.com/wivory", "followers_url": "https://api.github.com/users/wivory/followers", "following_url": "https://api.github.com/users/wivory/following{/other_user}", "gists_url": "https://api.github.com/users/wivory/gists{/gist_id}", "starred_url": "https://api.github.com/users/wivory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wivory/subscriptions", "organizations_url": "https://api.github.com/users/wivory/orgs", "repos_url": "https://api.github.com/users/wivory/repos", "events_url": "https://api.github.com/users/wivory/events{/privacy}", "received_events_url": "https://api.github.com/users/wivory/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-15T10:00:45Z", "updated_at": "2020-07-31T21:39:49Z", "closed_at": "2020-07-21T06:41:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "RPCError should provide access to the error-app-tag element, and also access to the individual errors when a returned RPCError contains multiple errors.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/401", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/401/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/401/events", "html_url": "https://github.com/ncclient/ncclient/issues/401", "id": 648332256, "node_id": "MDU6SXNzdWU2NDgzMzIyNTY=", "number": 401, "title": "ncclient doesn't connect to netconf server due to incompatible ssh peer", "user": {"login": "tharunprabhu", "id": 19290222, "node_id": "MDQ6VXNlcjE5MjkwMjIy", "avatar_url": "https://avatars2.githubusercontent.com/u/19290222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tharunprabhu", "html_url": "https://github.com/tharunprabhu", "followers_url": "https://api.github.com/users/tharunprabhu/followers", "following_url": "https://api.github.com/users/tharunprabhu/following{/other_user}", "gists_url": "https://api.github.com/users/tharunprabhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tharunprabhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tharunprabhu/subscriptions", "organizations_url": "https://api.github.com/users/tharunprabhu/orgs", "repos_url": "https://api.github.com/users/tharunprabhu/repos", "events_url": "https://api.github.com/users/tharunprabhu/events{/privacy}", "received_events_url": "https://api.github.com/users/tharunprabhu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-30T16:49:41Z", "updated_at": "2020-08-01T03:35:16Z", "closed_at": "2020-08-01T03:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is the error I get when i try to run a simple get_config script:\r\n\r\n```\r\no handlers could be found for logger \"ncclient.transport.ssh\"\r\nTraceback (most recent call last):\r\n  File \"eg4.py\", line 15, in <module>\r\n    hostkey_verify=False,\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/manager.py\", line 176, in connect\r\n    return connect_ssh(*args, **kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/manager.py\", line 141, in connect_ssh\r\n    session.connect(*args, **kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/transport/ssh.py\", line 331, in connect\r\n    raise SSHError('Negotiation failed: %s' % e)\r\nncclient.transport.errors.SSHError: Negotiation failed: Incompatible ssh peer (no acceptable host key)\r\n```\r\n\r\nThis is what I see in the netconf server (netopeer2) logs:\r\n```\r\n[INF]: LN: Accepted a connection on 0.0.0.0:830.\r\n[INF]: SR: Session 27 (user \"root\") created.\r\n[2020/06/30 22:16:07.385349, 2] ssh_pki_import_privkey_base64:  Trying to decode privkey passphrase=false\r\n[2020/06/30 22:16:07.387853, 2] ssh_server_connection_callback:  SSH client banner: SSH-2.0-paramiko_2.7.1\r\n[2020/06/30 22:16:07.387905, 2] ssh_analyze_banner:  Analyzing banner: SSH-2.0-paramiko_2.7.1\r\n[2020/06/30 22:16:07.390215, 1] ssh_kex_select_methods:  kex error : no match for method server host key algo: server [rsa-sha2-512,rsa-sha2-256], client [ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-rsa,ssh-dss]\r\n[ERR]: LN: SSH key exchange error (kex error : no match for method server host key algo: server [rsa-sha2-512,rsa-sha2-256], client [ssh-ed25519,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-rsa,ssh-dss]).\r\n```\r\n\r\nLooks like a no key match error. Is this a problem with the server or the client?\r\nHow do i resolve this? Any help would be much appreciated. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/399", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/399/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/399/events", "html_url": "https://github.com/ncclient/ncclient/issues/399", "id": 642266834, "node_id": "MDU6SXNzdWU2NDIyNjY4MzQ=", "number": 399, "title": "Edit config operational issueH", "user": {"login": "Maku-chan", "id": 48721368, "node_id": "MDQ6VXNlcjQ4NzIxMzY4", "avatar_url": "https://avatars2.githubusercontent.com/u/48721368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Maku-chan", "html_url": "https://github.com/Maku-chan", "followers_url": "https://api.github.com/users/Maku-chan/followers", "following_url": "https://api.github.com/users/Maku-chan/following{/other_user}", "gists_url": "https://api.github.com/users/Maku-chan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Maku-chan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Maku-chan/subscriptions", "organizations_url": "https://api.github.com/users/Maku-chan/orgs", "repos_url": "https://api.github.com/users/Maku-chan/repos", "events_url": "https://api.github.com/users/Maku-chan/events{/privacy}", "received_events_url": "https://api.github.com/users/Maku-chan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-19T23:54:46Z", "updated_at": "2020-06-30T19:36:18Z", "closed_at": "2020-06-30T19:36:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am currently trying to push the configuration using the ncclient and getting the below error\r\n\r\nTraceback (most recent call last):\r\n  File \"configuration_file.py\", line 23, in <module>\r\n    m.edit_config(target='running', config=configuration, format='xml')\r\n  File \"/usr/local/lib/python3.7/site-packages/ncclient/manager.py\", line 236, in execute\r\n    huge_tree=self._huge_tree).request(*args, **kwds)\r\n  File \"/usr/local/lib/python3.7/site-packages/ncclient/operations/edit.py\", line 69, in request\r\n    return self._request(node)\r\n  File \"/usr/local/lib/python3.7/site-packages/ncclient/operations/rpc.py\", line 348, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: {'type': 'protocol', 'tag': 'unknown-element', 'severity': 'error', 'info': '<?xml version=\"1.0\" encoding=\"UTF-8\"?><error-info xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><bad-element>config</bad-element>\\n</error-info>\\n', 'path': '\\n    /rpc/edit-config\\n  ', 'message': None}\r\n\r\nBut it works completely fine with the same configuration when I try to push it using the netconf console with the help of my xml file.\r\n\r\nThe version which I am using for ncclient is \"0.6.7\"\r\n\r\n-Maku_chan", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/396", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/396/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/396/events", "html_url": "https://github.com/ncclient/ncclient/issues/396", "id": 629303130, "node_id": "MDU6SXNzdWU2MjkzMDMxMzA=", "number": 396, "title": "How to execute rpc without using device params during connect.", "user": {"login": "deeptijain34", "id": 66321504, "node_id": "MDQ6VXNlcjY2MzIxNTA0", "avatar_url": "https://avatars3.githubusercontent.com/u/66321504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deeptijain34", "html_url": "https://github.com/deeptijain34", "followers_url": "https://api.github.com/users/deeptijain34/followers", "following_url": "https://api.github.com/users/deeptijain34/following{/other_user}", "gists_url": "https://api.github.com/users/deeptijain34/gists{/gist_id}", "starred_url": "https://api.github.com/users/deeptijain34/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deeptijain34/subscriptions", "organizations_url": "https://api.github.com/users/deeptijain34/orgs", "repos_url": "https://api.github.com/users/deeptijain34/repos", "events_url": "https://api.github.com/users/deeptijain34/events{/privacy}", "received_events_url": "https://api.github.com/users/deeptijain34/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-02T15:33:02Z", "updated_at": "2020-06-30T19:20:24Z", "closed_at": "2020-06-30T19:20:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Guys ,\r\n\r\nI have a requirement here , i want to execute rpc using netconf .\r\nI see if we pass the (device_params={'name': 'nexus'}) while creating the netconf connection object we get the attribute (rpc) added to the connection object which can then be further used to execute rpc.\r\nSomething like this :\r\nconnect = rpc(rpc=rpcConfig).\r\n\r\nBut i have a connection object created without passing device_params argument to it , with that connection object , Is there any way to execute the rpc  ?\r\n\r\nconect = manager.connect(host=host, port=port  username=username, password=password, look_for_keys=False, allow_agent=False, hostkey_verify=False)\r\nWith this connection object i do not see any option to execute rpc : \r\n\r\nIn [3]: conect.\r\nconect.async_mode           conect.copy_config          conect.get                  conect.raise_mode           conect.timeout\r\nconect.channel_id           conect.create_subscription  conect.get_config           conect.reboot_machine       conect.unlock\r\nconect.channel_name         conect.delete_config        conect.get_schema           conect.scp                  conect.validate\r\nconect.client_capabilities  conect.discard_changes      conect.kill_session         conect.server_capabilities\r\nconect.close_session        conect.dispatch             conect.lock                 conect.session\r\nconect.commit               conect.edit_config          conect.locked               conect.session_id\r\nconect.connected            conect.execute              conect.poweroff_machine     conect.take_notification\r\n\r\nAny help or suggestions would be helpful .\r\n\r\nThanks & Regards,\r\nDeepti Jain", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/393", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/393/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/393/events", "html_url": "https://github.com/ncclient/ncclient/issues/393", "id": 623254101, "node_id": "MDU6SXNzdWU2MjMyNTQxMDE=", "number": 393, "title": "[xlm_.py:124] AttributeError: 'list' object has no attribute 'encode'", "user": {"login": "ubzmrh", "id": 65774444, "node_id": "MDQ6VXNlcjY1Nzc0NDQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/65774444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubzmrh", "html_url": "https://github.com/ubzmrh", "followers_url": "https://api.github.com/users/ubzmrh/followers", "following_url": "https://api.github.com/users/ubzmrh/following{/other_user}", "gists_url": "https://api.github.com/users/ubzmrh/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubzmrh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubzmrh/subscriptions", "organizations_url": "https://api.github.com/users/ubzmrh/orgs", "repos_url": "https://api.github.com/users/ubzmrh/repos", "events_url": "https://api.github.com/users/ubzmrh/events{/privacy}", "received_events_url": "https://api.github.com/users/ubzmrh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-22T14:37:09Z", "updated_at": "2020-05-25T13:23:39Z", "closed_at": "2020-05-25T13:23:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sometimes x ist not a str but a subtree, in fact a list\r\n`\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 10, in <module>\r\n    vlan.get_config()\r\n  File \"/home/ADMB0002059/.local/lib/python3.6/site-packages/pyhpecw7/features/vlan.py\", line 78, in get_config\r\n    nc_get_reply = self.device.get(('subtree', top))\r\n  File \"/home/ADMB0002059/.local/lib/python3.6/site-packages/pyhpecw7/comware.py\", line 325, in get\r\n    rsp = self.execute(self.connection.get, [get_tuple])\r\n  File \"/home/ADMB0002059/.local/lib/python3.6/site-packages/pyhpecw7/comware.py\", line 213, in execute\r\n    rsp = run_cmd_func(*args, **kwargs)\r\n  File \"/home/ADMB0002059/.local/lib/python3.6/site-packages/ncclient/manager.py\", line 236, in execute\r\n    huge_tree=self._huge_tree).request(*args, **kwds)\r\n  File \"~/.local/lib/python3.6/site-packages/ncclient/operations/retrieve.py\", line 83, in request\r\n    node.append(util.build_filter(filter))\r\n  File \"~/.local/lib/python3.6/site-packages/ncclient/operations/util.py\", line 62, in build_filter\r\n    qualify(\"filter\", ns=NETCONF_NOTIFICATION_NS)))\r\n  File \"~/.local/lib/python3.6/site-packages/ncclient/xml_.py\", line 145, in validated_element\r\n    ele = to_ele(x)\r\n  File \"~/.local/lib/python3.6/site-packages/ncclient/xml_.py\", line 124, in to_ele\r\n    return x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))\r\nAttributeError: 'list' object has no attribute 'encode'\r\n`\r\n\r\nI added \r\n`print(f\"type(x) is {type(x)}, x={x}\")`\r\nto know why and I get\r\n`type(x) is <class 'list'>, x=[('subtree', <Element {http://www.hp.com/netconf/data:1.0}top at 0x7f7644f962c8>)]`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/391", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/391/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/391/events", "html_url": "https://github.com/ncclient/ncclient/issues/391", "id": 618422225, "node_id": "MDU6SXNzdWU2MTg0MjIyMjU=", "number": 391, "title": "ncclient.operations.rpc.RPCError: Operation not supported", "user": {"login": "mrmerumaru", "id": 65242878, "node_id": "MDQ6VXNlcjY1MjQyODc4", "avatar_url": "https://avatars0.githubusercontent.com/u/65242878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrmerumaru", "html_url": "https://github.com/mrmerumaru", "followers_url": "https://api.github.com/users/mrmerumaru/followers", "following_url": "https://api.github.com/users/mrmerumaru/following{/other_user}", "gists_url": "https://api.github.com/users/mrmerumaru/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrmerumaru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrmerumaru/subscriptions", "organizations_url": "https://api.github.com/users/mrmerumaru/orgs", "repos_url": "https://api.github.com/users/mrmerumaru/repos", "events_url": "https://api.github.com/users/mrmerumaru/events{/privacy}", "received_events_url": "https://api.github.com/users/mrmerumaru/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-14T17:46:42Z", "updated_at": "2020-05-16T07:41:03Z", "closed_at": "2020-05-16T07:38:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am running Python 3.8.2, and ncclient 0.6.7\r\nConnecting from Ubuntu 20.04 to NX-OSv 7.2(0)D1(1) running on GNS3. \r\nGetting error with the `get_config` method.\r\n\r\nMy script:\r\n```\r\nfrom ncclient import manager\r\n\r\nhost = \"192.168.198.131\"\r\nport = \"22\"\r\nuser = \"admin\"\r\npassword = \"admin\"\r\nfilename = \"NXOS1.txt\"\r\n\r\nwith manager.connect(host=host, port=port, username=user, password=password, hostkey_verify=False, allow_agent=False, look_for_keys=False, device_params={'name':'nexus'}) as m:\r\n    c = m.get_config(source='running').data_xml\r\n    with open(\"/home/meru/Documents/NETCONF/%s\" % filename, 'w') as f:\r\n        f.write(c)\r\n```\r\n\r\nwhen I run this, I got this error:\r\n```\r\nroot@ubuntu:/home/meru/Documents/NETCONF# python3 script3.py\r\nTraceback (most recent call last):\r\n  File \"script3.py\", line 10, in <module>\r\n    c = m.get_config(source='running')\r\n  File \"/root/.local/lib/python3.8/site-packages/ncclient/manager.py\", line 231, in execute\r\n    return cls(self._session,\r\n  File \"/root/.local/lib/python3.8/site-packages/ncclient/operations/retrieve.py\", line 166, in request\r\n    return self._request(node)\r\n  File \"/root/.local/lib/python3.8/site-packages/ncclient/operations/rpc.py\", line 348, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: Operation not supported\r\nroot@ubuntu:/home/meru/Documents/NETCONF#\r\n```\r\n\r\nAm I missing anything here? what am I doing wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/390", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/390/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/390/events", "html_url": "https://github.com/ncclient/ncclient/issues/390", "id": 615529848, "node_id": "MDU6SXNzdWU2MTU1Mjk4NDg=", "number": 390, "title": "m.locked(\"running\") error", "user": {"login": "menkeyi", "id": 11925230, "node_id": "MDQ6VXNlcjExOTI1MjMw", "avatar_url": "https://avatars0.githubusercontent.com/u/11925230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menkeyi", "html_url": "https://github.com/menkeyi", "followers_url": "https://api.github.com/users/menkeyi/followers", "following_url": "https://api.github.com/users/menkeyi/following{/other_user}", "gists_url": "https://api.github.com/users/menkeyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/menkeyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menkeyi/subscriptions", "organizations_url": "https://api.github.com/users/menkeyi/orgs", "repos_url": "https://api.github.com/users/menkeyi/repos", "events_url": "https://api.github.com/users/menkeyi/events{/privacy}", "received_events_url": "https://api.github.com/users/menkeyi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-11T01:36:25Z", "updated_at": "2020-06-30T19:38:18Z", "closed_at": "2020-06-30T19:38:17Z", "author_association": "NONE", "active_lock_reason": null, "body": " \r\nWrite a running error as follows:\r\n\r\n\r\n/usr/local/lib/python3.6/site-packages/ncclient/manager.py\r\ndef locked(self, target):\r\n        \"\"\"Returns a context manager for a lock on a datastore, where\r\n        *target* is the name of the configuration datastore to lock, e.g.::\r\n\r\n            with m.locked(\"running\"):\r\n                # do your stuff\r\n\r\n        ... instead of::\r\n\r\n            m.lock(\"running\")\r\n            try:\r\n                # do your stuff\r\n            finally:\r\n                m.unlock(\"running\")\r\n        \"\"\"\r\n\r\n[root@localhost ~]# python3 t2.py\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:security xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:nat><nc:source><nc:rule-set><nc:name>api-mky12</nc:name><nc:from><nc:zone>trust</nc:zone></nc:from><nc:to><nc:zone>untrust</nc:zone></nc:to></nc:rule-set></nc:source></nc:nat></nc:security>\r\nTraceback (most recent call last):\r\n  File \"t2.py\", line 110, in <module>\r\n    with m.locked(\"running\"):\r\n  File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/lock.py\", line 67, in __enter__\r\n    Lock(self.session, self.device_handler, raise_mode=RaiseMode.ERRORS).request(self.target)\r\n  File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/lock.py\", line 35, in request\r\n    return self._request(node)\r\n  File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/rpc.py\", line 348, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: syntax error\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/389", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/389/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/389/events", "html_url": "https://github.com/ncclient/ncclient/issues/389", "id": 611883320, "node_id": "MDU6SXNzdWU2MTE4ODMzMjA=", "number": 389, "title": "BGP EDIT CONFIG ", "user": {"login": "Priyanka-TK", "id": 64788174, "node_id": "MDQ6VXNlcjY0Nzg4MTc0", "avatar_url": "https://avatars2.githubusercontent.com/u/64788174?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Priyanka-TK", "html_url": "https://github.com/Priyanka-TK", "followers_url": "https://api.github.com/users/Priyanka-TK/followers", "following_url": "https://api.github.com/users/Priyanka-TK/following{/other_user}", "gists_url": "https://api.github.com/users/Priyanka-TK/gists{/gist_id}", "starred_url": "https://api.github.com/users/Priyanka-TK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Priyanka-TK/subscriptions", "organizations_url": "https://api.github.com/users/Priyanka-TK/orgs", "repos_url": "https://api.github.com/users/Priyanka-TK/repos", "events_url": "https://api.github.com/users/Priyanka-TK/events{/privacy}", "received_events_url": "https://api.github.com/users/Priyanka-TK/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-04T13:39:52Z", "updated_at": "2020-05-24T20:28:17Z", "closed_at": "2020-05-24T20:28:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am new to the NETCONF operations. I am trying to edit the configuration with ncclient on cisco XRv devices in future Juniper device. I am able to parse the XML RPC request and getting OK response but it is not reflecting in candidate DB and some time facing problem in parsing also.\r\n\r\nAny leads will be helpful.\r\n\r\nRegards,\r\nPriyanka", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/387", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/387/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/387/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/387/events", "html_url": "https://github.com/ncclient/ncclient/issues/387", "id": 608643013, "node_id": "MDU6SXNzdWU2MDg2NDMwMTM=", "number": 387, "title": "comment entry is not right", "user": {"login": "neilliu89", "id": 7343533, "node_id": "MDQ6VXNlcjczNDM1MzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7343533?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neilliu89", "html_url": "https://github.com/neilliu89", "followers_url": "https://api.github.com/users/neilliu89/followers", "following_url": "https://api.github.com/users/neilliu89/following{/other_user}", "gists_url": "https://api.github.com/users/neilliu89/gists{/gist_id}", "starred_url": "https://api.github.com/users/neilliu89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neilliu89/subscriptions", "organizations_url": "https://api.github.com/users/neilliu89/orgs", "repos_url": "https://api.github.com/users/neilliu89/repos", "events_url": "https://api.github.com/users/neilliu89/events{/privacy}", "received_events_url": "https://api.github.com/users/neilliu89/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-28T21:59:56Z", "updated_at": "2020-05-25T12:37:24Z", "closed_at": "2020-05-25T12:37:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the file(ncclient/ncclient/devices/h3c.py), the file comment entry is not right.\r\nThe right is like this:\r\n'''\r\nHandler for H3c device specific information.\r\n'''\r\nnot:\r\n'''\r\nHandler for Huawei device specific information.\r\n'''", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/386", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/386/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/386/events", "html_url": "https://github.com/ncclient/ncclient/issues/386", "id": 604065237, "node_id": "MDU6SXNzdWU2MDQwNjUyMzc=", "number": 386, "title": "ncclient cannot server multiple venders within same process", "user": {"login": "singlaive", "id": 851206, "node_id": "MDQ6VXNlcjg1MTIwNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/851206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/singlaive", "html_url": "https://github.com/singlaive", "followers_url": "https://api.github.com/users/singlaive/followers", "following_url": "https://api.github.com/users/singlaive/following{/other_user}", "gists_url": "https://api.github.com/users/singlaive/gists{/gist_id}", "starred_url": "https://api.github.com/users/singlaive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/singlaive/subscriptions", "organizations_url": "https://api.github.com/users/singlaive/orgs", "repos_url": "https://api.github.com/users/singlaive/repos", "events_url": "https://api.github.com/users/singlaive/events{/privacy}", "received_events_url": "https://api.github.com/users/singlaive/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 402147514, "node_id": "MDU6TGFiZWw0MDIxNDc1MTQ=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-21T14:56:57Z", "updated_at": "2020-06-30T19:40:48Z", "closed_at": "2020-06-30T19:40:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "My application manages switches from different vendors. It is a software service with multithreading architecture, with each thread managing its own ncclient manager instance, and access to switches from different venders. What happens is once one thread finishes one job for vender A, the other thread starts another job for vender B, it will fail.\r\nThe reason is quite obvious, the VENDER_OPERATION defined at https://github.com/ncclient/ncclient/blob/master/ncclient/manager.py#L58 is a global, and would comes with different methods per vender.\r\n\r\nI got a feeling this is designed so. Can anyone suggest or confirm so? Or any way to get around it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/385", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/385/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/385/events", "html_url": "https://github.com/ncclient/ncclient/issues/385", "id": 594179110, "node_id": "MDU6SXNzdWU1OTQxNzkxMTA=", "number": 385, "title": "Cannot install ncclient on Debian 9 ARM (Rock Pi 4 B)", "user": {"login": "stvnkem", "id": 61822499, "node_id": "MDQ6VXNlcjYxODIyNDk5", "avatar_url": "https://avatars1.githubusercontent.com/u/61822499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stvnkem", "html_url": "https://github.com/stvnkem", "followers_url": "https://api.github.com/users/stvnkem/followers", "following_url": "https://api.github.com/users/stvnkem/following{/other_user}", "gists_url": "https://api.github.com/users/stvnkem/gists{/gist_id}", "starred_url": "https://api.github.com/users/stvnkem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stvnkem/subscriptions", "organizations_url": "https://api.github.com/users/stvnkem/orgs", "repos_url": "https://api.github.com/users/stvnkem/repos", "events_url": "https://api.github.com/users/stvnkem/events{/privacy}", "received_events_url": "https://api.github.com/users/stvnkem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-05T00:26:35Z", "updated_at": "2020-04-15T10:37:39Z", "closed_at": "2020-04-15T10:37:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nAny idea why?\r\n\r\nlinaro@linaro-alip:~$ python3.8 -V\r\nPython 3.8.2\r\n\r\nlinaro@linaro-alip:~$ pip3 list\r\nPackage      Version\r\n------------ -------\r\nbcrypt       3.1.7  \r\ncffi         1.14.0 \r\ncryptography 2.9    \r\net-xmlfile   1.0.1  \r\nfuture       0.18.2 \r\njdcal        1.4.1  \r\nJinja2       2.11.1 \r\nMarkupSafe   1.1.1  \r\nnetmiko      3.1.0  \r\nopenpyxl     3.0.3  \r\nparamiko     2.7.1  \r\npip          20.0.2 \r\npycparser    2.20   \r\nPyNaCl       1.3.0  \r\npyserial     3.4    \r\nscp          0.13.2 \r\nsetuptools   41.2.0 \r\nsix          1.14.0 \r\ntextfsm      1.1.0  \r\nxlrd         1.2.0  \r\nXlsxWriter   1.2.8  \r\nxmltodict    0.12.0 \r\nlinaro@linaro-alip:~$ uname -a\r\nLinux linaro-alip 4.4.154-90-rockchip-ga14f6502e045 #22 SMP Tue Jul 30 10:32:28 UTC 2019 aarch64 GNU/Linux\r\n\r\nlinaro@linaro-alip:/$ sudo python3.8 -m pip install ncclient\r\nsudo: unable to resolve host linaro-alip\r\nCollecting ncclient\r\n  Using cached ncclient-0.6.7.tar.gz (605 kB)\r\nRequirement already satisfied: setuptools>0.6 in /usr/local/lib/python3.8/site-packages (from ncclient) (41.2.0)\r\nRequirement already satisfied: paramiko>=1.15.0 in /usr/local/lib/python3.8/site-packages (from ncclient) (2.7.1)\r\nCollecting lxml>=3.3.0\r\n  Using cached lxml-4.5.0.tar.gz (4.5 MB)\r\nRequirement already satisfied: six in /usr/local/lib/python3.8/site-packages (from ncclient) (1.14.0)\r\nRequirement already satisfied: pynacl>=1.0.1 in /usr/local/lib/python3.8/site-packages (from paramiko>=1.15.0->ncclient) (1.3.0)\r\nRequirement already satisfied: cryptography>=2.5 in /usr/local/lib/python3.8/site-packages (from paramiko>=1.15.0->ncclient) (2.9)\r\nRequirement already satisfied: bcrypt>=3.1.3 in /usr/local/lib/python3.8/site-packages (from paramiko>=1.15.0->ncclient) (3.1.7)\r\nRequirement already satisfied: cffi>=1.4.1 in /usr/local/lib/python3.8/site-packages (from pynacl>=1.0.1->paramiko>=1.15.0->ncclient) (1.14.0)\r\nRequirement already satisfied: pycparser in /usr/local/lib/python3.8/site-packages (from cffi>=1.4.1->pynacl>=1.0.1->paramiko>=1.15.0->ncclient) (2.20)\r\nInstalling collected packages: lxml, ncclient\r\n    Running setup.py install for lxml ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/local/bin/python3.8 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-avfvdv94/lxml/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-avfvdv94/lxml/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-5jkf_pbo/install-record.txt --single-version-externally-managed --compile --install-headers /usr/local/include/python3.8/lxml\r\n         cwd: /tmp/pip-install-avfvdv94/lxml/\r\n    Complete output (96 lines):\r\n    Building lxml version 4.5.0.\r\n    Building without Cython.\r\n    ERROR: b'/bin/sh: 1: xslt-config: not found\\n'\r\n    ** make sure the development packages of libxml2 and libxslt are installed **\r\n    \r\n    Using build configuration of libxslt\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-aarch64-3.8\r\n    creating build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/__init__.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/sax.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/ElementInclude.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/builder.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/doctestcompare.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/_elementpath.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/usedoctest.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/cssselect.py -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/pyclasslookup.py -> build/lib.linux-aarch64-3.8/lxml\r\n    creating build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/__init__.py -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    creating build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/__init__.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/soupparser.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/_setmixin.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/_html5builder.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/formfill.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/clean.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/builder.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/ElementSoup.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/_diffcommand.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/diff.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/usedoctest.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/html5parser.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    copying src/lxml/html/defs.py -> build/lib.linux-aarch64-3.8/lxml/html\r\n    creating build/lib.linux-aarch64-3.8/lxml/isoschematron\r\n    copying src/lxml/isoschematron/__init__.py -> build/lib.linux-aarch64-3.8/lxml/isoschematron\r\n    copying src/lxml/etree.h -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/etree_api.h -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/lxml.etree.h -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/lxml.etree_api.h -> build/lib.linux-aarch64-3.8/lxml\r\n    copying src/lxml/includes/c14n.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/config.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/xmlschema.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/xinclude.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/tree.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/xmlerror.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/schematron.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/dtdvalid.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/xpath.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/uri.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/etreepublic.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/__init__.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/htmlparser.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/relaxng.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/xslt.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/xmlparser.pxd -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/etree_defs.h -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    copying src/lxml/includes/lxml-version.h -> build/lib.linux-aarch64-3.8/lxml/includes\r\n    creating build/lib.linux-aarch64-3.8/lxml/isoschematron/resources\r\n    creating build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/rng\r\n    copying src/lxml/isoschematron/resources/rng/iso-schematron.rng -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/rng\r\n    creating build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl\r\n    copying src/lxml/isoschematron/resources/xsl/XSD2Schtrn.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl\r\n    copying src/lxml/isoschematron/resources/xsl/RNG2Schtrn.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl\r\n    creating build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_abstract_expand.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_dsdl_include.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_schematron_message.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_schematron_skeleton_for_xslt1.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/iso_svrl_for_xslt1.xsl -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    copying src/lxml/isoschematron/resources/xsl/iso-schematron-xslt1/readme.txt -> build/lib.linux-aarch64-3.8/lxml/isoschematron/resources/xsl/iso-schematron-xslt1\r\n    running build_ext\r\n    building 'lxml.etree' extension\r\n    creating build/temp.linux-aarch64-3.8\r\n    creating build/temp.linux-aarch64-3.8/src\r\n    creating build/temp.linux-aarch64-3.8/src/lxml\r\n    gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -fPIC -DCYTHON_CLINE_IN_TRACEBACK=0 -Isrc -Isrc/lxml/includes -I/usr/local/include/python3.8 -c src/lxml/etree.c -o build/temp.linux-aarch64-3.8/src/lxml/etree.o -w\r\n    In file included from src/lxml/etree.c:692:0:\r\n    src/lxml/includes/etree_defs.h:14:31: fatal error: libxml/xmlversion.h: No such file or directory\r\n     #include \"libxml/xmlversion.h\"\r\n                                   ^\r\n    compilation terminated.\r\n    Compile failed: command 'gcc' failed with exit status 1\r\n    creating tmp\r\n    cc -I/usr/include/libxml2 -c /tmp/xmlXPathInitr5omrupo.c -o tmp/xmlXPathInitr5omrupo.o\r\n    /tmp/xmlXPathInitr5omrupo.c:1:26: fatal error: libxml/xpath.h: No such file or directory\r\n     #include \"libxml/xpath.h\"\r\n                              ^\r\n    compilation terminated.\r\n    *********************************************************************************\r\n    Could not find function xmlCheckVersion in library libxml2. Is libxml2 installed?\r\n    *********************************************************************************\r\n    error: command 'gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/local/bin/python3.8 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-avfvdv94/lxml/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-avfvdv94/lxml/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-5jkf_pbo/install-record.txt --single-version-externally-managed --compile --install-headers /usr/local/include/python3.8/lxml Check the logs for full command output.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/379", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/379/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/379/events", "html_url": "https://github.com/ncclient/ncclient/issues/379", "id": 586240524, "node_id": "MDU6SXNzdWU1ODYyNDA1MjQ=", "number": 379, "title": "Huawei USG returns no output", "user": {"login": "stvnkem", "id": 61822499, "node_id": "MDQ6VXNlcjYxODIyNDk5", "avatar_url": "https://avatars1.githubusercontent.com/u/61822499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stvnkem", "html_url": "https://github.com/stvnkem", "followers_url": "https://api.github.com/users/stvnkem/followers", "following_url": "https://api.github.com/users/stvnkem/following{/other_user}", "gists_url": "https://api.github.com/users/stvnkem/gists{/gist_id}", "starred_url": "https://api.github.com/users/stvnkem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stvnkem/subscriptions", "organizations_url": "https://api.github.com/users/stvnkem/orgs", "repos_url": "https://api.github.com/users/stvnkem/repos", "events_url": "https://api.github.com/users/stvnkem/events{/privacy}", "received_events_url": "https://api.github.com/users/stvnkem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-03-23T14:12:43Z", "updated_at": "2020-06-30T19:39:27Z", "closed_at": "2020-06-30T19:39:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear,\r\n\r\nI am new to Netconf and trying to query a Huawei USG firewall. The queries with subtree filter usually do return no output, except 1 case where I managed to modify the XML, I will describe it below.\r\n`m.get_config(('running'))` returns the full config, this works.\r\nI am using XML filters given in the official doc.\r\n\r\nLimitations described in the doc:\r\nObtains data, including running status data and configuration data. <filter> element: filters  information. If <filter> is not specified, the system returns the information about the entire configuration datastore. NOTE:   V600R006C00 supports only the subtree filter, but not the XPath filter. The target datastore of all operations must be the running datastore. That is, the `<source></source>  value must be <running/>.`\r\n\r\n\r\nExample 1, NCCLIEN returns an error when the entire filter is used:\r\n\r\n```\r\nFILTER = \"\"\"\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<rpc message-id=\"1008\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  <get-config>\r\n    <source>\r\n      <running/>\r\n    </source>\r\n    <filter type=\"subtree\">\r\n      <sec-policy xmlns=\"urn:huawei:params:xml:ns:yang:huawei-security-policy\">\r\n      </sec-policy>\r\n    </filter>\r\n  </get-config>\r\n</rpc>\r\n\"\"\"\r\n```\r\n\r\n`return m.get((\"subtree\", FILTER))`\r\n\r\n`ValueError: Invalid tag name '(\\'subtree\\', \\'\\\\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\\\n<rpc message-id=\"1008\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\\\\n  <get-config>\\\\n    <source>\\\\n      <running/>\\\\n    </source>\\\\n    <filter type=\"subtree\">\\\\n      <sec-policy xmlns=\"urn:huawei:params:xml:ns:yang:huawei-security-policy\">\\\\n      </sec-policy>\\\\n    </filter>\\\\n  </get-config>\\\\n</rpc>\\\\n\\')'`\r\n\r\nAfter removing the first line of the FILTER ' <?xml version=\"1.0\" encoding=\"UTF-8\"?> '\r\nIt returns no data:\r\n<rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:b0d2ab74-e8c6-42ef-ac1f-546fb9969eb8\"><data/></rpc-reply>\r\n\r\nExample 2, managed to modify the XML.\r\n\r\nThe filter given in the doc is not working:\r\n\r\n```\r\nFILTER = \"\"\"\r\n<rpc message-id=\"1002\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  <get-config>\r\n    <source>\r\n      <running/>\r\n    </source>\r\n    <filter type=\"subtree\">\r\n      <interfaces xmlns=\"urn:ietf:params:xml:ns:yang:ietf-interfaces\"      xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"  \r\n      xmlns:urn1=\"urn:huawei:params:xml:ns:yang:huawei-interface\" \r\n      xmlns:urn2=\"urn:huawei:params:xml:ns:yang:huawei-security-zone\"\r\n      xmlns:urn3=\"urn:ietf:params:xml:ns:yang:ietf-ip\"\r\n      xmlns:urn4=\"urn:huawei:params:xml:ns:yang:huawei-eth-trunk\"\r\n      xmlns:ianaift=\"urn:ietf:params:xml:ns:yang:iana-if-type\">\r\n      </interfaces>\r\n    </filter>\r\n  </get-config>\r\n</rpc>\r\n\"\"\"\r\n```\r\n\r\n`return m.get((\"subtree\", FILTER))`\r\n\r\n`<rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:e82b3a48-eb5d-49f5-b195-e6fca381dfae\"><data/></rpc-reply>`\r\n\r\nAfter modifying the filter the data was properly returned.\r\n\r\n```\r\nFILTER = \"\"\"\r\n      <interfaces xmlns=\"urn:ietf:params:xml:ns:yang:ietf-interfaces\"      xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"  \r\n      xmlns:urn1=\"urn:huawei:params:xml:ns:yang:huawei-interface\" \r\n      xmlns:urn2=\"urn:huawei:params:xml:ns:yang:huawei-security-zone\"\r\n      xmlns:urn3=\"urn:ietf:params:xml:ns:yang:ietf-ip\"\r\n      xmlns:urn4=\"urn:huawei:params:xml:ns:yang:huawei-eth-trunk\"\r\n      xmlns:ianaift=\"urn:ietf:params:xml:ns:yang:iana-if-type\">\r\n      </interfaces>\r\n\"\"\"\r\n```\r\n\r\n`<rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:9627e56d-5be1-46bf-a4f3-6c7b0865074a\"><data><interfaces xmlns=\"urn:ietf:params:xml:ns:yang:ietf-interfaces\" xmlns:ianaift=\"urn:ietf:params:xml:ns:yang:iana-if-type\" xmlns:hw-if=\"urn:huawei:params:xml:ns:yang:huawei-interface\"` ----------------- output ommitted.\r\n\r\nI did not manage to modify any other filters to get them working.\r\nWhat is the trick? What am I doing wrong?\r\n\r\nFull code:\r\n[https://trinket.io/python/e053ac9fe8](url)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/378", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/378/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/378/events", "html_url": "https://github.com/ncclient/ncclient/issues/378", "id": 584639238, "node_id": "MDU6SXNzdWU1ODQ2MzkyMzg=", "number": 378, "title": "ncclient broken in EPEL for CentOS 7", "user": {"login": "azzid", "id": 8883008, "node_id": "MDQ6VXNlcjg4ODMwMDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/8883008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azzid", "html_url": "https://github.com/azzid", "followers_url": "https://api.github.com/users/azzid/followers", "following_url": "https://api.github.com/users/azzid/following{/other_user}", "gists_url": "https://api.github.com/users/azzid/gists{/gist_id}", "starred_url": "https://api.github.com/users/azzid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azzid/subscriptions", "organizations_url": "https://api.github.com/users/azzid/orgs", "repos_url": "https://api.github.com/users/azzid/repos", "events_url": "https://api.github.com/users/azzid/events{/privacy}", "received_events_url": "https://api.github.com/users/azzid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-19T19:15:05Z", "updated_at": "2020-03-22T15:23:33Z", "closed_at": "2020-03-22T15:23:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just started trying to use `ncclient` to configure a HPE Apollo 10/40GbE Switch and had a real bad time doing so until I realized that the problem might be in the packaging for epel.\r\n\r\n    # yum info python-ncclient  \r\n    Available Packages  \r\n    Name        : python-ncclient  \r\n    Arch        : noarch  \r\n    Version     : 0.4.2  \r\n    Release     : 2.el7  \r\n    Size        : 164 k  \r\n    Repo        : epel/x86_64  \r\n    Summary     : Python library for NETCONF clients  \r\n    URL         : https://pypi.python.org/pypi/ncclient  \r\n    License     : ASL 2.0  \r\n    Description : This project is a Python library that facilitates client-side  \r\n                : scripting and application development around the NETCONF protocol.  \r\n\r\nncclient version 0.4.2 is quite old by now and is even missing the device_params={'name': 'hpcomware'} that my switch would supposedly benefit from.\r\n\r\nThe code I struggled to get working looks like:\r\n\r\n    #!/usr/bin/python\r\n    from ncclient import manager\r\n\r\n    with manager.connect(host='comware710switch',\r\n                         port=830,\r\n                         username='admin',\r\n                         password='admin',\r\n                         hostkey_verify=False,\r\n                         allow_agent=False,\r\n                         look_for_keys=False,\r\n                         device_params={'name': 'default'}\r\n                        ) as netconf_manager:\r\n      filter = '''\r\n                <top xmlns=\"http://www.hp.com/netconf/data:1.0\">\r\n                </top>\r\n               '''\r\n      data = netconf_manager.get(('subtree', filter))\r\n\r\nand the error I get is:\r\n\r\n    Traceback (most recent call last):\r\n      File \"./test.py\", line 21, in <module>\r\n        data = netconf_manager.get(('subtree', filter)).xml\r\n      File \"/usr/lib/python2.7/site-packages/ncclient/manager.py\", line 203, in __exit__\r\n        self.close_session()\r\n      File \"/usr/lib/python2.7/site-packages/ncclient/manager.py\", line 151, in wrapper\r\n        return self.execute(op_cls, *args, **kwds)\r\n      File \"/usr/lib/python2.7/site-packages/ncclient/manager.py\", line 221, in execute\r\n        raise_mode=self._raise_mode).request(*args, **kwds)\r\n      File \"/usr/lib/python2.7/site-packages/ncclient/operations/session.py\", line 28, in request\r\n        return self._request(new_ele(\"close-session\"))\r\n      File \"/usr/lib/python2.7/site-packages/ncclient/operations/rpc.py\", line 308, in _request\r\n        raise self._reply.error\r\n    ncclient.operations.rpc.RPCError: Unexpected attribute '':'type' of element '/rpc/close-session[1]'.\r\n\r\nI lack the skill to pair up that error with any particular commit modernizing rpc.py and I don't know how to report this issue to the EPEL maintainers. Maybe someone from this community could do something to help EPEL get a working version of ncclient?\r\n\r\nI created a modern virtual environment with ncclient 0.6.7 and tried my code in it and verified that both the code and switch configuration is working, so while I fail to exactly identify the bug in EPEL I'm fairly certain it is there.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/377", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/377/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/377/events", "html_url": "https://github.com/ncclient/ncclient/issues/377", "id": 584233427, "node_id": "MDU6SXNzdWU1ODQyMzM0Mjc=", "number": 377, "title": "huawei CE switch get-next how to use?  i use hw01.py in  ctlaltlaltc / ncclient  but failure", "user": {"login": "kevinlee525", "id": 13743381, "node_id": "MDQ6VXNlcjEzNzQzMzgx", "avatar_url": "https://avatars0.githubusercontent.com/u/13743381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinlee525", "html_url": "https://github.com/kevinlee525", "followers_url": "https://api.github.com/users/kevinlee525/followers", "following_url": "https://api.github.com/users/kevinlee525/following{/other_user}", "gists_url": "https://api.github.com/users/kevinlee525/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinlee525/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinlee525/subscriptions", "organizations_url": "https://api.github.com/users/kevinlee525/orgs", "repos_url": "https://api.github.com/users/kevinlee525/repos", "events_url": "https://api.github.com/users/kevinlee525/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinlee525/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-19T08:06:45Z", "updated_at": "2020-03-19T09:14:02Z", "closed_at": "2020-03-19T09:12:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "ValueError: Invalid tag name '<Element {urn:ietf:params:xml:ns:netconf:base:1.0}get-next at 0x3df1120>'\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/376", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/376/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/376/events", "html_url": "https://github.com/ncclient/ncclient/issues/376", "id": 577516767, "node_id": "MDU6SXNzdWU1Nzc1MTY3Njc=", "number": 376, "title": "ncclient.operations.rpc.RPCError: ifm has invalid namespace: http://www.huawei.com/netconf/vrp/huawei-ifm.", "user": {"login": "stvnkem", "id": 61822499, "node_id": "MDQ6VXNlcjYxODIyNDk5", "avatar_url": "https://avatars1.githubusercontent.com/u/61822499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stvnkem", "html_url": "https://github.com/stvnkem", "followers_url": "https://api.github.com/users/stvnkem/followers", "following_url": "https://api.github.com/users/stvnkem/following{/other_user}", "gists_url": "https://api.github.com/users/stvnkem/gists{/gist_id}", "starred_url": "https://api.github.com/users/stvnkem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stvnkem/subscriptions", "organizations_url": "https://api.github.com/users/stvnkem/orgs", "repos_url": "https://api.github.com/users/stvnkem/repos", "events_url": "https://api.github.com/users/stvnkem/events{/privacy}", "received_events_url": "https://api.github.com/users/stvnkem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-08T15:18:30Z", "updated_at": "2020-03-08T15:42:19Z", "closed_at": "2020-03-08T15:42:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear,\r\n\r\nI got the following exception while testing my very first Netconf-Yang call.\r\nThe code sample is from Huawei documentation.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"netconf_yang_test.py\", line 29, in <module>\r\n    test_get('ipi-zhb790-r-ml-98', '22', 'taakeis1', 'o8Vah12+')\r\n  File \"netconf_yang_test.py\", line 25, in test_get\r\n    get_reply = m.get((\"subtree\", FILTER))\r\n  File \"/home/taakeis1/bfd_fix/lib64/python3.6/site-packages/ncclient/manager.py\", line 236, in execute\r\n    huge_tree=self._huge_tree).request(*args, **kwds)\r\n  File \"/home/taakeis1/bfd_fix/lib64/python3.6/site-packages/ncclient/operations/retrieve.py\", line 91, in request\r\n    return self._request(node)\r\n  File \"/home/taakeis1/bfd_fix/lib64/python3.6/site-packages/ncclient/operations/rpc.py\", line 348, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: ifm has invalid namespace: http://www.huawei.com/netconf/vrp/huawei-ifm.\r\n```\r\n\r\nCode:\r\nhttps://codeshare.io/ayREp9\r\n\r\nHere are the logs recorded by the device:\r\nhttps://codeshare.io/5vRpry\r\n\r\nAny idea why?\r\n\r\nThanks,\r\nIstvan", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/375", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/375/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/375/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/375/events", "html_url": "https://github.com/ncclient/ncclient/issues/375", "id": 573280143, "node_id": "MDU6SXNzdWU1NzMyODAxNDM=", "number": 375, "title": "getchildren was removed over usage of children in Python 3.8", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-29T11:47:14Z", "updated_at": "2020-03-01T04:28:25Z", "closed_at": "2020-03-01T04:28:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "getchildren was removed over usage of children in Python 3.8. Ref : https://bugs.python.org/issue36543\r\n\r\n```\r\nncclient/transport/session.py\r\n273:        for child in root.getchildren():\r\n277:                for cap in child.getchildren():\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/374", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/374/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/374/events", "html_url": "https://github.com/ncclient/ncclient/issues/374", "id": 571602176, "node_id": "MDU6SXNzdWU1NzE2MDIxNzY=", "number": 374, "title": "config and target are not working as positional parameters in Manager.edit_config", "user": {"login": "991jo", "id": 1368323, "node_id": "MDQ6VXNlcjEzNjgzMjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1368323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/991jo", "html_url": "https://github.com/991jo", "followers_url": "https://api.github.com/users/991jo/followers", "following_url": "https://api.github.com/users/991jo/following{/other_user}", "gists_url": "https://api.github.com/users/991jo/gists{/gist_id}", "starred_url": "https://api.github.com/users/991jo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/991jo/subscriptions", "organizations_url": "https://api.github.com/users/991jo/orgs", "repos_url": "https://api.github.com/users/991jo/repos", "events_url": "https://api.github.com/users/991jo/events{/privacy}", "received_events_url": "https://api.github.com/users/991jo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-26T19:22:03Z", "updated_at": "2020-03-05T08:22:53Z", "closed_at": "2020-03-03T11:07:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nwhen I am using the edit_config method of the manager class with `config` and `target` as positional arguments the call fails. If I use it with the same options as keyword arguments the command fails.\r\nThe parameters are documented as positional parameters in the docs.\r\n\r\npython version: 3.8.1\r\nncclient version: 0.6.7\r\n\r\nExample Code\r\n\r\nworking:\r\n```\r\nfrom ncclient import manager\r\n\r\nwith manager.connect(host=\"100.71.40.21\", port=22, username=\"jo\", password=\"derpderp\", hostkey_verify=False, allow_agent=False) as m:\r\n    c = m.edit_config(target=\"running\", config=\"\"\"<config>\r\n         <cli-config-data>\r\n<cmd>hostname test</cmd>\r\n</cli-config-data>\r\n      </config>\"\"\")\r\n    print(c)\r\n```\r\nOutput:\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><rpc-reply message-id=\"urn:uuid:1e1822c3-29a5-45f9-aa94-d38786a08a07\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><ok /></rpc-reply>\r\n```\r\n\r\nnot working:\r\n```\r\nfrom ncclient import manager\r\n\r\nwith manager.connect(host=\"100.71.40.21\", port=22, username=\"jo\", password=\"derpderp\", hostkey_verify=False, allow_agent=False) as m:\r\n    c = m.edit_config(\"running\", \"\"\"<config>\r\n         <cli-config-data>\r\n<cmd>hostname test</cmd>\r\n</cli-config-data>\r\n      </config>\"\"\")\r\n    print(c)\r\n```\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 4, in <module>\r\n    c = m.edit_config(\"running\", \"\"\"<config>\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/manager.py\", line 231, in execute\r\n    return cls(self._session,\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/operations/edit.py\", line 69, in request\r\n    return self._request(node)\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/operations/rpc.py\", line 337, in _request\r\n    raise self._error\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/transport/ssh.py\", line 488, in run\r\n    self.parser.parse(data)\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/transport/parser.py\", line 118, in parse\r\n    self._parse10()\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/transport/parser.py\", line 137, in _parse10\r\n    self._session._dispatch_message(msg)\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/transport/ssh.py\", line 128, in _dispatch_message\r\n    return super(SSHSession, self)._dispatch_message(raw)\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/transport/session.py\", line 79, in _dispatch_message\r\n    l.callback(root, raw) # no try-except; fail loudly if you must!\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/operations/rpc.py\", line 222, in callback\r\n    raise OperationError(\"Could not find 'message-id' attribute in <rpc-reply>\")\r\nncclient.operations.errors.OperationError: Could not find 'message-id' attribute in <rpc-reply>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 9, in <module>\r\n    print(c)\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/manager.py\", line 217, in __exit__\r\n    self.close_session()\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/manager.py\", line 231, in execute\r\n    return cls(self._session,\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/operations/session.py\", line 28, in request\r\n    return self._request(new_ele(\"close-session\"))\r\n  File \"/home/jo/projects/netconf-tests/lib/python3.8/site-packages/ncclient/operations/rpc.py\", line 354, in _request\r\n    raise TimeoutExpiredError('ncclient timed out while waiting for an rpc reply.')\r\nncclient.operations.errors.TimeoutExpiredError: ncclient timed out while waiting for an rpc reply.\r\n```\r\n\r\nMy router is a Cisco 886 running IOS version 15.7(3)M4a.\r\n\r\nThe logfiles of the router contain:\r\n```\r\n*Feb 26 18:55:10.783: GSI: netconf app _s_ssh.[0x8B3AE898]: <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:2ba1e94f-531b-4372-a14c-d2149eb1c0fe\"><nc:edit-config><nc:target><nc:candidate/></nc:target></nc:edit-config></nc:rpc>\r\n*Feb 26 18:55:10.783: NETCONF: _namn.77.mlc.don=87B95898\r\n*Feb 26 18:55:10.783: NETCONF: _narc.77.rcv.ok=8B319F88\r\n*Feb 26 18:55:10.783: NETCONF: netconf_xml_interpret.77.msg_len=236 bytes\r\n*Feb 26 18:55:10.783: NETCONF: netconf_xml_interpret.77.failure<?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"message-id=\"urn:uuid:2ba1e94f-531b-4372-a14c-d2149eb1c0fe\"><nc:edit-config><nc:target><nc:candidate/></nc:target></nc:edit-configg></nc:rpc>\r\n*Feb 26 18:55:10.783: NETCONF: _nssd.77.snd.now<?xml version=\"1.0\" encoding=\"UTF-8\"?><rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><rpc-error><error-type>rpc</error-type><error-tag>missing-element</error-tag><error-severity>error</error-severity><error-info><bad-element>config</bad-element></error-info></rpc-error></rpc-reply>\r\n```\r\n-> the command which is send to the router uses the candidate config which is not supported by this device.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/373", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/373/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/373/events", "html_url": "https://github.com/ncclient/ncclient/issues/373", "id": 567849930, "node_id": "MDU6SXNzdWU1Njc4NDk5MzA=", "number": 373, "title": "get() operation not accepting multiple subtree filters", "user": {"login": "neelimapp", "id": 10559258, "node_id": "MDQ6VXNlcjEwNTU5MjU4", "avatar_url": "https://avatars0.githubusercontent.com/u/10559258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neelimapp", "html_url": "https://github.com/neelimapp", "followers_url": "https://api.github.com/users/neelimapp/followers", "following_url": "https://api.github.com/users/neelimapp/following{/other_user}", "gists_url": "https://api.github.com/users/neelimapp/gists{/gist_id}", "starred_url": "https://api.github.com/users/neelimapp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neelimapp/subscriptions", "organizations_url": "https://api.github.com/users/neelimapp/orgs", "repos_url": "https://api.github.com/users/neelimapp/repos", "events_url": "https://api.github.com/users/neelimapp/events{/privacy}", "received_events_url": "https://api.github.com/users/neelimapp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-19T21:11:39Z", "updated_at": "2020-06-30T19:37:06Z", "closed_at": "2020-06-30T19:37:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to get RPC reply of multiple sub trees at once via get() operation as below but its giving me an error.\r\n```python\r\ngetfacts='''\r\n    <host-names xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-shellutil-cfg\"/>\r\n    <system-time xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-shellutil-oper\"/>\r\n    <interfaces xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-pfi-im-cmd-oper\">\r\n     <interfaces>\r\n       <interface>\r\n        <interface-name/>\r\n       </interface>\r\n      </interfaces>\r\n     </interfaces>\r\n    <inventory xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-invmgr-oper\">\r\n     <racks>\r\n       <rack>\r\n        <attributes>\r\n            <inv-basic-bag>\r\n                <software-revision/>\r\n                <model-name/>\r\n                <serial-number/>\r\n            </inv-basic-bag>\r\n        </attributes>\r\n       </rack>\r\n      </racks>\r\n     </inventory>'''\r\n  \r\ndef connect(host, port, user, password, source):\r\n    conn = manager.connect(host=host,\r\n                           port=port,\r\n                           username=user,\r\n                           password = password,\r\n                           device_params={'name': 'iosxr'}\r\n                           )\r\n\r\n    rpc_reply = conn.get(filter=('subtree', getfacts)).xml\r\n    print(rpc_reply)\r\n```\r\n\r\nError:\r\n```\r\nreturn x if etree.iselement(x) else etree.fromstring(x.encode('UTF-8'), parser=_get_parser(huge_tree))\r\n  File \"src/lxml/etree.pyx\", line 3235, in lxml.etree.fromstring\r\n  File \"src/lxml/parser.pxi\", line 1876, in lxml.etree._parseMemoryDocument\r\n  File \"src/lxml/parser.pxi\", line 1764, in lxml.etree._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 1127, in lxml.etree._BaseParser._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 601, in lxml.etree._ParserContext._handleParseResultDoc\r\n  File \"src/lxml/parser.pxi\", line 711, in lxml.etree._handleParseResult\r\n  File \"src/lxml/parser.pxi\", line 640, in lxml.etree._raiseParseError\r\n  File \"<string>\", line 4\r\nlxml.etree.XMLSyntaxError: Extra content at the end of the document, line 4, column 5\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/369", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/369/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/369/events", "html_url": "https://github.com/ncclient/ncclient/issues/369", "id": 549257673, "node_id": "MDU6SXNzdWU1NDkyNTc2NzM=", "number": 369, "title": "Connection fails for ncclient.manager.connect", "user": {"login": "ashah26", "id": 26960238, "node_id": "MDQ6VXNlcjI2OTYwMjM4", "avatar_url": "https://avatars2.githubusercontent.com/u/26960238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashah26", "html_url": "https://github.com/ashah26", "followers_url": "https://api.github.com/users/ashah26/followers", "following_url": "https://api.github.com/users/ashah26/following{/other_user}", "gists_url": "https://api.github.com/users/ashah26/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashah26/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashah26/subscriptions", "organizations_url": "https://api.github.com/users/ashah26/orgs", "repos_url": "https://api.github.com/users/ashah26/repos", "events_url": "https://api.github.com/users/ashah26/events{/privacy}", "received_events_url": "https://api.github.com/users/ashah26/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-14T00:17:16Z", "updated_at": "2020-01-15T18:42:48Z", "closed_at": "2020-01-15T18:42:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to write script for NAPALM.\r\n\r\n```\r\n# -*- coding: utf-8 -*-\r\n# Copyright 2016 Dravetech AB. All rights reserved.\r\n#\r\n# The contents of this file are licensed under the Apache License, Version 2.0\r\n# (the \"License\"); you may not use this file except in compliance with the\r\n# License. You may obtain a copy of the License at\r\n#\r\n# http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n# License for the specific language governing permissions and limitations under\r\n# the License.\r\n\r\n\"\"\"\r\nNapalm driver for Skeleton.\r\n\r\nRead https://napalm.readthedocs.io for more information.\r\n\"\"\"\r\n\r\nfrom napalm.base import NetworkDriver\r\nfrom ncclient import manager\r\nfrom ncclient.xml_ import *\r\nfrom napalm.base.exceptions import (\r\n    ConnectionException,\r\n    SessionLockedException,\r\n    MergeConfigException,\r\n    ReplaceConfigException,\r\n    CommandErrorException,\r\n)\r\nimport traceback\r\nfrom xml.etree import ElementTree\r\n\r\n\r\nclass NokiaDriver(NetworkDriver):\r\n    \"\"\"Napalm driver for Skeleton.\"\"\"\r\n\r\n    def __init__(self, hostname, username, password, timeout=60, optional_args=None):\r\n        \"\"\"Constructor.\"\"\"\r\n        self.device = None\r\n        self.hostname = hostname\r\n        self.username = username\r\n        self.password = password\r\n        self.timeout = timeout\r\n        self.conn = None\r\n\r\n        if optional_args is None:\r\n            optional_args = {}\r\n        self.port = optional_args.get('port', 22)\r\n        self.keepalive = optional_args.get('keepalive', 30)\r\n        self.open()\r\n\r\n    def open(self):\r\n        \"\"\"Implement the NAPALM method open (mandatory)\"\"\"\r\n        try:\r\n            # print(\"Connection before: \", self.hostname, self.username, self.password)\r\n\r\n            self.conn = manager.connect(hostname=self.hostname, port=self.port, username=self.username, password=self.password, hostkey_verify=False, device_params={'name': 'alu'})\r\n\r\n        except ConnectionException as connexc:\r\n            print(traceback.format_exc())\r\n            print(\"Exception in Netconf Connection\", connexc)\r\n\r\n    def close(self):\r\n        \"\"\"Implement the NAPALM method close (mandatory)\"\"\"\r\n        # self.conn.close_session()\r\n        pass\r\n\r\n    def get_facts(self):\r\n      \r\n        try:\r\n            state_data = self.conn.get()\r\n            state_data_xml = to_xml(state_data.xpath('data/state')[0])\r\n            state_root = ElementTree.fromstring(state_data_xml)\r\n            vprn_state_xml = to_xml(state_data.xpath('data/state/service')[0])\r\n            vprn_state = ElementTree.fromstring(vprn_state_xml)\r\n        except Exception as e:\r\n            print(traceback.format_exc())\r\n            print(\"Exception in connection in get facts:\", e)\r\n```\r\n\r\nSo for this when a I make a NAPALM Call:\r\nnapalm --vendor sros --user admin --password password --optional_args \"port=830\" hostname call get_facts\r\n\r\nIt retruns an error like:\r\n state_data = self.conn.get()\r\nAttributeError: 'NoneType' object has no attribute 'get'\r\n\r\nAuthentication details are correct, although I don't get why is netconf connection NONE?\r\nAny help is appreciated\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/367", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/367/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/367/events", "html_url": "https://github.com/ncclient/ncclient/issues/367", "id": 547234106, "node_id": "MDU6SXNzdWU1NDcyMzQxMDY=", "number": 367, "title": "python_v:3.8.0a1 ImportError", "user": {"login": "FreeBoys", "id": 16610389, "node_id": "MDQ6VXNlcjE2NjEwMzg5", "avatar_url": "https://avatars1.githubusercontent.com/u/16610389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FreeBoys", "html_url": "https://github.com/FreeBoys", "followers_url": "https://api.github.com/users/FreeBoys/followers", "following_url": "https://api.github.com/users/FreeBoys/following{/other_user}", "gists_url": "https://api.github.com/users/FreeBoys/gists{/gist_id}", "starred_url": "https://api.github.com/users/FreeBoys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FreeBoys/subscriptions", "organizations_url": "https://api.github.com/users/FreeBoys/orgs", "repos_url": "https://api.github.com/users/FreeBoys/repos", "events_url": "https://api.github.com/users/FreeBoys/events{/privacy}", "received_events_url": "https://api.github.com/users/FreeBoys/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1895863515, "node_id": "MDU6TGFiZWwxODk1ODYzNTE1", "url": "https://api.github.com/repos/ncclient/ncclient/labels/No%20Feedback", "name": "No Feedback", "color": "ed3874", "default": false, "description": "This tag is applied if feedback was sought on an issue, but no responses forthcoming."}, {"id": 1799407110, "node_id": "MDU6TGFiZWwxNzk5NDA3MTEw", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Python%203.8", "name": "Python 3.8", "color": "9ac4e0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-09T04:02:11Z", "updated_at": "2020-03-08T15:46:36Z", "closed_at": "2020-03-08T15:42:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "python_v:3.8.0a1\r\nncclient:0.6.7\r\n\r\nImportError: cannot import name 'manager' from 'ncclient'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/364", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/364/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/364/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/364/events", "html_url": "https://github.com/ncclient/ncclient/issues/364", "id": 541665081, "node_id": "MDU6SXNzdWU1NDE2NjUwODE=", "number": 364, "title": "debug log for different listener blot log file", "user": {"login": "vnitinv", "id": 767016, "node_id": "MDQ6VXNlcjc2NzAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/767016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnitinv", "html_url": "https://github.com/vnitinv", "followers_url": "https://api.github.com/users/vnitinv/followers", "following_url": "https://api.github.com/users/vnitinv/following{/other_user}", "gists_url": "https://api.github.com/users/vnitinv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnitinv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnitinv/subscriptions", "organizations_url": "https://api.github.com/users/vnitinv/orgs", "repos_url": "https://api.github.com/users/vnitinv/repos", "events_url": "https://api.github.com/users/vnitinv/events{/privacy}", "received_events_url": "https://api.github.com/users/vnitinv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-23T09:29:10Z", "updated_at": "2020-01-11T20:54:39Z", "closed_at": "2020-01-11T20:54:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "we don't need to put debug for different listeners. It unnecessarily put same log message for different listener multiple times.\r\nIn case of huge XML output, logging becomes clumsy \r\n```\r\nDEBUG:ncclient.transport.ssh:[host 10.221.130.141 session-id 51814] dispatching message to <ncclient.transport.session.NotificationHandler object at 0x108c162e8>: <rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns:junos=\"http://xml.juniper.net/junos/19.3R0/junos\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:c8fefa58-5cc8-478e-8e60-e340b9409c1a\">\r\n....\r\n</rpc-reply>\r\nDEBUG:ncclient.transport.ssh:[host 10.221.130.141 session-id 51814] dispatching message to <ncclient.operations.rpc.RPCReplyListener object at 0x1086fa588>: <rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns:junos=\"http://xml.juniper.net/junos/19.3R0/junos\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:c8fefa58-5cc8-478e-8e60-e340b9409c1a\">\r\n....\r\n</rpc-reply>\r\nDEBUG:ncclient.transport.ssh:[host 10.221.130.141 session-id 51814] dispatching message to <jnpr.junos.device.DeviceSessionListener object at 0x1086fa5f8>: <rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns:junos=\"http://xml.juniper.net/junos/19.3R0/junos\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:c8fefa58-5cc8-478e-8e60-e340b9409c1a\">\r\n....\r\n</rpc-reply>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/361", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/361/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/361/events", "html_url": "https://github.com/ncclient/ncclient/issues/361", "id": 534406128, "node_id": "MDU6SXNzdWU1MzQ0MDYxMjg=", "number": 361, "title": "MissingCapabilityError: Server does not support [:notification] in cisco ios", "user": {"login": "dounialab", "id": 47895569, "node_id": "MDQ6VXNlcjQ3ODk1NTY5", "avatar_url": "https://avatars0.githubusercontent.com/u/47895569?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dounialab", "html_url": "https://github.com/dounialab", "followers_url": "https://api.github.com/users/dounialab/followers", "following_url": "https://api.github.com/users/dounialab/following{/other_user}", "gists_url": "https://api.github.com/users/dounialab/gists{/gist_id}", "starred_url": "https://api.github.com/users/dounialab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dounialab/subscriptions", "organizations_url": "https://api.github.com/users/dounialab/orgs", "repos_url": "https://api.github.com/users/dounialab/repos", "events_url": "https://api.github.com/users/dounialab/events{/privacy}", "received_events_url": "https://api.github.com/users/dounialab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-07T14:07:36Z", "updated_at": "2019-12-08T12:54:40Z", "closed_at": "2019-12-08T12:54:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello,\r\nwe want to work on netconf notifications using manager.create_subscription(). and we got this error :\r\nncclient.operations.errors.MissingCapabilityError: Server does not support [:notification]\r\ncisco device =switch catalyst 2960-s iosxr \r\ndevice capabilities=\r\nLes capabilities:   .....    urn:ietf:params:netconf:base:1.0\r\nLes capabilities:   .....    urn:ietf:params:netconf:capability:writeable-running:1.0\r\nLes capabilities:   .....    urn:ietf:params:netconf:capability:startup:1.0\r\nLes capabilities:   .....    urn:ietf:params:netconf:capability:url:1.0\r\nLes capabilities:   .....    urn:cisco:params:netconf:capability:pi-data-model:1.0\r\nLes capabilities:   .....    urn:cisco:params:netconf:capability:notification:1.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/360", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/360/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/360/events", "html_url": "https://github.com/ncclient/ncclient/issues/360", "id": 534045341, "node_id": "MDU6SXNzdWU1MzQwNDUzNDE=", "number": 360, "title": "Sysrepo Compilation Failing.", "user": {"login": "akshatagage51", "id": 31643936, "node_id": "MDQ6VXNlcjMxNjQzOTM2", "avatar_url": "https://avatars1.githubusercontent.com/u/31643936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akshatagage51", "html_url": "https://github.com/akshatagage51", "followers_url": "https://api.github.com/users/akshatagage51/followers", "following_url": "https://api.github.com/users/akshatagage51/following{/other_user}", "gists_url": "https://api.github.com/users/akshatagage51/gists{/gist_id}", "starred_url": "https://api.github.com/users/akshatagage51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akshatagage51/subscriptions", "organizations_url": "https://api.github.com/users/akshatagage51/orgs", "repos_url": "https://api.github.com/users/akshatagage51/repos", "events_url": "https://api.github.com/users/akshatagage51/events{/privacy}", "received_events_url": "https://api.github.com/users/akshatagage51/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-06T14:50:27Z", "updated_at": "2019-12-08T12:44:25Z", "closed_at": "2019-12-08T12:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to install sysrepo on ubuntu 18.04.\r\nI have cloned the latest sysrepo repository and followed the steps provided in install.md, compiled sysrepo with release version.\r\nInstalled following packages,\r\nlibxml2, libxml2-dev, libxml2-utils, libxml2-dbg, liburcu-dev, libjson0, libuv1-dev, libuv1, nasm, libnuma-dev, python, yasm, gcc, make, cmake, bison, flex, valgrind, python-dev, lua5.2,   libev-dev, libavl-dev, libprotobuf-c-dev, protobuf-c-compiler, swig, build-essential, libpcre3-dev.\r\n\r\nCmocks version : libcmocka.so.0.7.0\r\n\r\nGetting following error on make:\r\n\r\n_system_helper.c:(.text+0x5d1): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/system_helper.c.o: In function `assert_null_bt':\r\nsystem_helper.c:(.text+0x61e): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/system_helper.c.o: In function `assert_true_bt':\r\nsystem_helper.c:(.text+0x657): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/system_helper.c.o: In function `assert_false_bt':\r\nsystem_helper.c:(.text+0x697): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/system_helper.c.o: In function `assert_string_equal_bt':\r\nsystem_helper.c:(.text+0x6df): undefined reference to `_assert_string_equal'\r\nCMakeFiles/HELPERS.dir/helpers/system_helper.c.o: In function `assert_int_equal_bt':\r\nsystem_helper.c:(.text+0x71e): undefined reference to `_assert_int_equal'\r\nCMakeFiles/HELPERS.dir/helpers/system_helper.c.o: In function `assert_int_not_equal_bt':\r\nsystem_helper.c:(.text+0x8ef): undefined reference to `_assert_int_not_equal'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `new_nacm_config':\r\nnacm_module_helper.c:(.text+0x32): undefined reference to `_assert_true'\r\nnacm_module_helper.c:(.text+0x5e): undefined reference to `_assert_true'\r\nnacm_module_helper.c:(.text+0x8a): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `save_nacm_config':\r\nnacm_module_helper.c:(.text+0xc9): undefined reference to `_assert_int_equal'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `enable_nacm_config':\r\nnacm_module_helper.c:(.text+0x184): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `set_nacm_read_dflt':\r\nnacm_module_helper.c:(.text+0x1e2): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `set_nacm_write_dflt':\r\nnacm_module_helper.c:(.text+0x242): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `set_nacm_exec_dflt':\r\nnacm_module_helper.c:(.text+0x2a2): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `enable_nacm_ext_groups':\r\nnacm_module_helper.c:(.text+0x314): undefined reference to `_assert_true'\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o:nacm_module_helper.c:(.text+0x3c6): more undefined references to `_assert_true' follow\r\nCMakeFiles/HELPERS.dir/helpers/nacm_module_helper.c.o: In function `save_nacm_config':\r\nnacm_module_helper.c:(.text+0xf5): undefined reference to `_assert_int_equal'\r\ncollect2: error: ld returned 1 exit status\r\ntests/CMakeFiles/values_test.dir/build.make:107: recipe for target 'tests/values_test' failed\r\nmake[2]: *** [tests/values_test] Error 1\r\nCMakeFiles/Makefile2:1401: recipe for target 'tests/CMakeFiles/values_test.dir/all' failed\r\nmake[1]: *** [tests/CMakeFiles/values_test.dir/all] Error 2\r\nMakefile:140: recipe for target 'all' failed\r\nmake: *** [all] Error 2_\r\n\r\nCan you please provide some solution...\r\n\r\nThanks Akshata\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/359", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/359/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/359/events", "html_url": "https://github.com/ncclient/ncclient/issues/359", "id": 528744617, "node_id": "MDU6SXNzdWU1Mjg3NDQ2MTc=", "number": 359, "title": "New release?", "user": {"login": "markgoddard", "id": 5795873, "node_id": "MDQ6VXNlcjU3OTU4NzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5795873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markgoddard", "html_url": "https://github.com/markgoddard", "followers_url": "https://api.github.com/users/markgoddard/followers", "following_url": "https://api.github.com/users/markgoddard/following{/other_user}", "gists_url": "https://api.github.com/users/markgoddard/gists{/gist_id}", "starred_url": "https://api.github.com/users/markgoddard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markgoddard/subscriptions", "organizations_url": "https://api.github.com/users/markgoddard/orgs", "repos_url": "https://api.github.com/users/markgoddard/repos", "events_url": "https://api.github.com/users/markgoddard/events{/privacy}", "received_events_url": "https://api.github.com/users/markgoddard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-26T14:01:29Z", "updated_at": "2020-01-02T10:24:18Z", "closed_at": "2019-12-21T19:41:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It's been a while since 0.6.6, could we have a new release please?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/357", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/357/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/357/events", "html_url": "https://github.com/ncclient/ncclient/issues/357", "id": 521843959, "node_id": "MDU6SXNzdWU1MjE4NDM5NTk=", "number": 357, "title": "Using persist_id for committing the configuration", "user": {"login": "muffizone", "id": 8734613, "node_id": "MDQ6VXNlcjg3MzQ2MTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/8734613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muffizone", "html_url": "https://github.com/muffizone", "followers_url": "https://api.github.com/users/muffizone/followers", "following_url": "https://api.github.com/users/muffizone/following{/other_user}", "gists_url": "https://api.github.com/users/muffizone/gists{/gist_id}", "starred_url": "https://api.github.com/users/muffizone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muffizone/subscriptions", "organizations_url": "https://api.github.com/users/muffizone/orgs", "repos_url": "https://api.github.com/users/muffizone/repos", "events_url": "https://api.github.com/users/muffizone/events{/privacy}", "received_events_url": "https://api.github.com/users/muffizone/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-12T22:37:41Z", "updated_at": "2019-12-21T19:01:52Z", "closed_at": "2019-12-21T19:01:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The use of `persist_id` is currently not supported for committing the configuration from a different session from the one where the confirmed commit was issued. \r\n\r\nSnippet from the netconf RFC\r\n\r\n```\r\n   If the <persist> element is given in the confirmed <commit> operation, a\r\n   follow-up commit and the confirming commit can be given on any\r\n   session, and they MUST include a <persist-id> element with a value\r\n   equal to the given value of the <persist> element.\r\n```\r\n\r\nXML request from the RFC\r\n```\r\n     <!-- confirm the persistent confirmed-commit,\r\n          possibly from another session -->\r\n     <rpc message-id=\"102\"\r\n          xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n       <commit>\r\n         <persist-id>IQ,d4668</persist-id>\r\n       </commit>\r\n     </rpc>\r\n```\r\n\r\nTo implement this feature, I'd suggest a small change to the `request` method in the `Commit` class.\r\n\r\n```\r\nclass Commit(RPC):\r\n    \"`commit` RPC. Depends on the `:candidate` capability, and the `:confirmed-commit`.\"\r\n\r\n    DEPENDS = [':candidate']\r\n\r\n    def request(self, confirmed=False, timeout=None, persist=None, persist_id=None):\r\n        \"\"\"Commit the candidate configuration as the device's new current configuration. Depends on the `:candidate` capability.\r\n\r\n        A confirmed commit (i.e. if *confirmed* is `True`) is reverted if there is no followup commit within the *timeout* interval. If no timeout is specified the confirm timeout defaults to 600 seconds (10 minutes). A confirming commit may have the *confirmed* parameter but this is not required. Depends on the `:confirmed-commit` capability.\r\n\r\n        *confirmed* whether this is a confirmed commit\r\n\r\n        *timeout* specifies the confirm timeout in seconds\r\n\r\n        *persist* make the confirmed commit survive a session termination, and set a token on the ongoing confirmed commit\r\n\r\n        *persist_id* value must be equal to the value given in the <persist> parameter to the previous <commit> operation.\r\n        \"\"\"\r\n        node = new_ele(\"commit\")\r\n        if confirmed:\r\n            self._assert(\":confirmed-commit\")\r\n            sub_ele(node, \"confirmed\")\r\n            if timeout is not None:\r\n                sub_ele(node, \"confirm-timeout\").text = timeout\r\n            if persist is not None:\r\n                sub_ele(node, \"persist\").text = persist\r\n+        if persist_id is not None:\r\n+            sub_ele(node, \"persist-id\").text = persist_id\r\n\r\n        return self._request(node)\r\n```\r\n\r\nLet me know if everyone is fine with this change and I can create the merge request with the above changes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/356", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/356/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/356/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/356/events", "html_url": "https://github.com/ncclient/ncclient/issues/356", "id": 521099599, "node_id": "MDU6SXNzdWU1MjEwOTk1OTk=", "number": 356, "title": "Internal error when trying to retrieve SRX configuration", "user": {"login": "doesitblend", "id": 31517589, "node_id": "MDQ6VXNlcjMxNTE3NTg5", "avatar_url": "https://avatars1.githubusercontent.com/u/31517589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doesitblend", "html_url": "https://github.com/doesitblend", "followers_url": "https://api.github.com/users/doesitblend/followers", "following_url": "https://api.github.com/users/doesitblend/following{/other_user}", "gists_url": "https://api.github.com/users/doesitblend/gists{/gist_id}", "starred_url": "https://api.github.com/users/doesitblend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doesitblend/subscriptions", "organizations_url": "https://api.github.com/users/doesitblend/orgs", "repos_url": "https://api.github.com/users/doesitblend/repos", "events_url": "https://api.github.com/users/doesitblend/events{/privacy}", "received_events_url": "https://api.github.com/users/doesitblend/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vnitinv", "id": 767016, "node_id": "MDQ6VXNlcjc2NzAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/767016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnitinv", "html_url": "https://github.com/vnitinv", "followers_url": "https://api.github.com/users/vnitinv/followers", "following_url": "https://api.github.com/users/vnitinv/following{/other_user}", "gists_url": "https://api.github.com/users/vnitinv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnitinv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnitinv/subscriptions", "organizations_url": "https://api.github.com/users/vnitinv/orgs", "repos_url": "https://api.github.com/users/vnitinv/repos", "events_url": "https://api.github.com/users/vnitinv/events{/privacy}", "received_events_url": "https://api.github.com/users/vnitinv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vnitinv", "id": 767016, "node_id": "MDQ6VXNlcjc2NzAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/767016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnitinv", "html_url": "https://github.com/vnitinv", "followers_url": "https://api.github.com/users/vnitinv/followers", "following_url": "https://api.github.com/users/vnitinv/following{/other_user}", "gists_url": "https://api.github.com/users/vnitinv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnitinv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnitinv/subscriptions", "organizations_url": "https://api.github.com/users/vnitinv/orgs", "repos_url": "https://api.github.com/users/vnitinv/repos", "events_url": "https://api.github.com/users/vnitinv/events{/privacy}", "received_events_url": "https://api.github.com/users/vnitinv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-11-11T17:47:45Z", "updated_at": "2019-12-23T09:23:30Z", "closed_at": "2019-12-23T09:23:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using the attached script I am getting an error when trying to pull my configuration:\r\n\r\n```\r\n('invalid command: 721 %s %s', u'internal error: Huge input lookup, line 105527, column 33', 'show configuration | display set')\r\n```\r\n\r\nThis is using the current stable release of the library (0.6.6). I am able to remove a single single from y configuration, the line is semi-arbitrary and the script will work as expected.\r\n\r\nTo get the error to show up I made some slight modifications the ncclient library on line 721 where the error seemed to be occurring and updated the message to print the exception. However, I'm unable to determine whether the issue is happening on the NETCONF server or within the library directly.\r\n\r\n[test_connect.py.zip](https://github.com/Juniper/py-junos-eznc/files/3832525/test_connect.py.zip)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/353", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/353/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/353/events", "html_url": "https://github.com/ncclient/ncclient/issues/353", "id": 508937781, "node_id": "MDU6SXNzdWU1MDg5Mzc3ODE=", "number": 353, "title": "Why notice point to CISCO", "user": {"login": "vnitinv", "id": 767016, "node_id": "MDQ6VXNlcjc2NzAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/767016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnitinv", "html_url": "https://github.com/vnitinv", "followers_url": "https://api.github.com/users/vnitinv/followers", "following_url": "https://api.github.com/users/vnitinv/following{/other_user}", "gists_url": "https://api.github.com/users/vnitinv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnitinv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnitinv/subscriptions", "organizations_url": "https://api.github.com/users/vnitinv/orgs", "repos_url": "https://api.github.com/users/vnitinv/repos", "events_url": "https://api.github.com/users/vnitinv/events{/privacy}", "received_events_url": "https://api.github.com/users/vnitinv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "einarnn", "id": 5408368, "node_id": "MDQ6VXNlcjU0MDgzNjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5408368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einarnn", "html_url": "https://github.com/einarnn", "followers_url": "https://api.github.com/users/einarnn/followers", "following_url": "https://api.github.com/users/einarnn/following{/other_user}", "gists_url": "https://api.github.com/users/einarnn/gists{/gist_id}", "starred_url": "https://api.github.com/users/einarnn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einarnn/subscriptions", "organizations_url": "https://api.github.com/users/einarnn/orgs", "repos_url": "https://api.github.com/users/einarnn/repos", "events_url": "https://api.github.com/users/einarnn/events{/privacy}", "received_events_url": "https://api.github.com/users/einarnn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "einarnn", "id": 5408368, "node_id": "MDQ6VXNlcjU0MDgzNjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5408368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einarnn", "html_url": "https://github.com/einarnn", "followers_url": "https://api.github.com/users/einarnn/followers", "following_url": "https://api.github.com/users/einarnn/following{/other_user}", "gists_url": "https://api.github.com/users/einarnn/gists{/gist_id}", "starred_url": "https://api.github.com/users/einarnn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einarnn/subscriptions", "organizations_url": "https://api.github.com/users/einarnn/orgs", "repos_url": "https://api.github.com/users/einarnn/repos", "events_url": "https://api.github.com/users/einarnn/events{/privacy}", "received_events_url": "https://api.github.com/users/einarnn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-10-18T08:40:22Z", "updated_at": "2019-11-24T21:15:35Z", "closed_at": "2019-11-24T21:15:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/ncclient/ncclient/blob/master/NOTICE\r\n\r\nThis project is developed by all the vendors. Why this notice is very specific to CISCO?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/351", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/351/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/351/events", "html_url": "https://github.com/ncclient/ncclient/issues/351", "id": 506195644, "node_id": "MDU6SXNzdWU1MDYxOTU2NDQ=", "number": 351, "title": "Example doesn't work with Cisco ASR1001-X", "user": {"login": "MrSpock", "id": 681680, "node_id": "MDQ6VXNlcjY4MTY4MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/681680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrSpock", "html_url": "https://github.com/MrSpock", "followers_url": "https://api.github.com/users/MrSpock/followers", "following_url": "https://api.github.com/users/MrSpock/following{/other_user}", "gists_url": "https://api.github.com/users/MrSpock/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrSpock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrSpock/subscriptions", "organizations_url": "https://api.github.com/users/MrSpock/orgs", "repos_url": "https://api.github.com/users/MrSpock/repos", "events_url": "https://api.github.com/users/MrSpock/events{/privacy}", "received_events_url": "https://api.github.com/users/MrSpock/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-12T14:44:24Z", "updated_at": "2019-11-24T21:16:43Z", "closed_at": "2019-11-24T21:16:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI'm trying to write app interacting with Cisco ASR1001-X via ncclient and I can't even run basic example.\r\nSoftware on router is sr1001x-universalk9.16.06.04.SPA.bin\r\nWhen running example with get-config module is crashing with following errors:\r\n```---------------------------------------------------------------------------\r\nRPCError                                  Traceback (most recent call last)\r\n<ipython-input-4-363942479148> in <module>\r\n      5 HOST=\"10.3.1.254\"\r\n      6 with manager.connect(host=HOST, port=830, username=USER, password=PASSWORD, hostkey_verify=False) as m:\r\n----> 7     c = m.get_config(source='running').data_xml\r\n      8 \r\n      9 \r\n\r\n~/Library/Python/3.7/lib/python/site-packages/ncclient/manager.py in execute(self, cls, *args, **kwds)\r\n    234                    timeout=self._timeout,\r\n    235                    raise_mode=self._raise_mode,\r\n--> 236                    huge_tree=self._huge_tree).request(*args, **kwds)\r\n    237 \r\n    238     def locked(self, target):\r\n\r\n~/Library/Python/3.7/lib/python/site-packages/ncclient/operations/retrieve.py in request(self, source, filter, with_defaults)\r\n    164                 self._session.server_capabilities,\r\n    165             )\r\n--> 166         return self._request(node)\r\n    167 \r\n    168 class GetSchema(RPC):\r\n\r\n~/Library/Python/3.7/lib/python/site-packages/ncclient/operations/rpc.py in _request(self, op)\r\n    345                         errors = self._reply.errors\r\n    346                         if len(errors) > 1:\r\n--> 347                             raise RPCError(to_ele(self._reply._raw), errs=errors)\r\n    348                         else:\r\n    349                             raise self._reply.error\r\n\r\nRPCError: error: /oc-netinst:network-instances/network-instance{default}/tables/table: function_clause\r\nerror: application protocol error\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/347", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/347/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/347/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/347/events", "html_url": "https://github.com/ncclient/ncclient/issues/347", "id": 500203581, "node_id": "MDU6SXNzdWU1MDAyMDM1ODE=", "number": 347, "title": "ncclient.operations.errors.TimeoutExpiredError: ncclient timed out while waiting for an rpc reply", "user": {"login": "menkeyi001", "id": 40171847, "node_id": "MDQ6VXNlcjQwMTcxODQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/40171847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menkeyi001", "html_url": "https://github.com/menkeyi001", "followers_url": "https://api.github.com/users/menkeyi001/followers", "following_url": "https://api.github.com/users/menkeyi001/following{/other_user}", "gists_url": "https://api.github.com/users/menkeyi001/gists{/gist_id}", "starred_url": "https://api.github.com/users/menkeyi001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menkeyi001/subscriptions", "organizations_url": "https://api.github.com/users/menkeyi001/orgs", "repos_url": "https://api.github.com/users/menkeyi001/repos", "events_url": "https://api.github.com/users/menkeyi001/events{/privacy}", "received_events_url": "https://api.github.com/users/menkeyi001/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-30T11:00:49Z", "updated_at": "2020-01-11T21:01:04Z", "closed_at": "2020-01-11T21:01:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI don't know why this problem occurs and there's no way to get all the configurations?\r\n\r\nFirewall version:\r\nH3C-M9006\r\n\r\n\r\nfrom ncclient import manager\r\n\r\nwith manager.connect(host=\"xxxxxxxxxx\", port=830, password=\"xxxxxxxxxxxxxxxx\",\r\n                     username=\"netconf\", hostkey_verify=False,\r\n                     device_params={'name':'h3c'}) as m:\r\n    c = m.get_config(source='running').data_xml\r\n    with open(\"%s.xml\" % host, 'w') as f:\r\n        f.write(c)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/usr/local/python3/lib/python3.7/site-packages/paramiko/ecdsakey.py:164: CryptographyDeprecationWarning: Support for unsafe construction of public numbers from encoded data will be removed in a future version. Please use EllipticCurvePublicKey.from_encoded_point\r\n  self.ecdsa_curve.curve_class(), pointinfo\r\nTraceback (most recent call last):\r\n  File \"t2.py\", line 70, in get_current_configuration\r\n    c = m.get_config(source='running').data_xml\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/manager.py\", line 216, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/operations/retrieve.py\", line 166, in request\r\n    return self._request(node)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/operations/rpc.py\", line 347, in _request\r\n    raise TimeoutExpiredError('ncclient timed out while waiting for an rpc reply.')\r\nncclient.operations.errors.TimeoutExpiredError: ncclient timed out while waiting for an rpc reply.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"t2.py\", line 96, in <module>\r\n    device_params={'name':'h3c'})\r\n  File \"t2.py\", line 73, in get_current_configuration\r\n    f.write(c)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/manager.py\", line 198, in __exit__\r\n    self.close_session()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/manager.py\", line 216, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/operations/session.py\", line 28, in request\r\n    return self._request(new_ele(\"close-session\"))\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/ncclient/operations/rpc.py\", line 347, in _request\r\n    raise TimeoutExpiredError('ncclient timed out while waiting for an rpc reply.')\r\nncclient.operations.errors.TimeoutExpiredError: ncclient timed out while waiting for an rpc reply.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/346", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/346/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/346/events", "html_url": "https://github.com/ncclient/ncclient/issues/346", "id": 499133102, "node_id": "MDU6SXNzdWU0OTkxMzMxMDI=", "number": 346, "title": "Create-Subscription exception", "user": {"login": "songxl", "id": 3700394, "node_id": "MDQ6VXNlcjM3MDAzOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3700394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songxl", "html_url": "https://github.com/songxl", "followers_url": "https://api.github.com/users/songxl/followers", "following_url": "https://api.github.com/users/songxl/following{/other_user}", "gists_url": "https://api.github.com/users/songxl/gists{/gist_id}", "starred_url": "https://api.github.com/users/songxl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songxl/subscriptions", "organizations_url": "https://api.github.com/users/songxl/orgs", "repos_url": "https://api.github.com/users/songxl/repos", "events_url": "https://api.github.com/users/songxl/events{/privacy}", "received_events_url": "https://api.github.com/users/songxl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-26T21:50:02Z", "updated_at": "2019-12-21T19:02:31Z", "closed_at": "2019-12-21T19:02:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am using ncclient 0.6.0 from NSO, python2.7.2\r\nthe line got exception is below:\r\n\r\n            reply = nso.ncclient.create_subscription(stream_name='viptela',\r\n                                                     start_time=start_time_str)\r\n\r\nHowever we got this traceback:\r\n               Traceback (most recent call last):\r\n                 File \"/nobackup/xiaolson/nfvis-sanity/nfvis/tests-\r\nv2/clouddock_netconf_tests/nfvis_colomgr_bringup.py\", line 585, in check_nso_access\r\n                   start_time=start_time_str)\r\n                 File \"/auto/nfvos-builds01/pyats_clouddock/lib/python3.4/site-packages/ncclient/manager.py\", \r\nline 170, in wrapper\r\n                   return self.execute(op_cls, *args, **kwds)\r\n                 File \"/auto/nfvos-builds01/pyats_clouddock/lib/python3.4/site-\r\npackages/yang/connector/__init__.py\", line 357, in execute\r\n                   return super().execute(cls, *args, **kwargs)\r\n                 File \"/auto/nfvos-builds01/pyats_clouddock/lib/python3.4/site-packages/ncclient/manager.py\", \r\nline 240, in execute\r\n                   raise_mode=self._raise_mode).request(*args, **kwds)\r\n                 File \"/auto/nfvos-builds01/pyats_clouddock/lib/python3.4/site-\r\npackages/ncclient/operations/subscribe.py\", line 64, in request\r\n                   return self._request(node)\r\n                 File \"/auto/nfvos-builds01/pyats_clouddock/lib/python3.4/site-\r\npackages/ncclient/operations/rpc.py\", line 336, in _request\r\n                   raise self._reply.error\r\n               ncclient.operations.rpc.RPCError: {'tag': 'unknown-element', 'message': None, 'path': '\\n    \r\n/rpc/p0:create-subscription\\n  ', 'info': '<?xml version=\"1.0\" encoding=\"UTF-8\"?><error-info \r\nxmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n<bad-element>stream</bad-element>\\n</error-info>\\n', 'type': 'protocol', 'severity': 'error'}\r\n\r\nI tried to use netconf browser to send below netconf:\r\n<create-subscription xmlns=\"urn:ietf:params:xml:ns:netconf:notification:1.0\">\r\n  <stream>viptela</stream>\r\n  <startTime>2019-09-26T21:08:28+00:00</startTime>\r\n</create-subscription>\r\n\r\nGot reply and notifications correctly.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/340", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/340/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/340/events", "html_url": "https://github.com/ncclient/ncclient/issues/340", "id": 480727986, "node_id": "MDU6SXNzdWU0ODA3Mjc5ODY=", "number": 340, "title": "not a valid URI", "user": {"login": "shade999", "id": 49480251, "node_id": "MDQ6VXNlcjQ5NDgwMjUx", "avatar_url": "https://avatars2.githubusercontent.com/u/49480251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shade999", "html_url": "https://github.com/shade999", "followers_url": "https://api.github.com/users/shade999/followers", "following_url": "https://api.github.com/users/shade999/following{/other_user}", "gists_url": "https://api.github.com/users/shade999/gists{/gist_id}", "starred_url": "https://api.github.com/users/shade999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shade999/subscriptions", "organizations_url": "https://api.github.com/users/shade999/orgs", "repos_url": "https://api.github.com/users/shade999/repos", "events_url": "https://api.github.com/users/shade999/events{/privacy}", "received_events_url": "https://api.github.com/users/shade999/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-14T14:56:18Z", "updated_at": "2019-08-16T10:51:18Z", "closed_at": "2019-08-16T10:51:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "lxml.etree.XMLSyntaxError: xmlns: 'ODM://flash:/custom.odm//show_ip_interface_brief' is not a valid URI, line 1, column 349\r\n\r\nThe error appears when I change an ODM fornat on cisco device to custom. \"format global flash:/custom.odm\"\r\nIf I try to exchange inrormation through pure ssh, it works well. \r\nThere is one differense in devi\u0441e response. \r\n<ShowIpInterfaceBrief xmlns=\"ODM://built-in//show_ip_interface_brief\">\r\n<ShowIpInterfaceBrief xmlns=\"ODM://flash:/custom.odm//ShowIpInterfaceBrief\">", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/337", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/337/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/337/events", "html_url": "https://github.com/ncclient/ncclient/issues/337", "id": 476179932, "node_id": "MDU6SXNzdWU0NzYxNzk5MzI=", "number": 337, "title": "ncclient with Threading and Miltiprocessing", "user": {"login": "horseinthesky", "id": 19948672, "node_id": "MDQ6VXNlcjE5OTQ4Njcy", "avatar_url": "https://avatars3.githubusercontent.com/u/19948672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/horseinthesky", "html_url": "https://github.com/horseinthesky", "followers_url": "https://api.github.com/users/horseinthesky/followers", "following_url": "https://api.github.com/users/horseinthesky/following{/other_user}", "gists_url": "https://api.github.com/users/horseinthesky/gists{/gist_id}", "starred_url": "https://api.github.com/users/horseinthesky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/horseinthesky/subscriptions", "organizations_url": "https://api.github.com/users/horseinthesky/orgs", "repos_url": "https://api.github.com/users/horseinthesky/repos", "events_url": "https://api.github.com/users/horseinthesky/events{/privacy}", "received_events_url": "https://api.github.com/users/horseinthesky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-02T13:28:11Z", "updated_at": "2019-08-13T14:04:37Z", "closed_at": "2019-08-13T14:04:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\nI'm using `ncclient` to get information from a wide variety of network devices for some time. My app works with each device in a completely separate thread.\r\nI was close to 100 devices and there was no time difference when adding several new devices. All devices were handed in about 30 seconds.\r\n\r\nThen after I added 12 new devices (QFX5120) time jumped to 80 seconds right away.\r\nMy app sends several RPCs one by one to each device. A super simplified version of muy app is the following:\r\n```\r\nimport concurrent.futures\r\nfrom ncclient import manager\r\nimport xmltodict\r\n\r\ndevices = [\r\n    '2a02:6b8:b010:e01e::2',\r\n    '2a02:6b8:b010:e01e::3',\r\n    '2a02:6b8:b010:e01e::6',\r\n    '2a02:6b8:b010:e01e::7',\r\n    '2a02:6b8:0:2e18::2',\r\n    '2a02:6b8:0:2e18::3',\r\n    '2a02:6b8:0:2e18::4',\r\n    '2a02:6b8:0:2e18::5',\r\n    '2a02:6b8:0:c01d::2',\r\n    '2a02:6b8:0:c01d::3',\r\n    '2a02:6b8:0:c01d::4',\r\n    '2a02:6b8:0:c01d::5',\r\n]\r\n\r\nintf_rpc = \"<get-interface-information><extensive/></get-interface-information>\"\r\nbgp_nei_rpc = '<get-bgp-neighbor-information/>'\r\nbgp_sum_rpc = '<get-bgp-summary-information/>'\r\npower_rpc = '<get-power-usage-information/>'\r\ncommit_rpc = '<get-commit-information/>'\r\nre_rpc = '<get-route-engine-information/>'\r\nmem_rpc = '<get-system-memory-information/>'\r\nqfx_power = '<get-environment-pem-information/>'\r\ninfo_rpc = '<get-system-information/>'\r\n\r\n\r\ndef connect(device):\r\n    with manager.connect(\r\n            host=device,\r\n            port=22,\r\n            timeout=10,\r\n            username='netinfra-mon',\r\n            device_params={'name': 'junos'},\r\n            manager_params={'timeout': 60},\r\n            key_filename='/home/netinfra-mon/.ssh/id_rsa',\r\n            # ssh_config=True,\r\n            hostkey_verify=False\r\n    ) as conn:\r\n        conn.rpc(mem_rpc)\r\n        conn.rpc(bgp_nei_rpc)\r\n        conn.rpc(bgp_sum_rpc)\r\n        conn.rpc(re_rpc)\r\n        result = conn.rpc(info_rpc).data_xml\r\n        return xmltodict.parse(result)['rpc-reply']['system-information']['host-name']\r\n\r\n\r\nwith concurrent.futures.ThreadPoolExecutor(max_workers=12) as ex:\r\n    fs = [ex.submit(connect, device) for device in devices]\r\n\r\n    for dev_res in concurrent.futures.as_completed(fs):\r\n        print(dev_res.result())\r\n```\r\n\r\nI added logging and noticed that time to RPC reply receive time significantly increased. \r\n```\r\n2019-08-02 11:10:26 - monapp - DEBUG - cloud-m9-b1 - Establishing SSH connection\r\n2019-08-02 11:10:27 - monapp - DEBUG - cloud-m9-b1 - Successfully connected\r\n2019-08-02 11:10:27 - monapp - DEBUG - cloud-m9-b1 - Sending Power RPC\r\n2019-08-02 11:10:30 - monapp - DEBUG - cloud-m9-b1 - Got Power RPC Reply\r\n2019-08-02 11:10:31 - monapp - DEBUG - cloud-m9-b1 - Sending CPU RPC\r\n2019-08-02 11:10:31 - monapp - DEBUG - cloud-m9-b1 - Got CPU RPC Reply\r\n2019-08-02 11:10:33 - monapp - DEBUG - cloud-m9-b1 - Sending Memory RPC\r\n2019-08-02 11:10:50 - monapp - DEBUG - cloud-m9-b1 - Got Memory RPC Reply\r\n2019-08-02 11:10:50 - monapp - DEBUG - cloud-m9-b1 - Sending Interfaces RPC\r\n2019-08-02 11:11:35 - monapp - DEBUG - cloud-m9-b1 - Got Interfaces RPC Reply\r\n2019-08-02 11:11:36 - monapp - DEBUG - cloud-m9-b1 - Sending BGP RPC\r\n2019-08-02 11:11:40 - monapp - DEBUG - cloud-m9-b1 - Got BGP RPC Reply\r\n```\r\n8 vCPUs of my VM were loaded for about 30 percent.\r\n\r\nBut then I switched to ProcessPoolExecutor and everything was insanely fast again:\r\n```\r\n2019-08-02 11:14:23 - monapp - DEBUG - cloud-m9-b1 - Establishing SSH connection\r\n2019-08-02 11:14:25 - monapp - DEBUG - cloud-m9-b1 - Successfully connected\r\n2019-08-02 11:14:25 - monapp - DEBUG - cloud-m9-b1 - Sending Power RPC\r\n2019-08-02 11:14:25 - monapp - DEBUG - cloud-m9-b1 - Got Power RPC Reply\r\n2019-08-02 11:14:25 - monapp - DEBUG - cloud-m9-b1 - Sending CPU RPC\r\n2019-08-02 11:14:25 - monapp - DEBUG - cloud-m9-b1 - Got CPU RPC Reply\r\n2019-08-02 11:14:25 - monapp - DEBUG - cloud-m9-b1 - Sending Memory RPC\r\n2019-08-02 11:14:28 - monapp - DEBUG - cloud-m9-b1 - Got Memory RPC Reply\r\n2019-08-02 11:14:28 - monapp - DEBUG - cloud-m9-b1 - Sending Interfaces RPC\r\n2019-08-02 11:14:33 - monapp - DEBUG - cloud-m9-b1 - Got Interfaces RPC Reply\r\n2019-08-02 11:14:33 - monapp - DEBUG - cloud-m9-b1 - Sending BGP RPC\r\n2019-08-02 11:14:34 - monapp - DEBUG - cloud-m9-b1 - Got BGP RPC Reply\r\n```\r\nAnd vCPUs are loaded up to 100%.\r\n\r\nDo you know if it is an `ncclient` issue or I got in some python threads issue (GIL or something)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/335", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/335/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/335/events", "html_url": "https://github.com/ncclient/ncclient/issues/335", "id": 475870702, "node_id": "MDU6SXNzdWU0NzU4NzA3MDI=", "number": 335, "title": "Using concurrent/threating with ncclient", "user": {"login": "metabsd", "id": 7953470, "node_id": "MDQ6VXNlcjc5NTM0NzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7953470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metabsd", "html_url": "https://github.com/metabsd", "followers_url": "https://api.github.com/users/metabsd/followers", "following_url": "https://api.github.com/users/metabsd/following{/other_user}", "gists_url": "https://api.github.com/users/metabsd/gists{/gist_id}", "starred_url": "https://api.github.com/users/metabsd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metabsd/subscriptions", "organizations_url": "https://api.github.com/users/metabsd/orgs", "repos_url": "https://api.github.com/users/metabsd/repos", "events_url": "https://api.github.com/users/metabsd/events{/privacy}", "received_events_url": "https://api.github.com/users/metabsd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-01T20:19:46Z", "updated_at": "2019-08-02T15:09:56Z", "closed_at": "2019-08-02T15:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am currently trying to use the python 3 concurrent library to be able to receive some of the hundreds switch configuration.  As soon as I use several worker at the same time I do not receive any more results.  I would like to know if you think it's possible to connect to several switches at the same time with the ncclient library.\r\n\r\n Thank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/331", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/331/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/331/events", "html_url": "https://github.com/ncclient/ncclient/issues/331", "id": 466202820, "node_id": "MDU6SXNzdWU0NjYyMDI4MjA=", "number": 331, "title": "Fail to login device", "user": {"login": "helijia21", "id": 6972016, "node_id": "MDQ6VXNlcjY5NzIwMTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/6972016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/helijia21", "html_url": "https://github.com/helijia21", "followers_url": "https://api.github.com/users/helijia21/followers", "following_url": "https://api.github.com/users/helijia21/following{/other_user}", "gists_url": "https://api.github.com/users/helijia21/gists{/gist_id}", "starred_url": "https://api.github.com/users/helijia21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/helijia21/subscriptions", "organizations_url": "https://api.github.com/users/helijia21/orgs", "repos_url": "https://api.github.com/users/helijia21/repos", "events_url": "https://api.github.com/users/helijia21/events{/privacy}", "received_events_url": "https://api.github.com/users/helijia21/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-10T09:30:20Z", "updated_at": "2019-12-21T20:52:44Z", "closed_at": "2019-12-21T20:52:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is a problem while login device\r\n\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 10, in <module>\r\n    device_params={'name':'default'}) as m:\r\n  File \"/usr/python/lib/python3.7/site-packages/ncclient/manager.py\", line 177, in connect\r\n    return connect_ssh(*args, **kwds)\r\n  File \"/usr/python/lib/python3.7/site-packages/ncclient/manager.py\", line 143, in connect_ssh\r\n    session.connect(*args, **kwds)\r\n  File \"/usr/python/lib/python3.7/site-packages/ncclient/transport/ssh.py\", line 491, in connect\r\n    self._auth(username, password, key_filenames, allow_agent, look_for_keys)\r\n  File \"/usr/python/lib/python3.7/site-packages/ncclient/transport/ssh.py\", line 590, in _auth\r\n    raise AuthenticationError(repr(saved_exception))\r\nncclient.transport.errors.AuthenticationError: BadAuthenticationType('Bad authentication type', ['publickey', 'keyboard-interactive'])\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/329", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/329/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/329/events", "html_url": "https://github.com/ncclient/ncclient/issues/329", "id": 461482170, "node_id": "MDU6SXNzdWU0NjE0ODIxNzA=", "number": 329, "title": "hw can not get all config", "user": {"login": "Mtswzruan", "id": 51231040, "node_id": "MDQ6VXNlcjUxMjMxMDQw", "avatar_url": "https://avatars0.githubusercontent.com/u/51231040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mtswzruan", "html_url": "https://github.com/Mtswzruan", "followers_url": "https://api.github.com/users/Mtswzruan/followers", "following_url": "https://api.github.com/users/Mtswzruan/following{/other_user}", "gists_url": "https://api.github.com/users/Mtswzruan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mtswzruan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mtswzruan/subscriptions", "organizations_url": "https://api.github.com/users/Mtswzruan/orgs", "repos_url": "https://api.github.com/users/Mtswzruan/repos", "events_url": "https://api.github.com/users/Mtswzruan/events{/privacy}", "received_events_url": "https://api.github.com/users/Mtswzruan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-27T11:46:45Z", "updated_at": "2019-08-01T21:41:34Z", "closed_at": "2019-08-01T21:41:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "hw ne40e get_config return the ethernet information", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/326", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/326/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/326/events", "html_url": "https://github.com/ncclient/ncclient/issues/326", "id": 455258733, "node_id": "MDU6SXNzdWU0NTUyNTg3MzM=", "number": 326, "title": "Only the first error's severity is checked in replies", "user": {"login": "devicenull", "id": 58017, "node_id": "MDQ6VXNlcjU4MDE3", "avatar_url": "https://avatars1.githubusercontent.com/u/58017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devicenull", "html_url": "https://github.com/devicenull", "followers_url": "https://api.github.com/users/devicenull/followers", "following_url": "https://api.github.com/users/devicenull/following{/other_user}", "gists_url": "https://api.github.com/users/devicenull/gists{/gist_id}", "starred_url": "https://api.github.com/users/devicenull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devicenull/subscriptions", "organizations_url": "https://api.github.com/users/devicenull/orgs", "repos_url": "https://api.github.com/users/devicenull/repos", "events_url": "https://api.github.com/users/devicenull/events{/privacy}", "received_events_url": "https://api.github.com/users/devicenull/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-12T14:48:55Z", "updated_at": "2020-01-20T23:20:34Z", "closed_at": "2020-01-20T23:20:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a juniper device that's returning multiple rpc-error items in [response.txt](https://github.com/ncclient/ncclient/files/3281846/response.txt) to a commit.  Of these, the first one is a warning, and the subsequent ones are errors.\r\n\r\nHowever, it looks like _request only looks at one error when deciding to raise an error or not:\r\nhttps://github.com/ncclient/ncclient/blob/master/ncclient/operations/rpc.py#L340\r\n\r\nShould this be looking at the entire contents of  RPCReply._errors instead?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/325", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/325/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/325/events", "html_url": "https://github.com/ncclient/ncclient/issues/325", "id": 454089872, "node_id": "MDU6SXNzdWU0NTQwODk4NzI=", "number": 325, "title": "self.timeout variable in class manager seems broken in v0.6.6 while using manager.connect_ssh(timeout=100) ", "user": {"login": "vipkum2", "id": 24789691, "node_id": "MDQ6VXNlcjI0Nzg5Njkx", "avatar_url": "https://avatars1.githubusercontent.com/u/24789691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vipkum2", "html_url": "https://github.com/vipkum2", "followers_url": "https://api.github.com/users/vipkum2/followers", "following_url": "https://api.github.com/users/vipkum2/following{/other_user}", "gists_url": "https://api.github.com/users/vipkum2/gists{/gist_id}", "starred_url": "https://api.github.com/users/vipkum2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vipkum2/subscriptions", "organizations_url": "https://api.github.com/users/vipkum2/orgs", "repos_url": "https://api.github.com/users/vipkum2/repos", "events_url": "https://api.github.com/users/vipkum2/events{/privacy}", "received_events_url": "https://api.github.com/users/vipkum2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-06-10T09:55:50Z", "updated_at": "2019-08-02T10:02:02Z", "closed_at": "2019-06-14T11:26:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using manager in my script as:\r\n`m = manager.connect_ssh(\r\n            host=ip, \r\n            port=port, \r\n            username=user, \r\n            password=pwd, \r\n            hostkey_verify=False,\r\n            timeout=100\r\n        )`\r\nThis sets the m.timeout=100 till version 0.6.4. \r\nBut now in version 0.6.6 this has no impact . I can only see m.timeout = 30 as this is default timeout  for class manager.\r\n\r\nI have taken a look and found  below return statement in method connect_ssh may be causing the issue:\r\nin v0.6.6:\r\n ` return Manager(session, device_handler, **manager_params)`\r\nwas as in 0.6.4:\r\n ` return Manager(session, device_handler, **kwds)`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/322", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/322/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/322/events", "html_url": "https://github.com/ncclient/ncclient/issues/322", "id": 449014498, "node_id": "MDU6SXNzdWU0NDkwMTQ0OTg=", "number": 322, "title": "RPC Error", "user": {"login": "NetDevLazg", "id": 41743886, "node_id": "MDQ6VXNlcjQxNzQzODg2", "avatar_url": "https://avatars3.githubusercontent.com/u/41743886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetDevLazg", "html_url": "https://github.com/NetDevLazg", "followers_url": "https://api.github.com/users/NetDevLazg/followers", "following_url": "https://api.github.com/users/NetDevLazg/following{/other_user}", "gists_url": "https://api.github.com/users/NetDevLazg/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetDevLazg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetDevLazg/subscriptions", "organizations_url": "https://api.github.com/users/NetDevLazg/orgs", "repos_url": "https://api.github.com/users/NetDevLazg/repos", "events_url": "https://api.github.com/users/NetDevLazg/events{/privacy}", "received_events_url": "https://api.github.com/users/NetDevLazg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-27T23:59:08Z", "updated_at": "2019-06-02T22:59:02Z", "closed_at": "2019-05-28T12:31:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "im using netconf to get the full configurations of one of my Cisco CSR 1000v and i get the bellow error message.\r\n\r\nThis is what i'm targeting: router_full_configs = m.get_config(source = \"running\")\r\n\r\n**This is the error.**\r\nRPCError: error: /oc-rpol:routing-policy/defined-sets/prefix-sets/prefix-set{EIGRP-ROUTES}/prefixes/prefix: badarg\r\nerror: /oc-rpol:routing-policy/defined-sets/prefix-sets/prefix-set{OSPF-ROUTES}/prefixes/prefix: badarg\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/321", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/321/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/321/events", "html_url": "https://github.com/ncclient/ncclient/issues/321", "id": 449001523, "node_id": "MDU6SXNzdWU0NDkwMDE1MjM=", "number": 321, "title": "pip install broken v0.6.5 because test-requirements not found", "user": {"login": "davidban77", "id": 16437416, "node_id": "MDQ6VXNlcjE2NDM3NDE2", "avatar_url": "https://avatars0.githubusercontent.com/u/16437416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidban77", "html_url": "https://github.com/davidban77", "followers_url": "https://api.github.com/users/davidban77/followers", "following_url": "https://api.github.com/users/davidban77/following{/other_user}", "gists_url": "https://api.github.com/users/davidban77/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidban77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidban77/subscriptions", "organizations_url": "https://api.github.com/users/davidban77/orgs", "repos_url": "https://api.github.com/users/davidban77/repos", "events_url": "https://api.github.com/users/davidban77/events{/privacy}", "received_events_url": "https://api.github.com/users/davidban77/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-27T22:13:04Z", "updated_at": "2019-05-28T12:26:56Z", "closed_at": "2019-05-28T12:26:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nIt seems that pip fails installation because is not finding the `test-requirements.txt`.\r\n\r\nHere is the error shown:\r\n```\r\npip install --no-cache-dir ncclient\r\nCollecting ncclient\r\n  Downloading https://files.pythonhosted.org/packages/d2/1f/4333dba7d63bebb27232d0cd5d2173ed14615f50c92a41479b86aab3217d/ncclient-0.6.5.tar.gz (89kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 92kB 2.3MB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/22/3rnqkrbj7g5242vvqjkpkfx40000gn/T/pip-install-q5ipqk1a/ncclient/setup.py\", line 37, in <module>\r\n        test_req_lines = [line.strip() for line in open(\"test-requirements.txt\").readlines()]\r\n    FileNotFoundError: [Errno 2] No such file or directory: 'test-requirements.txt'\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/22/3rnqkrbj7g5242vvqjkpkfx40000gn/T/pip-install-q5ipqk1a/ncclient/\r\n```\r\n\r\nMy python is 3.7\r\n```\r\npython --version\r\nPython 3.7.3\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/315", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/315/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/315/events", "html_url": "https://github.com/ncclient/ncclient/issues/315", "id": 442619073, "node_id": "MDU6SXNzdWU0NDI2MTkwNzM=", "number": 315, "title": "hpecomware cli commands", "user": {"login": "sngx13", "id": 15999824, "node_id": "MDQ6VXNlcjE1OTk5ODI0", "avatar_url": "https://avatars3.githubusercontent.com/u/15999824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sngx13", "html_url": "https://github.com/sngx13", "followers_url": "https://api.github.com/users/sngx13/followers", "following_url": "https://api.github.com/users/sngx13/following{/other_user}", "gists_url": "https://api.github.com/users/sngx13/gists{/gist_id}", "starred_url": "https://api.github.com/users/sngx13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sngx13/subscriptions", "organizations_url": "https://api.github.com/users/sngx13/orgs", "repos_url": "https://api.github.com/users/sngx13/repos", "events_url": "https://api.github.com/users/sngx13/events{/privacy}", "received_events_url": "https://api.github.com/users/sngx13/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-10T09:15:10Z", "updated_at": "2020-03-22T21:15:17Z", "closed_at": "2020-03-22T21:15:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nDo you have an example of how to run configuration commands? I can't seem to figure it out.\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/313", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/313/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/313/events", "html_url": "https://github.com/ncclient/ncclient/issues/313", "id": 436671454, "node_id": "MDU6SXNzdWU0MzY2NzE0NTQ=", "number": 313, "title": "connect_ssh timeout parameter used for contradicting purposes", "user": {"login": "sstancu", "id": 1705320, "node_id": "MDQ6VXNlcjE3MDUzMjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1705320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sstancu", "html_url": "https://github.com/sstancu", "followers_url": "https://api.github.com/users/sstancu/followers", "following_url": "https://api.github.com/users/sstancu/following{/other_user}", "gists_url": "https://api.github.com/users/sstancu/gists{/gist_id}", "starred_url": "https://api.github.com/users/sstancu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sstancu/subscriptions", "organizations_url": "https://api.github.com/users/sstancu/orgs", "repos_url": "https://api.github.com/users/sstancu/repos", "events_url": "https://api.github.com/users/sstancu/events{/privacy}", "received_events_url": "https://api.github.com/users/sstancu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-24T12:36:04Z", "updated_at": "2019-05-03T16:56:32Z", "closed_at": "2019-05-03T16:56:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `timeout` kwd parameter of `manager.connect_ssh` ends up being used for two rather contradicting purposes:\r\n1. It is passed as a kwd to `transport.SSHSession.connect` , where it serves as a connection timeout. This matches the documentation of the manager.connect_ssh function\r\n1. It is also passed as kwd to `manager.Manager()`, where it serves as synchronous RPC timeout\r\n\r\nIf one wants to set the ssh connection timeout to a small value (e.g. 3 seconds, a sensible option for not waiting long for a host that is down), this results in having a RPC  timeout of 3 seconds too, which is not enough for retrieving large configurations.\r\n\r\nI see two ways of fixing this:\r\n* a) Discontinue the `timeout` parameter of `manager.Manager()` and rely solely on the `Manager.timeout` property for modifying its default value. This would be similar with how other Manager attributes are handled (e.g. `async_mode` or `raise_mode`).\r\n* b) Change the `transport.SSHSession.connect` timeout parameter name to `connect_timeout`, and dispatch the parameters accordingly in `manager.connect_ssh`. This would however require extending the documentation of manager.connect, to explain that it receives arguments that are used by either `transport.SSHSession.connect` (e.g. connect_timeout, and all the others) or `Manager` (e.g. timeout).\r\n\r\nIMHO option *(a)* is cleaner, as the `connect_ssh` method keeps its current behaviour of passing all non device_params to `transport.SSHSession.connect`.\r\n\r\nI would be happy to contribute with a patch, once we agree on the approach.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/311", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/311/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/311/events", "html_url": "https://github.com/ncclient/ncclient/issues/311", "id": 433258011, "node_id": "MDU6SXNzdWU0MzMyNTgwMTE=", "number": 311, "title": "Read ssh connection timeout from config file", "user": {"login": "sstancu", "id": 1705320, "node_id": "MDQ6VXNlcjE3MDUzMjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1705320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sstancu", "html_url": "https://github.com/sstancu", "followers_url": "https://api.github.com/users/sstancu/followers", "following_url": "https://api.github.com/users/sstancu/following{/other_user}", "gists_url": "https://api.github.com/users/sstancu/gists{/gist_id}", "starred_url": "https://api.github.com/users/sstancu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sstancu/subscriptions", "organizations_url": "https://api.github.com/users/sstancu/orgs", "repos_url": "https://api.github.com/users/sstancu/repos", "events_url": "https://api.github.com/users/sstancu/events{/privacy}", "received_events_url": "https://api.github.com/users/sstancu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-15T12:36:35Z", "updated_at": "2019-04-15T14:22:49Z", "closed_at": "2019-04-15T14:22:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When using the library to perform operations on a large number of devices it is handy to be able to specify connection timeouts in the ssh config file.\r\n\r\nSSHSession already reads parameters from the ssh config file, so it would be handy if the ConnectTimeout parameter would be read and used in case `connect` has a None timeout argument.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/310", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/310/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/310/events", "html_url": "https://github.com/ncclient/ncclient/issues/310", "id": 430486831, "node_id": "MDU6SXNzdWU0MzA0ODY4MzE=", "number": 310, "title": "The latest release v0.6.4 breaks install for Python 2.7", "user": {"login": "termlen0", "id": 18330662, "node_id": "MDQ6VXNlcjE4MzMwNjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/18330662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/termlen0", "html_url": "https://github.com/termlen0", "followers_url": "https://api.github.com/users/termlen0/followers", "following_url": "https://api.github.com/users/termlen0/following{/other_user}", "gists_url": "https://api.github.com/users/termlen0/gists{/gist_id}", "starred_url": "https://api.github.com/users/termlen0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/termlen0/subscriptions", "organizations_url": "https://api.github.com/users/termlen0/orgs", "repos_url": "https://api.github.com/users/termlen0/repos", "events_url": "https://api.github.com/users/termlen0/events{/privacy}", "received_events_url": "https://api.github.com/users/termlen0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-08T14:34:12Z", "updated_at": "2019-06-19T04:44:19Z", "closed_at": "2019-04-08T14:38:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n`pip install ncclient` now breaks for Python 2.7. Please see error below:\r\n\r\n```Collecting ncclient\r\n  Using cached https://files.pythonhosted.org/packages/22/4d/05b21cc52eedb44f994600ed527e4d\r\nda3fcb6f4c1e0e9c6aa8f72348131a/ncclient-0.6.4.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    /usr/lib64/python2.7/distutils/dist.py:267: UserWarning: Unknown distribution option: '\r\npython_requires'\r\n      warnings.warn(msg)\r\n    error in ncclient setup command: 'install_requires' must be a string or list of strings\r\n containing valid project/version requirement specifiers\r\n```\r\n\r\nI am able to successfully install the previous version 0.6.3:\r\n\r\n```[student1@ansible ~]$ sudo /bin/pip2 install -U ncclient==0.6.3                            \r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade\r\n your Python as Python 2.7 won't be maintained after that date. A future version of pip wil\r\nl drop support for Python 2.7.\r\nCollecting ncclient==0.6.3\r\n  Downloading https://files.pythonhosted.org/packages/dc/95/acc44c2ff966743fedd1ad991ecf249\r\n8f40fd434883c67138b60a6373d49/ncclient-0.6.3.tar.gz (88kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 92kB 18.9MB/s \r\nRequirement already satisfied, skipping upgrade: setuptools>0.6 in /usr/lib/python2.7/site-\r\npackages (from ncclient==0.6.3) (0.9.8)\r\nRequirement already satisfied, skipping upgrade: paramiko>=1.15.0 in /usr/lib/python2.7/sit\r\ne-packages (from ncclient==0.6.3) (2.1.1)\r\nCollecting lxml>=3.3.0 (from ncclient==0.6.3)\r\n  Downloading https://files.pythonhosted.org/packages/89/51/a8a6cdb8a084d32dbc9bda94623dc35\r\n310ae2002be57de8702a1703c0026/lxml-4.3.3-cp27-cp27mu-manylinux1_x86_64.whl (5.6MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5.6MB 7.2MB/s \r\nCollecting selectors2>=2.0.1 (from ncclient==0.6.3)\r\n  Downloading https://files.pythonhosted.org/packages/c9/89/8a07d6d6c78422c5151f68453e9741a\r\nf4cd82bebcfa73923f73b3bdbef0d/selectors2-2.0.1-py2.py3-none-any.whl\r\nRequirement already satisfied, skipping upgrade: six in /usr/lib/python2.7/site-packages (f\r\nrom ncclient==0.6.3) (1.9.0)\r\nRequirement already satisfied, skipping upgrade: cryptography>=1.1 in /usr/lib64/python2.7/\r\nsite-packages (from paramiko>=1.15.0->ncclient==0.6.3) (1.7.2)\r\nRequirement already satisfied, skipping upgrade: pyasn1>=0.1.7 in /usr/lib/python2.7/site-p\r\nackages (from paramiko>=1.15.0->ncclient==0.6.3) (0.1.9)\r\nRequirement already satisfied, skipping upgrade: idna>=2.0 in /usr/lib/python2.7/site-packa\r\nges (from cryptography>=1.1->paramiko>=1.15.0->ncclient==0.6.3) (2.4)\r\nRequirement already satisfied, skipping upgrade: enum34 in /usr/lib/python2.7/site-packages\r\n (from cryptography>=1.1->paramiko>=1.15.0->ncclient==0.6.3) (1.0.4)\r\nRequirement already satisfied, skipping upgrade: ipaddress in /usr/lib/python2.7/site-packa\r\nges (from cryptography>=1.1->paramiko>=1.15.0->ncclient==0.6.3) (1.0.16)\r\nRequirement already satisfied, skipping upgrade: cffi>=1.4.1 in /usr/lib64/python2.7/site-p\r\nackages (from cryptography>=1.1->paramiko>=1.15.0->ncclient==0.6.3) (1.6.0)\r\nRequirement already satisfied, skipping upgrade: pycparser in /usr/lib/python2.7/site-packa\r\nges (from cffi>=1.4.1->cryptography>=1.1->paramiko>=1.15.0->ncclient==0.6.3) (2.14)\r\nInstalling collected packages: lxml, selectors2, ncclient\r\n  Found existing installation: lxml 3.2.1\r\n    Uninstalling lxml-3.2.1:\r\n      Successfully uninstalled lxml-3.2.1\r\n  Running setup.py install for ncclient ... done\r\nSuccessfully installed lxml-4.3.3 ncclient-0.6.3 selectors2-2.0.1\r\n[student1@ansible ~]$ \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/306", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/306/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/306/events", "html_url": "https://github.com/ncclient/ncclient/issues/306", "id": 413344978, "node_id": "MDU6SXNzdWU0MTMzNDQ5Nzg=", "number": 306, "title": "restconf support", "user": {"login": "pathori", "id": 19666544, "node_id": "MDQ6VXNlcjE5NjY2NTQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/19666544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pathori", "html_url": "https://github.com/pathori", "followers_url": "https://api.github.com/users/pathori/followers", "following_url": "https://api.github.com/users/pathori/following{/other_user}", "gists_url": "https://api.github.com/users/pathori/gists{/gist_id}", "starred_url": "https://api.github.com/users/pathori/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pathori/subscriptions", "organizations_url": "https://api.github.com/users/pathori/orgs", "repos_url": "https://api.github.com/users/pathori/repos", "events_url": "https://api.github.com/users/pathori/events{/privacy}", "received_events_url": "https://api.github.com/users/pathori/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-22T10:41:46Z", "updated_at": "2019-02-23T10:55:46Z", "closed_at": "2019-02-23T10:55:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nIs there any plan to add support for restconf protocol?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/305", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/305/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/305/events", "html_url": "https://github.com/ncclient/ncclient/issues/305", "id": 410740716, "node_id": "MDU6SXNzdWU0MTA3NDA3MTY=", "number": 305, "title": "ssh_config doesn't make any difference", "user": {"login": "horseinthesky", "id": 19948672, "node_id": "MDQ6VXNlcjE5OTQ4Njcy", "avatar_url": "https://avatars3.githubusercontent.com/u/19948672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/horseinthesky", "html_url": "https://github.com/horseinthesky", "followers_url": "https://api.github.com/users/horseinthesky/followers", "following_url": "https://api.github.com/users/horseinthesky/following{/other_user}", "gists_url": "https://api.github.com/users/horseinthesky/gists{/gist_id}", "starred_url": "https://api.github.com/users/horseinthesky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/horseinthesky/subscriptions", "organizations_url": "https://api.github.com/users/horseinthesky/orgs", "repos_url": "https://api.github.com/users/horseinthesky/repos", "events_url": "https://api.github.com/users/horseinthesky/events{/privacy}", "received_events_url": "https://api.github.com/users/horseinthesky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-15T12:08:15Z", "updated_at": "2019-04-08T08:17:31Z", "closed_at": "2019-04-08T08:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\nI'm working with a lot of network devices and using `ncclient` to get/put configugation to them.\r\nNow I need to use a jumphost to get to some of these devices. I have `~/.ssh/config` file which describes all the appropriate options\r\n```\r\nHost somenetworkdevice\r\n  ProxyCommand ssh -W %h:%p jumphost\r\n```\r\n\r\nIt works from SHELL but `ncclient` doesn't use this file even if I set `ssh_config=True`:\r\n```\r\nwith manager.connect(\r\n    host=host,\r\n    port=22,\r\n    ssh_config=True,\r\n    username='username',\r\n    hostkey_verify=False,\r\n    device_params={'name': 'junos'}\r\n) as m:\r\n```\r\nIt just failes with this:\r\n```\r\nTraceback (most recent call last):\r\n  File \"./JunOS_get.py\", line 26, in <module>\r\n    timeout=5\r\n  File \"/usr/local/lib/python3.6/dist-packages/ncclient/manager.py\", line 163, in connect\r\n    return connect_ssh(*args, **kwds)\r\n  File \"/usr/local/lib/python3.6/dist-packages/ncclient/manager.py\", line 128, in connect_ssh\r\n    session.connect(*args, **kwds)\r\n  File \"/usr/local/lib/python3.6/dist-packages/ncclient/transport/ssh.py\", line 384, in connect\r\n    raise SSHError(\"Could not open socket to %s:%s\" % (host, port))\r\nncclient.transport.errors.SSHError: Could not open socket to <mydeviceip>:22\r\n```\r\n\r\nCould you pls help me to tell `ncclient` to use SSH config file.\r\n\r\nI also need this ability for Ansible (2.7.7) `netconf_config` module. \r\nI tried to use\r\n```\r\nansible_netconf_ssh_config = True\r\n```\r\nor\r\n```\r\n[netconf_connection]\r\nssh_config = 1\r\n```\r\nin `ansible.cfg`\r\n\r\nand `export ANSIBLE_NETCONF_SSH_CONFIG=1` environment variable but nothing works.\r\n\r\nAnsible failes with this:\r\n```\r\nfatal: [cloud-m9-b1.cloud.yandex.net]: FAILED! => {\"msg\": \"Could not open socket to cloud-m9-b1.cloud.yandex.net:22\"}\r\n```\r\n\r\nAs soon as Ansible uses `ncclient` I guess these two should be connected somehow. But now neither `ncclient` nor the Ansible uses SSH config file.\r\n\r\nBtw I'm on Ubuntu 18.04.1 LTS.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/304", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/304/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/304/events", "html_url": "https://github.com/ncclient/ncclient/issues/304", "id": 409387680, "node_id": "MDU6SXNzdWU0MDkzODc2ODA=", "number": 304, "title": "Incomplete get_config documentation", "user": {"login": "jmwri", "id": 3142321, "node_id": "MDQ6VXNlcjMxNDIzMjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3142321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmwri", "html_url": "https://github.com/jmwri", "followers_url": "https://api.github.com/users/jmwri/followers", "following_url": "https://api.github.com/users/jmwri/following{/other_user}", "gists_url": "https://api.github.com/users/jmwri/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmwri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmwri/subscriptions", "organizations_url": "https://api.github.com/users/jmwri/orgs", "repos_url": "https://api.github.com/users/jmwri/repos", "events_url": "https://api.github.com/users/jmwri/events{/privacy}", "received_events_url": "https://api.github.com/users/jmwri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 402139890, "node_id": "MDU6TGFiZWw0MDIxMzk4OTA=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Documentation", "name": "Documentation", "color": "bfd4f2", "default": false, "description": null}, {"id": 980787383, "node_id": "MDU6TGFiZWw5ODA3ODczODM=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Waiting", "name": "Waiting", "color": "1d76db", "default": false, "description": "Waiting for a response from issue or PR author or for someone to volunteer to pick up an enhancement"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-12T16:29:23Z", "updated_at": "2020-08-01T15:08:20Z", "closed_at": "2020-08-01T15:08:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "The docs @ https://ncclient.readthedocs.io/en/latest/manager.html?highlight=get_config#ncclient.manager.Manager.get_config are missing the `with_defaults` parameter as per https://github.com/ncclient/ncclient/blob/master/ncclient/operations/retrieve.py#L116.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/300", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/300/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/300/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/300/events", "html_url": "https://github.com/ncclient/ncclient/issues/300", "id": 398726559, "node_id": "MDU6SXNzdWUzOTg3MjY1NTk=", "number": 300, "title": "error: Failed to apply configuration changes to device.\\nerror: Wrong parameter found.", "user": {"login": "menkeyi", "id": 11925230, "node_id": "MDQ6VXNlcjExOTI1MjMw", "avatar_url": "https://avatars0.githubusercontent.com/u/11925230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/menkeyi", "html_url": "https://github.com/menkeyi", "followers_url": "https://api.github.com/users/menkeyi/followers", "following_url": "https://api.github.com/users/menkeyi/following{/other_user}", "gists_url": "https://api.github.com/users/menkeyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/menkeyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/menkeyi/subscriptions", "organizations_url": "https://api.github.com/users/menkeyi/orgs", "repos_url": "https://api.github.com/users/menkeyi/repos", "events_url": "https://api.github.com/users/menkeyi/events{/privacy}", "received_events_url": "https://api.github.com/users/menkeyi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-14T02:00:07Z", "updated_at": "2019-12-21T20:47:35Z", "closed_at": "2019-12-21T20:47:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nWhen the Huawei firewall occasionally delivers the configuration, it will encounter this error message. After running it once, it can be successfully issued. I don't know why?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/298", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/298/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/298/events", "html_url": "https://github.com/ncclient/ncclient/issues/298", "id": 396531837, "node_id": "MDU6SXNzdWUzOTY1MzE4Mzc=", "number": 298, "title": "sending traceroute rpc with _request method issue", "user": {"login": "brunoonovais", "id": 42840196, "node_id": "MDQ6VXNlcjQyODQwMTk2", "avatar_url": "https://avatars2.githubusercontent.com/u/42840196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunoonovais", "html_url": "https://github.com/brunoonovais", "followers_url": "https://api.github.com/users/brunoonovais/followers", "following_url": "https://api.github.com/users/brunoonovais/following{/other_user}", "gists_url": "https://api.github.com/users/brunoonovais/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunoonovais/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunoonovais/subscriptions", "organizations_url": "https://api.github.com/users/brunoonovais/orgs", "repos_url": "https://api.github.com/users/brunoonovais/repos", "events_url": "https://api.github.com/users/brunoonovais/events{/privacy}", "received_events_url": "https://api.github.com/users/brunoonovais/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-07T15:29:48Z", "updated_at": "2019-01-07T17:16:12Z", "closed_at": "2019-01-07T17:16:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi team...been trying to send a simple traceroute through ncclient. I was able to find an example on cisco community that works (initially made for ping: https://community.cisco.com/t5/yang-development-kit-ydk/ping-rpc-error-with-cisco-ios-xr-ping-act-module/m-p/3484581), however I was trying to understand how to make it work without having to override the _wrap function for the RPC class as well as the REPLY_CLS class. not sure how those relate.\r\nI was able to create the connection and send the request, but i believe because the router can't find the namespace, it doesn't understand the \"traceroute\" request i am giving.\r\n\r\nHere's an example of what I am getting:\r\n\r\n# full rpc in text, no override of RPC or REPLY_CLS:\r\n\r\n```\r\n    filter=\"\"\"<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"101\">\r\n<traceroute xmlns=\"http://cisco.com/ns/yang/Cisco-IOS-XR-traceroute-act\">\r\n        <ipv4>\r\n            <destination>\r\n                10.0.0.2\r\n            </destination>\r\n        </ipv4>\r\n</traceroute>\r\n</rpc>\r\n    \"\"\"\r\n\r\n...\r\n\r\n    with m.connect(**d, hostkey_verify=False,look_for_keys=False, allow_agent=False) as con:\r\n        print(con)\r\n\r\n        rpc = RPC(con._session, con._device_handler)\r\n        reply = rpc._request(lxml.etree.fromstring(filter))\r\n        print(reply)\r\n\r\n```\r\n\r\nthe below gives me the following rpc response:\r\n\r\n```\r\n<?xml version=\"1.0\"?>\r\n<rpc-reply message-id=\"urn:uuid:3c16d6cf-4e92-476a-aad2-55da641b95a2\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n <rpc-error>\r\n  <error-type>protocol</error-type>\r\n  <error-tag>unknown-namespace</error-tag>\r\n  <error-severity>error</error-severity>\r\n  <error-info>\r\n   <bad-element>rpc</bad-element>\r\n   <bad-namespace>urn:ietf:params:xml:ns:netconf:base:1.0</bad-namespace>\r\n  </error-info>\r\n </rpc-error>\r\n</rpc-reply>\r\n```\r\n\r\nI have tried different variations, but basically the only way i can make it work, is by using the example mentioned in the link above. appreciate any thoughts on what i am doing wrong.\r\n\r\nthanks\r\nBruno", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/295", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/295/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/295/events", "html_url": "https://github.com/ncclient/ncclient/issues/295", "id": 391143126, "node_id": "MDU6SXNzdWUzOTExNDMxMjY=", "number": 295, "title": "poor performance of netconf", "user": {"login": "yusong0926", "id": 16258019, "node_id": "MDQ6VXNlcjE2MjU4MDE5", "avatar_url": "https://avatars3.githubusercontent.com/u/16258019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yusong0926", "html_url": "https://github.com/yusong0926", "followers_url": "https://api.github.com/users/yusong0926/followers", "following_url": "https://api.github.com/users/yusong0926/following{/other_user}", "gists_url": "https://api.github.com/users/yusong0926/gists{/gist_id}", "starred_url": "https://api.github.com/users/yusong0926/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yusong0926/subscriptions", "organizations_url": "https://api.github.com/users/yusong0926/orgs", "repos_url": "https://api.github.com/users/yusong0926/repos", "events_url": "https://api.github.com/users/yusong0926/events{/privacy}", "received_events_url": "https://api.github.com/users/yusong0926/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-14T14:57:02Z", "updated_at": "2019-12-21T20:46:56Z", "closed_at": "2019-12-21T20:46:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just found some of the netconf rpc calls take more than 20 seconds to finish. I am thinking if that's the problem of netconf and xml.\r\nwhen you run netconf over ssh in command line, in the response of a rpc call, each xml tag is output on it's own line there is very poor buffering happing and it's flushing and delivering the stream to the client every new line.\r\nnot sure if that's the problem for the poor performance  I got.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/294", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/294/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/294/events", "html_url": "https://github.com/ncclient/ncclient/issues/294", "id": 383160102, "node_id": "MDU6SXNzdWUzODMxNjAxMDI=", "number": 294, "title": "Namespace defined in <config xmlns..> is removed", "user": {"login": "flazzarini", "id": 970874, "node_id": "MDQ6VXNlcjk3MDg3NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/970874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flazzarini", "html_url": "https://github.com/flazzarini", "followers_url": "https://api.github.com/users/flazzarini/followers", "following_url": "https://api.github.com/users/flazzarini/following{/other_user}", "gists_url": "https://api.github.com/users/flazzarini/gists{/gist_id}", "starred_url": "https://api.github.com/users/flazzarini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flazzarini/subscriptions", "organizations_url": "https://api.github.com/users/flazzarini/orgs", "repos_url": "https://api.github.com/users/flazzarini/repos", "events_url": "https://api.github.com/users/flazzarini/events{/privacy}", "received_events_url": "https://api.github.com/users/flazzarini/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-21T15:06:02Z", "updated_at": "2018-12-24T00:17:02Z", "closed_at": "2018-12-24T00:17:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nI fairly new to Netconf in general so not sure if the following is a mistake on my part or if it is the library misbehaving.\r\n\r\nI am trying to execute the following block of XML on a Huawei Device to **remove** a specific interface on the device.\r\n\r\n**XML**\r\n\r\n```\r\n<config xmlns:xc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n    <ifm xmlns=\"http://www.huawei.com/netconf/vrp\" format-version=\"1.0\" content-version=\"1.0\">\r\n    <interfaces>\r\n        <interface xc:operation=\"remove\">\r\n            <ifName>Eth-Trunk1.5</ifName>\r\n        </interface>\r\n    </interfaces>\r\n</ifm>\r\n</config>\r\n```\r\n\r\n**Client Code**\r\n\r\n```\r\nimport logging\r\nfrom ncclient import manager as Manager\r\n\r\nLOG = logging.getLogger(__name__)\r\nlogging.basicConfig(level=logging.DEBUG)\r\n\r\n\r\ndef delete_interface(if_name, manager):\r\n    xml = \"\"\"\r\n      <config xmlns:xc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n        <ifm xmlns=\"http://www.huawei.com/netconf/vrp\"\r\n             format-version=\"1.0\"\r\n             content-version=\"1.0\">\r\n          <interfaces>\r\n          <interface xc:operation=\"remove\">\r\n              <ifName>{if_name}</ifName>\r\n            </interface>\r\n          </interfaces>\r\n        </ifm>\r\n      </config>\r\n    \"\"\".format(if_name=if_name)\r\n    result = manager.edit_config(target=\"running\",\r\n                                 config=xml)\r\n    return result.xml\r\n\r\n\r\nif __name__ == \"__main__\":\r\n   host = '192.0.2.0'\r\n   port = 830\r\n   username = 'foobar'\r\n   password = 'foobaz'\r\n\r\n   with Manager.connect(host=host,\r\n                        port=port,\r\n                        username=username,\r\n                        password=password,\r\n                        hostkey_verify=False,\r\n                        device_params={'name': 'huawei'}) as man:\r\n        delete_interface('Eth-Trunk1.5', man)\r\n```\r\n\r\nWhen debugging is turned on I see the following DEBUG message in which the namespace I defined in the config tag are removed.\r\n\r\n```\r\nDEBUG:ncclient.transport.ssh:[host 192.168.254.67 session-id 47684] queueing <?xml version=\"1.0\" encoding=\"UTF-8\"?><rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:2c30d885-3320-4e4d-a41\r\nc-9b29d7bd4a51\"><edit-config xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><target><running/></target><config>\r\n        <ifm xmlns=\"http://www.huawei.com/netconf/vrp\" format-version=\"1.0\" content-version=\"1.0\">\r\n          <interfaces>\r\n          <interface nc:operation=\"remove\">\r\n              <ifName>Eth-Trunk1.5</ifName>\r\n            </interface>\r\n          </interfaces>\r\n        </ifm>\r\n      </config></edit-config></rpc>\r\n```\r\n\r\nThe final error that i get is the following\r\n\r\n```\r\nncclient.operations.rpc.RPCError: interface's attribute operation has invalid value remove.\r\n```\r\n\r\nMy question is why is the namespace removed from the config tag in the XML? Thanks for any hints.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/293", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/293/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/293/events", "html_url": "https://github.com/ncclient/ncclient/issues/293", "id": 381164543, "node_id": "MDU6SXNzdWUzODExNjQ1NDM=", "number": 293, "title": "ImportError: cannot import name 'etree' when using manager", "user": {"login": "DocDriven", "id": 30296124, "node_id": "MDQ6VXNlcjMwMjk2MTI0", "avatar_url": "https://avatars2.githubusercontent.com/u/30296124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DocDriven", "html_url": "https://github.com/DocDriven", "followers_url": "https://api.github.com/users/DocDriven/followers", "following_url": "https://api.github.com/users/DocDriven/following{/other_user}", "gists_url": "https://api.github.com/users/DocDriven/gists{/gist_id}", "starred_url": "https://api.github.com/users/DocDriven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DocDriven/subscriptions", "organizations_url": "https://api.github.com/users/DocDriven/orgs", "repos_url": "https://api.github.com/users/DocDriven/repos", "events_url": "https://api.github.com/users/DocDriven/events{/privacy}", "received_events_url": "https://api.github.com/users/DocDriven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-15T13:37:55Z", "updated_at": "2018-12-24T00:23:52Z", "closed_at": "2018-12-24T00:23:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there,\r\n\r\nI installed ncclient successfully using the setup.py script. In my interpreter session, when I try to import the manager via `from ncclient import manager`, I get the following error trace:\r\n\r\n> Traceback (most recent call last):\r\n>   File \"/home/serving/inference/ncclient_test.py\", line 3, in <module>\r\n>     from ncclient import operations\r\n>   File \"/usr/local/lib/python3.6/dist-packages/ncclient-0.6.3+2.gde873d8-py3.6.egg/ncclient/operations/__init__.py\", line 16, in <module>\r\n>     from ncclient.operations.rpc import RPC, RPCReply, RPCError, RaiseMode\r\n>   File \"/usr/local/lib/python3.6/dist-packages/ncclient-0.6.3+2.gde873d8-py3.6.egg/ncclient/operations/rpc.py\", line 19, in <module>\r\n>     from ncclient.xml_ import *\r\n>   File \"/usr/local/lib/python3.6/dist-packages/ncclient-0.6.3+2.gde873d8-py3.6.egg/ncclient/xml_.py\", line 25, in <module>\r\n>     from lxml import etree\r\n> ImportError: cannot import name 'etree'\r\n\r\nHowever, it is possible for me to execute `import ncclient` or even `from ncclient import capabilities`. Can you help me with this issue?\r\n\r\nI'm on Ubuntu 16.04 LTS and using Python 3.6.\r\n\r\nEDIT:\r\nI have inspected the used package under `/usr/lib/python3/dist-packages/lxml` and found the following file structure:\r\n![image](https://user-images.githubusercontent.com/30296124/48606040-c9777380-e97e-11e8-87b8-816319a11572.png)\r\n\r\nCould my install be corrupted so that I am missing `etree.py` or some other files?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/291", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/291/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/291/events", "html_url": "https://github.com/ncclient/ncclient/issues/291", "id": 376456079, "node_id": "MDU6SXNzdWUzNzY0NTYwNzk=", "number": 291, "title": "selectors2 should be pinned to Python versions <= 3.4", "user": {"login": "knobix", "id": 43905002, "node_id": "MDQ6VXNlcjQzOTA1MDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/43905002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/knobix", "html_url": "https://github.com/knobix", "followers_url": "https://api.github.com/users/knobix/followers", "following_url": "https://api.github.com/users/knobix/following{/other_user}", "gists_url": "https://api.github.com/users/knobix/gists{/gist_id}", "starred_url": "https://api.github.com/users/knobix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/knobix/subscriptions", "organizations_url": "https://api.github.com/users/knobix/orgs", "repos_url": "https://api.github.com/users/knobix/repos", "events_url": "https://api.github.com/users/knobix/events{/privacy}", "received_events_url": "https://api.github.com/users/knobix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-01T15:59:36Z", "updated_at": "2018-11-02T21:36:21Z", "closed_at": "2018-11-02T21:36:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nthe requirement for the selectors2 Python package that was introduced with v0.6.2 is only required for Python versions lower/equal than 3.4 .\r\n\r\nIt causes runtime errors on Python 3.6 (or later) packages, e.g. napalm, that depends on ncclient.\r\n\r\nMaybe it makes sense to pin the version requirements accordingly in the requirements.txt.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/290", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/290/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/290/events", "html_url": "https://github.com/ncclient/ncclient/issues/290", "id": 374476277, "node_id": "MDU6SXNzdWUzNzQ0NzYyNzc=", "number": 290, "title": "Receive notifications in my Manager with SessionListener", "user": {"login": "alarrosa5", "id": 32075986, "node_id": "MDQ6VXNlcjMyMDc1OTg2", "avatar_url": "https://avatars2.githubusercontent.com/u/32075986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alarrosa5", "html_url": "https://github.com/alarrosa5", "followers_url": "https://api.github.com/users/alarrosa5/followers", "following_url": "https://api.github.com/users/alarrosa5/following{/other_user}", "gists_url": "https://api.github.com/users/alarrosa5/gists{/gist_id}", "starred_url": "https://api.github.com/users/alarrosa5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alarrosa5/subscriptions", "organizations_url": "https://api.github.com/users/alarrosa5/orgs", "repos_url": "https://api.github.com/users/alarrosa5/repos", "events_url": "https://api.github.com/users/alarrosa5/events{/privacy}", "received_events_url": "https://api.github.com/users/alarrosa5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-26T17:25:00Z", "updated_at": "2018-12-24T00:15:40Z", "closed_at": "2018-12-24T00:15:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Someone could help me to connect a manager with a session listener. Now I have this code but it does not compile:\r\n\r\n```\r\ndef demo(host, map, ip):\r\n        with manager.connect(host=host, port=830, username=\"netconf\", password=\"netconf\",hostkey_verify=False) as m:\r\n             for c in m.server_capabilities:\r\n                   print (c)\r\n             c = m.get_config(source='running').data_xml>         \r\n             assert(\":validate\" in m.server_capabilities)\r\n             snippet = etree.tostring(etree.parse(map.get(ip)[0]), pretty_print=True)\r\n             m.edit_config(target='running', config=snippet, test_option='test-then-set')\r\n             m.create_subscription()\r\n             q = Queue()\r\n             listener = NotificationHandler(q)\r\n             session = Session(m.server_capabilities)\r\n             session.add_listener(listener)\r\n             notif = q.get_nowait()\r\n             print notif\r\n```\r\n\r\nI need a simple example of receiving notification", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/289", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/289/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/289/events", "html_url": "https://github.com/ncclient/ncclient/issues/289", "id": 367185205, "node_id": "MDU6SXNzdWUzNjcxODUyMDU=", "number": 289, "title": "Edit-config on Huawei CE8850 failes", "user": {"login": "horseinthesky", "id": 19948672, "node_id": "MDQ6VXNlcjE5OTQ4Njcy", "avatar_url": "https://avatars3.githubusercontent.com/u/19948672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/horseinthesky", "html_url": "https://github.com/horseinthesky", "followers_url": "https://api.github.com/users/horseinthesky/followers", "following_url": "https://api.github.com/users/horseinthesky/following{/other_user}", "gists_url": "https://api.github.com/users/horseinthesky/gists{/gist_id}", "starred_url": "https://api.github.com/users/horseinthesky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/horseinthesky/subscriptions", "organizations_url": "https://api.github.com/users/horseinthesky/orgs", "repos_url": "https://api.github.com/users/horseinthesky/repos", "events_url": "https://api.github.com/users/horseinthesky/events{/privacy}", "received_events_url": "https://api.github.com/users/horseinthesky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-05T12:15:26Z", "updated_at": "2018-10-11T13:24:31Z", "closed_at": "2018-10-11T12:41:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n\r\n**UPDATE**\r\nHere is a simple script to edit l2 interface on Huawei CE8850 DC switch\r\n```\r\nfrom ncclient import manager\r\nfrom getpass import getuser\r\n# import logging\r\n# import sys\r\n# logging.basicConfig(level=logging.DEBUG,\r\n#                     format='%(asctime)s %(levelname)s: %(message)s',\r\n#                     stream=sys.stdout)\r\n\r\nconn = manager.connect(\r\n    host='<myfqdn>',\r\n    port=22,\r\n    timeout=5,\r\n    username=getuser(),\r\n    device_params={'name': 'huawei'},\r\n    hostkey_verify=False\r\n)\r\n\r\npayload = '''\r\n    <config xmlns:xc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n      <ethernet xmlns=\"http://www.huawei.com/netconf/vrp/huawei-ethernet\">\r\n        <ethernetIfs>\r\n          <ethernetIf>\r\n            <ifName>100GE1/0/1:4</ifName>\r\n            <l2Enable>enable</l2Enable>\r\n            <l2Attribute>\r\n              <linkType>trunk</linkType>\r\n              <pvid>106</pvid>\r\n              <trunkVlans>4,5,6,104,106</trunkVlans>\r\n              <taggedPacketDiscard>false</taggedPacketDiscard>\r\n              <portBridgEnable>false</portBridgEnable>\r\n            </l2Attribute>\r\n          </ethernetIf>\r\n        </ethernetIfs>\r\n      </ethernet>\r\n    </config>\r\n'''\r\n\r\nconn.edit_config(config=payload, target='running')\r\n```\r\n\r\nAnd it failes with:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 41, in <module>\r\n    conn.edit_config(config=payload, target='running')\r\n  File \"/usr/local/lib/python3.6/dist-packages/ncclient/manager.py\", line 216, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/usr/local/lib/python3.6/dist-packages/ncclient/operations/edit.py\", line 67, in request\r\n    return self._request(node)\r\n  File \"/usr/local/lib/python3.6/dist-packages/ncclient/operations/rpc.py\", line 341, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: ethernet has invalid namespace: http://www.huawei.com/netconf/vrp/huawei-ethernet.\r\n```\r\n\r\nIf i turn on the logging it's clear that it is CE who can't understand RPC\r\n```\r\n2018-10-11 15:33:45,944 DEBUG: [host <myfqdn> session-id 43037] Sending message\r\n2018-10-11 15:33:45,944 INFO: [host <myfqdn> session-id 43037] Sending:\r\n\r\n#795\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:cfc85403-0c0e-43a7-8975-1e4933168794\"><edit-config><target><running/></target><config>\r\n      <ethernet xmlns=\"http://www.huawei.com/netconf/vrp/huawei-ethernet\">\r\n        <ethernetIfs>\r\n          <ethernetIf>\r\n            <ifName>100GE1/0/1:4</ifName>\r\n            <l2Enable>enable</l2Enable>\r\n            <l2Attribute>\r\n              <linkType>trunk</linkType>\r\n              <pvid>106</pvid>\r\n              <trunkVlans>4,5,6,104,106</trunkVlans>\r\n              <taggedPacketDiscard>false</taggedPacketDiscard>\r\n              <portBridgEnable>false</portBridgEnable>\r\n            </l2Attribute>\r\n          </ethernetIf>\r\n        </ethernetIfs>\r\n      </ethernet>\r\n    </config></edit-config></rpc>\r\n##\r\n\r\n2018-10-11 15:33:45,953 DEBUG: [host <myfqdn> session-id 43037] _parse11: starting\r\n2018-10-11 15:33:45,953 DEBUG: [host <myfqdn> session-id 43037] _parse11: working with buffer of 829 bytes\r\n2018-10-11 15:33:45,953 DEBUG: [host <myfqdn> session-id 43037] _parse11: matching from 0 bytes from start of buffer\r\n2018-10-11 15:33:45,953 DEBUG: [host <myfqdn> session-id 43037] _parse11: regular expression start=0, end=6\r\n2018-10-11 15:33:45,953 DEBUG: [host <myfqdn> session-id 43037] _parse11: found chunk delimiter\r\n2018-10-11 15:33:45,953 DEBUG: [host <myfqdn> session-id 43037] _parse11: chunk size 819 bytes\r\n2018-10-11 15:33:45,954 DEBUG: [host <myfqdn> session-id 43037] _parse11: appending 819 bytes\r\n2018-10-11 15:33:45,954 DEBUG: [host <myfqdn> session-id 43037] _parse11: fragment = \"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<rpc-reply message-id=\"urn:uuid:cfc85403-0c0e-43a7-8975-1e4933168794\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  <rpc-error>\r\n    <error-type>protocol</error-type>\r\n    <error-tag>unknown-namespace</error-tag>\r\n    <error-severity>error</error-severity>\r\n    <error-app-tag>319</error-app-tag>\r\n    <error-message>ethernet has invalid namespace: http://www.huawei.com/netconf/vrp/huawei-ethernet.&#13;\r\n</error-message>\r\n    <error-info>\r\n      <bad-element>ethernet</bad-element>\r\n      <bad-namespace>http://www.huawei.com/netconf/vrp/huawei-ethernet</bad-namespace>\r\n      <error-paras>\r\n        <error-para>ethernet</error-para>\r\n        <error-para>http://www.huawei.com/netconf/vrp/huawei-ethernet</error-para>\r\n      </error-paras>\r\n    </error-info>\r\n  </rpc-error>\r\n</rpc-reply>\r\n\"\r\n```\r\n\r\n##### SOLUTION\r\nTh problem is CE is sending \r\n`<capability>urn:ietf:params:netconf:base:1.1</capability>`\r\ncapability but in reality it doesn't work with 1.1 chunk framing.\r\n\r\nThe solution is to use `huaweiyang` option in `device_params`:\r\n```\r\nconn = manager.connect(\r\n    host='<myfqdn>',\r\n    port=22,\r\n    timeout=5,\r\n    username=getuser(),\r\n    device_params={'name': 'huaweiyang'},\r\n    hostkey_verify=False\r\n)\r\n```\r\nwhich tell `ncclient` to use version 1.0 with the device even if it tells it can use 1.1\r\n\r\nNow we can see `ncclient` is using 1.0 chunk framing `]]>]]>` for communication\r\n```\r\n2018-10-11 14:37:28,282 DEBUG: [host <myfqdn> session-id 42987] Sending message\r\n2018-10-11 14:37:28,282 INFO: [host <myfqdn> session-id 42987] Sending:\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:1eedca9d-8b55-4b65-b0b9-4e7b3304bf3e\"><edit-config><target><running/></target><config>\r\n      <ethernet xmlns=\"http://www.huawei.com/netconf/vrp/huawei-ethernet\">\r\n        <ethernetIfs>\r\n          <ethernetIf>\r\n            <ifName>100GE1/0/1:4</ifName>\r\n            <l2Enable>enable</l2Enable>\r\n            <l2Attribute>\r\n              <linkType>trunk</linkType>\r\n              <pvid>106</pvid>\r\n              <trunkVlans>4,5,6,104,106</trunkVlans>\r\n              <taggedPacketDiscard>false</taggedPacketDiscard>\r\n              <portBridgEnable>false</portBridgEnable>\r\n            </l2Attribute>\r\n          </ethernetIf>\r\n        </ethernetIfs>\r\n      </ethernet>\r\n    </config></edit-config></rpc>]]>]]>\r\n2018-10-11 14:37:28,336 DEBUG: [host <myfqdn> session-id 42987] parsing netconf v1.0\r\n2018-10-11 14:37:28,336 INFO: [host <myfqdn> session-id 42987] Received:\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<rpc-reply message-id=\"urn:uuid:1eedca9d-8b55-4b65-b0b9-4e7b3304bf3e\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  <ok/>\r\n</rpc-reply>\r\n```\r\n\r\nAnd everything works.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/284", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/284/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/284/events", "html_url": "https://github.com/ncclient/ncclient/issues/284", "id": 360523801, "node_id": "MDU6SXNzdWUzNjA1MjM4MDE=", "number": 284, "title": "enhance rpc.py", "user": {"login": "zgysc", "id": 4640441, "node_id": "MDQ6VXNlcjQ2NDA0NDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/4640441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zgysc", "html_url": "https://github.com/zgysc", "followers_url": "https://api.github.com/users/zgysc/followers", "following_url": "https://api.github.com/users/zgysc/following{/other_user}", "gists_url": "https://api.github.com/users/zgysc/gists{/gist_id}", "starred_url": "https://api.github.com/users/zgysc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zgysc/subscriptions", "organizations_url": "https://api.github.com/users/zgysc/orgs", "repos_url": "https://api.github.com/users/zgysc/repos", "events_url": "https://api.github.com/users/zgysc/events{/privacy}", "received_events_url": "https://api.github.com/users/zgysc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-15T09:23:17Z", "updated_at": "2018-09-24T08:51:45Z", "closed_at": "2018-09-24T08:51:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "In rpc.py,  line221\r\n why not use this: \r\n**rpc = self._id2rpc.pop(id)**\r\ninstead of\r\n**rpc = self._id2rpc[id]** \r\n\r\nI think you don't have to write this :   **del self._id2rpc[id]**\r\n\r\nwhat's more\uff0c Line168   \r\n\r\n \r\n\r\n> @property\r\n>     def ok(self):\r\n>         \"Boolean value indicating if there were no errors.\"\r\n>         **return not self.errors** # empty list => false\r\n\r\n\r\nI think it should also call \"**self.parse()**\" before \"**return not self.errors**\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/275", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/275/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/275/events", "html_url": "https://github.com/ncclient/ncclient/issues/275", "id": 355961173, "node_id": "MDU6SXNzdWUzNTU5NjExNzM=", "number": 275, "title": "Subscriptions and Notifications - ", "user": {"login": "Sentinel07", "id": 7310451, "node_id": "MDQ6VXNlcjczMTA0NTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7310451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sentinel07", "html_url": "https://github.com/Sentinel07", "followers_url": "https://api.github.com/users/Sentinel07/followers", "following_url": "https://api.github.com/users/Sentinel07/following{/other_user}", "gists_url": "https://api.github.com/users/Sentinel07/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sentinel07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sentinel07/subscriptions", "organizations_url": "https://api.github.com/users/Sentinel07/orgs", "repos_url": "https://api.github.com/users/Sentinel07/repos", "events_url": "https://api.github.com/users/Sentinel07/events{/privacy}", "received_events_url": "https://api.github.com/users/Sentinel07/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-31T12:29:39Z", "updated_at": "2018-10-26T22:06:43Z", "closed_at": "2018-10-26T22:06:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using following api to fetch notifs & dump to a file. The problem is I am not receiving as many notifs as sent by the network-device. Since this is ssh connection, there is no possibility of notif-drops. How can i debug this on ncclient lib? Is there any notif-receive-counter available?\r\n\r\nno = session.take_notification(block=True, timeout=None)\r\nraw_string = no.notification_xml\r\npretty_string = xmltodict.unparse(xmltodict.parse(raw_string), pretty=True)\r\n\\# dump pretty_string to file ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/272", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/272/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/272/events", "html_url": "https://github.com/ncclient/ncclient/issues/272", "id": 354522151, "node_id": "MDU6SXNzdWUzNTQ1MjIxNTE=", "number": 272, "title": "nclient.org domain doesn't have anything about ncclient, yet it's published on pypi", "user": {"login": "roman-verchikov", "id": 386276, "node_id": "MDQ6VXNlcjM4NjI3Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/386276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roman-verchikov", "html_url": "https://github.com/roman-verchikov", "followers_url": "https://api.github.com/users/roman-verchikov/followers", "following_url": "https://api.github.com/users/roman-verchikov/following{/other_user}", "gists_url": "https://api.github.com/users/roman-verchikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/roman-verchikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roman-verchikov/subscriptions", "organizations_url": "https://api.github.com/users/roman-verchikov/orgs", "repos_url": "https://api.github.com/users/roman-verchikov/repos", "events_url": "https://api.github.com/users/roman-verchikov/events{/privacy}", "received_events_url": "https://api.github.com/users/roman-verchikov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-28T00:10:03Z", "updated_at": "2018-09-10T00:50:22Z", "closed_at": "2018-09-10T00:50:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Project's PyPi](https://pypi.org/project/ncclient/) has homepage link to ncclient.org, but the website located there has nothing to do with the ncclient library. Please update the homepage link on pypi to point to Github.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/265", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/265/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/265/events", "html_url": "https://github.com/ncclient/ncclient/issues/265", "id": 351588404, "node_id": "MDU6SXNzdWUzNTE1ODg0MDQ=", "number": 265, "title": "per-byte debugging in _parse11 is excessive", "user": {"login": "glennmatthews", "id": 5603551, "node_id": "MDQ6VXNlcjU2MDM1NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5603551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glennmatthews", "html_url": "https://github.com/glennmatthews", "followers_url": "https://api.github.com/users/glennmatthews/followers", "following_url": "https://api.github.com/users/glennmatthews/following{/other_user}", "gists_url": "https://api.github.com/users/glennmatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/glennmatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glennmatthews/subscriptions", "organizations_url": "https://api.github.com/users/glennmatthews/orgs", "repos_url": "https://api.github.com/users/glennmatthews/repos", "events_url": "https://api.github.com/users/glennmatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/glennmatthews/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-17T13:10:43Z", "updated_at": "2018-08-20T17:59:24Z", "closed_at": "2018-08-20T17:59:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Reading ncclient's debug logs with NETCONF 1.1 is difficult because of the excessive verbosity of logging literally each single byte read from the session:\r\n\r\n```\r\n   ncclient.transport.session: DEBUG: <SSHSession(session, initial daemon)> created: client_capabilities=<dict_keyiterator object at 0x10bed21d8>\r\n   ncclient.transport.ssh: DEBUG: parsing netconf v1.1\r\n   ncclient.transport.ssh: DEBUG: x: b'\\n'\r\n   ncclient.transport.ssh: DEBUG: x: b'#'\r\n   ncclient.transport.ssh: DEBUG: x: b'3'\r\n   ncclient.transport.ssh: DEBUG: x: b'0'\r\n   ncclient.transport.ssh: DEBUG: x: b'\\n'\r\n   ncclient.transport.ssh: DEBUG: response length: 30\r\n   ncclient.transport.ssh: DEBUG: x: b'<'\r\n   ncclient.transport.ssh: DEBUG: x: b'r'\r\n   ncclient.transport.ssh: DEBUG: x: b'p'\r\n   ncclient.transport.ssh: DEBUG: x: b'c'\r\n   ncclient.transport.ssh: DEBUG: x: b'-'\r\n   ncclient.transport.ssh: DEBUG: x: b'r'\r\n   ncclient.transport.ssh: DEBUG: x: b'e'\r\n   ncclient.transport.ssh: DEBUG: x: b'p'\r\n   ncclient.transport.ssh: DEBUG: x: b'l'\r\n   ncclient.transport.ssh: DEBUG: x: b'y'\r\n   ncclient.transport.ssh: DEBUG: x: b' '\r\n   ncclient.transport.ssh: DEBUG: x: b'x'\r\n   ncclient.transport.ssh: DEBUG: x: b'm'\r\n   ncclient.transport.ssh: DEBUG: x: b'l'\r\n   ncclient.transport.ssh: DEBUG: x: b'n'\r\n   ncclient.transport.ssh: DEBUG: x: b's'\r\n   ncclient.transport.ssh: DEBUG: x: b':'\r\n   ncclient.transport.ssh: DEBUG: x: b'j'\r\n   ...\r\n```\r\n\r\nCan we remove the following line, or at least provide an option to disable it while keeping the other debug-level logs available?\r\n\r\n```diff\r\n        while True:\r\n            x = buf.read(1)\r\n            if not x:\r\n                logger.debug('No more data to read')\r\n                # Store the current chunk to the message list\r\n                chunk = b''.join(chunk_list)\r\n                message_list.append(textify(chunk))\r\n                break # done reading\r\n-           logger.debug('x: %s', x)\r\n            if state == idle:\r\n                if x == b'\\n':\r\n                    state = instart\r\n                    inendpos = 1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/264", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/264/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/264/events", "html_url": "https://github.com/ncclient/ncclient/issues/264", "id": 350937147, "node_id": "MDU6SXNzdWUzNTA5MzcxNDc=", "number": 264, "title": "Is there an option to omit? <?xml version=\"1.0\" encoding=\"UTF-8\"?>", "user": {"login": "nastyfast", "id": 30186897, "node_id": "MDQ6VXNlcjMwMTg2ODk3", "avatar_url": "https://avatars2.githubusercontent.com/u/30186897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nastyfast", "html_url": "https://github.com/nastyfast", "followers_url": "https://api.github.com/users/nastyfast/followers", "following_url": "https://api.github.com/users/nastyfast/following{/other_user}", "gists_url": "https://api.github.com/users/nastyfast/gists{/gist_id}", "starred_url": "https://api.github.com/users/nastyfast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nastyfast/subscriptions", "organizations_url": "https://api.github.com/users/nastyfast/orgs", "repos_url": "https://api.github.com/users/nastyfast/repos", "events_url": "https://api.github.com/users/nastyfast/events{/privacy}", "received_events_url": "https://api.github.com/users/nastyfast/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-15T19:34:32Z", "updated_at": "2018-08-29T16:38:06Z", "closed_at": "2018-08-21T10:04:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using ncclient all rpc messages sent to the netconf server start with `<?xml version=\"1.0\" encoding=\"UTF-8\"?>`\r\n\r\nI was wondering if there is an option to omit this from the rpc?\r\nFor some reason Pulse Secure software is having issues with this. (Works perfectly with all other vendors I have tested)\r\n\r\nExample:\r\n\r\nDoes not work:\r\n`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:d66c8ded-1735-44c9-8903-25239a57f2e6\">\r\n<nc:get-active-users/>\r\n</nc:rpc>\r\n`\r\n\r\nWorks:\r\n\r\n`<nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:d66c8ded-1735-44c9-8903-25239a57f2e6\">\r\n<nc:get-active-users/>\r\n</nc:rpc>`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/262", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/262/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/262/events", "html_url": "https://github.com/ncclient/ncclient/issues/262", "id": 350728710, "node_id": "MDU6SXNzdWUzNTA3Mjg3MTA=", "number": 262, "title": "How to KeepAlive ", "user": {"login": "zgysc", "id": 4640441, "node_id": "MDQ6VXNlcjQ2NDA0NDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/4640441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zgysc", "html_url": "https://github.com/zgysc", "followers_url": "https://api.github.com/users/zgysc/followers", "following_url": "https://api.github.com/users/zgysc/following{/other_user}", "gists_url": "https://api.github.com/users/zgysc/gists{/gist_id}", "starred_url": "https://api.github.com/users/zgysc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zgysc/subscriptions", "organizations_url": "https://api.github.com/users/zgysc/orgs", "repos_url": "https://api.github.com/users/zgysc/repos", "events_url": "https://api.github.com/users/zgysc/events{/privacy}", "received_events_url": "https://api.github.com/users/zgysc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-15T08:33:29Z", "updated_at": "2018-08-15T09:31:35Z", "closed_at": "2018-08-15T09:13:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I need to connect device permanently\uff0c could you give me some advise\uff1f thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/257", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/257/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/257/events", "html_url": "https://github.com/ncclient/ncclient/issues/257", "id": 343404705, "node_id": "MDU6SXNzdWUzNDM0MDQ3MDU=", "number": 257, "title": "application with netconf to configure switch in gns3", "user": {"login": "samehhhh", "id": 37583959, "node_id": "MDQ6VXNlcjM3NTgzOTU5", "avatar_url": "https://avatars1.githubusercontent.com/u/37583959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samehhhh", "html_url": "https://github.com/samehhhh", "followers_url": "https://api.github.com/users/samehhhh/followers", "following_url": "https://api.github.com/users/samehhhh/following{/other_user}", "gists_url": "https://api.github.com/users/samehhhh/gists{/gist_id}", "starred_url": "https://api.github.com/users/samehhhh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samehhhh/subscriptions", "organizations_url": "https://api.github.com/users/samehhhh/orgs", "repos_url": "https://api.github.com/users/samehhhh/repos", "events_url": "https://api.github.com/users/samehhhh/events{/privacy}", "received_events_url": "https://api.github.com/users/samehhhh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-22T13:07:04Z", "updated_at": "2018-07-23T23:44:13Z", "closed_at": "2018-07-23T23:44:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an project developpment an application with netcon or python to configurate routeur cisco  but I have no idea , please help me with any tutoriel", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/254", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/254/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/254/events", "html_url": "https://github.com/ncclient/ncclient/issues/254", "id": 342826557, "node_id": "MDU6SXNzdWUzNDI4MjY1NTc=", "number": 254, "title": "ValueError: filedescriptor out of range in select()", "user": {"login": "ipv6freely", "id": 16598321, "node_id": "MDQ6VXNlcjE2NTk4MzIx", "avatar_url": "https://avatars0.githubusercontent.com/u/16598321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ipv6freely", "html_url": "https://github.com/ipv6freely", "followers_url": "https://api.github.com/users/ipv6freely/followers", "following_url": "https://api.github.com/users/ipv6freely/following{/other_user}", "gists_url": "https://api.github.com/users/ipv6freely/gists{/gist_id}", "starred_url": "https://api.github.com/users/ipv6freely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ipv6freely/subscriptions", "organizations_url": "https://api.github.com/users/ipv6freely/orgs", "repos_url": "https://api.github.com/users/ipv6freely/repos", "events_url": "https://api.github.com/users/ipv6freely/events{/privacy}", "received_events_url": "https://api.github.com/users/ipv6freely/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-07-19T17:46:01Z", "updated_at": "2018-08-21T10:01:42Z", "closed_at": "2018-08-21T10:01:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using [nornir](https://github.com/nornir-automation/nornir) to automate configuration of about 400 devices in parallel. \r\n\r\nI'm getting this traceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/cjones/.local/share/virtualenvs/python-LG6-DRlH/lib/python3.6/site-packages/jnpr/junos/device.py\", line 1251, in open\r\n    device_params={'name': 'junos', 'local': False})\r\n  File \"/Users/cjones/.local/share/virtualenvs/python-LG6-DRlH/lib/python3.6/site-packages/ncclient/manager.py\", line 162, in connect\r\n    return connect_ssh(*args, **kwds)\r\n  File \"/Users/cjones/.local/share/virtualenvs/python-LG6-DRlH/lib/python3.6/site-packages/ncclient/manager.py\", line 127, in connect_ssh\r\n    session.connect(*args, **kwds)\r\n  File \"/Users/cjones/.local/share/virtualenvs/python-LG6-DRlH/lib/python3.6/site-packages/ncclient/transport/ssh.py\", line 451, in connect\r\n    self._post_connect()\r\n  File \"/Users/cjones/.local/share/virtualenvs/python-LG6-DRlH/lib/python3.6/site-packages/ncclient/transport/session.py\", line 107, in _post_connect\r\n    raise error[0]\r\n  File \"/Users/cjones/.local/share/virtualenvs/python-LG6-DRlH/lib/python3.6/site-packages/ncclient/transport/ssh.py\", line 539, in run\r\n    r, w, e = select([chan], [], [], TICK)\r\nValueError: filedescriptor out of range in select()\r\n```\r\nA lot of googling has brought me to the same conclusion - that select() should be replaced with kqueue. Have a look at these:\r\n\r\nhttps://github.com/ansible/ansible/issues/10157\r\nhttps://github.com/ansible/ansible/pull/20934\r\n\r\nI'm on macOS 10.14 using python 3.6. I have already tried increasing the open files limit on my system to 200,000 but that hasn't helped.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/251", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/251/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/251/events", "html_url": "https://github.com/ncclient/ncclient/issues/251", "id": 339682109, "node_id": "MDU6SXNzdWUzMzk2ODIxMDk=", "number": 251, "title": "<config> tag shall use nc prefix?", "user": {"login": "ctrl-l", "id": 40836104, "node_id": "MDQ6VXNlcjQwODM2MTA0", "avatar_url": "https://avatars1.githubusercontent.com/u/40836104?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctrl-l", "html_url": "https://github.com/ctrl-l", "followers_url": "https://api.github.com/users/ctrl-l/followers", "following_url": "https://api.github.com/users/ctrl-l/following{/other_user}", "gists_url": "https://api.github.com/users/ctrl-l/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctrl-l/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctrl-l/subscriptions", "organizations_url": "https://api.github.com/users/ctrl-l/orgs", "repos_url": "https://api.github.com/users/ctrl-l/repos", "events_url": "https://api.github.com/users/ctrl-l/events{/privacy}", "received_events_url": "https://api.github.com/users/ctrl-l/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-10T03:41:44Z", "updated_at": "2018-07-11T07:19:52Z", "closed_at": "2018-07-11T07:19:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n### Brief\r\nI guess  `<config>` tag shall use nc prefix, because \"nc:edit-config\" \"nc:target\" all have \"nc\" prefix, but \"config\" doesn't. You had an issue(https://github.com/ncclient/ncclient/issues/56) about it, but there wasn't any logs attached.\r\n\r\n### Details\r\nI try to send edit-config message to sysrepo(latest version) using ncclient(0.6).\r\n<details><summary>Client code</summary>\r\n<p>\r\n\r\n```python\r\n#! /usr/bin/env python\r\n\r\nimport sys, os, warnings\r\nwarnings.simplefilter(\"ignore\", DeprecationWarning)\r\nfrom ncclient import manager\r\n\r\ndef nc_edit_config(con):\r\n    xml = '''\r\n        <config>\r\n            <interfaces xmlns=\"urn:ietf:params:xml:ns:yang:ietf-interfaces\">\r\n                <interface>\r\n                    <name>eth0</name>\r\n                    <enabled>false</enabled>\r\n                </interface>\r\n            </interfaces>\r\n        </config>\r\n        '''\r\n    ret = con.edit_config(target='candidate', config=xml)\r\n    print(\"Success? {}\". format(ret.ok))\r\n\r\n\r\ndef main():\r\n    with manager.connect(host='localhost', port=830, username='netconf',\r\n                         password='netconf', hostkey_verify=False) as nc_con:\r\n        nc_edit_config(nc_con)\r\n\r\nif __name__== \"__main__\":\r\n    main()\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n<details><summary>Client output</summary>\r\n<p>\r\n\r\n```\r\n> python ncclient_err_example.py\r\nTraceback (most recent call last):\r\n  File \"ncclient_err_example.py\", line 27, in <module>\r\n    main()\r\n  File \"ncclient_err_example.py\", line 24, in main\r\n    nc_edit_config(nc_con)\r\n  File \"ncclient_err_example.py\", line 18, in nc_edit_config\r\n    ret = con.edit_config(target='candidate', config=xml)\r\n  File \"/home/user/.local/lib/python3.6/site-packages/ncclient/manager.py\", line 170, in wrapper\r\n    return self.execute(op_cls, *args, **kwds)\r\n  File \"/home/user/.local/lib/python3.6/site-packages/ncclient/manager.py\", line 240, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/home/user/.local/lib/python3.6/site-packages/ncclient/operations/edit.py\", line 67, in request\r\n    return self._request(node)\r\n  File \"/home/user/.local/lib/python3.6/site-packages/ncclient/operations/rpc.py\", line 336, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: Missing element's \"namespace\".\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n#### Message from client\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:6c90a1b4-5917-4904-8f6d-e69ddd48dd38\">\r\n\t<nc:edit-config>\r\n\t\t<nc:target><nc:candidate/></nc:target>\r\n\t\t<config>\r\n\t\t\t<interfaces xmlns=\"urn:ietf:params:xml:ns:yang:ietf-interfaces\">\r\n\t\t\t\t<interface>\r\n\t\t\t\t\t<name>eth0</name>\r\n\t\t\t\t\t<enabled>false</enabled>\r\n\t\t\t\t</interface>\r\n\t\t\t</interfaces>\r\n\t\t</config>\r\n\t</nc:edit-config>\r\n</nc:rpc>\r\n```\r\n\r\n#### Server error\r\n```\r\nERROR: Missing element's \"namespace\". (/nc:rpc/nc:edit-config/config)\r\n```\r\n\r\nI am new to NETCONF, at first i've sent bugreport to sysrepo https://github.com/CESNET/libyang/issues/535. The answer was that it's ncclient issue, i think they are right. Quote from their answer:\r\n\r\n>  The error says that /nc:rpc/nc:edit-config/config element does not have a namespace. Looking at the received message, you see that the config element really does not have a namespace, it would need to be nc:config to work. Without the prefix it uses the parent's namespace which is none in your case.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/250", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/250/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/250/events", "html_url": "https://github.com/ncclient/ncclient/issues/250", "id": 339062122, "node_id": "MDU6SXNzdWUzMzkwNjIxMjI=", "number": 250, "title": "edit-config parameters constructed out-of-order", "user": {"login": "vasdev28", "id": 9440210, "node_id": "MDQ6VXNlcjk0NDAyMTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/9440210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vasdev28", "html_url": "https://github.com/vasdev28", "followers_url": "https://api.github.com/users/vasdev28/followers", "following_url": "https://api.github.com/users/vasdev28/following{/other_user}", "gists_url": "https://api.github.com/users/vasdev28/gists{/gist_id}", "starred_url": "https://api.github.com/users/vasdev28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vasdev28/subscriptions", "organizations_url": "https://api.github.com/users/vasdev28/orgs", "repos_url": "https://api.github.com/users/vasdev28/repos", "events_url": "https://api.github.com/users/vasdev28/events{/privacy}", "received_events_url": "https://api.github.com/users/vasdev28/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 402147514, "node_id": "MDU6TGFiZWw0MDIxNDc1MTQ=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-06T20:28:18Z", "updated_at": "2019-12-21T20:51:58Z", "closed_at": "2019-12-21T20:51:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to send out an edit_config using the below args\r\n m.edit_config(target='candidate', config=cfg,test_option=\"set\",default_operation=\"replace\")\r\n\r\nBut I see the XML order of the packet constructed does not follow the yang definition in RFC-6241\r\n\r\nThe packet that gets sent out has arguments \r\n\r\n```\r\n<nc:rpc message-id=\"urn:uuid:7553c040-c1e7-4127-bf9c-ae1bd39da480\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  <nc:edit-config>\r\n    <nc:target>\r\n      <nc:candidate/>\r\n    </nc:target>\r\n    <nc:test-option>set</nc:test-option>\r\n    <nc:default-operation>replace</nc:default-operation>\r\n ...\r\n```\r\n\r\nExpected Output is \r\n\r\n```\r\n<nc:rpc message-id=\"urn:uuid:7553c040-c1e7-4127-bf9c-ae1bd39da480\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  <nc:edit-config>\r\n    <nc:target>\r\n      <nc:candidate/>\r\n    </nc:target>\r\n    <nc:default-operation>replace</nc:default-operation>\r\n    <nc:test-option>set</nc:test-option>\r\n ...\r\n```\r\n\r\nRFC Reference:\r\nRFC6020 Section 7.13.4\r\n   Input parameters are encoded as child XML elements to the rpc node's\r\n   XML element, in the same order as they are defined within the \"input\"\r\n   statement.\r\n\r\nRFC6241\r\nhttps://tools.ietf.org/html/rfc6241#appendix-C\r\n\r\n```\r\n   rpc edit-config {\r\n      description\r\n        \"The <edit-config> operation loads all or part of a specified\r\n         configuration to the specified target configuration.\";\r\n\r\n      reference \"RFC 6241, Section 7.2\";\r\n\r\n      input {\r\n        container target {\r\n           ...\r\n        }\r\n        leaf default-operation {\r\n           ...\r\n         }\r\n        leaf test-option {\r\n          ...\r\n        }\r\n        leaf error-option {\r\n          ...\r\n        }\r\n        choice edit-content {\r\n          ...\r\n        }\r\n    }\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/246", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/246/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/246/events", "html_url": "https://github.com/ncclient/ncclient/issues/246", "id": 336976990, "node_id": "MDU6SXNzdWUzMzY5NzY5OTA=", "number": 246, "title": "async is a reserved word in Python 3.7", "user": {"login": "DamianZaremba", "id": 142120, "node_id": "MDQ6VXNlcjE0MjEyMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/142120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DamianZaremba", "html_url": "https://github.com/DamianZaremba", "followers_url": "https://api.github.com/users/DamianZaremba/followers", "following_url": "https://api.github.com/users/DamianZaremba/following{/other_user}", "gists_url": "https://api.github.com/users/DamianZaremba/gists{/gist_id}", "starred_url": "https://api.github.com/users/DamianZaremba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DamianZaremba/subscriptions", "organizations_url": "https://api.github.com/users/DamianZaremba/orgs", "repos_url": "https://api.github.com/users/DamianZaremba/repos", "events_url": "https://api.github.com/users/DamianZaremba/events{/privacy}", "received_events_url": "https://api.github.com/users/DamianZaremba/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-29T12:17:00Z", "updated_at": "2018-07-12T12:46:33Z", "closed_at": "2018-07-12T12:46:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "`async` and `await` have become keywords in Python 3.7 (https://docs.python.org/3/whatsnew/3.7.html).\r\n\r\nBecause of this ncclient fails to byte compile against a 3.7 interpreter:\r\n\r\n```\r\n  File \"/opt/blue-python/3.7/lib/python3.7/site-packages/ncclient/manager.py\", line 230\r\n    async=self._async_mode,\r\n        ^\r\nSyntaxError: invalid syntax\r\n  File \"/opt/blue-python/3.7/lib/python3.7/site-packages/ncclient/operations/rpc.py\", line 267\r\n    def __init__(self, session, device_handler, async=False, timeout=30, raise_mode=RaiseMode.NONE):\r\n                                                    ^\r\nSyntaxError: invalid syntax\r\n\r\n*** Error compiling '/builddir/build/BUILDROOT/blue-python37-ncclient-0.5.3-1.el7.x86_64/opt/blue-python/3.7/lib/python3.7/site-packages/ncclient/manager.py'...\r\n  File \"/manager.py\", line 230\r\n    async=self._async_mode,\r\n        ^\r\nSyntaxError: invalid syntax\r\n\r\n*** Error compiling '/builddir/build/BUILDROOT/blue-python37-ncclient-0.5.3-1.el7.x86_64/opt/blue-python/3.7/lib/python3.7/site-packages/ncclient/operations/rpc.py'...\r\n  File \"/rpc.py\", line 267\r\n    def __init__(self, session, device_handler, async=False, timeout=30, raise_mode=RaiseMode.NONE):\r\n                                                    ^\r\nSyntaxError: invalid syntax\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/245", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/245/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/245/events", "html_url": "https://github.com/ncclient/ncclient/issues/245", "id": 335125248, "node_id": "MDU6SXNzdWUzMzUxMjUyNDg=", "number": 245, "title": "Question: regarding async-mode", "user": {"login": "jeremyschulman", "id": 2607956, "node_id": "MDQ6VXNlcjI2MDc5NTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2607956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremyschulman", "html_url": "https://github.com/jeremyschulman", "followers_url": "https://api.github.com/users/jeremyschulman/followers", "following_url": "https://api.github.com/users/jeremyschulman/following{/other_user}", "gists_url": "https://api.github.com/users/jeremyschulman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremyschulman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremyschulman/subscriptions", "organizations_url": "https://api.github.com/users/jeremyschulman/orgs", "repos_url": "https://api.github.com/users/jeremyschulman/repos", "events_url": "https://api.github.com/users/jeremyschulman/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremyschulman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-23T19:33:17Z", "updated_at": "2018-07-06T10:25:04Z", "closed_at": "2018-07-06T10:25:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Team,\r\n\r\nI am using the async-mode to execute a Junos software package add RPC.  This is a long running process, and during the install the Junos response RPC will emit output, which is actually captured within an <output> tag.  I have code written using the async mode AOK; but I am wondering if I can access the \"ncclient read buffer\" while the RPC is running so that I can get \"near real time\" progress.  While I know that the buffer string is \"incomplete\" I could at least use the contents in an intelligent want to provide useful feedback on progress to the User.  \r\n\r\nSo my code effectively looks like this:\r\n\r\n````python\r\n    rpc_rsp = ncc.rpc(rpc_cmd)\r\n\r\n    # check the status of the RPC against a countdown timeout ...\r\n    while not rpc_rsp.event.is_set():\r\n        cur_act.details['countdown'] = count_down\r\n        cur_act.updated()\r\n        count_down -= check_after\r\n        if count_down < 0:\r\n            break\r\n        time.sleep(check_after)\r\n````\r\n\r\nWhat I'd like to do is access a property within the `rpc_rsp` object so that I can obtain the read buffer within the while loop.\r\n\r\nI hope this question makes sense.  I look forward to your reply and guidance.\r\n\r\nThank you!\r\n-- Jeremy\r\n\r\n(ps - I am also back at Juniper)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/240", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/240/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/240/events", "html_url": "https://github.com/ncclient/ncclient/issues/240", "id": 332687312, "node_id": "MDU6SXNzdWUzMzI2ODczMTI=", "number": 240, "title": "Problems with copy_config on Nokia SR OS ", "user": {"login": "oysteingy", "id": 23247677, "node_id": "MDQ6VXNlcjIzMjQ3Njc3", "avatar_url": "https://avatars0.githubusercontent.com/u/23247677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oysteingy", "html_url": "https://github.com/oysteingy", "followers_url": "https://api.github.com/users/oysteingy/followers", "following_url": "https://api.github.com/users/oysteingy/following{/other_user}", "gists_url": "https://api.github.com/users/oysteingy/gists{/gist_id}", "starred_url": "https://api.github.com/users/oysteingy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oysteingy/subscriptions", "organizations_url": "https://api.github.com/users/oysteingy/orgs", "repos_url": "https://api.github.com/users/oysteingy/repos", "events_url": "https://api.github.com/users/oysteingy/events{/privacy}", "received_events_url": "https://api.github.com/users/oysteingy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-15T08:25:11Z", "updated_at": "2018-06-21T23:41:25Z", "closed_at": "2018-06-21T23:41:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI'm trying to save config on Nokia SR OS device running TiMOS-C-14.0.R8. \r\ncopy_config should be supported according too \r\nhttps://infoproducts.alcatel-lucent.com/html/0_add-h-f/93-0071-HTML/7750_SR_OS_System_Management_Guide/NETCONF-Intro.html\r\n\r\n```python\r\n\r\n\r\n> with manager.connect(host=hostname, port=830, username=username,hostkey_verify=False, password=password , device_params={'name':'alu'}) as nc_man:\r\n       \r\n-> c = nc_man.copy_config(source='running', target='startup')\r\n(Pdb) n\r\nDEBUG:ncclient.transport.session:installing listener <ncclient.operations.rpc.RPCReplyListener object at 0x7f51ccbd3400>\r\nINFO:ncclient.operations.rpc:Requesting 'CopyConfig'\r\nDEBUG:ncclient.transport.session:queueing <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:f40d7924-1eab-4066-87ed-931a6da6c3d0\"><nc:copy-config><nc:target><nc:startup/></nc:target><nc:source><nc:running/></nc:source></nc:copy-config></nc:rpc>\r\nDEBUG:ncclient.operations.rpc:Sync request, will wait for timeout=30\r\nDEBUG:ncclient.transport.ssh:Sending message\r\nDEBUG:ncclient.transport.ssh:Sending: <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:f40d7924-1eab-4066-87ed-931a6da6c3d0\"><nc:copy-config><nc:target><nc:startup/></nc:target><nc:source><nc:running/></nc:source></nc:copy-config></nc:rpc>]]>]]>\r\nDEBUG:ncclient.transport.ssh:Selecting netconf:base:1.0 for encoding\r\nDEBUG:ncclient.transport.ssh:parsing netconf v1.0\r\nDEBUG:ncclient.transport.ssh:Selecting netconf:base:1.0 for encoding\r\nDEBUG:ncclient.transport.ssh:parsing netconf v1.0\r\nDEBUG:ncclient.transport.ssh:Selecting netconf:base:1.0 for encoding\r\nDEBUG:ncclient.transport.ssh:parsing netconf v1.0\r\nDEBUG:ncclient.transport.session:dispatching message to <ncclient.operations.rpc.RPCReplyListener object at 0x7f51ccbd3400>: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<rpc-reply message-id=\"urn:uuid:f40d7924-1eab-4066-87ed-931a6da6c3d0\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n    <rpc-error>\r\n        <error-type>protocol</error-type>\r\n        <error-tag>missing-element</error-tag>\r\n        <error-severity>error</error-severity>\r\n        <error-info>\r\n            <bad-element>target</bad-element>\r\n        </error-info>\r\n        <error-message>\r\n            Missing element in the specified context - target datastore missing\r\n        </error-message>\r\n    </rpc-error>\r\n</rpc-reply>\r\nDEBUG:ncclient.operations.rpc:Delivering to <ncclient.operations.edit.CopyConfig object at 0x7f51ccbd3208>\r\nDEBUG:ncclient.transport.session:dispatching message to <ncclient.transport.session.NotificationHandler object at 0x7f51c62f3f60>: <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<rpc-reply message-id=\"urn:uuid:f40d7924-1eab-4066-87ed-931a6da6c3d0\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n    <rpc-error>\r\n        <error-type>protocol</error-type>\r\n        <error-tag>missing-element</error-tag>\r\n        <error-severity>error</error-severity>\r\n        <error-info>\r\n            <bad-element>target</bad-element>\r\n        </error-info>\r\n        <error-message>\r\n            Missing element in the specified context - target datastore missing\r\n        </error-message>\r\n    </rpc-error>\r\n</rpc-reply>\r\nncclient.operations.rpc.RPCError:\r\n            Missing element in the specified context - target datastore missing\r\n```\r\n\r\nFrom Nokia documentation:\r\n**The <copy-config> operation uses the CLI Content Layer format. The format of the source and target is block CLI.**\r\n\r\nI'm _suspecting_ that the Nokia device is expecting a format like\r\n\r\n<source><running/></source>\r\n<target><startup/></target>\r\n\t\t\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/238", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/238/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/238/events", "html_url": "https://github.com/ncclient/ncclient/issues/238", "id": 332300245, "node_id": "MDU6SXNzdWUzMzIzMDAyNDU=", "number": 238, "title": "confirm-commit and check fails on junos devices", "user": {"login": "ganeshrn", "id": 5292461, "node_id": "MDQ6VXNlcjUyOTI0NjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/5292461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ganeshrn", "html_url": "https://github.com/ganeshrn", "followers_url": "https://api.github.com/users/ganeshrn/followers", "following_url": "https://api.github.com/users/ganeshrn/following{/other_user}", "gists_url": "https://api.github.com/users/ganeshrn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ganeshrn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ganeshrn/subscriptions", "organizations_url": "https://api.github.com/users/ganeshrn/orgs", "repos_url": "https://api.github.com/users/ganeshrn/repos", "events_url": "https://api.github.com/users/ganeshrn/events{/privacy}", "received_events_url": "https://api.github.com/users/ganeshrn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-14T08:27:35Z", "updated_at": "2019-09-23T21:20:04Z", "closed_at": "2018-06-16T21:48:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Invoking `commit()` with confirm timeout for Juniper devices result in executing in below xml on device\r\n```\r\n  <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n  <nc:commit xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  \t<nc:confirmed/>\r\n  \t<nc:confirm-timeout>5</nc:confirm-timeout>\r\n  \t<nc:log>configured by junos_config</nc:log>\r\n  </nc:commit>\r\n```\r\nThis rpc call does not work for confirm commit as seen from device logs after exectung the rpc\r\n```\r\nuser@junos# show | compare rollback ?\r\nPossible completions:\r\n  0                    2018-06-14 04:59:12 UTC by user via netconf\r\n  1                    2018-06-14 04:59:07 UTC by user via netconf commit confirmed, rollback in 0mins\r\n```\r\n\r\nAs per Juniper documentation here https://www.juniper.net/documentation/en_US/junos/topics/reference/tag-summary/junos-xml-protocol-commit-configuration.html the right xml tag for confirm commit and other features to work properly is `commit-configuration`.\r\nExecuting below xml with `commit-configuration` work as expected\r\n```\r\n  <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n  <nc:commit-configuration xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  \t<nc:confirmed/>\r\n  \t<nc:confirm-timeout>5</nc:confirm-timeout>\r\n  \t<nc:log>configured by junos_config</nc:log>\r\n  </nc:commit-configuration>\r\n```\r\nDevice logs\r\n```\r\n  user@junos# show | compare rollback ?\r\nPossible completions:\r\n  0                    2018-06-14 05:06:58 UTC by root via other\r\n  1                    2018-06-14 05:01:46 UTC by user via netconf commit confirmed, rollback in 5mins\r\n```\r\n\r\nAlso, check mode handling is not supported in current Juniper implementation of `commit` as described by Juniper documentation", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/236", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/236/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/236/events", "html_url": "https://github.com/ncclient/ncclient/issues/236", "id": 330701735, "node_id": "MDU6SXNzdWUzMzA3MDE3MzU=", "number": 236, "title": "replace old style print-s in the examples", "user": {"login": "attila123", "id": 1728046, "node_id": "MDQ6VXNlcjE3MjgwNDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1728046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/attila123", "html_url": "https://github.com/attila123", "followers_url": "https://api.github.com/users/attila123/followers", "following_url": "https://api.github.com/users/attila123/following{/other_user}", "gists_url": "https://api.github.com/users/attila123/gists{/gist_id}", "starred_url": "https://api.github.com/users/attila123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/attila123/subscriptions", "organizations_url": "https://api.github.com/users/attila123/orgs", "repos_url": "https://api.github.com/users/attila123/repos", "events_url": "https://api.github.com/users/attila123/events{/privacy}", "received_events_url": "https://api.github.com/users/attila123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-06-08T15:22:37Z", "updated_at": "2018-06-25T07:46:20Z", "closed_at": "2018-06-25T07:46:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nGreat stuff, however the examples are full of old style print-s (\"print whatever\" instead of \"print(whatever)\"). These do not work with recent python 3 (plus having used other programming languages these are plain ugly and WTF-ish (not sure why python introduced the old-style print in the first place)). Plus these confuse PyCharm formatting - should you try to copy-paste such code to PyCharm.\r\n\r\nI think **logging.info() should be the best replacement for print-s**. Initialization of logging is easy with logging.basicConfig(), and **it would also make it easy for the users to change the log level to DEBUG to see ncclient debug logs if needed while playing with the examples**.\r\n\r\nI would do a PR for this if needed, and if my proposal is acceptable by the author(s) and/or maintainer(s).\r\n\r\nExample for basicConfig:\r\n```\r\nimport logging\r\nimport sys\r\n\r\nLOG_FORMAT = '%(asctime)s %(levelname)s %(filename)s:%(lineno)d %(message)s'\r\nlogging.basicConfig(stream=sys.stdout, level=logging.INFO, format=LOG_FORMAT)\r\n\r\nlogging.info('Hello %s', 'world!')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/235", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/235/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/235/events", "html_url": "https://github.com/ncclient/ncclient/issues/235", "id": 330696193, "node_id": "MDU6SXNzdWUzMzA2OTYxOTM=", "number": 235, "title": "import bcrypt errors out when trying \" import ncclient from manager\"", "user": {"login": "umeshshetty", "id": 20470440, "node_id": "MDQ6VXNlcjIwNDcwNDQw", "avatar_url": "https://avatars1.githubusercontent.com/u/20470440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/umeshshetty", "html_url": "https://github.com/umeshshetty", "followers_url": "https://api.github.com/users/umeshshetty/followers", "following_url": "https://api.github.com/users/umeshshetty/following{/other_user}", "gists_url": "https://api.github.com/users/umeshshetty/gists{/gist_id}", "starred_url": "https://api.github.com/users/umeshshetty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/umeshshetty/subscriptions", "organizations_url": "https://api.github.com/users/umeshshetty/orgs", "repos_url": "https://api.github.com/users/umeshshetty/repos", "events_url": "https://api.github.com/users/umeshshetty/events{/privacy}", "received_events_url": "https://api.github.com/users/umeshshetty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 402147741, "node_id": "MDU6TGFiZWw0MDIxNDc3NDE=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Investigate", "name": "Investigate", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-08T15:07:56Z", "updated_at": "2020-01-20T23:22:03Z", "closed_at": "2020-01-20T23:22:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nTeam,\r\nNew to ncclient and not sure if this has been answered before(did not find matches). Need some advice on how I could solve this. Thanks in advance.\r\n\r\n>>> from ncclient import manager\r\n\r\nTraceback (most recent call last):\r\n  File \"<pyshell#91>\", line 1, in <module>\r\n    from ncclient import manager\r\n  File \"C:\\Python27\\lib\\site-packages\\ncclient\\manager.py\", line 22, in <module>\r\n    from ncclient import operations\r\n  File \"C:\\Python27\\lib\\site-packages\\ncclient\\operations\\__init__.py\", line 16, in <module>\r\n    from ncclient.operations.rpc import RPC, RPCReply, RPCError, RaiseMode\r\n  File \"C:\\Python27\\lib\\site-packages\\ncclient\\operations\\rpc.py\", line 20, in <module>\r\n    from ncclient.transport import SessionListener\r\n  File \"C:\\Python27\\lib\\site-packages\\ncclient\\transport\\__init__.py\", line 18, in <module>\r\n    from ncclient.transport.ssh import SSHSession\r\n  File \"C:\\Python27\\lib\\site-packages\\ncclient\\transport\\ssh.py\", line 26, in <module>\r\n    import paramiko\r\n  File \"C:\\Python27\\lib\\site-packages\\paramiko\\__init__.py\", line 22, in <module>\r\n    from paramiko.transport import SecurityOptions, Transport\r\n  File \"C:\\Python27\\lib\\site-packages\\paramiko\\transport.py\", line 57, in <module>\r\n    from paramiko.ed25519key import Ed25519Key\r\n  File \"C:\\Python27\\lib\\site-packages\\paramiko\\ed25519key.py\", line 17, in <module>\r\n    **import bcrypt**\r\n  File \"C:\\Python27\\lib\\site-packages\\bcrypt\\__init__.py\", line 25, in <module>\r\n    from bcrypt import _bcrypt\r\nImportError: DLL load failed: %1 is not a valid Win32 application.\r\n>>> ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/231", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/231/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/231/events", "html_url": "https://github.com/ncclient/ncclient/issues/231", "id": 317941312, "node_id": "MDU6SXNzdWUzMTc5NDEzMTI=", "number": 231, "title": "UnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 778966: ordinal not in range(128)", "user": {"login": "lent1", "id": 14222163, "node_id": "MDQ6VXNlcjE0MjIyMTYz", "avatar_url": "https://avatars2.githubusercontent.com/u/14222163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lent1", "html_url": "https://github.com/lent1", "followers_url": "https://api.github.com/users/lent1/followers", "following_url": "https://api.github.com/users/lent1/following{/other_user}", "gists_url": "https://api.github.com/users/lent1/gists{/gist_id}", "starred_url": "https://api.github.com/users/lent1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lent1/subscriptions", "organizations_url": "https://api.github.com/users/lent1/orgs", "repos_url": "https://api.github.com/users/lent1/repos", "events_url": "https://api.github.com/users/lent1/events{/privacy}", "received_events_url": "https://api.github.com/users/lent1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1051150162, "node_id": "MDU6TGFiZWwxMDUxMTUwMTYy", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Vendor%20Issue", "name": "Vendor Issue", "color": "19d335", "default": false, "description": "Issues relating to possible vendor agent non-compliances with RFCs."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-26T09:11:31Z", "updated_at": "2018-09-11T07:38:41Z", "closed_at": "2018-09-11T07:38:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm trying to use ncclient with a PulseSecure gateway.\r\nMy test is pretty simple:\r\n```from ncclient import manager\r\nfrom ncclient import manager\r\nimport logging\r\n\r\nlogging.basicConfig(level=logging.DEBUG)\r\nwith manager.connect(host=host, port=22, username=username, hostkey_verify=False, password=passwd, device_params={'name':'default'}) as m:\r\n    c = m.get_config(source='running').data_xml\r\n```\r\nThe following error occured:\r\n```\r\nDEBUG:ncclient.transport.ssh:parsing netconf v1.0\r\nDEBUG:ncclient.transport.ssh:Broke out of main loop, error=UnicodeEncodeError('ascii', u'<nc:rpc-reply message-id=\"urn:uuid:b7872541-d4c0-4ed7-8a62-17823c0e9742\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\\n    <data>\\n        <configuration xmlns=\"http://xml.juniper.net/ive-sa/8.2R7.1\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" iveData=\"2708\" saData=\"2602\"> .....  </configuration>\\n    </data>\\n</nc:rpc-reply>', 778966, 778967, 'ordinal not in range(128)')\r\nDEBUG:ncclient.transport.session:dispatching error to <ncclient.transport.session.NotificationHandler object at 0x7fb353452750>\r\nDEBUG:ncclient.transport.session:dispatching error to <ncclient.operations.rpc.RPCReplyListener object at 0x7f4810044210>\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 2, in <module>\r\n  File \"/virtualenv/local/lib/python2.7/site-packages/ncclient/manager.py\", line 214, in __exit__\r\n    self.close_session()\r\n  File \"/virtualenv/local/lib/python2.7/site-packages/ncclient/manager.py\", line 162, in wrapper\r\n    return self.execute(op_cls, *args, **kwds)\r\n  File \"/virtualenv/local/lib/python2.7/site-packages/ncclient/manager.py\", line 232, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/virtualenv/local/lib/python2.7/site-packages/ncclient/operations/session.py\", line 28, in request\r\n    return self._request(new_ele(\"close-session\"))\r\n  File \"/virtualenv/local/lib/python2.7/site-packages/ncclient/operations/rpc.py\", line 326, in _request\r\n    raise self._error\r\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 778966: ordinal not in range(128)\r\n>>> DEBUG:ncclient.transport.ssh:EOF in transport thread\r\n```\r\n\r\nI know that the reply has a lot of accented word as well as Japanese and Chinese characters.\r\n\r\nI'm trying to find the correct way to deal with this encoding issues (btw i'm in python 2.7.12).\r\n\r\nHas anyone already faced this kind of problem?\r\n\r\nThanks\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/228", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/228/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/228/events", "html_url": "https://github.com/ncclient/ncclient/issues/228", "id": 312484150, "node_id": "MDU6SXNzdWUzMTI0ODQxNTA=", "number": 228, "title": "Do we need to maintain ncclient for Python 2.6 still?", "user": {"login": "einarnn", "id": 5408368, "node_id": "MDQ6VXNlcjU0MDgzNjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5408368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einarnn", "html_url": "https://github.com/einarnn", "followers_url": "https://api.github.com/users/einarnn/followers", "following_url": "https://api.github.com/users/einarnn/following{/other_user}", "gists_url": "https://api.github.com/users/einarnn/gists{/gist_id}", "starred_url": "https://api.github.com/users/einarnn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einarnn/subscriptions", "organizations_url": "https://api.github.com/users/einarnn/orgs", "repos_url": "https://api.github.com/users/einarnn/repos", "events_url": "https://api.github.com/users/einarnn/events{/privacy}", "received_events_url": "https://api.github.com/users/einarnn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-09T10:54:19Z", "updated_at": "2018-05-31T11:48:24Z", "closed_at": "2018-05-31T11:48:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current test suite fails when run with Python 2.6 due to changes in Paramiko. Given Python 2.6 is no longer updated, should we still maintain testing for it? Or disable it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/227", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/227/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/227/events", "html_url": "https://github.com/ncclient/ncclient/issues/227", "id": 312298900, "node_id": "MDU6SXNzdWUzMTIyOTg5MDA=", "number": 227, "title": "Any plan for a new release of ncclient ?", "user": {"login": "sbadia", "id": 420848, "node_id": "MDQ6VXNlcjQyMDg0OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/420848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbadia", "html_url": "https://github.com/sbadia", "followers_url": "https://api.github.com/users/sbadia/followers", "following_url": "https://api.github.com/users/sbadia/following{/other_user}", "gists_url": "https://api.github.com/users/sbadia/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbadia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbadia/subscriptions", "organizations_url": "https://api.github.com/users/sbadia/orgs", "repos_url": "https://api.github.com/users/sbadia/repos", "events_url": "https://api.github.com/users/sbadia/events{/privacy}", "received_events_url": "https://api.github.com/users/sbadia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-08T11:47:58Z", "updated_at": "2018-08-20T10:36:32Z", "closed_at": "2018-08-20T10:36:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThanks for ncclient !\r\n\r\nI'm wondering if a new release is planed, the latest release was made in [december 2016](https://github.com/ncclient/ncclient/commit/633d178e68d54535fb4b934b4f62474463024c15) and test suite didn't pass anymore on 0.5.3 due to a [paramiko change](https://github.com/ncclient/ncclient/issues/218), refs: https://bugs.debian.org/894432\r\n\r\nThanks in advance!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/226", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/226/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/226/events", "html_url": "https://github.com/ncclient/ncclient/issues/226", "id": 308105771, "node_id": "MDU6SXNzdWUzMDgxMDU3NzE=", "number": 226, "title": "PyPi version differs from latest Github version", "user": {"login": "ariel-anieli", "id": 30573755, "node_id": "MDQ6VXNlcjMwNTczNzU1", "avatar_url": "https://avatars3.githubusercontent.com/u/30573755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ariel-anieli", "html_url": "https://github.com/ariel-anieli", "followers_url": "https://api.github.com/users/ariel-anieli/followers", "following_url": "https://api.github.com/users/ariel-anieli/following{/other_user}", "gists_url": "https://api.github.com/users/ariel-anieli/gists{/gist_id}", "starred_url": "https://api.github.com/users/ariel-anieli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ariel-anieli/subscriptions", "organizations_url": "https://api.github.com/users/ariel-anieli/orgs", "repos_url": "https://api.github.com/users/ariel-anieli/repos", "events_url": "https://api.github.com/users/ariel-anieli/events{/privacy}", "received_events_url": "https://api.github.com/users/ariel-anieli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-23T16:52:35Z", "updated_at": "2018-06-21T23:51:41Z", "closed_at": "2018-06-21T23:51:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "@leopoul,\r\nThe PyPi version differs from the latest Github version:\r\n\r\n```\r\n# pip show ncclient; echo \"==\";sed -ne '/new_/,$p' /usr/local/lib/python2.7/dist-packages/ncclient/xml_.py\r\nName: ncclient\r\nVersion: 0.5.3\r\nSummary: Python library for NETCONF clients\r\nHome-page: http://ncclient.org\r\nAuthor: Shikhar Bhushan, Leonidas Poulopoulos, Ebben Aries\r\nAuthor-email: shikhar@schmizz.net, lpoulopoulos@verisign.com, earies@juniper.net\r\nLicense: Apache License 2.0\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires: setuptools, lxml, six, paramiko\r\nYou are using pip version 9.0.1, however version 9.0.2 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n==\r\nnew_ele = lambda tag, attrs={}, **extra: etree.Element(qualify(tag), attrs, **extra)\r\n\r\nnew_ele_ns = lambda tag, ns, attrs={}, **extra: etree.Element(qualify(tag,ns), attrs, **extra)\r\n\r\nsub_ele = lambda parent, tag, attrs={}, **extra: etree.SubElement(parent, qualify(tag), attrs, **extra)\r\n```\r\nIt needs an update:\r\n```\r\n# git clone --recursive https://github.com/ncclient/ncclient.git; echo \"==\"; sed -ne '/new_/,$p' ncclient/ncclient/xml_.py\r\nCloning into 'ncclient'...\r\nremote: Counting objects: 4064, done.\r\nremote: Compressing objects: 100% (29/29), done.\r\nremote: Total 4064 (delta 18), reused 35 (delta 17), pack-reused 4015\r\nReceiving objects: 100% (4064/4064), 2.77 MiB | 1.10 MiB/s, done.\r\nResolving deltas: 100% (2298/2298), done.\r\n==\r\nnew_ele = lambda tag, attrs={}, **extra: etree.Element(qualify(tag), attrs, **extra)\r\n\r\nnew_ele_ns = lambda tag, ns, attrs={}, **extra: etree.Element(qualify(tag,ns), attrs, **extra)\r\n\r\nsub_ele = lambda parent, tag, attrs={}, **extra: etree.SubElement(parent, qualify(tag), attrs, **extra)\r\n\r\nsub_ele_ns = lambda parent, tag, ns, attrs={}, **extra: etree.SubElement(parent, qualify(tag, ns), attrs, **extra)\r\n```\r\n\r\nCould we do it?\r\n\r\nThanks,\r\nAriel", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/219", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/219/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/219/events", "html_url": "https://github.com/ncclient/ncclient/issues/219", "id": 299214655, "node_id": "MDU6SXNzdWUyOTkyMTQ2NTU=", "number": 219, "title": "support hua get method\uff1f", "user": {"login": "louishot", "id": 5671033, "node_id": "MDQ6VXNlcjU2NzEwMzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5671033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louishot", "html_url": "https://github.com/louishot", "followers_url": "https://api.github.com/users/louishot/followers", "following_url": "https://api.github.com/users/louishot/following{/other_user}", "gists_url": "https://api.github.com/users/louishot/gists{/gist_id}", "starred_url": "https://api.github.com/users/louishot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louishot/subscriptions", "organizations_url": "https://api.github.com/users/louishot/orgs", "repos_url": "https://api.github.com/users/louishot/repos", "events_url": "https://api.github.com/users/louishot/events{/privacy}", "received_events_url": "https://api.github.com/users/louishot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-22T04:02:36Z", "updated_at": "2018-02-23T11:52:21Z", "closed_at": "2018-02-23T11:52:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI want to use get method to get prefix list\r\n\r\n```\r\n<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"1\">\r\n  <get>\r\n    <filter type=\"subtree\">\r\n      <rtp xmlns=\"http://www.huawei.com/netconf/vrp\" content-version=\"1.0\" format-version=\"1.0\">\r\n        <prefixFilters>\r\n          <prefixFilter>\r\n            <name/>\r\n            <permitCnt/>\r\n            <denyCnt/>\r\n          </prefixFilter>\r\n        </prefixFilters>\r\n      </rtp>\r\n    </filter>\r\n  </get>\r\n</rpc>\r\n```\r\n\r\n\r\nxml = \"\"\"<rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"1\">\r\n  <get>\r\n    <filter type=\"subtree\">\r\n      <rtp xmlns=\"http://www.huawei.com/netconf/vrp\" content-version=\"1.0\" format-version=\"1.0\">\r\n        <prefixFilters>\r\n          <prefixFilter>\r\n            <name/>\r\n            <permitCnt/>\r\n            <denyCnt/>\r\n          </prefixFilter>\r\n        </prefixFilters>\r\n      </rtp>\r\n    </filter>\r\n  </get>\r\n</rpc>\"\"\"\r\n\r\n```\r\ndef get_config_huawei(host, user, password):\r\n    with manager.connect(host=host, port=22, username=user, password=password, hostkey_verify=False,\r\n                         device_params={'name': 'huawei'}) as m:\r\n        c = m.get(config=xml).data_xml\r\n        print(c)\r\n\r\n        with open(\"%s.xml\" % host, 'w') as f:\r\n            f.write(c)\r\n\r\n\r\nget_config_huawei(host,user,password)\r\n```\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/louis/PycharmProjects/py_netconf/app.py\", line 79, in <module>\r\n    get_config_huawei(host,user,password)\r\n  File \"/Users/louis/PycharmProjects/py_netconf/app.py\", line 72, in get_config_huawei\r\n    c = m.get(config=xml).data_xml\r\n  File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 162, in wrapper\r\n    return self.execute(op_cls, *args, **kwds)\r\n  File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 232, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\nTypeError: request() got an unexpected keyword argument 'config'\r\n\r\nthanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/218", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/218/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/218/events", "html_url": "https://github.com/ncclient/ncclient/issues/218", "id": 299124116, "node_id": "MDU6SXNzdWUyOTkxMjQxMTY=", "number": 218, "title": "SSH unit tests fail due to paramiko changes removing try/except around SSH transport timeout", "user": {"login": "cwbooth5", "id": 4716170, "node_id": "MDQ6VXNlcjQ3MTYxNzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/4716170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwbooth5", "html_url": "https://github.com/cwbooth5", "followers_url": "https://api.github.com/users/cwbooth5/followers", "following_url": "https://api.github.com/users/cwbooth5/following{/other_user}", "gists_url": "https://api.github.com/users/cwbooth5/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwbooth5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwbooth5/subscriptions", "organizations_url": "https://api.github.com/users/cwbooth5/orgs", "repos_url": "https://api.github.com/users/cwbooth5/repos", "events_url": "https://api.github.com/users/cwbooth5/events{/privacy}", "received_events_url": "https://api.github.com/users/cwbooth5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-02-21T20:51:58Z", "updated_at": "2018-02-26T02:47:11Z", "closed_at": "2018-02-26T02:47:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following changed removed a catch of AttributeError which was being caught/passed by the unit tests in ncclient.\r\n\r\nhttps://github.com/paramiko/paramiko/commit/cdb2326612985b3969d2c2064eba8d16146463f8\r\n\r\nThey removed the try/except block and just left the timeout setting code. The ncclient unit tests were following a pattern where None was being passed into the paramiko.Transport __init__ as the socket object. Since you can't set a timeout on None, we now see AttributeError coming back through the unit tests and everything's been failing since roughly March of last year.\r\n\r\nWe should either catch AttributeError in the unit tests or remove the step of setting the timeout.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/217", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/217/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/217/events", "html_url": "https://github.com/ncclient/ncclient/issues/217", "id": 294576841, "node_id": "MDU6SXNzdWUyOTQ1NzY4NDE=", "number": 217, "title": "easy way to format hello messages?", "user": {"login": "jensenja", "id": 3170822, "node_id": "MDQ6VXNlcjMxNzA4MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3170822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jensenja", "html_url": "https://github.com/jensenja", "followers_url": "https://api.github.com/users/jensenja/followers", "following_url": "https://api.github.com/users/jensenja/following{/other_user}", "gists_url": "https://api.github.com/users/jensenja/gists{/gist_id}", "starred_url": "https://api.github.com/users/jensenja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jensenja/subscriptions", "organizations_url": "https://api.github.com/users/jensenja/orgs", "repos_url": "https://api.github.com/users/jensenja/repos", "events_url": "https://api.github.com/users/jensenja/events{/privacy}", "received_events_url": "https://api.github.com/users/jensenja/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-05T23:16:32Z", "updated_at": "2018-09-10T01:08:53Z", "closed_at": "2018-09-10T01:08:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm attempting to work with some Brocade IronWare devices. They don't seem to like this as a HELLO message:\r\n\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n    <nc:hello xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n        <nc:capabilities>\r\n            <nc:capability>urn:ietf:params:xml:ns:netconf:base:1.0</nc:capability>\r\n            <nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability>\r\n        </nc:capabilities>\r\n    </nc:hello>]]>]]>\r\n```\r\n\r\nThey do however appear to like this:\r\n\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n    <hello xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n        <capabilities>\r\n            <capability>urn:ietf:params:xml:ns:netconf:base:1.0</capability>\r\n            <capability>urn:ietf:params:netconf:base:1.0</capability>\r\n        </capabilities>\r\n    </hello>]]>]]>\r\n```\r\n\r\nIs there a way to customize the HELLO message format? I worked around this a few years ago by overriding `HelloHandler`'s `build()` method in `transport/session.py` - these hacks still work but are kind of ugly, and they're also causing other methods I want to use ie `get`, `get_config` etc to fail (I'm doing something wrong with the XML handling, I can smell it).\r\n\r\nAlso is there an easy way to alter the capabilities that ncclient provides to a server before any connection is initiated? I remember you used to be able to assign a list of capabilities to `manager.CAPABILITIES` a few years ago but this appears to no longer be the case. My Brocades also don't appear to like the long capability list that ncclient provides by default and I would like to define my own.\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/216", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/216/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/216/events", "html_url": "https://github.com/ncclient/ncclient/issues/216", "id": 291989023, "node_id": "MDU6SXNzdWUyOTE5ODkwMjM=", "number": 216, "title": "Question: How to use get-bulk implementation?", "user": {"login": "kayHams", "id": 4527661, "node_id": "MDQ6VXNlcjQ1Mjc2NjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/4527661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kayHams", "html_url": "https://github.com/kayHams", "followers_url": "https://api.github.com/users/kayHams/followers", "following_url": "https://api.github.com/users/kayHams/following{/other_user}", "gists_url": "https://api.github.com/users/kayHams/gists{/gist_id}", "starred_url": "https://api.github.com/users/kayHams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kayHams/subscriptions", "organizations_url": "https://api.github.com/users/kayHams/orgs", "repos_url": "https://api.github.com/users/kayHams/repos", "events_url": "https://api.github.com/users/kayHams/events{/privacy}", "received_events_url": "https://api.github.com/users/kayHams/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-26T18:23:26Z", "updated_at": "2018-01-26T21:42:32Z", "closed_at": "2018-01-26T21:42:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\nI would like to use the get-bulk method to pass the below XML request:\r\n\r\n&lt; rpc xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n  &lt;get-bulk xmlns=\"http://yumaworks.com/ns/yumaworks-getbulk\">\r\n    &lt; count>50 &lt;/count>\r\n    &lt; list-target>/interfaces-state/interface &lt;/list-target>\r\n    &lt;filter>type=ianaift:l2vlan &lt;/filter>\r\n    &lt;select/>\r\n  &lt;/get-bulk>\r\n&lt;/rpc>\r\n\r\nThe get-bulk method uses either filter type subtree or xpath, however my request does not have a filter type.  How could be achieved with ncclient?\r\n\r\nThank you.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/214", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/214/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/214/events", "html_url": "https://github.com/ncclient/ncclient/issues/214", "id": 274164244, "node_id": "MDU6SXNzdWUyNzQxNjQyNDQ=", "number": 214, "title": "Exception on terminating a session", "user": {"login": "michaelsiuda", "id": 4348596, "node_id": "MDQ6VXNlcjQzNDg1OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4348596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelsiuda", "html_url": "https://github.com/michaelsiuda", "followers_url": "https://api.github.com/users/michaelsiuda/followers", "following_url": "https://api.github.com/users/michaelsiuda/following{/other_user}", "gists_url": "https://api.github.com/users/michaelsiuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelsiuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelsiuda/subscriptions", "organizations_url": "https://api.github.com/users/michaelsiuda/orgs", "repos_url": "https://api.github.com/users/michaelsiuda/repos", "events_url": "https://api.github.com/users/michaelsiuda/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelsiuda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 402147514, "node_id": "MDU6TGFiZWw0MDIxNDc1MTQ=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-15T13:54:46Z", "updated_at": "2018-09-10T00:55:45Z", "closed_at": "2018-09-10T00:55:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm hitting the following exception quite regularly, with hit rate around 10%.\r\n```\r\nException in thread session (most likely raised during interpreter shutdown):\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/transport/ssh.py\", line 575, in run\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/transport/ssh.py\", line 312, in close\r\n  File \"/usr/local/lib/python2.7/dist-packages/paramiko/transport.py\", line 699, in close\r\n  File \"/usr/local/lib/python2.7/dist-packages/paramiko/transport.py\", line 1662, in stop_thread\r\n  File \"/usr/lib/python2.7/threading.py\", line 951, in join\r\n  File \"/usr/lib/python2.7/threading.py\", line 364, in wait\r\n<type 'exceptions.ValueError'>: list.remove(x): x not in list\r\n```\r\n\r\nHere's my code:\r\n```\r\ndef main():\r\n    try:\r\n        with manager.connect(\r\n            host=\"localhost\",\r\n            port=2022,\r\n            username=XXX\r\n            password=XXX\r\n            timeout=5,\r\n            hostkey_verify=False,\r\n            look_for_keys=False,\r\n            allow_agent=False,\r\n        ) as connection:\r\n           # do stuff\r\n    except ncclient.NCClientError:\r\n        print(\"Error\")\r\n```\r\n\r\nI'm using ncclient version 0.5.3 on Ubuntu 16.04.\r\n\r\nAFAICS, the problem is that ncclient is maintaining its own transport thread in addition to the transport thread used by paramiko. \r\n\r\nWhile paramiko is well behaved and has logic to ensure that it closes all its threads before it exits, ncclient has no such logic and relies on a transport failure to signal the close of the thread and to tidy up synchronously.  What I believe needs to happen is that ncclient should wait for the thread to close.  For example, inside SSHSession.close():\r\n```\r\n       while self.is_alive() and (self is not threading.current_thread()):\r\n            self.join(10)\r\n```\r\n\r\nI've tested that with this code change I'm not able to hit the exception anymore.\r\n\r\nAre you happy with the fix?  Would you like me to submit a pull request?\r\n\r\nThanks,\r\nMichael", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/208", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/208/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/208/events", "html_url": "https://github.com/ncclient/ncclient/issues/208", "id": 260089847, "node_id": "MDU6SXNzdWUyNjAwODk4NDc=", "number": 208, "title": "\"Unexpected session close' to N9k", "user": {"login": "micyew", "id": 12992964, "node_id": "MDQ6VXNlcjEyOTkyOTY0", "avatar_url": "https://avatars0.githubusercontent.com/u/12992964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/micyew", "html_url": "https://github.com/micyew", "followers_url": "https://api.github.com/users/micyew/followers", "following_url": "https://api.github.com/users/micyew/following{/other_user}", "gists_url": "https://api.github.com/users/micyew/gists{/gist_id}", "starred_url": "https://api.github.com/users/micyew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/micyew/subscriptions", "organizations_url": "https://api.github.com/users/micyew/orgs", "repos_url": "https://api.github.com/users/micyew/repos", "events_url": "https://api.github.com/users/micyew/events{/privacy}", "received_events_url": "https://api.github.com/users/micyew/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-24T14:43:14Z", "updated_at": "2020-01-20T23:23:12Z", "closed_at": "2020-01-20T23:23:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've the following code and it always file with \"Unexpected session close\". The debug message is below. I can use CLI ssh to send hello from a Linux box. But when comes to ncclient, it always file.\r\n\r\nIs there some bug in then ncclient?\r\n\r\n`\r\nfrom ncclient import manager\r\nimport logging\r\n\r\ndef main():\r\n\r\n    logging.basicConfig(filename='debug_nxos.log',level=logging.DEBUG)\r\n\r\n    with manager.connect(host='192.168.0.33',\r\n                         port=22,\r\n                         username='admin',\r\n                         password='xxxxx',\r\n                         hostkey_verify=False,\r\n                         device_params={'name': 'nexus'},\r\n                         allow_agent=False,\r\n                         look_for_keys=False\r\n                         ) as cisco_manager:\r\n        #for capability in cisco_manager.get_capabilities:\r\n            #print (capability)\r\n        print (cisco_manager)\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n`\r\n\r\nDebug:\r\n`DEBUG:ncclient.transport.session:<SSHSession(session, initial daemon)> created: client_capabilities=<dict_keyiterator object at 0x0338FD50>\r\nDEBUG:ncclient.transport.ssh:starting thread (client mode): 0x33936b0\r\nDEBUG:ncclient.transport.ssh:Local version/idstring: SSH-2.0-paramiko_2.0.2\r\nDEBUG:ncclient.transport.ssh:Remote version/idstring: SSH-2.0-OpenSSH_6.2 PKIX FIPS\r\nINFO:ncclient.transport.ssh:Connected (version 2.0, client OpenSSH_6.2)\r\nDEBUG:ncclient.transport.ssh:kex algos:['ecdh-sha2-nistp256', 'ecdh-sha2-nistp384', 'ecdh-sha2-nistp521', 'diffie-hellman-group-exchange-sha256', 'diffie-hellman-group-exchange-sha1', 'diffie-hellman-group14-sha1', 'diffie-hellman-group1-sha1'] server key:['ssh-rsa'] client encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr'] server encrypt:['aes128-ctr', 'aes192-ctr', 'aes256-ctr'] client mac:['hmac-sha1'] server mac:['hmac-sha1'] client compress:['none', 'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client lang:[''] server lang:[''] kex follows?False\r\nDEBUG:ncclient.transport.ssh:Kex agreed: diffie-hellman-group1-sha1\r\nDEBUG:ncclient.transport.ssh:Cipher agreed: aes128-ctr\r\nDEBUG:ncclient.transport.ssh:MAC agreed: hmac-sha1\r\nDEBUG:ncclient.transport.ssh:Compression agreed: none\r\nDEBUG:ncclient.transport.ssh:kex engine KexGroup1 specified hash_algo <built-in function openssl_sha1>\r\nDEBUG:ncclient.transport.ssh:Switch to new keys ...\r\nDEBUG:ncclient.transport.ssh:userauth is OK\r\nINFO:ncclient.transport.ssh:Auth banner: b'User Access Verification\\n'\r\nINFO:ncclient.transport.ssh:Authentication (password) successful!\r\nDEBUG:ncclient.transport.ssh:[chan 0] Max packet in: 32768 bytes\r\nDEBUG:ncclient.transport.ssh:[chan 0] Max packet out: 32768 bytes\r\nDEBUG:ncclient.transport.ssh:Secsh channel 0 opened.\r\nDEBUG:ncclient.transport.ssh:[chan netconf-subsystem-0] Sesch channel 0 request ok\r\nDEBUG:ncclient.transport.ssh:[chan netconf-subsystem-0] EOF received (netconf-subsystem-0)\r\nDEBUG:ncclient.transport.session:installing listener <ncclient.transport.session.NotificationHandler object at 0x034EC7B0>\r\nDEBUG:ncclient.transport.ssh:[chan netconf-subsystem-0] EOF sent (netconf-subsystem-0)\r\nDEBUG:ncclient.transport.session:installing listener <ncclient.transport.session.HelloHandler object at 0x034EC850>\r\nDEBUG:ncclient.transport.session:queueing <?xml version=\"1.0\" encoding=\"UTF-8\"?><hello xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><capabilities><capability>urn:ietf:params:netconf:capability:xpath:1.0</capability><capability>urn:ietf:params:netconf:capability:notification:1.0</capability><capability>urn:ietf:params:netconf:capability:validate:1.0</capability><capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</capability><capability>urn:liberouter:params:netconf:capability:power-control:1.0</capability><capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</capability><capability>urn:ietf:params:netconf:capability:startup:1.0</capability><capability>urn:ietf:params:netconf:capability:writable-running:1.0</capability><capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</capability><capability>urn:ietf:params:netconf:capability:candidate:1.0</capability><capability>urn:ietf:params:netconf:capability:interleave:1.0</capability><capability>urn:ietf:params:xml:ns:netconf:base:1.0</capability><capability>urn:ietf:params:netconf:base:1.1</capability></capabilities></hello>\r\nDEBUG:ncclient.transport.session:starting main loop\r\nDEBUG:ncclient.transport.ssh:Broke out of main loop, error=SessionCloseError('Unexpected session close',)\r\nDEBUG:ncclient.transport.session:dispatching error to <ncclient.transport.session.NotificationHandler object at 0x034EC7B0>\r\nDEBUG:ncclient.transport.session:dispatching error to <ncclient.transport.session.HelloHandler object at 0x034EC850>\r\nDEBUG:ncclient.transport.session:discarding listener <ncclient.transport.session.HelloHandler object at 0x034EC850>\r\nDEBUG:ncclient.transport.ssh:EOF in transport thread`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/207", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/207/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/207/events", "html_url": "https://github.com/ncclient/ncclient/issues/207", "id": 259498191, "node_id": "MDU6SXNzdWUyNTk0OTgxOTE=", "number": 207, "title": "CSR and IOS-XE device profiles overwrite perform_qualify_check ", "user": {"login": "budhadityabanerjee", "id": 12023410, "node_id": "MDQ6VXNlcjEyMDIzNDEw", "avatar_url": "https://avatars1.githubusercontent.com/u/12023410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/budhadityabanerjee", "html_url": "https://github.com/budhadityabanerjee", "followers_url": "https://api.github.com/users/budhadityabanerjee/followers", "following_url": "https://api.github.com/users/budhadityabanerjee/following{/other_user}", "gists_url": "https://api.github.com/users/budhadityabanerjee/gists{/gist_id}", "starred_url": "https://api.github.com/users/budhadityabanerjee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/budhadityabanerjee/subscriptions", "organizations_url": "https://api.github.com/users/budhadityabanerjee/orgs", "repos_url": "https://api.github.com/users/budhadityabanerjee/repos", "events_url": "https://api.github.com/users/budhadityabanerjee/events{/privacy}", "received_events_url": "https://api.github.com/users/budhadityabanerjee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-21T13:35:04Z", "updated_at": "2018-07-01T17:54:47Z", "closed_at": "2018-07-01T17:54:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Both csr.py and josxe.py overwrite the default value of True returned from perform_qualify_check (set in default.py) with False . This is incorrect and causes breakage in functions where we're checking for the type of messages i.e.\r\n```\r\n         if self._device_handler.perform_qualify_check():\r\n             if tag != qualify(\"rpc-reply\"):\r\n                 return\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/205", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/205/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/205/events", "html_url": "https://github.com/ncclient/ncclient/issues/205", "id": 259205912, "node_id": "MDU6SXNzdWUyNTkyMDU5MTI=", "number": 205, "title": "Bad handling in NotificationHandler callback in rpc.py", "user": {"login": "einarnn", "id": 5408368, "node_id": "MDQ6VXNlcjU0MDgzNjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5408368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/einarnn", "html_url": "https://github.com/einarnn", "followers_url": "https://api.github.com/users/einarnn/followers", "following_url": "https://api.github.com/users/einarnn/following{/other_user}", "gists_url": "https://api.github.com/users/einarnn/gists{/gist_id}", "starred_url": "https://api.github.com/users/einarnn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/einarnn/subscriptions", "organizations_url": "https://api.github.com/users/einarnn/orgs", "repos_url": "https://api.github.com/users/einarnn/repos", "events_url": "https://api.github.com/users/einarnn/events{/privacy}", "received_events_url": "https://api.github.com/users/einarnn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-20T15:28:25Z", "updated_at": "2018-07-01T17:54:29Z", "closed_at": "2018-07-01T17:54:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See:\r\n\r\nhttps://github.com/ncclient/ncclient/blob/f734dfc7124a20bf067df1b12c23bba191bcdb89/ncclient/operations/rpc.py#L206-L227\r\n\r\nThe last `else` is at the level of the `for`. This is bogus, and looks like the code is damaged. If `message-id` is the only attribute of the RPC reply, code will not fail, but if there are any other attributes, then code will probably not work properly. Need to check logic.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/204", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/204/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/204/events", "html_url": "https://github.com/ncclient/ncclient/issues/204", "id": 257606724, "node_id": "MDU6SXNzdWUyNTc2MDY3MjQ=", "number": 204, "title": "A bug in lambda new_ele and others for python-lxml <=3.2", "user": {"login": "ipaoTAT", "id": 5299762, "node_id": "MDQ6VXNlcjUyOTk3NjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/5299762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ipaoTAT", "html_url": "https://github.com/ipaoTAT", "followers_url": "https://api.github.com/users/ipaoTAT/followers", "following_url": "https://api.github.com/users/ipaoTAT/following{/other_user}", "gists_url": "https://api.github.com/users/ipaoTAT/gists{/gist_id}", "starred_url": "https://api.github.com/users/ipaoTAT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ipaoTAT/subscriptions", "organizations_url": "https://api.github.com/users/ipaoTAT/orgs", "repos_url": "https://api.github.com/users/ipaoTAT/repos", "events_url": "https://api.github.com/users/ipaoTAT/events{/privacy}", "received_events_url": "https://api.github.com/users/ipaoTAT/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-14T06:15:04Z", "updated_at": "2019-12-21T20:53:20Z", "closed_at": "2019-12-21T20:53:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "new_ele lambda define as:\r\n```\r\nnew_ele = lambda tag, attrs={}, **extra: etree.Element(qualify(tag), attrs, **extra)\r\n```\r\nwhich means attrs has a default value, but in python-lxml <=3.2, function _initNodeAttributes would update attrs argument. \r\n```\r\nif extra is not None and extra:\r\n        if attrib is None:\r\n            attrib = extra\r\n        else:\r\n            attrib.update(extra)\r\n```\r\nSo, if i run code under:\r\n```\r\nfrom  ncclient.xml_ import new_ele, to_xml\r\nfilter = new_ele(\"filter\", type=\"subtree\")\r\nnode = new_ele(\"get\")\r\nprint to_xml(node)\r\n```\r\nit will output \r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:get xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" type=\"subtree\"/>\r\n```\r\nrather than under (**without 'type='subtree''**)\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:get xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"/>\r\n```\r\nIs it a bug? and can i modify new_ele as:\r\n```\r\nnew_ele = lambda tag, attrs=None, **extra: etree.Element(qualify(tag), attrs, **extra)\r\n```\r\n instead?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/201", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/201/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/201/events", "html_url": "https://github.com/ncclient/ncclient/issues/201", "id": 248110381, "node_id": "MDU6SXNzdWUyNDgxMTAzODE=", "number": 201, "title": "API to get list of supported devices", "user": {"login": "glennmatthews", "id": 5603551, "node_id": "MDQ6VXNlcjU2MDM1NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5603551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glennmatthews", "html_url": "https://github.com/glennmatthews", "followers_url": "https://api.github.com/users/glennmatthews/followers", "following_url": "https://api.github.com/users/glennmatthews/following{/other_user}", "gists_url": "https://api.github.com/users/glennmatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/glennmatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glennmatthews/subscriptions", "organizations_url": "https://api.github.com/users/glennmatthews/orgs", "repos_url": "https://api.github.com/users/glennmatthews/repos", "events_url": "https://api.github.com/users/glennmatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/glennmatthews/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 402147550, "node_id": "MDU6TGFiZWw0MDIxNDc1NTA=", "url": "https://api.github.com/repos/ncclient/ncclient/labels/Enhancement", "name": "Enhancement", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "glennmatthews", "id": 5603551, "node_id": "MDQ6VXNlcjU2MDM1NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5603551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glennmatthews", "html_url": "https://github.com/glennmatthews", "followers_url": "https://api.github.com/users/glennmatthews/followers", "following_url": "https://api.github.com/users/glennmatthews/following{/other_user}", "gists_url": "https://api.github.com/users/glennmatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/glennmatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glennmatthews/subscriptions", "organizations_url": "https://api.github.com/users/glennmatthews/orgs", "repos_url": "https://api.github.com/users/glennmatthews/repos", "events_url": "https://api.github.com/users/glennmatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/glennmatthews/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glennmatthews", "id": 5603551, "node_id": "MDQ6VXNlcjU2MDM1NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5603551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glennmatthews", "html_url": "https://github.com/glennmatthews", "followers_url": "https://api.github.com/users/glennmatthews/followers", "following_url": "https://api.github.com/users/glennmatthews/following{/other_user}", "gists_url": "https://api.github.com/users/glennmatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/glennmatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glennmatthews/subscriptions", "organizations_url": "https://api.github.com/users/glennmatthews/orgs", "repos_url": "https://api.github.com/users/glennmatthews/repos", "events_url": "https://api.github.com/users/glennmatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/glennmatthews/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-08-04T20:33:18Z", "updated_at": "2020-08-01T15:00:55Z", "closed_at": "2020-08-01T15:00:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It would be very helpful to have an API that returns the list of supported device name strings. For bonus points, an API that gets these paired with meaningful labels would be great as well. Something like:\r\n\r\n```python\r\n>>> ncclient.supported_devices()\r\n['alu', 'csr', 'default', 'h3c', 'hpcomware', 'huawei', 'iosxe', 'iosxr', 'junos', 'nexus']\r\n>>> ncclient.supported_device_labels()\r\n{'csr': \"Cisco CSR 1000V\", 'hpcomware': 'HP Comware', 'nexus': \"Cisco Nexus platform (NX-OS)\", ...}\r\n```\r\n\r\nRight now I can manually build the supported devices list by inspection, but it's gross:\r\n\r\n```python\r\nimport pkgutil\r\nimport ncclient.devices\r\nsupported_devices = list(modinfo[1] for modinfo in pkgutil.walk_packages(ncclient.devices.__path__))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/199", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/199/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/199/events", "html_url": "https://github.com/ncclient/ncclient/issues/199", "id": 244582353, "node_id": "MDU6SXNzdWUyNDQ1ODIzNTM=", "number": 199, "title": "Exception seen during remove_namespaces in xml_.py", "user": {"login": "d200201123", "id": 15723582, "node_id": "MDQ6VXNlcjE1NzIzNTgy", "avatar_url": "https://avatars3.githubusercontent.com/u/15723582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/d200201123", "html_url": "https://github.com/d200201123", "followers_url": "https://api.github.com/users/d200201123/followers", "following_url": "https://api.github.com/users/d200201123/following{/other_user}", "gists_url": "https://api.github.com/users/d200201123/gists{/gist_id}", "starred_url": "https://api.github.com/users/d200201123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/d200201123/subscriptions", "organizations_url": "https://api.github.com/users/d200201123/orgs", "repos_url": "https://api.github.com/users/d200201123/repos", "events_url": "https://api.github.com/users/d200201123/events{/privacy}", "received_events_url": "https://api.github.com/users/d200201123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vnitinv", "id": 767016, "node_id": "MDQ6VXNlcjc2NzAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/767016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnitinv", "html_url": "https://github.com/vnitinv", "followers_url": "https://api.github.com/users/vnitinv/followers", "following_url": "https://api.github.com/users/vnitinv/following{/other_user}", "gists_url": "https://api.github.com/users/vnitinv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnitinv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnitinv/subscriptions", "organizations_url": "https://api.github.com/users/vnitinv/orgs", "repos_url": "https://api.github.com/users/vnitinv/repos", "events_url": "https://api.github.com/users/vnitinv/events{/privacy}", "received_events_url": "https://api.github.com/users/vnitinv/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vnitinv", "id": 767016, "node_id": "MDQ6VXNlcjc2NzAxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/767016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnitinv", "html_url": "https://github.com/vnitinv", "followers_url": "https://api.github.com/users/vnitinv/followers", "following_url": "https://api.github.com/users/vnitinv/following{/other_user}", "gists_url": "https://api.github.com/users/vnitinv/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnitinv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnitinv/subscriptions", "organizations_url": "https://api.github.com/users/vnitinv/orgs", "repos_url": "https://api.github.com/users/vnitinv/repos", "events_url": "https://api.github.com/users/vnitinv/events{/privacy}", "received_events_url": "https://api.github.com/users/vnitinv/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-07-21T07:06:11Z", "updated_at": "2017-08-08T16:34:33Z", "closed_at": "2017-08-08T16:34:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nException is raised when PyEZ RPC utility get_config is called on a Junos Device with remove_ns=False\r\n\r\nremove_namespaces method assumes self.__xslt as a Bytes but its set to a String value.\r\n\r\nTrace\r\n===\r\nlib\\jnpr\\junos\\device.py:736: RuntimeWarning: An unknown exception occured - please report.\r\n  RuntimeWarning)\r\nTraceback (most recent call last):\r\n  File \"C:/toby-tests/test_pyez.py\", line 8, in <module>\r\n    c1 = dh.rpc.get_config(model='True',remove_ns=False)\r\n  File \"C:\\TOBY\\toby\\lib\\jnpr\\junos\\rpcmeta.py\", line 135, in get_config\r\n    response = self._junos.execute(rpc, **kwargs)\r\n  File \"C:\\TOBY\\toby\\lib\\jnpr\\junos\\decorators.py\", line 76, in wrapper\r\n    return function(*args, **kwargs)\r\n  File \"C:\\TOBY\\toby\\lib\\jnpr\\junos\\decorators.py\", line 31, in wrapper\r\n    return function(*args, **kwargs)\r\n  File \"C:\\TOBY\\toby\\lib\\jnpr\\junos\\device.py\", line 712, in execute\r\n    ignore_warning=ignore_warning)\r\n  File \"C:\\TOBY\\toby\\lib\\jnpr\\junos\\decorators.py\", line 116, in wrapper\r\n    rsp = function(self, *args, **kwargs)\r\n  File \"C:\\TOBY\\toby\\lib\\jnpr\\junos\\device.py\", line 1260, in _rpc_reply\r\n    return self._conn.rpc(rpc_cmd_e)._NCElement__doc\r\n  File \"C:\\Python35\\Lib\\site-packages\\ncclient\\manager.py\", line 172, in wrapper\r\n    return self.execute(op_cls, *args, **kwds)\r\n  File \"C:\\Python35\\Lib\\site-packages\\ncclient\\manager.py\", line 232, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"C:\\Python35\\Lib\\site-packages\\ncclient\\operations\\third_party\\juniper\\rpc.py\", line 44, in request\r\n    return self._request(rpc)\r\n  File \"C:\\Python35\\Lib\\site-packages\\ncclient\\operations\\rpc.py\", line 339, in _request\r\n    return NCElement(self._reply, self._device_handler.transform_reply())\r\n  File \"C:\\Python35\\Lib\\site-packages\\ncclient\\xml_.py\", line 153, in __init__\r\n    self.__doc = self.remove_namespaces(self.__result)\r\n  File \"C:\\Python35\\Lib\\site-packages\\ncclient\\xml_.py\", line 199, in remove_namespaces\r\n    self.__xslt_doc = etree.parse(io.BytesIO(self.__xslt), self.__parser)\r\nTypeError: a bytes-like object is required, not 'str'\r\n\r\n@vnitinv Please have a look at this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/198", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/198/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/198/events", "html_url": "https://github.com/ncclient/ncclient/issues/198", "id": 237619024, "node_id": "MDU6SXNzdWUyMzc2MTkwMjQ=", "number": 198, "title": "ncclient.operations.rpc.RPCError: Key leaf given twice with different value", "user": {"login": "arslanqadeer", "id": 20453125, "node_id": "MDQ6VXNlcjIwNDUzMTI1", "avatar_url": "https://avatars2.githubusercontent.com/u/20453125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arslanqadeer", "html_url": "https://github.com/arslanqadeer", "followers_url": "https://api.github.com/users/arslanqadeer/followers", "following_url": "https://api.github.com/users/arslanqadeer/following{/other_user}", "gists_url": "https://api.github.com/users/arslanqadeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/arslanqadeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arslanqadeer/subscriptions", "organizations_url": "https://api.github.com/users/arslanqadeer/orgs", "repos_url": "https://api.github.com/users/arslanqadeer/repos", "events_url": "https://api.github.com/users/arslanqadeer/events{/privacy}", "received_events_url": "https://api.github.com/users/arslanqadeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-06-21T18:08:09Z", "updated_at": "2017-06-22T09:56:40Z", "closed_at": "2017-06-22T01:10:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to push configuration but facing above error. I have written following python script for that. Please guide me where i am wrong. Thanks\r\n\r\n#!/usr/bin/python\r\nfrom ncclient import manager\r\nfrom ncclient.xml_ import *\r\n\r\nsystem_config = \"\"\"\r\n<?xml version='1.0' encoding='UTF-8'?>\r\n<config xmlns:xc=\"urn:ietf:params:xml:ns:netconf:base:1.0\">\r\n        <vpn xmlns=\"http://viptela.com/vpn\" xc:operation=\"replace\">\r\n                <vpn-instance>\r\n                                <vpn-id>0</vpn-id>\r\n                                <interface>\r\n                                        <if-name>ge0/0</if-name>\r\n                                        <ip>\r\n                                                <address>3.3.3.3/24</address>\r\n                                        </ip>\r\n                                        <autonegotiate>true</autonegotiate>\r\n                                        <mtu>1500</mtu>\r\n                                        <tunnel-interface>\r\n                                                <hello-interval>1000</hello-interval>\r\n                                                <color>\r\n                                                        <value>default</value>\r\n                                                </color>\r\n                                                <carrier>default</carrier>\r\n                                                <hello-tolerance>12</hello-tolerance>\r\n                                                <nat-refresh-interval>5</nat-refresh-interval>\r\n                                                <allow-service>\r\n                                                        <netconf>true</netconf>\r\n                                                        <all>false</all>\r\n                                                        <stun>true</stun>\r\n                                                        <ntp>true</ntp>\r\n                                                        <sshd>true</sshd>\r\n                                                        <bgp>true</bgp>\r\n                                                        <dns>true</dns>\r\n                                                        <dhcp>true</dhcp>\r\n                                                        <icmp>true</icmp>\r\n                                                        <ospf>true</ospf>\r\n                                                </allow-service>\r\n                                                <encapsulation>\r\n                                                        <encap>ipsec</encap>\r\n                                                </encapsulation>\r\n                                        </tunnel-interface>\r\n                                        <shutdown>false</shutdown>\r\n                                        <pmtu>false</pmtu>\r\n                                        <flow-control>autoneg</flow-control>\r\n                                        <clear-dont-fragment>false</clear-dont-fragment>\r\n                                        <arp-timeout>1200</arp-timeout>\r\n                                </interface>\r\n                                <ecmp-hash-key>\r\n                                        <layer4>false</layer4>\r\n                                </ecmp-hash-key>\r\n                                <vpn-id>512</vpn-id>\r\n                               <interface>\r\n                                        <arp-timeout>1200</arp-timeout>\r\n                                        <if-name>eth0</if-name>\r\n                                        <ip>\r\n                                                <address>1.1.1.21/24</address>\r\n                                        </ip>\r\n                                        <autonegotiate>true</autonegotiate>\r\n                                        <mtu>1500</mtu>\r\n                                        <shutdown>false</shutdown>\r\n                                        <pmtu>false</pmtu>\r\n                                        <clear-dont-fragment>false</clear-dont-fragment>\r\n                                </interface>\r\n                                <ecmp-hash-key>\r\n                                        <layer4>false</layer4>\r\n                                </ecmp-hash-key>\r\n                                <dns>\r\n                                        <role>primary</role>\r\n                                        <dns-addr>8.8.8.8</dns-addr>\r\n                                </dns>\r\n                                <ip>\r\n                                        <route>\r\n                                                <next-hop>\r\n                                                        <distance>1</distance>\r\n                                                        <address>1.1.1.1</address>\r\n                                                </next-hop>\r\n                                                <prefix>0.0.0.0/0</prefix>\r\n                                        </route>\r\n                                </ip>\r\n                </vpn-instance>\r\n        </vpn>\r\n</config>\r\n                    \"\"\"\r\n\r\ndef connect(host, port, user, password, source):\r\n    conn = manager.connect(host=host,\r\n                           port=port,\r\n                           username=user,\r\n                           password=password,\r\n                           timeout=10,\r\n                           hostkey_verify=False)\r\n    return conn\r\nprint(system_config)\r\nvedge_conn = connect('1.1.1.21', 830, 'admin', 'admin', 'candidate')\r\nvedge_conn.edit_config(target='candidate', config=system_config, test_option='set')\r\nvedge_commit_config = vedge_conn.commit()\r\n\r\nWhen i run the above script i hit following error:\r\n    vedge_conn.edit_config(target='candidate', config=system_config, test_option='set')\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/manager.py\", line 162, in wrapper\r\n    return self.execute(op_cls, *args, **kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/manager.py\", line 232, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/operations/edit.py\", line 67, in request\r\n    return self._request(node)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/operations/rpc.py\", line 337, in _request\r\n    raise self._reply.error\r\nncclient.operations.rpc.RPCError: Key leaf given twice with different value\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/197", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/197/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/197/events", "html_url": "https://github.com/ncclient/ncclient/issues/197", "id": 234295763, "node_id": "MDU6SXNzdWUyMzQyOTU3NjM=", "number": 197, "title": "Can't send commands to IOS-XR (Cisco NCS5K)", "user": {"login": "djhochjr", "id": 20670465, "node_id": "MDQ6VXNlcjIwNjcwNDY1", "avatar_url": "https://avatars3.githubusercontent.com/u/20670465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djhochjr", "html_url": "https://github.com/djhochjr", "followers_url": "https://api.github.com/users/djhochjr/followers", "following_url": "https://api.github.com/users/djhochjr/following{/other_user}", "gists_url": "https://api.github.com/users/djhochjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/djhochjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djhochjr/subscriptions", "organizations_url": "https://api.github.com/users/djhochjr/orgs", "repos_url": "https://api.github.com/users/djhochjr/repos", "events_url": "https://api.github.com/users/djhochjr/events{/privacy}", "received_events_url": "https://api.github.com/users/djhochjr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-07T18:08:04Z", "updated_at": "2018-12-21T21:51:49Z", "closed_at": "2018-07-01T17:55:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "First this is remarkably similar to issue #59 in where things are breaking down which might give you a little bit of context. ncclient does not like one of the configs we have set on the box itself. That config being: **ssh server capability netconf-xml**\r\n\r\nthe code for trial has been:\r\n                    with manager.connect(host=HOST,\r\n                                         port=PORT,\r\n                                         username=USER,\r\n                                         password=PASS,\r\n                                         hostkey_verify=False,\r\n                                         device_params={'name': 'default'},\r\n                                         allow_agent=False,\r\n                                         look_for_keys=False)as m:\r\n                        # print all NETCONF capabilities\r\n                        print('***Here are the Remote Devices Capabilities***')\r\n                        for capability in m.server_capabilities:\r\n                            print(capability.split('?')[0])\r\n                        big = m.get_config('running')\r\n                        print(big)\r\nfor which when I do not have this config set, runs perfectly fine. But that's not my end game. I'd like to be able to run RPC requests against the box using xml natively which i cannot do as yet. \r\nIf i have the **ssh server capability netconf-xml** set there's a breakdown during the capability dump that severs the netconf connection. See below\r\n\r\n***Here are the Remote Devices Capabilities***\r\nurn:ietf:params:netconf:base:1.0\r\nurn:ietf:params:netconf:base:1.1\r\nurn:ietf:params:netconf:capability:writable-running:1.0\r\nurn:ietf:params:netconf:capability:candidate:1.0\r\nurn:ietf:params:netconf:capability:confirmed-commit:1.0\r\nurn:ietf:params:netconf:capability:rollback-on-error:1.0\r\nurn:ietf:params:netconf:capability:startup:1.0\r\nurn:ietf:params:netconf:capability:url:1.0\r\nurn:ietf:params:netconf:capability:validate:1.0\r\nurn:ietf:params:netconf:capability:xpath:1.0\r\nurn:ietf:params:netconf:capability:notification:1.0\r\nurn:liberouter:params:netconf:capability:power-control:1.0\r\nurn:ietf:params:netconf:capability:interleave:1.0\r\n2017-06-07T16:40:46: %AETEST-INFO: STEP 4: TEST VALIDATION - Errored\r\n2017-06-07T16:40:46: %AETEST-ERROR: Caught exception during execution:\r\n2017-06-07T16:40:46: %AETEST-ERROR: Traceback (most recent call last):\r\n2017-06-07T16:40:46: %AETEST-ERROR:     big = m.get_config('running')\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 162, in wrapper\r\n2017-06-07T16:40:46: %AETEST-ERROR:     return self.execute(op_cls, *args, **kwds)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 232, in execute\r\n2017-06-07T16:40:46: %AETEST-ERROR:     raise_mode=self._raise_mode).request(*args, **kwds)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/retrieve.py\", line 97, in request\r\n2017-06-07T16:40:46: %AETEST-ERROR:     return self._request(node)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/rpc.py\", line 326, in _request\r\n2017-06-07T16:40:46: %AETEST-ERROR:     raise self._error\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/transport/ssh.py\", line 530, in run\r\n2017-06-07T16:40:46: %AETEST-ERROR:     self._parse11()\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/transport/ssh.py\", line 173, in _parse11\r\n2017-06-07T16:40:46: %AETEST-ERROR:     raise Exception\r\n2017-06-07T16:40:46: %AETEST-ERROR: Exception\r\n2017-06-07T16:40:46: %AETEST-ERROR: \r\n2017-06-07T16:40:46: %AETEST-ERROR: During handling of the above exception, another exception occurred:\r\n2017-06-07T16:40:46: %AETEST-ERROR: \r\n2017-06-07T16:40:46: %AETEST-ERROR: Traceback (most recent call last):\r\n2017-06-07T16:40:46: %AETEST-ERROR:     print(big)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 214, in __exit__\r\n2017-06-07T16:40:46: %AETEST-ERROR:     self.close_session()\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 162, in wrapper\r\n2017-06-07T16:40:46: %AETEST-ERROR:     return self.execute(op_cls, *args, **kwds)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/manager.py\", line 232, in execute\r\n2017-06-07T16:40:46: %AETEST-ERROR:     raise_mode=self._raise_mode).request(*args, **kwds)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/session.py\", line 28, in request\r\n2017-06-07T16:40:46: %AETEST-ERROR:     return self._request(new_ele(\"close-session\"))\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/operations/rpc.py\", line 316, in _request\r\n2017-06-07T16:40:46: %AETEST-ERROR:     self._session.send(req)\r\n2017-06-07T16:40:46: %AETEST-ERROR:   File \"/usr/local/lib/python3.6/site-packages/ncclient/transport/session.py\", line 155, in send\r\n2017-06-07T16:40:46: %AETEST-ERROR:     raise TransportError('Not connected to NETCONF server')\r\n2017-06-07T16:40:46: %AETEST-ERROR: ncclient.transport.errors.TransportError: Not connected to NETCONF server\r\n\r\nand\r\n\r\n<SSHSession(session, initial daemon)> created: client_capabilities=<dict_keyiterator object at 0x7f667ecddb38>\r\n2017-06-02T20:28:08: %NCCLIENT-DEBUG: <SSHSession(session, initial daemon)> created: client_capabilities=<dict_keyiterator object at 0x7f667ecddb38>\r\ninstalling listener <ncclient.transport.session.NotificationHandler object at 0x7f667cdbe5f8>\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: installing listener <ncclient.transport.session.NotificationHandler object at 0x7f667cdbe5f8>\r\ninstalling listener <ncclient.transport.session.HelloHandler object at 0x7f6682aa6048>\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: installing listener <ncclient.transport.session.HelloHandler object at 0x7f6682aa6048>\r\nqueueing <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:hello xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:liberouter:params:netconf:capability:power-control:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability></nc:capabilities></nc:hello>\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: queueing <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:hello xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:liberouter:params:netconf:capability:power-control:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability></nc:capabilities></nc:hello>\r\nstarting main loop\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: starting main loop\r\ndispatching message to <ncclient.transport.session.HelloHandler object at 0x7f6682aa6048>: <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:hello xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:liberouter:params:netconf:capability:power-control:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability></nc:capabilities></nc:hello>\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: dispatching message to <ncclient.transport.session.HelloHandler object at 0x7f6682aa6048>: <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:hello xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:liberouter:params:netconf:capability:power-control:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability></nc:capabilities></nc:hello>\r\ndispatching message to <ncclient.transport.session.NotificationHandler object at 0x7f667cdbe5f8>: <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:hello xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:liberouter:params:netconf:capability:power-control:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability></nc:capabilities></nc:hello>\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: dispatching message to <ncclient.transport.session.NotificationHandler object at 0x7f667cdbe5f8>: <?xml version=\"1.0\" encoding=\"UTF-8\"?><nc:hello xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"><nc:capabilities><nc:capability>urn:ietf:params:netconf:base:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:base:1.1</nc:capability><nc:capability>urn:ietf:params:netconf:capability:writable-running:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:candidate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:confirmed-commit:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:rollback-on-error:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:startup:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:url:1.0?scheme=http,ftp,file,https,sftp</nc:capability><nc:capability>urn:ietf:params:netconf:capability:validate:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:xpath:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:notification:1.0</nc:capability><nc:capability>urn:liberouter:params:netconf:capability:power-control:1.0</nc:capability><nc:capability>urn:ietf:params:netconf:capability:interleave:1.0</nc:capability></nc:capabilities></nc:hello>\r\ndiscarding listener <ncclient.transport.session.HelloHandler object at 0x7f6682aa6048>\r\n2017-06-02T20:28:09: %NCCLIENT-DEBUG: discarding listener <ncclient.transport.session.HelloHandler object at 0x7f6682aa6048>\r\ninitialized: session-id=0 | server_capabilities=<dict_keyiterator object at 0x7f667cdb9728>\r\n2017-06-02T20:28:09: %NCCLIENT-INFO: initialized: session-id=0 | server_capabilities=<dict_keyiterator object at 0x7f667cdb9728>\r\n> setup()\r\n-> c = cisco_manager.get_config(source='running').data_xml\r\n\r\nIn speaking with some team members our thoughts are that if we were able to pass a subsystem arg to ncclient 'ssh -p22 -l user a.b.c.d -s netconf' we might get better traction. Any help would be appreciated.\r\n\r\nThanks,\r\nDave", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/193", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/193/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/193/events", "html_url": "https://github.com/ncclient/ncclient/issues/193", "id": 230283640, "node_id": "MDU6SXNzdWUyMzAyODM2NDA=", "number": 193, "title": "netconf connection to juniper EX3300 switch too slow. ", "user": {"login": "tongorz", "id": 28854458, "node_id": "MDQ6VXNlcjI4ODU0NDU4", "avatar_url": "https://avatars2.githubusercontent.com/u/28854458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tongorz", "html_url": "https://github.com/tongorz", "followers_url": "https://api.github.com/users/tongorz/followers", "following_url": "https://api.github.com/users/tongorz/following{/other_user}", "gists_url": "https://api.github.com/users/tongorz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tongorz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tongorz/subscriptions", "organizations_url": "https://api.github.com/users/tongorz/orgs", "repos_url": "https://api.github.com/users/tongorz/repos", "events_url": "https://api.github.com/users/tongorz/events{/privacy}", "received_events_url": "https://api.github.com/users/tongorz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-22T04:45:49Z", "updated_at": "2018-07-01T17:56:17Z", "closed_at": "2018-07-01T17:56:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using ncclient to create a new netconf connection to juniper EX3300 switch takes 3711 ms.\r\nUsing paramiko to create a new ssh connection on 830 port takes 598 ms.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/191", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/191/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/191/events", "html_url": "https://github.com/ncclient/ncclient/issues/191", "id": 225089799, "node_id": "MDU6SXNzdWUyMjUwODk3OTk=", "number": 191, "title": "Not connected error", "user": {"login": "azlux", "id": 11210117, "node_id": "MDQ6VXNlcjExMjEwMTE3", "avatar_url": "https://avatars0.githubusercontent.com/u/11210117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azlux", "html_url": "https://github.com/azlux", "followers_url": "https://api.github.com/users/azlux/followers", "following_url": "https://api.github.com/users/azlux/following{/other_user}", "gists_url": "https://api.github.com/users/azlux/gists{/gist_id}", "starred_url": "https://api.github.com/users/azlux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azlux/subscriptions", "organizations_url": "https://api.github.com/users/azlux/orgs", "repos_url": "https://api.github.com/users/azlux/repos", "events_url": "https://api.github.com/users/azlux/events{/privacy}", "received_events_url": "https://api.github.com/users/azlux/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-28T14:00:40Z", "updated_at": "2020-01-20T23:24:06Z", "closed_at": "2020-01-20T23:24:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here the issue I've start at the end of this issue #59: \r\nOn windows with this [code](https://azlux.fr/bin/?4d6b586a33d38a62#sBTdWwmwiNShX6nrqPZqzyyl4fzB+e5uX6l0AFrXUvc=) I still have [this error](https://azlux.fr/bin/?d7b26d954dabff74#+2lItbt0pdjf7U45oejjI3Fvr3VKBDtUgS8PaT1Zmyg=)\r\n\r\nIt's like the session close but my Cisco IOS XR Software, Version 5.3.3 have this conf : \r\n\r\n```\r\nnetconf-yang agent\r\n ssh\r\n!\r\nssh server v2\r\nssh server netconf port 830\r\nssh timeout 120\r\n```\r\n\r\nSo I don't know why I have this error. (The running conf appears into the buffer when the program exit but stop on ```<interface-name>GigabitEthernet0/0/0/19</interface-name>\\\\n    <shutdown></shutdown>\\\\n   </interface-configuration>\\\\n  </interface-configurations>\\\\n\\'`',)```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/189", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/189/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/189/events", "html_url": "https://github.com/ncclient/ncclient/issues/189", "id": 224765805, "node_id": "MDU6SXNzdWUyMjQ3NjU4MDU=", "number": 189, "title": "Issue on sending content with specific length, NETCONF delimiter gets split", "user": {"login": "sergafts", "id": 14074326, "node_id": "MDQ6VXNlcjE0MDc0MzI2", "avatar_url": "https://avatars0.githubusercontent.com/u/14074326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sergafts", "html_url": "https://github.com/sergafts", "followers_url": "https://api.github.com/users/sergafts/followers", "following_url": "https://api.github.com/users/sergafts/following{/other_user}", "gists_url": "https://api.github.com/users/sergafts/gists{/gist_id}", "starred_url": "https://api.github.com/users/sergafts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sergafts/subscriptions", "organizations_url": "https://api.github.com/users/sergafts/orgs", "repos_url": "https://api.github.com/users/sergafts/repos", "events_url": "https://api.github.com/users/sergafts/events{/privacy}", "received_events_url": "https://api.github.com/users/sergafts/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-27T12:21:43Z", "updated_at": "2017-07-18T11:42:33Z", "closed_at": "2017-07-18T11:42:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to send (to a Juniper device) a set of commands with a specific length ncclient crashes.\r\nIt seems that the netconf delimiter (`]]>]]>`) is being split while transporting.\r\n\r\nDEBUG level logging output:\r\n\r\n```\r\nDEBUG:ncclient.transport.session:dispatching message to <ncclient.operations.rpc.RPCReplyListener object at 0x7fde1eb66ad0>: <rpc-reply xmlns=\"urn:ietf:params:xml:ns:netconf:base:1.0\" xmlns:junos=\"http://xml.juniper.net/junos/15.1R5/junos\" xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:ebf7759f-9a0d-4b90-a8ae-ac7818f68338\">\r\nDEBUG:ncclient.operations.rpc:Delivering to <ncclient.operations.third_party.juniper.rpc.ExecuteRpc object at 0x7fde25ab5e90>\r\nDEBUG:ncclient.transport.ssh:Trying another round of parsing since there is still data\r\nDEBUG:ncclient.transport.ssh:parsing netconf v1.0\r\nDEBUG:ncclient.transport.ssh:EOF in transport thread\r\nDEBUG:ncclient.transport.ssh:Broke out of main loop, error=SessionCloseError('Unexpected session close\\nIN_BUFFER: `\\n`',)\r\nDEBUG:ncclient.transport.session:dispatching error to <ncclient.transport.session.NotificationHandler object at 0x7fde1eb66e10>\r\nDEBUG:ncclient.transport.session:dispatching error to <jnpr.junos.device.DeviceSessionListener object at 0x7fde25f70d50>\r\nDEBUG:ncclient.transport.session:dispatching error to <ncclient.operations.rpc.RPCReplyListener object at 0x7fde1eb66ad0>\r\n```\r\n\r\nWhile debugging, [this](https://github.com/ncclient/ncclient/blob/master/ncclient/transport/ssh.py#L135) seems to be the problematic code snippet:\r\n\r\n```\r\n        else:\r\n            # handle case that MSG_DELIM is split over two chunks\r\n            self._parsing_pos10 = buf.tell() - MSG_DELIM_LEN\r\n            if self._parsing_pos10 < 0:\r\n                self._parsing_pos10 = 0\r\n```\r\n\r\nThis is located in `SSHSession._parse10()` which is called from `SSHSession.run()`. The latter reads message data and adds it into a buffer, for `_parse10()` to read. Then `_parse10()` tries to locate the \r\nNETCONF delimiter inside the buffer. If, however, the delimiter is split between two buffers it cannot locate it. I tried altering the code in `_parse10()` to move the buffer pointer in the end of the buffer, hoping that when `run()` loads the next chunk directly afterwards the delimiter will be complete and the\r\nnext execution of `_parse10()` will locate it correctly. I did not succeed though.\r\n\r\nAny ideas?\r\n\r\nTo reproduce use the python code & input file provided in this [gist](https://gist.github.com/sergafts/fd0d036c2895e82ff66c005d19c4deca)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/187", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/187/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/187/events", "html_url": "https://github.com/ncclient/ncclient/issues/187", "id": 222634979, "node_id": "MDU6SXNzdWUyMjI2MzQ5Nzk=", "number": 187, "title": "There is not have a get-next operation for huawei device.", "user": {"login": "enhellowhy", "id": 18282440, "node_id": "MDQ6VXNlcjE4MjgyNDQw", "avatar_url": "https://avatars3.githubusercontent.com/u/18282440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enhellowhy", "html_url": "https://github.com/enhellowhy", "followers_url": "https://api.github.com/users/enhellowhy/followers", "following_url": "https://api.github.com/users/enhellowhy/following{/other_user}", "gists_url": "https://api.github.com/users/enhellowhy/gists{/gist_id}", "starred_url": "https://api.github.com/users/enhellowhy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enhellowhy/subscriptions", "organizations_url": "https://api.github.com/users/enhellowhy/orgs", "repos_url": "https://api.github.com/users/enhellowhy/repos", "events_url": "https://api.github.com/users/enhellowhy/events{/privacy}", "received_events_url": "https://api.github.com/users/enhellowhy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-19T06:40:55Z", "updated_at": "2018-07-01T17:54:03Z", "closed_at": "2018-07-01T17:53:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Huawei netconf support get-next operation, but our netconf client don not support.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/185", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/185/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/185/events", "html_url": "https://github.com/ncclient/ncclient/issues/185", "id": 222197591, "node_id": "MDU6SXNzdWUyMjIxOTc1OTE=", "number": 185, "title": "Exception when NETCONF response contains an XML text node > 10,000,000 bytes", "user": {"login": "stacywsmith", "id": 12446307, "node_id": "MDQ6VXNlcjEyNDQ2MzA3", "avatar_url": "https://avatars2.githubusercontent.com/u/12446307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stacywsmith", "html_url": "https://github.com/stacywsmith", "followers_url": "https://api.github.com/users/stacywsmith/followers", "following_url": "https://api.github.com/users/stacywsmith/following{/other_user}", "gists_url": "https://api.github.com/users/stacywsmith/gists{/gist_id}", "starred_url": "https://api.github.com/users/stacywsmith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stacywsmith/subscriptions", "organizations_url": "https://api.github.com/users/stacywsmith/orgs", "repos_url": "https://api.github.com/users/stacywsmith/repos", "events_url": "https://api.github.com/users/stacywsmith/events{/privacy}", "received_events_url": "https://api.github.com/users/stacywsmith/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-17T18:42:37Z", "updated_at": "2019-05-20T13:04:26Z", "closed_at": "2019-05-20T13:04:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "By default, libxml2 >= 2.7 restricts XML text nodes to a maximum of 10,000,000 bytes (~9.5Mbytes). In turn, lxml uses this libxml2 default, but offers the `huge_tree` option:\r\nhttp://lxml.de/parsing.html#parser-options\r\n\r\nIf a NETCONF response contains an XML text node with > 10,000,000 bytes this causes the following exception to be raised:\r\n```\r\n    return self._conn.rpc(rpc_cmd_e)._NCElement__doc\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/manager.py\", line 172, in wrapper\r\n    return self.execute(op_cls, *args, **kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/manager.py\", line 232, in execute\r\n    raise_mode=self._raise_mode).request(*args, **kwds)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/operations/third_party/juniper/rpc.py\", line 44, in request\r\n    return self._request(rpc)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/operations/rpc.py\", line 339, in _request\r\n    return NCElement(self._reply, self._device_handler.transform_reply())\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/xml_.py\", line 153, in __init__\r\n    self.__doc = self.remove_namespaces(self.__result)\r\n  File \"/usr/local/lib/python2.7/dist-packages/ncclient/xml_.py\", line 201, in remove_namespaces\r\n    self.__root = etree.fromstring(str(self.__transform(etree.parse(StringIO(str(rpc_reply))))))\r\n  File \"src/lxml/lxml.etree.pyx\", line 3427, in lxml.etree.parse (src/lxml/lxml.etree.c:81117)\r\n  File \"src/lxml/parser.pxi\", line 1828, in lxml.etree._parseDocument (src/lxml/lxml.etree.c:118072)\r\n  File \"src/lxml/parser.pxi\", line 1848, in lxml.etree._parseMemoryDocument (src/lxml/lxml.etree.c:118341)\r\n  File \"src/lxml/parser.pxi\", line 1736, in lxml.etree._parseDoc (src/lxml/lxml.etree.c:117021)\r\n  File \"src/lxml/parser.pxi\", line 1102, in lxml.etree._BaseParser._parseDoc (src/lxml/lxml.etree.c:111265)\r\n  File \"src/lxml/parser.pxi\", line 595, in lxml.etree._ParserContext._handleParseResultDoc (src/lxml/lxml.etree.c:105109)\r\n  File \"src/lxml/parser.pxi\", line 706, in lxml.etree._handleParseResult (src/lxml/lxml.etree.c:106817)\r\n  File \"src/lxml/parser.pxi\", line 635, in lxml.etree._raiseParseError (src/lxml/lxml.etree.c:105671)\r\n  File \"<string>\", line 106044\r\nlxml.etree.XMLSyntaxError: xmlSAX2Characters: huge text node, line 106044, column 1\r\n```\r\n\r\nThis has been encountered when trying to retrieve a large Junos configuration file in set or text format, but the general issue is not specific to Junos.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/183", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/183/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/183/events", "html_url": "https://github.com/ncclient/ncclient/issues/183", "id": 215770823, "node_id": "MDU6SXNzdWUyMTU3NzA4MjM=", "number": 183, "title": "Exception on session-close", "user": {"login": "maseev", "id": 3434800, "node_id": "MDQ6VXNlcjM0MzQ4MDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/3434800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maseev", "html_url": "https://github.com/maseev", "followers_url": "https://api.github.com/users/maseev/followers", "following_url": "https://api.github.com/users/maseev/following{/other_user}", "gists_url": "https://api.github.com/users/maseev/gists{/gist_id}", "starred_url": "https://api.github.com/users/maseev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maseev/subscriptions", "organizations_url": "https://api.github.com/users/maseev/orgs", "repos_url": "https://api.github.com/users/maseev/repos", "events_url": "https://api.github.com/users/maseev/events{/privacy}", "received_events_url": "https://api.github.com/users/maseev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-21T15:04:20Z", "updated_at": "2017-03-23T06:37:40Z", "closed_at": "2017-03-23T06:37:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like that ncclient throws an exception on session-close, but it's impossible to tell what went wrong from the exception message which is basically an empty string. Here's the code:\r\n\r\n```python\r\n#!/usr/bin/env python\r\n\r\nfrom ncclient import manager\r\n\r\ndef connect(host, port, user, password, source):\r\n    print('establishing connection...')\r\n    conn=manager.connect(host=host,\r\n                         port=port,\r\n                         username=user,\r\n                         password=password,\r\n                         timeout=10,\r\n                         hostkey_verify=False,\r\n                         device_params={'name':'default'})\r\n    try:\r\n        print(\"connection has been established\")\r\n    finally:\r\n        print(\"closing connection...\")\r\n        try:\r\n            conn.close_session()\r\n        except Exception as sessionException:\r\n            print(\"An exception occurred while closing the session :\" + str(sessionException))\r\n        print(\"connection has been closed\")\r\n\r\n\r\nif __name__ == '__main__':\r\n    connect('localhost', 1830, 'user', 'pass', 'candidate')\r\n```\r\n\r\nWhen I run this script I get the following output:\r\n\r\n> \r\n> establishing connection...\r\n> connection has been established\r\n> closing connection...\r\n> An exception occurred while closing the session :\r\n> connection has been closed\r\n> Exception in thread session (most likely raised during interpreter shutdown)\r\n\r\nI think it's worth mentioning what server and nccclient send to each other on session-close event. Nccclient sends the following XML on session-close event:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<nc:rpc xmlns:nc=\"urn:ietf:params:xml:ns:netconf:base:1.0\"\r\n        message-id=\"urn:uuid:ded644f4-4787-456c-84b2-b24e6c2eace9\">\r\n  <nc:close-session/>\r\n</nc:rpc>\r\n```\r\n\r\nThe server responds with the following XML document:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<ns2:rpcReply xmlns:ns2=\"urn:ietf:params:xml:ns:netconf:base:1.0\" message-id=\"urn:uuid:ded644f4-4787-456c-84b2-b24e6c2eace9\">\r\n    <ns2:ok xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"rpcOk\"/>\r\n</ns2:rpcReply>\r\n```\r\n\r\nAfter that ncclient throws an exception and abruptly closes the connection to the server.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/182", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/182/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/182/events", "html_url": "https://github.com/ncclient/ncclient/issues/182", "id": 215766475, "node_id": "MDU6SXNzdWUyMTU3NjY0NzU=", "number": 182, "title": "Unable to send an RPC", "user": {"login": "maseev", "id": 3434800, "node_id": "MDQ6VXNlcjM0MzQ4MDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/3434800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maseev", "html_url": "https://github.com/maseev", "followers_url": "https://api.github.com/users/maseev/followers", "following_url": "https://api.github.com/users/maseev/following{/other_user}", "gists_url": "https://api.github.com/users/maseev/gists{/gist_id}", "starred_url": "https://api.github.com/users/maseev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maseev/subscriptions", "organizations_url": "https://api.github.com/users/maseev/orgs", "repos_url": "https://api.github.com/users/maseev/repos", "events_url": "https://api.github.com/users/maseev/events{/privacy}", "received_events_url": "https://api.github.com/users/maseev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-03-21T14:52:02Z", "updated_at": "2017-03-23T07:14:43Z", "closed_at": "2017-03-23T07:14:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to send an RPC to the NETCONF server using [one](https://github.com/ncclient/ncclient/blob/f734dfc7124a20bf067df1b12c23bba191bcdb89/examples/juniper/execute-rpc-string.py) of the examples that you provide. Here's my code:\r\n\r\n```python\r\n#!/usr/bin/env python\r\n\r\nfrom ncclient import manager\r\n\r\ndef connect(host, port, user, password, source):\r\n    print('establishing connection...')\r\n    conn=manager.connect(host=host,\r\n                         port=port,\r\n                         username=user,\r\n                         password=password,\r\n                         timeout=10,\r\n                         hostkey_verify=False,\r\n                         device_params={'name':'default'})\r\n    try:\r\n        print(\"connection has been established\")\r\n        print(\"server capabilities:\")\r\n\r\n        for c in conn.server_capabilities:\r\n            print(c)\r\n\r\n        rpc = \"\"\"\r\n        <get-chassis-inventory>\r\n            <detail/>\r\n        </get-chassis-inventory>\"\"\"\r\n\r\n        print('sending an RPC')\r\n        result = conn.rpc(rpc)\r\n        print(result)\r\n    except Exception as rpcException:\r\n        print(\"An exception occurred while sending an RPC: \" + str(rpcException))\r\n    finally:\r\n        print(\"closing connection...\")\r\n        try:\r\n            conn.close_session()\r\n        except Exception as sessionException:\r\n            print(\"An exception occurred while closing the session :\" + str(sessionException))\r\n        print(\"connection has been closed\")\r\n\r\n\r\nif __name__ == '__main__':\r\n    connect('localhost', 1830, 'user', 'pass', 'candidate')\r\n```\r\n\r\nCalling `conn.rpc(rpc)` throws the following exception:\r\n\r\n`Invalid tag name u'\\n        <get-chassis-inventory>\\n            <detail/>\\n        </get-chassis-inventory>'`\r\n\r\nwhich doesn't make a lot of sense. Am I doing something wrong? From the exception message it's very unclear what I'm supposed to do.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/181", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/181/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/181/events", "html_url": "https://github.com/ncclient/ncclient/issues/181", "id": 215664150, "node_id": "MDU6SXNzdWUyMTU2NjQxNTA=", "number": 181, "title": "ncclient waits for a server's hello message", "user": {"login": "maseev", "id": 3434800, "node_id": "MDQ6VXNlcjM0MzQ4MDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/3434800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maseev", "html_url": "https://github.com/maseev", "followers_url": "https://api.github.com/users/maseev/followers", "following_url": "https://api.github.com/users/maseev/following{/other_user}", "gists_url": "https://api.github.com/users/maseev/gists{/gist_id}", "starred_url": "https://api.github.com/users/maseev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maseev/subscriptions", "organizations_url": "https://api.github.com/users/maseev/orgs", "repos_url": "https://api.github.com/users/maseev/repos", "events_url": "https://api.github.com/users/maseev/events{/privacy}", "received_events_url": "https://api.github.com/users/maseev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-21T08:41:09Z", "updated_at": "2017-06-11T07:51:26Z", "closed_at": "2017-06-11T07:51:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Correct me if I'm wrong, but according to [spec](https://tools.ietf.org/html/rfc6241#section-8.1) server and client don't have to wait for each other's hello messages that include their capabilities:\r\n\r\n> Capabilities are advertised in messages sent by each peer during\r\n   session establishment.  When the NETCONF session is opened, each peer\r\n   (both client and server) MUST send a <hello> element containing a\r\n   list of that peer's capabilities.\r\n> ...\r\n> Each peer sends its <hello> element simultaneously as soon as the\r\n   connection is open.  A peer MUST NOT wait to receive the capability\r\n   set from the other side before sending its own set.\r\n\r\nRight now, it looks like ncclient is waiting for a server to send a ```hello``` message first which clearly violates the spec.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ncclient/ncclient/issues/180", "repository_url": "https://api.github.com/repos/ncclient/ncclient", "labels_url": "https://api.github.com/repos/ncclient/ncclient/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/ncclient/ncclient/issues/180/comments", "events_url": "https://api.github.com/repos/ncclient/ncclient/issues/180/events", "html_url": "https://github.com/ncclient/ncclient/issues/180", "id": 215430527, "node_id": "MDU6SXNzdWUyMTU0MzA1Mjc=", "number": 180, "title": "copy_config does not work", "user": {"login": "manoj-nair", "id": 19576457, "node_id": "MDQ6VXNlcjE5NTc2NDU3", "avatar_url": "https://avatars0.githubusercontent.com/u/19576457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manoj-nair", "html_url": "https://github.com/manoj-nair", "followers_url": "https://api.github.com/users/manoj-nair/followers", "following_url": "https://api.github.com/users/manoj-nair/following{/other_user}", "gists_url": "https://api.github.com/users/manoj-nair/gists{/gist_id}", "starred_url": "https://api.github.com/users/manoj-nair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manoj-nair/subscriptions", "organizations_url": "https://api.github.com/users/manoj-nair/orgs", "repos_url": "https://api.github.com/users/manoj-nair/repos", "events_url": "https://api.github.com/users/manoj-nair/events{/privacy}", "received_events_url": "https://api.github.com/users/manoj-nair/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-20T14:05:46Z", "updated_at": "2017-03-21T06:52:19Z", "closed_at": "2017-03-21T06:52:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI tried the first example mentioned in the ncclient documentation and got the following error:\r\n\r\n**Example tried:**\r\n\r\n#! /usr/bin/python\r\n\r\nimport sys, os, warnings\r\nwarnings.simplefilter(\"ignore\", DeprecationWarning)\r\nfrom ncclient import manager\r\n\r\ndef get_running_config(host, user, pwd):\r\n    with manager.connect(host=host, port=830, username=user, password=pwd, hostkey_verify=False,allow_agent=False,look_for_keys=False) as m:\r\n        #assert(\":url\" in m.server_capabilities)\r\n        with m.locked(\"running\"):\r\n            m.copy_config(source=\"running\", target=\"file:///tmp/new_checkpoint.conf\")\r\n\r\nif __name__ == '__main__':\r\n    get_running_config('localhost', 'jack','xxxxxxx');\r\n\r\n**Error seen at client side:**\r\nTraceback (most recent call last):\r\n  File \"./my_get.py\", line 14, in <module>\r\n    get_running_config('localhost', 'jack','xxxxxxx');\r\n  File \"./my_get.py\", line 11, in get_running_config\r\n    m.copy_config(source=\"running\", target=\"file:///tmp/new_checkpoint.conf\") \r\n  File \"build/bdist.linux-x86_64/egg/ncclient/manager.py\", line 162, in wrapper\r\n  File \"build/bdist.linux-x86_64/egg/ncclient/manager.py\", line 232, in execute\r\n  File \"build/bdist.linux-x86_64/egg/ncclient/operations/edit.py\", line 99, in request\r\n  File \"build/bdist.linux-x86_64/egg/ncclient/operations/rpc.py\", line 337, in _request\r\nncclient.operations.rpc.RPCError: NULL pointer\r\n\r\n**Error seen at NETCONF server:**\r\n\r\n[rpc-error]\r\n  [error-type]protocol[/error-type]\r\n  [error-tag]operation-failed[/error-tag]\r\n  [error-severity]error[/error-severity]\r\n  [error-app-tag]internal-error[/error-app-tag]\r\n  [error-path]/nc:rpc/nc:copy-config/nc:target/nc:url[/error-path]\r\n  [error-message xml:lang=\"en\"]NULL pointer[/error-message]\r\n  [error-info]\r\n   [bad-value]file:///tmp/new_checkpoint.conf[/bad-value]\r\n   [error-number]2[/error-number]\r\n  [/error-info]\r\n [/rpc-error]\r\n\r\n**Environment:**\r\nUbuntu 14.04\r\nncclient version 0.5.3\r\nNetconf server has URL capabilities\r\nThe nc01, nc02 and nc03 examples work fine\r\n\r\n**Expected behavior:**\r\nThe running configuration should be fetched from server and saved to local file-system at /tmp/new_checkpoint.conf\r\n\r\nPlease let me know how to make this work.\r\n\r\nThanks,\r\nManoj\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}]}