{"total_count": 16, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/tantale/deprecated/issues/29", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/29/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/29/events", "html_url": "https://github.com/tantale/deprecated/issues/29", "id": 627670471, "node_id": "MDU6SXNzdWU2Mjc2NzA0NzE=", "number": 29, "title": "Tests fail on py3.9", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-30T07:20:40Z", "updated_at": "2020-05-30T11:35:40Z", "closed_at": "2020-05-30T11:35:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Expected Behavior\r\n\r\nTests should pass ;-).\r\n\r\n### Actual Behavior\r\n\r\nThis is most likely due to Python 3.9 fixing `@classmethod` behavior (see also: GrahamDumpleton/wrapt#160). Now the deprecation is correctly reported as 'class method' rather than 'deprecated function (or staticmethod)'.\r\n\r\n```pytb\r\nGLOB sdist-make: /tmp/deprecated/setup.py\r\npy39 inst-nodeps: /tmp/deprecated/.tox/.tmp/package/1/Deprecated-1.2.11.zip\r\npy39 installed: attrs==19.3.0,coverage==4.5.4,Deprecated @ file:///tmp/deprecated/.tox/.tmp/package/1/Deprecated-1.2.11.zip,more-itertools==8.3.0,packaging==20.4,pluggy==0.13.1,py==1.8.1,pyparsing==2.4.7,pytest==5.4.2,pytest-cov==2.9.0,six==1.15.0,wcwidth==0.1.9,wrapt==1.12.1\r\npy39 run-test-pre: PYTHONHASHSEED='2163554996'\r\npy39 run-test: commands[0] | pytest --cov-report term-missing --cov=deprecated tests/\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.9.0b1, pytest-5.4.2, py-1.8.1, pluggy-0.13.1\r\ncachedir: .tox/py39/.pytest_cache\r\nrootdir: /tmp/deprecated, inifile: setup.cfg\r\nplugins: cov-2.9.0\r\ncollected 156 items\r\n\r\ntests/test.py ..                                                         [  1%]\r\ntests/test_deprecated.py ............................FFFFFFF......       [ 27%]\r\ntests/test_deprecated_class.py .......                                   [ 32%]\r\ntests/test_deprecated_metaclass.py ....                                  [ 34%]\r\ntests/test_sphinx.py ................................................... [ 67%]\r\n...............................FFFFFFF......                             [ 95%]\r\ntests/test_sphinx_class.py ...                                           [ 97%]\r\ntests/test_sphinx_metaclass.py ....                                      [100%]\r\n\r\n=================================== FAILURES ===================================\r\n______________ test_classic_deprecated_class_method__warns[None] _______________\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(DeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f2804045a00>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_ test_classic_deprecated_class_method__warns[classic_deprecated_class_method1] _\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(DeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f2804062b50>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_ test_classic_deprecated_class_method__warns[classic_deprecated_class_method2] _\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5. (Good reason)'\r\nE        +  where 'Call to deprecated class method foo5. (Good reason)' = str(DeprecationWarning('Call to deprecated class method foo5. (Good reason)'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5. (Good reason)') = <warnings.WarningMessage object at 0x7f2804071190>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_ test_classic_deprecated_class_method__warns[classic_deprecated_class_method3] _\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5. (Good reason)'\r\nE        +  where 'Call to deprecated class method foo5. (Good reason)' = str(DeprecationWarning('Call to deprecated class method foo5. (Good reason)'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5. (Good reason)') = <warnings.WarningMessage object at 0x7f28040625b0>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_ test_classic_deprecated_class_method__warns[classic_deprecated_class_method4] _\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5. -- Deprecated since version 1.2.3.'\r\nE        +  where 'Call to deprecated class method foo5. -- Deprecated since version 1.2.3.' = str(DeprecationWarning('Call to deprecated class method foo5. -- Deprecated since version 1.2.3.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5. -- Deprecated since version 1.2.3.') = <warnings.WarningMessage object at 0x7f2804071a30>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_ test_classic_deprecated_class_method__warns[classic_deprecated_class_method5] _\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(DeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f28040452b0>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_ test_classic_deprecated_class_method__warns[classic_deprecated_class_method6] _\r\n\r\nclassic_deprecated_class_method = <class 'tests.test_deprecated.classic_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_classic_deprecated_class_method__warns(classic_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = classic_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(MyDeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where MyDeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f280405c2e0>.message\r\n\r\ntests/test_deprecated.py:187: AssertionError\r\n_______________ test_sphinx_deprecated_class_method__warns[None] _______________\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(DeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f2803fcb310>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n_ test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method1] __\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(DeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f2803fe6f10>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n_ test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method2] __\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5. (Good reason)'\r\nE        +  where 'Call to deprecated class method foo5. (Good reason)' = str(DeprecationWarning('Call to deprecated class method foo5. (Good reason)'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5. (Good reason)') = <warnings.WarningMessage object at 0x7f2803ff10d0>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n_ test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method3] __\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5. (Good reason)'\r\nE        +  where 'Call to deprecated class method foo5. (Good reason)' = str(DeprecationWarning('Call to deprecated class method foo5. (Good reason)'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5. (Good reason)') = <warnings.WarningMessage object at 0x7f2803fe1790>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n_ test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method4] __\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5. -- Deprecated since version 1.2.3.'\r\nE        +  where 'Call to deprecated class method foo5. -- Deprecated since version 1.2.3.' = str(DeprecationWarning('Call to deprecated class method foo5. -- Deprecated since version 1.2.3.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5. -- Deprecated since version 1.2.3.') = <warnings.WarningMessage object at 0x7f28040bdac0>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n_ test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method5] __\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(DeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where DeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f2803fead60>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n_ test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method6] __\r\n\r\nsphinx_deprecated_class_method = <class 'tests.test_sphinx.sphinx_deprecated_class_method.<locals>.Foo5'>\r\n\r\n    def test_sphinx_deprecated_class_method__warns(sphinx_deprecated_class_method):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            cls = sphinx_deprecated_class_method()\r\n            cls.foo5()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n>       assert \"deprecated function (or staticmethod)\" in str(warn.message)\r\nE       AssertionError: assert 'deprecated function (or staticmethod)' in 'Call to deprecated class method foo5.'\r\nE        +  where 'Call to deprecated class method foo5.' = str(MyDeprecationWarning('Call to deprecated class method foo5.'))\r\nE        +    where MyDeprecationWarning('Call to deprecated class method foo5.') = <warnings.WarningMessage object at 0x7f280405cac0>.message\r\n\r\ntests/test_sphinx.py:337: AssertionError\r\n=============================== warnings summary ===============================\r\ntests/test_deprecated_class.py::test_simple_class_deprecation_with_args\r\n  /tmp/deprecated/tests/test_deprecated_class.py:148: DeprecationWarning: Call to deprecated class MyClass. (kwargs class)\r\n    MyClass(5)\r\n\r\n-- Docs: https://docs.pytest.org/en/latest/warnings.html\r\n\r\n----------- coverage: platform linux, python 3.9.0-beta-1 ------------\r\nName                     Stmts   Miss  Cover   Missing\r\n------------------------------------------------------\r\ndeprecated/__init__.py       3      0   100%\r\ndeprecated/classic.py       79      6    92%   25-30, 290\r\ndeprecated/sphinx.py        38      2    95%   124, 150\r\n------------------------------------------------------\r\nTOTAL                      120      8    93%\r\n\r\n=========================== short test summary info ============================\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[None]\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[classic_deprecated_class_method1]\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[classic_deprecated_class_method2]\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[classic_deprecated_class_method3]\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[classic_deprecated_class_method4]\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[classic_deprecated_class_method5]\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class_method__warns[classic_deprecated_class_method6]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[None]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method1]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method2]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method3]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method4]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method5]\r\nFAILED tests/test_sphinx.py::test_sphinx_deprecated_class_method__warns[sphinx_deprecated_class_method6]\r\n================== 14 failed, 142 passed, 1 warning in 0.52s ===================\r\nERROR: InvocationError for command /tmp/deprecated/.tox/py39/bin/pytest --cov-report term-missing --cov=deprecated tests/ (exited with code 1)\r\n___________________________________ summary ____________________________________\r\nERROR:   py39: commands failed\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.9.0b1\r\n* Deprecated version: git master (cdde25aca9fc03f15fa7dd758a6bf653767a5700)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/25", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/25/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/25/events", "html_url": "https://github.com/tantale/deprecated/issues/25", "id": 603655008, "node_id": "MDU6SXNzdWU2MDM2NTUwMDg=", "number": 25, "title": "\"default\", \"module\", and \"once\" actions do not work in Python 3", "user": {"login": "heidecjj", "id": 18151489, "node_id": "MDQ6VXNlcjE4MTUxNDg5", "avatar_url": "https://avatars2.githubusercontent.com/u/18151489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heidecjj", "html_url": "https://github.com/heidecjj", "followers_url": "https://api.github.com/users/heidecjj/followers", "following_url": "https://api.github.com/users/heidecjj/following{/other_user}", "gists_url": "https://api.github.com/users/heidecjj/gists{/gist_id}", "starred_url": "https://api.github.com/users/heidecjj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heidecjj/subscriptions", "organizations_url": "https://api.github.com/users/heidecjj/orgs", "repos_url": "https://api.github.com/users/heidecjj/repos", "events_url": "https://api.github.com/users/heidecjj/events{/privacy}", "received_events_url": "https://api.github.com/users/heidecjj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-21T02:19:53Z", "updated_at": "2020-05-13T20:49:13Z", "closed_at": "2020-05-13T20:49:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Expected Behavior\r\n\r\nPaste the following into a file named `once.py`\r\n```python\r\nfrom deprecated import deprecated\r\n@deprecated(reason='this should happen once', action='once')\r\ndef a():\r\n    return\r\n\r\na()\r\na()\r\na()\r\n```\r\nI expect the deprecation warning to print once:\r\n```console\r\n$ python3 once.py\r\nonce.py:6: DeprecationWarning: Call to deprecated function (or staticmethod) a. (this should happen once)\r\n  a()\r\n```\r\n### Actual Behavior\r\n\r\nTell us what happens instead.\r\n\r\n```console\r\n$ python3 once.py\r\nonce.py:6: DeprecationWarning: Call to deprecated function (or staticmethod) a. (this should happen once)\r\n  a()\r\nonce.py:7: DeprecationWarning: Call to deprecated function (or staticmethod) a. (this should happen once)\r\n  a()\r\nonce.py:8: DeprecationWarning: Call to deprecated function (or staticmethod) a. (this should happen once)\r\n  a()\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: Python 3.6.9\r\n* Deprecated version: 1.2.9\r\n\r\n### Additional Info\r\n\r\nNote: this issue is slightly different from the issue #24 aims to solve. #24 deals with actions specified by global warning filters while this issue deals with actions specified to the `@deprecated` decorator.\r\n\r\nThis is not a problem in Python 2. This is only a problem in Python 3 due to the way `warnings.catch_warnings()` works. Entering and exiting the `warnings.catch_warnings()` context manager causes Python 3 to clear out its warning registries. The warning registries keep track of which warnings have fired in order to enforce actions like \"once\", \"default\", and \"module\". When `deprecated` fires its warning inside `warnings.catch_warnings()`, the warning registries will always be empty, so \"once\", \"default\", and \"module\" end up behaving like \"always\". I'm not sure there's much we can do to fix this problem.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/22", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/22/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/22/events", "html_url": "https://github.com/tantale/deprecated/issues/22", "id": 597777151, "node_id": "MDU6SXNzdWU1OTc3NzcxNTE=", "number": 22, "title": "[packit] Propose update failed for release v1.2.9", "user": {"login": "packit-as-a-service[bot]", "id": 49689251, "node_id": "MDM6Qm90NDk2ODkyNTE=", "avatar_url": "https://avatars1.githubusercontent.com/in/29076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D", "html_url": "https://github.com/apps/packit-as-a-service", "followers_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/followers", "following_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/repos", "events_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 755885567, "node_id": "MDU6TGFiZWw3NTU4ODU1Njc=", "url": "https://api.github.com/repos/tantale/deprecated/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-10T08:48:08Z", "updated_at": "2020-05-13T20:50:33Z", "closed_at": "2020-05-13T20:50:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Packit failed on creating pull-requests in dist-git:\n\n| dist-git branch | error |\n| --------------- | ----- |\n| `master` | `Failed to download file from URL https://files.pythonhosted.org/packages/source/D/Deprecated/Deprecated-v1.2.9.tar.gz. Reason: 'Not Found'. ` |\n\n\nYou can re-trigger the update by adding `/packit propose-update` to the issue comment.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/20", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/20/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/20/events", "html_url": "https://github.com/tantale/deprecated/issues/20", "id": 594883560, "node_id": "MDU6SXNzdWU1OTQ4ODM1NjA=", "number": 20, "title": "Test regression in 1.2.8 with PyPy3", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-06T07:49:47Z", "updated_at": "2020-04-10T07:28:01Z", "closed_at": "2020-04-10T07:28:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Expected Behavior\r\n\r\nTests should pass, as they did in 1.2.7.\r\n\r\nTo run tests, I've added `,pypy3` to PyTest conditions in `tox.ini`.\r\n\r\n### Actual Behavior\r\n\r\nThe following tests fails with PyPy3:\r\n\r\n```\r\n==================================================================== FAILURES =====================================================================\r\n___________________________________________________ test_classic_deprecated_class__warns[None] ____________________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n_________________________________________ test_classic_deprecated_class__warns[classic_deprecated_class1] _________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n_________________________________________ test_classic_deprecated_class__warns[classic_deprecated_class2] _________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n_________________________________________ test_classic_deprecated_class__warns[classic_deprecated_class3] _________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n_________________________________________ test_classic_deprecated_class__warns[classic_deprecated_class4] _________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n_________________________________________ test_classic_deprecated_class__warns[classic_deprecated_class5] _________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n_________________________________________ test_classic_deprecated_class__warns[classic_deprecated_class6] _________________________________________\r\n\r\nclassic_deprecated_class = <class 'tests.test_deprecated.classic_deprecated_class.<locals>.Foo2'>\r\n\r\n    def test_classic_deprecated_class__warns(classic_deprecated_class):\r\n        with warnings.catch_warnings(record=True) as warns:\r\n            warnings.simplefilter(\"always\")\r\n            classic_deprecated_class()\r\n        assert len(warns) == 1\r\n        warn = warns[0]\r\n        assert issubclass(warn.category, DeprecationWarning)\r\n        assert \"deprecated class\" in str(warn.message)\r\n>       assert warn.filename == __file__, 'Incorrect warning stackLevel'\r\nE       AssertionError: Incorrect warning stackLevel\r\nE       assert '/tmp/depreca...est/python.py' == '/tmp/depreca...deprecated.py'\r\nE         - /tmp/deprecated-1.2.8/tests/test_deprecated.py\r\nE         + /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py\r\n\r\ntests/test_deprecated.py:150: AssertionError\r\n================================================================ warnings summary =================================================================\r\ntests/test_deprecated_class.py::test_simple_class_deprecation_with_args\r\n  /tmp/deprecated-1.2.8/.tox/pypy3/site-packages/_pytest/python.py:184: DeprecationWarning: Call to deprecated class MyClass. (kwargs class)\r\n    result = testfunction(**testargs)\r\n\r\n-- Docs: https://docs.pytest.org/en/latest/warnings.html\r\n\r\n----------- coverage: platform linux, python 3.6.9-final-0 -----------\r\nName                     Stmts   Miss  Cover   Missing\r\n------------------------------------------------------\r\ndeprecated/__init__.py       3      0   100%\r\ndeprecated/classic.py       71      3    96%   22, 130, 280\r\ndeprecated/sphinx.py        36      2    94%   124, 150\r\n------------------------------------------------------\r\nTOTAL                      110      5    95%\r\n\r\n============================================================= short test summary info =============================================================\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[None] - AssertionError: Incorrect warning stackLevel\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[classic_deprecated_class1] - AssertionError: Incorrect warning stackLevel\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[classic_deprecated_class2] - AssertionError: Incorrect warning stackLevel\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[classic_deprecated_class3] - AssertionError: Incorrect warning stackLevel\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[classic_deprecated_class4] - AssertionError: Incorrect warning stackLevel\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[classic_deprecated_class5] - AssertionError: Incorrect warning stackLevel\r\nFAILED tests/test_deprecated.py::test_classic_deprecated_class__warns[classic_deprecated_class6] - AssertionError: Incorrect warning stackLevel\r\n==================================================== 7 failed, 148 passed, 1 warning in 20.18s ====================================================\r\n```\r\n\r\nI don't know if this isn't a problem with pytest itself and/or pypy3. However, \r\n\r\n### Environment\r\n\r\n* Python version:\r\n  ```\r\n  $ pypy3 --version\r\n  Python 3.6.9 (1608da62bfc71e8ac775121dd0b21bb72e61c6ea, Dec 25 2019, 15:23:23)\r\n  [PyPy 7.3.0 with GCC 9.2.0]\r\n  ```\r\n* Deprecated version: 1.2.8\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/19", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/19/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/19/events", "html_url": "https://github.com/tantale/deprecated/issues/19", "id": 594637903, "node_id": "MDU6SXNzdWU1OTQ2Mzc5MDM=", "number": 19, "title": "[packit] Propose update failed for release v1.2.8", "user": {"login": "packit-as-a-service[bot]", "id": 49689251, "node_id": "MDM6Qm90NDk2ODkyNTE=", "avatar_url": "https://avatars1.githubusercontent.com/in/29076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D", "html_url": "https://github.com/apps/packit-as-a-service", "followers_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/followers", "following_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/repos", "events_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/packit-as-a-service%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-05T20:52:17Z", "updated_at": "2020-04-10T08:47:46Z", "closed_at": "2020-04-10T08:47:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Packit failed on creating pull-requests in dist-git:\n\n| dist-git branch | error |\n| --------------- | ----- |\n| `master` | `Failed to download file from URL https://files.pythonhosted.org/packages/source/D/Deprecated/Deprecated-v1.2.8.tar.gz. Reason: 'Not Found'. ` |\n\n\nYou can re-trigger the update by adding `/packit propose-update` to the issue comment.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/17", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/17/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/17/events", "html_url": "https://github.com/tantale/deprecated/issues/17", "id": 569364292, "node_id": "MDU6SXNzdWU1NjkzNjQyOTI=", "number": 17, "title": "Link to the GitHub is missing in the documentation.", "user": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/tantale/deprecated/milestones/4", "html_url": "https://github.com/tantale/deprecated/milestone/4", "labels_url": "https://api.github.com/repos/tantale/deprecated/milestones/4/labels", "id": 5093904, "node_id": "MDk6TWlsZXN0b25lNTA5MzkwNA==", "number": 4, "title": "1.2.8", "description": null, "creator": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2020-02-11T12:46:02Z", "updated_at": "2020-02-22T18:05:49Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2020-02-22T17:17:50Z", "updated_at": "2020-02-22T18:05:49Z", "closed_at": "2020-02-22T18:05:49Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The link to the GitHub project is missing in the documentation.\r\n\r\nThe `setup.py` file contains:\r\n\r\n```python\r\n    project_urls={\r\n        \"Documentation\": \"https://deprecated.readthedocs.io/en/latest/\",\r\n        \"Source\": \"https://github.com/tantale/deprecated\",\r\n        \"Bug Tracker\": \"https://github.com/tantale/deprecated/issues\",\r\n    }\r\n```\r\n\r\nThe \"Source\" and \"Bug Tracker\" links must appears in the documentation.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/16", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/16/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/16/events", "html_url": "https://github.com/tantale/deprecated/issues/16", "id": 565737420, "node_id": "MDU6SXNzdWU1NjU3Mzc0MjA=", "number": 16, "title": "decorated methods with \"deprecated\" cannot be pickled", "user": {"login": "garciparedes", "id": 5640366, "node_id": "MDQ6VXNlcjU2NDAzNjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5640366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garciparedes", "html_url": "https://github.com/garciparedes", "followers_url": "https://api.github.com/users/garciparedes/followers", "following_url": "https://api.github.com/users/garciparedes/following{/other_user}", "gists_url": "https://api.github.com/users/garciparedes/gists{/gist_id}", "starred_url": "https://api.github.com/users/garciparedes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garciparedes/subscriptions", "organizations_url": "https://api.github.com/users/garciparedes/orgs", "repos_url": "https://api.github.com/users/garciparedes/repos", "events_url": "https://api.github.com/users/garciparedes/events{/privacy}", "received_events_url": "https://api.github.com/users/garciparedes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 755885567, "node_id": "MDU6TGFiZWw3NTU4ODU1Njc=", "url": "https://api.github.com/repos/tantale/deprecated/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-02-15T11:48:32Z", "updated_at": "2020-05-13T20:52:59Z", "closed_at": "2020-05-13T20:52:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! First of all, thank you so much for writing this library, it really helps me maintaining deprecations around my source code. \r\n\r\nNevertheless, I realised that there is one problem related with the serialization process (with both `pickle` and `dill`) which I believe is related with the `wrapt` library and the https://github.com/GrahamDumpleton/wrapt/issues/102 issue, in which the author aims to implement the `__reduce_ex__ `. \r\n\r\n### Expected Behavior\r\n\r\nTell us what should happen.\r\n\r\n```python\r\nfrom pickle import dumps\r\n\r\nfrom deprecated import deprecated\r\n\r\n\r\n@deprecated\r\ndef foo():\r\n    return 'bar'\r\n\r\n\r\nprint(dumps(foo))\r\n```\r\n\r\n### Actual Behavior\r\n\r\nTell us what happens instead.\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"~/development/open-source/deprecated/proof.py\", line 11, in <module>\r\n    print(dumps(foo))\r\nNotImplementedError: object proxy must define __reduce_ex__()\r\n```\r\nIn case of replacing the `pickle` module by `dill`, the error trace is more descriptive:\r\n\r\n```pytb\r\nTraceback (most recent call last):\r\n  File \"/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/pydevd.py\", line 1434, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/Users/garciparedes/development/open-source/deprecated/proof.py\", line 11, in <module>\r\n    print(dumps(foo))\r\n  File \"/Users/garciparedes/development/open-source/deprecated/venv/lib/python3.7/site-packages/dill/_dill.py\", line 265, in dumps\r\n    dump(obj, file, protocol, byref, fmode, recurse, **kwds)#, strictio)\r\n  File \"/Users/garciparedes/development/open-source/deprecated/venv/lib/python3.7/site-packages/dill/_dill.py\", line 259, in dump\r\n    Pickler(file, protocol, **_kwds).dump(obj)\r\n  File \"~/development/open-source/deprecated/venv/lib/python3.7/site-packages/dill/_dill.py\", line 445, in dump\r\n    StockPickler.dump(self, obj)\r\n  File \"/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/pickle.py\", line 437, in dump\r\n    self.save(obj)\r\n  File \"/usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/pickle.py\", line 524, in save\r\n    rv = reduce(self.proto)\r\nNotImplementedError: object proxy must define __reduce_ex__()\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: `3.7.6`\r\n* Deprecated version: `1.2.8`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/15", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/15/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/15/events", "html_url": "https://github.com/tantale/deprecated/issues/15", "id": 561947272, "node_id": "MDU6SXNzdWU1NjE5NDcyNzI=", "number": 15, "title": "Library does not respect warning filters", "user": {"login": "anuppari", "id": 3847301, "node_id": "MDQ6VXNlcjM4NDczMDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3847301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anuppari", "html_url": "https://github.com/anuppari", "followers_url": "https://api.github.com/users/anuppari/followers", "following_url": "https://api.github.com/users/anuppari/following{/other_user}", "gists_url": "https://api.github.com/users/anuppari/gists{/gist_id}", "starred_url": "https://api.github.com/users/anuppari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anuppari/subscriptions", "organizations_url": "https://api.github.com/users/anuppari/orgs", "repos_url": "https://api.github.com/users/anuppari/repos", "events_url": "https://api.github.com/users/anuppari/events{/privacy}", "received_events_url": "https://api.github.com/users/anuppari/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/tantale/deprecated/milestones/4", "html_url": "https://github.com/tantale/deprecated/milestone/4", "labels_url": "https://api.github.com/repos/tantale/deprecated/milestones/4/labels", "id": 5093904, "node_id": "MDk6TWlsZXN0b25lNTA5MzkwNA==", "number": 4, "title": "1.2.8", "description": null, "creator": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2020-02-11T12:46:02Z", "updated_at": "2020-02-22T18:05:49Z", "due_on": null, "closed_at": null}, "comments": 4, "created_at": "2020-02-08T01:17:48Z", "updated_at": "2020-02-22T17:04:28Z", "closed_at": "2020-02-22T17:04:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\n\r\nWhen [warning filters](https://docs.python.org/3.6/library/warnings.html#the-warnings-filter) are applied, I'd expect the warnings to be suppressed.\r\n\r\n```python\r\nimport warnings\r\nfrom deprecated import deprecated\r\n\r\nwarnings.simplefilter(\"ignore\")\r\n\r\n@deprecated(version='1.2.1', reason=\"deprecated function\")\r\ndef fun():\r\n    print(\"fun\")\r\n\r\nfun()\r\n```\r\n\r\n### Actual Behavior\r\n\r\nThe script emits a warning message:\r\n\r\n```bash\r\ntest_dep.py:10: DeprecationWarning: Call to deprecated function (or staticmethod) fun. (deprecated function) -- Deprecated since version 1.2.1.\r\n  fun()\r\nfun\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.6.9\r\n* Deprecated version: 1.2.7\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/14", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/14/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/14/events", "html_url": "https://github.com/tantale/deprecated/issues/14", "id": 527306914, "node_id": "MDU6SXNzdWU1MjczMDY5MTQ=", "number": 14, "title": "please publish 1.2.7 release to conda", "user": {"login": "Tagar", "id": 3013418, "node_id": "MDQ6VXNlcjMwMTM0MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/3013418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tagar", "html_url": "https://github.com/Tagar", "followers_url": "https://api.github.com/users/Tagar/followers", "following_url": "https://api.github.com/users/Tagar/following{/other_user}", "gists_url": "https://api.github.com/users/Tagar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tagar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tagar/subscriptions", "organizations_url": "https://api.github.com/users/Tagar/orgs", "repos_url": "https://api.github.com/users/Tagar/repos", "events_url": "https://api.github.com/users/Tagar/events{/privacy}", "received_events_url": "https://api.github.com/users/Tagar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-11-22T16:55:43Z", "updated_at": "2019-12-20T23:01:24Z", "closed_at": "2019-12-20T23:01:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://anaconda.org/conda-forge/deprecated\r\n\r\nLatest version there is still 1.2.6\r\n\r\nPlease publish 1.2.7 release to conda\r\n\r\nThank you\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/11", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/11/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/11/events", "html_url": "https://github.com/tantale/deprecated/issues/11", "id": 472831562, "node_id": "MDU6SXNzdWU0NzI4MzE1NjI=", "number": 11, "title": "Packaging deprecated into Fedora", "user": {"login": "phracek", "id": 3416672, "node_id": "MDQ6VXNlcjM0MTY2NzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/3416672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phracek", "html_url": "https://github.com/phracek", "followers_url": "https://api.github.com/users/phracek/followers", "following_url": "https://api.github.com/users/phracek/following{/other_user}", "gists_url": "https://api.github.com/users/phracek/gists{/gist_id}", "starred_url": "https://api.github.com/users/phracek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phracek/subscriptions", "organizations_url": "https://api.github.com/users/phracek/orgs", "repos_url": "https://api.github.com/users/phracek/repos", "events_url": "https://api.github.com/users/phracek/events{/privacy}", "received_events_url": "https://api.github.com/users/phracek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-25T12:15:21Z", "updated_at": "2019-08-01T14:44:19Z", "closed_at": "2019-08-01T14:44:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like this project is not packaged in Fedora.\r\nDo you plan to package it into Fedora?\r\nDo you think it would be possible to add Fedora RPM spec file into this repository?\r\n\r\nWe have a project https://packit.dev/, which would automate it a bit once here is a configuration file `.packit.yaml`\r\nWhat do you think about it?\r\n\r\nI would be glad for any kind of response.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/10", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/10/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/10/events", "html_url": "https://github.com/tantale/deprecated/issues/10", "id": 469551448, "node_id": "MDU6SXNzdWU0Njk1NTE0NDg=", "number": 10, "title": "Missing git tag for 1.2.6 release", "user": {"login": "felixonmars", "id": 1006477, "node_id": "MDQ6VXNlcjEwMDY0Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1006477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixonmars", "html_url": "https://github.com/felixonmars", "followers_url": "https://api.github.com/users/felixonmars/followers", "following_url": "https://api.github.com/users/felixonmars/following{/other_user}", "gists_url": "https://api.github.com/users/felixonmars/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixonmars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixonmars/subscriptions", "organizations_url": "https://api.github.com/users/felixonmars/orgs", "repos_url": "https://api.github.com/users/felixonmars/repos", "events_url": "https://api.github.com/users/felixonmars/events{/privacy}", "received_events_url": "https://api.github.com/users/felixonmars/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-18T03:18:33Z", "updated_at": "2019-07-18T21:40:18Z", "closed_at": "2019-07-18T21:40:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to keep PyPI releases and git tags in sync :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/9", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/9/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/9/events", "html_url": "https://github.com/tantale/deprecated/issues/9", "id": 464144456, "node_id": "MDU6SXNzdWU0NjQxNDQ0NTY=", "number": 9, "title": "Tests fail with wrapt<1.10", "user": {"login": "douardda", "id": 1496354, "node_id": "MDQ6VXNlcjE0OTYzNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1496354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/douardda", "html_url": "https://github.com/douardda", "followers_url": "https://api.github.com/users/douardda/followers", "following_url": "https://api.github.com/users/douardda/following{/other_user}", "gists_url": "https://api.github.com/users/douardda/gists{/gist_id}", "starred_url": "https://api.github.com/users/douardda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/douardda/subscriptions", "organizations_url": "https://api.github.com/users/douardda/orgs", "repos_url": "https://api.github.com/users/douardda/repos", "events_url": "https://api.github.com/users/douardda/events{/privacy}", "received_events_url": "https://api.github.com/users/douardda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-04T08:48:27Z", "updated_at": "2019-07-06T13:08:27Z", "closed_at": "2019-07-06T13:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Current setup.py express the dependency on wrapt as:\r\n```\r\n install_requires=[\r\n        'wrapt < 2, >= 1',\r\n    ],\r\n```\r\n\r\nHowever using wrapt 1.9.0 (since it's the current version available on debian stretch) fails with:\r\n\r\n```\r\n____________________ ERROR collecting tests/test.py _____________________\r\ntests/test.py:4: in <module>\r\n    import deprecated\r\ndeprecated/__init__.py:13: in <module>\r\n    from deprecated.classic import deprecated\r\ndeprecated/classic.py:18: in <module>\r\n    class ClassicAdapter(wrapt.AdapterFactory):\r\nE   AttributeError: module 'wrapt' has no attribute 'AdapterFactory'\r\n```\r\n(as well as in other tests).\r\n\r\nUsing wrapt 1.10+ works as expected.\r\n\r\n* Python version: 3.5\r\n* Deprecated version: 3dc742c571de7cebbbdaaf4c554f2f36fc61b3db\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/6", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/6/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/6/events", "html_url": "https://github.com/tantale/deprecated/issues/6", "id": 414419620, "node_id": "MDU6SXNzdWU0MTQ0MTk2MjA=", "number": 6, "title": "Using deprecated with C++ classes wrapped via pybind11", "user": {"login": "parejkoj", "id": 1606089, "node_id": "MDQ6VXNlcjE2MDYwODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1606089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parejkoj", "html_url": "https://github.com/parejkoj", "followers_url": "https://api.github.com/users/parejkoj/followers", "following_url": "https://api.github.com/users/parejkoj/following{/other_user}", "gists_url": "https://api.github.com/users/parejkoj/gists{/gist_id}", "starred_url": "https://api.github.com/users/parejkoj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parejkoj/subscriptions", "organizations_url": "https://api.github.com/users/parejkoj/orgs", "repos_url": "https://api.github.com/users/parejkoj/repos", "events_url": "https://api.github.com/users/parejkoj/events{/privacy}", "received_events_url": "https://api.github.com/users/parejkoj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/tantale/deprecated/milestones/3", "html_url": "https://github.com/tantale/deprecated/milestone/3", "labels_url": "https://api.github.com/repos/tantale/deprecated/milestones/3/labels", "id": 4094388, "node_id": "MDk6TWlsZXN0b25lNDA5NDM4OA==", "number": 3, "title": "v1.2.5", "description": null, "creator": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2019-02-27T21:55:22Z", "updated_at": "2019-07-18T21:43:55Z", "due_on": null, "closed_at": "2019-07-18T21:43:55Z"}, "comments": 7, "created_at": "2019-02-26T03:56:59Z", "updated_at": "2019-03-01T13:36:11Z", "closed_at": "2019-02-28T13:02:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "We plan to use `deprecated` with our mixed C++/python codebase, including using it to decorate C++ functions and classes at the python level, so that python users see deprecation warnings (instead of just seeing them at compile time). However, there's an odd interaction between `pybind11` and `deprecated` when marking methods of classes as deprecated.\r\n\r\nPybind11-wrapped classes report the `type` of their methods as `<instanceMethod>`, not `<function>` in python. Thus the `deprecated` code at `classic.py:225` will register False and it will fall into the `else: raise TypeError()`. One possible solution to this would be for that `elif` on line 225 to read `elif inspect.isfunction(wrapped) or inspect.ismethod(wrapped):`. I'm not sure whether this is the best approach though.\r\n\r\n@ktlim and @TallJimbo would be able to say more about the details of the pybind11 side of things.\r\n\r\nLSST's deprecation guidelines are [online here](https://developer.lsst.io/stack/deprecating-interfaces.html#pybind11-deprecation), and the initial sketch of updates to that to support deprecating methods of classes is in [this PR](https://github.com/lsst-dm/dm_dev_guide/pull/308), which spawned this Issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/4", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/4/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/4/events", "html_url": "https://github.com/tantale/deprecated/issues/4", "id": 374965276, "node_id": "MDU6SXNzdWUzNzQ5NjUyNzY=", "number": 4, "title": "TypeError in deprecated class because of arguments given to __new__", "user": {"login": "MatthiasKohl", "id": 344856, "node_id": "MDQ6VXNlcjM0NDg1Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/344856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthiasKohl", "html_url": "https://github.com/MatthiasKohl", "followers_url": "https://api.github.com/users/MatthiasKohl/followers", "following_url": "https://api.github.com/users/MatthiasKohl/following{/other_user}", "gists_url": "https://api.github.com/users/MatthiasKohl/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthiasKohl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthiasKohl/subscriptions", "organizations_url": "https://api.github.com/users/MatthiasKohl/orgs", "repos_url": "https://api.github.com/users/MatthiasKohl/repos", "events_url": "https://api.github.com/users/MatthiasKohl/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthiasKohl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-10-29T11:10:53Z", "updated_at": "2018-10-31T21:49:56Z", "closed_at": "2018-10-31T21:49:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\nNo exception, returns class as expected.\r\n\r\n```python\r\n# Paste a minimal example that causes the problem.\r\n@deprecated('kwargs class')\r\nclass ClassKwargs(object):\r\n    def __init__(self, a=5):\r\n        super(ClassKwargs, self).__init__()\r\n        self.state = a\r\n\r\n    def method(self):\r\n        return self.state\r\n        \r\nClassKwargs(6)\r\n```\r\n\r\n### Actual Behavior\r\nNot complete traceback but most important part:\r\n\r\n```pytb\r\n    ClassKwargs(6)\r\n  File \"/home/matt/miniconda3/envs/df/lib/python3.5/site-packages/deprecated/classic.py\", line 104, in wrapped_cls\r\n    return old_new1(*args, **kwargs)\r\nTypeError: object() takes no parameters\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: tested on 2.7, 3.5, 3.6, 3.7\r\n* Deprecated version: 1.2.3\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/3", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/3/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/3/events", "html_url": "https://github.com/tantale/deprecated/issues/3", "id": 359592862, "node_id": "MDU6SXNzdWUzNTk1OTI4NjI=", "number": 3, "title": "`deprecated.sphinx` decorators don't update the docstring", "user": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/tantale/deprecated/milestones/2", "html_url": "https://github.com/tantale/deprecated/milestone/2", "labels_url": "https://api.github.com/repos/tantale/deprecated/milestones/2/labels", "id": 3649530, "node_id": "MDk6TWlsZXN0b25lMzY0OTUzMA==", "number": 2, "title": "1.2.3", "description": null, "creator": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2018-09-12T18:08:16Z", "updated_at": "2019-07-18T21:43:54Z", "due_on": null, "closed_at": "2019-07-18T21:43:54Z"}, "comments": 1, "created_at": "2018-09-12T18:07:40Z", "updated_at": "2018-09-12T18:29:32Z", "closed_at": "2018-09-12T18:29:32Z", "author_association": "OWNER", "active_lock_reason": null, "body": "### Expected Behavior\r\n\r\nIn the following example, the `deprecated.sphinx.deprecated` must update the docstring of the class:\r\n\r\n```python\r\nfrom deprecated.sphinx import deprecated\r\n\r\n\r\n@deprecated(reason=\"It is deprecated\", version=\"1.2.3\")\r\nclass Foo:\r\n    \"\"\"\r\n    Description of Foo\r\n    \"\"\"\r\n```\r\n\r\nThe expected docstring should be something like:\r\n\r\n```\r\nDescription of Foo\r\n\r\n\r\n.. deprecated:: 1.2.3\r\n   It is deprecated\r\n```\r\n\r\n### Actual Behavior\r\n\r\nThe actual docstring is:\r\n\r\n```\r\nDescription of Foo\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3\r\n* Deprecated version: 1.2.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/tantale/deprecated/issues/2", "repository_url": "https://api.github.com/repos/tantale/deprecated", "labels_url": "https://api.github.com/repos/tantale/deprecated/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/tantale/deprecated/issues/2/comments", "events_url": "https://api.github.com/repos/tantale/deprecated/issues/2/events", "html_url": "https://github.com/tantale/deprecated/issues/2", "id": 338837200, "node_id": "MDU6SXNzdWUzMzg4MzcyMDA=", "number": 2, "title": "KeyError: 'adapter' when subclassing class that's deprecated", "user": {"login": "Fenkiou", "id": 3717417, "node_id": "MDQ6VXNlcjM3MTc0MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3717417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fenkiou", "html_url": "https://github.com/Fenkiou", "followers_url": "https://api.github.com/users/Fenkiou/followers", "following_url": "https://api.github.com/users/Fenkiou/following{/other_user}", "gists_url": "https://api.github.com/users/Fenkiou/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fenkiou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fenkiou/subscriptions", "organizations_url": "https://api.github.com/users/Fenkiou/orgs", "repos_url": "https://api.github.com/users/Fenkiou/repos", "events_url": "https://api.github.com/users/Fenkiou/events{/privacy}", "received_events_url": "https://api.github.com/users/Fenkiou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 755885560, "node_id": "MDU6TGFiZWw3NTU4ODU1NjA=", "url": "https://api.github.com/repos/tantale/deprecated/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/tantale/deprecated/milestones/1", "html_url": "https://github.com/tantale/deprecated/milestone/1", "labels_url": "https://api.github.com/repos/tantale/deprecated/milestones/1/labels", "id": 3480960, "node_id": "MDk6TWlsZXN0b25lMzQ4MDk2MA==", "number": 1, "title": "1.1.2 & 1.2.1", "description": null, "creator": {"login": "tantale", "id": 6475294, "node_id": "MDQ6VXNlcjY0NzUyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6475294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tantale", "html_url": "https://github.com/tantale", "followers_url": "https://api.github.com/users/tantale/followers", "following_url": "https://api.github.com/users/tantale/following{/other_user}", "gists_url": "https://api.github.com/users/tantale/gists{/gist_id}", "starred_url": "https://api.github.com/users/tantale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tantale/subscriptions", "organizations_url": "https://api.github.com/users/tantale/orgs", "repos_url": "https://api.github.com/users/tantale/repos", "events_url": "https://api.github.com/users/tantale/events{/privacy}", "received_events_url": "https://api.github.com/users/tantale/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2018-07-08T15:27:35Z", "updated_at": "2019-07-18T21:43:54Z", "due_on": null, "closed_at": "2019-07-18T21:43:54Z"}, "comments": 6, "created_at": "2018-07-06T07:40:00Z", "updated_at": "2018-09-04T19:07:33Z", "closed_at": "2018-09-04T19:07:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Expected Behavior\r\nSubclass a class that is marked as deprecated shouldn't raises an error.\r\n\r\n### Actual Behavior\r\n\r\nSubclassing a class that's deprecated raises a `TypeError`\r\n\r\n```pytb\r\n>>> from deprecated import deprecated\r\n>>> @deprecated\r\n... class MyClass: pass\r\n...\r\n>>> class MyOtherClass(MyClass): pass\r\n...\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/alex/.virtualenvs/uptime-backend/lib/python3.6/site-packages/wrapt/decorators.py\", line 128, in __init__\r\n    adapter = kwargs.pop('adapter')\r\nKeyError: 'adapter'\r\n>>>\r\n\r\n```\r\n\r\n### Environment\r\n\r\n* Python version: 3.6\r\n* Deprecated version: 1.2.0\r\n\r\nSorry for the duplicate issue with https://github.com/vrcmarcos/python-deprecated/issues/7 but I saw that this is here that I should have opened the issue as the library was renamed.\r\n", "performed_via_github_app": null, "score": 1.0}]}