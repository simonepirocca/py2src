{"total_count": 298, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/674", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/674/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/674/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/674/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/674", "id": 648460188, "node_id": "MDU6SXNzdWU2NDg0NjAxODg=", "number": 674, "title": "Queue Trigger throwing errors when I insert text into queue via Python. Works fine if I insert same string via Storage Explorer UI.", "user": {"login": "SuperFexy", "id": 11542909, "node_id": "MDQ6VXNlcjExNTQyOTA5", "avatar_url": "https://avatars0.githubusercontent.com/u/11542909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SuperFexy", "html_url": "https://github.com/SuperFexy", "followers_url": "https://api.github.com/users/SuperFexy/followers", "following_url": "https://api.github.com/users/SuperFexy/following{/other_user}", "gists_url": "https://api.github.com/users/SuperFexy/gists{/gist_id}", "starred_url": "https://api.github.com/users/SuperFexy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SuperFexy/subscriptions", "organizations_url": "https://api.github.com/users/SuperFexy/orgs", "repos_url": "https://api.github.com/users/SuperFexy/repos", "events_url": "https://api.github.com/users/SuperFexy/events{/privacy}", "received_events_url": "https://api.github.com/users/SuperFexy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-30T20:09:00Z", "updated_at": "2020-07-02T01:55:10Z", "closed_at": "2020-07-02T01:54:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nQueue Trigger\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.25\r\nazure-functions==1.2.1\r\nazure-storage-common==2.1.0\r\nazure-storage-queue==2.1.0\r\ncertifi==2020.4.5.1\r\ncffi==1.14.0\r\nchardet==3.0.4\r\ncryptography==2.9.2\r\nidna==2.9\r\npycparser==2.20\r\npymongo==3.10.1\r\npython-dateutil==2.8.1\r\nrequests==2.23.0\r\nsix==1.15.0\r\nurllib3==1.25.9\r\n\r\n### What problem was encountered?\r\nI can manually insert an object (`{\"keyword\": \"chicken recipes\", \"correlationId\": \"20200630123500\"}`) into a queue via the Storage Explorer UI and my code runs fine. If I insert that same object into the queue via my Python code:\r\n\r\n```\r\nfrom azure.storage.queue import QueueService\r\nimport json\r\n\r\nd = {\"keyword\": \"chicken recipes\", \"correlationId\": \"20200630123500\"}\r\n\r\nqueue_service = QueueService(account_name=os.environ[\"AzureQueueServiceAccountName\"], account_key=os.environ[\"AzureQueueServiceAccountKey\"])\r\n\r\nqueue_service.put_message('score-search-keyword', json.dumps(d))\r\n```\r\n\r\nI'll get an error with the following output:\r\n[6/30/2020 3:47:47 PM] Executing 'Functions.SocialFanoutQueueTrigger' (Reason='New queue message detected on 'score-social'.', Id=a465c694-573f-4499-b565-fa5320fe6707)\r\n[6/30/2020 3:47:47 PM] Trigger Details: MessageId: 30d98577-4a44-4a86-a74c-dbc147271836, DequeueCount: 1, InsertionTime: 2020-06-30T15:47:45.000+00:00\r\n[6/30/2020 3:47:47 PM] Executed 'Functions.SocialFanoutQueueTrigger' (Failed, Id=a465c694-573f-4499-b565-fa5320fe6707)\r\n**[6/30/2020 3:47:47 PM] System.Private.CoreLib: Exception while executing function: Functions.SocialFanoutQueueTrigger. Microsoft.Azure.WebJobs.Host: Exception binding parameter 'msg'. System.Private.CoreLib: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.**\r\n\r\n### Have you found a mitigation/solution?\r\nI haven't found a way to get around it yet. Thanks!\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/673", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/673/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/673/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/673/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/673", "id": 648071665, "node_id": "MDU6SXNzdWU2NDgwNzE2NjU=", "number": 673, "title": "Unable to upload/download blob  from spa when deployed", "user": {"login": "zorzigio", "id": 17679872, "node_id": "MDQ6VXNlcjE3Njc5ODcy", "avatar_url": "https://avatars2.githubusercontent.com/u/17679872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zorzigio", "html_url": "https://github.com/zorzigio", "followers_url": "https://api.github.com/users/zorzigio/followers", "following_url": "https://api.github.com/users/zorzigio/following{/other_user}", "gists_url": "https://api.github.com/users/zorzigio/gists{/gist_id}", "starred_url": "https://api.github.com/users/zorzigio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zorzigio/subscriptions", "organizations_url": "https://api.github.com/users/zorzigio/orgs", "repos_url": "https://api.github.com/users/zorzigio/repos", "events_url": "https://api.github.com/users/zorzigio/events{/privacy}", "received_events_url": "https://api.github.com/users/zorzigio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-30T10:46:16Z", "updated_at": "2020-06-30T20:28:05Z", "closed_at": "2020-06-30T20:28:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n`azure-storage-blob==12.3.1`\r\n\r\n### What problem was encountered?\r\nTrying to upload/download a blob from a spa produces the following error\r\n\r\n```xml\r\n<Error\r\n>\r\n<Code\r\n>\r\nAuthenticationFailed\r\n</Code\r\n>\r\n<Message\r\n>\r\nServer failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:3b05eea5-101e-00ba-71c8-4ec75f000000\r\nTime:2020-06-30T10:23:13.2420635Z\r\n</Message\r\n>\r\n<AuthenticationErrorDetail\r\n>\r\nSignature did not match. String to sign used was r\r\n2020-06-30T09:23:13Z\r\n2020-06-30T15:23:13Z\r\n/blob/account/container//Natural_Language_Processing (5).pdf\r\n\r\n2019-07-07\r\nb\r\n\r\n</AuthenticationErrorDetail\r\n>\r\n</Error>\r\n```\r\n\r\nThe javascript code responsible for the upload is\r\n\r\n```javascript\r\n// upload to Azure\r\nconst blobName = file.name;\r\nconst accountSas = resp.data.SAS;\r\nconst account = resp.data.account;\r\nconst containerName = resp.data.container;\r\nconst anonymousCredential = new AnonymousCredential();\r\nconst blobServiceClient = new BlobServiceClient(\r\n    `https://${account}.blob.core.windows.net?${accountSas}`,\r\n    anonymousCredential\r\n);\r\n// Create a container\r\nconst containerClient = blobServiceClient.getContainerClient(\r\n    containerName\r\n);\r\n// Create a blob\r\nconst content = file;\r\nconst blockBlobClient = containerClient.getBlockBlobClient(blobName);\r\nconst uploadBlobResponse = await blockBlobClient.upload(\r\n    content,\r\n    Buffer.byteLength(content)\r\n);\r\n```\r\n\r\nwhile the backend Python code for the SAS token generation is the following\r\n\r\n```python\r\nif content['up_down'] == 'download':\r\n    permission = BlobSasPermissions(read=True)\r\nelse:\r\n    permission = BlobSasPermissions(write=True)\r\n\r\naccount_name = os.getenv(\"STORAGE_ACCOUNT_NAME\")\r\ncontainer_name = metadata.get_container_name()\r\nblob_name = content['filePath']\r\nexpiry = datetime.utcnow() + timedelta(hours=5)\r\n\r\noptions = {\r\n    'account_name': account_name,\r\n    'container_name': container_name,\r\n    'blob_name': blob_name,\r\n    'account_key': os.getenv(\"STORAGE_ACCESS_KEY\"),\r\n    'permission': permission,\r\n    'expiry': expiry\r\n}\r\n\r\nSAS = generate_blob_sas(**options)\r\n```\r\n\r\n\r\nThe problem appears when the spa is deployed on Azure Kubernetes, but the code works fine when deployed locally.\r\n\r\nAs a check, with the request for the SAS token I am also returning the `STORAGE_ACCESS_KEY` which seems to match the original one.\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/671", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/671/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/671/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/671/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/671", "id": 645832942, "node_id": "MDU6SXNzdWU2NDU4MzI5NDI=", "number": 671, "title": "ModuleNotFoundError: No module named 'azure.storage.filedatalake' python3.8", "user": {"login": "codecando-x", "id": 34703381, "node_id": "MDQ6VXNlcjM0NzAzMzgx", "avatar_url": "https://avatars0.githubusercontent.com/u/34703381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codecando-x", "html_url": "https://github.com/codecando-x", "followers_url": "https://api.github.com/users/codecando-x/followers", "following_url": "https://api.github.com/users/codecando-x/following{/other_user}", "gists_url": "https://api.github.com/users/codecando-x/gists{/gist_id}", "starred_url": "https://api.github.com/users/codecando-x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codecando-x/subscriptions", "organizations_url": "https://api.github.com/users/codecando-x/orgs", "repos_url": "https://api.github.com/users/codecando-x/repos", "events_url": "https://api.github.com/users/codecando-x/events{/privacy}", "received_events_url": "https://api.github.com/users/codecando-x/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-25T20:31:36Z", "updated_at": "2020-06-25T23:08:20Z", "closed_at": "2020-06-25T23:08:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nazure-storage-file-datalake==12.0.2\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n```\r\n>pip3.8.exe freeze | sls azure\r\nazure-common==1.1.25\r\nazure-core==1.6.0\r\nazure-storage-blob==12.3.2\r\nazure-storage-common==2.1.0\r\nazure-storage-file==2.1.0\r\nazure-storage-file-datalake==12.0.2\r\n```\r\n\r\n\r\n### What problem was encountered?\r\n```\r\n>python3.8.exe .\\test-datalake.py\r\nTraceback (most recent call last):\r\n  File \".\\test-datalake.py\", line 2, in <module>\r\n    from azure.storage.filedatalake import DataLakeServiceClient\r\nModuleNotFoundError: No module named 'azure.storage.filedatalake'\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/667", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/667/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/667/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/667", "id": 635800056, "node_id": "MDU6SXNzdWU2MzU4MDAwNTY=", "number": 667, "title": "ModuleNotFoundError: No module named 'azure.storage.blob'", "user": {"login": "planetmarshall", "id": 422117, "node_id": "MDQ6VXNlcjQyMjExNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/422117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/planetmarshall", "html_url": "https://github.com/planetmarshall", "followers_url": "https://api.github.com/users/planetmarshall/followers", "following_url": "https://api.github.com/users/planetmarshall/following{/other_user}", "gists_url": "https://api.github.com/users/planetmarshall/gists{/gist_id}", "starred_url": "https://api.github.com/users/planetmarshall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/planetmarshall/subscriptions", "organizations_url": "https://api.github.com/users/planetmarshall/orgs", "repos_url": "https://api.github.com/users/planetmarshall/repos", "events_url": "https://api.github.com/users/planetmarshall/events{/privacy}", "received_events_url": "https://api.github.com/users/planetmarshall/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-09T22:31:44Z", "updated_at": "2020-06-25T04:47:50Z", "closed_at": "2020-06-25T04:47:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n```\r\nazure-common==1.1.25\r\nazure-core==1.6.0\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.6\r\nazure-devops==6.0.0b2\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==12.3.1\r\nazure-storage-common==2.1.0\r\nazure-storage-file==2.1.0\r\n```\r\n\r\n### What problem was encountered?\r\n\r\nReceived the following error: `ModuleNotFoundError: No module named 'azure.storage.blob'` when executing the following line in a Python script\r\n\r\n`from azure.storage.blob import BlobServiceClient, BlobClient, ContainerClient`\r\n\r\nThe script is executing on a hosted Microsoft VM on Azure Pipelines with Python 3.8.1\r\n\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nNo.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/666", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/666/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/666/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/666/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/666", "id": 632780759, "node_id": "MDU6SXNzdWU2MzI3ODA3NTk=", "number": 666, "title": "Import errors with BlockBlobService", "user": {"login": "kmair", "id": 42825212, "node_id": "MDQ6VXNlcjQyODI1MjEy", "avatar_url": "https://avatars0.githubusercontent.com/u/42825212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmair", "html_url": "https://github.com/kmair", "followers_url": "https://api.github.com/users/kmair/followers", "following_url": "https://api.github.com/users/kmair/following{/other_user}", "gists_url": "https://api.github.com/users/kmair/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmair/subscriptions", "organizations_url": "https://api.github.com/users/kmair/orgs", "repos_url": "https://api.github.com/users/kmair/repos", "events_url": "https://api.github.com/users/kmair/events{/privacy}", "received_events_url": "https://api.github.com/users/kmair/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-06T22:44:00Z", "updated_at": "2020-06-25T04:49:15Z", "closed_at": "2020-06-25T04:49:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nOnly the BlockBlobService importing issue. Rest are being correctly imported\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-core==1.6.0\r\nazure-storage-blob==12.3.1\r\n\r\n### What problem was encountered?\r\nOn trying to run:\r\nfrom azure.storage.blob import BlockBlobService\r\n\r\nResults in:\r\nImportError: cannot import name 'BlockBlobService' from 'azure.storage.blob' (C:\\Users\\..\\azure\\storage\\blob\\__init__.py)\r\n\r\n### Have you found a mitigation/solution?\r\nCan't solve the import error\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/665", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/665/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/665/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/665/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/665", "id": 628960085, "node_id": "MDU6SXNzdWU2Mjg5NjAwODU=", "number": 665, "title": "QueueClient.receive_messages() receives more than one message", "user": {"login": "markkuleinio", "id": 25136274, "node_id": "MDQ6VXNlcjI1MTM2Mjc0", "avatar_url": "https://avatars0.githubusercontent.com/u/25136274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markkuleinio", "html_url": "https://github.com/markkuleinio", "followers_url": "https://api.github.com/users/markkuleinio/followers", "following_url": "https://api.github.com/users/markkuleinio/following{/other_user}", "gists_url": "https://api.github.com/users/markkuleinio/gists{/gist_id}", "starred_url": "https://api.github.com/users/markkuleinio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markkuleinio/subscriptions", "organizations_url": "https://api.github.com/users/markkuleinio/orgs", "repos_url": "https://api.github.com/users/markkuleinio/repos", "events_url": "https://api.github.com/users/markkuleinio/events{/privacy}", "received_events_url": "https://api.github.com/users/markkuleinio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "xiafu-msft", "id": 49707495, "node_id": "MDQ6VXNlcjQ5NzA3NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/49707495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiafu-msft", "html_url": "https://github.com/xiafu-msft", "followers_url": "https://api.github.com/users/xiafu-msft/followers", "following_url": "https://api.github.com/users/xiafu-msft/following{/other_user}", "gists_url": "https://api.github.com/users/xiafu-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiafu-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiafu-msft/subscriptions", "organizations_url": "https://api.github.com/users/xiafu-msft/orgs", "repos_url": "https://api.github.com/users/xiafu-msft/repos", "events_url": "https://api.github.com/users/xiafu-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/xiafu-msft/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xiafu-msft", "id": 49707495, "node_id": "MDQ6VXNlcjQ5NzA3NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/49707495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiafu-msft", "html_url": "https://github.com/xiafu-msft", "followers_url": "https://api.github.com/users/xiafu-msft/followers", "following_url": "https://api.github.com/users/xiafu-msft/following{/other_user}", "gists_url": "https://api.github.com/users/xiafu-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiafu-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiafu-msft/subscriptions", "organizations_url": "https://api.github.com/users/xiafu-msft/orgs", "repos_url": "https://api.github.com/users/xiafu-msft/repos", "events_url": "https://api.github.com/users/xiafu-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/xiafu-msft/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-02T07:13:42Z", "updated_at": "2020-07-28T23:57:02Z", "closed_at": "2020-07-28T23:57:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nQueue\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-queue==12.1.1\r\nazure-core==1.5.0\r\n\r\n### What problem was encountered?\r\n`QueueClient.receive_messages(messages_per_page=1)` returns more than one message from the queue.\r\n\r\n`help(QueueClient.receive_messages)` says:\r\n\r\n```\r\nHelp on function receive_messages in module azure.storage.queue._queue_client:\r\n\r\nreceive_messages(self, **kwargs)\r\n    Removes one or more messages from the front of the queue.\r\n...\r\n    :keyword int messages_per_page:\r\n        A nonzero integer value that specifies the number of\r\n        messages to retrieve from the queue, up to a maximum of 32. If\r\n        fewer are visible, the visible messages are returned. By default,\r\n        a single message is retrieved from the queue with this operation.\r\n```\r\n\r\nTesting code:\r\n\r\n```\r\n>>> from azure.storage.queue import QueueClient\r\n>>> q = QueueClient(account_url=\"https://the_account_that_is_used.queue.core.windows.net\", credential=\"xxx\", queue_name=\"receive-test-2020-06-02\", connection_timeout=10)\r\n>>> q.get_queue_properties()\r\n{'name': 'receive-test-2020-06-02', 'metadata': {}, 'approximate_message_count': 0}\r\n>>> q.send_message(\"test1\")\r\n{'id': '28dd2ab0-ccdc-4f8e-a8a1-be6a8f980b21', 'inserted_on': datetime.datetime(2020, 6, 2, 6, 43, 9, tzinfo=datetime.timezone.utc), 'expires_on': datetime.datetime(2020, 6, 9, 6, 43, 9, tzinfo=datetime.timezone.utc), 'dequeue_count': None, 'content': 'test1', 'pop_receipt': 'AgAAAAMAAAAAAAAAkutnFKk41gE=', 'next_visible_on': datetime.datetime(2020, 6, 2, 6, 43, 9, tzinfo=datetime.timezone.utc)}\r\n>>> q.send_message(\"test2\")\r\n{'id': '5944194a-1643-4614-9a5b-102cc2466544', 'inserted_on': datetime.datetime(2020, 6, 2, 6, 43, 17, tzinfo=datetime.timezone.utc), 'expires_on': datetime.datetime(2020, 6, 9, 6, 43, 17, tzinfo=datetime.timezone.utc), 'dequeue_count': None, 'content': 'test2', 'pop_receipt': 'AgAAAAMAAAAAAAAA2TX4GKk41gE=', 'next_visible_on': datetime.datetime(2020, 6, 2, 6, 43, 17, tzinfo=datetime.timezone.utc)}\r\n>>> q.send_message(\"test3\")\r\n{'id': 'd61739d4-39f8-463c-b7f2-d71d5e8b1c2a', 'inserted_on': datetime.datetime(2020, 6, 2, 6, 43, 20, tzinfo=datetime.timezone.utc), 'expires_on': datetime.datetime(2020, 6, 9, 6, 43, 20, tzinfo=datetime.timezone.utc), 'dequeue_count': None, 'content': 'test3', 'pop_receipt': 'AgAAAAMAAAAAAAAAGeKTGqk41gE=', 'next_visible_on': datetime.datetime(2020, 6, 2, 6, 43, 20, tzinfo=datetime.timezone.utc)}\r\n>>>\r\n>>> msgs = q.receive_messages(visibility_timeout=120, messages_per_page=1)\r\n>>> for msg_batch in msgs.by_page():\r\n...     for msg in msg_batch:\r\n...             print(msg.content)\r\n...\r\ntest1\r\ntest2\r\ntest3\r\n>>>\r\n```\r\n\r\nAs you can see, all three messages were returned with the single call, even though `messages_per_page` is 1.\r\n\r\n**How do I get only one message from the queue?**\r\n\r\nOne problem in this current state is the `visibility_timeout`: When there are lots of messages in the queue, `receive_messages()` gets them all, and the handling of each message takes a long time, it is hard to tune the `visibility_timeout` to a useful value.\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/660", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/660/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/660/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/660/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/660", "id": 611236583, "node_id": "MDU6SXNzdWU2MTEyMzY1ODM=", "number": 660, "title": "BlockBlobService create_container stops work suddenly", "user": {"login": "cddlyf", "id": 7030833, "node_id": "MDQ6VXNlcjcwMzA4MzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/7030833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cddlyf", "html_url": "https://github.com/cddlyf", "followers_url": "https://api.github.com/users/cddlyf/followers", "following_url": "https://api.github.com/users/cddlyf/following{/other_user}", "gists_url": "https://api.github.com/users/cddlyf/gists{/gist_id}", "starred_url": "https://api.github.com/users/cddlyf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cddlyf/subscriptions", "organizations_url": "https://api.github.com/users/cddlyf/orgs", "repos_url": "https://api.github.com/users/cddlyf/repos", "events_url": "https://api.github.com/users/cddlyf/events{/privacy}", "received_events_url": "https://api.github.com/users/cddlyf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-02T17:27:46Z", "updated_at": "2020-05-02T17:59:26Z", "closed_at": "2020-05-02T17:59:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure==4.0.0\r\nazure-applicationinsights==0.1.0\r\nazure-batch==4.1.3\r\nazure-common==1.1.24\r\nazure-core==1.2.2\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.6\r\nazure-datalake-store==0.0.48\r\nazure-eventgrid==1.3.0\r\nazure-graphrbac==0.40.0\r\nazure-keyvault==1.1.0\r\nazure-loganalytics==0.1.0\r\nazure-mgmt==4.0.0\r\nazure-mgmt-advisor==1.0.1\r\nazure-mgmt-applicationinsights==0.1.1\r\nazure-mgmt-authorization==0.50.0\r\nazure-mgmt-batch==5.0.1\r\nazure-mgmt-batchai==2.0.0\r\nazure-mgmt-billing==0.2.0\r\nazure-mgmt-cdn==3.1.0\r\nazure-mgmt-cognitiveservices==3.0.0\r\nazure-mgmt-commerce==1.0.1\r\nazure-mgmt-compute==4.6.2\r\nazure-mgmt-consumption==2.0.0\r\nazure-mgmt-containerinstance==1.5.0\r\nazure-mgmt-containerregistry==2.8.0\r\nazure-mgmt-containerservice==4.4.0\r\nazure-mgmt-cosmosdb==0.4.1\r\nazure-mgmt-datafactory==0.6.0\r\nazure-mgmt-datalake-analytics==0.6.0\r\nazure-mgmt-datalake-nspkg==3.0.1\r\nazure-mgmt-datalake-store==0.5.0\r\nazure-mgmt-datamigration==1.0.0\r\nazure-mgmt-devspaces==0.1.0\r\nazure-mgmt-devtestlabs==2.2.0\r\nazure-mgmt-dns==2.1.0\r\nazure-mgmt-eventgrid==1.0.0\r\nazure-mgmt-eventhub==2.6.0\r\nazure-mgmt-hanaonazure==0.1.1\r\nazure-mgmt-iotcentral==0.1.0\r\nazure-mgmt-iothub==0.5.0\r\nazure-mgmt-iothubprovisioningservices==0.2.0\r\nazure-mgmt-keyvault==1.1.0\r\nazure-mgmt-loganalytics==0.2.0\r\nazure-mgmt-logic==3.0.0\r\nazure-mgmt-machinelearningcompute==0.4.1\r\nazure-mgmt-managementgroups==0.1.0\r\nazure-mgmt-managementpartner==0.1.1\r\nazure-mgmt-maps==0.1.0\r\nazure-mgmt-marketplaceordering==0.1.0\r\nazure-mgmt-media==1.0.0\r\nazure-mgmt-monitor==0.5.2\r\nazure-mgmt-msi==0.2.0\r\nazure-mgmt-network==2.7.0\r\nazure-mgmt-notificationhubs==2.1.0\r\nazure-mgmt-nspkg==3.0.2\r\nazure-mgmt-policyinsights==0.1.0\r\nazure-mgmt-powerbiembedded==2.0.0\r\nazure-mgmt-rdbms==1.9.0\r\nazure-mgmt-recoveryservices==0.3.0\r\nazure-mgmt-recoveryservicesbackup==0.3.0\r\nazure-mgmt-redis==5.0.0\r\nazure-mgmt-relay==0.1.0\r\nazure-mgmt-reservations==0.2.1\r\nazure-mgmt-resource==2.2.0\r\nazure-mgmt-scheduler==2.0.0\r\nazure-mgmt-search==2.1.0\r\nazure-mgmt-servicebus==0.5.3\r\nazure-mgmt-servicefabric==0.2.0\r\nazure-mgmt-signalr==0.1.1\r\nazure-mgmt-sql==0.9.1\r\nazure-mgmt-storage==2.0.0\r\nazure-mgmt-subscription==0.2.0\r\nazure-mgmt-trafficmanager==0.50.0\r\nazure-mgmt-web==0.35.0\r\nazure-nspkg==3.0.2\r\nazure-servicebus==0.21.1\r\nazure-servicefabric==6.3.0.0\r\nazure-servicemanagement-legacy==0.20.6\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.2\r\nazure-storage-file==1.4.0\r\nazure-storage-queue==1.4.0\r\nazureml==0.2.7\r\nazureml-core==1.0.85.1\r\nazureml-telemetry==1.0.85.1\r\nazureml-train==1.0.85\r\nazureml-train-core==1.0.85\r\nazureml-train-restclients-hyperdrive==1.0.85\r\n\r\n### What problem was encountered?\r\nWhen I use the below code to create_container, error encountered accidentally. Before this problem the same code run successfully for many months. It just throws errors suddenly.\r\n \r\n`blob = BlockBlobService(account, key)\r\nblob.create_container(name, meta, fail_on_exist=False)`\r\n\r\nClient-Request-ID=beadf5dc-8c98-11ea-a763-c8d9d2330dad Retry policy did not allow for a retry: Server-Timestamp=Sat, 02 May 2020 17:17:05 GMT, Server-Request-ID=113173cf-c01e-003f-0aa5-2091a3000000, HTTP status code=403, Exception=Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature. ErrorCode: AuthenticationFailed<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.RequestId:113173cf-c01e-003f-0aa5-2091a3000000Time:2020-05-02T17:17:05.4108190Z</Message><AuthenticationErrorDetail>The MAC signature found in the HTTP request 'btgacCv6Gjh749BuPOcUb5gX6AB1iWH2KAk6pDzcc/8=' is not the same as any computed signature. Server used following string to sign: 'PUTx-ms-client-request-id:beadf5dc-8c98-11ea-a763-c8d9d2330dadx-ms-date:Sat, 02 May 2020 17:17:05 GMTx-ms-meta-cmd:***restype:container'.</AuthenticationErrorDetail></Error>.\r\ncreate_container error:  Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature. ErrorCode: AuthenticationFailed\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:113173cf-c01e-003f-0aa5-2091a3000000\r\nTime:2020-05-02T17:17:05.4108190Z</Message><AuthenticationErrorDetail>The MAC signature found in the HTTP request 'btgacCv6Gjh749BuPOcUb5gX6AB1iWH2KAk6pDzcc/8=' is not the same as any computed signature. Server used following string to sign: 'PUT\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/652", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/652/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/652/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/652/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/652", "id": 563186700, "node_id": "MDU6SXNzdWU1NjMxODY3MDA=", "number": 652, "title": "\u00bfCan I upload a file in memory to Azure File?", "user": {"login": "pobs93", "id": 42253052, "node_id": "MDQ6VXNlcjQyMjUzMDUy", "avatar_url": "https://avatars0.githubusercontent.com/u/42253052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pobs93", "html_url": "https://github.com/pobs93", "followers_url": "https://api.github.com/users/pobs93/followers", "following_url": "https://api.github.com/users/pobs93/following{/other_user}", "gists_url": "https://api.github.com/users/pobs93/gists{/gist_id}", "starred_url": "https://api.github.com/users/pobs93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pobs93/subscriptions", "organizations_url": "https://api.github.com/users/pobs93/orgs", "repos_url": "https://api.github.com/users/pobs93/repos", "events_url": "https://api.github.com/users/pobs93/events{/privacy}", "received_events_url": "https://api.github.com/users/pobs93/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-11T12:52:24Z", "updated_at": "2020-06-09T22:50:08Z", "closed_at": "2020-06-09T22:50:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nFile\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\nazure-storage-file==2.1.0\r\n### What problem was encountered?\r\n\r\nI have created a .zip file in memory. If I write it into a file i can dowload it but I can\u00b4t find any way to upload it from the 'in memory' file\r\n\r\n### Have you found a mitigation/solution?\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/648", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/648/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/648/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/648/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/648", "id": 547722852, "node_id": "MDU6SXNzdWU1NDc3MjI4NTI=", "number": 648, "title": "AttributeError: 'NoneType' object has no attribute 'on_request' when deleting blob", "user": {"login": "fs-jaszczult", "id": 54288080, "node_id": "MDQ6VXNlcjU0Mjg4MDgw", "avatar_url": "https://avatars3.githubusercontent.com/u/54288080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fs-jaszczult", "html_url": "https://github.com/fs-jaszczult", "followers_url": "https://api.github.com/users/fs-jaszczult/followers", "following_url": "https://api.github.com/users/fs-jaszczult/following{/other_user}", "gists_url": "https://api.github.com/users/fs-jaszczult/gists{/gist_id}", "starred_url": "https://api.github.com/users/fs-jaszczult/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fs-jaszczult/subscriptions", "organizations_url": "https://api.github.com/users/fs-jaszczult/orgs", "repos_url": "https://api.github.com/users/fs-jaszczult/repos", "events_url": "https://api.github.com/users/fs-jaszczult/events{/privacy}", "received_events_url": "https://api.github.com/users/fs-jaszczult/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-09T21:05:53Z", "updated_at": "2020-01-21T22:28:06Z", "closed_at": "2020-01-13T14:45:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nazure-storage-blob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.24\r\nazure-core==1.1.1\r\nazure-storage-blob==12.1.0\r\nazure-storage-common==2.1.0\r\n\r\n### What problem was encountered?\r\nI'm working on an azure blob wrapper class for my team members to use and can't get the ContainerClient.delete_blobs() function to work in my delete function. Here's the code throwing the error:\r\n````\r\ndef delete_blob(self, blob_name: str):\r\n        service_client = BlobServiceClient.from_connection_string(self.connect_str)\r\n        container_client = service_client.get_container_client(self.container_name)\r\n        \r\n        # Verify blob file exists\r\n        if self.blob_file_exists(blob_name):\r\n            container_client.delete_blobs(blob_name) # Error on this line\r\n            # Verify blob file has actually been deleted\r\n            if self.blob_file_exists(blob_name):      \r\n                return 0\r\n            else:\r\n                return 1\r\n        else:\r\n            return -1\r\n````\r\nWhen attempting to delete a blob using the steps provided [here](https://docs.microsoft.com/en-us/python/api/azure-storage-blob/azure.storage.blob.containerclient?view=azure-python#delete-blobs--blobs----kwargs-), I get the following error message: \r\n````\r\nTraceback (most recent call last):\r\n  File \"c:\\Users\\TJaszczul\\.vscode\\extensions\\ms-python.python-2020.1.57204\\pythonFiles\\ptvsd_launcher.py\", line 43, in <module>\r\n    main(ptvsdArgs)\r\n  File \"c:\\Users\\TJaszczul\\.vscode\\extensions\\ms-python.python-2020.1.57204\\pythonFiles\\lib\\python\\old_ptvsd\\ptvsd\\__main__.py\", line 432, in main\r\n    run()\r\n  File \"c:\\Users\\TJaszczul\\.vscode\\extensions\\ms-python.python-2020.1.57204\\pythonFiles\\lib\\python\\old_ptvsd\\ptvsd\\__main__.py\", line 316, in run_file\r\n    runpy.run_path(target, run_name='__main__')\r\n  File \"C:\\Python37\\lib\\runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"C:\\Python37\\lib\\runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"C:\\Python37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"c:\\Users\\TJaszczul\\Documents\\GitHub\\fs-automation-python\\Tests\\test_azure_blob.py\", line 25, in <module>\r\n    abo.delete_blob(dest_dir + upload_file_name)\r\n  File \"..\\library\\azure_blob.py\", line 76, in delete_blob\r\n    container_client.delete_blobs(blob_name)\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\core\\tracing\\decorator.py\", line 62, in wrapper_use_tracer\r\n    return func(*args, **kwargs) # type: ignore\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\storage\\blob\\_container_client.py\", line 1094, in delete_blobs\r\n    return self._batch_send(*reqs, **options)\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\storage\\blob\\_shared\\base_client.py\", line 265, in _batch_send\r\n    request, **kwargs\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\core\\pipeline\\_base.py\", line 197, in run\r\n    self._prepare_multipart_mixed_request(request)\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\core\\pipeline\\_base.py\", line 185, in _prepare_multipart_mixed_request\r\n    _ for _ in executor.map(prepare_requests, requests)\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\core\\pipeline\\_base.py\", line 185, in <listcomp>\r\n    _ for _ in executor.map(prepare_requests, requests)\r\n  File \"C:\\Python37\\lib\\concurrent\\futures\\_base.py\", line 598, in result_iterator\r\n    yield fs.pop().result()\r\n  File \"C:\\Python37\\lib\\concurrent\\futures\\_base.py\", line 428, in result\r\n    return self.__get_result()\r\n  File \"C:\\Python37\\lib\\concurrent\\futures\\_base.py\", line 384, in __get_result\r\n    raise self._exception\r\n  File \"C:\\Python37\\lib\\concurrent\\futures\\thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"C:\\Python37\\lib\\site-packages\\azure\\core\\pipeline\\_base.py\", line 180, in prepare_requests\r\n    _await_result(policy.on_request, pipeline_request)\r\nAttributeError: 'NoneType' object has no attribute 'on_request'\r\n````\r\n\r\n### Have you found a mitigation/solution?\r\nNo, I have not.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/646", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/646/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/646/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/646/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/646", "id": 535960993, "node_id": "MDU6SXNzdWU1MzU5NjA5OTM=", "number": 646, "title": "Support multiple clouds on vendor package", "user": {"login": "grgarcia-ms", "id": 25935109, "node_id": "MDQ6VXNlcjI1OTM1MTA5", "avatar_url": "https://avatars3.githubusercontent.com/u/25935109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grgarcia-ms", "html_url": "https://github.com/grgarcia-ms", "followers_url": "https://api.github.com/users/grgarcia-ms/followers", "following_url": "https://api.github.com/users/grgarcia-ms/following{/other_user}", "gists_url": "https://api.github.com/users/grgarcia-ms/gists{/gist_id}", "starred_url": "https://api.github.com/users/grgarcia-ms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grgarcia-ms/subscriptions", "organizations_url": "https://api.github.com/users/grgarcia-ms/orgs", "repos_url": "https://api.github.com/users/grgarcia-ms/repos", "events_url": "https://api.github.com/users/grgarcia-ms/events{/privacy}", "received_events_url": "https://api.github.com/users/grgarcia-ms/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "xiafu-msft", "id": 49707495, "node_id": "MDQ6VXNlcjQ5NzA3NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/49707495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiafu-msft", "html_url": "https://github.com/xiafu-msft", "followers_url": "https://api.github.com/users/xiafu-msft/followers", "following_url": "https://api.github.com/users/xiafu-msft/following{/other_user}", "gists_url": "https://api.github.com/users/xiafu-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiafu-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiafu-msft/subscriptions", "organizations_url": "https://api.github.com/users/xiafu-msft/orgs", "repos_url": "https://api.github.com/users/xiafu-msft/repos", "events_url": "https://api.github.com/users/xiafu-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/xiafu-msft/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xiafu-msft", "id": 49707495, "node_id": "MDQ6VXNlcjQ5NzA3NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/49707495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiafu-msft", "html_url": "https://github.com/xiafu-msft", "followers_url": "https://api.github.com/users/xiafu-msft/followers", "following_url": "https://api.github.com/users/xiafu-msft/following{/other_user}", "gists_url": "https://api.github.com/users/xiafu-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiafu-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiafu-msft/subscriptions", "organizations_url": "https://api.github.com/users/xiafu-msft/orgs", "repos_url": "https://api.github.com/users/xiafu-msft/repos", "events_url": "https://api.github.com/users/xiafu-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/xiafu-msft/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-12-10T20:06:16Z", "updated_at": "2019-12-19T01:43:15Z", "closed_at": "2019-12-19T01:43:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nstorage\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\npy3:0.11.9\r\n\r\n### What problem was encountered?\r\nhardcoded constant to blob.core.windows.net, this does not work in other clouds\r\n\r\n### Have you found a mitigation/solution?\r\nhttps://github.com/Azure/azure-storage-python/blob/master/azure-storage-common/azure/storage/common/_constants.py#L24\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/644", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/644/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/644/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/644/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/644", "id": 530094484, "node_id": "MDU6SXNzdWU1MzAwOTQ0ODQ=", "number": 644, "title": "Tuple timeout setting is deprecated", "user": {"login": "AliYmn", "id": 18416653, "node_id": "MDQ6VXNlcjE4NDE2NjUz", "avatar_url": "https://avatars1.githubusercontent.com/u/18416653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AliYmn", "html_url": "https://github.com/AliYmn", "followers_url": "https://api.github.com/users/AliYmn/followers", "following_url": "https://api.github.com/users/AliYmn/following{/other_user}", "gists_url": "https://api.github.com/users/AliYmn/gists{/gist_id}", "starred_url": "https://api.github.com/users/AliYmn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AliYmn/subscriptions", "organizations_url": "https://api.github.com/users/AliYmn/orgs", "repos_url": "https://api.github.com/users/AliYmn/repos", "events_url": "https://api.github.com/users/AliYmn/events{/privacy}", "received_events_url": "https://api.github.com/users/AliYmn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-28T22:54:19Z", "updated_at": "2019-12-01T17:14:00Z", "closed_at": "2019-12-01T17:14:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBased on creating Container.\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.16\r\nazure-core==1.1.0\r\nazure-nspkg==3.0.2\r\nazure-storage==0.36.0\r\nazure-storage-blob==12.0.0\r\n\r\n### What problem was encountered?\r\nWhen i create container correctly than code said that \"Tuple timeout setting is deprecated\".\r\n\r\nWhat is the meaning this? how i solve it. Thank you....", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/643", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/643/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/643/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/643/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/643", "id": 517895398, "node_id": "MDU6SXNzdWU1MTc4OTUzOTg=", "number": 643, "title": "Databricks No matching distribution found for Azure-blob-storage", "user": {"login": "ryanwrationalcx", "id": 57153097, "node_id": "MDQ6VXNlcjU3MTUzMDk3", "avatar_url": "https://avatars1.githubusercontent.com/u/57153097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanwrationalcx", "html_url": "https://github.com/ryanwrationalcx", "followers_url": "https://api.github.com/users/ryanwrationalcx/followers", "following_url": "https://api.github.com/users/ryanwrationalcx/following{/other_user}", "gists_url": "https://api.github.com/users/ryanwrationalcx/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanwrationalcx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanwrationalcx/subscriptions", "organizations_url": "https://api.github.com/users/ryanwrationalcx/orgs", "repos_url": "https://api.github.com/users/ryanwrationalcx/repos", "events_url": "https://api.github.com/users/ryanwrationalcx/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanwrationalcx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "xiafu-msft", "id": 49707495, "node_id": "MDQ6VXNlcjQ5NzA3NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/49707495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiafu-msft", "html_url": "https://github.com/xiafu-msft", "followers_url": "https://api.github.com/users/xiafu-msft/followers", "following_url": "https://api.github.com/users/xiafu-msft/following{/other_user}", "gists_url": "https://api.github.com/users/xiafu-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiafu-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiafu-msft/subscriptions", "organizations_url": "https://api.github.com/users/xiafu-msft/orgs", "repos_url": "https://api.github.com/users/xiafu-msft/repos", "events_url": "https://api.github.com/users/xiafu-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/xiafu-msft/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "xiafu-msft", "id": 49707495, "node_id": "MDQ6VXNlcjQ5NzA3NDk1", "avatar_url": "https://avatars1.githubusercontent.com/u/49707495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiafu-msft", "html_url": "https://github.com/xiafu-msft", "followers_url": "https://api.github.com/users/xiafu-msft/followers", "following_url": "https://api.github.com/users/xiafu-msft/following{/other_user}", "gists_url": "https://api.github.com/users/xiafu-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiafu-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiafu-msft/subscriptions", "organizations_url": "https://api.github.com/users/xiafu-msft/orgs", "repos_url": "https://api.github.com/users/xiafu-msft/repos", "events_url": "https://api.github.com/users/xiafu-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/xiafu-msft/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-11-05T16:52:54Z", "updated_at": "2019-12-19T01:44:37Z", "closed_at": "2019-12-19T01:44:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern? Blob storage account\r\n\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nAzure Blob storage == 2.0.1\r\n\r\n### What problem was encountered? It with trying to import the library into the blob storage. Here is the message - java.lang.RuntimeException: ManagedLibraryInstallFailed: org.apache.spark.SparkException: Process List(/databricks/python/bin/pip, install, Azure-blob-storage, --index-url, https://pypi.org/project/azure-storage-blob/, --disable-pip-version-check) exited with code 1.   ERROR: Could not find a version that satisfies the requirement Azure-blob-storage (from versions: none)\r\nERROR: No matching distribution found for Azure-blob-storage\r\n for library:PythonPyPiPkgId(Azure-blob-storage,None,Some(https://pypi.org/project/azure-storage-blob/),List()),isSharedLibrary=false\r\n\r\n\r\n### Have you found a mitigation/solution? no\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/638", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/638/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/638/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/638/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/638", "id": 507659611, "node_id": "MDU6SXNzdWU1MDc2NTk2MTE=", "number": 638, "title": "Unable to download files from azure file share locally when using SDK shows : A portion of the specified file is locked by an SMB client", "user": {"login": "click2cloud-disha", "id": 50101798, "node_id": "MDQ6VXNlcjUwMTAxNzk4", "avatar_url": "https://avatars3.githubusercontent.com/u/50101798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/click2cloud-disha", "html_url": "https://github.com/click2cloud-disha", "followers_url": "https://api.github.com/users/click2cloud-disha/followers", "following_url": "https://api.github.com/users/click2cloud-disha/following{/other_user}", "gists_url": "https://api.github.com/users/click2cloud-disha/gists{/gist_id}", "starred_url": "https://api.github.com/users/click2cloud-disha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/click2cloud-disha/subscriptions", "organizations_url": "https://api.github.com/users/click2cloud-disha/orgs", "repos_url": "https://api.github.com/users/click2cloud-disha/repos", "events_url": "https://api.github.com/users/click2cloud-disha/events{/privacy}", "received_events_url": "https://api.github.com/users/click2cloud-disha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-16T07:08:52Z", "updated_at": "2019-10-16T22:16:03Z", "closed_at": "2019-10-16T22:16:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nFile service\r\n\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-file==2.1.0\r\n\r\n\r\n### What problem was encountered?\r\nwhile downloading file share data locally it shows bellow error:\r\n![image](https://user-images.githubusercontent.com/50101798/66896061-ce6ef800-f011-11e9-90b2-e61a96cb8cc2.png)\r\n\r\n\r\n\r\n### Have you found a mitigation/solution?\r\nno\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/636", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/636/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/636/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/636/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/636", "id": 492416639, "node_id": "MDU6SXNzdWU0OTI0MTY2Mzk=", "number": 636, "title": "Enable MSI authentication for BlockBlobService", "user": {"login": "unloadedroe", "id": 8737236, "node_id": "MDQ6VXNlcjg3MzcyMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8737236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/unloadedroe", "html_url": "https://github.com/unloadedroe", "followers_url": "https://api.github.com/users/unloadedroe/followers", "following_url": "https://api.github.com/users/unloadedroe/following{/other_user}", "gists_url": "https://api.github.com/users/unloadedroe/gists{/gist_id}", "starred_url": "https://api.github.com/users/unloadedroe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/unloadedroe/subscriptions", "organizations_url": "https://api.github.com/users/unloadedroe/orgs", "repos_url": "https://api.github.com/users/unloadedroe/repos", "events_url": "https://api.github.com/users/unloadedroe/events{/privacy}", "received_events_url": "https://api.github.com/users/unloadedroe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-11T19:10:52Z", "updated_at": "2019-10-07T05:00:34Z", "closed_at": "2019-09-11T19:37:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n2.1.0\r\n\r\n### What problem was encountered?\r\nThe constructor for the BlockBlobService does not allow the usage of MSI authentication.\r\nIt was also requested in [here](https://github.com/Azure/azure-sdk-for-python/issues/2714).\r\n\r\n### Have you found a mitigation/solution?\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/633", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/633/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/633/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/633/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/633", "id": 488241934, "node_id": "MDU6SXNzdWU0ODgyNDE5MzQ=", "number": 633, "title": "Creating new append blob with append_blob_from_text results in block blob", "user": {"login": "Botje", "id": 1329861, "node_id": "MDQ6VXNlcjEzMjk4NjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1329861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Botje", "html_url": "https://github.com/Botje", "followers_url": "https://api.github.com/users/Botje/followers", "following_url": "https://api.github.com/users/Botje/following{/other_user}", "gists_url": "https://api.github.com/users/Botje/gists{/gist_id}", "starred_url": "https://api.github.com/users/Botje/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Botje/subscriptions", "organizations_url": "https://api.github.com/users/Botje/orgs", "repos_url": "https://api.github.com/users/Botje/repos", "events_url": "https://api.github.com/users/Botje/events{/privacy}", "received_events_url": "https://api.github.com/users/Botje/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-02T15:28:54Z", "updated_at": "2019-09-06T00:19:10Z", "closed_at": "2019-09-06T00:19:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n2.1.0\r\n\r\npip freeze:\r\n```\r\nasn1crypto==0.24.0\r\nazure-common==1.1.23\r\nazure-functions==1.0.0b5\r\nazure-storage-blob==2.1.0\r\nazure-storage-common==2.1.0\r\ncertifi==2019.6.16\r\ncffi==1.12.3\r\nchardet==3.0.4\r\ncryptography==2.7\r\nidna==2.8\r\npycparser==2.19\r\npython-dateutil==2.8.0\r\nrequests==2.22.0\r\nsix==1.12.0\r\nurllib3==1.25.3\r\n```\r\n\r\n### What problem was encountered?\r\nI want to append to a blob from several writers, but the first write needs to add a header. Therefore, I use the `if_none_match=\"*\"` option to ignore the write if the file already exists.\r\nI tried to create a new append blob with content using `append_blob_from_text` and a non-existent blob name, with the intent of appending further content later.\r\n\r\nThis code:\r\n```\r\nappendservice.append_blob_from_text(storage_container, 'blub', if_none_match='*', text=\"HEADER\")\r\n```\r\nresults in a **block** blob, which cannot be appended to.\r\n\r\n### Have you found a mitigation/solution?\r\nNo. Calling `create_blob` separately results in a race condition where the blob is created sans header.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/631", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/631/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/631/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/631/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/631", "id": 484416923, "node_id": "MDU6SXNzdWU0ODQ0MTY5MjM=", "number": 631, "title": "X-MS-VERSION header incorrect value", "user": {"login": "konradsitarz", "id": 51296911, "node_id": "MDQ6VXNlcjUxMjk2OTEx", "avatar_url": "https://avatars3.githubusercontent.com/u/51296911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konradsitarz", "html_url": "https://github.com/konradsitarz", "followers_url": "https://api.github.com/users/konradsitarz/followers", "following_url": "https://api.github.com/users/konradsitarz/following{/other_user}", "gists_url": "https://api.github.com/users/konradsitarz/gists{/gist_id}", "starred_url": "https://api.github.com/users/konradsitarz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konradsitarz/subscriptions", "organizations_url": "https://api.github.com/users/konradsitarz/orgs", "repos_url": "https://api.github.com/users/konradsitarz/repos", "events_url": "https://api.github.com/users/konradsitarz/events{/privacy}", "received_events_url": "https://api.github.com/users/konradsitarz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-23T09:05:42Z", "updated_at": "2019-08-23T21:38:43Z", "closed_at": "2019-08-23T21:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use azure-storage-blob to send file to blob storage.\r\n\r\nSDK versions:\r\n```\r\nazure-common==1.1.23\r\nazure-storage-blob==2.1.0\r\nazure-storage-common==2.1.0\r\n```\r\n\r\nWhen I try to send file I got error that the value of the X-MS-VERSION header has wrong value.\r\n```\r\nException=The value for one of the HTTP headers is not in the correct format. ErrorCode: InvalidHeaderValue<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>InvalidHeaderValue</Code><Message>The value for one of the HTTP headers is not in the correct format.RequestId:c0e6b190-201e-0062-4390-59222d000000Time:2019-08-23T08:57:32.0999355Z</Message><HeaderName>x-ms-version</HeaderName><HeaderValue>2019-02-02</HeaderValue></Error>.\r\n```\r\n\r\nWhat should be the value of the header and how to change it to be able to use it in code?\r\n\r\nI managed to change the value manually inside the **azure/storage/blob/_constants.py**\r\nX_MS_VERSION but I don't know what should be working value.\r\n\r\n\r\n**UPDATE:**\r\nI replaced the \r\n`X_MS_VERSION= '2019-02-02'`\r\nwith previous version I know about versions from [here](https://docs.microsoft.com/en-us/rest/api/storageservices/previous-azure-storage-service-versions).\r\n`X_MS_VERSION = '2018-11-09'`\r\n\r\nand it worked.\r\n\r\n**HACK SOLUTION**\r\nWhile creating blobService i replace the _X_MS_VERSION parameter with working one.\r\nIt's not much of a clear hack but it works.\r\n\r\n```\r\nblobService = BlockBlobService(connection_string=connection_string)\r\n\r\nblobService._X_MS_VERSION = '2018-11-09'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/627", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/627/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/627/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/627/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/627", "id": 480903764, "node_id": "MDU6SXNzdWU0ODA5MDM3NjQ=", "number": 627, "title": "MD5 validation using Storage SDK is not happening while databricks filesystem API reports MD5 mismatch", "user": {"login": "pchinta", "id": 53908128, "node_id": "MDQ6VXNlcjUzOTA4MTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/53908128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pchinta", "html_url": "https://github.com/pchinta", "followers_url": "https://api.github.com/users/pchinta/followers", "following_url": "https://api.github.com/users/pchinta/following{/other_user}", "gists_url": "https://api.github.com/users/pchinta/gists{/gist_id}", "starred_url": "https://api.github.com/users/pchinta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pchinta/subscriptions", "organizations_url": "https://api.github.com/users/pchinta/orgs", "repos_url": "https://api.github.com/users/pchinta/repos", "events_url": "https://api.github.com/users/pchinta/events{/privacy}", "received_events_url": "https://api.github.com/users/pchinta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-08-14T21:46:53Z", "updated_at": "2019-08-16T07:46:22Z", "closed_at": "2019-08-16T07:46:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-blob 2.1.0\r\n\r\n### What problem was encountered?get_blob_to_bytes(container, missing_filename, validate_content=True).content is NOT reporting any MD5 mismatch issue while Azure Databricks filesystem API (%fs head OR with open(file) as f:  print (f.read()) reporting MD5 mismatch error and read fails.\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/622", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/622/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/622/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/622/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/622", "id": 475521377, "node_id": "MDU6SXNzdWU0NzU1MjEzNzc=", "number": 622, "title": "TableService: batch operations do not end immediately on non-transient errors", "user": {"login": "Janci144", "id": 22454741, "node_id": "MDQ6VXNlcjIyNDU0NzQx", "avatar_url": "https://avatars1.githubusercontent.com/u/22454741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Janci144", "html_url": "https://github.com/Janci144", "followers_url": "https://api.github.com/users/Janci144/followers", "following_url": "https://api.github.com/users/Janci144/following{/other_user}", "gists_url": "https://api.github.com/users/Janci144/gists{/gist_id}", "starred_url": "https://api.github.com/users/Janci144/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Janci144/subscriptions", "organizations_url": "https://api.github.com/users/Janci144/orgs", "repos_url": "https://api.github.com/users/Janci144/repos", "events_url": "https://api.github.com/users/Janci144/events{/privacy}", "received_events_url": "https://api.github.com/users/Janci144/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-01T07:32:35Z", "updated_at": "2019-08-01T07:33:23Z", "closed_at": "2019-08-01T07:33:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nTabls\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-cosmosdb-table==1.0.5\r\n\r\n\r\n### What problem was encountered?\r\nWhen you try to insert the same items (that already exist) in a batch operation, it is trying to do retryies (even though it's not transient). The reason is that the batch operations REST API is returning a 202 code (ACCEPTED), but the exceptions are packaged inside the response body. The response body exception is not taken into consideration when chosing retry policy, so it's using the 202 code (ACCEPTED) from the batch response, and not the 409 code that is packaged inside the response body\r\n\r\n### Have you found a mitigation/solution?\r\nFor now we do something like this:\r\n\r\n    table_service = TableService(connection_string=connection_string)\r\n\r\n    def fff(ctx):\r\n        if ctx.exception.status_code == 409:\r\n            raise ctx.exception\r\n    table_service.retry_callback = fff\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/619", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/619/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/619/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/619", "id": 470191604, "node_id": "MDU6SXNzdWU0NzAxOTE2MDQ=", "number": 619, "title": "INFO messages", "user": {"login": "rareal", "id": 14607246, "node_id": "MDQ6VXNlcjE0NjA3MjQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/14607246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rareal", "html_url": "https://github.com/rareal", "followers_url": "https://api.github.com/users/rareal/followers", "following_url": "https://api.github.com/users/rareal/following{/other_user}", "gists_url": "https://api.github.com/users/rareal/gists{/gist_id}", "starred_url": "https://api.github.com/users/rareal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rareal/subscriptions", "organizations_url": "https://api.github.com/users/rareal/orgs", "repos_url": "https://api.github.com/users/rareal/repos", "events_url": "https://api.github.com/users/rareal/events{/privacy}", "received_events_url": "https://api.github.com/users/rareal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-19T07:58:56Z", "updated_at": "2019-07-22T20:01:50Z", "closed_at": "2019-07-22T20:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nfile\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nName                    Version                   Build  Channel\r\nazure-common              1.1.23                   pypi_0    pypi\r\nazure-storage-common      2.0.0                    pypi_0    pypi\r\nazure-storage-file        2.0.1                    pypi_0    pypi\r\n\r\n\r\n### What problem was encountered?\r\nI started receiving a lot of INFO messages after a while in the calls to azure storage, it was working just fine and nothing changed in the environment. I cannot figure out from the documentation what triggered this INFO messages, and as I'm making multiple calls they are filling up my console during debugging. \r\nDespite the messages the calls work fine, both GET and PUT.\r\nThis is the format of the INFO messages I receive, I redacted the ids.\r\n\r\n`INFO:azure.storage.common.storageclient:Client-Request-ID=<***> Outgoing request: Method=GET, Path=<***>, Query={'restype': 'directory', 'comp': 'list', 'prefix': None, 'marker': None, 'maxresults': None, 'timeout': None, 'sharesnapshot': None}, Headers={'x-ms-version': '2018-11-09', 'User-Agent': 'Azure-Storage/2.0.0-2.0.1 (Python CPython 3.6.8; Windows 10)', 'x-ms-client-request-id': '<***>', 'x-ms-date': 'Fri, 19 Jul 2019 07:32:30 GMT', 'Authorization': 'REDACTED'}.`\r\n\r\nI cannot even find what 'Authorization': 'REDACTED' means.\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/618", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/618/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/618/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/618/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/618", "id": 468219607, "node_id": "MDU6SXNzdWU0NjgyMTk2MDc=", "number": 618, "title": "Unintuitive behaviour: forward slash in the end of container name creates unnamed folder", "user": {"login": "pavithraks", "id": 7968608, "node_id": "MDQ6VXNlcjc5Njg2MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7968608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pavithraks", "html_url": "https://github.com/pavithraks", "followers_url": "https://api.github.com/users/pavithraks/followers", "following_url": "https://api.github.com/users/pavithraks/following{/other_user}", "gists_url": "https://api.github.com/users/pavithraks/gists{/gist_id}", "starred_url": "https://api.github.com/users/pavithraks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pavithraks/subscriptions", "organizations_url": "https://api.github.com/users/pavithraks/orgs", "repos_url": "https://api.github.com/users/pavithraks/repos", "events_url": "https://api.github.com/users/pavithraks/events{/privacy}", "received_events_url": "https://api.github.com/users/pavithraks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-15T16:22:31Z", "updated_at": "2019-07-22T20:07:25Z", "closed_at": "2019-07-22T20:07:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n1.4.0\r\n\r\n### What problem was encountered?\r\nIf container name has a forward slash in the end, the function call `create_blob_from_path` creates an unnamed folder in azure storage and then places the file/blob in there. It seems counterintuitive that a forward slash in the end implies creating a new folder. \r\n\r\n### Have you found a mitigation/solution?\r\nWell, I just don't use the forward slash. A small note in the documentation on this will really help. It took me a while to debug this. \r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/614", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/614/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/614/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/614/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/614", "id": 466066245, "node_id": "MDU6SXNzdWU0NjYwNjYyNDU=", "number": 614, "title": "create_blob_from_path does not respect timeout parameter when offline", "user": {"login": "Chris-Johnston", "id": 16418643, "node_id": "MDQ6VXNlcjE2NDE4NjQz", "avatar_url": "https://avatars0.githubusercontent.com/u/16418643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chris-Johnston", "html_url": "https://github.com/Chris-Johnston", "followers_url": "https://api.github.com/users/Chris-Johnston/followers", "following_url": "https://api.github.com/users/Chris-Johnston/following{/other_user}", "gists_url": "https://api.github.com/users/Chris-Johnston/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chris-Johnston/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chris-Johnston/subscriptions", "organizations_url": "https://api.github.com/users/Chris-Johnston/orgs", "repos_url": "https://api.github.com/users/Chris-Johnston/repos", "events_url": "https://api.github.com/users/Chris-Johnston/events{/privacy}", "received_events_url": "https://api.github.com/users/Chris-Johnston/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-10T02:36:17Z", "updated_at": "2019-07-10T08:32:30Z", "closed_at": "2019-07-10T08:32:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n```\r\nazure-common==1.1.23\r\nazure-nspkg==3.0.2\r\nazure-storage==0.36.0\r\nazure-storage-blob==2.0.1\r\nazure-storage-common==2.0.0\r\n```\r\n\r\nRunning on Linux Mint 18.3 64-bit, Linux 4.10.0-38-generic, python 3.6.7\r\n\r\n### What problem was encountered?\r\n\r\nWhen disconnected from the internet (interface disabled) and uploading a file using `create_blob_from_path` with the `timeout` parameter set to 1, the function will hang for over a minute before throwing an Exception.\r\n\r\n**Update:** This same behavior exists when setting the `socket_timeout` parameter of the constructor.\r\n\r\nI was expecting that this call would block for the duration of the timeout, then raise some exception when the timeout has passed.\r\n\r\n#### Test Script\r\n\r\n```py\r\nfrom azure.storage.blob import BlockBlobService\r\nimport datetime\r\n\r\nblob_service = BlockBlobService(account_name=\"<name>\", account_key=\"<account_key>\", socket_timeout=1)\r\nfile = \"<file>\"\r\nprint('starting upload at time', datetime.datetime.now())\r\ntry:\r\n    blob_service.create_blob_from_path(\"<container>\", file, file, max_connections=1, timeout=1)\r\nexcept Exception as ex:\r\n    print(ex)\r\nprint('done at time', datetime.datetime.now())\r\n```\r\n\r\n#### Sample Output\r\n\r\nWith internet:\r\n\r\n```bash\r\n$ python3.6 test.py \r\nstarting upload at time 2019-07-09 19:17:35.146470\r\ndone at time 2019-07-09 19:17:35.498487\r\n```\r\n\r\nWithout internet (interface disabled):\r\n\r\n```bash\r\n$ python3.6 test.py \r\nstarting upload at time 2019-07-09 19:17:42.520956\r\nHTTPSConnectionPool(host='xxx.blob.core.windows.net', port=443): Max retries exceeded with url: xxxxx?timeout=1 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fe267bdcf98>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))\r\ndone at time 2019-07-09 19:19:06.582988\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nNothing yet.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/612", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/612/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/612/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/612", "id": 460019087, "node_id": "MDU6SXNzdWU0NjAwMTkwODc=", "number": 612, "title": "generator hanging sometimes using list_blobs() or list_blob_names()", "user": {"login": "Master-Matt", "id": 20187801, "node_id": "MDQ6VXNlcjIwMTg3ODAx", "avatar_url": "https://avatars3.githubusercontent.com/u/20187801?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Master-Matt", "html_url": "https://github.com/Master-Matt", "followers_url": "https://api.github.com/users/Master-Matt/followers", "following_url": "https://api.github.com/users/Master-Matt/following{/other_user}", "gists_url": "https://api.github.com/users/Master-Matt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Master-Matt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Master-Matt/subscriptions", "organizations_url": "https://api.github.com/users/Master-Matt/orgs", "repos_url": "https://api.github.com/users/Master-Matt/repos", "events_url": "https://api.github.com/users/Master-Matt/events{/privacy}", "received_events_url": "https://api.github.com/users/Master-Matt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-24T17:53:22Z", "updated_at": "2019-06-25T22:53:21Z", "closed_at": "2019-06-25T12:53:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlockBlobService\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\nasn1crypto==0.24.0\r\nazure-common==1.1.19\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.0\r\ncertifi==2019.3.9\r\ncffi==1.12.2\r\nchardet==3.0.4\r\ncoverage==4.0.3\r\ncryptography==2.6.1\r\nentrypoints==0.3\r\nfastavro==0.21.21\r\nflake8==3.7.7\r\nidna==2.8\r\ninflux-client==1.8.0\r\ninfluxdb==5.2.2\r\nmccabe==0.6.1\r\nmock==2.0.0\r\nnose==1.3.7\r\nnumpy==1.16.2\r\npandas==0.24.2\r\npandavro==1.5.0\r\npbr==5.1.3\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npyflakes==2.1.1\r\npython-dateutil==2.8.0\r\npytool==3.15.0\r\npytz==2019.1\r\nrequests==2.21.0\r\nsimplejson==3.16.0\r\nsix==1.12.0\r\nurllib3==1.24.2\r\n\r\n### What problem was encountered?\r\nI'm using this service in a docker container, and it will occasionally hang for up to 30 minutes. Not sure what to do because it happens as the blobs are iterated through.\r\n\r\nI had the same issue when creating the generator, but it can be mitigated by using the timeout option.\r\nIv'e attached the trace.\r\n```\r\nTraceback (most recent call last):\r\n  File \"data_service.py\", line 200, in <module>\r\n    main()\r\n  File \"data_service.py\", line 195, in main\r\n    if ds.get_data():\r\n  File \"data_service.py\", line 38, in get_data\r\n    for blob in generator:\r\n  File \"/usr/local/lib/python3.5/site-packages/azure/storage/common/models.py\", line 99, in __iter__\r\n    resources = self._list_method(*self._list_args, **self._list_kwargs)\r\n  File \"/usr/local/lib/python3.5/site-packages/azure/storage/blob/baseblobservice.py\", line 1375, in _list_blobs\r\n    return self._perform_request(request, _converter, operation_context=_context)\r\n  File \"/usr/local/lib/python3.5/site-packages/azure/storage/common/storageclient.py\", line 321, in _perform_request\r\n    response = self._httpclient.perform_request(request)\r\n  File \"/usr/local/lib/python3.5/site-packages/azure/storage/common/_http/httpclient.py\", line 92, in perform_request\r\n    proxies=self.proxies)\r\n  File \"/usr/local/lib/python3.5/site-packages/requests/sessions.py\", line 533, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/local/lib/python3.5/site-packages/requests/sessions.py\", line 646, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/local/lib/python3.5/site-packages/requests/adapters.py\", line 449, in send\r\n    timeout=timeout\r\n  File \"/usr/local/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"/usr/local/lib/python3.5/site-packages/urllib3/connectionpool.py\", line 380, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/usr/local/lib/python3.5/http/client.py\", line 1198, in getresponse\r\n    response.begin()\r\n  File \"/usr/local/lib/python3.5/http/client.py\", line 297, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/usr/local/lib/python3.5/http/client.py\", line 258, in _read_status\r\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\r\n  File \"/usr/local/lib/python3.5/socket.py\", line 576, in readinto\r\n    return self._sock.recv_into(b)\r\n  File \"/usr/local/lib/python3.5/ssl.py\", line 937, in recv_into\r\n    return self.read(nbytes, buffer)\r\n  File \"/usr/local/lib/python3.5/ssl.py\", line 799, in read\r\n    return self._sslobj.read(len, buffer)\r\n  File \"/usr/local/lib/python3.5/ssl.py\", line 583, in read\r\n    v = self._sslobj.read(len, buffer)\r\n\r\n```\r\nHere is a shot of VM usage to show that it looks like its just idling after the hangs occur.\r\nHere, it occurs at 12:22 and 12:42\r\n![Screenshot from 2019-06-24 13-12-45](https://user-images.githubusercontent.com/20187801/60041929-1db7a400-9682-11e9-8f22-eb97c3582fe9.png)\r\n\r\n### Have you found a mitigation/solution?\r\nNo", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/607", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/607/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/607/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/607/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/607", "id": 455869505, "node_id": "MDU6SXNzdWU0NTU4Njk1MDU=", "number": 607, "title": "Sample code for using azure-storage-blob", "user": {"login": "SG-Gank", "id": 50460251, "node_id": "MDQ6VXNlcjUwNDYwMjUx", "avatar_url": "https://avatars2.githubusercontent.com/u/50460251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SG-Gank", "html_url": "https://github.com/SG-Gank", "followers_url": "https://api.github.com/users/SG-Gank/followers", "following_url": "https://api.github.com/users/SG-Gank/following{/other_user}", "gists_url": "https://api.github.com/users/SG-Gank/gists{/gist_id}", "starred_url": "https://api.github.com/users/SG-Gank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SG-Gank/subscriptions", "organizations_url": "https://api.github.com/users/SG-Gank/orgs", "repos_url": "https://api.github.com/users/SG-Gank/repos", "events_url": "https://api.github.com/users/SG-Gank/events{/privacy}", "received_events_url": "https://api.github.com/users/SG-Gank/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-13T17:41:45Z", "updated_at": "2019-06-13T18:35:55Z", "closed_at": "2019-06-13T18:35:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-blob\r\n\r\n### What problem was encountered?\r\n\r\nCan someone provide sample code on this package - azure-storage-blob\r\nSpecifically, how to \"update\" a blob within a blob container?\r\n\r\n### Have you found a mitigation/solution?\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/606", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/606/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/606/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/606/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/606", "id": 454999157, "node_id": "MDU6SXNzdWU0NTQ5OTkxNTc=", "number": 606, "title": "get_blob_to_stream API with special character throws azure.common.AzureMissingResourceHttpError", "user": {"login": "HiranCser", "id": 51704816, "node_id": "MDQ6VXNlcjUxNzA0ODE2", "avatar_url": "https://avatars1.githubusercontent.com/u/51704816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HiranCser", "html_url": "https://github.com/HiranCser", "followers_url": "https://api.github.com/users/HiranCser/followers", "following_url": "https://api.github.com/users/HiranCser/following{/other_user}", "gists_url": "https://api.github.com/users/HiranCser/gists{/gist_id}", "starred_url": "https://api.github.com/users/HiranCser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HiranCser/subscriptions", "organizations_url": "https://api.github.com/users/HiranCser/orgs", "repos_url": "https://api.github.com/users/HiranCser/repos", "events_url": "https://api.github.com/users/HiranCser/events{/privacy}", "received_events_url": "https://api.github.com/users/HiranCser/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-12T03:50:03Z", "updated_at": "2019-06-14T04:45:23Z", "closed_at": "2019-06-14T04:45:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "### blockblobservice.py\r\n\r\n\r\n### Output of pip freeze\r\nazure-common==1.1.15\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-nspkg==3.1.0\r\n\r\n\r\n### get_blob_to_stream API \r\nwith blob file path having special character  **\u00f6** results in azure.common.AzureMissingResourceHttpError exception.\r\n\r\n\r\n### Have you found a mitigation/solution? No\r\n### ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/602", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/602/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/602/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/602", "id": 452617757, "node_id": "MDU6SXNzdWU0NTI2MTc3NTc=", "number": 602, "title": "Downloading a blob fails for v1.3.1+ if blob is written during download", "user": {"login": "marco-rossi29", "id": 13020512, "node_id": "MDQ6VXNlcjEzMDIwNTEy", "avatar_url": "https://avatars2.githubusercontent.com/u/13020512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marco-rossi29", "html_url": "https://github.com/marco-rossi29", "followers_url": "https://api.github.com/users/marco-rossi29/followers", "following_url": "https://api.github.com/users/marco-rossi29/following{/other_user}", "gists_url": "https://api.github.com/users/marco-rossi29/gists{/gist_id}", "starred_url": "https://api.github.com/users/marco-rossi29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marco-rossi29/subscriptions", "organizations_url": "https://api.github.com/users/marco-rossi29/orgs", "repos_url": "https://api.github.com/users/marco-rossi29/repos", "events_url": "https://api.github.com/users/marco-rossi29/events{/privacy}", "received_events_url": "https://api.github.com/users/marco-rossi29/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-05T17:10:11Z", "updated_at": "2019-06-11T16:52:21Z", "closed_at": "2019-06-09T01:08:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Note: I understand that this breaking change was done on purpose in commit `8f68597815022e20df5df5402508a2569d8e6bfe`. Is there a better way to download a blob that may be written?\r\n\r\n### Which service(blob, file, queue) does this issue concern?\r\nget_blob_to_path()\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-blob-1.3.0 works\r\nazure-storage-blob-1.3.1 doesn't work\r\n\r\n### What problem was encountered?\r\ndownload fails:\r\n```\r\nClient-Request-ID=877e7040-7e47-11e9-b109-a08cfde1f962 Retry policy did not allow for a retry: Server-Timestamp=Fri, 24 May 2019 17:15:29 GMT, Server-Request-ID=7b05956d-801e-0008-4b54-12e202000000, HTTP status code=412, Exception=The condition specified using HTTP conditional header(s) is not met. ErrorCode: ConditionNotMet<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ConditionNotMet</Code><Message>The condition specified using HTTP conditional header(s) is not met.RequestId:7b05956d-801e-0008-4b54-12e202000000Time:2019-05-24T17:15:29.2184347Z</Message></Error>.\r\nError: The condition specified using HTTP conditional header(s) is not met. ErrorCode: ConditionNotMet\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ConditionNotMet</Code><Message>The condition specified using HTTP conditional header(s) is not met.\r\nRequestId:7b05956d-801e-0008-4b54-12e202000000\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\nI downgraded to 1.3.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/595", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/595/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/595/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/595/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/595", "id": 444427880, "node_id": "MDU6SXNzdWU0NDQ0Mjc4ODA=", "number": 595, "title": "Undocumented breaking change to azure.storage.blob.baseblobservice.BaseBlobService.generate_blob_shared_access_signature in 2.0", "user": {"login": "taymonbeal", "id": 1991427, "node_id": "MDQ6VXNlcjE5OTE0Mjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1991427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taymonbeal", "html_url": "https://github.com/taymonbeal", "followers_url": "https://api.github.com/users/taymonbeal/followers", "following_url": "https://api.github.com/users/taymonbeal/following{/other_user}", "gists_url": "https://api.github.com/users/taymonbeal/gists{/gist_id}", "starred_url": "https://api.github.com/users/taymonbeal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taymonbeal/subscriptions", "organizations_url": "https://api.github.com/users/taymonbeal/orgs", "repos_url": "https://api.github.com/users/taymonbeal/repos", "events_url": "https://api.github.com/users/taymonbeal/events{/privacy}", "received_events_url": "https://api.github.com/users/taymonbeal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-15T13:06:08Z", "updated_at": "2019-06-04T23:22:45Z", "closed_at": "2019-06-04T23:22:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n```\r\nazure-common==1.1.20\r\nazure-storage-blob==2.0.1\r\nazure-storage-common==2.0.0\r\n```\r\n\r\n### What problem was encountered?\r\n`azure.storage.blob.baseblobservice.BaseBlobService.generate_blob_shared_access_signature` acquired a new parameter, `snapshot`, in 2.0. This parameter was inserted before `permission`. This breaks code that passes `permission` positionally. Notably, `django-storages` does this.\r\n\r\n### Have you found a mitigation/solution?\r\nPatch dependents to pass `permission` by keyword.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/593", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/593/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/593/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/593/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/593", "id": 442331641, "node_id": "MDU6SXNzdWU0NDIzMzE2NDE=", "number": 593, "title": "AttributeError: '_SharedAccessHelper' object has no attribute 'add_resource_signature'", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-05-09T16:45:51Z", "updated_at": "2019-05-10T23:39:55Z", "closed_at": "2019-05-10T23:39:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n2.0.0\r\n\r\n### What problem was encountered?\r\nThis code doesn't work anymore in 2.0.0:\r\n```python\r\n        # create a template sas token for the container\r\n        service = BlockBlobService(account_name=storage_account_name,\r\n                                   # don't sign the template with the storage account key use key 00000000\r\n                                   account_key='00000000')\r\n        permissions = ContainerPermissions(read=True, write=True, delete=True, list=True)\r\n        temp_token = service.generate_container_shared_access_signature(container_name='blobcontainer',\r\n                                                                        permission=permissions,\r\n                                                                        expiry='2020-01-01')\r\n```\r\n\r\nStack trace (enhanced by pytest):\r\n```python\r\nself = <azure.storage.blob.sharedaccesssignature.BlobSharedAccessSignature object at 0x7fd42a8182b0>\r\ncontainer_name = 'blobcontainer'\r\npermission = <azure.storage.blob.models.ContainerPermissions object at 0x7fd42a80c0f0>\r\nexpiry = '2020-01-01', start = None, id = None, ip = None, protocol = None\r\ncache_control = None, content_disposition = None, content_encoding = None\r\ncontent_language = None, content_type = None\r\n\r\n    def generate_container(self, container_name, permission=None, expiry=None,\r\n                           start=None, id=None, ip=None, protocol=None,\r\n                           cache_control=None, content_disposition=None,\r\n                           content_encoding=None, content_language=None,\r\n                           content_type=None):\r\n\r\n        sas = _SharedAccessHelper()\r\n        sas.add_base(permission, expiry, start, ip, protocol, self.x_ms_version)\r\n        sas.add_id(id)\r\n        sas.add_resource('c')\r\n        sas.add_override_response_headers(cache_control, content_disposition,\r\n                                          content_encoding, content_language,\r\n                                          content_type)\r\n>       sas.add_resource_signature(self.account_name, self.account_key, 'blob', container_name)\r\nE       AttributeError: '_SharedAccessHelper' object has no attribute 'add_resource_signature'\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/588", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/588/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/588/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/588/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/588", "id": 439470123, "node_id": "MDU6SXNzdWU0Mzk0NzAxMjM=", "number": 588, "title": "Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.", "user": {"login": "RotemEmergi", "id": 15428948, "node_id": "MDQ6VXNlcjE1NDI4OTQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/15428948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RotemEmergi", "html_url": "https://github.com/RotemEmergi", "followers_url": "https://api.github.com/users/RotemEmergi/followers", "following_url": "https://api.github.com/users/RotemEmergi/following{/other_user}", "gists_url": "https://api.github.com/users/RotemEmergi/gists{/gist_id}", "starred_url": "https://api.github.com/users/RotemEmergi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RotemEmergi/subscriptions", "organizations_url": "https://api.github.com/users/RotemEmergi/orgs", "repos_url": "https://api.github.com/users/RotemEmergi/repos", "events_url": "https://api.github.com/users/RotemEmergi/events{/privacy}", "received_events_url": "https://api.github.com/users/RotemEmergi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-02T08:07:20Z", "updated_at": "2019-05-02T15:14:58Z", "closed_at": "2019-05-02T15:14:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi ,\r\n\r\nI am using the azure.storage.queue for query the amount of files in storage accounts.\r\n\r\nI got thus error :\r\n\r\n'''\r\n File \"GetAzureQueueSize.py\", line 59, in <module>\r\n    main()\r\n  File \"GetAzureQueueSize.py\", line 55, in main\r\n    check_all(azure_storage_accounts_mapping)\r\n  File \"GetAzureQueueSize.py\", line 32, in check_all\r\n    dict = get_queu_of_storage_account(account_name, account_key)\r\n  File \"GetAzureQueueSize.py\", line 23, in get_queu_of_storage_account\r\n    queues = queue_service.list_queues(\"\")\r\n  File \"/usr/local/lib/python2.7/dist-packages/azure/storage/queue/queueservice.py\", line 223, in list_queues\r\n    response = self._perform_request(request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/azure/storage/storageclient.py\", line 178, in _perform_request\r\n    _storage_error_handler(ex)\r\n  File \"/usr/local/lib/python2.7/dist-packages/azure/storage/_serialization.py\", line 25, in _storage_error_handler\r\n    return _general_error_handler(http_error)\r\n  File \"/usr/local/lib/python2.7/dist-packages/azure/storage/_common_error.py\", line 82, in _general_error_handler\r\n    raise AzureHttpError(message, http_error.status)\r\nazure.common.AzureHttpError: Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:d43f63a3-0003-0075-64bc-00d9f3000000\r\nTime:2019-05-02T07:57:44.0663918Z</Message><AuthenticationErrorDetail>The MAC signature found in the HTTP request 'NSIVg/XWNzIYfaMfr+o4GZjLSr7+tN9Ca58j+75yk7Q=' is not the same as any computed signature. Server used following string to sign: 'GET\r\n\r\n\r\n\r\n\r\napplication/octet-stream Charset=UTF-8\r\n\r\n\r\n\r\n\r\n\r\n\r\nx-ms-date:Thu, 02 May 2019 07:57:44 GMT\r\nx-ms-version:2014-02-14\r\n/bitdamprod1/\r\ncomp:list\r\nprefix:'.</AuthenticationErrorDetail></Error>\r\n'''", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/586", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/586/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/586/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/586", "id": 439084640, "node_id": "MDU6SXNzdWU0MzkwODQ2NDA=", "number": 586, "title": "Error: The range specified is invalid for the current size of the resource", "user": {"login": "akshaybabloo", "id": 7360286, "node_id": "MDQ6VXNlcjczNjAyODY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7360286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akshaybabloo", "html_url": "https://github.com/akshaybabloo", "followers_url": "https://api.github.com/users/akshaybabloo/followers", "following_url": "https://api.github.com/users/akshaybabloo/following{/other_user}", "gists_url": "https://api.github.com/users/akshaybabloo/gists{/gist_id}", "starred_url": "https://api.github.com/users/akshaybabloo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akshaybabloo/subscriptions", "organizations_url": "https://api.github.com/users/akshaybabloo/orgs", "repos_url": "https://api.github.com/users/akshaybabloo/repos", "events_url": "https://api.github.com/users/akshaybabloo/events{/privacy}", "received_events_url": "https://api.github.com/users/akshaybabloo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-01T06:56:37Z", "updated_at": "2019-08-31T02:41:26Z", "closed_at": "2019-08-31T02:41:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n```\r\nadal==1.2.1\r\nalabaster==0.7.12\r\nalgoliasearch==1.20.0\r\nasn1crypto==0.24.0\r\nastroid==2.1.0\r\natomicwrites==1.3.0\r\nattrs==19.1.0\r\nazsecrets==1.0\r\nazure-common==1.1.18\r\nazure-keyvault==1.1.0\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.0\r\nBabel==2.6.0\r\nbleach==3.1.0\r\ncertifi==2019.3.9\r\ncffi==1.11.5\r\nchardet==3.0.4\r\nClick==7.0\r\nconda==4.6.12\r\ncryptography==2.4.1\r\ncycler==0.10.0\r\ndocutils==0.14\r\nh5py==2.8.0\r\nhttpie==1.0.2\r\nidna==2.7\r\nimagesize==1.1.0\r\nisodate==0.6.0\r\nisort==4.3.4\r\nJinja2==2.10\r\nkiwisolver==1.0.1\r\nlazy-object-proxy==1.3.1\r\nMarkupSafe==1.1.1\r\nmatplotlib==2.2.3\r\nmccabe==0.6.1\r\nmkl-fft==1.0.6\r\nmkl-random==1.0.1\r\nmore-itertools==7.0.0\r\nmsrest==0.6.6\r\nmsrestazure==0.6.0\r\nnumpy==1.15.1\r\noauthlib==3.0.1\r\npackaging==19.0\r\npkginfo==1.5.0.1\r\npluggy==0.9.0\r\npy==1.8.0\r\npycosat==0.6.3\r\npycparser==2.18\r\nPygments==2.3.0\r\nPyJWT==1.7.1\r\npylint==2.2.2\r\npyOpenSSL==18.0.0\r\npyparsing==2.3.1\r\nPySocks==1.6.8\r\npytest==4.3.1\r\npython-dateutil==2.8.0\r\npython-magic==0.4.15\r\npytz==2018.9\r\nreadme-renderer==24.0\r\nrequests==2.19.1\r\nrequests-oauthlib==1.2.0\r\nrequests-toolbelt==0.9.1\r\nruamel-yaml==0.15.46\r\nscikit-learn==0.19.2\r\nscipy==1.1.0\r\nsix==1.11.0\r\nsnowballstemmer==1.2.1\r\nSphinx==2.0.1\r\nsphinxcontrib-applehelp==1.0.1\r\nsphinxcontrib-devhelp==1.0.1\r\nsphinxcontrib-htmlhelp==1.0.1\r\nsphinxcontrib-jsmath==1.0.1\r\nsphinxcontrib-qthelp==1.0.2\r\nsphinxcontrib-serializinghtml==1.1.1\r\nspikes==0.2\r\ntabulate==0.8.2\r\ntoml==0.10.0\r\ntornado==6.0.2\r\ntqdm==4.31.1\r\ntwine==1.13.0\r\nujson==1.35\r\nurllib3==1.23\r\nwebencodings==0.5.1\r\nwrapt==1.10.11\r\n```\r\n\r\n### What problem was encountered?\r\n\r\nI am getting an error when trying to read a blob from bytes, it doesn't throw any exception though and it doesn't even say which file causes the problem. The error is:\r\n\r\n```\r\nClient-Request-ID=ab8ef66e-6bdc-11e9-9e3e-14109fe2857d Retry policy did not allow for a retry: Server-Timestamp=Wed, 01 May 2019 06:45:12 GMT, Server-Request-ID=48639d1f-e01e-0017-18e9-ff2e34000000, HTTP status code=416, Exception=The range specified is invalid for the current size of the resource. ErrorCode: InvalidRange<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>InvalidRange</Code><Message>The range specified is invalid for the current size of the resource.RequestId:48639d1f-e01e-0017-18e9-ff2e34000000Time:2019-05-01T06:45:12.6958795Z</Message></Error>.\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nNo.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/585", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/585/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/585/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/585", "id": 438973825, "node_id": "MDU6SXNzdWU0Mzg5NzM4MjU=", "number": 585, "title": "unable to install azure packages when azure publish - cannot install cryptography-2.6.1 dependency:", "user": {"login": "vksantoshsunny", "id": 26269568, "node_id": "MDQ6VXNlcjI2MjY5NTY4", "avatar_url": "https://avatars3.githubusercontent.com/u/26269568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vksantoshsunny", "html_url": "https://github.com/vksantoshsunny", "followers_url": "https://api.github.com/users/vksantoshsunny/followers", "following_url": "https://api.github.com/users/vksantoshsunny/following{/other_user}", "gists_url": "https://api.github.com/users/vksantoshsunny/gists{/gist_id}", "starred_url": "https://api.github.com/users/vksantoshsunny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vksantoshsunny/subscriptions", "organizations_url": "https://api.github.com/users/vksantoshsunny/orgs", "repos_url": "https://api.github.com/users/vksantoshsunny/repos", "events_url": "https://api.github.com/users/vksantoshsunny/events{/privacy}", "received_events_url": "https://api.github.com/users/vksantoshsunny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-30T20:56:00Z", "updated_at": "2019-06-04T00:58:31Z", "closed_at": "2019-06-04T00:58:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n1.5.0\r\n\r\n### What problem was encountered?\r\ncannot install cryptography-2.6.1 dependency: binary dependencies without wheels are not supported.  Use the --build-native-deps option to automatically build and configure the dependencies using a Docker container. More information at https://aka.ms/func-python-publish\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/579", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/579/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/579/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/579/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/579", "id": 437510126, "node_id": "MDU6SXNzdWU0Mzc1MTAxMjY=", "number": 579, "title": "BlobPermissions missing List permission", "user": {"login": "briglx", "id": 1304774, "node_id": "MDQ6VXNlcjEzMDQ3NzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1304774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briglx", "html_url": "https://github.com/briglx", "followers_url": "https://api.github.com/users/briglx/followers", "following_url": "https://api.github.com/users/briglx/following{/other_user}", "gists_url": "https://api.github.com/users/briglx/gists{/gist_id}", "starred_url": "https://api.github.com/users/briglx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briglx/subscriptions", "organizations_url": "https://api.github.com/users/briglx/orgs", "repos_url": "https://api.github.com/users/briglx/repos", "events_url": "https://api.github.com/users/briglx/events{/privacy}", "received_events_url": "https://api.github.com/users/briglx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-26T05:55:28Z", "updated_at": "2019-04-26T23:40:00Z", "closed_at": "2019-04-26T22:35:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nFrom Azure Notebooks\r\nabsl-py==0.7.0\r\nadal==1.2.1\r\nalabaster==0.7.11\r\naltair==2.4.1\r\nanaconda-client==1.7.2\r\nanaconda-navigator==1.9.2\r\nanaconda-project==0.8.2\r\nantlr4-python3-runtime==4.7.2\r\nappdirs==1.4.3\r\napplicationinsights==0.11.7\r\nargcomplete==1.9.4\r\narrow==0.13.1\r\nasn1crypto==0.24.0\r\nastor==0.7.1\r\nastroid==2.0.4\r\nastropy==3.0.4\r\natomicwrites==1.2.1\r\nattrs==18.2.0\r\nAutomat==0.7.0\r\nazure==4.0.0\r\nazure-applicationinsights==0.1.0\r\nazure-batch==4.1.3\r\nazure-cli-core==2.0.54\r\nazure-cli-nspkg==3.0.3\r\nazure-cli-telemetry==1.0.1\r\nazure-common==1.1.18\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.5\r\nazure-datalake-store==0.0.43\r\nazure-eventgrid==1.2.0\r\nazure-graphrbac==0.40.0\r\nazure-keyvault==1.1.0\r\nazure-kusto-data==0.0.20\r\nazure-kusto-ingest==0.0.20\r\nazure-loganalytics==0.1.0\r\nazure-mgmt==4.0.0\r\nazure-mgmt-advisor==1.0.1\r\nazure-mgmt-applicationinsights==0.1.1\r\nazure-mgmt-authorization==0.50.0\r\nazure-mgmt-batch==5.0.1\r\nazure-mgmt-batchai==2.0.0\r\nazure-mgmt-billing==0.2.0\r\nazure-mgmt-cdn==3.0.0\r\nazure-mgmt-cognitiveservices==3.0.0\r\nazure-mgmt-commerce==1.0.1\r\nazure-mgmt-compute==4.4.0\r\nazure-mgmt-consumption==2.0.0\r\nazure-mgmt-containerinstance==1.4.0\r\nazure-mgmt-containerregistry==2.7.0\r\nazure-mgmt-containerservice==4.4.0\r\nazure-mgmt-cosmosdb==0.4.1\r\nazure-mgmt-datafactory==0.6.0\r\nazure-mgmt-datalake-analytics==0.6.0\r\nazure-mgmt-datalake-nspkg==3.0.1\r\nazure-mgmt-datalake-store==0.5.0\r\nazure-mgmt-datamigration==1.0.0\r\nazure-mgmt-devspaces==0.1.0\r\nazure-mgmt-devtestlabs==2.2.0\r\nazure-mgmt-dns==2.1.0\r\nazure-mgmt-eventgrid==1.0.0\r\nazure-mgmt-eventhub==2.3.0\r\nazure-mgmt-hanaonazure==0.1.1\r\nazure-mgmt-iotcentral==0.1.0\r\nazure-mgmt-iothub==0.5.0\r\nazure-mgmt-iothubprovisioningservices==0.2.0\r\nazure-mgmt-keyvault==1.1.0\r\nazure-mgmt-loganalytics==0.2.0\r\nazure-mgmt-logic==3.0.0\r\nazure-mgmt-machinelearningcompute==0.4.1\r\nazure-mgmt-managementgroups==0.1.0\r\nazure-mgmt-managementpartner==0.1.0\r\nazure-mgmt-maps==0.1.0\r\nazure-mgmt-marketplaceordering==0.1.0\r\nazure-mgmt-media==1.0.0\r\nazure-mgmt-monitor==0.5.2\r\nazure-mgmt-msi==0.2.0\r\nazure-mgmt-network==2.5.1\r\nazure-mgmt-notificationhubs==2.0.0\r\nazure-mgmt-nspkg==3.0.2\r\nazure-mgmt-policyinsights==0.1.0\r\nazure-mgmt-powerbiembedded==2.0.0\r\nazure-mgmt-rdbms==1.7.0\r\nazure-mgmt-recoveryservices==0.3.0\r\nazure-mgmt-recoveryservicesbackup==0.3.0\r\nazure-mgmt-redis==5.0.0\r\nazure-mgmt-relay==0.1.0\r\nazure-mgmt-reservations==0.2.1\r\nazure-mgmt-resource==2.0.0\r\nazure-mgmt-scheduler==2.0.0\r\nazure-mgmt-search==2.0.0\r\nazure-mgmt-servicebus==0.5.3\r\nazure-mgmt-servicefabric==0.2.0\r\nazure-mgmt-signalr==0.1.1\r\nazure-mgmt-sql==0.9.1\r\nazure-mgmt-storage==2.0.0\r\nazure-mgmt-subscription==0.2.0\r\nazure-mgmt-trafficmanager==0.50.0\r\nazure-mgmt-web==0.35.0\r\nazure-nspkg==3.0.2\r\nazure-servicebus==0.21.1\r\nazure-servicefabric==6.3.0.0\r\nazure-servicemanagement-legacy==0.20.6\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.0\r\nazure-storage-file==1.4.0\r\nazure-storage-queue==1.4.0\r\nazureml-contrib-notebook==1.0.17\r\nazureml-core==1.0.17.1\r\nazureml-dataprep==1.0.16\r\nazureml-dataprep-native==11.2.2\r\nazureml-explain-model==1.0.17\r\nazureml-pipeline==1.0.17\r\nazureml-pipeline-core==1.0.17\r\nazureml-pipeline-steps==1.0.17\r\nazureml-sdk==1.0.17\r\nazureml-telemetry==1.0.17\r\nazureml-train==1.0.17\r\nazureml-train-automl==1.0.17.1\r\nazureml-train-core==1.0.17\r\nazureml-train-restclients-hyperdrive==1.0.17\r\nazureml-widgets==1.0.17\r\nBabel==2.6.0\r\nbackcall==0.1.0\r\nbackports.shutil-get-terminal-size==1.0.0\r\nbackports.tempfile==1.0\r\nbackports.weakref==1.0rc1\r\nbcrypt==3.1.6\r\nbeautifier==0.5.5\r\nbeautifulsoup4==4.6.3\r\nbitarray==0.8.3\r\nbkcharts==0.2\r\nblaze==0.11.3\r\nbleach==1.5.0\r\nbokeh==0.13.0\r\nboto==2.49.0\r\nboto3==1.4.8\r\nbotocore==1.8.50\r\nBottleneck==1.2.1\r\nbqplot==0.11.5\r\nbrewer2mpl==1.4.1\r\nbz2file==0.98\r\nCacheControl==0.12.5\r\ncertifi==2018.10.15\r\ncffi==1.11.5\r\nchardet==3.0.4\r\nClick==7.0\r\ncloudpickle==0.5.6\r\nclyent==1.2.2\r\ncntk==2.5.1\r\ncolorama==0.3.9\r\nconda==4.5.11\r\nconda-build==3.16.0\r\nconstantly==15.1.0\r\ncontextlib2==0.5.5\r\ncoverage==3.7.1\r\ncoveralls==0.5\r\ncryptography==2.3.1\r\ncycler==0.10.0\r\nCython==0.28.5\r\ncytoolz==0.9.0.1\r\ndask==0.19.3\r\ndatacleaner==0.1.5\r\ndatascience==0.10.6\r\ndatashape==0.5.4\r\ndecorator==4.3.0\r\ndefusedxml==0.5.0\r\nDeprecated==1.2.5\r\ndill==0.2.9\r\ndistributed==1.23.3\r\ndistro==1.4.0\r\ndocker==3.7.0\r\ndocker-py==1.10.6\r\ndocker-pycreds==0.4.0\r\ndocopt==0.6.2\r\ndocutils==0.14\r\nDora==0.0.2\r\ndotnetcore2==2.1.7\r\nedward==1.3.5\r\nelasticsearch==6.3.1\r\nentrypoints==0.2.3\r\net-xmlfile==1.0.1\r\nfastcache==1.0.2\r\nfeedparser==5.2.1\r\nfilelock==3.0.8\r\nFlask==1.0.2\r\nFlask-Cors==3.0.6\r\nfolium==0.2.1\r\nftfy==5.3.0\r\nfuture==0.16.0\r\nfutures==3.1.1\r\ngast==0.2.2\r\nGDAL==2.3.0\r\ngevent==1.3.6\r\nggplot==0.11.5\r\nglob2==0.6\r\ngmpy2==2.0.8\r\ngraphviz==0.10.1\r\ngreenlet==0.4.15\r\ngrpcio==1.19.0\r\ngym==0.12.0\r\nh5py==2.8.0\r\nhdmedians==0.13\r\nheapdict==1.0.0\r\nholoviews==1.10.7\r\nhtml5lib==0.9999999\r\nhumanfriendly==4.18\r\nhyperlink==18.0.0\r\nidna==2.7\r\nimageio==2.4.1\r\nimagesize==1.1.0\r\nincremental==17.5.0\r\nipykernel==5.1.0\r\nipython==7.1.1\r\nipython-genutils==0.2.0\r\nipywidgets==7.4.2\r\nisodate==0.6.0\r\nisort==4.3.4\r\nitsdangerous==0.24\r\njdcal==1.4\r\njedi==0.13.1\r\njeepney==0.4\r\nJinja2==2.10\r\njmespath==0.9.4\r\njoblib==0.12.5\r\nJsonForm==0.0.2\r\njsonpickle==1.1\r\njsonschema==2.6.0\r\nJsonSir==0.0.2\r\njupyter==1.0.0\r\njupyter-client==5.2.3\r\njupyter-console==6.0.0\r\njupyter-core==4.4.0\r\njupyterlab==0.34.12\r\njupyterlab-launcher==0.13.1\r\nkafka-python==1.4.4\r\nkazoo==2.5.0\r\nKeras==2.2.2\r\nKeras-Applications==1.0.7\r\nKeras-Preprocessing==1.0.9\r\nkeyring==13.2.1\r\nkiwisolver==1.0.1\r\nklein==17.10.0\r\nknack==0.5.1\r\nKqlmagic==0.1.91\r\nlancet-ioam==0.9.0\r\nlazy-object-proxy==1.3.1\r\nlibarchive-c==2.8\r\nlightgbm==2.2.1\r\nline-profiler==2.1.2\r\nllvmlite==0.25.0\r\nlocket==0.2.0\r\nlockfile==0.12.2\r\nluigi==2.8.2\r\nlxml==4.2.5\r\nMarkdown==3.0.1\r\nMarkupSafe==1.1.0\r\nmatplotlib==3.0.0\r\nmccabe==0.6.1\r\nmemory-profiler==0.55.0\r\nmistune==0.8.4\r\nmkl-fft==1.0.6\r\nmkl-random==1.0.1\r\nmock==2.0.0\r\nmore-itertools==4.3.0\r\nmpmath==1.0.0\r\nmsgpack==0.5.6\r\nmsrest==0.6.4\r\nmsrestazure==0.6.0\r\nmultipledispatch==0.6.0\r\nnatsort==5.4.0\r\nnavigator-updater==0.2.1\r\nnbconvert==5.4.0\r\nnbformat==4.4.0\r\nndg-httpsclient==0.5.1\r\nnetworkx==2.2\r\nnltk==3.3\r\nnose==1.3.7\r\nnotebook==5.7.2\r\nnumba==0.40.0\r\nnumexpr==2.6.8\r\nnumpy==1.14.6\r\nnumpydoc==0.8.0\r\noauthlib==3.0.1\r\nodo==0.5.1\r\nokpy==1.13.11\r\nolefile==0.46\r\nonnx==1.4.1\r\nonnxmltools==1.3.0\r\nonnxruntime==0.1.4\r\nopencv-python==4.1.0.25\r\nopenfst==1.6.1\r\nopenpyxl==2.5.8\r\npackaging==18.0\r\npandas==0.22.0\r\npandasql==0.7.3\r\npandocfilters==1.4.2\r\nparam==1.7.0\r\nparamiko==2.4.2\r\nparso==0.3.1\r\npartd==0.3.8\r\npath.py==11.1.0\r\npathlib2==2.3.2\r\npathspec==0.5.9\r\npatsy==0.5.1\r\npbr==4.2.0\r\npep8==1.7.1\r\npexpect==4.6.0\r\nphonenumbers==8.10.6\r\npickleshare==0.7.5\r\nPillow==5.3.0\r\npkginfo==1.4.2\r\nplotly==3.6.1\r\npluggy==0.7.1\r\nply==3.11\r\nportalocker==1.2.1\r\nprettypandas==0.0.4\r\nprettytable==0.7.2\r\nprometheus-client==0.4.2\r\nprompt-toolkit==2.0.7\r\nprotobuf==3.7.0\r\npsutil==5.4.7\r\npsycopg2==2.7.5\r\nptyprocess==0.6.0\r\npy==1.6.0\r\npyang==1.7.8\r\npyasn1==0.4.4\r\npyasn1-modules==0.2.2\r\npycodestyle==2.4.0\r\npycosat==0.6.3\r\npycparser==2.19\r\npycrypto==2.6.1\r\npycurl==7.43.0.2\r\npydot==1.4.1\r\npyflakes==2.0.0\r\nPyGithub==1.43.5\r\npyglet==1.3.2\r\nPygments==2.2.0\r\nPyHamcrest==1.9.0\r\nPyJWT==1.7.1\r\npykafka==2.8.0\r\npylint==2.1.1\r\npymc==2.3.6\r\npymc3==3.6\r\npymongo==3.7.1\r\nPympler==0.6\r\npymssql==2.1.1\r\nPyMySQL==0.9.2\r\nPyNaCl==1.3.0\r\npyodbc==3.1.1\r\npyOpenSSL==18.0.0\r\npypachy==0.1.5\r\npyparsing==2.3.0\r\npyprof2calltree==1.4.4\r\nPySocks==1.6.8\r\npytest==3.8.2\r\npytest-arraydiff==0.2\r\npytest-astropy==0.4.0\r\npytest-doctestplus==0.1.3\r\npytest-openfiles==0.3.0\r\npytest-remotedata==0.3.0\r\npython-daemon==2.1.2\r\npython-dateutil==2.7.5\r\nPython-EasyConfig==0.1.7\r\npytz==2018.7\r\npyviz-comms==0.6.0\r\nPyWavelets==1.0.1\r\nPyYAML==3.13\r\npyzmq==17.1.2\r\nQtAwesome==0.5.0\r\nqtconsole==4.4.2\r\nQtPy==1.5.1\r\nrequests==2.21.0\r\nrequests-oauthlib==1.2.0\r\nResource==0.2.1\r\nretrying==1.3.3\r\nrope==0.11.0\r\nrpy2==3.0.1\r\nruamel-yaml==0.15.46\r\nruamel.yaml==0.15.51\r\ns3transfer==0.1.13\r\nscikit-bio==0.5.4\r\nscikit-image==0.13.0\r\nscikit-learn==0.19.1\r\nscipy==1.1.0\r\nscrubadub==1.2.0\r\nseaborn==0.9.0\r\nSecretStorage==3.1.0\r\nSend2Trash==1.5.0\r\nservice-identity==17.0.0\r\nshap==0.28.5\r\nsimplegeneric==0.8.1\r\nsingledispatch==3.4.0.3\r\nsix==1.11.0\r\nsklearn==0.0\r\nsklearn-pandas==1.7.0\r\nsnakeviz==1.0.0\r\nsnowballstemmer==1.2.1\r\nsortedcollections==1.0.1\r\nsortedcontainers==2.0.5\r\nSphinx==1.8.1\r\nsphinxcontrib-websupport==1.1.0\r\nspyder==3.3.1\r\nspyder-kernels==0.2.6\r\nSQLAlchemy==1.2.14\r\nstatsmodels==0.9.0\r\nsympy==1.3\r\ntables==3.4.4\r\ntabulate==0.8.2\r\ntblib==1.3.2\r\ntensorboard==1.12.2\r\ntensorflow==1.12.0\r\ntensorflow-tensorboard==0.1.8\r\ntermcolor==1.1.0\r\nterminado==0.8.1\r\ntestpath==0.4.2\r\ntextblob==0.10.0\r\ntf2onnx==0.3.1\r\nTheano==1.0.3\r\ntoolz==0.9.0\r\ntorch==0.4.1\r\ntorchvision==0.2.1\r\ntornado==4.5.3\r\ntqdm==4.26.0\r\ntraitlets==4.3.2\r\ntraittypes==0.2.1\r\ntreq==18.6.0\r\nTwisted==18.7.0\r\ntyped-ast==1.1.0\r\ntyping==3.6.6\r\ntyping-extensions==3.7.2\r\nunicodecsv==0.14.1\r\nupdate-checker==0.16\r\nurllib3==1.23\r\nwcwidth==0.1.7\r\nwebencodings==0.5.1\r\nwebsocket-client==0.55.0\r\nWerkzeug==0.14.1\r\nwget==3.2\r\nwidgetsnbextension==3.4.2\r\nword2vec==0.10.2\r\nwrapt==1.10.11\r\nxlrd==1.1.0\r\nXlsxWriter==1.1.1\r\nxlwt==1.3.0\r\nzict==0.1.3\r\nzope.interface==4.5.0\r\n\r\n### What problem was encountered?\r\nOrginally getting :\r\nAzureHttpError: Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature. ErrorCode: AuthenticationFailed\r\n\r\nFrom this code:\r\n```\r\ncontainer_sas_token = \\\r\n        block_blob_client.generate_container_shared_access_signature(\r\n            container_name,\r\n            permission=azureblob.BlobPermissions.READ,\r\n            expiry=datetime.datetime.utcnow() + datetime.timedelta(hours=2))\r\n\r\nblob_service = BlockBlobService(_STORAGE_ACCOUNT_NAME, container_sas_token)\r\ncontainers = blob_service.list_containers()\r\n```\r\n\r\nTried adding LIST  \r\n`permission=azureblob.BlobPermissions.READ |  azureblob.BlobPermissions.LIST`\r\nbut then get\r\n\r\ntype object 'BlobPermissions' has no attribute 'LIST'\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/572", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/572/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/572/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/572", "id": 432164064, "node_id": "MDU6SXNzdWU0MzIxNjQwNjQ=", "number": 572, "title": "Shared key being leaked  in Queue Logs", "user": {"login": "welcomemandeep", "id": 1931148, "node_id": "MDQ6VXNlcjE5MzExNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1931148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/welcomemandeep", "html_url": "https://github.com/welcomemandeep", "followers_url": "https://api.github.com/users/welcomemandeep/followers", "following_url": "https://api.github.com/users/welcomemandeep/following{/other_user}", "gists_url": "https://api.github.com/users/welcomemandeep/gists{/gist_id}", "starred_url": "https://api.github.com/users/welcomemandeep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/welcomemandeep/subscriptions", "organizations_url": "https://api.github.com/users/welcomemandeep/orgs", "repos_url": "https://api.github.com/users/welcomemandeep/repos", "events_url": "https://api.github.com/users/welcomemandeep/events{/privacy}", "received_events_url": "https://api.github.com/users/welcomemandeep/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-11T18:05:10Z", "updated_at": "2019-04-12T04:41:45Z", "closed_at": "2019-04-11T18:46:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nqueue\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n0.37.0\r\n### What problem was encountered?\r\nINFO       2019-04-11 23:21:56,134 azure.storage.common.storageclient _perform_request                     257 : Client-Request-ID=7f37445c-5c82-11e9-8811-784f436e746c Outgoing request: Method=POST, Path=/{MY_QUEUE}/messages, Query={'messagettl': None, 'visibilitytimeout': None, 'timeout': None}, Headers={'Content-Length': '106', 'x-ms-client-request-id': '7f37445c-5c82-11e9-8811-784f436e746c', 'User-Agent': 'Azure-Storage/0.37.1-0.36.0 (Python CPython 2.7.16; Darwin 16.7.0)', 'x-ms-version': '2017-04-17', 'Authorization': u'SharedKey :__________SECRET_________________', 'x-ms-date': 'Thu, 11 Apr 2019 17:51:56 GMT'}.\r\n\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/571", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/571/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/571/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/571/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/571", "id": 429696918, "node_id": "MDU6SXNzdWU0Mjk2OTY5MTg=", "number": 571, "title": "Missing ContainerPermissions Add + Create", "user": {"login": "jrauschenbusch", "id": 2499843, "node_id": "MDQ6VXNlcjI0OTk4NDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/2499843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrauschenbusch", "html_url": "https://github.com/jrauschenbusch", "followers_url": "https://api.github.com/users/jrauschenbusch/followers", "following_url": "https://api.github.com/users/jrauschenbusch/following{/other_user}", "gists_url": "https://api.github.com/users/jrauschenbusch/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrauschenbusch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrauschenbusch/subscriptions", "organizations_url": "https://api.github.com/users/jrauschenbusch/orgs", "repos_url": "https://api.github.com/users/jrauschenbusch/repos", "events_url": "https://api.github.com/users/jrauschenbusch/events{/privacy}", "received_events_url": "https://api.github.com/users/jrauschenbusch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235876945, "node_id": "MDU6TGFiZWwyMzU4NzY5NDU=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-05T10:54:30Z", "updated_at": "2019-05-14T23:34:54Z", "closed_at": "2019-05-14T23:34:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nBlob\r\n\r\n### Which version of the SDK was used?\r\nazure-storage-blob v1.5.0\r\n\r\n### What problem was encountered?\r\n`ADD` and `CREATE` cannot be used as permissions, but they are documented here:\r\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/constructing-a-service-sas#specifying-permissions\r\n\r\n### Have you found a mitigation/solution?\r\nAdd `ADD` and `CREATE` as additional permissions.\r\n\r\nRelated issue:\r\nhttps://github.com/Azure/azure-cli/issues/8809", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/570", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/570/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/570/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/570", "id": 429639569, "node_id": "MDU6SXNzdWU0Mjk2Mzk1Njk=", "number": 570, "title": "ImportError: No module named 'azure'", "user": {"login": "mcppp", "id": 48440762, "node_id": "MDQ6VXNlcjQ4NDQwNzYy", "avatar_url": "https://avatars3.githubusercontent.com/u/48440762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcppp", "html_url": "https://github.com/mcppp", "followers_url": "https://api.github.com/users/mcppp/followers", "following_url": "https://api.github.com/users/mcppp/following{/other_user}", "gists_url": "https://api.github.com/users/mcppp/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcppp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcppp/subscriptions", "organizations_url": "https://api.github.com/users/mcppp/orgs", "repos_url": "https://api.github.com/users/mcppp/repos", "events_url": "https://api.github.com/users/mcppp/events{/privacy}", "received_events_url": "https://api.github.com/users/mcppp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-05T08:28:13Z", "updated_at": "2019-04-11T21:46:37Z", "closed_at": "2019-04-11T21:46:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, sorry if my question is not asked properly, but I am new to GitHub and to this topic too. \r\n\r\nI am trying to send data to Azure Blob Storage and for that I am first checking that everything works by using the code sample in the tutorial website (I'm posting the link because somehow I cannot copy it)\r\n\r\nhttps://docs.microsoft.com/en-us/python/api/overview/azure/storage?view=azure-python\r\n\r\nThis is the output of my pip freeze:\r\n\r\n`azure==4.0.0\r\nazure-applicationinsights==0.1.0\r\nazure-batch==4.1.3\r\nazure-common==1.1.18\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.5\r\nazure-datalake-store==0.0.44\r\nazure-eventgrid==1.2.0\r\nazure-graphrbac==0.40.0\r\nazure-keyvault==1.1.0\r\nazure-loganalytics==0.1.0\r\nazure-mgmt==4.0.0\r\nazure-mgmt-advisor==1.0.1\r\nazure-mgmt-applicationinsights==0.1.1\r\nazure-mgmt-authorization==0.50.0\r\nazure-mgmt-batch==5.0.1\r\nazure-mgmt-batchai==2.0.0\r\nazure-mgmt-billing==0.2.0\r\nazure-mgmt-cdn==3.1.0\r\nazure-mgmt-cognitiveservices==3.0.0\r\nazure-mgmt-commerce==1.0.1\r\nazure-mgmt-compute==4.5.1\r\nazure-mgmt-consumption==2.0.0\r\nazure-mgmt-containerinstance==1.4.1\r\nazure-mgmt-containerregistry==2.7.0\r\nazure-mgmt-containerservice==4.4.0\r\nazure-mgmt-cosmosdb==0.4.1\r\nazure-mgmt-datafactory==0.6.0\r\nazure-mgmt-datalake-analytics==0.6.0\r\nazure-mgmt-datalake-nspkg==3.0.1\r\nazure-mgmt-datalake-store==0.5.0\r\nazure-mgmt-datamigration==1.0.0\r\nazure-mgmt-devspaces==0.1.0\r\nazure-mgmt-devtestlabs==2.2.0\r\nazure-mgmt-dns==2.1.0\r\nazure-mgmt-eventgrid==1.0.0\r\nazure-mgmt-eventhub==2.4.0\r\nazure-mgmt-hanaonazure==0.1.1\r\nazure-mgmt-iotcentral==0.1.0\r\nazure-mgmt-iothub==0.5.0\r\nazure-mgmt-iothubprovisioningservices==0.2.0\r\nazure-mgmt-keyvault==1.1.0\r\nazure-mgmt-loganalytics==0.2.0\r\nazure-mgmt-logic==3.0.0\r\nazure-mgmt-machinelearningcompute==0.4.1\r\nazure-mgmt-managementgroups==0.1.0\r\nazure-mgmt-managementpartner==0.1.0\r\nazure-mgmt-maps==0.1.0\r\nazure-mgmt-marketplaceordering==0.1.0\r\nazure-mgmt-media==1.0.0\r\nazure-mgmt-monitor==0.5.2\r\nazure-mgmt-msi==0.2.0\r\nazure-mgmt-network==2.6.0\r\nazure-mgmt-notificationhubs==2.0.0\r\nazure-mgmt-nspkg==3.0.2\r\nazure-mgmt-policyinsights==0.1.0\r\nazure-mgmt-powerbiembedded==2.0.0\r\nazure-mgmt-rdbms==1.7.1\r\nazure-mgmt-recoveryservices==0.3.0\r\nazure-mgmt-recoveryservicesbackup==0.3.0\r\nazure-mgmt-redis==5.0.0\r\nazure-mgmt-relay==0.1.0\r\nazure-mgmt-reservations==0.2.1\r\nazure-mgmt-resource==2.1.0\r\nazure-mgmt-scheduler==2.0.0\r\nazure-mgmt-search==2.0.0\r\nazure-mgmt-servicebus==0.5.3\r\nazure-mgmt-servicefabric==0.2.0\r\nazure-mgmt-signalr==0.1.1\r\nazure-mgmt-sql==0.9.1\r\nazure-mgmt-storage==2.0.0\r\nazure-mgmt-subscription==0.2.0\r\nazure-mgmt-trafficmanager==0.50.0\r\nazure-mgmt-web==0.35.0\r\nazure-nspkg==3.0.2\r\nazure-servicebus==0.21.1\r\nazure-servicefabric==6.3.0.0\r\nazure-servicemanagement-legacy==0.20.6\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.0\r\nazure-storage-file==1.4.0\r\nazure-storage-nspkg==3.1.0\r\nazure-storage-queue==1.4.0\r\n`\r\n\r\n\r\nAnd this is the error I get (both with my own python script and with the code sample shown above):\r\n`Traceback (most recent call last):\r\n  File \"azuretest.py\", line 1, in <module>\r\n    from azure.storage.blob import BlockBlobService\r\nImportError: No module named 'azure'\r\n`\r\n\r\nI cannot find the solution anywhere and I have uninstalled and installed azure and azure-blob-storage a hundred times. Any ideas?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/569", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/569/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/569/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/569", "id": 427402005, "node_id": "MDU6SXNzdWU0Mjc0MDIwMDU=", "number": 569, "title": "status=409 error (container is being deleted) is not retired by built-in retry classes", "user": {"login": "rfernand2", "id": 4296158, "node_id": "MDQ6VXNlcjQyOTYxNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4296158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rfernand2", "html_url": "https://github.com/rfernand2", "followers_url": "https://api.github.com/users/rfernand2/followers", "following_url": "https://api.github.com/users/rfernand2/following{/other_user}", "gists_url": "https://api.github.com/users/rfernand2/gists{/gist_id}", "starred_url": "https://api.github.com/users/rfernand2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rfernand2/subscriptions", "organizations_url": "https://api.github.com/users/rfernand2/orgs", "repos_url": "https://api.github.com/users/rfernand2/repos", "events_url": "https://api.github.com/users/rfernand2/events{/privacy}", "received_events_url": "https://api.github.com/users/rfernand2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-31T14:21:10Z", "updated_at": "2019-04-12T00:45:53Z", "closed_at": "2019-04-12T00:45:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-batch==6.0.0\r\nazure-common==1.1.18\r\nazure-storage-blob==1.4.0\r\nazure-storage-common==1.4.0\r\nazure-storage-file==1.4.0\r\n\r\n### What problem was encountered?\r\nAfter deleting a container, I tried to create another container with the same name.  If the time interval is between these actions is short (under 30 secs or so), the error \"container is being deleted\" is issued.  I tried setting client.retry to LinearRetry().retry, but the error is still not retried. \r\n\r\n### Analysis\r\nlines 72-81 in azure-storage-common/azure/storage/common/retry.py show that status=409 is handled by returning False (never retry).   This is a common problem (for my code at least) - I recommend that it be enabled for retries.\r\n\r\n### Stack Trace\r\ntClient-Request-ID=08146a00-53be-11e9-8644-309c23b63418 Retry policy did not allow for a retry: Server-Timestamp=Sun, 31 Mar 2019 14:05:23 GMT, Server-Request-ID=5553e8f2-e01e-00de-60ca-e798e6000000, HTTP status code=409, Exception=The specified container is being deleted. Try operation later. ErrorCode: ContainerBeingDeleted<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ContainerBeingDeleted</Code><Message>The specified container is being deleted. Try operation later.RequestId:5553e8f2-e01e-00de-60ca-e798e6000000Time:2019-03-31T14:05:23.4952262Z</Message></Error>.\r\nTraceback (most recent call last):\r\n  File \"xt_test.py\", line 114, in <module>\r\n    store_test(xt)\r\n  File \"xt_test.py\", line 21, in store_test\r\n    xt.create_workspace(ws_name)\r\n  File \"c:\\github\\ExperimentTools\\xt\\xt_store.py\", line 65, in create_workspace\r\n    self.helper.create_workspace(ws_name, description)\r\n  File \"c:\\github\\ExperimentTools\\xt\\xt_azure_store_blob.py\", line 88, in create_workspace\r\n    self.error(\"could not create workspace: \" + ws_name)\r\n  File \"c:\\github\\ExperimentTools\\xt\\xt_azure_store_blob.py\", line 52, in error\r\n    raise Exception(f\"Error - {msg}\")\r\nException: Error - could not create workspace: ws1\r\n\r\n### Have you found a mitigation/solution?\r\nUse a custom retry callback to retry this error.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/564", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/564/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/564/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/564/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/564", "id": 425647796, "node_id": "MDU6SXNzdWU0MjU2NDc3OTY=", "number": 564, "title": "Request: Introduce validate() method to BlockBlobService", "user": {"login": "polarapfel", "id": 36647, "node_id": "MDQ6VXNlcjM2NjQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/36647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polarapfel", "html_url": "https://github.com/polarapfel", "followers_url": "https://api.github.com/users/polarapfel/followers", "following_url": "https://api.github.com/users/polarapfel/following{/other_user}", "gists_url": "https://api.github.com/users/polarapfel/gists{/gist_id}", "starred_url": "https://api.github.com/users/polarapfel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polarapfel/subscriptions", "organizations_url": "https://api.github.com/users/polarapfel/orgs", "repos_url": "https://api.github.com/users/polarapfel/repos", "events_url": "https://api.github.com/users/polarapfel/events{/privacy}", "received_events_url": "https://api.github.com/users/polarapfel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-26T21:03:02Z", "updated_at": "2019-04-12T01:24:47Z", "closed_at": "2019-04-12T01:24:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nAny.\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\nazure-common==1.1.18\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.0\r\nazure-storage-queue==1.4.0\r\n\r\n### What problem was encountered?\r\n\r\nCreating a service object is not validated.\r\n\r\n```python\r\nBlockBlobService(account_name=someaccount, account_key='invalid')\r\n```\r\n\r\nAs there is no API request yet at this stage, the first actual request might fail. The exception error message raised is not helpful. For example, when providing an invalid key and then attempting to create a container in a try...except block, the exception text just states `Incorrect padding`.\r\n\r\nAfter creating the BlockBlobService object, it would be great to have a `BlockBlobService.validate()` method with the following properties/behavior:\r\n\r\n* Executes with a deterministic cost regardless of state of storage account (e.g. number of containers, blobs etc.)\r\n* Returns true of if the credentials are working. Returns false otherwise.\r\n\r\nThe purpose of this method would allow for quickly failing in a program and abort the flow (e.g. in an Azure Function App, rather than try to run (expensive) operations (some of them non-storage related, like expensive request input validation, e.g. md5sum etc.).\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nThe next best thing is to run the cheapest possible (and non-impactful) storage operation and see if that succeeds. For example, listing all containers. Unfortunately, this will differ from storage account to storage account based on how many containers there are.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/562", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/562/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/562/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/562", "id": 424720487, "node_id": "MDU6SXNzdWU0MjQ3MjA0ODc=", "number": 562, "title": "Retry policy did not allow for a retry", "user": {"login": "mallik3006", "id": 44556708, "node_id": "MDQ6VXNlcjQ0NTU2NzA4", "avatar_url": "https://avatars2.githubusercontent.com/u/44556708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mallik3006", "html_url": "https://github.com/mallik3006", "followers_url": "https://api.github.com/users/mallik3006/followers", "following_url": "https://api.github.com/users/mallik3006/following{/other_user}", "gists_url": "https://api.github.com/users/mallik3006/gists{/gist_id}", "starred_url": "https://api.github.com/users/mallik3006/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mallik3006/subscriptions", "organizations_url": "https://api.github.com/users/mallik3006/orgs", "repos_url": "https://api.github.com/users/mallik3006/repos", "events_url": "https://api.github.com/users/mallik3006/events{/privacy}", "received_events_url": "https://api.github.com/users/mallik3006/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-25T04:40:18Z", "updated_at": "2019-03-26T05:24:00Z", "closed_at": "2019-03-26T05:23:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-blob==1.5.0\r\nazure-storage-common==1.4.0\r\nazure-storage-file==1.4.0\r\nazure-storage-queue==1.4.0\r\n\r\n### What problem was encountered?\r\n\r\nI'm getting retry did not allow issue:\r\n\r\n```bash\r\nClient-Request-ID=3bfd0839-4ebb-11e9-a920-080027deca13 Retry policy did not allow for a retry: Server-Timestamp=Mon, 25 Mar 2019 05:02:46 GMT, Server-Request-ID=36a57b91-901e-0119-0dc7-e2a272000000, HTTP status code=404, Exception=The specified blob does not exist. ErrorCode: BlobNotFound<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>BlobNotFound</Code><Message>The specified blob does not exist.RequestId:36a57b91-901e-0119-0dc7-e2a272000000Time:2019-03-25T05:02:46.6337446Z</Message></Error>.\r\n```\r\n\r\n```python\r\nblob_file = os.path.basename(destination)\r\nget_gen = block_blob_service.list_blobs(container)\r\nfor blob in get_gen:\r\n      if os.path.basename(blob.name) == blob_file:\r\n           block_blob_service.get_blob_to_path(container, blob, download_path)\r\n```\r\n\r\nAppears like, 2nd request to get the blob is giving the error. Only one operation (here list_blobs)\r\nat a time in a  request is being allowed. File size isn't an issue and the file exists.\r\nI can download the same file if I use only one method at a time i.e. get_to_path for download in this case without listing the blobs. I need to search for the blobs and then download for which I need both operations working simultaneously.\r\n\r\nI tried adding the Linear and exponential retries but it did not solve the issue.\r\nPlease could you provide a resolution?\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/567", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/567/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/567/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/567", "id": 426655681, "node_id": "MDU6SXNzdWU0MjY2NTU2ODE=", "number": 567, "title": "FileService object in azure.storage.file has SSL 'certificate verify failed' error ", "user": {"login": "utadamai", "id": 13161467, "node_id": "MDQ6VXNlcjEzMTYxNDY3", "avatar_url": "https://avatars2.githubusercontent.com/u/13161467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utadamai", "html_url": "https://github.com/utadamai", "followers_url": "https://api.github.com/users/utadamai/followers", "following_url": "https://api.github.com/users/utadamai/following{/other_user}", "gists_url": "https://api.github.com/users/utadamai/gists{/gist_id}", "starred_url": "https://api.github.com/users/utadamai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utadamai/subscriptions", "organizations_url": "https://api.github.com/users/utadamai/orgs", "repos_url": "https://api.github.com/users/utadamai/repos", "events_url": "https://api.github.com/users/utadamai/events{/privacy}", "received_events_url": "https://api.github.com/users/utadamai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-03-20T23:46:31Z", "updated_at": "2020-05-21T07:37:08Z", "closed_at": "2019-04-12T01:03:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "just updated on one setup to the latest azure python sdk, then when trying to create a file share in storage account, it's giving 'certificate verify failed':\r\n\r\nazure.common.AzureException: HTTPSConnectionPool(host='smallflowesa.file.core.windows.net', port=443): Max retries exceeded with url: /hett?restype=share (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))\r\n\r\non the other setup with older version of python sdk, everything works fine. \r\nmy code:\r\n\r\nfrom azure.storage.file import FileService\r\n\r\nfile_service = FileService(account_name='**',account_key='**',endpoint_suffix='core.windows.net')\r\n\r\nfile_service.create_share('***')\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/560", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/560/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/560/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/560", "id": 421254917, "node_id": "MDU6SXNzdWU0MjEyNTQ5MTc=", "number": 560, "title": "Support for Python 3.6 and Python 3.7", "user": {"login": "polarapfel", "id": 36647, "node_id": "MDQ6VXNlcjM2NjQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/36647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/polarapfel", "html_url": "https://github.com/polarapfel", "followers_url": "https://api.github.com/users/polarapfel/followers", "following_url": "https://api.github.com/users/polarapfel/following{/other_user}", "gists_url": "https://api.github.com/users/polarapfel/gists{/gist_id}", "starred_url": "https://api.github.com/users/polarapfel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/polarapfel/subscriptions", "organizations_url": "https://api.github.com/users/polarapfel/orgs", "repos_url": "https://api.github.com/users/polarapfel/repos", "events_url": "https://api.github.com/users/polarapfel/events{/privacy}", "received_events_url": "https://api.github.com/users/polarapfel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-03-14T21:34:15Z", "updated_at": "2019-04-12T01:00:19Z", "closed_at": "2019-04-12T01:00:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hi,\r\n\r\nIn the [documentation](https://azure-storage.readthedocs.io/), it states the SDK only supports Python up to 3.5. Is this still accurate?\r\n\r\nIf it's still accurate, I would urge to include support for Python 3.6 and 3.7 ASAP, as Azure Functions for Python only supports Python 3.6 in preview currently and is working to supporting Python 3.7. Python 3.6.8 is the current release in 3.6 and the last release to receive bug-fix updates.\r\n\r\nthanks,\r\n\r\nTobias W.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/559", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/559/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/559/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/559/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/559", "id": 421170798, "node_id": "MDU6SXNzdWU0MjExNzA3OTg=", "number": 559, "title": "Possible multithread unsafe?", "user": {"login": "oak-tree", "id": 667153, "node_id": "MDQ6VXNlcjY2NzE1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/667153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oak-tree", "html_url": "https://github.com/oak-tree", "followers_url": "https://api.github.com/users/oak-tree/followers", "following_url": "https://api.github.com/users/oak-tree/following{/other_user}", "gists_url": "https://api.github.com/users/oak-tree/gists{/gist_id}", "starred_url": "https://api.github.com/users/oak-tree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oak-tree/subscriptions", "organizations_url": "https://api.github.com/users/oak-tree/orgs", "repos_url": "https://api.github.com/users/oak-tree/repos", "events_url": "https://api.github.com/users/oak-tree/events{/privacy}", "received_events_url": "https://api.github.com/users/oak-tree/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-14T18:08:59Z", "updated_at": "2019-03-14T21:25:10Z", "closed_at": "2019-03-14T21:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\n`from azure.storage.blob import BlockBlobService\r\n\r\nblob_service = BlockBlobService(account_name=conf['name'], account_key=conf['key'])\r\n`\r\n\r\n### What problem was encountered?\r\nWe are using `threadpool` to do `async` uploading to `storage`. We are creating single `BlockBlobService` and share it across our threads pool. Is it possible that `BlockBlobService` is not a thread safe because it creates `requests.Session()`  at [StorageClient](https://github.com/Azure/azure-storage-python/blob/master/azure-storage-common/azure/storage/common/storageclient.py#L136)\r\n\r\n### EDIT\r\nIs it possible that its `threadsafe` because we are working against the same `storage account`?\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/556", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/556/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/556/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/556", "id": 415569992, "node_id": "MDU6SXNzdWU0MTU1Njk5OTI=", "number": 556, "title": "Milliseconds stripped from DateTime & EntityProperty(EdmType.DATETIME) during serialization.", "user": {"login": "PhillVixx", "id": 46777541, "node_id": "MDQ6VXNlcjQ2Nzc3NTQx", "avatar_url": "https://avatars0.githubusercontent.com/u/46777541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PhillVixx", "html_url": "https://github.com/PhillVixx", "followers_url": "https://api.github.com/users/PhillVixx/followers", "following_url": "https://api.github.com/users/PhillVixx/following{/other_user}", "gists_url": "https://api.github.com/users/PhillVixx/gists{/gist_id}", "starred_url": "https://api.github.com/users/PhillVixx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PhillVixx/subscriptions", "organizations_url": "https://api.github.com/users/PhillVixx/orgs", "repos_url": "https://api.github.com/users/PhillVixx/repos", "events_url": "https://api.github.com/users/PhillVixx/events{/privacy}", "received_events_url": "https://api.github.com/users/PhillVixx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-02-28T11:11:35Z", "updated_at": "2019-04-16T19:15:14Z", "closed_at": "2019-04-15T06:06:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nPossibly all that use azure-storage-common \r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.18\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.5\r\nazure-nspkg==3.0.2\r\nazure-storage-common==1.4.0\r\n\r\n### What problem was encountered?\r\nThe _to_utc_datetime function in azure/storage/common/_serialization.py\r\n does not include milliseconds and so all datetime objects have milliseconds stripped when being sent to azure.\r\n\r\n### Have you found a mitigation/solution?\r\nAdding .%f seems to work: \u201creturn value.strftime('%Y-%m-%dT%H:%M:%S.%fZ')\u201d\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/555", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/555/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/555/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/555/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/555", "id": 414748660, "node_id": "MDU6SXNzdWU0MTQ3NDg2NjA=", "number": 555, "title": "remnants of azure.storage.table", "user": {"login": "kwhitehall", "id": 7198635, "node_id": "MDQ6VXNlcjcxOTg2MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7198635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwhitehall", "html_url": "https://github.com/kwhitehall", "followers_url": "https://api.github.com/users/kwhitehall/followers", "following_url": "https://api.github.com/users/kwhitehall/following{/other_user}", "gists_url": "https://api.github.com/users/kwhitehall/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwhitehall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwhitehall/subscriptions", "organizations_url": "https://api.github.com/users/kwhitehall/orgs", "repos_url": "https://api.github.com/users/kwhitehall/repos", "events_url": "https://api.github.com/users/kwhitehall/events{/privacy}", "received_events_url": "https://api.github.com/users/kwhitehall/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-26T18:14:11Z", "updated_at": "2019-02-27T02:45:32Z", "closed_at": "2019-02-27T02:25:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nN/A\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n0.36.0\r\n\r\n### What problem was encountered?\r\nIn azure.storage.__version__=0.36.0 \r\nthe remnants of dir(azure.storage.table)=['AzureBatchOperationError', 'AzureBatchValidationError', 'EdmType', 'Entity', 'EntityProperty', 'Table', 'TableBatch', 'TablePayloadFormat', 'TablePermissions', 'TableService', '__builtins__', '__doc__', '__file__', '__name__', '__package__', '__path__', '_deserialization', '_encryption', '_error', '_request', '_serialization', 'models', 'tablebatch', 'tableservice']\r\neven though this functionality isn't available\r\n\r\n### Have you found a mitigation/solution?\r\nN/A\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/553", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/553/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/553/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/553", "id": 407153376, "node_id": "MDU6SXNzdWU0MDcxNTMzNzY=", "number": 553, "title": "generating sas tokens fails with Arrow datetimes", "user": {"login": "kodonnell", "id": 8204904, "node_id": "MDQ6VXNlcjgyMDQ5MDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8204904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kodonnell", "html_url": "https://github.com/kodonnell", "followers_url": "https://api.github.com/users/kodonnell/followers", "following_url": "https://api.github.com/users/kodonnell/following{/other_user}", "gists_url": "https://api.github.com/users/kodonnell/gists{/gist_id}", "starred_url": "https://api.github.com/users/kodonnell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kodonnell/subscriptions", "organizations_url": "https://api.github.com/users/kodonnell/orgs", "repos_url": "https://api.github.com/users/kodonnell/repos", "events_url": "https://api.github.com/users/kodonnell/events{/privacy}", "received_events_url": "https://api.github.com/users/kodonnell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-06T09:50:03Z", "updated_at": "2019-04-13T01:23:43Z", "closed_at": "2019-04-12T01:36:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nI'm only using blob, not sure if it affects others.\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n`1.4.0`\r\n\r\n### What problem was encountered?\r\n\r\nA SAS token was generated when using an [Arrow](https://github.com/crsmithdev/arrow/) value. This \"worked\" fine, but the token was invalid. This is (I think) because `isinstance(date, <arrow value>)` returns `False`, and hence `_to_str` is used (see [here](https://github.com/Azure/azure-storage-python/blob/bc0cc86107ef6a1be49817420b2351bb71a31590/azure-storage-common/azure/storage/common/sharedaccesssignature.py#L130)). For an Arrow value, calling `str` on e.g. `arrow.utcnow()` returns the same string as should occur, except with the TZ `+00:00` appended. The resulting token (from e.g. `generate_container_shared_access_signature` has e.g. `se=2019-02-06T09%3A56%3A25%2B00%3A00`. When I try to use this SAS token, it's not authorized etc.\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nWell, there are a bunch. Since you don't want to be dependent on Arrow specifically, you could just do `if hasattr(value, 'strftime')` to test for \"date-like-ness\". Or, decide not to worry about it, and make Arrow users figure it out. (That said, adding a \"warning\" when `_to_str` get's called but there's a `strftime` attr might be worthwhile ...)\r\n\r\nNot sure if this applies to other date libraries etc.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/547", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/547/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/547/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/547", "id": 403982852, "node_id": "MDU6SXNzdWU0MDM5ODI4NTI=", "number": 547, "title": "Permissions denied when trying to upload temporary files on Windows", "user": {"login": "logachev", "id": 1036695, "node_id": "MDQ6VXNlcjEwMzY2OTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1036695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logachev", "html_url": "https://github.com/logachev", "followers_url": "https://api.github.com/users/logachev/followers", "following_url": "https://api.github.com/users/logachev/following{/other_user}", "gists_url": "https://api.github.com/users/logachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/logachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logachev/subscriptions", "organizations_url": "https://api.github.com/users/logachev/orgs", "repos_url": "https://api.github.com/users/logachev/repos", "events_url": "https://api.github.com/users/logachev/events{/privacy}", "received_events_url": "https://api.github.com/users/logachev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-28T20:00:26Z", "updated_at": "2019-04-12T00:29:39Z", "closed_at": "2019-04-12T00:29:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob (possibly others if they have `create_x_from_path()` API)\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nlatest\r\nWindows OS\r\n\r\n### What problem was encountered?\r\nBlockBlobService.create_blob_from_path() fails with `Permissions denied` on Windows when publishing file, created by `tempfile` library.\r\n\r\n### Have you found a mitigation/solution?\r\nPlease see this thread: https://stackoverflow.com/questions/15169101/how-to-create-a-temporary-file-that-can-be-read-by-a-subprocess\r\n\r\n```\r\ndef temp_opener(name, flag, mode=0o777):\r\n    return os.open(name, flag | os.O_TEMPORARY, mode)\r\n\r\nwith open(f.name, \"rb\", opener=temp_opener) as f:\r\n```\r\n\r\ninstead of \r\n\r\n```\r\nwith open(f.name, \"rb\") as f:\r\n```\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/544", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/544/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/544/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/544/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/544", "id": 400516793, "node_id": "MDU6SXNzdWU0MDA1MTY3OTM=", "number": 544, "title": "Queue Message Encoding Issue", "user": {"login": "plooploops", "id": 2498998, "node_id": "MDQ6VXNlcjI0OTg5OTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/2498998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plooploops", "html_url": "https://github.com/plooploops", "followers_url": "https://api.github.com/users/plooploops/followers", "following_url": "https://api.github.com/users/plooploops/following{/other_user}", "gists_url": "https://api.github.com/users/plooploops/gists{/gist_id}", "starred_url": "https://api.github.com/users/plooploops/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plooploops/subscriptions", "organizations_url": "https://api.github.com/users/plooploops/orgs", "repos_url": "https://api.github.com/users/plooploops/repos", "events_url": "https://api.github.com/users/plooploops/events{/privacy}", "received_events_url": "https://api.github.com/users/plooploops/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "rickle-msft", "id": 19536127, "node_id": "MDQ6VXNlcjE5NTM2MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/19536127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rickle-msft", "html_url": "https://github.com/rickle-msft", "followers_url": "https://api.github.com/users/rickle-msft/followers", "following_url": "https://api.github.com/users/rickle-msft/following{/other_user}", "gists_url": "https://api.github.com/users/rickle-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/rickle-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rickle-msft/subscriptions", "organizations_url": "https://api.github.com/users/rickle-msft/orgs", "repos_url": "https://api.github.com/users/rickle-msft/repos", "events_url": "https://api.github.com/users/rickle-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/rickle-msft/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rickle-msft", "id": 19536127, "node_id": "MDQ6VXNlcjE5NTM2MTI3", "avatar_url": "https://avatars3.githubusercontent.com/u/19536127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rickle-msft", "html_url": "https://github.com/rickle-msft", "followers_url": "https://api.github.com/users/rickle-msft/followers", "following_url": "https://api.github.com/users/rickle-msft/following{/other_user}", "gists_url": "https://api.github.com/users/rickle-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/rickle-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rickle-msft/subscriptions", "organizations_url": "https://api.github.com/users/rickle-msft/orgs", "repos_url": "https://api.github.com/users/rickle-msft/repos", "events_url": "https://api.github.com/users/rickle-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/rickle-msft/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-01-18T00:06:31Z", "updated_at": "2019-01-28T19:36:44Z", "closed_at": "2019-01-28T19:36:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We're looking to use the Azure Queue Service and wanted to see if it's possible to turn off the encoding in the queue service (either through portal or Python SDK).\r\n\r\nThis is how the messages are packed and placed into the queue.\r\n\r\ndef pack(message):\r\n    dumped = utils.dumps(message)\r\n    compressed = zlib.compress(dumped.encode('utf8'))\r\n    b64encoded = base64.b64encode(compressed)\r\n    return b64encoded.decode('ascii')\r\n\r\nWe'd like to unpack the messages.  When we try to decode this to ascii, we get an error that looks like this:\r\n\r\n'ascii' codec can't encode characters in position 1-2: ordinal not in range(128)\r\n\r\nSo the data looks like this in the queue.\r\n\r\nx\ufffd\ufffd\\iW\u06f8\u001a\ufffd\ufffd_\ufffd\ufffd\ufffd\\\u0011\u0256\u0017\ufffd\u04c4@\ufffd\u0010\b\ufffd\u0004h\ufffd\ufffd9\u001cm\u000e&^\ufffde\ufffd\ufffd9\ufffd\u07efdge\u001bBC\u000b\r\n\r\n![image](https://user-images.githubusercontent.com/2498998/51356865-16f08980-1a71-11e9-8e6e-5ce421a647be.png)\r\n\r\n\r\nIs there a way to stop the queue from performing additional encoding?\r\n\r\n+@priyaananthasankar\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/541", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/541/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/541/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/541", "id": 397401893, "node_id": "MDU6SXNzdWUzOTc0MDE4OTM=", "number": 541, "title": "Default retry time span too short for exponential retry", "user": {"login": "amerkel2", "id": 15261944, "node_id": "MDQ6VXNlcjE1MjYxOTQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/15261944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amerkel2", "html_url": "https://github.com/amerkel2", "followers_url": "https://api.github.com/users/amerkel2/followers", "following_url": "https://api.github.com/users/amerkel2/following{/other_user}", "gists_url": "https://api.github.com/users/amerkel2/gists{/gist_id}", "starred_url": "https://api.github.com/users/amerkel2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amerkel2/subscriptions", "organizations_url": "https://api.github.com/users/amerkel2/orgs", "repos_url": "https://api.github.com/users/amerkel2/repos", "events_url": "https://api.github.com/users/amerkel2/events{/privacy}", "received_events_url": "https://api.github.com/users/amerkel2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-01-09T14:43:32Z", "updated_at": "2019-01-14T07:45:00Z", "closed_at": "2019-01-14T07:45:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.16\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==1.4.0\r\nazure-storage-common==1.4.0\r\nazure-storage-nspkg==3.1.0\r\n\r\n\r\n### What problem was encountered?\r\nwe have observed failures because of temporary DNS errors like\r\n```\r\nIOError: ConnectionError: HTTPSConnectionPool(host='<REMOVED>.blob.core.windows.net', port=443):\r\n   Max retries exceeded with url: <REMOVED> (Caused by NewConnectionError('<urllib3.connection.VerifiredHTTPSConnection object at 0x7fa60114eb10>: Failed to establish a new connection: [Errno -2] Name or service not known',))\r\n```\r\nWe suspect this is because of live reconfigurations of the network fabric, which seem to take up to 120s, a time span which is not covered with the default of three retries of the exponential backoff policy, which is applied by default for block blob service.\r\n\r\n### Have you found a mitigation/solution?\r\nWe recommend to increase the default to five retries (this will result in retries after 15, 33, 57, 99, and 196 seconds).\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/540", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/540/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/540/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/540", "id": 395766528, "node_id": "MDU6SXNzdWUzOTU3NjY1Mjg=", "number": 540, "title": "set_blob_service_properties generates invalid request body when all args are None", "user": {"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-03T23:56:19Z", "updated_at": "2019-05-14T23:35:58Z", "closed_at": "2019-05-14T23:35:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n1.3.1\r\n\r\n### What problem was encountered?\r\n`set_blob_service_properties()` throws error with all args None despite expecting no-op:\r\n```\r\nazure.common.AzureHttpError: XML specified is not syntactically valid. ErrorCode: InvalidXmlDocument\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>InvalidXmlDocument</Code><Message>XML specified is not syntactically valid.\r\nRequestId:ae7cb42b-301e-001d-7dbd-a3fb9d000000\r\nTime:2019-01-03T23:40:35.2283077Z</Message><LineNumber>2</LineNumber><LinePosition>29</LinePosition><Reason>Element '' is not recognized.</Reason></Error>\r\n```\r\nDebugging shows that `_convert_service_properties_to_xml()` generates the following improper xml:\r\n`b\"<?xml version='1.0' encoding='utf-8'?>\\n<StorageServiceProperties />\"`\r\n### Have you found a mitigation/solution?\r\nYes, just provide one of the args\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/539", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/539/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/539/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/539/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/539", "id": 394237756, "node_id": "MDU6SXNzdWUzOTQyMzc3NTY=", "number": 539, "title": "Re-definition of _StorageSharedKeyAuthentication breaks mypy", "user": {"login": "sfc-gh-afedorov", "id": 42752788, "node_id": "MDQ6VXNlcjQyNzUyNzg4", "avatar_url": "https://avatars3.githubusercontent.com/u/42752788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfc-gh-afedorov", "html_url": "https://github.com/sfc-gh-afedorov", "followers_url": "https://api.github.com/users/sfc-gh-afedorov/followers", "following_url": "https://api.github.com/users/sfc-gh-afedorov/following{/other_user}", "gists_url": "https://api.github.com/users/sfc-gh-afedorov/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfc-gh-afedorov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfc-gh-afedorov/subscriptions", "organizations_url": "https://api.github.com/users/sfc-gh-afedorov/orgs", "repos_url": "https://api.github.com/users/sfc-gh-afedorov/repos", "events_url": "https://api.github.com/users/sfc-gh-afedorov/events{/privacy}", "received_events_url": "https://api.github.com/users/sfc-gh-afedorov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-26T20:40:20Z", "updated_at": "2019-07-08T22:48:26Z", "closed_at": "2019-07-08T22:48:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nstorage\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\nazure-common==1.1.14\r\nazure-nspkg==2.0.0\r\nazure-storage==0.36.0\r\n\r\n### What problem was encountered?\r\n\r\nmypy stops with a \"Cycle in inheritance hierarchy\" when trying to scan package\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nyes, remove these two lines \u2014 https://github.com/Azure/azure-storage-python/blob/master/azure-storage-common/azure/storage/common/_auth.py#L77-L78\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/533", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/533/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/533/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/533", "id": 388844904, "node_id": "MDU6SXNzdWUzODg4NDQ5MDQ=", "number": 533, "title": "create_blob_from_bytes is very slow to upload files ", "user": {"login": "sushilkm", "id": 4608788, "node_id": "MDQ6VXNlcjQ2MDg3ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4608788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sushilkm", "html_url": "https://github.com/sushilkm", "followers_url": "https://api.github.com/users/sushilkm/followers", "following_url": "https://api.github.com/users/sushilkm/following{/other_user}", "gists_url": "https://api.github.com/users/sushilkm/gists{/gist_id}", "starred_url": "https://api.github.com/users/sushilkm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sushilkm/subscriptions", "organizations_url": "https://api.github.com/users/sushilkm/orgs", "repos_url": "https://api.github.com/users/sushilkm/repos", "events_url": "https://api.github.com/users/sushilkm/events{/privacy}", "received_events_url": "https://api.github.com/users/sushilkm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-12-07T23:03:59Z", "updated_at": "2019-04-11T22:54:29Z", "closed_at": "2019-04-11T22:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nblob\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-blob==1.4.0\r\nazure-storage-common==1.4.0\r\n\r\n### What problem was encountered?\r\n\r\ncreate_blob_from_bytes uploads the files very slow to azure storage.\r\nTried to compare this with azcopy and a very simple code to upload files(file-size: 243K)\r\ncode to use python sdk: https://gist.github.com/sushilkm/72370e38c6dfc5e4129b77c5cdd72a26\r\n\r\nresults for python sdk to upload the file, first time it takes a very long time and subsequent uploads take less but still a lot more time than it should ~150ms, results at\r\nhttps://gist.github.com/sushilkm/947203347a3b1a8d7b131f59e6f635a7\r\nAnd I am using fairly new Python 3.6.5\r\n\r\nTimings for azcopy is https://gist.github.com/sushilkm/2a2c8922d46c2a628a960e78e296d8ec\r\n\r\n\r\n### Have you found a mitigation/solution?\r\nNo, but I found that create_blob_from_bytes uses create_blob_from_stream and create_blob_from_bytes transfers a BytesIO stream and then create_blob_from_stream reads again from the stream and sends bytes to _put_blob, so basically there is time wasted to create a stream from bytes and then read bytes again from the stream. This can help to improve timings.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/532", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/532/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/532/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/532", "id": 386392105, "node_id": "MDU6SXNzdWUzODYzOTIxMDU=", "number": 532, "title": "put_block method has no return type", "user": {"login": "stewartadam", "id": 77808, "node_id": "MDQ6VXNlcjc3ODA4", "avatar_url": "https://avatars0.githubusercontent.com/u/77808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stewartadam", "html_url": "https://github.com/stewartadam", "followers_url": "https://api.github.com/users/stewartadam/followers", "following_url": "https://api.github.com/users/stewartadam/following{/other_user}", "gists_url": "https://api.github.com/users/stewartadam/gists{/gist_id}", "starred_url": "https://api.github.com/users/stewartadam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stewartadam/subscriptions", "organizations_url": "https://api.github.com/users/stewartadam/orgs", "repos_url": "https://api.github.com/users/stewartadam/repos", "events_url": "https://api.github.com/users/stewartadam/events{/privacy}", "received_events_url": "https://api.github.com/users/stewartadam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 475533729, "node_id": "MDU6TGFiZWw0NzU1MzM3Mjk=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/feature%20request/enhancement", "name": "feature request/enhancement", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-11-30T23:53:41Z", "updated_at": "2019-02-14T21:04:09Z", "closed_at": "2019-02-14T21:04:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlock blob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.16\r\nazure-storage-blob==1.4.0\r\nazure-storage-common==1.4.0\r\n\r\n### What problem was encountered?\r\n`put_block()` returns None, which makes leveraging the Azure Storage SDK with libraries like `concurrent.futures` difficult, as we end having to have a side-channel for state like block IDs.\r\n\r\nConsider having put_block() return at least the block ID on a successful call, so that it can be tracked when consolidating the results from a worker thread pool.\r\n\r\n### Have you found a mitigation/solution?\r\nYes, but it's ugly (add side effects to the code initiating the concurrent requests to modify a global state, read and clear that shared state upon commit)\r\n\r\n### Notes\r\nAs a side-note, calling `get_block_list()` after calling `put_block()` showed no uncommitted blocks. Is that the expected behavior?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/531", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/531/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/531/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/531/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/531", "id": 385653015, "node_id": "MDU6SXNzdWUzODU2NTMwMTU=", "number": 531, "title": "All of the rows can be fetched even if without continuation token", "user": {"login": "imeya", "id": 25738099, "node_id": "MDQ6VXNlcjI1NzM4MDk5", "avatar_url": "https://avatars1.githubusercontent.com/u/25738099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imeya", "html_url": "https://github.com/imeya", "followers_url": "https://api.github.com/users/imeya/followers", "following_url": "https://api.github.com/users/imeya/following{/other_user}", "gists_url": "https://api.github.com/users/imeya/gists{/gist_id}", "starred_url": "https://api.github.com/users/imeya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imeya/subscriptions", "organizations_url": "https://api.github.com/users/imeya/orgs", "repos_url": "https://api.github.com/users/imeya/repos", "events_url": "https://api.github.com/users/imeya/events{/privacy}", "received_events_url": "https://api.github.com/users/imeya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-29T09:54:23Z", "updated_at": "2018-11-29T22:31:14Z", "closed_at": "2018-11-29T22:31:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "as per this [link](https://docs.microsoft.com/en-us/rest/api/storageservices/Query-Entities?redirectedfrom=MSDN#remarks), only 1000 rows can be fetched if without continuation token.\r\nBut even if I just use this line of code(without continuation token):\r\n\r\n```\r\ncount=0\r\nentities = table_service.query_entities(table,filter='PartitionKey eq 'xxx' '')\r\nfor entity in entities:\r\n      count = count +1\r\n\r\nprint(count)\r\n\r\n```\r\nI can fetch all of the rows (more than 10000 rows), so I wonder if this is expected(without continuation token)? or I misunderstand it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/530", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/530/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/530/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/530", "id": 385530844, "node_id": "MDU6SXNzdWUzODU1MzA4NDQ=", "number": 530, "title": "get_blob_properties doesn't return HTTP headers", "user": {"login": "coderall", "id": 10015677, "node_id": "MDQ6VXNlcjEwMDE1Njc3", "avatar_url": "https://avatars2.githubusercontent.com/u/10015677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coderall", "html_url": "https://github.com/coderall", "followers_url": "https://api.github.com/users/coderall/followers", "following_url": "https://api.github.com/users/coderall/following{/other_user}", "gists_url": "https://api.github.com/users/coderall/gists{/gist_id}", "starred_url": "https://api.github.com/users/coderall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coderall/subscriptions", "organizations_url": "https://api.github.com/users/coderall/orgs", "repos_url": "https://api.github.com/users/coderall/repos", "events_url": "https://api.github.com/users/coderall/events{/privacy}", "received_events_url": "https://api.github.com/users/coderall/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-29T01:41:13Z", "updated_at": "2018-12-11T02:32:21Z", "closed_at": "2018-12-11T02:32:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nblob\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n\r\n### What problem was encountered?\r\nget_blob_properties interface doesn't return the HTTP response headers like Content-Type,Content-Encoding\r\n\r\n### Have you found a mitigation/solution?\r\nno\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/529", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/529/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/529/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/529", "id": 383703696, "node_id": "MDU6SXNzdWUzODM3MDM2OTY=", "number": 529, "title": "Documentation for block_ids results in double-base64 encoding", "user": {"login": "stewartadam", "id": 77808, "node_id": "MDQ6VXNlcjc3ODA4", "avatar_url": "https://avatars0.githubusercontent.com/u/77808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stewartadam", "html_url": "https://github.com/stewartadam", "followers_url": "https://api.github.com/users/stewartadam/followers", "following_url": "https://api.github.com/users/stewartadam/following{/other_user}", "gists_url": "https://api.github.com/users/stewartadam/gists{/gist_id}", "starred_url": "https://api.github.com/users/stewartadam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stewartadam/subscriptions", "organizations_url": "https://api.github.com/users/stewartadam/orgs", "repos_url": "https://api.github.com/users/stewartadam/repos", "events_url": "https://api.github.com/users/stewartadam/events{/privacy}", "received_events_url": "https://api.github.com/users/stewartadam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 557320087, "node_id": "MDU6TGFiZWw1NTczMjAwODc=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/doc%20improvements", "name": "doc improvements", "color": "c5def5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-23T04:54:52Z", "updated_at": "2019-07-08T22:32:52Z", "closed_at": "2019-07-08T22:32:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n```\r\nazure-applicationinsights==0.1.0\r\nazure-batch==4.1.3\r\nazure-common==1.1.16\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.5\r\nazure-datalake-store==0.0.39\r\nazure-eventgrid==1.2.0\r\nazure-graphrbac==0.40.0\r\nazure-keyvault==1.1.0\r\nazure-loganalytics==0.1.0\r\nazure-mgmt-advisor==1.0.1\r\nazure-mgmt-applicationinsights==0.1.1\r\nazure-mgmt-authorization==0.50.0\r\nazure-mgmt-batch==5.0.1\r\nazure-mgmt-batchai==2.0.0\r\nazure-mgmt-billing==0.2.0\r\nazure-mgmt-cdn==3.0.0\r\nazure-mgmt-cognitiveservices==3.0.0\r\nazure-mgmt-commerce==1.0.1\r\nazure-mgmt-compute==4.3.1\r\nazure-mgmt-consumption==2.0.0\r\nazure-mgmt-containerinstance==1.4.0\r\nazure-mgmt-containerregistry==2.4.0\r\nazure-mgmt-containerservice==4.2.2\r\nazure-mgmt-cosmosdb==0.4.1\r\nazure-mgmt-datafactory==0.6.0\r\nazure-mgmt-datalake-analytics==0.6.0\r\nazure-mgmt-datalake-nspkg==3.0.1\r\nazure-mgmt-datalake-store==0.5.0\r\nazure-mgmt-datamigration==1.0.0\r\nazure-mgmt-devspaces==0.1.0\r\nazure-mgmt-devtestlabs==2.2.0\r\nazure-mgmt-dns==2.1.0\r\nazure-mgmt-eventgrid==1.0.0\r\nazure-mgmt-eventhub==2.2.0\r\nazure-mgmt-hanaonazure==0.1.1\r\nazure-mgmt-iotcentral==0.1.0\r\nazure-mgmt-iothub==0.5.0\r\nazure-mgmt-iothubprovisioningservices==0.2.0\r\nazure-mgmt-keyvault==1.1.0\r\nazure-mgmt-loganalytics==0.2.0\r\nazure-mgmt-logic==3.0.0\r\nazure-mgmt-machinelearningcompute==0.4.1\r\nazure-mgmt-managementgroups==0.1.0\r\nazure-mgmt-managementpartner==0.1.0\r\nazure-mgmt-maps==0.1.0\r\nazure-mgmt-marketplaceordering==0.1.0\r\nazure-mgmt-media==1.0.0\r\nazure-mgmt-monitor==0.5.2\r\nazure-mgmt-msi==0.2.0\r\nazure-mgmt-network==2.3.0\r\nazure-mgmt-notificationhubs==2.0.0\r\nazure-mgmt-nspkg==3.0.2\r\nazure-mgmt-policyinsights==0.1.0\r\nazure-mgmt-powerbiembedded==2.0.0\r\nazure-mgmt-rdbms==1.5.0\r\nazure-mgmt-recoveryservices==0.3.0\r\nazure-mgmt-recoveryservicesbackup==0.3.0\r\nazure-mgmt-redis==5.0.0\r\nazure-mgmt-relay==0.1.0\r\nazure-mgmt-reservations==0.2.1\r\nazure-mgmt-resource==2.0.0\r\nazure-mgmt-scheduler==2.0.0\r\nazure-mgmt-search==2.0.0\r\nazure-mgmt-servicebus==0.5.3\r\nazure-mgmt-servicefabric==0.2.0\r\nazure-mgmt-signalr==0.1.1\r\nazure-mgmt-sql==0.9.1\r\nazure-mgmt-storage==2.0.0\r\nazure-mgmt-subscription==0.2.0\r\nazure-mgmt-trafficmanager==0.50.0\r\nazure-mgmt-web==0.35.0\r\nazure-mgmt==4.0.0\r\nazure-nspkg==3.0.2\r\nazure-servicebus==0.21.1\r\nazure-servicefabric==6.3.0.0\r\nazure-servicemanagement-legacy==0.20.6\r\nazure-storage-blob==1.4.0\r\nazure-storage-common==1.4.0\r\nazure-storage-file==1.4.0\r\nazure-storage-queue==1.4.0\r\nazure==4.0.0\r\n```\r\n\r\n### What problem was encountered?\r\nThe docs for [put_block](https://github.com/Azure/azure-storage-python/blob/0a92c379a3de5b7b53d55d791a80851934729d88/azure-storage-blob/azure/storage/blob/blockblobservice.py#L159) and other `put_foo` methods describe the need for a valid base64 string, however this is incorrect:\r\n1. The block service [applies base64 encoding](https://github.com/Azure/azure-storage-python/blob/0a92c379a3de5b7b53d55d791a80851934729d88/azure-storage-blob/azure/storage/blob/blockblobservice.py#L361), and the raw value should be passed instead\r\n2. The raw value must be selected only of ascii characters\r\n\r\nFailure to observe the above results in \"One of the request inputs is out of range.\" (which by the way, is a super unhelpful and unactionable error)\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"cloud-transfer.py\", line 221, in <module>\r\n    upload(path, url)\r\n  File \"cloud-transfer.py\", line 196, in upload\r\n    handlers[scheme](path, url)\r\n  File \"cloud-transfer.py\", line 137, in upload_azure_blob\r\n    pycosio.copyfile(path, url)\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/pycosio/_core/functions_shutil.py\", line 142, in copyfile\r\n    _copy(src, dst, src_is_storage, dst_is_storage)\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/pycosio/_core/functions_shutil.py\", line 71, in _copy\r\n    copyfileobj(fsrc, fdst, buffer_size)\r\n  File \"/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/contextlib.py\", line 119, in __exit__\r\n    next(self.gen)\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/pycosio/_core/functions_io.py\", line 79, in cos_open\r\n    yield wrapped\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/pycosio/_core/io_buffered.py\", line 119, in close\r\n    self._close_writable()\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/pycosio/storage/azure_blob.py\", line 385, in _close_writable\r\n    future.result()\r\n  File \"/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/_base.py\", line 432, in result\r\n    return self.__get_result()\r\n  File \"/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/_base.py\", line 384, in __get_result\r\n    raise self._exception\r\n  File \"/usr/local/Cellar/python/3.7.1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/concurrent/futures/thread.py\", line 57, in run\r\n    result = self.fn(*self.args, **self.kwargs)\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/azure/storage/blob/blockblobservice.py\", line 186, in put_block\r\n    timeout=timeout\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/azure/storage/blob/blockblobservice.py\", line 1143, in _put_block\r\n    self._perform_request(request)\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/azure/storage/common/storageclient.py\", line 430, in _perform_request\r\n    raise ex\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/azure/storage/common/storageclient.py\", line 358, in _perform_request\r\n    raise ex\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/azure/storage/common/storageclient.py\", line 344, in _perform_request\r\n    HTTPError(response.status, response.message, response.headers, response.body))\r\n  File \"/Users/stewartadam/devel/virtualenvs/filetransfer-2tnmA_nJ/lib/python3.7/site-packages/azure/storage/common/_error.py\", line 115, in _http_error_handler\r\n    raise ex\r\nazure.common.AzureHttpError: One of the request inputs is out of range. ErrorCode: OutOfRangeInput\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>OutOfRangeInput</Code><Message>One of the request inputs is out of range.\r\nRequestId:cbc31948-901e-001a-2ae7-82322b000000\r\nTime:2018-11-23T04:45:08.4785074Z</Message></Error>\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\n1. Update the docs\r\n2. Pass the raw block IDs using `''.join(random.choice(string.ascii_lowercase) for i in range(length))` as shown [here](https://github.com/Azure-Samples/storage-blob-python-getting-started/blob/452f2ae9b0c73cd099de40225648db1e53b9355b/blob_advanced_samples.py#L425)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/527", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/527/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/527/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/527/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/527", "id": 379562289, "node_id": "MDU6SXNzdWUzNzk1NjIyODk=", "number": 527, "title": "Registered Trademark symbol fine in portal but erroring due to invalid metadata", "user": {"login": "wjohnson", "id": 1058199, "node_id": "MDQ6VXNlcjEwNTgxOTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1058199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wjohnson", "html_url": "https://github.com/wjohnson", "followers_url": "https://api.github.com/users/wjohnson/followers", "following_url": "https://api.github.com/users/wjohnson/following{/other_user}", "gists_url": "https://api.github.com/users/wjohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/wjohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wjohnson/subscriptions", "organizations_url": "https://api.github.com/users/wjohnson/orgs", "repos_url": "https://api.github.com/users/wjohnson/repos", "events_url": "https://api.github.com/users/wjohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/wjohnson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-11T20:55:15Z", "updated_at": "2019-07-08T17:31:30Z", "closed_at": "2019-07-08T17:31:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-common==1.1.16\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-file==1.3.1\r\nazure-storage-nspkg==3.0.0\r\n\r\n### What problem was encountered?\r\nWhen copying a file share file that contains the registered trademark symbol (Unicode: U+00AE; url encoded: %C2%AE) to a blob, I receive a 400 error stating that there are illegal characters in the metadata.  However, when I upload that same file to blob via the portal, no problem.\r\n\r\n    HTTP status code=400, Exception=The metadata specified is invalid. \r\n    It has characters that are not permitted. ErrorCode: InvalidMetadata\r\n    <?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>InvalidMetadata</Code>\r\n    <Message>The metadata specified is invalid. It has characters that are not permitted.\r\n\r\nSo, when I go to url encode the symbol to `%C2%AE`, it doesn't render as the (R) symbol in the portal, instead it shows `%C2%AE` and when I actually browse to the file it's further url encoded to be `%25C2%25AE` (encoding the % symbols as %25).\r\n\r\n### Have you found a mitigation/solution?\r\nMy workaround is to just accept the encoding of the percent symbols.  Ideally, I'd like to keep the original file name with the registered trademark as it appears in the file share and in the blob when manually uploaded.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/523", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/523/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/523/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/523/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/523", "id": 374939687, "node_id": "MDU6SXNzdWUzNzQ5Mzk2ODc=", "number": 523, "title": "Azure Authentication Error for large files(around 1k files each >500MB) Transfer", "user": {"login": "rajreeshabh", "id": 10089194, "node_id": "MDQ6VXNlcjEwMDg5MTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/10089194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajreeshabh", "html_url": "https://github.com/rajreeshabh", "followers_url": "https://api.github.com/users/rajreeshabh/followers", "following_url": "https://api.github.com/users/rajreeshabh/following{/other_user}", "gists_url": "https://api.github.com/users/rajreeshabh/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajreeshabh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajreeshabh/subscriptions", "organizations_url": "https://api.github.com/users/rajreeshabh/orgs", "repos_url": "https://api.github.com/users/rajreeshabh/repos", "events_url": "https://api.github.com/users/rajreeshabh/events{/privacy}", "received_events_url": "https://api.github.com/users/rajreeshabh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-29T10:06:02Z", "updated_at": "2018-11-10T03:17:49Z", "closed_at": "2018-11-10T03:17:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nThe issue is with Blob service while uploading large files of around 500MB-1GB\r\n\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage==0.34.3\r\nazure-storage-blob==1.1.0\r\nazure-storage-common==1.1.0\r\nazure-storage-file==1.1.0\r\nazure-storage-nspkg==3.0.0\r\nazure-storage-queue==1.1.0\r\n\r\n### What problem was encountered?\r\nWe are getting Authentication Error from the SDK but the analytic log says that the error is ServerTimeOut error for the same request. We are getting these errors daily since September last week when this data set was first transferred.\r\n\r\nApp Log: \r\n`Error:Encounted one or more errors during task. \\n process:24709 error:Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.ErrorCode: AuthenticationFailed\\n<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\\nRequestId:8fa5963c-001e-001c-2ee5-69a595000000\\nTime:2018-10-22T09:02:36.0454236Z</Message><AuthenticationErrorDetail>The MAC signature found in the HTTP request 'k8eDiPEXtO3nxexR3lx2WzIBydvTrg/FPa4CdG997DE=' is not the same as any computed signature. Server used following string to sign: 'PUT\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nx-ms-client-request-id:2cd02b34-d5d9-11e8-8497-02010a20377e\\nx-ms-date:Mon, 22 Oct 2018 09:02:35 GMT\\nx-ms-version:2017-07-29\\n/XXXX/d620b62-fk-sp-slm-libertalia-store-backup/fk-sp-slm-libertalia-store-backup/Full/1082802__elasticsearch__2018-10-22__12-55-00__full/indices/hHvoKSWBSIeuhA1zCXvDVg/4/__5z.part0\\nblockid:TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQTJOekV3T0RnMk5EQSUzRA==\\ncomp:block\\ntimeout:600'.</AuthenticationErrorDetail></Error> : Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.ErrorCode: AuthenticationFailed\\n<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\\nRequestId:8fa5963c-001e-001c-2ee5-69a595000000\\nTime:2018-10-22T09:02:36.0454236Z</Message><AuthenticationErrorDetail>The MAC signature found in the HTTP request 'k8eDiPEXtO3nxexR3lx2WzIBydvTrg/FPa4CdG997DE=' is not the same as any computed signature. Server used following string to sign: 'PUT\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nx-ms-client-request-id:2cd02b34-d5d9-11e8-8497-02010a20377e\\nx-ms-date:Mon, 22 Oct 2018 09:02:35 GMT\\nx-ms-version:2017-07-29\\n/XXXX/d620b62-fk-sp-slm-libertalia-store-backup/fk-sp-slm-libertalia-store-backup/Full/1082802__elasticsearch__2018-10-22__12-55-00__full/indices/hHvoKSWBSIeuhA1zCXvDVg/4/__5z.part0\\nblockid:TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQTJOekV3T0RnMk5EQSUzRA==\\ncomp:block\\ntimeout:600'.</AuthenticationErrorDetail></Error>`\r\n\r\nAnalytic Log:\r\n`0900/000000.log:1.0;2018-10-22T09:02:17.2404977Z;PutBlock;ServerTimeoutError;500;429;259;authenticated;fkdr;fkdr;blob;\"https://XXXXX.blob.core.windows.net/d620b62-fk-sp-slm-libertalia-store-backup/fk-sp-slm-libertalia-store-backup/Full/1082802__elasticsearch__2018-10-22__12-55-00__full/indices/hHvoKSWBSIeuhA1zCXvDVg/4/__5z.part0?comp=block&amp;blockid=TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQTJOekV3T0RnMk5EQSUzRA==&amp;timeout=600\";\"/XXXX/d620b62-fk-sp-slm-libertalia-store-backup/fk-sp-slm-libertalia-store-backup/Full/1082802__elasticsearch__2018-10-22__12-55-00__full/indices/hHvoKSWBSIeuhA1zCXvDVg/4/__5z.part0\";dea307a8-101e-0047-23e5-69a2e9000000;0;103.4.254.20:15436;2017-07-29;660;8388608;177;245;67108864;;;;;;\"Azure-Storage/1.1.0-1.1.0 (Python CPython 2.7.13; Linux 4.9.0-4-amd64)\";;\"2cd02b34-d5d9-11e8-8497-02010a20377e\"`\r\n\r\nWe are not seeing any other request failure for this in analytic logs. We are already following up with Azure Premier Support for the issue. Our queries:\r\n1. Why is ServerTimeOutError not coming to the SDK and not being communicated to the client?\r\n2.  Why are there 2 errors (ServerTimeOut and Authentication Error) in the backend when we are sending only one request from our end? Is the first error we send being retried and if yes, how can we make sure that is the case? \r\n3. If it is caused due to partioning(as informed by Storage team by Support ticket), why is this happening on every backup and what limits are we hitting that is causing this so many times?\r\n\r\nI am sharing the issue details with the support ticket. Can this be followed up internally. Please ask the support ticket or myself in case you require any more information.\r\n\r\n### Have you found a mitigation/solution?\r\nNo, The error happens daily on file transfer for these types of data set.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/522", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/522/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/522/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/522/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/522", "id": 374916492, "node_id": "MDU6SXNzdWUzNzQ5MTY0OTI=", "number": 522, "title": "OSError: [Errno 5] Input/output error while downloading large amount of files", "user": {"login": "marcelvb", "id": 3067763, "node_id": "MDQ6VXNlcjMwNjc3NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3067763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcelvb", "html_url": "https://github.com/marcelvb", "followers_url": "https://api.github.com/users/marcelvb/followers", "following_url": "https://api.github.com/users/marcelvb/following{/other_user}", "gists_url": "https://api.github.com/users/marcelvb/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcelvb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcelvb/subscriptions", "organizations_url": "https://api.github.com/users/marcelvb/orgs", "repos_url": "https://api.github.com/users/marcelvb/repos", "events_url": "https://api.github.com/users/marcelvb/events{/privacy}", "received_events_url": "https://api.github.com/users/marcelvb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-29T09:03:36Z", "updated_at": "2019-04-11T22:51:35Z", "closed_at": "2019-04-11T22:51:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\nI'm using the Azure CLI Version 2.0.47, that according to `az --version` uses version 2.2.2 of the az `storage` module. It comes with it's own version of Python and pip and libs. When I check the directory `/opt/az` I find package `azure-storage-blob` version 1.1.0.\r\n\r\n### What problem was encountered?\r\n\r\nI'm running the following command to download about 1 TB worth of files from Blob storage to a local disk:\r\n` az storage blob download-batch --max-connections=16 --source my-container --destination /my/local/disk`\r\n\r\nAfter some (long) time and copying half of the files, it crashes:\r\n\r\n```\r\n...\r\nFinished[#############################################################]  100.0000%\r\nFinished[#############################################################]  100.0000%\r\nFinished[#############################################################]  100.0000%\r\nFinished[#############################################################]  100.0000%\r\n[Errno 5] Input/output error\r\nTraceback (most recent call last):\r\n  File \"/opt/az/lib/python3.6/site-packages/knack/cli.py\", line 197, in invoke\r\n    cmd_result = self.invocation.execute(args)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/core/commands/__init__.py\", line 366, in execute\r\n    cmd.exception_handler(ex)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/command_modules/storage/__init__.py\", line 234, in new_handler\r\n    handler(ex)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/command_modules/storage/__init__.py\", line 177, in handler\r\n    raise ex\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/core/commands/__init__.py\", line 343, in execute\r\n    result = cmd(params)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/core/commands/__init__.py\", line 182, in __call__\r\n    return self.handler(*args, **kwargs)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/core/__init__.py\", line 436, in default_command_handler\r\n    result = op(**command_args)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/command_modules/storage/operations/blob.py\", line 151, in storage_blob_download_batch\r\n    for blob_normed in blobs_to_download)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/command_modules/storage/operations/blob.py\", line 151, in <genexpr>\r\n    for blob_normed in blobs_to_download)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/cli/command_modules/storage/operations/blob.py\", line 124, in _download_blob\r\n    progress_callback=progress_callback)\r\n  File \"/opt/az/lib/python3.6/site-packages/azure/multiapi/storage/v2018_03_28/blob/baseblobservice.py\", line 1872, in get_blob_to_path\r\n    timeout)\r\nOSError: [Errno 5] Input/output error\r\n```\r\n\r\nThe Azure CLI does not handle the error. While mentioning the issue in the Azure CLI project I was asked to file the issue here (https://github.com/Azure/azure-cli/issues/7346#issuecomment-432975682).\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nI have used AzCopy instead.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/519", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/519/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/519/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/519", "id": 374048848, "node_id": "MDU6SXNzdWUzNzQwNDg4NDg=", "number": 519, "title": "TypeError thrown during request signing", "user": {"login": "mawah", "id": 17458994, "node_id": "MDQ6VXNlcjE3NDU4OTk0", "avatar_url": "https://avatars3.githubusercontent.com/u/17458994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mawah", "html_url": "https://github.com/mawah", "followers_url": "https://api.github.com/users/mawah/followers", "following_url": "https://api.github.com/users/mawah/following{/other_user}", "gists_url": "https://api.github.com/users/mawah/gists{/gist_id}", "starred_url": "https://api.github.com/users/mawah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mawah/subscriptions", "organizations_url": "https://api.github.com/users/mawah/orgs", "repos_url": "https://api.github.com/users/mawah/repos", "events_url": "https://api.github.com/users/mawah/events{/privacy}", "received_events_url": "https://api.github.com/users/mawah/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-25T17:18:12Z", "updated_at": "2018-10-25T20:21:38Z", "closed_at": "2018-10-25T20:21:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob.\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n```\r\nazure-cli-command-modules-nspkg==2.0.2\r\nazure-cli-nspkg==3.0.3\r\nazure-common==1.1.14\r\nazure-mgmt-eventgrid==0.4.0\r\nazure-mgmt-nspkg==2.0.0\r\nazure-nspkg==2.0.0\r\nazure-storage==0.36.0\r\n```\r\n\r\n### What problem was encountered?\r\n\r\nCreation of a BlockBlobService using my storage account name and credentials returned without error:\r\n```\r\nbbs = BlockBlobService(account_name=storage_account_name, account_key=storage_account_key)\r\n```\r\n\r\nHowever, when I attempt to create a blob, I get the following error:\r\n```\r\nwith open('filename', 'rb') as f:\r\n    bbs.create_blob_from_bytes(container_name=container_name, blob_name=blob_name, blob=f.read())\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\storageclient.py in _perform_request(self, request, parser, parser_args, operation_context)\r\n    215                     _add_date_header(request)\r\n--> 216                     self.authentication.sign_request(request)\r\n    217 \r\n\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\_auth.py in sign_request(self, request)\r\n     68             self._get_canonicalized_headers(request) + \\\r\n---> 69             self._get_canonicalized_resource(request) + \\\r\n     70             self._get_canonicalized_resource_query(request)\r\n\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\_auth.py in _get_canonicalized_resource(self, request)\r\n     35         uri_path = request.path.split('?')[0]\r\n---> 36         return '/' + self.account_name + uri_path\r\n     37 \r\n\r\nTypeError: must be str, not tuple\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nAzureException                            Traceback (most recent call last)\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\storageclient.py in _perform_request(self, request, parser, parser_args, operation_context)\r\n    251                         # Automatic chaining in Python 3 means we keep the trace\r\n--> 252                         raise AzureException(ex.args[0])\r\n    253                     else:\r\n\r\nAzureException: must be str, not tuple\r\n```\r\nThe connection seems to be retried indefinitely, and I was forced to stop execution manually, leading to the following exception:\r\n```\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nKeyboardInterrupt                         Traceback (most recent call last)\r\n<ipython-input-26-621e146df55f> in <module>()\r\n      1 with open('sample_articles/0001/lvl2k20181019055148.jpg', 'rb') as f:\r\n----> 2     bbs.create_blob_from_bytes(container_name=container_name, blob_name=blob_name, blob=f.read())\r\n\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\blob\\blockblobservice.py in create_blob_from_bytes(self, container_name, blob_name, blob, index, count, content_settings, metadata, validate_content, progress_callback, max_connections, lease_id, if_modified_since, if_unmodified_since, if_match, if_none_match, timeout)\r\n    694             if_none_match=if_none_match,\r\n    695             timeout=timeout,\r\n--> 696             use_byte_buffer=True\r\n    697         )\r\n    698 \r\n\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\blob\\blockblobservice.py in create_blob_from_stream(self, container_name, blob_name, stream, count, content_settings, metadata, validate_content, progress_callback, max_connections, lease_id, if_modified_since, if_unmodified_since, if_match, if_none_match, timeout, use_byte_buffer)\r\n    525                 if_match=if_match,\r\n    526                 if_none_match=if_none_match,\r\n--> 527                 timeout=timeout)\r\n    528 \r\n    529             if progress_callback:\r\n\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\blob\\blockblobservice.py in _put_blob(self, container_name, blob_name, blob, content_settings, metadata, validate_content, lease_id, if_modified_since, if_unmodified_since, if_match, if_none_match, timeout)\r\n    914             request.headers['Content-MD5'] = _to_str(computed_md5)\r\n    915 \r\n--> 916         return self._perform_request(request, _parse_base_properties)\r\n    917 \r\n    918     def _put_block(self, container_name, blob_name, block, block_id,\r\n\r\nC:\\Anaconda3\\lib\\site-packages\\azure\\storage\\storageclient.py in _perform_request(self, request, parser, parser_args, operation_context)\r\n    276 \r\n    277                     # Sleep for the desired retry interval\r\n--> 278                     sleep(retry_interval)\r\n    279                 else:\r\n    280                     raise ex\r\n\r\nKeyboardInterrupt: \r\n```\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nNot yet. My Microsoft alias is mawah if you'd like to reach out for debugging.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/514", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/514/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/514/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/514/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/514", "id": 370429843, "node_id": "MDU6SXNzdWUzNzA0Mjk4NDM=", "number": 514, "title": "Azure Storage Python Introduces Viral LGPL Dependencies", "user": {"login": "illfang", "id": 2493562, "node_id": "MDQ6VXNlcjI0OTM1NjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2493562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/illfang", "html_url": "https://github.com/illfang", "followers_url": "https://api.github.com/users/illfang/followers", "following_url": "https://api.github.com/users/illfang/following{/other_user}", "gists_url": "https://api.github.com/users/illfang/gists{/gist_id}", "starred_url": "https://api.github.com/users/illfang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/illfang/subscriptions", "organizations_url": "https://api.github.com/users/illfang/orgs", "repos_url": "https://api.github.com/users/illfang/repos", "events_url": "https://api.github.com/users/illfang/events{/privacy}", "received_events_url": "https://api.github.com/users/illfang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "seguler", "id": 22362788, "node_id": "MDQ6VXNlcjIyMzYyNzg4", "avatar_url": "https://avatars0.githubusercontent.com/u/22362788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seguler", "html_url": "https://github.com/seguler", "followers_url": "https://api.github.com/users/seguler/followers", "following_url": "https://api.github.com/users/seguler/following{/other_user}", "gists_url": "https://api.github.com/users/seguler/gists{/gist_id}", "starred_url": "https://api.github.com/users/seguler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seguler/subscriptions", "organizations_url": "https://api.github.com/users/seguler/orgs", "repos_url": "https://api.github.com/users/seguler/repos", "events_url": "https://api.github.com/users/seguler/events{/privacy}", "received_events_url": "https://api.github.com/users/seguler/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "seguler", "id": 22362788, "node_id": "MDQ6VXNlcjIyMzYyNzg4", "avatar_url": "https://avatars0.githubusercontent.com/u/22362788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seguler", "html_url": "https://github.com/seguler", "followers_url": "https://api.github.com/users/seguler/followers", "following_url": "https://api.github.com/users/seguler/following{/other_user}", "gists_url": "https://api.github.com/users/seguler/gists{/gist_id}", "starred_url": "https://api.github.com/users/seguler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seguler/subscriptions", "organizations_url": "https://api.github.com/users/seguler/orgs", "repos_url": "https://api.github.com/users/seguler/repos", "events_url": "https://api.github.com/users/seguler/events{/privacy}", "received_events_url": "https://api.github.com/users/seguler/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2018-10-16T03:57:33Z", "updated_at": "2018-10-22T17:48:49Z", "closed_at": "2018-10-19T21:27:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n```\r\n$ pipenv run pip install azure-storage-blob\r\n...\r\n$ pipenv run pip freeze\r\nasn1crypto==0.24.0\r\nazure-common==1.1.16\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-nspkg==3.0.0\r\ncertifi==2018.10.15\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncryptography==2.3.1\r\nenum34==1.1.6\r\nfutures==3.2.0\r\nidna==2.7\r\nipaddress==1.0.22\r\npycparser==2.19\r\npython-dateutil==2.7.3\r\nrequests==2.19.1\r\nsix==1.11.0\r\nurllib3==1.23\r\n```\r\n\r\n### What problem was encountered?\r\nInstalling azure-storage-blob library introduces a dependency to a LGPL library which infects any solution using the Azure Storage Library for Python.\r\nFurthermore, there is no documentation whatsoever in the Azure Storage Library, that it relies on LGPL licensed software which is an important aspect that should not be hidden.\r\n\r\nDetails:\r\n\r\nhttps://github.com/Azure/azure-storage-python/blob/master/requirements.txt#L3\r\n```\r\nrequests>=2.9.2\r\n```\r\n\r\nhttps://github.com/requests/requests/blob/master/setup.py#L51\r\n```\r\n'chardet>=3.0.2,<3.1.0',\r\n```\r\n\r\n\r\nTo summarize this dependency chain:\r\n\r\n`Azure Storage Python` -> `Requests >= 2.9.2` -> `chardet>=3.0.2,<3.1.0` \r\n\r\n\r\nChardet License: https://github.com/chardet/chardet/blob/master/LICENSE\r\n```\r\n\t\t  GNU LESSER GENERAL PUBLIC LICENSE\r\n\t\t       Version 2.1, February 1999\r\n```\r\n\r\n\r\n### Have you found a mitigation/solution?\r\nMocking away chardet installing azure blob without dependencies and manually add required dependencies by hand. Not a good solution.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/513", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/513/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/513/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/513", "id": 370288091, "node_id": "MDU6SXNzdWUzNzAyODgwOTE=", "number": 513, "title": "How to add permission to builtin role in storage account?", "user": {"login": "himanshu219", "id": 3620468, "node_id": "MDQ6VXNlcjM2MjA0Njg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3620468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himanshu219", "html_url": "https://github.com/himanshu219", "followers_url": "https://api.github.com/users/himanshu219/followers", "following_url": "https://api.github.com/users/himanshu219/following{/other_user}", "gists_url": "https://api.github.com/users/himanshu219/gists{/gist_id}", "starred_url": "https://api.github.com/users/himanshu219/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himanshu219/subscriptions", "organizations_url": "https://api.github.com/users/himanshu219/orgs", "repos_url": "https://api.github.com/users/himanshu219/repos", "events_url": "https://api.github.com/users/himanshu219/events{/privacy}", "received_events_url": "https://api.github.com/users/himanshu219/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-10-15T18:27:18Z", "updated_at": "2018-10-18T20:44:31Z", "closed_at": "2018-10-15T22:00:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a storage account and I want to give permission to one of my App Service in \"Storage Account Key Operator Service Role\".\r\nSimilar to the below action in Azure portal.\r\n\r\n![IAM Permission](https://user-images.githubusercontent.com/3620468/46846740-a517fc80-cdfe-11e8-876f-6ed24b3f2d0b.png)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/512", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/512/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/512/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/512/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/512", "id": 370245534, "node_id": "MDU6SXNzdWUzNzAyNDU1MzQ=", "number": 512, "title": "Incorrect handling of short reads in create_blob_from_stream", "user": {"login": "kevinoid", "id": 336433, "node_id": "MDQ6VXNlcjMzNjQzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/336433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinoid", "html_url": "https://github.com/kevinoid", "followers_url": "https://api.github.com/users/kevinoid/followers", "following_url": "https://api.github.com/users/kevinoid/following{/other_user}", "gists_url": "https://api.github.com/users/kevinoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinoid/subscriptions", "organizations_url": "https://api.github.com/users/kevinoid/orgs", "repos_url": "https://api.github.com/users/kevinoid/repos", "events_url": "https://api.github.com/users/kevinoid/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinoid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235876945, "node_id": "MDU6TGFiZWwyMzU4NzY5NDU=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": {"login": "zezha-msft", "id": 26559128, "node_id": "MDQ6VXNlcjI2NTU5MTI4", "avatar_url": "https://avatars2.githubusercontent.com/u/26559128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zezha-msft", "html_url": "https://github.com/zezha-msft", "followers_url": "https://api.github.com/users/zezha-msft/followers", "following_url": "https://api.github.com/users/zezha-msft/following{/other_user}", "gists_url": "https://api.github.com/users/zezha-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/zezha-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zezha-msft/subscriptions", "organizations_url": "https://api.github.com/users/zezha-msft/orgs", "repos_url": "https://api.github.com/users/zezha-msft/repos", "events_url": "https://api.github.com/users/zezha-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/zezha-msft/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zezha-msft", "id": 26559128, "node_id": "MDQ6VXNlcjI2NTU5MTI4", "avatar_url": "https://avatars2.githubusercontent.com/u/26559128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zezha-msft", "html_url": "https://github.com/zezha-msft", "followers_url": "https://api.github.com/users/zezha-msft/followers", "following_url": "https://api.github.com/users/zezha-msft/following{/other_user}", "gists_url": "https://api.github.com/users/zezha-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/zezha-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zezha-msft/subscriptions", "organizations_url": "https://api.github.com/users/zezha-msft/orgs", "repos_url": "https://api.github.com/users/zezha-msft/repos", "events_url": "https://api.github.com/users/zezha-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/zezha-msft/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-10-15T16:33:55Z", "updated_at": "2019-07-08T17:42:20Z", "closed_at": "2019-07-08T17:39:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n    asn1crypto==0.24.0\r\n    azure-common==1.1.16\r\n    azure-nspkg==3.0.2\r\n    azure-storage-blob==1.3.1\r\n    azure-storage-common==1.3.0\r\n    azure-storage-nspkg==3.0.0\r\n    certifi==2018.10.15\r\n    cffi==1.11.5\r\n    chardet==3.0.4\r\n    cryptography==2.3.1\r\n    idna==2.7\r\n    pkg-resources==0.0.0\r\n    pycparser==2.19\r\n    python-dateutil==2.7.3\r\n    requests==2.19.1\r\n    six==1.11.0\r\n    urllib3==1.23\r\n\r\n(The result of `pip install azure-storage-blob && pip freeze` just now.)\r\n\r\n### What problem was encountered?\r\n\r\nIf `BlockBlobService.create_blob_from_stream` is called with `count <  MAX_SINGLE_PUT_SIZE` and [`stream.read(count)`](https://github.com/Azure/azure-storage-python/blob/v1.3.1-blob/azure-storage-blob/azure/storage/blob/blockblobservice.py#L569) returns fewer than `count` bytes ([as described in the `read` documentation](https://docs.python.org/3/library/io.html#io.RawIOBase.read)), only the bytes returned by the first `read` call are uploaded.  This can occur for several reasons, particularly when `stream` is a pipe or socket.\r\n\r\nHere's one way to reproduce the issue:\r\n\r\n```py\r\nimport io\r\nimport os\r\n\r\nfrom azure.storage.blob import BlockBlobService\r\n\r\nclass ShortReader(io.RawIOBase):\r\n    \"\"\"IOBase wrapper to limit read sizes, producing short reads\"\"\"\r\n\r\n    def __init__(self, reader, max_read_size):\r\n        super(ShortReader, self).__init__()\r\n        self._reader = reader\r\n        self.max_read_size = max_read_size\r\n\r\n    def readinto(self, buf):\r\n        read_size = min(len(buf), self.max_read_size)\r\n        data = self._reader.read(read_size)\r\n        buf[0:len(data)] = data\r\n        return len(data)\r\n\r\n\r\ncontainer_name = \"test-container\"\r\nblob_name = \"test.txt\"\r\ncontent = b\"Example blob content.\"\r\nstream = ShortReader(io.BytesIO(content), 10)\r\n\r\nbbs = BlockBlobService(\r\n    account_name=os.environ[\"AZURE_STORAGE_ACCOUNT\"],\r\n    account_key=os.environ[\"AZURE_STORAGE_KEY\"])\r\nbbs.create_blob_from_stream(container_name, blob_name, stream, count=len(content))\r\nblob = bbs.get_blob_to_text(container_name, blob_name)\r\nprint(\"Blob content: \" + blob.content)\r\n```\r\n\r\nIt should print \"Blob content: Example blob content.\", but instead prints \"Blob content: Example bl\" because the first read returns \"Example bl\".\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nYes.  The mitigation I am currently using is for the caller to wrap `stream` in a custom `IOBase` subclass which only produces short reads on EOF.\r\n\r\nThanks,\r\nKevin", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/511", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/511/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/511/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/511/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/511", "id": 369694661, "node_id": "MDU6SXNzdWUzNjk2OTQ2NjE=", "number": 511, "title": "ValueError: self.account_key should not be None when generating SAS", "user": {"login": "diljotgrewal", "id": 4531704, "node_id": "MDQ6VXNlcjQ1MzE3MDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4531704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diljotgrewal", "html_url": "https://github.com/diljotgrewal", "followers_url": "https://api.github.com/users/diljotgrewal/followers", "following_url": "https://api.github.com/users/diljotgrewal/following{/other_user}", "gists_url": "https://api.github.com/users/diljotgrewal/gists{/gist_id}", "starred_url": "https://api.github.com/users/diljotgrewal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diljotgrewal/subscriptions", "organizations_url": "https://api.github.com/users/diljotgrewal/orgs", "repos_url": "https://api.github.com/users/diljotgrewal/repos", "events_url": "https://api.github.com/users/diljotgrewal/events{/privacy}", "received_events_url": "https://api.github.com/users/diljotgrewal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}, {"id": 557322373, "node_id": "MDU6TGFiZWw1NTczMjIzNzM=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/service%20issue", "name": "service issue", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-12T20:11:41Z", "updated_at": "2019-10-17T22:17:04Z", "closed_at": "2019-10-17T22:17:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Blob Storage token authentication error\r\n\r\n\r\n### versions:\r\n```\r\ndgrewal@singlecellpipelinetestnode:/datadrive/test$ pip freeze | grep azure\r\nYou are using pip version 10.0.1, however version 18.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\nazure-batch==4.1.3\r\nazure-common==1.1.14\r\nazure-keyvault==1.1.0\r\nazure-mgmt==4.0.0\r\nazure-mgmt-advisor==1.0.1\r\nazure-mgmt-applicationinsights==0.1.1\r\nazure-mgmt-authorization==0.50.0\r\nazure-mgmt-batch==5.0.1\r\nazure-mgmt-batchai==2.0.0\r\nazure-mgmt-billing==0.2.0\r\nazure-mgmt-cdn==3.0.0\r\nazure-mgmt-cognitiveservices==3.0.0\r\nazure-mgmt-commerce==1.0.1\r\nazure-mgmt-compute==4.0.1\r\nazure-mgmt-consumption==2.0.0\r\nazure-mgmt-containerinstance==1.0.0\r\nazure-mgmt-containerregistry==2.1.0\r\nazure-mgmt-containerservice==4.2.2\r\nazure-mgmt-cosmosdb==0.4.1\r\nazure-mgmt-datafactory==0.6.0\r\nazure-mgmt-datalake-analytics==0.6.0\r\nazure-mgmt-datalake-nspkg==2.0.0\r\nazure-mgmt-datalake-store==0.5.0\r\nazure-mgmt-datamigration==1.0.0\r\nazure-mgmt-devspaces==0.1.0\r\nazure-mgmt-devtestlabs==2.2.0\r\nazure-mgmt-dns==2.0.0\r\nazure-mgmt-eventgrid==1.0.0\r\nazure-mgmt-eventhub==2.1.0\r\nazure-mgmt-hanaonazure==0.1.1\r\nazure-mgmt-iotcentral==0.1.0\r\nazure-mgmt-iothub==0.5.0\r\nazure-mgmt-iothubprovisioningservices==0.2.0\r\nazure-mgmt-keyvault==1.1.0\r\nazure-mgmt-loganalytics==0.2.0\r\nazure-mgmt-logic==3.0.0\r\nazure-mgmt-machinelearningcompute==0.4.1\r\nazure-mgmt-managementgroups==0.1.0\r\nazure-mgmt-managementpartner==0.1.0\r\nazure-mgmt-maps==0.1.0\r\nazure-mgmt-marketplaceordering==0.1.0\r\nazure-mgmt-media==1.0.0rc2\r\nazure-mgmt-monitor==0.5.2\r\nazure-mgmt-msi==0.2.0\r\nazure-mgmt-network==2.0.1\r\nazure-mgmt-notificationhubs==2.0.0\r\nazure-mgmt-nspkg==2.0.0\r\nazure-mgmt-policyinsights==0.1.0\r\nazure-mgmt-powerbiembedded==2.0.0\r\nazure-mgmt-rdbms==1.2.0\r\nazure-mgmt-recoveryservices==0.3.0\r\nazure-mgmt-recoveryservicesbackup==0.3.0\r\nazure-mgmt-redis==5.0.0\r\nazure-mgmt-relay==0.1.0\r\nazure-mgmt-reservations==0.2.1\r\nazure-mgmt-resource==2.0.0\r\nazure-mgmt-scheduler==2.0.0\r\nazure-mgmt-search==2.0.0\r\nazure-mgmt-servicebus==0.5.1\r\nazure-mgmt-servicefabric==0.2.0\r\nazure-mgmt-signalr==0.1.0\r\nazure-mgmt-sql==0.9.1\r\nazure-mgmt-storage==2.0.0\r\nazure-mgmt-subscription==0.2.0\r\nazure-mgmt-trafficmanager==0.50.0\r\nazure-mgmt-web==0.35.0\r\nazure-nspkg==2.0.0\r\nazure-storage==0.36.0\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-nspkg==3.0.0\r\nmsrestazure==0.5.0\r\n```\r\n\r\n### What problem was encountered?\r\n```\r\n  File \"/datadrive/model_train/miniconda2/lib/python2.7/site-packages/azure/storage/common/_error.py\", line 134, in _validate_not_none\r\n    raise ValueError(_ERROR_VALUE_NONE.format(param_name))\r\nValueError: self.account_key should not be None.\r\n```\r\nI'm trying to figure out a way to setup the storage account with the azure active directory credentials using the authentication token. The setup works pretty well for everything except for generate_blob_shared_access_signature.  \r\n\r\nCode to reproduce:\r\n```\r\nimport os\r\nimport adal\r\nfrom msrestazure.azure_cloud import AZURE_PUBLIC_CLOUD\r\nimport azure.storage.common\r\nimport azure.storage.blob as azureblob\r\nimport datetime\r\n\r\n\r\nTENANT_ID = os.environ['TENANT_ID']\r\nCLIENT = os.environ['CLIENT_ID']\r\nKEY = os.environ['SECRET_KEY']\r\n\r\nsubscription_id = os.environ['SUBSCRIPTION_ID']\r\n\r\nLOGIN_ENDPOINT = AZURE_PUBLIC_CLOUD.endpoints.active_directory\r\nRESOURCE=\"https://storage.azure.com\"\r\n\r\ncontext = adal.AuthenticationContext(LOGIN_ENDPOINT + '/' + TENANT_ID, api_version=None, validate_authority=True)\r\nmgmt_token = context.acquire_token_with_client_credentials(RESOURCE, CLIENT, KEY)\r\n\r\ntoken = azure.storage.common.TokenCredential(mgmt_token['accessToken'])\r\n\r\nblob_client = azureblob.BlockBlobService(\r\n        account_name='singlecelldata',\r\n        token_credential=token)\r\n\r\n# this works fine, along with almost every other blob operation\r\nprint [container.name for container in blob_client.list_containers()]\r\n\r\n\r\n\r\nblob_client.generate_blob_shared_access_signature(\"containername\", \"blobname\",\r\n        permission=azureblob.BlobPermissions.READ,\r\n        expiry=datetime.datetime.utcnow() + datetime.timedelta(hours=120))\r\n```\r\n\r\nPerhaps this is expected (I didn't pass an account key after all) and in that case feel free to ignore this. But I think it'll be better if the API can use the token to generate an SAS if possible. \r\n\r\n\r\n### Have you found a mitigation/solution?\r\nThe alternative is to use storage management client (instantiated with AD credentials) to get the storage account key and then use the key to create a blob client. I run into some errors with this If i run blob_client.storage_accounts.list_keys too often.\r\n\r\n```\r\n        CloudError: Azure Error: TooManyRequests\r\n        Message: The request is being throttled.\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/510", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/510/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/510/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/510/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/510", "id": 368769921, "node_id": "MDU6SXNzdWUzNjg3Njk5MjE=", "number": 510, "title": "What is the plane of 0.37.0 release?", "user": {"login": "smtakeda", "id": 169573, "node_id": "MDQ6VXNlcjE2OTU3Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/169573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smtakeda", "html_url": "https://github.com/smtakeda", "followers_url": "https://api.github.com/users/smtakeda/followers", "following_url": "https://api.github.com/users/smtakeda/following{/other_user}", "gists_url": "https://api.github.com/users/smtakeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/smtakeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smtakeda/subscriptions", "organizations_url": "https://api.github.com/users/smtakeda/orgs", "repos_url": "https://api.github.com/users/smtakeda/repos", "events_url": "https://api.github.com/users/smtakeda/events{/privacy}", "received_events_url": "https://api.github.com/users/smtakeda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-10T17:23:39Z", "updated_at": "2018-10-10T18:32:34Z", "closed_at": "2018-10-10T18:32:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nazure-storage package\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n0.36.0\r\n\r\n### What problem was encountered?\r\nPython logging is missing.  It appeared 0.37.0 has it. We would like to enable it for https://github.com/snowflakedb/snowflake-connector-python\r\n\r\n### Have you found a mitigation/solution?\r\nnone other than reading code.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/509", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/509/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/509/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/509/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/509", "id": 368686654, "node_id": "MDU6SXNzdWUzNjg2ODY2NTQ=", "number": 509, "title": "how to turn off automatic decompression when download gzipped file", "user": {"login": "imeya", "id": 25738099, "node_id": "MDQ6VXNlcjI1NzM4MDk5", "avatar_url": "https://avatars1.githubusercontent.com/u/25738099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imeya", "html_url": "https://github.com/imeya", "followers_url": "https://api.github.com/users/imeya/followers", "following_url": "https://api.github.com/users/imeya/following{/other_user}", "gists_url": "https://api.github.com/users/imeya/gists{/gist_id}", "starred_url": "https://api.github.com/users/imeya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imeya/subscriptions", "organizations_url": "https://api.github.com/users/imeya/orgs", "repos_url": "https://api.github.com/users/imeya/repos", "events_url": "https://api.github.com/users/imeya/events{/privacy}", "received_events_url": "https://api.github.com/users/imeya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 968367686, "node_id": "MDU6TGFiZWw5NjgzNjc2ODY=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/investigating", "name": "investigating", "color": "32a4a8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "zezha-msft", "id": 26559128, "node_id": "MDQ6VXNlcjI2NTU5MTI4", "avatar_url": "https://avatars2.githubusercontent.com/u/26559128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zezha-msft", "html_url": "https://github.com/zezha-msft", "followers_url": "https://api.github.com/users/zezha-msft/followers", "following_url": "https://api.github.com/users/zezha-msft/following{/other_user}", "gists_url": "https://api.github.com/users/zezha-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/zezha-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zezha-msft/subscriptions", "organizations_url": "https://api.github.com/users/zezha-msft/orgs", "repos_url": "https://api.github.com/users/zezha-msft/repos", "events_url": "https://api.github.com/users/zezha-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/zezha-msft/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "zezha-msft", "id": 26559128, "node_id": "MDQ6VXNlcjI2NTU5MTI4", "avatar_url": "https://avatars2.githubusercontent.com/u/26559128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zezha-msft", "html_url": "https://github.com/zezha-msft", "followers_url": "https://api.github.com/users/zezha-msft/followers", "following_url": "https://api.github.com/users/zezha-msft/following{/other_user}", "gists_url": "https://api.github.com/users/zezha-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/zezha-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zezha-msft/subscriptions", "organizations_url": "https://api.github.com/users/zezha-msft/orgs", "repos_url": "https://api.github.com/users/zezha-msft/repos", "events_url": "https://api.github.com/users/zezha-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/zezha-msft/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-10-10T14:12:51Z", "updated_at": "2018-10-25T23:40:25Z", "closed_at": "2018-10-25T23:40:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "when use the following to download gzipped file, The download works but Azure or the SDK decompresses my gzipped files on the fly when the files are fetched. \r\nhow can I turn off this behavior? thanks\r\n\r\n```\r\nBLOB_SERVICE = BlockBlobService(account_name=AZURE_BLOB_SERVICE_ACCOUNT_NAME, account_key=AZURE_BLOB_SERVICE_ACCOUNT_KEY)\r\n\r\nBLOB_SERVICE.get_blob_to_path(\r\n            guid,\r\n            name,\r\n            path,\r\n        )\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/508", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/508/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/508/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/508", "id": 368218825, "node_id": "MDU6SXNzdWUzNjgyMTg4MjU=", "number": 508, "title": "blob_service.list_blobs returns blobs with no metadata", "user": {"login": "aatkinson", "id": 22773542, "node_id": "MDQ6VXNlcjIyNzczNTQy", "avatar_url": "https://avatars0.githubusercontent.com/u/22773542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aatkinson", "html_url": "https://github.com/aatkinson", "followers_url": "https://api.github.com/users/aatkinson/followers", "following_url": "https://api.github.com/users/aatkinson/following{/other_user}", "gists_url": "https://api.github.com/users/aatkinson/gists{/gist_id}", "starred_url": "https://api.github.com/users/aatkinson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aatkinson/subscriptions", "organizations_url": "https://api.github.com/users/aatkinson/orgs", "repos_url": "https://api.github.com/users/aatkinson/repos", "events_url": "https://api.github.com/users/aatkinson/events{/privacy}", "received_events_url": "https://api.github.com/users/aatkinson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-09T13:46:23Z", "updated_at": "2018-10-09T16:30:48Z", "closed_at": "2018-10-09T16:30:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n1.3.1\r\n\r\n```\r\n$ pip freeze | grep \"azure\"\r\nazure-common==1.1.16\r\nazure-nspkg==3.0.2\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-nspkg==3.0.0\r\n```\r\n\r\n### What problem was encountered?\r\n\r\n`azure.storage.blob.BlockBlobService.list_blobs(..)` returns a list of Blob objects that have `metadata` member as `None` - even though some of the blobs have metadata in the blob storage container.\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nCall `get_metadata` on each blob, but this is time consuming and presumably consists of multiple requests.\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/503", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/503/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/503/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/503/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/503", "id": 361061181, "node_id": "MDU6SXNzdWUzNjEwNjExODE=", "number": 503, "title": "Get Blob URL in Blob Properties", "user": {"login": "priyaananthasankar", "id": 10415876, "node_id": "MDQ6VXNlcjEwNDE1ODc2", "avatar_url": "https://avatars1.githubusercontent.com/u/10415876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priyaananthasankar", "html_url": "https://github.com/priyaananthasankar", "followers_url": "https://api.github.com/users/priyaananthasankar/followers", "following_url": "https://api.github.com/users/priyaananthasankar/following{/other_user}", "gists_url": "https://api.github.com/users/priyaananthasankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/priyaananthasankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priyaananthasankar/subscriptions", "organizations_url": "https://api.github.com/users/priyaananthasankar/orgs", "repos_url": "https://api.github.com/users/priyaananthasankar/repos", "events_url": "https://api.github.com/users/priyaananthasankar/events{/privacy}", "received_events_url": "https://api.github.com/users/priyaananthasankar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-17T21:59:48Z", "updated_at": "2018-09-18T22:17:59Z", "closed_at": "2018-09-18T22:10:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "blob\r\n\r\nazure-storage-blob==1.3.1\r\n\r\nIf Blob properties can support a get Blob URL interface it would help to provide it to machine learning libraries as a destination to save models. Or in general, blob URI can be a destination for any kind of save. This URI can be manually constructed but Python SDK can return it as a blob property. S3 supports such interfaces.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/501", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/501/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/501/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/501", "id": 359747912, "node_id": "MDU6SXNzdWUzNTk3NDc5MTI=", "number": 501, "title": "How to get the blob url from the BlobProperties? ", "user": {"login": "priyaananthasankar", "id": 10415876, "node_id": "MDQ6VXNlcjEwNDE1ODc2", "avatar_url": "https://avatars1.githubusercontent.com/u/10415876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priyaananthasankar", "html_url": "https://github.com/priyaananthasankar", "followers_url": "https://api.github.com/users/priyaananthasankar/followers", "following_url": "https://api.github.com/users/priyaananthasankar/following{/other_user}", "gists_url": "https://api.github.com/users/priyaananthasankar/gists{/gist_id}", "starred_url": "https://api.github.com/users/priyaananthasankar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priyaananthasankar/subscriptions", "organizations_url": "https://api.github.com/users/priyaananthasankar/orgs", "repos_url": "https://api.github.com/users/priyaananthasankar/repos", "events_url": "https://api.github.com/users/priyaananthasankar/events{/privacy}", "received_events_url": "https://api.github.com/users/priyaananthasankar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-13T05:30:00Z", "updated_at": "2020-01-21T23:06:37Z", "closed_at": "2018-09-13T07:12:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can url be constructed within the BlobProperties of the Azure Blob object?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/499", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/499/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/499/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/499", "id": 357106156, "node_id": "MDU6SXNzdWUzNTcxMDYxNTY=", "number": 499, "title": "Unable to install azure-storage-blob dependencies via setup.py", "user": {"login": "SamuelRamond", "id": 3784509, "node_id": "MDQ6VXNlcjM3ODQ1MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3784509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SamuelRamond", "html_url": "https://github.com/SamuelRamond", "followers_url": "https://api.github.com/users/SamuelRamond/followers", "following_url": "https://api.github.com/users/SamuelRamond/following{/other_user}", "gists_url": "https://api.github.com/users/SamuelRamond/gists{/gist_id}", "starred_url": "https://api.github.com/users/SamuelRamond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SamuelRamond/subscriptions", "organizations_url": "https://api.github.com/users/SamuelRamond/orgs", "repos_url": "https://api.github.com/users/SamuelRamond/repos", "events_url": "https://api.github.com/users/SamuelRamond/events{/privacy}", "received_events_url": "https://api.github.com/users/SamuelRamond/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-05T07:49:59Z", "updated_at": "2018-11-10T03:13:25Z", "closed_at": "2018-11-10T03:13:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\n```\r\n>>> from azure.storage.blob import BlockBlobService\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: No module named storage.blob\r\n```\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n```\r\nazure-common==1.1.14\r\nazure-nspkg==2.0.0\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-nspkg==3.0.0\r\n```\r\n\r\n### What problem was encountered?\r\n\r\nUnable to install the whole dependency tree via classic `setup.py` in `install_requires`\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nUsing `pip install azure-storage-blob==1.3.1` it works well but in our CI process we try to have all dependency in our `setup.py`\r\n\r\nI tried to add what seems to be the additional dependencies while `pip freeze` after manual pip install but this does not work either.\r\nFYI, i added\r\n```\r\n    'azure-common==1.1.14',\r\n    'azure-nspkg==2.0.0',\r\n    'azure-storage-blob==1.3.1',\r\n    'azure-storage-common==1.3.0',\r\n    'azure-storage-nspkg==3.0.0',\r\n```\r\n\r\nIs there something i need to add in the `setup.py` to make it work ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/497", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/497/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/497/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/497/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/497", "id": 356503044, "node_id": "MDU6SXNzdWUzNTY1MDMwNDQ=", "number": 497, "title": "Take long time to get the blob content from get_blob_to_stream and get_blob_to_text", "user": {"login": "TomFang123", "id": 42800562, "node_id": "MDQ6VXNlcjQyODAwNTYy", "avatar_url": "https://avatars0.githubusercontent.com/u/42800562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TomFang123", "html_url": "https://github.com/TomFang123", "followers_url": "https://api.github.com/users/TomFang123/followers", "following_url": "https://api.github.com/users/TomFang123/following{/other_user}", "gists_url": "https://api.github.com/users/TomFang123/gists{/gist_id}", "starred_url": "https://api.github.com/users/TomFang123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TomFang123/subscriptions", "organizations_url": "https://api.github.com/users/TomFang123/orgs", "repos_url": "https://api.github.com/users/TomFang123/repos", "events_url": "https://api.github.com/users/TomFang123/events{/privacy}", "received_events_url": "https://api.github.com/users/TomFang123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-03T13:18:56Z", "updated_at": "2018-09-05T17:54:51Z", "closed_at": "2018-09-04T19:51:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nbaseblobservice.py\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure_storage==0.36.0\r\n\r\n### What problem was encountered?\r\nWe are using **get_blob_to_stream** and **get_blob_to_text** from **baseblobservice** to get the blob content, it normally take 20 secs around, and the blob content size is less than 7MB. This time is too long for us since we are getting data at runtime, which will impact our responsiveness to frontend\r\n\r\n### Have you found a mitigation/solution?\r\nwe didn't find solution\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/496", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/496/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/496/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/496", "id": 356434580, "node_id": "MDU6SXNzdWUzNTY0MzQ1ODA=", "number": 496, "title": "(Suggestion) Cannot directly install the package in Apline Docker. ", "user": {"login": "gk-patel", "id": 42677721, "node_id": "MDQ6VXNlcjQyNjc3NzIx", "avatar_url": "https://avatars0.githubusercontent.com/u/42677721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gk-patel", "html_url": "https://github.com/gk-patel", "followers_url": "https://api.github.com/users/gk-patel/followers", "following_url": "https://api.github.com/users/gk-patel/following{/other_user}", "gists_url": "https://api.github.com/users/gk-patel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gk-patel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gk-patel/subscriptions", "organizations_url": "https://api.github.com/users/gk-patel/orgs", "repos_url": "https://api.github.com/users/gk-patel/repos", "events_url": "https://api.github.com/users/gk-patel/events{/privacy}", "received_events_url": "https://api.github.com/users/gk-patel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-09-03T09:53:00Z", "updated_at": "2018-09-24T09:11:49Z", "closed_at": "2018-09-21T21:37:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage==0.36.0\r\n\r\n### What problem was encountered?\r\nI tried to do \"RUN venv/bin/pip install azure-storage\" in an Alpine Docker, but this gave multiple errors. Possibly because SSL and other libraries are required. Please check my solution (below) and give me your comments. And maybe, the installation of the below mentioned packages can be automated (just a suggestion). \r\n\r\n### Have you found a mitigation/solution?\r\nI found out that, some more dependencies were required, as follows:\r\nRUN apk add --no-cache --virtual .pynacl_deps build-base python3-dev libffi-dev openssl-dev\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/495", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/495/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/495/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/495", "id": 355763230, "node_id": "MDU6SXNzdWUzNTU3NjMyMzA=", "number": 495, "title": " Retry policy did not allow for a retry. HTTP status code=403 blob_service.exists(CONTAINER_NAME)", "user": {"login": "kgopi007", "id": 23717897, "node_id": "MDQ6VXNlcjIzNzE3ODk3", "avatar_url": "https://avatars2.githubusercontent.com/u/23717897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kgopi007", "html_url": "https://github.com/kgopi007", "followers_url": "https://api.github.com/users/kgopi007/followers", "following_url": "https://api.github.com/users/kgopi007/following{/other_user}", "gists_url": "https://api.github.com/users/kgopi007/gists{/gist_id}", "starred_url": "https://api.github.com/users/kgopi007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kgopi007/subscriptions", "organizations_url": "https://api.github.com/users/kgopi007/orgs", "repos_url": "https://api.github.com/users/kgopi007/repos", "events_url": "https://api.github.com/users/kgopi007/events{/privacy}", "received_events_url": "https://api.github.com/users/kgopi007/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-30T21:35:51Z", "updated_at": "2018-08-31T00:55:16Z", "closed_at": "2018-08-30T22:02:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBLOB\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\npython3.4 -m pip freeze\r\nadal==1.0.2\r\nasn1crypto==0.24.0\r\nazure==4.0.0\r\nazure-applicationinsights==0.1.0\r\nazure-batch==4.1.3\r\nazure-common==1.1.14\r\nazure-cosmosdb-nspkg==2.0.2\r\nazure-cosmosdb-table==1.0.4\r\nazure-datalake-store==0.0.27\r\nazure-eventgrid==1.1.0\r\nazure-graphrbac==0.40.0\r\nazure-keyvault==1.1.0\r\nazure-loganalytics==0.1.0\r\nazure-mgmt==4.0.0\r\nazure-mgmt-advisor==1.0.1\r\nazure-mgmt-applicationinsights==0.1.1\r\nazure-mgmt-authorization==0.50.0\r\nazure-mgmt-batch==5.0.1\r\nazure-mgmt-batchai==2.0.0\r\nazure-mgmt-billing==0.2.0\r\nazure-mgmt-cdn==3.0.0\r\nazure-mgmt-cognitiveservices==3.0.0\r\nazure-mgmt-commerce==1.0.1\r\nazure-mgmt-compute==4.0.1\r\nazure-mgmt-consumption==2.0.0\r\nazure-mgmt-containerinstance==1.0.0\r\nazure-mgmt-containerregistry==2.1.0\r\nazure-mgmt-containerservice==4.2.2\r\nazure-mgmt-cosmosdb==0.4.1\r\nazure-mgmt-datafactory==0.6.0\r\nazure-mgmt-datalake-analytics==0.6.0\r\nazure-mgmt-datalake-nspkg==2.0.0\r\nazure-mgmt-datalake-store==0.5.0\r\nazure-mgmt-datamigration==1.0.0\r\nazure-mgmt-devspaces==0.1.0\r\nazure-mgmt-devtestlabs==2.2.0\r\nazure-mgmt-dns==2.0.0\r\nazure-mgmt-eventgrid==1.0.0\r\nazure-mgmt-eventhub==2.1.0\r\nazure-mgmt-hanaonazure==0.1.1\r\nazure-mgmt-iotcentral==0.1.0\r\nazure-mgmt-iothub==0.5.0\r\nazure-mgmt-iothubprovisioningservices==0.2.0\r\nazure-mgmt-keyvault==1.1.0\r\nazure-mgmt-loganalytics==0.2.0\r\nazure-mgmt-logic==3.0.0\r\nazure-mgmt-machinelearningcompute==0.4.1\r\nazure-mgmt-managementgroups==0.1.0\r\nazure-mgmt-managementpartner==0.1.0\r\nazure-mgmt-maps==0.1.0\r\nazure-mgmt-marketplaceordering==0.1.0\r\nazure-mgmt-media==1.0.0rc2\r\nazure-mgmt-monitor==0.5.2\r\nazure-mgmt-msi==0.2.0\r\nazure-mgmt-network==2.0.1\r\nazure-mgmt-notificationhubs==2.0.0\r\nazure-mgmt-nspkg==2.0.0\r\nazure-mgmt-policyinsights==0.1.0\r\nazure-mgmt-powerbiembedded==2.0.0\r\nazure-mgmt-rdbms==1.2.0\r\nazure-mgmt-recoveryservices==0.3.0\r\nazure-mgmt-recoveryservicesbackup==0.3.0\r\nazure-mgmt-redis==5.0.0\r\nazure-mgmt-relay==0.1.0\r\nazure-mgmt-reservations==0.2.1\r\nazure-mgmt-resource==2.0.0\r\nazure-mgmt-scheduler==2.0.0\r\nazure-mgmt-search==2.0.0\r\nazure-mgmt-servicebus==0.5.1\r\nazure-mgmt-servicefabric==0.2.0\r\nazure-mgmt-signalr==0.1.0\r\nazure-mgmt-sql==0.9.1\r\nazure-mgmt-storage==2.0.0\r\nazure-mgmt-subscription==0.2.0\r\nazure-mgmt-trafficmanager==0.50.0\r\nazure-mgmt-web==0.35.0\r\nazure-nspkg==2.0.0\r\nazure-servicebus==0.21.1\r\nazure-servicefabric==6.3.0.0\r\nazure-servicemanagement-legacy==0.20.6\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\nazure-storage-file==1.3.1\r\nazure-storage-nspkg==3.0.0\r\nazure-storage-queue==1.3.0\r\ncertifi==2018.8.13\r\ncffi==1.11.5\r\nchardet==3.0.4\r\ncryptography==2.3.1\r\nfutures==3.1.1\r\nidna==2.7\r\nisodate==0.6.0\r\nmsrest==0.5.4\r\nmsrestazure==0.5.0\r\noauthlib==2.1.0\r\npycparser==2.18\r\nPyJWT==1.6.4\r\npython-dateutil==2.7.3\r\nrequests==2.19.1\r\nrequests-oauthlib==1.0.0\r\nsix==1.11.0\r\ntyping==3.6.4\r\nurllib3==1.23\r\n\r\n\r\n### What problem was encountered?\r\nRetry policy did not allow for a retry. HTTP status code=403 blob_service.exists(CONTAINER_NAME)\r\nWhen this python program is called directly it runs successfully and the file is uploaded into blob in less-than a second. But if it is called from Talend job the Python code fail with this error.\r\n Retry policy did not allow for a retry. HTTP status code=403 blob_service.exists(CONTAINER_NAME)\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/494", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/494/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/494/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/494", "id": 354468535, "node_id": "MDU6SXNzdWUzNTQ0Njg1MzU=", "number": 494, "title": "Generated sas token for specific file does not seem to work.", "user": {"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-27T20:36:10Z", "updated_at": "2018-08-27T22:45:18Z", "closed_at": "2018-08-27T22:43:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nfile\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nv1.3.1\r\n\r\n### What problem was encountered?\r\nI can't generate a working file sas token:\r\n```\r\n>>> client.generate_file_shared_access_signature('wilxshare', file_name='stuff.txt', directory_name='.', permission=file.FilePermissions(read=True, create=True), expiry='2018-08-27T20:34Z')\r\n'se=2018-08-27T20%3A34Z&sp=rc&sv=2018-03-28&sr=f&sig=...'\r\n```\r\nThis token does not work when I atempt to download(I'm using CLI):\r\n`az storage file download -s wilxshare --account-name wilxremove  -p stuff.txt  --dest ..\\temp\\file.txt --sas-token \"se=2018-08-27T20%3A34Z&sp=rc&sv=2018-03-28&sr=f&sig=...\"`\r\n\r\nIf this is a user error, please let me know.\r\n\r\n### Have you found a mitigation/solution?\r\nUsing a sas-token generated for the share allows me to download my files. However, this does not allow fine-grained access for particular files. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/490", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/490/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/490/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/490", "id": 353213173, "node_id": "MDU6SXNzdWUzNTMyMTMxNzM=", "number": 490, "title": "Minor: Add endpoint_suffix argument to CloudStorageAccount object for use when constructing services", "user": {"login": "bgklein", "id": 18502617, "node_id": "MDQ6VXNlcjE4NTAyNjE3", "avatar_url": "https://avatars0.githubusercontent.com/u/18502617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bgklein", "html_url": "https://github.com/bgklein", "followers_url": "https://api.github.com/users/bgklein/followers", "following_url": "https://api.github.com/users/bgklein/following{/other_user}", "gists_url": "https://api.github.com/users/bgklein/gists{/gist_id}", "starred_url": "https://api.github.com/users/bgklein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bgklein/subscriptions", "organizations_url": "https://api.github.com/users/bgklein/orgs", "repos_url": "https://api.github.com/users/bgklein/repos", "events_url": "https://api.github.com/users/bgklein/events{/privacy}", "received_events_url": "https://api.github.com/users/bgklein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 475533729, "node_id": "MDU6TGFiZWw0NzU1MzM3Mjk=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/feature%20request/enhancement", "name": "feature request/enhancement", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-23T03:50:49Z", "updated_at": "2018-08-23T21:02:48Z", "closed_at": "2018-08-23T21:02:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nCloudStorageAccount\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nlatest\r\n\r\n### What problem was encountered?\r\nSoveign Cloud users need to specify this to get the appropriate endpoints.\r\n\r\n### Have you found a mitigation/solution?\r\nManually creating services but probably nice to add for convienence\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/489", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/489/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/489/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/489", "id": 352627531, "node_id": "MDU6SXNzdWUzNTI2Mjc1MzE=", "number": 489, "title": "FeatureRequest: ability to set retry option in storage ", "user": {"login": "janhaviagrawal", "id": 19838991, "node_id": "MDQ6VXNlcjE5ODM4OTkx", "avatar_url": "https://avatars1.githubusercontent.com/u/19838991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janhaviagrawal", "html_url": "https://github.com/janhaviagrawal", "followers_url": "https://api.github.com/users/janhaviagrawal/followers", "following_url": "https://api.github.com/users/janhaviagrawal/following{/other_user}", "gists_url": "https://api.github.com/users/janhaviagrawal/gists{/gist_id}", "starred_url": "https://api.github.com/users/janhaviagrawal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janhaviagrawal/subscriptions", "organizations_url": "https://api.github.com/users/janhaviagrawal/orgs", "repos_url": "https://api.github.com/users/janhaviagrawal/repos", "events_url": "https://api.github.com/users/janhaviagrawal/events{/privacy}", "received_events_url": "https://api.github.com/users/janhaviagrawal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-21T16:55:08Z", "updated_at": "2018-08-21T17:39:29Z", "closed_at": "2018-08-21T17:37:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nqueue\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage==0.36.0\r\n\r\n### What problem was encountered?\r\nNo option to set the RetryOptions for QueueService object.\r\nQueueService inherits from StorageClient class which has retry set to default ExponentialRetry in its init.\r\nIn pydocumentdb, we can set RetryOptions as property of client's connection policy. It would be great if that could be unified across storage service as well.\r\n\r\n### Have you found a mitigation/solution?\r\nNo.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/487", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/487/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/487/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/487", "id": 351048139, "node_id": "MDU6SXNzdWUzNTEwNDgxMzk=", "number": 487, "title": "Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.", "user": {"login": "wyblzu", "id": 11910045, "node_id": "MDQ6VXNlcjExOTEwMDQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/11910045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wyblzu", "html_url": "https://github.com/wyblzu", "followers_url": "https://api.github.com/users/wyblzu/followers", "following_url": "https://api.github.com/users/wyblzu/following{/other_user}", "gists_url": "https://api.github.com/users/wyblzu/gists{/gist_id}", "starred_url": "https://api.github.com/users/wyblzu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wyblzu/subscriptions", "organizations_url": "https://api.github.com/users/wyblzu/orgs", "repos_url": "https://api.github.com/users/wyblzu/repos", "events_url": "https://api.github.com/users/wyblzu/events{/privacy}", "received_events_url": "https://api.github.com/users/wyblzu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-16T04:06:33Z", "updated_at": "2018-08-16T04:38:57Z", "closed_at": "2018-08-16T04:38:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n\r\n\r\n### What problem was encountered?\r\n\r\n\r\n### Have you found a mitigation/solution?\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/486", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/486/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/486/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/486/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/486", "id": 350111188, "node_id": "MDU6SXNzdWUzNTAxMTExODg=", "number": 486, "title": "IOError: close() called during concurrent operation on the same file object.", "user": {"login": "nafabrar", "id": 16696882, "node_id": "MDQ6VXNlcjE2Njk2ODgy", "avatar_url": "https://avatars1.githubusercontent.com/u/16696882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nafabrar", "html_url": "https://github.com/nafabrar", "followers_url": "https://api.github.com/users/nafabrar/followers", "following_url": "https://api.github.com/users/nafabrar/following{/other_user}", "gists_url": "https://api.github.com/users/nafabrar/gists{/gist_id}", "starred_url": "https://api.github.com/users/nafabrar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nafabrar/subscriptions", "organizations_url": "https://api.github.com/users/nafabrar/orgs", "repos_url": "https://api.github.com/users/nafabrar/repos", "events_url": "https://api.github.com/users/nafabrar/events{/privacy}", "received_events_url": "https://api.github.com/users/nafabrar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-13T16:55:11Z", "updated_at": "2018-08-23T21:47:04Z", "closed_at": "2018-08-23T21:47:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n0.36.0\r\n\r\n### What problem was encountered?\r\nIOError: close() called during concurrent operation on the same file object.\r\nTraceback (most recent call last):\r\n  File \"/home/amcpherson/production/gsc/tantalus/tantalus/backend/file_transfer_utils.py\", line 420, in transfer_files\r\n    f_transfer(file_instance, to_storage)\r\n  File \"/home/amcpherson/production/gsc/tantalus/tantalus/backend/file_transfer_utils.py\", line 197, in upload_to_blob\r\n    timeout=10*60*64)\r\n  File \"/home/amcpherson/production/gsc/tantalus/venv/lib/python2.7/site-packages/azure/storage/blob/blockblobservice.py\", line 411, in create_blob_from_path\r\n    timeout=timeout)\r\nIOError: close() called during concurrent operation on the same file object.\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/485", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/485/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/485/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/485", "id": 349129203, "node_id": "MDU6SXNzdWUzNDkxMjkyMDM=", "number": 485, "title": "az storage blob generate-sas fails to produce correct sas token", "user": {"login": "nicolaibaralmueller", "id": 33453919, "node_id": "MDQ6VXNlcjMzNDUzOTE5", "avatar_url": "https://avatars0.githubusercontent.com/u/33453919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicolaibaralmueller", "html_url": "https://github.com/nicolaibaralmueller", "followers_url": "https://api.github.com/users/nicolaibaralmueller/followers", "following_url": "https://api.github.com/users/nicolaibaralmueller/following{/other_user}", "gists_url": "https://api.github.com/users/nicolaibaralmueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicolaibaralmueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicolaibaralmueller/subscriptions", "organizations_url": "https://api.github.com/users/nicolaibaralmueller/orgs", "repos_url": "https://api.github.com/users/nicolaibaralmueller/repos", "events_url": "https://api.github.com/users/nicolaibaralmueller/events{/privacy}", "received_events_url": "https://api.github.com/users/nicolaibaralmueller/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-09T13:32:10Z", "updated_at": "2018-08-10T07:41:52Z", "closed_at": "2018-08-10T07:41:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\naz storage blob generate-sas --account-name name--account-key key --container-name cname --name file --permissions r --https-only\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-cli 2.0.43\r\nPython 3.6.5\r\n\r\nadal==0.5.0\r\nadium-theme-ubuntu==0.3.4\r\nansible==2.6.2\r\napplicationinsights==0.11.1\r\nargcomplete==1.9.4\r\nasn1crypto==0.24.0\r\nazure-cli-core==2.0.27\r\nazure-cli-nspkg==3.0.1\r\nazure-common==1.1.8\r\nazure-mgmt-batch==4.1.0\r\nazure-mgmt-compute==2.1.0\r\nazure-mgmt-containerservice==1.0.0\r\nazure-mgmt-dns==1.2.0\r\nazure-mgmt-keyvault==0.40.0\r\nazure-mgmt-network==1.7.1\r\nazure-mgmt-nspkg==2.0.0\r\nazure-mgmt-resource==1.2.2\r\nazure-mgmt-sql==0.7.1\r\nazure-mgmt-storage==1.5.0\r\nazure-mgmt-web==0.32.0\r\nazure-nspkg==2.0.0\r\nazure-storage==0.35.1\r\nbackports.ssl-match-hostname==3.5.0.1\r\nbeautifulsoup4==4.4.1\r\ncertifi==2018.1.18\r\ncffi==1.11.4\r\nchardet==3.0.4\r\ncolorama==0.3.9\r\ncryptography==2.1.4\r\ndocker-py==1.10.6\r\ndocker-pycreds==0.3.0\r\necdsa==0.13\r\nenum34==1.1.2\r\nfutures==3.2.0\r\nhtml5lib==0.999\r\nhttplib2==0.9.1\r\nhumanfriendly==4.8\r\nidna==2.6\r\nipaddress==1.0.16\r\nisodate==0.6.0\r\nJinja2==2.8\r\njmespath==0.9.0\r\nkeyring==11.0.0\r\nknack==0.3.1\r\nlxml==3.5.0\r\nMarkupSafe==0.23\r\nmonotonic==1.4\r\nmsrest==0.4.26\r\nmsrestazure==0.4.21\r\nntlm-auth==1.0.6\r\noauthlib==2.0.6\r\npackaging==16.8\r\nparamiko==1.16.0\r\npyasn1==0.1.9\r\npycparser==2.18\r\npycrypto==2.6.1\r\nPygments==2.2.0\r\nPyJWT==1.5.3\r\npymssql==2.1.3\r\npync==1.6.1\r\npyOpenSSL==17.5.0\r\npyparsing==2.2.0\r\npysphere==0.1.7\r\npython-dateutil==2.6.1\r\npyvmomi==6.7.0\r\npywinrm==0.3.0\r\nPyYAML==3.11\r\nrequests==2.18.4\r\nrequests-ntlm==1.1.0\r\nrequests-oauthlib==0.8.0\r\nSecretStorage==2.3.1\r\nsix==1.11.0\r\ntabulate==0.7.7\r\nunity-lens-photos==1.0\r\nurllib3==1.22\r\nwebsocket-client==0.48.0\r\nxmltodict==0.11.0\r\n\r\n\r\n### What problem was encountered?\r\nsas tokens do not work anymore\r\n\r\n### Have you found a mitigation/solution?\r\nNo\r\nRespons: HTTP Error 404: The specified blob does not exist.\r\nThe file exists and I can download manually and have cross checked the link.\r\nWhen leaving out the parameters start and expire the result is this:\r\n`<Error>\r\n<Code>AuthenticationFailed</Code>\r\n<Message>\r\nServer failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature. RequestId:3014a2ed-c01e-005d-44e5-2fd752000000 Time:2018-08-09T13:33:45.8073475Z\r\n</Message>\r\n<AuthenticationErrorDetail>se is mandatory. Cannot be empty</AuthenticationErrorDetail>\r\n</Error>`\r\n\r\nAlso, my Ubuntu server has correct datetime.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/483", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/483/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/483/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/483", "id": 348357948, "node_id": "MDU6SXNzdWUzNDgzNTc5NDg=", "number": 483, "title": "[ParentNotFound] Azure File SDK can NOT create_directory recursively", "user": {"login": "Cherishty", "id": 10758629, "node_id": "MDQ6VXNlcjEwNzU4NjI5", "avatar_url": "https://avatars0.githubusercontent.com/u/10758629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cherishty", "html_url": "https://github.com/Cherishty", "followers_url": "https://api.github.com/users/Cherishty/followers", "following_url": "https://api.github.com/users/Cherishty/following{/other_user}", "gists_url": "https://api.github.com/users/Cherishty/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cherishty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cherishty/subscriptions", "organizations_url": "https://api.github.com/users/Cherishty/orgs", "repos_url": "https://api.github.com/users/Cherishty/repos", "events_url": "https://api.github.com/users/Cherishty/events{/privacy}", "received_events_url": "https://api.github.com/users/Cherishty/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-07T14:53:52Z", "updated_at": "2018-08-08T02:23:09Z", "closed_at": "2018-08-07T18:41:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nAzure File\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-common==1.3.0\r\nazure-storage-file==1.3.1\r\nazure-storage-nspkg==3.0.0\r\n\r\n### What problem was encountered?\r\nWhen running `file_service.create_directory(__share_name,  \"root_path/leaf_path\")`, if **root_path** is not existed, an exception that \"ParentNotFound\" will throw.\r\nNo override method is provided for recursive create dir like \"mkdir -p\" ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/482", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/482/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/482/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/482/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/482", "id": 347945615, "node_id": "MDU6SXNzdWUzNDc5NDU2MTU=", "number": 482, "title": "Can python api for AzureFile support to upload local directory to remote?", "user": {"login": "Cherishty", "id": 10758629, "node_id": "MDQ6VXNlcjEwNzU4NjI5", "avatar_url": "https://avatars0.githubusercontent.com/u/10758629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cherishty", "html_url": "https://github.com/Cherishty", "followers_url": "https://api.github.com/users/Cherishty/followers", "following_url": "https://api.github.com/users/Cherishty/following{/other_user}", "gists_url": "https://api.github.com/users/Cherishty/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cherishty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cherishty/subscriptions", "organizations_url": "https://api.github.com/users/Cherishty/orgs", "repos_url": "https://api.github.com/users/Cherishty/repos", "events_url": "https://api.github.com/users/Cherishty/events{/privacy}", "received_events_url": "https://api.github.com/users/Cherishty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 475533729, "node_id": "MDU6TGFiZWw0NzU1MzM3Mjk=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/feature%20request/enhancement", "name": "feature request/enhancement", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-06T14:23:41Z", "updated_at": "2018-08-07T18:55:23Z", "closed_at": "2018-08-06T21:12:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nAzure File\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-common==1.3.0\r\nazure-storage-file==1.3.1\r\nazure-storage-nspkg==3.0.0\r\n\r\n### What problem was encountered?\r\nCan python api for AzureFile support to upload a local directory to remote?\r\ndownloading folder is the same requirement\r\nIf not, why?\r\nI was using web_hdfs python api which support this behavior\r\n\r\n### Have you found a mitigation/solution?\r\nIf this function is not provided by api , we may recursively invoke **create_file_from_path()** by folder's hierarchy, but I believe it is too strange \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/481", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/481/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/481/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/481/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/481", "id": 347515256, "node_id": "MDU6SXNzdWUzNDc1MTUyNTY=", "number": 481, "title": "Bizarre traceback when incorrect account details are provided due to retry handler expecting 'context.request.body' to be present", "user": {"login": "stewartadam", "id": 77808, "node_id": "MDQ6VXNlcjc3ODA4", "avatar_url": "https://avatars0.githubusercontent.com/u/77808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stewartadam", "html_url": "https://github.com/stewartadam", "followers_url": "https://api.github.com/users/stewartadam/followers", "following_url": "https://api.github.com/users/stewartadam/following{/other_user}", "gists_url": "https://api.github.com/users/stewartadam/gists{/gist_id}", "starred_url": "https://api.github.com/users/stewartadam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stewartadam/subscriptions", "organizations_url": "https://api.github.com/users/stewartadam/orgs", "repos_url": "https://api.github.com/users/stewartadam/repos", "events_url": "https://api.github.com/users/stewartadam/events{/privacy}", "received_events_url": "https://api.github.com/users/stewartadam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235876945, "node_id": "MDU6TGFiZWwyMzU4NzY5NDU=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-03T19:44:45Z", "updated_at": "2018-11-10T03:12:56Z", "closed_at": "2018-11-10T03:12:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\nazure-storage-blob==1.3.1\r\nazure-storage-common==1.3.0\r\n\r\n### What problem was encountered?\r\nIf user misconfigures the access credentials to their blob store, a obscure traceback is provided instead of an error when uploading any file via `create_blob_from_*` methods:\r\n```\r\n# ...\r\n# flask-request-stuff\r\n# ...\r\n  File \"/Users/stewartadam/code/flasktest/app/shapi/views.py\", line 108, in post\r\n    blob_service.create_blob_from_stream('attempts', blob_name, imageFile)\r\n  File \"/Users/stewartadam/code/virtualenvs/flasktest-xUdAmdfH/lib/python3.7/site-packages/azure/storage/blob/blockblobservice.py\", line 645, in create_blob_from_stream\r\n    encryption_data=encryption_data\r\n  File \"/Users/stewartadam/code/virtualenvs/flasktest-xUdAmdfH/lib/python3.7/site-packages/azure/storage/blob/blockblobservice.py\", line 1062, in _put_block_list\r\n    return self._perform_request(request, _parse_base_properties)\r\n  File \"/Users/stewartadam/code/virtualenvs/flasktest-xUdAmdfH/lib/python3.7/site-packages/azure/storage/common/storageclient.py\", line 360, in _perform_request\r\n    retry_interval = self.retry(retry_context)\r\n  File \"/Users/stewartadam/code/virtualenvs/flasktest-xUdAmdfH/lib/python3.7/site-packages/azure/storage/common/retry.py\", line 218, in retry\r\n    return self._retry(context, self._backoff)\r\n  File \"/Users/stewartadam/code/virtualenvs/flasktest-xUdAmdfH/lib/python3.7/site-packages/azure/storage/common/retry.py\", line 154, in _retry\r\n    if hasattr(context.request.body, 'read'):\r\nAttributeError: 'NoneType' object has no attribute 'body'\r\n```\r\n\r\nLogging showed:\r\n```\r\n2018-08-03 12:35:51,437 azure.storage.common.storageclient INFO  Client-Request-ID=6e0fd270-9754-11e8-992f-72000494eae0 Operation failed: checking if the operation should be retried. Current retry count=0, , HTTP status code=Unknown, Exception=Incorrect padding.\r\n```\r\n\r\nHere's a flask_restful MVP:\r\n```\r\nfrom flask_restful import Resource, Api\r\n#...\r\n# create your app\r\n#...\r\n\r\napi = Api(app)\r\n\r\nclass FileHandler(Resource):\r\n    def post(self):\r\n        blob_service = BlockBlobService(account_name='accountname', account_key='accountkey')\r\n        imageFile = request.files.get('image')\r\n        blob_service.create_blob_from_stream('attempts', blob_name, imageFile)\r\n        blob_url = blob_service.make_blob_url('mycontainername', 'myblobname')\r\n        return blob_url\r\n\r\napi.add_resource(HintAttempt, '/upload')\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\nNo", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/478", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/478/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/478/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/478", "id": 342190602, "node_id": "MDU6SXNzdWUzNDIxOTA2MDI=", "number": 478, "title": "Support for remote Azurite", "user": {"login": "Hardtack", "id": 415292, "node_id": "MDQ6VXNlcjQxNTI5Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/415292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hardtack", "html_url": "https://github.com/Hardtack", "followers_url": "https://api.github.com/users/Hardtack/followers", "following_url": "https://api.github.com/users/Hardtack/following{/other_user}", "gists_url": "https://api.github.com/users/Hardtack/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hardtack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hardtack/subscriptions", "organizations_url": "https://api.github.com/users/Hardtack/orgs", "repos_url": "https://api.github.com/users/Hardtack/repos", "events_url": "https://api.github.com/users/Hardtack/events{/privacy}", "received_events_url": "https://api.github.com/users/Hardtack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 475533729, "node_id": "MDU6TGFiZWw0NzU1MzM3Mjk=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/feature%20request/enhancement", "name": "feature request/enhancement", "color": "fbca04", "default": false, "description": ""}, {"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-18T06:15:44Z", "updated_at": "2018-11-10T03:12:46Z", "closed_at": "2018-11-10T03:12:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nAll services\r\n\r\n### Which version of the SDK was used? Please provide the output of `pip freeze`.\r\n```\r\nazure-common==1.1.11\r\nazure-nspkg==2.0.0\r\nazure-storage-blob==1.3.0\r\nazure-storage-common==1.3.0\r\nazure-storage-nspkg==3.0.0\r\n```\r\n\r\n### What problem was encountered?\r\nI'm trying to connect remote [Azurite](https://github.com/Azure/Azurite), not in localhost, but _azure-storage-python_ does not allow to use `is_emulated=True` with `custom_domain`, it forces to use `custom_domain=127.0.0.1` when `is_emulated=True`.\r\nWhat I actually want to do is connecting to Azurite that is running on Docker container run by _docker-compose_ but I can't.\r\n\r\n### Have you found a mitigation/solution?\r\nPlease allow to use custom domain with `is_emulated=True`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/477", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/477/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/477/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/477", "id": 342005761, "node_id": "MDU6SXNzdWUzNDIwMDU3NjE=", "number": 477, "title": "Add LICENSE(.txt) to wheels", "user": {"login": "xhochy", "id": 70274, "node_id": "MDQ6VXNlcjcwMjc0", "avatar_url": "https://avatars2.githubusercontent.com/u/70274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xhochy", "html_url": "https://github.com/xhochy", "followers_url": "https://api.github.com/users/xhochy/followers", "following_url": "https://api.github.com/users/xhochy/following{/other_user}", "gists_url": "https://api.github.com/users/xhochy/gists{/gist_id}", "starred_url": "https://api.github.com/users/xhochy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xhochy/subscriptions", "organizations_url": "https://api.github.com/users/xhochy/orgs", "repos_url": "https://api.github.com/users/xhochy/repos", "events_url": "https://api.github.com/users/xhochy/events{/privacy}", "received_events_url": "https://api.github.com/users/xhochy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 475533729, "node_id": "MDU6TGFiZWw0NzU1MzM3Mjk=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/feature%20request/enhancement", "name": "feature request/enhancement", "color": "fbca04", "default": false, "description": ""}, {"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-17T17:03:58Z", "updated_at": "2018-11-10T03:12:38Z", "closed_at": "2018-11-10T03:12:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently the LICENSE is only part of the repository but not contained in the released Python packages. It would be very helpful to ship it in the wheel and sdist tarballs.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/472", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/472/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/472/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/472/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/472", "id": 339948002, "node_id": "MDU6SXNzdWUzMzk5NDgwMDI=", "number": 472, "title": "Unclear api import for QueueService", "user": {"login": "EricSchles", "id": 928957, "node_id": "MDQ6VXNlcjkyODk1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/928957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EricSchles", "html_url": "https://github.com/EricSchles", "followers_url": "https://api.github.com/users/EricSchles/followers", "following_url": "https://api.github.com/users/EricSchles/following{/other_user}", "gists_url": "https://api.github.com/users/EricSchles/gists{/gist_id}", "starred_url": "https://api.github.com/users/EricSchles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EricSchles/subscriptions", "organizations_url": "https://api.github.com/users/EricSchles/orgs", "repos_url": "https://api.github.com/users/EricSchles/repos", "events_url": "https://api.github.com/users/EricSchles/events{/privacy}", "received_events_url": "https://api.github.com/users/EricSchles/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-10T17:57:54Z", "updated_at": "2018-07-10T21:56:26Z", "closed_at": "2018-07-10T21:56:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nqueue\r\n\r\n### What problem was encountered?\r\n```\r\n>>> from azure.storage.queue.queueservice import QueueService\r\n>>> from azure.storage.queue import QueueService\r\n```\r\nBoth work, this is potentially confusing.  Perhaps we can standardize around one and only one way to import QueueService\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nNot as of yet.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/471", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/471/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/471/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/471", "id": 338075515, "node_id": "MDU6SXNzdWUzMzgwNzU1MTU=", "number": 471, "title": "Blob upload is failing for Azure Government", "user": {"login": "prburgu", "id": 20957302, "node_id": "MDQ6VXNlcjIwOTU3MzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/20957302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prburgu", "html_url": "https://github.com/prburgu", "followers_url": "https://api.github.com/users/prburgu/followers", "following_url": "https://api.github.com/users/prburgu/following{/other_user}", "gists_url": "https://api.github.com/users/prburgu/gists{/gist_id}", "starred_url": "https://api.github.com/users/prburgu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prburgu/subscriptions", "organizations_url": "https://api.github.com/users/prburgu/orgs", "repos_url": "https://api.github.com/users/prburgu/repos", "events_url": "https://api.github.com/users/prburgu/events{/privacy}", "received_events_url": "https://api.github.com/users/prburgu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-03T22:35:28Z", "updated_at": "2018-07-04T06:03:44Z", "closed_at": "2018-07-04T06:03:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### What problem was encountered?\r\n\r\nIt appears that the REST version has been changed to 2018-03-28 with the latest SDK, however it appears this version is not available in Azure Government yet. Also, I couldn't find a way to use particular REST version with the Blob Service and always takes the default.\r\n\r\n```\r\nazure.common.AzureHttpError: The value for one of the HTTP headers is not in the correct format.\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>InvalidHeaderValue</Code><Message>The value for one of the HTTP headers is not in the correct format.\r\nRequestId:83003cd7-d01e-0006-2d16-138904000000\r\nTime:2018-07-03T21:40:55.6040097Z</Message><HeaderName>x-ms-version</HeaderName><HeaderValue>2018-03-28</HeaderValue></Error>\r\n```\r\n### Have you found a mitigation/solution?\r\nPinning to following versions works\r\n```\r\nazure-storage-blob~=1.2.0rc1\r\nazure-storage-common~=1.2.0rc1\r\n```\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/469", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/469/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/469/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/469", "id": 336701542, "node_id": "MDU6SXNzdWUzMzY3MDE1NDI=", "number": 469, "title": "The specified resource does not exist.", "user": {"login": "ttelfer", "id": 4094016, "node_id": "MDQ6VXNlcjQwOTQwMTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/4094016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttelfer", "html_url": "https://github.com/ttelfer", "followers_url": "https://api.github.com/users/ttelfer/followers", "following_url": "https://api.github.com/users/ttelfer/following{/other_user}", "gists_url": "https://api.github.com/users/ttelfer/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttelfer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttelfer/subscriptions", "organizations_url": "https://api.github.com/users/ttelfer/orgs", "repos_url": "https://api.github.com/users/ttelfer/repos", "events_url": "https://api.github.com/users/ttelfer/events{/privacy}", "received_events_url": "https://api.github.com/users/ttelfer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-28T16:55:09Z", "updated_at": "2018-07-11T00:20:32Z", "closed_at": "2018-07-11T00:20:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nFile\r\n\r\n### What problem was encountered?\r\n\r\nI get the following error when I attempt to initialize the FileService class. The following was working fine and then without notice it stopped working and started giving the following error:\r\n\r\nClient-Request-ID=bc4ba635-7aef-11e8-be6a-000d3a319612 Retry policy did not allow for a retry: Server-Timestamp=Thu, 28 Jun 2018 16:24:31 GMT, Server-Request-ID=7ee390c2-c01a-0081-0efc-0e9221000000, HTTP status code=404, Exception=The specified resource does not exist.ErrorCode: ResourceNotFound<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>ResourceNotFound</Code><Message>The specified resource does not exist.RequestId:7ee390c2-c01a-0081-0efc-0e9221000000Time:2018-06-28T16:24:31.0526845Z</Message></Error>.\r\n\r\nI have verified that I am able to create a share and upload a file through the web interface without issue. Any help would be greatly appreciated\r\n\r\n```\r\nimport os\r\nimport io\r\nfrom typing import List\r\nfrom tempfile import TemporaryFile\r\nimport csv\r\n\r\nfrom azure.storage.file import (\r\n    FileService,\r\n    ContentSettings,\r\n)\r\nfrom azure.storage.common.retry import (\r\n    ExponentialRetry,\r\n    LinearRetry,\r\n    no_retry,\r\n)\r\n\r\nACCOUNT_NAME = '*****'\r\nACCOUNT_KEY = '*****'\r\n\r\nSHARE_NAME = '*****'\r\n\r\n\r\n\r\nclass AzureFileShare():\r\n    def __init__(self):\r\n        try:\r\n            self.file_service = FileService(\r\n                account_name=ACCOUNT_NAME,\r\n                account_key=ACCOUNT_KEY\r\n            )\r\n\r\n            self.file_service.retry = ExponentialRetry(initial_backoff=30, increment_base=2, max_attempts=30).retry\r\n            # Use a default linear retry policy instead\r\n            self.file_service.retry = LinearRetry().retry\r\n            # Turn off retries\r\n            self.file_service.retry = no_retry\r\n        except Exception as e:\r\n            print(e)\r\n            raise Exception(e)\r\n\r\n    def upload_files(self,\r\n                                file_paths: List[str]):\r\n        for f in file_paths:\r\n             self.file_service.create_file_from_path(\r\n                        SHARE_NAME,\r\n                        None,\r\n                        filename,\r\n                        f,\r\n                        content_settings=ContentSettings(content_type=CONTENT_TYPE[file_extension])\r\n             )\r\n\r\n        return\r\n\r\n    def retrieve_file_in_directory(self,\r\n                                   filename: str) -> io.StringIO:\r\n        f = self.retrieve_file_in_directory_in_bytes(filename)\r\n\r\n        return io.StringIO(f.decode('utf-8'))\r\n\r\n    def retrieve_file_in_directory_in_bytes(self,\r\n                                            filename: str) -> bytes:\r\n        with TemporaryFile() as t:\r\n            output_stream = io.BytesIO()\r\n\r\n            try:\r\n                file = self.file_service.get_file_to_stream(\r\n                    SHARE_NAME,\r\n                    None,\r\n                    filename,\r\n                    output_stream\r\n                )\r\n            except Exception as e:\r\n                raise Exception(e)\r\n\r\n            value = output_stream.getvalue()\r\n\r\n            t.write(value)\r\n            t.seek(0)\r\n\r\n            return t.read()\r\n\r\nif __name__ == '__main__':\r\n    fileshare = AzureFileShare()\r\n\r\n    files = [\"/temp/file.csv\"]\r\n\r\n    fileshare.upload_files(files)\r\n\r\n    file = fileshare.retrieve_file_in_directory(\"file.csv\")\r\n\r\n    for row in csv.reader(file, delimiter=','):\r\n        print(row)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/468", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/468/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/468/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/468/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/468", "id": 336585065, "node_id": "MDU6SXNzdWUzMzY1ODUwNjU=", "number": 468, "title": "Broken link", "user": {"login": "letmaik", "id": 530988, "node_id": "MDQ6VXNlcjUzMDk4OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/530988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/letmaik", "html_url": "https://github.com/letmaik", "followers_url": "https://api.github.com/users/letmaik/followers", "following_url": "https://api.github.com/users/letmaik/following{/other_user}", "gists_url": "https://api.github.com/users/letmaik/gists{/gist_id}", "starred_url": "https://api.github.com/users/letmaik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/letmaik/subscriptions", "organizations_url": "https://api.github.com/users/letmaik/orgs", "repos_url": "https://api.github.com/users/letmaik/repos", "events_url": "https://api.github.com/users/letmaik/events{/privacy}", "received_events_url": "https://api.github.com/users/letmaik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-28T11:39:11Z", "updated_at": "2018-06-28T21:55:39Z", "closed_at": "2018-06-28T21:55:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/Azure/azure-storage-python/tree/master/azure-storage-queue links to [API Reference](https://azure-storage.readthedocs.io/en/latest/) which doesn't exist.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/464", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/464/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/464/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/464/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/464", "id": 333884358, "node_id": "MDU6SXNzdWUzMzM4ODQzNTg=", "number": 464, "title": "SDK currently does not address the scenario where a large file needs to be downloaded serially to a non-seekable stream", "user": {"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 235876945, "node_id": "MDU6TGFiZWwyMzU4NzY5NDU=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-20T00:30:20Z", "updated_at": "2018-07-16T23:58:19Z", "closed_at": "2018-07-16T23:58:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob/file\r\n\r\n### What problem was encountered?\r\nreferencing with some edits: https://github.com/Azure/azure-cli/issues/6608:\r\n\r\nCurrently the `max_connections=1` arguments for downloads will only attempt to pull the larger files in one piece. When the file it is trying to download is larger than the memory on the workstation running the task the process consumes the workstation's entire memory and swap file then fails.\r\n\r\nLooking to get the download methods to treat the `max_connections=1` like it does when the max connections is set to 2 or more. That is to handle files larger than the memory of the workstation by breaking the file into multiple peices and make multiple requests to get the full file to download.\r\n\r\nThe Customer needs to download the blob to a named pipe so they must be able to use a single download connection to prevent seek operations on the pipe\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/462", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/462/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/462/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/462", "id": 330775366, "node_id": "MDU6SXNzdWUzMzA3NzUzNjY=", "number": 462, "title": "BlockBlobService fails to authenticate with SAS token", "user": {"login": "thoyt", "id": 545954, "node_id": "MDQ6VXNlcjU0NTk1NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/545954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thoyt", "html_url": "https://github.com/thoyt", "followers_url": "https://api.github.com/users/thoyt/followers", "following_url": "https://api.github.com/users/thoyt/following{/other_user}", "gists_url": "https://api.github.com/users/thoyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/thoyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thoyt/subscriptions", "organizations_url": "https://api.github.com/users/thoyt/orgs", "repos_url": "https://api.github.com/users/thoyt/repos", "events_url": "https://api.github.com/users/thoyt/events{/privacy}", "received_events_url": "https://api.github.com/users/thoyt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-08T19:23:27Z", "updated_at": "2018-06-08T20:18:37Z", "closed_at": "2018-06-08T20:18:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob service\r\n\r\n### What problem was encountered?\r\nWhen trying to list blobs with a `BlockBlobService` object initialized with an SAS token instead of an access key, I get an error saying \"sr is mandatory. Cannot be empty\". It works when initialized with an `account_key` instead of an `sas_token`. Here are the steps to repro:\r\n\r\n```python3\r\nfrom azure.storage.blob import BlockBlobService\r\n\r\nbs = BlockBlobService(account_name=<account_name>, sas_token=<sas_token>)\r\nbs.list_blobs(<container_name>)\r\n```\r\n\r\nOutput:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Volumes/Backups/azure-backup-venv/lib/python3.6/site-packages/azure/storage/blob/baseblobservice.py\", line 1214, in list_blobs\r\n    resp = self._list_blobs(*args, **kwargs)\r\n  File \"/Volumes/Backups/azure-backup-venv/lib/python3.6/site-packages/azure/storage/blob/baseblobservice.py\", line 1285, in _list_blobs\r\n    return self._perform_request(request, _convert_xml_to_blob_list, operation_context=_context)\r\n  File \"/Volumes/Backups/azure-backup-venv/lib/python3.6/site-packages/azure/storage/storageclient.py\", line 280, in _perform_request\r\n    raise ex\r\n  File \"/Volumes/Backups/azure-backup-venv/lib/python3.6/site-packages/azure/storage/storageclient.py\", line 248, in _perform_request\r\n    raise ex\r\n  File \"/Volumes/Backups/azure-backup-venv/lib/python3.6/site-packages/azure/storage/storageclient.py\", line 235, in _perform_request\r\n    _http_error_handler(HTTPError(response.status, response.message, response.headers, response.body))\r\n  File \"/Volumes/Backups/azure-backup-venv/lib/python3.6/site-packages/azure/storage/_error.py\", line 114, in _http_error_handler\r\n    raise AzureHttpError(message, http_error.status)\r\nazure.common.AzureHttpError: Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:da2104c4-f01e-0039-225d-ff3140000000\r\nTime:2018-06-08T19:19:43.8006489Z</Message><AuthenticationErrorDetail>sr is mandatory. Cannot be empty</AuthenticationErrorDetail></Error>\r\n```\r\n\r\nI'm not sure exactly which azure python packages are relevant but here are the azure-storage packages:\r\n```\r\nazure-storage==0.36.0\r\nazure-storage-blob==1.1.0\r\nazure-storage-common==1.1.0\r\nazure-storage-file==1.1.0\r\nazure-storage-nspkg==3.0.0\r\nazure-storage-queue==1.1.0\r\n```\r\n\r\nThe base azure packages are `azure-mgmt==2.0.0` and `azure==3.0.0`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/461", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/461/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/461/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/461", "id": 329535273, "node_id": "MDU6SXNzdWUzMjk1MzUyNzM=", "number": 461, "title": "Irrespective of an assigned role, a service principle has same privileges as an owner ", "user": {"login": "VJalili", "id": 9027482, "node_id": "MDQ6VXNlcjkwMjc0ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/9027482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VJalili", "html_url": "https://github.com/VJalili", "followers_url": "https://api.github.com/users/VJalili/followers", "following_url": "https://api.github.com/users/VJalili/following{/other_user}", "gists_url": "https://api.github.com/users/VJalili/gists{/gist_id}", "starred_url": "https://api.github.com/users/VJalili/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VJalili/subscriptions", "organizations_url": "https://api.github.com/users/VJalili/orgs", "repos_url": "https://api.github.com/users/VJalili/repos", "events_url": "https://api.github.com/users/VJalili/events{/privacy}", "received_events_url": "https://api.github.com/users/VJalili/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 968367686, "node_id": "MDU6TGFiZWw5NjgzNjc2ODY=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/investigating", "name": "investigating", "color": "32a4a8", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-06-05T16:33:49Z", "updated_at": "2018-06-22T04:28:54Z", "closed_at": "2018-06-22T04:28:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nazure-storage-blob v1.2.0rc1\r\n\r\n### What problem was encountered?\r\nI have a web server, which I want to give it _read_ access to my Azure blob storage. Additionally, I want the web server to have independent permissions from mine (i.e., my user account). I think using the new features added to Azure (e.g., [Added support for OAuth authentication for HTTPS requests](https://github.com/Azure/azure-storage-python/commit/1917cb8d20aa89eac953f51fdfa2a60ddf6ed188)) I can leverage OAuth2.0 access tokens and Azure AD roles for this purpose. Therefore, I followed [this](https://docs.microsoft.com/en-us/azure/storage/common/storage-auth-aad-app) documentation, and created a service principal and assigned _Azure Storage_ permission to it. Then in the Azure portal, under __Storage -> Access Control (IAM)__, I defined `Storage Blob Data Reader (Preview)` role and assigned it to my service principal. \r\n\r\nSo, I implemented a logic similar to [this](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/f48ab57a91e9c3b29e4580e9c66510ee9e29d531/sample/website_sample.py#L112-L118) to acquire access token, then I use the token to read the blob. However, I get an error saying that I am not allowed to access the blob. Then I assign myself the `Storage Blob Data Reader (Preview)` role, and then I'm able to read the blob. So, the service principal's role is not effective, i.e., I cannot assign myself a `Contributor` (read/write) and give the service principal the `Reader` role. \r\n\r\nAm I missing some important setting here? \r\n\r\n\r\n### Have you found a mitigation/solution?\r\nNo.\r\n\r\n\r\n## Update 1:\r\nFollowing is a summary of the different combinations I tried and their resulted outcome: \r\n\r\n\r\n| xyz@hotmail.com Role | Service Principal Role** | Read/Write Result | Expected Outcome |\r\n| :--- | :--- | :--- | :--- |\r\n| Contributor* | Contributor* | Successful (i.e., can read and write) | Successful |\r\n| Contributor* | None | Successful (i.e., can read and write) | Fail | \r\n| None | Contributor* | <Code>AuthorizationFailure</Code> This request is not authorized to perform this operation. RequestId:509428ef-901e-00f3-4b93-051b26000000 | Successful |\r\n\r\n*Contributor = STORAGE BLOB DATA CONTRIBUTOR (PREVIEW)\r\n**Service Principal ID: `58ad99f1-19e9-4b08-8121-c372e1f14653`\r\n\r\n\r\n## Update 2:\r\nIn the request for the an OIDC/OAuth2.0 access token, I set the `client_id` attribute is to the service principal ID.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/460", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/460/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/460/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/460", "id": 328883594, "node_id": "MDU6SXNzdWUzMjg4ODM1OTQ=", "number": 460, "title": "set_container_acl erase the current container access policies.", "user": {"login": "Epoxboy", "id": 20849673, "node_id": "MDQ6VXNlcjIwODQ5Njcz", "avatar_url": "https://avatars2.githubusercontent.com/u/20849673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Epoxboy", "html_url": "https://github.com/Epoxboy", "followers_url": "https://api.github.com/users/Epoxboy/followers", "following_url": "https://api.github.com/users/Epoxboy/following{/other_user}", "gists_url": "https://api.github.com/users/Epoxboy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Epoxboy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Epoxboy/subscriptions", "organizations_url": "https://api.github.com/users/Epoxboy/orgs", "repos_url": "https://api.github.com/users/Epoxboy/repos", "events_url": "https://api.github.com/users/Epoxboy/events{/privacy}", "received_events_url": "https://api.github.com/users/Epoxboy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-04T01:44:25Z", "updated_at": "2018-06-05T07:35:11Z", "closed_at": "2018-06-04T17:56:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob.\r\nI'm trying to generate 2 tokens, Read-only and Read-Write, for the container.\r\n\r\n### What problem was encountered?\r\nwhen using set_container_acl() to set a stored access policy to container, it always clear all the existing container access policies first, then set the new policy.\r\n\r\nhere is my code:\r\n----------------------------------------------------------------------------------------------\r\ndef generate_SAS():\r\n\r\n        service = BlockBlobService(account_name=account_name, account_key=account_key)\r\n        \r\n        service.create_container(container_name)\r\n        \r\n        # Set access policy on container\r\n        \r\n        access_policy = AccessPolicy(permission=container_permissions, expiry=datetime.utcnow() + timedelta(days=+days_until_expiry))\r\n        \r\n        identifiers = {id_number: access_policy}\r\n        \r\n        acl = service.set_container_acl(container_name, signed_identifiers=identifiers)\r\n       \r\n        # Wait 30 seconds for acl to propagate\r\n        time.sleep(30)\r\n       \r\n        # Indicates to use the access policy set on the container\r\n        token = service.generate_container_shared_access_signature(container_name,id=id_number)  \r\n       \r\n        print('READ TOKEN IS :')\r\n        print(token)\r\n       \r\nif __name__ == '__main__':\r\n    account_name   =os.environ['STORAGE_ACCOUNT_NAME']\r\n    account_key    =os.environ['STORAGE_ACCOUNT_KEY']\r\n    container_name =os.environ['STORAGE_CONTAINER_NAME']\r\n    days_until_expiry = 365*5\r\n    id_number = 'id1'\r\n    container_permissions = ContainerPermissions.READ\r\n    \r\n    generate_SAS()\r\n-------------------------------------------------------------------------\r\n\r\n### Have you found a mitigation/solution?\r\nyou need to create access policies in the Azure portal, and in the script, just using token generation part to pass in the policy id to associate with it. It's not a solution, it's a work around.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/454", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/454/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/454/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/454", "id": 323924058, "node_id": "MDU6SXNzdWUzMjM5MjQwNTg=", "number": 454, "title": "Support for Block level CSE", "user": {"login": "reeshabhraj1", "id": 24560483, "node_id": "MDQ6VXNlcjI0NTYwNDgz", "avatar_url": "https://avatars1.githubusercontent.com/u/24560483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reeshabhraj1", "html_url": "https://github.com/reeshabhraj1", "followers_url": "https://api.github.com/users/reeshabhraj1/followers", "following_url": "https://api.github.com/users/reeshabhraj1/following{/other_user}", "gists_url": "https://api.github.com/users/reeshabhraj1/gists{/gist_id}", "starred_url": "https://api.github.com/users/reeshabhraj1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reeshabhraj1/subscriptions", "organizations_url": "https://api.github.com/users/reeshabhraj1/orgs", "repos_url": "https://api.github.com/users/reeshabhraj1/repos", "events_url": "https://api.github.com/users/reeshabhraj1/events{/privacy}", "received_events_url": "https://api.github.com/users/reeshabhraj1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-17T08:37:48Z", "updated_at": "2018-05-22T08:01:44Z", "closed_at": "2018-05-22T08:01:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "We need to transfer some large files(>100GB) along with small files from our internal storage service to Azure blob storage. Currently, using python SDK, we need to download the whole file from our internal storage system and then call create_blob_from_path() which does internal chunking and encryption. What we need is to make calls at block level with encrypted block level data without having to download full file, which is currently not supported by SDK without having to use protected functions from the SDK(To do this, we have to use some protected encryption functions and models). Please provide us a solution for how to upload a mix of small and large files by giving us a call at Block level with CSE and other block level tasks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/453", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/453/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/453/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/453", "id": 320015820, "node_id": "MDU6SXNzdWUzMjAwMTU4MjA=", "number": 453, "title": "Broken URL for API Reference in README", "user": {"login": "lifan0127", "id": 7218193, "node_id": "MDQ6VXNlcjcyMTgxOTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7218193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifan0127", "html_url": "https://github.com/lifan0127", "followers_url": "https://api.github.com/users/lifan0127/followers", "following_url": "https://api.github.com/users/lifan0127/following{/other_user}", "gists_url": "https://api.github.com/users/lifan0127/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifan0127/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifan0127/subscriptions", "organizations_url": "https://api.github.com/users/lifan0127/orgs", "repos_url": "https://api.github.com/users/lifan0127/repos", "events_url": "https://api.github.com/users/lifan0127/events{/privacy}", "received_events_url": "https://api.github.com/users/lifan0127/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-03T17:41:48Z", "updated_at": "2018-05-03T18:50:53Z", "closed_at": "2018-05-03T18:50:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The URL to API reference in README is broken: https://docs.microsoft.com/en-us/python/api/overview/azure/storage/clientlibrary?view=azure-python\r\n\r\n![image](https://user-images.githubusercontent.com/7218193/39593378-8fcc73f2-4ed7-11e8-8dbe-4786560bacfd.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/451", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/451/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/451/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/451", "id": 319084839, "node_id": "MDU6SXNzdWUzMTkwODQ4Mzk=", "number": 451, "title": "list_blobs does not work if prefix is empty string", "user": {"login": "rongduan-zhu", "id": 5406634, "node_id": "MDQ6VXNlcjU0MDY2MzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/5406634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rongduan-zhu", "html_url": "https://github.com/rongduan-zhu", "followers_url": "https://api.github.com/users/rongduan-zhu/followers", "following_url": "https://api.github.com/users/rongduan-zhu/following{/other_user}", "gists_url": "https://api.github.com/users/rongduan-zhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rongduan-zhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rongduan-zhu/subscriptions", "organizations_url": "https://api.github.com/users/rongduan-zhu/orgs", "repos_url": "https://api.github.com/users/rongduan-zhu/repos", "events_url": "https://api.github.com/users/rongduan-zhu/events{/privacy}", "received_events_url": "https://api.github.com/users/rongduan-zhu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-05-01T01:00:01Z", "updated_at": "2018-06-27T20:20:57Z", "closed_at": "2018-06-27T20:20:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nblob\r\n\r\n### What problem was encountered?\r\nWhen calling `BlockBlobService.list_blobs(prefix=\"\")` with `prefix=\"\"` will cause an authentication error to be thrown thrown.\r\n\r\n```\r\nazure.common.AzureHttpError: Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.ErrorCode: AuthenticationFailed\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:d7eda6cf-b01e-0024-55e6-e0d309000000\r\nTime:2018-05-01T00:52:44.4779222Z</Message><AuthenticationErrorDetail>The MAC signature found in the HTTP request '/LACPvjjxGLO/jhbYW19z/4xlPYlZt9DYMp9Rvb/H88=' is not the same as any computed signature. Server used following string to sign: 'GET\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nx-ms-client-request-id:f4aba85a-4cd9-11e8-b3d1-645106571c89\r\nx-ms-date:Tue, 01 May 2018 00:52:43 GMT\r\nx-ms-version:2017-07-29\r\n/rozhdevv2/test\r\ncomp:list\r\nprefix:\r\nrestype:container'.</AuthenticationErrorDetail></Error>\r\n```\r\n\r\n### Have you found a mitigation/solution?\r\nYes, the reason is that empty prefix is omitted as part of signing process but since it is included in the query param strings sent to the server, the server is actually verifying the signing with prefix set as empty string, which causes the signatures to mismatch.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/449", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/449/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/449/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/449/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/449", "id": 316277891, "node_id": "MDU6SXNzdWUzMTYyNzc4OTE=", "number": 449, "title": "Retry not working correctly for large files", "user": {"login": "Fra-nk", "id": 17789763, "node_id": "MDQ6VXNlcjE3Nzg5NzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/17789763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fra-nk", "html_url": "https://github.com/Fra-nk", "followers_url": "https://api.github.com/users/Fra-nk/followers", "following_url": "https://api.github.com/users/Fra-nk/following{/other_user}", "gists_url": "https://api.github.com/users/Fra-nk/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fra-nk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fra-nk/subscriptions", "organizations_url": "https://api.github.com/users/Fra-nk/orgs", "repos_url": "https://api.github.com/users/Fra-nk/repos", "events_url": "https://api.github.com/users/Fra-nk/events{/privacy}", "received_events_url": "https://api.github.com/users/Fra-nk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934423674, "node_id": "MDU6TGFiZWw5MzQ0MjM2NzQ=", "url": "https://api.github.com/repos/Azure/azure-storage-python/labels/fixed/waiting%20for%20release", "name": "fixed/waiting for release", "color": "e0e02a", "default": false, "description": "describe issues that are fixed and sitting on the dev branch to be released later"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-20T13:55:29Z", "updated_at": "2018-06-27T20:21:10Z", "closed_at": "2018-06-27T20:21:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob\r\n\r\n### What problem was encountered?\r\nUpload of a large file had a failing blob block upload.\r\nAzure storage says it correctly re-uploaded, but according to Storage analytics that did not happen:\r\n\r\n* `<Agent>=Azure-Storage/1.1.0-1.1.0 (Python CPython 2.7.9; Linux 3.16.0-5-amd64)`\r\n* `MAX_BLOCK_SIZE=100000000` = 100 MB\r\n* `max_connections=8`\r\n* `timeout=30`\r\n* Total Blob size: `4294903296` = 4 GiB\r\n* Only `4249585152` were uploaded (checked with `az storage blob show`)\r\n\r\nAzure Storage of the particular block\r\n```\r\n2018-04-18 16:33:04,807 <az> INFO  Client-Request-ID=2b3d9568-4326-11e8-8ef0-000d3a29b453 Outgoing request: Method=PUT, Path=/<container>/<blob>?<SAS>, Query={'comp': 'block', 'blockid': u'QmxvY2tJZDAwMDAx', 'timeout': '30'}, Headers={'Content-Length': '100000000', 'x-ms-client-request-id': '2b3d9568-4326-11e8-8ef0-000d3a29b453', 'User-Agent': '<Agent>', 'x-ms-version': '2017-07-29', 'x-ms-lease-id': None, 'x-ms-date': 'Wed, 18 Apr 2018 16:33:04 GMT'}.\r\n2018-04-18 16:33:38,838 <az> INFO  Client-Request-ID=2b3d9568-4326-11e8-8ef0-000d3a29b453 Operation failed: checking if the operation should be retried. Current retry count=0, , HTTP status code=Unknown, Exception=SSLError: HTTPSConnectionPool(host='<account>.blob.core.windows.net', port=443): Max retries exceeded with url: /<container>/<blob>?<SAS>&comp=block&blockid=QmxvY2tJZDAwMDAx&timeout=30 (Caused by SSLError(SSLError('The write operation timed out',),)).\r\n2018-04-18 16:33:53,265 <az> INFO  Client-Request-ID=2b3d9568-4326-11e8-8ef0-000d3a29b453 Outgoing request: Method=PUT, Path=/<container>/<blob>?<SAS>, Query={'comp': 'block', 'blockid': u'QmxvY2tJZDAwMDAx', 'timeout': '30'}, Headers={'Content-Length': '100000000', 'x-ms-client-request-id': '2b3d9568-4326-11e8-8ef0-000d3a29b453', 'User-Agent': '<Agent>', 'x-ms-version': '2017-07-29', 'x-ms-lease-id': None, 'x-ms-date': 'Wed, 18 Apr 2018 16:33:53 GMT'}.\r\n2018-04-18 16:33:59,569 <az> INFO  Client-Request-ID=2b3d9568-4326-11e8-8ef0-000d3a29b453 Receiving Response: Server-Timestamp=Wed, 18 Apr 2018 16:33:58 GMT, Server-Request-ID=2c9b33ae-701e-0109-6133-d7286a000000, HTTP Status Code=201, Message=Created, Headers={'Content-Length': '100000000', 'x-ms-client-request-id': '2b3d9568-4326-11e8-8ef0-000d3a29b453', 'User-Agent': '<Agent>', 'x-ms-version': '2017-07-29', 'x-ms-lease-id': None, 'x-ms-date': 'Wed, 18 Apr 2018 16:33:53 GMT'}.\r\n```\r\nStorage Analytics of the particular block:\r\n```\r\n1.0;2018-04-18T16:33:53.3070387Z;PutBlock;SASSuccess;201;6260;5669;sas;;<account>;blob;\"https://<account>.blob.core.windows.net:443/<container>/<blob>?<SAS>&amp;comp=block&amp;blockid=QmxvY2tJZDAwMDAx&amp;timeout=30\";\"/<account>/<container>/<blob>\";2c9b33ae-701e-0109-6133-d7286a000000;0;<internal IP address>:53156;2017-07-29;567;54681856;193;0;54681856;;\"zNZ1j2PNDLDEV5szpt0DKg==\";;;;\"<Agent>\";;\"2b3d9568-4326-11e8-8ef0-000d3a29b453\"\r\n```\r\n\r\n* Azure Storage sees `'Content-Length': '100000000'`, while Storage Analytics **says** it only received `54681856` bytes.\r\n    * `100000000 - 54681856 = 45318144`\r\n    * `4294903296 - 4249585152 = 45318144`\r\n* Storage Analytics only registers the black after the retry started.\r\n* Storage Analytics did show no data for the allegedly successful upload.\r\n\r\nI can also provide you with the other logs of the successfully uploaded blocks, etc., but they contain little information:\r\nContent-length is consistent, return-codes are ok (201), timestamps are reasonable, blocklist/head upload happens in the correct order, etc.\r\n\r\nI can not reliably reproduce the error, but I see it occasionally when uploading several TiB from on-premise as well as Azure-VMs.\r\n\r\n### Have you found a mitigation/solution?\r\nNot yet, but complete re-upload of the block *after* the blocklist has been committed seems sensible.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/446", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/446/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/446/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/446/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/446", "id": 314549882, "node_id": "MDU6SXNzdWUzMTQ1NDk4ODI=", "number": 446, "title": " Retry policy did not allow for a retry", "user": {"login": "MomoHsieh", "id": 16541945, "node_id": "MDQ6VXNlcjE2NTQxOTQ1", "avatar_url": "https://avatars3.githubusercontent.com/u/16541945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MomoHsieh", "html_url": "https://github.com/MomoHsieh", "followers_url": "https://api.github.com/users/MomoHsieh/followers", "following_url": "https://api.github.com/users/MomoHsieh/following{/other_user}", "gists_url": "https://api.github.com/users/MomoHsieh/gists{/gist_id}", "starred_url": "https://api.github.com/users/MomoHsieh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MomoHsieh/subscriptions", "organizations_url": "https://api.github.com/users/MomoHsieh/orgs", "repos_url": "https://api.github.com/users/MomoHsieh/repos", "events_url": "https://api.github.com/users/MomoHsieh/events{/privacy}", "received_events_url": "https://api.github.com/users/MomoHsieh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-04-16T08:34:49Z", "updated_at": "2019-08-13T04:27:39Z", "closed_at": "2018-04-17T21:04:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nI am trying to upload a file to a blob using azure.storage.blob.\r\n\r\n### What problem was encountered?\r\nI can't upload big file(>1Mb) from embedded system which connect to Internet by LTE.\r\nBut I can \r\n1. Upload big file(>1Mb) from my computer which connect to Internet by WiFi.\r\n2. Upload small file (like 20Kb) from embedded system which connect to Internet by LTE.\r\n**Running python2.7.9 on armv7l GNU/Linux**\r\n```\r\nimport os, uuid, sys\r\nfrom azure.storage.blob import BlockBlobService, ContentSettings\r\nimport logging\r\nlogging.basicConfig()\r\ndef run_sample():\r\n    try:\r\n        # Create the BlockBlockService that is used to call the Blob service for the storage account\r\n        block_blob_service = BlockBlobService(account_name='compaliotdemo',account_key='***')\r\n\r\n        local_file_name = 'test.mp4'\r\n        full_path_to_file =os.path.join(os.getcwd(), local_file_name)\r\n\r\n        print(\"Temp file = \" + full_path_to_file)\r\n        print(\"\\nUploading to Blob storage as blob: \" + local_file_name)\r\n\r\n        # Upload the created file, use local_file_name for the blob name\r\n        block_blob_service.create_blob_from_path('compaldemo', local_file_name, full_path_to_file, content_settings=ContentSettings(content_type='video/mp4'))\r\n\r\n    except Exception as e:\r\n        print(e)\r\n\r\n\r\nif __name__ == '__main__':\r\n    run_sample()\r\n```\r\n\r\n\r\n```\r\n\r\npip freeze \r\nPyYAML==3.12\r\nargparse==1.2.1\r\nazure-common==1.1.9\r\nazure-nspkg==2.0.0\r\nazure-storage-blob==1.1.0\r\nazure-storage-common==1.1.0\r\nazure-storage-nspkg==3.0.0\r\ncffi==0.8.6\r\nchardet==2.3.0\r\ncolorama==0.3.2\r\ncryptography==0.6.1\r\nenum34==1.1.6\r\nfutures==3.2.0\r\nhtml5lib==0.999\r\nndg-httpsclient==0.3.2\r\nparamiko==2.0.0\r\npeewee==2.8.1\r\nply==3.4\r\npyOpenSSL==0.14\r\npyasn1==0.1.7\r\npycparser==2.10\r\npyserial==2.6\r\npysftp==0.2.8\r\npython-dateutil==2.7.2\r\npython-onedrive==15.10.5\r\npytz==2018.4\r\nrequests==2.4.3\r\nsix==1.8.0\r\nurllib3==1.9.1\r\nwheel==0.24.0\r\nwsgiref==0.1.2\r\n```\r\n\r\nI got error below\r\n```\r\nERROR:azure.storage.common.storageclient:Client-Request-ID=848347e4-4150-11e8-8ba3-00e04c3618b2 Retry policy did not allow for a retry: , HTTP status code=Unknown, Exception=WantWriteError: .\r\nWantWriteError:\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/445", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/445/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/445/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/445", "id": 313242358, "node_id": "MDU6SXNzdWUzMTMyNDIzNTg=", "number": 445, "title": "Recommendation: consider removing class to time.sleep", "user": {"login": "RobertoPrevato", "id": 2576032, "node_id": "MDQ6VXNlcjI1NzYwMzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/2576032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RobertoPrevato", "html_url": "https://github.com/RobertoPrevato", "followers_url": "https://api.github.com/users/RobertoPrevato/followers", "following_url": "https://api.github.com/users/RobertoPrevato/following{/other_user}", "gists_url": "https://api.github.com/users/RobertoPrevato/gists{/gist_id}", "starred_url": "https://api.github.com/users/RobertoPrevato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RobertoPrevato/subscriptions", "organizations_url": "https://api.github.com/users/RobertoPrevato/orgs", "repos_url": "https://api.github.com/users/RobertoPrevato/repos", "events_url": "https://api.github.com/users/RobertoPrevato/events{/privacy}", "received_events_url": "https://api.github.com/users/RobertoPrevato/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-11T09:26:32Z", "updated_at": "2018-04-12T04:57:37Z", "closed_at": "2018-04-12T04:57:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nas some of you may know, in the last weeks I've been working on an unofficial fork of Azure Storage Python SDK to support `asyncio` and asynchronous web requests. I created [this fork](https://github.com/RobertoPrevato/azure-storage-python) for personal interest and I am using it successfully to connect to Blob, Table and Queue services using asynchronous web requests and `aiohttp` framework.\r\n\r\nWhile making it, I found a place of the code that might cause performance issues in the official Python SDK: the use of `time.sleep` when retry policy enables retries to any Storage api inside `storageclient.py`.\r\nHere: [lines 345, 346](https://github.com/Azure/azure-storage-python/blob/19d845d58551bd36a04c46628dc42089ee269362/azure-storage-common/azure/storage/common/storageclient.py)\r\n\r\n```py\r\n                    # Sleep for the desired retry interval\r\n                    sleep(retry_interval)\r\n```\r\n\r\n### Which service(blob, file, queue) does this issue concern?\r\nAll services.\r\n\r\n### What problem was encountered?\r\nThis is not a bug, but using `time.sleep` when retry policy enables retries makes the Azure Storage Python SDK potentially not suitable for production web applications. For example, I think that developers working on the official .NET Storage SDK would not tolerate having calls to **[System.Threading.Thread.Sleep](https://msdn.microsoft.com/en-us/library/d00bd51t(v=vs.110).aspx)**, as this is generally considered a bad practice, since it blocks code execution for a whole thread.\r\n\r\n### Have you found a mitigation/solution?\r\nYes, one solution would be migrating to `asyncio` and using `asyncio.sleep`. asyncio.sleep can be seen as functionally equivalent to .NET [System.Threading.Tasks.Task.Delay](https://msdn.microsoft.com/en-us/library/hh194845(v=vs.110).aspx), thus an efficient way to wait without blocking code execution. It seems there are also other solutions in Python `threading` module, but I don't have experience with them.\r\n\r\n### Note:\r\nI don't want to be pedantic, I just want to give a friendly recommendation. :beer:", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/444", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/444/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/444/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/444", "id": 312133122, "node_id": "MDU6SXNzdWUzMTIxMzMxMjI=", "number": 444, "title": "Error message when calling baseblobservice.exists", "user": {"login": "rems75", "id": 9039058, "node_id": "MDQ6VXNlcjkwMzkwNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/9039058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rems75", "html_url": "https://github.com/rems75", "followers_url": "https://api.github.com/users/rems75/followers", "following_url": "https://api.github.com/users/rems75/following{/other_user}", "gists_url": "https://api.github.com/users/rems75/gists{/gist_id}", "starred_url": "https://api.github.com/users/rems75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rems75/subscriptions", "organizations_url": "https://api.github.com/users/rems75/orgs", "repos_url": "https://api.github.com/users/rems75/repos", "events_url": "https://api.github.com/users/rems75/events{/privacy}", "received_events_url": "https://api.github.com/users/rems75/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-06T21:59:51Z", "updated_at": "2018-04-09T19:00:45Z", "closed_at": "2018-04-09T19:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nI'm using blob.\r\n\r\n### What problem was encountered?\r\n\r\nCalling the exists method of the azure.storage.blob.baseblobservice prints an error message when the container already exists which pollutes logs. Nothing should be printed as I'm specifically trying to see whether the container exists...\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nChanging my log level to critical right before the call and restoring it after masks the message, but it's not a very clean solution.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/442", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/442/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/442/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/442", "id": 310413940, "node_id": "MDU6SXNzdWUzMTA0MTM5NDA=", "number": 442, "title": "Azure Germany Subscription blob copy url error", "user": {"login": "mcanerim", "id": 17505018, "node_id": "MDQ6VXNlcjE3NTA1MDE4", "avatar_url": "https://avatars0.githubusercontent.com/u/17505018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcanerim", "html_url": "https://github.com/mcanerim", "followers_url": "https://api.github.com/users/mcanerim/followers", "following_url": "https://api.github.com/users/mcanerim/following{/other_user}", "gists_url": "https://api.github.com/users/mcanerim/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcanerim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcanerim/subscriptions", "organizations_url": "https://api.github.com/users/mcanerim/orgs", "repos_url": "https://api.github.com/users/mcanerim/repos", "events_url": "https://api.github.com/users/mcanerim/events{/privacy}", "received_events_url": "https://api.github.com/users/mcanerim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-02T07:09:23Z", "updated_at": "2018-04-10T08:47:52Z", "closed_at": "2018-04-10T08:47:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use the copy_blob method from azure.storage.blob. The problem here is that, it send a HttpPost request to Azure global. Where in my case my blob is stored inside a container on Azure Germany. My problem is that, I couldn't find a way to provide the copy_blob method a method. While creating a BlobService, shouldn't we be able to provide this or even the BlobService class should understand by itself that the account he tries to connect is on Azure Germany.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/441", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/441/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/441/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/441", "id": 308772517, "node_id": "MDU6SXNzdWUzMDg3NzI1MTc=", "number": 441, "title": "Content-type not getting set", "user": {"login": "mmenajr", "id": 37817221, "node_id": "MDQ6VXNlcjM3ODE3MjIx", "avatar_url": "https://avatars3.githubusercontent.com/u/37817221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmenajr", "html_url": "https://github.com/mmenajr", "followers_url": "https://api.github.com/users/mmenajr/followers", "following_url": "https://api.github.com/users/mmenajr/following{/other_user}", "gists_url": "https://api.github.com/users/mmenajr/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmenajr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmenajr/subscriptions", "organizations_url": "https://api.github.com/users/mmenajr/orgs", "repos_url": "https://api.github.com/users/mmenajr/repos", "events_url": "https://api.github.com/users/mmenajr/events{/privacy}", "received_events_url": "https://api.github.com/users/mmenajr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-26T23:42:57Z", "updated_at": "2018-04-12T22:40:43Z", "closed_at": "2018-04-10T09:13:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\nBlob. Specifically the BlockBlobService\r\n\r\n### What problem was encountered?\r\nSetting the content-type when creating a file appears to be getting ignored. Also, trying to update them using set_blob_properties just removes that header.\r\n\r\nWhen initially uploading files, I am able to use mimetypes to get the type of file and create a ContentSettings object that I then pass to upload_from_path. This seems to ignore it as the content-type in Azure shows the default application/octet-stream.\r\n\r\nWhen I call the set_blob_properties and try to set the content-type it seems to just remove the header completely instead of updating it.\r\n\r\n### Have you found a mitigation/solution?\r\nCurrently removing the header allows the files to work as intended but would like to be able to dynamically set them as needed.\r\n\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/440", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/440/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/440/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/440/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/440", "id": 308295935, "node_id": "MDU6SXNzdWUzMDgyOTU5MzU=", "number": 440, "title": "Authentication error when using account SAS to upload large file to blob storage", "user": {"login": "rems75", "id": 9039058, "node_id": "MDQ6VXNlcjkwMzkwNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/9039058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rems75", "html_url": "https://github.com/rems75", "followers_url": "https://api.github.com/users/rems75/followers", "following_url": "https://api.github.com/users/rems75/following{/other_user}", "gists_url": "https://api.github.com/users/rems75/gists{/gist_id}", "starred_url": "https://api.github.com/users/rems75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rems75/subscriptions", "organizations_url": "https://api.github.com/users/rems75/orgs", "repos_url": "https://api.github.com/users/rems75/repos", "events_url": "https://api.github.com/users/rems75/events{/privacy}", "received_events_url": "https://api.github.com/users/rems75/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-24T20:23:20Z", "updated_at": "2018-04-24T21:25:00Z", "closed_at": "2018-04-24T21:25:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nI am trying to upload a file to a blob using a sas_token.\r\n\r\n### What problem was encountered?\r\n\r\nThe call to \"create_blob_from_path\" fails with error:\r\n`azure.common.AzureHttpError: Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?><Error><Code>AuthenticationFailed</Code><Message>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:e514767d-701e-0076-64ac-c3c746000000\r\nTime:2018-03-24T20:13:21.1420110Z</Message><AuthenticationErrorDetail>sr is mandatory. Cannot be empty</AuthenticationErrorDetail></Error>`\r\n\r\nThis error is very similar to Issue #297 from last year.\r\n\r\n### Have you found a mitigation/solution?\r\n\r\nThe same sas_token works using other methods (azcopy or blobxfer for instance).\r\nThe exact same code works with an account_key.\r\n\r\nMy configuration is:\r\nazure-common==1.1.8\r\nazure-keyvault==0.3.7\r\nazure-nspkg==2.0.0\r\nazure-storage-blob==1.1.0\r\nazure-storage-common==1.1.0\r\nazure-storage-file==1.1.0\r\nazure-storage-nspkg==3.0.0\r\nazure-storage-queue==1.1.0\r\n\r\nThe call stack is:\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/blob/blockblobservice.py\", line 404, in create_blob_from_path\r\n    timeout=timeout)\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/blob/blockblobservice.py\", line 523, in create_blob_from_stream\r\n    timeout=timeout)\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/blob/blockblobservice.py\", line 912, in _put_blob\r\n    return self._perform_request(request, _parse_base_properties)\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/common/storageclient.py\", line 354, in _perform_request\r\n    raise ex\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/common/storageclient.py\", line 289, in _perform_request\r\n    raise ex\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/common/storageclient.py\", line 275, in _perform_request\r\n    HTTPError(response.status, response.message, response.headers, response.body))\r\n  File \"/home/remi/.local/lib/python3.5/site-packages/azure/storage/common/_error.py\", line 109, in _http_error_handler\r\n    raise AzureHttpError(message, http_error.status)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-storage-python/issues/439", "repository_url": "https://api.github.com/repos/Azure/azure-storage-python", "labels_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/439/comments", "events_url": "https://api.github.com/repos/Azure/azure-storage-python/issues/439/events", "html_url": "https://github.com/Azure/azure-storage-python/issues/439", "id": 307197631, "node_id": "MDU6SXNzdWUzMDcxOTc2MzE=", "number": 439, "title": "ListGenerator", "user": {"login": "douglasmacdonald", "id": 12778156, "node_id": "MDQ6VXNlcjEyNzc4MTU2", "avatar_url": "https://avatars0.githubusercontent.com/u/12778156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/douglasmacdonald", "html_url": "https://github.com/douglasmacdonald", "followers_url": "https://api.github.com/users/douglasmacdonald/followers", "following_url": "https://api.github.com/users/douglasmacdonald/following{/other_user}", "gists_url": "https://api.github.com/users/douglasmacdonald/gists{/gist_id}", "starred_url": "https://api.github.com/users/douglasmacdonald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/douglasmacdonald/subscriptions", "organizations_url": "https://api.github.com/users/douglasmacdonald/orgs", "repos_url": "https://api.github.com/users/douglasmacdonald/repos", "events_url": "https://api.github.com/users/douglasmacdonald/events{/privacy}", "received_events_url": "https://api.github.com/users/douglasmacdonald/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-21T10:56:46Z", "updated_at": "2018-03-22T09:10:55Z", "closed_at": "2018-03-22T09:10:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Which service(blob, file, queue) does this issue concern?\r\n\r\nhttps://github.com/Azure/azure-storage-python/blob/2709a0bb5b1647803fc25ee1292c6fc43782ed89/azure-storage-common/azure/storage/common/models.py#L53\r\n\r\n### What problem was encountered?\r\n\r\nThe `ListGenerator` does not stop/reset cleanly. To be honest, I am not even sure that it is working as documented.\r\n\r\ne.g.\r\n\r\n`data_gen = table_service.query_entities(table_name)`\r\n\r\nThen repeatedly calling....\r\n\r\n`list(data_gen)`\r\n\r\n... will give you a large list of data then on subsequent calls a never ending smaller block. \r\n\r\nExpectation. After the first call to `list(data_gen)` then either subsequent calls it is either reset and  the same data is returned or if you consider it exhausted then return [] or None  \r\n\r\n### Have you found a mitigation/solution?\r\n\r\nThis is a guess. I do not know enough about the way this is being used. Otherwise, write a `ListGerator` for the purpose.\r\n\r\nTry following the \r\n\r\n`__iter__` and `__next__` pattern where the `__iter__` sets/resets and `__next__` does the work.\r\n\r\nNote: for table service, please post the issue here instead: https://github.com/Azure/azure-cosmosdb-python.", "performed_via_github_app": null, "score": 1.0}]}