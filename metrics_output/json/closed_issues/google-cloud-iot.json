{"total_count": 3, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/googleapis/python-iot/issues/25", "repository_url": "https://api.github.com/repos/googleapis/python-iot", "labels_url": "https://api.github.com/repos/googleapis/python-iot/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-iot/issues/25/comments", "events_url": "https://api.github.com/repos/googleapis/python-iot/issues/25/events", "html_url": "https://github.com/googleapis/python-iot/issues/25", "id": 672006423, "node_id": "MDU6SXNzdWU2NzIwMDY0MjM=", "number": 25, "title": "400 The field 'parent' must be in the form 'projects/{project}/locations/{location}'.", "user": {"login": "Korzhak", "id": 28577923, "node_id": "MDQ6VXNlcjI4NTc3OTIz", "avatar_url": "https://avatars2.githubusercontent.com/u/28577923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Korzhak", "html_url": "https://github.com/Korzhak", "followers_url": "https://api.github.com/users/Korzhak/followers", "following_url": "https://api.github.com/users/Korzhak/following{/other_user}", "gists_url": "https://api.github.com/users/Korzhak/gists{/gist_id}", "starred_url": "https://api.github.com/users/Korzhak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Korzhak/subscriptions", "organizations_url": "https://api.github.com/users/Korzhak/orgs", "repos_url": "https://api.github.com/users/Korzhak/repos", "events_url": "https://api.github.com/users/Korzhak/events{/privacy}", "received_events_url": "https://api.github.com/users/Korzhak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1814794983, "node_id": "MDU6TGFiZWwxODE0Nzk0OTgz", "url": "https://api.github.com/repos/googleapis/python-iot/labels/api:%20cloudiot", "name": "api: cloudiot", "color": "9108fd", "default": false, "description": "Issues related to the Cloud IoT Core API."}], "state": "closed", "locked": false, "assignee": {"login": "munkhuushmgl", "id": 45373284, "node_id": "MDQ6VXNlcjQ1MzczMjg0", "avatar_url": "https://avatars0.githubusercontent.com/u/45373284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/munkhuushmgl", "html_url": "https://github.com/munkhuushmgl", "followers_url": "https://api.github.com/users/munkhuushmgl/followers", "following_url": "https://api.github.com/users/munkhuushmgl/following{/other_user}", "gists_url": "https://api.github.com/users/munkhuushmgl/gists{/gist_id}", "starred_url": "https://api.github.com/users/munkhuushmgl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/munkhuushmgl/subscriptions", "organizations_url": "https://api.github.com/users/munkhuushmgl/orgs", "repos_url": "https://api.github.com/users/munkhuushmgl/repos", "events_url": "https://api.github.com/users/munkhuushmgl/events{/privacy}", "received_events_url": "https://api.github.com/users/munkhuushmgl/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "munkhuushmgl", "id": 45373284, "node_id": "MDQ6VXNlcjQ1MzczMjg0", "avatar_url": "https://avatars0.githubusercontent.com/u/45373284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/munkhuushmgl", "html_url": "https://github.com/munkhuushmgl", "followers_url": "https://api.github.com/users/munkhuushmgl/followers", "following_url": "https://api.github.com/users/munkhuushmgl/following{/other_user}", "gists_url": "https://api.github.com/users/munkhuushmgl/gists{/gist_id}", "starred_url": "https://api.github.com/users/munkhuushmgl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/munkhuushmgl/subscriptions", "organizations_url": "https://api.github.com/users/munkhuushmgl/orgs", "repos_url": "https://api.github.com/users/munkhuushmgl/repos", "events_url": "https://api.github.com/users/munkhuushmgl/events{/privacy}", "received_events_url": "https://api.github.com/users/munkhuushmgl/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-01T13:45:53Z", "updated_at": "2020-08-06T17:54:44Z", "closed_at": "2020-08-06T17:54:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried a sample code from the documentation and got this error: `google.api_core.exceptions.InvalidArgument: 400 The field 'parent' must be in the form 'projects/{project}/locations/{location}'.`\r\n\r\n**My code (from example https://googleapis.dev/python/iot/latest/index.html):** \r\n```python\r\nfrom google.cloud import iot_v1\r\nimport os\r\n\r\nos.environ['GOOGLE_APPLICATION_CREDENTIALS'] = 'iot-core-test.json'\r\n\r\n\r\nclient = iot_v1.DeviceManagerClient()\r\n\r\nparent = client.registry_path('iot-core-test-<id>', 'europe-west1', 'iot-sample-registry')\r\n\r\nfor page in client.list_device_registries(parent).pages:\r\n    for element in page:\r\n        # process element\r\n        pass\r\n```\r\n\r\n**Debug error string:**\r\n```json\r\ndebug_error_string = \"{\"created\":\"@1596288752.579561214\",\"description\":\"Error received from peer ipv4:216.58.215.74:443\",\"file\":\"src/core/lib/surface/call.cc\",\"file_line\":1055,\"grpc_message\":\"The field 'parent' must be in the form 'projects/{project}/locations/{location}'.\",\"grpc_status\":3}\"\r\n```\r\n\r\n**About:**\r\n- Python 3.8.2\r\n- google-cloud-iot==1.0.0\r\n- Ubuntu 20.04.1 LTS\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-iot/issues/18", "repository_url": "https://api.github.com/repos/googleapis/python-iot", "labels_url": "https://api.github.com/repos/googleapis/python-iot/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-iot/issues/18/comments", "events_url": "https://api.github.com/repos/googleapis/python-iot/issues/18/events", "html_url": "https://github.com/googleapis/python-iot/issues/18", "id": 642395180, "node_id": "MDU6SXNzdWU2NDIzOTUxODA=", "number": 18, "title": "Synthesis failed for python-iot", "user": {"login": "yoshi-automation", "id": 44816363, "node_id": "MDQ6VXNlcjQ0ODE2MzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/44816363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshi-automation", "html_url": "https://github.com/yoshi-automation", "followers_url": "https://api.github.com/users/yoshi-automation/followers", "following_url": "https://api.github.com/users/yoshi-automation/following{/other_user}", "gists_url": "https://api.github.com/users/yoshi-automation/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshi-automation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshi-automation/subscriptions", "organizations_url": "https://api.github.com/users/yoshi-automation/orgs", "repos_url": "https://api.github.com/users/yoshi-automation/repos", "events_url": "https://api.github.com/users/yoshi-automation/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshi-automation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1814794983, "node_id": "MDU6TGFiZWwxODE0Nzk0OTgz", "url": "https://api.github.com/repos/googleapis/python-iot/labels/api:%20cloudiot", "name": "api: cloudiot", "color": "9108fd", "default": false, "description": "Issues related to the Cloud IoT Core API."}, {"id": 1859983558, "node_id": "MDU6TGFiZWwxODU5OTgzNTU4", "url": "https://api.github.com/repos/googleapis/python-iot/labels/autosynth%20failure", "name": "autosynth failure", "color": "ededed", "default": false, "description": null}, {"id": 1814796734, "node_id": "MDU6TGFiZWwxODE0Nzk2NzM0", "url": "https://api.github.com/repos/googleapis/python-iot/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 1814796585, "node_id": "MDU6TGFiZWwxODE0Nzk2NTg1", "url": "https://api.github.com/repos/googleapis/python-iot/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-20T15:20:48Z", "updated_at": "2020-06-25T19:54:06Z", "closed_at": "2020-06-25T19:54:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello! Autosynth couldn't regenerate python-iot. :broken_heart:\n\nHere's the output from running `synth.py`:\n\n```\nou want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -b with the checkout command again. Example:\n\n  git checkout -b <new-branch-name>\n\nHEAD is now at 42ee97c1 chore: revert bigtable-admin to Gapic V1 for Ruby only\n2020-06-20 08:20:40,223 autosynth [DEBUG] > Running: git checkout f5e4c17dc78a966dbf29961dd01f9bbd63e20a04\nNote: checking out 'f5e4c17dc78a966dbf29961dd01f9bbd63e20a04'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by performing another checkout.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -b with the checkout command again. Example:\n\n  git checkout -b <new-branch-name>\n\nHEAD is now at f5e4c17 feat: Add include_protos parameter support for GAPICBazel (#489)\n2020-06-20 08:20:40,239 autosynth [DEBUG] > Running: git branch -f autosynth-self-2\n2020-06-20 08:20:40,243 autosynth [DEBUG] > Running: git checkout autosynth-self-2\nSwitched to branch 'autosynth-self-2'\n2020-06-20 08:20:40,247 autosynth [INFO] > Running synthtool\n2020-06-20 08:20:40,247 autosynth [INFO] > ['/tmpfs/src/github/synthtool/env/bin/python3', '-m', 'synthtool', '--metadata', 'synth.metadata', 'synth.py', '--']\n2020-06-20 08:20:40,247 autosynth [DEBUG] > log_file_path: /tmpfs/src/github/synthtool/logs/googleapis/python-iot/self/2/sponge_log.log\n2020-06-20 08:20:40,249 autosynth [DEBUG] > Running: /tmpfs/src/github/synthtool/env/bin/python3 -m synthtool --metadata synth.metadata synth.py --\n2020-06-20 08:20:40,466 synthtool [DEBUG] > Executing /home/kbuilder/.cache/synthtool/python-iot/synth.py.\nOn branch autosynth-self-2\nnothing to commit, working tree clean\n2020-06-20 08:20:40,605 synthtool [DEBUG] > Ensuring dependencies.\n2020-06-20 08:20:40,617 synthtool [DEBUG] > Using precloned repo /home/kbuilder/.cache/synthtool/synthtool\n2020-06-20 08:20:40,622 synthtool [DEBUG] > Cloning googleapis.\n2020-06-20 08:20:40,622 synthtool [DEBUG] > Using precloned repo /home/kbuilder/.cache/synthtool/googleapis\n2020-06-20 08:20:40,626 synthtool [DEBUG] > Generating code for: //google/cloud/iot/v1:iot-v1-py.\n2020-06-20 08:20:46,067 synthtool [ERROR] > Failed executing bazel --max_idle_secs=60 build //google/cloud/iot/v1:iot-v1-py:\n\nLoading: \nLoading: 0 packages loaded\nLoading: 0 packages loaded\nLoading: 0 packages loaded\nINFO: SHA256 (https://github.com/googleapis/gapic-generator/archive/4cb5d58f258afdb8abc0b99706370b4a59252b22.zip) = 3cb59685c8a4ae3db1dec60b286f22d8d3aa3d3b36bb08bf003b5e088fac83cb\nLoading: 0 packages loaded\nDEBUG: Rule 'com_google_api_codegen' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"3cb59685c8a4ae3db1dec60b286f22d8d3aa3d3b36bb08bf003b5e088fac83cb\"\nDEBUG: Call stack for the definition of repository 'com_google_api_codegen' which is a http_archive (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\n - <builtin>\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:62:1\nINFO: SHA256 (https://github.com/googleapis/protoc-java-resource-names-plugin/archive/5bd90a1f67c1c128291702cc320d667060f40f95.zip) = c3c0661b6c30fce5c63b1d5f473b1c6c4d59e19853ce3b9e8f5a447f953af906\nDEBUG: Rule 'com_google_protoc_java_resource_names_plugin' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"c3c0661b6c30fce5c63b1d5f473b1c6c4d59e19853ce3b9e8f5a447f953af906\"\nDEBUG: Call stack for the definition of repository 'com_google_protoc_java_resource_names_plugin' which is a http_archive (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\n - <builtin>\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:155:1\nINFO: SHA256 (https://github.com/googleapis/gapic-generator-go/archive/v0.13.2.tar.gz) = ab7a2ffd74e6a6dac6da38027d4acadb84d0075c055289e3335d86a46f9f3b22\nLoading: 0 packages loaded\nDEBUG: Rule 'com_googleapis_gapic_generator_go' indicated that a canonical reproducible form can be obtained by modifying arguments sha256 = \"ab7a2ffd74e6a6dac6da38027d4acadb84d0075c055289e3335d86a46f9f3b22\"\nDEBUG: Call stack for the definition of repository 'com_googleapis_gapic_generator_go' which is a http_archive (rule definition at /home/kbuilder/.cache/bazel/_bazel_kbuilder/a732f932c2cbeb7e37e1543f189a2a73/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):\n - <builtin>\n - /home/kbuilder/.cache/synthtool/googleapis/WORKSPACE:209:1\nAnalyzing: target //google/cloud/iot/v1:iot-v1-py (1 packages loaded, 0 targets configured)\nERROR: While resolving toolchains for target @pypi_black//:black: invalid registered toolchain '@gapic_generator_python//:pyenv3_toolchain': no such package '@gapic_generator_python//': The repository '@gapic_generator_python' could not be resolved\nERROR: Analysis of target '//google/cloud/iot/v1:iot-v1-py' failed; build aborted: invalid registered toolchain '@gapic_generator_python//:pyenv3_toolchain': no such package '@gapic_generator_python//': The repository '@gapic_generator_python' could not be resolved\nINFO: Elapsed time: 5.415s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (20 packages loaded, 14 targets configured)\nFAILED: Build did NOT complete successfully (20 packages loaded, 14 targets configured)\n\n2020-06-20 08:20:46,068 synthtool [DEBUG] > Wrote metadata to synth.metadata.\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/github/synthtool/synthtool/__main__.py\", line 102, in <module>\n    main()\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 829, in __call__\n    return self.main(*args, **kwargs)\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 782, in main\n    rv = self.invoke(ctx)\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 1066, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/tmpfs/src/github/synthtool/env/lib/python3.6/site-packages/click/core.py\", line 610, in invoke\n    return callback(*args, **kwargs)\n  File \"/tmpfs/src/github/synthtool/synthtool/__main__.py\", line 94, in main\n    spec.loader.exec_module(synth_module)  # type: ignore\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\n  File \"/home/kbuilder/.cache/synthtool/python-iot/synth.py\", line 29, in <module>\n    include_protos=True,\n  File \"/tmpfs/src/github/synthtool/synthtool/gcp/gapic_bazel.py\", line 46, in py_library\n    return self._generate_code(service, version, \"python\", **kwargs)\n  File \"/tmpfs/src/github/synthtool/synthtool/gcp/gapic_bazel.py\", line 180, in _generate_code\n    shell.run(bazel_run_args)\n  File \"/tmpfs/src/github/synthtool/synthtool/shell.py\", line 39, in run\n    raise exc\n  File \"/tmpfs/src/github/synthtool/synthtool/shell.py\", line 33, in run\n    encoding=\"utf-8\",\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/subprocess.py\", line 438, in run\n    output=stdout, stderr=stderr)\nsubprocess.CalledProcessError: Command '['bazel', '--max_idle_secs=60', 'build', '//google/cloud/iot/v1:iot-v1-py']' returned non-zero exit status 1.\n2020-06-20 08:20:46,122 autosynth [ERROR] > Synthesis failed\n2020-06-20 08:20:46,123 autosynth [DEBUG] > Running: git reset --hard HEAD\nHEAD is now at bb331f9 chore: Migrate python-iot synth.py from artman to bazel (#13)\n2020-06-20 08:20:46,128 autosynth [DEBUG] > Running: git checkout autosynth-self\nSwitched to branch 'autosynth-self'\n2020-06-20 08:20:46,133 autosynth [ERROR] > Command '['/tmpfs/src/github/synthtool/env/bin/python3', '-m', 'synthtool', '--metadata', 'synth.metadata', 'synth.py', '--']' returned non-zero exit status 1.\n2020-06-20 08:20:46,345 autosynth [INFO] > PR already exists: https://github.com/googleapis/python-iot/pull/17\n2020-06-20 08:20:46,345 autosynth [DEBUG] > Running: git clean -fdx\nRemoving __pycache__/\nRemoving google/__pycache__/\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 649, in <module>\n    main()\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 506, in main\n    return _inner_main(temp_dir)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 629, in _inner_main\n    commit_count = synthesize_loop(x, multiple_prs, change_pusher, synthesizer)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 367, in synthesize_loop\n    synthesize_inner_loop(fork, synthesizer)\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 411, in synthesize_inner_loop\n    synthesizer, len(toolbox.versions) - 1\n  File \"/tmpfs/src/github/synthtool/autosynth/synth.py\", line 266, in synthesize_version_in_new_branch\n    synthesizer.synthesize(synth_log_path, self.environ)\n  File \"/tmpfs/src/github/synthtool/autosynth/synthesizer.py\", line 120, in synthesize\n    synth_proc.check_returncode()  # Raise an exception.\n  File \"/home/kbuilder/.pyenv/versions/3.6.9/lib/python3.6/subprocess.py\", line 389, in check_returncode\n    self.stderr)\nsubprocess.CalledProcessError: Command '['/tmpfs/src/github/synthtool/env/bin/python3', '-m', 'synthtool', '--metadata', 'synth.metadata', 'synth.py', '--']' returned non-zero exit status 1.\n\n```\n\nGoogle internal developers can see the full log [here](http://sponge2/results/invocations/e93a3b66-0b9d-4731-8049-5d33389af1dc/targets/github%2Fsynthtool;config=default/tests;query=python-iot;failed=false).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/python-iot/issues/4", "repository_url": "https://api.github.com/repos/googleapis/python-iot", "labels_url": "https://api.github.com/repos/googleapis/python-iot/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/python-iot/issues/4/comments", "events_url": "https://api.github.com/repos/googleapis/python-iot/issues/4/events", "html_url": "https://github.com/googleapis/python-iot/issues/4", "id": 568302807, "node_id": "MDU6SXNzdWU1NjgzMDI4MDc=", "number": 4, "title": "Synthesis failed for python-iot", "user": {"login": "yoshi-automation", "id": 44816363, "node_id": "MDQ6VXNlcjQ0ODE2MzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/44816363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshi-automation", "html_url": "https://github.com/yoshi-automation", "followers_url": "https://api.github.com/users/yoshi-automation/followers", "following_url": "https://api.github.com/users/yoshi-automation/following{/other_user}", "gists_url": "https://api.github.com/users/yoshi-automation/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshi-automation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshi-automation/subscriptions", "organizations_url": "https://api.github.com/users/yoshi-automation/orgs", "repos_url": "https://api.github.com/users/yoshi-automation/repos", "events_url": "https://api.github.com/users/yoshi-automation/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshi-automation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1814796807, "node_id": "MDU6TGFiZWwxODE0Nzk2ODA3", "url": "https://api.github.com/repos/googleapis/python-iot/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 1814794983, "node_id": "MDU6TGFiZWwxODE0Nzk0OTgz", "url": "https://api.github.com/repos/googleapis/python-iot/labels/api:%20cloudiot", "name": "api: cloudiot", "color": "9108fd", "default": false, "description": "Issues related to the Cloud IoT Core API."}, {"id": 1859983558, "node_id": "MDU6TGFiZWwxODU5OTgzNTU4", "url": "https://api.github.com/repos/googleapis/python-iot/labels/autosynth%20failure", "name": "autosynth failure", "color": "ededed", "default": false, "description": null}, {"id": 1814796734, "node_id": "MDU6TGFiZWwxODE0Nzk2NzM0", "url": "https://api.github.com/repos/googleapis/python-iot/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 1814796585, "node_id": "MDU6TGFiZWwxODE0Nzk2NTg1", "url": "https://api.github.com/repos/googleapis/python-iot/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-20T13:34:06Z", "updated_at": "2020-04-06T17:51:19Z", "closed_at": "2020-02-20T23:24:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello! Autosynth couldn't regenerate python-iot. :broken_heart:\n\nHere's the output from running `synth.py`:\n\n```\nCloning into 'working_repo'...\nSwitched to branch 'autosynth'\nRunning synthtool\n['/tmpfs/src/git/autosynth/env/bin/python3', '-m', 'synthtool', 'synth.py', '--']\nsynthtool > Executing /tmpfs/src/git/autosynth/working_repo/synth.py.\nOn branch autosynth\nnothing to commit, working tree clean\nHEAD detached at FETCH_HEAD\nnothing to commit, working tree clean\nsynthtool > Ensuring dependencies.\nsynthtool > Pulling artman image.\nlatest: Pulling from googleapis/artman\nDigest: sha256:6aec9c34db0e4be221cdaf6faba27bdc07cfea846808b3d3b964dfce3a9a0f9b\nStatus: Image is up to date for googleapis/artman:latest\nsynthtool > Cloning googleapis.\nsynthtool > Running generator for google/cloud/iot/artman_cloudiot.yaml.\nsynthtool > Generated code into /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/iot-v1.\nsynthtool > Copy: /home/kbuilder/.cache/synthtool/googleapis/google/cloud/iot/v1/resources.proto to /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/iot-v1/google/cloud/iot_v1/proto/resources.proto\nsynthtool > Copy: /home/kbuilder/.cache/synthtool/googleapis/google/cloud/iot/v1/device_manager.proto to /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/iot-v1/google/cloud/iot_v1/proto/device_manager.proto\nsynthtool > Placed proto files into /home/kbuilder/.cache/synthtool/googleapis/artman-genfiles/python/iot-v1/google/cloud/iot_v1/proto.\n.coveragerc\n.flake8\n.github/CONTRIBUTING.md\n.github/ISSUE_TEMPLATE/bug_report.md\n.github/ISSUE_TEMPLATE/feature_request.md\n.github/ISSUE_TEMPLATE/support_request.md\n.github/PULL_REQUEST_TEMPLATE.md\n.github/release-please.yml\n.gitignore\n.kokoro/build.sh\n.kokoro/continuous/common.cfg\n.kokoro/continuous/continuous.cfg\n.kokoro/docs/common.cfg\n.kokoro/docs/docs.cfg\n.kokoro/presubmit/common.cfg\n.kokoro/presubmit/presubmit.cfg\n.kokoro/publish-docs.sh\n.kokoro/release.sh\n.kokoro/release/common.cfg\n.kokoro/release/release.cfg\n.kokoro/trampoline.sh\nCODE_OF_CONDUCT.md\nCONTRIBUTING.rst\nLICENSE\nMANIFEST.in\ndocs/_static/custom.css\ndocs/_templates/layout.html\ndocs/conf.py.j2\nnoxfile.py.j2\nrenovate.json\nsetup.cfg\nRunning session blacken\nCreating virtual environment (virtualenv) using python3.6 in .nox/blacken\npip install black==19.3b0\nError: pip is not installed into the virtualenv, it is located at /tmpfs/src/git/autosynth/env/bin/pip. Pass external=True into run() to explicitly allow this.\nSession blacken failed.\nsynthtool > Failed executing nox -s blacken:\n\nNone\nsynthtool > Wrote metadata to synth.metadata.\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/__main__.py\", line 102, in <module>\n    main()\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 764, in __call__\n    return self.main(*args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 717, in main\n    rv = self.invoke(ctx)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 956, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/__main__.py\", line 94, in main\n    spec.loader.exec_module(synth_module)  # type: ignore\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\n  File \"/tmpfs/src/git/autosynth/working_repo/synth.py\", line 44, in <module>\n    s.shell.run([\"nox\", \"-s\", \"blacken\"], hide_output=False)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/shell.py\", line 39, in run\n    raise exc\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/shell.py\", line 33, in run\n    encoding=\"utf-8\",\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/subprocess.py\", line 418, in run\n    output=stdout, stderr=stderr)\nsubprocess.CalledProcessError: Command '['nox', '-s', 'blacken']' returned non-zero exit status 1.\n\nSynthesis failed\n\n```\n\nGoogle internal developers can see the full log [here](https://sponge/bc296324-7867-4eae-a113-8090e6bcc834).\n", "performed_via_github_app": null, "score": 1.0}]}