{"total_count": 76, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/nickstenning/honcho/issues/217", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/217/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/217/events", "html_url": "https://github.com/nickstenning/honcho/issues/217", "id": 564061183, "node_id": "MDU6SXNzdWU1NjQwNjExODM=", "number": 217, "title": "Honcho buffers output to file", "user": {"login": "MeabhG", "id": 6851836, "node_id": "MDQ6VXNlcjY4NTE4MzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/6851836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MeabhG", "html_url": "https://github.com/MeabhG", "followers_url": "https://api.github.com/users/MeabhG/followers", "following_url": "https://api.github.com/users/MeabhG/following{/other_user}", "gists_url": "https://api.github.com/users/MeabhG/gists{/gist_id}", "starred_url": "https://api.github.com/users/MeabhG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MeabhG/subscriptions", "organizations_url": "https://api.github.com/users/MeabhG/orgs", "repos_url": "https://api.github.com/users/MeabhG/repos", "events_url": "https://api.github.com/users/MeabhG/events{/privacy}", "received_events_url": "https://api.github.com/users/MeabhG/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T15:04:42Z", "updated_at": "2020-03-23T11:17:50Z", "closed_at": "2020-03-22T17:26:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "When Honcho receives output from the processes it starts it buffers it before flushing to file.\r\nAdding `self.output.flush()` [here](https://github.com/nickstenning/honcho/blob/master/honcho/printer.py#L61) (could be controlled by a config variable) would allow it to be line buffered. But there might be a better solution.\r\n\r\n\r\nHow to reproduce:\r\n\r\n**printing.py**\r\n```\r\nimport time\r\nfrom datetime import datetime\r\nimport logging\r\n\r\nlogging.basicConfig(level=logging.INFO)\r\n\r\nwhile 1:\r\n    time.sleep(1)\r\n    logging.info(\"Process printing.py output at: {}\".format(datetime.now()))\r\n```\r\n\r\n**run.sh**\r\n```\r\n#!/usr/bin/env bash\r\n\r\npip install honcho\r\nexec honcho start --procfile /etc/honcho/Procfile\r\n```\r\n\r\n**Procfile**\r\n```\r\nweb0: python printing.py\r\n```\r\n\r\n**Python no buffering**\r\n`docker run -d --rm --name honcho -v $(pwd)/printing.py:/printing.py --entrypoint /usr/local/bin/python docker-hub.ihs.demonware.net/python:3.7.5-stretch /printing.py`\r\nand\r\n`docker logs -f honcho` in a second terminal to show line buffered logs\r\n\r\n\r\n**honcho buffering**\r\n`docker run -d --rm --name honcho -v $(pwd)/printing.py:/printing.py -v $(pwd)/run.sh:/run.sh -v $(pwd)/Procfile:/etc/honcho/Procfile  --entrypoint bash docker-hub.ihs.demonware.net/python:3.7.5-stretch /run.sh`\r\nand \r\n`docker logs -f honcho` in a second terminal to show `honcho` buffered logs (wait a few minutes for log dump)\r\n\r\nSame behaviour with `docker-hub.ihs.demonware.net/python:2.7.16-stretch`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/212", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/212/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/212/events", "html_url": "https://github.com/nickstenning/honcho/issues/212", "id": 425765229, "node_id": "MDU6SXNzdWU0MjU3NjUyMjk=", "number": 212, "title": "Project Status of Honcho?", "user": {"login": "RuubixO", "id": 20217139, "node_id": "MDQ6VXNlcjIwMjE3MTM5", "avatar_url": "https://avatars3.githubusercontent.com/u/20217139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RuubixO", "html_url": "https://github.com/RuubixO", "followers_url": "https://api.github.com/users/RuubixO/followers", "following_url": "https://api.github.com/users/RuubixO/following{/other_user}", "gists_url": "https://api.github.com/users/RuubixO/gists{/gist_id}", "starred_url": "https://api.github.com/users/RuubixO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RuubixO/subscriptions", "organizations_url": "https://api.github.com/users/RuubixO/orgs", "repos_url": "https://api.github.com/users/RuubixO/repos", "events_url": "https://api.github.com/users/RuubixO/events{/privacy}", "received_events_url": "https://api.github.com/users/RuubixO/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-27T05:00:09Z", "updated_at": "2020-03-22T14:40:32Z", "closed_at": "2020-03-22T14:40:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nThis looks like a great project and I'm interested in applying it to my dev environment for Django. I noticed that it has been at least 6 months since it was last updated. I'm curious to know if there will be future development of the project. Thank you for all your hard work! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/206", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/206/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/206/events", "html_url": "https://github.com/nickstenning/honcho/issues/206", "id": 364220996, "node_id": "MDU6SXNzdWUzNjQyMjA5OTY=", "number": 206, "title": "Dashes in process types", "user": {"login": "johndgiese", "id": 1648754, "node_id": "MDQ6VXNlcjE2NDg3NTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1648754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johndgiese", "html_url": "https://github.com/johndgiese", "followers_url": "https://api.github.com/users/johndgiese/followers", "following_url": "https://api.github.com/users/johndgiese/following{/other_user}", "gists_url": "https://api.github.com/users/johndgiese/gists{/gist_id}", "starred_url": "https://api.github.com/users/johndgiese/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johndgiese/subscriptions", "organizations_url": "https://api.github.com/users/johndgiese/orgs", "repos_url": "https://api.github.com/users/johndgiese/repos", "events_url": "https://api.github.com/users/johndgiese/events{/privacy}", "received_events_url": "https://api.github.com/users/johndgiese/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-26T21:35:48Z", "updated_at": "2020-03-10T15:58:24Z", "closed_at": "2020-03-10T15:58:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I believe that process types, according to this [Heroku page](https://devcenter.heroku.com/articles/procfile), must be alphanumeric.\r\n\r\nIf I create a Procfile with the following content\r\n\r\n```\r\nprocess-type-with-dashes: python -c 'print(\"hello\")'\r\n```\r\n\r\nand then run `honcho start`, honcho fails silently.\r\n\r\nAlso, when I run `honcho check`, it says it is a valid Procfile.\r\n\r\nPerhaps it would be helpful if:\r\n- `honcho start` would complain if there is an invalid Procfile\r\n- `honcho check` complains if the process types have dashes\r\n\r\nI am using honcho v1.0.1 with python 3.7.0 on macOS.\r\n\r\nThank you for all of your work, I wish I had time to create a PR for this, but I figured creating an issue was better than nothing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/203", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/203/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/203/events", "html_url": "https://github.com/nickstenning/honcho/issues/203", "id": 339875224, "node_id": "MDU6SXNzdWUzMzk4NzUyMjQ=", "number": 203, "title": "Running multiple workers in background?", "user": {"login": "citynorman", "id": 4677339, "node_id": "MDQ6VXNlcjQ2NzczMzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/4677339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/citynorman", "html_url": "https://github.com/citynorman", "followers_url": "https://api.github.com/users/citynorman/followers", "following_url": "https://api.github.com/users/citynorman/following{/other_user}", "gists_url": "https://api.github.com/users/citynorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/citynorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/citynorman/subscriptions", "organizations_url": "https://api.github.com/users/citynorman/orgs", "repos_url": "https://api.github.com/users/citynorman/repos", "events_url": "https://api.github.com/users/citynorman/events{/privacy}", "received_events_url": "https://api.github.com/users/citynorman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-10T14:44:29Z", "updated_at": "2018-07-18T03:31:18Z", "closed_at": "2018-07-18T03:31:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "How would I do something like the commands below to run honcho process in background? Right now honcho is always in the foreground and if I close to terminal window the process stops too...\r\n\r\n```\r\nHoncho start web\r\nHoncho start worker\r\n# let it run for a while\r\nHoncho stop worker\r\nHoncho stop web\r\n```\r\n\r\nI guess I want something more like supervisor but with Procfiles (and the fact that supervisor has bad python 3 support).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/201", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/201/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/201/events", "html_url": "https://github.com/nickstenning/honcho/issues/201", "id": 329984808, "node_id": "MDU6SXNzdWUzMjk5ODQ4MDg=", "number": 201, "title": "error: can't copy 'honcho/export': doesn't exist or not a regular file", "user": {"login": "Totktonada", "id": 92749, "node_id": "MDQ6VXNlcjkyNzQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/92749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Totktonada", "html_url": "https://github.com/Totktonada", "followers_url": "https://api.github.com/users/Totktonada/followers", "following_url": "https://api.github.com/users/Totktonada/following{/other_user}", "gists_url": "https://api.github.com/users/Totktonada/gists{/gist_id}", "starred_url": "https://api.github.com/users/Totktonada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Totktonada/subscriptions", "organizations_url": "https://api.github.com/users/Totktonada/orgs", "repos_url": "https://api.github.com/users/Totktonada/repos", "events_url": "https://api.github.com/users/Totktonada/events{/privacy}", "received_events_url": "https://api.github.com/users/Totktonada/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-06-06T18:37:38Z", "updated_at": "2018-06-08T09:40:39Z", "closed_at": "2018-06-08T09:40:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n$ python2 setup.py build\r\nrunning build\r\nrunning build_py\r\nrunning egg_info\r\nwriting requirements to honcho.egg-info/requires.txt\r\nwriting honcho.egg-info/PKG-INFO\r\nwriting top-level names to honcho.egg-info/top_level.txt\r\nwriting dependency_links to honcho.egg-info/dependency_links.txt\r\nwriting entry points to honcho.egg-info/entry_points.txt\r\nreading manifest template 'MANIFEST.in'\r\nno previously-included directories found matching 'doc/_build'\r\nwarning: no previously-included files matching '__pycache__' found anywhere in distribution\r\nwarning: no previously-included files matching '*.py[co]' found anywhere in distribution\r\nwriting manifest file 'honcho.egg-info/SOURCES.txt'\r\nerror: can't copy 'honcho/export': doesn't exist or not a regular file\r\n```\r\n\r\nI tried to run tox locally and got the same error. Don\u2019t sure whether it is system-local problem or something was changed in setuptools recently. Can you check (say, rerun travis build), please?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/199", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/199/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/199/events", "html_url": "https://github.com/nickstenning/honcho/issues/199", "id": 310005161, "node_id": "MDU6SXNzdWUzMTAwMDUxNjE=", "number": 199, "title": "Allow `python -m honcho` to act the same as `honcho` ?", "user": {"login": "hartym", "id": 30586, "node_id": "MDQ6VXNlcjMwNTg2", "avatar_url": "https://avatars1.githubusercontent.com/u/30586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hartym", "html_url": "https://github.com/hartym", "followers_url": "https://api.github.com/users/hartym/followers", "following_url": "https://api.github.com/users/hartym/following{/other_user}", "gists_url": "https://api.github.com/users/hartym/gists{/gist_id}", "starred_url": "https://api.github.com/users/hartym/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hartym/subscriptions", "organizations_url": "https://api.github.com/users/hartym/orgs", "repos_url": "https://api.github.com/users/hartym/repos", "events_url": "https://api.github.com/users/hartym/events{/privacy}", "received_events_url": "https://api.github.com/users/hartym/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-30T08:11:18Z", "updated_at": "2018-11-18T16:10:03Z", "closed_at": "2018-11-18T16:10:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "All is in the title, a lot of python tools (pip, gunicorn, virualenv, venv, ...) are having the same CLI behaviour whether they're called using the setuptools entrypoint, or called with their package's \"__main__\". The benefit of having both interfaces is that one can run the package even if he does not have his path setup correctly for a given virtualenv. I just need to know the python interpreter path, and can use libraries from there\r\n\r\nIf we run `python -m honcho` today, it prints: `No module named honcho.__main__; 'honcho' is a package and cannot be directly executed`\r\n\r\nWhat I propose is that `python -m honcho` becomes equivalent to `honcho`, in a given environment. \r\n\r\nIf you are ok for this, I can handle implementation, which should be trivial (it's basically only creating a `__main__.py` file in honcho's package root and calling the same thing as does the setuptools entrypoint there).\r\n\r\nLet me know.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/198", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/198/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/198/events", "html_url": "https://github.com/nickstenning/honcho/issues/198", "id": 294791498, "node_id": "MDU6SXNzdWUyOTQ3OTE0OTg=", "number": 198, "title": "honcho start fails under High Sierra", "user": {"login": "BarrySmith", "id": 512185, "node_id": "MDQ6VXNlcjUxMjE4NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/512185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BarrySmith", "html_url": "https://github.com/BarrySmith", "followers_url": "https://api.github.com/users/BarrySmith/followers", "following_url": "https://api.github.com/users/BarrySmith/following{/other_user}", "gists_url": "https://api.github.com/users/BarrySmith/gists{/gist_id}", "starred_url": "https://api.github.com/users/BarrySmith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BarrySmith/subscriptions", "organizations_url": "https://api.github.com/users/BarrySmith/orgs", "repos_url": "https://api.github.com/users/BarrySmith/repos", "events_url": "https://api.github.com/users/BarrySmith/events{/privacy}", "received_events_url": "https://api.github.com/users/BarrySmith/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-06T15:03:16Z", "updated_at": "2018-02-07T18:10:40Z", "closed_at": "2018-02-07T18:10:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "$ honcho start\r\n08:48:46 system     | listener.1 started (pid=93777)\r\n08:48:46 system     | tunnel.1 started (pid=93778)\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"no configuration paths supplied\"\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"using configuration at default config path\" path=/Users/barrysmith/.ngrok2/ngrok.yml\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"open config file\" path=/Users/barrysmith/.ngrok2/ngrok.yml err=nil\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"run component\" obj=controller comp=\"signal handler\"\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"run component\" obj=controller comp=\"memory storage\"\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"run component\" obj=controller comp=\"Tunnel session\"\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"run component\" obj=controller comp=web\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"run component\" obj=controller comp=updater\r\n08:48:46 tunnel.1   | t=2018-02-06T08:48:46-0600 lvl=info msg=\"starting web service\" obj=web addr=127.0.0.1:4040\r\n08:48:46 listener.1 | Traceback (most recent call last):\r\n08:48:46 listener.1 |   File \"listener.py\", line 5, in <module>\r\n08:48:46 listener.1 |     from pync import Notifier\r\n08:48:46 listener.1 |   File \"build/bdist.macosx-10.13-intel/egg/pync/__init__.py\", line 3, in <module>\r\n08:48:46 listener.1 |   File \"build/bdist.macosx-10.13-intel/egg/pync/TerminalNotifier.py\", line 130, in <module>\r\n08:48:46 listener.1 |   File \"build/bdist.macosx-10.13-intel/egg/pync/TerminalNotifier.py\", line 37, in __init__\r\n08:48:46 listener.1 | Exception: pync was not properly installed. Head over to https://github.com/SeTeM/pync/ and file a bug.\r\n08:48:46 system     | listener.1 stopped (rc=1)\r\n08:48:46 system     | sending SIGTERM to tunnel.1 (pid 93778)\r\n08:48:46 system     | tunnel.1 stopped (rc=-15)\r\n\r\nGoing to https://github.com/SeTeM/pync/ says it is no longer supported. How do we rig honcho to not use pync? \r\n\r\nI am following directions from https://confluence.atlassian.com/bitbucket/tutorial-create-and-trigger-a-webhook-747606432.html\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/197", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/197/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/197/events", "html_url": "https://github.com/nickstenning/honcho/issues/197", "id": 291173421, "node_id": "MDU6SXNzdWUyOTExNzM0MjE=", "number": 197, "title": "Cannot tail -f | jq", "user": {"login": "ptbrowne", "id": 465582, "node_id": "MDQ6VXNlcjQ2NTU4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/465582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptbrowne", "html_url": "https://github.com/ptbrowne", "followers_url": "https://api.github.com/users/ptbrowne/followers", "following_url": "https://api.github.com/users/ptbrowne/following{/other_user}", "gists_url": "https://api.github.com/users/ptbrowne/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptbrowne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptbrowne/subscriptions", "organizations_url": "https://api.github.com/users/ptbrowne/orgs", "repos_url": "https://api.github.com/users/ptbrowne/repos", "events_url": "https://api.github.com/users/ptbrowne/events{/privacy}", "received_events_url": "https://api.github.com/users/ptbrowne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-24T11:24:05Z", "updated_at": "2020-03-23T07:38:05Z", "closed_at": "2020-03-22T14:50:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I do \r\n\r\n```\r\nlogs: tail -f logs\r\n```\r\n\r\neverything is OK, but when I do \r\n\r\n```\r\nlogs: tail -f logs | jq '.'\r\n```\r\n\r\nI have no output :/ Same if I do \r\n\r\n```\r\nlogs: bash -c \"tail -f logs | jq '.'\"\r\n```\r\n\r\nI tried to do launch honcho with `env PYTHONUNBUFFERED=1 honcho start' but to no avail.\r\n\r\nIs there any solution ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/194", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/194/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/194/events", "html_url": "https://github.com/nickstenning/honcho/issues/194", "id": 242984642, "node_id": "MDU6SXNzdWUyNDI5ODQ2NDI=", "number": 194, "title": "Multiplied Processes", "user": {"login": "mjdavies", "id": 9468, "node_id": "MDQ6VXNlcjk0Njg=", "avatar_url": "https://avatars1.githubusercontent.com/u/9468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjdavies", "html_url": "https://github.com/mjdavies", "followers_url": "https://api.github.com/users/mjdavies/followers", "following_url": "https://api.github.com/users/mjdavies/following{/other_user}", "gists_url": "https://api.github.com/users/mjdavies/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjdavies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjdavies/subscriptions", "organizations_url": "https://api.github.com/users/mjdavies/orgs", "repos_url": "https://api.github.com/users/mjdavies/repos", "events_url": "https://api.github.com/users/mjdavies/events{/privacy}", "received_events_url": "https://api.github.com/users/mjdavies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-14T12:33:25Z", "updated_at": "2017-09-18T09:46:21Z", "closed_at": "2017-09-18T09:46:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there.\r\n\r\nI'm not really certain this is an issue, but was hoping if someone could explain what I'm seeing.\r\n\r\nI'm using honcho to start nginx, and start my django application with gunicorn, all inside one docker container.\r\n\r\nThe nginx is configured to run with 1 worker.\r\n\r\nHere's my procfile\r\n\r\n    nginx: /usr/sbin/nginx\r\n    webapp: gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\n\r\nIt all works fine when I run 'honcho start' as the command in the docker-compose file, no problems.\r\n\r\nWhat I don't really understand is the output of ps aux inside the container.\r\n\r\n````USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\r\nroot         1  0.8  0.8  42556 16960 ?        Ss   12:25   0:00 /usr/bin/python /usr/local/bin/honcho start\r\nroot         7  0.0  0.6 116288 14164 ?        Sl   12:25   0:00 /usr/bin/python /usr/local/bin/honcho start\r\nroot         8  0.0  0.6 116288 14168 ?        Sl   12:25   0:00 /usr/bin/python /usr/local/bin/honcho start\r\nroot         9  0.3  0.0   4512   828 ?        Ss   12:25   0:00 /bin/sh -c /usr/sbin/nginx\r\nroot        10  0.3  0.0   4512   748 ?        Ss   12:25   0:00 /bin/sh -c gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\nroot        12  0.0  0.4 125108  9224 ?        S    12:25   0:00 nginx: master process /usr/sbin/nginx\r\nroot        14  0.4  0.8  47524 17808 ?        S    12:25   0:00 /usr/bin/python /usr/local/bin/gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\nnobody      15  0.0  0.1 125536  3136 ?        S    12:25   0:00 nginx: worker process\r\nroot        20  2.3  4.0 761584 83560 ?        Sl   12:25   0:00 /usr/bin/python /usr/local/bin/gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\nroot        21  2.2  4.0 761600 83548 ?        Sl   12:25   0:00 /usr/bin/python /usr/local/bin/gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\nroot        24  2.3  4.0 761600 83688 ?        Sl   12:25   0:00 /usr/bin/python /usr/local/bin/gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\nroot        41  0.6  0.1  18252  3280 pts/0    Ss   12:26   0:00 /bin/bash\r\nroot        55  0.0  0.1  34428  2724 pts/0    R+   12:26   0:00 ps aux````\r\n\r\nCan anyone tell me why I'm seeing 3 honcho processes running, and 4 gunicorn processes after the initial /bin/sh -c gunicorn research.wsgi --workers=3 -b 0.0.0.0:8000 --log-level debug\r\n\r\nLike I say, it is working, but I wouldn't have expected to see 4 gunicorns and 3 honchos.\r\n\r\nSounds like a pretty good film :-)\r\n\r\nAny tips, hints, or explanations would be more than welcome.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/191", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/191/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/191/events", "html_url": "https://github.com/nickstenning/honcho/issues/191", "id": 226247384, "node_id": "MDU6SXNzdWUyMjYyNDczODQ=", "number": 191, "title": "Stdout/stderr redirection", "user": {"login": "ChillarAnand", "id": 4463796, "node_id": "MDQ6VXNlcjQ0NjM3OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4463796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChillarAnand", "html_url": "https://github.com/ChillarAnand", "followers_url": "https://api.github.com/users/ChillarAnand/followers", "following_url": "https://api.github.com/users/ChillarAnand/following{/other_user}", "gists_url": "https://api.github.com/users/ChillarAnand/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChillarAnand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChillarAnand/subscriptions", "organizations_url": "https://api.github.com/users/ChillarAnand/orgs", "repos_url": "https://api.github.com/users/ChillarAnand/repos", "events_url": "https://api.github.com/users/ChillarAnand/events{/privacy}", "received_events_url": "https://api.github.com/users/ChillarAnand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-04T11:09:50Z", "updated_at": "2017-07-06T07:01:03Z", "closed_at": "2017-07-05T16:27:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a process, say celery is started directly, it shows output like this.\r\n\r\n```\r\n/home/chillaranand/.virtualenvs/sherlock/lib/python3.5/site-packages/celery/backends/amqp.py:68: CPendingDeprecationWarning: \r\n    The AMQP result backend is scheduled for deprecation in     version 4.0 and removal in version v5.0.     Please use RPC backend or a persistent backend.\r\n\r\n  alternative='Please use RPC backend or a persistent backend.')\r\n \r\n -------------- celery@pavilion v4.0.2 (latentcall)\r\n---- **** ----- \r\n--- * ***  * -- Linux-4.4.0-75-generic-x86_64-with-Ubuntu-16.04-xenial 2017-05-04 16:32:19\r\n-- * - **** --- \r\n- ** ---------- [config]\r\n- ** ---------- .> app:         __main__:0x7f9d58040dd8\r\n- ** ---------- .> transport:   amqp://guest:**@localhost:5672//\r\n- ** ---------- .> results:     amqp://\r\n- *** --- * --- .> concurrency: 4 (prefork)\r\n-- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)\r\n--- ***** ----- \r\n -------------- [queues]\r\n                .> celery           exchange=celery(direct) key=celery\r\n                \r\n\r\n[tasks]\r\n  . t.add\r\n  . t.bar\r\n  . t.baz\r\n  . t.dummy\r\n  . t.foo\r\n  . t.mul\r\n  . t.sub\r\n  . t.wait\r\n\r\n[2017-05-04 16:32:20,052: INFO/MainProcess] Connected to amqp://guest:**@127.0.0.1:5672//\r\n[2017-05-04 16:32:20,062: INFO/MainProcess] mingle: searching for neighbors\r\n[2017-05-04 16:32:21,082: INFO/MainProcess] mingle: all alone\r\n[2017-05-04 16:32:21,106: INFO/MainProcess] celery@pavilion ready.\r\n```\r\n\r\nOn the other hand, the same process gives this output with honcho.\r\n\r\n```\r\n16:31:55 celery.1 | [2017-05-04 11:01:55,306: INFO/MainProcess] Connected to amqp://guest:**@127.0.0.1:5672//\r\n16:31:55 celery.1 | [2017-05-04 11:01:55,321: INFO/MainProcess] mingle: searching for neighbors\r\n16:31:56 celery.1 | [2017-05-04 11:01:56,349: INFO/MainProcess] mingle: all alone\r\n16:31:56 celery.1 | [2017-05-04 11:01:56,388: WARNING/MainProcess] /home/chillaranand/.virtualenvs/sherlock/lib/python3.5/site-packages/celery/fixups/\r\ndjango.py:202: UserWarning: Using settings.DEBUG leads to a memory leak, never use this setting in production environments!\r\n16:31:56 celery.1 |   warnings.warn('Using settings.DEBUG leads to a memory leak, never '\r\n16:31:56 celery.1 | [2017-05-04 11:01:56,388: INFO/MainProcess] celery@pavilion ready.\r\n```\r\n\r\nAfter the process is stopped, it show stderr\r\n```\r\n^C16:32:06 system   | SIGINT received\r\n16:32:06 system   | sending SIGTERM to celery.1 (pid 6727)\r\n16:38:52 celery.1 | \r\n16:38:52 celery.1 | worker: Warm shutdown (MainProcess)\r\n16:38:52 celery.1 |  \r\n16:38:52 celery.1 |  -------------- celery@pavilion v4.0.2 (latentcall)\r\n16:38:52 celery.1 | ---- **** ----- \r\n16:38:52 celery.1 | --- * ***  * -- Linux-4.4.0-75-generic-x86_64-with-Ubuntu-16.04-xenial 2017-05-04 11:08:45\r\n16:38:52 celery.1 | -- * - **** --- \r\n16:38:52 celery.1 | - ** ---------- [config]\r\n16:38:52 celery.1 | - ** ---------- .> app:         sherlock:0x7f3f35481208\r\n16:38:52 celery.1 | - ** ---------- .> transport:   amqp://guest:**@localhost:5672//\r\n16:38:52 celery.1 | - ** ---------- .> results:     disabled://\r\n16:38:52 celery.1 | - *** --- * --- .> concurrency: 4 (prefork)\r\n16:38:52 celery.1 | -- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)\r\n16:38:52 celery.1 | --- ***** ----- \r\n16:38:52 celery.1 |  -------------- [queues]\r\n16:38:52 celery.1 |                 .> celery           exchange=celery(direct) key=celery\r\n16:38:52 celery.1 |                 \r\n16:38:52 celery.1 | \r\n16:38:52 celery.1 | [tasks]\r\n16:38:52 celery.1 |   . mycroft.core.tasks.dummy\r\n``` ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/180", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/180/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/180/events", "html_url": "https://github.com/nickstenning/honcho/issues/180", "id": 164153858, "node_id": "MDU6SXNzdWUxNjQxNTM4NTg=", "number": 180, "title": "Export to upstart and logging", "user": {"login": "mjumbewu", "id": 146749, "node_id": "MDQ6VXNlcjE0Njc0OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/146749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjumbewu", "html_url": "https://github.com/mjumbewu", "followers_url": "https://api.github.com/users/mjumbewu/followers", "following_url": "https://api.github.com/users/mjumbewu/following{/other_user}", "gists_url": "https://api.github.com/users/mjumbewu/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjumbewu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjumbewu/subscriptions", "organizations_url": "https://api.github.com/users/mjumbewu/orgs", "repos_url": "https://api.github.com/users/mjumbewu/repos", "events_url": "https://api.github.com/users/mjumbewu/events{/privacy}", "received_events_url": "https://api.github.com/users/mjumbewu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-07-06T19:23:21Z", "updated_at": "2017-04-01T18:09:56Z", "closed_at": "2017-04-01T18:09:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm interested in using the built-in log capturing and rotation in _upstart_ with a _honcho_ exported job. I like that you can, if you so desire, specify the folder to which to write logs, but upstart will do it better.\n\nI'm considering a few different ways to do this and wanted to get opinions:\n- using `tee` to write to both stdout/stderr and the custom log file; this will have the unfortunate side-effect that you will have the same logs in two places, wasting disk space\n- accepting a special value for `--log` to indicate that you want to bypass file logging (maybe `--log -`)\n- ignoring the `--log` value in the template; then the script would just write to stdout/stderr and use the default _upstart_ logging\n\nI'm leaning toward the last option, even though it disregards the `--log` option and may break existing configurations that depend on the logs being written to a custom folder. I think there's more value in getting access to upstart's log compression and rotating.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/177", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/177/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/177/events", "html_url": "https://github.com/nickstenning/honcho/issues/177", "id": 153813614, "node_id": "MDU6SXNzdWUxNTM4MTM2MTQ=", "number": 177, "title": "Upload non-wheel format to pypi", "user": {"login": "mattrobenolt", "id": 375744, "node_id": "MDQ6VXNlcjM3NTc0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/375744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattrobenolt", "html_url": "https://github.com/mattrobenolt", "followers_url": "https://api.github.com/users/mattrobenolt/followers", "following_url": "https://api.github.com/users/mattrobenolt/following{/other_user}", "gists_url": "https://api.github.com/users/mattrobenolt/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattrobenolt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattrobenolt/subscriptions", "organizations_url": "https://api.github.com/users/mattrobenolt/orgs", "repos_url": "https://api.github.com/users/mattrobenolt/repos", "events_url": "https://api.github.com/users/mattrobenolt/events{/privacy}", "received_events_url": "https://api.github.com/users/mattrobenolt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-05-09T16:16:12Z", "updated_at": "2016-05-12T10:16:00Z", "closed_at": "2016-05-12T09:58:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now, only `.whl` files are being uploaded, which breaks for a version of `pip` that doesn't support wheels. Should upload the `.tar.gz` version as well as a result of `setup.py sdist`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/175", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/175/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/175/events", "html_url": "https://github.com/nickstenning/honcho/issues/175", "id": 148433803, "node_id": "MDU6SXNzdWUxNDg0MzM4MDM=", "number": 175, "title": "[Question] Processes Lifecycycle", "user": {"login": "kuraga", "id": 1063219, "node_id": "MDQ6VXNlcjEwNjMyMTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1063219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kuraga", "html_url": "https://github.com/kuraga", "followers_url": "https://api.github.com/users/kuraga/followers", "following_url": "https://api.github.com/users/kuraga/following{/other_user}", "gists_url": "https://api.github.com/users/kuraga/gists{/gist_id}", "starred_url": "https://api.github.com/users/kuraga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kuraga/subscriptions", "organizations_url": "https://api.github.com/users/kuraga/orgs", "repos_url": "https://api.github.com/users/kuraga/repos", "events_url": "https://api.github.com/users/kuraga/events{/privacy}", "received_events_url": "https://api.github.com/users/kuraga/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-14T17:39:31Z", "updated_at": "2016-04-14T20:12:38Z", "closed_at": "2016-04-14T20:12:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Good day!\n\nI started 3 processes. And due to log, two others got `SIGTERM` in the next moment after first process finished.\n\nSo, Honcho waits one process only? Thanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/173", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/173/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/173/events", "html_url": "https://github.com/nickstenning/honcho/issues/173", "id": 147939994, "node_id": "MDU6SXNzdWUxNDc5Mzk5OTQ=", "number": 173, "title": "-f argument before command is suppressed", "user": {"login": "marckrull", "id": 7631602, "node_id": "MDQ6VXNlcjc2MzE2MDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/7631602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marckrull", "html_url": "https://github.com/marckrull", "followers_url": "https://api.github.com/users/marckrull/followers", "following_url": "https://api.github.com/users/marckrull/following{/other_user}", "gists_url": "https://api.github.com/users/marckrull/gists{/gist_id}", "starred_url": "https://api.github.com/users/marckrull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marckrull/subscriptions", "organizations_url": "https://api.github.com/users/marckrull/orgs", "repos_url": "https://api.github.com/users/marckrull/repos", "events_url": "https://api.github.com/users/marckrull/events{/privacy}", "received_events_url": "https://api.github.com/users/marckrull/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-13T03:58:09Z", "updated_at": "2016-04-13T07:38:33Z", "closed_at": "2016-04-13T07:18:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "System information: Mac OS X, 10.11.1\nHoncho version: 0.7.0\n\nWith the latest release of honcho (0.7.0), I've noticed that the -f argument is processed properly **after** a command, but not **before** a command.  -e and -d arguments don't exhibit this order-dependent behavior.\n\nExamples:\n\n```\n$ honcho -f my_procfile check\n2016-04-12 23:49:22 [45546] [ERROR] Procfile does not exist or is not a file\n$ honcho check -f my_procfile\n2016-04-12 23:49:24 [45548] [INFO] Valid procfile detected (postgres, rabbit, redis, flower)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/169", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/169/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/169/events", "html_url": "https://github.com/nickstenning/honcho/issues/169", "id": 143415365, "node_id": "MDU6SXNzdWUxNDM0MTUzNjU=", "number": 169, "title": "Document using honcho as a process manager", "user": {"login": "mattrobenolt", "id": 375744, "node_id": "MDQ6VXNlcjM3NTc0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/375744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattrobenolt", "html_url": "https://github.com/mattrobenolt", "followers_url": "https://api.github.com/users/mattrobenolt/followers", "following_url": "https://api.github.com/users/mattrobenolt/following{/other_user}", "gists_url": "https://api.github.com/users/mattrobenolt/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattrobenolt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattrobenolt/subscriptions", "organizations_url": "https://api.github.com/users/mattrobenolt/orgs", "repos_url": "https://api.github.com/users/mattrobenolt/repos", "events_url": "https://api.github.com/users/mattrobenolt/events{/privacy}", "received_events_url": "https://api.github.com/users/mattrobenolt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-25T03:27:59Z", "updated_at": "2016-04-12T18:26:59Z", "closed_at": "2016-04-12T18:26:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Honcho is great and it's simple to use as a library, but I had to just kinda reverse engineer what was going to to figure out how to do so. But being able to just leverage the `honcho.manager:Manager` makes it super simple to replace other subprocess managing.\n\nInside Sentry, we were doing this by hand, which was a bit annoying. I replaced our `sentry devserver` command to utilize `honcho` without needing to use a Procfile (since our processes are already defined by Sentry itself) and this is super seamless.\n\nSo I'm just requesting to add some documentation for this since it wasn't clear on how to do this without reverse engineering `honcho.command:command_run` and figuring it out.\n\nFor context: https://github.com/getsentry/sentry/pull/2905\n\nThanks. :heart: \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/167", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/167/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/167/events", "html_url": "https://github.com/nickstenning/honcho/issues/167", "id": 141793489, "node_id": "MDU6SXNzdWUxNDE3OTM0ODk=", "number": 167, "title": "pipe not supported?", "user": {"login": "miminashi", "id": 90422, "node_id": "MDQ6VXNlcjkwNDIy", "avatar_url": "https://avatars1.githubusercontent.com/u/90422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miminashi", "html_url": "https://github.com/miminashi", "followers_url": "https://api.github.com/users/miminashi/followers", "following_url": "https://api.github.com/users/miminashi/following{/other_user}", "gists_url": "https://api.github.com/users/miminashi/gists{/gist_id}", "starred_url": "https://api.github.com/users/miminashi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miminashi/subscriptions", "organizations_url": "https://api.github.com/users/miminashi/orgs", "repos_url": "https://api.github.com/users/miminashi/repos", "events_url": "https://api.github.com/users/miminashi/events{/privacy}", "received_events_url": "https://api.github.com/users/miminashi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-03-18T07:22:50Z", "updated_at": "2016-03-28T12:40:51Z", "closed_at": "2016-03-28T12:40:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using OSX 10.10.5 and installed honcho by `pip install git+https://github.com/nickstenning/honcho.git`\n\nMy Procfile is:\n\n``` Procfile\napp: while sleep 1; do uptime; done\n```\n\nwith foreman:\n\n```\n$ foreman start | tee /tmp/foreman.log\n16:18:09 app.1  | started with pid 15476\n16:18:10 app.1  | 16:18  up 3 days, 16:48, 10 users, load averages: 1.31 1.38 1.40\n16:18:11 app.1  | 16:18  up 3 days, 16:48, 10 users, load averages: 1.28 1.38 1.40\n16:18:12 app.1  | 16:18  up 3 days, 16:48, 10 users, load averages: 1.28 1.38 1.40\n16:18:13 app.1  | 16:18  up 3 days, 16:48, 10 users, load averages: 1.28 1.38 1.40\n16:18:14 app.1  | 16:18  up 3 days, 16:48, 10 users, load averages: 1.28 1.38 1.40\n16:18:15 app.1  | 16:18  up 3 days, 16:48, 10 users, load averages: 1.28 1.38 1.40\n^C\n```\n\nwith honcho, nothing is appeared:\n\n```\n$ honcho start | tee /tmp/foreman.log\n^C\n```\n\n`/tmp/foreman.log` is also empty.\n\nany advise?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/166", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/166/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/166/events", "html_url": "https://github.com/nickstenning/honcho/issues/166", "id": 139878547, "node_id": "MDU6SXNzdWUxMzk4Nzg1NDc=", "number": 166, "title": "Idea: web interface", "user": {"login": "abesto", "id": 59982, "node_id": "MDQ6VXNlcjU5OTgy", "avatar_url": "https://avatars0.githubusercontent.com/u/59982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abesto", "html_url": "https://github.com/abesto", "followers_url": "https://api.github.com/users/abesto/followers", "following_url": "https://api.github.com/users/abesto/following{/other_user}", "gists_url": "https://api.github.com/users/abesto/gists{/gist_id}", "starred_url": "https://api.github.com/users/abesto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abesto/subscriptions", "organizations_url": "https://api.github.com/users/abesto/orgs", "repos_url": "https://api.github.com/users/abesto/repos", "events_url": "https://api.github.com/users/abesto/events{/privacy}", "received_events_url": "https://api.github.com/users/abesto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-10T12:57:44Z", "updated_at": "2016-03-28T19:37:43Z", "closed_at": "2016-03-28T12:43:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Wondering what the general feeling is about something like a web interface for managing processes run by Honcho, for local development environments. Couple of things that could make it useful:\n- show at a glance which processes are running\n- one-click start / stop / restart for processes\n- filter logs on the front-end by string / regex\n- filter logs on the front-end by which process wrote the logs\n- click through to web processes\n\nIs this an obviously bad idea for a reason I don't see? Is there already something like this? Should this be developed as part of `honcho`, or a stand-alone tool / wrapper?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/165", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/165/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/165/events", "html_url": "https://github.com/nickstenning/honcho/issues/165", "id": 135947784, "node_id": "MDU6SXNzdWUxMzU5NDc3ODQ=", "number": 165, "title": "Provide an cli option to disable stdout prefix printing", "user": {"login": "messense", "id": 1556054, "node_id": "MDQ6VXNlcjE1NTYwNTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1556054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/messense", "html_url": "https://github.com/messense", "followers_url": "https://api.github.com/users/messense/followers", "following_url": "https://api.github.com/users/messense/following{/other_user}", "gists_url": "https://api.github.com/users/messense/gists{/gist_id}", "starred_url": "https://api.github.com/users/messense/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/messense/subscriptions", "organizations_url": "https://api.github.com/users/messense/orgs", "repos_url": "https://api.github.com/users/messense/repos", "events_url": "https://api.github.com/users/messense/events{/privacy}", "received_events_url": "https://api.github.com/users/messense/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-24T04:03:26Z", "updated_at": "2016-02-28T21:07:55Z", "closed_at": "2016-02-28T21:07:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sometimes it's annoying to have that prefix in stdout.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/162", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/162/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/162/events", "html_url": "https://github.com/nickstenning/honcho/issues/162", "id": 119295496, "node_id": "MDU6SXNzdWUxMTkyOTU0OTY=", "number": 162, "title": "I think note about easy_install can get removed now.", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-28T14:03:34Z", "updated_at": "2016-02-28T21:06:44Z", "closed_at": "2016-02-28T21:06:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think this quote from the README can be removed now:\n\n> If you're one of those sick people who's into this kind of thing, you can probably also easy_install \n> honcho. But please, don't: get with the program.\n\n`pip` is wide-spread and accepted :-)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/161", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/161/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/161/events", "html_url": "https://github.com/nickstenning/honcho/issues/161", "id": 115313772, "node_id": "MDU6SXNzdWUxMTUzMTM3NzI=", "number": 161, "title": "Missing exports on clean install", "user": {"login": "JensRantil", "id": 730342, "node_id": "MDQ6VXNlcjczMDM0Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/730342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JensRantil", "html_url": "https://github.com/JensRantil", "followers_url": "https://api.github.com/users/JensRantil/followers", "following_url": "https://api.github.com/users/JensRantil/following{/other_user}", "gists_url": "https://api.github.com/users/JensRantil/gists{/gist_id}", "starred_url": "https://api.github.com/users/JensRantil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JensRantil/subscriptions", "organizations_url": "https://api.github.com/users/JensRantil/orgs", "repos_url": "https://api.github.com/users/JensRantil/repos", "events_url": "https://api.github.com/users/JensRantil/events{/privacy}", "received_events_url": "https://api.github.com/users/JensRantil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-05T15:56:17Z", "updated_at": "2015-11-05T16:44:25Z", "closed_at": "2015-11-05T16:44:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hit this on a server I'm configuring. Managed to recreate the issue on a clean Vagrant box, too.\n\nI'm somewhat surprised about this:\n\n```\n$ vagrant init ubuntu/precise64\n$ vagrant up\n$ vagrant ssh\n$ sudo su\n# apt-get update && apt-get install python-setuptools && easy_install pip && pip install honcho\n# honcho export --help\nusage: honcho export [-h] [-e ENV] [-d DIR] [-f FILE] [-v] [-a APP] [-l DIR]\n                     [-p N] [-c process=num,process=num] [-u USER] [-s SHELL]\n                     [-t DIR]\n                     FORMAT LOCATION\n\npositional arguments:\n  FORMAT                format to export to; one of\n  LOCATION              folder to export to\n\noptional arguments:\n  -h, --help            show this help message and exit\n  -e ENV, --env ENV     environment file[,file] (default: .env)\n  -d DIR, --app-root DIR\n                        procfile directory (default: .)\n  -f FILE, --procfile FILE\n                        procfile path (default: Procfile)\n  -v, --version         show program's version number and exit\n  -a APP, --app APP     alternative app name\n  -l DIR, --log DIR     directory to place process logs in\n  -p N, --port N        starting port number (default: 5000)\n  -c process=num,process=num, --concurrency process=num,process=num\n                        number of each process type to run.\n  -u USER, --user USER  user the application should run as\n  -s SHELL, --shell SHELL\n                        the shell that should run the application\n  -t DIR, --template-dir DIR\n                        directory to search for custom templates\n# touch Procfile\n# honcho export upstart myfile\nusage: honcho export [-h] [-e ENV] [-d DIR] [-f FILE] [-v] [-a APP] [-l DIR]\n                     [-p N] [-c process=num,process=num] [-u USER] [-s SHELL]\n                     [-t DIR]\n                     FORMAT LOCATION\nhoncho export: error: argument FORMAT: invalid choice: 'upstart' (choose from )\n# honcho -v\nhoncho 0.6.6\n```\n\n**Problem:** The basic exporters listed in `setup.py` aren't accessible.\n\n **Expected:** That exports are listed in `--help` and error message and that they are usable.\n\n**Additionals:** Please let me know if I'm doing anything wrong to get these to work.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/159", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/159/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/159/events", "html_url": "https://github.com/nickstenning/honcho/issues/159", "id": 103840247, "node_id": "MDU6SXNzdWUxMDM4NDAyNDc=", "number": 159, "title": "`honcho run` doesn't parse non-option arguments correctly", "user": {"login": "benwilber", "id": 165319, "node_id": "MDQ6VXNlcjE2NTMxOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/165319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benwilber", "html_url": "https://github.com/benwilber", "followers_url": "https://api.github.com/users/benwilber/followers", "following_url": "https://api.github.com/users/benwilber/following{/other_user}", "gists_url": "https://api.github.com/users/benwilber/gists{/gist_id}", "starred_url": "https://api.github.com/users/benwilber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benwilber/subscriptions", "organizations_url": "https://api.github.com/users/benwilber/orgs", "repos_url": "https://api.github.com/users/benwilber/repos", "events_url": "https://api.github.com/users/benwilber/events{/privacy}", "received_events_url": "https://api.github.com/users/benwilber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-08-29T08:46:42Z", "updated_at": "2016-02-28T21:24:26Z", "closed_at": "2016-02-28T21:24:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n$ honcho run -- make\n/bin/sh: --: invalid option\nUsage:  /bin/sh [GNU long option] [option] ...\n    /bin/sh [GNU long option] [option] script-file ...\n...\n```\n\nEverything after `--` should be considered the command (with arguments) to run.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/158", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/158/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/158/events", "html_url": "https://github.com/nickstenning/honcho/issues/158", "id": 103162385, "node_id": "MDU6SXNzdWUxMDMxNjIzODU=", "number": 158, "title": "systemd exporter", "user": {"login": "benwilber", "id": 165319, "node_id": "MDQ6VXNlcjE2NTMxOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/165319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benwilber", "html_url": "https://github.com/benwilber", "followers_url": "https://api.github.com/users/benwilber/followers", "following_url": "https://api.github.com/users/benwilber/following{/other_user}", "gists_url": "https://api.github.com/users/benwilber/gists{/gist_id}", "starred_url": "https://api.github.com/users/benwilber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benwilber/subscriptions", "organizations_url": "https://api.github.com/users/benwilber/orgs", "repos_url": "https://api.github.com/users/benwilber/repos", "events_url": "https://api.github.com/users/benwilber/events{/privacy}", "received_events_url": "https://api.github.com/users/benwilber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-08-26T03:14:31Z", "updated_at": "2016-02-28T21:25:08Z", "closed_at": "2016-02-28T21:25:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI recently published a [systemd export plugin](https://github.com/benwilber/honcho-export-systemd) for Honcho.  Since `systemd` is quickly becoming the dominant process manager on most GNU/Linux distros, does it make sense to open a PR to include support for this in Honcho itself?\n\nThanks,\nBen\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/155", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/155/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/155/events", "html_url": "https://github.com/nickstenning/honcho/issues/155", "id": 91268300, "node_id": "MDU6SXNzdWU5MTI2ODMwMA==", "number": 155, "title": "Commands are terminated with rc=-15 after first exits with 0; foreman works", "user": {"login": "flinz", "id": 97735, "node_id": "MDQ6VXNlcjk3NzM1", "avatar_url": "https://avatars0.githubusercontent.com/u/97735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flinz", "html_url": "https://github.com/flinz", "followers_url": "https://api.github.com/users/flinz/followers", "following_url": "https://api.github.com/users/flinz/following{/other_user}", "gists_url": "https://api.github.com/users/flinz/gists{/gist_id}", "starred_url": "https://api.github.com/users/flinz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flinz/subscriptions", "organizations_url": "https://api.github.com/users/flinz/orgs", "repos_url": "https://api.github.com/users/flinz/repos", "events_url": "https://api.github.com/users/flinz/events{/privacy}", "received_events_url": "https://api.github.com/users/flinz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-26T14:40:36Z", "updated_at": "2015-06-26T16:40:21Z", "closed_at": "2015-06-26T16:40:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to `start` this procfile:\n\n```\nnginx: nginx -c `pwd`/conf/nginx/nginx.conf\nuwsgi: uwsgi --ini conf/uwsgi/uwsgi.ini\n```\n\nand get the following behavior, where uwsgi exits with 0, then nginx is terminated by honcho.\n\n```\n16:37:49 system  | nginx.1 started (pid=16245)\n16:37:49 system  | uwsgi.1 started (pid=16246)\n16:37:49 uwsgi.1 | [uWSGI] getting INI configuration from conf/uwsgi/uwsgi.ini\n16:37:49 system  | uwsgi.1 stopped (rc=0)\n16:37:49 system  | sending SIGTERM to nginx.1 (pid 16245)\n16:37:49 system  | nginx.1 stopped (rc=-15)\n```\n\nIf I comment out one of the two lines, each works fine.\nAlso, foreman runs this without problems:\n\n```\n16:38:38 nginx.1 | started with pid 16259\n16:38:38 uwsgi.1 | started with pid 16260\n16:38:38 uwsgi.1 | [uWSGI] getting INI configuration from conf/uwsgi/uwsgi.ini\n16:38:38 uwsgi.1 | exited with code 0\n16:38:38 system  | sending SIGTERM to all processes\n16:38:38 nginx.1 | exited with code 0\n```\n\nBoth lines just start nginx and uwsgi daemons, which continue running for foreman, but not for honcho. Could this be due to the fact that both processes after starting daemons exit as soon as they are done?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/152", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/152/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/152/events", "html_url": "https://github.com/nickstenning/honcho/issues/152", "id": 88133146, "node_id": "MDU6SXNzdWU4ODEzMzE0Ng==", "number": 152, "title": "Found a Encoding traceback when running with honcho.", "user": {"login": "codeskyblue", "id": 3281689, "node_id": "MDQ6VXNlcjMyODE2ODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3281689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codeskyblue", "html_url": "https://github.com/codeskyblue", "followers_url": "https://api.github.com/users/codeskyblue/followers", "following_url": "https://api.github.com/users/codeskyblue/following{/other_user}", "gists_url": "https://api.github.com/users/codeskyblue/gists{/gist_id}", "starred_url": "https://api.github.com/users/codeskyblue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codeskyblue/subscriptions", "organizations_url": "https://api.github.com/users/codeskyblue/orgs", "repos_url": "https://api.github.com/users/codeskyblue/repos", "events_url": "https://api.github.com/users/codeskyblue/events{/privacy}", "received_events_url": "https://api.github.com/users/codeskyblue/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-14T06:38:30Z", "updated_at": "2016-02-28T21:27:26Z", "closed_at": "2016-02-28T21:27:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "![image](https://cloud.githubusercontent.com/assets/3281689/8147553/e9dc2186-12a2-11e5-980a-5980a8976305.png)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/151", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/151/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/151/events", "html_url": "https://github.com/nickstenning/honcho/issues/151", "id": 85805471, "node_id": "MDU6SXNzdWU4NTgwNTQ3MQ==", "number": 151, "title": "Exported upstart configuration silently fails with quoted variables", "user": {"login": "migurski", "id": 58730, "node_id": "MDQ6VXNlcjU4NzMw", "avatar_url": "https://avatars0.githubusercontent.com/u/58730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/migurski", "html_url": "https://github.com/migurski", "followers_url": "https://api.github.com/users/migurski/followers", "following_url": "https://api.github.com/users/migurski/following{/other_user}", "gists_url": "https://api.github.com/users/migurski/gists{/gist_id}", "starred_url": "https://api.github.com/users/migurski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/migurski/subscriptions", "organizations_url": "https://api.github.com/users/migurski/orgs", "repos_url": "https://api.github.com/users/migurski/repos", "events_url": "https://api.github.com/users/migurski/events{/privacy}", "received_events_url": "https://api.github.com/users/migurski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-06-06T19:38:29Z", "updated_at": "2016-04-10T11:09:13Z", "closed_at": "2016-04-10T11:09:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "At or near d8be8f4a8 (version 0.5.0), quoted variables in exported upstart scripts became invalid and fail silently. Previously, quoted `.env` variables with spaces generated upstart configurations with correctly-nested double and single quotes. This is an example generated by 84a1f7d (also version 0.5.0):\n\n```\nVAR=\"foo bar\"\n```\n\n```\nstart on starting things-stuff\nstop on stopping things-stuff\nrespawn\n\nexec su - migurski -s /bin/sh -c 'cd /home/migurski/things; export PORT=5000; export VAR=\"foo bar\"; python stuff.py >> /var/log/things/stuff-1.log 2>&1'\n```\n\nStarting at d8be8f4a8 and still in 0.6.6, the exported configuration from the configuration above began producing this invalid and failing upstart configuration, due to the single quotes:\n\n```\nstart on starting things-stuff\nstop on stopping things-stuff\nrespawn\n\nexec su - migurski -s /bin/sh -c 'cd /home/migurski/things;export VAR='foo bar';export PORT=5000;python stuff.py >> /var/log/things/stuff-1.log 2>&1'\n```\n\nHere are my Procfile and python script for testing:\n\n```\nstuff: python stuff.py\n```\n\n``` python\nfrom sys import stderr\nfrom os import environ\nfrom time import sleep\n\nwhile True:\n    print >> stderr, repr(environ['VAR'])\n    sleep(5)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/147", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/147/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/147/events", "html_url": "https://github.com/nickstenning/honcho/issues/147", "id": 71538703, "node_id": "MDU6SXNzdWU3MTUzODcwMw==", "number": 147, "title": "don't run on windows python 2.7", "user": {"login": "s-trooper", "id": 2750085, "node_id": "MDQ6VXNlcjI3NTAwODU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2750085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/s-trooper", "html_url": "https://github.com/s-trooper", "followers_url": "https://api.github.com/users/s-trooper/followers", "following_url": "https://api.github.com/users/s-trooper/following{/other_user}", "gists_url": "https://api.github.com/users/s-trooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/s-trooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/s-trooper/subscriptions", "organizations_url": "https://api.github.com/users/s-trooper/orgs", "repos_url": "https://api.github.com/users/s-trooper/repos", "events_url": "https://api.github.com/users/s-trooper/events{/privacy}", "received_events_url": "https://api.github.com/users/s-trooper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-28T09:47:15Z", "updated_at": "2016-04-10T11:24:47Z", "closed_at": "2016-04-10T11:24:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "seems know issue with python 2.7 but anyway, i hope to save time for another that will try this combination.\n\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"C:\\Python27\\Lib\\multiprocessing\\forking.py\", line 380, in main\n    prepare(preparation_data)\n  File \"C:\\Python27\\Lib\\multiprocessing\\forking.py\", line 488, in prepare\n    assert main_name not in sys.modules, main_name\nAssertionError: **main**\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/146", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/146/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/146/events", "html_url": "https://github.com/nickstenning/honcho/issues/146", "id": 67402104, "node_id": "MDU6SXNzdWU2NzQwMjEwNA==", "number": 146, "title": "Preserve colored output of subcommands in honcho start", "user": {"login": "Suor", "id": 284103, "node_id": "MDQ6VXNlcjI4NDEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/284103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suor", "html_url": "https://github.com/Suor", "followers_url": "https://api.github.com/users/Suor/followers", "following_url": "https://api.github.com/users/Suor/following{/other_user}", "gists_url": "https://api.github.com/users/Suor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suor/subscriptions", "organizations_url": "https://api.github.com/users/Suor/orgs", "repos_url": "https://api.github.com/users/Suor/repos", "events_url": "https://api.github.com/users/Suor/events{/privacy}", "received_events_url": "https://api.github.com/users/Suor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-04-09T16:41:27Z", "updated_at": "2016-02-28T21:04:20Z", "closed_at": "2016-02-28T21:04:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is my `Procfile`:\n\n```\nweb: ./manage.py runserver\ncelery: celery -A stargeo worker -l info\n```\n\nThen I run `honcho start` output colors from both `runserver` (e.g. 404) and `celery` (warnings) are stripped. Would be nice to see that.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/136", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/136/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/136/events", "html_url": "https://github.com/nickstenning/honcho/issues/136", "id": 58410486, "node_id": "MDU6SXNzdWU1ODQxMDQ4Ng==", "number": 136, "title": "\"honcho start\" gives no output", "user": {"login": "jlirochon", "id": 149293, "node_id": "MDQ6VXNlcjE0OTI5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/149293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlirochon", "html_url": "https://github.com/jlirochon", "followers_url": "https://api.github.com/users/jlirochon/followers", "following_url": "https://api.github.com/users/jlirochon/following{/other_user}", "gists_url": "https://api.github.com/users/jlirochon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlirochon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlirochon/subscriptions", "organizations_url": "https://api.github.com/users/jlirochon/orgs", "repos_url": "https://api.github.com/users/jlirochon/repos", "events_url": "https://api.github.com/users/jlirochon/events{/privacy}", "received_events_url": "https://api.github.com/users/jlirochon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-02-20T21:07:06Z", "updated_at": "2016-04-19T05:38:12Z", "closed_at": "2015-03-09T00:48:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n     $ honcho start\n     (...stalled here...)\n    ^C\n    22:00:48 system | web.1 started (pid=20863)\n    22:01:24 system | SIGINT received\n    22:01:24 system | sending SIGTERM to web.1 (pid 20863)\n    22:01:24 system | web.1 stopped (rc=-15)\n```\n\nBut, if I user PYTHONUNBUFFERED it works\n\n```\n    $ PYTHONUNBUFFERED=1 honcho start\n    22:02:10 system | web.1 started (pid=20877)\n    22:02:10 web.1  | serving on http://0.0.0.0:8080\n```\n\nSys info :\n\n```\n    $ uname -a\n    Darwin Juliens-MacBook-Pro.local 14.1.0 Darwin Kernel Version 14.1.0: Mon Dec 22 23:10:38 PST 2014; root:xnu-2782.10.72~2/RELEASE_X86_64 x86_64\n    $ python --version\n    Python 3.4.2\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/134", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/134/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/134/events", "html_url": "https://github.com/nickstenning/honcho/issues/134", "id": 58406452, "node_id": "MDU6SXNzdWU1ODQwNjQ1Mg==", "number": 134, "title": "honcho is not listed as python3 compatible", "user": {"login": "jlirochon", "id": 149293, "node_id": "MDQ6VXNlcjE0OTI5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/149293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlirochon", "html_url": "https://github.com/jlirochon", "followers_url": "https://api.github.com/users/jlirochon/followers", "following_url": "https://api.github.com/users/jlirochon/following{/other_user}", "gists_url": "https://api.github.com/users/jlirochon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlirochon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlirochon/subscriptions", "organizations_url": "https://api.github.com/users/jlirochon/orgs", "repos_url": "https://api.github.com/users/jlirochon/repos", "events_url": "https://api.github.com/users/jlirochon/events{/privacy}", "received_events_url": "https://api.github.com/users/jlirochon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-20T20:31:20Z", "updated_at": "2015-03-09T00:49:51Z", "closed_at": "2015-03-09T00:49:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://caniusepython3.com/project/honcho says honcho is not python3 compatible\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/132", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/132/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/132/events", "html_url": "https://github.com/nickstenning/honcho/issues/132", "id": 57121555, "node_id": "MDU6SXNzdWU1NzEyMTU1NQ==", "number": 132, "title": "After honcho 0.6 port should be a multiple of 1000", "user": {"login": "playpauseandstop", "id": 21325, "node_id": "MDQ6VXNlcjIxMzI1", "avatar_url": "https://avatars0.githubusercontent.com/u/21325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/playpauseandstop", "html_url": "https://github.com/playpauseandstop", "followers_url": "https://api.github.com/users/playpauseandstop/followers", "following_url": "https://api.github.com/users/playpauseandstop/following{/other_user}", "gists_url": "https://api.github.com/users/playpauseandstop/gists{/gist_id}", "starred_url": "https://api.github.com/users/playpauseandstop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/playpauseandstop/subscriptions", "organizations_url": "https://api.github.com/users/playpauseandstop/orgs", "repos_url": "https://api.github.com/users/playpauseandstop/repos", "events_url": "https://api.github.com/users/playpauseandstop/events{/privacy}", "received_events_url": "https://api.github.com/users/playpauseandstop/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-10T02:21:43Z", "updated_at": "2015-02-26T03:28:13Z", "closed_at": "2015-02-20T21:37:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I used honcho for a while and liked it ability to use custom base ports, so its no need to start base ports from multiple of 1000 as in foreman. \n\nBut after 0.6 release this changed and now I got something like:\n\n```\nPORT=8110 . venv/bin/activate && honcho start web -f ec2Procfile\n. venv/bin/activate && honcho start worker\nTraceback (most recent call last):\n  File \"/home/playpauseandstop/Projects/.../.../venv/bin/honcho\", line 11, in <module>\n    sys.exit(main())\n  File \"/home/playpauseandstop/Projects/.../.../venv/lib/python2.7/site-packages/honcho/command.py\", line 269, in main\n    COMMANDS[args.command](args)\n  File \"/home/playpauseandstop/Projects/.../.../venv/lib/python2.7/site-packages/honcho/command.py\", line 212, in command_start\n    port=port):\n  File \"/home/playpauseandstop/Projects/.../.../venv/lib/python2.7/site-packages/honcho/environ.py\", line 114, in expand_processes\n    assert port % 1000 == 0, \"port must be multiple of 1000\"\nAssertionError: port must be multiple of 1000\n```\n\nwhen try to start honcho on `8110` port. \n\nDo we really need mimicrify foreman here? Or can continue live with custom base ports?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/131", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/131/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/131/events", "html_url": "https://github.com/nickstenning/honcho/issues/131", "id": 56506446, "node_id": "MDU6SXNzdWU1NjUwNjQ0Ng==", "number": 131, "title": "Can't stop exported upstart service", "user": {"login": "gamb", "id": 293586, "node_id": "MDQ6VXNlcjI5MzU4Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/293586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gamb", "html_url": "https://github.com/gamb", "followers_url": "https://api.github.com/users/gamb/followers", "following_url": "https://api.github.com/users/gamb/following{/other_user}", "gists_url": "https://api.github.com/users/gamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gamb/subscriptions", "organizations_url": "https://api.github.com/users/gamb/orgs", "repos_url": "https://api.github.com/users/gamb/repos", "events_url": "https://api.github.com/users/gamb/events{/privacy}", "received_events_url": "https://api.github.com/users/gamb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-04T10:03:14Z", "updated_at": "2016-02-28T20:28:20Z", "closed_at": "2016-02-28T20:28:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a simple Procfile:\n\n`web: gunicorn myapp.wsgi --bind 0.0.0.0:$PORT --log-file -`\n\nExported to upstart with `honcho export -u deploy upstart /etc/init`. All good! `service myapp start` works fine, and `service myapp stop` appears to work, but upon inspecting `ps` I can see that the `gunicorn` proc. is still running.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/130", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/130/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/130/events", "html_url": "https://github.com/nickstenning/honcho/issues/130", "id": 56429319, "node_id": "MDU6SXNzdWU1NjQyOTMxOQ==", "number": 130, "title": "Please upload last code version to pip", "user": {"login": "rmuslimov", "id": 1150337, "node_id": "MDQ6VXNlcjExNTAzMzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1150337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmuslimov", "html_url": "https://github.com/rmuslimov", "followers_url": "https://api.github.com/users/rmuslimov/followers", "following_url": "https://api.github.com/users/rmuslimov/following{/other_user}", "gists_url": "https://api.github.com/users/rmuslimov/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmuslimov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmuslimov/subscriptions", "organizations_url": "https://api.github.com/users/rmuslimov/orgs", "repos_url": "https://api.github.com/users/rmuslimov/repos", "events_url": "https://api.github.com/users/rmuslimov/events{/privacy}", "received_events_url": "https://api.github.com/users/rmuslimov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-03T20:06:08Z", "updated_at": "2015-02-07T11:49:43Z", "closed_at": "2015-02-07T11:49:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm often get this kind of error in my local development. I also know that this already has been fixed in latest code on github. So, please upload this version to PIP.\n\n  File \"/Users/rmuslimov/envs/fokker/lib/python2.7/site-packages/honcho/printer.py\", line 22, in write\n    self.output.write(_new_args, *_kwargs)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\x87' in position 83: ordinal not in range(128)\n\nThanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/128", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/128/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/128/events", "html_url": "https://github.com/nickstenning/honcho/issues/128", "id": 54812588, "node_id": "MDU6SXNzdWU1NDgxMjU4OA==", "number": 128, "title": "Handle multiline strings in .env file", "user": {"login": "joshfriend", "id": 885137, "node_id": "MDQ6VXNlcjg4NTEzNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/885137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshfriend", "html_url": "https://github.com/joshfriend", "followers_url": "https://api.github.com/users/joshfriend/followers", "following_url": "https://api.github.com/users/joshfriend/following{/other_user}", "gists_url": "https://api.github.com/users/joshfriend/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshfriend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshfriend/subscriptions", "organizations_url": "https://api.github.com/users/joshfriend/orgs", "repos_url": "https://api.github.com/users/joshfriend/repos", "events_url": "https://api.github.com/users/joshfriend/events{/privacy}", "received_events_url": "https://api.github.com/users/joshfriend/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-01-19T21:08:59Z", "updated_at": "2015-03-17T14:57:19Z", "closed_at": "2015-03-16T22:21:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "see ddollar/foreman#250\n\nVery useful for working with keys/certs loaded from environment variables.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/127", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/127/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/127/events", "html_url": "https://github.com/nickstenning/honcho/issues/127", "id": 53955285, "node_id": "MDU6SXNzdWU1Mzk1NTI4NQ==", "number": 127, "title": "Pre-exec support? (related to virtualenvs)", "user": {"login": "mgrandi", "id": 802786, "node_id": "MDQ6VXNlcjgwMjc4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/802786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgrandi", "html_url": "https://github.com/mgrandi", "followers_url": "https://api.github.com/users/mgrandi/followers", "following_url": "https://api.github.com/users/mgrandi/following{/other_user}", "gists_url": "https://api.github.com/users/mgrandi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgrandi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgrandi/subscriptions", "organizations_url": "https://api.github.com/users/mgrandi/orgs", "repos_url": "https://api.github.com/users/mgrandi/repos", "events_url": "https://api.github.com/users/mgrandi/events{/privacy}", "received_events_url": "https://api.github.com/users/mgrandi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-10T11:22:17Z", "updated_at": "2015-01-15T21:27:24Z", "closed_at": "2015-01-15T21:27:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI am interested in using honcho, but my project uses a virtualenv. I searched around, and couldn't find anything in the documentation, but i did find that you posted [this in December](https://github.com/nickstenning/honcho/pull/75#issuecomment-65626567) , saying that you can just add the \"activate\" script to your Procfile and it should work\n\nWell, I tried, that, but it seems the problem is that honcho sees that the `source` command exits (running `source activate.sh` in bash), and therefore kills everything else. (This is also assuming that the jobs are started in order, which seems to be this case but i feel like it shouldn't be relied on.)\n\nmy proc file:  (mac os x 10.10 / python 3.4 if that matters)\n\n```\nvenv: source <SOURCE_PATH>/venv_dir/bin/activate\nldb_server: python3 server.py config.yaml\n```\n\nand that produces:\n\n```\nCorvidae:daemon_src markgrandi$ honcho start\n04:10:44 venv.1    | started with pid 10991\n04:10:44 ldb_server.1 | started with pid 10992\n04:10:44 venv.1    | process terminated\n04:10:44 system    | sending SIGTERM to all processes\n04:10:44 system    | sending SIGTERM to pid 10992\n04:10:44 ldb_server.1 | process terminated\n```\n\nSo since you said in the above linked bug report that you want to keep this language agnostic and therefore not really add 'specific support for virtualenvs', I propose adding something in the Procfile, or maybe a command switch that allows you to specify what should be run before and after honcho starts everything / kills everything.\n\n It would execute it, and when it exits, honcho knows it can start running everything in the Procfile (as it does now) normally, and when those all exit/are terminated,  honcho runs whatever is specified for 'post exec' (like running the 'deactivate' command for venvs). And this would also solve a potential race condition where its not specified anywhere that the honcho jobs are started in order, so to not have the possibility of the other jobs starting before they should. I do not know how this would effect the 'official' use case for Procfiles (heroku) and the exporting functionality\n\nI'm guessing theoretically my specific problem (activating the virtualenv) could be solved by manually putting the the ENV variables that virtualenv creates when you run the `activate` script, but that is cumbersome, and i feel a pre/post exec feature would be useful in other cases too.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/126", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/126/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/126/events", "html_url": "https://github.com/nickstenning/honcho/issues/126", "id": 53188884, "node_id": "MDU6SXNzdWU1MzE4ODg4NA==", "number": 126, "title": "Allow log format to be configurable", "user": {"login": "diwu1989", "id": 380950, "node_id": "MDQ6VXNlcjM4MDk1MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/380950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diwu1989", "html_url": "https://github.com/diwu1989", "followers_url": "https://api.github.com/users/diwu1989/followers", "following_url": "https://api.github.com/users/diwu1989/following{/other_user}", "gists_url": "https://api.github.com/users/diwu1989/gists{/gist_id}", "starred_url": "https://api.github.com/users/diwu1989/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diwu1989/subscriptions", "organizations_url": "https://api.github.com/users/diwu1989/orgs", "repos_url": "https://api.github.com/users/diwu1989/repos", "events_url": "https://api.github.com/users/diwu1989/events{/privacy}", "received_events_url": "https://api.github.com/users/diwu1989/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-31T15:37:36Z", "updated_at": "2015-02-07T23:56:06Z", "closed_at": "2015-02-07T23:56:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Allow the log format to be overridable.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/125", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/125/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/125/events", "html_url": "https://github.com/nickstenning/honcho/issues/125", "id": 52899930, "node_id": "MDU6SXNzdWU1Mjg5OTkzMA==", "number": 125, "title": "different behaviour of PORT environmental variable when running vs exporting to supervisord", "user": {"login": "driesdesmet", "id": 60802, "node_id": "MDQ6VXNlcjYwODAy", "avatar_url": "https://avatars3.githubusercontent.com/u/60802?v=4", "gravatar_id": "", "url": "https://api.github.com/users/driesdesmet", "html_url": "https://github.com/driesdesmet", "followers_url": "https://api.github.com/users/driesdesmet/followers", "following_url": "https://api.github.com/users/driesdesmet/following{/other_user}", "gists_url": "https://api.github.com/users/driesdesmet/gists{/gist_id}", "starred_url": "https://api.github.com/users/driesdesmet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/driesdesmet/subscriptions", "organizations_url": "https://api.github.com/users/driesdesmet/orgs", "repos_url": "https://api.github.com/users/driesdesmet/repos", "events_url": "https://api.github.com/users/driesdesmet/events{/privacy}", "received_events_url": "https://api.github.com/users/driesdesmet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-26T13:29:03Z", "updated_at": "2014-12-26T13:48:36Z", "closed_at": "2014-12-26T13:48:36Z", "author_association": "NONE", "active_lock_reason": null, "body": ".env:\n\n```\nPORT=8000 \n```\n\nProcfile:\n\n```\nweb: echo $PORT\n```\n\nThen, when starting:\n\n``` bash\nhoncho start\n14:11:19 system | web.1 started (pid=73996)\n14:11:19 web.1  | 8000\n4:11:19 system | web.1 stopped (rc=0)\n```\n\nI'd expect that when exporting to supervisord, the port number defined in .env would also get used, but it doesnt. It falls back to the default port 5000:\n\n``` bash\nhoncho export -l . . supervisord\ncat myproject.conf\n[program:myproject-web]\ncommand=/bin/sh -c 'echo $PORT'\nautostart=true\nautorestart=true\nstopsignal=QUIT\nstdout_logfile=./web-0.log\nstderr_logfile=./web-0.error.log\nuser=dries\ndirectory=/Users/dries/Dropbox (Urga)/src/myproject\nenvironment=PORT=\"5000\"\n\n[group:myproject]\nprograms=myproject-web\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/123", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/123/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/123/events", "html_url": "https://github.com/nickstenning/honcho/issues/123", "id": 52452190, "node_id": "MDU6SXNzdWU1MjQ1MjE5MA==", "number": 123, "title": "Default port behavior differs from Foreman", "user": {"login": "joeyespo", "id": 634573, "node_id": "MDQ6VXNlcjYzNDU3Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/634573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeyespo", "html_url": "https://github.com/joeyespo", "followers_url": "https://api.github.com/users/joeyespo/followers", "following_url": "https://api.github.com/users/joeyespo/following{/other_user}", "gists_url": "https://api.github.com/users/joeyespo/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeyespo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeyespo/subscriptions", "organizations_url": "https://api.github.com/users/joeyespo/orgs", "repos_url": "https://api.github.com/users/joeyespo/repos", "events_url": "https://api.github.com/users/joeyespo/events{/privacy}", "received_events_url": "https://api.github.com/users/joeyespo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1260370, "node_id": "MDU6TGFiZWwxMjYwMzcw", "url": "https://api.github.com/repos/nickstenning/honcho/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-19T06:28:21Z", "updated_at": "2015-02-08T00:24:16Z", "closed_at": "2015-02-08T00:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to use Honcho and Python 3 because Foreman was buggy with file handling, and I noticed some differences.\n\nI set up [this gist](https://gist.github.com/joeyespo/3c210b2b6504531bc230) to test and demonstrate the differences:\n- Foreman's port precedence is `-p option`, `.env file`, `PORT variable`, `default of 5000`\n- Honcho's port precedence is `.env file`, `PORT variable`, `-p option`, `default of 5000`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/122", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/122/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/122/events", "html_url": "https://github.com/nickstenning/honcho/issues/122", "id": 52397284, "node_id": "MDU6SXNzdWU1MjM5NzI4NA==", "number": 122, "title": "Issues with Python 2.7.9", "user": {"login": "rohitpaulk", "id": 3893573, "node_id": "MDQ6VXNlcjM4OTM1NzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3893573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rohitpaulk", "html_url": "https://github.com/rohitpaulk", "followers_url": "https://api.github.com/users/rohitpaulk/followers", "following_url": "https://api.github.com/users/rohitpaulk/following{/other_user}", "gists_url": "https://api.github.com/users/rohitpaulk/gists{/gist_id}", "starred_url": "https://api.github.com/users/rohitpaulk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rohitpaulk/subscriptions", "organizations_url": "https://api.github.com/users/rohitpaulk/orgs", "repos_url": "https://api.github.com/users/rohitpaulk/repos", "events_url": "https://api.github.com/users/rohitpaulk/events{/privacy}", "received_events_url": "https://api.github.com/users/rohitpaulk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-12-18T18:08:29Z", "updated_at": "2015-02-08T11:45:15Z", "closed_at": "2015-02-08T11:45:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "14 tests fail on Python 2.7.9, all are integration tests. \n\n```\n======================================================================\nFAIL: test_start_with_arg (honcho.test.integration.test_start.TestStart)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/paul/experiments/gratipay/honcho/honcho/test/integration/test_start.py\", line 24, in test_start_with_arg\n    self.assertEqual(ret, 0)\nAssertionError: 1 != 0\n\n======================================================================\nFAIL: test_start_with_arg_returncode (honcho.test.integration.test_start.TestStart)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/paul/experiments/gratipay/honcho/honcho/test/integration/test_start.py\", line 59, in test_start_with_arg_returncode\n    self.assertEqual(ret, 42)\nAssertionError: 1 != 42\n\n======================================================================\nFAIL: test_start_with_multiple_args (honcho.test.integration.test_start.TestStart)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/paul/experiments/gratipay/honcho/honcho/test/integration/test_start.py\", line 35, in test_start_with_multiple_args\n    self.assertEqual(ret, 0)\nAssertionError: 1 != 0\n\n======================================================================\nFAIL: test_unicode_decode_error (honcho.test.integration.test_unicode_decode.TestUnicodeDecode)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/paul/experiments/gratipay/honcho/honcho/test/integration/test_unicode_decode.py\", line 10, in test_unicode_decode_error\n    self.assertEqual(ret, 0)\nAssertionError: 1 != 0\n\n----------------------------------------------------------------------\nRan 86 tests in 6.461s\n\nFAILED (failures=14)\n```\n\nHoncho doesn't seem to be picking up the environment variables - we're having issues over at https://github.com/gratipay/gratipay.com/issues/3025#issuecomment-67515281\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/114", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/114/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/114/events", "html_url": "https://github.com/nickstenning/honcho/issues/114", "id": 50315866, "node_id": "MDU6SXNzdWU1MDMxNTg2Ng==", "number": 114, "title": "Remove coverage monkeypatch for measuring coverage across process boundaries", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-27T18:22:35Z", "updated_at": "2014-12-01T16:46:21Z", "closed_at": "2014-12-01T16:46:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This came up as an issue in dealing with #106.\n\nhttps://github.com/nickstenning/honcho/blob/9550461068ae792ed20083903d7fca97f2c010f0/honcho/test/unit/test_manager.py#L10\n\n@nedbat suspects that we can probably replace with something better after looking at http://nedbatchelder.com/code/coverage/subprocess.html\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/109", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/109/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/109/events", "html_url": "https://github.com/nickstenning/honcho/issues/109", "id": 50298125, "node_id": "MDU6SXNzdWU1MDI5ODEyNQ==", "number": 109, "title": "Differences between `foreman export supervisord` and `honcho export supervisord`", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-27T14:43:06Z", "updated_at": "2015-02-07T23:54:33Z", "closed_at": "2015-02-07T23:54:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Maybe some of the differences with [Foreman](https://github.com/ddollar/foreman) are intentional; some are not?\n\nJust going to catalog the differences for now.\n\n```\n[marca@marca-mac2 export_test]$ foreman export supervisord . -a myapp && mv myapp.conf foreman_myapp.conf\n[foreman export] writing: myapp.conf\n[marca@marca-mac2 export_test]$ honcho export supervisord . -a myapp && mv myapp.conf honcho_myapp.conf\n[marca@marca-mac2 export_test]$ diff -u foreman_myapp.conf honcho_myapp.conf\n```\n\n``` diff\ndiff --git a/foreman_myapp.conf b/honcho_myapp.conf\nindex cec5788..1733ae5 100644\n--- a/foreman_myapp.conf\n+++ b/honcho_myapp.conf\n@@ -1,14 +1,13 @@\n-\n-[program:myapp-ansvc-1]\n-command=bin/ansvc start\n+[program:myapp-ansvc]\n+command=/bin/sh -c 'bin/ansvc start'\n autostart=true\n autorestart=true\n stopsignal=QUIT\n-stdout_logfile=/var/log/myapp/ansvc-1.log\n-stderr_logfile=/var/log/myapp/ansvc-1.error.log\n-user=myapp\n+stdout_logfile=/var/log/myapp/ansvc-0.log\n+stderr_logfile=/var/log/myapp/ansvc-0.error.log\n+user=marca\n directory=/Users/marca/dev/git-repos/honcho/export_test\n environment=PORT=\"5000\"\n\n [group:myapp]\n-programs=myapp-ansvc-1\n+programs=myapp-ansvc\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/103", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/103/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/103/events", "html_url": "https://github.com/nickstenning/honcho/issues/103", "id": 50250855, "node_id": "MDU6SXNzdWU1MDI1MDg1NQ==", "number": 103, "title": "Export upstart: generates no newline at end of files", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-27T03:32:27Z", "updated_at": "2014-11-28T18:08:33Z", "closed_at": "2014-11-28T18:08:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I noticed while writing export integration tests (coming soon :smile:) that the exported upstart files might be missing a newline at the end. I fixed the same issue for supervisord files in https://github.com/nickstenning/honcho/pull/96\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/101", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/101/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/101/events", "html_url": "https://github.com/nickstenning/honcho/issues/101", "id": 50236034, "node_id": "MDU6SXNzdWU1MDIzNjAzNA==", "number": 101, "title": "Intermittent test failures on OS X", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-11-26T22:55:16Z", "updated_at": "2014-11-28T11:43:33Z", "closed_at": "2014-11-28T11:43:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I don't know yet if it has anything to do with OS X or my local system or if it's a bug in honcho, but I'm periodically getting test failures on the `master` branch:\n\n```\n\u276f tox -e py27\nGLOB sdist-make: /Users/marca/dev/git-repos/honcho/setup.py\npy27 inst-nodeps: /Users/marca/dev/git-repos/honcho/.tox/dist/honcho-0.5.0.zip\npy27 runtests: PYTHONHASHSEED='3869475230'\npy27 runtests: commands[0] | pip install -q -e .[export]\npy27 runtests: commands[1] | nosetests\n......FFF.............................................................................\n======================================================================\nFAIL: test_get_port_from_dot_env (honcho.test.integration.test_ports.TestPorts)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/marca/dev/git-repos/honcho/honcho/test/integration/test_ports.py\", line 40, in test_get_port_from_dot_env\n    self.assertRegexpMatches(out, r'web\\.1    \\| (....)?PORT=8000')\nAssertionError: Regexp didn't match: 'web\\\\.1    \\\\| (....)?PORT=8000' not found in '14:53:43 system   | es.1 started (pid=87007)\\n14:53:43 system   | worker.1 started (pid=87009)\\n14:53:43 system   | redis.1 started (pid=87010)\\n14:53:43 system   | web.1 started (pid=87011)\\n\\x1b[35m14:53:43 es.1     | \\x1b[0mPORT=8300\\n\\x1b[33m14:53:43 worker.1 | \\x1b[0mPORT=8100\\n14:53:43 system   | es.1 stopped (rc=0)\\n14:53:43 system   | sending SIGTERM to worker.1 (pid 87009)\\n14:53:43 system   | sending SIGTERM to redis.1 (pid 87010)\\n14:53:43 system   | sending SIGTERM to web.1 (pid 87011)\\n14:53:43 system   | worker.1 stopped (rc=-15)\\n14:53:43 system   | web.1 stopped (rc=-15)\\n14:53:43 system   | redis.1 stopped (rc=-15)\\n'\n\n======================================================================\nFAIL: test_get_port_from_env (honcho.test.integration.test_ports.TestPorts)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/marca/dev/git-repos/honcho/honcho/test/integration/test_ports.py\", line 50, in test_get_port_from_env\n    self.assertRegexpMatches(out, r'web\\.1    \\| (....)?PORT=3000')\nAssertionError: Regexp didn't match: 'web\\\\.1    \\\\| (....)?PORT=3000' not found in '14:53:44 system   | es.1 started (pid=87017)\\n14:53:44 system   | redis.1 started (pid=87020)\\n14:53:44 system   | worker.1 started (pid=87019)\\n\\x1b[35m14:53:44 es.1     | \\x1b[0mPORT=3300\\n14:53:44 system   | web.1 started (pid=87021)\\n14:53:44 system   | es.1 stopped (rc=0)\\n14:53:44 system   | sending SIGTERM to worker.1 (pid 87019)\\n14:53:44 system   | sending SIGTERM to redis.1 (pid 87020)\\n14:53:44 system   | sending SIGTERM to web.1 (pid 87021)\\n14:53:44 system   | web.1 stopped (rc=-15)\\n14:53:44 system   | worker.1 stopped (rc=-15)\\n14:53:44 system   | redis.1 stopped (rc=-15)\\n'\n\n======================================================================\nFAIL: test_proctype_increment (honcho.test.integration.test_ports.TestPorts)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/marca/dev/git-repos/honcho/honcho/test/integration/test_ports.py\", line 15, in test_proctype_increment\n    self.assertRegexpMatches(out, r'web\\.1    \\| (....)?PORT=5000')\nAssertionError: Regexp didn't match: 'web\\\\.1    \\\\| (....)?PORT=5000' not found in '14:53:44 system   | es.1 started (pid=87027)\\n14:53:44 system   | worker.1 started (pid=87028)\\n14:53:44 system   | redis.1 started (pid=87029)\\n14:53:44 system   | web.1 started (pid=87030)\\n\\x1b[35m14:53:44 es.1     | \\x1b[0mPORT=5300\\n\\x1b[33m14:53:44 worker.1 | \\x1b[0mPORT=5100\\n14:53:44 system   | es.1 stopped (rc=0)\\n14:53:44 system   | sending SIGTERM to worker.1 (pid 87028)\\n14:53:44 system   | sending SIGTERM to redis.1 (pid 87029)\\n14:53:44 system   | sending SIGTERM to web.1 (pid 87030)\\n14:53:44 system   | worker.1 stopped (rc=-15)\\n14:53:44 system   | redis.1 stopped (rc=-15)\\n14:53:44 system   | web.1 stopped (rc=-15)\\n'\n\n----------------------------------------------------------------------\nRan 86 tests in 6.038s\n\nFAILED (failures=3)\nERROR: InvocationError: '/Users/marca/dev/git-repos/honcho/.tox/py27/bin/nosetests'\n___________________________________________________________________________________ summary ____________________________________________________________________________________\nERROR:   py27: commands failed\n```\n\nIt's intermittent though. Sometimes all of the tests pass and sometimes 1-3 of them fail.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/98", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/98/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/98/events", "html_url": "https://github.com/nickstenning/honcho/issues/98", "id": 50230098, "node_id": "MDU6SXNzdWU1MDIzMDA5OA==", "number": 98, "title": "Docs for export options don't match `honcho help export`", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-26T21:40:59Z", "updated_at": "2015-03-09T00:56:06Z", "closed_at": "2015-03-09T00:56:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "https://honcho.readthedocs.org/en/latest/export.html has:\n\n```\n-s SHELL, --shell SHELL\n    Specify the shell that should run the application.\n    Only used for upstart.\n\n-u USER, --user USER\n    Specify the user the application should be run as.\n\n-a APP, --app APP\n    Specify the name of the application you are going to export.\n\n-c process=num,process=num, --concurrency process=num,process=num\n    Specify the number of each process type to run.\n\n-p N, --port N\n    Specify which port to use as the base for this application.\n    Should be a multiple of 1000.\n\n-l DIR, --log DIR\n    Specify the directory to place process logs in.\n```\n\nOTOH, the built-in help says:\n\n```\n$ honcho help export\n...\n  -a APP, --app APP     alternative app name (default: honcho)\n  -l DIR, --log DIR     directory to place process logs in (default:\n                        /var/log/APP)\n  -p N, --port N\n  -c process=num,process=num, --concurrency process=num,process=num\n                        number of each process type to run. (default: None)\n  -u USER, --user USER  user the application should run as (default: None)\n  -s SHELL, --shell SHELL\n                        the shell that should run the application (default:\n                        /bin/sh)\n```\n\nThey are close, but there are some subtle differences.\n- readthedocs says of `--shell`: \"Only used for upstart\" (which [isn't true](https://github.com/nickstenning/honcho/blob/master/honcho/data/export/supervisord/supervisord.conf#L3)). The help doesn't (more accurate).\n- The help doesn't have a description for the `-p`/`--port` option. readthedocs is better here (unless the \"Should be a multiple of 1000\" bit isn't true, which I didn't verify).\n- readthedocs version is more verbose. All option descriptions start with \"Specify...\"\n- listed in different order (this isn't so important, except that it makes it a little hard to check whether they match each other\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/91", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/91/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/91/events", "html_url": "https://github.com/nickstenning/honcho/issues/91", "id": 50212051, "node_id": "MDU6SXNzdWU1MDIxMjA1MQ==", "number": 91, "title": "honcho export takes arguments in reverse order of foreman export", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-26T18:24:48Z", "updated_at": "2014-11-26T22:01:20Z", "closed_at": "2014-11-26T22:01:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "- foreman takes `FORMAT` and then `LOCATION`.\n- honcho takes `LOCATION` and then `FORMAT`.\n\nAccidental or intentional?\n\n```\n[marca@marca-mac2 export_test]$ foreman help export | head -n 2\nUsage:\n  foreman export FORMAT LOCATION\n\n[marca@marca-mac2 export_test]$ honcho help export | head -n 4\nusage: honcho export [-h] [-e ENV] [-d APP_ROOT] [-f PROCFILE] [-v] [-a APP]\n                     [-l DIR] [-p N] [-c process=num,process=num] [-u USER]\n                     [-s SHELL]\n                     LOCATION FORMAT\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/90", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/90/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/90/events", "html_url": "https://github.com/nickstenning/honcho/issues/90", "id": 50210946, "node_id": "MDU6SXNzdWU1MDIxMDk0Ng==", "number": 90, "title": "Why does export require a log directory?", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-11-26T18:12:37Z", "updated_at": "2014-11-26T21:02:04Z", "closed_at": "2014-11-26T21:02:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Why does export require a log directory? It doesn't seem to do anything with it?\n\n```\n$ honcho export . supervisord\n[Errno 13] Permission denied: '/var/log/export_test'\n2014-11-26 10:11:06 [5971] [ERROR] Can not create /var/log/export_test\n\n$ honcho export . supervisord -l log.d\n\n$ ls -al log.d\ntotal 0\ndrwxr-xr-x+ 2 marca  staff   68 Nov 26 10:11 ./\ndrwxr-xr-x+ 5 marca  staff  170 Nov 26 10:11 ../\n```\n\nSo why does it need that log directory, if it doesn't write anything to it?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/88", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/88/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/88/events", "html_url": "https://github.com/nickstenning/honcho/issues/88", "id": 50202284, "node_id": "MDU6SXNzdWU1MDIwMjI4NA==", "number": 88, "title": "Add -t/--template option to honcho export", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-11-26T16:54:23Z", "updated_at": "2015-03-09T00:56:19Z", "closed_at": "2015-03-09T00:56:19Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It would be nice to be able to specify a custom [Jinja2](jinja.pocoo.org) template for `honcho export`.\n\nForeman docs mention a `-t/--template` option for specifying an erb template. Honcho could support the same option but use Jinja2 in place of erb.\n\nhttp://ddollar.github.io/foreman/#EXPORTING\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/79", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/79/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/79/events", "html_url": "https://github.com/nickstenning/honcho/issues/79", "id": 40506662, "node_id": "MDU6SXNzdWU0MDUwNjY2Mg==", "number": 79, "title": "Catch KeyboardInterrupt", "user": {"login": "simonluijk", "id": 63589, "node_id": "MDQ6VXNlcjYzNTg5", "avatar_url": "https://avatars0.githubusercontent.com/u/63589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simonluijk", "html_url": "https://github.com/simonluijk", "followers_url": "https://api.github.com/users/simonluijk/followers", "following_url": "https://api.github.com/users/simonluijk/following{/other_user}", "gists_url": "https://api.github.com/users/simonluijk/gists{/gist_id}", "starred_url": "https://api.github.com/users/simonluijk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simonluijk/subscriptions", "organizations_url": "https://api.github.com/users/simonluijk/orgs", "repos_url": "https://api.github.com/users/simonluijk/repos", "events_url": "https://api.github.com/users/simonluijk/events{/privacy}", "received_events_url": "https://api.github.com/users/simonluijk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1260370, "node_id": "MDU6TGFiZWwxMjYwMzcw", "url": "https://api.github.com/repos/nickstenning/honcho/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-08-18T16:33:07Z", "updated_at": "2014-10-16T10:25:50Z", "closed_at": "2014-10-16T10:25:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thank you for the great project.\n\nIf I run `honcho run python` then `Ctl+C` to exit python I get the following exception. The exception is just that KeyboardInterrupt is just not caught. But after that no output is sent to the terminal?\n\n```\nTraceback (most recent call last):\n  File \"/home/simon/.virtualenvs/default/bin/honcho\", line 9, in <module>\n    load_entry_point('honcho==0.5.0', 'console_scripts', 'honcho')()\n  File \"/home/simon/.virtualenvs/default/lib/python2.7/site-packages/honcho/command.py\", line 315, in main\n     app.parse()\n  File \"/home/simon/.virtualenvs/default/lib/python2.7/site-packages/honcho/command.py\", line 129, in parse\n    options.func(self, options)\n  File \"/home/simon/.virtualenvs/default/lib/python2.7/site-packages/honcho/command.py\", line 161, in run\n    p.wait()\n  File \"/usr/lib64/python2.7/subprocess.py\", line 1376, in wait\n    pid, sts = _eintr_retry_call(os.waitpid, self.pid, 0)\n  File \"/usr/lib64/python2.7/subprocess.py\", line 476, in _eintr_retry_call\n    return func(*args)\nKeyboardInterrupt\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/78", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/78/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/78/events", "html_url": "https://github.com/nickstenning/honcho/issues/78", "id": 40322890, "node_id": "MDU6SXNzdWU0MDMyMjg5MA==", "number": 78, "title": "Sending SIGINT to processes for graceful shutdown?", "user": {"login": "darkpixel", "id": 158380, "node_id": "MDQ6VXNlcjE1ODM4MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/158380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darkpixel", "html_url": "https://github.com/darkpixel", "followers_url": "https://api.github.com/users/darkpixel/followers", "following_url": "https://api.github.com/users/darkpixel/following{/other_user}", "gists_url": "https://api.github.com/users/darkpixel/gists{/gist_id}", "starred_url": "https://api.github.com/users/darkpixel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darkpixel/subscriptions", "organizations_url": "https://api.github.com/users/darkpixel/orgs", "repos_url": "https://api.github.com/users/darkpixel/repos", "events_url": "https://api.github.com/users/darkpixel/events{/privacy}", "received_events_url": "https://api.github.com/users/darkpixel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-08-15T04:54:13Z", "updated_at": "2014-08-17T21:55:39Z", "closed_at": "2014-08-15T16:29:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to get honcho to send SIGINT to child processes so they perform a graceful shutdown instead of SIGTERM?\n\nIn particular, Celery (http://www.celeryproject.org/) will respond to SIGINT (CTRL+C) by no longer accepting new tasks from the queue, letting the workers finish, and then shutting down gracefully.  When SIGTERM is sent, the processes immediately die.\n\nWould it be possible to have honcho do something similar--where you hit CTRL+C once and it sends SIGINT to the child processes, and if you hit CTRL+C a second time it switches to sending SIGTERM?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/77", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/77/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/77/events", "html_url": "https://github.com/nickstenning/honcho/issues/77", "id": 38876611, "node_id": "MDU6SXNzdWUzODg3NjYxMQ==", "number": 77, "title": "Running multiple instances of one command", "user": {"login": "dbr", "id": 509, "node_id": "MDQ6VXNlcjUwOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbr", "html_url": "https://github.com/dbr", "followers_url": "https://api.github.com/users/dbr/followers", "following_url": "https://api.github.com/users/dbr/following{/other_user}", "gists_url": "https://api.github.com/users/dbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbr/subscriptions", "organizations_url": "https://api.github.com/users/dbr/orgs", "repos_url": "https://api.github.com/users/dbr/repos", "events_url": "https://api.github.com/users/dbr/events{/privacy}", "received_events_url": "https://api.github.com/users/dbr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-07-28T10:04:52Z", "updated_at": "2014-07-28T12:16:16Z", "closed_at": "2014-07-28T10:21:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to run multiple instances of a command?\n\nWIth foreman I could run a command like `foreman web=2` or have a `.foreman` file containing `concurrency: web=2,bravo=1` - is there an equivalent with honcho?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/74", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/74/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/74/events", "html_url": "https://github.com/nickstenning/honcho/issues/74", "id": 37569662, "node_id": "MDU6SXNzdWUzNzU2OTY2Mg==", "number": 74, "title": "Exported supervisord conf doesn't handle environmental variables well", "user": {"login": "davepgreene", "id": 1459753, "node_id": "MDQ6VXNlcjE0NTk3NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1459753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davepgreene", "html_url": "https://github.com/davepgreene", "followers_url": "https://api.github.com/users/davepgreene/followers", "following_url": "https://api.github.com/users/davepgreene/following{/other_user}", "gists_url": "https://api.github.com/users/davepgreene/gists{/gist_id}", "starred_url": "https://api.github.com/users/davepgreene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davepgreene/subscriptions", "organizations_url": "https://api.github.com/users/davepgreene/orgs", "repos_url": "https://api.github.com/users/davepgreene/repos", "events_url": "https://api.github.com/users/davepgreene/events{/privacy}", "received_events_url": "https://api.github.com/users/davepgreene/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-10T14:47:44Z", "updated_at": "2015-02-07T23:53:07Z", "closed_at": "2015-02-07T23:53:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**System:**\nhttp://aws.amazon.com/amazon-linux-ami/\n\n**Steps to reproduce the bug:**\n`honcho -f Procfile -e .env export supervisord /etc/supervisord.d/app.conf`\n\n**Use case (in Procfile):**\n\n```\nweb: $VENV_HOME/bin/newrelic-admin run-program $VENV_HOME/bin/gunicorn -c $SRC_HOME/gunicorn.py wsgi:application\n```\n\nThe export command doesn't handle environmental variables found in the system `$ env` or the `.env` file loaded by `honcho`.\n\n> `command`\n> \n> The command that will be run when this program is started. The command can be either absolute (e.g. /path/to/programname) or relative (e.g. programname). If it is relative, the supervisord's environment $PATH will be searched for the executable. Programs can accept arguments, e.g. /path/to/program foo bar. The command line can use double quotes to group arguments with spaces in them to pass to the program, e.g. /path/to/program/name -p \"foo bar\". Note that the value of command may include Python string expressions, e.g. /path/to/programname --port=80%(process_num)02d might expand to /path/to/programname --port=8000 at runtime. String expressions are evaluated against a dictionary containing the keys group_name, host_node_name, process_num, program_name, here (the directory of the supervisord config file), and all **supervisord's environment variables prefixed with ENV_**.\n> --<cite>http://supervisord.org/configuration.html#program-x-section-values</cite>\n\nNote my emphasis.\n\n`honcho` should either expand environmental variables or prefix them with `ENV_` as per supervisord's documentation.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/73", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/73/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/73/events", "html_url": "https://github.com/nickstenning/honcho/issues/73", "id": 37567552, "node_id": "MDU6SXNzdWUzNzU2NzU1Mg==", "number": 73, "title": "Exported supervisord conf fails with certain characters in Procfile", "user": {"login": "davepgreene", "id": 1459753, "node_id": "MDQ6VXNlcjE0NTk3NTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1459753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davepgreene", "html_url": "https://github.com/davepgreene", "followers_url": "https://api.github.com/users/davepgreene/followers", "following_url": "https://api.github.com/users/davepgreene/following{/other_user}", "gists_url": "https://api.github.com/users/davepgreene/gists{/gist_id}", "starred_url": "https://api.github.com/users/davepgreene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davepgreene/subscriptions", "organizations_url": "https://api.github.com/users/davepgreene/orgs", "repos_url": "https://api.github.com/users/davepgreene/repos", "events_url": "https://api.github.com/users/davepgreene/events{/privacy}", "received_events_url": "https://api.github.com/users/davepgreene/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-10T14:28:07Z", "updated_at": "2016-04-10T11:23:57Z", "closed_at": "2016-04-10T11:23:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**System:**\nhttp://aws.amazon.com/amazon-linux-ami/\n\n**Steps to reproduce the bug:**\n`honcho export supervisord /etc/supervisord.d/app.conf`\n\n**Use case (in Procfile):**\n\n```\nscheduler: /home/user/project/virtual_env/bin/celery worker --beat --events --maxtasksperchild=1000 --hostname=scheduler.%h --app=webapp\n```\n\nThe export command doesn't add an extra `%` character to escape existing `%` characters per the supervisor documentation:\n\n> `environment`\n> \n> A list of key/value pairs in the form KEY=\"val\",KEY2=\"val2\" that will be placed in the supervisord process\u2019 environment (and as a result in all of its child process\u2019 environments). This option can include the value %(here)s, which expands to the directory in which the supervisord configuration file was found. Values containing non-alphanumeric characters should be quoted (e.g. KEY=\"val:123\",KEY2=\"val,456\"). Otherwise, quoting the values is optional but recommended. To escape percent characters, simply use two. (e.g. URI=\"/first%%20name\") Note that subprocesses will inherit the environment variables of the shell used to start supervisord except for the ones overridden here and within the program\u2019s environment option.\n> -- <cite>http://supervisord.org/configuration.html#supervisord-section-values</cite>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/67", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/67/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/67/events", "html_url": "https://github.com/nickstenning/honcho/issues/67", "id": 32906444, "node_id": "MDU6SXNzdWUzMjkwNjQ0NA==", "number": 67, "title": "Upstart exports the same port for every service", "user": {"login": "pepijndevos", "id": 168609, "node_id": "MDQ6VXNlcjE2ODYwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/168609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pepijndevos", "html_url": "https://github.com/pepijndevos", "followers_url": "https://api.github.com/users/pepijndevos/followers", "following_url": "https://api.github.com/users/pepijndevos/following{/other_user}", "gists_url": "https://api.github.com/users/pepijndevos/gists{/gist_id}", "starred_url": "https://api.github.com/users/pepijndevos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pepijndevos/subscriptions", "organizations_url": "https://api.github.com/users/pepijndevos/orgs", "repos_url": "https://api.github.com/users/pepijndevos/repos", "events_url": "https://api.github.com/users/pepijndevos/events{/privacy}", "received_events_url": "https://api.github.com/users/pepijndevos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-05-06T15:59:31Z", "updated_at": "2015-02-07T23:44:45Z", "closed_at": "2015-02-07T23:44:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "What can I say... my instances don't start because they al try to use the same port.\n\nIt just takes the base port given in the config and passes it to all templates.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/66", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/66/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/66/events", "html_url": "https://github.com/nickstenning/honcho/issues/66", "id": 32762786, "node_id": "MDU6SXNzdWUzMjc2Mjc4Ng==", "number": 66, "title": "Unicode error in printer.py", "user": {"login": "maikhoepfel", "id": 509427, "node_id": "MDQ6VXNlcjUwOTQyNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/509427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maikhoepfel", "html_url": "https://github.com/maikhoepfel", "followers_url": "https://api.github.com/users/maikhoepfel/followers", "following_url": "https://api.github.com/users/maikhoepfel/following{/other_user}", "gists_url": "https://api.github.com/users/maikhoepfel/gists{/gist_id}", "starred_url": "https://api.github.com/users/maikhoepfel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maikhoepfel/subscriptions", "organizations_url": "https://api.github.com/users/maikhoepfel/orgs", "repos_url": "https://api.github.com/users/maikhoepfel/repos", "events_url": "https://api.github.com/users/maikhoepfel/events{/privacy}", "received_events_url": "https://api.github.com/users/maikhoepfel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-05-04T06:36:18Z", "updated_at": "2014-08-06T15:12:17Z", "closed_at": "2014-08-06T15:12:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "This issue seems different from #54. I stumbled upon it investigating a downtime on my production site on Heroku; unfortunately have no idea what Honcho or waitress was trying to print. I'm using honcho 0.5.0.\n\n```\n2014-05-02 00:43:25.449719+00:00 heroku router - - at=error code=H13 desc=\"Connection closed without response\" method=GET path=/de/catalogue/hinterrad-kotfluegel-carbon-r-1200-gs-lc_476/?gclid=CNrU942BjL4CFdQgtAod41AALg host=www.bikepartsmarket.com request_id=6a08f961-87db-4270-b1cf-3d2a31109ad4 fwd=\"141.6.11.20/NX, 108.162.254.212/NX\" dyno=web.1 connect=1ms service=211ms status=503 bytes=0\n2014-05-02 00:43:25.408825+00:00 app web.1     - - Traceback (most recent call last):\n  File \"/app/.heroku/python/bin/honcho\", line 9, in <module>\n    load_entry_point('honcho==0.5.0', 'console_scripts', 'honcho')()\n  File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 315, in main\n    app.parse()\n  File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 129, in parse\n    options.func(self, options)\n  File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 197, in start\n    sys.exit(process_manager.loop())\n  File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/process.py\", line 118, in loop\n    print(line, end='', file=proc.printer)\n  File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/printer.py\", line 22, in write\n    self.output.write(*new_args, **kwargs)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xfc' in position 95: ordinal not in range(128)  \n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/64", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/64/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/64/events", "html_url": "https://github.com/nickstenning/honcho/issues/64", "id": 31679399, "node_id": "MDU6SXNzdWUzMTY3OTM5OQ==", "number": 64, "title": "Undocumented PORT behavior is surprising", "user": {"login": "kcarnold", "id": 21072, "node_id": "MDQ6VXNlcjIxMDcy", "avatar_url": "https://avatars2.githubusercontent.com/u/21072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kcarnold", "html_url": "https://github.com/kcarnold", "followers_url": "https://api.github.com/users/kcarnold/followers", "following_url": "https://api.github.com/users/kcarnold/following{/other_user}", "gists_url": "https://api.github.com/users/kcarnold/gists{/gist_id}", "starred_url": "https://api.github.com/users/kcarnold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kcarnold/subscriptions", "organizations_url": "https://api.github.com/users/kcarnold/orgs", "repos_url": "https://api.github.com/users/kcarnold/repos", "events_url": "https://api.github.com/users/kcarnold/events{/privacy}", "received_events_url": "https://api.github.com/users/kcarnold/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-04-16T21:01:19Z", "updated_at": "2015-02-07T23:41:24Z", "closed_at": "2015-02-07T23:41:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have one webserver that looks for PORT in its environment, and a few other processes that do bookkeeping with the database and so don't have a listening port. I converted a previous script that manually set PORT= in the webserver's environment over to Honcho, and I couldn't understand why the webserver wasn't listening on the port I specified.\n\nIt turns out that I was hitting the undocumented PORT management feature, and I understand the usefulness of that, and how it's there to match Foreman's behavior (which is also mostly undocumented). I just put the webserver first, and it works now. But having PORT change based on Procfile ordering was surprising.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/61", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/61/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/61/events", "html_url": "https://github.com/nickstenning/honcho/issues/61", "id": 29079714, "node_id": "MDU6SXNzdWUyOTA3OTcxNA==", "number": 61, "title": "Fix race condition in honcho output", "user": {"login": "nickstenning", "id": 3602, "node_id": "MDQ6VXNlcjM2MDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickstenning", "html_url": "https://github.com/nickstenning", "followers_url": "https://api.github.com/users/nickstenning/followers", "following_url": "https://api.github.com/users/nickstenning/following{/other_user}", "gists_url": "https://api.github.com/users/nickstenning/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickstenning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickstenning/subscriptions", "organizations_url": "https://api.github.com/users/nickstenning/orgs", "repos_url": "https://api.github.com/users/nickstenning/repos", "events_url": "https://api.github.com/users/nickstenning/events{/privacy}", "received_events_url": "https://api.github.com/users/nickstenning/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1260370, "node_id": "MDU6TGFiZWwxMjYwMzcw", "url": "https://api.github.com/repos/nickstenning/honcho/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-03-10T08:53:37Z", "updated_at": "2014-08-06T14:43:46Z", "closed_at": "2014-08-06T14:43:46Z", "author_association": "OWNER", "active_lock_reason": null, "body": "It seems like adding coverage instrumentation to our tests has exposed a race condition in our code: https://travis-ci.org/nickstenning/honcho/builds/20405233\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/56", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/56/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/56/events", "html_url": "https://github.com/nickstenning/honcho/issues/56", "id": 26825600, "node_id": "MDU6SXNzdWUyNjgyNTYwMA==", "number": 56, "title": "pdb experience is sub-par", "user": {"login": "chadwhitacre", "id": 134455, "node_id": "MDQ6VXNlcjEzNDQ1NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/134455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chadwhitacre", "html_url": "https://github.com/chadwhitacre", "followers_url": "https://api.github.com/users/chadwhitacre/followers", "following_url": "https://api.github.com/users/chadwhitacre/following{/other_user}", "gists_url": "https://api.github.com/users/chadwhitacre/gists{/gist_id}", "starred_url": "https://api.github.com/users/chadwhitacre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chadwhitacre/subscriptions", "organizations_url": "https://api.github.com/users/chadwhitacre/orgs", "repos_url": "https://api.github.com/users/chadwhitacre/repos", "events_url": "https://api.github.com/users/chadwhitacre/events{/privacy}", "received_events_url": "https://api.github.com/users/chadwhitacre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2014-02-03T18:41:33Z", "updated_at": "2015-02-07T23:40:20Z", "closed_at": "2015-02-07T23:40:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If I set PYTHONUNBUFFERED I can kind of use pdb, but it's less than ideal because the (Pdb) prompt isn't displayed until after I enter a command, and all output is prefixed with the timestamp/process indicator.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/55", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/55/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/55/events", "html_url": "https://github.com/nickstenning/honcho/issues/55", "id": 26823592, "node_id": "MDU6SXNzdWUyNjgyMzU5Mg==", "number": 55, "title": "support `run {target}`", "user": {"login": "chadwhitacre", "id": 134455, "node_id": "MDQ6VXNlcjEzNDQ1NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/134455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chadwhitacre", "html_url": "https://github.com/chadwhitacre", "followers_url": "https://api.github.com/users/chadwhitacre/followers", "following_url": "https://api.github.com/users/chadwhitacre/following{/other_user}", "gists_url": "https://api.github.com/users/chadwhitacre/gists{/gist_id}", "starred_url": "https://api.github.com/users/chadwhitacre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chadwhitacre/subscriptions", "organizations_url": "https://api.github.com/users/chadwhitacre/orgs", "repos_url": "https://api.github.com/users/chadwhitacre/repos", "events_url": "https://api.github.com/users/chadwhitacre/events{/privacy}", "received_events_url": "https://api.github.com/users/chadwhitacre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-02-03T18:12:41Z", "updated_at": "2014-02-10T21:18:50Z", "closed_at": "2014-02-05T12:59:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With foreman I can do `foreman run web` and it will dereference the command pointed to by `web` in my Procfile. It seems that honcho tries to interpret `web` as a shell command in its own right.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/51", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/51/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/51/events", "html_url": "https://github.com/nickstenning/honcho/issues/51", "id": 20279389, "node_id": "MDU6SXNzdWUyMDI3OTM4OQ==", "number": 51, "title": "Crash when printing to console with special characters.", "user": {"login": "TimotheeJeannin", "id": 1969368, "node_id": "MDQ6VXNlcjE5NjkzNjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1969368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimotheeJeannin", "html_url": "https://github.com/TimotheeJeannin", "followers_url": "https://api.github.com/users/TimotheeJeannin/followers", "following_url": "https://api.github.com/users/TimotheeJeannin/following{/other_user}", "gists_url": "https://api.github.com/users/TimotheeJeannin/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimotheeJeannin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimotheeJeannin/subscriptions", "organizations_url": "https://api.github.com/users/TimotheeJeannin/orgs", "repos_url": "https://api.github.com/users/TimotheeJeannin/repos", "events_url": "https://api.github.com/users/TimotheeJeannin/events{/privacy}", "received_events_url": "https://api.github.com/users/TimotheeJeannin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2013-09-30T17:54:17Z", "updated_at": "2015-02-17T07:02:55Z", "closed_at": "2013-11-26T22:36:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm experiencing crashes when Honcho tries to print to console with special characters:\n\n```\nTraceback (most recent call last):\nFile \"/app/.heroku/python/bin/honcho\", line 9, in <module>\n    load_entry_point('honcho==0.4.2', 'console_scripts', 'honcho')()\nFile \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 292, in main\n    app.parse()\nFile \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 129, in parse\n    options.func(self, options)\nFile \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 190, in start\n    sys.exit(process_manager.loop())\nFile \"/app/.heroku/python/lib/python2.7/site-packages/honcho/process.py\", line 114, in loop\nFile \"/app/.heroku/python/lib/python2.7/site-packages/honcho/printer.py\", line 22, in write\n```\n\nHere is a Stackoverflow question with more details:\n\nhttp://stackoverflow.com/questions/19100116/looks-like-logs-are-crashing-my-django-app\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/50", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/50/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/50/events", "html_url": "https://github.com/nickstenning/honcho/issues/50", "id": 19677192, "node_id": "MDU6SXNzdWUxOTY3NzE5Mg==", "number": 50, "title": "Stop pinning jinja2 versions", "user": {"login": "mbr", "id": 110577, "node_id": "MDQ6VXNlcjExMDU3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/110577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbr", "html_url": "https://github.com/mbr", "followers_url": "https://api.github.com/users/mbr/followers", "following_url": "https://api.github.com/users/mbr/following{/other_user}", "gists_url": "https://api.github.com/users/mbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbr/subscriptions", "organizations_url": "https://api.github.com/users/mbr/orgs", "repos_url": "https://api.github.com/users/mbr/repos", "events_url": "https://api.github.com/users/mbr/events{/privacy}", "received_events_url": "https://api.github.com/users/mbr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2013-09-18T12:26:23Z", "updated_at": "2013-11-26T13:35:16Z", "closed_at": "2013-11-26T13:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't get why jinja2==2.7 is pinned for honcho. Jinja2 isn't essential to typical noninteractive honcho operation (honcho start), afaik it's only used to generate the start scripts? So we're protecting against the scenario where a hapless sysadmin (like me) runs into a problem where Armin steathily released a new, broken jinja2 version that is not backwards compatible? When's that going to happen?\n\nIt may seem nice to have that extra perceived stability, but if this keeps up, we won't be able to use anything anymore, because libA wants foo==1.0.1 and libB wants foo==1.0.0.\n\nIn my case, pinning the version achieved the exact opposite of what was intended: Honcho just broke my heroku app, because it insisted on Jinja2==2.7, while 2.7.1 was installed (no magic, simply adding 'honcho' to the requirements). For some reason, Pip/setup.py did not resolve this properly, but I am highly annoyed at having to spend half an hour to track this down and fixing it by adding jinja2==2.7 to my _own_ setup.py just to make honcho happy.\n\nNote that honcho wasn't throwing errors, it was setuptools/distribute complaining of the requirements mismatch before even starting it.\n\nI haven't even seen a Jinja3 announced yet (and my guess is that the package might be named Jinja3 instead of Jinja2). So can we please just put this to Jinja2 >= 2.7, or just Jinja2?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/49", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/49/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/49/events", "html_url": "https://github.com/nickstenning/honcho/issues/49", "id": 19483482, "node_id": "MDU6SXNzdWUxOTQ4MzQ4Mg==", "number": 49, "title": "Supervisor export should expand command with environ variables", "user": {"login": "zbyte64", "id": 89620, "node_id": "MDQ6VXNlcjg5NjIw", "avatar_url": "https://avatars0.githubusercontent.com/u/89620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zbyte64", "html_url": "https://github.com/zbyte64", "followers_url": "https://api.github.com/users/zbyte64/followers", "following_url": "https://api.github.com/users/zbyte64/following{/other_user}", "gists_url": "https://api.github.com/users/zbyte64/gists{/gist_id}", "starred_url": "https://api.github.com/users/zbyte64/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zbyte64/subscriptions", "organizations_url": "https://api.github.com/users/zbyte64/orgs", "repos_url": "https://api.github.com/users/zbyte64/repos", "events_url": "https://api.github.com/users/zbyte64/events{/privacy}", "received_events_url": "https://api.github.com/users/zbyte64/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-09-14T00:47:25Z", "updated_at": "2014-04-10T12:22:08Z", "closed_at": "2014-04-10T12:22:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Exporting to upstart or doing run will work if you have a $PORT in your procfile expression but supervisord does not expand the command for you and thus will leave expressions like $PORT alone.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/38", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/38/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/38/events", "html_url": "https://github.com/nickstenning/honcho/issues/38", "id": 13011066, "node_id": "MDU6SXNzdWUxMzAxMTA2Ng==", "number": 38, "title": "Foreman incompatibility: nested Honcho not propagating stderr", "user": {"login": "acjay", "id": 1256382, "node_id": "MDQ6VXNlcjEyNTYzODI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1256382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acjay", "html_url": "https://github.com/acjay", "followers_url": "https://api.github.com/users/acjay/followers", "following_url": "https://api.github.com/users/acjay/following{/other_user}", "gists_url": "https://api.github.com/users/acjay/gists{/gist_id}", "starred_url": "https://api.github.com/users/acjay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acjay/subscriptions", "organizations_url": "https://api.github.com/users/acjay/orgs", "repos_url": "https://api.github.com/users/acjay/repos", "events_url": "https://api.github.com/users/acjay/events{/privacy}", "received_events_url": "https://api.github.com/users/acjay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-04-10T09:43:23Z", "updated_at": "2013-10-31T12:40:02Z", "closed_at": "2013-04-19T21:33:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm following the recipe here (http://www.radekdostal.com/content/heroku-running-multiple-python-processes-single-dyno-using-honcho) to run multiple processes in my worker dyno by calling Honcho in my main Procfile. I'm testing locally running Foreman on my main Procfile, which then invokes Honcho on a separate procfile. I've noticed that output from the inner procfile processes Honcho runs is not propagated to the main Foreman process. When using foreman instead for the inner procfile, I can see the nested output from the inner Foreman instance. \n\nSo the issue seems to be with the _inner_ honcho process. In particular, this seems to be happening when the inner procfile is running a Python script that writes to `stderr`, like using the `logging` module for output. Here's a minimal test case:\n\n_test.py_\n\n```\nimport time\nimport logging\nimport sys\n\nlogging.basicConfig()\nlogger = logging.getLogger(__name__)\n\nwhile True:\n    print 'Stdout message'\n    print >>sys.stderr,'Stderr message'\n    logger.warning('Logged message!')\n    time.sleep(2)\n```\n\n_TestProcfile_\n\n```\nworker: honcho start -f TestSubProcfile\n```\n\n_TestSubProcfile_\n\n```\nsubworker: python test.py\n```\n\nWhen running using either `honcho -f TestProcfile start` or `foreman -f TestProcfile start`, this is what I see:\n\n```\n11:40:07 worker.1 | started with pid 27447\n^CSIGINT received\n11:40:14 system   | sending SIGTERM to all processes\n11:40:14 system   | sending SIGTERM to pid 27447\n11:40:14 worker.1 | SIGINT received\n11:40:14 worker.1 | process terminated\n```\n\nBut if I change TestProcfile to run the inner process with Foreman instead with the line `worker: foreman start -f TestSubProcfile`, both commands correctly propagate output (with Python's `stdout` appearing to buffer in the nested process):\n\n```\n12:00:57 worker.1 | started with pid 27944\n12:00:57 worker.1 | 12:00:57 subworker.1 | started with pid 27945\n12:00:57 worker.1 | 12:00:57 subworker.1 | Stderr message\n12:00:57 worker.1 | 12:00:57 subworker.1 | WARNING:__main__:Logged message!\n12:00:59 worker.1 | 12:00:59 subworker.1 | Stderr message\n12:00:59 worker.1 | 12:00:59 subworker.1 | WARNING:__main__:Logged message!\n12:01:01 worker.1 | 12:01:01 subworker.1 | Stderr message\n12:01:01 worker.1 | 12:01:01 subworker.1 | WARNING:__main__:Logged message!\n^CSIGINT received\n12:01:03 system   | sending SIGTERM to all processes\nSIGTERM received\n12:01:03 worker.1 | SIGINT received\n12:01:03 worker.1 | 12:01:03 system      | sending SIGTERM to all processes\n12:01:03 worker.1 | SIGTERM received\n12:01:03 worker.1 | 12:01:03 subworker.1 | Stdout message\n12:01:03 worker.1 | 12:01:03 subworker.1 | terminated by SIGTERM\n12:01:03 worker.1 | 12:01:03 subworker.1 | Stdout message\n12:01:03 worker.1 | 12:01:03             | Stdout message\n12:01:03 worker.1 | 12:01:03             | Traceback (most recent call last):\n12:01:03 worker.1 | 12:01:03             |   File \"test.py\", line 12, in <module>\n12:01:03 worker.1 | 12:01:03             |     time.sleep(2)\n12:01:03 worker.1 | 12:01:03             | KeyboardInterrupt\n12:01:03 worker.1 | exited with code 0\n```\n\nReplacing the command `TestSubProcfile` with something that simply prints to the standard output, like `yes`, both a Foreman and Honcho inner process propagate output as expected, without buffering.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/35", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/35/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/35/events", "html_url": "https://github.com/nickstenning/honcho/issues/35", "id": 12845811, "node_id": "MDU6SXNzdWUxMjg0NTgxMQ==", "number": 35, "title": "The output of honcho looks weird", "user": {"login": "pombredanne", "id": 675997, "node_id": "MDQ6VXNlcjY3NTk5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/675997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pombredanne", "html_url": "https://github.com/pombredanne", "followers_url": "https://api.github.com/users/pombredanne/followers", "following_url": "https://api.github.com/users/pombredanne/following{/other_user}", "gists_url": "https://api.github.com/users/pombredanne/gists{/gist_id}", "starred_url": "https://api.github.com/users/pombredanne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pombredanne/subscriptions", "organizations_url": "https://api.github.com/users/pombredanne/orgs", "repos_url": "https://api.github.com/users/pombredanne/repos", "events_url": "https://api.github.com/users/pombredanne/events{/privacy}", "received_events_url": "https://api.github.com/users/pombredanne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-04-05T13:42:46Z", "updated_at": "2015-02-07T23:39:19Z", "closed_at": "2015-02-07T23:39:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For instance the weird control chars in this:\n\n```\n\u2190[36m15:27:19 es.1   | \u2190[0mstarted with pid 2952\n\u2190[33m15:27:19 task.1 | \u2190[0mstarted with pid 5012\n\u2190[32m15:27:19 web.1  | \u2190[0mstarted with pid 4640\n```\n\nIs this to color things in the shell? if so that would not port well to non-posix...\nIs this out of compatibility with Foreman?\nIs this something that could be optionally disabled with a command flag?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/34", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/34/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/34/events", "html_url": "https://github.com/nickstenning/honcho/issues/34", "id": 12845712, "node_id": "MDU6SXNzdWUxMjg0NTcxMg==", "number": 34, "title": "Windows-only bug", "user": {"login": "pombredanne", "id": 675997, "node_id": "MDQ6VXNlcjY3NTk5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/675997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pombredanne", "html_url": "https://github.com/pombredanne", "followers_url": "https://api.github.com/users/pombredanne/followers", "following_url": "https://api.github.com/users/pombredanne/following{/other_user}", "gists_url": "https://api.github.com/users/pombredanne/gists{/gist_id}", "starred_url": "https://api.github.com/users/pombredanne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pombredanne/subscriptions", "organizations_url": "https://api.github.com/users/pombredanne/orgs", "repos_url": "https://api.github.com/users/pombredanne/repos", "events_url": "https://api.github.com/users/pombredanne/events{/privacy}", "received_events_url": "https://api.github.com/users/pombredanne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-04-05T13:40:37Z", "updated_at": "2013-11-27T10:20:44Z", "closed_at": "2013-11-27T10:20:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I did hit this bug today: http://bugs.python.org/issue14252 \nwhich is also documented here I think:\nhttp://stackoverflow.com/questions/5573257/windowserror-error-5-access-is-denied-when-trying-to-kill-a-subprocess-pytho\nI will come with a patch to support the same approach patched in the main Python 2.7 regardless of the Python version\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/33", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/33/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/33/events", "html_url": "https://github.com/nickstenning/honcho/issues/33", "id": 12669732, "node_id": "MDU6SXNzdWUxMjY2OTczMg==", "number": 33, "title": "Honcho fails on Heroku because, USER variable is not set", "user": {"login": "dasty", "id": 411158, "node_id": "MDQ6VXNlcjQxMTE1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/411158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dasty", "html_url": "https://github.com/dasty", "followers_url": "https://api.github.com/users/dasty/followers", "following_url": "https://api.github.com/users/dasty/following{/other_user}", "gists_url": "https://api.github.com/users/dasty/gists{/gist_id}", "starred_url": "https://api.github.com/users/dasty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dasty/subscriptions", "organizations_url": "https://api.github.com/users/dasty/orgs", "repos_url": "https://api.github.com/users/dasty/repos", "events_url": "https://api.github.com/users/dasty/events{/privacy}", "received_events_url": "https://api.github.com/users/dasty/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-04-01T18:07:31Z", "updated_at": "2013-11-26T14:10:59Z", "closed_at": "2013-11-26T14:10:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tested version: 0.4.0\n\nSteps to reproduce: run Honcho on Heroku, for example by putting \"web: honcho -f ProcfileHoncho start\" into your Procfile and \"honcho==0.4.0\" into your requirements.txt.\n\nActual behaviour: following error message is printed into heroku log:\n\n```\n2013-04-01T17:31:29+00:00 heroku[web.1]: State changed from crashed to starting\n2013-04-01T17:31:48+00:00 heroku[web.1]: Starting process with command `honcho -f ProcfileHoncho start`\n2013-04-01T17:31:49+00:00 app[web.1]:     load_entry_point('honcho==0.4.0', 'console_scripts', 'honcho')()\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/pkg_resources.py\", line 337, in load_entry_point\n2013-04-01T17:31:49+00:00 app[web.1]:     return get_distribution(dist).load_entry_point(group, name)\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/pkg_resources.py\", line 2279, in load_entry_point\n2013-04-01T17:31:49+00:00 app[web.1]:     return ep.load()\n2013-04-01T17:31:49+00:00 app[web.1]: Traceback (most recent call last):\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/bin/honcho\", line 9, in <module>\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/pkg_resources.py\", line 1989, in load\n2013-04-01T17:31:49+00:00 app[web.1]:     entry = __import__(self.module_name, globals(),globals(), ['__name__'])\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 66, in <module>\n2013-04-01T17:31:49+00:00 app[web.1]:     class Honcho(object):\n2013-04-01T17:31:49+00:00 app[web.1]:     default=os.environ['USERNAME' if compat.ON_WINDOWS else 'USER'],\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/honcho/command.py\", line 205, in Honcho\n2013-04-01T17:31:49+00:00 app[web.1]:   File \"/app/.heroku/python/lib/python2.7/UserDict.py\", line 23, in __getitem__\n2013-04-01T17:31:49+00:00 app[web.1]:     raise KeyError(key)\n2013-04-01T17:31:49+00:00 app[web.1]: KeyError: 'USER'\n2013-04-01T17:31:50+00:00 heroku[web.1]: Process exited with status 1\n2013-04-01T17:31:50+00:00 heroku[web.1]: State changed from starting to crashed\n```\n\nExpected behaviour: tasks defined in ProcfileHoncho are started correctly\n\nTemporary workaround: define USER variable on heroku:\n\n```\nheroku config:set USER=heroku\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/29", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/29/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/29/events", "html_url": "https://github.com/nickstenning/honcho/issues/29", "id": 11614194, "node_id": "MDU6SXNzdWUxMTYxNDE5NA==", "number": 29, "title": "get_honcho_output in test.helpers seems to assume honcho is installed first", "user": {"login": "pombredanne", "id": 675997, "node_id": "MDQ6VXNlcjY3NTk5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/675997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pombredanne", "html_url": "https://github.com/pombredanne", "followers_url": "https://api.github.com/users/pombredanne/followers", "following_url": "https://api.github.com/users/pombredanne/following{/other_user}", "gists_url": "https://api.github.com/users/pombredanne/gists{/gist_id}", "starred_url": "https://api.github.com/users/pombredanne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pombredanne/subscriptions", "organizations_url": "https://api.github.com/users/pombredanne/orgs", "repos_url": "https://api.github.com/users/pombredanne/repos", "events_url": "https://api.github.com/users/pombredanne/events{/privacy}", "received_events_url": "https://api.github.com/users/pombredanne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-03-04T11:03:44Z", "updated_at": "2013-11-26T13:58:22Z", "closed_at": "2013-11-26T13:58:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "... which is kind of weird when running tests... \n\nCould we instead run the local python pointing to the honcho entry point rather than assuming that \"honcho\" as a command is available?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/28", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/28/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/28/events", "html_url": "https://github.com/nickstenning/honcho/issues/28", "id": 11338510, "node_id": "MDU6SXNzdWUxMTMzODUxMA==", "number": 28, "title": "Support Windows", "user": {"login": "pombredanne", "id": 675997, "node_id": "MDQ6VXNlcjY3NTk5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/675997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pombredanne", "html_url": "https://github.com/pombredanne", "followers_url": "https://api.github.com/users/pombredanne/followers", "following_url": "https://api.github.com/users/pombredanne/following{/other_user}", "gists_url": "https://api.github.com/users/pombredanne/gists{/gist_id}", "starred_url": "https://api.github.com/users/pombredanne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pombredanne/subscriptions", "organizations_url": "https://api.github.com/users/pombredanne/orgs", "repos_url": "https://api.github.com/users/pombredanne/repos", "events_url": "https://api.github.com/users/pombredanne/events{/privacy}", "received_events_url": "https://api.github.com/users/pombredanne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-02-24T19:13:28Z", "updated_at": "2013-03-05T13:28:14Z", "closed_at": "2013-03-05T13:28:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@nickstenning : Hi Nick! I am trying to revive this: https://github.com/nickstenning/honcho/pull/6\n\nYou wrote then \"If you can fix this (possibly by using signal and ignoring interrupts in the timer thread) I'll happily pull this in.\"\n==> How would you do this?\n\nAlso alternatively and more simply on Windows, could we just kill the processes abruptly with no timer/no alarm?\nThat could be good enough to get only part of the code that cannot run on Windows to work i.e. here https://github.com/nickstenning/honcho/blob/7f2cfa4f563e4597e131131d52727bfad6e05998/honcho/process.py#L167\ninstead of this code:\n\n```\n        signal.signal(signal.SIGALRM, kill)\n        signal.alarm(5)\n```\n\nwe could use something along these lines:\n\n```\n        if ON_POSIX:\n            signal.signal(signal.SIGALRM, kill)\n            signal.alarm(5)\n        else:\n            # SIGALRM is not supported on Windows: just kill instead\n            kill(None, None)\n```\n\n What do you think?\nlet me try and test it in the meantime... as there are likely several other areas in the code and tests where some posix assumptions are made\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/27", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/27/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/27/events", "html_url": "https://github.com/nickstenning/honcho/issues/27", "id": 11025872, "node_id": "MDU6SXNzdWUxMTAyNTg3Mg==", "number": 27, "title": "Scriptfile tor one-off scripts", "user": {"login": "mgax", "id": 27617, "node_id": "MDQ6VXNlcjI3NjE3", "avatar_url": "https://avatars2.githubusercontent.com/u/27617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgax", "html_url": "https://github.com/mgax", "followers_url": "https://api.github.com/users/mgax/followers", "following_url": "https://api.github.com/users/mgax/following{/other_user}", "gists_url": "https://api.github.com/users/mgax/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgax/subscriptions", "organizations_url": "https://api.github.com/users/mgax/orgs", "repos_url": "https://api.github.com/users/mgax/repos", "events_url": "https://api.github.com/users/mgax/events{/privacy}", "received_events_url": "https://api.github.com/users/mgax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-02-15T06:46:56Z", "updated_at": "2013-11-26T13:57:51Z", "closed_at": "2013-11-26T13:57:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`Procfile` lists long-running processes that make up the application. But what about one-off scripts like database migrations and cron jobs? I propose we define a new file, `Scriptfile`, with similar syntax as `Procfile`, to hold these:\n\n```\nsyncdb: ./manage.py syncdb\nmigrate: ./manage.py schemamigrations myapp\n```\n\nAnd you would call the scripts by name:\n\n```\nhoncho run migrate\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/22", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/22/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/22/events", "html_url": "https://github.com/nickstenning/honcho/issues/22", "id": 9941888, "node_id": "MDU6SXNzdWU5OTQxODg4", "number": 22, "title": "port 12 new pull requests from foreman", "user": {"login": "chadwhitacre", "id": 134455, "node_id": "MDQ6VXNlcjEzNDQ1NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/134455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chadwhitacre", "html_url": "https://github.com/chadwhitacre", "followers_url": "https://api.github.com/users/chadwhitacre/followers", "following_url": "https://api.github.com/users/chadwhitacre/following{/other_user}", "gists_url": "https://api.github.com/users/chadwhitacre/gists{/gist_id}", "starred_url": "https://api.github.com/users/chadwhitacre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chadwhitacre/subscriptions", "organizations_url": "https://api.github.com/users/chadwhitacre/orgs", "repos_url": "https://api.github.com/users/chadwhitacre/repos", "events_url": "https://api.github.com/users/chadwhitacre/events{/privacy}", "received_events_url": "https://api.github.com/users/chadwhitacre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-01-14T13:43:23Z", "updated_at": "2013-01-21T17:25:05Z", "closed_at": "2013-01-19T19:34:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not even sure what all they are, but yesterday there were 21 open [pull requests](https://github.com/ddollar/foreman/pulls) on foreman, and today there are 9. See also:\n\nhttps://twitter.com/whit537/status/290646577352171520\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/17", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/17/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/17/events", "html_url": "https://github.com/nickstenning/honcho/issues/17", "id": 8825064, "node_id": "MDU6SXNzdWU4ODI1MDY0", "number": 17, "title": "Nor .env or environment variable PORT is used as port", "user": {"login": "alej0varas", "id": 346508, "node_id": "MDQ6VXNlcjM0NjUwOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/346508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alej0varas", "html_url": "https://github.com/alej0varas", "followers_url": "https://api.github.com/users/alej0varas/followers", "following_url": "https://api.github.com/users/alej0varas/following{/other_user}", "gists_url": "https://api.github.com/users/alej0varas/gists{/gist_id}", "starred_url": "https://api.github.com/users/alej0varas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alej0varas/subscriptions", "organizations_url": "https://api.github.com/users/alej0varas/orgs", "repos_url": "https://api.github.com/users/alej0varas/repos", "events_url": "https://api.github.com/users/alej0varas/events{/privacy}", "received_events_url": "https://api.github.com/users/alej0varas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2012-11-29T19:21:56Z", "updated_at": "2020-06-11T09:29:46Z", "closed_at": "2012-12-05T21:43:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While environment variable PORT is set to 8000 or a .env file containing PORT=8000 exists, honcho still use 5000 as the port value.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/14", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/14/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/14/events", "html_url": "https://github.com/nickstenning/honcho/issues/14", "id": 8247832, "node_id": "MDU6SXNzdWU4MjQ3ODMy", "number": 14, "title": "`honcho run` stderr", "user": {"login": "mgax", "id": 27617, "node_id": "MDQ6VXNlcjI3NjE3", "avatar_url": "https://avatars2.githubusercontent.com/u/27617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgax", "html_url": "https://github.com/mgax", "followers_url": "https://api.github.com/users/mgax/followers", "following_url": "https://api.github.com/users/mgax/following{/other_user}", "gists_url": "https://api.github.com/users/mgax/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgax/subscriptions", "organizations_url": "https://api.github.com/users/mgax/orgs", "repos_url": "https://api.github.com/users/mgax/repos", "events_url": "https://api.github.com/users/mgax/events{/privacy}", "received_events_url": "https://api.github.com/users/mgax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-11-09T18:26:31Z", "updated_at": "2012-12-17T14:31:25Z", "closed_at": "2012-12-17T14:31:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like `honcho run` redirects `stderr` to `stdout`. This is problematic when `stderr` is used for logging and `stdout` writes some data you want to capture to a file. By contrast, foreman keeps the streams separate.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/13", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/13/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/13/events", "html_url": "https://github.com/nickstenning/honcho/issues/13", "id": 7971228, "node_id": "MDU6SXNzdWU3OTcxMjI4", "number": 13, "title": "Port number allocation differs from Foreman", "user": {"login": "mgax", "id": 27617, "node_id": "MDQ6VXNlcjI3NjE3", "avatar_url": "https://avatars2.githubusercontent.com/u/27617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgax", "html_url": "https://github.com/mgax", "followers_url": "https://api.github.com/users/mgax/followers", "following_url": "https://api.github.com/users/mgax/following{/other_user}", "gists_url": "https://api.github.com/users/mgax/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgax/subscriptions", "organizations_url": "https://api.github.com/users/mgax/orgs", "repos_url": "https://api.github.com/users/mgax/repos", "events_url": "https://api.github.com/users/mgax/events{/privacy}", "received_events_url": "https://api.github.com/users/mgax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-10-30T15:31:09Z", "updated_at": "2012-10-31T09:23:15Z", "closed_at": "2012-10-30T21:58:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Foreman ports:\n\n```\nweb.1    | 5000\nworker.1 | 5100\nredis.1  | 5200\nes.1     | 5300\n```\n\nHoncho ports:\n\n```\nweb.1    | 5000\nredis.1  | 6001\nworker.1 | 7002\nes.1     | 8003\n```\n\nSo there are three bugs to fix:\n1. Each process type should get only 100 ports, not 1000.\n2. The counter for allocating next port should be process-type-specific instead of global.\n3. Processes should be allocated port ranges in the order they appear in the Procfile.\n\nThis bug matters because, without stable port numbers, it's hard to configure process types to talk to each other.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/12", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/12/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/12/events", "html_url": "https://github.com/nickstenning/honcho/issues/12", "id": 7936780, "node_id": "MDU6SXNzdWU3OTM2Nzgw", "number": 12, "title": "`honcho run` captures arguments that begin with `-`", "user": {"login": "mgax", "id": 27617, "node_id": "MDQ6VXNlcjI3NjE3", "avatar_url": "https://avatars2.githubusercontent.com/u/27617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgax", "html_url": "https://github.com/mgax", "followers_url": "https://api.github.com/users/mgax/followers", "following_url": "https://api.github.com/users/mgax/following{/other_user}", "gists_url": "https://api.github.com/users/mgax/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgax/subscriptions", "organizations_url": "https://api.github.com/users/mgax/orgs", "repos_url": "https://api.github.com/users/mgax/repos", "events_url": "https://api.github.com/users/mgax/events{/privacy}", "received_events_url": "https://api.github.com/users/mgax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-10-29T14:02:48Z", "updated_at": "2012-12-16T15:32:38Z", "closed_at": "2012-12-16T15:32:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For example, the command `honcho run ./manage.py --version` fails because honcho tries to parse the `--version` argument instead of passing it on to `manage.py`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/10", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/10/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/10/events", "html_url": "https://github.com/nickstenning/honcho/issues/10", "id": 7714711, "node_id": "MDU6SXNzdWU3NzE0NzEx", "number": 10, "title": "Problems with certain process names", "user": {"login": "valstu", "id": 647861, "node_id": "MDQ6VXNlcjY0Nzg2MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/647861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/valstu", "html_url": "https://github.com/valstu", "followers_url": "https://api.github.com/users/valstu/followers", "following_url": "https://api.github.com/users/valstu/following{/other_user}", "gists_url": "https://api.github.com/users/valstu/gists{/gist_id}", "starred_url": "https://api.github.com/users/valstu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/valstu/subscriptions", "organizations_url": "https://api.github.com/users/valstu/orgs", "repos_url": "https://api.github.com/users/valstu/repos", "events_url": "https://api.github.com/users/valstu/events{/privacy}", "received_events_url": "https://api.github.com/users/valstu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-10-19T12:51:25Z", "updated_at": "2016-04-05T17:27:27Z", "closed_at": "2012-10-21T16:45:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used \"less-watcher\" as a process name and that process didn't start.\n\nAfter I changed the process name to \"lesswatcher\" everything worked well. So this happens when there's a dash on process name.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/7", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/7/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/7/events", "html_url": "https://github.com/nickstenning/honcho/issues/7", "id": 5731718, "node_id": "MDU6SXNzdWU1NzMxNzE4", "number": 7, "title": "How to launch the python smptd with honcho", "user": {"login": "mattions", "id": 96245, "node_id": "MDQ6VXNlcjk2MjQ1", "avatar_url": "https://avatars1.githubusercontent.com/u/96245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattions", "html_url": "https://github.com/mattions", "followers_url": "https://api.github.com/users/mattions/followers", "following_url": "https://api.github.com/users/mattions/following{/other_user}", "gists_url": "https://api.github.com/users/mattions/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattions/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattions/subscriptions", "organizations_url": "https://api.github.com/users/mattions/orgs", "repos_url": "https://api.github.com/users/mattions/repos", "events_url": "https://api.github.com/users/mattions/events{/privacy}", "received_events_url": "https://api.github.com/users/mattions/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-07-20T07:37:49Z", "updated_at": "2013-06-25T07:56:02Z", "closed_at": "2012-10-21T16:47:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI've tried to use honcho to start the dummy python smptd server, however I'm not able to get it working.\n\nthe Procfile looks like:\n\n```\nsmtp: python -m smtpd -n -c DebuggingServer localhost:1025\n```\n\nThe system seems to start with no complain, but no mail gets printed on the console when sent. If I write the same line n the console, everything works properly.\n\nAny idea why?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/5", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/5/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/5/events", "html_url": "https://github.com/nickstenning/honcho/issues/5", "id": 5504115, "node_id": "MDU6SXNzdWU1NTA0MTE1", "number": 5, "title": "Windows Support", "user": {"login": "kiall", "id": 52713, "node_id": "MDQ6VXNlcjUyNzEz", "avatar_url": "https://avatars3.githubusercontent.com/u/52713?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiall", "html_url": "https://github.com/kiall", "followers_url": "https://api.github.com/users/kiall/followers", "following_url": "https://api.github.com/users/kiall/following{/other_user}", "gists_url": "https://api.github.com/users/kiall/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiall/subscriptions", "organizations_url": "https://api.github.com/users/kiall/orgs", "repos_url": "https://api.github.com/users/kiall/repos", "events_url": "https://api.github.com/users/kiall/events{/privacy}", "received_events_url": "https://api.github.com/users/kiall/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-07-09T17:33:32Z", "updated_at": "2012-08-04T22:44:16Z", "closed_at": "2012-08-04T22:44:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Heya - A few of my co-workers are on Windows, having them being able to use Honcho too would be great!\n\nThe only blocker I can see is the use of `SIGALARM` in process.py.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/nickstenning/honcho/issues/1", "repository_url": "https://api.github.com/repos/nickstenning/honcho", "labels_url": "https://api.github.com/repos/nickstenning/honcho/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/nickstenning/honcho/issues/1/comments", "events_url": "https://api.github.com/repos/nickstenning/honcho/issues/1/events", "html_url": "https://github.com/nickstenning/honcho/issues/1", "id": 4222899, "node_id": "MDU6SXNzdWU0MjIyODk5", "number": 1, "title": "Processes not always killed on exit", "user": {"login": "jamescasbon", "id": 97495, "node_id": "MDQ6VXNlcjk3NDk1", "avatar_url": "https://avatars3.githubusercontent.com/u/97495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamescasbon", "html_url": "https://github.com/jamescasbon", "followers_url": "https://api.github.com/users/jamescasbon/followers", "following_url": "https://api.github.com/users/jamescasbon/following{/other_user}", "gists_url": "https://api.github.com/users/jamescasbon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamescasbon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamescasbon/subscriptions", "organizations_url": "https://api.github.com/users/jamescasbon/orgs", "repos_url": "https://api.github.com/users/jamescasbon/repos", "events_url": "https://api.github.com/users/jamescasbon/events{/privacy}", "received_events_url": "https://api.github.com/users/jamescasbon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2012-04-21T10:49:48Z", "updated_at": "2015-07-27T10:44:57Z", "closed_at": "2012-06-08T10:58:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ocassionally, I am left with all the child processes still running when honcho exits.\n\nCan you be a bit more careful to term the processes?\n", "performed_via_github_app": null, "score": 1.0}]}