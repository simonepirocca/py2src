{"total_count": 994, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pypa/virtualenv/issues/1914", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1914/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1914/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1914/events", "html_url": "https://github.com/pypa/virtualenv/issues/1914", "id": 672919413, "node_id": "MDU6SXNzdWU2NzI5MTk0MTM=", "number": 1914, "title": "pip 2.20 included in v20.0.29 breaks checking if package with dotted name is installed", "user": {"login": "elfosardo", "id": 13394161, "node_id": "MDQ6VXNlcjEzMzk0MTYx", "avatar_url": "https://avatars1.githubusercontent.com/u/13394161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elfosardo", "html_url": "https://github.com/elfosardo", "followers_url": "https://api.github.com/users/elfosardo/followers", "following_url": "https://api.github.com/users/elfosardo/following{/other_user}", "gists_url": "https://api.github.com/users/elfosardo/gists{/gist_id}", "starred_url": "https://api.github.com/users/elfosardo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elfosardo/subscriptions", "organizations_url": "https://api.github.com/users/elfosardo/orgs", "repos_url": "https://api.github.com/users/elfosardo/repos", "events_url": "https://api.github.com/users/elfosardo/events{/privacy}", "received_events_url": "https://api.github.com/users/elfosardo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-04T16:24:25Z", "updated_at": "2020-08-04T17:07:32Z", "closed_at": "2020-08-04T17:01:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nExpected behaviour:\r\nWhen installing a package in a virtualenv with a minimum version required, for example pip install oslo.config>=5.2.0, if that package is installed and already satisfies the minimum version required, it should not be upgraded. This works fine until v20.0.28 with pip 20.1.1\r\n\r\nWith v20.0.29, which embeds pip 20.2, this behaviour is broken with packages that contains a dot in their name.\r\nPlease also see https://github.com/pypa/pip/issues/8645 for more information.\r\n\r\nThe fix is included in pip 20.2.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1908", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1908/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1908/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1908/events", "html_url": "https://github.com/pypa/virtualenv/issues/1908", "id": 665333058, "node_id": "MDU6SXNzdWU2NjUzMzMwNTg=", "number": 1908, "title": "Unable to create virtualenv for Jython 2.7.1", "user": {"login": "electricsam", "id": 6004777, "node_id": "MDQ6VXNlcjYwMDQ3Nzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6004777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/electricsam", "html_url": "https://github.com/electricsam", "followers_url": "https://api.github.com/users/electricsam/followers", "following_url": "https://api.github.com/users/electricsam/following{/other_user}", "gists_url": "https://api.github.com/users/electricsam/gists{/gist_id}", "starred_url": "https://api.github.com/users/electricsam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/electricsam/subscriptions", "organizations_url": "https://api.github.com/users/electricsam/orgs", "repos_url": "https://api.github.com/users/electricsam/repos", "events_url": "https://api.github.com/users/electricsam/events{/privacy}", "received_events_url": "https://api.github.com/users/electricsam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-24T18:10:04Z", "updated_at": "2020-07-24T18:25:15Z", "closed_at": "2020-07-24T18:13:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nI need to support Python 2.7, specifically Jython.  When I run virtualenv directly or through pyenv virtualenv, I get the following error:\r\n```\r\n RuntimeError: No virtualenv implementation for PythonInfo(spec=Jython2.7.1.final.0-32, exe=/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython, platform=java1.8.0_202, version=u'2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43) \\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)]', encoding_fs_io=utf-8-UTF-8)\r\n```\r\n\r\n**Environment**\r\n\r\n- OS: macOS 10.15.5\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n```\r\n$ pip list\r\nPackage             Version\r\n------------------- -----------\r\nappdirs             1.4.4\r\nconfigparser        4.0.2\r\ncontextlib2         0.6.0.post1\r\ndistlib             0.3.1\r\nfilelock            3.0.12\r\nimportlib-metadata  1.7.0\r\nimportlib-resources 3.0.0\r\npathlib2            2.3.5\r\npip                 20.1.1\r\nscandir             1.10.0\r\nsetuptools          28.8.0\r\nsingledispatch      3.4.0.3\r\nsix                 1.15.0\r\ntyping              3.7.4.3\r\nvirtualenv          20.0.28\r\nzipp                1.2.0\r\n```\r\n\r\n```console\r\n$ python --version\r\nJython 2.7.1\r\n```\r\n\r\n\r\n**Output of the virtual environment creation**\r\n\r\n  ```console\r\n$ python -m virtualenv venv -vvv --with-traceback\r\n/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/filelock.py:451: UserWarning: only soft file lock is available\r\n  warnings.warn(\"only soft file lock is available\")\r\n3101 setup logging to NOTSET [DEBUG report:43]\r\n3263 find interpreter for spec PythonSpec(path=/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython) [INFO builtin:44]\r\n3266 proposed PythonInfo({'exec_prefix': u'/Users/cslater/.pyenv/versions/jython-2.7.1', 'distutils_install': {u'headers': u'Include/UNKNOWN', u'platlib': u'Lib/site-packages', u'data': u'', u'purelib': u'Lib/site-packages', u'scripts': u'bin'}, 'prefix': u'/Users/cslater/.pyenv/versions/jython-2.7.1', 'system_stdlib_platform': u'/Users/cslater/.pyenv/versions/jython-2.7.1/lib/jython', 'platform': u'java1.8.0_202', 'real_prefix': None, 'path': [u'', u'/Users/cslater/.pyenv/versions/jython-2.7.1/Lib', u'__classpath__', u'__pyclasspath__/', u'/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages'], 'file_system_encoding': u'utf-8', 'sysconfig': {u'makefile_filename': u'/Users/cslater/.pyenv/versions/jython-2.7.1/lib/jython/config/Makefile'}, 'has_venv': False, 'sysconfig_paths': {u'include': u'{base}/include/jython', u'platlib': u'{base}/lib/jython', u'data': u'{base}', u'platstdlib': u'{base}/lib/jython', u'stdlib': u'{base}/lib/jython', u'purelib': u'{base}/lib/jython', u'scripts': u'{base}/bin'}, 'architecture': 32, 'original_executable': u'/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython', 'os': u'java', 'system_stdlib': u'/Users/cslater/.pyenv/versions/jython-2.7.1/lib/jython', 'implementation': u'Jython', 'base_exec_prefix': None, 'version_info': VersionInfo(major=2, minor=7, micro=1, releaselevel=u'final', serial=0), 'version': u'2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43) \\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)]', 'executable': '/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython', 'max_size': 2147483647, 'stdout_encoding': u'UTF-8', 'system_executable': u'/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython', 'sysconfig_vars': {u'PYTHONFRAMEWORK': u'', u'base': u'/Users/cslater/.pyenv/versions/jython-2.7.1'}, 'base_prefix': None}) [INFO builtin:50]\r\n3269 accepted PythonInfo({'exec_prefix': u'/Users/cslater/.pyenv/versions/jython-2.7.1', 'distutils_install': {u'headers': u'Include/UNKNOWN', u'platlib': u'Lib/site-packages', u'data': u'', u'purelib': u'Lib/site-packages', u'scripts': u'bin'}, 'prefix': u'/Users/cslater/.pyenv/versions/jython-2.7.1', 'system_stdlib_platform': u'/Users/cslater/.pyenv/versions/jython-2.7.1/lib/jython', 'platform': u'java1.8.0_202', 'real_prefix': None, 'path': [u'', u'/Users/cslater/.pyenv/versions/jython-2.7.1/Lib', u'__classpath__', u'__pyclasspath__/', u'/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages'], 'file_system_encoding': u'utf-8', 'sysconfig': {u'makefile_filename': u'/Users/cslater/.pyenv/versions/jython-2.7.1/lib/jython/config/Makefile'}, 'has_venv': False, 'sysconfig_paths': {u'include': u'{base}/include/jython', u'platlib': u'{base}/lib/jython', u'data': u'{base}', u'platstdlib': u'{base}/lib/jython', u'stdlib': u'{base}/lib/jython', u'purelib': u'{base}/lib/jython', u'scripts': u'{base}/bin'}, 'architecture': 32, 'original_executable': u'/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython', 'os': u'java', 'system_stdlib': u'/Users/cslater/.pyenv/versions/jython-2.7.1/lib/jython', 'implementation': u'Jython', 'base_exec_prefix': None, 'version_info': VersionInfo(major=2, minor=7, micro=1, releaselevel=u'final', serial=0), 'version': u'2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43) \\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)]', 'executable': '/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython', 'max_size': 2147483647, 'stdout_encoding': u'UTF-8', 'system_executable': u'/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython', 'sysconfig_vars': {u'PYTHONFRAMEWORK': u'', u'base': u'/Users/cslater/.pyenv/versions/jython-2.7.1'}, 'base_prefix': None}) [DEBUG builtin:52]\r\n3309 filesystem is not case-sensitive [DEBUG info:28]\r\nTraceback (most recent call last):\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/runpy.py\", line 161, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/__main__.py\", line 77, in <module>\r\n    run_with_catch()  # pragma: no cov\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/__main__.py\", line 62, in run_with_catch\r\n    run(args, options)\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/__main__.py\", line 16, in run\r\n    session = cli_run(args, options)\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/__main__.py\", line 16, in run\r\n    session = cli_run(args, options)\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/run/__init__.py\", line 26, in cli_run\r\n    of_session = session_via_cli(args, options, setup_logging)\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/run/__init__.py\", line 42, in session_via_cli\r\n    parser, elements = build_parser(args, options, setup_logging)\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/run/__init__.py\", line 67, in build_parser\r\n    elements = [\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/run/plugin/creators.py\", line 15, in __init__\r\n    creators, self.key_to_meta, self.describe, self.builtin_key = self.for_interpreter(interpreter)\r\n  File \"/Users/cslater/.pyenv/versions/jython-2.7.1/Lib/site-packages/virtualenv/run/plugin/creators.py\", line 46, in for_interpreter\r\n    raise RuntimeError(\"No virtualenv implementation for {}\".format(interpreter))\r\nRuntimeError: No virtualenv implementation for PythonInfo(spec=Jython2.7.1.final.0-32, exe=/Users/cslater/.pyenv/versions/jython-2.7.1/bin/jython, platform=java1.8.0_202, version=u'2.7.1 (default:0df7adb1b397, Jun 30 2017, 19:02:43) \\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)]', encoding_fs_io=utf-8-UTF-8)\r\n\r\n  ```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1907", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1907/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1907/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1907/events", "html_url": "https://github.com/pypa/virtualenv/issues/1907", "id": 665218557, "node_id": "MDU6SXNzdWU2NjUyMTg1NTc=", "number": 1907, "title": "Alpine: ERROR: Cannot uninstall 'distlib' 0.3.0", "user": {"login": "hugovk", "id": 1324225, "node_id": "MDQ6VXNlcjEzMjQyMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugovk", "html_url": "https://github.com/hugovk", "followers_url": "https://api.github.com/users/hugovk/followers", "following_url": "https://api.github.com/users/hugovk/following{/other_user}", "gists_url": "https://api.github.com/users/hugovk/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugovk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugovk/subscriptions", "organizations_url": "https://api.github.com/users/hugovk/orgs", "repos_url": "https://api.github.com/users/hugovk/repos", "events_url": "https://api.github.com/users/hugovk/events{/privacy}", "received_events_url": "https://api.github.com/users/hugovk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-24T14:46:47Z", "updated_at": "2020-07-24T15:18:39Z", "closed_at": "2020-07-24T15:18:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nOn Alpine, installation of newest virtualenv 20.0.28 fails:\r\n\r\n```\r\nCollecting virtualenv\r\n  Downloading virtualenv-20.0.28-py2.py3-none-any.whl (4.9 MB)\r\nRequirement already satisfied: appdirs<2,>=1.4.3 in /usr/lib/python3.8/site-packages (from virtualenv) (1.4.4)\r\nRequirement already satisfied: six<2,>=1.9.0 in /usr/lib/python3.8/site-packages (from virtualenv) (1.15.0)\r\nCollecting filelock<4,>=3.0.0\r\n  Downloading filelock-3.0.12-py3-none-any.whl (7.6 kB)\r\nCollecting distlib<1,>=0.3.1\r\n  Downloading distlib-0.3.1-py2.py3-none-any.whl (335 kB)\r\nInstalling collected packages: filelock, distlib, virtualenv\r\n  Attempting uninstall: distlib\r\n    Found existing installation: distlib 0.3.0\r\nERROR: Cannot uninstall 'distlib'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.\r\n```\r\n\r\nPR https://github.com/pypa/virtualenv/pull/1880 bumped the distutils dependency:\r\n\r\n```diff\r\n-distlib>=0.3.0,<1\r\n+distlib>=0.3.1,<1\r\n```\r\n\r\nWhich was released in virtualenv 20.0.26. Pinning to `virtualenv < 20.0.26` installs correctly.\r\n\r\n**More info**\r\n\r\nThis happens with this [Dockerfile](https://github.com/hugovk/docker-images/blob/e0d5d81a9ab9832b91e80bfa0d8fc72955ca209c/alpine/Dockerfile):\r\n\r\n```Dockerfile\r\n# This is a sample Dockerfile to build Pillow on Alpine Linux\r\n# with all/most of the dependencies working.\r\n#\r\n# Tcl/Tk isn't detecting\r\n# Freetype has different metrics so tests are failing.\r\n# sudo and bash are required for the webp build script.\r\n\r\nFROM alpine\r\n\r\nRUN apk --no-cache add python3 \\\r\n                       build-base \\\r\n                       python3-dev \\\r\n                       # dev dependencies\r\n                       git \\\r\n                       bash \\\r\n                       sudo \\\r\n                       py3-pip\r\n\r\nRUN /usr/sbin/adduser -D pillow && \\\r\n    python3 -c \"import fcntl; fcntl.fcntl(1, fcntl.F_SETFL, 0)\" && \\\r\n    pip3 list && \\\r\n    pip3 install virtualenv && virtualenv /vpy3 -vvv --with-traceback && \\\r\n    /vpy3/bin/pip install --upgrade pip && \\\r\n    /vpy3/bin/pip install olefile pytest pytest-cov && \\\r\n    /vpy3/bin/pip install numpy --only-binary=:all: || true && \\\r\n    chown -R pillow:pillow /vpy3\r\n\r\nUSER pillow\r\nCMD [\"depends/test.sh\"]\r\n\r\n#docker run -v $TRAVIS_BUILD_DIR:/Pillow pythonpillow/alpine\r\n```\r\n\r\nFailing build: https://travis-ci.org/github/hugovk/docker-images/builds/711483204\r\n\r\nPinning [`virtualenv < 20.0.26`](https://github.com/hugovk/docker-images/commit/c5440ebb69ee249ac44778a64f6a73f17b474874) installs and creates the virtualenv fine (ignore the later test failures, due to a stripped down Dockerfile):\r\n\r\nhttps://travis-ci.org/github/hugovk/docker-images/builds/711485321#L365\r\n\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Alpine\r\n- Python 3.6.7\r\n- pip 20.1.1\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage      Version\r\n------------ ----------\r\nappdirs      1.4.4\r\nCacheControl 0.12.6\r\ncertifi      2020.4.5.1\r\nchardet      3.0.4\r\ncolorama     0.4.3\r\ncontextlib2  0.6.0\r\ndistlib      0.3.0\r\ndistro       1.5.0\r\nhtml5lib     1.0.1\r\nidna         2.9\r\nlockfile     0.12.2\r\nmsgpack      1.0.0\r\nordered-set  4.0.1\r\npackaging    20.4\r\npep517       0.8.2\r\npip          20.1.1\r\nprogress     1.5\r\npyparsing    2.4.7\r\npytoml       0.1.21\r\nrequests     2.23.0\r\nretrying     1.3.3\r\nsetuptools   47.0.0\r\nsix          1.15.0\r\ntoml         0.10.1\r\nurllib3      1.25.9\r\nwebencodings 0.5.1\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nn/a, fails during `pip3 install virtualenv`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1901", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1901/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1901/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1901/events", "html_url": "https://github.com/pypa/virtualenv/issues/1901", "id": 663728017, "node_id": "MDU6SXNzdWU2NjM3MjgwMTc=", "number": 1901, "title": "Documentation for configuration file is inconsistent with example", "user": {"login": "szafranek", "id": 152606, "node_id": "MDQ6VXNlcjE1MjYwNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/152606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/szafranek", "html_url": "https://github.com/szafranek", "followers_url": "https://api.github.com/users/szafranek/followers", "following_url": "https://api.github.com/users/szafranek/following{/other_user}", "gists_url": "https://api.github.com/users/szafranek/gists{/gist_id}", "starred_url": "https://api.github.com/users/szafranek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/szafranek/subscriptions", "organizations_url": "https://api.github.com/users/szafranek/orgs", "repos_url": "https://api.github.com/users/szafranek/repos", "events_url": "https://api.github.com/users/szafranek/events{/privacy}", "received_events_url": "https://api.github.com/users/szafranek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T12:35:27Z", "updated_at": "2020-07-22T15:32:14Z", "closed_at": "2020-07-22T15:32:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nThe [CLI interface documentation page](https://virtualenv.pypa.io/en/latest/cli_interface.html) says that:\r\n\r\n> The keys of the settings are derived from the command line option (left strip the `-` characters, and replace `-` with `_`).\r\n> Where multiple flags are available first found wins (where order is as it shows up under the `--help`).\r\n\r\nHowever, the provided example config flag from the init file doesn't have `-` replaced with `_`:\r\n\r\n```\r\n[virtualenv]\r\nextra-search-dir =\r\n    /path/to/dists\r\n    /path/to/other/dists\r\n```\r\n\r\nWhat is the correct way to provide these options? With `-` or `_`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1896", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1896/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1896/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1896/events", "html_url": "https://github.com/pypa/virtualenv/issues/1896", "id": 654713904, "node_id": "MDU6SXNzdWU2NTQ3MTM5MDQ=", "number": 1896, "title": "Allow bypassing log setup in the API use", "user": {"login": "whg517", "id": 21030747, "node_id": "MDQ6VXNlcjIxMDMwNzQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/21030747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whg517", "html_url": "https://github.com/whg517", "followers_url": "https://api.github.com/users/whg517/followers", "following_url": "https://api.github.com/users/whg517/following{/other_user}", "gists_url": "https://api.github.com/users/whg517/gists{/gist_id}", "starred_url": "https://api.github.com/users/whg517/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whg517/subscriptions", "organizations_url": "https://api.github.com/users/whg517/orgs", "repos_url": "https://api.github.com/users/whg517/repos", "events_url": "https://api.github.com/users/whg517/events{/privacy}", "received_events_url": "https://api.github.com/users/whg517/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-10T11:27:59Z", "updated_at": "2020-07-24T06:40:51Z", "closed_at": "2020-07-24T06:40:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my code, I wanted to create the virtual environment manually by calling [`def cli_run(args, options=None):`](https://github.com/pypa/virtualenv/blob/master/src/virtualenv/run/__init__.py#L17) , but when I ran it, I found that my log could not be obtained. Through searching, I found that you clarified the root log in the code, which made me unable to use my log object after running.\r\n\r\nI wonder what you're doing this for? Do you use custom Log objects instead of cleaning the root Log ?\r\n\r\nhttps://github.com/pypa/virtualenv/blob/16f80ac89d614551240650705fc3630f24974506/src/virtualenv/report.py#L39\r\n\r\nhttps://github.com/pypa/virtualenv/blob/16f80ac89d614551240650705fc3630f24974506/src/virtualenv/report.py#L48-L50\r\n\r\nI now can do a  patch or duplicate the code of [`cli_run`](https://github.com/pypa/virtualenv/blob/master/src/virtualenv/run/__init__.py#L17), [`session_via_cli`](https://github.com/pypa/virtualenv/blob/master/src/virtualenv/run/__init__.py#L31), and build_parser and remove the line [`_do_report_setup`](https://github.com/pypa/virtualenv/blob/master/src/virtualenv/run/__init__.py#L50) .\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1895", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1895/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1895/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1895/events", "html_url": "https://github.com/pypa/virtualenv/issues/1895", "id": 653898942, "node_id": "MDU6SXNzdWU2NTM4OTg5NDI=", "number": 1895, "title": "virtualenv generates python that pre-imports threading (16.x -> 20.x regression)", "user": {"login": "navytux", "id": 1794248, "node_id": "MDQ6VXNlcjE3OTQyNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1794248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/navytux", "html_url": "https://github.com/navytux", "followers_url": "https://api.github.com/users/navytux/followers", "following_url": "https://api.github.com/users/navytux/following{/other_user}", "gists_url": "https://api.github.com/users/navytux/gists{/gist_id}", "starred_url": "https://api.github.com/users/navytux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/navytux/subscriptions", "organizations_url": "https://api.github.com/users/navytux/orgs", "repos_url": "https://api.github.com/users/navytux/repos", "events_url": "https://api.github.com/users/navytux/events{/privacy}", "received_events_url": "https://api.github.com/users/navytux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-09T09:09:58Z", "updated_at": "2020-07-15T13:43:38Z", "closed_at": "2020-07-15T13:43:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nHello up there.\r\n\r\nAfter vitualenv upgrade from 16.x to 20.x I've started to get failures with [gpython](https://pypi.org/project/pygolang/#gpython) which complains that `threading` module is already imported at python startup time. It used to work OK before virtualenv rewrite and it still works OK with `python -m venv`. Virtualenv runtime startup dependency on threading is [here](https://github.com/pypa/virtualenv/blob/20.0.26-1-g16f80ac/src/virtualenv/create/via_global_ref/_virtualenv.py#L42) added by caae48bf (_\"use import hooks to patch distutils/setuptools (#1688)\"_).\r\n\r\nWhile it is possible to mechanically change `threading` to `_thread.allocate_lock` to make gpython nominally happy, in practice it would be more correct to avoid importing and using both `threading` _and_ low-level `_thread`, because gevent-based applications depend on being able to patch those modules as early as possible (/cc @jamadden). Before caae48bf distutils was patched without importing thread modules, so maybe it is possible to restore that property.\r\n\r\nPlease find details below.\r\n\r\nThanks beforehand,\r\nKirill\r\n\r\n\r\n```console\r\nkirr@deco:~/tmp/trashme$ virtualenv -vvv --with-traceback -p python3 py38.virtualenv\r\n...\r\n```\r\n<details>\r\n <summary>(full output from virtualenv creation)</summary>\r\n\r\n```console\r\n25 setup logging to NOTSET [DEBUG report:42]\r\n47 find interpreter for spec PythonSpec(implementation=CPython, major=3) [INFO builtin:44]\r\n47 proposed PythonInfo(spec=CPython3.8.4.candidate.1-64, exe=/usr/bin/python3, platform=linux, version='3.8.4rc1 (default, Jul  1 2020, 15:31:45) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n47 accepted PythonInfo(spec=CPython3.8.4.candidate.1-64, exe=/usr/bin/python3, platform=linux, version='3.8.4rc1 (default, Jul  1 2020, 15:31:45) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n49 filesystem is case-sensitive [DEBUG info:28]\r\n80 create virtual environment via CPython3Posix(dest=/home/kirr/tmp/trashme/py38.virtualenv, clear=False, global=False) [INFO session:52]\r\n80 create folder /home/kirr/tmp/trashme/py38.virtualenv/bin [DEBUG _sync:25]\r\n81 create folder /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages [DEBUG _sync:25]\r\n81 write /home/kirr/tmp/trashme/py38.virtualenv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n81      home = /usr [DEBUG pyenv_cfg:38]\r\n81      implementation = CPython [DEBUG pyenv_cfg:38]\r\n81      version_info = 3.8.4.candidate.1 [DEBUG pyenv_cfg:38]\r\n81      virtualenv = 20.0.23+ds [DEBUG pyenv_cfg:38]\r\n81      include-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n81      base-prefix = /usr [DEBUG pyenv_cfg:38]\r\n81      base-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n81      base-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n81 symlink /usr/bin/python3 to /home/kirr/tmp/trashme/py38.virtualenv/bin/python [DEBUG _sync:44]\r\n82 create virtualenv import hook file /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:95]\r\n82 create /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:98]\r\n82 ============================== target debug ============================== [DEBUG session:54]\r\n82 debug via /home/kirr/tmp/trashme/py38.virtualenv/bin/python /usr/lib/python3/dist-packages/virtualenv/create/debug.py [DEBUG creator:206]\r\n82 {\r\n  \"sys\": {\r\n    \"executable\": \"/home/kirr/tmp/trashme/py38.virtualenv/bin/python\",\r\n    \"_base_executable\": \"/home/kirr/tmp/trashme/py38.virtualenv/bin/python\",\r\n    \"prefix\": \"/home/kirr/tmp/trashme/py38.virtualenv\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/home/kirr/tmp/trashme/py38.virtualenv\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/home/kirr/src/tools/txt/docutils/docutils\",\r\n      \"/usr/lib/python38.zip\",\r\n      \"/usr/lib/python3.8\",\r\n      \"/usr/lib/python3.8/lib-dynload\",\r\n      \"/home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.4rc1 (default, Jul  1 2020, 15:31:45) \\n[GCC 9.3.0]\",\r\n  \"makefile_filename\": \"/usr/lib/python3.8/config-3.8-x86_64-linux-gnu/Makefile\",\r\n  \"os\": \"<module 'os' from '/usr/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' (built-in)>\",\r\n  \"json\": \"<module 'json' from '/usr/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n107 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, pkg_resources=latest, via=copy, app_data_dir=/home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian) [INFO session:59]\r\n108 Attempting to acquire lock 140007914149536 on /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels.lock [DEBUG filelock:270]\r\n108 Lock 140007914149536 acquired on /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels.lock [INFO filelock:274]\r\n109 get bundled wheel /usr/share/python-wheels/pip-20.1.1-py2.py3-none-any.whl [DEBUG acquire:61]\r\n109 get bundled wheel /usr/share/python-wheels/setuptools-44.0.0-py2.py3-none-any.whl [DEBUG acquire:61]\r\n109 get bundled wheel /usr/share/python-wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:61]\r\n110 get bundled wheel /usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl [DEBUG acquire:61]\r\n111 install setuptools from wheel /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels/setuptools-44.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n111 install wheel from wheel /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n112 install pip from wheel /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels/pip-20.1.1-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n112 install pkg_resources from wheel /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels/pkg_resources-0.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n112 copy /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.virtualenv to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/setuptools-44.0.0.virtualenv [DEBUG _sync:52]\r\n112 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip-20.1.1.dist-info to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/pip-20.1.1.dist-info [DEBUG _sync:52]\r\n113 copy /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/pkg_resources-0.0.0-py2.py3-none-any/pkg_resources-0.0.0.virtualenv to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/pkg_resources-0.0.0.virtualenv [DEBUG _sync:52]\r\n114 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/wheel [DEBUG _sync:52]\r\n115 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.dist-info to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/setuptools-44.0.0.dist-info [DEBUG _sync:52]\r\n115 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/pkg_resources-0.0.0-py2.py3-none-any/pkg_resources-0.0.0.dist-info to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/pkg_resources-0.0.0.dist-info [DEBUG _sync:52]\r\n118 copy /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip-20.1.1.virtualenv to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/pip-20.1.1.virtualenv [DEBUG _sync:52]\r\n119 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/pkg_resources-0.0.0-py2.py3-none-any/pkg_resources to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:52]\r\n119 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/pip [DEBUG _sync:52]\r\n121 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/setuptools [DEBUG _sync:52]\r\n123 copy /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:52]\r\n124 copy directory /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:52]\r\n130 generated console scripts  [DEBUG base:53]\r\n130 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/wheel to 755 [INFO util:566]\r\n131 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/wheel3 to 755 [INFO util:566]\r\n131 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/wheel-3.8 to 755 [INFO util:566]\r\n131 generated console scripts wheel3 wheel-3.8 wheel [DEBUG base:53]\r\n143 copy /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/easy_install.py to /home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:52]\r\n144 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/easy_install-3.8 to 755 [INFO util:566]\r\n145 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/easy_install3 to 755 [INFO util:566]\r\n145 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/easy_install to 755 [INFO util:566]\r\n146 generated console scripts easy_install3 easy_install-3.8 easy_install [DEBUG base:53]\r\n153 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/pip3.8 to 755 [INFO util:566]\r\n154 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/pip3 to 755 [INFO util:566]\r\n154 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/pip-3.8 to 755 [INFO util:566]\r\n154 changing mode of /home/kirr/tmp/trashme/py38.virtualenv/bin/pip to 755 [INFO util:566]\r\n154 generated console scripts pip3 pip-3.8 pip pip3.8 [DEBUG base:53]\r\n154 Attempting to release lock 140007914149536 on /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels.lock [DEBUG filelock:315]\r\n154 Lock 140007914149536 released on /home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.8/wheels.lock [INFO filelock:318]\r\n154 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n157 write /home/kirr/tmp/trashme/py38.virtualenv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n157     home = /usr [DEBUG pyenv_cfg:38]\r\n157     implementation = CPython [DEBUG pyenv_cfg:38]\r\n157     version_info = 3.8.4.candidate.1 [DEBUG pyenv_cfg:38]\r\n157     virtualenv = 20.0.23+ds [DEBUG pyenv_cfg:38]\r\n157     include-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n157     base-prefix = /usr [DEBUG pyenv_cfg:38]\r\n157     base-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n157     base-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n157 created virtual environment CPython3.8.4.candidate.1-64 in 134ms\r\n  creator CPython3Posix(dest=/home/kirr/tmp/trashme/py38.virtualenv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, pkg_resources=latest, via=copy, app_data_dir=/home/kirr/.local/share/virtualenv/seed-app-data/v1.0.1.debian)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n\r\n</details>\r\n\r\n```console\r\nkirr@deco:~/tmp/trashme$ . py38.virtualenv/bin/activate\r\n```\r\n```console\r\n(py38.virtualenv) kirr@deco:~/tmp/trashme$ pip install pip install git+https://lab.nexedi.com/nexedi/pygolang\r\nCollecting git+https://lab.nexedi.com/nexedi/pygolang\r\n  Cloning https://lab.nexedi.com/nexedi/pygolang to /tmp/pip-req-build-wwa_hx8z\r\n  Running command git clone -q https://lab.nexedi.com/nexedi/pygolang /tmp/pip-req-build-wwa_hx8z\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n    Preparing wheel metadata ... done\r\nRequirement already satisfied: pip in ./py38.virtualenv/lib/python3.8/site-packages (20.1.1)\r\nCollecting install\r\n  Using cached install-1.3.3-py3-none-any.whl (3.1 kB)\r\nCollecting gevent\r\n  Using cached gevent-20.6.2-cp38-cp38-manylinux2010_x86_64.whl (6.1 MB)\r\nCollecting geventmp; python_version >= \"3\"\r\n  Using cached geventmp-0.0.1-py3-none-any.whl (21 kB)\r\nCollecting six\r\n  Using cached six-1.15.0-py2.py3-none-any.whl (10 kB)\r\nCollecting decorator\r\n  Using cached decorator-4.4.2-py2.py3-none-any.whl (9.2 kB)\r\nRequirement already satisfied: setuptools in ./py38.virtualenv/lib/python3.8/site-packages (from gevent->pygolang==0.0.6.post2) (44.0.0)\r\nCollecting greenlet>=0.4.16; platform_python_implementation == \"CPython\"\r\n  Using cached greenlet-0.4.16-cp38-cp38-manylinux1_x86_64.whl (48 kB)\r\nCollecting zope.event\r\n  Using cached zope.event-4.4-py2.py3-none-any.whl (7.6 kB)\r\nCollecting zope.interface\r\n  Using cached zope.interface-5.1.0-cp38-cp38-manylinux2010_x86_64.whl (243 kB)\r\nBuilding wheels for collected packages: pygolang\r\n  Building wheel for pygolang (PEP 517) ... done\r\n  Created wheel for pygolang: filename=pygolang-0.0.6.post2-cp38-cp38-linux_x86_64.whl size=4947595 sha256=c2bb28849ce40e479e1d5c328d837df843c48b8e05e589cc043b408751746253\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-tnp4er72/wheels/0d/6b/51/88bda5290d70335ba062f7a8254de9bac026fc039085d288d1\r\nSuccessfully built pygolang\r\nInstalling collected packages: install, greenlet, zope.event, zope.interface, gevent, geventmp, six, decorator, pygolang\r\nSuccessfully installed decorator-4.4.2 gevent-20.6.2 geventmp-0.0.1 greenlet-0.4.16 install-1.3.3 pygolang-0.0.6.post2 six-1.15.0 zope.event-4.4 zope.interface-5.1.0\r\n```\r\n\r\n```console\r\n(py38.virtualenv) kirr@deco:~/tmp/trashme$ gpython \r\nTraceback (most recent call last):\r\n  File \"/home/kirr/tmp/trashme/py38.virtualenv/bin/gpython\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/kirr/tmp/trashme/py38.virtualenv/lib/python3.8/site-packages/gpython/__init__.py\", line 151, in main\r\n    raise RuntimeError('gpython: internal error: the following modules are pre-imported, but must be not:'\r\nRuntimeError: gpython: internal error: the following modules are pre-imported, but must be not:\r\n\r\n        ['threading']\r\n\r\nsys.modules:\r\n\r\n        ['__future__', '__main__', '_abc', '_bootlocale', '_codecs', '_collections', '_collections_abc', '_frozen_importlib', '_frozen_importlib_external', '_functools', '_heapq', '_imp', '_io', '_locale', '_operator', '_signal', '_sitebuiltins', '_sre', '_stat', '_thread', '_virtualenv', '_warnings', '_weakref', '_weakrefset', 'abc', 'builtins', 'codecs', 'collections', 'contextlib', 'copyreg', 'encodings', 'encodings.aliases', 'encodings.latin_1', 'encodings.utf_8', 'enum', 'functools', 'genericpath', 'gpython', 'heapq', 'importlib', 'importlib._bootstrap', 'importlib._bootstrap_external', 'importlib.abc', 'importlib.machinery', 'importlib.util', 'io', 'itertools', 'keyword', 'marshal', 'operator', 'os', 'os.path', 'posix', 'posixpath', 're', 'reprlib', 'site', 'sitecustomize', 'sre_compile', 'sre_constants', 'sre_parse', 'stat', 'sys', 'threading', 'time', 'types', 'warnings', 'zipimport', 'zope']\r\n```\r\n\r\n----\r\n\r\nFor the record here is how it works with older virtualenv and `python -m venv`:\r\n\r\n```console\r\nkirr@deco:~/tmp/trashme$ python3 -m venv py38.venv\r\n```\r\n```console\r\nkirr@deco:~/tmp/trashme$ . py38.venv/bin/activate\r\n```\r\n```console\r\n(py38.venv) kirr@deco:~/tmp/trashme$ pip install git+https://lab.nexedi.com/nexedi/pygolang\r\nCollecting git+https://lab.nexedi.com/nexedi/pygolang\r\n  Cloning https://lab.nexedi.com/nexedi/pygolang to /tmp/pip-req-build-scmc7bpn\r\n  Running command git clone -q https://lab.nexedi.com/nexedi/pygolang /tmp/pip-req-build-scmc7bpn\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n    Preparing wheel metadata ... done\r\nCollecting geventmp; python_version >= \"3\"\r\n  Using cached geventmp-0.0.1-py3-none-any.whl (21 kB)\r\nCollecting six\r\n  Using cached six-1.15.0-py2.py3-none-any.whl (10 kB)\r\nCollecting decorator\r\n  Using cached decorator-4.4.2-py2.py3-none-any.whl (9.2 kB)\r\nCollecting gevent\r\n  Using cached gevent-20.6.2-cp38-cp38-manylinux2010_x86_64.whl (6.1 MB)\r\nCollecting zope.interface\r\n  Using cached zope.interface-5.1.0-cp38-cp38-manylinux2010_x86_64.whl (243 kB)\r\nRequirement already satisfied: setuptools in ./py38.venv/lib/python3.8/site-packages (from gevent->pygolang==0.0.6.post2) (44.0.0)\r\nCollecting greenlet>=0.4.16; platform_python_implementation == \"CPython\"\r\n  Using cached greenlet-0.4.16-cp38-cp38-manylinux1_x86_64.whl (48 kB)\r\nCollecting zope.event\r\n  Using cached zope.event-4.4-py2.py3-none-any.whl (7.6 kB)\r\nBuilding wheels for collected packages: pygolang\r\n  Building wheel for pygolang (PEP 517) ... done\r\n  Created wheel for pygolang: filename=pygolang-0.0.6.post2-cp38-cp38-linux_x86_64.whl size=4947579 sha256=4075e7b9e11c03396244307e2a504786f748406664b8a0a9ae0b855c0557888b\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-ph49sx0j/wheels/0d/6b/51/88bda5290d70335ba062f7a8254de9bac026fc039085d288d1\r\nSuccessfully built pygolang\r\nInstalling collected packages: zope.interface, greenlet, zope.event, gevent, geventmp, six, decorator, pygolang\r\nSuccessfully installed decorator-4.4.2 gevent-20.6.2 geventmp-0.0.1 greenlet-0.4.16 pygolang-0.0.6.post2 six-1.15.0 zope.event-4.4 zope.interface-5.1.0\r\n```\r\n```console\r\n(py38.venv) kirr@deco:~/tmp/trashme$ gpython \r\nPython 3.8.4rc1 (default, Jul  1 2020, 15:31:45) \r\n[GCC 9.3.0] [GPython 0.0.6.post2] [gevent 20.6.2] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n(InteractiveConsole)\r\n>>> \r\n```\r\n\r\n\r\n----\r\n\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Debian GNU/Linux testing `Linux deco 5.7.0-1-amd64 #1 SMP Debian 5.7.6-1 (2020-06-24) x86_64 GNU/Linux`\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n<details>\r\n\r\n```console\r\nkirr@deco:~$ pip list\r\nPackage              Version\r\n-------------------- --------------\r\nappdirs              1.4.4\r\nasciinema            2.0.2\r\natomicwrites         1.3.0\r\nattrs                19.3.0\r\nbackcall             0.2.0\r\nbeautifulsoup4       4.9.1\r\nbleach               3.1.5\r\nblinker              1.4\r\nbreezy               3.1.0\r\nBrlapi               0.7.0\r\nbrz-etckeeper        0.0.0\r\ncertifi              2020.4.5.1\r\nchardet              3.0.4\r\ncolorama             0.4.3\r\nconfigobj            5.0.6\r\ncryptography         2.8\r\ncupshelpers          1.0\r\ncycler               0.10.0\r\ndblatex              0.3.11py3\r\ndbus-python          1.2.16\r\ndecorator            4.4.2\r\nDeprecated           1.2.10\r\ndevscripts           2.20.4\r\ndistlib              0.3.0\r\ndistro               1.5.0\r\ndocutils             0.16\r\ndulwich              0.20.2\r\nentrypoints          0.3\r\nfastimport           0.9.8\r\nfeedparser           5.2.1\r\nfilelock             3.0.12\r\nflake8               3.8.3\r\ngevent               1.4.0\r\ngpg                  1.13.1-unknown\r\ngreenlet             0.4.15\r\ngyp                  0.1\r\nhtml5lib             1.0.1\r\nhttplib2             0.18.1\r\nidna                 2.9\r\nimportlib-metadata   1.6.0\r\niotop                0.6\r\nipython              7.16.1\r\nipython-genutils     0.2.0\r\njedi                 0.17.0\r\njeepney              0.4.3\r\nkeyring              18.0.1\r\nkiwisolver           1.0.1\r\nlaunchpadlib         1.10.13\r\nlazr.restfulclient   0.14.2\r\nlazr.uri             1.0.4\r\nlouis                3.14.0\r\nlxml                 4.5.0\r\nMarkdown             3.2.2\r\nMarkups              3.0.0\r\nmatplotlib           3.2.2\r\nmccabe               0.6.1\r\nmeld                 3.20.2\r\nmeson                0.54.3\r\nmore-itertools       4.2.0\r\nmpmath               1.1.0\r\nmusicbrainzngs       0.7.1\r\nmutagen              1.44.0\r\nmypy                 0.782\r\nmypy-extensions      0.4.3\r\nnotify2              0.3\r\nnumpy                1.18.4\r\noauthlib             3.1.0\r\nolefile              0.46\r\npackaging            20.3\r\nparso                0.7.0\r\npatiencediff         0.1.0\r\npexpect              4.6.0\r\npickleshare          0.7.5\r\nPillow               7.0.0\r\npip                  20.1.1\r\npkginfo              1.4.2\r\npluggy               0.13.0\r\nprompt-toolkit       3.0.5\r\npsutil               5.7.0\r\npulsemixer           1.5.1\r\npy                   1.8.1\r\npycairo              1.16.2\r\npycodestyle          2.6.0\r\npycups               1.9.73\r\npycurl               7.43.0.2\r\npyflakes             2.2.0\r\npygame               1.9.6\r\nPyGithub             1.43.7\r\nPygments             2.3.1\r\nPyGObject            3.36.0\r\npyinotify            0.9.6\r\nPyJWT                1.7.1\r\npyparsing            2.4.7\r\nPyQt5                5.15.0\r\nPyQtWebEngine        5.15.0\r\nPySimpleSOAP         1.16.2\r\npysmbc               1.0.22\r\npytest               4.6.11\r\npython-apt           2.1.3\r\npython-dateutil      2.8.1\r\npython-debian        0.1.37\r\npython-debianbts     3.0.2\r\npython-gitlab        2.3.1\r\npython-ly            0.9.6\r\npython-magic         0.4.16\r\npython-markdown-math 0.7\r\npython-poppler-qt5   0.75.0\r\npyxattr              0.6.1\r\npyxdg                0.26\r\nPyYAML               5.3.1\r\nquodlibet            4.3.0\r\nreadme-renderer      24.0\r\nregex                2019.8.19\r\nreportbug            7.6.0\r\nreportlab            3.5.34\r\nrequests             2.23.0\r\nrequests-toolbelt    0.8.0\r\nrfc3986              1.4.0\r\nroman                2.0.0\r\nscour                0.37\r\nSecretStorage        3.1.2\r\nsetuptools           46.1.3\r\nsimplejson           3.17.0\r\nsip                  4.19.23\r\nsix                  1.15.0\r\nsoupsieve            2.0.1\r\nsympy                1.6\r\ntextile              4.0.1\r\ntqdm                 4.43.0\r\ntraitlets            4.3.3\r\ntwine                3.2.0\r\ntyped-ast            1.4.1\r\ntyping-extensions    3.7.4.2\r\nunidiff              0.5.5\r\nurllib3              1.25.9\r\nvirtualenv           20.0.23+ds\r\nwadllib              1.3.4\r\nwcwidth              0.1.9\r\nwebencodings         0.5.1\r\nwheel                0.34.2\r\nwrapt                1.11.2\r\nyoutube-dl           2020.6.16.1\r\nzipp                 1.0.0\r\n```\r\n\r\n</details>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1890", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1890/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1890/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1890/events", "html_url": "https://github.com/pypa/virtualenv/issues/1890", "id": 651995447, "node_id": "MDU6SXNzdWU2NTE5OTU0NDc=", "number": 1890, "title": "Do not delete non virtualenv-created directories (with --clear)", "user": {"login": "inno", "id": 255861, "node_id": "MDQ6VXNlcjI1NTg2MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/255861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inno", "html_url": "https://github.com/inno", "followers_url": "https://api.github.com/users/inno/followers", "following_url": "https://api.github.com/users/inno/following{/other_user}", "gists_url": "https://api.github.com/users/inno/gists{/gist_id}", "starred_url": "https://api.github.com/users/inno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inno/subscriptions", "organizations_url": "https://api.github.com/users/inno/orgs", "repos_url": "https://api.github.com/users/inno/repos", "events_url": "https://api.github.com/users/inno/events{/privacy}", "received_events_url": "https://api.github.com/users/inno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-07T04:47:37Z", "updated_at": "2020-07-07T14:47:35Z", "closed_at": "2020-07-07T06:23:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nI've been using ``virtualenv --clear`` for years to flush the virtual environment from local checkouts. This would let me do things such as quickly verify ``requirements.txt`` were aligned with a given project.\r\n\r\nAfter updating to ``20.0.25``, I attempted the same functionality only to discover that my entire local repository and all related files had been deleted. Extremely confused, I dug through the source and discovered a major rewrite as of `20.0.0` had broken the forward-compatibility of this functionality.\r\n\r\nIn order to save other folks headache and lost work in the future, this functionality should be reverted. I understand it's nowhere near one-to-one, but at the very least, some effort could be made to maintain a majority of non-virtualenv files.\r\n\r\n(Pull request to follow)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1885", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1885/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1885/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1885/events", "html_url": "https://github.com/pypa/virtualenv/issues/1885", "id": 650787675, "node_id": "MDU6SXNzdWU2NTA3ODc2NzU=", "number": 1885, "title": "`virtualenv --version` prints spurious error as of 20.0.24", "user": {"login": "benkehoe", "id": 1650723, "node_id": "MDQ6VXNlcjE2NTA3MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1650723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benkehoe", "html_url": "https://github.com/benkehoe", "followers_url": "https://api.github.com/users/benkehoe/followers", "following_url": "https://api.github.com/users/benkehoe/following{/other_user}", "gists_url": "https://api.github.com/users/benkehoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/benkehoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benkehoe/subscriptions", "organizations_url": "https://api.github.com/users/benkehoe/orgs", "repos_url": "https://api.github.com/users/benkehoe/repos", "events_url": "https://api.github.com/users/benkehoe/events{/privacy}", "received_events_url": "https://api.github.com/users/benkehoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T22:58:17Z", "updated_at": "2020-07-04T20:06:59Z", "closed_at": "2020-07-04T10:34:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nWhen running `virtualenv --version`, a logger error is printed to stderr, though the return code is still 0.\r\n\r\n**Environment**\r\n\r\nTested with Python 3.7 and 3.8, virtualenvs managed with pipenv\r\nUbuntu 18.04 on WSL\r\n\r\n```\r\n$ rm-rf tmp && mkdir tmp && cd tmp\r\n$ pipenv install \"virtualenv==20.0.23\"\r\n$ pipenv run virtualenv --version\r\nvirtualenv 20.0.23 from tmp/.venv/lib/python3.7/site-packages/virtualenv/__init__.py\r\n\r\n$ rm-rf tmp && mkdir tmp && cd tmp\r\n$ pipenv install \"virtualenv==20.0.24\"\r\n$ pipenv run virtualenv --version\r\nvirtualenv 20.0.24 from tmp/.venv/lib/python3.7/site-packages/virtualenv/__init__.py\r\nERROR:root:SystemExit: 0\r\n$ pipenv run virtualenv --version > /dev/null\r\nERROR:root:SystemExit: 0\r\n$ echo $?\r\n0\r\n```\r\n\r\nNothing else is printed with `-vvv --with-traceback`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1883", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1883/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1883/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1883/events", "html_url": "https://github.com/pypa/virtualenv/issues/1883", "id": 650557313, "node_id": "MDU6SXNzdWU2NTA1NTczMTM=", "number": 1883, "title": "Do not download all wheels of pip when the release history cannot be acquired", "user": {"login": "dgelessus", "id": 6641959, "node_id": "MDQ6VXNlcjY2NDE5NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6641959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgelessus", "html_url": "https://github.com/dgelessus", "followers_url": "https://api.github.com/users/dgelessus/followers", "following_url": "https://api.github.com/users/dgelessus/following{/other_user}", "gists_url": "https://api.github.com/users/dgelessus/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgelessus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgelessus/subscriptions", "organizations_url": "https://api.github.com/users/dgelessus/orgs", "repos_url": "https://api.github.com/users/dgelessus/repos", "events_url": "https://api.github.com/users/dgelessus/events{/privacy}", "received_events_url": "https://api.github.com/users/dgelessus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-03T12:11:30Z", "updated_at": "2020-07-07T15:14:05Z", "closed_at": "2020-07-07T15:14:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nOccasionally when I create a virtual environment, `virtualenv` spawns three background Python processes that continue running even after `virtualenv` has exited. These background processes consume about 60-80 % CPU each and don't seem to exit on their own. Each process also has another Python subprocess that seems to be restarted every few seconds.\r\n\r\nThis doesn't happen on every `virtualenv` run - in particular, after it happens once (and I terminate all of the background Python processes), it doesn't happen again when I re-run `virtualenv`. But if I wait a while and then run `virtualenv` again, the problem reappears.\r\n\r\nHere is a part of the command lines of these processes. The command lines are incomplete because I copied them from the output of `htop` and my terminal window wasn't wide enough. Because the issue is difficult to reproduce I haven't been able to get a better copy of the command lines yet.\r\n\r\n```\r\neworks/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python -m pip download --disable-pip-version-check --only-binary=:all: --no-deps --python-version 3.8 -d /\r\neworks/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python -m pip download --disable-pip-version-check --only-binary=:all: --no-deps --python-version 3.8 -d /\r\neworks/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python -m pip download --disable-pip-version-check --only-binary=:all: --no-deps --python-version 3.8 -d /\r\neworks/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python -c from virtualenv.seed.wheels.periodic_update import do_update;do_update('setuptools', '3.8', '/Li\r\neworks/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python -c from virtualenv.seed.wheels.periodic_update import do_update;do_update('wheel', '3.8', '/Library\r\neworks/Python.framework/Versions/3.8/Resources/Python.app/Contents/MacOS/Python -c from virtualenv.seed.wheels.periodic_update import do_update;do_update('pip', '3.8', '/Library/F\r\n```\r\n\r\nIt looks like this has something to do with the new \"periodic update\" feature, which would explain why the problem only reappears after waiting for a while. Although according to `virtualenv --help` the periodic update should only happen every 14 days, and I'm having this problem much more frequently than that (it reappears after a day at most).\r\n\r\n**Environment**\r\n\r\nOS: macOS 10.14.6\r\nPython: CPython 3.8.3 (macOS installer from Python.org)\r\n\r\n<details>\r\n<summary>`pip list` of the host python where `virtualenv` is installed</summary>\r\n\r\n```console\r\n$ python3 -m pip list\r\nPackage            Version    Location\r\n------------------ ---------- -------------------------------------------------------\r\nappdirs            1.4.4\r\nappnope            0.1.0\r\nattrs              19.3.0\r\nbackcall           0.2.0\r\nbeautifulsoup4     4.9.1\r\nbleach             3.1.5\r\ncertifi            2020.6.20\r\ncffi               1.14.0\r\nchardet            3.0.4\r\ncloudpickle        1.3.0\r\ncolorama           0.4.3\r\ncolorclass         2.2.0\r\ncryptography       2.9.2\r\ncycler             0.10.0\r\ndecorator          4.4.2\r\ndefusedxml         0.6.0\r\ndistlib            0.3.1\r\ndocutils           0.16\r\neasygui            0.98.1\r\nentrypoints        0.3\r\nfilelock           3.0.12\r\nfuture             0.18.2\r\ngym                0.17.2\r\ngym-minigrid       1.0.1\r\nhtml5lib           1.1\r\nidna               2.10\r\nipykernel          5.3.0\r\nipython            7.16.1\r\nipython-genutils   0.2.0\r\nipywidgets         7.5.1\r\njedi               0.17.1\r\nJinja2             2.11.2\r\njsonschema         3.2.0\r\njupyter-client     6.1.5\r\njupyter-core       4.6.3\r\nkeyring            21.2.1\r\nkiwisolver         1.2.0\r\nlxml               4.5.1\r\nMarkupSafe         1.1.1\r\nmatplotlib         3.2.2\r\nmistune            0.8.4\r\nmsoffcrypto-tool   4.10.2\r\nnbconvert          5.6.1\r\nnbformat           5.0.7\r\nnotebook           6.0.3\r\nnumpy              1.19.0\r\nolefile            0.46\r\noletools           0.55.1\r\npackaging          20.4\r\npandocfilters      1.4.2\r\nparso              0.7.0\r\npcodedmp           1.2.6\r\npexpect            4.8.0\r\npickleshare        0.7.5\r\nPillow             7.2.0\r\npip                20.1.1\r\npkginfo            1.5.0.1\r\npluggy             0.13.1\r\nprometheus-client  0.8.0\r\nprompt-toolkit     3.0.5\r\nptyprocess         0.6.0\r\npy                 1.9.0\r\npycparser          2.20\r\npyglet             1.5.0\r\nPygments           2.6.1\r\npyparsing          2.4.7\r\npyrsistent         0.16.0\r\npython-dateutil    2.8.1\r\nPyYAML             5.3.1\r\npyzmq              19.0.1\r\nreadme-renderer    26.0\r\nregex              2020.6.8\r\nrequests           2.24.0\r\nrequests-toolbelt  0.9.1\r\nrfc3986            1.4.0\r\nrsrcfork           1.7.1.dev0 [...]/python-rsrcfork\r\nscipy              1.5.0\r\nSend2Trash         1.5.0\r\nsetuptools         47.3.1\r\nsix                1.15.0\r\nsoupsieve          2.0.1\r\nterminado          0.8.3\r\ntestpath           0.4.4\r\ntoml               0.10.1\r\ntornado            6.0.4\r\ntox                3.16.1\r\ntqdm               4.47.0\r\ntraitlets          4.3.3\r\ntwine              3.2.0\r\ntypedstream        0.0.1.dev0 [...]/python-typedstream\r\nurllib3            1.25.9\r\nvirtualenv         20.0.25\r\nwcwidth            0.2.5\r\nwebencodings       0.5.1\r\nwheel              0.34.2\r\nwidgetsnbextension 3.5.1\r\n```\r\n</details>\r\n\r\n<details>\r\n<summary>Output of the virtual environment creation</summary>\r\n\r\n```console\r\n$ python3 -m virtualenv -vvv --with-traceback testenv\r\n138 setup logging to NOTSET [DEBUG report:42]\r\n166 find interpreter for spec PythonSpec(path=/Library/Frameworks/Python.framework/Versions/3.8/bin/python3) [INFO builtin:44]\r\n167 proposed PythonInfo(spec=CPython3.8.3.final.0-64, exe=/Library/Frameworks/Python.framework/Versions/3.8/bin/python3, platform=darwin, version='3.8.3 (v3.8.3:6f8c8320e9, May 13 2020, 16:29:34) \\n[Clang 6.0 (clang-600.0.57)]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n167 accepted PythonInfo(spec=CPython3.8.3.final.0-64, exe=/Library/Frameworks/Python.framework/Versions/3.8/bin/python3, platform=darwin, version='3.8.3 (v3.8.3:6f8c8320e9, May 13 2020, 16:29:34) \\n[Clang 6.0 (clang-600.0.57)]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n173 filesystem is not case-sensitive [DEBUG info:28]\r\n236 create virtual environment via CPython3Posix(dest=/Users/david/Downloads/work/testenv, clear=False, global=False) [INFO session:52]\r\n237 write /Users/david/Downloads/work/testenv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n237 \thome = /Library/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n237 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n237 \tversion_info = 3.8.3.final.0 [DEBUG pyenv_cfg:38]\r\n237 \tvirtualenv = 20.0.25 [DEBUG pyenv_cfg:38]\r\n237 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n237 \tbase-prefix = /Library/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n237 \tbase-exec-prefix = /Library/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n237 \tbase-executable = /Library/Frameworks/Python.framework/Versions/3.8/bin/python3 [DEBUG pyenv_cfg:38]\r\n239 remove file /Users/david/Downloads/work/testenv/bin/python [DEBUG _sync:38]\r\n239 symlink /Library/Frameworks/Python.framework/Versions/3.8/bin/python3 to /Users/david/Downloads/work/testenv/bin/python [DEBUG _sync:44]\r\n240 create virtualenv import hook file /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:94]\r\n241 create /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:97]\r\n242 ============================== target debug ============================== [DEBUG session:54]\r\n242 debug via /Users/david/Downloads/work/testenv/bin/python /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/virtualenv/create/debug.py [DEBUG creator:209]\r\n242 {\r\n  \"sys\": {\r\n    \"executable\": \"/Users/david/Downloads/work/testenv/bin/python\",\r\n    \"_base_executable\": \"/Users/david/Downloads/work/testenv/bin/python\",\r\n    \"prefix\": \"/Users/david/Downloads/work/testenv\",\r\n    \"base_prefix\": \"/Library/Frameworks/Python.framework/Versions/3.8\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/Users/david/Downloads/work/testenv\",\r\n    \"base_exec_prefix\": \"/Library/Frameworks/Python.framework/Versions/3.8\",\r\n    \"path\": [\r\n      \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python38.zip\",\r\n      \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8\",\r\n      \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload\",\r\n      \"/Users/david/Downloads/work/testenv/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.3 (v3.8.3:6f8c8320e9, May 13 2020, 16:29:34) \\n[Clang 6.0 (clang-600.0.57)]\",\r\n  \"makefile_filename\": \"/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/config-3.8-darwin/Makefile\",\r\n  \"os\": \"<module 'os' from '/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload/math.cpython-38-darwin.so'>\",\r\n  \"json\": \"<module 'json' from '/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n308 add seed packages via FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/Users/david/Library/Application Support/virtualenv) [INFO session:59]\r\n313 got embed update of distribution setuptools from /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/setuptools.json [DEBUG via_disk_folder:133]\r\n314 got embed update of distribution pip from /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/pip.json [DEBUG via_disk_folder:133]\r\n314 got embed update of distribution wheel from /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/wheel.json [DEBUG via_disk_folder:133]\r\n319 wrote embed update of distribution pip at /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/pip.json [DEBUG via_disk_folder:159]\r\n319 wrote embed update of distribution setuptools at /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/setuptools.json [DEBUG via_disk_folder:159]\r\n319 wrote embed update of distribution wheel at /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/wheel.json [DEBUG via_disk_folder:159]\r\n324 triggered periodic upgrade of pip==20.1.1 (for python 3.8) via background process having PID 57954 [INFO periodic_update:182]\r\n326 triggered periodic upgrade of wheel==0.34.2 (for python 3.8) via background process having PID 57955 [INFO periodic_update:182]\r\n332 got embed update of distribution wheel from /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/wheel.json [DEBUG via_disk_folder:133]\r\n333 triggered periodic upgrade of setuptools==47.3.1 (for python 3.8) via background process having PID 57956 [INFO periodic_update:182]\r\n335 got embed update of distribution setuptools from /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/setuptools.json [DEBUG via_disk_folder:133]\r\n336 got embed update of distribution pip from /Users/david/Library/Application Support/virtualenv/wheel/3.8/embed/1/pip.json [DEBUG via_disk_folder:133]\r\n338 install wheel from wheel /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/virtualenv/seed/wheels/embed/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:53]\r\n340 install setuptools from wheel /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/virtualenv/seed/wheels/embed/setuptools-47.3.1-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:53]\r\n347 Attempting to acquire lock 4451582448 on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any.lock [DEBUG filelock:270]\r\n350 Lock 4451582448 acquired on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any.lock [INFO filelock:274]\r\n341 Attempting to acquire lock 4451582256 on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any.lock [DEBUG filelock:270]\r\n353 Lock 4451582256 acquired on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any.lock [INFO filelock:274]\r\n350 install pip from wheel /Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages/virtualenv/seed/wheels/embed/pip-20.1.1-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:53]\r\n362 Attempting to acquire lock 4451582976 on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any.lock [DEBUG filelock:270]\r\n352 Attempting to release lock 4451582448 on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any.lock [DEBUG filelock:315]\r\n365 Lock 4451582448 released on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any.lock [INFO filelock:318]\r\n355 Attempting to release lock 4451582256 on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any.lock [DEBUG filelock:315]\r\n365 Lock 4451582256 released on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any.lock [INFO filelock:318]\r\n365 Lock 4451582976 acquired on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any.lock [INFO filelock:274]\r\n366 Attempting to release lock 4451582976 on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any.lock [DEBUG filelock:315]\r\n368 Lock 4451582976 released on /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any.lock [INFO filelock:318]\r\n377 copy /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any/easy_install.py to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:52]\r\n387 copy /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:52]\r\n410 copy /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any/setuptools-47.3.1.virtualenv to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/setuptools-47.3.1.virtualenv [DEBUG _sync:52]\r\n437 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/wheel [DEBUG _sync:52]\r\n454 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any/setuptools to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/setuptools [DEBUG _sync:52]\r\n481 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:52]\r\n499 generated console scripts wheel3 wheel wheel-3.8 [DEBUG base:53]\r\n555 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/pip [DEBUG _sync:52]\r\n601 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any/pkg_resources to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:52]\r\n630 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/setuptools-47.3.1-py3-none-any/setuptools-47.3.1.dist-info to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/setuptools-47.3.1.dist-info [DEBUG _sync:52]\r\n648 generated console scripts easy_install3 easy_install easy_install-3.8 [DEBUG base:53]\r\n1288 copy /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip-20.1.1.virtualenv to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/pip-20.1.1.virtualenv [DEBUG _sync:52]\r\n1291 copy directory /Users/david/Library/Application Support/virtualenv/wheel/3.8/image/1/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip-20.1.1.dist-info to /Users/david/Downloads/work/testenv/lib/python3.8/site-packages/pip-20.1.1.dist-info [DEBUG _sync:52]\r\n1305 generated console scripts pip pip3.8 pip-3.8 pip3 [DEBUG base:53]\r\n1306 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n1314 write /Users/david/Downloads/work/testenv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n1314 \thome = /Library/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n1314 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n1314 \tversion_info = 3.8.3.final.0 [DEBUG pyenv_cfg:38]\r\n1314 \tvirtualenv = 20.0.25 [DEBUG pyenv_cfg:38]\r\n1314 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n1314 \tbase-prefix = /Library/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n1315 \tbase-exec-prefix = /Library/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n1315 \tbase-executable = /Library/Frameworks/Python.framework/Versions/3.8/bin/python3 [DEBUG pyenv_cfg:38]\r\n1315 created virtual environment CPython3.8.3.final.0-64 in 1179ms\r\n  creator CPython3Posix(dest=/Users/david/Downloads/work/testenv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/Users/david/Library/Application Support/virtualenv)\r\n    added seed packages: pip==20.1.1, setuptools==47.3.1, wheel==0.34.2\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:18]\r\n-> exit 0\r\n```\r\n</details>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1882", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1882/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1882/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1882/events", "html_url": "https://github.com/pypa/virtualenv/issues/1882", "id": 650527740, "node_id": "MDU6SXNzdWU2NTA1Mjc3NDA=", "number": 1882, "title": "tests/unit/discovery/py_info/test_py_info.py::test_py_info_to_system_raises fails on openSUSE", "user": {"login": "scarabeusiv", "id": 1055830, "node_id": "MDQ6VXNlcjEwNTU4MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1055830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scarabeusiv", "html_url": "https://github.com/scarabeusiv", "followers_url": "https://api.github.com/users/scarabeusiv/followers", "following_url": "https://api.github.com/users/scarabeusiv/following{/other_user}", "gists_url": "https://api.github.com/users/scarabeusiv/gists{/gist_id}", "starred_url": "https://api.github.com/users/scarabeusiv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scarabeusiv/subscriptions", "organizations_url": "https://api.github.com/users/scarabeusiv/orgs", "repos_url": "https://api.github.com/users/scarabeusiv/repos", "events_url": "https://api.github.com/users/scarabeusiv/events{/privacy}", "received_events_url": "https://api.github.com/users/scarabeusiv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-03T11:11:37Z", "updated_at": "2020-07-06T21:59:20Z", "closed_at": "2020-07-06T21:59:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per $SUMMARY the test is failing in assertion on openSUSE:\r\n\r\n```\r\n[   35s] >       assert result is None\r\n[   35s] E       AssertionError: assert PythonInfo({'platform': 'linux', 'implementation': 'CPython', 'version_info': VersionInfo(major=3, minor=8, micro=3, r...em_stdlib': '/usr/lib64/python3.8', 'system_stdlib_platform': '/usr/lib64/python3.8', 'max_size': 9223372036854775807}) is None\r\n```\r\n\r\n```\r\n[   35s] ________________________ test_py_info_to_system_raises _________________________\r\n[   35s] \r\n[   35s] session_app_data = /tmp/pytest-of-abuild/pytest-2/session-app-data0\r\n[   35s] mocker = <pytest_mock.plugin.MockFixture object at 0x7f5a7a0e9970>\r\n[   35s] caplog = <_pytest.logging.LogCaptureFixture object at 0x7f5a7a0e9a90>\r\n[   35s] \r\n[   35s]     def test_py_info_to_system_raises(session_app_data, mocker, caplog):\r\n[   35s]         caplog.set_level(logging.DEBUG)\r\n[   35s]         mocker.patch.object(PythonInfo, \"_find_possible_folders\", return_value=[])\r\n[   35s]         result = PythonInfo.from_exe(sys.executable, app_data=session_app_data, raise_on_error=False)\r\n[   35s] >       assert result is None\r\n[   35s] E       AssertionError: assert PythonInfo({'platform': 'linux', 'implementation': 'CPython', 'version_info': VersionInfo(major=3, minor=8, micro=3, r...em_stdlib': '/usr/lib64/python3.8', 'system_stdlib_platform': '/usr/lib64/python3.8', 'max_size': 9223372036854775807}) is None\r\n[   35s] \r\n[   35s] caplog     = <_pytest.logging.LogCaptureFixture object at 0x7f5a7a0e9a90>\r\n[   35s] mocker     = <pytest_mock.plugin.MockFixture object at 0x7f5a7a0e9970>\r\n[   35s] result     = PythonInfo({'platform': 'linux', 'implementation': 'CPython', 'version_info': VersionInfo(major=3, minor=8, micro=3, r...em_stdlib': '/usr/lib64/python3.8', 'system_stdlib_platform': '/usr/lib64/python3.8', 'max_size': 9223372036854775807})\r\n[   35s] session_app_data = /tmp/pytest-of-abuild/pytest-2/session-app-data0\r\n[   35s] \r\n[   35s] tests/unit/discovery/py_info/test_py_info.py:306: AssertionError\r\n[   35s] ------------------------------ Captured log call -------------------------------\r\n[   35s] DEBUG    root:cached_py_info.py:87 get interpreter info via cmd: /usr/bin/python3 /usr/lib/python3.8/site-packages/virtualenv/discovery/py_info.py\r\n[   35s] DEBUG    root:via_disk_folder.py:159 wrote python info of /usr/bin/python3 at /tmp/pytest-of-abuild/pytest-2/session-app-data0/py_info/1/31f2aee4e71d21fbe5cf8b01ff0e069b9275f58929596ceb00d14d90e3e16cd6.json\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1879", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1879/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1879/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1879/events", "html_url": "https://github.com/pypa/virtualenv/issues/1879", "id": 647074023, "node_id": "MDU6SXNzdWU2NDcwNzQwMjM=", "number": 1879, "title": "Presence of virtualenv breaks distutils tests", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-29T02:55:00Z", "updated_at": "2020-06-29T07:14:04Z", "closed_at": "2020-06-29T07:14:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In [pypa/distutils](/pypa/distutils), I'm working on extracting distutils from the stdlib. In pypa/distutils@73ac895667b5bc6e3f5d685e7bad3d4535f07a80, I configured the tests to run on tox, but `test_venv_install_options` was failing. When I ran the tests using `pip-run pytest -- -m pytest`, the tests would pass. After a couple of hours of investigation, I found that the issue was the presence of virtualenv, and in particular, that [virtualenv monkey-patches the Distribution object](https://github.com/pypa/virtualenv/blob/1de7c30f288502caf6f8b91ef9ae1feba697c5e5/src/virtualenv/create/via_global_ref/_virtualenv.py#L32). In\r\npypa/distutils@c202075affc8a4d03401a4877639a96907438d83, I detect that condition and skip the test.\r\n\r\nI also found that using `tox-venv` (venv instead of virtualenv) bypasses the issue, but of course, tox-venv is deprecated.\r\n\r\nIf this test remains disabled, it will lose its effectiveness. Is there something virtualenv can do to avoid monkey-patching distutils?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1878", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1878/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1878/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1878/events", "html_url": "https://github.com/pypa/virtualenv/issues/1878", "id": 646981660, "node_id": "MDU6SXNzdWU2NDY5ODE2NjA=", "number": 1878, "title": "Can't create a new environment ", "user": {"login": "ShyamSundhar1411", "id": 65313257, "node_id": "MDQ6VXNlcjY1MzEzMjU3", "avatar_url": "https://avatars3.githubusercontent.com/u/65313257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShyamSundhar1411", "html_url": "https://github.com/ShyamSundhar1411", "followers_url": "https://api.github.com/users/ShyamSundhar1411/followers", "following_url": "https://api.github.com/users/ShyamSundhar1411/following{/other_user}", "gists_url": "https://api.github.com/users/ShyamSundhar1411/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShyamSundhar1411/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShyamSundhar1411/subscriptions", "organizations_url": "https://api.github.com/users/ShyamSundhar1411/orgs", "repos_url": "https://api.github.com/users/ShyamSundhar1411/repos", "events_url": "https://api.github.com/users/ShyamSundhar1411/events{/privacy}", "received_events_url": "https://api.github.com/users/ShyamSundhar1411/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-28T18:38:32Z", "updated_at": "2020-06-29T07:04:22Z", "closed_at": "2020-06-29T07:04:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Input:\r\nvirtualenv v\r\nOutput:\r\nOSError: [Errno 9] Bad file descriptor\r\nI thought this was my mistake but i enquired with m friend too about this. He too gets the same\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1876", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1876/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1876/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1876/events", "html_url": "https://github.com/pypa/virtualenv/issues/1876", "id": 645848017, "node_id": "MDU6SXNzdWU2NDU4NDgwMTc=", "number": 1876, "title": "ImportError: cannot import name ensure_file_on_disk", "user": {"login": "jecummin", "id": 54948030, "node_id": "MDQ6VXNlcjU0OTQ4MDMw", "avatar_url": "https://avatars3.githubusercontent.com/u/54948030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jecummin", "html_url": "https://github.com/jecummin", "followers_url": "https://api.github.com/users/jecummin/followers", "following_url": "https://api.github.com/users/jecummin/following{/other_user}", "gists_url": "https://api.github.com/users/jecummin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jecummin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jecummin/subscriptions", "organizations_url": "https://api.github.com/users/jecummin/orgs", "repos_url": "https://api.github.com/users/jecummin/repos", "events_url": "https://api.github.com/users/jecummin/events{/privacy}", "received_events_url": "https://api.github.com/users/jecummin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-25T21:00:24Z", "updated_at": "2020-07-17T06:17:20Z", "closed_at": "2020-06-26T08:56:16Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "**Issue**\r\n\r\nOriginally, when I ran `virtualenv test` this afternoon I received the error `ImportError: No module named via_app_data.via_app_data` but after reading through https://github.com/pypa/virtualenv/issues/1875 I decided to uninstall and reinstall `virtualenv` with `pip`. Now, when I run `virtualenv test` I get `ImportError: cannot import name ensure_file_on_disk` with no other output. Running `pip install virtualenv -U` will not change the output of `virtualenv test`. I have even run `pip install git+https://github.com/pypa/virtualenv.git@master` but the import error persists.\r\n\r\nI did some investigation of my own and saw that a pushed commit to this repository's master branch just [5 days ago](https://github.com/pypa/virtualenv/commit/0cd009b5a1338f66397f71c85a75f576a2f3eabf#diff-380c6a8ebbbce17d55d50ef17d3cf906R81) included both a removal of an import statement including `via_app_data.via_app_data` and another line importing `ensure_file_on_disk`. Since version 20.0.25 was released after this commit and my version is up-to-date, I am at a loss as to why `virtualenv test` fails in this way.\r\n\r\n**Environment**\r\n\r\n- OS: Ubuntu 18.04 (Debian)\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage                            Version\r\n---------------------------------- ---------------------\r\nagate                              1.6.1\r\nagate-dbf                          0.2.1\r\nagate-excel                        0.2.3\r\nagate-sql                          0.5.4\r\nantlr                              2.7.5rc1\r\nappdirs                            1.4.4\r\narrow                              0.12.1\r\nasn1crypto                         0.24.0\r\nattrs                              17.4.0\r\nBabel                              2.8.0\r\nbackports.functools-lru-cache      1.5\r\nbackports.shutil-get-terminal-size 1.0.0\r\nbeautifulsoup4                     4.7.1\r\nblessings                          1.7\r\nblis                               0.2.4\r\ncallable-pip                       1.0.0\r\ncertifi                            2019.6.16\r\nchardet                            3.0.4\r\nconfigparser                       4.0.2\r\ncontextlib2                        0.6.0.post1\r\ncryptography                       2.1.4\r\ncssselect                          1.0.3\r\ncsvkit                             1.0.4\r\ncvxopt                             1.1.9\r\ncycler                             0.10.0\r\ncymem                              2.0.2\r\ncytoolz                            0.9.0.1\r\ndbfread                            2.0.7\r\ndecorator                          4.4.1\r\ndill                               0.3.0\r\ndistlib                            0.3.0\r\ndocopt                             0.6.2\r\nedn-format                         0.6.3\r\nentrypoints                        0.3\r\nenum34                             1.1.6\r\net-xmlfile                         1.0.1\r\nfilelock                           3.0.12\r\nflake8                             3.7.8\r\nfuncsigs                           1.0.2\r\nfunctools32                        3.2.3.post2\r\nfuture                             0.18.2\r\nfuzzywuzzy                         0.17.0\r\ngmpy                               1.17\r\ngoogle-api-python-client           1.4.2\r\nhtml5lib                           0.999999999\r\nhttplib2                           0.15.0\r\nidna                               2.8\r\nimportlib-metadata                 1.6.1\r\nimportlib-resources                2.0.1\r\ninquirer                           2.6.3\r\ninvoke                             1.2.0\r\nipaddress                          1.0.17\r\nipython                            5.5.0\r\nipython-genutils                   0.2.0\r\nisodate                            0.6.0\r\njdcal                              1.4.1\r\njoblib                             0.11\r\nkeyring                            10.6.0\r\nkeyrings.alt                       3.0\r\nleather                            0.3.3\r\nlinecache2                         1.0.0\r\nlxml                               4.3.4\r\nmatplotlib                         2.1.1\r\nmccabe                             0.6.1\r\nmercurial                          4.5.3\r\nmock                               2.0.0\r\nmpmath                             1.0.0\r\nmurmurhash                         0.28.0\r\nmwparserfromhell                   0.5.1\r\nnamedentities                      1.9.4\r\nnetworkx                           2.2\r\nnltk                               3.4.4\r\nnose                               1.3.7\r\nnumexpr                            2.6.4\r\nnumpy                              1.16.4\r\noauth2client                       4.1.3\r\nolefile                            0.45.1\r\nopenpyxl                           2.6.4\r\npandas                             0.22.0\r\nparsedatetime                      2.5\r\npathlib                            1.0.1\r\npathlib2                           2.3.5\r\npatsy                              0.4.1+dev\r\npbr                                5.4.5\r\npeewee                             3.9.6\r\npexpect                            4.2.1\r\npickleshare                        0.7.4\r\nPillow                             5.1.0\r\npip                                20.1.1\r\nplac                               0.9.6\r\npluggy                             0.6.0\r\nply                                3.11\r\npreshed                            2.0.1\r\nprompt-toolkit                     1.0.15\r\npsutil                             5.4.2\r\npsycopg2                           2.8.3\r\npy                                 1.5.2\r\npyasn1                             0.4.8\r\npyasn1-modules                     0.2.7\r\npycodestyle                        2.5.0\r\npycrypto                           2.6.1\r\npyflakes                           2.1.1\r\npyglet                             1.3.0\r\nPygments                           2.2.0\r\npygobject                          3.26.1\r\npyparsing                          2.4.6\r\npyRFC3339                          1.1\r\npystart                            0.1.13\r\npytest                             3.3.2\r\npython-dateutil                    2.8.0\r\npython-editor                      1.0.4\r\npython-Levenshtein                 0.12.0\r\npython-slugify                     4.0.0\r\npytimeparse                        1.1.8\r\npytz                               2019.3\r\npyxdg                              0.25\r\nrdflib                             4.2.2\r\nreadchar                           2.0.1\r\nredis                              3.2.1\r\nregex                              2019.6.8\r\nrequests                           2.22.0\r\nrsa                                4.0\r\nscandir                            1.10.0\r\nscipy                              0.19.1\r\nSecretStorage                      2.3.1\r\nsemantic-version                   2.8.4\r\nsetuptools                         44.1.0\r\nsimplegeneric                      0.8.1\r\nsimplejson                         3.13.2\r\nsingledispatch                     3.4.0.3\r\nsix                                1.15.0\r\nsoupsieve                          1.9.5\r\nspacy                              2.1.6\r\nSPARQLWrapper                      1.8.5\r\nSQLAlchemy                         1.3.12\r\nsqlitedict                         1.6.0\r\nsrsly                              0.2.0\r\nstatsmodels                        0.8.0\r\nstevedore                          1.32.0\r\nsubprocess32                       3.2.7\r\nsympy                              1.1.1\r\ntables                             3.4.2\r\ntermcolor                          1.1.0\r\ntext-unidecode                     1.3\r\nthinc                              7.0.8\r\ntoolz                              0.10.0\r\ntqdm                               4.43.0\r\ntraceback2                         1.4.0\r\ntraitlets                          4.3.2\r\ntyping                             3.7.4.1\r\nujson                              1.35\r\nUnidecode                          1.1.1\r\nunittest2                          1.1.0\r\nuritemplate                        3.0.1\r\nurllib3                            1.25.3\r\nv                                  0.0.0\r\nvalidate-email                     1.3\r\nvirtualenv                         20.0.26.dev1+g02b197e\r\nvirtualenv-clone                   0.5.3\r\nvirtualenvwrapper                  4.8.4\r\nwasabi                             0.4.2\r\nwcwidth                            0.1.7\r\nwebencodings                       0.5\r\nwheel                              0.24.0\r\nWikidata                           0.6.1\r\nwikiextractor                      0.1\r\nwikipediabase                      0.1.0\r\nwikiscout                          0.1.0\r\nwordnet                            0.0.1b2\r\nwrapt                              1.11.2\r\nxlrd                               1.2.0\r\nxlwt                               0.7.5\r\nxmltodict                          0.10.1\r\nzipp                               1.2.0\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ virtualenv test -vvv --with-traceback\r\n63 setup logging to NOTSET [DEBUG report:42]\r\n126 find interpreter for spec PythonSpec(path=/usr/bin/python) [INFO builtin:44]\r\n126 proposed PythonInfo({'base_exec_prefix': None, 'system_stdlib': u'/usr/lib/python2.7', 'sysconfig': {u'makefile_filename': u'/usr/lib/python2.7/config-x86_64-linux-gnu/Makefile'}, 'prefix': u'/usr', 'stdout_encoding': u'UTF-8', 'executable': '/usr/bin/python', 'implementation': u'CPython', 'exec_prefix': u'/usr', 'platform': u'linux2', 'version': u'2.7.17 (default, Apr 15 2020, 17:20:14) \\n[GCC 7.5.0]', 'sysconfig_paths': {u'platstdlib': u'{platbase}/lib/python{py_version_short}', u'platlib': u'{platbase}/local/lib/python{py_version_short}/dist-packages', u'purelib': u'{base}/local/lib/python{py_version_short}/dist-packages', u'stdlib': u'{base}/lib/python{py_version_short}', u'scripts': u'{base}/local/bin', u'include': u'{base}/local/include/python{py_version_short}', u'data': u'{base}/local'}, 'base_prefix': None, 'system_stdlib_platform': u'/usr/lib/python2.7', 'file_system_encoding': u'UTF-8', 'version_info': VersionInfo(major=2, minor=7, micro=17, releaselevel=u'final', serial=0), 'sysconfig_vars': {u'base': u'/usr', u'platbase': u'/usr', u'PYTHONFRAMEWORK': u'', u'py_version_short': u'2.7'}, 'path': [u'/usr/local/bin', u'/usr/lib/python2.7', u'/usr/lib/python2.7/plat-x86_64-linux-gnu', u'/usr/lib/python2.7/lib-tk', u'/usr/lib/python2.7/lib-old', u'/usr/lib/python2.7/lib-dynload', u'/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages', u'/usr/local/lib/python2.7/dist-packages', u'/usr/local/lib/python2.7/dist-packages/wikiscout-0.1.0-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/wordnet-0.0.1b2-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/Wikidata-0.6.1-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/wikiextractor-0.1-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/wikipediabase-0.1.0-py2.7.egg', u'/usr/lib/python2.7/dist-packages'], 'max_size': 9223372036854775807, 'has_venv': False, 'real_prefix': None, 'distutils_install': {u'purelib': u'lib/python2.7/site-packages', u'headers': u'include/python2.7/UNKNOWN', u'platlib': u'lib/python2.7/site-packages', u'data': u'', u'scripts': u'bin'}, 'architecture': 64, 'original_executable': u'/usr/bin/python', 'os': u'posix', 'system_executable': u'/usr/bin/python'}) [INFO builtin:50]\r\n126 accepted PythonInfo({'base_exec_prefix': None, 'system_stdlib': u'/usr/lib/python2.7', 'sysconfig': {u'makefile_filename': u'/usr/lib/python2.7/config-x86_64-linux-gnu/Makefile'}, 'prefix': u'/usr', 'stdout_encoding': u'UTF-8', 'executable': '/usr/bin/python', 'implementation': u'CPython', 'exec_prefix': u'/usr', 'platform': u'linux2', 'version': u'2.7.17 (default, Apr 15 2020, 17:20:14) \\n[GCC 7.5.0]', 'sysconfig_paths': {u'platstdlib': u'{platbase}/lib/python{py_version_short}', u'platlib': u'{platbase}/local/lib/python{py_version_short}/dist-packages', u'purelib': u'{base}/local/lib/python{py_version_short}/dist-packages', u'stdlib': u'{base}/lib/python{py_version_short}', u'scripts': u'{base}/local/bin', u'include': u'{base}/local/include/python{py_version_short}', u'data': u'{base}/local'}, 'base_prefix': None, 'system_stdlib_platform': u'/usr/lib/python2.7', 'file_system_encoding': u'UTF-8', 'version_info': VersionInfo(major=2, minor=7, micro=17, releaselevel=u'final', serial=0), 'sysconfig_vars': {u'base': u'/usr', u'platbase': u'/usr', u'PYTHONFRAMEWORK': u'', u'py_version_short': u'2.7'}, 'path': [u'/usr/local/bin', u'/usr/lib/python2.7', u'/usr/lib/python2.7/plat-x86_64-linux-gnu', u'/usr/lib/python2.7/lib-tk', u'/usr/lib/python2.7/lib-old', u'/usr/lib/python2.7/lib-dynload', u'/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages', u'/usr/local/lib/python2.7/dist-packages', u'/usr/local/lib/python2.7/dist-packages/wikiscout-0.1.0-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/wordnet-0.0.1b2-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/Wikidata-0.6.1-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/wikiextractor-0.1-py2.7.egg', u'/usr/local/lib/python2.7/dist-packages/wikipediabase-0.1.0-py2.7.egg', u'/usr/lib/python2.7/dist-packages'], 'max_size': 9223372036854775807, 'has_venv': False, 'real_prefix': None, 'distutils_install': {u'purelib': u'lib/python2.7/site-packages', u'headers': u'include/python2.7/UNKNOWN', u'platlib': u'lib/python2.7/site-packages', u'data': u'', u'scripts': u'bin'}, 'architecture': 64, 'original_executable': u'/usr/bin/python', 'os': u'posix', 'system_executable': u'/usr/bin/python'}) [DEBUG builtin:52]\r\n128 filesystem is case-sensitive [DEBUG info:28]\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/virtualenv\", line 11, in <module>\r\n    sys.exit(run_with_catch())\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/__main__.py\", line 63, in run_with_catch\r\n    run(args, options)\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/__main__.py\", line 17, in run\r\n    session = cli_run(args, options)\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/__init__.py\", line 24, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/__init__.py\", line 32, in session_via_cli\r\n    parser, elements = build_parser(args, options)\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/__init__.py\", line 60, in build_parser\r\n    SeederSelector(interpreter, parser),\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/plugin/seeders.py\", line 8, in __init__\r\n    possible = self.options(\"virtualenv.seed\")\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/plugin/base.py\", line 39, in options\r\n    cls._OPTIONS = cls.entry_points_for(key)\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/plugin/base.py\", line 18, in entry_points_for\r\n    return OrderedDict((e.name, e.load()) for e in cls.entry_points().get(key, {}))\r\n  File \"/usr/lib/python2.7/collections.py\", line 69, in __init__\r\n    self.__update(*args, **kwds)\r\n  File \"/usr/lib/python2.7/_abcoll.py\", line 571, in update\r\n    for key, value in other:\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/run/plugin/base.py\", line 18, in <genexpr>\r\n    return OrderedDict((e.name, e.load()) for e in cls.entry_points().get(key, {}))\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/importlib_metadata/__init__.py\", line 96, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 11, in <module>\r\n    from virtualenv.seed.embed.wheels.acquire import WheelDownloadFail, get_wheels\r\n  File \"/afs/csail.mit.edu/u/j/jecummin/.local/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 17, in <module>\r\n    from virtualenv.util.zipapp import ensure_file_on_disk\r\nImportError: cannot import name ensure_file_on_disk\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1875", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1875/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1875/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1875/events", "html_url": "https://github.com/pypa/virtualenv/issues/1875", "id": 645390253, "node_id": "MDU6SXNzdWU2NDUzOTAyNTM=", "number": 1875, "title": "ImportError: No module named 'virtualenv.seed.via_app_data'", "user": {"login": "quarthex", "id": 7620082, "node_id": "MDQ6VXNlcjc2MjAwODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/7620082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quarthex", "html_url": "https://github.com/quarthex", "followers_url": "https://api.github.com/users/quarthex/followers", "following_url": "https://api.github.com/users/quarthex/following{/other_user}", "gists_url": "https://api.github.com/users/quarthex/gists{/gist_id}", "starred_url": "https://api.github.com/users/quarthex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quarthex/subscriptions", "organizations_url": "https://api.github.com/users/quarthex/orgs", "repos_url": "https://api.github.com/users/quarthex/repos", "events_url": "https://api.github.com/users/quarthex/events{/privacy}", "received_events_url": "https://api.github.com/users/quarthex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-25T09:22:09Z", "updated_at": "2020-07-17T06:16:46Z", "closed_at": "2020-06-25T12:54:19Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "**Issue**\r\n\r\nA module seems to be missing.\r\n\r\n```sh\r\n$ /cygdrive/c/Python34/python -m virtualenv -vvv --with-traceback\r\n234 setup logging to NOTSET [DEBUG report:42]\r\n250 find interpreter for spec PythonSpec(path=C:\\Python34\\python.exe) [INFO builtin:44]\r\n250 proposed PythonInfo(spec=CPython3.4.4.final.0-32, exe=C:\\Python34\\python.exe, platform=win32, version='3.4.4 (v3.4.4:737efcadf5a6, Dec 20 2015, 19:28:18) [MSC v.1600 32 bit (Intel)]', encoding_fs_io=mbcs-cp1252) [INFO builtin:50]\r\n250 accepted PythonInfo(spec=CPython3.4.4.final.0-32, exe=C:\\Python34\\python.exe, platform=win32, version='3.4.4 (v3.4.4:737efcadf5a6, Dec 20 2015, 19:28:18) [MSC v.1600 32 bit (Intel)]', encoding_fs_io=mbcs-cp1252) [DEBUG builtin:52]\r\n265 symlink on filesystem does not work [DEBUG info:47]\r\n265 filesystem is not case-sensitive [DEBUG info:28]\r\nTraceback (most recent call last):\r\n  File \"C:\\Python34\\lib\\runpy.py\", line 170, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\Python34\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\__main__.py\", line 77, in <module>\r\n    run_with_catch()  # pragma: no cov\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\__main__.py\", line 63, in run_with_catch\r\n    run(args, options)\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\__main__.py\", line 17, in run\r\n    session = cli_run(args, options)\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\__init__.py\", line 24, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\__init__.py\", line 32, in session_via_cli\r\n    parser, elements = build_parser(args, options)\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\__init__.py\", line 60, in build_parser\r\n    SeederSelector(interpreter, parser),\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\plugin\\seeders.py\", line 8, in __init__\r\n    possible = self.options(\"virtualenv.seed\")\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\plugin\\base.py\", line 39, in options\r\n    cls._OPTIONS = cls.entry_points_for(key)\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\plugin\\base.py\", line 18, in entry_points_for\r\n    return OrderedDict((e.name, e.load()) for e in cls.entry_points().get(key, {}))\r\n  File \"C:\\Python34\\lib\\collections\\__init__.py\", line 60, in __init__\r\n    self.__update(*args, **kwds)\r\n  File \"C:\\Python34\\lib\\_collections_abc.py\", line 597, in update\r\n    for key, value in other:\r\n  File \"C:\\cygwin\\home\\\ud83d\ude10\\Python\\Python34\\site-packages\\virtualenv\\run\\plugin\\base.py\", line 18, in <genexpr>\r\n    return OrderedDict((e.name, e.load()) for e in cls.entry_points().get(key, {}))\r\n  File \"C:\\Python34\\lib\\site-packages\\importlib_metadata\\__init__.py\", line 95, in load\r\n    module = import_module(match.group('module'))\r\n  File \"C:\\Python34\\lib\\importlib\\__init__.py\", line 109, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 2212, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 2254, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 2237, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 2224, in _find_and_load_unlocked\r\nImportError: No module named 'virtualenv.seed.via_app_data'\r\n```\r\n\r\n**Environment**\r\n\r\n- OS: Windows XP / Cygwin\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage             Version\r\n------------------- -------\r\nappdirs             1.4.3\r\ncx-Freeze           5.0.2\r\ndistlib             0.3.0\r\nfilelock            3.0.12\r\nimportlib-metadata  1.1.3\r\nimportlib-resources 1.0.2\r\nnumpy               1.16.6\r\npathlib2            2.3.5\r\nPillow              5.3.0 \r\npip                 19.1.1\r\npy2exe              0.9.2.2\r\nPyIDL               2.65\r\nPypubsub            4.0.0\r\npyreadline          2.1\r\npyserial            3.0.1\r\nscandir             1.10.0\r\nsetuptools          43.0.0\r\nsix                 1.15.0\r\ntyping              3.7.4.1\r\nvirtualenv          20.0.25\r\nwxPython            4.0.6\r\nzipp                1.2.0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1874", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1874/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1874/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1874/events", "html_url": "https://github.com/pypa/virtualenv/issues/1874", "id": 644990416, "node_id": "MDU6SXNzdWU2NDQ5OTA0MTY=", "number": 1874, "title": "Activate script doesn't work in cygwin", "user": {"login": "zakhark", "id": 12023245, "node_id": "MDQ6VXNlcjEyMDIzMjQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/12023245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zakhark", "html_url": "https://github.com/zakhark", "followers_url": "https://api.github.com/users/zakhark/followers", "following_url": "https://api.github.com/users/zakhark/following{/other_user}", "gists_url": "https://api.github.com/users/zakhark/gists{/gist_id}", "starred_url": "https://api.github.com/users/zakhark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zakhark/subscriptions", "organizations_url": "https://api.github.com/users/zakhark/orgs", "repos_url": "https://api.github.com/users/zakhark/repos", "events_url": "https://api.github.com/users/zakhark/events{/privacy}", "received_events_url": "https://api.github.com/users/zakhark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-24T21:28:28Z", "updated_at": "2020-07-31T15:37:01Z", "closed_at": "2020-07-31T15:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nActivate script doesn't work properly on Windows under cygwin\r\n\r\n```\r\nAdministrator@EC2AMAZ-O1FN3D7 ~\r\n$ source v20.0.15/Scripts/activate\r\n-bash: $'\\r': command not found\r\n-bash: $'\\r': command not found\r\n-bash: v20.0.15/Scripts/activate: line 10: syntax error near unexpected token `$'{\\r''\r\n'bash: v20.0.15/Scripts/activate: line 10: `deactivate () {\r\n```\r\n\r\nLooking at the file, it says `ASCII text, with CRLF line terminators` and vim says it's `fileformat=dos`\r\nI see it starting in 20.0.0\r\nIf I pip install 16.7.10 on the same box it works ok and shows activate being `ASCII text`\r\n\r\nIf I run `dos2unix` against the activate file created by version 20.0.0+ it fixes it.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Windows Server 2016 R2 64-bit\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n```\r\n$ pip list\r\nPackage             Version\r\n------------------- -------\r\nappdirs             1.4.4\r\ndistlib             0.3.0\r\nfilelock            3.0.12\r\nimportlib-metadata  1.6.1\r\nimportlib-resources 1.5.0\r\npip                 20.1.1\r\nsetuptools          47.3.1\r\nsix                 1.15.0\r\nvirtualenv          20.0.15\r\nwheel               0.34.2\r\nzipp                3.1.0\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```\r\n$ python -m virtualenv '--python=C:\\python\\Python36\\python.exe' v20.0.15 -vvv --with-traceback\r\n109 setup logging to NOTSET [DEBUG report:43]\r\n125 find interpreter for spec PythonSpec(path=C:\\python\\Python36\\python.exe) [INFO builtin:44]\r\n125 Attempting to acquire lock 2052070016840 on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.15\\e9a5c692229444628246990c80852bb42e5af3e1360d75b586c9caa1cffe2051.lock [DEBUG filelock:270]\r\n125 Lock 2052070016840 acquired on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.15\\e9a5c692229444628246990c80852bb42e5af3e1360d75b586c9caa1cffe2051.lock [INFO filelock:274]\r\n125 get interpreter info via cmd: 'C:\\python\\Python36\\python.exe' 'C:\\home\\Administrator\\.virtualenvs\\lib\\site-packages\\virtualenv\\discovery\\py_info.py' [DEBUG cached_py_info:108]\r\n234 write PythonInfo to C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.15\\e9a5c692229444628246990c80852bb42e5af3e1360d75b586c9caa1cffe2051.json for C:\\python\\Python36\\python.exe [DEBUG cached_py_info:94]\r\n234 Attempting to release lock 2052070016840 on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.15\\e9a5c692229444628246990c80852bb42e5af3e1360d75b586c9caa1cffe2051.lock [DEBUG filelock:315]\r\n234 Lock 2052070016840 released on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.15\\e9a5c692229444628246990c80852bb42e5af3e1360d75b586c9caa1cffe2051.lock [INFO filelock:318]\r\n234 proposed PythonInfo(spec=CPython3.6.8.final.0-64, exe=C:\\python\\Python36\\python.exe, platform=win32, version='3.6.8 (tags/v3.6.8:3c6b436a57, Dec 24 2018, 00:16:47) [MSC v.1916 64 bit (AMD64)]', encoding_fs_io=utf-8-cp1252) [INFO builtin:50]\r\n234 accepted PythonInfo(spec=CPython3.6.8.final.0-64, exe=C:\\python\\Python36\\python.exe, platform=win32, version='3.6.8 (tags/v3.6.8:3c6b436a57, Dec 24 2018, 00:16:47) [MSC v.1916 64 bit (AMD64)]', encoding_fs_io=utf-8-cp1252) [DEBUG builtin:52]\r\n249 symlink on filesystem does work [DEBUG info:47]\r\n249 filesystem is not case-sensitive [DEBUG info:28]\r\n328 create virtual environment via CPython3Windows(dest=C:\\cygwin\\home\\Administrator\\v20.0.15, clear=False, global=False) [INFO session:52]\r\n328 create folder C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages [DEBUG _sync:21]\r\n343 create folder C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts [DEBUG _sync:21]\r\n343 write C:\\cygwin\\home\\Administrator\\v20.0.15\\pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n343 \thome = C:\\python\\Python36 [DEBUG pyenv_cfg:38]\r\n343 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n343 \tversion_info = 3.6.8.final.0 [DEBUG pyenv_cfg:38]\r\n343 \tvirtualenv = 20.0.15 [DEBUG pyenv_cfg:38]\r\n343 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n343 \tbase-prefix = C:\\python\\Python36 [DEBUG pyenv_cfg:38]\r\n343 \tbase-exec-prefix = C:\\python\\Python36 [DEBUG pyenv_cfg:38]\r\n343 \tbase-executable = C:\\python\\Python36\\python.exe [DEBUG pyenv_cfg:38]\r\n343 symlink C:\\python\\Python36\\python.exe to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\python.exe [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\pythonw.exe to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\pythonw.exe [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\python3.dll to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\python3.dll [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\python36.dll to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\python36.dll [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\vcruntime140.dll to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\vcruntime140.dll [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\pyexpat.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\pyexpat.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\select.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\select.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\sqlite3.dll to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\sqlite3.dll [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\tcl86t.dll to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\tcl86t.dll [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\tk86t.dll to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\tk86t.dll [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\unicodedata.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\unicodedata.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\winsound.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\winsound.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_asyncio.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_asyncio.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_bz2.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_bz2.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_ctypes.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_ctypes.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_ctypes_test.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_ctypes_test.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_decimal.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_decimal.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_distutils_findvs.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_distutils_findvs.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_elementtree.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_elementtree.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_hashlib.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_hashlib.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_lzma.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_lzma.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_msi.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_msi.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_multiprocessing.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_multiprocessing.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_overlapped.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_overlapped.pyd [DEBUG _sync:40]\r\n343 symlink C:\\python\\Python36\\DLLs\\_socket.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_socket.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_sqlite3.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_sqlite3.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_ssl.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_ssl.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_testbuffer.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_testbuffer.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_testcapi.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_testcapi.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_testconsole.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_testconsole.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_testimportmultiple.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_testimportmultiple.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_testmultiphase.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_testmultiphase.pyd [DEBUG _sync:40]\r\n359 symlink C:\\python\\Python36\\DLLs\\_tkinter.pyd to C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\_tkinter.pyd [DEBUG _sync:40]\r\n359 create virtualenv import hook file C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\_virtualenv.pth [DEBUG api:76]\r\n359 create C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\_virtualenv.py [DEBUG api:79]\r\n359 ============================== target debug ============================== [DEBUG session:54]\r\n359 debug via 'C:\\cygwin\\home\\Administrator\\v20.0.15\\Scripts\\python.exe' 'C:\\home\\Administrator\\.virtualenvs\\lib\\site-packages\\virtualenv\\create\\debug.py' [DEBUG creator:187]\r\n359 {\r\n  \"sys\": {\r\n    \"executable\": \"C:\\\\cygwin\\\\home\\\\Administrator\\\\v20.0.15\\\\Scripts\\\\python.exe\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"C:\\\\cygwin\\\\home\\\\Administrator\\\\v20.0.15\",\r\n    \"base_prefix\": \"C:\\\\python\\\\Python36\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"C:\\\\cygwin\\\\home\\\\Administrator\\\\v20.0.15\",\r\n    \"base_exec_prefix\": \"C:\\\\python\\\\Python36\",\r\n    \"path\": [\r\n      \"C:\\\\cygwin\\\\home\\\\Administrator\\\\v20.0.15\\\\Scripts\\\\python36.zip\",\r\n      \"C:\\\\python\\\\Python36\\\\DLLs\",\r\n      \"C:\\\\python\\\\Python36\\\\lib\",\r\n      \"C:\\\\python\\\\Python36\",\r\n      \"C:\\\\cygwin\\\\home\\\\Administrator\\\\v20.0.15\",\r\n      \"C:\\\\cygwin\\\\home\\\\Administrator\\\\v20.0.15\\\\lib\\\\site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"cp1252\"\r\n  },\r\n  \"version\": \"3.6.8 (tags/v3.6.8:3c6b436a57, Dec 24 2018, 00:16:47) [MSC v.1916 64 bit (AMD64)]\",\r\n  \"os\": \"<module 'os' from 'C:\\\\\\\\python\\\\\\\\Python36\\\\\\\\lib\\\\\\\\os.py'>\",\r\n  \"site\": \"<module 'site' from 'C:\\\\\\\\python\\\\\\\\Python36\\\\\\\\lib\\\\\\\\site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from 'C:\\\\\\\\python\\\\\\\\Python36\\\\\\\\lib\\\\\\\\datetime.py'>\",\r\n  \"math\": \"<module 'math' (built-in)>\",\r\n  \"json\": \"<module 'json' from 'C:\\\\\\\\python\\\\\\\\Python36\\\\\\\\lib\\\\\\\\json\\\\\\\\__init__.py'>\"\r\n} [DEBUG session:55]\r\n437 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1) [INFO session:59]\r\n437 Attempting to acquire lock 2052077819104 on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels.lock [DEBUG filelock:270]\r\n437 Lock 2052077819104 acquired on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels.lock [INFO filelock:274]\r\n437 get bundled wheel C:\\home\\Administrator\\.virtualenvs\\lib\\site-packages\\virtualenv\\seed\\embed\\wheels\\pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n453 get bundled wheel C:\\home\\Administrator\\.virtualenvs\\lib\\site-packages\\virtualenv\\seed\\embed\\wheels\\setuptools-46.1.3-py3-none-any.whl [DEBUG acquire:51]\r\n453 get bundled wheel C:\\home\\Administrator\\.virtualenvs\\lib\\site-packages\\virtualenv\\seed\\embed\\wheels\\wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n453 install setuptools from wheel C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels\\setuptools-46.1.3-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n453 build install image to C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\setuptools-46.1.3-py3-none-any of setuptools-46.1.3-py3-none-any.whl [DEBUG base:57]\r\n453 install wheel from wheel C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels\\wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n453 install pip from wheel C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels\\pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n453 build install image to C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\pip-20.0.2-py2.py3-none-any of pip-20.0.2-py2.py3-none-any.whl [DEBUG base:57]\r\n453 build install image to C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\wheel-0.34.2-py2.py3-none-any of wheel-0.34.2-py2.py3-none-any.whl [DEBUG base:57]\r\n515 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\wheel-0.34.2-py2.py3-none-any\\wheel to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\wheel [DEBUG _sync:48]\r\n593 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\wheel-0.34.2-py2.py3-none-any\\wheel-0.34.2.dist-info to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n640 copy C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\setuptools-46.1.3-py3-none-any\\easy_install.py to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\easy_install.py [DEBUG _sync:48]\r\n640 copy C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\wheel-0.34.2-py2.py3-none-any\\wheel-0.34.2.virtualenv to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n640 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\setuptools-46.1.3-py3-none-any\\pkg_resources to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\pkg_resources [DEBUG _sync:48]\r\n656 generated console scripts wheel3.exe wheel.exe wheel-3.6.exe [DEBUG base:53]\r\n765 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\setuptools-46.1.3-py3-none-any\\setuptools to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\setuptools [DEBUG _sync:48]\r\n1296 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\pip-20.0.2-py2.py3-none-any\\pip to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\pip [DEBUG _sync:48]\r\n1359 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\setuptools-46.1.3-py3-none-any\\setuptools-46.1.3.dist-info to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\setuptools-46.1.3.dist-info [DEBUG _sync:48]\r\n1406 copy C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\setuptools-46.1.3-py3-none-any\\setuptools-46.1.3.virtualenv to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\setuptools-46.1.3.virtualenv [DEBUG _sync:48]\r\n1406 generated console scripts easy_install-3.6.exe easy_install.exe easy_install3.exe [DEBUG base:53]\r\n3609 copy directory C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\pip-20.0.2-py2.py3-none-any\\pip-20.0.2.dist-info to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\pip-20.0.2.dist-info [DEBUG _sync:48]\r\n3624 copy C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\image\\CopyPipInstall\\pip-20.0.2-py2.py3-none-any\\pip-20.0.2.virtualenv to C:\\cygwin\\home\\Administrator\\v20.0.15\\Lib\\site-packages\\pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n3624 generated console scripts pip.exe pip3.6.exe pip3.exe pip-3.6.exe [DEBUG base:53]\r\n3624 Attempting to release lock 2052077819104 on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels.lock [DEBUG filelock:315]\r\n3624 Lock 2052077819104 released on C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1\\3.6\\wheels.lock [INFO filelock:318]\r\n3624 add activators for Bash, Batch, Fish, PowerShell, Python, Xonsh [INFO session:65]\r\n3718 write C:\\cygwin\\home\\Administrator\\v20.0.15\\pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n3718 \thome = C:\\python\\Python36 [DEBUG pyenv_cfg:38]\r\n3718 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n3718 \tversion_info = 3.6.8.final.0 [DEBUG pyenv_cfg:38]\r\n3718 \tvirtualenv = 20.0.15 [DEBUG pyenv_cfg:38]\r\n3718 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n3718 \tbase-prefix = C:\\python\\Python36 [DEBUG pyenv_cfg:38]\r\n3718 \tbase-exec-prefix = C:\\python\\Python36 [DEBUG pyenv_cfg:38]\r\n3718 \tbase-executable = C:\\python\\Python36\\python.exe [DEBUG pyenv_cfg:38]\r\n3718 created virtual environment CPython3.6.8.final.0-64 in 3609ms\r\n  creator CPython3Windows(dest=C:\\cygwin\\home\\Administrator\\v20.0.15, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=C:\\Users\\Administrator\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1)\r\n  activators BashActivator,BatchActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1873", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1873/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1873/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1873/events", "html_url": "https://github.com/pypa/virtualenv/issues/1873", "id": 644476640, "node_id": "MDU6SXNzdWU2NDQ0NzY2NDA=", "number": 1873, "title": "No module named 'virtualenv.seed.via_app_data'", "user": {"login": "make-ing", "id": 1367506, "node_id": "MDQ6VXNlcjEzNjc1MDY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1367506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/make-ing", "html_url": "https://github.com/make-ing", "followers_url": "https://api.github.com/users/make-ing/followers", "following_url": "https://api.github.com/users/make-ing/following{/other_user}", "gists_url": "https://api.github.com/users/make-ing/gists{/gist_id}", "starred_url": "https://api.github.com/users/make-ing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/make-ing/subscriptions", "organizations_url": "https://api.github.com/users/make-ing/orgs", "repos_url": "https://api.github.com/users/make-ing/repos", "events_url": "https://api.github.com/users/make-ing/events{/privacy}", "received_events_url": "https://api.github.com/users/make-ing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2020-06-24T09:47:21Z", "updated_at": "2020-07-16T16:03:49Z", "closed_at": "2020-06-24T10:07:19Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "**Issue**\r\n\r\nOn calling ``virtualenv test`` i expect it to create a folder named test with all the virtual environment files in there. The observed behaviour is just the following message with no folder test created:\r\n``ModuleNotFoundError: No module named 'virtualenv.seed.via_app_data'``\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu 20.04\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage                Version\r\n---------------------- -------------\r\nappdirs                1.4.4\r\napturl                 0.5.2\r\nawscli                 1.17.14\r\nblinker                1.4\r\nbotocore               1.14.14\r\nBrlapi                 0.7.0\r\ncertifi                2019.11.28\r\nchardet                3.0.4\r\nchrome-gnome-shell     0.0.0\r\ncolorama               0.4.3\r\ncommand-not-found      0.3\r\ncryptography           2.8\r\ncupshelpers            1.0\r\ndbus-python            1.2.16\r\ndefer                  1.0.6\r\ndistlib                0.3.0\r\ndistro                 1.4.0\r\ndistro-info            0.23ubuntu1\r\ndocutils               0.16\r\nentrypoints            0.3\r\nfilelock               3.0.12\r\nhttpie                 1.0.3\r\nhttplib2               0.14.0\r\nidna                   2.8\r\nimportlib-metadata     1.5.0\r\njmespath               0.9.4\r\nkeyring                18.0.1\r\nlanguage-selector      0.1\r\nlaunchpadlib           1.10.13\r\nlazr.restfulclient     0.14.2\r\nlazr.uri               1.0.3\r\nlouis                  3.12.0\r\nmacaroonbakery         1.3.1\r\nmore-itertools         4.2.0\r\nnetifaces              0.10.4\r\noauthlib               3.1.0\r\nolefile                0.46\r\npexpect                4.6.0\r\nPillow                 7.0.0\r\npip                    20.1.1\r\nprotobuf               3.6.1\r\npyasn1                 0.4.2\r\npycairo                1.16.2\r\npycups                 1.9.73\r\nPygments               2.6.1\r\nPyGObject              3.36.0\r\nPyJWT                  1.7.1\r\npymacaroons            0.13.0\r\nPyNaCl                 1.3.0\r\npyRFC3339              1.1\r\npython-apt             2.0.0\r\npython-dateutil        2.7.3\r\npython-debian          0.1.36ubuntu1\r\npytz                   2019.3\r\npyxdg                  0.26\r\nPyYAML                 5.3.1\r\nreportlab              3.5.34\r\nrequests               2.22.0\r\nrequests-unixsocket    0.2.0\r\nroman                  2.0.0\r\nrsa                    4.0\r\ns3transfer             0.3.3\r\nSecretStorage          2.3.1\r\nsetuptools             45.2.0\r\nsimplejson             3.16.0\r\nsix                    1.14.0\r\nsystemd-python         234\r\nubuntu-advantage-tools 20.3\r\nubuntu-drivers-common  0.0.0\r\nufw                    0.36\r\nunattended-upgrades    0.1\r\nurllib3                1.25.8\r\nvirtualenv             20.0.24\r\nwadllib                1.3.3\r\nwheel                  0.34.2\r\nxkit                   0.0.0\r\nzipp                   1.0.0\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\n```console\r\n71 setup logging to NOTSET [DEBUG report:42]\r\n88 find interpreter for spec PythonSpec(path=/usr/bin/python3) [INFO builtin:44]\r\n88 proposed PythonInfo(spec=CPython3.8.2.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.8.2 (default, Apr 27 2020, 15:53:34) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n88 accepted PythonInfo(spec=CPython3.8.2.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.8.2 (default, Apr 27 2020, 15:53:34) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n89 filesystem is case-sensitive [DEBUG info:28]\r\nTraceback (most recent call last):\r\n  File \"/home/florian/.local/bin/virtualenv\", line 8, in <module>\r\n    sys.exit(run_with_catch())\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/__main__.py\", line 63, in run_with_catch\r\n    run(args, options)\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/__main__.py\", line 17, in run\r\n    session = cli_run(args, options)\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/__init__.py\", line 24, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/__init__.py\", line 32, in session_via_cli\r\n    parser, elements = build_parser(args, options)\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/__init__.py\", line 60, in build_parser\r\n    SeederSelector(interpreter, parser),\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/plugin/seeders.py\", line 8, in __init__\r\n    possible = self.options(\"virtualenv.seed\")\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/plugin/base.py\", line 39, in options\r\n    cls._OPTIONS = cls.entry_points_for(key)\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/plugin/base.py\", line 18, in entry_points_for\r\n    return OrderedDict((e.name, e.load()) for e in cls.entry_points().get(key, {}))\r\n  File \"/home/florian/.local/lib/python3.8/site-packages/virtualenv/run/plugin/base.py\", line 18, in <genexpr>\r\n    return OrderedDict((e.name, e.load()) for e in cls.entry_points().get(key, {}))\r\n  File \"/usr/lib/python3.8/importlib/metadata.py\", line 77, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/usr/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 961, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 973, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'virtualenv.seed.via_app_data'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1872", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1872/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1872/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1872/events", "html_url": "https://github.com/pypa/virtualenv/issues/1872", "id": 644345267, "node_id": "MDU6SXNzdWU2NDQzNDUyNjc=", "number": 1872, "title": "Support for fish?", "user": {"login": "mrillusi0n", "id": 37063502, "node_id": "MDQ6VXNlcjM3MDYzNTAy", "avatar_url": "https://avatars1.githubusercontent.com/u/37063502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrillusi0n", "html_url": "https://github.com/mrillusi0n", "followers_url": "https://api.github.com/users/mrillusi0n/followers", "following_url": "https://api.github.com/users/mrillusi0n/following{/other_user}", "gists_url": "https://api.github.com/users/mrillusi0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrillusi0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrillusi0n/subscriptions", "organizations_url": "https://api.github.com/users/mrillusi0n/orgs", "repos_url": "https://api.github.com/users/mrillusi0n/repos", "events_url": "https://api.github.com/users/mrillusi0n/events{/privacy}", "received_events_url": "https://api.github.com/users/mrillusi0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-24T06:06:38Z", "updated_at": "2020-06-24T08:37:09Z", "closed_at": "2020-06-24T08:36:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was using the [**friendly, interactive shell**](https://fishshell.com/) which uses a syntax that doesn't match with that of bash or zsh. So, had to do some modifications to the `activate` script to make it comply with fish's syntax to get it working. Will this shell be supported?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1869", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1869/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1869/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1869/events", "html_url": "https://github.com/pypa/virtualenv/issues/1869", "id": 643788646, "node_id": "MDU6SXNzdWU2NDM3ODg2NDY=", "number": 1869, "title": "virtualenv parallel run silently breaks", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-23T12:12:56Z", "updated_at": "2020-06-23T16:30:58Z", "closed_at": "2020-06-23T16:30:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running virtualenv creation in parallel, the app-data image builder is not synchronized and inconsistent states might break the virtual environment creation. Furthermore, in this case no error is raised in case of the failed commands.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1864", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1864/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1864/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1864/events", "html_url": "https://github.com/pypa/virtualenv/issues/1864", "id": 642515691, "node_id": "MDU6SXNzdWU2NDI1MTU2OTE=", "number": 1864, "title": "Display what wheel versions are seeded", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-21T07:51:52Z", "updated_at": "2020-06-22T10:24:47Z", "closed_at": "2020-06-21T07:52:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Otherwise, it's hard to know what versions of setuptools/pip/wheels were seeded.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1863", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1863/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1863/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1863/events", "html_url": "https://github.com/pypa/virtualenv/issues/1863", "id": 641571992, "node_id": "MDU6SXNzdWU2NDE1NzE5OTI=", "number": 1863, "title": "Can't create virtualenv on Mac Catalilna", "user": {"login": "davidcsi", "id": 902640, "node_id": "MDQ6VXNlcjkwMjY0MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/902640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidcsi", "html_url": "https://github.com/davidcsi", "followers_url": "https://api.github.com/users/davidcsi/followers", "following_url": "https://api.github.com/users/davidcsi/following{/other_user}", "gists_url": "https://api.github.com/users/davidcsi/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidcsi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidcsi/subscriptions", "organizations_url": "https://api.github.com/users/davidcsi/orgs", "repos_url": "https://api.github.com/users/davidcsi/repos", "events_url": "https://api.github.com/users/davidcsi/events{/privacy}", "received_events_url": "https://api.github.com/users/davidcsi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-18T21:54:27Z", "updated_at": "2020-06-23T17:38:16Z", "closed_at": "2020-06-21T08:12:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nI'm trying to create a new virtual environment and it's failing. This has been going for some time and I have no idea how to solve it.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: MAC OSX 10.15.5\r\n- \r\n\r\n```\r\npip3 list   \r\nPackage                       Version\r\n----------------------------- ----------\r\napipkg                        1.5\r\nappnope                       0.1.0\r\nasn1crypto                    0.24.0\r\nastroid                       2.0.4\r\nattrs                         19.3.0\r\nautopep8                      1.4.4\r\nbackcall                      0.2.0\r\nbackports.functools-lru-cache 1.5\r\nbcrypt                        3.1.4\r\nbeautifulsoup4                4.9.1\r\nboto                          2.49.0\r\nboto3                         1.9.25\r\nbotocore                      1.12.25\r\nbrython                       3.8.9\r\ncchardet                      2.1.6\r\ncertifi                       2020.4.5.2\r\ncffi                          1.14.0\r\nchardet                       3.0.4\r\ncheroot                       6.5.2\r\nCherryPy                      18.0.1\r\ncolorama                      0.4.3\r\ncommonmark                    0.9.1\r\ncoverage                      5.1\r\ncryptography                  2.9.2\r\ndecorator                     4.4.2\r\ndocutils                      0.14\r\ndocx                          0.2.4\r\netree-trunc                   0.2\r\nexecnet                       1.7.1\r\nflake8                        3.8.3\r\nhtml-to-etree                 0.2.0\r\nidna                          2.9\r\nimportlib-metadata            1.6.1\r\nipdb                          0.13.2\r\nipython                       7.15.0\r\nipython-genutils              0.2.0\r\nisort                         4.3.4\r\njaraco.functools              1.20\r\njedi                          0.17.0\r\njmespath                      0.9.3\r\nlazy-object-proxy             1.3.1\r\nlxml                          4.2.5\r\nlxml-asserts                  0.1.2\r\nmccabe                        0.6.1\r\nmore-itertools                4.3.0\r\nnose                          1.3.7\r\npackaging                     20.4\r\nparameterized                 0.7.4\r\nparamiko                      2.4.2\r\nparso                         0.7.0\r\npdfminer.six                  20200517\r\npexpect                       4.8.0\r\npickleshare                   0.7.5\r\nPillow                        5.3.0\r\npip                           20.1.1\r\npluggy                        0.13.1\r\nportend                       2.3\r\npprintpp                      0.4.0\r\nprompt-toolkit                3.0.5\r\nptyprocess                    0.6.0\r\npy                            1.8.2\r\npyasn1                        0.4.4\r\npycodestyle                   2.6.0\r\npycparser                     2.19\r\npycryptodome                  3.9.7\r\npyflakes                      2.2.0\r\nPygments                      2.6.1\r\npylint                        2.1.1\r\nPyMySQL                       0.9.3\r\nPyNaCl                        1.3.0\r\npyOpenSSL                     19.1.0\r\npyotp                         2.3.0\r\npyparsing                     2.4.7\r\npytest                        5.4.3\r\npytest-cov                    2.10.0\r\npytest-forked                 1.1.3\r\npytest-html                   2.0.1\r\npytest-metadata               1.9.0\r\npytest-ordering               0.6\r\npytest-rerunfailures          9.0\r\npytest-xdist                  1.32.0\r\npython-dateutil               2.7.3\r\npytz                          2018.7\r\nrequests                      2.24.0\r\nrich                          2.2.3\r\ns3transfer                    0.1.13\r\nselenium                      3.141.0\r\nselenium-base                 0.1.0\r\nseleniumbase                  1.40.2\r\nsetuptools                    47.3.1\r\nsetuptools-scm                4.1.2\r\nsix                           1.11.0\r\nsortedcontainers              2.2.2\r\nsoupsieve                     2.0.1\r\nsubprocess32                  3.5.3\r\ntempora                       1.14\r\ntermcolor                     1.1.0\r\ntraitlets                     4.3.3\r\ntyping-extensions             3.7.4.2\r\nurllib3                       1.25.9\r\nvirtualenv                    16.7.2\r\nw3lib                         1.22.0\r\nwcwidth                       0.2.4\r\nwheel                         0.33.6\r\nwrapt                         1.10.11\r\nzc.lockfile                   1.4\r\nzipp                          3.1.0\r\n```\r\n\r\n\r\nof the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```\r\n virtualenv -p `which python3` -vvv venv\r\nRunning virtualenv with interpreter /usr/bin/python3\r\nAlready using interpreter /Applications/Xcode.app/Contents/Developer/usr/bin/python3\r\nUsing base prefix '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7'\r\nCreating /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7\r\nSymlinking Python bootstrap modules\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/lib-dynload\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/config-3.7m-darwin\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/os.py\r\n  Ignoring built-in bootstrap module: posix\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/posixpath.py\r\n  Cannot import bootstrap module: nt\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/ntpath.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/genericpath.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/fnmatch.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/locale.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/encodings\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/codecs.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/stat.py\r\n  Cannot import bootstrap module: UserDict\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/readline.so\r\n  Cannot import bootstrap module: copy_reg\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/types.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/re.py\r\n  Cannot import bootstrap module: sre\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/sre_parse.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/sre_constants.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/sre_compile.py\r\n  File /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/lib-dynload/zlib.cpython-37m-darwin.so already exists\r\n  Cannot import bootstrap module: _abcoll\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/warnings.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/linecache.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/abc.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/io.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/_weakrefset.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/copyreg.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/tempfile.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/random.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/__future__.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/collections\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/keyword.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/tarfile.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/shutil.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/struct.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/copy.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/tokenize.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/token.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/functools.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/heapq.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/bisect.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/weakref.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/reprlib.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/base64.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/_dummy_thread.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/hashlib.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/hmac.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/imp.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/importlib\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/rlcompleter.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/operator.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/_collections_abc.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/_bootlocale.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/enum.py\r\n  Symlinking /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/LICENSE.txt\r\nCreating /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/site-packages\r\nWriting /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/site.py\r\nWriting /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/orig-prefix.txt\r\nWriting /Users/david/Documents/mydrive/dev/selenium/venv/lib/python3.7/no-global-site-packages.txt\r\nCreating parent directories for /Users/david/Documents/mydrive/dev/selenium/venv/include\r\nSymlinking /Users/david/Documents/mydrive/dev/selenium/venv/include/python3.7m\r\nCreating /Users/david/Documents/mydrive/dev/selenium/venv/bin\r\nNew python executable in /Users/david/Documents/mydrive/dev/selenium/venv/bin/python3\r\nChanged mode of /Users/david/Documents/mydrive/dev/selenium/venv/bin/python3 to 0o755\r\nAlso creating executable in /Users/david/Documents/mydrive/dev/selenium/venv/bin/python\r\nChanged mode of /Users/david/Documents/mydrive/dev/selenium/venv/bin/python to 0o755\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/virtualenv.py\", line 2635, in <module>\r\n    main()\r\n  File \"/usr/local/lib/python3.7/site-packages/virtualenv.py\", line 870, in main\r\n    symlink=options.symlink,\r\n  File \"/usr/local/lib/python3.7/site-packages/virtualenv.py\", line 1156, in create_environment\r\n    install_python(home_dir, lib_dir, inc_dir, bin_dir, site_packages=site_packages, clear=clear, symlink=symlink)\r\n  File \"/usr/local/lib/python3.7/site-packages/virtualenv.py\", line 1621, in install_python\r\n    shutil.copy(original_python, py_executable)\r\n  File \"/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/lib/python3.7/shutil.py\", line 245, in copy\r\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\r\n  File \"/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/lib/python3.7/shutil.py\", line 103, in copyfile\r\n    if _samefile(src, dst):\r\n  File \"/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/lib/python3.7/shutil.py\", line 88, in _samefile\r\n    return os.path.samefile(src, dst)\r\n  File \"/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/lib/python3.7/genericpath.py\", line 96, in samefile\r\n    s1 = os.stat(f1)\r\nTypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1862", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1862/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1862/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1862/events", "html_url": "https://github.com/pypa/virtualenv/issues/1862", "id": 639581020, "node_id": "MDU6SXNzdWU2Mzk1ODEwMjA=", "number": 1862, "title": ".gitignore added to places it should not", "user": {"login": "stefanholek", "id": 134791, "node_id": "MDQ6VXNlcjEzNDc5MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/134791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanholek", "html_url": "https://github.com/stefanholek", "followers_url": "https://api.github.com/users/stefanholek/followers", "following_url": "https://api.github.com/users/stefanholek/following{/other_user}", "gists_url": "https://api.github.com/users/stefanholek/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanholek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanholek/subscriptions", "organizations_url": "https://api.github.com/users/stefanholek/orgs", "repos_url": "https://api.github.com/users/stefanholek/repos", "events_url": "https://api.github.com/users/stefanholek/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanholek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-16T11:14:12Z", "updated_at": "2020-06-22T10:24:52Z", "closed_at": "2020-06-21T08:23:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Refs #1806\r\n\r\nVirtualenv now drops a .gitignore file. While I understand where you are coming from, it is a mistake to assume virtualenv owns the target directory. For example, I and many people I work with typically do this:\r\n\r\n```\r\ngit clone git@github.com:stefanholek/foo\r\ncd foo\r\nvirtualenv .\r\n./bin/pip install -e .\r\n./bin/python -m unittest\r\n```\r\n\r\nRecent versions of virtualenv add a .gitignore file into my sandbox. To make matters worse it even **overwrites** an existing .gitignore file! This is very clearly wrong.\r\n\r\nI suggest to not write the .gitignore file unless virtualenv has created the target directory, or at least don't write it if the target directory already contains a .git directory and/or a .gitignore file.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1861", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1861/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1861/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1861/events", "html_url": "https://github.com/pypa/virtualenv/issues/1861", "id": 639463849, "node_id": "MDU6SXNzdWU2Mzk0NjM4NDk=", "number": 1861, "title": "virtualenv extends sys.path after sitecustomize.py", "user": {"login": "frenzymadness", "id": 5688939, "node_id": "MDQ6VXNlcjU2ODg5Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5688939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frenzymadness", "html_url": "https://github.com/frenzymadness", "followers_url": "https://api.github.com/users/frenzymadness/followers", "following_url": "https://api.github.com/users/frenzymadness/following{/other_user}", "gists_url": "https://api.github.com/users/frenzymadness/gists{/gist_id}", "starred_url": "https://api.github.com/users/frenzymadness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frenzymadness/subscriptions", "organizations_url": "https://api.github.com/users/frenzymadness/orgs", "repos_url": "https://api.github.com/users/frenzymadness/repos", "events_url": "https://api.github.com/users/frenzymadness/events{/privacy}", "received_events_url": "https://api.github.com/users/frenzymadness/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-06-16T08:11:38Z", "updated_at": "2020-06-21T08:09:38Z", "closed_at": "2020-06-21T08:09:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Let's imagine a situation when I know exactly what I need to have in `sys.path`. An obvious choice, in that case, would be to implement it in `sitecustomize.py` module because according to [Python docs](https://docs.python.org/2/library/site.html#module-site) `sitecustomize.py` or `usercustomize.py` should be the last place where `sys.path` is altered before a script starts.\r\n\r\nI cannot achieve that with Python 2 virtualenv because it alters `sys.path` after `site` module is reloaded and `sitecustomize.py` module is processed.\r\n\r\nReproducer preparation: simple `sitecustomize.py` with two debug prints and a regular virtual environment with Python 2.\r\n```\r\n$ cat ../site/sitecustomize.py \r\nimport sys\r\n\r\nprint(\"1\", sys.path)\r\n\r\nma, mi = sys.version_info[:2]\r\nsys.path = [\"/usr/lib64/python{}.{}/\".format(ma, mi), \"/usr/lib64/python{}.{}/lib-dynload/\".format(ma, mi), \"/booo\"]\r\n\r\nprint(\"2\", sys.path)\r\n\r\n$ virtualenv --version\r\nvirtualenv 20.0.23 from /usr/local/lib/python3.9/site-packages/virtualenv/__init__.py\r\n\r\n$ virtualenv --no-setuptools --no-pip --no-wheel -p python2 testvenv\r\ncreated virtual environment CPython2.7.18.final.0-64 in 127ms\r\n  creator CPython2Posix(dest=/root/home/testvenv, clear=False, global=False)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator\r\n```\r\nWhen I run the Python from the testvenv with `sitecustomize.py` loaded, virtualenv adds its site-packages paths into sys.path after `sitecustomize.py` is loaded:\r\n\r\n```\r\n$ PYTHONPATH=../site/ testvenv/bin/python\r\n('1', ['/root/site', '/usr/lib/python27.zip', '/usr/lib64/python2.7', '/usr/lib64/python2.7/plat-linux2', '/usr/lib64/python2.7/lib-tk', '/usr/lib64/python2.7/lib-old', '/usr/lib64/python2.7/lib-dynload', '/root/home/testvenv/lib64/python2.7/site-packages', '/root/home/testvenv/lib/python2.7/site-packages'])\r\n('2', ['/usr/lib64/python2.7/', '/usr/lib64/python2.7/lib-dynload/', '/booo'])\r\nPython 2.7.18 (default, May  7 2020, 00:00:00) \r\n[GCC 10.0.1 20200430 (Red Hat 10.0.1-0.14)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import sys\r\n>>> sys.path\r\n['', '/usr/lib64/python2.7/', '/usr/lib64/python2.7/lib-dynload/', '/booo', '/root/home/testvenv/lib64/python2.7/site-packages', '/root/home/testvenv/lib/python2.7/site-packages']\r\n>>> \r\n```\r\n\r\nThe code causing this is there (see the order of the commands):\r\nhttps://github.com/pypa/virtualenv/blob/f99353ca3d0ca9e23cfe4b66e54ba653bf99ab4a/src/virtualenv/create/via_global_ref/builtin/python2/site.py#L39-L56\r\n\r\nIt's not possible to simply move the call to `reload` to the end because the `site` module needs to be reloaded sooner to load `addsitedir` function.\r\n\r\nContext: `sitecustomize` is used in pip tests to create an isolated virtual environment but with the latest virtualenv, it isn't isolated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1860", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1860/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1860/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1860/events", "html_url": "https://github.com/pypa/virtualenv/issues/1860", "id": 638661326, "node_id": "MDU6SXNzdWU2Mzg2NjEzMjY=", "number": 1860, "title": "Cannot import name 'six' from 'pip._vendor' inside virtual environment on Debian", "user": {"login": "freezed", "id": 4021401, "node_id": "MDQ6VXNlcjQwMjE0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4021401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freezed", "html_url": "https://github.com/freezed", "followers_url": "https://api.github.com/users/freezed/followers", "following_url": "https://api.github.com/users/freezed/following{/other_user}", "gists_url": "https://api.github.com/users/freezed/gists{/gist_id}", "starred_url": "https://api.github.com/users/freezed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freezed/subscriptions", "organizations_url": "https://api.github.com/users/freezed/orgs", "repos_url": "https://api.github.com/users/freezed/repos", "events_url": "https://api.github.com/users/freezed/events{/privacy}", "received_events_url": "https://api.github.com/users/freezed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-15T08:46:06Z", "updated_at": "2020-06-24T10:07:51Z", "closed_at": "2020-06-15T09:59:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Debian/Bullseye (testing) the provided `python3` moved from 3.7 to 3.8, I install a fresh `python3.7.7` for projects still using it, but `pip` fails inside virtual environments created with this installation.\r\n\r\n```shell\r\n$ virtualenv --clear -p ~/pylocal/bin/python3.7 .venvpylocal37\r\ncreated virtual environment CPython3.7.7.final.0-64 in 98ms\r\n  creator CPython3Posix(dest=/home/user/git/repo/.venvpylocal37, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, pkg_resources=latest, via=copy, app_data_dir=/home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n$ source .venvpylocal37/bin/activate;pip -V\r\nTraceback (most recent call last):\r\n  File \"/home/user/git/repo/.venvpylocal37/bin/pip\", line 5, in <module>\r\n    from pip._internal.cli.main import main\r\n    File \"/home/user/git/repo/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/main.py\", line 10, in <module>\r\n    from pip._internal.cli.autocompletion import autocomplete\r\n  File \"/home/user/git/repo/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/autocompletion.py\", line 9, in <module>\r\n    from pip._internal.cli.main_parser import create_main_parser\r\n  File \"/home/user/git/repo/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/main_parser.py\", line 7, in <module>\r\n    from pip._internal.cli import cmdoptions\r\n  File \"/home/user/git/repo/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/cmdoptions.py\", line 24, in <module>\r\n    from pip._internal.cli.progress_bars import BAR_TYPES\r\n  File \"/home/user/git/repo/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/progress_bars.py\", line 7, in <module>\r\n    from pip._vendor import six\r\nImportError: cannot import name 'six' from 'pip._vendor' (/home/user/git/repo/.venvpylocal37/lib/python3.7/site-packages/pip/_vendor/__init__.py)\r\nzsh: exit 1     pip -V\r\n```\r\n\r\n**Environment**\r\n- OS : Debian/Bullseye (testing)\r\n- Debian's/Bullseye `virtualenv` version : `sudo apt install python3-virtualenv`\r\n```shell\r\n~$ virtualenv --version\r\nvirtualenv 20.0.21+ds from /usr/lib/python3/dist-packages/virtualenv/__init__.py\r\n```\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```shell\r\n~$ pip list\r\nPackage            Version\r\n------------------ ----------\r\nappdirs            1.4.4\r\ncertifi            2020.4.5.1\r\nchardet            3.0.4\r\ndistlib            0.3.0\r\nfilelock           3.0.12\r\nhttplib2           0.18.1\r\nidna               2.9\r\nimportlib-metadata 1.6.0\r\nmore-itertools     4.2.0\r\npip                20.1.1\r\npycurl             7.43.0.2\r\nPygments           2.3.1\r\nPySimpleSOAP       1.16.2\r\npython-apt         2.1.3\r\npython-debian      0.1.37\r\npython-debianbts   3.0.2\r\nPyYAML             5.3.1\r\nreportbug          7.6.0\r\nrequests           2.23.0\r\nsetuptools         46.1.3\r\nsix                1.15.0\r\nurllib3            1.25.9\r\nvirtualenv         20.0.21+ds\r\nwheel              0.34.2\r\nzipp               1.0.0\r\n```\r\n\r\nPython3 installation provided by OS : 3.8 is default, 3.7 is still there  (almost partly) :\r\n```shell\r\n~$ python3 -m pip -V\r\npip 20.1.1 from /usr/lib/python3/dist-packages/pip (python 3.8)\r\n~$ python3.7 -V\r\nPython 3.7.3\r\n~$ python3.7 -m pip -V\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/usr/lib/python3/dist-packages/pip/__main__.py\", line 23, in <module>\r\n    from pip._internal.cli.main import main as _main  # isort:skip # noqa\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/cli/main.py\", line 10, in <module>\r\n    from pip._internal.cli.autocompletion import autocomplete\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/cli/autocompletion.py\", line 9, in <module>\r\n    from pip._internal.cli.main_parser import create_main_parser\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/cli/main_parser.py\", line 7, in <module>\r\n    from pip._internal.cli import cmdoptions\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/cli/cmdoptions.py\", line 19, in <module>\r\n    from distutils.util import strtobool\r\nModuleNotFoundError: No module named 'distutils.util'\r\n```\r\n\r\nMy [`python3.7.7`](https://www.python.org/downloads/release/python-377/) installation in _userland_ follows [this way](https://unix.stackexchange.com/a/350985/280824). I try a `sudo make install`, it do not change situation.\r\n```shell\r\n~$ ./pylocal/bin/python3.7 -m pip -V\r\npip 19.2.3 from /home/user/pylocal/lib/python3.7/site-packages/pip (python 3.7)\r\n~$ ./pylocal/bin/python3.7 -c 'from pip._vendor import six'\r\n~$ source .venvpylocal37/bin/activate\r\n(.venvpylocal37) ~$ pip -V\r\nTraceback (most recent call last):\r\n  File \"/home/user/.venvpylocal37/bin/pip\", line 5, in <module>\r\n    from pip._internal.cli.main import main\r\n  File \"/home/user/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/main.py\", line 10, in <module>\r\n    from pip._internal.cli.autocompletion import autocomplete\r\n  File \"/home/user/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/autocompletion.py\", line 9, in <module>\r\n    from pip._internal.cli.main_parser import create_main_parser\r\n  File \"/home/user/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/main_parser.py\", line 7, in <module>\r\n    from pip._internal.cli import cmdoptions\r\n  File \"/home/user/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/cmdoptions.py\", line 24, in <module>\r\n    from pip._internal.cli.progress_bars import BAR_TYPES\r\n  File \"/home/user/.venvpylocal37/lib/python3.7/site-packages/pip/_internal/cli/progress_bars.py\", line 7, in <module>\r\n    from pip._vendor import six\r\nImportError: cannot import name 'six' from 'pip._vendor' (/home/user/.venvpylocal37/lib/python3.7/site-packages/pip/_vendor/__init__.py)\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\n```shell\r\n~$ virtualenv -vvv --with-traceback --clear -p ~/pythonroot/bin/python3.7 .venvpylocal37\r\n101 setup logging to NOTSET [DEBUG report:42]\r\n114 find interpreter for spec PythonSpec(path=/home/user/pythonroot/bin/python3.7) [INFO builtin:44]\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/virtualenv\", line 11, in <module>\r\n    load_entry_point('virtualenv==20.0.21+ds', 'console_scripts', 'virtualenv')()\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/__main__.py\", line 51, in run_with_catch\r\n    run(args, options)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/run/__init__.py\", line 24, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/run/__init__.py\", line 32, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/run/__init__.py\", line 68, in build_parser\r\n    parser._interpreter = interpreter = discover.interpreter\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/discovery/discover.py\", line 44, in interpreter\r\n    self._interpreter = self.run()\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/discovery/builtin.py\", line 33, in run\r\n    return get_interpreter(self.python_spec, self.app_data.folder)\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/discovery/builtin.py\", line 46, in get_interpreter\r\n    for interpreter, impl_must_match in propose_interpreters(spec, app_data):\r\n  File \"/usr/lib/python3/dist-packages/virtualenv/discovery/builtin.py\", line 61, in propose_interpreters\r\n    os.lstat(spec.path)  # Windows Store Python does not work with os.path.exists, but does for os.lstat\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/user/pythonroot/bin/python3.7'\r\nfred@vdeb:~$ virtualenv -vvv --with-traceback --clear -p ~/pylocal/bin/python3.7 .venvpylocal37\r\n31 setup logging to NOTSET [DEBUG report:42]\r\n38 find interpreter for spec PythonSpec(path=/home/user/pylocal/bin/python3.7) [INFO builtin:44]\r\n46 Attempting to acquire lock 140515931423792 on /home/user/.local/share/virtualenv/py_info/20.0.21+ds/2747778772f3f1c9b7149efaf80ed9d676b13f4b7dbff87c54dadb7c5bf69a39.lock [DEBUG filelock:270]\r\n47 Lock 140515931423792 acquired on /home/user/.local/share/virtualenv/py_info/20.0.21+ds/2747778772f3f1c9b7149efaf80ed9d676b13f4b7dbff87c54dadb7c5bf69a39.lock [INFO filelock:274]\r\n48 get PythonInfo from /home/user/.local/share/virtualenv/py_info/20.0.21+ds/2747778772f3f1c9b7149efaf80ed9d676b13f4b7dbff87c54dadb7c5bf69a39.json for /home/user/pylocal/bin/python3.7 [DEBUG cached_py_info:79]\r\n48 Attempting to release lock 140515931423792 on /home/user/.local/share/virtualenv/py_info/20.0.21+ds/2747778772f3f1c9b7149efaf80ed9d676b13f4b7dbff87c54dadb7c5bf69a39.lock [DEBUG filelock:315]\r\n49 Lock 140515931423792 released on /home/user/.local/share/virtualenv/py_info/20.0.21+ds/2747778772f3f1c9b7149efaf80ed9d676b13f4b7dbff87c54dadb7c5bf69a39.lock [INFO filelock:318]\r\n49 proposed PythonInfo(spec=CPython3.7.7.final.0-64, exe=/home/user/pylocal/bin/python3.7, platform=linux, version='3.7.7 (default, Jun 13 2020, 00:13:49) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n49 accepted PythonInfo(spec=CPython3.7.7.final.0-64, exe=/home/user/pylocal/bin/python3.7, platform=linux, version='3.7.7 (default, Jun 13 2020, 00:13:49) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-UTF-8) [DEBUG builtin:52]\r\n66 filesystem is case-sensitive [DEBUG info:28]\r\n199 create virtual environment via CPython3Posix(dest=/home/user/.venvpylocal37, clear=True, global=False) [INFO session:52]\r\n199 create folder /home/user/.venvpylocal37/bin [DEBUG _sync:25]\r\n200 create folder /home/user/.venvpylocal37/lib/python3.7/site-packages [DEBUG _sync:25]\r\n200 write /home/user/.venvpylocal37/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n200 \thome = /home/user/pylocal [DEBUG pyenv_cfg:38]\r\n200 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n200 \tversion_info = 3.7.7.final.0 [DEBUG pyenv_cfg:38]\r\n200 \tvirtualenv = 20.0.21+ds [DEBUG pyenv_cfg:38]\r\n200 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n200 \tbase-prefix = /home/user/pylocal [DEBUG pyenv_cfg:38]\r\n200 \tbase-exec-prefix = /home/user/pylocal [DEBUG pyenv_cfg:38]\r\n200 \tbase-executable = /home/user/pylocal/bin/python3.7 [DEBUG pyenv_cfg:38]\r\n200 symlink /home/user/pylocal/bin/python3.7 to /home/user/.venvpylocal37/bin/python [DEBUG _sync:44]\r\n201 create virtualenv import hook file /home/user/.venvpylocal37/lib/python3.7/site-packages/_virtualenv.pth [DEBUG api:95]\r\n202 create /home/user/.venvpylocal37/lib/python3.7/site-packages/_virtualenv.py [DEBUG api:98]\r\n202 ============================== target debug ============================== [DEBUG session:54]\r\n202 debug via /home/user/.venvpylocal37/bin/python /usr/lib/python3/dist-packages/virtualenv/create/debug.py [DEBUG creator:206]\r\n202 {\r\n  \"sys\": {\r\n    \"executable\": \"/home/user/.venvpylocal37/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/home/user/.venvpylocal37\",\r\n    \"base_prefix\": \"/home/user/pylocal\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/home/user/.venvpylocal37\",\r\n    \"base_exec_prefix\": \"/home/user/pylocal\",\r\n    \"path\": [\r\n      \"/home/user/pylocal/lib/python37.zip\",\r\n      \"/home/user/pylocal/lib/python3.7\",\r\n      \"/home/user/pylocal/lib/python3.7/lib-dynload\",\r\n      \"/home/user/.venvpylocal37/lib/python3.7/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"UTF-8\"\r\n  },\r\n  \"version\": \"3.7.7 (default, Jun 13 2020, 00:13:49) \\n[GCC 9.3.0]\",\r\n  \"makefile_filename\": \"/home/user/pylocal/lib/python3.7/config-3.7m-x86_64-linux-gnu/Makefile\",\r\n  \"os\": \"<module 'os' from '/home/user/pylocal/lib/python3.7/os.py'>\",\r\n  \"site\": \"<module 'site' from '/home/user/pylocal/lib/python3.7/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/home/user/pylocal/lib/python3.7/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/home/user/pylocal/lib/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so'>\",\r\n  \"json\": \"<module 'json' from '/home/user/pylocal/lib/python3.7/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n312 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, pkg_resources=latest, via=copy, app_data_dir=/home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian) [INFO session:59]\r\n314 Attempting to acquire lock 140515926865664 on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels.lock [DEBUG filelock:270]\r\n314 Lock 140515926865664 acquired on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels.lock [INFO filelock:274]\r\n317 get bundled wheel /usr/share/python-wheels/pip-20.1.1-py2.py3-none-any.whl [DEBUG acquire:61]\r\n317 get bundled wheel /usr/share/python-wheels/setuptools-44.0.0-py2.py3-none-any.whl [DEBUG acquire:61]\r\n318 get bundled wheel /usr/share/python-wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:61]\r\n319 get bundled wheel /usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl [DEBUG acquire:61]\r\n324 install pip from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels/pip-20.1.1-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n325 install setuptools from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels/setuptools-44.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n325 install wheel from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n326 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip to /home/user/.venvpylocal37/lib/python3.7/site-packages/pip [DEBUG _sync:52]\r\n327 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools to /home/user/.venvpylocal37/lib/python3.7/site-packages/setuptools [DEBUG _sync:52]\r\n327 install pkg_resources from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels/pkg_resources-0.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:49]\r\n329 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /home/user/.venvpylocal37/lib/python3.7/site-packages/wheel [DEBUG _sync:52]\r\n333 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/pkg_resources-0.0.0-py2.py3-none-any/pkg_resources-0.0.0.dist-info to /home/user/.venvpylocal37/lib/python3.7/site-packages/pkg_resources-0.0.0.dist-info [DEBUG _sync:52]\r\n342 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /home/user/.venvpylocal37/lib/python3.7/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:52]\r\n344 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /home/user/.venvpylocal37/lib/python3.7/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:52]\r\n345 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/pkg_resources-0.0.0-py2.py3-none-any/pkg_resources-0.0.0.virtualenv to /home/user/.venvpylocal37/lib/python3.7/site-packages/pkg_resources-0.0.0.virtualenv [DEBUG _sync:52]\r\n347 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/pkg_resources-0.0.0-py2.py3-none-any/pkg_resources to /home/user/.venvpylocal37/lib/python3.7/site-packages/pkg_resources [DEBUG _sync:52]\r\n353 changing mode of /home/user/.venvpylocal37/bin/wheel to 755 [INFO util:566]\r\n353 changing mode of /home/user/.venvpylocal37/bin/wheel-3.7 to 755 [INFO util:566]\r\n354 changing mode of /home/user/.venvpylocal37/bin/wheel3 to 755 [INFO util:566]\r\n354 generated console scripts wheel-3.7 wheel3 wheel [DEBUG base:53]\r\n372 generated console scripts  [DEBUG base:53]\r\n400 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/easy_install.py to /home/user/.venvpylocal37/lib/python3.7/site-packages/easy_install.py [DEBUG _sync:52]\r\n401 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.virtualenv to /home/user/.venvpylocal37/lib/python3.7/site-packages/setuptools-44.0.0.virtualenv [DEBUG _sync:52]\r\n401 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.dist-info to /home/user/.venvpylocal37/lib/python3.7/site-packages/setuptools-44.0.0.dist-info [DEBUG _sync:52]\r\n410 changing mode of /home/user/.venvpylocal37/bin/easy_install to 755 [INFO util:566]\r\n410 changing mode of /home/user/.venvpylocal37/bin/easy_install3 to 755 [INFO util:566]\r\n410 changing mode of /home/user/.venvpylocal37/bin/easy_install-3.7 to 755 [INFO util:566]\r\n411 generated console scripts easy_install easy_install-3.7 easy_install3 [DEBUG base:53]\r\n439 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip-20.1.1.virtualenv to /home/user/.venvpylocal37/lib/python3.7/site-packages/pip-20.1.1.virtualenv [DEBUG _sync:52]\r\n440 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/image/CopyPipInstall/pip-20.1.1-py2.py3-none-any/pip-20.1.1.dist-info to /home/user/.venvpylocal37/lib/python3.7/site-packages/pip-20.1.1.dist-info [DEBUG _sync:52]\r\n447 changing mode of /home/user/.venvpylocal37/bin/pip3.7 to 755 [INFO util:566]\r\n447 changing mode of /home/user/.venvpylocal37/bin/pip-3.7 to 755 [INFO util:566]\r\n447 changing mode of /home/user/.venvpylocal37/bin/pip to 755 [INFO util:566]\r\n447 changing mode of /home/user/.venvpylocal37/bin/pip3 to 755 [INFO util:566]\r\n447 generated console scripts pip3 pip3.7 pip-3.7 pip [DEBUG base:53]\r\n448 Attempting to release lock 140515926865664 on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels.lock [DEBUG filelock:315]\r\n448 Lock 140515926865664 released on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian/3.7/wheels.lock [INFO filelock:318]\r\n448 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n453 write /home/user/.venvpylocal37/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n453 \thome = /home/user/pylocal [DEBUG pyenv_cfg:38]\r\n453 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n454 \tversion_info = 3.7.7.final.0 [DEBUG pyenv_cfg:38]\r\n454 \tvirtualenv = 20.0.21+ds [DEBUG pyenv_cfg:38]\r\n454 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n454 \tbase-prefix = /home/user/pylocal [DEBUG pyenv_cfg:38]\r\n454 \tbase-exec-prefix = /home/user/pylocal [DEBUG pyenv_cfg:38]\r\n454 \tbase-executable = /home/user/pylocal/bin/python3.7 [DEBUG pyenv_cfg:38]\r\n454 created virtual environment CPython3.7.7.final.0-64 in 424ms\r\n  creator CPython3Posix(dest=/home/user/.venvpylocal37, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, pkg_resources=latest, via=copy, app_data_dir=/home/user/.local/share/virtualenv/seed-app-data/v1.0.1.debian)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n\r\nOn the other side, python's `venv` package provides me a working virtual environnement :\r\n```shell\r\n$ pylocal/bin/python3.7 -m venv .venv37\r\n$ source venv37/bin/activate\r\n(.venv37) $ python -m pip -V\r\npip 19.2.3 from /home/user/.venv37/lib/python3.7/site-packages/pip (python 3.7)\r\n```\r\nFor memory, I asked a [_Stack Overflow_ question](https://stackoverflow.com/q/62301176/6709630) about this.\r\n\r\nThanks to all mainteners for the work on this package.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1857", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1857/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1857/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1857/events", "html_url": "https://github.com/pypa/virtualenv/issues/1857", "id": 637939481, "node_id": "MDU6SXNzdWU2Mzc5Mzk0ODE=", "number": 1857, "title": "AttributeError: module 'virtualenv.activation.python' has no attribute 'PestythonActivator'", "user": {"login": "fj-sanchez", "id": 14216725, "node_id": "MDQ6VXNlcjE0MjE2NzI1", "avatar_url": "https://avatars1.githubusercontent.com/u/14216725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fj-sanchez", "html_url": "https://github.com/fj-sanchez", "followers_url": "https://api.github.com/users/fj-sanchez/followers", "following_url": "https://api.github.com/users/fj-sanchez/following{/other_user}", "gists_url": "https://api.github.com/users/fj-sanchez/gists{/gist_id}", "starred_url": "https://api.github.com/users/fj-sanchez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fj-sanchez/subscriptions", "organizations_url": "https://api.github.com/users/fj-sanchez/orgs", "repos_url": "https://api.github.com/users/fj-sanchez/repos", "events_url": "https://api.github.com/users/fj-sanchez/events{/privacy}", "received_events_url": "https://api.github.com/users/fj-sanchez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2020-06-12T18:42:48Z", "updated_at": "2020-06-15T14:33:03Z", "closed_at": "2020-06-12T19:10:01Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "I think it's just a typo in the latest release...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1854", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1854/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1854/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1854/events", "html_url": "https://github.com/pypa/virtualenv/issues/1854", "id": 637290384, "node_id": "MDU6SXNzdWU2MzcyOTAzODQ=", "number": 1854, "title": "virtualenv 20.0.21 has requirement importlib-resources<2,>=1.0; but you'll have importlib-resources 2.0.0 which is incompatible.", "user": {"login": "Aricg", "id": 1247498, "node_id": "MDQ6VXNlcjEyNDc0OTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1247498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aricg", "html_url": "https://github.com/Aricg", "followers_url": "https://api.github.com/users/Aricg/followers", "following_url": "https://api.github.com/users/Aricg/following{/other_user}", "gists_url": "https://api.github.com/users/Aricg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aricg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aricg/subscriptions", "organizations_url": "https://api.github.com/users/Aricg/orgs", "repos_url": "https://api.github.com/users/Aricg/repos", "events_url": "https://api.github.com/users/Aricg/events{/privacy}", "received_events_url": "https://api.github.com/users/Aricg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-11T20:08:00Z", "updated_at": "2020-06-12T18:27:12Z", "closed_at": "2020-06-11T20:18:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\nimportlib-resources bumped to 2.0\r\nhttps://gitlab.com/python-devs/importlib_resources/-/issues/96\r\n\r\nI think this line needs a bump as well.\r\n`\r\n./setup.cfg:    importlib-resources>=1.0;python_version<\"3.7\"`\r\n\r\n`ERROR: virtualenv 20.0.21 has requirement importlib-resources<2,>=1.0; python_version < \"3.7\", but you'll have importlib-resources 2.0.0 which is incompatible.`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1852", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1852/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1852/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1852/events", "html_url": "https://github.com/pypa/virtualenv/issues/1852", "id": 636148906, "node_id": "MDU6SXNzdWU2MzYxNDg5MDY=", "number": 1852, "title": "How to update pip permanently for new venv?", "user": {"login": "tbrodbeck", "id": 24418160, "node_id": "MDQ6VXNlcjI0NDE4MTYw", "avatar_url": "https://avatars0.githubusercontent.com/u/24418160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbrodbeck", "html_url": "https://github.com/tbrodbeck", "followers_url": "https://api.github.com/users/tbrodbeck/followers", "following_url": "https://api.github.com/users/tbrodbeck/following{/other_user}", "gists_url": "https://api.github.com/users/tbrodbeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbrodbeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbrodbeck/subscriptions", "organizations_url": "https://api.github.com/users/tbrodbeck/orgs", "repos_url": "https://api.github.com/users/tbrodbeck/repos", "events_url": "https://api.github.com/users/tbrodbeck/events{/privacy}", "received_events_url": "https://api.github.com/users/tbrodbeck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-10T10:54:30Z", "updated_at": "2020-06-10T13:48:55Z", "closed_at": "2020-06-10T11:41:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nEvery new environment has the old pip version (19.2.3)\r\n\r\n**Expected behavior**\r\nMy system python has pip version 20 so I would expect direnv also to use the most recent pip version. But it installs the old pip version for every new environment\r\n\r\n**Environment**\r\n - OS: macOS Catalina 10.15.4\r\n - Shell: zsh 5.7.1\r\n - Python version: stable 3.7.7 (homebrew bottled)\r\n\r\n**To Reproduce**\r\n  ```console\r\n\u279c  ~ pip list\r\nPackage            Version\r\n------------------ -------\r\nappdirs            1.4.4\r\nastroid            2.4.1\r\ndistlib            0.3.0\r\nfilelock           3.0.12\r\nimportlib-metadata 1.6.1\r\nisort              4.3.21\r\nlazy-object-proxy  1.4.3\r\nmccabe             0.6.1\r\nnumpy              1.18.5\r\npip                20.1.1\r\npylint             2.5.2\r\npython-dateutil    2.8.1\r\npytz               2020.1\r\nsetuptools         40.8.0\r\nsix                1.12.0\r\ntoml               0.10.1\r\ntyped-ast          1.4.1\r\nvirtualenv         20.0.21\r\nwheel              0.33.1\r\nwrapt              1.12.1\r\nzipp               3.1.0\r\n\u279c  ~ python3 -m venv ./foobar\r\n\u279c  ~ source ./foobar/bin/activate\r\n(foobar) \u279c  ~ pip list\r\nPackage    Version\r\n---------- -------\r\npip        19.2.3 \r\nsetuptools 41.2.0 \r\nWARNING: You are using pip version 19.2.3, however version 20.1.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1850", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1850/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1850/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1850/events", "html_url": "https://github.com/pypa/virtualenv/issues/1850", "id": 633027047, "node_id": "MDU6SXNzdWU2MzMwMjcwNDc=", "number": 1850, "title": "No module named 'encodings'", "user": {"login": "UdayKiranPadhy", "id": 58071209, "node_id": "MDQ6VXNlcjU4MDcxMjA5", "avatar_url": "https://avatars2.githubusercontent.com/u/58071209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UdayKiranPadhy", "html_url": "https://github.com/UdayKiranPadhy", "followers_url": "https://api.github.com/users/UdayKiranPadhy/followers", "following_url": "https://api.github.com/users/UdayKiranPadhy/following{/other_user}", "gists_url": "https://api.github.com/users/UdayKiranPadhy/gists{/gist_id}", "starred_url": "https://api.github.com/users/UdayKiranPadhy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UdayKiranPadhy/subscriptions", "organizations_url": "https://api.github.com/users/UdayKiranPadhy/orgs", "repos_url": "https://api.github.com/users/UdayKiranPadhy/repos", "events_url": "https://api.github.com/users/UdayKiranPadhy/events{/privacy}", "received_events_url": "https://api.github.com/users/UdayKiranPadhy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-07T04:36:53Z", "updated_at": "2020-06-21T08:07:47Z", "closed_at": "2020-06-21T08:07:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nWhen I activate my venv and the run python i get an error like this\r\n```\r\n(venv) PS C:\\Users\\admin\\project\\venv\\Scripts> python\r\nFatal Python error: initfsencoding: unable to load the file system codec\r\nModuleNotFoundError: No module named 'encodings'\r\n\r\nCurrent thread 0x00001d2c (most recent call first):\r\n(venv) PS C:\\Users\\admin\\project\\venv\\Scripts> deactivate\r\nPS C:\\Users\\admin\\project\\venv\\Scripts> \r\n```\r\n\r\n**Environment**\r\n\r\n- OS: Windows NT\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```\r\n(venv) PS C:\\Users\\admin\\project\\venv\\Scripts> pip list\r\nFatal Python error: initfsencoding: unable to load the file system codec\r\nModuleNotFoundError: No module named 'encodings'\r\n\r\nCurrent thread 0x00001b00 (most recent call first):\r\n(venv) PS C:\\Users\\admin\\project\\venv\\Scripts>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1847", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1847/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1847/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1847/events", "html_url": "https://github.com/pypa/virtualenv/issues/1847", "id": 632240214, "node_id": "MDU6SXNzdWU2MzIyNDAyMTQ=", "number": 1847, "title": "sphinx fails to build docs on Linux, trying to call `/usr/bin/towncrier.8`", "user": {"login": "mgorny", "id": 110765, "node_id": "MDQ6VXNlcjExMDc2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/110765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgorny", "html_url": "https://github.com/mgorny", "followers_url": "https://api.github.com/users/mgorny/followers", "following_url": "https://api.github.com/users/mgorny/following{/other_user}", "gists_url": "https://api.github.com/users/mgorny/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgorny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgorny/subscriptions", "organizations_url": "https://api.github.com/users/mgorny/orgs", "repos_url": "https://api.github.com/users/mgorny/repos", "events_url": "https://api.github.com/users/mgorny/events{/privacy}", "received_events_url": "https://api.github.com/users/mgorny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-06T06:14:26Z", "updated_at": "2020-06-06T11:10:27Z", "closed_at": "2020-06-06T11:10:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\n```pytb\r\n$ sphinx-build docs out\r\nRunning Sphinx v2.4.4\r\n\r\nConfiguration error:\r\nThere is a programmable error in your configuration file:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/site-packages/sphinx/config.py\", line 348, in eval_config_file\r\n    execfile_(filename, namespace)\r\n  File \"/usr/lib/python3.8/site-packages/sphinx/util/pycompat.py\", line 81, in execfile_\r\n    exec(code, _globals)\r\n  File \"/tmp/virtualenv/docs/conf.py\", line 68, in <module>\r\n    generate_draft_news()\r\n  File \"/tmp/virtualenv/docs/conf.py\", line 64, in generate_draft_news\r\n    new = subprocess.check_output([str(towncrier), \"--draft\", \"--version\", \"NEXT\"], cwd=root, universal_newlines=True)\r\n  File \"/usr/lib/python3.8/subprocess.py\", line 411, in check_output\r\n    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\r\n  File \"/usr/lib/python3.8/subprocess.py\", line 489, in run\r\n    with Popen(*popenargs, **kwargs) as process:\r\n  File \"/usr/lib/python3.8/subprocess.py\", line 854, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"/usr/lib/python3.8/subprocess.py\", line 1702, in _execute_child\r\n    raise child_exception_type(errno_num, err_msg, err_filename)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/usr/bin/towncrier.8'\r\n```\r\n\r\nApparently the code to blame is:\r\n```python\r\ndef generate_draft_news():\r\n    root = Path(__file__).parents[1]\r\n    exe = Path(sys.executable)\r\n    towncrier = exe.with_name(\"towncrier{}\".format(exe.suffix))\r\n    new = subprocess.check_output([str(towncrier), \"--draft\", \"--version\", \"NEXT\"], cwd=root, universal_newlines=True)\r\n    (root / \"docs\" / \"_draft.rst\").write_text(\"\" if \"No significant changes\" in new else new)\r\n```\r\n\r\nI guess this code is meant to append `.exe` on Windows. However, when running via `pythonX.Y` executable, on Linux the suffix is `.Y`, and it gets wrongly appended to `towncrier` executable name.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Gentoo Linux\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage                       Version\r\n----------------------------- ------------\r\naiocontextvars                0.2.2\r\naiohttp                       3.6.2\r\nalabaster                     0.7.12\r\naniso8601                     8.0.0\r\napipkg                        1.5\r\nappdirs                       1.4.4\r\nargh                          0.26.2\r\narrow                         0.15.6\r\nasgiref                       3.2.7\r\nasync-generator               1.10\r\nasync-timeout                 3.0.1\r\natomicwrites                  1.4.0\r\nattrs                         19.3.0\r\nAutomat                       20.2.0\r\naws-sam-translator            1.22.0\r\naws-xray-sdk                  2.4.2\r\nBabel                         2.8.0\r\nbabelfish                     0.5.5\r\nbackcall                      0.1.0\r\nbackports                     1.0\r\nbackports.tempfile            1.0\r\nbackports.unittest-mock       1.5\r\nbackports.weakref             1.0.post1\r\nbasho-erlastic                2.1.1\r\nbcrypt                        3.1.7\r\nbeautifulsoup4                4.8.2\r\nbetamax                       0.8.1\r\nbleach                        3.1.5\r\nblessings                     1.7\r\nblinker                       1.4\r\nbotocore                      1.16.7\r\nbottle                        0.12.18\r\nbpython                       0.19\r\nbreathe                       4.14.1\r\nbrotlipy                      0.7.0\r\ncached-property               1.5.1\r\ncairocffi                     1.1.0\r\nCairoSVG                      2.4.2\r\ncatfish                       1.4.13\r\ncertifi                       2020.4.5.1\r\ncffi                          1.14.0\r\ncfn-lint                      0.30.1\r\nchai                          1.1.2\r\nChameleon                     3.7.2\r\nchardet                       3.0.4\r\ncheroot                       8.3.0\r\nCherryPy                      18.5.0\r\nclick                         7.1.2\r\nclick-default-group           1.2.2\r\nclick-log                     0.3.2\r\nclick-threading               0.4.4\r\ncliff                         3.1.0\r\ncloudpickle                   1.4.1\r\ncmd2                          0.10.1\r\ncolorama                      0.4.3\r\ncolorclass                    2.2.0\r\ncolorspacious                 1.1.2\r\ncommonmark                    0.9.1\r\nConfigArgParse                1.2.3\r\nconfigobj                     5.0.6\r\nconstantly                    15.1.0\r\ncontextlib2                   0.6.0.post1\r\ncookies                       2.2.1\r\ncppy                          1.1.0\r\ncryptography                  2.9\r\ncssselect                     1.1.0\r\ncssselect2                    0.2.2\r\ncsv23                         0.3.2\r\ncurtsies                      0.3.0\r\ncycler                        0.10.0\r\nCython                        0.29.19\r\nddt                           1.2.1\r\ndecorator                     4.4.2\r\ndefcon                        0.6.0\r\ndefusedxml                    0.6.0\r\nDeprecated                    1.2.10\r\ndicttoxml                     1.7.4\r\ndiffmask                      0.3.3\r\ndill                          0.3.1.1\r\ndiscogs-client                2.2.1\r\ndistlib                       0.3.0\r\ndj-database-url               0.5.0\r\nDjango                        3.0.7\r\ndjango-otp                    0.9.0\r\ndnspython                     1.16.0\r\ndocker                        4.2.0\r\ndocopt                        0.6.2\r\ndocutils                      0.16\r\necdsa                         0.15\r\neclean-kernel                 2.99.1\r\nelementpath                   1.4.5\r\nemail-validator               1.1.1\r\nentrypoints                   0.3\r\neventlet                      0.25.1\r\nexecnet                       1.7.1\r\nextras                        1.0.0\r\nfasteners                     0.15\r\nfastimport                    0.9.8\r\nfeedparser                    5.2.1\r\nfile-magic                    0.4.0\r\nfilelock                      3.0.12\r\nfixtures                      3.0.0\r\nFlask                         1.1.2\r\nFlask-Babel                   1.0.0\r\nFlask-Sphinx-Themes           1.0.2\r\nFlask-WTF                     0.14.3\r\nfonttools                     4.1.0\r\nfreezegun                     0.3.15\r\nfs                            2.4.9\r\nfuture                        0.18.2\r\ngander                        0.0.1\r\ngaupol                        1.8\r\ngdbus-codegen                 2.64.3\r\ngemato                        14.4\r\ngentoolkit                    9999\r\ngentoopm                      0.3.1\r\ngenty                         1.3.2\r\nGeoIP                         1.3.2\r\ngevent                        20.5.2\r\ngit-review                    1.28.0\r\ngitdb                         4.0.5\r\nGitPython                     3.1.3\r\nglep63-check                  9\r\ngmpy2                         2.0.8\r\ngpg                           1.13.1\r\ngpyutils                      0.4.2\r\ngreenlet                      0.4.15\r\nguessit                       3.1.1\r\nh11                           0.9.0\r\nh2                            3.2.0\r\nhg-evolve                     10.0.0\r\nhpack                         3.0.0\r\nhtml5lib                      1.0.1\r\nhttp-parser                   0.9.0\r\nhttpbin                       0.7.0\r\nhttplib2                      0.18.1\r\nhttpretty                     1.0.2\r\nhttpstat                      1.2.1\r\nhyperframe                    5.2.0\r\nhyperlink                     19.0.0\r\nhypothesis                    4.57.1\r\nidna                          2.9\r\nidna-ssl                      1.1.0\r\nimagesize                     1.1.0\r\nimg2pdf                       0.3.4\r\nimmutables                    0.11\r\nimportlib-metadata            1.6.0\r\nimportlib-resources           1.5.0\r\ninclude-server                3.3.3\r\nincremental                   17.5.0\r\niniparse                      0.4\r\niocapture                     0.1.2\r\nipython-genutils              0.2.0\r\niso8601                       0.1.12\r\nitsdangerous                  1.1.0\r\njaraco.classes                3.1.0\r\njaraco.collections            3.0.0\r\njaraco.envs                   2.0.0\r\njaraco.functools              3.0.1\r\njaraco.text                   3.2.0\r\njava-config                   2.2.0\r\njavatoolkit                   0.5.0\r\njedi                          0.17.0\r\njeepney                       0.4.3\r\nJinja2                        2.11.2\r\njmespath                      0.9.3\r\njoblib                        0.14.1\r\njsondiff                      1.2.0\r\njsonpatch                     1.25\r\njsonpickle                    1.4.1\r\njsonpointer                   2.0\r\njsonref                       0.1\r\njsonschema                    3.2.0\r\nkeyring                       21.2.1\r\nkiwisolver                    1.2.0\r\nlesscpy                       0.14.0\r\nlinecache2                    1.0.0\r\nlit                           0.10.0.dev0\r\nlockfile                      0.12.2\r\nlxml                          4.5.1\r\nM2Crypto                      0.35.2\r\nm2r                           0.2.1\r\nMako                          1.1.3\r\nMarkdown                      3.2.2\r\nmarkdown2                     2.3.8\r\nMarkupSafe                    1.1.1\r\nmarshmallow                   3.5.1\r\nmatplotlib                    3.2.1\r\nmemory-profiler               0.57.0\r\nmercurial                     5.4\r\nmergedict                     1.0.0\r\nmeson                         0.54.2\r\nmistune                       0.8.4\r\nmock                          3.0.5\r\nmonotonic                     1.5\r\nmore-itertools                5.0.0\r\nmoto                          1.3.14\r\nmsgpack                       0.6.2\r\nmultidict                     4.7.6\r\nmunch                         2.5.0\r\nmypy                          0.760\r\nmypy-extensions               0.4.3\r\nnattka                        0.2.6\r\nnetworkx                      2.4\r\nnltk                          3.5\r\nnose                          1.3.7\r\nnumpy                         1.18.5\r\noauth2                        1.9.0.post1\r\noauth2client                  4.1.3\r\noauthlib                      3.1.0\r\nobjgraph                      3.4.1\r\nolefile                       0.46\r\npackaging                     20.4\r\nparameterized                 0.7.4\r\nparamiko                      2.7.1\r\nparso                         0.7.0\r\npasslib                       1.7.2\r\nPaste                         3.4.1\r\nPasteDeploy                   2.1.0\r\npath                          14.0.1\r\npathlib2                      2.3.5\r\npathspec                      0.8.0\r\npathtools                     0.1.2\r\npbr                           5.4.5\r\nPebble                        4.5.3\r\npexpect                       4.8.0\r\npickleshare                   0.7.5\r\nPillow                        7.1.2\r\npip                           20.1.1\r\npkgcheck                      0.7.6\r\npkgconfig                     1.5.0\r\npkgcore                       0.10.12\r\npkginfo                       1.5.0.1\r\npluggy                        0.13.1\r\nply                           3.11\r\nportage                       2.3.100\r\nportend                       2.6\r\npretend                       1.0.9\r\nprettytable                   0.7.2\r\npriority                      1.3.0\r\nprompt-toolkit                2.0.10\r\nprotobuf                      3.11.4\r\npsutil                        5.7.0\r\npsycopg2                      2.8.4\r\nptyprocess                    0.6.0\r\npy                            1.8.0\r\npy-ubjson                     0.15.0\r\npyaes                         1.6.1\r\npyaml                         15.8.2\r\npyasn1                        0.4.8\r\npyasn1-modules                0.2.8\r\npybind11                      2.5.0\r\npycairo                       1.18.2\r\npycares                       3.1.1\r\npyclipper                     1.1.0.post3\r\npycodestyle                   2.5.0\r\nPyContracts                   1.8.14\r\npycparser                     2.20\r\npycryptodome                  3.9.7\r\npycurl                        7.43.0.5\r\npydot                         1.4.1\r\npyenchant                     3.1.0\r\npyflakes                      2.2.0\r\npyftpdlib                     1.5.6\r\npygal                         2.4.0\r\npygit2                        1.2.0\r\nPyGithub                      1.51\r\nPygments                      2.5.2\r\nPyGObject                     3.34.0\r\npyh2o                         0\r\nPyHamcrest                    2.0.2\r\nPyJWT                         1.7.1\r\npykwalify                     1.7.0\r\npylibacl                      0.5.4\r\npymountboot                   0.2.3\r\nPyNaCl                        1.3.0\r\npynvim                        0.4.0\r\npyOpenSSL                     19.1.0\r\npyparsing                     2.4.7\r\npyperclip                     1.7.0\r\npypiserver                    1.3.2\r\npypng                         0.0.20\r\npyproject2setuppy             7\r\nPyQRCode                      1.2.1\r\nPyQt5                         5.14.2\r\nPyQt5-sip                     4.19.22\r\npyquery                       1.4.1\r\npyrqlite                      2.0\r\npyrsistent                    0.15.6\r\npysendfile                    2.0.1\r\npyserial                      3.4\r\nPySocks                       1.7.1\r\npyte                          0.8.0\r\npytest                        4.6.10\r\npytest-asyncio                0.12.0\r\npytest-expect                 1.1.0\r\npytest-fixture-config         1.7.0\r\npytest-forked                 1.1.3\r\npytest-httpbin                1.0.0\r\npytest-localserver            0.5.0\r\npytest-mock                   3.1.1\r\npytest-services               2.0.1\r\npytest-shutil                 1.7.0\r\npytest-timeout                1.3.4\r\npytest-virtualenv             1.7.0\r\npytest-xdist                  1.32.0\r\npytest-xprocess               0.13.1\r\npython-bugzilla               2.3.0\r\npython-dateutil               2.8.1\r\npython-distutils-extra        2.39\r\npython-gflags                 3.1.2\r\npython-jose                   3.1.0\r\npython-lzo                    1.12\r\npython-mimeparse              1.6.0\r\npython-snappy                 0.5.1\r\npytidylib                     0.3.2\r\npytools                       2020.1\r\nPyTrie                        0.3.1\r\npytz                          2020.1\r\nPyX                           0.15\r\npyxattr                       0.7.1\r\npyxdg                         0.26\r\nPyYAML                        5.3.1\r\npyzmq                         19.0.0\r\nqrcode                        6.1\r\nQScintilla                    2.11.4\r\nratelimit                     1.4.1\r\nreadme-renderer               26.0\r\nreadthedocs-sphinx-ext        1.0.4\r\nrebulk                        2.0.1\r\nrecommonmark                  0.6.0\r\nregex                         2020.2.20\r\nreportlab                     3.5.42\r\nrepoze.lru                    0.7\r\nrequests                      2.23.0\r\nrequests-mock                 1.7.0\r\nrequests-oauthlib             1.3.0\r\nrequests-toolbelt             0.9.1\r\nresponses                     0.10.7\r\nrfc3339-validator             0.1.2\r\nrfc3986-validator             0.1.1\r\nrfc3987                       1.3.8\r\nRoutes                        2.4.1\r\nrsa                           4.0\r\nrst2pdf                       0.93.dev0\r\nruamel.std.pathlib            0.6.4\r\ns3transfer                    0.3.1\r\nscikit-learn                  0.22.2.post1\r\nscons                         3.1.2\r\nscour                         0.37\r\nscripttest                    1.3\r\nscrypt                        0.8.15\r\nSecretStorage                 3.1.2\r\nselenium                      3.141.0\r\nselinux                       3.0\r\nserpent                       1.30\r\nservice-identity              18.1.0\r\nsetuptools                    46.4.0\r\nsetuptools-git                1.2\r\nsetuptools-scm                4.1.2\r\nsimplejson                    3.17.0\r\nsip                           4.19.22\r\nsix                           1.15.0\r\nsmart-live-rebuild            1.3.6\r\nsmmap                         3.0.4\r\nsnakeoil                      0.8.8\r\nsnowballstemmer               2.0.0\r\nsocketpool                    0.5.3\r\nsortedcontainers              2.1.0\r\nsoupsieve                     1.9.6\r\nspeaklater                    1.3\r\nSphinx                        2.4.4\r\nsphinx-rtd-theme              0.4.3\r\nsphinx-selective-exclude      1.0.2\r\nsphinx-testing                1.0.1\r\nsphinxcontrib-applehelp       1.0.2\r\nsphinxcontrib-devhelp         1.0.2\r\nsphinxcontrib-htmlhelp        1.0.3\r\nsphinxcontrib-jsmath          1.0.1\r\nsphinxcontrib-qthelp          1.0.3\r\nsphinxcontrib-serializinghtml 1.1.4\r\nsphinxcontrib-spelling        5.0.0\r\nsphinxcontrib-websupport      1.1.0\r\nSQLAlchemy                    1.3.17\r\nsqlparse                      0.3.1\r\nsshpubkeys                    3.1.0\r\nstevedore                     2.0.0\r\nstrict-rfc3339                0.7\r\nsure                          1.4.11\r\nsybil                         1.3.0\r\ntabulate                      0.8.6\r\ntap.py                        2.4\r\ntblib                         1.6.0\r\ntempora                       3.0.0\r\ntermcolor                     1.1.0\r\ntestfixtures                  6.14.1\r\ntestpath                      0.4.4\r\ntestresources                 2.0.1\r\ntestscenarios                 0.5.0\r\ntesttools                     2.4.0\r\ntexttable                     1.6.2\r\ntinycss2                      1.0.2\r\ntoml                          0.10.1\r\ntornado                       6.0.4\r\ntortoisehg                    5.3.2\r\ntox                           3.15.1\r\ntqdm                          4.46.1\r\ntraceback2                    1.4.0\r\ntraitlets                     4.3.3\r\ntrustme                       0.6.0\r\ntwine                         3.1.1\r\nTwisted                       20.3.0\r\ntwython                       3.7.0\r\ntyped-ast                     1.4.1\r\ntyping-extensions             3.7.4.1\r\ntzlocal                       2.1\r\nu-msgpack-python              2.6.0\r\nujson                         2.0.3\r\nunicodecsv                    0.14.1\r\nunittest-mixins               1.6\r\nurllib3                       1.25.9\r\nurwid                         2.1.0\r\nvcrpy                         4.0.2\r\nversioneer                    0.18\r\nvirtualenv                    20.0.21\r\nvirtualenv-clone              0.5.3\r\nvoluptuous                    0.11.5\r\nwaitress                      1.4.4\r\nwatchdog                      0.10.2\r\nwcwidth                       0.2.2\r\nwebcolors                     1.10\r\nwebencodings                  0.5.1\r\nWebOb                         1.8.6\r\nwebsocket-client              0.56.0\r\nWebTest                       2.0.35\r\nWerkzeug                      1.0.1\r\nwheel                         0.34.2\r\nWhoosh                        2.7.4\r\nwrapt                         1.12.1\r\nWSGIProxy2                    0.4.6\r\nwsproto                       0.15.0\r\nWTForms                       2.2.1\r\nxcffib                        0.9.0\r\nxlrd                          1.2.0\r\nxlwt                          1.3.0\r\nxmlschema                     1.2.0\r\nxmltodict                     0.12.0\r\nyapf                          0.30.0\r\nYapsy                         1.12.2\r\nyarl                          1.4.2\r\nyoutube-dl                    2020.5.29\r\nzc.lockfile                   2.0\r\nzipp                          1.0.0\r\nzope.component                4.4.1\r\nzope.event                    4.4\r\nzope.interface                5.1.0\r\nzope.testing                  4.7\r\nzstandard                     0.13.0\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nn/a", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1845", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1845/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1845/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1845/events", "html_url": "https://github.com/pypa/virtualenv/issues/1845", "id": 629455226, "node_id": "MDU6SXNzdWU2Mjk0NTUyMjY=", "number": 1845, "title": "app-data seed metod is not clear", "user": {"login": "4815162342lost", "id": 16062770, "node_id": "MDQ6VXNlcjE2MDYyNzcw", "avatar_url": "https://avatars1.githubusercontent.com/u/16062770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/4815162342lost", "html_url": "https://github.com/4815162342lost", "followers_url": "https://api.github.com/users/4815162342lost/followers", "following_url": "https://api.github.com/users/4815162342lost/following{/other_user}", "gists_url": "https://api.github.com/users/4815162342lost/gists{/gist_id}", "starred_url": "https://api.github.com/users/4815162342lost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/4815162342lost/subscriptions", "organizations_url": "https://api.github.com/users/4815162342lost/orgs", "repos_url": "https://api.github.com/users/4815162342lost/repos", "events_url": "https://api.github.com/users/4815162342lost/events{/privacy}", "received_events_url": "https://api.github.com/users/4815162342lost/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-02T19:25:01Z", "updated_at": "2020-06-02T21:16:32Z", "closed_at": "2020-06-02T21:15:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**What's the problem this feature will solve?**\r\nI want to create new virtualenv with pip 9.0.3 version.\r\nI type this command:\r\n```\r\nkinder@eds-app1:~$ virtualenv   --pip=9.0.3 --prompt=\"(kinder_lip_prod)\" -p /opt/pyenv/versions/3.6.5/bin/python /opt/bars/kinder/venv/\r\ncreated virtual environment CPython3.6.5.final.0-64 in 575ms\r\n  creator CPython3Posix(dest=/opt/bars/kinder/venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, certifi=latest, webencodings=latest, wheel=latest, colorama=latest, six=latest, progress=latest, urllib3=latest, msgpack=latest, retrying=latest, html5lib=latest, ipaddr=latest, chardet=latest, distro=latest, pip=9.0.3, distlib=latest, pep517=latest, requests=latest, CacheControl=latest, pkg_resources=latest, appdirs=latest, idna=latest, lockfile=latest, pyparsing=latest, packaging=latest, setuptools=latest, pytoml=latest, contextlib2=latest, via=copy, app_data_dir=/home/kinder/.local/share/virtualenv/seed-app-data/v1.0.1.debian)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n\r\nkinder@eds-app1:~$ ls -l  /opt/bars/kinder/venv/bin/pip*\r\nls: cannot access '/opt/bars/kinder/venv/bin/pip*': No such file or directory\r\n\r\n```\r\nBut pip was not installed, because i do not have pip 9.0.3 in app_data_dir\r\n\r\n**Describe the solution you'd like**\r\nI want to see error messages such as \"virtualenv was not created, because you do not have pip==9.0.3 in app_data_dir. Please, try to add --seeder==pip option\"\r\n\r\n**Additional context**\r\n<!-- Add any other context, links, etc. about the feature here. -->\r\nAlso maybe i am not right, but app_data_dir should be described more clear in documentation. I suggest add \"how to create cache with different packages version\"  in app_data_dir should.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1842", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1842/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1842/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1842/events", "html_url": "https://github.com/pypa/virtualenv/issues/1842", "id": 627870170, "node_id": "MDU6SXNzdWU2Mjc4NzAxNzA=", "number": 1842, "title": "Is there any reason to keep old version in embed folder?", "user": {"login": "earthday", "id": 90078, "node_id": "MDQ6VXNlcjkwMDc4", "avatar_url": "https://avatars0.githubusercontent.com/u/90078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/earthday", "html_url": "https://github.com/earthday", "followers_url": "https://api.github.com/users/earthday/followers", "following_url": "https://api.github.com/users/earthday/following{/other_user}", "gists_url": "https://api.github.com/users/earthday/gists{/gist_id}", "starred_url": "https://api.github.com/users/earthday/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/earthday/subscriptions", "organizations_url": "https://api.github.com/users/earthday/orgs", "repos_url": "https://api.github.com/users/earthday/repos", "events_url": "https://api.github.com/users/earthday/events{/privacy}", "received_events_url": "https://api.github.com/users/earthday/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-31T01:52:36Z", "updated_at": "2020-05-31T07:54:36Z", "closed_at": "2020-05-31T01:57:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The old versions are still embedded in https://github.com/pypa/virtualenv/tree/20.0.21/src/virtualenv/seed/embed/wheels, I want to know why they are kept, and is there any concern if remove them?\r\n<img width=\"1011\" alt=\"Screen Shot 2020-05-31 at 09 48 28\" src=\"https://user-images.githubusercontent.com/90078/83342615-09653800-a324-11ea-94cb-1517f6ac1e5c.png\">\r\n\r\nI pop up this question because our WhiteSource scan reported the security issue about it.\r\n![image](https://user-images.githubusercontent.com/90078/83342637-4af5e300-a324-11ea-84bd-9c76a07cee7b.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1840", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1840/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1840/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1840/events", "html_url": "https://github.com/pypa/virtualenv/issues/1840", "id": 623139288, "node_id": "MDU6SXNzdWU2MjMxMzkyODg=", "number": 1840, "title": "Plug-in for bundled wheels", "user": {"login": "frenzymadness", "id": 5688939, "node_id": "MDQ6VXNlcjU2ODg5Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5688939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frenzymadness", "html_url": "https://github.com/frenzymadness", "followers_url": "https://api.github.com/users/frenzymadness/followers", "following_url": "https://api.github.com/users/frenzymadness/following{/other_user}", "gists_url": "https://api.github.com/users/frenzymadness/gists{/gist_id}", "starred_url": "https://api.github.com/users/frenzymadness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frenzymadness/subscriptions", "organizations_url": "https://api.github.com/users/frenzymadness/orgs", "repos_url": "https://api.github.com/users/frenzymadness/repos", "events_url": "https://api.github.com/users/frenzymadness/events{/privacy}", "received_events_url": "https://api.github.com/users/frenzymadness/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-05-22T11:19:36Z", "updated_at": "2020-06-25T04:51:14Z", "closed_at": "2020-06-21T07:28:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello.\r\n\r\nFirst of all, thank you for your work. New virtualenv looks very good and its codebase is clean and readable :+1: Second thing is that I don't want to start another discussion about bundled wheels and their support and updates. I just have a problem to solve and I'd like to do it in cooperation with you because I think that it might help other maintainers.\r\n\r\nWe'd like to update the python-virtualenv RPM package in Fedora from version 16.7.10 to 20.0.20. The problem we have to solve is that we want the virtualenv provided by the distribution to use our own wheels for pip/setuptools/wheel.\r\n\r\nWhen searching for wheels, we first need to take a look into ensurepip folder like `/usr/lib64/python3.4/ensurepip/_bundled` \u2014 this folder exists only for some Pythons like 3.4 or 2.7 and the path is obtained from ensurepip module `import ensurepip; print(ensurepip.__path__[0])`. If we don't find a proper wheel there, we take a look into `/usr/share/python-wheels` where we always find a wheel for all three bundled packages. The latter might contain wheels not compatible with an older Python so ensurepip always has to take precedence.\r\n\r\nWe always solve this problem by a downstream patch but you can probably imagine that it's not an easy task to maintain a patch like this. So, I'd like to discuss our solutions with you and we might find a better way which makes it easier for us to use the latest virtualenv with our own wheels.\r\n\r\nThe main problem with the biggest impact on how the patches mentioned below look is that we always need to have a path to Python interpreter we create a virtual environment for to be able to get the ensurepip path mentioned above.\r\n\r\nIn solution 1, I've implemented a module with a simple function that yields paths to bundled wheels. I then use it in `BaseEmbed` to alter `extra_search_dir` and in `pip_wheel_env_run` for the same purpose. The patch is here: https://github.com/frenzymadness/virtualenv/pull/1/files\r\n\r\nThen I have had an idea to implement it in a different way. I've implemented `BUNDLE_SUPPORT` as an object which gives me a correct path for each wheel. This looked promising but then, because it also needs to have a path to Python interpreter, it gets complicated. I had to change a lot of functions going down to `get_bundled_wheel` to pass creator or interpreter to it. The patch is here https://github.com/frenzymadness/virtualenv/pull/2/files\r\n\r\nThe important thing is that we cannot save the paths somewhere because the wheels are generated by other packages and they might be updated without python-virtualenv update.\r\n\r\nWhat do you think about it? Might it be possible to provide an alternative mechanism (some kind of plug-in) to determine the correct path to bundled wheels?\r\n\r\nI am not asking you to implement it for us but you might see something I don't and if we will find a good solution that makes it possible to extend virtualenv this way, I'll be glad to implement it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1837", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1837/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1837/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1837/events", "html_url": "https://github.com/pypa/virtualenv/issues/1837", "id": 621511856, "node_id": "MDU6SXNzdWU2MjE1MTE4NTY=", "number": 1837, "title": "download fails for virtualenv.py", "user": {"login": "Sriram21", "id": 6112284, "node_id": "MDQ6VXNlcjYxMTIyODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6112284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sriram21", "html_url": "https://github.com/Sriram21", "followers_url": "https://api.github.com/users/Sriram21/followers", "following_url": "https://api.github.com/users/Sriram21/following{/other_user}", "gists_url": "https://api.github.com/users/Sriram21/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sriram21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sriram21/subscriptions", "organizations_url": "https://api.github.com/users/Sriram21/orgs", "repos_url": "https://api.github.com/users/Sriram21/repos", "events_url": "https://api.github.com/users/Sriram21/events{/privacy}", "received_events_url": "https://api.github.com/users/Sriram21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-20T07:01:25Z", "updated_at": "2020-05-20T12:43:24Z", "closed_at": "2020-05-20T07:09:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFile not found : https://raw.githubusercontent.com/pypa/virtualenv/master/virtualenv.py\r\n\r\nI have been using the above link to download virtual env.\r\n\r\nThis has been throwing error : 404: Not Found\r\n\r\nCould you please let us know why this was removed?\r\n\r\nRegards \r\nSriram\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1834", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1834/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1834/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1834/events", "html_url": "https://github.com/pypa/virtualenv/issues/1834", "id": 620814244, "node_id": "MDU6SXNzdWU2MjA4MTQyNDQ=", "number": 1834, "title": "`--seeder pip` does not work with `--extra-search-dir`", "user": {"login": "frenzymadness", "id": 5688939, "node_id": "MDQ6VXNlcjU2ODg5Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5688939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frenzymadness", "html_url": "https://github.com/frenzymadness", "followers_url": "https://api.github.com/users/frenzymadness/followers", "following_url": "https://api.github.com/users/frenzymadness/following{/other_user}", "gists_url": "https://api.github.com/users/frenzymadness/gists{/gist_id}", "starred_url": "https://api.github.com/users/frenzymadness/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frenzymadness/subscriptions", "organizations_url": "https://api.github.com/users/frenzymadness/orgs", "repos_url": "https://api.github.com/users/frenzymadness/repos", "events_url": "https://api.github.com/users/frenzymadness/events{/privacy}", "received_events_url": "https://api.github.com/users/frenzymadness/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-19T09:14:00Z", "updated_at": "2020-05-20T11:05:17Z", "closed_at": "2020-05-20T08:05:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nThe problem is [here](https://github.com/pypa/virtualenv/blob/master/src/virtualenv/seed/embed/pip_invoke.py#L48). When one or more extra search dir is specified, the resulting command looks like this `[<python>, '-m', 'pip', '-q', 'install', '--only-binary', ':all:', '--no-index', 'pip', 'setuptools', 'wheel', '--find-links', '/usr/lib/python3.8/site-packages/virtualenv/seed/embed/wheels', [extra dir one], [extra dir two]]`. Which leads to pip tries to install `[extra dir one]` as a package and error message: `ERROR: Directory '[extra dir one]' is not installable. Neither 'setup.py' nor 'pyproject.toml' found.`\r\n\r\npip needs to have each directory specified with `--find-links` so the command should look like this: ``[<python>, '-m', 'pip', '-q', 'install', '--only-binary', ':all:', '--no-index', 'pip', 'setuptools', 'wheel', '--find-links', '/usr/lib/python3.8/site-packages/virtualenv/seed/embed/wheels', '--find-links', [extra dir one], '--find-links', [extra dir two]]``.\r\n\r\nI'll open a PR for this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1830", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1830/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1830/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1830/events", "html_url": "https://github.com/pypa/virtualenv/issues/1830", "id": 619615297, "node_id": "MDU6SXNzdWU2MTk2MTUyOTc=", "number": 1830, "title": "-", "user": {"login": "CJSparrow", "id": 65213455, "node_id": "MDQ6VXNlcjY1MjEzNDU1", "avatar_url": "https://avatars3.githubusercontent.com/u/65213455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CJSparrow", "html_url": "https://github.com/CJSparrow", "followers_url": "https://api.github.com/users/CJSparrow/followers", "following_url": "https://api.github.com/users/CJSparrow/following{/other_user}", "gists_url": "https://api.github.com/users/CJSparrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/CJSparrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CJSparrow/subscriptions", "organizations_url": "https://api.github.com/users/CJSparrow/orgs", "repos_url": "https://api.github.com/users/CJSparrow/repos", "events_url": "https://api.github.com/users/CJSparrow/events{/privacy}", "received_events_url": "https://api.github.com/users/CJSparrow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-17T05:33:52Z", "updated_at": "2020-05-17T05:39:25Z", "closed_at": "2020-05-17T05:39:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "-", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1829", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1829/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1829/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1829/events", "html_url": "https://github.com/pypa/virtualenv/issues/1829", "id": 619155656, "node_id": "MDU6SXNzdWU2MTkxNTU2NTY=", "number": 1829, "title": "Problem creating conda package for virtualenv 20.0.4:", "user": {"login": "nicoddemus", "id": 1085180, "node_id": "MDQ6VXNlcjEwODUxODA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1085180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicoddemus", "html_url": "https://github.com/nicoddemus", "followers_url": "https://api.github.com/users/nicoddemus/followers", "following_url": "https://api.github.com/users/nicoddemus/following{/other_user}", "gists_url": "https://api.github.com/users/nicoddemus/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicoddemus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicoddemus/subscriptions", "organizations_url": "https://api.github.com/users/nicoddemus/orgs", "repos_url": "https://api.github.com/users/nicoddemus/repos", "events_url": "https://api.github.com/users/nicoddemus/events{/privacy}", "received_events_url": "https://api.github.com/users/nicoddemus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-15T18:18:42Z", "updated_at": "2020-05-16T16:11:15Z", "closed_at": "2020-05-16T16:11:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nI'm trying to build version 20.0.4 for [conda-forge](https://github.com/conda-forge/virtualenv-feedstock/issues/32) from the sdist, but I'm running into an error during the build-environment creation process.\r\n\r\nI'm getting this error:\r\n\r\n```\r\n      File \"C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-build-vkeklb_q\\src\\virtualenv\\run\\__init__.py\", line 8, in <module>\r\n        from ..version import __version__\r\n    ModuleNotFoundError: No module named 'virtualenv.version'\r\n```\r\n\r\nWhich I guess is related to `setuptools_scm` not generating the version file.\r\n\r\nI'm installing `setuptools_scm` during the build process as expected, anything else I should be doing?\r\n\r\nHere are the build dependencies being used:\r\n\r\n```\r\n  host:\r\n    - python\r\n    - pip >=18\r\n    - setuptools >=41\r\n    - setuptools_scm >=2\r\n    - appdirs >=1.4.3,<2\r\n    - distlib >=0.3.0,<1\r\n    - filelock >=3.0.0,<4\r\n    - six >=1.9.0,<2   # keep it >=1.9.0 as it may cause problems on LTS platforms\r\n    - contextlib2 >=0.6.0,<1  # [py<33]\r\n    - importlib-metadata >=0.12,<2  # [py<38]\r\n    - importlib_resources >=1.0,<2  # [py<37]\r\n    - pathlib2 >=2.3.3,<3\r\n```\r\n\r\nAnd the command being executed during conda's build step:\r\n\r\n```\r\npython -m pip install . -vv\r\n```\r\n\r\n<details>\r\n<summary>Full output from the build stage</summary>\r\n\r\n```\r\nNon-user install because user site-packages disabled\r\nIgnoring indexes: https://pypi.org/simple\r\nCreated temporary directory: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-ephem-wheel-cache-oy6m7r_o\r\nCreated temporary directory: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-tracker-pw7wk6pp\r\nInitialized build tracking at C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-tracker-pw7wk6pp\r\nCreated build tracker: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-tracker-pw7wk6pp\r\nEntered build tracker: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-tracker-pw7wk6pp\r\nCreated temporary directory: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-install-9t5byoki\r\nProcessing d:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\work\r\n  Created temporary directory: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-build-vkeklb_q\r\n  Added file:///D:/miniconda3/conda-bld/virtualenv_1589565529221/work to build tracker 'C:\\\\Users\\\\Bruno\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-pw7wk6pp'\r\n    Created temporary directory: C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-modern-metadata-ryrewhpc\r\n    Preparing wheel metadata: started\r\n    Running command 'D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\python.exe' 'D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py' prepare_metadata_for_build_wheel 'C:\\Users\\Bruno\\AppData\\Local\\Temp\\tmpi6m3x558'\r\n    Traceback (most recent call last):\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 257, in <module>\r\n        main()\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 240, in main\r\n        json_out['return_val'] = hook(**hook_input['kwargs'])\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 110, in prepare_metadata_for_build_wheel\r\n        return hook(metadata_directory, config_settings)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\build_meta.py\", line 158, in prepare_metadata_for_build_wheel\r\n        self.run_setup()\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\build_meta.py\", line 143, in run_setup\r\n        exec(compile(code, __file__, 'exec'), locals())\r\n      File \"setup.py\", line 3, in <module>\r\n        setup()\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\__init__.py\", line 144, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\distutils\\core.py\", line 121, in setup\r\n        dist.parse_config_files()\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\dist.py\", line 690, in parse_config_files\r\n        ignore_option_errors=ignore_option_errors)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\config.py\", line 121, in parse_configuration\r\n        meta.parse()\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\config.py\", line 426, in parse\r\n        section_parser_method(section_options)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\config.py\", line 399, in parse_section\r\n        self[name] = value\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\config.py\", line 184, in __setitem__\r\n        value = parser(value)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\config.py\", line 515, in _parse_version\r\n        version = self._parse_attr(value, self.package_dir)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\site-packages\\setuptools\\config.py\", line 349, in _parse_attr\r\n        module = import_module(module_name)\r\n      File \"D:\\miniconda3\\conda-bld\\virtualenv_1589565529221\\_h_env\\lib\\importlib\\__init__.py\", line 126, in import_module\r\n        return _bootstrap._gcd_import(name[level:], package, level)\r\n      File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n      File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n      File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n      File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n      File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n      File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n      File \"C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-build-vkeklb_q\\src\\virtualenv\\__init__.py\", line 3, in <module>\r\n        from .run import cli_run\r\n      File \"C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-build-vkeklb_q\\src\\virtualenv\\run\\__init__.py\", line 8, in <module>\r\n        from ..version import __version__\r\n    ModuleNotFoundError: No module named 'virtualenv.version'\r\n    Preparing wheel metadata: finished with status 'error'\r\nCleaning up...\r\n  Removing source in C:\\Users\\Bruno\\AppData\\Local\\Temp\\pip-req-build-vkeklb_q\r\nRemoved file:///D:/miniconda3/conda-bld/virtualenv_1589565529221/work from build tracker 'C:\\\\Users\\\\Bruno\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-pw7wk6pp'\r\nRemoved build tracker: 'C:\\\\Users\\\\Bruno\\\\AppData\\\\Local\\\\Temp\\\\pip-req-tracker-pw7wk6pp'\r\n```\r\n</details>\r\n\r\n**Environment**\r\n\r\nI'm trying this one Windows, using conda version 4.8.3 and conda-build 3.19.2 (both latest versions).\r\n\r\n<details>\r\n<summary>Here is the full recipe I'm using</summary>\r\n\r\n```yaml\r\n{% set version = \"20.0.4\" %}\r\n\r\npackage:\r\n  name: virtualenv\r\n  version: {{ version }}\r\n\r\nsource:\r\n  url: https://github.com/pypa/virtualenv/archive/{{ version }}.tar.gz\r\n  sha256: 6af7af7f73b57487b933e3a7811dbfe00aa9cad2fd3e1d6f93c29c5335104614\r\n\r\nbuild:\r\n  number: 0\r\n  script: {{ PYTHON }} -m pip install . -vv\r\n  entry_points:\r\n    - virtualenv = virtualenv:run_with_catch\r\n\r\nrequirements:\r\n  host:\r\n    - python\r\n    - pip >=18\r\n    - setuptools >=41\r\n    - setuptools_scm >=2\r\n    - appdirs >=1.4.3,<2\r\n    - distlib >=0.3.0,<1\r\n    - filelock >=3.0.0,<4\r\n    - six >=1.9.0,<2   # keep it >=1.9.0 as it may cause problems on LTS platforms\r\n    - contextlib2 >=0.6.0,<1  # [py<33]\r\n    - importlib-metadata >=0.12,<2  # [py<38]\r\n    - importlib_resources >=1.0,<2  # [py<37]\r\n    - pathlib2 >=2.3.3,<3\r\n  run:\r\n    - python\r\n    - appdirs >=1.4.3,<2\r\n    - distlib >=0.3.0,<1\r\n    - filelock >=3.0.0,<4\r\n    - six >=1.9.0,<2   # keep it >=1.9.0 as it may cause problems on LTS platforms\r\n    - contextlib2 >=0.6.0,<1  # [py<33]\r\n    - importlib-metadata >=0.12,<2  # [py<38]\r\n    - importlib_resources >=1.0,<2  # [py<37]\r\n    - pathlib2 >=2.3.3,<3  # [py<34 and not win]\r\n\r\ntest:\r\n  commands:\r\n    - virtualenv --help\r\n    # Skipping py2k tests b/c it fails on our docker image\r\n    # but I'm 99% sure it should work locally.\r\n    - |\r\n      virtualenv -p \"$(which python)\" /tmp/venv-$$  # [not win]\r\n      source /tmp/venv-$$/bin/activate  # [not win]\r\n      python -c 'import sys ; sys.exit(not hasattr(sys, \"real_prefix\"))'  # [not win]\r\n  imports:\r\n    - virtualenv\r\n\r\nabout:\r\n  home: https://virtualenv.pypa.io/\r\n  license: MIT\r\n  license_file: LICENSE.txt\r\n  summary: Virtual Python Environment builder\r\n  description: |\r\n    virtualenv is a tool to create isolated Python environments.\r\n  doc_url: https://virtualenv.pypa.io/en/latest/\r\n  dev_url: https://github.com/pypa/virtualenv\r\n\r\nextra:\r\n  recipe-maintainers:\r\n    - mingwandroid\r\n    - kalefranz\r\n\r\n```\r\n\r\n</details>\r\n\r\nAny hints or insights are appreciated. :+1:", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1824", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1824/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1824/events", "html_url": "https://github.com/pypa/virtualenv/issues/1824", "id": 616641581, "node_id": "MDU6SXNzdWU2MTY2NDE1ODE=", "number": 1824, "title": "virtualenv fails sometimes when run concurrently", "user": {"login": "gozdal", "id": 619444, "node_id": "MDQ6VXNlcjYxOTQ0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/619444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gozdal", "html_url": "https://github.com/gozdal", "followers_url": "https://api.github.com/users/gozdal/followers", "following_url": "https://api.github.com/users/gozdal/following{/other_user}", "gists_url": "https://api.github.com/users/gozdal/gists{/gist_id}", "starred_url": "https://api.github.com/users/gozdal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gozdal/subscriptions", "organizations_url": "https://api.github.com/users/gozdal/orgs", "repos_url": "https://api.github.com/users/gozdal/repos", "events_url": "https://api.github.com/users/gozdal/events{/privacy}", "received_events_url": "https://api.github.com/users/gozdal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-12T13:06:56Z", "updated_at": "2020-05-20T11:05:10Z", "closed_at": "2020-05-13T16:57:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nSometimes our CI builds fail when creating virtualenv. We've tracked the problem to builds running in parallel, trying to create a virtualenv in different directories at the same time. \r\nAble to reproduce it with a simple test:\r\n```console\r\nrm -rf *; parallel python3.7 -m virtualenv  ::: $(seq 10)\r\n```\r\n**WARNING**: run in a scratch directory (note `rm -rf *`).\r\n\r\nMost of the times the test passes, but sometimes it fails with errors like these:\r\n```console\r\n$ parallel python3.7 -m virtualenv --clear ::: $(seq 10)\r\ncreated virtual environment CPython3.7.7.final.0-64 in 169ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/2, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\nException in thread Thread-5:\r\nTraceback (most recent call last):\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 50, in _install\r\n    installer.build_image()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/pip_install/base.py\", line 59, in build_image\r\n    zip_ref.extractall(str(self._image_dir))\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1636, in extractall\r\n    self._extract_member(zipinfo, path, pwd)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1690, in _extract_member\r\n    open(targetpath, \"wb\") as target:\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info/RECORD'\r\n\r\nException in thread Thread-6:\r\nTraceback (most recent call last):\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 50, in _install\r\n    installer.build_image()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/pip_install/base.py\", line 59, in build_image\r\n    zip_ref.extractall(str(self._image_dir))\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1636, in extractall\r\n    self._extract_member(zipinfo, path, pwd)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1682, in _extract_member\r\n    os.makedirs(upperdirs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/os.py\", line 223, in makedirs\r\n    mkdir(name, mode)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip/_internal/cli'\r\n\r\nException in thread Thread-4:\r\nTraceback (most recent call last):\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 50, in _install\r\n    installer.build_image()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/pip_install/base.py\", line 59, in build_image\r\n    zip_ref.extractall(str(self._image_dir))\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1636, in extractall\r\n    self._extract_member(zipinfo, path, pwd)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1682, in _extract_member\r\n    os.makedirs(upperdirs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/os.py\", line 213, in makedirs\r\n    makedirs(head, exist_ok=exist_ok)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/os.py\", line 223, in makedirs\r\n    mkdir(name, mode)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/pkg_resources/_vendor'\r\n\r\ncreated virtual environment CPython3.7.7.final.0-64 in 151ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/1, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\nException in thread Thread-2:\r\nTraceback (most recent call last):\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 75, in _get\r\n    self.app_data,\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 28, in get_wheels\r\n    acquire_from_bundle(processed, for_py_version, wheel_cache_dir)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 57, in acquire_from_bundle\r\n    copy2(str(bundle), str(bundled_wheel_file))\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/shutil.py\", line 267, in copy2\r\n    copystat(src, dst, follow_symlinks=follow_symlinks)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/shutil.py\", line 206, in copystat\r\n    follow_symlinks=follow)\r\nFileNotFoundError: [Errno 2] No such file or directory\r\n\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 75, in _get\r\n    self.app_data,\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 28, in get_wheels\r\n    acquire_from_bundle(processed, for_py_version, wheel_cache_dir)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 57, in acquire_from_bundle\r\n    copy2(str(bundle), str(bundled_wheel_file))\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/shutil.py\", line 267, in copy2\r\n    copystat(src, dst, follow_symlinks=follow_symlinks)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/shutil.py\", line 206, in copystat\r\n    follow_symlinks=follow)\r\nFileNotFoundError: [Errno 2] No such file or directory\r\n\r\nException in thread Thread-4:\r\nTraceback (most recent call last):\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 50, in _install\r\n    installer.build_image()\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/site-packages/virtualenv/seed/via_app_data/pip_install/base.py\", line 58, in build_image\r\n    with zipfile.ZipFile(str(self._wheel)) as zip_ref:\r\n  File \"/opt/starfish/python3.7-shared/lib/python3.7/zipfile.py\", line 1240, in __init__\r\n    self.fp = io.open(file, filemode)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels/wheel-0.34.2-py2.py3-none-any.whl'\r\n\r\ncreated virtual environment CPython3.7.7.final.0-64 in 293ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/8, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 349ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/10, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 402ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/5, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 462ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/4, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 509ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/9, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 572ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/3, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 625ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/7, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\ncreated virtual environment CPython3.7.7.final.0-64 in 714ms\r\n  creator CPython3Posix(dest=/home/jenkins/virtualenv/6, clear=True, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/jenkins/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n```\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu 16, Ubuntu 18, CentOS 7\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n```console\r\n$ python3.7 -m pip freeze --all\r\nappdirs==1.4.3\r\ndistlib==0.3.0\r\nfilelock==3.0.12\r\nimportlib-metadata==1.6.0\r\npip==20.0.2\r\nsetuptools==46.1.3\r\nsix==1.14.0\r\nvirtualenv==20.0.18\r\nwheel==0.34.2\r\nzipp==3.1.0\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nSee above", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1822", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1822/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1822/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1822/events", "html_url": "https://github.com/pypa/virtualenv/issues/1822", "id": 615904973, "node_id": "MDU6SXNzdWU2MTU5MDQ5NzM=", "number": 1822, "title": "Fail to run bootstrap virtualenv.pyz on Python 3.6 ", "user": {"login": "pombredanne", "id": 675997, "node_id": "MDQ6VXNlcjY3NTk5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/675997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pombredanne", "html_url": "https://github.com/pombredanne", "followers_url": "https://api.github.com/users/pombredanne/followers", "following_url": "https://api.github.com/users/pombredanne/following{/other_user}", "gists_url": "https://api.github.com/users/pombredanne/gists{/gist_id}", "starred_url": "https://api.github.com/users/pombredanne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pombredanne/subscriptions", "organizations_url": "https://api.github.com/users/pombredanne/orgs", "repos_url": "https://api.github.com/users/pombredanne/repos", "events_url": "https://api.github.com/users/pombredanne/events{/privacy}", "received_events_url": "https://api.github.com/users/pombredanne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-11T13:55:48Z", "updated_at": "2020-05-11T19:16:13Z", "closed_at": "2020-05-11T17:31:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\nvirtualenv.pyz fails on Python 3.6\r\n```\r\n$ wget https://bootstrap.pypa.io/virtualenv.pyz\r\n[...]\r\n$ sha256sum  virtualenv.pyz\r\nd7ca00e138dcffa5fb017b4c6dfa256bb6fdd74af964fbe9798aed59db8ec6f5  virtualenv.pyz\r\n$ python3.6 --version\r\nPython 3.6.9\r\n$ cat /etc/lsb-release \r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=16.04\r\nDISTRIB_CODENAME=xenial\r\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.6 LTS\"\r\n```\r\nThe error is the same on Python 3.6.8 and 3.6.9 and there is no rror on the system Python 2.7.12:\r\n```\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 85, in open_binary\r\nNotADirectoryError: [Errno 20] Not a directory: '/home/user/tmp/venv/virtualenv.pyz/virtualenv/activation/bash/activate.sh'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/user/.pyenv/versions/3.6.8/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/user/.pyenv/versions/3.6.8/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"virtualenv.pyz/__main__.py\", line 169, in <module>\r\n  File \"virtualenv.pyz/__main__.py\", line 165, in run\r\n  File \"virtualenv.pyz/virtualenv/__main__.py\", line 20, in run\r\n  File \"virtualenv.pyz/virtualenv/run/__init__.py\", line 26, in cli_run\r\n  File \"virtualenv.pyz/virtualenv/session.py\", line 48, in run\r\n  File \"virtualenv.pyz/virtualenv/session.py\", line 68, in _activate\r\n  File \"virtualenv.pyz/virtualenv/activation/via_template.py\", line 28, in generate\r\n  File \"virtualenv.pyz/virtualenv/activation/via_template.py\", line 45, in _generate\r\n  File \"virtualenv.pyz/virtualenv/activation/via_template.py\", line 56, in instantiate_template\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 127, in read_text\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 109, in open_text\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 99, in open_binary\r\nFileNotFoundError: 'activate.sh' resource not found in 'virtualenv.activation.bash'\r\n```\r\n\r\n\r\nDescribe what's the expected behaviour and what you're observing.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubunt 16.04 X86_64\r\n- pyenv with Python  version 3.6.8  and 3.6.9\r\n- ``pip list`` is empty\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ python virtualenv.pyz -vvv --with-traceback .\r\n107 setup logging to NOTSET [DEBUG report:42]\r\n117 find interpreter for spec PythonSpec(path=/home/user/.pyenv/versions/3.6.9/bin/python) [INFO builtin:44]\r\n117 proposed PythonInfo(spec=CPython3.6.9.final.0-64, exe=/home/user/.pyenv/versions/3.6.9/bin/python, platform=linux, version='3.6.9 (default, May 11 2020, 15:27:50) \\n[GCC 5.4.0 20160609]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n117 accepted PythonInfo(spec=CPython3.6.9.final.0-64, exe=/home/user/.pyenv/versions/3.6.9/bin/python, platform=linux, version='3.6.9 (default, May 11 2020, 15:27:50) \\n[GCC 5.4.0 20160609]', encoding_fs_io=utf-8-UTF-8) [DEBUG builtin:52]\r\n123 filesystem is case-sensitive [DEBUG info:28]\r\n162 create virtual environment via CPython3Posix(dest=/home/user/tmp/venv, clear=False, global=False) [INFO session:52]\r\n163 create folder /home/user/tmp/venv/bin [DEBUG _sync:21]\r\n163 create folder /home/user/tmp/venv/lib/python3.6/site-packages [DEBUG _sync:21]\r\n163 write /home/user/tmp/venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n163 \thome = /home/user/.pyenv/versions/3.6.9 [DEBUG pyenv_cfg:38]\r\n163 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n163 \tversion_info = 3.6.9.final.0 [DEBUG pyenv_cfg:38]\r\n163 \tvirtualenv = 20.0.20 [DEBUG pyenv_cfg:38]\r\n163 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n163 \tbase-prefix = /home/user/.pyenv/versions/3.6.9 [DEBUG pyenv_cfg:38]\r\n163 \tbase-exec-prefix = /home/user/.pyenv/versions/3.6.9 [DEBUG pyenv_cfg:38]\r\n164 \tbase-executable = /home/user/.pyenv/versions/3.6.9/bin/python [DEBUG pyenv_cfg:38]\r\n164 symlink /home/user/.pyenv/versions/3.6.9/bin/python to /home/user/tmp/venv/bin/python [DEBUG _sync:40]\r\n164 Attempting to acquire lock 140237286666192 on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/_virtualenv.py.lock [DEBUG filelock:270]\r\n164 Lock 140237286666192 acquired on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/_virtualenv.py.lock [INFO filelock:274]\r\n165 Attempting to release lock 140237286666192 on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/_virtualenv.py.lock [DEBUG filelock:315]\r\n165 Lock 140237286666192 released on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/_virtualenv.py.lock [INFO filelock:318]\r\n165 create virtualenv import hook file /home/user/tmp/venv/lib/python3.6/site-packages/_virtualenv.pth [DEBUG api:95]\r\n165 create /home/user/tmp/venv/lib/python3.6/site-packages/_virtualenv.py [DEBUG api:98]\r\n165 ============================== target debug ============================== [DEBUG session:54]\r\n166 Attempting to acquire lock 140237285941600 on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/debug.py.lock [DEBUG filelock:270]\r\n166 Lock 140237285941600 acquired on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/debug.py.lock [INFO filelock:274]\r\n166 extract /home/user/tmp/venv/virtualenv.pyz/virtualenv/create/debug.py to /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/debug.py [DEBUG zipapp:23]\r\n168 debug via /home/user/tmp/venv/bin/python /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/debug.py [DEBUG creator:187]\r\n200 Attempting to release lock 140237285941600 on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/debug.py.lock [DEBUG filelock:315]\r\n200 Lock 140237285941600 released on /home/user/.local/share/virtualenv/zipapp/extract/20.0.20/debug.py.lock [INFO filelock:318]\r\n165 {\r\n  \"sys\": {\r\n    \"executable\": \"/home/user/tmp/venv/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/home/user/tmp/venv\",\r\n    \"base_prefix\": \"/home/user/.pyenv/versions/3.6.9\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/home/user/tmp/venv\",\r\n    \"base_exec_prefix\": \"/home/user/.pyenv/versions/3.6.9\",\r\n    \"path\": [\r\n      \"/home/user/.pyenv/versions/3.6.9/lib/python36.zip\",\r\n      \"/home/user/.pyenv/versions/3.6.9/lib/python3.6\",\r\n      \"/home/user/.pyenv/versions/3.6.9/lib/python3.6/lib-dynload\",\r\n      \"/home/user/tmp/venv/lib/python3.6/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"UTF-8\"\r\n  },\r\n  \"version\": \"3.6.9 (default, May 11 2020, 15:27:50) \\n[GCC 5.4.0 20160609]\",\r\n  \"makefile_filename\": \"/home/user/.pyenv/versions/3.6.9/lib/python3.6/config-3.6m-x86_64-linux-gnu/Makefile\",\r\n  \"os\": \"<module 'os' from '/home/user/.pyenv/versions/3.6.9/lib/python3.6/os.py'>\",\r\n  \"site\": \"<module 'site' from '/home/user/.pyenv/versions/3.6.9/lib/python3.6/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/home/user/.pyenv/versions/3.6.9/lib/python3.6/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/home/user/.pyenv/versions/3.6.9/lib/python3.6/lib-dynload/math.cpython-36m-x86_64-linux-gnu.so'>\",\r\n  \"json\": \"<module 'json' from '/home/user/.pyenv/versions/3.6.9/lib/python3.6/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n200 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/user/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n201 Attempting to acquire lock 140237286752552 on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [DEBUG filelock:270]\r\n201 Lock 140237286752552 acquired on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [INFO filelock:274]\r\n202 get bundled wheel /home/user/tmp/venv/virtualenv.pyz/virtualenv/seed/embed/wheels/pip-20.1-py2.py3-none-any.whl [DEBUG acquire:60]\r\n203 extract /home/user/tmp/venv/virtualenv.pyz/virtualenv/seed/embed/wheels/pip-20.1-py2.py3-none-any.whl to /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/pip-20.1-py2.py3-none-any.whl [DEBUG zipapp:23]\r\n203 get bundled wheel /home/user/tmp/venv/virtualenv.pyz/virtualenv/seed/embed/wheels/setuptools-46.1.3-py3-none-any.whl [DEBUG acquire:60]\r\n203 extract /home/user/tmp/venv/virtualenv.pyz/virtualenv/seed/embed/wheels/setuptools-46.1.3-py3-none-any.whl to /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/setuptools-46.1.3-py3-none-any.whl [DEBUG zipapp:23]\r\n204 get bundled wheel /home/user/tmp/venv/virtualenv.pyz/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:60]\r\n204 extract /home/user/tmp/venv/virtualenv.pyz/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl to /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG zipapp:23]\r\n215 install wheel from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:47]\r\n215 install setuptools from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/setuptools-46.1.3-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:47]\r\n215 install pip from wheel /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/pip-20.1-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:47]\r\n216 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /home/user/tmp/venv/lib/python3.6/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n216 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.dist-info to /home/user/tmp/venv/lib/python3.6/site-packages/setuptools-46.1.3.dist-info [DEBUG _sync:48]\r\n216 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.1-py2.py3-none-any/pip-20.1.dist-info to /home/user/tmp/venv/lib/python3.6/site-packages/pip-20.1.dist-info [DEBUG _sync:48]\r\n216 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /home/user/tmp/venv/lib/python3.6/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n219 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.1-py2.py3-none-any/pip-20.1.virtualenv to /home/user/tmp/venv/lib/python3.6/site-packages/pip-20.1.virtualenv [DEBUG _sync:48]\r\n220 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /home/user/tmp/venv/lib/python3.6/site-packages/wheel [DEBUG _sync:48]\r\n220 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.1-py2.py3-none-any/pip to /home/user/tmp/venv/lib/python3.6/site-packages/pip [DEBUG _sync:48]\r\n220 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/pkg_resources to /home/user/tmp/venv/lib/python3.6/site-packages/pkg_resources [DEBUG _sync:48]\r\n226 changing mode of /home/user/tmp/venv/bin/wheel-3.6 to 775 [INFO util:566]\r\n227 changing mode of /home/user/tmp/venv/bin/wheel to 775 [INFO util:566]\r\n227 changing mode of /home/user/tmp/venv/bin/wheel3 to 775 [INFO util:566]\r\n227 generated console scripts wheel wheel3 wheel-3.6 [DEBUG base:53]\r\n229 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/easy_install.py to /home/user/tmp/venv/lib/python3.6/site-packages/easy_install.py [DEBUG _sync:48]\r\n229 copy directory /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools to /home/user/tmp/venv/lib/python3.6/site-packages/setuptools [DEBUG _sync:48]\r\n248 copy /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.virtualenv to /home/user/tmp/venv/lib/python3.6/site-packages/setuptools-46.1.3.virtualenv [DEBUG _sync:48]\r\n250 changing mode of /home/user/tmp/venv/bin/easy_install3 to 775 [INFO util:566]\r\n250 changing mode of /home/user/tmp/venv/bin/easy_install-3.6 to 775 [INFO util:566]\r\n250 changing mode of /home/user/tmp/venv/bin/easy_install to 775 [INFO util:566]\r\n250 generated console scripts easy_install3 easy_install easy_install-3.6 [DEBUG base:53]\r\n275 changing mode of /home/user/tmp/venv/bin/pip3 to 775 [INFO util:566]\r\n276 changing mode of /home/user/tmp/venv/bin/pip-3.6 to 775 [INFO util:566]\r\n276 changing mode of /home/user/tmp/venv/bin/pip to 775 [INFO util:566]\r\n276 changing mode of /home/user/tmp/venv/bin/pip3.6 to 775 [INFO util:566]\r\n276 generated console scripts pip pip-3.6 pip3 pip3.6 [DEBUG base:53]\r\n276 Attempting to release lock 140237286752552 on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [DEBUG filelock:315]\r\n276 Lock 140237286752552 released on /home/user/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [INFO filelock:318]\r\n276 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:65]\r\nTraceback (most recent call last):\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 85, in open_binary\r\nNotADirectoryError: [Errno 20] Not a directory: '/home/user/tmp/venv/virtualenv.pyz/virtualenv/activation/bash/activate.sh'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/user/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/home/user/.pyenv/versions/3.6.9/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"virtualenv.pyz/__main__.py\", line 169, in <module>\r\n  File \"virtualenv.pyz/__main__.py\", line 165, in run\r\n  File \"virtualenv.pyz/virtualenv/__main__.py\", line 20, in run\r\n  File \"virtualenv.pyz/virtualenv/run/__init__.py\", line 26, in cli_run\r\n  File \"virtualenv.pyz/virtualenv/session.py\", line 48, in run\r\n  File \"virtualenv.pyz/virtualenv/session.py\", line 68, in _activate\r\n  File \"virtualenv.pyz/virtualenv/activation/via_template.py\", line 28, in generate\r\n  File \"virtualenv.pyz/virtualenv/activation/via_template.py\", line 45, in _generate\r\n  File \"virtualenv.pyz/virtualenv/activation/via_template.py\", line 56, in instantiate_template\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 127, in read_text\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 109, in open_text\r\n  File \"/home/user/tmp/venv/virtualenv.pyz/__virtualenv__/importlib_resources-1.5.0-py2.py3-none-any/importlib_resources/_py3.py\", line 99, in open_binary\r\nFileNotFoundError: 'activate.sh' resource not found in 'virtualenv.activation.bash'\r\n\r\n\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1821", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1821/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1821/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1821/events", "html_url": "https://github.com/pypa/virtualenv/issues/1821", "id": 614458787, "node_id": "MDU6SXNzdWU2MTQ0NTg3ODc=", "number": 1821, "title": "Ensure bundled pip does not get too out of date", "user": {"login": "dstufft", "id": 145979, "node_id": "MDQ6VXNlcjE0NTk3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/145979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dstufft", "html_url": "https://github.com/dstufft", "followers_url": "https://api.github.com/users/dstufft/followers", "following_url": "https://api.github.com/users/dstufft/following{/other_user}", "gists_url": "https://api.github.com/users/dstufft/gists{/gist_id}", "starred_url": "https://api.github.com/users/dstufft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dstufft/subscriptions", "organizations_url": "https://api.github.com/users/dstufft/orgs", "repos_url": "https://api.github.com/users/dstufft/repos", "events_url": "https://api.github.com/users/dstufft/events{/privacy}", "received_events_url": "https://api.github.com/users/dstufft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2020-05-08T02:26:57Z", "updated_at": "2020-06-22T10:24:38Z", "closed_at": "2020-06-21T07:28:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Issue**\r\n\r\nPrior to the rewrite of virtualenv, it would ensure to always install the latest version of pip. If I understand correctly, with the rewrite this behavior has regressed back to installing ONLY the version of pip bundled with virtualenv.\r\n\r\nThe health of the packaging ecosystem depends in part by getting users onto newer versions of the packaging tools as quickly as possible. The decision to install the latest version of pip in virtualenv was made in part to support that. By reverting this feature back to it's legacy behavior we're making it harder to progress python packaging as a whole.\r\n\r\nFrom a user point of view, before we enabled download by default a common complaint we had was that people would create a virtual environment and the first time they run a pip command they're told to upgrade pip. A number of users reported that the very first thing they did upon entering a new virtual env was upgrade pip which slowed things down because they had to uninstall and upgrade over the pip that was just installed.\r\n\r\nUsers who wish to have reproducibility were in the minority and It is, in my opinion, a fairly major regression in virtualenv and I would stongly suggest bringing back the intended behavior.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1819", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1819/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1819/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1819/events", "html_url": "https://github.com/pypa/virtualenv/issues/1819", "id": 613315348, "node_id": "MDU6SXNzdWU2MTMzMTUzNDg=", "number": 1819, "title": "Use identifier string to set the target interpreter when creating virtualenv.", "user": {"login": "hongyi-zhao", "id": 11155854, "node_id": "MDQ6VXNlcjExMTU1ODU0", "avatar_url": "https://avatars2.githubusercontent.com/u/11155854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hongyi-zhao", "html_url": "https://github.com/hongyi-zhao", "followers_url": "https://api.github.com/users/hongyi-zhao/followers", "following_url": "https://api.github.com/users/hongyi-zhao/following{/other_user}", "gists_url": "https://api.github.com/users/hongyi-zhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/hongyi-zhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hongyi-zhao/subscriptions", "organizations_url": "https://api.github.com/users/hongyi-zhao/orgs", "repos_url": "https://api.github.com/users/hongyi-zhao/repos", "events_url": "https://api.github.com/users/hongyi-zhao/events{/privacy}", "received_events_url": "https://api.github.com/users/hongyi-zhao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-06T13:21:48Z", "updated_at": "2020-05-06T13:53:27Z", "closed_at": "2020-05-06T13:53:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nAccording to the help of virtualenv, it supports the following usage:\r\n\r\n`-p py, --python py            target interpreter for which to create a virtual (either absolute path or identifier string) `\r\n\r\nBut I still cannot figure out how to assign the ` identifier string ` to pointing to the target interpreter when I create the virtualenv.  Any hints for this?\r\n\r\nRegards,\r\nHY\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1812", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1812/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1812/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1812/events", "html_url": "https://github.com/pypa/virtualenv/issues/1812", "id": 611616224, "node_id": "MDU6SXNzdWU2MTE2MTYyMjQ=", "number": 1812, "title": "20.0.19(with python2.7.5) fails with AttributeError: 'module' object has no attribute 'get_makefile_filename'", "user": {"login": "karelyatin", "id": 17830093, "node_id": "MDQ6VXNlcjE3ODMwMDkz", "avatar_url": "https://avatars1.githubusercontent.com/u/17830093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karelyatin", "html_url": "https://github.com/karelyatin", "followers_url": "https://api.github.com/users/karelyatin/followers", "following_url": "https://api.github.com/users/karelyatin/following{/other_user}", "gists_url": "https://api.github.com/users/karelyatin/gists{/gist_id}", "starred_url": "https://api.github.com/users/karelyatin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karelyatin/subscriptions", "organizations_url": "https://api.github.com/users/karelyatin/orgs", "repos_url": "https://api.github.com/users/karelyatin/repos", "events_url": "https://api.github.com/users/karelyatin/events{/privacy}", "received_events_url": "https://api.github.com/users/karelyatin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-04T05:38:43Z", "updated_at": "2020-05-04T05:42:07Z", "closed_at": "2020-05-04T05:42:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "virtualenv 20.0.19 do not work with python2.7.5 and fails with below Traceback:-\r\n\r\n[centos@centos7venv ~]$ virtualenv --help\r\nTraceback (most recent call last):\r\n  File \"/home/centos/.local/bin/virtualenv\", line 5, in <module>\r\n    from virtualenv.__main__ import run_with_catch\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/__init__.py\", line 3, in <module>\r\n    from .run import cli_run\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/run/__init__.py\", line 12, in <module>\r\n    from .plugin.creators import CreatorSelector\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/run/plugin/creators.py\", line 6, in <module>\r\n    from virtualenv.create.via_global_ref.builtin.builtin_way import VirtualenvBuiltin\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/create/via_global_ref/builtin/builtin_way.py\", line 7, in <module>\r\n    from virtualenv.create.creator import Creator\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/create/creator.py\", line 14, in <module>\r\n    from virtualenv.discovery.cached_py_info import LogCmd\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/discovery/cached_py_info.py\", line 26, in <module>\r\n    _CACHE[Path(sys.executable)] = PythonInfo()\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/discovery/py_info.py\", line 82, in __init__\r\n    (\"makefile_filename\", sysconfig.get_makefile_filename()),\r\nAttributeError: 'module' object has no attribute 'get_makefile_filename'\r\n[centos@centos7venv ~]$ python --version\r\nPython 2.7.5\r\n[centos@centos7venv ~]$ cat /etc/redhat-release \r\nCentOS Linux release 7.8.2003 (Core)\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: CentOS7.7\r\n- Python Version: 2.7.5\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n[centos@centos7venv ~]$ pip list\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nPackage                          Version\r\n-------------------------------- -----------\r\nappdirs                          1.4.3\r\nBabel                            0.9.6\r\nbackports.ssl-match-hostname     3.5.0.1\r\nchardet                          2.2.1\r\ncloud-init                       18.5\r\nconfigobj                        4.7.2\r\nconfigparser                     4.0.2\r\ncontextlib2                      0.6.0.post1\r\ndecorator                        3.4.0\r\ndistlib                          0.3.0\r\nfilelock                         3.0.12\r\nimportlib-metadata               1.6.0\r\nimportlib-resources              1.5.0\r\niniparse                         0.4\r\nipaddress                        1.0.16\r\nIPy                              0.75\r\nJinja2                           2.7.2\r\njsonpatch                        1.2\r\njsonpointer                      1.9\r\nkitchen                          1.1.1\r\nMarkupSafe                       0.11\r\npathlib2                         2.3.5\r\nperf                             0.1\r\npip                              20.1\r\npolicycoreutils-default-encoding 0.1\r\nprettytable                      0.7.2\r\npycurl                           7.19.0\r\npygobject                        3.22.0\r\npygpgme                          0.3\r\npyliblzma                        0.5.3\r\npyserial                         2.6\r\npython-linux-procfs              0.4.9\r\npyudev                           0.15\r\npyxattr                          0.5.1\r\nPyYAML                           3.10\r\nrequests                         2.6.0\r\nscandir                          1.10.0\r\nschedutils                       0.4\r\nseobject                         0.1\r\nsepolicy                         1.1\r\nsetuptools                       0.9.8\r\nsingledispatch                   3.4.0.3\r\nsix                              1.9.0\r\ntyping                           3.7.4.1\r\nurlgrabber                       3.10\r\nurllib3                          1.10.2\r\nvirtualenv                       20.0.19\r\nwheel                            0.34.2\r\nyum-metadata-parser              1.1.4\r\nzipp                             1.2.0\r\n  ```console\r\n\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n[centos@centos7venv ~]$ virtualenv -vvv --with-traceback testvenv\r\nTraceback (most recent call last):\r\n  File \"/home/centos/.local/bin/virtualenv\", line 5, in <module>\r\n    from virtualenv.__main__ import run_with_catch\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/__init__.py\", line 3, in <module>\r\n    from .run import cli_run\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/run/__init__.py\", line 12, in <module>\r\n    from .plugin.creators import CreatorSelector\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/run/plugin/creators.py\", line 6, in <module>\r\n    from virtualenv.create.via_global_ref.builtin.builtin_way import VirtualenvBuiltin\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/create/via_global_ref/builtin/builtin_way.py\", line 7, in <module>\r\n    from virtualenv.create.creator import Creator\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/create/creator.py\", line 14, in <module>\r\n    from virtualenv.discovery.cached_py_info import LogCmd\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/discovery/cached_py_info.py\", line 26, in <module>\r\n    _CACHE[Path(sys.executable)] = PythonInfo()\r\n  File \"/home/centos/.local/lib/python2.7/site-packages/virtualenv/discovery/py_info.py\", line 82, in __init__\r\n    (\"makefile_filename\", sysconfig.get_makefile_filename()),\r\nAttributeError: 'module' object has no attribute 'get_makefile_filename'\r\n```\r\nhttps://github.com/pypa/virtualenv/pull/1787/files caused the issue as it assumed get_makefile_filename is present in all python2 versions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1810", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1810/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1810/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1810/events", "html_url": "https://github.com/pypa/virtualenv/issues/1810", "id": 611613346, "node_id": "MDU6SXNzdWU2MTE2MTMzNDY=", "number": 1810, "title": "20.0.19 Fails on CentOS 7/older Python 2 - AttributeError: 'module' object has no attribute 'get_makefile_name'", "user": {"login": "ianw", "id": 108448, "node_id": "MDQ6VXNlcjEwODQ0OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/108448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianw", "html_url": "https://github.com/ianw", "followers_url": "https://api.github.com/users/ianw/followers", "following_url": "https://api.github.com/users/ianw/following{/other_user}", "gists_url": "https://api.github.com/users/ianw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianw/subscriptions", "organizations_url": "https://api.github.com/users/ianw/orgs", "repos_url": "https://api.github.com/users/ianw/repos", "events_url": "https://api.github.com/users/ianw/events{/privacy}", "received_events_url": "https://api.github.com/users/ianw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-04T05:30:10Z", "updated_at": "2020-05-04T09:12:45Z", "closed_at": "2020-05-04T06:53:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\n20.0.19 fails on centos 7 with Python 2.7.5\r\n\r\n```\r\n-bash-4.2# virtualenv --version\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/virtualenv\", line 5, in <module>\r\n    from virtualenv.__main__ import run_with_catch\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/__init__.py\", line 3, in <module>\r\n    from .run import cli_run\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/run/__init__.py\", line 12, in <module>\r\n    from .plugin.creators import CreatorSelector\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/run/plugin/creators.py\", line 6, in <module>\r\n    from virtualenv.create.via_global_ref.builtin.builtin_way import VirtualenvBuiltin\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/create/via_global_ref/builtin/builtin_way.py\", line 7, in <module>\r\n    from virtualenv.create.creator import Creator\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/create/creator.py\", line 14, in <module>\r\n    from virtualenv.discovery.cached_py_info import LogCmd\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/discovery/cached_py_info.py\", line 26, in <module>\r\n    _CACHE[Path(sys.executable)] = PythonInfo()\r\n  File \"/usr/lib/python2.7/site-packages/virtualenv/discovery/py_info.py\", line 82, in __init__\r\n    (\"makefile_filename\", sysconfig.get_makefile_filename()),\r\nAttributeError: 'module' object has no attribute 'get_makefile_filename'\r\n```\r\n\r\nSeems to be from dfafc1102a0746f3fe6efdee3520a8d83e88b9ef which introduced the usage of this call.  After reading https://bugs.python.org/issue22199, it appears this might be _ prefixed on some platforms with older Python, such as CentOS 7 (looks like it only got renamed for 2.7.9?)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1809", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1809/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1809/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1809/events", "html_url": "https://github.com/pypa/virtualenv/issues/1809", "id": 611558857, "node_id": "MDU6SXNzdWU2MTE1NTg4NTc=", "number": 1809, "title": "20.0.19 does not install pip on Python 3.4", "user": {"login": "andy-maier", "id": 8939758, "node_id": "MDQ6VXNlcjg5Mzk3NTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/8939758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andy-maier", "html_url": "https://github.com/andy-maier", "followers_url": "https://api.github.com/users/andy-maier/followers", "following_url": "https://api.github.com/users/andy-maier/following{/other_user}", "gists_url": "https://api.github.com/users/andy-maier/gists{/gist_id}", "starred_url": "https://api.github.com/users/andy-maier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andy-maier/subscriptions", "organizations_url": "https://api.github.com/users/andy-maier/orgs", "repos_url": "https://api.github.com/users/andy-maier/repos", "events_url": "https://api.github.com/users/andy-maier/events{/privacy}", "received_events_url": "https://api.github.com/users/andy-maier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-04T01:40:05Z", "updated_at": "2020-05-04T09:29:39Z", "closed_at": "2020-05-04T08:46:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nIn Travis with Python 3.4, virtualenv 20.0.19 does not seem to install a pip into a newly created virtualenv when creating it while a virtualenv is already acrive. \"which pip\" returns the pip from the first virtualenv after the new one is created and active. It fails only on Python 3.4 (the errors with pypy in the Travis logs below have a different cause). virtualenv before 20.0.19 does not have that behavior and succeeds on Python 3.4.\r\n\r\nVersion and location of Python and Pip after having activated the second virtualenv: Note that Python is shown to come from the correct second virtualenv while Pip is shown to come from the incorrect first virtualenv that Travis had set up:\r\n* Python version: Python 3.4.8 from /home/travis/build/pywbem/pywbem/tmp_installtest/virtualenvs/pywbem_test_test1/bin/python\r\n* Pip version: pip 19.1.1 from /home/travis/virtualenv/python3.4.8/lib/python3.4/site-packages/pip (python 3.4)\r\n\r\nTo see this in the Travis logs, search for \"Creating virtualenv:\" case sensitively (around line 2500):\r\n* Travis build with virtualenv 20.0.19, showing the issue: https://travis-ci.org/github/pywbem/pywbem/builds/682738409\r\n* Travis build with virtualenv 20.0.18, showing success: https://travis-ci.org/github/pywbem/pywbem/builds/682740925\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: MacOS 10.14.6\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n  see Travis logs\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\nsee Travis logs", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1808", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1808/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1808/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1808/events", "html_url": "https://github.com/pypa/virtualenv/issues/1808", "id": 611419887, "node_id": "MDU6SXNzdWU2MTE0MTk4ODc=", "number": 1808, "title": "python-config is not installed since version 20", "user": {"login": "iguanaonmystack", "id": 450243, "node_id": "MDQ6VXNlcjQ1MDI0Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/450243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iguanaonmystack", "html_url": "https://github.com/iguanaonmystack", "followers_url": "https://api.github.com/users/iguanaonmystack/followers", "following_url": "https://api.github.com/users/iguanaonmystack/following{/other_user}", "gists_url": "https://api.github.com/users/iguanaonmystack/gists{/gist_id}", "starred_url": "https://api.github.com/users/iguanaonmystack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iguanaonmystack/subscriptions", "organizations_url": "https://api.github.com/users/iguanaonmystack/orgs", "repos_url": "https://api.github.com/users/iguanaonmystack/repos", "events_url": "https://api.github.com/users/iguanaonmystack/events{/privacy}", "received_events_url": "https://api.github.com/users/iguanaonmystack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2033593394, "node_id": "MDU6TGFiZWwyMDMzNTkzMzk0", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-more-info", "name": "needs-more-info", "color": "8cf466", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-03T13:57:18Z", "updated_at": "2020-05-04T16:43:54Z", "closed_at": "2020-05-04T16:43:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nPrior to virtualenv version 20, eg 16.7.10, virtualenv installs python-config in the virtualenv's bin directory. Since version 20 this no longer happens.\r\n\r\n```console\r\n$ pip3 install --user virtualenv\\<20\r\n$ ~/.local/bin/virtualenv --version\r\n16.7.10\r\n$ ~/.local/bin/virtualenv venv-16\r\n$ ls venv-16/bin/\r\nactivate      activate.fish  activate_this.py  easy_install      pip   pip3.8  python3    python-config\r\nactivate.csh  activate.ps1   activate.xsh      easy_install-3.8  pip3  python  python3.8  wheel\r\n$ pip3 install --user --upgrade virtualenv\r\n[...]\r\nInstalling collected packages: virtualenv\r\n  Attempting uninstall: virtualenv\r\n    Found existing installation: virtualenv 16.7.10\r\n    Uninstalling virtualenv-16.7.10:\r\n      Successfully uninstalled virtualenv-16.7.10\r\nSuccessfully installed virtualenv-20.0.18\r\n$ ~/.local/bin/virtualenv --version\r\nvirtualenv 20.0.18 from /home/iguana/.local/lib/python3.8/site-packages/virtualenv/__init__.py\r\n$ ~/.local/bin/virtualenv venv-20\r\n$ ls venv-20/bin/\r\nactivate      activate.fish  activate_this.py  easy_install   easy_install-3.8  pip3     pip3.8  python3    wheel   wheel-3.8\r\nactivate.csh  activate.ps1   activate.xsh      easy_install3  pip               pip-3.8  python  python3.8  wheel3\r\n```\r\n\r\n**Environment**\r\n\r\n- OS: Debian sid\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n$ pip3 list\r\nPackage                      Version       \r\n---------------------------- --------------\r\nappdirs                      1.4.3         \r\napsw                         3.30.1.post1  \r\nasn1crypto                   0.24.0        \r\nastropy                      4.0           \r\natomicwrites                 1.3.0         \r\nattrs                        19.3.0        \r\nAutomat                      0.8.0         \r\nbackcall                     0.1.0         \r\nbcrypt                       3.1.7         \r\nbeautifulsoup4               4.9.0         \r\nblack                        19.10b0       \r\nblinker                      1.4           \r\nboto                         2.49.0        \r\nBrlapi                       0.7.0         \r\ncertifi                      2019.11.28    \r\ncffi                         1.14.0        \r\nchardet                      3.0.4         \r\nClick                        7.0           \r\ncolorama                     0.4.3         \r\nconfigobj                    5.0.6         \r\nconstantly                   15.1.0        \r\ncryptography                 2.8           \r\ncss-parser                   1.0.4         \r\ncssselect                    1.1.0         \r\ncssutils                     1.0.2         \r\ncupshelpers                  1.0           \r\ncycler                       0.10.0        \r\nCython                       0.29.14       \r\ndateparser                   0.7.2         \r\ndbus-python                  1.2.16        \r\ndecorator                    4.4.2         \r\ndistlib                      0.3.0         \r\ndistro                       1.4.0         \r\ndnspython                    1.16.0        \r\ndocutils                     0.16          \r\nEbookLib                     0.17.1        \r\nentrypoints                  0.3           \r\nevdev                        1.3.0         \r\nExifRead                     2.1.2         \r\nfabric                       2.5.0         \r\nfeedparser                   5.2.1         \r\nfilelock                     3.0.12        \r\nflake8                       3.7.9         \r\nFlask                        1.1.2         \r\ngpg                          1.13.1-unknown\r\nhtml2text                    2020.1.16     \r\nhtml5-parser                 0.4.9         \r\nhtml5lib                     1.0.1         \r\nhttplib2                     0.14.0        \r\nhyperlink                    19.0.0        \r\nhypothesis                   4.36.2        \r\nidna                         2.8           \r\nifaddr                       0.1.6         \r\nijson                        2.3           \r\nimportlib-metadata           1.6.0         \r\nincremental                  16.10.1       \r\ninvoke                       1.3.0         \r\niotop                        0.6           \r\nipython                      7.13.0        \r\nipython-genutils             0.2.0         \r\nitsdangerous                 1.1.0         \r\njedi                         0.16.0        \r\njeepney                      0.4.3         \r\nJinja2                       2.11.1        \r\nkazam                        1.4.5         \r\nkeyring                      18.0.1        \r\nkeyrings.alt                 3.4.0         \r\nkiwisolver                   1.0.1         \r\nlibevdev                     0.5           \r\nlightdm-gtk-greeter-settings 1.2.2         \r\nlouis                        3.13.0        \r\nlxml                         4.5.0         \r\nMarkdown                     3.1.1         \r\nMarkupSafe                   1.1.1         \r\nmatplotlib                   3.2.1         \r\nmccabe                       0.6.1         \r\nmechanize                    0.4.5         \r\nmore-itertools               4.2.0         \r\nmsgpack                      0.6.2         \r\nmusicbrainzngs               0.7.1         \r\nmutagen                      1.40.0        \r\nmysqlclient                  1.4.4         \r\nnetifaces                    0.10.9        \r\nnumpy                        1.18.3        \r\nolefile                      0.46          \r\npackaging                    20.3          \r\nparamiko                     2.6.0         \r\nparsel                       1.5.2         \r\nparso                        0.6.2         \r\npathspec                     0.8.0         \r\npexpect                      4.6.0         \r\npickleshare                  0.7.5         \r\nPillow                       7.0.0         \r\npip                          20.0.2        \r\npluggy                       0.13.0        \r\nply                          3.11          \r\nprompt-toolkit               2.0.10        \r\npsutil                       5.6.7         \r\npy                           1.8.1         \r\npyasn1                       0.4.2         \r\npyasn1-modules               0.2.1         \r\npycairo                      1.16.2        \r\npychm                        0.8.6         \r\npycodestyle                  2.5.0         \r\npycparser                    2.20          \r\npycrypto                     2.6.1         \r\npycups                       1.9.73        \r\npycurl                       7.43.0.2      \r\nPyDispatcher                 2.0.5         \r\npyflakes                     2.1.1         \r\nPygments                     2.3.1         \r\nPyGObject                    3.36.0        \r\nPyHamcrest                   1.9.0         \r\npyinotify                    0.9.6         \r\nPyNaCl                       1.3.0         \r\npyOpenSSL                    19.1.0        \r\npyparsing                    2.4.6         \r\nPyQt5                        5.14.2        \r\nPyQtWebEngine                5.14.0        \r\nPySimpleSOAP                 1.16.2        \r\npysmbc                       1.0.15.6      \r\npytest                       4.6.9         \r\npytest-arraydiff             0.3           \r\npytest-astropy               0.7.0         \r\npytest-astropy-header        0.1.2         \r\npytest-doctestplus           0.5.0         \r\npytest-openfiles             0.5.0         \r\npytest-remotedata            0.3.2         \r\npython-apt                   1.8.6         \r\npython-dateutil              2.8.1         \r\npython-debian                0.1.37        \r\npython-debianbts             3.0.2         \r\npytz                         2019.3        \r\npyudev                       0.21.0        \r\npyxattr                      0.6.1         \r\npyxdg                        0.26          \r\nPyYAML                       5.3.1         \r\npyzmq                        18.1.1        \r\nqueuelib                     1.5.0         \r\nquodlibet                    4.2.1         \r\nranger-fm                    1.9.3         \r\nregex                        2019.8.19     \r\nreportbug                    7.6.0         \r\nrepoze.lru                   0.7           \r\nrequests                     2.23.0        \r\nroman                        2.0.0         \r\nRoutes                       2.4.1         \r\nRtree                        0.9.4         \r\nscipy                        1.4.1         \r\nscour                        0.37          \r\nScrapy                       1.7.3         \r\nSecretStorage                3.1.2         \r\nservice-identity             18.1.0        \r\nsetuptools                   46.1.3        \r\nsimplegeneric                0.8.1         \r\nsimplejson                   3.17.0        \r\nsip                          4.19.22       \r\nsix                          1.14.0        \r\nsoupsieve                    2.0           \r\ntoml                         0.10.0        \r\ntqdm                         4.43.0        \r\ntraitlets                    4.3.3         \r\nTwisted                      18.9.0        \r\ntyped-ast                    1.4.1         \r\ntzlocal                      2.1b1         \r\nujson                        1.35          \r\nurllib3                      1.25.8        \r\nvboxapi                      1.0           \r\nvirtualenv                   20.0.19       \r\nw3lib                        1.21.0        \r\nwcwidth                      0.1.9         \r\nwebencodings                 0.5.1         \r\nWebOb                        1.8.6         \r\nWerkzeug                     0.16.1        \r\nwheel                        0.34.2        \r\nWTForms                      2.2.1         \r\nyoutube-dl                   2020.3.24     \r\nzeroconf                     0.23.0        \r\nzipp                         1.0.0         \r\nzope.interface               4.7.1  \r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ ~/.local/bin/virtualenv -vvv --with-traceback venv-20\r\n44 setup logging to NOTSET [DEBUG report:42]\r\n72 find interpreter for spec PythonSpec(path=/usr/bin/python3) [INFO builtin:44]\r\n73 proposed PythonInfo(spec=CPython3.8.3.candidate.1-64, exe=/usr/bin/python3, platform=linux, version='3.8.3rc1 (default, Apr 30 2020, 07:33:30) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n73 accepted PythonInfo(spec=CPython3.8.3.candidate.1-64, exe=/usr/bin/python3, platform=linux, version='3.8.3rc1 (default, Apr 30 2020, 07:33:30) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n75 filesystem is case-sensitive [DEBUG info:28]\r\n124 create virtual environment via CPython3Posix(dest=/home/iguana/venv-20, clear=False, global=False) [INFO session:52]\r\n124 create folder /home/iguana/venv-20/bin [DEBUG _sync:21]\r\n124 create folder /home/iguana/venv-20/lib/python3.8/site-packages [DEBUG _sync:21]\r\n124 write /home/iguana/venv-20/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n124 \thome = /usr [DEBUG pyenv_cfg:38]\r\n125 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n125 \tversion_info = 3.8.3.candidate.1 [DEBUG pyenv_cfg:38]\r\n125 \tvirtualenv = 20.0.19 [DEBUG pyenv_cfg:38]\r\n125 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n125 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n125 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n125 \tbase-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n125 symlink /usr/bin/python3 to /home/iguana/venv-20/bin/python [DEBUG _sync:40]\r\n125 create virtualenv import hook file /home/iguana/venv-20/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:95]\r\n125 create /home/iguana/venv-20/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:98]\r\n125 ============================== target debug ============================== [DEBUG session:54]\r\n126 debug via /home/iguana/venv-20/bin/python /home/iguana/.local/lib/python3.8/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n125 {\r\n  \"sys\": {\r\n    \"executable\": \"/home/iguana/venv-20/bin/python\",\r\n    \"_base_executable\": \"/home/iguana/venv-20/bin/python\",\r\n    \"prefix\": \"/home/iguana/venv-20\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/home/iguana/venv-20\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/usr/lib/python38.zip\",\r\n      \"/usr/lib/python3.8\",\r\n      \"/usr/lib/python3.8/lib-dynload\",\r\n      \"/home/iguana/venv-20/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.3rc1 (default, Apr 30 2020, 07:33:30) \\n[GCC 9.3.0]\",\r\n  \"makefile_filename\": \"/usr/lib/python3.8/config-3.8-x86_64-linux-gnu/Makefile\",\r\n  \"os\": \"<module 'os' from '/usr/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' (built-in)>\",\r\n  \"json\": \"<module 'json' from '/usr/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n157 add seed packages via FromAppData(download=True, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n157 Attempting to acquire lock 140040557034272 on /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:270]\r\n158 Lock 140040557034272 acquired on /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:274]\r\n159 get bundled wheel /home/iguana/.local/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/pip-20.1-py2.py3-none-any.whl [DEBUG acquire:51]\r\n159 get bundled wheel /home/iguana/.local/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/setuptools-46.1.3-py3-none-any.whl [DEBUG acquire:51]\r\n160 get bundled wheel /home/iguana/.local/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n160 download wheels ['wheel'] [DEBUG acquire:133]\r\n163 download wheels ['setuptools'] [DEBUG acquire:133]\r\n166 download wheels ['pip'] [DEBUG acquire:133]\r\n2016 install wheel from wheel /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n2016 install pip from wheel /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels/pip-20.1-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n2016 install setuptools from wheel /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels/setuptools-46.1.3-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n2017 copy /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /home/iguana/venv-20/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n2017 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/pkg_resources to /home/iguana/venv-20/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:48]\r\n2017 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.1-py2.py3-none-any/pip to /home/iguana/venv-20/lib/python3.8/site-packages/pip [DEBUG _sync:48]\r\n2018 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /home/iguana/venv-20/lib/python3.8/site-packages/wheel [DEBUG _sync:48]\r\n2023 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /home/iguana/venv-20/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n2026 copy /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.virtualenv to /home/iguana/venv-20/lib/python3.8/site-packages/setuptools-46.1.3.virtualenv [DEBUG _sync:48]\r\n2028 changing mode of /home/iguana/venv-20/bin/wheel-3.8 to 755 [INFO util:566]\r\n2028 copy /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/easy_install.py to /home/iguana/venv-20/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:48]\r\n2028 changing mode of /home/iguana/venv-20/bin/wheel to 755 [INFO util:566]\r\n2028 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.dist-info to /home/iguana/venv-20/lib/python3.8/site-packages/setuptools-46.1.3.dist-info [DEBUG _sync:48]\r\n2028 changing mode of /home/iguana/venv-20/bin/wheel3 to 755 [INFO util:566]\r\n2029 generated console scripts wheel wheel-3.8 wheel3 [DEBUG base:53]\r\n2031 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools to /home/iguana/venv-20/lib/python3.8/site-packages/setuptools [DEBUG _sync:48]\r\n2047 changing mode of /home/iguana/venv-20/bin/easy_install3 to 755 [INFO util:566]\r\n2047 changing mode of /home/iguana/venv-20/bin/easy_install-3.8 to 755 [INFO util:566]\r\n2048 changing mode of /home/iguana/venv-20/bin/easy_install to 755 [INFO util:566]\r\n2048 generated console scripts easy_install easy_install-3.8 easy_install3 [DEBUG base:53]\r\n2071 copy directory /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.1-py2.py3-none-any/pip-20.1.dist-info to /home/iguana/venv-20/lib/python3.8/site-packages/pip-20.1.dist-info [DEBUG _sync:48]\r\n2072 copy /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.1-py2.py3-none-any/pip-20.1.virtualenv to /home/iguana/venv-20/lib/python3.8/site-packages/pip-20.1.virtualenv [DEBUG _sync:48]\r\n2073 changing mode of /home/iguana/venv-20/bin/pip-3.8 to 755 [INFO util:566]\r\n2073 changing mode of /home/iguana/venv-20/bin/pip3 to 755 [INFO util:566]\r\n2073 changing mode of /home/iguana/venv-20/bin/pip to 755 [INFO util:566]\r\n2073 changing mode of /home/iguana/venv-20/bin/pip3.8 to 755 [INFO util:566]\r\n2074 generated console scripts pip pip3.8 pip-3.8 pip3 [DEBUG base:53]\r\n2074 Attempting to release lock 140040557034272 on /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:315]\r\n2074 Lock 140040557034272 released on /home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:318]\r\n2074 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n2075 write /home/iguana/venv-20/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n2075 \thome = /usr [DEBUG pyenv_cfg:38]\r\n2075 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n2075 \tversion_info = 3.8.3.candidate.1 [DEBUG pyenv_cfg:38]\r\n2075 \tvirtualenv = 20.0.19 [DEBUG pyenv_cfg:38]\r\n2075 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n2075 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n2075 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n2075 \tbase-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n2075 created virtual environment CPython3.8.3.candidate.1-64 in 2033ms\r\n  creator CPython3Posix(dest=/home/iguana/venv-20, clear=False, global=False)\r\n  seeder FromAppData(download=True, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/iguana/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1806", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1806/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1806/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1806/events", "html_url": "https://github.com/pypa/virtualenv/issues/1806", "id": 611395312, "node_id": "MDU6SXNzdWU2MTEzOTUzMTI=", "number": 1806, "title": "Generate VCS ignores to avoid version controlling virtual environments", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-03T11:57:14Z", "updated_at": "2020-05-20T11:05:04Z", "closed_at": "2020-05-12T15:49:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As per https://twitter.com/metalikus/status/1256853693153947649\r\n\r\nList of VCSs targeted is https://www.python.org/dev/peps/pep-0610/#registered-vcs", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1798", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1798/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1798/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1798/events", "html_url": "https://github.com/pypa/virtualenv/issues/1798", "id": 610488166, "node_id": "MDU6SXNzdWU2MTA0ODgxNjY=", "number": 1798, "title": "ERROR! 'sudo' is not a valid attribute for a Play", "user": {"login": "incognitozen", "id": 32048201, "node_id": "MDQ6VXNlcjMyMDQ4MjAx", "avatar_url": "https://avatars1.githubusercontent.com/u/32048201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/incognitozen", "html_url": "https://github.com/incognitozen", "followers_url": "https://api.github.com/users/incognitozen/followers", "following_url": "https://api.github.com/users/incognitozen/following{/other_user}", "gists_url": "https://api.github.com/users/incognitozen/gists{/gist_id}", "starred_url": "https://api.github.com/users/incognitozen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/incognitozen/subscriptions", "organizations_url": "https://api.github.com/users/incognitozen/orgs", "repos_url": "https://api.github.com/users/incognitozen/repos", "events_url": "https://api.github.com/users/incognitozen/events{/privacy}", "received_events_url": "https://api.github.com/users/incognitozen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-01T00:58:41Z", "updated_at": "2020-05-01T01:18:42Z", "closed_at": "2020-05-01T01:18:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nWhen trying Vagrant up the error triggers \r\n\r\n    ERROR! 'sudo' is not a valid attribute for a Play\r\n\r\n\r\nThe offending lines are all sudo : yes in various yml files in the ansible folder.\r\n\r\n**Environment**\r\nUbunutu 18.04\r\n\r\nON changing these to\r\n\r\nbecome: true - it works.\r\n\r\nSorry, I am new to git in general but I think the sudo has been deprecated in ansible since 2.2\r\n\r\nChanges made to\r\n    redis.yml\r\n    kafka.yml\r\n    virtualenv.yml\r\n    zookeeper.yml", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1796", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1796/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1796/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1796/events", "html_url": "https://github.com/pypa/virtualenv/issues/1796", "id": 609052137, "node_id": "MDU6SXNzdWU2MDkwNTIxMzc=", "number": 1796, "title": "Cannot create a virtual env with python 2.7 on windows", "user": {"login": "stilren", "id": 1575527, "node_id": "MDQ6VXNlcjE1NzU1Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1575527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stilren", "html_url": "https://github.com/stilren", "followers_url": "https://api.github.com/users/stilren/followers", "following_url": "https://api.github.com/users/stilren/following{/other_user}", "gists_url": "https://api.github.com/users/stilren/gists{/gist_id}", "starred_url": "https://api.github.com/users/stilren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stilren/subscriptions", "organizations_url": "https://api.github.com/users/stilren/orgs", "repos_url": "https://api.github.com/users/stilren/repos", "events_url": "https://api.github.com/users/stilren/events{/privacy}", "received_events_url": "https://api.github.com/users/stilren/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-29T13:20:05Z", "updated_at": "2020-05-03T14:33:37Z", "closed_at": "2020-05-02T20:34:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nWhen creating a virtual environment using python 2.7 it fails with the message:\r\nRuntimeError: failed to find interpreter for Builtin discover of python_spec='python2.7'   \r\n\r\nI have python 2.7, 3.7 and 3.8 installed. I can create environments for 3.7 and 3.8\r\n\r\n**Environment**\r\n\r\n\r\nProvide at least:\r\nOS: Windows\r\n\r\n```console\r\nawscli                              1.18.16                                                                             boto3                               1.12.16                                                                             botocore                            1.15.16                                                                             cattrs                              1.0.0                                                                               cdk-watchful                        0.4.6                                                                               certifi                             2020.4.5.1                                                                          chardet                             3.0.4                                                                               colorama                            0.4.3                                                                               constructs                          2.0.1                                                                               distlib                             0.3.0                                                                               docutils                            0.15.2                                                                              filelock                            3.0.12                                                                              idna                                2.9                                                                                 importlib-metadata                  1.6.0                                                                               importlib-resources                 1.4.0                                                                               jmespath                            0.9.5                                                                               jsii                                1.1.1                                                                               pip                                 19.2.3                                                                              publication                         0.0.3                                                                               pyasn1                              0.4.8                                                                               python-dateutil                     2.8.1                                                                               PyYAML                              5.3.1                                                                               requests                            2.23.0                                                                              rsa                                 3.4.2                                                                               s3transfer                          0.3.3                                                                               setuptools                          41.2.0                                                                              six                                 1.14.0                                                                              typing-extensions                   3.7.4.2                                                                             urllib3                             1.25.9                                                                              virtualenv                          20.0.18                                                                             virtualenvwrapper-win               1.2.6                                                                               zipp                                3.1.0   \r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\nPS C:\\Users\\WSEB\\work> virtualenv --python=python2.7 test27 -vvv\r\n61 setup logging to NOTSET [DEBUG report:43]\r\n75 find interpreter for spec PythonSpec(implementation=CPython, major=2, minor=7) [INFO builtin:44]\r\n76 proposed PythonInfo(spec=CPython3.8.2.final.0-64, exe=c:\\python38\\python.exe, platform=win32, version='3.8.2 (tags/v3.8.2:7b3ab59, Feb 25 2020, 23:03:10) [MSC v.1916 64 bit (AMD64)]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n78 discover PATH[0]=C:\\Python38\\Scripts\\ [DEBUG builtin:84]\r\n79 filesystem is not case-sensitive [DEBUG info:28]\r\n79 discover PATH[1]=C:\\Python38\\ [DEBUG builtin:84]\r\n80 discover PATH[2]=C:\\Program Files\\AdoptOpenJDK\\jre-11.0.3.2-openj9\\bin [DEBUG builtin:84]\r\n81 discover PATH[3]=C:\\WINDOWS\\system32 [DEBUG builtin:84]\r\n81 discover PATH[4]=C:\\WINDOWS [DEBUG builtin:84]\r\n82 discover PATH[5]=C:\\WINDOWS\\System32\\Wbem [DEBUG builtin:84]\r\n82 discover PATH[6]=C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\ [DEBUG builtin:84]\r\n82 discover PATH[7]=C:\\WINDOWS\\System32\\OpenSSH\\ [DEBUG builtin:84]\r\n83 discover PATH[8]=C:\\Program Files\\Git\\cmd [DEBUG builtin:84]\r\n83 discover PATH[9]=C:\\Program Files\\nodejs\\ [DEBUG builtin:84]\r\n84 discover PATH[10]=C:\\ProgramData\\chocolatey\\bin [DEBUG builtin:84]\r\n84 discover PATH[11]=C:\\Program Files\\Amazon\\AWSCLIV2\\ [DEBUG builtin:84]\r\n85 discover PATH[12]=C:\\HashiCorp\\Vagrant\\bin [DEBUG builtin:84]\r\n85 discover PATH[13]=C:\\Users\\WSEB\\AppData\\Local\\Microsoft\\WindowsApps [DEBUG builtin:84]\r\n86 Attempting to acquire lock 1578932602960 on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\4e341a9637e8fd2ad6729b2fad2f450d3cd7f3301af1e9c20e7237b10809c2b7.lock [DEBUG filelock:270]\r\n86 Lock 1578932602960 acquired on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\4e341a9637e8fd2ad6729b2fad2f450d3cd7f3301af1e9c20e7237b10809c2b7.lock [INFO filelock:274]\r\n87 get PythonInfo from C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\4e341a9637e8fd2ad6729b2fad2f450d3cd7f3301af1e9c20e7237b10809c2b7.json for C:\\Users\\WSEB\\AppData\\Local\\Microsoft\\WindowsApps\\python.exe [DEBUG cached_py_info:79]\r\n87 Attempting to release lock 1578932602960 on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\4e341a9637e8fd2ad6729b2fad2f450d3cd7f3301af1e9c20e7237b10809c2b7.lock [DEBUG filelock:315]\r\n88 Lock 1578932602960 released on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\4e341a9637e8fd2ad6729b2fad2f450d3cd7f3301af1e9c20e7237b10809c2b7.lock [INFO filelock:318]\r\n89 Attempting to acquire lock 1578932602192 on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\2038186569936074e374468d4bbe2904a13496a41ed7a70129cfb883acf0ea5f.lock [DEBUG filelock:270]\r\n89 Lock 1578932602192 acquired on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\2038186569936074e374468d4bbe2904a13496a41ed7a70129cfb883acf0ea5f.lock [INFO filelock:274]\r\n90 get PythonInfo from C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\2038186569936074e374468d4bbe2904a13496a41ed7a70129cfb883acf0ea5f.json for C:\\Users\\WSEB\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\python.exe [DEBUG cached_py_info:79]\r\n90 Attempting to release lock 1578932602192 on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\2038186569936074e374468d4bbe2904a13496a41ed7a70129cfb883acf0ea5f.lock [DEBUG filelock:315]\r\n90 Lock 1578932602192 released on C:\\Users\\WSEB\\AppData\\Local\\pypa\\virtualenv\\py_info\\20.0.18\\2038186569936074e374468d4bbe2904a13496a41ed7a70129cfb883acf0ea5f.lock [INFO filelock:318]\r\n91 proposed PathPythonInfo(spec=CPython3.7.7.final.0-64, system=C:\\Users\\WSEB\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\python.exe, exe=C:\\Users\\WSEB\\AppData\\Local\\Microsoft\\WindowsApps\\python.exe, platform=win32, version='3.7.7 (tags/v3.7.7:d7c567b08f, Mar 10 2020, 11:52:54) [MSC v.1900 64 bit (AMD64)]', encoding_fs_io=utf-8-cp1252) [INFO builtin:50]\r\n91 discover PATH[14]=C:\\Program Files\\JetBrains\\PyCharm 2020.1\\bin [DEBUG builtin:84]\r\n93 discover PATH[15]=C:\\Users\\WSEB\\AppData\\Local\\hyper\\app-3.0.2\\resources\\bin [DEBUG builtin:84]\r\n96 discover PATH[16]=C:\\Users\\WSEB\\AppData\\Local\\Programs\\Microsoft VS Code\\bin [DEBUG builtin:84]\r\n97 discover PATH[17]=C:\\Users\\WSEB\\AppData\\Roaming\\npm [DEBUG builtin:84]\r\n98 discover PATH[18]=C:\\Program Files\\Oracle\\VirtualBox [DEBUG builtin:84]\r\n99 RuntimeError: failed to find interpreter for Builtin discover of python_spec='python2.7' [ERROR __main__:57]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1784", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1784/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1784/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1784/events", "html_url": "https://github.com/pypa/virtualenv/issues/1784", "id": 604536241, "node_id": "MDU6SXNzdWU2MDQ1MzYyNDE=", "number": 1784, "title": "Cannot override virtualenv.ini --copies values on commandline", "user": {"login": "nils-werner", "id": 88704, "node_id": "MDQ6VXNlcjg4NzA0", "avatar_url": "https://avatars1.githubusercontent.com/u/88704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nils-werner", "html_url": "https://github.com/nils-werner", "followers_url": "https://api.github.com/users/nils-werner/followers", "following_url": "https://api.github.com/users/nils-werner/following{/other_user}", "gists_url": "https://api.github.com/users/nils-werner/gists{/gist_id}", "starred_url": "https://api.github.com/users/nils-werner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nils-werner/subscriptions", "organizations_url": "https://api.github.com/users/nils-werner/orgs", "repos_url": "https://api.github.com/users/nils-werner/repos", "events_url": "https://api.github.com/users/nils-werner/events{/privacy}", "received_events_url": "https://api.github.com/users/nils-werner/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-22T07:51:28Z", "updated_at": "2020-05-03T14:33:27Z", "closed_at": "2020-04-25T16:45:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nIf I set the `--copies` parameter in `~/.config/virtualenv/virtualenv.ini` I cannot override it later with `--symlinks` on the commandline.\r\n\r\n**Steps to Reproduce**\r\n\r\nCreate `virtualenv.ini` file containing\r\n\r\n```ini\r\n[virtualenv]\r\ncopies = True\r\n```\r\n\r\nthen run\r\n\r\n```console\r\n$ virtualenv default\r\n$ ls -lah default/bin/python*\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 default/bin/python\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 default/bin/python3\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 default/bin/python3.8\r\n$ virtualenv --copies copies\r\n$ ls -lah copies/bin/python*\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 copies/bin/python\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 copies/bin/python3\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 copies/bin/python3.8\r\n$ virtualenv --symlinks symlinks\r\n$ ls -lah symlinks/bin/python*\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 symlinks/bin/python\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 symlinks/bin/python3\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:35 symlinks/bin/python3.8\r\n```\r\n\r\nAs you can see, there are no symlinks in any of the three virtualenvs. I would expect the last virtualenv to have symlinks instead of copies.\r\n\r\nRemove `virtualenv.ini` and retry\r\n\r\n```console\r\n$ virtualenv default\r\n$ ls -lah default/bin/python*\r\nlrwxrwxrwx 1 nils nils 15 22. Apr 09:39 default/bin/python -> /usr/bin/python\r\nlrwxrwxrwx 1 nils nils  6 22. Apr 09:39 default/bin/python3 -> python\r\nlrwxrwxrwx 1 nils nils  6 22. Apr 09:39 default/bin/python3.8 -> python\r\n$ virtualenv --copies copies\r\n$ ls -lah copies/bin/python*\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:39 copies/bin/python\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:39 copies/bin/python3\r\n-rwxr-xr-x 1 nils nils 14K 22. Apr 09:39 copies/bin/python3.8\r\n$ virtualenv --symlinks symlinks\r\n$ ls -lah symlinks/bin/python*\r\nlrwxrwxrwx 1 nils nils 15 22. Apr 09:39 symlinks/bin/python -> /usr/bin/python\r\nlrwxrwxrwx 1 nils nils  6 22. Apr 09:39 symlinks/bin/python3 -> python\r\nlrwxrwxrwx 1 nils nils  6 22. Apr 09:39 symlinks/bin/python3.8 -> python\r\n```\r\n\r\nand the expected behaviour shows.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n - OS: Arch Linux Latest\r\n - `pip list` of the host python where `virtualenv` is installed:\r\n\r\n```console\r\n$ pip list\r\nPackage             Version    \r\n------------------- -----------\r\nappdirs             1.4.3      \r\nasn1crypto          1.3.0      \r\nattrs               19.3.0     \r\nbtrfsutil           1.2.0      \r\nCacheControl        0.12.6     \r\ncachy               0.3.0      \r\ncffi                1.14.0     \r\nchardet             3.0.4      \r\ncleo                0.7.6      \r\nclikit              0.4.2      \r\ncolorama            0.4.3      \r\ncontextlib2         0.6.0.post1\r\ncryptography        2.8        \r\ndistlib             0.3.0      \r\ndistro              1.4.0      \r\ndocopt              0.6.2      \r\ndocutils            0.14       \r\nentrypoints         0.3        \r\nfeedparser          5.2.1      \r\nfilelock            3.0.12     \r\nhtml2text           2019.8.11  \r\nhtml5lib            1.0.1      \r\nidna                2.9        \r\nimportlib-metadata  1.5.0      \r\njeepney             0.4.3      \r\nJinja2              2.11.2     \r\njsonschema          3.2.0      \r\nkeyring             21.2.0     \r\nlit                 0.10.0.dev0\r\nlockfile            0.12.2     \r\nlouis               3.13.0     \r\nMarkupSafe          1.1.1      \r\nmeld                3.20.2     \r\nmore-itertools      8.2.0      \r\nmsgpack             1.0.0      \r\nordered-set         3.1.1      \r\npackaging           20.3       \r\npastel              0.2.0      \r\npep517              0.8.2      \r\npexpect             4.8.0      \r\npip                 20.0.2     \r\npkginfo             1.5.0.1    \r\nply                 3.11       \r\npoetry              1.0.5      \r\npowerline-gitstatus 1.3.1      \r\nprogress            1.5        \r\nptyprocess          0.6.0      \r\npwquality           1.4.2      \r\npycairo             1.19.1     \r\npycodestyle         2.5.0      \r\npycparser           2.20       \r\nPygments            2.6.1      \r\nPyGObject           3.36.0     \r\npylev               1.3.0      \r\npyparsing           2.4.7      \r\npyPEG2              2.15.2     \r\nPyQt5               5.14.2     \r\nPyQt5-sip           12.7.2     \r\nPyQtWebEngine       5.14.0     \r\npyrsistent          0.16.0     \r\npython-dateutil     2.8.1      \r\npytoml              0.1.21     \r\npyxdg               0.26       \r\nPyYAML              5.3.1      \r\nqutebrowser         1.10.2     \r\nrequests            2.23.0     \r\nrequests-toolbelt   0.9.1      \r\nretrying            1.3.3      \r\nSecretStorage       3.1.2      \r\nsetuptools          46.1.3     \r\nshellingham         1.3.1      \r\nsix                 1.14.0     \r\nteam                1.0        \r\ntoml                0.10.0     \r\ntomlkit             0.5.11     \r\nurllib3             1.25.9     \r\nvirtualenv          20.0.15    \r\nwebencodings        0.5.1      \r\nwheel               0.34.2     \r\nzipp                3.1.0      \r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ virtualenv -vvv --with-traceback --symlinks symlinks\r\n23 setup logging to NOTSET [DEBUG report:43]\r\n39 find interpreter for spec PythonSpec(path=/usr/bin/python) [INFO builtin:44]\r\n39 proposed PythonInfo(spec=CPython3.8.2.final.0-64, exe=/usr/bin/python, platform=linux, version='3.8.2 (default, Apr  8 2020, 14:31:25) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n40 accepted PythonInfo(spec=CPython3.8.2.final.0-64, exe=/usr/bin/python, platform=linux, version='3.8.2 (default, Apr  8 2020, 14:31:25) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n41 filesystem is case-sensitive [DEBUG info:28]\r\n73 create virtual environment via CPython3Posix(dest=/home/nils/Projekte/hydrogen/symlinks, clear=False, global=False) [INFO session:52]\r\n73 write /home/nils/Projekte/hydrogen/symlinks/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n73 \thome = /usr [DEBUG pyenv_cfg:38]\r\n73 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n73 \tversion_info = 3.8.2.final.0 [DEBUG pyenv_cfg:38]\r\n73 \tvirtualenv = 20.0.15 [DEBUG pyenv_cfg:38]\r\n73 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n73 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n73 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n73 \tbase-executable = /usr/bin/python [DEBUG pyenv_cfg:38]\r\n74 remove file /home/nils/Projekte/hydrogen/symlinks/bin/python [DEBUG _sync:34]\r\n74 copy /usr/bin/python to /home/nils/Projekte/hydrogen/symlinks/bin/python [DEBUG _sync:48]\r\n74 copy /usr/bin/python to /home/nils/Projekte/hydrogen/symlinks/bin/python3 [DEBUG _sync:48]\r\n74 copy /usr/bin/python to /home/nils/Projekte/hydrogen/symlinks/bin/python3.8 [DEBUG _sync:48]\r\n74 create virtualenv import hook file /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:76]\r\n75 create /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:79]\r\n75 ============================== target debug ============================== [DEBUG session:54]\r\n75 debug via /home/nils/Projekte/hydrogen/symlinks/bin/python /usr/lib/python3.8/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n75 {\r\n  \"sys\": {\r\n    \"executable\": \"/home/nils/Projekte/hydrogen/symlinks/bin/python\",\r\n    \"_base_executable\": \"/home/nils/Projekte/hydrogen/symlinks/bin/python\",\r\n    \"prefix\": \"/home/nils/Projekte/hydrogen/symlinks\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/home/nils/Projekte/hydrogen/symlinks\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/usr/lib/python38.zip\",\r\n      \"/usr/lib/python3.8\",\r\n      \"/usr/lib/python3.8/lib-dynload\",\r\n      \"/home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.2 (default, Apr  8 2020, 14:31:25) \\n[GCC 9.3.0]\",\r\n  \"os\": \"<module 'os' from '/usr/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/usr/lib/python3.8/lib-dynload/math.cpython-38-x86_64-linux-gnu.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n102 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/nils/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n102 Attempting to acquire lock 140676577462016 on /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:270]\r\n102 Lock 140676577462016 acquired on /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:274]\r\n103 get bundled wheel /usr/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n104 get bundled wheel /usr/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/setuptools-46.1.3-py3-none-any.whl [DEBUG acquire:51]\r\n104 get bundled wheel /usr/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n105 install wheel from wheel /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n106 install setuptools from wheel /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels/setuptools-46.1.3-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n106 install pip from wheel /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n107 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n107 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.dist-info to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/setuptools-46.1.3.dist-info [DEBUG _sync:48]\r\n114 copy /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n114 copy /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.virtualenv to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/setuptools-46.1.3.virtualenv [DEBUG _sync:48]\r\n115 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/wheel [DEBUG _sync:48]\r\n115 copy /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/easy_install.py to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:48]\r\n123 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/pkg_resources to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:48]\r\n127 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/wheel to 755 [INFO util:566]\r\n127 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/wheel-3.8 to 755 [INFO util:566]\r\n127 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/wheel3 to 755 [INFO util:566]\r\n127 generated console scripts wheel-3.8 wheel wheel3 [DEBUG base:53]\r\n130 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/setuptools [DEBUG _sync:48]\r\n133 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/pip [DEBUG _sync:48]\r\n144 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/easy_install-3.8 to 755 [INFO util:566]\r\n144 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/easy_install to 755 [INFO util:566]\r\n144 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/easy_install3 to 755 [INFO util:566]\r\n144 generated console scripts easy_install easy_install-3.8 easy_install3 [DEBUG base:53]\r\n168 copy /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n168 copy directory /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /home/nils/Projekte/hydrogen/symlinks/lib/python3.8/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n169 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/pip-3.8 to 755 [INFO util:566]\r\n169 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/pip to 755 [INFO util:566]\r\n169 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/pip3 to 755 [INFO util:566]\r\n170 changing mode of /home/nils/Projekte/hydrogen/symlinks/bin/pip3.8 to 755 [INFO util:566]\r\n170 generated console scripts pip3 pip3.8 pip-3.8 pip [DEBUG base:53]\r\n170 Attempting to release lock 140676577462016 on /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:315]\r\n170 Lock 140676577462016 released on /home/nils/.local/share/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:318]\r\n170 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n172 write /home/nils/Projekte/hydrogen/symlinks/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n172 \thome = /usr [DEBUG pyenv_cfg:38]\r\n172 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n172 \tversion_info = 3.8.2.final.0 [DEBUG pyenv_cfg:38]\r\n172 \tvirtualenv = 20.0.15 [DEBUG pyenv_cfg:38]\r\n172 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n172 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n172 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n172 \tbase-executable = /usr/bin/python [DEBUG pyenv_cfg:38]\r\n172 created virtual environment CPython3.8.2.final.0-64 in 150ms\r\n  creator CPython3Posix(dest=/home/nils/Projekte/hydrogen/symlinks, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/nils/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1783", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1783/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1783/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1783/events", "html_url": "https://github.com/pypa/virtualenv/issues/1783", "id": 603902563, "node_id": "MDU6SXNzdWU2MDM5MDI1NjM=", "number": 1783, "title": "distutils.sysconfig directory returns Makefile relative to venv ", "user": {"login": "bnomis", "id": 201804, "node_id": "MDQ6VXNlcjIwMTgwNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/201804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnomis", "html_url": "https://github.com/bnomis", "followers_url": "https://api.github.com/users/bnomis/followers", "following_url": "https://api.github.com/users/bnomis/following{/other_user}", "gists_url": "https://api.github.com/users/bnomis/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnomis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnomis/subscriptions", "organizations_url": "https://api.github.com/users/bnomis/orgs", "repos_url": "https://api.github.com/users/bnomis/repos", "events_url": "https://api.github.com/users/bnomis/events{/privacy}", "received_events_url": "https://api.github.com/users/bnomis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-21T10:52:31Z", "updated_at": "2020-05-03T14:33:22Z", "closed_at": "2020-04-26T15:17:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nStarting in virtualenv 20.0.5 the path to the sysconfig directory changed to be relative to the virtualenv. Prior to 20.0.5 `distutils.sysconfig.get_makefile_filename()` returned the Makefile in the master Python install. Since 20.0.5 it returns `venv/lib/python2.7/config/Makefile` which does not exist.\r\n\r\nThis is an issue for programs which try to read/parse the non-existent Makefile. For example, numpy 1.16.x install fails see line at URL below \r\n\r\nhttps://github.com/numpy/numpy/blob/12daed78eecbacdb35b49335f061b2437f019f0f/numpy/distutils/fcompiler/gnu.py#L142\r\n\r\nThe following is a simple program to demonstrate the issue. In 20.0.4 a path to an existing Makefile is returned. From 20.0.5 the path returned does not exist.\r\n\r\n```python\r\nimport distutils.sysconfig\r\nimport os.path\r\n\r\nfilename = distutils.sysconfig.get_makefile_filename()\r\n\r\nprint('%s: %s' % (filename, os.path.exists(filename)))\r\n```\r\n\r\n**Environment Follows**\r\n\r\n**Python**\r\n\r\n```console\r\n$ python --version\r\nPython 2.7.14\r\n```\r\n\r\n**OS**\r\n\r\n```console\r\n$ uname -a\r\nDarwin eddie.local 18.7.0 Darwin Kernel Version 18.7.0: Mon Feb 10 21:08:45 PST 2020; root:xnu-4903.278.28~1/RELEASE_X86_64 x86_64\r\n```\r\n\r\n**pip list**\r\n\r\n```console\r\nPackage                       Version\r\n----------------------------- -----------\r\nalabaster                     0.7.12\r\nansible                       2.9.7\r\nansible-lint                  4.2.0\r\nappdirs                       1.4.3\r\nastroid                       1.6.6\r\nawscli                        1.18.42\r\nBabel                         2.8.0\r\nbackports-abc                 0.5\r\nbackports.functools-lru-cache 1.6.1\r\nbotocore                      1.15.42\r\ncertifi                       2020.4.5.1\r\ncffi                          1.14.0\r\nchardet                       3.0.4\r\nclick                         7.1.1\r\ncolorama                      0.4.3\r\nconfigparser                  4.0.2\r\ncontextlib2                   0.6.0.post1\r\ncryptography                  2.9\r\ndistlib                       0.3.0\r\ndocutils                      0.15.2\r\nentrypoints                   0.3\r\nenum34                        1.1.10\r\nfilelock                      3.0.12\r\nflake8                        3.7.9\r\nflake8-isort                  3.0.0\r\nfunctools32                   3.2.3.post2\r\nfutures                       3.3.0\r\nhvac                          0.10.1\r\nidna                          2.9\r\nimagesize                     1.2.0\r\nimportlib-metadata            1.6.0\r\nimportlib-resources           1.4.0\r\nipaddress                     1.0.23\r\nisort                         4.3.21\r\nJinja2                        2.11.2\r\njmespath                      0.9.5\r\nlazy-object-proxy             1.4.3\r\nlivereload                    2.6.1\r\nMarkdown                      3.1.1\r\nMarkupSafe                    1.1.1\r\nmccabe                        0.6.1\r\nmkdocs                        1.0.4\r\npackaging                     20.3\r\npathlib2                      2.3.5\r\nPillow                        6.2.2\r\npip                           20.0.2\r\npipsi                         0.9\r\npluggy                        0.13.1\r\npy                            1.8.1\r\npyasn1                        0.4.8\r\npycodestyle                   2.5.0\r\npycparser                     2.20\r\npyflakes                      2.1.1\r\nPygments                      2.5.2\r\npylint                        1.9.5\r\npyparsing                     2.4.7\r\npython-dateutil               2.8.1\r\npytz                          2019.3\r\nPyYAML                        5.3.1\r\nrequests                      2.23.0\r\nrsa                           3.4.2\r\nruamel.ordereddict            0.4.14\r\nruamel.yaml                   0.16.10\r\nruamel.yaml.clib              0.2.0\r\ns3transfer                    0.3.3\r\nscandir                       1.10.0\r\nsetuptools                    44.1.0\r\nsingledispatch                3.4.0.3\r\nsix                           1.14.0\r\nsnowballstemmer               2.0.0\r\nSphinx                        1.8.5\r\nsphinx-bootstrap-theme        0.7.1\r\nsphinx-rtd-theme              0.4.3\r\nsphinxcontrib-websupport      1.1.2\r\ntestfixtures                  6.14.1\r\ntoml                          0.10.0\r\ntornado                       5.1.1\r\ntox                           3.14.6\r\ntyping                        3.7.4.1\r\nurllib3                       1.25.9\r\nvirtualenv                    20.0.18\r\nwheel                         0.34.2\r\nwrapt                         1.11.2\r\nxkcdpass                      1.17.3\r\nyapf                          0.29.0\r\nzipp                          1.2.0\r\n```\r\n\r\n**Output of virtual environment creation**\r\n\r\n```console\r\n$ virtualenv -vvv --with-traceback venv\r\n332 setup logging to NOTSET [DEBUG report:43]\r\n471 find interpreter for spec PythonSpec(path=/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python) [INFO builtin:44]\r\n471 proposed PythonInfo({'base_exec_prefix': None, 'system_stdlib': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7', 'has_venv': False, 'prefix': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', 'stdout_encoding': u'UTF-8', 'executable': '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python', 'implementation': u'CPython', 'exec_prefix': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', 'platform': u'darwin', 'version': u'2.7.14 (default, Apr 21 2020, 10:24:39) \\n[GCC 4.2.1 Compatible Apple LLVM 11.0.0 (clang-1100.0.33.17)]', 'sysconfig_paths': {u'platstdlib': u'{platbase}/lib/python{py_version_short}', u'platlib': u'{platbase}/lib/python{py_version_short}/site-packages', u'purelib': u'{base}/lib/python{py_version_short}/site-packages', u'stdlib': u'{base}/lib/python{py_version_short}', u'scripts': u'{base}/bin', u'include': u'{base}/include/python{py_version_short}', u'data': u'{base}'}, 'base_prefix': None, 'system_stdlib_platform': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7', 'file_system_encoding': u'utf-8', 'version_info': VersionInfo(major=2, minor=7, micro=14, releaselevel=u'final', serial=0), 'sysconfig_vars': {u'base': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', u'platbase': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', u'PYTHONFRAMEWORK': u'Python', u'py_version_short': u'2.7'}, 'path': [u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/bin', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python27.zip', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-darwin', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-mac', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-tk', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-old', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-dynload', u'/Users/simonb/Library/Python/2.7/lib/python/site-packages', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site-packages'], 'max_size': 9223372036854775807, 'real_prefix': None, 'distutils_install': {u'purelib': u'lib/python2.7/site-packages', u'headers': u'include/python2.7/UNKNOWN', u'platlib': u'lib/python2.7/site-packages', u'data': u'', u'scripts': u'bin'}, 'architecture': 64, 'original_executable': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python', 'os': u'posix', 'system_executable': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python'}) [INFO builtin:50]\r\n472 accepted PythonInfo({'base_exec_prefix': None, 'system_stdlib': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7', 'has_venv': False, 'prefix': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', 'stdout_encoding': u'UTF-8', 'executable': '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python', 'implementation': u'CPython', 'exec_prefix': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', 'platform': u'darwin', 'version': u'2.7.14 (default, Apr 21 2020, 10:24:39) \\n[GCC 4.2.1 Compatible Apple LLVM 11.0.0 (clang-1100.0.33.17)]', 'sysconfig_paths': {u'platstdlib': u'{platbase}/lib/python{py_version_short}', u'platlib': u'{platbase}/lib/python{py_version_short}/site-packages', u'purelib': u'{base}/lib/python{py_version_short}/site-packages', u'stdlib': u'{base}/lib/python{py_version_short}', u'scripts': u'{base}/bin', u'include': u'{base}/include/python{py_version_short}', u'data': u'{base}'}, 'base_prefix': None, 'system_stdlib_platform': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7', 'file_system_encoding': u'utf-8', 'version_info': VersionInfo(major=2, minor=7, micro=14, releaselevel=u'final', serial=0), 'sysconfig_vars': {u'base': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', u'platbase': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7', u'PYTHONFRAMEWORK': u'Python', u'py_version_short': u'2.7'}, 'path': [u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/bin', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python27.zip', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-darwin', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-mac', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-tk', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-old', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-dynload', u'/Users/simonb/Library/Python/2.7/lib/python/site-packages', u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site-packages'], 'max_size': 9223372036854775807, 'real_prefix': None, 'distutils_install': {u'purelib': u'lib/python2.7/site-packages', u'headers': u'include/python2.7/UNKNOWN', u'platlib': u'lib/python2.7/site-packages', u'data': u'', u'scripts': u'bin'}, 'architecture': 64, 'original_executable': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python', 'os': u'posix', 'system_executable': u'/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python'}) [DEBUG builtin:52]\r\n479 filesystem is not case-sensitive [DEBUG info:28]\r\n629 create virtual environment via CPython2macOsFramework(dest=/Users/simonb/Downloads/tmp/venv, clear=False, global=False) [INFO session:52]\r\n630 create folder /Users/simonb/Downloads/tmp/venv/bin [DEBUG _sync:21]\r\n630 create folder /Users/simonb/Downloads/tmp/venv/include [DEBUG _sync:21]\r\n630 create folder /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages [DEBUG _sync:21]\r\n631 write /Users/simonb/Downloads/tmp/venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n631 \thome = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7 [DEBUG pyenv_cfg:38]\r\n631 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n631 \tversion_info = 2.7.14.final.0 [DEBUG pyenv_cfg:38]\r\n631 \tvirtualenv = 20.0.18 [DEBUG pyenv_cfg:38]\r\n631 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n631 \tbase-prefix = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7 [DEBUG pyenv_cfg:38]\r\n631 \tbase-exec-prefix = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7 [DEBUG pyenv_cfg:38]\r\n631 \tbase-executable = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python [DEBUG pyenv_cfg:38]\r\n631 copy /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python to /Users/simonb/Downloads/tmp/venv/bin/python [DEBUG _sync:48]\r\n673 symlink /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/os.py to /Users/simonb/Downloads/tmp/venv/lib/python2.7/os.py [DEBUG _sync:40]\r\n674 symlink /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/os.pyc to /Users/simonb/Downloads/tmp/venv/lib/python2.7/os.pyc [DEBUG _sync:40]\r\n674 symlink directory /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/include/python2.7 to /Users/simonb/Downloads/tmp/venv/include/python2.7 [DEBUG _sync:40]\r\n674 symlink /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Python to /Users/simonb/Downloads/tmp/venv/.Python [DEBUG _sync:40]\r\n674 symlink directory /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-dynload to /Users/simonb/Downloads/tmp/venv/lib/python2.7/lib-dynload [DEBUG _sync:40]\r\n677 create virtualenv import hook file /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/_virtualenv.pth [DEBUG api:78]\r\n678 create /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/_virtualenv.py [DEBUG api:81]\r\n765 change Mach-O for /Users/simonb/Downloads/tmp/venv/bin/python from /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Python to @executable_path/../.Python [DEBUG mac_os:158]\r\n807 ============================== target debug ============================== [DEBUG session:54]\r\n807 debug via /Users/simonb/Downloads/tmp/venv/bin/python /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n807 {\r\n  \"site\": \"<module 'site' from '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site.pyc'>\",\r\n  \"datetime\": \"<module 'datetime' from '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/datetime.so'>\",\r\n  \"sys\": {\r\n    \"executable\": \"/Users/simonb/Downloads/tmp/venv/bin/python\",\r\n    \"real_prefix\": \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7\",\r\n    \"base_exec_prefix\": \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7\",\r\n    \"exec_prefix\": \"/Users/simonb/Downloads/tmp/venv/bin/..\",\r\n    \"io_encoding\": null,\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._VirtualenvImporter'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"prefix\": \"/Users/simonb/Downloads/tmp/venv/bin/..\",\r\n    \"_base_executable\": null,\r\n    \"path\": [\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python27.zip\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-darwin\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-mac\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/plat-mac/lib-scriptpackages\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-tk\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-old\",\r\n      \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-dynload\",\r\n      \"/Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages\"\r\n    ],\r\n    \"base_prefix\": \"/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7\"\r\n  },\r\n  \"json\": \"<module 'json' from '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/json/__init__.pyc'>\",\r\n  \"version\": \"2.7.14 (default, Apr 21 2020, 10:24:39) \\n[GCC 4.2.1 Compatible Apple LLVM 11.0.0 (clang-1100.0.33.17)]\",\r\n  \"os\": \"<module 'os' from '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/os.pyc'>\",\r\n  \"math\": \"<module 'math' from '/Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/lib-dynload/math.so'>\"\r\n} [DEBUG session:55]\r\n969 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n969 Attempting to acquire lock 4551654288 on /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [DEBUG filelock:270]\r\n970 Lock 4551654288 acquired on /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [INFO filelock:274]\r\n974 get bundled wheel /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n975 get bundled wheel /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n975 get bundled wheel /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/setuptools-44.1.0-py2.py3-none-any.whl [DEBUG acquire:51]\r\n1028 install wheel from wheel /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n1029 install pip from wheel /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n1029 install setuptools from wheel /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels/setuptools-44.1.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n1030 copy /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.1.0-py2.py3-none-any/easy_install.py to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/easy_install.py [DEBUG _sync:48]\r\n1030 copy /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n1031 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/wheel [DEBUG _sync:48]\r\n1031 copy /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n1032 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/pip [DEBUG _sync:48]\r\n1087 copy /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.1.0-py2.py3-none-any/setuptools-44.1.0.virtualenv to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/setuptools-44.1.0.virtualenv [DEBUG _sync:48]\r\n1088 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.1.0-py2.py3-none-any/setuptools-44.1.0.dist-info to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/setuptools-44.1.0.dist-info [DEBUG _sync:48]\r\n1279 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.1.0-py2.py3-none-any/setuptools to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/setuptools [DEBUG _sync:48]\r\n1419 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n1454 changing mode of /Users/simonb/Downloads/tmp/venv/bin/wheel to 755 [INFO util:566]\r\n1455 changing mode of /Users/simonb/Downloads/tmp/venv/bin/wheel-2.7 to 755 [INFO util:566]\r\n1457 changing mode of /Users/simonb/Downloads/tmp/venv/bin/wheel2 to 755 [INFO util:566]\r\n1457 generated console scripts wheel2 wheel-2.7 wheel [DEBUG base:53]\r\n3140 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.1.0-py2.py3-none-any/pkg_resources to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/pkg_resources [DEBUG _sync:48]\r\n3808 changing mode of /Users/simonb/Downloads/tmp/venv/bin/easy_install to 755 [INFO util:566]\r\n3835 changing mode of /Users/simonb/Downloads/tmp/venv/bin/easy_install2 to 755 [INFO util:566]\r\n3862 changing mode of /Users/simonb/Downloads/tmp/venv/bin/easy_install-2.7 to 755 [INFO util:566]\r\n3862 generated console scripts easy_install-2.7 easy_install easy_install2 [DEBUG base:53]\r\n8245 copy directory /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /Users/simonb/Downloads/tmp/venv/lib/python2.7/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n8293 changing mode of /Users/simonb/Downloads/tmp/venv/bin/pip to 755 [INFO util:566]\r\n8295 changing mode of /Users/simonb/Downloads/tmp/venv/bin/pip2.7 to 755 [INFO util:566]\r\n8295 changing mode of /Users/simonb/Downloads/tmp/venv/bin/pip-2.7 to 755 [INFO util:566]\r\n8296 changing mode of /Users/simonb/Downloads/tmp/venv/bin/pip2 to 755 [INFO util:566]\r\n8296 generated console scripts pip2.7 pip2 pip-2.7 pip [DEBUG base:53]\r\n8296 Attempting to release lock 4551654288 on /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [DEBUG filelock:315]\r\n8296 Lock 4551654288 released on /Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [INFO filelock:318]\r\n8297 add activators for Python, CShell, Fish, PowerShell, Bash [INFO session:65]\r\n8420 write /Users/simonb/Downloads/tmp/venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n8420 \thome = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7 [DEBUG pyenv_cfg:38]\r\n8420 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n8420 \tversion_info = 2.7.14.final.0 [DEBUG pyenv_cfg:38]\r\n8420 \tvirtualenv = 20.0.18 [DEBUG pyenv_cfg:38]\r\n8421 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n8421 \tbase-prefix = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7 [DEBUG pyenv_cfg:38]\r\n8421 \tbase-exec-prefix = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7 [DEBUG pyenv_cfg:38]\r\n8421 \tbase-executable = /Users/simonb/.pyenv/versions/2.7.14/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python [DEBUG pyenv_cfg:38]\r\n8421 created virtual environment CPython2.7.14.final.0-64 in 8090ms\r\n  creator CPython2macOsFramework(dest=/Users/simonb/Downloads/tmp/venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/simonb/Library/Application Support/virtualenv/seed-app-data/v1.0.1)\r\n  activators PythonActivator,CShellActivator,FishActivator,PowerShellActivator,BashActivator [WARNING __main__:21]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1781", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1781/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1781/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1781/events", "html_url": "https://github.com/pypa/virtualenv/issues/1781", "id": 603049661, "node_id": "MDU6SXNzdWU2MDMwNDk2NjE=", "number": 1781, "title": "discovery stops if we find a poisened interpreter along the way", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-20T08:36:30Z", "updated_at": "2020-05-03T14:33:14Z", "closed_at": "2020-04-28T08:10:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Per comments in https://github.com/pypa/virtualenv/issues/1777#issuecomment-616391694", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1779", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1779/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1779/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1779/events", "html_url": "https://github.com/pypa/virtualenv/issues/1779", "id": 603029949, "node_id": "MDU6SXNzdWU2MDMwMjk5NDk=", "number": 1779, "title": "pinning pip fails via app data seeder", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-20T08:05:19Z", "updated_at": "2020-05-03T14:33:11Z", "closed_at": "2020-04-27T12:00:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\nVIRTUALENV_PIP=19.2.3 virtualenv --download --seeder app-data .venv\r\nERROR: Invalid requirement: 'pip=19.2.3'\r\n```\r\n\r\nfrom https://github.com/pglass/tox-pip-version/issues/17#issuecomment-616246861", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1778", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1778/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1778/events", "html_url": "https://github.com/pypa/virtualenv/issues/1778", "id": 602894452, "node_id": "MDU6SXNzdWU2MDI4OTQ0NTI=", "number": 1778, "title": "PermissionError: [Errno 13] Permission denied:", "user": {"login": "5hubh0", "id": 9362023, "node_id": "MDQ6VXNlcjkzNjIwMjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/9362023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/5hubh0", "html_url": "https://github.com/5hubh0", "followers_url": "https://api.github.com/users/5hubh0/followers", "following_url": "https://api.github.com/users/5hubh0/following{/other_user}", "gists_url": "https://api.github.com/users/5hubh0/gists{/gist_id}", "starred_url": "https://api.github.com/users/5hubh0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/5hubh0/subscriptions", "organizations_url": "https://api.github.com/users/5hubh0/orgs", "repos_url": "https://api.github.com/users/5hubh0/repos", "events_url": "https://api.github.com/users/5hubh0/events{/privacy}", "received_events_url": "https://api.github.com/users/5hubh0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-20T02:30:26Z", "updated_at": "2020-04-21T19:47:19Z", "closed_at": "2020-04-21T19:47:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nos.listdir raises PermissionError while accessing /media/user/ext_drive while the user has access to said directory\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: debian stable\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1777", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1777/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1777/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1777/events", "html_url": "https://github.com/pypa/virtualenv/issues/1777", "id": 602828656, "node_id": "MDU6SXNzdWU2MDI4Mjg2NTY=", "number": 1777, "title": "Clarifying virtualenv 20's -p behavior", "user": {"login": "Julian", "id": 329822, "node_id": "MDQ6VXNlcjMyOTgyMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/329822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian", "html_url": "https://github.com/Julian", "followers_url": "https://api.github.com/users/Julian/followers", "following_url": "https://api.github.com/users/Julian/following{/other_user}", "gists_url": "https://api.github.com/users/Julian/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian/subscriptions", "organizations_url": "https://api.github.com/users/Julian/orgs", "repos_url": "https://api.github.com/users/Julian/repos", "events_url": "https://api.github.com/users/Julian/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-19T21:48:55Z", "updated_at": "2020-04-20T11:30:52Z", "closed_at": "2020-04-20T08:37:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nHi hi.\r\n\r\nI apologize in advance, still digging through some of the issues on the tracker so this may be known, or even intentional, but `virtualenv>=20`'s `-p` behavior is confusing me quite a bit.\r\n\r\nSpecifically, in pre-rewrite virtualenv, `-p` was somewhat simplish to me, it basically searched `PATH` for most of my uses of it.\r\n\r\nPost 20 though, it now seems to work significantly differently, so I wanted to confirm whether its new behavior is entirely expected/intentional. Specifically, here are some significant differences in what it does:\r\n\r\n<details>\r\n  <summary>Setup both old and new virtualenv</summary>\r\n\r\n```\r\n~/Desktop\r\n\u2299  virtualenv --python /usr/local/bin/python3 venv16 && venv16/bin/python -m pip install virtualenv'<20'                                                                                          julian@Air\r\ncreated virtual environment CPython3.7.7.final.0-64 in 412ms\r\n  creator CPython3Posix(dest=/Users/julian/Desktop/venv16, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/julian/Library/Application Support/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\nCollecting virtualenv<20\r\n  Using cached virtualenv-16.7.10-py2.py3-none-any.whl (3.4 MB)\r\nInstalling collected packages: virtualenv\r\nSuccessfully installed virtualenv-16.7.10\r\n\r\n~/Desktop\r\n\u2299  virtualenv --python /usr/local/bin/python3 venv20 && venv20/bin/python -m pip install virtualenv'>=20'                                                                                         julian@Air\r\ncreated virtual environment CPython3.7.7.final.0-64 in 405ms\r\n  creator CPython3Posix(dest=/Users/julian/Desktop/venv20, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/julian/Library/Application Support/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\nCollecting virtualenv>=20\r\n  Using cached virtualenv-20.0.18-py2.py3-none-any.whl (4.6 MB)\r\nCollecting filelock<4,>=3.0.0\r\n  Using cached filelock-3.0.12-py3-none-any.whl (7.6 kB)\r\nCollecting six<2,>=1.9.0\r\n  Using cached six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nProcessing /Users/julian/Library/Caches/pip/wheels/6e/e8/db/c73dae4867666e89ba3cfbc4b5c092446f0e584eda6f409cbb/distlib-0.3.0-cp37-none-any.whl\r\nCollecting importlib-metadata<2,>=0.12; python_version < \"3.8\"\r\n  Using cached importlib_metadata-1.6.0-py2.py3-none-any.whl (30 kB)\r\nCollecting appdirs<2,>=1.4.3\r\n  Using cached appdirs-1.4.3-py2.py3-none-any.whl (12 kB)\r\nCollecting zipp>=0.5\r\n  Using cached zipp-3.1.0-py3-none-any.whl (4.9 kB)\r\nInstalling collected packages: filelock, six, distlib, zipp, importlib-metadata, appdirs, virtualenv\r\nSuccessfully installed appdirs-1.4.3 distlib-0.3.0 filelock-3.0.12 importlib-metadata-1.6.0 six-1.14.0 virtualenv-20.0.18 zipp-3.1.0\r\n```\r\n</details>\r\n\r\nOn `virtualenv<20`, running `-p python` searches `PATH` for an executable named `python` and uses that to create a virtualenv (for me, this will find a `pypy` interpreter):\r\n\r\n```\r\n\u2299  venv16/bin/virtualenv --python python venv2 && rm -rf venv2                                                                                                                                    julian@Air\r\nRunning virtualenv with interpreter /Users/julian/.local/bin/python\r\nAlready using interpreter /Users/julian/.local/bin/python\r\nUsing real prefix '/usr/local/Cellar/pypy/7.3.1_1/libexec'\r\n  No LICENSE.txt / LICENSE found in source\r\nPath not in prefix '/Users/julian/.local/share/virtualenvs/dev/include' '/usr/local/Cellar/pypy/7.3.1_1/libexec'\r\nNew pypy executable in /Users/julian/Desktop/venv2/bin/python\r\nAlso creating executable in /Users/julian/Desktop/venv2/bin/pypy\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\n```\r\n\r\nwhich corresponds to:\r\n\r\n```\r\n\u2299  type -a python                                                                                                                                                                                 julian@Air\r\npython is /Users/julian/.local/bin/python\r\npython is /usr/local/bin/python\r\npython is /usr/bin/python\r\n```\r\n\r\nwhere `/Users/julian/.local/bin/python --version` is that PyPy interpreter.\r\n\r\nBut on >=20, it instead finds a CPython3.7 (the one virtualenv happens to be installed to in this case):\r\n\r\n```\r\n~/Desktop\r\n\u2299  venv20/bin/virtualenv --python python venv2 && rm -rf venv2                                                                                                                                    julian@Air\r\ncreated virtual environment CPython3.7.7.final.0-64 in 365ms\r\n  creator CPython3Posix(dest=/Users/julian/Desktop/venv2, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/julian/Library/Application Support/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n```\r\n\r\nI see that's documented (the docs say using `python` will essentially find \"any python\"), but that still seems surprising, so I'm including it (seems likely it's intended in this case?).\r\n\r\nMore importantly though, things that *are* on the `PATH`, are still not found. For instance, on virtualenv<20, running\r\n\r\n```\r\n\u2299  venv16/bin/virtualenv --python pypy venv2 && rm -rf venv2                                                                                                                                      julian@Air\r\nRunning virtualenv with interpreter /usr/local/bin/pypy\r\nAlready using interpreter /usr/local/bin/pypy\r\n  No LICENSE.txt / LICENSE found in source\r\nNew pypy executable in /Users/julian/Desktop/venv2/bin/pypy\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\n```\r\n\r\nwill find a `pypy` binary on my `PATH`. But on virtualenv>=20 I instead get:\r\n\r\n```\r\n\u2299  venv20/bin/virtualenv --python pypy venv2 && rm -rf venv2                                                                                                                                      julian@Air\r\nRuntimeError: failed to detect pypy2.7.13-64|pypy2.7.13|pypy2.7-64|pypy2.7|pypy2-64|pypy2|pypy-64|pypy|python2.7.13-64|python2.7.13|python2.7-64|python2.7|python2-64|python2|python-64|python in /usr/local/Cellar/pypy/7.3.1_1/libexec\r\n```\r\n\r\neven though there indeed is such a binary present:\r\n\r\n```\r\n\u2299  type -a pypy                                                                                                                                                                                   julian@Air\r\npypy is /usr/local/bin/pypy\r\n```\r\n\r\nEven more surprisingly is that if I ask for a PyPy3, `>=20` still seems to be searching for a PyPy2 (and still not considering `PATH`):\r\n\r\n```\r\n\u2299  venv20/bin/virtualenv --python pypy3 venv2 && rm -rf venv2                                                                                                                                     julian@Air\r\nRuntimeError: failed to detect pypy2.7.13-64|pypy2.7.13|pypy2.7-64|pypy2.7|pypy2-64|pypy2|pypy-64|pypy|python2.7.13-64|python2.7.13|python2.7-64|python2.7|python2-64|python2|python-64|python in /usr/local/Cellar/pypy/7.3.1_1/libexec\r\n```\r\n\r\nwith me having:\r\n\r\n```\r\n\u2299  type -a pypy3                                                                                                                                                                                  julian@Air\r\npypy3 is /usr/local/bin/pypy3\r\n```\r\n\r\nwhich worked on `<20`:\r\n\r\n```\r\n\u2299  venv16/bin/virtualenv --python pypy3 venv2 && rm -rf venv2                                                                                                                                     julian@Air\r\nRunning virtualenv with interpreter /usr/local/bin/pypy3\r\nAlready using interpreter /usr/local/bin/pypy3\r\nUsing base prefix '/usr/local/Cellar/pypy3/7.3.1_1/libexec'\r\n  No LICENSE.txt / LICENSE found in source\r\nNew pypy executable in /Users/julian/Desktop/venv2/bin/pypy3\r\nAlso creating executable in /Users/julian/Desktop/venv2/bin/pypy\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\n```\r\n\r\nSo yeah -- are any / all of the above intended behavior? I can imagine reasons to change `-p` to not be `PATH`-searching and instead have more of a language for finding a suitable interpreter without connection to what it's called, but at least a few of the above seem quite invasive, so figured I'd confirm. If it's intended I can obviously adjust my own workflow to search PATH first and give the absolute path to virtualenv.\r\n\r\nTIA!\r\n\r\n**Environment**\r\n\r\nOS: macOS, Python / PyPy installed via Homebrew\r\n<details>\r\n<summary>``pip list`` of the host python where ``virtualenv`` is installed</summary>\r\n\r\n```\r\nPackage        Version\r\n-------------- -------\r\nappdirs        1.4.3  \r\nattrs          19.3.0 \r\nAutomat        20.2.0 \r\nclick          7.1.1  \r\ncolorama       0.4.3  \r\nconstantly     15.1.0 \r\ndistlib        0.3.0  \r\nfilelock       3.0.12 \r\nfilesystems    0.25.0 \r\nhyperlink      19.0.0 \r\nidna           2.9    \r\nincremental    17.5.0 \r\npackaging      20.3   \r\npip            19.2.3 \r\npudb           2019.2 \r\nPygments       2.6.1  \r\nPyHamcrest     2.0.2  \r\npyparsing      2.4.7  \r\npyrsistent     0.16.0 \r\nsetuptools     41.2.0 \r\nsix            1.14.0 \r\ntoml           0.10.0 \r\ntomlkit        0.6.0  \r\ntqdm           4.45.0 \r\nTwisted        20.3.0 \r\nurwid          2.1.0  \r\nvenvs          6.11.9 \r\nvirtualenv     20.0.18\r\nvirtue         0.8.1  \r\nzope.interface 5.1.0  \r\n  ```\r\n</details>\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1776", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1776/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1776/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1776/events", "html_url": "https://github.com/pypa/virtualenv/issues/1776", "id": 602596508, "node_id": "MDU6SXNzdWU2MDI1OTY1MDg=", "number": 1776, "title": "activate_this.py failed for python2 virtualenvs", "user": {"login": "NyaMisty", "id": 5344431, "node_id": "MDQ6VXNlcjUzNDQ0MzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5344431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NyaMisty", "html_url": "https://github.com/NyaMisty", "followers_url": "https://api.github.com/users/NyaMisty/followers", "following_url": "https://api.github.com/users/NyaMisty/following{/other_user}", "gists_url": "https://api.github.com/users/NyaMisty/gists{/gist_id}", "starred_url": "https://api.github.com/users/NyaMisty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NyaMisty/subscriptions", "organizations_url": "https://api.github.com/users/NyaMisty/orgs", "repos_url": "https://api.github.com/users/NyaMisty/repos", "events_url": "https://api.github.com/users/NyaMisty/events{/privacy}", "received_events_url": "https://api.github.com/users/NyaMisty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-19T01:50:27Z", "updated_at": "2020-05-03T14:33:08Z", "closed_at": "2020-05-01T14:01:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nIt seems recently pipenv introduced a new type of activate_this.py. On windows the content of activate_this.py has something like this:\r\n```\r\nprev_length = len(sys.path)\r\nfor lib in \"'..\\\\Lib\\\\site-packages\".split(os.pathsep):\r\n    path = os.path.realpath(os.path.join(bin_dir, lib))\r\n    site.addsitedir(path.decode(\"utf-8\") if \"'yes\" else path)\r\nsys.path[:] = sys.path[prev_length:] + sys.path[0:prev_length]\r\n```\r\nAs you can see the \"'..\\\\Lib\\\\site-packages\" is obviously wrong.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Windows 10\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n  virtualenv          20.0.18\r\n  virtualenv-clone    0.5.4\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nAs I'm using virtualenv through pipenv, so I failed to grab the virtualenv output\r\n\r\n```\r\n[  ==] Creating virtual environment...created virtual environment CPython2.7.17.final.0-64 in 641ms\r\n\r\n  creator CPython2Windows(dest=C:\\Users\\win10\\.virtualenvs\\win10-obmjl69F, clear=False, global=False)\r\n\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=C:\\Users\\win10\\AppData\\Local\\pypa\\virtualenv\\seed-app-data\\v1.0.1)\r\n\r\n  activators BashActivator,BatchActivator,FishActivator,PowerShellActivator,PythonActivator\r\n```\r\n\r\nHowever I've located the related code and wrote out its runtime variable information:\r\nThe following is the output of _repr_unicode function in ```src/virtualenv/activation/python/__init__.py```\r\n\r\n```\r\n'(win10) \r\n'C:\\\\Users\\\\win10\\\\.virtualenvs\\\\win10-obmjl69F\r\n'win10-obmjl69F\r\n'Scripts\r\n';\r\n'..\\\\Lib\\\\site-packages\r\n'yes\r\n```\r\nAs you can see, there's an additional ' before each item. I've done a small experiment on python 3.6 and 3.7:\r\n```\r\n>>> value = \"..\\\\123456\"\r\n>>> repr(value.encode(\"utf-8\"))\r\n\"b'..\\\\\\\\123456'\"\r\n>>> repr(value.encode(\"utf-8\"))[1:-1]\r\n\"'..\\\\\\\\123456\"\r\n>>>\r\n```\r\nI believe there's something wrong with this function. This function is introduced in PR #1503 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1773", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1773/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1773/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1773/events", "html_url": "https://github.com/pypa/virtualenv/issues/1773", "id": 601637174, "node_id": "MDU6SXNzdWU2MDE2MzcxNzQ=", "number": 1773, "title": "sys.path does not include the virtualenv site-packages when started from a link", "user": {"login": "Wyrmwood", "id": 8493271, "node_id": "MDQ6VXNlcjg0OTMyNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/8493271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wyrmwood", "html_url": "https://github.com/Wyrmwood", "followers_url": "https://api.github.com/users/Wyrmwood/followers", "following_url": "https://api.github.com/users/Wyrmwood/following{/other_user}", "gists_url": "https://api.github.com/users/Wyrmwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wyrmwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wyrmwood/subscriptions", "organizations_url": "https://api.github.com/users/Wyrmwood/orgs", "repos_url": "https://api.github.com/users/Wyrmwood/repos", "events_url": "https://api.github.com/users/Wyrmwood/events{/privacy}", "received_events_url": "https://api.github.com/users/Wyrmwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-17T01:23:44Z", "updated_at": "2020-04-17T18:01:10Z", "closed_at": "2020-04-17T07:50:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\nWith any 20.X I tried that would install\r\nln -s venv/bin/python pyenv\r\n./pyenv\r\n>>> import sys; sys.path\r\n[venv/lib/python3.7/site-packages MISSING]\r\nRunning directly, \r\nvenv/bin/python \r\nThe venv site-packages are present. \r\n\r\nChange virtualenv==16.7.10, repeat the process and venv/lib/.../site-packages present, whether started with full path or link to path.\r\n\r\ndebian 10, python3.7", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1770", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1770/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1770/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1770/events", "html_url": "https://github.com/pypa/virtualenv/issues/1770", "id": 600755102, "node_id": "MDU6SXNzdWU2MDA3NTUxMDI=", "number": 1770, "title": "broken Debian's pypy 2.7 causes virtualenv to fail", "user": {"login": "stefanor", "id": 442117, "node_id": "MDQ6VXNlcjQ0MjExNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/442117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanor", "html_url": "https://github.com/stefanor", "followers_url": "https://api.github.com/users/stefanor/followers", "following_url": "https://api.github.com/users/stefanor/following{/other_user}", "gists_url": "https://api.github.com/users/stefanor/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanor/subscriptions", "organizations_url": "https://api.github.com/users/stefanor/orgs", "repos_url": "https://api.github.com/users/stefanor/repos", "events_url": "https://api.github.com/users/stefanor/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-16T05:18:34Z", "updated_at": "2020-04-22T04:58:01Z", "closed_at": "2020-04-16T08:03:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nvirtualenv 20 doesn't support Debian's pypy (2.7) packages (which I maintain).\r\n\r\nI'm completely new to the virtualenv 20 codebase. So, not entirely sure what's going on here. The old version was a horrible mess, but I knew my way around it :)\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Debian unstable\r\n- ``pip list`` of the host python where ``virtualenv`` is installed: N/A\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n21 setup logging to NOTSET [DEBUG report:43]\r\n31 find interpreter for spec PythonSpec(implementation=pypy) [INFO builtin:44]\r\n32 discover exe for PythonInfo(spec=CPython3.8.2.final.0-64, exe=/home/stefanor/git/virtualenv/.tox/dev/bin/python, platform=linux, version='3.8.2 (default, Apr  1 2020, 15:52:55) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) in /usr [DEBUG py_info:352]\r\n32 filesystem is case-sensitive [DEBUG info:28]\r\n33 Attempting to acquire lock 140499136607520 on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/df0893f56f349688326838aaeea0de204df53a132722cbd565e54b24a8fec5f6.lock [DEBUG filelock:270]\r\n33 Lock 140499136607520 acquired on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/df0893f56f349688326838aaeea0de204df53a132722cbd565e54b24a8fec5f6.lock [INFO filelock:274]\r\n33 get PythonInfo from /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/df0893f56f349688326838aaeea0de204df53a132722cbd565e54b24a8fec5f6.json for /usr/bin/python3.8 [DEBUG cached_py_info:79]\r\n33 Attempting to release lock 140499136607520 on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/df0893f56f349688326838aaeea0de204df53a132722cbd565e54b24a8fec5f6.lock [DEBUG filelock:315]\r\n34 Lock 140499136607520 released on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/df0893f56f349688326838aaeea0de204df53a132722cbd565e54b24a8fec5f6.lock [INFO filelock:318]\r\n34 proposed PythonInfo(spec=CPython3.8.2.final.0-64, system=/usr/bin/python3.8, exe=/home/stefanor/git/virtualenv/.tox/dev/bin/python, platform=linux, version='3.8.2 (default, Apr  1 2020, 15:52:55) \\n[GCC 9.3.0]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n34 discover PATH[0]=/home/stefanor/bin [DEBUG builtin:84]\r\n34 discover PATH[1]=/home/stefanor/bin [DEBUG builtin:84]\r\n34 discover PATH[2]=/usr/local/bin [DEBUG builtin:84]\r\n34 discover PATH[3]=/usr/bin [DEBUG builtin:84]\r\n34 Attempting to acquire lock 140499136452496 on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/7930211a46c0ce5bc025cac73adac10e9ad674ccfb0861d555fc87d3b57bbbef.lock [DEBUG filelock:270]\r\n34 Lock 140499136452496 acquired on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/7930211a46c0ce5bc025cac73adac10e9ad674ccfb0861d555fc87d3b57bbbef.lock [INFO filelock:274]\r\n35 remove PythonInfo /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/7930211a46c0ce5bc025cac73adac10e9ad674ccfb0861d555fc87d3b57bbbef.json for /usr/bin/pypy [DEBUG cached_py_info:84]\r\n35 get interpreter info via cmd: /usr/bin/pypy /home/stefanor/git/virtualenv/src/virtualenv/discovery/py_info.py [DEBUG cached_py_info:108]\r\n110 write PythonInfo to /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/7930211a46c0ce5bc025cac73adac10e9ad674ccfb0861d555fc87d3b57bbbef.json for /usr/bin/pypy [DEBUG cached_py_info:94]\r\n111 Attempting to release lock 140499136452496 on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/7930211a46c0ce5bc025cac73adac10e9ad674ccfb0861d555fc87d3b57bbbef.lock [DEBUG filelock:315]\r\n111 Lock 140499136452496 released on /home/stefanor/.local/share/virtualenv/py_info/20.0.18.dev1+g1ed3db1/7930211a46c0ce5bc025cac73adac10e9ad674ccfb0861d555fc87d3b57bbbef.lock [INFO filelock:318]\r\n111 proposed PathPythonInfo(spec=PyPy2.7.13.final.42-64, exe=/usr/bin/pypy, platform=linux2, version='2.7.13 (7.3.1+dfsg-1, Apr 10 2020, 20:05:43)\\n[PyPy 7.3.1 with GCC 9.3.0]', encoding_fs_io=UTF-8-None) [INFO builtin:50]\r\n111 accepted PathPythonInfo(spec=PyPy2.7.13.final.42-64, exe=/usr/bin/pypy, platform=linux2, version='2.7.13 (7.3.1+dfsg-1, Apr 10 2020, 20:05:43)\\n[PyPy 7.3.1 with GCC 9.3.0]', encoding_fs_io=UTF-8-None) [DEBUG builtin:52]\r\nTraceback (most recent call last):\r\n  File \".tox/dev/bin/virtualenv\", line 11, in <module>\r\n    load_entry_point('virtualenv', 'console_scripts', 'virtualenv')()\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/__main__.py\", line 51, in run_with_catch\r\n    run(args, options)\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/run/__init__.py\", line 27, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/run/__init__.py\", line 35, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/run/__init__.py\", line 75, in build_parser\r\n    CreatorSelector(interpreter, parser),\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/run/plugin/creators.py\", line 15, in __init__\r\n    creators, self.key_to_meta, self.describe, self.builtin_key = self.for_interpreter(interpreter)\r\n  File \"/home/stefanor/git/virtualenv/src/virtualenv/run/plugin/creators.py\", line 40, in for_interpreter\r\n    raise RuntimeError(\r\nRuntimeError: missing required file PathRefToDest(src=/usr/lib/pypy/../../local/lib/pypy2.7/lib-python/os.py) for creators PyPy2Posix\r\n```\r\n\r\npy_info:\r\n```json\r\n{\r\n  \"platform\": \"linux2\", \r\n  \"implementation\": \"PyPy\", \r\n  \"pypy_version_info\": [\r\n    7, \r\n    3, \r\n    1, \r\n    \"final\", \r\n    0\r\n  ], \r\n  \"version_info\": {\r\n    \"major\": 2, \r\n    \"minor\": 7, \r\n    \"micro\": 13, \r\n    \"releaselevel\": \"final\", \r\n    \"serial\": 42\r\n  }, \r\n  \"architecture\": 64, \r\n  \"version\": \"2.7.13 (7.3.1+dfsg-1, Apr 10 2020, 20:05:43)\\n[PyPy 7.3.1 with GCC 9.3.0]\", \r\n  \"os\": \"posix\", \r\n  \"prefix\": \"/usr/lib/pypy\", \r\n  \"base_prefix\": null, \r\n  \"real_prefix\": null, \r\n  \"base_exec_prefix\": null, \r\n  \"exec_prefix\": \"/usr/lib/pypy\", \r\n  \"executable\": \"/usr/bin/pypy\", \r\n  \"original_executable\": \"/usr/bin/pypy\", \r\n  \"system_executable\": \"/usr/bin/pypy\", \r\n  \"has_venv\": false, \r\n  \"path\": [\r\n    \"/home/stefanor/git/virtualenv/src/virtualenv/discovery\", \r\n    \"/usr/lib/pypy/lib_pypy/__extensions__\", \r\n    \"/usr/lib/pypy/lib_pypy\", \r\n    \"/usr/lib/pypy/lib-python/2.7\", \r\n    \"/usr/lib/pypy/lib-python/2.7/lib-tk\", \r\n    \"/usr/lib/pypy/lib-python/2.7/plat-linux2\", \r\n    \"/usr/local/lib/pypy2.7/dist-packages\", \r\n    \"/usr/lib/pypy/dist-packages\"\r\n  ], \r\n  \"file_system_encoding\": \"UTF-8\", \r\n  \"stdout_encoding\": \"UTF-8\", \r\n  \"sysconfig_paths\": {\r\n    \"stdlib\": \"{base}/../../local/lib/pypy{py_version_short}/lib-python\", \r\n    \"platstdlib\": \"{base}/../../local/lib/pypy{py_version_short}/lib-python\", \r\n    \"purelib\": \"{base}/../../local/lib/pypy{py_version_short}/lib-python\", \r\n    \"platlib\": \"{base}/../../local/lib/pypy{py_version_short}/lib-python\", \r\n    \"include\": \"{base}/../../local/include\", \r\n    \"scripts\": \"{base}/../../local/bin\", \r\n    \"data\": \"{base}/../../local\"\r\n  }, \r\n  \"sysconfig_vars\": {\r\n    \"base\": \"/usr/lib/pypy\", \r\n    \"py_version_short\": \"2.7\", \r\n    \"PYTHONFRAMEWORK\": \"\", \r\n    \"implementation_lower\": \"python\"\r\n  }, \r\n  \"distutils_install\": {\r\n    \"purelib\": \"site-packages\", \r\n    \"platlib\": \"site-packages\", \r\n    \"headers\": \"include\", \r\n    \"scripts\": \"bin\", \r\n    \"data\": \"\"\r\n  }, \r\n  \"system_stdlib\": \"/usr/lib/pypy/../../local/lib/pypy2.7/lib-python\", \r\n  \"system_stdlib_platform\": \"/usr/lib/pypy/../../local/lib/pypy2.7/lib-python\", \r\n  \"max_size\": 9223372036854775807, \r\n  \"_creators\": null\r\n}\r\n```\r\n\r\nPresumably this is caused by our virtualenv parsing our deb layout. \r\nTo support users installing packages as root, outside a virtualenv, we point the purelib path at `/usr/local/lib` through the `pypy-local` sysconfig layout:\r\n\r\nhttps://salsa.debian.org/debian/pypy/-/blob/debian/debian/patches/distutils-install-layout\r\n\r\nWe do the same thing for PyPy3, but for some reason, virtualenv seems to know about that and handle it correctly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1767", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1767/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1767/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1767/events", "html_url": "https://github.com/pypa/virtualenv/issues/1767", "id": 597853495, "node_id": "MDU6SXNzdWU1OTc4NTM0OTU=", "number": 1767, "title": "Add the `deactivate` script to linux as well", "user": {"login": "ShayNehmad", "id": 48879847, "node_id": "MDQ6VXNlcjQ4ODc5ODQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/48879847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShayNehmad", "html_url": "https://github.com/ShayNehmad", "followers_url": "https://api.github.com/users/ShayNehmad/followers", "following_url": "https://api.github.com/users/ShayNehmad/following{/other_user}", "gists_url": "https://api.github.com/users/ShayNehmad/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShayNehmad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShayNehmad/subscriptions", "organizations_url": "https://api.github.com/users/ShayNehmad/orgs", "repos_url": "https://api.github.com/users/ShayNehmad/repos", "events_url": "https://api.github.com/users/ShayNehmad/events{/privacy}", "received_events_url": "https://api.github.com/users/ShayNehmad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-10T12:00:55Z", "updated_at": "2020-04-10T14:56:01Z", "closed_at": "2020-04-10T12:07:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**What's the problem this feature will solve?**\r\n<!-- What are you trying to do, that you are unable to achieve with pip as it currently stands? -->\r\nI just tried to execute `venv/bin/deactivate` (on an ubuntu machine, in bash, as part of a build script for my own project called [Infection Monkey](github.com/guardicore/monkey)). It didn't work and I soon realized that I should have just have executed the function `deactivate`, instead. \r\n\r\n**Describe the solution you'd like**\r\n<!-- Clear and concise description of what you want to happen. -->\r\nAs a QoL improvement, adding the venv/bin/deactivate file sounds good. It can literally be a file that contains the word deactivate and that's it, next to the `activate` file. \r\n\r\n<!-- Provide examples of real world use cases that this would enable and how it solves the problem described above. -->\r\n\r\n**Alternative Solutions**\r\n<!-- Have you tried to workaround the problem using pip or other tools? Or a different approach to solving this issue? Please elaborate here. -->\r\nThe \"workaround\" is to realize that deactivate is a function and not a file, but that's sometimes too late if you're scripting a build process (like myself). \r\n\r\n**Additional context**\r\n<!-- Add any other context, links, etc. about the feature here. -->\r\nI'm already working on the PR in my fork and will submit it soon \ud83d\udcaa \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1765", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1765/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1765/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1765/events", "html_url": "https://github.com/pypa/virtualenv/issues/1765", "id": 597175160, "node_id": "MDU6SXNzdWU1OTcxNzUxNjA=", "number": 1765, "title": "Cannot customize activation scripts virtualenv.py stores config in zipped binary", "user": {"login": "Nolaan", "id": 3602244, "node_id": "MDQ6VXNlcjM2MDIyNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3602244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nolaan", "html_url": "https://github.com/Nolaan", "followers_url": "https://api.github.com/users/Nolaan/followers", "following_url": "https://api.github.com/users/Nolaan/following{/other_user}", "gists_url": "https://api.github.com/users/Nolaan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nolaan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nolaan/subscriptions", "organizations_url": "https://api.github.com/users/Nolaan/orgs", "repos_url": "https://api.github.com/users/Nolaan/repos", "events_url": "https://api.github.com/users/Nolaan/events{/privacy}", "received_events_url": "https://api.github.com/users/Nolaan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-09T10:13:34Z", "updated_at": "2020-04-09T10:31:57Z", "closed_at": "2020-04-09T10:31:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nHi all, \r\nI wanted to change the template activate.fish in order to customize the prompt. After messing around with what I thought to be virtualenv's templates the result was still the same. Then I decided to hunt down the script responsible for the creation of `venv/bin/activate.fish`. I've discovered `virtualenv.py` that may be a generated file, I don't know where it's coming from, you can find it here `https://github.com/nerdvegas/rez/blob/master/src/build_utils/virtualenv/virtualenv.py`;\r\n\r\nMy issue is that file contains base64 encoded zip variable that are responsible for creating the config files. I would expect those to be text files since they are already bundled and zipped. Is there a reason for this choice? \r\nFurthermore those variables cannot be audited in any sense.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Fedora 31\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n- Relevant code \r\n  ```python\r\ndef convert(s):\r\n    b = base64.b64decode(s.encode(\"ascii\"))\r\n    return zlib.decompress(b).decode(\"utf-8\")\r\n\r\n\r\n# file site.py\r\nSITE_PY = convert(\r\n    \"\"\"\r\neJy1Pf1z2zaWv+uvQOnJWEplOnHaXtepe+MkTus5N/HG6WxuU5+WEiGJNUWyBGlZ2+n+7fc+ABAg\r\nKdm+7Wk6rkQCDw8P7xsPSBAEp0Uhs1is8rhOpVAyKmdLUUTVUol5XopqmZTxQRGV1Qaezm6ihVSi\r\nyoXaqBBbhYPB03/zM3gqPi4TZVCAb1Fd5auoSmZRmm5EsiryspKxiOsyyRYiyZIqidLkn9Aiz0Lx\r\n9N/HYHCeCZh5mshS3MpSAVwl8rm43FTLPBPDusA5Pw+/jl6MxkLNyqSooEGpcQaKLKNqkEkZA5rQ\r\nslZAyqSSB6qQs2SezGzDdV6nsSjSaCbFP/7BU6Om+/sDla/keilLKTJABmBKgFUgHvA1KcUsj2Uo\r\nxCs5i3AAft4Qa8DQxrhmCsmY5SLNswXMKZMzqVRUbsRwWlcEiFAWcQ44JYBBlaTpYJ2XN2oES0rr\r\nsYZHImL28CfD7AHzxPG7nAM4vs8GP2fJ3ZhhA/cguGrJbFPKeXInIgQLP+WdnE30s2EyF3EynwMN\r\nsmqETQaMgBJpMj0saDm+0yv0/SFhZbkygjEkosyN+SX1CAfnlYhSBWxbF0gjRZi/kdMkyoAa2S0M\r\nBxCBpIO+ceJEVXYcmp3IAUCJ61iBlKyUGK6iJANm/SmaEdp/S7I4X6sRUQBWS4lfa1W58x/2EABa\r\nOwQYD3CxzGrWWZrcyHQzAgQ+AvalVHVaoUDESSlnVV4mUhEAQG0j5B0gPRZRKTUJmTON3I6J/kST\r\nJMOFRQFDgceXSJJ5sqhLkjAxT4BzgSvevv8g3py9Oj99p3nMAGOZXawAZ4BCC+3gBAOIw1qVh2kO\r\nAh0OLvB/IopjFLIFjg94NQ0O713pwRDmXoTtPs6CA9n14uphYI4VKBMaa0D9focuY7UE+vxxz3oP\r\nBqfbqEIT52/rZQ4ymUUrKZYR8xdyxuA7Def7sKiWL4EbFMKpgFQKFwcRTBAekMSl2TDPpCiAxdIk\r\nk6MBUGhKbf1VBFZ4l2cHtNYtTgAI5SCDl86zEY2YSZhoF9ZL1Bem8YZmppsM7Dqv8pIUB/B/NiNd\r\nlEbZDeGoiKH421QukixDhJAXBvt7+zSwukmAE+NQXFAr0gumkdhn7cUtUSRq4CVkOuBJeRetilSO\r\nWXxRt+5WIzSYrIRZ65Q5DlpWpF5p1Zqp9vLeUfipxXWEZrUsJQCvp57QzfN8LKagswmbIlqxeFXr...\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1761", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1761/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1761/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1761/events", "html_url": "https://github.com/pypa/virtualenv/issues/1761", "id": 595208561, "node_id": "MDU6SXNzdWU1OTUyMDg1NjE=", "number": 1761, "title": "virtualenv ignores VIRTUALENV_ALWAYS_COPY environment variable", "user": {"login": "lucidyan", "id": 5789108, "node_id": "MDQ6VXNlcjU3ODkxMDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5789108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucidyan", "html_url": "https://github.com/lucidyan", "followers_url": "https://api.github.com/users/lucidyan/followers", "following_url": "https://api.github.com/users/lucidyan/following{/other_user}", "gists_url": "https://api.github.com/users/lucidyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucidyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucidyan/subscriptions", "organizations_url": "https://api.github.com/users/lucidyan/orgs", "repos_url": "https://api.github.com/users/lucidyan/repos", "events_url": "https://api.github.com/users/lucidyan/events{/privacy}", "received_events_url": "https://api.github.com/users/lucidyan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-04-06T15:24:25Z", "updated_at": "2020-04-09T19:06:26Z", "closed_at": "2020-04-08T21:49:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nVirtualenv ignores `VIRTUALENV_ALWAYS_COPY` environment variable (it's important for wrappers like pipenv where we can't use it as flags).\r\n\r\nFor example, with `VIRTUALENV_COPIES` works as expected:\r\n\r\n```console\r\nVIRTUALENV_COPIES=1 virtualenv .venv -vvv --with-traceback && ls -al ./.venv/bin/python\r\n\r\nlrwxrwxrwx 1 username username 4526456 apr 6 18:12 ./.venv/bin/python\r\n```\r\n\r\nbut with `VIRTUALENV_ALWAYS_COPY` doesn't:\r\n\r\n```console\r\nVIRTUALENV_ALWAYS_COPY=1 virtualenv .venv -vvv --with-traceback && ls -al ./.venv/bin/python\r\n\r\nlrwxrwxrwx 1 username username 16 apr 6 18:12 ./.venv/bin/python -> /usr/bin/python3\r\n```\r\n\r\n\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu 18.04.4 LTS\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n    Package                      Version            \r\n    ---------------------------- -------------------\r\n    absl-py                      0.9.0              \r\n    aiohttp                      3.6.2              \r\n    aiohttp-socks                0.3.4              \r\n    aiorpcX                      0.18.4             \r\n    appdirs                      1.4.3              \r\n    asn1crypto                   0.24.0             \r\n    astor                        0.8.1              \r\n    async-timeout                3.0.1              \r\n    attrs                        19.3.0             \r\n    backcall                     0.1.0              \r\n    beautifulsoup4               4.6.0              \r\n    bleach                       3.1.0              \r\n    blessings                    1.7                \r\n    bsddb3                       6.1.0              \r\n    cachetools                   4.0.0              \r\n    catfish                      1.4.4              \r\n    certifi                      2019.3.9           \r\n    cffi                         1.12.2             \r\n    chardet                      3.0.4              \r\n    Click                        7.0                \r\n    colorama                     0.4.1              \r\n    command-not-found            0.3                \r\n    construct                    2.10.56            \r\n    cryptography                 2.6.1              \r\n    cupshelpers                  1.0                \r\n    cycler                       0.10.0             \r\n    Cython                       0.29.6             \r\n    decorator                    4.3.2              \r\n    defer                        1.0.6              \r\n    defusedxml                   0.5.0              \r\n    distlib                      0.3.0              \r\n    distro                       1.4.0              \r\n    distro-info                  0.18ubuntu0.18.04.1\r\n    dnspython                    1.16.0             \r\n    ecdsa                        0.15               \r\n    Electrum                     3.3.8              \r\n    entrypoints                  0.3                \r\n    filelock                     3.0.12             \r\n    Flask                        1.0.2              \r\n    gast                         0.2.2              \r\n    gitdb2                       2.0.5              \r\n    GitPython                    2.1.11             \r\n    google-auth                  1.11.1             \r\n    google-auth-oauthlib         0.4.1              \r\n    google-pasta                 0.1.8              \r\n    gpg                          1.10.0             \r\n    gpustat                      0.5.0              \r\n    gramps                       5.1.1              \r\n    grpcio                       1.27.2             \r\n    Guake                        3.6.3              \r\n    h5py                         2.9.0              \r\n    html5lib                     1.0.1              \r\n    httplib2                     0.12.1             \r\n    idna                         2.7                \r\n    idna-ssl                     1.1.0              \r\n    ifaddr                       0.1.6              \r\n    implicit                     0.3.8              \r\n    importlib-metadata           1.5.0              \r\n    importlib-resources          1.4.0              \r\n    ipykernel                    5.1.0              \r\n    ipython                      7.3.0              \r\n    ipython-genutils             0.2.0              \r\n    ipywidgets                   7.4.2              \r\n    itsdangerous                 1.1.0              \r\n    jedi                         0.13.3             \r\n    jeepney                      0.4                \r\n    Jinja2                       2.10               \r\n    jsonrpclib-pelix             0.4.0              \r\n    jsonschema                   3.0.1              \r\n    jupyter                      1.0.0              \r\n    jupyter-client               5.2.4              \r\n    jupyter-console              6.0.0              \r\n    jupyter-core                 4.4.0              \r\n    kaggle                       1.5.3              \r\n    Keras-Applications           1.0.8              \r\n    Keras-Preprocessing          1.1.0              \r\n    keyring                      18.0.0             \r\n    keyrings.alt                 3.1.1              \r\n    kiwisolver                   1.0.1              \r\n    language-selector            0.1                \r\n    launchpadlib                 1.10.6             \r\n    lazr.restfulclient           0.14.2             \r\n    lazr.uri                     1.0.3              \r\n    lightdm-gtk-greeter-settings 1.2.2              \r\n    llvmlite                     0.27.1             \r\n    lxml                         4.2.1              \r\n    Mako                         1.0.7              \r\n    Markdown                     2.6.9              \r\n    MarkupSafe                   1.1.1              \r\n    matplotlib                   3.0.3              \r\n    meld                         3.18.0             \r\n    menulibre                    2.2.0              \r\n    mistune                      0.8.4              \r\n    more-itertools               8.2.0              \r\n    mugshot                      0.4.0              \r\n    multidict                    4.7.5              \r\n    nbconvert                    5.4.1              \r\n    nbdiff                       1.0.3              \r\n    nbdime                       1.0.5              \r\n    nbformat                     4.4.0              \r\n    netifaces                    0.10.9             \r\n    networkx                     1.11               \r\n    notebook                     5.7.6              \r\n    numba                        0.42.1             \r\n    numpy                        1.16.4             \r\n    nvidia-ml-py3                7.352.0            \r\n    oauth                        1.0.1              \r\n    oauthlib                     3.0.1              \r\n    olefile                      0.46               \r\n    onboard                      1.4.1              \r\n    op1repacker                  0.2.2              \r\n    opencv-python                4.1.1.26           \r\n    opt-einsum                   3.1.0              \r\n    packaging                    20.3               \r\n    pandas                       0.24.1             \r\n    pandocfilters                1.4.2              \r\n    parso                        0.3.4              \r\n    patsy                        0.5.1              \r\n    pbr                          5.1.3              \r\n    pexpect                      4.6.0              \r\n    pickleshare                  0.7.5              \r\n    Pillow                       5.4.1              \r\n    pip                          20.0.2             \r\n    pipenv                       2018.11.26         \r\n    pluggy                       0.13.1             \r\n    prometheus-client            0.6.0              \r\n    prompt-toolkit               2.0.9              \r\n    protobuf                     3.11.3             \r\n    psutil                       5.6.1              \r\n    ptyprocess                   0.6.0              \r\n    py                           1.8.1              \r\n    pyaes                        1.6.1              \r\n    pyasn1                       0.4.8              \r\n    pyasn1-modules               0.2.8              \r\n    PyAudio                      0.2.11             \r\n    pycairo                      1.16.2             \r\n    pycparser                    2.19               \r\n    pycrypto                     2.6.1              \r\n    pycups                       1.9.73             \r\n    pycurl                       7.43.0.1           \r\n    pyenchant                    2.0.0              \r\n    Pygments                     2.3.1              \r\n    pygobject                    3.26.1             \r\n    pygraphviz                   1.4rc1             \r\n    pygtkspellcheck              4.0.5              \r\n    PyICU                        2.4.2              \r\n    pyparsing                    2.3.1              \r\n    pyrsistent                   0.14.11            \r\n    PySimpleSOAP                 1.16.2             \r\n    PySocks                      1.6.5              \r\n    pytest                       5.4.1              \r\n    python-apt                   1.6.5+ubuntu0.2    \r\n    python-dateutil              2.8.0              \r\n    python-debian                0.1.34             \r\n    python-debianbts             2.8.2              \r\n    Python-fontconfig            0.5.1              \r\n    python-Levenshtein           0.12.0             \r\n    python-magic                 0.4.16             \r\n    python-miio                  0.4.8              \r\n    python-slugify               3.0.0              \r\n    pytz                         2018.9             \r\n    pyxdg                        0.26               \r\n    PyYAML                       3.13               \r\n    pyzmq                        18.0.1             \r\n    QDarkStyle                   2.6.8              \r\n    qrcode                       6.1                \r\n    qtconsole                    4.4.3              \r\n    reportlab                    3.5.13             \r\n    requests                     2.21.0             \r\n    requests-oauthlib            1.3.0              \r\n    requests-unixsocket          0.1.5              \r\n    rsa                          4.0                \r\n    scikit-learn                 0.20.3             \r\n    scipy                        1.4.1              \r\n    screen-resolution-extra      0.0.0              \r\n    seaborn                      0.9.0              \r\n    SecretStorage                3.1.1              \r\n    Send2Trash                   1.5.0              \r\n    setuptools                   45.2.0             \r\n    sgt-launcher                 0.2.4              \r\n    simplegeneric                0.8.1              \r\n    simplejson                   3.16.0             \r\n    six                          1.12.0             \r\n    smmap2                       2.0.5              \r\n    ssh-import-id                5.7                \r\n    statsmodels                  0.9.0              \r\n    stevedore                    1.30.1             \r\n    svg.path                     3.0                \r\n    systemd-python               234                \r\n    tabulate                     0.8.3              \r\n    tensorboard                  2.1.0              \r\n    tensorflow                   2.1.0              \r\n    tensorflow-estimator         2.1.0              \r\n    termcolor                    1.1.0              \r\n    terminado                    0.8.1              \r\n    testpath                     0.4.2              \r\n    text-unidecode               1.2                \r\n    torbrowser-launcher          0.3.2              \r\n    torch                        1.4.0              \r\n    tornado                      6.0.1              \r\n    tqdm                         4.31.1             \r\n    traitlets                    4.3.2              \r\n    typing-extensions            3.7.4.1            \r\n    ubuntu-drivers-common        0.0.0              \r\n    ufw                          0.36               \r\n    umap-learn                   0.3.7              \r\n    unattended-upgrades          0.1                \r\n    Unidecode                    1.0.23             \r\n    urllib3                      1.24.1             \r\n    virtualenv                   20.0.16            \r\n    virtualenv-clone             0.5.1              \r\n    virtualenvwrapper            4.8.4              \r\n    wadllib                      1.3.3              \r\n    wcwidth                      0.1.7              \r\n    webencodings                 0.5.1              \r\n    Werkzeug                     0.15.2             \r\n    wheel                        0.33.1             \r\n    widgetsnbextension           3.4.2              \r\n    wrapt                        1.11.2             \r\n    xcffib                       0.7.0              \r\n    xkit                         0.0.0              \r\n    yarl                         1.4.2              \r\n    youtube-dl                   2020.1.24          \r\n    zeroconf                     0.24.4             \r\n    zipp                         3.1.0              \r\n    zope.interface               4.6.\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\nVIRTUALENV_COPIES=1 virtualenv .venv -vvv --with-traceback && ls -al ./.venv/bin/python\r\n34 setup logging to NOTSET [DEBUG report:43]\r\n67 find interpreter for spec PythonSpec(path=/usr/bin/python3) [INFO builtin:44]\r\n67 proposed PythonInfo(spec=CPython3.6.9.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.6.9 (default, Nov  7 2019, 10:44:02) \\n[GCC 8.3.0]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n67 accepted PythonInfo(spec=CPython3.6.9.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.6.9 (default, Nov  7 2019, 10:44:02) \\n[GCC 8.3.0]', encoding_fs_io=utf-8-UTF-8) [DEBUG builtin:52]\r\n68 filesystem is case-sensitive [DEBUG info:28]\r\n101 create virtual environment via CPython3Posix(dest=/tmp/virt/.venv, clear=False, global=False) [INFO session:52]\r\n101 write /tmp/virt/.venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n101 \thome = /usr [DEBUG pyenv_cfg:38]\r\n101 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n101 \tversion_info = 3.6.9.final.0 [DEBUG pyenv_cfg:38]\r\n101 \tvirtualenv = 20.0.16 [DEBUG pyenv_cfg:38]\r\n101 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n101 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n101 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n101 \tbase-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n101 remove file /tmp/virt/.venv/bin/python [DEBUG _sync:34]\r\n102 copy /usr/bin/python3 to /tmp/virt/.venv/bin/python [DEBUG _sync:48]\r\n105 copy /usr/bin/python3 to /tmp/virt/.venv/bin/python3 [DEBUG _sync:48]\r\n108 copy /usr/bin/python3 to /tmp/virt/.venv/bin/python3.6 [DEBUG _sync:48]\r\n110 create virtualenv import hook file /tmp/virt/.venv/lib/python3.6/site-packages/_virtualenv.pth [DEBUG api:76]\r\n110 create /tmp/virt/.venv/lib/python3.6/site-packages/_virtualenv.py [DEBUG api:79]\r\n110 ============================== target debug ============================== [DEBUG session:54]\r\n111 debug via /tmp/virt/.venv/bin/python /home/username/.local/lib/python3.6/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n110 {\r\n  \"sys\": {\r\n    \"executable\": \"/tmp/virt/.venv/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/tmp/virt/.venv\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/tmp/virt/.venv\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/usr/lib/python36.zip\",\r\n      \"/usr/lib/python3.6\",\r\n      \"/usr/lib/python3.6/lib-dynload\",\r\n      \"/tmp/virt/.venv/lib/python3.6/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"UTF-8\"\r\n  },\r\n  \"version\": \"3.6.9 (default, Nov  7 2019, 10:44:02) \\n[GCC 8.3.0]\",\r\n  \"os\": \"<module 'os' from '/usr/lib/python3.6/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib/python3.6/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib/python3.6/datetime.py'>\",\r\n  \"math\": \"<module 'math' (built-in)>\",\r\n  \"json\": \"<module 'json' from '/usr/lib/python3.6/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n133 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/username/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n134 Attempting to acquire lock 139699908152848 on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [DEBUG filelock:270]\r\n134 Lock 139699908152848 acquired on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [INFO filelock:274]\r\n134 get bundled wheel /home/username/.local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n134 get bundled wheel /home/username/.local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/setuptools-46.1.3-py3-none-any.whl [DEBUG acquire:51]\r\n135 get bundled wheel /home/username/.local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n136 install wheel from wheel /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n136 install setuptools from wheel /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/setuptools-46.1.3-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n136 install pip from wheel /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n137 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /tmp/virt/.venv/lib/python3.6/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n138 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/pkg_resources to /tmp/virt/.venv/lib/python3.6/site-packages/pkg_resources [DEBUG _sync:48]\r\n140 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /tmp/virt/.venv/lib/python3.6/site-packages/wheel [DEBUG _sync:48]\r\n144 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /tmp/virt/.venv/lib/python3.6/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n144 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.dist-info to /tmp/virt/.venv/lib/python3.6/site-packages/setuptools-46.1.3.dist-info [DEBUG _sync:48]\r\n145 changing mode of /tmp/virt/.venv/bin/wheel-3.6 to 775 [INFO util:566]\r\n145 changing mode of /tmp/virt/.venv/bin/wheel3 to 775 [INFO util:566]\r\n145 changing mode of /tmp/virt/.venv/bin/wheel to 775 [INFO util:566]\r\n145 generated console scripts wheel-3.6 wheel wheel3 [DEBUG base:53]\r\n148 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools to /tmp/virt/.venv/lib/python3.6/site-packages/setuptools [DEBUG _sync:48]\r\n150 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /tmp/virt/.venv/lib/python3.6/site-packages/pip [DEBUG _sync:48]\r\n158 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/easy_install.py to /tmp/virt/.venv/lib/python3.6/site-packages/easy_install.py [DEBUG _sync:48]\r\n158 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.virtualenv to /tmp/virt/.venv/lib/python3.6/site-packages/setuptools-46.1.3.virtualenv [DEBUG _sync:48]\r\n159 changing mode of /tmp/virt/.venv/bin/easy_install3 to 775 [INFO util:566]\r\n159 changing mode of /tmp/virt/.venv/bin/easy_install to 775 [INFO util:566]\r\n159 changing mode of /tmp/virt/.venv/bin/easy_install-3.6 to 775 [INFO util:566]\r\n159 generated console scripts easy_install3 easy_install easy_install-3.6 [DEBUG base:53]\r\n177 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /tmp/virt/.venv/lib/python3.6/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n177 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /tmp/virt/.venv/lib/python3.6/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n178 changing mode of /tmp/virt/.venv/bin/pip3 to 775 [INFO util:566]\r\n178 changing mode of /tmp/virt/.venv/bin/pip3.6 to 775 [INFO util:566]\r\n178 changing mode of /tmp/virt/.venv/bin/pip-3.6 to 775 [INFO util:566]\r\n178 changing mode of /tmp/virt/.venv/bin/pip to 775 [INFO util:566]\r\n179 generated console scripts pip3 pip3.6 pip pip-3.6 [DEBUG base:53]\r\n179 Attempting to release lock 139699908152848 on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [DEBUG filelock:315]\r\n179 Lock 139699908152848 released on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [INFO filelock:318]\r\n179 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:65]\r\n180 write /tmp/virt/.venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n180 \thome = /usr [DEBUG pyenv_cfg:38]\r\n180 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n180 \tversion_info = 3.6.9.final.0 [DEBUG pyenv_cfg:38]\r\n180 \tvirtualenv = 20.0.16 [DEBUG pyenv_cfg:38]\r\n180 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n180 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n180 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n180 \tbase-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n180 created virtual environment CPython3.6.9.final.0-64 in 147ms\r\n  creator CPython3Posix(dest=/tmp/virt/.venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/username/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n-rwxr-xr-x 1 username username 4526456 apr  6 18:14 ./.venv/bin/python\r\n\r\n\r\n```\r\n\r\n```console\r\nVIRTUALENV_ALWAYS_COPY=1 virtualenv .venv -vvv --with-traceback && ls -al ./.venv/bin/python\r\n34 setup logging to NOTSET [DEBUG report:43]\r\n66 find interpreter for spec PythonSpec(path=/usr/bin/python3) [INFO builtin:44]\r\n66 proposed PythonInfo(spec=CPython3.6.9.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.6.9 (default, Nov  7 2019, 10:44:02) \\n[GCC 8.3.0]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n66 accepted PythonInfo(spec=CPython3.6.9.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.6.9 (default, Nov  7 2019, 10:44:02) \\n[GCC 8.3.0]', encoding_fs_io=utf-8-UTF-8) [DEBUG builtin:52]\r\n67 filesystem is case-sensitive [DEBUG info:28]\r\n99 create virtual environment via CPython3Posix(dest=/tmp/virt/.venv, clear=False, global=False) [INFO session:52]\r\n99 write /tmp/virt/.venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n99 \thome = /usr [DEBUG pyenv_cfg:38]\r\n99 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n99 \tversion_info = 3.6.9.final.0 [DEBUG pyenv_cfg:38]\r\n99 \tvirtualenv = 20.0.16 [DEBUG pyenv_cfg:38]\r\n99 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n99 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n99 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n100 \tbase-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n100 remove file /tmp/virt/.venv/bin/python [DEBUG _sync:34]\r\n100 symlink /usr/bin/python3 to /tmp/virt/.venv/bin/python [DEBUG _sync:40]\r\n100 create virtualenv import hook file /tmp/virt/.venv/lib/python3.6/site-packages/_virtualenv.pth [DEBUG api:76]\r\n100 create /tmp/virt/.venv/lib/python3.6/site-packages/_virtualenv.py [DEBUG api:79]\r\n100 ============================== target debug ============================== [DEBUG session:54]\r\n101 debug via /tmp/virt/.venv/bin/python /home/username/.local/lib/python3.6/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n100 {\r\n  \"sys\": {\r\n    \"executable\": \"/tmp/virt/.venv/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/tmp/virt/.venv\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/tmp/virt/.venv\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/usr/lib/python36.zip\",\r\n      \"/usr/lib/python3.6\",\r\n      \"/usr/lib/python3.6/lib-dynload\",\r\n      \"/tmp/virt/.venv/lib/python3.6/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"UTF-8\"\r\n  },\r\n  \"version\": \"3.6.9 (default, Nov  7 2019, 10:44:02) \\n[GCC 8.3.0]\",\r\n  \"os\": \"<module 'os' from '/usr/lib/python3.6/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib/python3.6/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib/python3.6/datetime.py'>\",\r\n  \"math\": \"<module 'math' (built-in)>\",\r\n  \"json\": \"<module 'json' from '/usr/lib/python3.6/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n123 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/username/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n123 Attempting to acquire lock 140102569515832 on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [DEBUG filelock:270]\r\n123 Lock 140102569515832 acquired on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [INFO filelock:274]\r\n124 get bundled wheel /home/username/.local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n124 get bundled wheel /home/username/.local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/setuptools-46.1.3-py3-none-any.whl [DEBUG acquire:51]\r\n124 get bundled wheel /home/username/.local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n126 install wheel from wheel /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n126 install setuptools from wheel /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/setuptools-46.1.3-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n126 install pip from wheel /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n127 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /tmp/virt/.venv/lib/python3.6/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n128 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/pkg_resources to /tmp/virt/.venv/lib/python3.6/site-packages/pkg_resources [DEBUG _sync:48]\r\n130 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /tmp/virt/.venv/lib/python3.6/site-packages/wheel [DEBUG _sync:48]\r\n134 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /tmp/virt/.venv/lib/python3.6/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n135 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.dist-info to /tmp/virt/.venv/lib/python3.6/site-packages/setuptools-46.1.3.dist-info [DEBUG _sync:48]\r\n135 changing mode of /tmp/virt/.venv/bin/wheel-3.6 to 775 [INFO util:566]\r\n136 changing mode of /tmp/virt/.venv/bin/wheel3 to 775 [INFO util:566]\r\n136 changing mode of /tmp/virt/.venv/bin/wheel to 775 [INFO util:566]\r\n136 generated console scripts wheel-3.6 wheel3 wheel [DEBUG base:53]\r\n138 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools to /tmp/virt/.venv/lib/python3.6/site-packages/setuptools [DEBUG _sync:48]\r\n140 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /tmp/virt/.venv/lib/python3.6/site-packages/pip [DEBUG _sync:48]\r\n149 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/easy_install.py to /tmp/virt/.venv/lib/python3.6/site-packages/easy_install.py [DEBUG _sync:48]\r\n149 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/setuptools-46.1.3-py3-none-any/setuptools-46.1.3.virtualenv to /tmp/virt/.venv/lib/python3.6/site-packages/setuptools-46.1.3.virtualenv [DEBUG _sync:48]\r\n150 changing mode of /tmp/virt/.venv/bin/easy_install to 775 [INFO util:566]\r\n150 changing mode of /tmp/virt/.venv/bin/easy_install-3.6 to 775 [INFO util:566]\r\n150 changing mode of /tmp/virt/.venv/bin/easy_install3 to 775 [INFO util:566]\r\n150 generated console scripts easy_install easy_install-3.6 easy_install3 [DEBUG base:53]\r\n167 copy /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /tmp/virt/.venv/lib/python3.6/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n168 copy directory /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /tmp/virt/.venv/lib/python3.6/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n168 changing mode of /tmp/virt/.venv/bin/pip3.6 to 775 [INFO util:566]\r\n168 changing mode of /tmp/virt/.venv/bin/pip to 775 [INFO util:566]\r\n169 changing mode of /tmp/virt/.venv/bin/pip3 to 775 [INFO util:566]\r\n169 changing mode of /tmp/virt/.venv/bin/pip-3.6 to 775 [INFO util:566]\r\n169 generated console scripts pip-3.6 pip3.6 pip pip3 [DEBUG base:53]\r\n169 Attempting to release lock 140102569515832 on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [DEBUG filelock:315]\r\n169 Lock 140102569515832 released on /home/username/.local/share/virtualenv/seed-app-data/v1.0.1/3.6/wheels.lock [INFO filelock:318]\r\n169 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:65]\r\n170 write /tmp/virt/.venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n170 \thome = /usr [DEBUG pyenv_cfg:38]\r\n170 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n170 \tversion_info = 3.6.9.final.0 [DEBUG pyenv_cfg:38]\r\n170 \tvirtualenv = 20.0.16 [DEBUG pyenv_cfg:38]\r\n170 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n170 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n170 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n170 \tbase-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n170 created virtual environment CPython3.6.9.final.0-64 in 137ms\r\n  creator CPython3Posix(dest=/tmp/virt/.venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/username/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\nlrwxrwxrwx 1 username username 16 apr  6 18:20 ./.venv/bin/python -> /usr/bin/python3\r\n\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1757", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1757/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1757/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1757/events", "html_url": "https://github.com/pypa/virtualenv/issues/1757", "id": 593541284, "node_id": "MDU6SXNzdWU1OTM1NDEyODQ=", "number": 1757, "title": "virtualenv raises StopIteration exception when processing extra search directory wheels.", "user": {"login": "kevinp89", "id": 13920189, "node_id": "MDQ6VXNlcjEzOTIwMTg5", "avatar_url": "https://avatars2.githubusercontent.com/u/13920189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinp89", "html_url": "https://github.com/kevinp89", "followers_url": "https://api.github.com/users/kevinp89/followers", "following_url": "https://api.github.com/users/kevinp89/following{/other_user}", "gists_url": "https://api.github.com/users/kevinp89/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinp89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinp89/subscriptions", "organizations_url": "https://api.github.com/users/kevinp89/orgs", "repos_url": "https://api.github.com/users/kevinp89/repos", "events_url": "https://api.github.com/users/kevinp89/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinp89/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-03T17:45:06Z", "updated_at": "2020-04-05T20:38:44Z", "closed_at": "2020-04-04T08:33:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nWhen creating virtualenv when using `--extra-search-directory`, ``StopIteration`` exception is raised when processing wheels.\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Centos7\r\n- ``virtualenv`` is installed:\r\nvirtualenv version: 20.0.15\r\n```console\r\nException in thread Thread-3:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib64/python3.6/threading.py\", line 864, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/seed/via_app_data/via_app_data.py\", line 75, in _get\r\n    self.app_data,\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 30, in get_wheels\r\n    acquire_from_dir(processed, for_py_version, wheel_cache_dir, extra_search_dir)\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 74, in acquire_from_dir\r\n    if wheel_support_py(filename, for_py_version):\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/acquire.py\", line 91, in wheel_support_py\r\n    requires = next(i[len(marker) :] for i in metadata.splitlines() if i.startswith(marker))\r\nStopIteration\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1756", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1756/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1756/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1756/events", "html_url": "https://github.com/pypa/virtualenv/issues/1756", "id": 589095530, "node_id": "MDU6SXNzdWU1ODkwOTU1MzA=", "number": 1756, "title": "Unable to deactivate virtualenv while using Powershell in Windows Terminal", "user": {"login": "Halfbax", "id": 15744333, "node_id": "MDQ6VXNlcjE1NzQ0MzMz", "avatar_url": "https://avatars1.githubusercontent.com/u/15744333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Halfbax", "html_url": "https://github.com/Halfbax", "followers_url": "https://api.github.com/users/Halfbax/followers", "following_url": "https://api.github.com/users/Halfbax/following{/other_user}", "gists_url": "https://api.github.com/users/Halfbax/gists{/gist_id}", "starred_url": "https://api.github.com/users/Halfbax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Halfbax/subscriptions", "organizations_url": "https://api.github.com/users/Halfbax/orgs", "repos_url": "https://api.github.com/users/Halfbax/repos", "events_url": "https://api.github.com/users/Halfbax/events{/privacy}", "received_events_url": "https://api.github.com/users/Halfbax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}, {"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-27T12:20:01Z", "updated_at": "2020-03-27T14:16:07Z", "closed_at": "2020-03-27T14:16:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nUnable to deactivate the virtual environment while using Powershell in Windows Terminal.\r\n\r\n**Environment**\r\nWindows 10 Pro 10.0.18363\r\n[Windows Terminal](https://github.com/microsoft/terminal) (Powershell)\r\n\r\n  ```console\r\npip        20.0.2\r\nsetuptools 46.0.0\r\nwheel      0.34.2\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\n```console\r\nPS D:\\projects\\ceres> virtualenv . -vvv --with-traceback\r\n56 setup logging to NOTSET [DEBUG report:43]\r\n57 could not create app data folder C:\\Users\\Spors\\AppData\\Local\\pypa\\virtualenv due to FileNotFoundError(2, 'The syste\r\nm cannot find the path specified') [INFO app_data:54]\r\n70 created temporary app data folder C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21 [DEBUG app_data:32]\r\n70 find interpreter for spec PythonSpec(path=c:\\program files\\python\\38\\python.exe) [INFO builtin:44]\r\n70 proposed PythonInfo(spec=CPython3.8.1.final.0-64, exe=c:\\program files\\python\\38\\python.exe, platform=win32, version\r\n='3.8.1 (tags/v3.8.1:1b293b6, Dec 18 2019, 23:11:46) [MSC v.1916 64 bit (AMD64)]', encoding_fs_io=utf-8-utf-8) [INFO bu\r\niltin:50]\r\n71 accepted PythonInfo(spec=CPython3.8.1.final.0-64, exe=c:\\program files\\python\\38\\python.exe, platform=win32, version\r\n='3.8.1 (tags/v3.8.1:1b293b6, Dec 18 2019, 23:11:46) [MSC v.1916 64 bit (AMD64)]', encoding_fs_io=utf-8-utf-8) [DEBUG b\r\nuiltin:52]\r\n76 symlink on filesystem does not work [DEBUG info:47]\r\n76 filesystem is not case-sensitive [DEBUG info:28]\r\n142 create virtual environment via CPython3Windows(dest=D:\\projects\\ceres, clear=False, global=False) [INFO session:52]\r\n143 create folder D:\\projects\\ceres\\Lib\\site-packages [DEBUG _sync:21]\r\n143 create folder D:\\projects\\ceres\\Scripts [DEBUG _sync:21]\r\n143 write D:\\projects\\ceres\\pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n143     home = c:\\program files\\python\\38 [DEBUG pyenv_cfg:38]\r\n143     implementation = CPython [DEBUG pyenv_cfg:38]\r\n143     version_info = 3.8.1.final.0 [DEBUG pyenv_cfg:38]\r\n143     virtualenv = 20.0.10 [DEBUG pyenv_cfg:38]\r\n144     include-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n144     base-prefix = c:\\program files\\python\\38 [DEBUG pyenv_cfg:38]\r\n144     base-exec-prefix = c:\\program files\\python\\38 [DEBUG pyenv_cfg:38]\r\n144     base-executable = c:\\program files\\python\\38\\python.exe [DEBUG pyenv_cfg:38]\r\n144 copy c:\\program files\\python\\38\\python.exe to D:\\projects\\ceres\\Scripts\\python.exe [DEBUG _sync:48]\r\n146 copy c:\\program files\\python\\38\\pythonw.exe to D:\\projects\\ceres\\Scripts\\pythonw.exe [DEBUG _sync:48]\r\n147 copy c:\\program files\\python\\38\\python3.dll to D:\\projects\\ceres\\Scripts\\python3.dll [DEBUG _sync:48]\r\n148 copy c:\\program files\\python\\38\\python38.dll to D:\\projects\\ceres\\Scripts\\python38.dll [DEBUG _sync:48]\r\n158 copy c:\\program files\\python\\38\\vcruntime140.dll to D:\\projects\\ceres\\Scripts\\vcruntime140.dll [DEBUG _sync:48]\r\n159 copy c:\\program files\\python\\38\\DLLs\\libcrypto-1_1.dll to D:\\projects\\ceres\\Scripts\\libcrypto-1_1.dll [DEBUG _sync:\r\n48]\r\n167 copy c:\\program files\\python\\38\\DLLs\\libffi-7.dll to D:\\projects\\ceres\\Scripts\\libffi-7.dll [DEBUG _sync:48]\r\n168 copy c:\\program files\\python\\38\\DLLs\\libssl-1_1.dll to D:\\projects\\ceres\\Scripts\\libssl-1_1.dll [DEBUG _sync:48]\r\n171 copy c:\\program files\\python\\38\\DLLs\\pyexpat.pyd to D:\\projects\\ceres\\Scripts\\pyexpat.pyd [DEBUG _sync:48]\r\n172 copy c:\\program files\\python\\38\\DLLs\\select.pyd to D:\\projects\\ceres\\Scripts\\select.pyd [DEBUG _sync:48]\r\n173 copy c:\\program files\\python\\38\\DLLs\\sqlite3.dll to D:\\projects\\ceres\\Scripts\\sqlite3.dll [DEBUG _sync:48]\r\n177 copy c:\\program files\\python\\38\\DLLs\\tcl86t.dll to D:\\projects\\ceres\\Scripts\\tcl86t.dll [DEBUG _sync:48]\r\n179 copy c:\\program files\\python\\38\\DLLs\\tk86t.dll to D:\\projects\\ceres\\Scripts\\tk86t.dll [DEBUG _sync:48]\r\n181 copy c:\\program files\\python\\38\\DLLs\\unicodedata.pyd to D:\\projects\\ceres\\Scripts\\unicodedata.pyd [DEBUG _sync:48]\r\n185 copy c:\\program files\\python\\38\\DLLs\\winsound.pyd to D:\\projects\\ceres\\Scripts\\winsound.pyd [DEBUG _sync:48]\r\n186 copy c:\\program files\\python\\38\\DLLs\\_asyncio.pyd to D:\\projects\\ceres\\Scripts\\_asyncio.pyd [DEBUG _sync:48]\r\n187 copy c:\\program files\\python\\38\\DLLs\\_bz2.pyd to D:\\projects\\ceres\\Scripts\\_bz2.pyd [DEBUG _sync:48]\r\n188 copy c:\\program files\\python\\38\\DLLs\\_ctypes.pyd to D:\\projects\\ceres\\Scripts\\_ctypes.pyd [DEBUG _sync:48]\r\n189 copy c:\\program files\\python\\38\\DLLs\\_decimal.pyd to D:\\projects\\ceres\\Scripts\\_decimal.pyd [DEBUG _sync:48]\r\n190 copy c:\\program files\\python\\38\\DLLs\\_elementtree.pyd to D:\\projects\\ceres\\Scripts\\_elementtree.pyd [DEBUG _sync:48\r\n]\r\n192 copy c:\\program files\\python\\38\\DLLs\\_hashlib.pyd to D:\\projects\\ceres\\Scripts\\_hashlib.pyd [DEBUG _sync:48]\r\n193 copy c:\\program files\\python\\38\\DLLs\\_lzma.pyd to D:\\projects\\ceres\\Scripts\\_lzma.pyd [DEBUG _sync:48]\r\n194 copy c:\\program files\\python\\38\\DLLs\\_msi.pyd to D:\\projects\\ceres\\Scripts\\_msi.pyd [DEBUG _sync:48]\r\n195 copy c:\\program files\\python\\38\\DLLs\\_multiprocessing.pyd to D:\\projects\\ceres\\Scripts\\_multiprocessing.pyd [DEBUG\r\n_sync:48]\r\n196 copy c:\\program files\\python\\38\\DLLs\\_overlapped.pyd to D:\\projects\\ceres\\Scripts\\_overlapped.pyd [DEBUG _sync:48]\r\n197 copy c:\\program files\\python\\38\\DLLs\\_queue.pyd to D:\\projects\\ceres\\Scripts\\_queue.pyd [DEBUG _sync:48]\r\n198 copy c:\\program files\\python\\38\\DLLs\\_socket.pyd to D:\\projects\\ceres\\Scripts\\_socket.pyd [DEBUG _sync:48]\r\n199 copy c:\\program files\\python\\38\\DLLs\\_sqlite3.pyd to D:\\projects\\ceres\\Scripts\\_sqlite3.pyd [DEBUG _sync:48]\r\n200 copy c:\\program files\\python\\38\\DLLs\\_ssl.pyd to D:\\projects\\ceres\\Scripts\\_ssl.pyd [DEBUG _sync:48]\r\n200 copy c:\\program files\\python\\38\\DLLs\\_tkinter.pyd to D:\\projects\\ceres\\Scripts\\_tkinter.pyd [DEBUG _sync:48]\r\n201 create D:\\projects\\ceres\\Lib\\site-packages\\_virtualenv.py [DEBUG api:60]\r\n203 create virtualenv import hook file D:\\projects\\ceres\\Lib\\site-packages\\_virtualenv.pth [DEBUG api:63]\r\n203 ============================== target debug ============================== [DEBUG session:54]\r\n203 debug via 'D:\\projects\\ceres\\Scripts\\python.exe' 'c:\\program files\\python\\38\\lib\\site-packages\\virtualenv\\create\\de\r\nbug.py' [DEBUG creator:182]\r\n203 {\r\n  \"sys\": {\r\n    \"executable\": \"D:\\\\projects\\\\ceres\\\\Scripts\\\\python.exe\",\r\n    \"_base_executable\": \"D:\\\\projects\\\\ceres\\\\Scripts\\\\python.exe\",\r\n    \"prefix\": \"D:\\\\projects\\\\ceres\",\r\n    \"base_prefix\": \"c:\\\\program files\\\\python\\\\38\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"D:\\\\projects\\\\ceres\",\r\n    \"base_exec_prefix\": \"c:\\\\program files\\\\python\\\\38\",\r\n    \"path\": [\r\n      \"D:\\\\projects\\\\ceres\\\\Scripts\\\\python38.zip\",\r\n      \"c:\\\\program files\\\\python\\\\38\\\\DLLs\",\r\n      \"c:\\\\program files\\\\python\\\\38\\\\lib\",\r\n      \"c:\\\\program files\\\\python\\\\38\",\r\n      \"D:\\\\projects\\\\ceres\",\r\n      \"D:\\\\projects\\\\ceres\\\\lib\\\\site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"cp1252\"\r\n  },\r\n  \"version\": \"3.8.1 (tags/v3.8.1:1b293b6, Dec 18 2019, 23:11:46) [MSC v.1916 64 bit (AMD64)]\",\r\n  \"os\": \"<module 'os' from 'c:\\\\\\\\program files\\\\\\\\python\\\\\\\\38\\\\\\\\lib\\\\\\\\os.py'>\",\r\n  \"site\": \"<module 'site' from 'c:\\\\\\\\program files\\\\\\\\python\\\\\\\\38\\\\\\\\lib\\\\\\\\site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from 'c:\\\\\\\\program files\\\\\\\\python\\\\\\\\38\\\\\\\\lib\\\\\\\\datetime.py'>\",\r\n  \"math\": \"<module 'math' (built-in)>\",\r\n  \"json\": \"<module 'json' from 'c:\\\\\\\\program files\\\\\\\\python\\\\\\\\38\\\\\\\\lib\\\\\\\\json\\\\\\\\__init__.py'>\"\r\n} [DEBUG session:55]\r\n295 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_d\r\nir=C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1) [INFO session:59]\r\n296 Attempting to acquire lock 2491013030048 on C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\whee\r\nls.lock [DEBUG filelock:270]\r\n296 Lock 2491013030048 acquired on C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\wheels.lock [INFO\r\n filelock:274]\r\n297 get bundled wheel c:\\program files\\python\\38\\lib\\site-packages\\virtualenv\\seed\\embed\\wheels\\pip-20.0.2-py2.py3-none\r\n-any.whl [DEBUG acquire:51]\r\n297 get bundled wheel c:\\program files\\python\\38\\lib\\site-packages\\virtualenv\\seed\\embed\\wheels\\setuptools-46.0.0-py3-n\r\none-any.whl [DEBUG acquire:51]\r\n297 get bundled wheel c:\\program files\\python\\38\\lib\\site-packages\\virtualenv\\seed\\embed\\wheels\\wheel-0.34.2-py2.py3-no\r\nne-any.whl [DEBUG acquire:51]\r\n300 install wheel from wheel C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\wheels\\wheel-0.34.2-py2\r\n.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n300 install setuptools from wheel C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\wheels\\setuptools-\r\n46.0.0-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n300 build install image to C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\whee\r\nl-0.34.2-py2.py3-none-any of wheel-0.34.2-py2.py3-none-any.whl [DEBUG base:57]\r\n300 install pip from wheel C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\wheels\\pip-20.0.2-py2.py3\r\n-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n301 build install image to C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\setu\r\nptools-46.0.0-py3-none-any of setuptools-46.0.0-py3-none-any.whl [DEBUG base:57]\r\n301 build install image to C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\pip-\r\n20.0.2-py2.py3-none-any of pip-20.0.2-py2.py3-none-any.whl [DEBUG base:57]\r\n334 copy directory C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\wheel-0.34.2\r\n-py2.py3-none-any\\wheel to D:\\projects\\ceres\\Lib\\site-packages\\wheel [DEBUG _sync:48]\r\n397 copy C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\setuptools-46.0.0-py3-\r\nnone-any\\easy_install.py to D:\\projects\\ceres\\Lib\\site-packages\\easy_install.py [DEBUG _sync:48]\r\n402 copy directory C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\setuptools-4\r\n6.0.0-py3-none-any\\pkg_resources to D:\\projects\\ceres\\Lib\\site-packages\\pkg_resources [DEBUG _sync:48]\r\n408 copy directory C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\wheel-0.34.2\r\n-py2.py3-none-any\\wheel-0.34.2.dist-info to D:\\projects\\ceres\\Lib\\site-packages\\wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n429 copy C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\wheel-0.34.2-py2.py3-n\r\none-any\\wheel-0.34.2.virtualenv to D:\\projects\\ceres\\Lib\\site-packages\\wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n432 generated console scripts wheel.exe wheel3.exe wheel-3.8.exe [DEBUG base:53]\r\n479 copy directory C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\setuptools-4\r\n6.0.0-py3-none-any\\setuptools to D:\\projects\\ceres\\Lib\\site-packages\\setuptools [DEBUG _sync:48]\r\n554 copy directory C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\pip-20.0.2-p\r\ny2.py3-none-any\\pip to D:\\projects\\ceres\\Lib\\site-packages\\pip [DEBUG _sync:48]\r\n857 copy directory C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\setuptools-4\r\n6.0.0-py3-none-any\\setuptools-46.0.0.dist-info to D:\\projects\\ceres\\Lib\\site-packages\\setuptools-46.0.0.dist-info [DEBU\r\nG _sync:48]\r\n884 copy C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\setuptools-46.0.0-py3-\r\nnone-any\\setuptools-46.0.0.virtualenv to D:\\projects\\ceres\\Lib\\site-packages\\setuptools-46.0.0.virtualenv [DEBUG _sync:\r\n1764 copy C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\image\\CopyPipInstall\\pip-20.0.2-py2.py3-none-any\\pip-20.0.2.virtualenv to D:\\projects\\ceres\\Lib\\site-packages\\pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n1767 generated console scripts pip.exe pip3.exe pip-3.8.exe [DEBUG base:53]\r\n1767 Attempting to release lock 2491013030048 on C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\wheels.lock [DEBUG filelock:315]\r\n1767 Lock 2491013030048 released on C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1\\3.8\\wheels.lock [INFO filelock:318]\r\n1768 add activators for Bash, Batch, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n1771 write D:\\projects\\ceres\\pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n1771    home = c:\\program files\\python\\38 [DEBUG pyenv_cfg:38]\r\n1771    implementation = CPython [DEBUG pyenv_cfg:38]\r\n1771    version_info = 3.8.1.final.0 [DEBUG pyenv_cfg:38]\r\n1771    virtualenv = 20.0.10 [DEBUG pyenv_cfg:38]\r\n1771    include-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n1771    base-prefix = c:\\program files\\python\\38 [DEBUG pyenv_cfg:38]\r\n1771    base-exec-prefix = c:\\program files\\python\\38 [DEBUG pyenv_cfg:38]\r\n1771    base-executable = c:\\program files\\python\\38\\python.exe [DEBUG pyenv_cfg:38]\r\n1772 remove temporary app data folder C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21 [DEBUG app_data:35]\r\n1825 created virtual environment CPython3.8.1.final.0-64 in 1773ms\r\n  creator CPython3Windows(dest=D:\\projects\\ceres, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=C:\\Users\\Spors\\AppData\\Local\\Temp\\tmpbehz5s21\\seed-app-data\\v1)\r\n  activators BashActivator,BatchActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n\r\n**Workaround until it's fixed**\r\nSee https://github.com/pypa/virtualenv/issues/1724#issuecomment-604964446", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1753", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1753/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1753/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1753/events", "html_url": "https://github.com/pypa/virtualenv/issues/1753", "id": 588794172, "node_id": "MDU6SXNzdWU1ODg3OTQxNzI=", "number": 1753, "title": "Upgrade embedded setuptools to 46.1.3", "user": {"login": "ianw", "id": 108448, "node_id": "MDQ6VXNlcjEwODQ0OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/108448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianw", "html_url": "https://github.com/ianw", "followers_url": "https://api.github.com/users/ianw/followers", "following_url": "https://api.github.com/users/ianw/following{/other_user}", "gists_url": "https://api.github.com/users/ianw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianw/subscriptions", "organizations_url": "https://api.github.com/users/ianw/orgs", "repos_url": "https://api.github.com/users/ianw/repos", "events_url": "https://api.github.com/users/ianw/events{/privacy}", "received_events_url": "https://api.github.com/users/ianw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-26T23:45:25Z", "updated_at": "2020-03-26T23:52:04Z", "closed_at": "2020-03-26T23:52:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nThe currently included setuptools, 46.1.1 (https://github.com/pypa/virtualenv/commit/02c58c134631a2753ef2c7b2128a5ad6059ff882), has a rather annoying issue that it drops execute permissions on scripts installed (https://github.com/pypa/setuptools/issues/2041).  This is fixed in 46.1.3, but all our virtualenv environments are broken by default unless we override the seeder.  If this could be released in an update that would be great.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1752", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1752/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1752/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1752/events", "html_url": "https://github.com/pypa/virtualenv/issues/1752", "id": 588548617, "node_id": "MDU6SXNzdWU1ODg1NDg2MTc=", "number": 1752, "title": "Dropping executable bit on library files in `virtualenv==20.0.14`", "user": {"login": "rcramblit", "id": 12990828, "node_id": "MDQ6VXNlcjEyOTkwODI4", "avatar_url": "https://avatars2.githubusercontent.com/u/12990828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rcramblit", "html_url": "https://github.com/rcramblit", "followers_url": "https://api.github.com/users/rcramblit/followers", "following_url": "https://api.github.com/users/rcramblit/following{/other_user}", "gists_url": "https://api.github.com/users/rcramblit/gists{/gist_id}", "starred_url": "https://api.github.com/users/rcramblit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rcramblit/subscriptions", "organizations_url": "https://api.github.com/users/rcramblit/orgs", "repos_url": "https://api.github.com/users/rcramblit/repos", "events_url": "https://api.github.com/users/rcramblit/events{/privacy}", "received_events_url": "https://api.github.com/users/rcramblit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-03-26T16:22:33Z", "updated_at": "2020-03-27T10:56:00Z", "closed_at": "2020-03-27T10:04:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\n`virtualenv==20.0.14` appears to be losing the executable bit on some library files when installing `pyspark`. I have experienced this behavior on both Ubuntu and MacOS, with python3.6.9 and 3.8.1.\r\n\r\nVirtualenv created with `virtualenv==2.0.13`:\r\n```console\r\n(pyspark_13) ross: ~/WorkZone/VirtualEnvironments/pyspark_13\r\n$ pip list\r\nPackage    Version\r\n---------- -------\r\npip        20.0.2\r\npy4j       0.10.7\r\npyspark    2.4.4\r\nsetuptools 46.0.0\r\nwheel      0.34.2\r\n```\r\n```console\r\n(pyspark_13) ross: ~/WorkZone/VirtualEnvironments/pyspark_13\r\n$ ll lib/python3.8/site-packages/pyspark/bin/\r\ntotal 224\r\n-rwxr-xr-x  1 ross  staff   1.1K Mar 26 09:07 beeline\r\n-rw-r--r--  1 ross  staff   1.0K Mar 26 09:07 beeline.cmd\r\n-rwxr-xr-x  1 ross  staff   5.3K Mar 26 09:07 docker-image-tool.sh\r\n-rwxr-xr-x  1 ross  staff   1.9K Mar 26 09:07 find-spark-home\r\n-rw-r--r--  1 ross  staff   2.6K Mar 26 09:07 find-spark-home.cmd\r\n-rw-r--r--  1 ross  staff   1.8K Mar 26 09:07 load-spark-env.cmd\r\n-rw-r--r--  1 ross  staff   2.0K Mar 26 09:07 load-spark-env.sh\r\n-rwxr-xr-x  1 ross  staff   2.9K Mar 26 09:07 pyspark\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:07 pyspark.cmd\r\n-rw-r--r--  1 ross  staff   1.5K Mar 26 09:07 pyspark2.cmd\r\n-rwxr-xr-x  1 ross  staff   1.0K Mar 26 09:07 run-example\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:07 run-example.cmd\r\n-rwxr-xr-x  1 ross  staff   3.1K Mar 26 09:07 spark-class\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:07 spark-class.cmd\r\n-rw-r--r--  1 ross  staff   2.8K Mar 26 09:07 spark-class2.cmd\r\n-rwxr-xr-x  1 ross  staff   3.0K Mar 26 09:07 spark-shell\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:07 spark-shell.cmd\r\n-rw-r--r--  1 ross  staff   1.8K Mar 26 09:07 spark-shell2.cmd\r\n-rwxr-xr-x  1 ross  staff   1.0K Mar 26 09:07 spark-sql\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:07 spark-sql.cmd\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:07 spark-sql2.cmd\r\n-rwxr-xr-x  1 ross  staff   1.0K Mar 26 09:07 spark-submit\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:07 spark-submit.cmd\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:07 spark-submit2.cmd\r\n-rwxr-xr-x  1 ross  staff   1.0K Mar 26 09:07 sparkR\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:07 sparkR.cmd\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:07 sparkR2.cmd\r\n```\r\n\r\nVirtualenv create with `virtualenv==2.0.14`:\r\n```console\r\n(pyspark_14) ross: ~/WorkZone/VirtualEnvironments/pyspark_14\r\n$ pip list\r\nPackage    Version\r\n---------- -------\r\npip        20.0.2\r\npy4j       0.10.7\r\npyspark    2.4.4\r\nsetuptools 46.1.1\r\nwheel      0.34.2\r\n```\r\n```console\r\n(pyspark_14) ross: ~/WorkZone/VirtualEnvironments/pyspark_14\r\n$ ll lib/python3.8/site-packages/pyspark/bin/\r\ntotal 224\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 beeline\r\n-rw-r--r--  1 ross  staff   1.0K Mar 26 09:13 beeline.cmd\r\n-rw-r--r--  1 ross  staff   5.3K Mar 26 09:13 docker-image-tool.sh\r\n-rw-r--r--  1 ross  staff   1.9K Mar 26 09:13 find-spark-home\r\n-rw-r--r--  1 ross  staff   2.6K Mar 26 09:13 find-spark-home.cmd\r\n-rw-r--r--  1 ross  staff   1.8K Mar 26 09:13 load-spark-env.cmd\r\n-rw-r--r--  1 ross  staff   2.0K Mar 26 09:13 load-spark-env.sh\r\n-rw-r--r--  1 ross  staff   2.9K Mar 26 09:13 pyspark\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 pyspark.cmd\r\n-rw-r--r--  1 ross  staff   1.5K Mar 26 09:13 pyspark2.cmd\r\n-rw-r--r--  1 ross  staff   1.0K Mar 26 09:13 run-example\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:13 run-example.cmd\r\n-rw-r--r--  1 ross  staff   3.1K Mar 26 09:13 spark-class\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:13 spark-class.cmd\r\n-rw-r--r--  1 ross  staff   2.8K Mar 26 09:13 spark-class2.cmd\r\n-rw-r--r--  1 ross  staff   3.0K Mar 26 09:13 spark-shell\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:13 spark-shell.cmd\r\n-rw-r--r--  1 ross  staff   1.8K Mar 26 09:13 spark-shell2.cmd\r\n-rw-r--r--  1 ross  staff   1.0K Mar 26 09:13 spark-sql\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 spark-sql.cmd\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 spark-sql2.cmd\r\n-rw-r--r--  1 ross  staff   1.0K Mar 26 09:13 spark-submit\r\n-rw-r--r--  1 ross  staff   1.2K Mar 26 09:13 spark-submit.cmd\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 spark-submit2.cmd\r\n-rw-r--r--  1 ross  staff   1.0K Mar 26 09:13 sparkR\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 sparkR.cmd\r\n-rw-r--r--  1 ross  staff   1.1K Mar 26 09:13 sparkR2.cmd\r\n```\r\n\r\n\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: MacOS 10.14.6 (also observed on Ubuntu 16.0.4)\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n`virtualenv==20.0.13`:\r\n```console\r\n$ python3.8 -m pip list\r\nPackage    Version\r\n---------- -------\r\nappdirs    1.4.3\r\ndistlib    0.3.0\r\nfilelock   3.0.12\r\npip        19.3.1\r\nsetuptools 42.0.2\r\nsix        1.14.0\r\nvirtualenv 20.0.13\r\nwheel      0.33.6\r\n```\r\n\r\n`virtualenv==20.0.14`:\r\n```console\r\n(virtualenv_14) ross: ~/WorkZone/VirtualEnvironments\r\n$ pip list\r\nPackage    Version\r\n---------- -------\r\nappdirs    1.4.3\r\ndistlib    0.3.0\r\nfilelock   3.0.12\r\npip        20.0.2\r\nsetuptools 45.2.0\r\nsix        1.14.0\r\nvirtualenv 20.0.14\r\nwheel      0.34.2\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n`virtualenv==20.0.13`:\r\n```console\r\nross: ~/WorkZone/VirtualEnvironments\r\n$ virtualenv pyspark_13 -vvv --with-traceback\r\n56 setup logging to NOTSET [DEBUG report:43]\r\n88 find interpreter for spec PythonSpec(path=/usr/local/opt/python@3.8/bin/python3.8) [INFO builtin:44]\r\n88 proposed PythonInfo(spec=CPython3.8.1.final.0-64, exe=/usr/local/opt/python@3.8/bin/python3.8, platform=darwin, version='3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n88 accepted PythonInfo(spec=CPython3.8.1.final.0-64, exe=/usr/local/opt/python@3.8/bin/python3.8, platform=darwin, version='3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n96 filesystem is not case-sensitive [DEBUG info:28]\r\n253 create virtual environment via CPython3Posix(dest=/Users/ross/WorkZone/VirtualEnvironments/pyspark_13, clear=False, global=False) [INFO session:52]\r\n253 create folder /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin [DEBUG _sync:21]\r\n254 create folder /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages [DEBUG _sync:21]\r\n255 write /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n255 \thome = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n255 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n255 \tversion_info = 3.8.1.final.0 [DEBUG pyenv_cfg:38]\r\n255 \tvirtualenv = 20.0.13 [DEBUG pyenv_cfg:38]\r\n255 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n255 \tbase-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n255 \tbase-exec-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n255 \tbase-executable = /usr/local/opt/python@3.8/bin/python3.8 [DEBUG pyenv_cfg:38]\r\n256 symlink /usr/local/opt/python@3.8/bin/python3.8 to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/python [DEBUG _sync:40]\r\n258 create /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:78]\r\n259 create virtualenv import hook file /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:81]\r\n259 ============================== target debug ============================== [DEBUG session:54]\r\n259 debug via /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/python /usr/local/lib/python3.8/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n259 {\r\n  \"sys\": {\r\n    \"executable\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/python\",\r\n    \"_base_executable\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/python\",\r\n    \"prefix\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_13\",\r\n    \"base_prefix\": \"/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_13\",\r\n    \"base_exec_prefix\": \"/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8\",\r\n    \"path\": [\r\n      \"/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python38.zip\",\r\n      \"/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8\",\r\n      \"/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload\",\r\n      \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]\",\r\n  \"os\": \"<module 'os' from '/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload/math.cpython-38-darwin.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n315 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n316 Attempting to acquire lock 4418023584 on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:270]\r\n316 Lock 4418023584 acquired on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:274]\r\n319 get bundled wheel /usr/local/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n320 get bundled wheel /usr/local/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/setuptools-46.0.0-py3-none-any.whl [DEBUG acquire:51]\r\n320 get bundled wheel /usr/local/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n325 install wheel from wheel /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n326 install setuptools from wheel /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels/setuptools-46.0.0-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n326 install pip from wheel /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n327 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.0.0-py3-none-any/setuptools-46.0.0.dist-info to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/setuptools-46.0.0.dist-info [DEBUG _sync:48]\r\n327 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n327 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n328 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/wheel [DEBUG _sync:48]\r\n328 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/pip [DEBUG _sync:48]\r\n342 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.0.0-py3-none-any/setuptools-46.0.0.virtualenv to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/setuptools-46.0.0.virtualenv [DEBUG _sync:48]\r\n344 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.0.0-py3-none-any/easy_install.py to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:48]\r\n346 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.0.0-py3-none-any/setuptools to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/setuptools [DEBUG _sync:48]\r\n354 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n368 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/wheel3 to 755 [INFO util:566]\r\n369 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/wheel-3.8 to 755 [INFO util:566]\r\n370 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/wheel to 755 [INFO util:566]\r\n370 generated console scripts wheel-3.8 wheel3 wheel [DEBUG base:53]\r\n457 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.0.0-py3-none-any/pkg_resources to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:48]\r\n481 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/easy_install-3.8 to 755 [INFO util:566]\r\n482 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/easy_install to 755 [INFO util:566]\r\n482 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/easy_install3 to 755 [INFO util:566]\r\n483 generated console scripts easy_install3 easy_install easy_install-3.8 [DEBUG base:53]\r\n789 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/lib/python3.8/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n799 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/pip3.8 to 755 [INFO util:566]\r\n799 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/pip3 to 755 [INFO util:566]\r\n799 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/pip to 755 [INFO util:566]\r\n800 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/bin/pip-3.8 to 755 [INFO util:566]\r\n800 generated console scripts pip-3.8 pip pip3.8 pip3 [DEBUG base:53]\r\n800 Attempting to release lock 4418023584 on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:315]\r\n800 Lock 4418023584 released on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:318]\r\n800 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n807 write /Users/ross/WorkZone/VirtualEnvironments/pyspark_13/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n807 \thome = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n807 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n807 \tversion_info = 3.8.1.final.0 [DEBUG pyenv_cfg:38]\r\n807 \tvirtualenv = 20.0.13 [DEBUG pyenv_cfg:38]\r\n807 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n807 \tbase-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n807 \tbase-exec-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n807 \tbase-executable = /usr/local/opt/python@3.8/bin/python3.8 [DEBUG pyenv_cfg:38]\r\n808 created virtual environment CPython3.8.1.final.0-64 in 753ms\r\n  creator CPython3Posix(dest=/Users/ross/WorkZone/VirtualEnvironments/pyspark_13, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n\r\n`virtualenv==20.0.14`:\r\n```console\r\n(virtualenv_14) ross: ~/WorkZone/VirtualEnvironments\r\n$ virtualenv pyspark_14 -vvv --with-traceback\r\n92 setup logging to NOTSET [DEBUG report:43]\r\n113 find interpreter for spec PythonSpec(path=/Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/bin/python) [INFO builtin:44]\r\n114 discover exe for PythonInfo(spec=CPython3.8.1.final.0-64, exe=/Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/bin/python, platform=darwin, version='3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]', encoding_fs_io=utf-8-utf-8) in /usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8 [DEBUG py_info:352]\r\n115 filesystem is not case-sensitive [DEBUG info:28]\r\n116 Attempting to acquire lock 4565512544 on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/d02d962d4848e39588a949973e0d71f6f00b6517ee060386e3fea19a33a7b565.lock [DEBUG filelock:270]\r\n116 Lock 4565512544 acquired on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/d02d962d4848e39588a949973e0d71f6f00b6517ee060386e3fea19a33a7b565.lock [INFO filelock:274]\r\n117 get PythonInfo from /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/d02d962d4848e39588a949973e0d71f6f00b6517ee060386e3fea19a33a7b565.json for /usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/bin/python3.8 [DEBUG cached_py_info:79]\r\n117 Attempting to release lock 4565512544 on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/d02d962d4848e39588a949973e0d71f6f00b6517ee060386e3fea19a33a7b565.lock [DEBUG filelock:315]\r\n117 Lock 4565512544 released on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/d02d962d4848e39588a949973e0d71f6f00b6517ee060386e3fea19a33a7b565.lock [INFO filelock:318]\r\n118 Attempting to acquire lock 4565513456 on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/1ee38ef4a5a9feb55287fd749643f13d043cb0a7addaab2a9c224cbe137c0062.lock [DEBUG filelock:270]\r\n118 Lock 4565513456 acquired on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/1ee38ef4a5a9feb55287fd749643f13d043cb0a7addaab2a9c224cbe137c0062.lock [INFO filelock:274]\r\n118 get PythonInfo from /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/1ee38ef4a5a9feb55287fd749643f13d043cb0a7addaab2a9c224cbe137c0062.json for /usr/local/opt/python@3.8/bin/python3.8 [DEBUG cached_py_info:79]\r\n119 Attempting to release lock 4565513456 on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/1ee38ef4a5a9feb55287fd749643f13d043cb0a7addaab2a9c224cbe137c0062.lock [DEBUG filelock:315]\r\n119 Lock 4565513456 released on /Users/ross/Library/Application Support/virtualenv/py_info/20.0.14/1ee38ef4a5a9feb55287fd749643f13d043cb0a7addaab2a9c224cbe137c0062.lock [INFO filelock:318]\r\n119 proposed PythonInfo(spec=CPython3.8.1.final.0-64, system=/usr/local/opt/python@3.8/bin/python3.8, exe=/Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/bin/python, platform=darwin, version='3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n119 accepted PythonInfo(spec=CPython3.8.1.final.0-64, system=/usr/local/opt/python@3.8/bin/python3.8, exe=/Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/bin/python, platform=darwin, version='3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n223 create virtual environment via CPython3Posix(dest=/Users/ross/WorkZone/VirtualEnvironments/pyspark_14, clear=False, global=False) [INFO session:52]\r\n223 create folder /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin [DEBUG _sync:21]\r\n223 create folder /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages [DEBUG _sync:21]\r\n223 write /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n223 \thome = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n223 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n224 \tversion_info = 3.8.1.final.0 [DEBUG pyenv_cfg:38]\r\n224 \tvirtualenv = 20.0.14 [DEBUG pyenv_cfg:38]\r\n224 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n224 \tbase-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n224 \tbase-exec-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n224 \tbase-executable = /usr/local/opt/python@3.8/bin/python3.8 [DEBUG pyenv_cfg:38]\r\n224 symlink /usr/local/opt/python@3.8/bin/python3.8 to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/python [DEBUG _sync:40]\r\n225 create virtualenv import hook file /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:76]\r\n226 create /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:79]\r\n226 ============================== target debug ============================== [DEBUG session:54]\r\n226 debug via /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/python /Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/lib/python3.8/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n226 {\r\n  \"sys\": {\r\n    \"executable\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/python\",\r\n    \"_base_executable\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/python\",\r\n    \"prefix\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_14\",\r\n    \"base_prefix\": \"/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_14\",\r\n    \"base_exec_prefix\": \"/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8\",\r\n    \"path\": [\r\n      \"/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python38.zip\",\r\n      \"/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8\",\r\n      \"/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload\",\r\n      \"/Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.1 (default, Dec 27 2019, 18:05:45) \\n[Clang 11.0.0 (clang-1100.0.33.16)]\",\r\n  \"os\": \"<module 'os' from '/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/local/opt/python@3.8/bin/../Frameworks/Python.framework/Versions/3.8/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload/math.cpython-38-darwin.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/local/opt/python@3.8/Frameworks/Python.framework/Versions/3.8/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n275 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n276 Attempting to acquire lock 4570361376 on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:270]\r\n276 Lock 4570361376 acquired on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:274]\r\n278 get bundled wheel /Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n278 get bundled wheel /Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/setuptools-46.1.1-py3-none-any.whl [DEBUG acquire:51]\r\n278 get bundled wheel /Users/ross/WorkZone/VirtualEnvironments/virtualenv_14/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n283 install wheel from wheel /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n284 install setuptools from wheel /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels/setuptools-46.1.1-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n284 install pip from wheel /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n285 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n286 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/easy_install.py to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:48]\r\n286 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n287 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/wheel [DEBUG _sync:48]\r\n287 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/pip [DEBUG _sync:48]\r\n288 copy /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/setuptools-46.1.1.virtualenv to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/setuptools-46.1.1.virtualenv [DEBUG _sync:48]\r\n289 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/setuptools to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/setuptools [DEBUG _sync:48]\r\n306 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n316 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/wheel-3.8 to 755 [INFO util:566]\r\n317 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/wheel to 755 [INFO util:566]\r\n317 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/wheel3 to 755 [INFO util:566]\r\n318 generated console scripts wheel3 wheel wheel-3.8 [DEBUG base:53]\r\n380 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/pkg_resources to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:48]\r\n398 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/setuptools-46.1.1.dist-info to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/setuptools-46.1.1.dist-info [DEBUG _sync:48]\r\n410 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/easy_install to 755 [INFO util:566]\r\n411 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/easy_install-3.8 to 755 [INFO util:566]\r\n411 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/easy_install3 to 755 [INFO util:566]\r\n412 generated console scripts easy_install-3.8 easy_install3 easy_install [DEBUG base:53]\r\n645 copy directory /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/lib/python3.8/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n653 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/pip-3.8 to 755 [INFO util:566]\r\n654 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/pip3.8 to 755 [INFO util:566]\r\n654 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/pip3 to 755 [INFO util:566]\r\n655 changing mode of /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/bin/pip to 755 [INFO util:566]\r\n655 generated console scripts pip3.8 pip3 pip-3.8 pip [DEBUG base:53]\r\n655 Attempting to release lock 4570361376 on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [DEBUG filelock:315]\r\n655 Lock 4570361376 released on /Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1/3.8/wheels.lock [INFO filelock:318]\r\n655 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n659 write /Users/ross/WorkZone/VirtualEnvironments/pyspark_14/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n659 \thome = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n659 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n659 \tversion_info = 3.8.1.final.0 [DEBUG pyenv_cfg:38]\r\n659 \tvirtualenv = 20.0.14 [DEBUG pyenv_cfg:38]\r\n659 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n659 \tbase-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n659 \tbase-exec-prefix = /usr/local/Cellar/python@3.8/3.8.1/Frameworks/Python.framework/Versions/3.8 [DEBUG pyenv_cfg:38]\r\n659 \tbase-executable = /usr/local/opt/python@3.8/bin/python3.8 [DEBUG pyenv_cfg:38]\r\n660 created virtual environment CPython3.8.1.final.0-64 in 569ms\r\n  creator CPython3Posix(dest=/Users/ross/WorkZone/VirtualEnvironments/pyspark_14, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/ross/Library/Application Support/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1751", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1751/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1751/events", "html_url": "https://github.com/pypa/virtualenv/issues/1751", "id": 588374515, "node_id": "MDU6SXNzdWU1ODgzNzQ1MTU=", "number": 1751, "title": "lib64 directory is no longer symlinked to lib?", "user": {"login": "abn", "id": 165325, "node_id": "MDQ6VXNlcjE2NTMyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/165325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abn", "html_url": "https://github.com/abn", "followers_url": "https://api.github.com/users/abn/followers", "following_url": "https://api.github.com/users/abn/following{/other_user}", "gists_url": "https://api.github.com/users/abn/gists{/gist_id}", "starred_url": "https://api.github.com/users/abn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abn/subscriptions", "organizations_url": "https://api.github.com/users/abn/orgs", "repos_url": "https://api.github.com/users/abn/repos", "events_url": "https://api.github.com/users/abn/events{/privacy}", "received_events_url": "https://api.github.com/users/abn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-26T12:12:21Z", "updated_at": "2020-03-26T16:29:30Z", "closed_at": "2020-03-26T12:20:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nCame across this issue while debugging tox environment creation issues. It would seem that when using `virtualenv==16.7.10` or simply `python -m venv`, the `lib64` directory was a symlink to the `lib` directory as expected. However, in `virtualenv==20.0.14`, this is no longer the case. Here, `lib64` is created as a directory.\r\n\r\nFor example, the following will reproduce the issue.\r\n```sh\r\ndocker run --rm -i fedora:31 <<EOF\r\nset -x\r\ndnf --quiet install -y pip\r\nfor v in 16.7.10 20.0.14; do\r\n  pip install virtualenv==\\$v >/dev/null 2>&1\r\n  virtualenv venv-\\$v\r\n  ls -all venv-\\$v\r\ndone\r\nEOF\r\n```\r\n\r\nThe following, is a snippet from the output.\r\n```console\r\n+ pip install virtualenv==16.7.10\r\n+ virtualenv venv-16.7.10\r\nUsing base prefix '/usr'\r\nNew python executable in /venv-16.7.10/bin/python3\r\nAlso creating executable in /venv-16.7.10/bin/python\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\n+ ls -all venv-16.7.10\r\ntotal 28\r\ndrwxr-xr-x. 5 root root 4096 Mar 26 03:35 .\r\ndrwxr-xr-x. 1 root root 4096 Mar 26 03:35 ..\r\ndrwxr-xr-x. 2 root root 4096 Mar 26 03:36 bin\r\ndrwxr-xr-x. 2 root root 4096 Mar 26 03:35 include\r\ndrwxr-xr-x. 3 root root 4096 Mar 26 03:35 lib\r\nlrwxrwxrwx. 1 root root    3 Mar 26 03:35 lib64 -> lib\r\n...\r\n+ pip install virtualenv==20.0.14\r\n+ virtualenv venv-20.0.14\r\ncreated virtual environment CPython3.7.6.final.0-64 in 249ms\r\n  creator CPython3Posix(dest=/venv-20.0.14, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n+ ls -all venv-20.0.14\r\ntotal 32\r\ndrwxr-xr-x. 5 root root 4096 Mar 26 03:36 .\r\ndrwxr-xr-x. 1 root root 4096 Mar 26 03:36 ..\r\ndrwxr-xr-x. 2 root root 4096 Mar 26 03:36 bin\r\ndrwxr-xr-x. 3 root root 4096 Mar 26 03:36 lib\r\ndrwxr-xr-x. 3 root root 4096 Mar 26 03:36 lib64\r\n-rw-r--r--. 1 root root  202 Mar 26 03:36 pyvenv.cfg\r\n```\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: `Fedora release 31 (Thirty One), Linux 7ab2b964bf3a 5.5.10-200.fc31.x86_64 #1 SMP Wed Mar 18 14:21:38 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux`\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n  Package            Version\r\n  ------------------ -------\r\n  appdirs            1.4.3  \r\n  distlib            0.3.0  \r\n  filelock           3.0.12 \r\n  gpg                1.13.1 \r\n  importlib-metadata 1.5.2  \r\n  libcomps           0.1.14 \r\n  pip                19.1.1 \r\n  rpm                4.15.1 \r\n  setuptools         41.6.0 \r\n  six                1.14.0 \r\n  virtualenv         20.0.14\r\n  zipp               3.1.0 \r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n75 setup logging to NOTSET [DEBUG report:43]\r\n75 created app data folder /root/.local/share/virtualenv [DEBUG app_data:52]\r\n84 find interpreter for spec PythonSpec(path=/usr/bin/python3) [INFO builtin:44]\r\n84 proposed PythonInfo(spec=CPython3.7.6.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.7.6 (default, Jan 30 2020, 09:44:41) \\n[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n84 accepted PythonInfo(spec=CPython3.7.6.final.0-64, exe=/usr/bin/python3, platform=linux, version='3.7.6 (default, Jan 30 2020, 09:44:41) \\n[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)]', encoding_fs_io=utf-8-UTF-8) [DEBUG builtin:52]\r\n91 filesystem is case-sensitive [DEBUG info:28]\r\n160 create virtual environment via CPython3Posix(dest=/venv-20.0.14, clear=False, global=False) [INFO session:52]\r\n160 create folder /venv-20.0.14/bin [DEBUG _sync:21]\r\n160 create folder /venv-20.0.14/lib/python3.7/site-packages [DEBUG _sync:21]\r\n160 create folder /venv-20.0.14/lib64/python3.7/site-packages [DEBUG _sync:21]\r\n161 write /venv-20.0.14/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n161     home = /usr [DEBUG pyenv_cfg:38]\r\n161     implementation = CPython [DEBUG pyenv_cfg:38]\r\n161     version_info = 3.7.6.final.0 [DEBUG pyenv_cfg:38]\r\n161     virtualenv = 20.0.14 [DEBUG pyenv_cfg:38]\r\n161     include-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n161     base-prefix = /usr [DEBUG pyenv_cfg:38]\r\n161     base-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n161     base-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n161 symlink /usr/bin/python3 to /venv-20.0.14/bin/python [DEBUG _sync:40]\r\n162 create virtualenv import hook file /venv-20.0.14/lib/python3.7/site-packages/_virtualenv.pth [DEBUG api:76]\r\n163 create /venv-20.0.14/lib/python3.7/site-packages/_virtualenv.py [DEBUG api:79]\r\n163 ============================== target debug ============================== [DEBUG session:54]\r\n163 debug via /venv-20.0.14/bin/python /usr/local/lib/python3.7/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n163 {\r\n  \"sys\": {\r\n    \"executable\": \"/venv-20.0.14/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/venv-20.0.14\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/venv-20.0.14\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/usr/lib64/python37.zip\",\r\n      \"/usr/lib64/python3.7\",\r\n      \"/usr/lib64/python3.7/lib-dynload\",\r\n      \"/venv-20.0.14/lib64/python3.7/site-packages\",\r\n      \"/venv-20.0.14/lib/python3.7/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"UTF-8\"\r\n  },\r\n  \"version\": \"3.7.6 (default, Jan 30 2020, 09:44:41) \\n[GCC 9.2.1 20190827 (Red Hat 9.2.1-1)]\",\r\n  \"os\": \"<module 'os' from '/usr/lib64/python3.7/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib64/python3.7/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib64/python3.7/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/usr/lib64/python3.7/lib-dynload/math.cpython-37m-x86_64-linux-gnu.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/lib64/python3.7/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n201 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n202 Attempting to acquire lock 140367118139024 on /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels.lock [DEBUG filelock:270]\r\n202 Lock 140367118139024 acquired on /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels.lock [INFO filelock:274]\r\n203 get bundled wheel /usr/local/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n204 get bundled wheel /usr/local/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/setuptools-46.1.1-py3-none-any.whl [DEBUG acquire:51]\r\n204 get bundled wheel /usr/local/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n209 install wheel from wheel /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n210 install setuptools from wheel /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels/setuptools-46.1.1-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n210 build install image to /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any of wheel-0.34.2-py2.py3-none-any.whl [DEBUG base:57]\r\n210 install pip from wheel /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n210 build install image to /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.1-py3-none-any of setuptools-46.1.1-py3-none-any.whl [DEBUG base:57]\r\n211 build install image to /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any of pip-20.0.2-py2.py3-none-any.whl [DEBUG base:57]\r\n236 changing mode of /tmp/tmppzoh5m0f/wheel-3.7 to 755 [INFO util:566]\r\n237 changing mode of /tmp/tmppzoh5m0f/wheel to 755 [INFO util:566]\r\n238 changing mode of /tmp/tmppzoh5m0f/wheel3 to 755 [INFO util:566]\r\n243 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /venv-20.0.14/lib/python3.7/site-packages/wheel [DEBUG _sync:48]\r\n256 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /venv-20.0.14/lib/python3.7/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n262 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /venv-20.0.14/lib/python3.7/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n263 changing mode of /venv-20.0.14/bin/wheel-3.7 to 755 [INFO util:566]\r\n264 changing mode of /venv-20.0.14/bin/wheel to 755 [INFO util:566]\r\n264 changing mode of /venv-20.0.14/bin/wheel3 to 755 [INFO util:566]\r\n265 generated console scripts wheel-3.7 wheel wheel3 [DEBUG base:53]\r\n296 changing mode of /tmp/tmp1h0cn9gf/easy_install to 755 [INFO util:566]\r\n297 changing mode of /tmp/tmp1h0cn9gf/easy_install3 to 755 [INFO util:566]\r\n297 changing mode of /tmp/tmp1h0cn9gf/easy_install-3.7 to 755 [INFO util:566]\r\n306 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/setuptools-46.1.1.virtualenv to /venv-20.0.14/lib/python3.7/site-packages/setuptools-46.1.1.virtualenv [DEBUG _sync:48]\r\n307 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/pkg_resources to /venv-20.0.14/lib/python3.7/site-packages/pkg_resources [DEBUG _sync:48]\r\n313 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/easy_install.py to /venv-20.0.14/lib/python3.7/site-packages/easy_install.py [DEBUG _sync:48]\r\n313 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/setuptools-46.1.1.dist-info to /venv-20.0.14/lib/python3.7/site-packages/setuptools-46.1.1.dist-info [DEBUG _sync:48]\r\n317 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/setuptools-46.1.1-py3-none-any/setuptools to /venv-20.0.14/lib/python3.7/site-packages/setuptools [DEBUG _sync:48]\r\n344 changing mode of /venv-20.0.14/bin/easy_install to 755 [INFO util:566]\r\n345 changing mode of /venv-20.0.14/bin/easy_install3 to 755 [INFO util:566]\r\n345 changing mode of /venv-20.0.14/bin/easy_install-3.7 to 755 [INFO util:566]\r\n345 generated console scripts easy_install easy_install-3.7 easy_install3 [DEBUG base:53]\r\n383 changing mode of /tmp/tmp483fsq8a/pip-3.7 to 755 [INFO util:566]\r\n383 changing mode of /tmp/tmp483fsq8a/pip3.7 to 755 [INFO util:566]\r\n384 changing mode of /tmp/tmp483fsq8a/pip to 755 [INFO util:566]\r\n384 changing mode of /tmp/tmp483fsq8a/pip3 to 755 [INFO util:566]\r\n407 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /venv-20.0.14/lib/python3.7/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n408 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /venv-20.0.14/lib/python3.7/site-packages/pip [DEBUG _sync:48]\r\n460 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /venv-20.0.14/lib/python3.7/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n461 changing mode of /venv-20.0.14/bin/pip-3.7 to 755 [INFO util:566]\r\n461 changing mode of /venv-20.0.14/bin/pip3.7 to 755 [INFO util:566]\r\n461 changing mode of /venv-20.0.14/bin/pip to 755 [INFO util:566]\r\n462 changing mode of /venv-20.0.14/bin/pip3 to 755 [INFO util:566]\r\n462 generated console scripts pip-3.7 pip3.7 pip3 pip [DEBUG base:53]\r\n462 Attempting to release lock 140367118139024 on /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels.lock [DEBUG filelock:315]\r\n462 Lock 140367118139024 released on /root/.local/share/virtualenv/seed-app-data/v1.0.1/3.7/wheels.lock [INFO filelock:318]\r\n462 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:65]\r\n464 write /venv-20.0.14/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n465     home = /usr [DEBUG pyenv_cfg:38]\r\n465     implementation = CPython [DEBUG pyenv_cfg:38]\r\n465     version_info = 3.7.6.final.0 [DEBUG pyenv_cfg:38]\r\n465     virtualenv = 20.0.14 [DEBUG pyenv_cfg:38]\r\n465     include-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n465     base-prefix = /usr [DEBUG pyenv_cfg:38]\r\n465     base-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n465     base-executable = /usr/bin/python3 [DEBUG pyenv_cfg:38]\r\n465 created virtual environment CPython3.7.6.final.0-64 in 392ms\r\n  creator CPython3Posix(dest=/venv-20.0.14, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1747", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1747/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1747/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1747/events", "html_url": "https://github.com/pypa/virtualenv/issues/1747", "id": 586868418, "node_id": "MDU6SXNzdWU1ODY4Njg0MTg=", "number": 1747, "title": "why????", "user": {"login": "mobinasadi", "id": 30495570, "node_id": "MDQ6VXNlcjMwNDk1NTcw", "avatar_url": "https://avatars2.githubusercontent.com/u/30495570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mobinasadi", "html_url": "https://github.com/mobinasadi", "followers_url": "https://api.github.com/users/mobinasadi/followers", "following_url": "https://api.github.com/users/mobinasadi/following{/other_user}", "gists_url": "https://api.github.com/users/mobinasadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mobinasadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mobinasadi/subscriptions", "organizations_url": "https://api.github.com/users/mobinasadi/orgs", "repos_url": "https://api.github.com/users/mobinasadi/repos", "events_url": "https://api.github.com/users/mobinasadi/events{/privacy}", "received_events_url": "https://api.github.com/users/mobinasadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-24T10:51:33Z", "updated_at": "2020-03-24T11:09:31Z", "closed_at": "2020-03-24T11:09:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "`created virtual environment CPython3.6.9.final.0-64 in 637ms\r\n  creator CPython3Posix(dest=/root/flaskproject/flaskprojectenv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1746", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1746/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1746/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1746/events", "html_url": "https://github.com/pypa/virtualenv/issues/1746", "id": 586416545, "node_id": "MDU6SXNzdWU1ODY0MTY1NDU=", "number": 1746, "title": "[20.x]: regression: no longer works with `-p python3.7m`", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-23T18:14:17Z", "updated_at": "2020-03-25T10:47:28Z", "closed_at": "2020-03-24T22:34:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\noriginally reported here: https://github.com/pre-commit/pre-commit/issues/810#issuecomment-602698550\r\n\r\nthis previously worked in the 16.x era\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: ubuntu 18.04\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n   $ pip freeze --all\r\n   appdirs==1.4.3\r\n   distlib==0.3.0\r\n   filelock==3.0.12\r\n   importlib-metadata==1.5.0\r\n   importlib-resources==1.4.0\r\n   pip==20.0.2\r\n   setuptools==46.0.0\r\n   six==1.14.0\r\n   virtualenv==20.0.13\r\n   wheel==0.34.2\r\n   zipp==3.1.0\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ virtualenv vvv -vvv --with-traceback -p python3.7m\r\n86 setup logging to NOTSET [DEBUG report:43]\r\n129 find interpreter for spec PythonSpec(path=python3.7m) [INFO builtin:44]\r\n130 discover PATH[0]=/home/asottile/bin [DEBUG builtin:84]\r\n130 discover PATH[1]=/home/asottile/bin [DEBUG builtin:84]\r\n130 discover PATH[2]=/usr/local/sbin [DEBUG builtin:84]\r\n130 discover PATH[3]=/usr/local/bin [DEBUG builtin:84]\r\n131 discover PATH[4]=/usr/sbin [DEBUG builtin:84]\r\n131 discover PATH[5]=/usr/bin [DEBUG builtin:84]\r\n131 Attempting to acquire lock 140599339566024 on /home/asottile/.local/share/virtualenv/py_info/20.0.13/7de8334bc336d5cad061541f9e57f300ac341259d2150b7467db7f17faa68e7d.lock [DEBUG filelock:270]\r\n132 Lock 140599339566024 acquired on /home/asottile/.local/share/virtualenv/py_info/20.0.13/7de8334bc336d5cad061541f9e57f300ac341259d2150b7467db7f17faa68e7d.lock [INFO filelock:274]\r\n132 get PythonInfo from /home/asottile/.local/share/virtualenv/py_info/20.0.13/7de8334bc336d5cad061541f9e57f300ac341259d2150b7467db7f17faa68e7d.json for /usr/bin/python3.7m [DEBUG cached_py_info:79]\r\n133 Attempting to release lock 140599339566024 on /home/asottile/.local/share/virtualenv/py_info/20.0.13/7de8334bc336d5cad061541f9e57f300ac341259d2150b7467db7f17faa68e7d.lock [DEBUG filelock:315]\r\n133 Lock 140599339566024 released on /home/asottile/.local/share/virtualenv/py_info/20.0.13/7de8334bc336d5cad061541f9e57f300ac341259d2150b7467db7f17faa68e7d.lock [INFO filelock:318]\r\n133 proposed PathPythonInfo(spec=CPython3.7.7.final.0-64, exe=/usr/bin/python3.7m, platform=linux, version='3.7.7 (default, Mar 10 2020, 15:16:38) \\n[GCC 7.5.0]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n134 Attempting to acquire lock 140599339565632 on /home/asottile/.local/share/virtualenv/py_info/20.0.13/767d51c1340bd893661ea55ea3124f6de3c7a262a8b4abca0554b478b1e2ff90.lock [DEBUG filelock:270]\r\n134 Lock 140599339565632 acquired on /home/asottile/.local/share/virtualenv/py_info/20.0.13/767d51c1340bd893661ea55ea3124f6de3c7a262a8b4abca0554b478b1e2ff90.lock [INFO filelock:274]\r\n135 get PythonInfo from /home/asottile/.local/share/virtualenv/py_info/20.0.13/767d51c1340bd893661ea55ea3124f6de3c7a262a8b4abca0554b478b1e2ff90.json for /usr/bin/python [DEBUG cached_py_info:79]\r\n135 Attempting to release lock 140599339565632 on /home/asottile/.local/share/virtualenv/py_info/20.0.13/767d51c1340bd893661ea55ea3124f6de3c7a262a8b4abca0554b478b1e2ff90.lock [DEBUG filelock:315]\r\n135 Lock 140599339565632 released on /home/asottile/.local/share/virtualenv/py_info/20.0.13/767d51c1340bd893661ea55ea3124f6de3c7a262a8b4abca0554b478b1e2ff90.lock [INFO filelock:318]\r\n135 proposed PathPythonInfo(spec=CPython2.7.17.final.0-64, exe=/usr/bin/python, platform=linux2, version='2.7.17 (default, Nov  7 2019, 10:07:09) \\n[GCC 7.4.0]', encoding_fs_io=UTF-8-None) [INFO builtin:50]\r\n135 discover PATH[6]=/sbin [DEBUG builtin:84]\r\n136 discover PATH[7]=/bin [DEBUG builtin:84]\r\n136 discover PATH[8]=/usr/games [DEBUG builtin:84]\r\n136 discover PATH[9]=/usr/local/games [DEBUG builtin:84]\r\nTraceback (most recent call last):\r\n  File \"/home/asottile/bin/virtualenv\", line 8, in <module>\r\n    sys.exit(run_with_catch())\r\n  File \"/home/asottile/opt/venv/lib/python3.6/site-packages/virtualenv/__main__.py\", line 51, in run_with_catch\r\n    run(args, options)\r\n  File \"/home/asottile/opt/venv/lib/python3.6/site-packages/virtualenv/__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"/home/asottile/opt/venv/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 27, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/home/asottile/opt/venv/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 35, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"/home/asottile/opt/venv/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 73, in build_parser\r\n    raise RuntimeError(\"failed to find interpreter for {}\".format(discover))\r\nRuntimeError: failed to find interpreter for Builtin discover of python_spec='python3.7m'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1744", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1744/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1744/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1744/events", "html_url": "https://github.com/pypa/virtualenv/issues/1744", "id": 585636390, "node_id": "MDU6SXNzdWU1ODU2MzYzOTA=", "number": 1744, "title": "Include venv_tools into programmatic API", "user": {"login": "aragilar", "id": 1281144, "node_id": "MDQ6VXNlcjEyODExNDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1281144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aragilar", "html_url": "https://github.com/aragilar", "followers_url": "https://api.github.com/users/aragilar/followers", "following_url": "https://api.github.com/users/aragilar/following{/other_user}", "gists_url": "https://api.github.com/users/aragilar/gists{/gist_id}", "starred_url": "https://api.github.com/users/aragilar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aragilar/subscriptions", "organizations_url": "https://api.github.com/users/aragilar/orgs", "repos_url": "https://api.github.com/users/aragilar/repos", "events_url": "https://api.github.com/users/aragilar/events{/privacy}", "received_events_url": "https://api.github.com/users/aragilar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-22T03:26:25Z", "updated_at": "2020-03-23T09:18:07Z", "closed_at": "2020-03-23T09:17:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Back in 2013/2014, I wrote a [wrapper around virtualenv/venv](https://venv-tools.readthedocs.io/en/latest/index.html) which added two bits of functionality: creating a temporary env (via tempfile + calls to either virtualenv or venv), and being able to run scripts/code within that env. The code still works, though with the recent improvements to virtualenv (wrapping venv, a real API), it might make sense to add this functionality to virtualenv. I'm happy to look at porting the code, and creating a PR, but I figured I should ask first if you would actually be interested in it.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1740", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1740/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1740/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1740/events", "html_url": "https://github.com/pypa/virtualenv/issues/1740", "id": 584589886, "node_id": "MDU6SXNzdWU1ODQ1ODk4ODY=", "number": 1740, "title": "stdout:     AttributeError: module 'virtualenv.create.via_global_ref.builtin.cpython.mac_os' has no attribute 'CPython3macOsFramework'", "user": {"login": "ssbarnea", "id": 102495, "node_id": "MDQ6VXNlcjEwMjQ5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssbarnea", "html_url": "https://github.com/ssbarnea", "followers_url": "https://api.github.com/users/ssbarnea/followers", "following_url": "https://api.github.com/users/ssbarnea/following{/other_user}", "gists_url": "https://api.github.com/users/ssbarnea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssbarnea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssbarnea/subscriptions", "organizations_url": "https://api.github.com/users/ssbarnea/orgs", "repos_url": "https://api.github.com/users/ssbarnea/repos", "events_url": "https://api.github.com/users/ssbarnea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssbarnea/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-19T17:48:15Z", "updated_at": "2020-04-16T00:03:39Z", "closed_at": "2020-03-19T19:02:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Apparently `virtualenv==20.0.10` got us a new breaking bug.\r\n```\r\ncentos-8 |     AttributeError: module 'virtualenv.create.via_global_ref.builtin.cpython.mac_os' has no attribute 'CPython3macOsFramework'\r\n```\r\nSomething really bad slipped into this release as I can see a macos related exception on a linux platform.\r\n\r\nExample: https://c549f30e8d3868372e7a-306bf88b8b0223e04364eb41d42ffe2c.ssl.cf5.rackcdn.com/713904/5/check/tripleo-ansible-centos-8-role-addition/3c03c6d/job-output.txt\r\n\r\nIf this really proves to be 20.0.10 regression, I would be happy to see it removed from pypi due to its nature.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1739", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1739/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1739/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1739/events", "html_url": "https://github.com/pypa/virtualenv/issues/1739", "id": 584502850, "node_id": "MDU6SXNzdWU1ODQ1MDI4NTA=", "number": 1739, "title": "Cant find Python.h inside a virtualenv", "user": {"login": "tzulberti", "id": 614799, "node_id": "MDQ6VXNlcjYxNDc5OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/614799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzulberti", "html_url": "https://github.com/tzulberti", "followers_url": "https://api.github.com/users/tzulberti/followers", "following_url": "https://api.github.com/users/tzulberti/following{/other_user}", "gists_url": "https://api.github.com/users/tzulberti/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzulberti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzulberti/subscriptions", "organizations_url": "https://api.github.com/users/tzulberti/orgs", "repos_url": "https://api.github.com/users/tzulberti/repos", "events_url": "https://api.github.com/users/tzulberti/events{/privacy}", "received_events_url": "https://api.github.com/users/tzulberti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-19T15:39:05Z", "updated_at": "2020-03-19T20:19:03Z", "closed_at": "2020-03-19T18:58:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nI try to install a package for python2 inside a virtualenv and the compilation fails mentioning that it can't find Python.h. \r\n\r\nBut, if I install the same package at the system level it can find that issue\r\n\r\nI tested this with the lastest virutalenv release (20.0.12)\r\n\r\n**Environment**\r\n\r\nYou can tests the build using this Dockerfile\r\n\r\n```\r\nFROM amazonlinux:1\r\n\r\nRUN yum -y install python27 python27-devel python36 python36-devel python27-pip git gcc\r\n\r\nRUN pip-3.6 install --upgrade virtualenv\r\n\r\nRUN cd /root && virtualenv --python python2.7 /tmp/bar\r\n\r\nRUN source /tmp/bar/bin/activate \\\r\n    && pip install cython numpy \\\r\n    && pip install cython-bbox\r\n ```\r\nAnd the error when building that dockerfile is:\r\n\r\n```\r\n    gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/tmp/bar/lib64/python2.7/site-packages/numpy/core/include -I/tmp/bar/include/python2.7 -c src/cython_bbox.c -o build/temp.linux-x86_64-2.7/src/cython_bbox.o -Wno-cpp\r\n    src/cython_bbox.c:26:20: fatal error: Python.h: No such file or directory\r\n     #include \"Python.h\"\r\n                        ^\r\n    compilation terminated.\r\n    error: command 'gcc' failed with exit status 1\r\n```\r\n\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n70 setup logging to NOTSET [DEBUG report:43]\r\n71 created app data folder /root/.local/share/virtualenv [DEBUG app_data:52]\r\n78 find interpreter for spec PythonSpec(implementation=CPython, major=2, minor=7) [INFO builtin:44]\r\n79 proposed PythonInfo(spec=CPython3.6.10.final.0-64, exe=/usr/bin/python3.6, platform=linux, version='3.6.10 (default, Feb 10 2020, 19:55:14) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=ascii-ANSI_X3.4-1968) [INFO builtin:50]\r\n79 discover PATH[0]=/usr/local/sbin [DEBUG builtin:84]\r\n79 filesystem is case-sensitive [DEBUG info:28]\r\n80 discover PATH[1]=/usr/local/bin [DEBUG builtin:84]\r\n80 discover PATH[2]=/usr/sbin [DEBUG builtin:84]\r\n81 discover PATH[3]=/usr/bin [DEBUG builtin:84]\r\n81 Attempting to acquire lock 139953546058720 on /root/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:270]\r\n81 Lock 139953546058720 acquired on /root/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:274]\r\n81 get interpreter info via cmd: /usr/bin/python2.7 /usr/local/lib/python3.6/site-packages/virtualenv/discovery/py_info.py [DEBUG cached_py_info:108]\r\n124 write PythonInfo to /root/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.json for /usr/bin/python2.7 [DEBUG cached_py_info:94]\r\n125 Attempting to release lock 139953546058720 on /root/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:315]\r\n125 Lock 139953546058720 released on /root/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:318]\r\n125 proposed PathPythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Feb 10 2020, 18:54:57) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=ANSI_X3.4-1968-None) [INFO builtin:50]\r\n125 accepted PathPythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Feb 10 2020, 18:54:57) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=ANSI_X3.4-1968-None) [DEBUG builtin:52]\r\n204 create virtual environment via CPython2Posix(dest=/tmp/bar, clear=False, global=False) [INFO session:52]\r\n204 no include folders as can't find include marker /usr/local/include/python2.7/Python.h [DEBUG cpython2:53]\r\n205 create folder /tmp/bar/bin [DEBUG _sync:21]\r\n205 create folder /tmp/bar/lib/python2.7/site-packages [DEBUG _sync:21]\r\n205 create folder /tmp/bar/lib64/python2.7/site-packages [DEBUG _sync:21]\r\n206 write /tmp/bar/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n206 \thome = /usr [DEBUG pyenv_cfg:38]\r\n206 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n206 \tversion_info = 2.7.16.final.0 [DEBUG pyenv_cfg:38]\r\n206 \tvirtualenv = 20.0.12 [DEBUG pyenv_cfg:38]\r\n206 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n206 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n206 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n206 \tbase-executable = /usr/bin/python2.7 [DEBUG pyenv_cfg:38]\r\n206 copy /usr/bin/python2.7 to /tmp/bar/bin/python [DEBUG _sync:48]\r\n207 symlink /usr/lib64/python2.7/os.py to /tmp/bar/lib64/python2.7/os.py [DEBUG _sync:40]\r\n207 symlink /usr/lib64/python2.7/os.pyc to /tmp/bar/lib64/python2.7/os.pyc [DEBUG _sync:40]\r\n207 symlink directory /usr/lib64/python2.7/lib-dynload to /tmp/bar/lib64/python2.7/lib-dynload [DEBUG _sync:40]\r\n208 create /tmp/bar/lib/python2.7/site-packages/_virtualenv.py [DEBUG api:78]\r\n208 create virtualenv import hook file /tmp/bar/lib/python2.7/site-packages/_virtualenv.pth [DEBUG api:81]\r\n208 ============================== target debug ============================== [DEBUG session:54]\r\n209 debug via /tmp/bar/bin/python /usr/local/lib/python3.6/site-packages/virtualenv/create/debug.py [DEBUG creator:187]\r\n208 {\r\n  \"sys\": {\r\n    \"executable\": \"/tmp/bar/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/tmp/bar\",\r\n    \"base_prefix\": \"/usr\",\r\n    \"real_prefix\": \"/usr\",\r\n    \"exec_prefix\": \"/tmp/bar\",\r\n    \"base_exec_prefix\": \"/usr\",\r\n    \"path\": [\r\n      \"/usr/lib/python27.zip\",\r\n      \"/usr/lib64/python2.7\",\r\n      \"/usr/lib64/python2.7/plat-linux2\",\r\n      \"/usr/lib64/python2.7/lib-tk\",\r\n      \"/usr/lib64/python2.7/lib-old\",\r\n      \"/usr/lib64/python2.7/lib-dynload\",\r\n      \"/tmp/bar/lib64/python2.7/site-packages\",\r\n      \"/tmp/bar/lib/python2.7/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._VirtualenvImporter'>\"\r\n    ],\r\n    \"fs_encoding\": \"ANSI_X3.4-1968\",\r\n    \"io_encoding\": null\r\n  },\r\n  \"version\": \"2.7.16 (default, Feb 10 2020, 18:54:57) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]\",\r\n  \"os\": \"<module 'os' from '/usr/lib64/python2.7/os.pyc'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib64/python2.7/site.pyc'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib64/python2.7/lib-dynload/datetime.so'>\",\r\n  \"math\": \"<module 'math' from '/usr/lib64/python2.7/lib-dynload/math.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/lib64/python2.7/json/__init__.pyc'>\"\r\n} [DEBUG session:55]\r\n233 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1) [INFO session:59]\r\n234 Attempting to acquire lock 139953453730056 on /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [DEBUG filelock:270]\r\n234 Lock 139953453730056 acquired on /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [INFO filelock:274]\r\n235 get bundled wheel /usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n235 get bundled wheel /usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/setuptools-44.0.0-py2.py3-none-any.whl [DEBUG acquire:51]\r\n235 get bundled wheel /usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n238 install wheel from wheel /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n239 install setuptools from wheel /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels/setuptools-44.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n239 build install image to /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any of wheel-0.34.2-py2.py3-none-any.whl [DEBUG base:57]\r\n239 install pip from wheel /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n239 build install image to /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any of setuptools-44.0.0-py2.py3-none-any.whl [DEBUG base:57]\r\n239 build install image to /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any of pip-20.0.2-py2.py3-none-any.whl [DEBUG base:57]\r\n262 changing mode of /tmp/tmph18mndm1/wheel-2.7 to 755 [INFO util:566]\r\n263 changing mode of /tmp/tmph18mndm1/wheel to 755 [INFO util:566]\r\n263 changing mode of /tmp/tmph18mndm1/wheel2 to 755 [INFO util:566]\r\n269 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /tmp/bar/lib/python2.7/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n274 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /tmp/bar/lib/python2.7/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n275 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /tmp/bar/lib/python2.7/site-packages/wheel [DEBUG _sync:48]\r\n288 changing mode of /tmp/bar/bin/wheel-2.7 to 755 [INFO util:566]\r\n289 changing mode of /tmp/bar/bin/wheel to 755 [INFO util:566]\r\n289 changing mode of /tmp/bar/bin/wheel2 to 755 [INFO util:566]\r\n289 generated console scripts wheel2 wheel-2.7 wheel [DEBUG base:53]\r\n316 changing mode of /tmp/tmp3hgjfz5o/easy_install-2.7 to 755 [INFO util:566]\r\n316 changing mode of /tmp/tmp3hgjfz5o/easy_install to 755 [INFO util:566]\r\n316 changing mode of /tmp/tmp3hgjfz5o/easy_install2 to 755 [INFO util:566]\r\n324 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.virtualenv to /tmp/bar/lib/python2.7/site-packages/setuptools-44.0.0.virtualenv [DEBUG _sync:48]\r\n325 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools to /tmp/bar/lib/python2.7/site-packages/setuptools [DEBUG _sync:48]\r\n348 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/pkg_resources to /tmp/bar/lib/python2.7/site-packages/pkg_resources [DEBUG _sync:48]\r\n352 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/easy_install.py to /tmp/bar/lib/python2.7/site-packages/easy_install.py [DEBUG _sync:48]\r\n353 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.dist-info to /tmp/bar/lib/python2.7/site-packages/setuptools-44.0.0.dist-info [DEBUG _sync:48]\r\n355 changing mode of /tmp/bar/bin/easy_install-2.7 to 755 [INFO util:566]\r\n356 changing mode of /tmp/bar/bin/easy_install to 755 [INFO util:566]\r\n356 changing mode of /tmp/bar/bin/easy_install2 to 755 [INFO util:566]\r\n356 generated console scripts easy_install2 easy_install easy_install-2.7 [DEBUG base:53]\r\n389 changing mode of /tmp/tmp1447pgjv/pip to 755 [INFO util:566]\r\n389 changing mode of /tmp/tmp1447pgjv/pip2 to 755 [INFO util:566]\r\n389 changing mode of /tmp/tmp1447pgjv/pip-2.7 to 755 [INFO util:566]\r\n389 changing mode of /tmp/tmp1447pgjv/pip2.7 to 755 [INFO util:566]\r\n415 copy /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /tmp/bar/lib/python2.7/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n416 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /tmp/bar/lib/python2.7/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n417 copy directory /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /tmp/bar/lib/python2.7/site-packages/pip [DEBUG _sync:48]\r\n470 changing mode of /tmp/bar/bin/pip to 755 [INFO util:566]\r\n470 changing mode of /tmp/bar/bin/pip2 to 755 [INFO util:566]\r\n470 changing mode of /tmp/bar/bin/pip-2.7 to 755 [INFO util:566]\r\n471 changing mode of /tmp/bar/bin/pip2.7 to 755 [INFO util:566]\r\n471 generated console scripts pip pip2 pip2.7 pip-2.7 [DEBUG base:53]\r\n471 Attempting to release lock 139953453730056 on /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [DEBUG filelock:315]\r\n471 Lock 139953453730056 released on /root/.local/share/virtualenv/seed-app-data/v1.0.1/2.7/wheels.lock [INFO filelock:318]\r\n471 add activators for Bash, CShell, Fish, PowerShell, Python [INFO session:65]\r\n473 write /tmp/bar/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n473 \thome = /usr [DEBUG pyenv_cfg:38]\r\n473 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n473 \tversion_info = 2.7.16.final.0 [DEBUG pyenv_cfg:38]\r\n473 \tvirtualenv = 20.0.12 [DEBUG pyenv_cfg:38]\r\n473 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n473 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n473 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n473 \tbase-executable = /usr/bin/python2.7 [DEBUG pyenv_cfg:38]\r\n473 created virtual environment CPython2.7.16.final.0-64 in 404ms\r\n  creator CPython2Posix(dest=/tmp/bar, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/root/.local/share/virtualenv/seed-app-data/v1.0.1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator [WARNING __main__:21]\r\n\r\n```\r\n\r\nThank you for the amazing work\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1738", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1738/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1738/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1738/events", "html_url": "https://github.com/pypa/virtualenv/issues/1738", "id": 584465070, "node_id": "MDU6SXNzdWU1ODQ0NjUwNzA=", "number": 1738, "title": "Can't create a python 2.7 environment", "user": {"login": "manthey", "id": 8781639, "node_id": "MDQ6VXNlcjg3ODE2Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/8781639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manthey", "html_url": "https://github.com/manthey", "followers_url": "https://api.github.com/users/manthey/followers", "following_url": "https://api.github.com/users/manthey/following{/other_user}", "gists_url": "https://api.github.com/users/manthey/gists{/gist_id}", "starred_url": "https://api.github.com/users/manthey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manthey/subscriptions", "organizations_url": "https://api.github.com/users/manthey/orgs", "repos_url": "https://api.github.com/users/manthey/repos", "events_url": "https://api.github.com/users/manthey/events{/privacy}", "received_events_url": "https://api.github.com/users/manthey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-19T14:45:41Z", "updated_at": "2020-03-19T20:05:46Z", "closed_at": "2020-03-19T18:53:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nIn an Ubuntu 18.04 docker environment, tox is trying to do `virtualenv --no-download --python /usr/bin/python2.7 py27`.  With virtualenv 20.0.10 this worked.  As of 20.0.11, this fails with an error:\r\n```\r\nTypeError: unsupported operand type(s) for /: 'tuple' and 'str'\r\n```\r\nIt should still work.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu 18.04\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage                       Version              Location                     \r\n----------------------------- -------------------- ----------------------------------\r\namqp                          2.5.2\r\nappdirs                       1.4.3\r\nattrs                         19.3.0\r\nbcrypt                        3.1.7\r\nbilliard                      3.6.3.0\r\nbleach                        3.1.3\r\nboto3                         1.12.24\r\nbotocore                      1.15.24\r\ncachetools                    4.0.0\r\ncelery                        4.4.2\r\ncertifi                       2019.11.28\r\ncffi                          1.14.0\r\nchardet                       3.0.4\r\ncheroot                       8.3.0\r\nCherryPy                      18.5.0\r\nclick                         7.1.1\r\nclick-plugins                 1.1.1\r\ncryptography                  2.8\r\nctk-cli                       1.5\r\ndecorator                     4.4.2\r\ndiskcache                     4.1.0\r\ndistlib                       0.3.0\r\ndocker                        4.2.0\r\ndocutils                      0.15.2\r\ndogpile.cache                 0.9.0\r\nfilelock                      3.0.12\r\nfusepy                        3.0.1\r\nGDAL                          3.1.0\r\ngirder                        3.0.11               /opt/girder                  \r\ngirder-archive-access         0.2.0\r\ngirder-client                 3.0.11               /opt/girder/clients/python   \r\ngirder-dicom-viewer           3.0.11\r\ngirder-homepage               3.0.11\r\ngirder-jobs                   3.0.11\r\ngirder-large-image            1.0.5.dev13+gc67ca6f /opt/large_image/girder      \r\ngirder-large-image-annotation 1.0.5.dev13+gc67ca6f /opt/large_image/girder_annotation\r\ngirder-ldap                   3.0.11\r\ngirder-resource-path-tools    1.0.1.dev2\r\ngirder-slicer-cli-web         1.0.2.dev28+g9db4a50 /opt/slicer_cli_web          \r\ngirder-virtual-folders        3.0.11\r\ngirder-worker                 0.6.1.dev23+g5810d1d /opt/girder_worker           \r\ngirder-worker-utils           0.8.7.dev2+g856849e  /opt/girder_worker_utils     \r\ngirder-xtk-demo               0.4.0\r\nGlymur                        0.9.1\r\nhistomicsui                   1.0.0.dev39+ga7d0e3f /opt/HistomicsUI             \r\nidna                          2.9\r\nimportlib-metadata            1.5.0\r\nimportlib-resources           1.4.0\r\njaraco.classes                3.1.0\r\njaraco.collections            3.0.0\r\njaraco.functools              3.0.0\r\njaraco.text                   3.2.0\r\njeepney                       0.4.3\r\nJinja2                        2.11.1\r\njmespath                      0.9.5\r\njsonpickle                    1.3\r\njsonschema                    3.2.0\r\nkeyring                       21.2.0\r\nkombu                         4.6.8\r\nlarge-image                   1.0.5.dev13+gc67ca6f /opt/large_image             \r\nlarge-image-source-dummy      1.0.5.dev13+gc67ca6f /opt/large_image/sources/dummy\r\nlarge-image-source-gdal       1.0.5.dev13+gc67ca6f /opt/large_image/sources/gdal\r\nlarge-image-source-mapnik     1.0.5.dev13+gc67ca6f /opt/large_image/sources/mapnik\r\nlarge-image-source-nd2        1.0.5.dev13+gc67ca6f /opt/large_image/sources/nd2 \r\nlarge-image-source-ometiff    1.0.5.dev13+gc67ca6f /opt/large_image/sources/ometiff\r\nlarge-image-source-openjpeg   1.0.5.dev13+gc67ca6f /opt/large_image/sources/openjpeg\r\nlarge-image-source-openslide  1.0.5.dev13+gc67ca6f /opt/large_image/sources/openslide\r\nlarge-image-source-pil        1.0.5.dev13+gc67ca6f /opt/large_image/sources/pil \r\nlarge-image-source-test       1.0.5.dev13+gc67ca6f /opt/large_image/sources/test\r\nlarge-image-source-tiff       1.0.5.dev13+gc67ca6f /opt/large_image/sources/tiff\r\nlarge-image-tasks             1.0.5.dev13+gc67ca6f /opt/large_image/tasks       \r\nlibtiff                       0.5.0\r\nlxml                          4.5.0\r\nMako                          1.1.2\r\nmapnik                        4.0.0\r\nMarkupSafe                    1.1.1\r\nmore-itertools                8.2.0\r\nnd2reader                     3.2.3\r\nnumpy                         1.18.2\r\nopenslide-python              1.1.1\r\npackaging                     20.3\r\npalettable                    3.3.0\r\npasslib                       1.7.2\r\npbr                           5.4.4\r\nPillow                        7.0.0\r\nPIMS                          0.4.1\r\npip                           20.0.2\r\npkg-resources                 0.0.0\r\npkgconfig                     1.5.1\r\npkginfo                       1.5.0.1\r\npluggy                        0.13.1\r\nportend                       2.6\r\npsutil                        5.7.0\r\npy                            1.8.1\r\npyasn1                        0.4.8\r\npyasn1-modules                0.2.8\r\npycparser                     2.20\r\npydicom                       1.4.2\r\nPygments                      2.6.1\r\npyldap                        3.0.0.post1\r\npylibmc                       1.6.1\r\npymongo                       3.10.1\r\npyOpenSSL                     19.1.0\r\npyparsing                     2.4.6\r\npyproj                        2.6.0\r\npyrsistent                    0.15.7\r\npython-dateutil               2.8.1\r\npython-ldap                   3.2.0\r\npytz                          2019.3\r\npyvips                        2.1.12\r\nPyYAML                        5.3.1\r\nreadme-renderer               25.0\r\nrequests                      2.23.0\r\nrequests-toolbelt             0.9.1\r\ns3transfer                    0.3.3\r\nSecretStorage                 3.1.2\r\nsetuptools                    46.0.0\r\nsetuptools-scm                3.5.0\r\nsix                           1.14.0\r\nslicerator                    1.0.0\r\nstevedore                     1.32.0\r\ntempora                       2.1.0\r\ntoml                          0.10.0\r\ntox                           3.14.5\r\ntqdm                          4.43.0\r\ntwine                         3.1.1\r\nujson                         2.0.2\r\nurllib3                       1.25.8\r\nvine                          1.3.0\r\nvirtualenv                    20.0.12\r\nwebencodings                  0.5.1\r\nwebsocket-client              0.57.0\r\nxmltodict                     0.12.0\r\nzc.lockfile                   2.0\r\nzipp                          3.1.0\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n306 setup logging to NOTSET [DEBUG report:43]\r\n375 find interpreter for spec PythonSpec(path=/usr/bin/python2.7) [INFO builtin:44]\r\n377 Attempting to acquire lock 139669810685880 on /home/ubuntu/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:270]\r\n378 Lock 139669810685880 acquired on /home/ubuntu/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:274]\r\n378 get PythonInfo from /home/ubuntu/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.json for /usr/bin/python2.7 [DEBUG cached_py_info:79]\r\n379 Attempting to release lock 139669810685880 on /home/ubuntu/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:315]\r\n380 Lock 139669810685880 released on /home/ubuntu/.local/share/virtualenv/py_info/20.0.12/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:318]\r\n380 proposed PythonInfo(spec=CPython2.7.17.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.17 (default, Nov  7 2019, 10:07:09) \\n[GCC 7.4.0]', encoding_fs_io=UTF-8-None) [INFO builtin:50]\r\n380 accepted PythonInfo(spec=CPython2.7.17.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.17 (default, Nov  7 2019, 10:07:09) \\n[GCC 7.4.0]', encoding_fs_io=UTF-8-None) [DEBUG builtin:52]\r\n383 filesystem is case-sensitive [DEBUG info:28]\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/__main__.py\", line 62, in <module>\r\n    run_with_catch()\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/__main__.py\", line 51, in run_with_catch\r\n    run(args, options)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 27, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 35, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 75, in build_parser\r\n    CreatorSelector(interpreter, parser),\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/run/plugin/creators.py\", line 15, in __init__\r\n    creators, self.key_to_meta, self.describe, self.builtin_key = self.for_interpreter(interpreter)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/run/plugin/creators.py\", line 25, in for_interpreter\r\n    meta = creator_class.can_create(interpreter)\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/create/via_global_ref/builtin/via_global_self_do.py\", line 33, in can_create\r\n    for src in cls.sources(interpreter):\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/create/via_global_ref/builtin/cpython/cpython2.py\", line 66, in sources\r\n    for src in super(CPython2Posix, cls).sources(interpreter):\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/create/via_global_ref/builtin/cpython/cpython2.py\", line 21, in sources\r\n    for src in super(CPython2, cls).sources(interpreter):\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/create/via_global_ref/builtin/python2/python2.py\", line 76, in sources\r\n    compiled_file, to_compiled, compiled_exists = cls.from_stdlib(mappings, \"{}.pyc\".format(req))\r\n  File \"/home/ubuntu/.virtualenvs/girder/lib/python3.6/site-packages/virtualenv/create/via_global_ref/builtin/python2/python2.py\", line 88, in from_stdlib\r\n    result = (mappings[0] / name, mappings[1], False)\r\nTypeError: unsupported operand type(s) for /: 'tuple' and 'str'\r\n```\r\n\r\nThe specific error looks like it was introduced in #1728 at https://github.com/pypa/virtualenv/blob/master/src/virtualenv/create/via_global_ref/builtin/python2/python2.py#L79-L85.  Specifically, this line (https://github.com/pypa/virtualenv/blob/master/src/virtualenv/create/via_global_ref/builtin/python2/python2.py#L85)\r\n```\r\n        return mappings[0] / name, mappings[1], False\r\n```\r\nshould probably be \r\n```\r\n        return mappings[0][0] / name, mappings[0][1], False\r\n```\r\nsince mappings are a list of tuples.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1735", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1735/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1735/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1735/events", "html_url": "https://github.com/pypa/virtualenv/issues/1735", "id": 584359227, "node_id": "MDU6SXNzdWU1ODQzNTkyMjc=", "number": 1735, "title": "[regression][20.0.11] RuntimeError: failed to find interpreter for Builtin discover of python_spec='.tox/bin/python'", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-19T11:55:17Z", "updated_at": "2020-03-19T12:18:23Z", "closed_at": "2020-03-19T12:18:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Issue**\r\n\r\nIt looks like the regression manifests itself when combined with tox.\r\nHere's a GitHub Actions log: https://github.com/ansible/ansible-lint/runs/518006247?check_suite_focus=true#step:7:13.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu and macOS @ GitHub Actions\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n  appdirs==1.4.3\r\n  distlib==0.3.0\r\n  filelock==3.0.12\r\n  importlib-metadata==1.5.0\r\n  importlib-resources==1.3.1\r\n  packaging==20.3\r\n  pip==20.0.2\r\n  pluggy==0.13.1\r\n  py==1.8.1\r\n  pyparsing==2.4.6\r\n  setuptools==28.8.0\r\n  six==1.14.0\r\n  toml==0.10.0\r\n  tox==3.14.5\r\n  virtualenv==20.0.11\r\n  zipp==1.2.0\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`: Not sure how to do this with tox.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1732", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1732/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1732/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1732/events", "html_url": "https://github.com/pypa/virtualenv/issues/1732", "id": 584011147, "node_id": "MDU6SXNzdWU1ODQwMTExNDc=", "number": 1732, "title": "Windows regression in v20.0.11", "user": {"login": "gregersrygg", "id": 149725, "node_id": "MDQ6VXNlcjE0OTcyNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/149725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregersrygg", "html_url": "https://github.com/gregersrygg", "followers_url": "https://api.github.com/users/gregersrygg/followers", "following_url": "https://api.github.com/users/gregersrygg/following{/other_user}", "gists_url": "https://api.github.com/users/gregersrygg/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregersrygg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregersrygg/subscriptions", "organizations_url": "https://api.github.com/users/gregersrygg/orgs", "repos_url": "https://api.github.com/users/gregersrygg/repos", "events_url": "https://api.github.com/users/gregersrygg/events{/privacy}", "received_events_url": "https://api.github.com/users/gregersrygg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-18T21:22:16Z", "updated_at": "2020-03-19T12:57:33Z", "closed_at": "2020-03-19T12:57:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nAfter virtualenv v20.0.11 the creation of a virtualenv fails on Windows Server 2019 (Github Actions runner). The virtualenv was successfully created an hour earlier, when virtualenv v20.0.10 was installed. The workflow is on a schedule every hour.\r\n\r\n**Environment**\r\n\r\n- OS: Windows Server 2019\r\n\r\nGitHub Actions windows-latest runner with Python 3.7. After major issues with the pip v20 release, I ended up using these steps to install pip and pipenv:\r\n\r\n```console\r\n    curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py\r\n    python get-pip.py pip==19.3.1\r\n    python -m pip install -I 'pipenv==2018.11.26'\r\n```\r\n\r\nSee [full workflow file for details](https://github.com/ExploratoryEngineering/nrf9160-telenor/blob/master/.github/workflows/main.yml). It should be easy to reproduce the error using this file.\r\n\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n  Package            Version   \r\n  ------------------ ----------\r\n  appdirs            1.4.3     \r\n  certifi            2019.11.28\r\n  distlib            0.3.0     \r\n  filelock           3.0.12    \r\n  importlib-metadata 1.5.0     \r\n  pip                20.0.2    \r\n  pipenv             2018.11.26\r\n  setuptools         46.0.0    \r\n  six                1.14.0    \r\n  virtualenv         20.0.11   \r\n  virtualenv-clone   0.5.3     \r\n  wheel              0.34.2    \r\n  zipp               3.1.0  \r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\n> Make sure to run the creation with `-vvv --with-traceback`:\r\n\r\nWe're not using virtualenv directly, but through pipenv. Here is the output of `pipenv -vv install`:\r\n\r\n```console\r\n2020-03-18T21:11:47.5089439Z Creating a virtualenv for this project\u00ef\u00bf\u00bd\r\n2020-03-18T21:11:47.5090081Z Pipfile: D:\\a\\nrf9160-telenor\\nrf9160-telenor\\Pipfile\r\n2020-03-18T21:11:47.5090601Z Using C:/hostedtoolcache/windows/Python/3.7.6/x64/python.exe (3.7.6) to create virtualenv\u00ef\u00bf\u00bd\r\n2020-03-18T21:11:47.5100996Z \r\n2020-03-18T21:11:47.6011928Z [    ] Creating virtual environment...\b\r\n2020-03-18T21:11:47.6962771Z [=   ] Creating virtual environment...\b\r\n2020-03-18T21:11:47.7215292Z [==  ] Creating virtual environment...RuntimeError: failed to find interpreter for Builtin discover of python_spec='C:/hostedtoolcache/windows/Python/3.7.6/x64/python.exe'\r\n2020-03-18T21:11:47.7215604Z \r\n2020-03-18T21:11:47.7900243Z \bFailed creating virtual environment \r\n2020-03-18T21:11:47.7901917Z Traceback (most recent call last):\r\n2020-03-18T21:11:47.7903634Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n2020-03-18T21:11:47.8001135Z     \"__main__\", mod_spec)\r\n2020-03-18T21:11:47.8001605Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\runpy.py\", line 85, in _run_code\r\n2020-03-18T21:11:47.8002315Z     exec(code, run_globals)\r\n2020-03-18T21:11:47.8002854Z   File \"C:\\hostedtoolcache\\windows\\Python\\3.7.6\\x64\\Scripts\\pipenv.exe\\__main__.py\", line 7, in <module>\r\n2020-03-18T21:11:47.8005711Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\core.py\", line 764, in __call__\r\n2020-03-18T21:11:47.8009680Z     return self.main(*args, **kwargs)\r\n2020-03-18T21:11:47.8010121Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\core.py\", line 717, in main\r\n2020-03-18T21:11:47.8012401Z     rv = self.invoke(ctx)\r\n2020-03-18T21:11:47.8012789Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\core.py\", line 1137, in invoke\r\n2020-03-18T21:11:47.8016429Z     return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n2020-03-18T21:11:47.8016856Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\core.py\", line 956, in invoke\r\n2020-03-18T21:11:47.8020600Z     return ctx.invoke(self.callback, **ctx.params)\r\n2020-03-18T21:11:47.8020995Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\core.py\", line 555, in invoke\r\n2020-03-18T21:11:47.8023975Z     return callback(*args, **kwargs)\r\n2020-03-18T21:11:47.8024351Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\decorators.py\", line 64, in new_func\r\n2020-03-18T21:11:47.8025920Z     return ctx.invoke(f, obj, *args, **kwargs)\r\n2020-03-18T21:11:47.8026725Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\core.py\", line 555, in invoke\r\n2020-03-18T21:11:47.8029283Z     return callback(*args, **kwargs)\r\n2020-03-18T21:11:47.8029826Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\vendor\\click\\decorators.py\", line 17, in new_func\r\n2020-03-18T21:11:47.8031215Z     return f(get_current_context(), *args, **kwargs)\r\n2020-03-18T21:11:47.8031662Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\cli\\command.py\", line 254, in install\r\n2020-03-18T21:11:47.8034076Z     editable_packages=state.installstate.editables,\r\n2020-03-18T21:11:47.8036207Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\core.py\", line 1741, in do_install\r\n2020-03-18T21:11:47.8044187Z     pypi_mirror=pypi_mirror,\r\n2020-03-18T21:11:47.8044694Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\core.py\", line 574, in ensure_project\r\n2020-03-18T21:11:47.8048414Z     pypi_mirror=pypi_mirror,\r\n2020-03-18T21:11:47.8049034Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\core.py\", line 506, in ensure_virtualenv\r\n2020-03-18T21:11:47.8052607Z     python=python, site_packages=site_packages, pypi_mirror=pypi_mirror\r\n2020-03-18T21:11:47.8053018Z   File \"c:\\hostedtoolcache\\windows\\python\\3.7.6\\x64\\lib\\site-packages\\pipenv\\core.py\", line 935, in do_create_virtualenv\r\n2020-03-18T21:11:47.8059141Z     extra=[crayons.blue(\"{0}\".format(c.err)),]\r\n2020-03-18T21:11:47.8059559Z pipenv.exceptions.VirtualenvCreationException: Failed to create virtual environment.\r\n2020-03-18T21:11:47.9453108Z ##[error]Process completed with exit code 1.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1726", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1726/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1726/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1726/events", "html_url": "https://github.com/pypa/virtualenv/issues/1726", "id": 582834758, "node_id": "MDU6SXNzdWU1ODI4MzQ3NTg=", "number": 1726, "title": "How to use virtualenv install python3.6 in Ubuntu19.10 whose default python version is 3.7?", "user": {"login": "appleyuchi", "id": 27613483, "node_id": "MDQ6VXNlcjI3NjEzNDgz", "avatar_url": "https://avatars1.githubusercontent.com/u/27613483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/appleyuchi", "html_url": "https://github.com/appleyuchi", "followers_url": "https://api.github.com/users/appleyuchi/followers", "following_url": "https://api.github.com/users/appleyuchi/following{/other_user}", "gists_url": "https://api.github.com/users/appleyuchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/appleyuchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/appleyuchi/subscriptions", "organizations_url": "https://api.github.com/users/appleyuchi/orgs", "repos_url": "https://api.github.com/users/appleyuchi/repos", "events_url": "https://api.github.com/users/appleyuchi/events{/privacy}", "received_events_url": "https://api.github.com/users/appleyuchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-17T08:16:56Z", "updated_at": "2020-03-17T11:04:09Z", "closed_at": "2020-03-17T08:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nDescribe what's the expected behaviour and what you're observing.\r\nI want python3.6 be installed with virtualenv,\r\nbut my system default support is python3.7\r\n\r\n**Environment**\r\nUbuntu19.10\r\n\r\n\u2460when we use virtualenv to create environment for python ,we need the support from system-python,\r\nsuch as:\r\nmkvirtualenv -p /usr/bin/python3.7 python3.7\r\nif we use python3.6 from tar.gz,it will fail.\r\n\r\n\u2461some package in virtualenv will be installed into fail if your system have no file \"Python.h\"\r\nthe solution is`apt install python3-dev`\r\nbut Ubuntu only has python3-dev(3.8)\r\n,not python3-dev(3.6)\r\n\r\nI really hope  virtualenv decompled from system python.\r\nHope to get your help,thanks\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1724", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1724/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1724/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1724/events", "html_url": "https://github.com/pypa/virtualenv/issues/1724", "id": 581782394, "node_id": "MDU6SXNzdWU1ODE3ODIzOTQ=", "number": 1724, "title": "deactivate.ps1 is missing", "user": {"login": "Halfbax", "id": 15744333, "node_id": "MDQ6VXNlcjE1NzQ0MzMz", "avatar_url": "https://avatars1.githubusercontent.com/u/15744333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Halfbax", "html_url": "https://github.com/Halfbax", "followers_url": "https://api.github.com/users/Halfbax/followers", "following_url": "https://api.github.com/users/Halfbax/following{/other_user}", "gists_url": "https://api.github.com/users/Halfbax/gists{/gist_id}", "starred_url": "https://api.github.com/users/Halfbax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Halfbax/subscriptions", "organizations_url": "https://api.github.com/users/Halfbax/orgs", "repos_url": "https://api.github.com/users/Halfbax/repos", "events_url": "https://api.github.com/users/Halfbax/events{/privacy}", "received_events_url": "https://api.github.com/users/Halfbax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-15T18:53:01Z", "updated_at": "2020-03-27T12:07:01Z", "closed_at": "2020-03-15T19:19:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "**What's the problem this feature will solve?**\r\ndeactivate.ps1 is missing\r\n\r\n**Describe the solution you'd like**\r\ndeactivate.ps1:\r\n```powershell\r\n$script:THIS_PATH = $myinvocation.mycommand.path\r\n$script:BASE_DIR = Split-Path (Resolve-Path \"$THIS_PATH/..\") -Parent\r\n\r\nfunction global:deactivate([switch] $NonDestructive) {\r\n    if (Test-Path variable:_OLD_VIRTUAL_PATH) {\r\n        $env:PATH = $variable:_OLD_VIRTUAL_PATH\r\n        Remove-Variable \"_OLD_VIRTUAL_PATH\" -Scope global\r\n    }\r\n\r\n    if (Test-Path function:_old_virtual_prompt) {\r\n        $function:prompt = $function:_old_virtual_prompt\r\n        Remove-Item function:\\_old_virtual_prompt\r\n    }\r\n\r\n    if ($env:VIRTUAL_ENV) {\r\n        Remove-Item env:VIRTUAL_ENV -ErrorAction SilentlyContinue\r\n    }\r\n\r\n    if (!$NonDestructive) {\r\n        # Self destruct!\r\n        Remove-Item function:deactivate\r\n        Remove-Item function:pydoc\r\n    }\r\n}\r\n\r\ndeactivate -nondestructive\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1723", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1723/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1723/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1723/events", "html_url": "https://github.com/pypa/virtualenv/issues/1723", "id": 581693441, "node_id": "MDU6SXNzdWU1ODE2OTM0NDE=", "number": 1723, "title": "pipx.y missing, instead pip-x.y present", "user": {"login": "earthgecko", "id": 96679, "node_id": "MDQ6VXNlcjk2Njc5", "avatar_url": "https://avatars1.githubusercontent.com/u/96679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/earthgecko", "html_url": "https://github.com/earthgecko", "followers_url": "https://api.github.com/users/earthgecko/followers", "following_url": "https://api.github.com/users/earthgecko/following{/other_user}", "gists_url": "https://api.github.com/users/earthgecko/gists{/gist_id}", "starred_url": "https://api.github.com/users/earthgecko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/earthgecko/subscriptions", "organizations_url": "https://api.github.com/users/earthgecko/orgs", "repos_url": "https://api.github.com/users/earthgecko/repos", "events_url": "https://api.github.com/users/earthgecko/events{/privacy}", "received_events_url": "https://api.github.com/users/earthgecko/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-15T14:21:17Z", "updated_at": "2020-03-19T09:13:16Z", "closed_at": "2020-03-18T09:04:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nIn virtualenv 20.0.10 at least when a virtualenv environment is created the naming convention of the pip major version file has changed.\r\n\r\nIn 16.7.x there was `pip3.7` in 20.0.2 this has changed to `pip-3.7` although there is still `pip3` in both, in terms of automation patterns that provision multiple environments and builds there may be many build dependencies that use the `pip${MAJOR_VERSION}` pattern.\r\n\r\nPerhaps adding a symlink to honour the older naming convention may prevent many people spending many hours debugging.\r\n\r\n**Environment**\r\n\r\n- OS: CentOS 8\r\n- OS Python: Python 3.6.8\r\n- python interpretor being used for the virtualenv is Python 3.7.6 compiled from source.\r\n- System pip list\r\n\r\n```\r\npip list --format=columns\r\n\r\nPackage             Version\r\n------------------- -------\r\nappdirs             1.4.3\r\nasn1crypto          0.24.0\r\ncffi                1.11.5\r\nconfigobj           5.0.6\r\ncryptography        2.3\r\ndbus-python         1.2.4\r\ndecorator           4.2.1\r\ndistlib             0.3.0\r\nfilelock            3.0.12\r\ngpg                 1.10.0\r\nidna                2.5\r\nimportlib-metadata  1.5.0\r\nimportlib-resources 1.3.1\r\niniparse            0.4\r\nisc                 2.0\r\nnetifaces           0.10.6\r\npciutils            2.3.6\r\nperf                0.1\r\npip                 9.0.3\r\nply                 3.9\r\npycparser           2.14\r\npygobject           3.28.3\r\npyOpenSSL           18.0.0\r\npyparsing           2.1.10\r\npython-dateutil     2.6.1\r\npython-dmidecode    3.12.2\r\npython-linux-procfs 0.6\r\npyudev              0.21.0\r\nrhnlib              2.8.6\r\nrpm                 4.14.2\r\nschedutils          0.6\r\nselinux             2.9\r\nsepolicy            1.1\r\nsetools             4.2.2\r\nsetuptools          39.2.0\r\nsix                 1.11.0\r\nslip                0.6.4\r\nslip.dbus           0.6.4\r\nsyspurpose          1.25.17\r\nzipp                3.1.0\r\n```\r\n\r\n**Reproduce**\r\n\r\n```\r\ncd /opt\r\npip install virtualenv==20.0.10\r\n\r\npip list --format=columns | grep virtualenv\r\nvirtualenv          20.0.10\r\n\r\nvirtualenv --python=/opt/python_virtualenv/versions/3.7.6/bin/python3.7 venv_20.0.10\r\n\r\nls -al /opt/venv_20.0.10/bin | grep pip\r\n-rwxr-xr-x. 1 root root  233 Mar 15 14:08 pip\r\n-rwxr-xr-x. 1 root root  233 Mar 15 14:08 pip3\r\n-rwxr-xr-x. 1 root root  233 Mar 15 14:08 pip-3.7\r\n\r\npip uninstall virtualenv\r\npip install virtualenv==16.7.10\r\nvirtualenv --python=/opt/python_virtualenv/versions/3.7.6/bin/python3.7 venv_16.7.10\r\n\r\nls -al /opt/venv_16.7.10/bin | grep pip\r\n-rwxr-xr-x. 1 root root      236 Mar 15 14:10 pip\r\n-rwxr-xr-x. 1 root root      236 Mar 15 14:10 pip3\r\n-rwxr-xr-x. 1 root root      236 Mar 15 14:10 pip3.7\r\n```\r\n\r\n```\r\nls -al /opt/venv_20.0.10/bin\r\ntotal 68\r\ndrwxr-xr-x. 2 root root 4096 Mar 15 14:08 .\r\ndrwxr-xr-x. 4 root root 4096 Mar 15 14:08 ..\r\n-rw-r--r--. 1 root root 2206 Mar 15 14:08 activate\r\n-rw-r--r--. 1 root root 1425 Mar 15 14:08 activate.csh\r\n-rw-r--r--. 1 root root 3056 Mar 15 14:08 activate.fish\r\n-rw-r--r--. 1 root root 1751 Mar 15 14:08 activate.ps1\r\n-rw-r--r--. 1 root root 1199 Mar 15 14:08 activate_this.py\r\n-rw-r--r--. 1 root root 1147 Mar 15 14:08 activate.xsh\r\n-rwxr-xr-x. 1 root root  242 Mar 15 14:08 easy_install\r\n-rwxr-xr-x. 1 root root  242 Mar 15 14:08 easy_install3\r\n-rwxr-xr-x. 1 root root  242 Mar 15 14:08 easy_install-3.7\r\n-rwxr-xr-x. 1 root root  233 Mar 15 14:08 pip\r\n-rwxr-xr-x. 1 root root  233 Mar 15 14:08 pip3\r\n-rwxr-xr-x. 1 root root  233 Mar 15 14:08 pip-3.7\r\nlrwxrwxrwx. 1 root root   51 Mar 15 14:08 python -> /opt/python_virtualenv/versions/3.7.6/bin/python3.7\r\nlrwxrwxrwx. 1 root root    6 Mar 15 14:08 python3 -> python\r\nlrwxrwxrwx. 1 root root    6 Mar 15 14:08 python3.7 -> python\r\n-rwxr-xr-x. 1 root root  220 Mar 15 14:08 wheel\r\n-rwxr-xr-x. 1 root root  220 Mar 15 14:08 wheel3\r\n-rwxr-xr-x. 1 root root  220 Mar 15 14:08 wheel-3.7\r\n\r\n\r\nls -al /opt/venv_16.7.10/bin\r\ntotal 15360\r\ndrwxr-xr-x. 2 root root     4096 Mar 15 14:10 .\r\ndrwxr-xr-x. 5 root root     4096 Mar 15 14:10 ..\r\n-rw-r--r--. 1 root root     2206 Mar 15 14:10 activate\r\n-rw-r--r--. 1 root root     1425 Mar 15 14:10 activate.csh\r\n-rw-r--r--. 1 root root     3090 Mar 15 14:10 activate.fish\r\n-rw-r--r--. 1 root root     1751 Mar 15 14:10 activate.ps1\r\n-rw-r--r--. 1 root root     1517 Mar 15 14:10 activate_this.py\r\n-rw-r--r--. 1 root root     1147 Mar 15 14:10 activate.xsh\r\n-rwxr-xr-x. 1 root root      245 Mar 15 14:10 easy_install\r\n-rwxr-xr-x. 1 root root      245 Mar 15 14:10 easy_install-3.7\r\n-rwxr-xr-x. 1 root root      236 Mar 15 14:10 pip\r\n-rwxr-xr-x. 1 root root      236 Mar 15 14:10 pip3\r\n-rwxr-xr-x. 1 root root      236 Mar 15 14:10 pip3.7\r\nlrwxrwxrwx. 1 root root        9 Mar 15 14:10 python -> python3.7\r\nlrwxrwxrwx. 1 root root        9 Mar 15 14:10 python3 -> python3.7\r\n-rwxr-xr-x. 1 root root 15664944 Mar 15 14:10 python3.7\r\n-rwxr-xr-x. 1 root root     2335 Mar 15 14:10 python-config\r\n-rwxr-xr-x. 1 root root      223 Mar 15 14:10 wheel\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1722", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1722/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1722/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1722/events", "html_url": "https://github.com/pypa/virtualenv/issues/1722", "id": 581682442, "node_id": "MDU6SXNzdWU1ODE2ODI0NDI=", "number": 1722, "title": "OS Error 9 when trying to create a virtual env for a specific python version", "user": {"login": "ShaleenAg", "id": 44058516, "node_id": "MDQ6VXNlcjQ0MDU4NTE2", "avatar_url": "https://avatars1.githubusercontent.com/u/44058516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShaleenAg", "html_url": "https://github.com/ShaleenAg", "followers_url": "https://api.github.com/users/ShaleenAg/followers", "following_url": "https://api.github.com/users/ShaleenAg/following{/other_user}", "gists_url": "https://api.github.com/users/ShaleenAg/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShaleenAg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShaleenAg/subscriptions", "organizations_url": "https://api.github.com/users/ShaleenAg/orgs", "repos_url": "https://api.github.com/users/ShaleenAg/repos", "events_url": "https://api.github.com/users/ShaleenAg/events{/privacy}", "received_events_url": "https://api.github.com/users/ShaleenAg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-15T13:49:43Z", "updated_at": "2020-03-16T08:56:16Z", "closed_at": "2020-03-16T08:55:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nwhenever I try to create a virtual environment for a specific version of python (3.6.0 in this case) . I \r\nget the following error \r\n\r\ncode : \r\n    virtualenv -p C:\\Users\\Shaleen\\AppData\\Local\\Programs\\Python\\Python36\\python.exe venv\r\noutput:- \r\n    OSError: [Errno 9] Bad file descriptor\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Win10\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\nPackage                  Version\r\n------------------------ ------------------\r\nabsl-py                  0.8.1\r\naiofiles                 0.4.0\r\naiohttp                  3.6.2\r\nappdirs                  1.4.3\r\nAPScheduler              3.6.3\r\nastor                    0.8.0\r\nasync-generator          1.10\r\nasync-timeout            3.0.1\r\nattrs                    19.3.0\r\nAutomat                  0.8.0\r\nbackcall                 0.1.0\r\nbert                     2.2.0\r\nbert-dp                  1.0\r\nbleach                   3.1.0\r\nboto3                    1.11.0\r\nbotocore                 1.14.0\r\nbz2file                  0.98\r\ncachetools               3.1.1\r\ncertifi                  2019.9.11\r\ncffi                     1.13.1\r\nchardet                  3.0.4\r\nClick                    7.0\r\ncloudpickle              1.2.2\r\ncolorama                 0.4.1\r\ncolorclass               2.2.0\r\ncoloredlogs              10.0\r\ncolorhash                1.0.2\r\nConfigArgParse           1.0\r\nconstantly               15.1.0\r\ncryptography             2.8\r\ncssselect                1.1.0\r\ncycler                   0.10.0\r\nCython                   0.29.12\r\nDAWG-Python              0.7.2\r\ndecorator                4.4.0\r\ndeeppavlov               0.7.1\r\ndefusedxml               0.6.0\r\ndill                     0.3.1.1\r\ndistlib                  0.3.0\r\ndnspython                1.16.0\r\ndocopt                   0.6.2\r\ndocutils                 0.15.2\r\ndopamine-rl              3.0.1\r\nentrypoints              0.3\r\nerlastic                 2.0.0\r\nfastapi                  0.38.1\r\nfbmessenger              6.0.0\r\nfilelock                 3.0.12\r\nFlask                    1.1.1\r\nfuture                   0.18.2\r\nfuzzywuzzy               0.17.0\r\ngast                     0.2.2\r\ngevent                   1.4.0\r\ngin-config               0.3.0\r\ngoogle-api-python-client 1.7.11\r\ngoogle-auth              1.6.3\r\ngoogle-auth-httplib2     0.0.3\r\ngoogle-auth-oauthlib     0.4.1\r\ngoogle-pasta             0.1.7\r\ngoogleapis-common-protos 1.6.0\r\ngraphviz                 0.8.4\r\ngreenlet                 0.4.15\r\ngrpcio                   1.24.3\r\ngunicorn                 20.0.4\r\ngym                      0.15.4\r\nh11                      0.8.1\r\nh2                       3.1.1\r\nh5py                     2.9.0\r\nhpack                    3.0.0\r\nhttpcore                 0.3.0\r\nhttplib2                 0.15.0\r\nhttptools                0.0.13\r\nhumanfriendly            4.18\r\nhyperframe               5.2.0\r\nhyperlink                19.0.0\r\nidna                     2.8\r\nimageio                  2.5.0\r\nimportlib-metadata       0.23\r\nincremental              17.5.0\r\nipykernel                5.1.3\r\nipython                  7.9.0\r\nipython-genutils         0.2.0\r\nipywidgets               7.5.1\r\nitsdangerous             1.1.0\r\njedi                     0.15.1\r\nJinja2                   2.10.3\r\njmespath                 0.9.4\r\njoblib                   0.14.0\r\njsonpickle               1.2\r\njsonschema               3.1.1\r\njupyter                  1.0.0\r\njupyter-client           5.3.4\r\njupyter-console          6.0.0\r\njupyter-core             4.6.1\r\nKeras                    2.2.4\r\nKeras-Applications       1.0.8\r\nKeras-Preprocessing      1.1.0\r\nkfac                     0.2.0\r\nkiwisolver               1.1.0\r\nlxml                     4.4.2\r\nMarkdown                 3.1.1\r\nMarkupSafe               1.1.1\r\nmatplotlib               3.1.1\r\nmattermostwrapper        2.1\r\nmesh-tensorflow          0.1.9\r\nmistune                  0.8.4\r\nmore-itertools           7.2.0\r\nmpmath                   1.1.0\r\nmultidict                4.6.1\r\nmxnet                    1.4.1\r\nmysql                    0.0.2\r\nmysql-connector-python   8.0.17\r\nmysqlclient              1.4.5\r\nnbconvert                5.6.1\r\nnbformat                 4.4.0\r\nnetworkx                 2.3\r\nnltk                     3.2.5\r\nnotebook                 6.0.2\r\nnumpy                    1.16.4\r\noauth2client             4.1.3\r\noauthlib                 3.1.0\r\nopencv-python            4.1.1.26\r\nopt-einsum               3.1.0\r\noverrides                1.9\r\npackaging                19.2\r\npandas                   0.24.2\r\npandocfilters            1.4.2\r\nparsel                   1.5.2\r\nparso                    0.5.1\r\npickleshare              0.7.5\r\npika                     1.0.1\r\nPillow                   6.1.0\r\npip                      19.3.1\r\nprogressbar2             3.39.3\r\nprometheus-client        0.7.1\r\npromise                  2.3\r\nprompt-toolkit           2.0.10\r\nProtego                  0.1.15\r\nprotobuf                 3.10.0\r\npyasn1                   0.4.7\r\npyasn1-modules           0.2.7\r\npycparser                2.19\r\npydantic                 0.32.2\r\nPyDispatcher             2.0.5\r\npydot                    1.4.1\r\npyglet                   1.3.2\r\nPygments                 2.4.2\r\nPyHamcrest               1.9.0\r\nPyJWT                    1.7.1\r\npykwalify                1.7.0\r\npymongo                  3.10.1\r\npymorphy2                0.8\r\npymorphy2-dicts          2.4.393442.3710985\r\npymorphy2-dicts-ru       2.4.404381.4453942\r\npyOpenSSL                19.0.0\r\npyparsing                2.4.0\r\npypng                    0.0.20\r\npyreadline               2.1\r\npyrsistent               0.15.5\r\npyTelegramBotAPI         3.6.6\r\npytesseract              0.3.0\r\npython-crfsuite          0.9.6\r\npython-dateutil          2.8.0\r\npython-engineio          3.11.2\r\npython-socketio          4.4.0\r\npython-telegram-bot      11.1.0\r\npython-utils             2.3.0\r\npytz                     2019.1\r\npyvips                   2.1.8\r\nPyWavelets               1.0.3\r\npywin32                  225\r\npywinpty                 0.5.5\r\nPyYAML                   5.1.1\r\npyzmq                    18.1.0\r\nqtconsole                4.6.0\r\nquestionary              1.4.0\r\nqueuelib                 1.5.0\r\nrasa                     1.6.1\r\nrasa-sdk                 1.6.1\r\nredis                    3.3.11\r\nrequests                 2.22.0\r\nrequests-async           0.5.0\r\nrequests-oauthlib        1.2.0\r\nrequests-toolbelt        0.9.1\r\nrfc3986                  1.3.2\r\nrocketchat-API           0.6.36\r\nrsa                      4.0\r\nruamel.yaml              0.15.100\r\nrusenttokenize           0.0.5\r\ns3transfer               0.3.0\r\nsanic                    19.9.0\r\nSanic-Cors               0.9.9.post1\r\nsanic-jwt                1.4.0\r\nSanic-Plugins-Framework  0.8.2.post1\r\nscikit-image             0.15.0\r\nscikit-learn             0.21.2\r\nscipy                    1.3.0\r\nScrapy                   1.8.0\r\nseaborn                  0.9.0\r\nSend2Trash               1.5.0\r\nservice-identity         18.1.0\r\nsetuptools               41.6.0\r\nsix                      1.12.0\r\nsklearn-crfsuite         0.3.6\r\nslackclient              1.3.2\r\nSQLAlchemy               1.3.12\r\nstarlette                0.12.8\r\nsugartensor              1.0.0.2\r\nsympy                    1.5.1\r\ntabulate                 0.8.6\r\ntensor2tensor            1.14.1\r\ntensorboard              1.14.0\r\ntensorflow               1.15.0\r\ntensorflow-datasets      1.3.2\r\ntensorflow-estimator     1.14.0\r\ntensorflow-gan           2.0.0\r\ntensorflow-gpu           1.14.0\r\ntensorflow-hub           0.7.0\r\ntensorflow-metadata      0.21.0\r\ntensorflow-probability   0.7.0\r\ntensorlayer              2.1.0\r\ntermcolor                1.1.0\r\nterminado                0.8.2\r\nterminaltables           3.1.0\r\ntesseract                0.1.3\r\ntestpath                 0.4.4\r\nTheano                   1.0.4\r\ntornado                  6.0.3\r\ntqdm                     4.32.2\r\ntraitlets                4.3.3\r\ntwilio                   6.35.2\r\nTwisted                  19.10.0\r\ntzlocal                  2.0.0\r\nuritemplate              3.0.1\r\nurllib3                  1.25.6\r\nuvicorn                  0.9.0\r\nvirtualenv               20.0.10\r\nw3lib                    1.21.0\r\nwcwidth                  0.1.7\r\nwebencodings             0.5.1\r\nwebexteamssdk            1.2\r\nwebsocket-client         0.54.0\r\nwebsockets               8.1\r\nWerkzeug                 0.16.0\r\nwheel                    0.33.6\r\nwidgetsnbextension       3.5.1\r\nwrapt                    1.11.2\r\nxlrd                     1.2.0\r\nyarl                     1.4.2\r\nzipp                     0.6.0\r\nzope.interface           4.7.1\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n\r\n```console\r\n\r\n528 setup logging to NOTSET [DEBUG report:43]\r\n529 could not create app data folder C:\\Users\\Shaleen\\AppData\\Local\\pypa\\virtualenv due to FileNotFoundError(2, 'The system cannot find the path specified') [INFO app_data:54]\r\n658 created temporary app data folder D:\\Temporary\\temp1\\tmpgx5dfvso [DEBUG app_data:32]\r\n658 find interpreter for spec PythonSpec(path=C:\\Users\\Shaleen\\AppData\\Local\\Programs\\Python\\Python36\\python.exe) [INFO builtin:44]\r\n659 Attempting to acquire lock 2426337143608 on D:\\Temporary\\temp1\\tmpgx5dfvso\\py_info\\20.0.10\\62d096c24dd080dd59c18a8bcc978f1f90dd8322c13b0cc3bae1e262ea8ffa6c.lock [DEBUG filelock:270]\r\n660 Lock 2426337143608 acquired on D:\\Temporary\\temp1\\tmpgx5dfvso\\py_info\\20.0.10\\62d096c24dd080dd59c18a8bcc978f1f90dd8322c13b0cc3bae1e262ea8ffa6c.lock [INFO filelock:274]\r\n660 get interpreter info via cmd: 'C:\\Users\\Shaleen\\AppData\\Local\\Programs\\Python\\Python36\\python.exe' 'c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\py_info.py' [DEBUG cached_py_info:105]\r\n1013 write PythonInfo to D:\\Temporary\\temp1\\tmpgx5dfvso\\py_info\\20.0.10\\62d096c24dd080dd59c18a8bcc978f1f90dd8322c13b0cc3bae1e262ea8ffa6c.json for C:\\Users\\Shaleen\\AppData\\Local\\Programs\\Python\\Python36\\python.exe [DEBUG cached_py_info:91]\r\n1148 Attempting to release lock 2426337143608 on D:\\Temporary\\temp1\\tmpgx5dfvso\\py_info\\20.0.10\\62d096c24dd080dd59c18a8bcc978f1f90dd8322c13b0cc3bae1e262ea8ffa6c.lock [DEBUG filelock:315]\r\n1148 Lock 2426337143608 released on D:\\Temporary\\temp1\\tmpgx5dfvso\\py_info\\20.0.10\\62d096c24dd080dd59c18a8bcc978f1f90dd8322c13b0cc3bae1e262ea8ffa6c.lock [INFO filelock:318]\r\nOSError: [Errno 9] Bad file descriptor\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\Shaleen\\AppData\\Local\\Programs\\Python\\Python37\\Scripts\\virtualenv.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\__main__.py\", line 50, in run_with_catch\r\n    run(args, options)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\run\\__init__.py\", line 27, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\run\\__init__.py\", line 35, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\run\\__init__.py\", line 71, in build_parser\r\n    parser._interpreter = interpreter = discover.interpreter\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\discover.py\", line 44, in interpreter\r\n    self._interpreter = self.run()\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\builtin.py\", line 33, in run\r\n    return get_interpreter(self.python_spec, self.app_data.folder)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\builtin.py\", line 46, in get_interpreter\r\n    for interpreter, impl_must_match in propose_interpreters(spec, app_data):\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\builtin.py\", line 60, in propose_interpreters\r\n    yield PythonInfo.from_exe(spec.path, app_data), True\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\py_info.py\", line 290, in from_exe\r\n    proposed = from_exe(cls, app_data, exe, raise_on_error=raise_on_error, ignore_cache=ignore_cache)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\cached_py_info.py\", line 32, in from_exe\r\n    result = _get_from_cache(cls, py_info_cache, app_data, exe, ignore_cache=ignore_cache)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\cached_py_info.py\", line 56, in _get_from_cache\r\n    py_info = _get_via_file_cache(cls, py_info_cache, app_data, exe_path, exe)\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\virtualenv\\discovery\\cached_py_info.py\", line 92, in _get_via_file_cache\r\n    data_file_path.write_text(ensure_text(json.dumps(file_cache_content, indent=2)))\r\n  File \"c:\\users\\shaleen\\appdata\\local\\programs\\python\\python37\\lib\\pathlib.py\", line 1219, in write_text\r\n    return f.write(data)\r\nOSError: [Errno 9] Bad file descriptor\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1721", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1721/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1721/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1721/events", "html_url": "https://github.com/pypa/virtualenv/issues/1721", "id": 580525021, "node_id": "MDU6SXNzdWU1ODA1MjUwMjE=", "number": 1721, "title": "selftesting fails on openSUSE", "user": {"login": "scarabeusiv", "id": 1055830, "node_id": "MDQ6VXNlcjEwNTU4MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1055830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scarabeusiv", "html_url": "https://github.com/scarabeusiv", "followers_url": "https://api.github.com/users/scarabeusiv/followers", "following_url": "https://api.github.com/users/scarabeusiv/following{/other_user}", "gists_url": "https://api.github.com/users/scarabeusiv/gists{/gist_id}", "starred_url": "https://api.github.com/users/scarabeusiv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scarabeusiv/subscriptions", "organizations_url": "https://api.github.com/users/scarabeusiv/orgs", "repos_url": "https://api.github.com/users/scarabeusiv/repos", "events_url": "https://api.github.com/users/scarabeusiv/events{/privacy}", "received_events_url": "https://api.github.com/users/scarabeusiv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-13T10:57:33Z", "updated_at": "2020-03-19T09:13:07Z", "closed_at": "2020-03-18T19:10:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When building updated package for 2.0.10 the test_create_no seed with some options fails on python3 (seem not to be run under py2):\r\n\r\n```\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[root-venv-copies-isolated]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[root-venv-copies-global]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[root-venv-symlinks-isolated]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[root-venv-symlinks-global]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[venv-venv-copies-isolated]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[venv-venv-copies-global]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[venv-venv-symlinks-isolated]\r\n[  158s] FAILED tests/unit/create/test_creator.py::test_create_no_seed[venv-venv-symlinks-global]\r\n```\r\n\r\nFull build log: \r\n[buildlog.txt](https://github.com/pypa/virtualenv/files/4329103/buildlog.txt)\r\n\r\n\r\nAlso there are 4 build failures on both py2 and py3:\r\n```\r\n[   77s] FAILED tests/unit/create/test_creator.py::test_create_distutils_cfg[cpython2-posix]\r\n[   77s] FAILED tests/unit/create/test_interpreters.py::test_failed_to_find_implementation[/usr/bin/python2]\r\n[   77s] FAILED tests/unit/discovery/py_info/test_py_info.py::test_py_info_cache_clear\r\n[   77s] FAILED tests/unit/discovery/py_info/test_py_info.py::test_py_info_cached_symlink\r\n```\r\n\r\nFull build log of that one (previous one has them skipped to see the other ones):\r\n[buildlog.txt](https://github.com/pypa/virtualenv/files/4329122/buildlog.txt)\r\n\r\nAny idea if there is something really borked or if it is safe to ignore these in our build enviroment?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1719", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1719/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1719/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1719/events", "html_url": "https://github.com/pypa/virtualenv/issues/1719", "id": 580189976, "node_id": "MDU6SXNzdWU1ODAxODk5NzY=", "number": 1719, "title": "Invalid pip installation after creating virtualenv", "user": {"login": "tzulberti", "id": 614799, "node_id": "MDQ6VXNlcjYxNDc5OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/614799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzulberti", "html_url": "https://github.com/tzulberti", "followers_url": "https://api.github.com/users/tzulberti/followers", "following_url": "https://api.github.com/users/tzulberti/following{/other_user}", "gists_url": "https://api.github.com/users/tzulberti/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzulberti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzulberti/subscriptions", "organizations_url": "https://api.github.com/users/tzulberti/orgs", "repos_url": "https://api.github.com/users/tzulberti/repos", "events_url": "https://api.github.com/users/tzulberti/events{/privacy}", "received_events_url": "https://api.github.com/users/tzulberti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-12T20:04:44Z", "updated_at": "2020-03-19T09:12:57Z", "closed_at": "2020-03-18T08:20:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nI created a Python 2.7 virtualenv, and when I try to use pip inside the virtualenv I got an error:\r\n\r\n```console\r\n$ virtualenv --python python2.7 /tmp/bar\r\ncreated virtual environment CPython2.7.16.final.0-64 in 257ms\r\n  creator CPython2Posix(dest=/tmp/bar, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/tmp/tmpl2wpmzv9/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator\r\n$ source /tmp/bar/bin/activate\r\n(bar) $ pip\r\npip      pip2     pip-2.7  pip-3.6  \r\n(bar) $ pip\r\nTraceback (most recent call last):\r\n  File \"/tmp/bar/bin/pip\", line 5, in <module>\r\n    from pip._internal.cli.main import main\r\nImportError: No module named _internal.cli.main\r\n```\r\n\r\nIf I run pip-2.7 outside the virtulenv, everything seems to be working fine:\r\n\r\n```console\r\n$ pip-2.7 --version\r\npip 9.0.3 from /usr/lib/python2.7/dist-packages (python 2.7)\r\n```\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS:\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n$ virtualenv --version\r\nvirtualenv 20.0.10 from /usr/local/lib/python3.6/site-packages/virtualenv/__init__.py\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ virtualenv -vvv --with-traceback --python python2.7 /tmp/bar2\r\n\r\n52 could not create app data folder /home/foobar/.local/share/virtualenv due to FileNotFoundError(2, 'No such file or directory') [INFO app_data:54]\r\n62 created temporary app data folder /tmp/tmpiielo21j [DEBUG app_data:32]\r\n62 find interpreter for spec PythonSpec(implementation=CPython, major=2, minor=7) [INFO builtin:44]\r\n63 proposed PythonInfo(spec=CPython3.6.10.final.0-64, exe=/usr/bin/python3.6, platform=linux, version='3.6.10 (default, Feb 10 2020, 19:55:14) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n63 discover PATH[0]=/usr/local/bin [DEBUG builtin:77]\r\n63 filesystem is case-sensitive [DEBUG info:28]\r\n63 discover PATH[1]=/bin [DEBUG builtin:77]\r\n63 discover PATH[2]=/usr/bin [DEBUG builtin:77]\r\n63 Attempting to acquire lock 140256138179752 on /tmp/tmpiielo21j/py_info/20.0.10/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:270]\r\n64 Lock 140256138179752 acquired on /tmp/tmpiielo21j/py_info/20.0.10/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:274]\r\n64 get interpreter info via cmd: /usr/bin/python2.7 /usr/local/lib/python3.6/site-packages/virtualenv/discovery/py_info.py [DEBUG cached_py_info:105]\r\n91 write PythonInfo to /tmp/tmpiielo21j/py_info/20.0.10/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.json for /usr/bin/python2.7 [DEBUG cached_py_info:91]\r\n92 Attempting to release lock 140256138179752 on /tmp/tmpiielo21j/py_info/20.0.10/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:315]\r\n92 Lock 140256138179752 released on /tmp/tmpiielo21j/py_info/20.0.10/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:318]\r\n92 proposed PathPythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=UTF-8-None) [INFO builtin:50]\r\n92 accepted PathPythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=UTF-8-None) [DEBUG builtin:52]\r\n141 create virtual environment via CPython2Posix(dest=/tmp/bar2, clear=False, global=False) [INFO session:52]\r\n142 no include folders as can't find include marker /usr/local/include/python2.7/Python.h [DEBUG cpython2:49]\r\n142 create folder /tmp/bar2/bin [DEBUG _sync:21]\r\n142 create folder /tmp/bar2/lib/python2.7/dist-packages [DEBUG _sync:21]\r\n142 create folder /tmp/bar2/lib64/python2.7/dist-packages [DEBUG _sync:21]\r\n142 write /tmp/bar2/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n142 \thome = /usr [DEBUG pyenv_cfg:38]\r\n142 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n142 \tversion_info = 2.7.16.final.0 [DEBUG pyenv_cfg:38]\r\n142 \tvirtualenv = 20.0.10 [DEBUG pyenv_cfg:38]\r\n142 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n142 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n142 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n142 \tbase-executable = /usr/bin/python2.7 [DEBUG pyenv_cfg:38]\r\n143 copy /usr/bin/python2.7 to /tmp/bar2/bin/python [DEBUG _sync:48]\r\n143 symlink /usr/lib64/python2.7/os.py to /tmp/bar2/lib/python2.7/os.py [DEBUG _sync:40]\r\n143 symlink /usr/lib64/python2.7/os.pyc to /tmp/bar2/lib/python2.7/os.pyc [DEBUG _sync:40]\r\n143 symlink directory /usr/lib64/python2.7/lib-dynload to /tmp/bar2/lib/python2.7/lib-dynload [DEBUG _sync:40]\r\n143 create /tmp/bar2/lib/python2.7/dist-packages/_virtualenv.py [DEBUG api:60]\r\n143 create virtualenv import hook file /tmp/bar2/lib/python2.7/dist-packages/_virtualenv.pth [DEBUG api:63]\r\n144 ============================== target debug ============================== [DEBUG session:54]\r\n144 debug via /tmp/bar2/bin/python /usr/local/lib/python3.6/site-packages/virtualenv/create/debug.py [DEBUG creator:182]\r\n144 {\r\n  \"sys\": {\r\n    \"executable\": \"/tmp/bar2/bin/python\",\r\n    \"_base_executable\": null,\r\n    \"prefix\": \"/usr\",\r\n    \"base_prefix\": null,\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/usr\",\r\n    \"base_exec_prefix\": null,\r\n    \"path\": [\r\n      \"/usr/lib/python27.zip\",\r\n      \"/usr/lib64/python2.7\",\r\n      \"/usr/lib64/python2.7/plat-linux2\",\r\n      \"/usr/lib64/python2.7/lib-tk\",\r\n      \"/usr/lib64/python2.7/lib-old\",\r\n      \"/usr/lib64/python2.7/lib-dynload\",\r\n      \"/usr/local/lib64/python2.7/site-packages\",\r\n      \"/usr/local/lib/python2.7/site-packages\",\r\n      \"/usr/local/lib/python2.7/site-packages/StreamPublisher-1.3.2-py2.7.egg\",\r\n      \"/usr/lib64/python2.7/site-packages\",\r\n      \"/usr/lib/python2.7/site-packages\",\r\n      \"/usr/lib64/python2.7/dist-packages\",\r\n      \"/usr/lib64/python2.7/dist-packages/PIL\",\r\n      \"/usr/lib/python2.7/dist-packages\"\r\n    ],\r\n    \"meta_path\": [],\r\n    \"fs_encoding\": \"UTF-8\",\r\n    \"io_encoding\": null\r\n  },\r\n  \"version\": \"2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]\",\r\n  \"os\": \"<module 'os' from '/usr/lib64/python2.7/os.pyc'>\",\r\n  \"site\": \"<module 'site' from '/usr/lib64/python2.7/site.pyc'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/lib64/python2.7/lib-dynload/datetime.so'>\",\r\n  \"math\": \"<module 'math' from '/usr/lib64/python2.7/lib-dynload/math.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/lib64/python2.7/json/__init__.pyc'>\"\r\n} [DEBUG session:55]\r\n158 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/tmp/tmpiielo21j/seed-app-data/v1) [INFO session:59]\r\n158 Attempting to acquire lock 140256123427976 on /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels.lock [DEBUG filelock:270]\r\n158 Lock 140256123427976 acquired on /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels.lock [INFO filelock:274]\r\n159 get bundled wheel /usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n159 get bundled wheel /usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n159 get bundled wheel /usr/local/lib/python3.6/site-packages/virtualenv/seed/embed/wheels/setuptools-44.0.0-py2.py3-none-any.whl [DEBUG acquire:51]\r\n162 install wheel from wheel /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n162 install setuptools from wheel /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels/setuptools-44.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n162 install pip from wheel /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n162 build install image to /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any of wheel-0.34.2-py2.py3-none-any.whl [DEBUG base:57]\r\n162 build install image to /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any of setuptools-44.0.0-py2.py3-none-any.whl [DEBUG base:57]\r\n162 build install image to /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any of pip-20.0.2-py2.py3-none-any.whl [DEBUG base:57]\r\n176 changing mode of /tmp/tmpp8jbavqh/wheel-2.7 to 775 [INFO util:566]\r\n177 changing mode of /tmp/tmpp8jbavqh/wheel to 775 [INFO util:566]\r\n177 changing mode of /tmp/tmpp8jbavqh/wheel2 to 775 [INFO util:566]\r\n180 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /tmp/bar2/lib/python2.7/dist-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n185 copy /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /tmp/bar2/lib/python2.7/dist-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n186 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /tmp/bar2/lib/python2.7/dist-packages/wheel [DEBUG _sync:48]\r\n193 changing mode of /tmp/bar2/bin/wheel-2.7 to 775 [INFO util:566]\r\n194 changing mode of /tmp/bar2/bin/wheel to 775 [INFO util:566]\r\n194 changing mode of /tmp/bar2/bin/wheel2 to 775 [INFO util:566]\r\n194 generated console scripts wheel2 wheel wheel-2.7 [DEBUG base:53]\r\n217 changing mode of /tmp/tmpn21zo58q/easy_install-2.7 to 775 [INFO util:566]\r\n217 changing mode of /tmp/tmpn21zo58q/easy_install2 to 775 [INFO util:566]\r\n218 changing mode of /tmp/tmpn21zo58q/easy_install to 775 [INFO util:566]\r\n222 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools to /tmp/bar2/lib/python2.7/dist-packages/setuptools [DEBUG _sync:48]\r\n238 copy /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.virtualenv to /tmp/bar2/lib/python2.7/dist-packages/setuptools-44.0.0.virtualenv [DEBUG _sync:48]\r\n238 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.dist-info to /tmp/bar2/lib/python2.7/dist-packages/setuptools-44.0.0.dist-info [DEBUG _sync:48]\r\n240 copy /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/easy_install.py to /tmp/bar2/lib/python2.7/dist-packages/easy_install.py [DEBUG _sync:48]\r\n240 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/pkg_resources to /tmp/bar2/lib/python2.7/dist-packages/pkg_resources [DEBUG _sync:48]\r\n243 changing mode of /tmp/bar2/bin/easy_install-2.7 to 775 [INFO util:566]\r\n243 changing mode of /tmp/bar2/bin/easy_install2 to 775 [INFO util:566]\r\n243 changing mode of /tmp/bar2/bin/easy_install to 775 [INFO util:566]\r\n243 generated console scripts easy_install easy_install2 easy_install-2.7 [DEBUG base:53]\r\n266 changing mode of /tmp/tmpmqz44x17/pip-2.7 to 775 [INFO util:566]\r\n266 changing mode of /tmp/tmpmqz44x17/pip2 to 775 [INFO util:566]\r\n266 changing mode of /tmp/tmpmqz44x17/pip to 775 [INFO util:566]\r\n278 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /tmp/bar2/lib/python2.7/dist-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n279 copy directory /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /tmp/bar2/lib/python2.7/dist-packages/pip [DEBUG _sync:48]\r\n303 copy /tmp/tmpiielo21j/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /tmp/bar2/lib/python2.7/dist-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n304 changing mode of /tmp/bar2/bin/pip-2.7 to 775 [INFO util:566]\r\n304 changing mode of /tmp/bar2/bin/pip2 to 775 [INFO util:566]\r\n304 changing mode of /tmp/bar2/bin/pip to 775 [INFO util:566]\r\n304 generated console scripts pip2 pip pip-2.7 [DEBUG base:53]\r\n304 Attempting to release lock 140256123427976 on /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels.lock [DEBUG filelock:315]\r\n304 Lock 140256123427976 released on /tmp/tmpiielo21j/seed-app-data/v1/2.7/wheels.lock [INFO filelock:318]\r\n304 add activators for Bash, CShell, Fish, PowerShell, Python [INFO session:65]\r\n305 write /tmp/bar2/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n305 \thome = /usr [DEBUG pyenv_cfg:38]\r\n305 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n305 \tversion_info = 2.7.16.final.0 [DEBUG pyenv_cfg:38]\r\n305 \tvirtualenv = 20.0.10 [DEBUG pyenv_cfg:38]\r\n305 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n306 \tbase-prefix = /usr [DEBUG pyenv_cfg:38]\r\n306 \tbase-exec-prefix = /usr [DEBUG pyenv_cfg:38]\r\n306 \tbase-executable = /usr/bin/python2.7 [DEBUG pyenv_cfg:38]\r\n306 remove temporary app data folder /tmp/tmpiielo21j [DEBUG app_data:35]\r\n314 created virtual environment CPython2.7.16.final.0-64 in 263ms\r\n  creator CPython2Posix(dest=/tmp/bar2, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/tmp/tmpiielo21j/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator [WARNING __main__:21]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1718", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1718/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1718/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1718/events", "html_url": "https://github.com/pypa/virtualenv/issues/1718", "id": 579860038, "node_id": "MDU6SXNzdWU1Nzk4NjAwMzg=", "number": 1718, "title": "link to virtualenv binary gets base sys.exec_prefix ", "user": {"login": "replabrobin", "id": 2532126, "node_id": "MDQ6VXNlcjI1MzIxMjY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2532126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/replabrobin", "html_url": "https://github.com/replabrobin", "followers_url": "https://api.github.com/users/replabrobin/followers", "following_url": "https://api.github.com/users/replabrobin/following{/other_user}", "gists_url": "https://api.github.com/users/replabrobin/gists{/gist_id}", "starred_url": "https://api.github.com/users/replabrobin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/replabrobin/subscriptions", "organizations_url": "https://api.github.com/users/replabrobin/orgs", "repos_url": "https://api.github.com/users/replabrobin/repos", "events_url": "https://api.github.com/users/replabrobin/events{/privacy}", "received_events_url": "https://api.github.com/users/replabrobin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-12T11:04:23Z", "updated_at": "2020-03-12T11:39:37Z", "closed_at": "2020-03-12T11:13:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nUsing a link to the virtualenv python created using default options no longer finds the correct exec_prefix. This is also true even when --copies is used.\r\n\r\nThe problem is this after creation using --copies a link to the interpreter binary gets the wrong sys.exec prefix. This was not the case with legacy 16.7.2 (where by default the interpreter was copied).\r\n\r\n```\r\nrptlab@everest:~/code/hg-repos\r\n$ ls -l __py__/382/bin/python bin/python382\r\nlrwxrwxrwx 1 rptlab rptlab       24 Mar 12 10:46 bin/python382 -> ../__py__/382/bin/python\r\n-rwxr-xr-x 1 rptlab rptlab 17386760 Mar 12 10:43 __py__/382/bin/python\r\nrptlab@everest:~/code/hg-repos\r\n$ bin/python382 -c\"import sys;print('sys.exec_prefix',sys.exec_prefix,'\\n\\nsys.path','\\n'.join(sys.path))\"\r\nsys.exec_prefix /home/rptlab/LOCAL/382 \r\n\r\nsys.path \r\n/home/rptlab/LOCAL/382/lib/python38.zip\r\n/home/rptlab/LOCAL/382/lib/python3.8\r\n/home/rptlab/LOCAL/382/lib/python3.8/lib-dynload\r\n/home/rptlab/LOCAL/382/lib/python3.8/site-packages\r\n```\r\n\r\n**Environment**\r\n\r\nOS: ubuntu 18.04; python 3.8.2 \r\n\r\n```\r\nrptlab@everest:~/code/hg-repos\r\n$ ~/LOCAL/382/bin/pip list\r\nPackage    Version\r\n---------- -------\r\nappdirs    1.4.3  \r\ndistlib    0.3.0  \r\nfilelock   3.0.12 \r\npip        20.0.2 \r\nsetuptools 45.2.0 \r\nsix        1.14.0 \r\nvirtualenv 20.0.8 \r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\nrptlab@everest:~/code/hg-repos\r\n$ ~/LOCAL/382/bin/python3.8 -mvirtualenv -vvv --with-traceback --copies __py__/382 \r\n31 setup logging to NOTSET [DEBUG report:43]\r\n35 find interpreter for spec PythonSpec(path=/home/rptlab/LOCAL/382/bin/python3.8) [INFO builtin:44]\r\n35 proposed PythonInfo(spec=CPython3.8.2.final.0-64, exe=/home/rptlab/LOCAL/382/bin/python3.8, platform=linux, version='3.8.2 (default, Mar  5 2020, 15:37:08) \\n[GCC 7.4.0]', encoding_fs_io=utf-8-utf-8) [INFO builtin:50]\r\n35 accepted PythonInfo(spec=CPython3.8.2.final.0-64, exe=/home/rptlab/LOCAL/382/bin/python3.8, platform=linux, version='3.8.2 (default, Mar  5 2020, 15:37:08) \\n[GCC 7.4.0]', encoding_fs_io=utf-8-utf-8) [DEBUG builtin:52]\r\n37 filesystem is case-sensitive [DEBUG info:28]\r\n75 create virtual environment via CPython3Posix(dest=/home/rptlab/code/hg-repos/__py__/382, clear=False, global=False) [INFO session:52]\r\n75 create folder /home/rptlab/code/hg-repos/__py__/382/bin [DEBUG _sync:21]\r\n75 create folder /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages [DEBUG _sync:21]\r\n75 write /home/rptlab/code/hg-repos/__py__/382/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n75 \thome = /home/rptlab/LOCAL/382 [DEBUG pyenv_cfg:38]\r\n75 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n75 \tversion_info = 3.8.2.final.0 [DEBUG pyenv_cfg:38]\r\n75 \tvirtualenv = 20.0.8 [DEBUG pyenv_cfg:38]\r\n76 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n76 \tbase-prefix = /home/rptlab/LOCAL/382 [DEBUG pyenv_cfg:38]\r\n76 \tbase-exec-prefix = /home/rptlab/LOCAL/382 [DEBUG pyenv_cfg:38]\r\n76 \tbase-executable = /home/rptlab/LOCAL/382/bin/python3.8 [DEBUG pyenv_cfg:38]\r\n76 copy /home/rptlab/LOCAL/382/bin/python3.8 to /home/rptlab/code/hg-repos/__py__/382/bin/python [DEBUG _sync:48]\r\n84 copy /home/rptlab/LOCAL/382/bin/python3.8 to /home/rptlab/code/hg-repos/__py__/382/bin/python3 [DEBUG _sync:48]\r\n92 copy /home/rptlab/LOCAL/382/bin/python3.8 to /home/rptlab/code/hg-repos/__py__/382/bin/python3.8 [DEBUG _sync:48]\r\n101 create /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/_virtualenv.py [DEBUG api:60]\r\n101 create virtualenv import hook file /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/_virtualenv.pth [DEBUG api:63]\r\n101 ============================== target debug ============================== [DEBUG session:54]\r\n101 debug via /home/rptlab/code/hg-repos/__py__/382/bin/python /home/rptlab/LOCAL/382/lib/python3.8/site-packages/virtualenv/create/debug.py [DEBUG creator:182]\r\n101 {\r\n  \"sys\": {\r\n    \"executable\": \"/home/rptlab/code/hg-repos/__py__/382/bin/python\",\r\n    \"_base_executable\": \"/home/rptlab/code/hg-repos/__py__/382/bin/python\",\r\n    \"prefix\": \"/home/rptlab/code/hg-repos/__py__/382\",\r\n    \"base_prefix\": \"/home/rptlab/LOCAL/382\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/home/rptlab/code/hg-repos/__py__/382\",\r\n    \"base_exec_prefix\": \"/home/rptlab/LOCAL/382\",\r\n    \"path\": [\r\n      \"/home/rptlab/LOCAL/382/lib/python38.zip\",\r\n      \"/home/rptlab/LOCAL/382/lib/python3.8\",\r\n      \"/home/rptlab/LOCAL/382/lib/python3.8/lib-dynload\",\r\n      \"/home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"utf-8\"\r\n  },\r\n  \"version\": \"3.8.2 (default, Mar  5 2020, 15:37:08) \\n[GCC 7.4.0]\",\r\n  \"os\": \"<module 'os' from '/home/rptlab/LOCAL/382/lib/python3.8/os.py'>\",\r\n  \"site\": \"<module 'site' from '/home/rptlab/LOCAL/382/lib/python3.8/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/home/rptlab/LOCAL/382/lib/python3.8/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/home/rptlab/LOCAL/382/lib/python3.8/lib-dynload/math.cpython-38-x86_64-linux-gnu.so'>\",\r\n  \"json\": \"<module 'json' from '/home/rptlab/LOCAL/382/lib/python3.8/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n128 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/rptlab/.local/share/virtualenv/seed-app-data/v1) [INFO session:59]\r\n128 Attempting to acquire lock 140543598303504 on /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels.lock [DEBUG filelock:270]\r\n128 Lock 140543598303504 acquired on /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels.lock [INFO filelock:274]\r\n129 get bundled wheel /home/rptlab/LOCAL/382/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n129 get bundled wheel /home/rptlab/LOCAL/382/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/setuptools-45.2.0-py3-none-any.whl [DEBUG acquire:51]\r\n130 get bundled wheel /home/rptlab/LOCAL/382/lib/python3.8/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n131 install wheel from wheel /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n131 install setuptools from wheel /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels/setuptools-45.2.0-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n131 install pip from wheel /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n132 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n132 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/setuptools-45.2.0-py3-none-any/setuptools-45.2.0.dist-info to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/setuptools-45.2.0.dist-info [DEBUG _sync:48]\r\n132 copy /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n133 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/pip [DEBUG _sync:48]\r\n135 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/wheel [DEBUG _sync:48]\r\n136 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/setuptools-45.2.0-py3-none-any/setuptools to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/setuptools [DEBUG _sync:48]\r\n139 copy /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n140 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/wheel to 775 [INFO util:566]\r\n141 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/wheel-3.8 to 775 [INFO util:566]\r\n141 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/wheel3 to 775 [INFO util:566]\r\n141 generated console scripts wheel wheel3 wheel-3.8 [DEBUG base:53]\r\n157 copy /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/setuptools-45.2.0-py3-none-any/setuptools-45.2.0.virtualenv to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/setuptools-45.2.0.virtualenv [DEBUG _sync:48]\r\n158 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/setuptools-45.2.0-py3-none-any/pkg_resources to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/pkg_resources [DEBUG _sync:48]\r\n162 copy /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/setuptools-45.2.0-py3-none-any/easy_install.py to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/easy_install.py [DEBUG _sync:48]\r\n163 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/easy_install3 to 775 [INFO util:566]\r\n164 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/easy_install-3.8 to 775 [INFO util:566]\r\n164 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/easy_install to 775 [INFO util:566]\r\n164 generated console scripts easy_install3 easy_install-3.8 easy_install [DEBUG base:53]\r\n182 copy directory /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /home/rptlab/code/hg-repos/__py__/382/lib/python3.8/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n183 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/pip-3.8 to 775 [INFO util:566]\r\n183 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/pip to 775 [INFO util:566]\r\n183 changing mode of /home/rptlab/code/hg-repos/__py__/382/bin/pip3 to 775 [INFO util:566]\r\n183 generated console scripts pip-3.8 pip3 pip [DEBUG base:53]\r\n183 Attempting to release lock 140543598303504 on /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels.lock [DEBUG filelock:315]\r\n183 Lock 140543598303504 released on /home/rptlab/.local/share/virtualenv/seed-app-data/v1/3.8/wheels.lock [INFO filelock:318]\r\n183 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:64]\r\n185 write /home/rptlab/code/hg-repos/__py__/382/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n185 \thome = /home/rptlab/LOCAL/382 [DEBUG pyenv_cfg:38]\r\n185 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n185 \tversion_info = 3.8.2.final.0 [DEBUG pyenv_cfg:38]\r\n185 \tvirtualenv = 20.0.8 [DEBUG pyenv_cfg:38]\r\n185 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n185 \tbase-prefix = /home/rptlab/LOCAL/382 [DEBUG pyenv_cfg:38]\r\n185 \tbase-exec-prefix = /home/rptlab/LOCAL/382 [DEBUG pyenv_cfg:38]\r\n185 \tbase-executable = /home/rptlab/LOCAL/382/bin/python3.8 [DEBUG pyenv_cfg:38]\r\n185 created virtual environment CPython3.8.2.final.0-64 in 155ms\r\n  creator CPython3Posix(dest=/home/rptlab/code/hg-repos/__py__/382, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/rptlab/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1716", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1716/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1716/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1716/events", "html_url": "https://github.com/pypa/virtualenv/issues/1716", "id": 579788665, "node_id": "MDU6SXNzdWU1Nzk3ODg2NjU=", "number": 1716, "title": "Improve error message when no interpter matches, and some were discarded due to source cannot be satisfied", "user": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-12T09:01:50Z", "updated_at": "2020-03-19T09:10:42Z", "closed_at": "2020-03-17T12:01:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Follow-up from PR comment in https://github.com/pypa/virtualenv/pull/1714#discussion_r391297681", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1715", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1715/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1715/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1715/events", "html_url": "https://github.com/pypa/virtualenv/issues/1715", "id": 579582174, "node_id": "MDU6SXNzdWU1Nzk1ODIxNzQ=", "number": 1715, "title": "AttributeError: 'zipimport.zipimporter' object attribute 'load_module' is read-only", "user": {"login": "Ch3LL", "id": 6886822, "node_id": "MDQ6VXNlcjY4ODY4MjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/6886822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ch3LL", "html_url": "https://github.com/Ch3LL", "followers_url": "https://api.github.com/users/Ch3LL/followers", "following_url": "https://api.github.com/users/Ch3LL/following{/other_user}", "gists_url": "https://api.github.com/users/Ch3LL/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ch3LL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ch3LL/subscriptions", "organizations_url": "https://api.github.com/users/Ch3LL/orgs", "repos_url": "https://api.github.com/users/Ch3LL/repos", "events_url": "https://api.github.com/users/Ch3LL/events{/privacy}", "received_events_url": "https://api.github.com/users/Ch3LL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-11T22:31:18Z", "updated_at": "2020-03-19T09:12:50Z", "closed_at": "2020-03-17T16:52:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nWhen attempting to import `setuptools` from an egg in a virtualenv environment I am seeing this error:\r\n\r\n```\r\n>>> import setuptools\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/tmp/test/setuptools-42.0.0/setuptools-42.0.0-py3.6.egg/setuptools/__init__.py\", line 20, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 951, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 894, in _find_spec\r\n  File \"/tmp/salt-tests-tmpdir/tmp8v5ucrk2/psetuptools/lib/python3.6/site-packages/_virtualenv.py\", line 64, in find_spec\r\n    setattr(spec.loader, func_name, partial(func, old))\r\nAttributeError: 'zipimport.zipimporter' object attribute 'load_module' is read-only\r\n```\r\n\r\nSteps to reproduce:\r\n\r\n1. Create virtualenv and activate virtualenv\r\n\r\n```\r\n ch3ll@thecakeisalie \ue0b0 /tmp \ue0b0 virtualenv issue-20.0.10\r\ncreated virtual environment CPython3.7.5.final.0-64 in 103ms\r\n  creator CPython3Posix(dest=/tmp/issue-20.0.10, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/ch3ll/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n```\r\n\r\n```\r\n \u2718 ch3ll@thecakeisalie \ue0b0 /tmp \ue0b0 source issue-20.0.10/bin/activate\r\n(issue-20.0.10)  ch3ll@thecakeisalie \ue0b0 /tmp \ue0b0 \r\n```\r\n\r\n2. Create an egg build of setuptools. \r\n\r\na) `wget https://pypi.io/packages/source/s/setuptools/setuptools-42.0.0.zip`\r\nb) `unzip setuptools-42.0.0.zip`\r\nc) `cd setuptools-42.0.0`\r\nd) `python setup.py -q bdist_egg --dist-dir .`\r\n\r\n3. Try to import setuptools with egg in `sys.path`\r\n\r\n```\r\n(issue-20.0.10)  ch3ll@thecakeisalie \ue0b0 /tmp/setuptools-42.0.0 \ue0b0 python -c \"import sys; sys.path.insert(0, '/tmp/setuptools-42.0.0/setuptools-42.0.0-py3.7.egg'); import setuptools\"\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 668, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 638, in _load_backward_compatible\r\n  File \"/tmp/setuptools-42.0.0/setuptools-42.0.0-py3.7.egg/setuptools/__init__.py\", line 20, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 963, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 906, in _find_spec\r\n  File \"/tmp/issue-20.0.10/lib/python3.7/site-packages/_virtualenv.py\", line 64, in find_spec\r\n    setattr(spec.loader, func_name, partial(func, old))\r\nAttributeError: 'zipimport.zipimporter' object attribute 'load_module' is read-only\r\n```\r\n\r\nAnd when on virtualenv 16.4.3 it works just fine:\r\n\r\n```\r\n(issue-16.4.3)  ch3ll@thecakeisalie \ue0b0 /tmp \ue0b0 python -c \"import sys; sys.path.insert(0, '/tmp/setuptools-42.0.0/setuptools-42.0.0-py3.7.egg'); import setuptools\"     \r\n(issue-16.4.3)  ch3ll@thecakeisalie \ue0b0 /tmp \ue0b0 \r\n```\r\n\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: confirmed on both macosx and manjaro.\r\n\r\n```\r\n ch3ll@thecakeisalie \ue0b0 ~/git/virtualenv \ue0b0 \u27a6 93cf9ed <B> \ue0b0 pip list\r\nDEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning.\r\nappdirs (1.4.3)\r\ncertifi (2019.11.28)\r\nchardet (3.0.4)\r\ncolorlog (3.2.0)\r\ndistlib (0.3.0)\r\nfilelock (3.0.12)\r\nidna (2.8)\r\nimportlib-metadata (1.5.0)\r\nnox-py2 (2019.6.25)\r\npip (9.0.3)\r\npy (1.8.1)\r\npyprof2calltree (1.4.4)\r\npyzmq (18.1.1)\r\nrequests (2.23.0)\r\nsetuptools (41.2.0)\r\nsix (1.14.0)\r\ntornado (4.5.3)\r\nurllib3 (1.25.7)\r\nvirtualenv (20.0.10)\r\nzipp (3.1.0)\r\nYou are using pip version 9.0.3, however version 20.0.2 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1712", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1712/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1712/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1712/events", "html_url": "https://github.com/pypa/virtualenv/issues/1712", "id": 579423063, "node_id": "MDU6SXNzdWU1Nzk0MjMwNjM=", "number": 1712, "title": "Environment created from another environment ignores --no-pip, --no-wheel, --no-setuptools options", "user": {"login": "xvik", "id": 999676, "node_id": "MDQ6VXNlcjk5OTY3Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/999676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xvik", "html_url": "https://github.com/xvik", "followers_url": "https://api.github.com/users/xvik/followers", "following_url": "https://api.github.com/users/xvik/following{/other_user}", "gists_url": "https://api.github.com/users/xvik/gists{/gist_id}", "starred_url": "https://api.github.com/users/xvik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xvik/subscriptions", "organizations_url": "https://api.github.com/users/xvik/orgs", "repos_url": "https://api.github.com/users/xvik/repos", "events_url": "https://api.github.com/users/xvik/events{/privacy}", "received_events_url": "https://api.github.com/users/xvik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-03-11T17:17:21Z", "updated_at": "2020-06-16T22:47:03Z", "closed_at": "2020-03-13T12:22:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nAffected:  virtualenv 20.0.x\r\n\r\nWhen environment created from another environment with --no-pip option, pip is still installed.\r\nIt is working with virtualenv 16.x (regression)\r\n\r\nCase:\r\n- Create first environt and install vitrtualenv inside it: \r\nvirtualenv one\r\none/bin/python -m pip install virtualenv\r\n\r\n- Create second environment with no pip:\r\none/bin/python -m virtualenv two --no-pip\r\n\r\nResult: pip installed\r\nExpected: no pip should be installed\r\n\r\n(same with other flags) \r\n\r\n**Environment**\r\n\r\n- OS: ubuntu 19.10\r\n- packages: python3, python3-pip\r\n- pip updated, virtualenv installed with pip\r\n\r\n**Output of the virtual environment creation**\r\n\r\nThe above case execution:\r\n\r\n```sh\r\nxvik@xvik:/tmp$ python3 --version\r\nPython 3.7.5\r\nxvik@xvik:/tmp$ python3 -m pip --version\r\npip 20.0.2 from /home/xvik/.local/lib/python3.7/site-packages/pip (python 3.7)\r\nxvik@xvik:/tmp$ python3 -m virtualenv --version\r\nvirtualenv 20.0.10 from /home/xvik/.local/lib/python3.7/site-packages/virtualenv/__init__.py\r\n\r\nxvik@xvik:/tmp$ python3 -m virtualenv one\r\ncreated virtual environment CPython3.7.5.final.0-64 in 140ms\r\n  creator CPython3Posix(dest=/tmp/one, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/xvik/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n\r\nxvik@xvik:/tmp$ one/bin/python -m pip install virtualenv\r\nCollecting virtualenv\r\n  Using cached virtualenv-20.0.10-py2.py3-none-any.whl (4.6 MB)\r\nCollecting six<2,>=1.9.0\r\n  Using cached six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nCollecting importlib-metadata<2,>=0.12; python_version < \"3.8\"\r\n  Using cached importlib_metadata-1.5.0-py2.py3-none-any.whl (30 kB)\r\nCollecting filelock<4,>=3.0.0\r\n  Using cached filelock-3.0.12-py3-none-any.whl (7.6 kB)\r\nCollecting appdirs<2,>=1.4.3\r\n  Using cached appdirs-1.4.3-py2.py3-none-any.whl (12 kB)\r\nProcessing /home/xvik/.cache/pip/wheels/a2/19/da/a15d4e2bedf3062c739b190d5cb5b7b2ecfbccb6b0d93c861b/distlib-0.3.0-py3-none-any.whl\r\nCollecting zipp>=0.5\r\n  Using cached zipp-3.1.0-py3-none-any.whl (4.9 kB)\r\nInstalling collected packages: six, zipp, importlib-metadata, filelock, appdirs, distlib, virtualenv\r\nSuccessfully installed appdirs-1.4.3 distlib-0.3.0 filelock-3.0.12 importlib-metadata-1.5.0 six-1.14.0 virtualenv-20.0.10 zipp-3.1.0\r\n\r\nxvik@xvik:/tmp$ one/bin/python -m virtualenv two --no-pip -v\r\nfind interpreter for spec PythonSpec(path=/tmp/one/bin/python)\r\nproposed PythonInfo(spec=CPython3.7.5.final.0-64, system=/usr/bin/python3.7, exe=/tmp/one/bin/python, platform=linux, version='3.7.5 (default, Nov 20 2019, 09:21:52) \\n[GCC 9.2.1 20191008]', encoding_fs_io=utf-8-UTF-8)\r\ncreate virtual environment via CPython3Posix(dest=/tmp/two, clear=False, global=False)\r\nadd seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/xvik/.local/share/virtualenv/seed-app-data/v1)\r\nchanging mode of /tmp/two/bin/wheel to 755\r\nchanging mode of /tmp/two/bin/wheel-3.7 to 755\r\nchanging mode of /tmp/two/bin/wheel3 to 755\r\nchanging mode of /tmp/two/bin/easy_install to 755\r\nchanging mode of /tmp/two/bin/easy_install-3.7 to 755\r\nchanging mode of /tmp/two/bin/easy_install3 to 755\r\nchanging mode of /tmp/two/bin/pip3 to 755\r\nchanging mode of /tmp/two/bin/pip-3.7 to 755\r\nchanging mode of /tmp/two/bin/pip to 755\r\nadd activators for Bash, CShell, Fish, PowerShell, Python, Xonsh\r\ncreated virtual environment CPython3.7.5.final.0-64 in 133ms\r\n  creator CPython3Posix(dest=/tmp/two, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/xvik/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n\r\nxvik@xvik:/tmp$ two/bin/python -m pip --version\r\npip 20.0.2 from /tmp/two/lib/python3.7/site-packages/pip (python 3.7)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1710", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1710/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1710/events", "html_url": "https://github.com/pypa/virtualenv/issues/1710", "id": 578685993, "node_id": "MDU6SXNzdWU1Nzg2ODU5OTM=", "number": 1710, "title": "Broken activation in Windows for python3", "user": {"login": "svillar", "id": 1826122, "node_id": "MDQ6VXNlcjE4MjYxMjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1826122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/svillar", "html_url": "https://github.com/svillar", "followers_url": "https://api.github.com/users/svillar/followers", "following_url": "https://api.github.com/users/svillar/following{/other_user}", "gists_url": "https://api.github.com/users/svillar/gists{/gist_id}", "starred_url": "https://api.github.com/users/svillar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/svillar/subscriptions", "organizations_url": "https://api.github.com/users/svillar/orgs", "repos_url": "https://api.github.com/users/svillar/repos", "events_url": "https://api.github.com/users/svillar/events{/privacy}", "received_events_url": "https://api.github.com/users/svillar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-03-10T15:56:22Z", "updated_at": "2020-03-19T09:12:25Z", "closed_at": "2020-03-18T09:06:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "virtualenv activation through `activate_this.py` is broken in Windows for python3. Check this very simple piece of code\r\n\r\n```\r\nimport os\r\nimport subprocess\r\nimport sys\r\nfrom distutils.spawn import find_executable\r\n\r\nvenv = find_executable(\"virtualenv\")\r\ntestdir = os.path.join(os.path.curdir, 'testenv')\r\n\r\nsubprocess.check_output((venv, testdir, \"-p\", sys.executable))\r\n\r\nbin_path = os.path.join(testdir, \"Scripts\") if sys.platform in (\"win32\", \"cygwin\") else os.path.join(testdir, \"bin\")\r\n\r\npath = os.path.join(bin_path, \"activate_this.py\")\r\nwith open(path) as f:\r\n    exec(f.read(), {\"__file__\": path})\r\n```\r\n\r\nThis generates a `AttributeError: 'str' object has no attribute 'decode'`. Taking a look at the `activate_this.py` code:\r\n\r\n```\r\nfor lib in \"..\\Lib\\site-packages\".split(os.pathsep):\r\n    path = os.path.realpath(os.path.join(bin_dir, lib))\r\n    site.addsitedir(path.decode(\"utf-8\") if \"yes\" else path)\r\n```\r\n\r\nit's indeed normal that we get the error because we're always calling `decode()` over a str. Question is where the `__DECODE_PATH__` from https://github.com/pypa/virtualenv/blob/master/src/virtualenv/activation/python/activate_this.py#L28 is assigned to `\"yes\"`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1709", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1709/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1709/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1709/events", "html_url": "https://github.com/pypa/virtualenv/issues/1709", "id": 578632377, "node_id": "MDU6SXNzdWU1Nzg2MzIzNzc=", "number": 1709, "title": "[20.0.10] windows store support", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-10T14:43:38Z", "updated_at": "2020-03-19T09:12:19Z", "closed_at": "2020-03-17T12:00:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#1362 claims support however it does not appear to work as desired:\r\n\r\n```\r\n(venv) C:\\Users\\IEUser\\astpretty>virtualenv v -vvv --with-traceback\r\n390 setup logging to NOTSET [DEBUG report:43]\r\n468 could not create app data folder C:\\Users\\IEUser\\AppData\\Local\\pypa\\virtualenv due to FileNotFoundError(2, 'The system cannot find the path specified') [INFO app_data:54]\r\n577 created temporary app data folder C:\\Users\\IEUser\\AppData\\Local\\Temp\\tmpaqvhomd3 [DEBUG app_data:32]\r\n624 find interpreter for spec PythonSpec(path=c:\\users\\ieuser\\astpretty\\venv\\scripts\\python.exe) [INFO builtin:44]\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.7_3.7.1776.0_x64__qbz5n2kfra8p0\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.7_3.7.1776.0_x64__qbz5n2kfra8p0\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\IEUser\\astpretty\\venv\\Scripts\\virtualenv.exe\\__main__.py\", line 9, in <module>\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\__main__.py\", line 50, in run_with_catch\r\n    run(args, options)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\run\\__init__.py\", line 27, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\run\\__init__.py\", line 35, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\run\\__init__.py\", line 71, in build_parser\r\n    parser._interpreter = interpreter = discover.interpreter\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\discover.py\", line 44, in interpreter\r\n    self._interpreter = self.run()\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\builtin.py\", line 33, in run\r\n    return get_interpreter(self.python_spec, self.app_data.folder)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\builtin.py\", line 46, in get_interpreter\r\n    for interpreter, impl_must_match in propose_interpreters(spec, app_data):\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\builtin.py\", line 60, in propose_interpreters\r\n    yield PythonInfo.from_exe(spec.path, app_data), True\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\py_info.py\", line 293, in from_exe\r\n    proposed = proposed._resolve_to_system(app_data, proposed)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\py_info.py\", line 328, in _resolve_to_system\r\n    target = cls.from_exe(target.system_executable, app_data)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\py_info.py\", line 290, in from_exe\r\n    proposed = from_exe(cls, app_data, exe, raise_on_error=raise_on_error, ignore_cache=ignore_cache)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\cached_py_info.py\", line 32, in from_exe\r\n    result = _get_from_cache(cls, py_info_cache, app_data, exe, ignore_cache=ignore_cache)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\cached_py_info.py\", line 56, in _get_from_cache\r\n    py_info = _get_via_file_cache(cls, py_info_cache, app_data, exe_path, exe)\r\n  File \"c:\\users\\ieuser\\astpretty\\venv\\lib\\site-packages\\virtualenv\\discovery\\cached_py_info.py\", line 68, in _get_via_file_cache\r\n    resolved_path_modified_timestamp = resolved_path.stat().st_mtime\r\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.7_3.7.1776.0_x64__qbz5n2kfra8p0\\lib\\pathlib.py\", line 1178, in stat\r\n    return self._accessor.stat(self)\r\nOSError: [WinError 1920] The file cannot be accessed by the system: 'C:\\\\Users\\\\IEUser\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps\\\\PythonSoftwareFoundation.Python.3.7_qbz5n2kfra8p0\\\\python.exe'\r\n```\r\n\r\nI'm using the windows store python 3.7.6 on windows 10\r\n\r\n```\r\n(venv) C:\\Users\\IEUser\\astpretty>python --version --version\r\nPython 3.7.6 (tags/v3.7.6:43364a7ae0, Dec 19 2019, 01:54:44) [MSC v.1916 64 bit (AMD64)]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1704", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1704/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1704/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1704/events", "html_url": "https://github.com/pypa/virtualenv/issues/1704", "id": 578324239, "node_id": "MDU6SXNzdWU1NzgzMjQyMzk=", "number": 1704, "title": "conda commands as Python3 subprocesses inside a virtualenv fail under macOS", "user": {"login": "nsoranzo", "id": 4924623, "node_id": "MDQ6VXNlcjQ5MjQ2MjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4924623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nsoranzo", "html_url": "https://github.com/nsoranzo", "followers_url": "https://api.github.com/users/nsoranzo/followers", "following_url": "https://api.github.com/users/nsoranzo/following{/other_user}", "gists_url": "https://api.github.com/users/nsoranzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nsoranzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nsoranzo/subscriptions", "organizations_url": "https://api.github.com/users/nsoranzo/orgs", "repos_url": "https://api.github.com/users/nsoranzo/repos", "events_url": "https://api.github.com/users/nsoranzo/events{/privacy}", "received_events_url": "https://api.github.com/users/nsoranzo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-03-10T04:08:02Z", "updated_at": "2020-03-25T10:47:19Z", "closed_at": "2020-03-25T09:29:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nDescribe what's the expected behaviour and what you're observing.\r\n\r\nRunning any conda command as a Python3 subprocess inside of a virtualenv fails under macOS with `ModuleNotFoundError: No module named 'conda'`. This works fine under Linux or when using Python2 or virtualenv <20.\r\nThe same works fine also before activating and after deactivating the virtualenv.\r\n\r\nTested on the latest virtualenv 20.0.9.\r\n\r\nSee https://travis-ci.org/nsoranzo/bioblend/builds/660456892 for how to reproduce on TravisCI and example of success and failure of the same commands under Linux and macOS respectively.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: macOS\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n  Package    Version\r\n  ---------- -------\r\n  GDAL       2.4.2  \r\n  mercurial  5.2    \r\n  numpy      1.17.4 \r\n  pip        19.3.1 \r\n  protobuf   3.11.1 \r\n  setuptools 41.6.0 \r\n  six        1.13.0 \r\n  wheel      0.33.6 \r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n152 setup logging to NOTSET [DEBUG report:43]\r\n152 created app data folder /Users/travis/Library/Application Support/virtualenv [DEBUG app_data:52]\r\n165 find interpreter for spec PythonSpec(implementation=CPython, major=3) [INFO builtin:44]\r\n166 proposed PythonInfo(spec=CPython3.7.5.final.0-64, exe=/usr/local/opt/python/bin/python3.7, platform=darwin, version='3.7.5 (default, Nov  1 2019, 02:16:38) \\n[Clang 10.0.0 (clang-1000.11.45.5)]', encoding_fs_io=utf-8-UTF-8) [INFO builtin:50]\r\n166 accepted PythonInfo(spec=CPython3.7.5.final.0-64, exe=/usr/local/opt/python/bin/python3.7, platform=darwin, version='3.7.5 (default, Nov  1 2019, 02:16:38) \\n[Clang 10.0.0 (clang-1000.11.45.5)]', encoding_fs_io=utf-8-UTF-8) [DEBUG builtin:52]\r\n173 filesystem is not case-sensitive [DEBUG info:28]\r\n278 create virtual environment via CPython3Posix(dest=/Users/travis/build/nsoranzo/bioblend/.venv, clear=False, global=False) [INFO session:52]\r\n278 create folder /Users/travis/build/nsoranzo/bioblend/.venv/bin [DEBUG _sync:21]\r\n278 create folder /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages [DEBUG _sync:21]\r\n279 write /Users/travis/build/nsoranzo/bioblend/.venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n279 \thome = /usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7 [DEBUG pyenv_cfg:38]\r\n279 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n279 \tversion_info = 3.7.5.final.0 [DEBUG pyenv_cfg:38]\r\n279 \tvirtualenv = 20.0.9 [DEBUG pyenv_cfg:38]\r\n280 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n280 \tbase-prefix = /usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7 [DEBUG pyenv_cfg:38]\r\n280 \tbase-exec-prefix = /usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7 [DEBUG pyenv_cfg:38]\r\n280 \tbase-executable = /usr/local/opt/python/bin/python3.7 [DEBUG pyenv_cfg:38]\r\n280 symlink /usr/local/opt/python/bin/python3.7 to /Users/travis/build/nsoranzo/bioblend/.venv/bin/python [DEBUG _sync:40]\r\n282 create /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/_virtualenv.py [DEBUG api:60]\r\n283 create virtualenv import hook file /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/_virtualenv.pth [DEBUG api:63]\r\n283 ============================== target debug ============================== [DEBUG session:54]\r\n284 debug via /Users/travis/build/nsoranzo/bioblend/.venv/bin/python /usr/local/lib/python3.7/site-packages/virtualenv/create/debug.py [DEBUG creator:182]\r\n283 {\r\n  \"sys\": {\r\n    \"executable\": \"/Users/travis/build/nsoranzo/bioblend/.venv/bin/python\",\r\n    \"_base_executable\": \"/Users/travis/build/nsoranzo/bioblend/.venv/bin/python\",\r\n    \"prefix\": \"/Users/travis/build/nsoranzo/bioblend/.venv\",\r\n    \"base_prefix\": \"/usr/local/opt/python/bin/../Frameworks/Python.framework/Versions/3.7\",\r\n    \"real_prefix\": null,\r\n    \"exec_prefix\": \"/Users/travis/build/nsoranzo/bioblend/.venv\",\r\n    \"base_exec_prefix\": \"/usr/local/opt/python/bin/../Frameworks/Python.framework/Versions/3.7\",\r\n    \"path\": [\r\n      \"/usr/local/opt/python/Frameworks/Python.framework/Versions/3.7/lib/python37.zip\",\r\n      \"/usr/local/opt/python/Frameworks/Python.framework/Versions/3.7/lib/python3.7\",\r\n      \"/usr/local/opt/python/Frameworks/Python.framework/Versions/3.7/lib/python3.7/lib-dynload\",\r\n      \"/Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages\"\r\n    ],\r\n    \"meta_path\": [\r\n      \"<class '_virtualenv._Finder'>\",\r\n      \"<class '_frozen_importlib.BuiltinImporter'>\",\r\n      \"<class '_frozen_importlib.FrozenImporter'>\",\r\n      \"<class '_frozen_importlib_external.PathFinder'>\"\r\n    ],\r\n    \"fs_encoding\": \"utf-8\",\r\n    \"io_encoding\": \"UTF-8\"\r\n  },\r\n  \"version\": \"3.7.5 (default, Nov  1 2019, 02:16:38) \\n[Clang 10.0.0 (clang-1000.11.45.5)]\",\r\n  \"os\": \"<module 'os' from '/usr/local/opt/python/bin/../Frameworks/Python.framework/Versions/3.7/lib/python3.7/os.py'>\",\r\n  \"site\": \"<module 'site' from '/usr/local/opt/python/bin/../Frameworks/Python.framework/Versions/3.7/lib/python3.7/site.py'>\",\r\n  \"datetime\": \"<module 'datetime' from '/usr/local/opt/python/Frameworks/Python.framework/Versions/3.7/lib/python3.7/datetime.py'>\",\r\n  \"math\": \"<module 'math' from '/usr/local/opt/python/Frameworks/Python.framework/Versions/3.7/lib/python3.7/lib-dynload/math.cpython-37m-darwin.so'>\",\r\n  \"json\": \"<module 'json' from '/usr/local/opt/python/Frameworks/Python.framework/Versions/3.7/lib/python3.7/json/__init__.py'>\"\r\n} [DEBUG session:55]\r\n354 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/travis/Library/Application Support/virtualenv/seed-app-data/v1) [INFO session:59]\r\n355 Attempting to acquire lock 4344232784 on /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels.lock [DEBUG filelock:270]\r\n356 Lock 4344232784 acquired on /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels.lock [INFO filelock:274]\r\n357 get bundled wheel /usr/local/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n357 get bundled wheel /usr/local/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/setuptools-45.3.0-py3-none-any.whl [DEBUG acquire:51]\r\n358 get bundled wheel /usr/local/lib/python3.7/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n373 install wheel from wheel /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n373 build install image to /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any of wheel-0.34.2-py2.py3-none-any.whl [DEBUG base:57]\r\n374 install setuptools from wheel /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels/setuptools-45.3.0-py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n375 build install image to /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/setuptools-45.3.0-py3-none-any of setuptools-45.3.0-py3-none-any.whl [DEBUG base:57]\r\n375 install pip from wheel /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n376 build install image to /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any of pip-20.0.2-py2.py3-none-any.whl [DEBUG base:57]\r\n418 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmp4niwmfd9/wheel-3.7 to 755 [INFO util:566]\r\n419 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmp4niwmfd9/wheel to 755 [INFO util:566]\r\n421 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmp4niwmfd9/wheel3 to 755 [INFO util:566]\r\n432 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/wheel [DEBUG _sync:48]\r\n466 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n474 copy /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n475 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/wheel-3.7 to 755 [INFO util:566]\r\n475 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/wheel to 755 [INFO util:566]\r\n476 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/wheel3 to 755 [INFO util:566]\r\n476 generated console scripts wheel3 wheel-3.7 wheel [DEBUG base:53]\r\n542 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmpdfedv6sv/easy_install to 755 [INFO util:566]\r\n543 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmpdfedv6sv/easy_install3 to 755 [INFO util:566]\r\n544 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmpdfedv6sv/easy_install-3.7 to 755 [INFO util:566]\r\n563 copy /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/setuptools-45.3.0-py3-none-any/easy_install.py to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/easy_install.py [DEBUG _sync:48]\r\n564 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/setuptools-45.3.0-py3-none-any/pkg_resources to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/pkg_resources [DEBUG _sync:48]\r\n584 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/setuptools-45.3.0-py3-none-any/setuptools to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/setuptools [DEBUG _sync:48]\r\n655 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/setuptools-45.3.0-py3-none-any/setuptools-45.3.0.dist-info to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/setuptools-45.3.0.dist-info [DEBUG _sync:48]\r\n667 copy /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/setuptools-45.3.0-py3-none-any/setuptools-45.3.0.virtualenv to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/setuptools-45.3.0.virtualenv [DEBUG _sync:48]\r\n668 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/easy_install to 755 [INFO util:566]\r\n669 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/easy_install3 to 755 [INFO util:566]\r\n670 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/easy_install-3.7 to 755 [INFO util:566]\r\n671 generated console scripts easy_install3 easy_install-3.7 easy_install [DEBUG base:53]\r\n746 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmp9zqbno9l/pip to 755 [INFO util:566]\r\n746 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmp9zqbno9l/pip3 to 755 [INFO util:566]\r\n747 changing mode of /var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/tmp9zqbno9l/pip-3.7 to 755 [INFO util:566]\r\n781 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/pip [DEBUG _sync:48]\r\n969 copy directory /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n972 copy /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to /Users/travis/build/nsoranzo/bioblend/.venv/lib/python3.7/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n973 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/pip to 755 [INFO util:566]\r\n974 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/pip3 to 755 [INFO util:566]\r\n975 changing mode of /Users/travis/build/nsoranzo/bioblend/.venv/bin/pip-3.7 to 755 [INFO util:566]\r\n975 generated console scripts pip3 pip pip-3.7 [DEBUG base:53]\r\n975 Attempting to release lock 4344232784 on /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels.lock [DEBUG filelock:315]\r\n975 Lock 4344232784 released on /Users/travis/Library/Application Support/virtualenv/seed-app-data/v1/3.7/wheels.lock [INFO filelock:318]\r\n976 add activators for Bash, CShell, Fish, PowerShell, Python, Xonsh [INFO session:65]\r\n980 write /Users/travis/build/nsoranzo/bioblend/.venv/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n980 \thome = /usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7 [DEBUG pyenv_cfg:38]\r\n980 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n981 \tversion_info = 3.7.5.final.0 [DEBUG pyenv_cfg:38]\r\n981 \tvirtualenv = 20.0.9 [DEBUG pyenv_cfg:38]\r\n981 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n981 \tbase-prefix = /usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7 [DEBUG pyenv_cfg:38]\r\n981 \tbase-exec-prefix = /usr/local/Cellar/python/3.7.5/Frameworks/Python.framework/Versions/3.7 [DEBUG pyenv_cfg:38]\r\n982 \tbase-executable = /usr/local/opt/python/bin/python3.7 [DEBUG pyenv_cfg:38]\r\n982 created virtual environment CPython3.7.5.final.0-64 in 833ms\r\n  creator CPython3Posix(dest=/Users/travis/build/nsoranzo/bioblend/.venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/Users/travis/Library/Application Support/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator [WARNING __main__:21]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1703", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1703/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1703/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1703/events", "html_url": "https://github.com/pypa/virtualenv/issues/1703", "id": 577986233, "node_id": "MDU6SXNzdWU1Nzc5ODYyMzM=", "number": 1703, "title": "sitecustomize.py no longer executed", "user": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1840267421, "node_id": "MDU6TGFiZWwxODQwMjY3NDIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/question", "name": "question", "color": "e59664", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-03-09T15:20:51Z", "updated_at": "2020-03-09T17:04:00Z", "closed_at": "2020-03-09T16:04:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\nusing the old virtualenv 16\r\n```\r\ngraingert@onomastic:~/projects$ workon virtualenv36\r\n(virtualenv36) graingert@onomastic:~/projects$ pip install -U \"virtualenv<20\"\r\nRequirement already up-to-date: virtualenv<20 in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (16.7.10)\r\n```\r\ncreating a working python2 virtualenv:\r\n```\r\n(virtualenv36) graingert@onomastic:~/projects$ virtualenv -p python2 egvirt\r\nRunning virtualenv with interpreter /usr/bin/python2\r\nAlready using interpreter /usr/bin/python2\r\nNew python executable in /home/graingert/projects/egvirt/bin/python2\r\nAlso creating executable in /home/graingert/projects/egvirt/bin/python\r\nInstalling setuptools, pip, wheel...\r\ndone.\r\n(virtualenv36) graingert@onomastic:~/projects$ ./egvirt/bin/python -c \"print('hello')\"\r\nhello\r\n```\r\nadding code to sitecustomize.py to show it's executed:\r\n```\r\n(virtualenv36) graingert@onomastic:~/projects$ echo \"raise Exception\" > egvirt/lib/python2.7/sitecustomize.py\r\n(virtualenv36) graingert@onomastic:~/projects$ ./egvirt/bin/python -c \"print('hello')\"\r\nTraceback (most recent call last):\r\n  File \"/home/graingert/projects/egvirt/lib/python2.7/site.py\", line 769, in <module>\r\n    main()\r\n  File \"/home/graingert/projects/egvirt/lib/python2.7/site.py\", line 759, in main\r\n    execsitecustomize()\r\n  File \"/home/graingert/projects/egvirt/lib/python2.7/site.py\", line 550, in execsitecustomize\r\n    import sitecustomize\r\n  File \"/home/graingert/projects/egvirt/lib/python2.7/sitecustomize.py\", line 1, in <module>\r\n    raise Exception\r\nException\r\n```\r\nupgrading to virtualenv 20:\r\n```\r\n(virtualenv36) graingert@onomastic:~/projects$ rm -rf egvirt/\r\n(virtualenv36) graingert@onomastic:~/projects$ pip install -U virtualenv\r\nCollecting virtualenv\r\n  Using cached virtualenv-20.0.9-py2.py3-none-any.whl (4.6 MB)\r\nRequirement already satisfied, skipping upgrade: importlib-metadata<2,>=0.12; python_version < \"3.8\" in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from virtualenv) (1.5.0)\r\nRequirement already satisfied, skipping upgrade: appdirs<2,>=1.4.3 in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from virtualenv) (1.4.3)\r\nRequirement already satisfied, skipping upgrade: distlib<1,>=0.3.0 in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from virtualenv) (0.3.0)\r\nRequirement already satisfied, skipping upgrade: importlib-resources<2,>=1.0; python_version < \"3.7\" in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from virtualenv) (1.3.1)\r\nRequirement already satisfied, skipping upgrade: filelock<4,>=3.0.0 in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from virtualenv) (3.0.12)\r\nRequirement already satisfied, skipping upgrade: six<2,>=1.9.0 in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from virtualenv) (1.14.0)\r\nRequirement already satisfied, skipping upgrade: zipp>=0.5 in /home/graingert/.virtualenvs/virtualenv36/lib/python3.6/site-packages (from importlib-metadata<2,>=0.12; python_version < \"3.8\"->virtualenv) (3.1.0)\r\nInstalling collected packages: virtualenv\r\n  Attempting uninstall: virtualenv\r\n    Found existing installation: virtualenv 16.7.10\r\n    Uninstalling virtualenv-16.7.10:\r\n      Successfully uninstalled virtualenv-16.7.10\r\nSuccessfully installed virtualenv-20.0.9\r\n```\r\ncreating a working py2 virtualenv:\r\n```\r\n(virtualenv36) graingert@onomastic:~/projects$ virtualenv -p python2 egvirt\r\ncreated virtual environment CPython2.7.17.final.0-64 in 112ms\r\n  creator CPython2Posix(dest=/home/graingert/projects/egvirt, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/graingert/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator\r\n(virtualenv36) graingert@onomastic:~/projects$ ./egvirt/bin/python -c \"print('hello')\"\r\nhello\r\n```\r\nadding code to show sitecustomize.py not executed anymore:\r\n```\r\n(virtualenv36) graingert@onomastic:~/projects$ echo \"raise Exception\" > egvirt/lib/python2.7/sitecustomize.py\r\n(virtualenv36) graingert@onomastic:~/projects$ ./egvirt/bin/python -c \"print('hello')\"\r\nhello\r\n\r\n```\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: ubuntu\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\npip list\r\nPackage             Version\r\n------------------- -------\r\nappdirs             1.4.3  \r\ndistlib             0.3.0  \r\nfilelock            3.0.12 \r\nimportlib-metadata  1.5.0  \r\nimportlib-resources 1.3.1  \r\npip                 20.0.2 \r\nsetuptools          46.0.0 \r\nsix                 1.14.0 \r\nvirtualenv          20.0.9 \r\nwheel               0.34.2 \r\nzipp                3.1.0  \r\n  ```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1694", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1694/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1694/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1694/events", "html_url": "https://github.com/pypa/virtualenv/issues/1694", "id": 577063474, "node_id": "MDU6SXNzdWU1NzcwNjM0NzQ=", "number": 1694, "title": "Error while creating Python2.7 virtualenv", "user": {"login": "tzulberti", "id": 614799, "node_id": "MDQ6VXNlcjYxNDc5OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/614799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tzulberti", "html_url": "https://github.com/tzulberti", "followers_url": "https://api.github.com/users/tzulberti/followers", "following_url": "https://api.github.com/users/tzulberti/following{/other_user}", "gists_url": "https://api.github.com/users/tzulberti/gists{/gist_id}", "starred_url": "https://api.github.com/users/tzulberti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tzulberti/subscriptions", "organizations_url": "https://api.github.com/users/tzulberti/orgs", "repos_url": "https://api.github.com/users/tzulberti/repos", "events_url": "https://api.github.com/users/tzulberti/events{/privacy}", "received_events_url": "https://api.github.com/users/tzulberti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-03-06T17:07:32Z", "updated_at": "2020-03-12T19:49:55Z", "closed_at": "2020-03-06T18:37:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nHi. I am trying to create a virtualenv for python 2.7 but it fails:\r\n```\r\n$ virtualenv --python=/usr/bin/python2.7 /tmp/foobar\r\nRuntimeError: No virtualenv implementation for PythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=UTF-8-None)\r\n```\r\nBut, if I run: /usr/bin/python2.7 it finishes ok.\r\n\r\nOn the same computer, I try to create a virtualenv without specifing the python version and it creates everyting:\r\n```\r\n$ virtualenv /tmp/foobar\r\ncreated virtual environment CPython3.6.10.final.0-64 in 231ms\r\n  creator CPython3Posix(dest=/tmp/foobar, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/tmp/tmp3yblu868/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n```\r\nI am using the following virtualenv version:\r\n```\r\n$ virtualenv --version\r\nvirtualenv 20.0.7 from /usr/local/lib/python3.6/site-packages/virtualenv/__init__.py\r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n$ virtualenv --python=/usr/bin/python2.7 -vvv --with-traceback /tmp/foobar \r\n56 setup logging to NOTSET [DEBUG report:43]\r\n56 could not create app data folder /home/foobar/.local/share/virtualenv due to FileNotFoundError(2, 'No such file or directory') [INFO app_data:54]\r\n67 created temporary app data folder /tmp/tmp19dm6vc0 [DEBUG app_data:32]\r\n68 find interpreter for spec PythonSpec(path=/usr/bin/python2.7) [INFO builtin:44]\r\n68 Attempting to acquire lock 140619915224400 on /tmp/tmp19dm6vc0/py_info/20.0.7/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:270]\r\n68 Lock 140619915224400 acquired on /tmp/tmp19dm6vc0/py_info/20.0.7/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:274]\r\n68 get interpreter info via cmd: /usr/bin/python2.7 /usr/local/lib/python3.6/site-packages/virtualenv/discovery/py_info.py [DEBUG cached_py_info:105]\r\n98 write PythonInfo to /tmp/tmp19dm6vc0/py_info/20.0.7/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.json for /usr/bin/python2.7 [DEBUG cached_py_info:91]\r\n99 Attempting to release lock 140619915224400 on /tmp/tmp19dm6vc0/py_info/20.0.7/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [DEBUG filelock:315]\r\n99 Lock 140619915224400 released on /tmp/tmp19dm6vc0/py_info/20.0.7/beb4f305451b4835b36a63cb1c75e625a7251cf8d76b65be2f5856eee68cb551.lock [INFO filelock:318]\r\n99 proposed PythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=UTF-8-None) [INFO builtin:50]\r\n99 accepted PythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=UTF-8-None) [DEBUG builtin:52]\r\n101 filesystem is case-sensitive [DEBUG info:28]\r\n106 CPython2Posix missing PathRefToDest(src=/usr/lib/python2.7/os.py) [DEBUG via_global_self_do:44]\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/virtualenv\", line 11, in <module>\r\n    sys.exit(run_with_catch())\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/__main__.py\", line 50, in run_with_catch\r\n    run(args, options)\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/__main__.py\", line 20, in run\r\n    session = cli_run(args, options)\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 27, in cli_run\r\n    session = session_via_cli(args, options)\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 35, in session_via_cli\r\n    parser = build_parser(args, options)\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/run/__init__.py\", line 75, in build_parser\r\n    CreatorSelector(interpreter, parser),\r\n  File \"/usr/local/lib/python3.6/site-packages/virtualenv/run/plugin/creators.py\", line 17, in __init__\r\n    raise RuntimeError(\"No virtualenv implementation for {}\".format(interpreter))\r\nRuntimeError: No virtualenv implementation for PythonInfo(spec=CPython2.7.16.final.0-64, exe=/usr/bin/python2.7, platform=linux2, version='2.7.16 (default, Jul 19 2019, 22:59:28) \\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)]', encoding_fs_io=UTF-8-None)\r\n\r\n```\r\n\r\n\r\nBut if I check the output of the `os` module it is at:\r\n```\r\n$ python2.7\r\nPython 2.7.16 (default, Jul 19 2019, 22:59:28) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-28)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import os\r\n>>> os.__file__\r\n'/usr/lib64/python2.7/os.pyc'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1692", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1692/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1692/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1692/events", "html_url": "https://github.com/pypa/virtualenv/issues/1692", "id": 576251600, "node_id": "MDU6SXNzdWU1NzYyNTE2MDA=", "number": 1692, "title": "bin/activate not running with zsh shell", "user": {"login": "ameliesc", "id": 9766862, "node_id": "MDQ6VXNlcjk3NjY4NjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/9766862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ameliesc", "html_url": "https://github.com/ameliesc", "followers_url": "https://api.github.com/users/ameliesc/followers", "following_url": "https://api.github.com/users/ameliesc/following{/other_user}", "gists_url": "https://api.github.com/users/ameliesc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ameliesc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ameliesc/subscriptions", "organizations_url": "https://api.github.com/users/ameliesc/orgs", "repos_url": "https://api.github.com/users/ameliesc/repos", "events_url": "https://api.github.com/users/ameliesc/events{/privacy}", "received_events_url": "https://api.github.com/users/ameliesc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}, {"id": 1838644383, "node_id": "MDU6TGFiZWwxODM4NjQ0Mzgz", "url": "https://api.github.com/repos/pypa/virtualenv/labels/needs-reproducer", "name": "needs-reproducer", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-05T13:25:03Z", "updated_at": "2020-07-25T22:13:02Z", "closed_at": "2020-03-09T17:31:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nwhen trying to activate a virtualenvironment using \r\n`source bin/activate` \r\nI kept getting the following error:\r\n`(eval):1: defining function based on alias 'deactivate' `\r\n`(eval):1: parse error near '()'`\r\n\r\nI figured this is due the the script not parsing correctly in zsh, no Idea why this suddenly is happening I did not have this problem before updating my system recently. Although the new default on MacOS is zsh now I did use it before without any issues. \r\n\r\nI fixed the issue by adding:\r\n\r\n`if [ -n \"$ZSH_VERSION\" ]; then emulate -L ksh; fi`\r\n\r\nabove the deactivate function. \r\n\r\n**Environment**\r\n\r\n\r\n- OS: macOS Catalina\r\n- `/usr/local/bin/pip`\r\n- `/usr/local/bin/virtualenv`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1690", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1690/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1690/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1690/events", "html_url": "https://github.com/pypa/virtualenv/issues/1690", "id": 575925655, "node_id": "MDU6SXNzdWU1NzU5MjU2NTU=", "number": 1690, "title": "[20.0.8] import hook assumes existence of `exec_module` but the api is optional according to PEP 302/451", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-05T01:12:04Z", "updated_at": "2020-03-08T11:21:22Z", "closed_at": "2020-03-06T18:37:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A contained example is https://github.com/asottile/pymonkey\r\n\r\nthe import machinery in virtualenv 20.0.8 assumes all loaders have an `exec_module` attribute, however that's optional (and not part of PEP 302 at all)\r\n\r\nThe crash in my case looks like:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 888, in _find_spec\r\nAttributeError: 'PymonkeyImportHook' object has no attribute 'find_spec'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/tmp/pymonkey/testing/pkg1/patchingmod_main.py\", line 8, in <module>\r\n    exit(main())\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 270, in entry\r\n    tuple(patches) + ('--', original_entry_point) + tuple(argv)\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 258, in main\r\n    return entry.load()()\r\n  File \"/tmp/pymonkey/.tox/py36/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2445, in load\r\n    return self.resolve()\r\n  File \"/tmp/pymonkey/.tox/py36/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2451, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 173, in load_module\r\n    module = importmod(fullname)\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 94, in importmod\r\n    return __import__(mod, fromlist=[str('__name__')], level=0)\r\n  File \"/tmp/pymonkey/testing/pkg2/targetmod.py\", line 4, in <module>\r\n    import setuptools  # Some weird import hook\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 173, in load_module\r\n    module = importmod(fullname)\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 94, in importmod\r\n    return __import__(mod, fromlist=[str('__name__')], level=0)\r\n  File \"/tmp/pymonkey/.tox/py36/lib/python3.6/site-packages/setuptools/__init__.py\", line 5, in <module>\r\n    import distutils.core\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 173, in load_module\r\n    module = importmod(fullname)\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 94, in importmod\r\n    return __import__(mod, fromlist=[str('__name__')], level=0)\r\n  File \"/usr/lib/python3.6/distutils/core.py\", line 16, in <module>\r\n    from distutils.dist import Distribution\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 951, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 890, in _find_spec\r\n  File \"<frozen importlib._bootstrap>\", line 864, in _find_spec_legacy\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 162, in find_module\r\n    elif self._module_exists(fullname, path):\r\n  File \"/tmp/pymonkey/pymonkey.py\", line 122, in _module_exists\r\n    getattr(entry, 'find_spec', _noop)(module, path) or\r\n  File \"/tmp/pymonkey/.tox/py36/lib/python3.6/site-packages/_virtualenv.py\", line 58, in find_spec\r\n    old = spec.loader.exec_module\r\nAttributeError: 'PymonkeyImportHook' object has no attribute 'exec_module'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1685", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1685/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1685/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1685/events", "html_url": "https://github.com/pypa/virtualenv/issues/1685", "id": 574274128, "node_id": "MDU6SXNzdWU1NzQyNzQxMjg=", "number": 1685, "title": "[regression] When there's `setup.cfg` with `attr:` in CWD, `pip install` crashes under virtualenv 20+", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-03-02T21:55:17Z", "updated_at": "2020-03-04T19:14:35Z", "closed_at": "2020-03-04T15:59:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "**Issue**\r\n\r\n$sbj. Possibly related to https://github.com/pypa/virtualenv/issues/1670.\r\nReproducible under Python 2 specifically, doesn't seem to affect py3.\r\n\r\n**Repro**\r\n1. Create `setup.cfg` in CWD\r\n```console\r\n$ cat setup.cfg \r\n[metadata]\r\nname = boom\r\nversion = attr: boom.versiontools.get_self_version\r\n```\r\n2.\r\n```console\r\npython2 -m pip install 'virtualenv >= 20'\r\npython2 -m virtualenv test-venv-py2\r\n```\r\n3. **DON'T CHDIR ELSEWHERE**\r\n4. Install some **existing** package there:\r\n```console\r\ntest-venv-py2/bin/pip install setuptools\r\n```\r\n(not necessarily setuptools, could be pip, six, anything really, but has to exist on PyPI)\r\n\r\n5. Observe an ImportError because it loads the config from CWD which in turn tries to `import boom.versiontools.get_self_version`:\r\n```python-traceback\r\n$ test-venv-py2/bin/pip install setuptools\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nRequirement already satisfied: setuptools in ~/src/github/experiments/boom/test-venv-py2/lib/python2.7/site-packages (44.0.0)\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/pip/_internal/cli/base_command.py\", line 186, in _main\r\n    status = self.run(options, args)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/pip/_internal/commands/install.py\", line 412, in run\r\n    isolated=options.isolated_mode,\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/pip/_internal/commands/install.py\", line 543, in get_lib_location_guesses\r\n    scheme = distutils_scheme('', *args, **kwargs)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/pip/_internal/locations.py\", line 109, in distutils_scheme\r\n    d.parse_config_files()\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site.py\", line 153, in parse_config_files\r\n    result = old_parse_config_files(self, *args, **kwargs)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site.py\", line 153, in parse_config_files\r\n    result = old_parse_config_files(self, *args, **kwargs)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/_distutils_patch_virtualenv.py\", line 19, in parse_config_files\r\n    result = old_parse_config_files(self, *args, **kwargs)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/dist.py\", line 702, in parse_config_files\r\n    ignore_option_errors=ignore_option_errors)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/config.py\", line 121, in parse_configuration\r\n    meta.parse()\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/config.py\", line 426, in parse\r\n    section_parser_method(section_options)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/config.py\", line 399, in parse_section\r\n    self[name] = value\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/config.py\", line 184, in __setitem__\r\n    value = parser(value)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/config.py\", line 515, in _parse_version\r\n    version = self._parse_attr(value, self.package_dir)\r\n  File \"~/src/experiments/boom/test-venv-py2/lib/python2.7/site-packages/setuptools/config.py\", line 349, in _parse_attr\r\n    module = import_module(module_name)\r\n  File \"~/.pyenv/versions/2.7.15/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\nImportError: No module named boom.versiontools\r\n```\r\n\r\n**Environment**\r\n\r\n- OS: Gentoo Linux (also reproducible under `centos:7` docker container)\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n  ```console\r\n\t$ python2 -m pip list                                      \r\n\tPackage             Version    \r\n\t------------------- -----------\r\n\tappdirs             1.4.3      \r\n\tconfigparser        4.0.2      \r\n\tcontextlib2         0.6.0.post1\r\n\tdistlib             0.3.0      \r\n\tfilelock            3.0.12     \r\n\timportlib-metadata  1.5.0      \r\n\timportlib-resources 1.1.0      \r\n\tpathlib2            2.3.5      \r\n\tpip                 18.1       \r\n\tscandir             1.10.0     \r\n\tsetuptools          40.5.0     \r\n\tsingledispatch      3.4.0.3    \r\n\tsix                 1.14.0     \r\n\ttyping              3.7.4.1    \r\n\tvirtualenv          20.0.7     \r\n\twheel               0.32.2     \r\n\tzipp                1.2.0      \r\n\tYou are using pip version 18.1, however version 20.0.2 is available.\r\n\tYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n<details>\r\n<summary>\r\n  <code>$ <kbd>python2 -m virtualenv -vvv --with-traceback test-venv-py2</kbd></code>\r\n</summary>\r\n\r\n```console\r\n58 setup logging to NOTSET [DEBUG report:43]\r\n69 find interpreter for spec PythonSpec(path=~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/bin/python2) [INFO builtin:44]\r\n69 discover exe for PythonInfo(spec=CPython2.7.15.final.0-64, exe=~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/bin/python2, platform=linux2, version=u'2.7.15 (default, Sep 25 2018, 19:19:39) \\n[GCC 7.3.0]', encoding_fs_io=UTF-8-UTF-8) in ~/.pyenv/versions/2.7.15 [DEBUG py_info:340]\r\n70 filesystem is case-sensitive [DEBUG info:28]\r\n71 Attempting to acquire lock 139774354598416 on ~/.local/share/virtualenv/py_info/20.0.7/0743af9fc1da334fdaa3884a6e8f56610e0b07773619ca8d43ce29ac2a098866.lock [DEBUG filelock:270]\r\n72 Lock 139774354598416 acquired on ~/.local/share/virtualenv/py_info/20.0.7/0743af9fc1da334fdaa3884a6e8f56610e0b07773619ca8d43ce29ac2a098866.lock [INFO filelock:274]\r\n72 get PythonInfo from ~/.local/share/virtualenv/py_info/20.0.7/0743af9fc1da334fdaa3884a6e8f56610e0b07773619ca8d43ce29ac2a098866.json for ~/.pyenv/versions/2.7.15/bin/python2.7 [DEBUG cached_py_info:76]\r\n73 Attempting to release lock 139774354598416 on ~/.local/share/virtualenv/py_info/20.0.7/0743af9fc1da334fdaa3884a6e8f56610e0b07773619ca8d43ce29ac2a098866.lock [DEBUG filelock:315]\r\n73 Lock 139774354598416 released on ~/.local/share/virtualenv/py_info/20.0.7/0743af9fc1da334fdaa3884a6e8f56610e0b07773619ca8d43ce29ac2a098866.lock [INFO filelock:318]\r\n73 proposed PythonInfo({u'base_exec_prefix': None, u'system_stdlib': u'~/.pyenv/versions/2.7.15/lib/python2.7', u'has_venv': False, u'prefix': u'~/.pyenv/versions/2.7.15', u'stdout_encoding': None, u'executable': '~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/bin/python2', u'implementation': u'CPython', u'exec_prefix': u'~/.pyenv/versions/2.7.15', u'platform': u'linux2', u'version': u'2.7.15 (default, Sep 25 2018, 19:19:39) \\n[GCC 7.3.0]', u'sysconfig_paths': {u'platstdlib': u'{platbase}/lib/python{py_version_short}', u'platlib': u'{platbase}/lib/python{py_version_short}/site-packages', u'purelib': u'{base}/lib/python{py_version_short}/site-packages', u'stdlib': u'{base}/lib/python{py_version_short}', u'scripts': u'{base}/bin', u'include': u'{base}/include/python{py_version_short}', u'data': u'{base}'}, u'base_prefix': None, u'file_system_encoding': u'UTF-8', u'version_info': VersionInfo(major=2, minor=7, micro=15, releaselevel=u'final', serial=0), u'sysconfig_vars': {u'base': u'~/.pyenv/versions/2.7.15', u'platbase': u'~/.pyenv/versions/2.7.15', u'PYTHONFRAMEWORK': u'', u'py_version_short': u'2.7'}, u'path': [u'~/.pyenv/versions/2.7.15/envs/ansible-lint-py2.7.15-pyenv-venv/lib/python2.7/site-packages/virtualenv/discovery', u'~/.pyenv/versions/2.7.15/lib/python27.zip', u'~/.pyenv/versions/2.7.15/lib/python2.7', u'~/.pyenv/versions/2.7.15/lib/python2.7/plat-linux2', u'~/.pyenv/versions/2.7.15/lib/python2.7/lib-tk', u'~/.pyenv/versions/2.7.15/lib/python2.7/lib-old', u'~/.pyenv/versions/2.7.15/lib/python2.7/lib-dynload', u'~/.pyenv/versions/2.7.15/lib/python2.7/site-packages'], u'max_size': 9223372036854775807, u'real_prefix': None, u'distutils_install': {u'purelib': u'lib/python2.7/site-packages', u'headers': u'include/python2.7/UNKNOWN', u'platlib': u'lib/python2.7/site-packages', u'data': u'', u'scripts': u'bin'}, u'architecture': 64, u'original_executable': u'~/.pyenv/versions/2.7.15/bin/python2.7', u'os': u'posix', u'system_executable': u'~/.pyenv/versions/2.7.15/bin/python2.7'}) [INFO builtin:50]\r\n74 accepted PythonInfo({u'base_exec_prefix': None, u'system_stdlib': u'~/.pyenv/versions/2.7.15/lib/python2.7', u'has_venv': False, u'prefix': u'~/.pyenv/versions/2.7.15', u'stdout_encoding': None, u'executable': '~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/bin/python2', u'implementation': u'CPython', u'exec_prefix': u'~/.pyenv/versions/2.7.15', u'platform': u'linux2', u'version': u'2.7.15 (default, Sep 25 2018, 19:19:39) \\n[GCC 7.3.0]', u'sysconfig_paths': {u'platstdlib': u'{platbase}/lib/python{py_version_short}', u'platlib': u'{platbase}/lib/python{py_version_short}/site-packages', u'purelib': u'{base}/lib/python{py_version_short}/site-packages', u'stdlib': u'{base}/lib/python{py_version_short}', u'scripts': u'{base}/bin', u'include': u'{base}/include/python{py_version_short}', u'data': u'{base}'}, u'base_prefix': None, u'file_system_encoding': u'UTF-8', u'version_info': VersionInfo(major=2, minor=7, micro=15, releaselevel=u'final', serial=0), u'sysconfig_vars': {u'base': u'~/.pyenv/versions/2.7.15', u'platbase': u'~/.pyenv/versions/2.7.15', u'PYTHONFRAMEWORK': u'', u'py_version_short': u'2.7'}, u'path': [u'~/.pyenv/versions/2.7.15/envs/ansible-lint-py2.7.15-pyenv-venv/lib/python2.7/site-packages/virtualenv/discovery', u'~/.pyenv/versions/2.7.15/lib/python27.zip', u'~/.pyenv/versions/2.7.15/lib/python2.7', u'~/.pyenv/versions/2.7.15/lib/python2.7/plat-linux2', u'~/.pyenv/versions/2.7.15/lib/python2.7/lib-tk', u'~/.pyenv/versions/2.7.15/lib/python2.7/lib-old', u'~/.pyenv/versions/2.7.15/lib/python2.7/lib-dynload', u'~/.pyenv/versions/2.7.15/lib/python2.7/site-packages'], u'max_size': 9223372036854775807, u'real_prefix': None, u'distutils_install': {u'purelib': u'lib/python2.7/site-packages', u'headers': u'include/python2.7/UNKNOWN', u'platlib': u'lib/python2.7/site-packages', u'data': u'', u'scripts': u'bin'}, u'architecture': 64, u'original_executable': u'~/.pyenv/versions/2.7.15/bin/python2.7', u'os': u'posix', u'system_executable': u'~/.pyenv/versions/2.7.15/bin/python2.7'}) [DEBUG builtin:52]\r\n107 create virtual environment via CPython2Posix(dest=~/src/github/ansible/ansible-lint/test-venv-py2, clear=False, global=False) [INFO session:52]\r\n107 create folder ~/src/github/ansible/ansible-lint/test-venv-py2/bin [DEBUG _sync:21]\r\n108 create folder ~/src/github/ansible/ansible-lint/test-venv-py2/include [DEBUG _sync:21]\r\n108 create folder ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages [DEBUG _sync:21]\r\n108 write ~/src/github/ansible/ansible-lint/test-venv-py2/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n108 \thome = ~/.pyenv/versions/2.7.15 [DEBUG pyenv_cfg:38]\r\n108 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n108 \tversion_info = 2.7.15.final.0 [DEBUG pyenv_cfg:38]\r\n108 \tvirtualenv = 20.0.7 [DEBUG pyenv_cfg:38]\r\n108 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n108 \tbase-prefix = ~/.pyenv/versions/2.7.15 [DEBUG pyenv_cfg:38]\r\n108 \tbase-exec-prefix = ~/.pyenv/versions/2.7.15 [DEBUG pyenv_cfg:38]\r\n108 \tbase-executable = ~/.pyenv/versions/2.7.15/bin/python2.7 [DEBUG pyenv_cfg:38]\r\n108 copy ~/.pyenv/versions/2.7.15/bin/python2.7 to ~/src/github/ansible/ansible-lint/test-venv-py2/bin/python [DEBUG _sync:48]\r\n114 symlink ~/.pyenv/versions/2.7.15/lib/python2.7/os.py to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/os.py [DEBUG _sync:40]\r\n115 symlink ~/.pyenv/versions/2.7.15/lib/python2.7/os.pyc to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/os.pyc [DEBUG _sync:40]\r\n115 symlink directory ~/.pyenv/versions/2.7.15/include/python2.7 to ~/src/github/ansible/ansible-lint/test-venv-py2/include/python2.7 [DEBUG _sync:40]\r\n115 symlink directory ~/.pyenv/versions/2.7.15/lib/python2.7/lib-dynload to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/lib-dynload [DEBUG _sync:40]\r\n115 add distutils patch file ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/_distutils_patch_virtualenv.py [DEBUG api:63]\r\n116 add distutils patch file ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/_distutils_patch_virtualenv.pth [DEBUG api:67]\r\n116 ============================== target debug ============================== [DEBUG session:54]\r\n117 debug via ~/src/github/ansible/ansible-lint/test-venv-py2/bin/python ~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/lib/python2.7/site-packages/virtualenv/create/debug.py [DEBUG creator:182]\r\n116 {\r\n  \"site\": \"<module 'site' from '~/.pyenv/versions/2.7.15/lib/python2.7/site.pyc'>\", \r\n  \"datetime\": \"<module 'datetime' from '~/.pyenv/versions/2.7.15/lib/python2.7/lib-dynload/datetime.so'>\", \r\n  \"sys\": {\r\n    \"executable\": \"~/src/github/ansible/ansible-lint/test-venv-py2/bin/python\", \r\n    \"real_prefix\": \"~/.pyenv/versions/2.7.15\", \r\n    \"base_exec_prefix\": \"~/.pyenv/versions/2.7.15\", \r\n    \"exec_prefix\": \"~/src/github/ansible/ansible-lint/test-venv-py2\", \r\n    \"io_encoding\": null, \r\n    \"meta_path\": [], \r\n    \"fs_encoding\": \"UTF-8\", \r\n    \"prefix\": \"~/src/github/ansible/ansible-lint/test-venv-py2\", \r\n    \"_base_executable\": null, \r\n    \"path\": [\r\n      \"~/.pyenv/versions/2.7.15/lib/python27.zip\", \r\n      \"~/.pyenv/versions/2.7.15/lib/python2.7\", \r\n      \"~/.pyenv/versions/2.7.15/lib/python2.7/plat-linux2\", \r\n      \"~/.pyenv/versions/2.7.15/lib/python2.7/lib-tk\", \r\n      \"~/.pyenv/versions/2.7.15/lib/python2.7/lib-old\", \r\n      \"~/.pyenv/versions/2.7.15/lib/python2.7/lib-dynload\", \r\n      \"~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages\"\r\n    ], \r\n    \"base_prefix\": \"~/.pyenv/versions/2.7.15\"\r\n  }, \r\n  \"json\": \"<module 'json' from '~/.pyenv/versions/2.7.15/lib/python2.7/json/__init__.pyc'>\", \r\n  \"version\": \"2.7.15 (default, Sep 25 2018, 19:19:39) \\n[GCC 7.3.0]\", \r\n  \"os\": \"<module 'os' from '~/.pyenv/versions/2.7.15/lib/python2.7/os.pyc'>\", \r\n  \"math\": \"<module 'math' from '~/.pyenv/versions/2.7.15/lib/python2.7/lib-dynload/math.so'>\"\r\n} [DEBUG session:55]\r\n146 add seed packages via FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=~/.local/share/virtualenv/seed-app-data/v1) [INFO session:59]\r\n146 Attempting to acquire lock 139774343684496 on ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels.lock [DEBUG filelock:270]\r\n146 Lock 139774343684496 acquired on ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels.lock [INFO filelock:274]\r\n147 get bundled wheel ~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/pip-20.0.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n148 get bundled wheel ~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/wheel-0.34.2-py2.py3-none-any.whl [DEBUG acquire:51]\r\n148 get bundled wheel ~/.pyenv/versions/ansible-lint-py2.7.15-pyenv-venv/lib/python2.7/site-packages/virtualenv/seed/embed/wheels/setuptools-44.0.0-py2.py3-none-any.whl [DEBUG acquire:51]\r\n150 install wheel from wheel ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels/wheel-0.34.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n150 install pip from wheel ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels/pip-20.0.2-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n151 install setuptools from wheel ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels/setuptools-44.0.0-py2.py3-none-any.whl via CopyPipInstall [DEBUG via_app_data:46]\r\n151 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/wheel [DEBUG _sync:48]\r\n151 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/pip [DEBUG _sync:48]\r\n152 copy ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/easy_install.py to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/easy_install.py [DEBUG _sync:48]\r\n152 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/pkg_resources to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/pkg_resources [DEBUG _sync:48]\r\n156 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.dist-info to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/wheel-0.34.2.dist-info [DEBUG _sync:48]\r\n158 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/setuptools [DEBUG _sync:48]\r\n159 copy ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/wheel-0.34.2-py2.py3-none-any/wheel-0.34.2.virtualenv to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/wheel-0.34.2.virtualenv [DEBUG _sync:48]\r\n160 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/wheel to 755 [INFO util:566]\r\n160 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/wheel-2.7 to 755 [INFO util:566]\r\n161 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/wheel2 to 755 [INFO util:566]\r\n161 generated console scripts wheel wheel2 wheel-2.7 [DEBUG base:53]\r\n175 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.dist-info to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/setuptools-44.0.0.dist-info [DEBUG _sync:48]\r\n177 copy ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/setuptools-44.0.0-py2.py3-none-any/setuptools-44.0.0.virtualenv to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/setuptools-44.0.0.virtualenv [DEBUG _sync:48]\r\n178 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/easy_install to 755 [INFO util:566]\r\n179 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/easy_install2 to 755 [INFO util:566]\r\n179 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/easy_install-2.7 to 755 [INFO util:566]\r\n180 generated console scripts easy_install easy_install2 easy_install-2.7 [DEBUG base:53]\r\n219 copy directory ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.dist-info to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/pip-20.0.2.dist-info [DEBUG _sync:48]\r\n221 copy ~/.local/share/virtualenv/seed-app-data/v1/2.7/image/CopyPipInstall/pip-20.0.2-py2.py3-none-any/pip-20.0.2.virtualenv to ~/src/github/ansible/ansible-lint/test-venv-py2/lib/python2.7/site-packages/pip-20.0.2.virtualenv [DEBUG _sync:48]\r\n222 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/pip to 755 [INFO util:566]\r\n222 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/pip-2.7 to 755 [INFO util:566]\r\n222 changing mode of ~/src/github/ansible/ansible-lint/test-venv-py2/bin/pip2 to 755 [INFO util:566]\r\n222 generated console scripts pip pip-2.7 pip2 [DEBUG base:53]\r\n223 Attempting to release lock 139774343684496 on ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels.lock [DEBUG filelock:315]\r\n223 Lock 139774343684496 released on ~/.local/share/virtualenv/seed-app-data/v1/2.7/wheels.lock [INFO filelock:318]\r\n223 add activators for Python, CShell, Fish, PowerShell, Bash [INFO session:65]\r\n226 write ~/src/github/ansible/ansible-lint/test-venv-py2/pyvenv.cfg [DEBUG pyenv_cfg:34]\r\n226 \thome = ~/.pyenv/versions/2.7.15 [DEBUG pyenv_cfg:38]\r\n226 \timplementation = CPython [DEBUG pyenv_cfg:38]\r\n226 \tversion_info = 2.7.15.final.0 [DEBUG pyenv_cfg:38]\r\n226 \tvirtualenv = 20.0.7 [DEBUG pyenv_cfg:38]\r\n226 \tinclude-system-site-packages = false [DEBUG pyenv_cfg:38]\r\n226 \tbase-prefix = ~/.pyenv/versions/2.7.15 [DEBUG pyenv_cfg:38]\r\n227 \tbase-exec-prefix = ~/.pyenv/versions/2.7.15 [DEBUG pyenv_cfg:38]\r\n227 \tbase-executable = ~/.pyenv/versions/2.7.15/bin/python2.7 [DEBUG pyenv_cfg:38]\r\n227 created virtual environment CPython2.7.15.final.0-64 in 170ms\r\n  creator CPython2Posix(dest=~/src/github/ansible/ansible-lint/test-venv-py2, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=~/.local/share/virtualenv/seed-app-data/v1)\r\n  activators PythonActivator,CShellActivator,FishActivator,PowerShellActivator,BashActivator [WARNING __main__:21]\r\n```\r\n</details>\r\n\r\nRef: https://github.com/ansible/ansible-lint/issues/683", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1684", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1684/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1684/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1684/events", "html_url": "https://github.com/pypa/virtualenv/issues/1684", "id": 574188609, "node_id": "MDU6SXNzdWU1NzQxODg2MDk=", "number": 1684, "title": "[20.0.5+] entry points are not populated for editable installs in python 2", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-02T19:16:56Z", "updated_at": "2020-03-04T16:47:13Z", "closed_at": "2020-03-04T15:59:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### demo script\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\nset -euxo pipefail\r\n\r\nrm -rf venv venv2 pkg1\r\n\r\nmkdir pkg1\r\ncat >pkg1/setup.py <<EOF \r\nfrom setuptools import setup \r\n \r\nsetup( \r\n    name='pkg1', \r\n    entry_points={'myep': ['myexp=os']}, \r\n) \r\nEOF\r\n\r\nvirtualenv venv\r\nvenv/bin/pip install 'virtualenv>20.0.5'\r\nvenv/bin/virtualenv venv2 -ppython2\r\n\r\nvenv2/bin/pip install -e ./pkg1\r\nvenv2/bin/python -c ' \r\nimport pkg_resources; print(list(pkg_resources.iter_entry_points(\"myep\"))) \r\n'\r\n```\r\n\r\n### output with `>`\r\n\r\n```console\r\n$ ./t.sh \r\n+ rm -rf venv venv2 pkg1\r\n+ mkdir pkg1\r\n+ cat\r\n+ virtualenv venv\r\ncreated virtual environment CPython3.6.9.final.0-64 in 193ms\r\n  creator CPython3Posix(dest=/tmp/x/venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/asottile/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n+ venv/bin/pip install 'virtualenv>20.0.5'\r\nCollecting virtualenv>20.0.5\r\n  Using cached virtualenv-20.0.7-py2.py3-none-any.whl (8.0 MB)\r\nProcessing /home/asottile/.cache/pip/wheels/6e/e8/db/c73dae4867666e89ba3cfbc4b5c092446f0e584eda6f409cbb/distlib-0.3.0-cp36-none-any.whl\r\nCollecting six<2,>=1.9.0\r\n  Using cached six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nCollecting filelock<4,>=3.0.0\r\n  Using cached filelock-3.0.12-py3-none-any.whl (7.6 kB)\r\nCollecting appdirs<2,>=1.4.3\r\n  Using cached appdirs-1.4.3-py2.py3-none-any.whl (12 kB)\r\nCollecting importlib-resources<2,>=1.0; python_version < \"3.7\"\r\n  Using cached importlib_resources-1.1.0-py2.py3-none-any.whl (30 kB)\r\nCollecting importlib-metadata<2,>=0.12; python_version < \"3.8\"\r\n  Using cached importlib_metadata-1.5.0-py2.py3-none-any.whl (30 kB)\r\nCollecting zipp>=0.4; python_version < \"3.8\"\r\n  Using cached zipp-3.0.0-py3-none-any.whl (4.8 kB)\r\nInstalling collected packages: distlib, six, filelock, appdirs, zipp, importlib-resources, importlib-metadata, virtualenv\r\nSuccessfully installed appdirs-1.4.3 distlib-0.3.0 filelock-3.0.12 importlib-metadata-1.5.0 importlib-resources-1.1.0 six-1.14.0 virtualenv-20.0.7 zipp-3.0.0\r\n+ venv/bin/virtualenv venv2 -ppython2\r\ncreated virtual environment CPython2.7.17.final.0-64 in 169ms\r\n  creator CPython2Posix(dest=/tmp/x/venv2, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/asottile/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator\r\n+ venv2/bin/pip install -e ./pkg1\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nObtaining file:///tmp/x/pkg1\r\nInstalling collected packages: pkg1\r\n  Running setup.py develop for pkg1\r\nSuccessfully installed pkg1\r\n+ venv2/bin/python -c '\r\nimport pkg_resources; print(list(pkg_resources.iter_entry_points(\"myep\")))\r\n'\r\n[]\r\n```\r\n\r\n### changing the `>` to a `<`\r\n\r\n```console\r\n$ ./t.sh \r\n+ rm -rf venv venv2 pkg1\r\n+ mkdir pkg1\r\n+ cat\r\n+ virtualenv venv\r\ncreated virtual environment CPython3.6.9.final.0-64 in 191ms\r\n  creator CPython3Posix(dest=/tmp/x/venv, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/home/asottile/.local/share/virtualenv/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n+ venv/bin/pip install 'virtualenv<20.0.5'\r\nCollecting virtualenv<20.0.5\r\n  Using cached virtualenv-20.0.4-py2.py3-none-any.whl (4.6 MB)\r\nCollecting six<2,>=1.9.0\r\n  Using cached six-1.14.0-py2.py3-none-any.whl (10 kB)\r\nProcessing /home/asottile/.cache/pip/wheels/6e/e8/db/c73dae4867666e89ba3cfbc4b5c092446f0e584eda6f409cbb/distlib-0.3.0-cp36-none-any.whl\r\nCollecting filelock<4,>=3.0.0\r\n  Using cached filelock-3.0.12-py3-none-any.whl (7.6 kB)\r\nCollecting importlib-resources<2,>=1.0; python_version < \"3.7\"\r\n  Using cached importlib_resources-1.1.0-py2.py3-none-any.whl (30 kB)\r\nCollecting importlib-metadata<2,>=0.12; python_version < \"3.8\"\r\n  Using cached importlib_metadata-1.5.0-py2.py3-none-any.whl (30 kB)\r\nCollecting appdirs<2,>=1.4.3\r\n  Using cached appdirs-1.4.3-py2.py3-none-any.whl (12 kB)\r\nCollecting zipp>=0.4; python_version < \"3.8\"\r\n  Using cached zipp-3.0.0-py3-none-any.whl (4.8 kB)\r\nInstalling collected packages: six, distlib, filelock, zipp, importlib-resources, importlib-metadata, appdirs, virtualenv\r\nSuccessfully installed appdirs-1.4.3 distlib-0.3.0 filelock-3.0.12 importlib-metadata-1.5.0 importlib-resources-1.1.0 six-1.14.0 virtualenv-20.0.4 zipp-3.0.0\r\n+ venv/bin/virtualenv venv2 -ppython2\r\ncreated virtual environment in 179ms CPython2Posix(dest=/tmp/x/venv2, clear=False, global=False) with seeder FromAppData pip=latest setuptools=latest wheel=latest app_data_dir=/home/asottile/.local/share/virtualenv/seed-v1 via=copy\r\n+ venv2/bin/pip install -e ./pkg1\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nObtaining file:///tmp/x/pkg1\r\nInstalling collected packages: pkg1\r\n  Running setup.py develop for pkg1\r\nSuccessfully installed pkg1\r\n+ venv2/bin/python -c '\r\nimport pkg_resources; print(list(pkg_resources.iter_entry_points(\"myep\")))\r\n'\r\n[EntryPoint.parse('myexp = os')]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1683", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1683/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1683/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1683/events", "html_url": "https://github.com/pypa/virtualenv/issues/1683", "id": 573898411, "node_id": "MDU6SXNzdWU1NzM4OTg0MTE=", "number": 1683, "title": "Unable to exec py27 tox suite on macOS/Homebrew", "user": {"login": "jd", "id": 2644, "node_id": "MDQ6VXNlcjI2NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jd", "html_url": "https://github.com/jd", "followers_url": "https://api.github.com/users/jd/followers", "following_url": "https://api.github.com/users/jd/following{/other_user}", "gists_url": "https://api.github.com/users/jd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jd/subscriptions", "organizations_url": "https://api.github.com/users/jd/orgs", "repos_url": "https://api.github.com/users/jd/repos", "events_url": "https://api.github.com/users/jd/events{/privacy}", "received_events_url": "https://api.github.com/users/jd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gaborbernat", "id": 690238, "node_id": "MDQ6VXNlcjY5MDIzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/690238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaborbernat", "html_url": "https://github.com/gaborbernat", "followers_url": "https://api.github.com/users/gaborbernat/followers", "following_url": "https://api.github.com/users/gaborbernat/following{/other_user}", "gists_url": "https://api.github.com/users/gaborbernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaborbernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaborbernat/subscriptions", "organizations_url": "https://api.github.com/users/gaborbernat/orgs", "repos_url": "https://api.github.com/users/gaborbernat/repos", "events_url": "https://api.github.com/users/gaborbernat/events{/privacy}", "received_events_url": "https://api.github.com/users/gaborbernat/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-02T11:06:34Z", "updated_at": "2020-03-10T10:33:27Z", "closed_at": "2020-03-10T10:33:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n$ tox -e py27 -- -k test_creator\r\n[...]\r\n\r\n====================================================================================== ERRORS =======================================================================================\r\n____________________________________________________ ERROR collecting tests/unit/discovery/py_info/test_py_info_exe_based_of.py _____________________________________________________\r\ntests/unit/discovery/py_info/test_py_info_exe_based_of.py:20: in <module>\r\n    BASE = {str(Path(CURRENT.executable).parent.relative_to(Path(CURRENT.prefix))), \".\"}\r\n/usr/local/lib/python2.7/site-packages/pathlib2/__init__.py:1132: in relative_to\r\n    .format(str(self), str(formatted)))\r\nE   ValueError: '/usr/local/opt/python@2/bin' does not start with '/usr/local/Cellar/python@2/2.7.17_1/Frameworks/Python.framework/Versions/2.7'\r\n-------------------------------------------------------- generated xml file: /Users/jd/Source/virtualenv/.tox/junit.py27.xml --------------------------------------------------------\r\n============================================================================== short test summary info ==============================================================================\r\nFAILED tests/unit/discovery/py_info/test_py_info_exe_based_of.py - ValueError: '/usr/local/opt/python@2/bin' does not start with '/usr/local/Cellar/python@2/2.7.17_1/Frameworks/P...\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n====================================================================== 134 deselected, 1 error in 0.45 seconds ======================================================================\r\nCoverage.py warning: Module /Users/jd/Source/virtualenv/.tox/py27/lib/python2.7/site-packages/virtualenv was never imported. (module-not-imported)\r\nCoverage.py warning: No data was collected. (no-data-collected)\r\nERROR: InvocationError for command /Users/jd/Source/virtualenv/.tox/py27/bin/python -m coverage run -m pytest --junitxml .tox/junit.py27.xml tests -k test_creator (exited with code 2)\r\n______________________________________________________________________________________ summary ______________________________________________________________________________________\r\nERROR:   py27: commands failed\r\n```\r\n\r\nI think the problem is that the path is a symlink:\r\n\r\n```\r\n$ ls -dl /usr/local/opt/python@2\r\nlrwxr-xr-x  1 jd  admin  27 Dec 29 19:09 /usr/local/opt/python@2 -> ../Cellar/python@2/2.7.17_1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1682", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1682/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1682/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1682/events", "html_url": "https://github.com/pypa/virtualenv/issues/1682", "id": 573466911, "node_id": "MDU6SXNzdWU1NzM0NjY5MTE=", "number": 1682, "title": "[20.0.5+] 280ms overhead on python startup", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}, {"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-03-01T02:52:45Z", "updated_at": "2020-03-04T16:47:17Z", "closed_at": "2020-03-04T15:59:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nThe changes to `site.py` introduce an (unacceptable imo) 280ms startup penalty under python 2.x\r\n\r\nI created virtualenvs via the following\r\n\r\n```\r\nrm -rf venv venv_20_0_4 20_0_5\r\nvirtualenv venv\r\nvenv/bin/pip install virtualenv==20.0.4\r\nvenv/bin/virtualenv venv_20_0_4 -p python2\r\nvenv/bin/pip install virtualenv==20.0.5\r\nvenv/bin/virtualenv venv_20_0_5 -p python2\r\n```\r\n\r\ncomparing the startup time between the two:\r\n\r\n```console\r\n$ time venv_20_0_4/bin/python -c ''\r\n\r\nreal\t0m0.011s\r\nuser\t0m0.005s\r\nsys\t0m0.005s\r\n$ time venv_20_0_5/bin/python -c ''\r\n\r\nreal\t0m0.291s\r\nuser\t0m0.214s\r\nsys\t0m0.027s\r\n```\r\n\r\nthis is (almost certainly) due to the import of `setuptools` in the critical path:\r\n\r\n```console\r\n$ time venv_20_0_4/bin/python -c 'import setuptools'\r\n\r\nreal\t0m0.212s\r\nuser\t0m0.187s\r\nsys\t0m0.025s\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1681", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1681/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1681/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1681/events", "html_url": "https://github.com/pypa/virtualenv/issues/1681", "id": 573075943, "node_id": "MDU6SXNzdWU1NzMwNzU5NDM=", "number": 1681, "title": "Did the '--no-site-packages' flag recently disappear?", "user": {"login": "gvanrossum", "id": 2894642, "node_id": "MDQ6VXNlcjI4OTQ2NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/2894642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gvanrossum", "html_url": "https://github.com/gvanrossum", "followers_url": "https://api.github.com/users/gvanrossum/followers", "following_url": "https://api.github.com/users/gvanrossum/following{/other_user}", "gists_url": "https://api.github.com/users/gvanrossum/gists{/gist_id}", "starred_url": "https://api.github.com/users/gvanrossum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gvanrossum/subscriptions", "organizations_url": "https://api.github.com/users/gvanrossum/orgs", "repos_url": "https://api.github.com/users/gvanrossum/repos", "events_url": "https://api.github.com/users/gvanrossum/events{/privacy}", "received_events_url": "https://api.github.com/users/gvanrossum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-29T00:13:38Z", "updated_at": "2020-03-06T14:48:36Z", "closed_at": "2020-02-29T00:29:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Some readthedocs jobs recently started failing with a complaint from virtualenv about `--no-site-packages` (https://github.com/readthedocs/readthedocs.org/issues/6725). It seems readthedocs [passes this flag unless `--system-site-packages` is requested](https://github.com/readthedocs/readthedocs.org/blame/master/readthedocs/doc_builder/python_environments.py#L293). From the logs it seems there used to be a flag by this name, and then its behavior was made the default (around 2012?), but the flag was kept. Did it recently get removed? I can't quite nail it by grepping the logs, but this code has apparently been in readthedocs for ages.\r\n\r\nPython 3.7 on Linux.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1680", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1680/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1680/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1680/events", "html_url": "https://github.com/pypa/virtualenv/issues/1680", "id": 572427247, "node_id": "MDU6SXNzdWU1NzI0MjcyNDc=", "number": 1680, "title": "add activate.ps1 for unix as powershell core 6 and powershell 7 is more common", "user": {"login": "jetersen", "id": 1661688, "node_id": "MDQ6VXNlcjE2NjE2ODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1661688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jetersen", "html_url": "https://github.com/jetersen", "followers_url": "https://api.github.com/users/jetersen/followers", "following_url": "https://api.github.com/users/jetersen/following{/other_user}", "gists_url": "https://api.github.com/users/jetersen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jetersen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jetersen/subscriptions", "organizations_url": "https://api.github.com/users/jetersen/orgs", "repos_url": "https://api.github.com/users/jetersen/repos", "events_url": "https://api.github.com/users/jetersen/events{/privacy}", "received_events_url": "https://api.github.com/users/jetersen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82335, "node_id": "MDU6TGFiZWw4MjMzNQ==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/enhancement", "name": "enhancement", "color": "87e5bf", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-27T23:35:18Z", "updated_at": "2020-02-28T06:08:34Z", "closed_at": "2020-02-27T23:38:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**What's the problem this feature will solve?**\r\nThere is no activate.ps1 for powershell on unix\r\n\r\n**Describe the solution you'd like**\r\ngenerate the activate.ps1 on unix as well\r\n\r\nI tried copying over an activate.ps1, seems every works expect for the `__VIRTUAL_PROMPT__`\r\n\r\n<!-- Provide examples of real world use cases that this would enable and how it solves the problem described above. -->\r\n\r\nfrom pwsh run `./bin/activate.ps1`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1678", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1678/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1678/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1678/events", "html_url": "https://github.com/pypa/virtualenv/issues/1678", "id": 572379585, "node_id": "MDU6SXNzdWU1NzIzNzk1ODU=", "number": 1678, "title": "virtualenv v20 breaks poetry (and presumably untold other software)", "user": {"login": "Drarok", "id": 55830, "node_id": "MDQ6VXNlcjU1ODMw", "avatar_url": "https://avatars0.githubusercontent.com/u/55830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Drarok", "html_url": "https://github.com/Drarok", "followers_url": "https://api.github.com/users/Drarok/followers", "following_url": "https://api.github.com/users/Drarok/following{/other_user}", "gists_url": "https://api.github.com/users/Drarok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Drarok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Drarok/subscriptions", "organizations_url": "https://api.github.com/users/Drarok/orgs", "repos_url": "https://api.github.com/users/Drarok/repos", "events_url": "https://api.github.com/users/Drarok/events{/privacy}", "received_events_url": "https://api.github.com/users/Drarok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-27T21:45:12Z", "updated_at": "2020-02-27T23:16:07Z", "closed_at": "2020-02-27T23:16:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\n[Poetry](https://github.com/python-poetry/poetry) is a dependency and packaging management tool which is [seemingly broken](https://github.com/python-poetry/poetry/issues/2093) by virtualenv v20.\r\n\r\nI'm a user of CircleCI who appear to have updated their base images to use the latest version of virtualenv which causes poetry to break.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: CircleCI Python images\r\n- ~~``pip list``~~: unavailable\r\n\r\n**Output seen when attempting to install dependencies**\r\n\r\n```console\r\n$ poetry install\r\nInstalling dependencies from lock file\r\n[ImportError]\r\ncannot import name create_environment\r\n```\r\n\r\n---\r\n\r\nI would expect a breaking change like this to first issue deprecation warnings before removing an object/import/etc.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1675", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1675/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1675/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1675/events", "html_url": "https://github.com/pypa/virtualenv/issues/1675", "id": 571947827, "node_id": "MDU6SXNzdWU1NzE5NDc4Mjc=", "number": 1675, "title": "Python 3.9 + 20.0.6: No module named pip", "user": {"login": "hugovk", "id": 1324225, "node_id": "MDQ6VXNlcjEzMjQyMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugovk", "html_url": "https://github.com/hugovk", "followers_url": "https://api.github.com/users/hugovk/followers", "following_url": "https://api.github.com/users/hugovk/following{/other_user}", "gists_url": "https://api.github.com/users/hugovk/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugovk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugovk/subscriptions", "organizations_url": "https://api.github.com/users/hugovk/orgs", "repos_url": "https://api.github.com/users/hugovk/repos", "events_url": "https://api.github.com/users/hugovk/events{/privacy}", "received_events_url": "https://api.github.com/users/hugovk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-27T09:47:32Z", "updated_at": "2020-02-27T10:10:56Z", "closed_at": "2020-02-27T09:56:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Issue**\r\n\r\nDescribe what's the expected behaviour and what you're observing.\r\n\r\nUsing tox with Python `3.9-dev` and `nightly` on Travis CI is failing with \"No module named pip\".\r\n\r\nThis started with virtualenv 20.0.6. It worked fine with virtualenv 20.0.5.\r\n\r\nPython 3.6-3.8 and their `-dev` versions are also fine with 20.0.6.\r\n\r\n```yml\r\nlanguage: python\r\ncache:\r\n  pip: true\r\n  directories:\r\n    - $HOME/.cache/pre-commit\r\n\r\nmatrix:\r\n  fast_finish: true\r\n  include:\r\n    - python: nightly\r\n    - python: 3.9-dev\r\n    - python: 3.8-dev\r\n    - python: 3.7-dev\r\n    - python: 3.6-dev\r\n    - python: 3.8\r\n      env: TOXENV=lint\r\n    - python: 3.8\r\n    - python: 3.7\r\n    - python: 3.6\r\n\r\ninstall:\r\n  - pip install -U pip\r\n  - pip install -U tox-travis\r\n\r\nscript:\r\n  - tox\r\n```\r\n\r\n```\r\npy39 create: /home/travis/build/hugovk/pypistats/.tox/py39\r\npy39 inst: /home/travis/build/hugovk/pypistats/.tox/.tmp/package/1/pypistats-0.10.2.dev2.zip\r\nERROR: invocation failed (exit code 1), logfile: /home/travis/build/hugovk/pypistats/.tox/py39/log/py39-1.log\r\n================================== log start ===================================\r\nProcessing ./.tox/.tmp/package/1/pypistats-0.10.2.dev2.zip\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Installing backend dependencies: started\r\n  Installing backend dependencies: finished with status 'done'\r\n    Preparing wheel metadata: started\r\n    Preparing wheel metadata: finished with status 'error'\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/travis/build/hugovk/pypistats/.tox/py39/bin/python /home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel /tmp/tmpqsagygxr\r\n         cwd: /tmp/pip-req-build-citr7lc7\r\n    Complete output (42 lines):\r\n    /home/travis/build/hugovk/pypistats/.tox/py39/bin/python: No module named pip\r\n    Traceback (most recent call last):\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/installer.py\", line 128, in fetch_build_egg\r\n        subprocess.check_call(cmd)\r\n      File \"/opt/python/3.9-dev/lib/python3.9/subprocess.py\", line 372, in check_call\r\n        raise CalledProcessError(retcode, cmd)\r\n    subprocess.CalledProcessError: Command '['/home/travis/build/hugovk/pypistats/.tox/py39/bin/python', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmp5dnb6xs7', '--quiet', 'setuptools_scm']' returned non-zero exit status 1.\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py\", line 257, in <module>\r\n        main()\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py\", line 240, in main\r\n        json_out['return_val'] = hook(**hook_input['kwargs'])\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py\", line 110, in prepare_metadata_for_build_wheel\r\n        return hook(metadata_directory, config_settings)\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/build_meta.py\", line 158, in prepare_metadata_for_build_wheel\r\n        self.run_setup()\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/build_meta.py\", line 249, in run_setup\r\n        super(_BuildMetaLegacyBackend,\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/build_meta.py\", line 143, in run_setup\r\n        exec(compile(code, __file__, 'exec'), locals())\r\n      File \"setup.py\", line 13, in <module>\r\n        setup(\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/__init__.py\", line 143, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/__init__.py\", line 138, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/dist.py\", line 718, in fetch_build_eggs\r\n        resolved_dists = pkg_resources.working_set.resolve(\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 781, in resolve\r\n        dist = best[req.key] = env.best_match(\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 1066, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 1078, in obtain\r\n        return installer(requirement)\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/dist.py\", line 777, in fetch_build_egg\r\n        return fetch_build_egg(self, req)\r\n      File \"/home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/setuptools/installer.py\", line 130, in fetch_build_egg\r\n        raise DistutilsError(str(e))\r\n    distutils.errors.DistutilsError: Command '['/home/travis/build/hugovk/pypistats/.tox/py39/bin/python', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmp5dnb6xs7', '--quiet', 'setuptools_scm']' returned non-zero exit status 1.\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /home/travis/build/hugovk/pypistats/.tox/py39/bin/python /home/travis/build/hugovk/pypistats/.tox/py39/lib/python3.9/site-packages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel /tmp/tmpqsagygxr Check the logs for full command output.\r\n\r\n=================================== log end ====================================\r\n```\r\n\r\nhttps://travis-ci.org/hugovk/pypistats/builds/655722106\r\n\r\nLast passing build: https://travis-ci.org/hugovk/pypistats/builds/654501366\r\n\r\nCan reproduce locally with Python 3.9.0a2+ and 20.0.6.\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu 16.04.6 LTS Xenial\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\n$ pip list\r\nPackage          Version   \r\n---------------- ----------\r\natomicwrites     1.3.0     \r\nattrs            19.3.0    \r\ncertifi          2019.9.11 \r\nfilelock         3.0.12    \r\nmock             3.0.5     \r\nmore-itertools   7.2.0     \r\nnose             1.3.7     \r\nnumpy            1.17.2    \r\npackaging        19.2      \r\npip              20.0.2    \r\npipenv           2018.11.26\r\npluggy           0.13.0    \r\npy               1.8.0     \r\npyparsing        2.4.2     \r\npytest           5.2.1     \r\nsetuptools       41.4.0    \r\nsix              1.14.0    \r\ntoml             0.10.0    \r\ntox              3.14.5    \r\ntox-travis       0.12      \r\nvirtualenv       16.7.5    \r\nvirtualenv-clone 0.5.3     \r\nwcwidth          0.1.7     \r\nwheel            0.33.6 \r\n```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\n\r\n```console\r\n\r\n```\r\n\r\nUsing tox, how should I run this?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1674", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1674/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1674/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1674/events", "html_url": "https://github.com/pypa/virtualenv/issues/1674", "id": 571609015, "node_id": "MDU6SXNzdWU1NzE2MDkwMTU=", "number": 1674, "title": "AttributeError: 'str' object has no attribute 'exists'", "user": {"login": "milind-shakya-sp", "id": 43146933, "node_id": "MDQ6VXNlcjQzMTQ2OTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/43146933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/milind-shakya-sp", "html_url": "https://github.com/milind-shakya-sp", "followers_url": "https://api.github.com/users/milind-shakya-sp/followers", "following_url": "https://api.github.com/users/milind-shakya-sp/following{/other_user}", "gists_url": "https://api.github.com/users/milind-shakya-sp/gists{/gist_id}", "starred_url": "https://api.github.com/users/milind-shakya-sp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/milind-shakya-sp/subscriptions", "organizations_url": "https://api.github.com/users/milind-shakya-sp/orgs", "repos_url": "https://api.github.com/users/milind-shakya-sp/repos", "events_url": "https://api.github.com/users/milind-shakya-sp/events{/privacy}", "received_events_url": "https://api.github.com/users/milind-shakya-sp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-26T19:34:47Z", "updated_at": "2020-03-04T16:47:26Z", "closed_at": "2020-02-27T23:26:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nDescribe what's the expected behaviour and what you're observing.\r\nvirtualenv throws an attributeerror when \r\n```python -m virtualenv venv -ppython3 --with-traceback``` is run\r\n\r\n**Environment**\r\n\r\nProvide at least:\r\n- OS: Ubuntu bionic\r\n- ``pip list`` of the host python where ``virtualenv`` is installed:\r\n\r\n```console\r\napqdirs==1.4.3\r\naspy.yaml==1.3.0\r\ncached-property==1.5.1\r\ncfgv==3.1.0\r\ndistlib==0.3.0\r\nfilelock==3.0.12\r\nidentify==1.4.11\r\nimportlib-metadata==1.5.0\r\nimportlib-resources==1.0.2\r\nnodeenv==1.3.5\r\npre-commit==1.11.1\r\nPyYAML==5.3\r\nsix==1.14.0\r\ntoml==0.10.0\r\nvirtualenv==20.0.7\r\nzipp==3.0.0\r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\nMake sure to run the creation with `-vvv --with-traceback`:\r\nPython: 3.6.8\r\nvirtualenv: 20.0.7\r\n\r\n```console\r\npython -m virtualenv venv -ppython3 --with-traceback\r\n[2020-02-26T19:04:25.421Z] Traceback (most recent call last):\r\n[2020-02-26T19:04:25.421Z]   File \"/opt/Python-3.6.8/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n[2020-02-26T19:04:25.421Z]     \"_main_\", mod_spec)\r\n[2020-02-26T19:04:25.421Z]   File \"/opt/Python-3.6.8/lib/python3.6/runpy.py\", line 85, in _run_code\r\n[2020-02-26T19:04:25.421Z]     exec(code, run_globals)\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/_main_.py\", line 61, i\r\nn <module>\r\n[2020-02-26T19:04:25.421Z]     run_with_catch()\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/_main_.py\", line 50, i\r\nn run_with_catch\r\n[2020-02-26T19:04:25.421Z]     run(args, options)\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/_main_.py\", line 20, i\r\nn run\r\n[2020-02-26T19:04:25.421Z]     session = cli_run(args, options)\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/run/_init_.py\", line 2\r\n7, in cli_run\r\n[2020-02-26T19:04:25.421Z]     session = session_via_cli(args, options)\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/run/_init_.py\", line 3\r\n7, in session_via_cli\r\n[2020-02-26T19:04:25.421Z]     creator, seeder, activators = tuple(e.create(parser._options) for e in parser._elements)  # create type\r\ns\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/run/_init_.py\", line 3\r\n7, in <genexpr>\r\n[2020-02-26T19:04:25.421Z]     creator, seeder, activators = tuple(e.create(parser._options) for e in parser._elements)  # create type\r\ns\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/run/plugin/seeders.py\",\r\nline 31, in create\r\n[2020-02-26T19:04:25.421Z]     return self._impl_class(options)\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/seed/via_app_data/via_ap\r\np_data.py\", line 19, in _init_\r\n[2020-02-26T19:04:25.421Z]     super(FromAppData, self)._init_(options)\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/seed/embed/base_embed.py\r\n\", line 21, in _init_\r\n[2020-02-26T19:04:25.421Z]     self.extra_search_dir = [i.resolve() for i in options.extra_search_dir if i.exists()]\r\n[2020-02-26T19:04:25.421Z]   File \"/tmp/jenkins---PR-4836-12/precommit/lib/python3.6/site-packages/virtualenv/seed/embed/base_embed.py\r\n\", line 21, in <listcomp>\r\n[2020-02-26T19:04:25.421Z]     self.extra_search_dir = [i.resolve() for i in options.extra_search_dir if i.exists()]\r\n[2020-02-26T19:04:25.421Z] AttributeError: 'str' object has no attribute 'exists'\r\n[2020-02-26T19:04:25.421Z] ERROR: InvocationError for command /tmp/jenkins---PR-4836-12/precommit/bin/python -m virtualenv venv -ppyth\r\non3 --with-traceback (exited with code 1)\r\n[2020-02-26T19:04:25.421Z] ___________________________________ summary ____________________________________\r\n[2020-02-26T19:04:25.421Z] ERROR:   precommit: commands failed\r\nscript returned exit code 1\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1670", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1670/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1670/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1670/events", "html_url": "https://github.com/pypa/virtualenv/issues/1670", "id": 571442210, "node_id": "MDU6SXNzdWU1NzE0NDIyMTA=", "number": 1670, "title": "sys.path rewrite in Python 2 regression", "user": {"login": "jd", "id": 2644, "node_id": "MDQ6VXNlcjI2NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jd", "html_url": "https://github.com/jd", "followers_url": "https://api.github.com/users/jd/followers", "following_url": "https://api.github.com/users/jd/following{/other_user}", "gists_url": "https://api.github.com/users/jd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jd/subscriptions", "organizations_url": "https://api.github.com/users/jd/orgs", "repos_url": "https://api.github.com/users/jd/repos", "events_url": "https://api.github.com/users/jd/events{/privacy}", "received_events_url": "https://api.github.com/users/jd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}, {"id": 1118293621, "node_id": "MDU6TGFiZWwxMTE4MjkzNjIx", "url": "https://api.github.com/repos/pypa/virtualenv/labels/help-wanted", "name": "help-wanted", "color": "91ffc2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-02-26T14:53:02Z", "updated_at": "2020-03-03T16:47:02Z", "closed_at": "2020-03-03T16:47:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Version >= 20.0.0 of virtualenv changed the way `sys.path` is modified by the `site.py` file (at least for Linux). That breaks at least one of our test cases.\r\n\r\nWhen `PYTHONPATH` is set to a directory that is inside virtualenv and starts with `sys.prefix` it's rewritten to target the `sys.base_prefix`.\r\n\r\nThe problem is that is the directory might not be part of the standard library nor install in pyenv. This is our case since we're using tox to install our library in the virtualenv and then setting PYTHONPATH to a subdirectory somewhere in this installed package.\r\n\r\nIIRC the culprit\r\nhttps://github.com/pypa/virtualenv/blob/master/src/virtualenv/create/via_global_ref/builtin/python2/site.py#L96-L97", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1669", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1669/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1669/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1669/events", "html_url": "https://github.com/pypa/virtualenv/issues/1669", "id": 571440801, "node_id": "MDU6SXNzdWU1NzE0NDA4MDE=", "number": 1669, "title": "pip install break with 20.0.6 within virtualenv", "user": {"login": "La0", "id": 101004, "node_id": "MDQ6VXNlcjEwMTAwNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/101004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/La0", "html_url": "https://github.com/La0", "followers_url": "https://api.github.com/users/La0/followers", "following_url": "https://api.github.com/users/La0/following{/other_user}", "gists_url": "https://api.github.com/users/La0/gists{/gist_id}", "starred_url": "https://api.github.com/users/La0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/La0/subscriptions", "organizations_url": "https://api.github.com/users/La0/orgs", "repos_url": "https://api.github.com/users/La0/repos", "events_url": "https://api.github.com/users/La0/events{/privacy}", "received_events_url": "https://api.github.com/users/La0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-02-26T14:51:05Z", "updated_at": "2020-03-05T08:11:28Z", "closed_at": "2020-03-05T08:11:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Issue**\r\n\r\nInstalling [black](https://github.com/psf/black) from source in a new virtualenv does not work anymore, and throws an error `No module named pip`\r\n\r\n**Environment**\r\n\r\nDocker image `python:3.7`\r\n\r\n  ```console\r\nPackage            Version\r\n------------------ -------\r\nappdirs            1.4.3  \r\ndistlib            0.3.0  \r\nfilelock           3.0.12 \r\nimportlib-metadata 1.5.0  \r\npip                20.0.2 \r\nsetuptools         45.2.0 \r\nsix                1.14.0 \r\nvirtualenv         20.0.6 \r\nwheel              0.34.2 \r\nzipp               3.0.0 \r\n  ```\r\n\r\n**Output of the virtual environment creation**\r\n\r\n```console\r\nroot@db1408fc1aec:/# virtualenv x\r\ncreated virtual environment CPython3.7.6.final.0-64 in 414ms\r\n  creator CPython3Posix(dest=/x, clear=False, global=False)\r\n  seeder FromAppData(download=False, pip=latest, setuptools=latest, wheel=latest, via=copy, app_data_dir=/tmp/tmp9u90e1vn/seed-app-data/v1)\r\n  activators BashActivator,CShellActivator,FishActivator,PowerShellActivator,PythonActivator,XonshActivator\r\n```\r\n\r\nRunning the [following script](https://gist.github.com/La0/16ce11de25aaa8aae9068c53ac84683f/029adec2bfe0344ffe89cd3e34efed4b1a8980e7) in a `python:3.7` docker image, but the same would work when pinning `virtualenv==20.0.5`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pypa/virtualenv/issues/1668", "repository_url": "https://api.github.com/repos/pypa/virtualenv", "labels_url": "https://api.github.com/repos/pypa/virtualenv/issues/1668/labels{/name}", "comments_url": "https://api.github.com/repos/pypa/virtualenv/issues/1668/comments", "events_url": "https://api.github.com/repos/pypa/virtualenv/issues/1668/events", "html_url": "https://github.com/pypa/virtualenv/issues/1668", "id": 571369363, "node_id": "MDU6SXNzdWU1NzEzNjkzNjM=", "number": 1668, "title": "16.7.10 has been published but not tagged", "user": {"login": "jd", "id": 2644, "node_id": "MDQ6VXNlcjI2NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jd", "html_url": "https://github.com/jd", "followers_url": "https://api.github.com/users/jd/followers", "following_url": "https://api.github.com/users/jd/following{/other_user}", "gists_url": "https://api.github.com/users/jd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jd/subscriptions", "organizations_url": "https://api.github.com/users/jd/orgs", "repos_url": "https://api.github.com/users/jd/repos", "events_url": "https://api.github.com/users/jd/events{/privacy}", "received_events_url": "https://api.github.com/users/jd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 82333, "node_id": "MDU6TGFiZWw4MjMzMw==", "url": "https://api.github.com/repos/pypa/virtualenv/labels/bug", "name": "bug", "color": "cc1a20", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-26T13:34:06Z", "updated_at": "2020-02-26T13:55:34Z", "closed_at": "2020-02-26T13:55:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Version 16.7.10 has been published on PyPI: https://pypi.org/project/virtualenv/16.7.10/\r\n\r\nHowever there is no tag for this version in the git repository: https://github.com/pypa/virtualenv/tags", "performed_via_github_app": null, "score": 1.0}]}